var n9=Object.defineProperty;var a9=(t,e,r)=>e in t?n9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var s9=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var he=(t,e,r)=>a9(t,typeof e!="symbol"?e+"":e,r);var u8e=s9((jn,wn)=>{function o9(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function st(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c5={exports:{}},Bv={},u5={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=Symbol.for("react.element"),i9=Symbol.for("react.portal"),l9=Symbol.for("react.fragment"),c9=Symbol.for("react.strict_mode"),u9=Symbol.for("react.profiler"),d9=Symbol.for("react.provider"),f9=Symbol.for("react.context"),m9=Symbol.for("react.forward_ref"),h9=Symbol.for("react.suspense"),p9=Symbol.for("react.memo"),g9=Symbol.for("react.lazy"),ZE=Symbol.iterator;function y9(t){return t===null||typeof t!="object"?null:(t=ZE&&t[ZE]||t["@@iterator"],typeof t=="function"?t:null)}var d5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f5=Object.assign,m5={};function du(t,e,r){this.props=t,this.context=e,this.refs=m5,this.updater=r||d5}du.prototype.isReactComponent={};du.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};du.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function h5(){}h5.prototype=du.prototype;function AI(t,e,r){this.props=t,this.context=e,this.refs=m5,this.updater=r||d5}var kI=AI.prototype=new h5;kI.constructor=AI;f5(kI,du.prototype);kI.isPureReactComponent=!0;var QE=Array.isArray,p5=Object.prototype.hasOwnProperty,II={current:null},g5={key:!0,ref:!0,__self:!0,__source:!0};function y5(t,e,r){var n,a={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)p5.call(e,n)&&!g5.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:_m,type:t,key:s,ref:i,props:a,_owner:II.current}}function b9(t,e){return{$$typeof:_m,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function TI(t){return typeof t=="object"&&t!==null&&t.$$typeof===_m}function x9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var e2=/\/+/g;function qw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?x9(""+t.key):e.toString(36)}function Ap(t,e,r,n,a){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case _m:case i9:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+qw(i,0):n,QE(a)?(r="",t!=null&&(r=t.replace(e2,"$&/")+"/"),Ap(a,e,r,"",function(u){return u})):a!=null&&(TI(a)&&(a=b9(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(e2,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",QE(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+qw(s,l);i+=Ap(s,e,r,c,a)}else if(c=y9(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+qw(s,l++),i+=Ap(s,e,r,c,a);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function yh(t,e,r){if(t==null)return t;var n=[],a=0;return Ap(t,n,"","",function(s){return e.call(r,s,a++)}),n}function v9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zr={current:null},kp={transition:null},j9={ReactCurrentDispatcher:zr,ReactCurrentBatchConfig:kp,ReactCurrentOwner:II};function b5(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:yh,forEach:function(t,e,r){yh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return yh(t,function(){e++}),e},toArray:function(t){return yh(t,function(e){return e})||[]},only:function(t){if(!TI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=du;He.Fragment=l9;He.Profiler=u9;He.PureComponent=AI;He.StrictMode=c9;He.Suspense=h9;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j9;He.act=b5;He.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=f5({},t.props),a=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=II.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)p5.call(e,c)&&!g5.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:_m,type:t.type,key:a,ref:s,props:n,_owner:i}};He.createContext=function(t){return t={$$typeof:f9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:d9,_context:t},t.Consumer=t};He.createElement=y5;He.createFactory=function(t){var e=y5.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:m9,render:t}};He.isValidElement=TI;He.lazy=function(t){return{$$typeof:g9,_payload:{_status:-1,_result:t},_init:v9}};He.memo=function(t,e){return{$$typeof:p9,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=kp.transition;kp.transition={};try{t()}finally{kp.transition=e}};He.unstable_act=b5;He.useCallback=function(t,e){return zr.current.useCallback(t,e)};He.useContext=function(t){return zr.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return zr.current.useDeferredValue(t)};He.useEffect=function(t,e){return zr.current.useEffect(t,e)};He.useId=function(){return zr.current.useId()};He.useImperativeHandle=function(t,e,r){return zr.current.useImperativeHandle(t,e,r)};He.useInsertionEffect=function(t,e){return zr.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return zr.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return zr.current.useMemo(t,e)};He.useReducer=function(t,e,r){return zr.current.useReducer(t,e,r)};He.useRef=function(t){return zr.current.useRef(t)};He.useState=function(t){return zr.current.useState(t)};He.useSyncExternalStore=function(t,e,r){return zr.current.useSyncExternalStore(t,e,r)};He.useTransition=function(){return zr.current.useTransition()};He.version="18.3.1";u5.exports=He;var w=u5.exports;const U=st(w),Do=o9({__proto__:null,default:U},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w9=w,C9=Symbol.for("react.element"),N9=Symbol.for("react.fragment"),S9=Object.prototype.hasOwnProperty,A9=w9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k9={key:!0,ref:!0,__self:!0,__source:!0};function x5(t,e,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)S9.call(e,n)&&!k9.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:C9,type:t,key:s,ref:i,props:a,_owner:A9.current}}Bv.Fragment=N9;Bv.jsx=x5;Bv.jsxs=x5;c5.exports=Bv;var o=c5.exports,NN={},v5={exports:{}},Pn={},j5={exports:{}},w5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,_){var B=O.length;O.push(_);e:for(;0<B;){var Y=B-1>>>1,H=O[Y];if(0<a(H,_))O[Y]=_,O[B]=H,B=Y;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var _=O[0],B=O.pop();if(B!==_){O[0]=B;e:for(var Y=0,H=O.length,te=H>>>1;Y<te;){var fe=2*(Y+1)-1,ke=O[fe],ae=fe+1,X=O[ae];if(0>a(ke,B))ae<H&&0>a(X,ke)?(O[Y]=X,O[ae]=B,Y=ae):(O[Y]=ke,O[fe]=B,Y=fe);else if(ae<H&&0>a(X,B))O[Y]=X,O[ae]=B,Y=ae;else break e}}return _}function a(O,_){var B=O.sortIndex-_.sortIndex;return B!==0?B:O.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,h=!1,b=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var _=r(u);_!==null;){if(_.callback===null)n(u);else if(_.startTime<=O)n(u),_.sortIndex=_.expirationTime,e(c,_);else break;_=r(u)}}function N(O){if(b=!1,v(O),!h)if(r(c)!==null)h=!0,F(C);else{var _=r(u);_!==null&&z(N,_.startTime-O)}}function C(O,_){h=!1,b&&(b=!1,x(k),k=-1),p=!0;var B=m;try{for(v(_),f=r(c);f!==null&&(!(f.expirationTime>_)||O&&!D());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,m=f.priorityLevel;var H=Y(f.expirationTime<=_);_=t.unstable_now(),typeof H=="function"?f.callback=H:f===r(c)&&n(c),v(_)}else n(c);f=r(c)}if(f!==null)var te=!0;else{var fe=r(u);fe!==null&&z(N,fe.startTime-_),te=!1}return te}finally{f=null,m=B,p=!1}}var j=!1,S=null,k=-1,T=5,A=-1;function D(){return!(t.unstable_now()-A<T)}function P(){if(S!==null){var O=t.unstable_now();A=O;var _=!0;try{_=S(!0,O)}finally{_?M():(j=!1,S=null)}}else j=!1}var M;if(typeof y=="function")M=function(){y(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,R=$.port2;$.port1.onmessage=P,M=function(){R.postMessage(null)}}else M=function(){g(P,0)};function F(O){S=O,j||(j=!0,M())}function z(O,_){k=g(function(){O(t.unstable_now())},_)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,F(C))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var B=m;m=_;try{return O()}finally{m=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,_){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=m;m=O;try{return _()}finally{m=B}},t.unstable_scheduleCallback=function(O,_,B){var Y=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Y+B:Y):B=Y,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=B+H,O={id:d++,callback:_,priorityLevel:O,startTime:B,expirationTime:H,sortIndex:-1},B>Y?(O.sortIndex=B,e(u,O),r(c)===null&&O===r(u)&&(b?(x(k),k=-1):b=!0,z(N,B-Y))):(O.sortIndex=H,e(c,O),h||p||(h=!0,F(C))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var _=m;return function(){var B=m;m=_;try{return O.apply(this,arguments)}finally{m=B}}}})(w5);j5.exports=w5;var I9=j5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T9=w,An=I9;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C5=new Set,gf={};function dl(t,e){Dc(t,e),Dc(t+"Capture",e)}function Dc(t,e){for(gf[t]=e,t=0;t<e.length;t++)C5.add(e[t])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),SN=Object.prototype.hasOwnProperty,D9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,t2={},r2={};function E9(t){return SN.call(r2,t)?!0:SN.call(t2,t)?!1:D9.test(t)?r2[t]=!0:(t2[t]=!0,!1)}function P9(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function O9(t,e,r,n){if(e===null||typeof e>"u"||P9(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wr(t,e,r,n,a,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kr[t]=new Wr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kr[e]=new Wr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kr[t]=new Wr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kr[t]=new Wr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kr[t]=new Wr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kr[t]=new Wr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kr[t]=new Wr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kr[t]=new Wr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kr[t]=new Wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var DI=/[\-:]([a-z])/g;function EI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(DI,EI);kr[e]=new Wr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(DI,EI);kr[e]=new Wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(DI,EI);kr[e]=new Wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!1,!1)});kr.xlinkHref=new Wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function PI(t,e,r,n){var a=kr.hasOwnProperty(e)?kr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(O9(e,r,a,n)&&(r=null),n||a===null?E9(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var $s=T9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bh=Symbol.for("react.element"),Ll=Symbol.for("react.portal"),Fl=Symbol.for("react.fragment"),OI=Symbol.for("react.strict_mode"),AN=Symbol.for("react.profiler"),N5=Symbol.for("react.provider"),S5=Symbol.for("react.context"),_I=Symbol.for("react.forward_ref"),kN=Symbol.for("react.suspense"),IN=Symbol.for("react.suspense_list"),$I=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),A5=Symbol.for("react.offscreen"),n2=Symbol.iterator;function $u(t){return t===null||typeof t!="object"?null:(t=n2&&t[n2]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,Vw;function md(t){if(Vw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Vw=e&&e[1]||""}return`
`+Vw+t}var Uw=!1;function zw(t,e){if(!t||Uw)return"";Uw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Uw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?md(t):""}function _9(t){switch(t.tag){case 5:return md(t.type);case 16:return md("Lazy");case 13:return md("Suspense");case 19:return md("SuspenseList");case 0:case 2:case 15:return t=zw(t.type,!1),t;case 11:return t=zw(t.type.render,!1),t;case 1:return t=zw(t.type,!0),t;default:return""}}function TN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fl:return"Fragment";case Ll:return"Portal";case AN:return"Profiler";case OI:return"StrictMode";case kN:return"Suspense";case IN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S5:return(t.displayName||"Context")+".Consumer";case N5:return(t._context.displayName||"Context")+".Provider";case _I:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $I:return e=t.displayName||null,e!==null?e:TN(t.type)||"Memo";case Ks:e=t._payload,t=t._init;try{return TN(t(e))}catch{}}return null}function $9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return TN(e);case 8:return e===OI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function k5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function R9(t){var e=k5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xh(t){t._valueTracker||(t._valueTracker=R9(t))}function I5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=k5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function zb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function DN(t,e){var r=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function a2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Eo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function T5(t,e){e=e.checked,e!=null&&PI(t,"checked",e,!1)}function EN(t,e){T5(t,e);var r=Eo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?PN(t,e.type,r):e.hasOwnProperty("defaultValue")&&PN(t,e.type,Eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function s2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function PN(t,e,r){(e!=="number"||zb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var hd=Array.isArray;function tc(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Eo(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function ON(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function o2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(de(92));if(hd(r)){if(1<r.length)throw Error(de(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Eo(r)}}function D5(t,e){var r=Eo(e.value),n=Eo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function i2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _N(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vh,P5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vh=vh||document.createElement("div"),vh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Td={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M9=["Webkit","ms","Moz","O"];Object.keys(Td).forEach(function(t){M9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Td[e]=Td[t]})});function O5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Td.hasOwnProperty(t)&&Td[t]?(""+e).trim():e+"px"}function _5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=O5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var L9=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $N(t,e){if(e){if(L9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function RN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MN=null;function RI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var LN=null,rc=null,nc=null;function l2(t){if(t=Mm(t)){if(typeof LN!="function")throw Error(de(280));var e=t.stateNode;e&&(e=Wv(e),LN(t.stateNode,t.type,e))}}function $5(t){rc?nc?nc.push(t):nc=[t]:rc=t}function R5(){if(rc){var t=rc,e=nc;if(nc=rc=null,l2(t),e)for(t=0;t<e.length;t++)l2(e[t])}}function M5(t,e){return t(e)}function L5(){}var Ww=!1;function F5(t,e,r){if(Ww)return t(e,r);Ww=!0;try{return M5(t,e,r)}finally{Ww=!1,(rc!==null||nc!==null)&&(L5(),R5())}}function bf(t,e){var r=t.stateNode;if(r===null)return null;var n=Wv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(de(231,e,typeof r));return r}var FN=!1;if(Cs)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){FN=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{FN=!1}function F9(t,e,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Dd=!1,Wb=null,Hb=!1,BN=null,B9={onError:function(t){Dd=!0,Wb=t}};function q9(t,e,r,n,a,s,i,l,c){Dd=!1,Wb=null,F9.apply(B9,arguments)}function V9(t,e,r,n,a,s,i,l,c){if(q9.apply(this,arguments),Dd){if(Dd){var u=Wb;Dd=!1,Wb=null}else throw Error(de(198));Hb||(Hb=!0,BN=u)}}function fl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function B5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function c2(t){if(fl(t)!==t)throw Error(de(188))}function U9(t){var e=t.alternate;if(!e){if(e=fl(t),e===null)throw Error(de(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return c2(a),t;if(s===n)return c2(a),e;s=s.sibling}throw Error(de(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(de(189))}}if(r.alternate!==n)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?t:e}function q5(t){return t=U9(t),t!==null?V5(t):null}function V5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=V5(t);if(e!==null)return e;t=t.sibling}return null}var U5=An.unstable_scheduleCallback,u2=An.unstable_cancelCallback,z9=An.unstable_shouldYield,W9=An.unstable_requestPaint,Jt=An.unstable_now,H9=An.unstable_getCurrentPriorityLevel,MI=An.unstable_ImmediatePriority,z5=An.unstable_UserBlockingPriority,Gb=An.unstable_NormalPriority,G9=An.unstable_LowPriority,W5=An.unstable_IdlePriority,qv=null,Oa=null;function Y9(t){if(Oa&&typeof Oa.onCommitFiberRoot=="function")try{Oa.onCommitFiberRoot(qv,t,void 0,(t.current.flags&128)===128)}catch{}}var da=Math.clz32?Math.clz32:X9,K9=Math.log,J9=Math.LN2;function X9(t){return t>>>=0,t===0?32:31-(K9(t)/J9|0)|0}var jh=64,wh=4194304;function pd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=pd(l):(s&=i,s!==0&&(n=pd(s)))}else i=r&~a,i!==0?n=pd(i):s!==0&&(n=pd(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,s=e&-e,a>=s||a===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-da(e),a=1<<r,n|=t[r],e&=~a;return n}function Z9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q9(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-da(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=Z9(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function qN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H5(){var t=jh;return jh<<=1,!(jh&4194240)&&(jh=64),t}function Hw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $m(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-da(e),t[e]=r}function eW(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-da(r),s=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~s}}function LI(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-da(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var dt=0;function G5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y5,FI,K5,J5,X5,VN=!1,Ch=[],fo=null,mo=null,ho=null,xf=new Map,vf=new Map,eo=[],tW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d2(t,e){switch(t){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":xf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vf.delete(e.pointerId)}}function Mu(t,e,r,n,a,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},e!==null&&(e=Mm(e),e!==null&&FI(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function rW(t,e,r,n,a){switch(e){case"focusin":return fo=Mu(fo,t,e,r,n,a),!0;case"dragenter":return mo=Mu(mo,t,e,r,n,a),!0;case"mouseover":return ho=Mu(ho,t,e,r,n,a),!0;case"pointerover":var s=a.pointerId;return xf.set(s,Mu(xf.get(s)||null,t,e,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,vf.set(s,Mu(vf.get(s)||null,t,e,r,n,a)),!0}return!1}function Z5(t){var e=ji(t.target);if(e!==null){var r=fl(e);if(r!==null){if(e=r.tag,e===13){if(e=B5(r),e!==null){t.blockedOn=e,X5(t.priority,function(){K5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ip(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=UN(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);MN=n,r.target.dispatchEvent(n),MN=null}else return e=Mm(r),e!==null&&FI(e),t.blockedOn=r,!1;e.shift()}return!0}function f2(t,e,r){Ip(t)&&r.delete(e)}function nW(){VN=!1,fo!==null&&Ip(fo)&&(fo=null),mo!==null&&Ip(mo)&&(mo=null),ho!==null&&Ip(ho)&&(ho=null),xf.forEach(f2),vf.forEach(f2)}function Lu(t,e){t.blockedOn===e&&(t.blockedOn=null,VN||(VN=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,nW)))}function jf(t){function e(a){return Lu(a,t)}if(0<Ch.length){Lu(Ch[0],t);for(var r=1;r<Ch.length;r++){var n=Ch[r];n.blockedOn===t&&(n.blockedOn=null)}}for(fo!==null&&Lu(fo,t),mo!==null&&Lu(mo,t),ho!==null&&Lu(ho,t),xf.forEach(e),vf.forEach(e),r=0;r<eo.length;r++)n=eo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<eo.length&&(r=eo[0],r.blockedOn===null);)Z5(r),r.blockedOn===null&&eo.shift()}var ac=$s.ReactCurrentBatchConfig,Kb=!0;function aW(t,e,r,n){var a=dt,s=ac.transition;ac.transition=null;try{dt=1,BI(t,e,r,n)}finally{dt=a,ac.transition=s}}function sW(t,e,r,n){var a=dt,s=ac.transition;ac.transition=null;try{dt=4,BI(t,e,r,n)}finally{dt=a,ac.transition=s}}function BI(t,e,r,n){if(Kb){var a=UN(t,e,r,n);if(a===null)r1(t,e,n,Jb,r),d2(t,n);else if(rW(a,t,e,r,n))n.stopPropagation();else if(d2(t,n),e&4&&-1<tW.indexOf(t)){for(;a!==null;){var s=Mm(a);if(s!==null&&Y5(s),s=UN(t,e,r,n),s===null&&r1(t,e,n,Jb,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else r1(t,e,n,null,r)}}var Jb=null;function UN(t,e,r,n){if(Jb=null,t=RI(n),t=ji(t),t!==null)if(e=fl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=B5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jb=t,null}function Q5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H9()){case MI:return 1;case z5:return 4;case Gb:case G9:return 16;case W5:return 536870912;default:return 16}default:return 16}}var no=null,qI=null,Tp=null;function e4(){if(Tp)return Tp;var t,e=qI,r=e.length,n,a="value"in no?no.value:no.textContent,s=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[s-n];n++);return Tp=a.slice(t,1<n?1-n:void 0)}function Dp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nh(){return!0}function m2(){return!1}function On(t){function e(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nh:m2,this.isPropagationStopped=m2,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nh)},persist:function(){},isPersistent:Nh}),e}var fu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},VI=On(fu),Rm=Ft({},fu,{view:0,detail:0}),oW=On(Rm),Gw,Yw,Fu,Vv=Ft({},Rm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fu&&(Fu&&t.type==="mousemove"?(Gw=t.screenX-Fu.screenX,Yw=t.screenY-Fu.screenY):Yw=Gw=0,Fu=t),Gw)},movementY:function(t){return"movementY"in t?t.movementY:Yw}}),h2=On(Vv),iW=Ft({},Vv,{dataTransfer:0}),lW=On(iW),cW=Ft({},Rm,{relatedTarget:0}),Kw=On(cW),uW=Ft({},fu,{animationName:0,elapsedTime:0,pseudoElement:0}),dW=On(uW),fW=Ft({},fu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mW=On(fW),hW=Ft({},fu,{data:0}),p2=On(hW),pW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yW[t])?!!e[t]:!1}function UI(){return bW}var xW=Ft({},Rm,{key:function(t){if(t.key){var e=pW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UI,charCode:function(t){return t.type==="keypress"?Dp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vW=On(xW),jW=Ft({},Vv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g2=On(jW),wW=Ft({},Rm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UI}),CW=On(wW),NW=Ft({},fu,{propertyName:0,elapsedTime:0,pseudoElement:0}),SW=On(NW),AW=Ft({},Vv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kW=On(AW),IW=[9,13,27,32],zI=Cs&&"CompositionEvent"in window,Ed=null;Cs&&"documentMode"in document&&(Ed=document.documentMode);var TW=Cs&&"TextEvent"in window&&!Ed,t4=Cs&&(!zI||Ed&&8<Ed&&11>=Ed),y2=" ",b2=!1;function r4(t,e){switch(t){case"keyup":return IW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bl=!1;function DW(t,e){switch(t){case"compositionend":return n4(e);case"keypress":return e.which!==32?null:(b2=!0,y2);case"textInput":return t=e.data,t===y2&&b2?null:t;default:return null}}function EW(t,e){if(Bl)return t==="compositionend"||!zI&&r4(t,e)?(t=e4(),Tp=qI=no=null,Bl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return t4&&e.locale!=="ko"?null:e.data;default:return null}}var PW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PW[t.type]:e==="textarea"}function a4(t,e,r,n){$5(n),e=Xb(e,"onChange"),0<e.length&&(r=new VI("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pd=null,wf=null;function OW(t){p4(t,0)}function Uv(t){var e=Ul(t);if(I5(e))return t}function _W(t,e){if(t==="change")return e}var s4=!1;if(Cs){var Jw;if(Cs){var Xw="oninput"in document;if(!Xw){var v2=document.createElement("div");v2.setAttribute("oninput","return;"),Xw=typeof v2.oninput=="function"}Jw=Xw}else Jw=!1;s4=Jw&&(!document.documentMode||9<document.documentMode)}function j2(){Pd&&(Pd.detachEvent("onpropertychange",o4),wf=Pd=null)}function o4(t){if(t.propertyName==="value"&&Uv(wf)){var e=[];a4(e,wf,t,RI(t)),F5(OW,e)}}function $W(t,e,r){t==="focusin"?(j2(),Pd=e,wf=r,Pd.attachEvent("onpropertychange",o4)):t==="focusout"&&j2()}function RW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uv(wf)}function MW(t,e){if(t==="click")return Uv(e)}function LW(t,e){if(t==="input"||t==="change")return Uv(e)}function FW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ya=typeof Object.is=="function"?Object.is:FW;function Cf(t,e){if(ya(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!SN.call(e,a)||!ya(t[a],e[a]))return!1}return!0}function w2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function C2(t,e){var r=w2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=w2(r)}}function i4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?i4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function l4(){for(var t=window,e=zb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=zb(t.document)}return e}function WI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BW(t){var e=l4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&i4(r.ownerDocument.documentElement,r)){if(n!==null&&WI(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!t.extend&&s>n&&(a=n,n=s,s=a),a=C2(r,s);var i=C2(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qW=Cs&&"documentMode"in document&&11>=document.documentMode,ql=null,zN=null,Od=null,WN=!1;function N2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;WN||ql==null||ql!==zb(n)||(n=ql,"selectionStart"in n&&WI(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Od&&Cf(Od,n)||(Od=n,n=Xb(zN,"onSelect"),0<n.length&&(e=new VI("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ql)))}function Sh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Vl={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},Zw={},c4={};Cs&&(c4=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function zv(t){if(Zw[t])return Zw[t];if(!Vl[t])return t;var e=Vl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in c4)return Zw[t]=e[r];return t}var u4=zv("animationend"),d4=zv("animationiteration"),f4=zv("animationstart"),m4=zv("transitionend"),h4=new Map,S2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bo(t,e){h4.set(t,e),dl(e,[t])}for(var Qw=0;Qw<S2.length;Qw++){var e1=S2[Qw],VW=e1.toLowerCase(),UW=e1[0].toUpperCase()+e1.slice(1);Bo(VW,"on"+UW)}Bo(u4,"onAnimationEnd");Bo(d4,"onAnimationIteration");Bo(f4,"onAnimationStart");Bo("dblclick","onDoubleClick");Bo("focusin","onFocus");Bo("focusout","onBlur");Bo(m4,"onTransitionEnd");Dc("onMouseEnter",["mouseout","mouseover"]);Dc("onMouseLeave",["mouseout","mouseover"]);Dc("onPointerEnter",["pointerout","pointerover"]);Dc("onPointerLeave",["pointerout","pointerover"]);dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zW=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function A2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,V9(n,e,void 0,t),t.currentTarget=null}function p4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;A2(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;A2(a,l,u),s=c}}}if(Hb)throw t=BN,Hb=!1,BN=null,t}function St(t,e){var r=e[JN];r===void 0&&(r=e[JN]=new Set);var n=t+"__bubble";r.has(n)||(g4(e,t,2,!1),r.add(n))}function t1(t,e,r){var n=0;e&&(n|=4),g4(r,t,n,e)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Nf(t){if(!t[Ah]){t[Ah]=!0,C5.forEach(function(r){r!=="selectionchange"&&(zW.has(r)||t1(r,!1,t),t1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ah]||(e[Ah]=!0,t1("selectionchange",!1,e))}}function g4(t,e,r,n){switch(Q5(e)){case 1:var a=aW;break;case 4:a=sW;break;default:a=BI}r=a.bind(null,e,r,t),a=void 0,!FN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function r1(t,e,r,n,a){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=ji(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}F5(function(){var u=s,d=RI(r),f=[];e:{var m=h4.get(t);if(m!==void 0){var p=VI,h=t;switch(t){case"keypress":if(Dp(r)===0)break e;case"keydown":case"keyup":p=vW;break;case"focusin":h="focus",p=Kw;break;case"focusout":h="blur",p=Kw;break;case"beforeblur":case"afterblur":p=Kw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=h2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CW;break;case u4:case d4:case f4:p=dW;break;case m4:p=SW;break;case"scroll":p=oW;break;case"wheel":p=kW;break;case"copy":case"cut":case"paste":p=mW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=g2}var b=(e&4)!==0,g=!b&&t==="scroll",x=b?m!==null?m+"Capture":null:m;b=[];for(var y=u,v;y!==null;){v=y;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,x!==null&&(N=bf(y,x),N!=null&&b.push(Sf(y,N,v)))),g)break;y=y.return}0<b.length&&(m=new p(m,h,null,r,d),f.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&r!==MN&&(h=r.relatedTarget||r.fromElement)&&(ji(h)||h[Ns]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=u,h=h?ji(h):null,h!==null&&(g=fl(h),h!==g||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(b=h2,N="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=g2,N="onPointerLeave",x="onPointerEnter",y="pointer"),g=p==null?m:Ul(p),v=h==null?m:Ul(h),m=new b(N,y+"leave",p,r,d),m.target=g,m.relatedTarget=v,N=null,ji(d)===u&&(b=new b(x,y+"enter",h,r,d),b.target=v,b.relatedTarget=g,N=b),g=N,p&&h)t:{for(b=p,x=h,y=0,v=b;v;v=Al(v))y++;for(v=0,N=x;N;N=Al(N))v++;for(;0<y-v;)b=Al(b),y--;for(;0<v-y;)x=Al(x),v--;for(;y--;){if(b===x||x!==null&&b===x.alternate)break t;b=Al(b),x=Al(x)}b=null}else b=null;p!==null&&k2(f,m,p,b,!1),h!==null&&g!==null&&k2(f,g,h,b,!0)}}e:{if(m=u?Ul(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var C=_W;else if(x2(m))if(s4)C=LW;else{C=RW;var j=$W}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=MW);if(C&&(C=C(t,u))){a4(f,C,r,d);break e}j&&j(t,m,u),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&PN(m,"number",m.value)}switch(j=u?Ul(u):window,t){case"focusin":(x2(j)||j.contentEditable==="true")&&(ql=j,zN=u,Od=null);break;case"focusout":Od=zN=ql=null;break;case"mousedown":WN=!0;break;case"contextmenu":case"mouseup":case"dragend":WN=!1,N2(f,r,d);break;case"selectionchange":if(qW)break;case"keydown":case"keyup":N2(f,r,d)}var S;if(zI)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bl?r4(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(t4&&r.locale!=="ko"&&(Bl||k!=="onCompositionStart"?k==="onCompositionEnd"&&Bl&&(S=e4()):(no=d,qI="value"in no?no.value:no.textContent,Bl=!0)),j=Xb(u,k),0<j.length&&(k=new p2(k,t,null,r,d),f.push({event:k,listeners:j}),S?k.data=S:(S=n4(r),S!==null&&(k.data=S)))),(S=TW?DW(t,r):EW(t,r))&&(u=Xb(u,"onBeforeInput"),0<u.length&&(d=new p2("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}p4(f,e)})}function Sf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Xb(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=bf(t,r),s!=null&&n.unshift(Sf(t,s,a)),s=bf(t,e),s!=null&&n.push(Sf(t,s,a))),t=t.return}return n}function Al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k2(t,e,r,n,a){for(var s=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=bf(r,s),c!=null&&i.unshift(Sf(r,c,l))):a||(c=bf(r,s),c!=null&&i.push(Sf(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var WW=/\r\n?/g,HW=/\u0000|\uFFFD/g;function I2(t){return(typeof t=="string"?t:""+t).replace(WW,`
`).replace(HW,"")}function kh(t,e,r){if(e=I2(e),I2(t)!==e&&r)throw Error(de(425))}function Zb(){}var HN=null,GN=null;function YN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var KN=typeof setTimeout=="function"?setTimeout:void 0,GW=typeof clearTimeout=="function"?clearTimeout:void 0,T2=typeof Promise=="function"?Promise:void 0,YW=typeof queueMicrotask=="function"?queueMicrotask:typeof T2<"u"?function(t){return T2.resolve(null).then(t).catch(KW)}:KN;function KW(t){setTimeout(function(){throw t})}function n1(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),jf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);jf(e)}function po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function D2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var mu=Math.random().toString(36).slice(2),Da="__reactFiber$"+mu,Af="__reactProps$"+mu,Ns="__reactContainer$"+mu,JN="__reactEvents$"+mu,JW="__reactListeners$"+mu,XW="__reactHandles$"+mu;function ji(t){var e=t[Da];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ns]||r[Da]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=D2(t);t!==null;){if(r=t[Da])return r;t=D2(t)}return e}t=r,r=t.parentNode}return null}function Mm(t){return t=t[Da]||t[Ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ul(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function Wv(t){return t[Af]||null}var XN=[],zl=-1;function qo(t){return{current:t}}function Tt(t){0>zl||(t.current=XN[zl],XN[zl]=null,zl--)}function Ct(t,e){zl++,XN[zl]=t.current,t.current=e}var Po={},Rr=qo(Po),nn=qo(!1),Ji=Po;function Ec(t,e){var r=t.type.contextTypes;if(!r)return Po;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function an(t){return t=t.childContextTypes,t!=null}function Qb(){Tt(nn),Tt(Rr)}function E2(t,e,r){if(Rr.current!==Po)throw Error(de(168));Ct(Rr,e),Ct(nn,r)}function y4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(de(108,$9(t)||"Unknown",a));return Ft({},r,n)}function ex(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Po,Ji=Rr.current,Ct(Rr,t),Ct(nn,nn.current),!0}function P2(t,e,r){var n=t.stateNode;if(!n)throw Error(de(169));r?(t=y4(t,e,Ji),n.__reactInternalMemoizedMergedChildContext=t,Tt(nn),Tt(Rr),Ct(Rr,t)):Tt(nn),Ct(nn,r)}var as=null,Hv=!1,a1=!1;function b4(t){as===null?as=[t]:as.push(t)}function ZW(t){Hv=!0,b4(t)}function Vo(){if(!a1&&as!==null){a1=!0;var t=0,e=dt;try{var r=as;for(dt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}as=null,Hv=!1}catch(a){throw as!==null&&(as=as.slice(t+1)),U5(MI,Vo),a}finally{dt=e,a1=!1}}return null}var Wl=[],Hl=0,tx=null,rx=0,Bn=[],qn=0,Xi=null,ls=1,cs="";function di(t,e){Wl[Hl++]=rx,Wl[Hl++]=tx,tx=t,rx=e}function x4(t,e,r){Bn[qn++]=ls,Bn[qn++]=cs,Bn[qn++]=Xi,Xi=t;var n=ls;t=cs;var a=32-da(n)-1;n&=~(1<<a),r+=1;var s=32-da(e)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ls=1<<32-da(e)+a|r<<a|n,cs=s+t}else ls=1<<s|r<<a|n,cs=t}function HI(t){t.return!==null&&(di(t,1),x4(t,1,0))}function GI(t){for(;t===tx;)tx=Wl[--Hl],Wl[Hl]=null,rx=Wl[--Hl],Wl[Hl]=null;for(;t===Xi;)Xi=Bn[--qn],Bn[qn]=null,cs=Bn[--qn],Bn[qn]=null,ls=Bn[--qn],Bn[qn]=null}var Cn=null,vn=null,Pt=!1,oa=null;function v4(t,e){var r=Un(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function O2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,vn=po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Xi!==null?{id:ls,overflow:cs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Un(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Cn=t,vn=null,!0):!1;default:return!1}}function ZN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function QN(t){if(Pt){var e=vn;if(e){var r=e;if(!O2(t,e)){if(ZN(t))throw Error(de(418));e=po(r.nextSibling);var n=Cn;e&&O2(t,e)?v4(n,r):(t.flags=t.flags&-4097|2,Pt=!1,Cn=t)}}else{if(ZN(t))throw Error(de(418));t.flags=t.flags&-4097|2,Pt=!1,Cn=t}}}function _2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function Ih(t){if(t!==Cn)return!1;if(!Pt)return _2(t),Pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!YN(t.type,t.memoizedProps)),e&&(e=vn)){if(ZN(t))throw j4(),Error(de(418));for(;e;)v4(t,e),e=po(e.nextSibling)}if(_2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){vn=po(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=Cn?po(t.stateNode.nextSibling):null;return!0}function j4(){for(var t=vn;t;)t=po(t.nextSibling)}function Pc(){vn=Cn=null,Pt=!1}function YI(t){oa===null?oa=[t]:oa.push(t)}var QW=$s.ReactCurrentBatchConfig;function Bu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var n=r.stateNode}if(!n)throw Error(de(147,t));var a=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,t))}return t}function Th(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $2(t){var e=t._init;return e(t._payload)}function w4(t){function e(x,y){if(t){var v=x.deletions;v===null?(x.deletions=[y],x.flags|=16):v.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=xo(x,y),x.index=0,x.sibling=null,x}function s(x,y,v){return x.index=v,t?(v=x.alternate,v!==null?(v=v.index,v<y?(x.flags|=2,y):v):(x.flags|=2,y)):(x.flags|=1048576,y)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,y,v,N){return y===null||y.tag!==6?(y=d1(v,x.mode,N),y.return=x,y):(y=a(y,v),y.return=x,y)}function c(x,y,v,N){var C=v.type;return C===Fl?d(x,y,v.props.children,N,v.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ks&&$2(C)===y.type)?(N=a(y,v.props),N.ref=Bu(x,y,v),N.return=x,N):(N=Mp(v.type,v.key,v.props,null,x.mode,N),N.ref=Bu(x,y,v),N.return=x,N)}function u(x,y,v,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=f1(v,x.mode,N),y.return=x,y):(y=a(y,v.children||[]),y.return=x,y)}function d(x,y,v,N,C){return y===null||y.tag!==7?(y=Oi(v,x.mode,N,C),y.return=x,y):(y=a(y,v),y.return=x,y)}function f(x,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=d1(""+y,x.mode,v),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bh:return v=Mp(y.type,y.key,y.props,null,x.mode,v),v.ref=Bu(x,null,y),v.return=x,v;case Ll:return y=f1(y,x.mode,v),y.return=x,y;case Ks:var N=y._init;return f(x,N(y._payload),v)}if(hd(y)||$u(y))return y=Oi(y,x.mode,v,null),y.return=x,y;Th(x,y)}return null}function m(x,y,v,N){var C=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(x,y,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bh:return v.key===C?c(x,y,v,N):null;case Ll:return v.key===C?u(x,y,v,N):null;case Ks:return C=v._init,m(x,y,C(v._payload),N)}if(hd(v)||$u(v))return C!==null?null:d(x,y,v,N,null);Th(x,v)}return null}function p(x,y,v,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(v)||null,l(y,x,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case bh:return x=x.get(N.key===null?v:N.key)||null,c(y,x,N,C);case Ll:return x=x.get(N.key===null?v:N.key)||null,u(y,x,N,C);case Ks:var j=N._init;return p(x,y,v,j(N._payload),C)}if(hd(N)||$u(N))return x=x.get(v)||null,d(y,x,N,C,null);Th(y,N)}return null}function h(x,y,v,N){for(var C=null,j=null,S=y,k=y=0,T=null;S!==null&&k<v.length;k++){S.index>k?(T=S,S=null):T=S.sibling;var A=m(x,S,v[k],N);if(A===null){S===null&&(S=T);break}t&&S&&A.alternate===null&&e(x,S),y=s(A,y,k),j===null?C=A:j.sibling=A,j=A,S=T}if(k===v.length)return r(x,S),Pt&&di(x,k),C;if(S===null){for(;k<v.length;k++)S=f(x,v[k],N),S!==null&&(y=s(S,y,k),j===null?C=S:j.sibling=S,j=S);return Pt&&di(x,k),C}for(S=n(x,S);k<v.length;k++)T=p(S,x,k,v[k],N),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?k:T.key),y=s(T,y,k),j===null?C=T:j.sibling=T,j=T);return t&&S.forEach(function(D){return e(x,D)}),Pt&&di(x,k),C}function b(x,y,v,N){var C=$u(v);if(typeof C!="function")throw Error(de(150));if(v=C.call(v),v==null)throw Error(de(151));for(var j=C=null,S=y,k=y=0,T=null,A=v.next();S!==null&&!A.done;k++,A=v.next()){S.index>k?(T=S,S=null):T=S.sibling;var D=m(x,S,A.value,N);if(D===null){S===null&&(S=T);break}t&&S&&D.alternate===null&&e(x,S),y=s(D,y,k),j===null?C=D:j.sibling=D,j=D,S=T}if(A.done)return r(x,S),Pt&&di(x,k),C;if(S===null){for(;!A.done;k++,A=v.next())A=f(x,A.value,N),A!==null&&(y=s(A,y,k),j===null?C=A:j.sibling=A,j=A);return Pt&&di(x,k),C}for(S=n(x,S);!A.done;k++,A=v.next())A=p(S,x,k,A.value,N),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?k:A.key),y=s(A,y,k),j===null?C=A:j.sibling=A,j=A);return t&&S.forEach(function(P){return e(x,P)}),Pt&&di(x,k),C}function g(x,y,v,N){if(typeof v=="object"&&v!==null&&v.type===Fl&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case bh:e:{for(var C=v.key,j=y;j!==null;){if(j.key===C){if(C=v.type,C===Fl){if(j.tag===7){r(x,j.sibling),y=a(j,v.props.children),y.return=x,x=y;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ks&&$2(C)===j.type){r(x,j.sibling),y=a(j,v.props),y.ref=Bu(x,j,v),y.return=x,x=y;break e}r(x,j);break}else e(x,j);j=j.sibling}v.type===Fl?(y=Oi(v.props.children,x.mode,N,v.key),y.return=x,x=y):(N=Mp(v.type,v.key,v.props,null,x.mode,N),N.ref=Bu(x,y,v),N.return=x,x=N)}return i(x);case Ll:e:{for(j=v.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(x,y.sibling),y=a(y,v.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=f1(v,x.mode,N),y.return=x,x=y}return i(x);case Ks:return j=v._init,g(x,y,j(v._payload),N)}if(hd(v))return h(x,y,v,N);if($u(v))return b(x,y,v,N);Th(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,v),y.return=x,x=y):(r(x,y),y=d1(v,x.mode,N),y.return=x,x=y),i(x)):r(x,y)}return g}var Oc=w4(!0),C4=w4(!1),nx=qo(null),ax=null,Gl=null,KI=null;function JI(){KI=Gl=ax=null}function XI(t){var e=nx.current;Tt(nx),t._currentValue=e}function eS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function sc(t,e){ax=t,KI=Gl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qr=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(KI!==t)if(t={context:t,memoizedValue:e,next:null},Gl===null){if(ax===null)throw Error(de(308));Gl=t,ax.dependencies={lanes:0,firstContext:t}}else Gl=Gl.next=t;return e}var wi=null;function ZI(t){wi===null?wi=[t]:wi.push(t)}function N4(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,ZI(e)):(r.next=a.next,a.next=r),e.interleaved=r,Ss(t,n)}function Ss(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Js=!1;function QI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function go(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Xe&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Ss(t,r)}return a=n.interleaved,a===null?(e.next=e,ZI(n)):(e.next=a.next,a.next=e),n.interleaved=e,Ss(t,r)}function Ep(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,LI(t,r)}}function R2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=e:s=s.next=e}else a=s=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function sx(t,e,r,n){var a=t.updateQueue;Js=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var m=l.lane,p=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=t,b=l;switch(m=e,p=r,b.tag){case 1:if(h=b.payload,typeof h=="function"){f=h.call(p,f,m);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=b.payload,m=typeof h=="function"?h.call(p,f,m):h,m==null)break e;f=Ft({},f,m);break e;case 2:Js=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else s===null&&(a.shared.lanes=0);Qi|=i,t.lanes=i,t.memoizedState=f}}function M2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(de(191,a));a.call(n)}}}var Lm={},_a=qo(Lm),kf=qo(Lm),If=qo(Lm);function Ci(t){if(t===Lm)throw Error(de(174));return t}function eT(t,e){switch(Ct(If,e),Ct(kf,t),Ct(_a,Lm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_N(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_N(e,t)}Tt(_a),Ct(_a,e)}function _c(){Tt(_a),Tt(kf),Tt(If)}function A4(t){Ci(If.current);var e=Ci(_a.current),r=_N(e,t.type);e!==r&&(Ct(kf,t),Ct(_a,r))}function tT(t){kf.current===t&&(Tt(_a),Tt(kf))}var Mt=qo(0);function ox(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var s1=[];function rT(){for(var t=0;t<s1.length;t++)s1[t]._workInProgressVersionPrimary=null;s1.length=0}var Pp=$s.ReactCurrentDispatcher,o1=$s.ReactCurrentBatchConfig,Zi=0,Lt=null,lr=null,pr=null,ix=!1,_d=!1,Tf=0,eH=0;function Tr(){throw Error(de(321))}function nT(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ya(t[r],e[r]))return!1;return!0}function aT(t,e,r,n,a,s){if(Zi=s,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pp.current=t===null||t.memoizedState===null?aH:sH,t=r(n,a),_d){s=0;do{if(_d=!1,Tf=0,25<=s)throw Error(de(301));s+=1,pr=lr=null,e.updateQueue=null,Pp.current=oH,t=r(n,a)}while(_d)}if(Pp.current=lx,e=lr!==null&&lr.next!==null,Zi=0,pr=lr=Lt=null,ix=!1,e)throw Error(de(300));return t}function sT(){var t=Tf!==0;return Tf=0,t}function Sa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?Lt.memoizedState=pr=t:pr=pr.next=t,pr}function Kn(){if(lr===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=lr.next;var e=pr===null?Lt.memoizedState:pr.next;if(e!==null)pr=e,lr=t;else{if(t===null)throw Error(de(310));lr=t,t={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},pr===null?Lt.memoizedState=pr=t:pr=pr.next=t}return pr}function Df(t,e){return typeof e=="function"?e(t):e}function i1(t){var e=Kn(),r=e.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=t;var n=lr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((Zi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Lt.lanes|=d,Qi|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,ya(n,e.memoizedState)||(Qr=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do s=a.lane,Lt.lanes|=s,Qi|=s,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function l1(t){var e=Kn(),r=e.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,s=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=t(s,i.action),i=i.next;while(i!==a);ya(s,e.memoizedState)||(Qr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function k4(){}function I4(t,e){var r=Lt,n=Kn(),a=e(),s=!ya(n.memoizedState,a);if(s&&(n.memoizedState=a,Qr=!0),n=n.queue,oT(E4.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||pr!==null&&pr.memoizedState.tag&1){if(r.flags|=2048,Ef(9,D4.bind(null,r,n,a,e),void 0,null),yr===null)throw Error(de(349));Zi&30||T4(r,e,a)}return a}function T4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function D4(t,e,r,n){e.value=r,e.getSnapshot=n,P4(e)&&O4(t)}function E4(t,e,r){return r(function(){P4(e)&&O4(t)})}function P4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ya(t,r)}catch{return!0}}function O4(t){var e=Ss(t,1);e!==null&&fa(e,t,1,-1)}function L2(t){var e=Sa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:t},e.queue=t,t=t.dispatch=nH.bind(null,Lt,t),[e.memoizedState,t]}function Ef(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _4(){return Kn().memoizedState}function Op(t,e,r,n){var a=Sa();Lt.flags|=t,a.memoizedState=Ef(1|e,r,void 0,n===void 0?null:n)}function Gv(t,e,r,n){var a=Kn();n=n===void 0?null:n;var s=void 0;if(lr!==null){var i=lr.memoizedState;if(s=i.destroy,n!==null&&nT(n,i.deps)){a.memoizedState=Ef(e,r,s,n);return}}Lt.flags|=t,a.memoizedState=Ef(1|e,r,s,n)}function F2(t,e){return Op(8390656,8,t,e)}function oT(t,e){return Gv(2048,8,t,e)}function $4(t,e){return Gv(4,2,t,e)}function R4(t,e){return Gv(4,4,t,e)}function M4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function L4(t,e,r){return r=r!=null?r.concat([t]):null,Gv(4,4,M4.bind(null,e,t),r)}function iT(){}function F4(t,e){var r=Kn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nT(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function B4(t,e){var r=Kn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nT(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function q4(t,e,r){return Zi&21?(ya(r,e)||(r=H5(),Lt.lanes|=r,Qi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qr=!0),t.memoizedState=r)}function tH(t,e){var r=dt;dt=r!==0&&4>r?r:4,t(!0);var n=o1.transition;o1.transition={};try{t(!1),e()}finally{dt=r,o1.transition=n}}function V4(){return Kn().memoizedState}function rH(t,e,r){var n=bo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},U4(t))z4(e,r);else if(r=N4(t,e,r,n),r!==null){var a=Ur();fa(r,t,n,a),W4(r,e,n)}}function nH(t,e,r){var n=bo(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(U4(t))z4(e,a);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,ya(l,i)){var c=e.interleaved;c===null?(a.next=a,ZI(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=N4(t,e,a,n),r!==null&&(a=Ur(),fa(r,t,n,a),W4(r,e,n))}}function U4(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function z4(t,e){_d=ix=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function W4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,LI(t,r)}}var lx={readContext:Yn,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},aH={readContext:Yn,useCallback:function(t,e){return Sa().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:F2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Op(4194308,4,M4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Op(4194308,4,t,e)},useInsertionEffect:function(t,e){return Op(4,2,t,e)},useMemo:function(t,e){var r=Sa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Sa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=rH.bind(null,Lt,t),[n.memoizedState,t]},useRef:function(t){var e=Sa();return t={current:t},e.memoizedState=t},useState:L2,useDebugValue:iT,useDeferredValue:function(t){return Sa().memoizedState=t},useTransition:function(){var t=L2(!1),e=t[0];return t=tH.bind(null,t[1]),Sa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Lt,a=Sa();if(Pt){if(r===void 0)throw Error(de(407));r=r()}else{if(r=e(),yr===null)throw Error(de(349));Zi&30||T4(n,e,r)}a.memoizedState=r;var s={value:r,getSnapshot:e};return a.queue=s,F2(E4.bind(null,n,s,t),[t]),n.flags|=2048,Ef(9,D4.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Sa(),e=yr.identifierPrefix;if(Pt){var r=cs,n=ls;r=(n&~(1<<32-da(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Tf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=eH++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sH={readContext:Yn,useCallback:F4,useContext:Yn,useEffect:oT,useImperativeHandle:L4,useInsertionEffect:$4,useLayoutEffect:R4,useMemo:B4,useReducer:i1,useRef:_4,useState:function(){return i1(Df)},useDebugValue:iT,useDeferredValue:function(t){var e=Kn();return q4(e,lr.memoizedState,t)},useTransition:function(){var t=i1(Df)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:k4,useSyncExternalStore:I4,useId:V4,unstable_isNewReconciler:!1},oH={readContext:Yn,useCallback:F4,useContext:Yn,useEffect:oT,useImperativeHandle:L4,useInsertionEffect:$4,useLayoutEffect:R4,useMemo:B4,useReducer:l1,useRef:_4,useState:function(){return l1(Df)},useDebugValue:iT,useDeferredValue:function(t){var e=Kn();return lr===null?e.memoizedState=t:q4(e,lr.memoizedState,t)},useTransition:function(){var t=l1(Df)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:k4,useSyncExternalStore:I4,useId:V4,unstable_isNewReconciler:!1};function aa(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function tS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ft({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Yv={isMounted:function(t){return(t=t._reactInternals)?fl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ur(),a=bo(t),s=ps(n,a);s.payload=e,r!=null&&(s.callback=r),e=go(t,s,a),e!==null&&(fa(e,t,a,n),Ep(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ur(),a=bo(t),s=ps(n,a);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=go(t,s,a),e!==null&&(fa(e,t,a,n),Ep(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ur(),n=bo(t),a=ps(r,n);a.tag=2,e!=null&&(a.callback=e),e=go(t,a,n),e!==null&&(fa(e,t,n,r),Ep(e,t,n))}};function B2(t,e,r,n,a,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!Cf(r,n)||!Cf(a,s):!0}function H4(t,e,r){var n=!1,a=Po,s=e.contextType;return typeof s=="object"&&s!==null?s=Yn(s):(a=an(e)?Ji:Rr.current,n=e.contextTypes,s=(n=n!=null)?Ec(t,a):Po),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=s),e}function q2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Yv.enqueueReplaceState(e,e.state,null)}function rS(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},QI(t);var s=e.contextType;typeof s=="object"&&s!==null?a.context=Yn(s):(s=an(e)?Ji:Rr.current,a.context=Ec(t,s)),a.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tS(t,e,s,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Yv.enqueueReplaceState(a,a.state,null),sx(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function $c(t,e){try{var r="",n=e;do r+=_9(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:a,digest:null}}function c1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function nS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var iH=typeof WeakMap=="function"?WeakMap:Map;function G4(t,e,r){r=ps(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ux||(ux=!0,mS=n),nS(t,e)},r}function Y4(t,e,r){r=ps(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){nS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){nS(t,e),typeof n!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function V2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new iH;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=jH.bind(null,t,e,r),e.then(t,t))}function U2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z2(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ps(-1,1),e.tag=2,go(r,e,1))),r.lanes|=1),t)}var lH=$s.ReactCurrentOwner,Qr=!1;function Br(t,e,r,n){e.child=t===null?C4(e,null,r,n):Oc(e,t.child,r,n)}function W2(t,e,r,n,a){r=r.render;var s=e.ref;return sc(e,a),n=aT(t,e,r,n,s,a),r=sT(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,As(t,e,a)):(Pt&&r&&HI(e),e.flags|=1,Br(t,e,n,a),e.child)}function H2(t,e,r,n,a){if(t===null){var s=r.type;return typeof s=="function"&&!pT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,K4(t,e,s,n,a)):(t=Mp(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Cf,r(i,n)&&t.ref===e.ref)return As(t,e,a)}return e.flags|=1,t=xo(s,n),t.ref=e.ref,t.return=e,e.child=t}function K4(t,e,r,n,a){if(t!==null){var s=t.memoizedProps;if(Cf(s,n)&&t.ref===e.ref)if(Qr=!1,e.pendingProps=n=s,(t.lanes&a)!==0)t.flags&131072&&(Qr=!0);else return e.lanes=t.lanes,As(t,e,a)}return aS(t,e,r,n,a)}function J4(t,e,r){var n=e.pendingProps,a=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(Kl,gn),gn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ct(Kl,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ct(Kl,gn),gn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ct(Kl,gn),gn|=n;return Br(t,e,a,r),e.child}function X4(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function aS(t,e,r,n,a){var s=an(r)?Ji:Rr.current;return s=Ec(e,s),sc(e,a),r=aT(t,e,r,n,s,a),n=sT(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,As(t,e,a)):(Pt&&n&&HI(e),e.flags|=1,Br(t,e,r,a),e.child)}function G2(t,e,r,n,a){if(an(r)){var s=!0;ex(e)}else s=!1;if(sc(e,a),e.stateNode===null)_p(t,e),H4(e,r,n),rS(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Yn(u):(u=an(r)?Ji:Rr.current,u=Ec(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&q2(e,i,n,u),Js=!1;var m=e.memoizedState;i.state=m,sx(e,n,i,a),c=e.memoizedState,l!==n||m!==c||nn.current||Js?(typeof d=="function"&&(tS(e,r,d,n),c=e.memoizedState),(l=Js||B2(e,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,S4(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:aa(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Yn(c):(c=an(r)?Ji:Rr.current,c=Ec(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&q2(e,i,n,c),Js=!1,m=e.memoizedState,i.state=m,sx(e,n,i,a);var h=e.memoizedState;l!==f||m!==h||nn.current||Js?(typeof p=="function"&&(tS(e,r,p,n),h=e.memoizedState),(u=Js||B2(e,r,u,n,m,h,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,h,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=h),i.props=n,i.state=h,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return sS(t,e,r,n,s,a)}function sS(t,e,r,n,a,s){X4(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&P2(e,r,!1),As(t,e,s);n=e.stateNode,lH.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=Oc(e,t.child,null,s),e.child=Oc(e,null,l,s)):Br(t,e,l,s),e.memoizedState=n.state,a&&P2(e,r,!0),e.child}function Z4(t){var e=t.stateNode;e.pendingContext?E2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&E2(t,e.context,!1),eT(t,e.containerInfo)}function Y2(t,e,r,n,a){return Pc(),YI(a),e.flags|=256,Br(t,e,r,n),e.child}var oS={dehydrated:null,treeContext:null,retryLane:0};function iS(t){return{baseLanes:t,cachePool:null,transitions:null}}function Q4(t,e,r){var n=e.pendingProps,a=Mt.current,s=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Ct(Mt,a&1),t===null)return QN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Xv(i,n,0,null),t=Oi(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=iS(r),e.memoizedState=oS,t):lT(e,i));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return cH(t,e,i,n,l,a,r);if(s){s=n.fallback,i=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=xo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=xo(l,s):(s=Oi(s,i,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?iS(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=oS,n}return s=t.child,t=s.sibling,n=xo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function lT(t,e){return e=Xv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dh(t,e,r,n){return n!==null&&YI(n),Oc(e,t.child,null,r),t=lT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cH(t,e,r,n,a,s,i){if(r)return e.flags&256?(e.flags&=-257,n=c1(Error(de(422))),Dh(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,a=e.mode,n=Xv({mode:"visible",children:n.children},a,0,null),s=Oi(s,a,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Oc(e,t.child,null,i),e.child.memoizedState=iS(i),e.memoizedState=oS,s);if(!(e.mode&1))return Dh(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(de(419)),n=c1(s,n,void 0),Dh(t,e,i,n)}if(l=(i&t.childLanes)!==0,Qr||l){if(n=yr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ss(t,a),fa(n,t,a,-1))}return hT(),n=c1(Error(de(421))),Dh(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=wH.bind(null,t),a._reactRetry=e,null):(t=s.treeContext,vn=po(a.nextSibling),Cn=e,Pt=!0,oa=null,t!==null&&(Bn[qn++]=ls,Bn[qn++]=cs,Bn[qn++]=Xi,ls=t.id,cs=t.overflow,Xi=e),e=lT(e,n.children),e.flags|=4096,e)}function K2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),eS(t.return,e,r)}function u1(t,e,r,n,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function eB(t,e,r){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if(Br(t,e,n.children,r),n=Mt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&K2(t,r,e);else if(t.tag===19)K2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ct(Mt,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&ox(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),u1(e,!1,a,r,s);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&ox(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}u1(e,!0,r,null,s);break;case"together":u1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _p(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function As(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,r=xo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=xo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function uH(t,e,r){switch(e.tag){case 3:Z4(e),Pc();break;case 5:A4(e);break;case 1:an(e.type)&&ex(e);break;case 4:eT(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Ct(nx,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ct(Mt,Mt.current&1),e.flags|=128,null):r&e.child.childLanes?Q4(t,e,r):(Ct(Mt,Mt.current&1),t=As(t,e,r),t!==null?t.sibling:null);Ct(Mt,Mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return eB(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ct(Mt,Mt.current),n)break;return null;case 22:case 23:return e.lanes=0,J4(t,e,r)}return As(t,e,r)}var tB,lS,rB,nB;tB=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lS=function(){};rB=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ci(_a.current);var s=null;switch(r){case"input":a=DN(t,a),n=DN(t,n),s=[];break;case"select":a=Ft({},a,{value:void 0}),n=Ft({},n,{value:void 0}),s=[];break;case"textarea":a=ON(t,a),n=ON(t,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Zb)}$N(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&St("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};nB=function(t,e,r,n){r!==n&&(e.flags|=4)};function qu(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function dH(t,e,r){var n=e.pendingProps;switch(GI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(e),null;case 1:return an(e.type)&&Qb(),Dr(e),null;case 3:return n=e.stateNode,_c(),Tt(nn),Tt(Rr),rT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ih(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,oa!==null&&(gS(oa),oa=null))),lS(t,e),Dr(e),null;case 5:tT(e);var a=Ci(If.current);if(r=e.type,t!==null&&e.stateNode!=null)rB(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(de(166));return Dr(e),null}if(t=Ci(_a.current),Ih(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Da]=e,n[Af]=s,t=(e.mode&1)!==0,r){case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":case"embed":St("load",n);break;case"video":case"audio":for(a=0;a<gd.length;a++)St(gd[a],n);break;case"source":St("error",n);break;case"img":case"image":case"link":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"input":a2(n,s),St("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},St("invalid",n);break;case"textarea":o2(n,s),St("invalid",n)}$N(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&kh(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&kh(n.textContent,l,t),a=["children",""+l]):gf.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&St("scroll",n)}switch(r){case"input":xh(n),s2(n,s,!0);break;case"textarea":xh(n),i2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Zb)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Da]=e,t[Af]=n,tB(t,e,!1,!1),e.stateNode=t;e:{switch(i=RN(r,n),r){case"dialog":St("cancel",t),St("close",t),a=n;break;case"iframe":case"object":case"embed":St("load",t),a=n;break;case"video":case"audio":for(a=0;a<gd.length;a++)St(gd[a],t);a=n;break;case"source":St("error",t),a=n;break;case"img":case"image":case"link":St("error",t),St("load",t),a=n;break;case"details":St("toggle",t),a=n;break;case"input":a2(t,n),a=DN(t,n),St("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Ft({},n,{value:void 0}),St("invalid",t);break;case"textarea":o2(t,n),a=ON(t,n),St("invalid",t);break;default:a=n}$N(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?_5(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&P5(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yf(t,c):typeof c=="number"&&yf(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&St("scroll",t):c!=null&&PI(t,s,c,i))}switch(r){case"input":xh(t),s2(t,n,!1);break;case"textarea":xh(t),i2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Eo(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?tc(t,!!n.multiple,s,!1):n.defaultValue!=null&&tc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Zb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dr(e),null;case 6:if(t&&e.stateNode!=null)nB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(de(166));if(r=Ci(If.current),Ci(_a.current),Ih(e)){if(n=e.stateNode,r=e.memoizedProps,n[Da]=e,(s=n.nodeValue!==r)&&(t=Cn,t!==null))switch(t.tag){case 3:kh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Da]=e,e.stateNode=n}return Dr(e),null;case 13:if(Tt(Mt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pt&&vn!==null&&e.mode&1&&!(e.flags&128))j4(),Pc(),e.flags|=98560,s=!1;else if(s=Ih(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(de(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(317));s[Da]=e}else Pc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dr(e),s=!1}else oa!==null&&(gS(oa),oa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Mt.current&1?cr===0&&(cr=3):hT())),e.updateQueue!==null&&(e.flags|=4),Dr(e),null);case 4:return _c(),lS(t,e),t===null&&Nf(e.stateNode.containerInfo),Dr(e),null;case 10:return XI(e.type._context),Dr(e),null;case 17:return an(e.type)&&Qb(),Dr(e),null;case 19:if(Tt(Mt),s=e.memoizedState,s===null)return Dr(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)qu(s,!1);else{if(cr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=ox(t),i!==null){for(e.flags|=128,qu(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ct(Mt,Mt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Jt()>Rc&&(e.flags|=128,n=!0,qu(s,!1),e.lanes=4194304)}else{if(!n)if(t=ox(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),qu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Pt)return Dr(e),null}else 2*Jt()-s.renderingStartTime>Rc&&r!==1073741824&&(e.flags|=128,n=!0,qu(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jt(),e.sibling=null,r=Mt.current,Ct(Mt,n?r&1|2:r&1),e):(Dr(e),null);case 22:case 23:return mT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gn&1073741824&&(Dr(e),e.subtreeFlags&6&&(e.flags|=8192)):Dr(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function fH(t,e){switch(GI(e),e.tag){case 1:return an(e.type)&&Qb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _c(),Tt(nn),Tt(Rr),rT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tT(e),null;case 13:if(Tt(Mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));Pc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tt(Mt),null;case 4:return _c(),null;case 10:return XI(e.type._context),null;case 22:case 23:return mT(),null;case 24:return null;default:return null}}var Eh=!1,Or=!1,mH=typeof WeakSet=="function"?WeakSet:Set,we=null;function Yl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Vt(t,e,n)}else r.current=null}function cS(t,e,r){try{r()}catch(n){Vt(t,e,n)}}var J2=!1;function hH(t,e){if(HN=Kb,t=l4(),WI(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===r&&++u===a&&(l=i),m===s&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(GN={focusedElem:t,selectionRange:r},Kb=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var b=h.memoizedProps,g=h.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:aa(e.type,b),g);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(N){Vt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return h=J2,J2=!1,h}function $d(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var s=a.destroy;a.destroy=void 0,s!==void 0&&cS(e,r,s)}a=a.next}while(a!==n)}}function Kv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function uS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function aB(t){var e=t.alternate;e!==null&&(t.alternate=null,aB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Da],delete e[Af],delete e[JN],delete e[JW],delete e[XW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sB(t){return t.tag===5||t.tag===3||t.tag===4}function X2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Zb));else if(n!==4&&(t=t.child,t!==null))for(dS(t,e,r),t=t.sibling;t!==null;)dS(t,e,r),t=t.sibling}function fS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(fS(t,e,r),t=t.sibling;t!==null;)fS(t,e,r),t=t.sibling}var Cr=null,sa=!1;function Ws(t,e,r){for(r=r.child;r!==null;)oB(t,e,r),r=r.sibling}function oB(t,e,r){if(Oa&&typeof Oa.onCommitFiberUnmount=="function")try{Oa.onCommitFiberUnmount(qv,r)}catch{}switch(r.tag){case 5:Or||Yl(r,e);case 6:var n=Cr,a=sa;Cr=null,Ws(t,e,r),Cr=n,sa=a,Cr!==null&&(sa?(t=Cr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Cr.removeChild(r.stateNode));break;case 18:Cr!==null&&(sa?(t=Cr,r=r.stateNode,t.nodeType===8?n1(t.parentNode,r):t.nodeType===1&&n1(t,r),jf(t)):n1(Cr,r.stateNode));break;case 4:n=Cr,a=sa,Cr=r.stateNode.containerInfo,sa=!0,Ws(t,e,r),Cr=n,sa=a;break;case 0:case 11:case 14:case 15:if(!Or&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&cS(r,e,i),a=a.next}while(a!==n)}Ws(t,e,r);break;case 1:if(!Or&&(Yl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Vt(r,e,l)}Ws(t,e,r);break;case 21:Ws(t,e,r);break;case 22:r.mode&1?(Or=(n=Or)||r.memoizedState!==null,Ws(t,e,r),Or=n):Ws(t,e,r);break;default:Ws(t,e,r)}}function Z2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new mH),e.forEach(function(n){var a=CH.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ta(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:Cr=l.stateNode,sa=!1;break e;case 3:Cr=l.stateNode.containerInfo,sa=!0;break e;case 4:Cr=l.stateNode.containerInfo,sa=!0;break e}l=l.return}if(Cr===null)throw Error(de(160));oB(s,i,a),Cr=null,sa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Vt(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iB(e,t),e=e.sibling}function iB(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ta(e,t),wa(t),n&4){try{$d(3,t,t.return),Kv(3,t)}catch(b){Vt(t,t.return,b)}try{$d(5,t,t.return)}catch(b){Vt(t,t.return,b)}}break;case 1:ta(e,t),wa(t),n&512&&r!==null&&Yl(r,r.return);break;case 5:if(ta(e,t),wa(t),n&512&&r!==null&&Yl(r,r.return),t.flags&32){var a=t.stateNode;try{yf(a,"")}catch(b){Vt(t,t.return,b)}}if(n&4&&(a=t.stateNode,a!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&T5(a,s),RN(l,i);var u=RN(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?_5(a,f):d==="dangerouslySetInnerHTML"?P5(a,f):d==="children"?yf(a,f):PI(a,d,f,u)}switch(l){case"input":EN(a,s);break;case"textarea":D5(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?tc(a,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?tc(a,!!s.multiple,s.defaultValue,!0):tc(a,!!s.multiple,s.multiple?[]:"",!1))}a[Af]=s}catch(b){Vt(t,t.return,b)}}break;case 6:if(ta(e,t),wa(t),n&4){if(t.stateNode===null)throw Error(de(162));a=t.stateNode,s=t.memoizedProps;try{a.nodeValue=s}catch(b){Vt(t,t.return,b)}}break;case 3:if(ta(e,t),wa(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jf(e.containerInfo)}catch(b){Vt(t,t.return,b)}break;case 4:ta(e,t),wa(t);break;case 13:ta(e,t),wa(t),a=t.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(dT=Jt())),n&4&&Z2(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Or=(u=Or)||d,ta(e,t),Or=u):ta(e,t),wa(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(we=t,d=t.child;d!==null;){for(f=we=d;we!==null;){switch(m=we,p=m.child,m.tag){case 0:case 11:case 14:case 15:$d(4,m,m.return);break;case 1:Yl(m,m.return);var h=m.stateNode;if(typeof h.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(b){Vt(n,r,b)}}break;case 5:Yl(m,m.return);break;case 22:if(m.memoizedState!==null){eP(f);continue}}p!==null?(p.return=m,we=p):eP(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=O5("display",i))}catch(b){Vt(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Vt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ta(e,t),wa(t),n&4&&Z2(t);break;case 21:break;default:ta(e,t),wa(t)}}function wa(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(sB(r)){var n=r;break e}r=r.return}throw Error(de(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(yf(a,""),n.flags&=-33);var s=X2(t);fS(t,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=X2(t);dS(t,l,i);break;default:throw Error(de(161))}}catch(c){Vt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pH(t,e,r){we=t,lB(t)}function lB(t,e,r){for(var n=(t.mode&1)!==0;we!==null;){var a=we,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Eh;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Or;l=Eh;var u=Or;if(Eh=i,(Or=c)&&!u)for(we=a;we!==null;)i=we,c=i.child,i.tag===22&&i.memoizedState!==null?tP(a):c!==null?(c.return=i,we=c):tP(a);for(;s!==null;)we=s,lB(s),s=s.sibling;we=a,Eh=l,Or=u}Q2(t)}else a.subtreeFlags&8772&&s!==null?(s.return=a,we=s):Q2(t)}}function Q2(t){for(;we!==null;){var e=we;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Or||Kv(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Or)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:aa(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&M2(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}M2(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&jf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Or||e.flags&512&&uS(e)}catch(m){Vt(e,e.return,m)}}if(e===t){we=null;break}if(r=e.sibling,r!==null){r.return=e.return,we=r;break}we=e.return}}function eP(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var r=e.sibling;if(r!==null){r.return=e.return,we=r;break}we=e.return}}function tP(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Kv(4,e)}catch(c){Vt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){Vt(e,a,c)}}var s=e.return;try{uS(e)}catch(c){Vt(e,s,c)}break;case 5:var i=e.return;try{uS(e)}catch(c){Vt(e,i,c)}}}catch(c){Vt(e,e.return,c)}if(e===t){we=null;break}var l=e.sibling;if(l!==null){l.return=e.return,we=l;break}we=e.return}}var gH=Math.ceil,cx=$s.ReactCurrentDispatcher,cT=$s.ReactCurrentOwner,Hn=$s.ReactCurrentBatchConfig,Xe=0,yr=null,rr=null,Ar=0,gn=0,Kl=qo(0),cr=0,Pf=null,Qi=0,Jv=0,uT=0,Rd=null,Jr=null,dT=0,Rc=1/0,ts=null,ux=!1,mS=null,yo=null,Ph=!1,ao=null,dx=0,Md=0,hS=null,$p=-1,Rp=0;function Ur(){return Xe&6?Jt():$p!==-1?$p:$p=Jt()}function bo(t){return t.mode&1?Xe&2&&Ar!==0?Ar&-Ar:QW.transition!==null?(Rp===0&&(Rp=H5()),Rp):(t=dt,t!==0||(t=window.event,t=t===void 0?16:Q5(t.type)),t):1}function fa(t,e,r,n){if(50<Md)throw Md=0,hS=null,Error(de(185));$m(t,r,n),(!(Xe&2)||t!==yr)&&(t===yr&&(!(Xe&2)&&(Jv|=r),cr===4&&to(t,Ar)),sn(t,n),r===1&&Xe===0&&!(e.mode&1)&&(Rc=Jt()+500,Hv&&Vo()))}function sn(t,e){var r=t.callbackNode;Q9(t,e);var n=Yb(t,t===yr?Ar:0);if(n===0)r!==null&&u2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&u2(r),e===1)t.tag===0?ZW(rP.bind(null,t)):b4(rP.bind(null,t)),YW(function(){!(Xe&6)&&Vo()}),r=null;else{switch(G5(n)){case 1:r=MI;break;case 4:r=z5;break;case 16:r=Gb;break;case 536870912:r=W5;break;default:r=Gb}r=gB(r,cB.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function cB(t,e){if($p=-1,Rp=0,Xe&6)throw Error(de(327));var r=t.callbackNode;if(oc()&&t.callbackNode!==r)return null;var n=Yb(t,t===yr?Ar:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=fx(t,n);else{e=n;var a=Xe;Xe|=2;var s=dB();(yr!==t||Ar!==e)&&(ts=null,Rc=Jt()+500,Pi(t,e));do try{xH();break}catch(l){uB(t,l)}while(!0);JI(),cx.current=s,Xe=a,rr!==null?e=0:(yr=null,Ar=0,e=cr)}if(e!==0){if(e===2&&(a=qN(t),a!==0&&(n=a,e=pS(t,a))),e===1)throw r=Pf,Pi(t,0),to(t,n),sn(t,Jt()),r;if(e===6)to(t,n);else{if(a=t.current.alternate,!(n&30)&&!yH(a)&&(e=fx(t,n),e===2&&(s=qN(t),s!==0&&(n=s,e=pS(t,s))),e===1))throw r=Pf,Pi(t,0),to(t,n),sn(t,Jt()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(de(345));case 2:fi(t,Jr,ts);break;case 3:if(to(t,n),(n&130023424)===n&&(e=dT+500-Jt(),10<e)){if(Yb(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Ur(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=KN(fi.bind(null,t,Jr,ts),e);break}fi(t,Jr,ts);break;case 4:if(to(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-da(n);s=1<<i,i=e[i],i>a&&(a=i),n&=~s}if(n=a,n=Jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gH(n/1960))-n,10<n){t.timeoutHandle=KN(fi.bind(null,t,Jr,ts),n);break}fi(t,Jr,ts);break;case 5:fi(t,Jr,ts);break;default:throw Error(de(329))}}}return sn(t,Jt()),t.callbackNode===r?cB.bind(null,t):null}function pS(t,e){var r=Rd;return t.current.memoizedState.isDehydrated&&(Pi(t,e).flags|=256),t=fx(t,e),t!==2&&(e=Jr,Jr=r,e!==null&&gS(e)),t}function gS(t){Jr===null?Jr=t:Jr.push.apply(Jr,t)}function yH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ya(s(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function to(t,e){for(e&=~uT,e&=~Jv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-da(e),n=1<<r;t[r]=-1,e&=~n}}function rP(t){if(Xe&6)throw Error(de(327));oc();var e=Yb(t,0);if(!(e&1))return sn(t,Jt()),null;var r=fx(t,e);if(t.tag!==0&&r===2){var n=qN(t);n!==0&&(e=n,r=pS(t,n))}if(r===1)throw r=Pf,Pi(t,0),to(t,e),sn(t,Jt()),r;if(r===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fi(t,Jr,ts),sn(t,Jt()),null}function fT(t,e){var r=Xe;Xe|=1;try{return t(e)}finally{Xe=r,Xe===0&&(Rc=Jt()+500,Hv&&Vo())}}function el(t){ao!==null&&ao.tag===0&&!(Xe&6)&&oc();var e=Xe;Xe|=1;var r=Hn.transition,n=dt;try{if(Hn.transition=null,dt=1,t)return t()}finally{dt=n,Hn.transition=r,Xe=e,!(Xe&6)&&Vo()}}function mT(){gn=Kl.current,Tt(Kl)}function Pi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,GW(r)),rr!==null)for(r=rr.return;r!==null;){var n=r;switch(GI(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qb();break;case 3:_c(),Tt(nn),Tt(Rr),rT();break;case 5:tT(n);break;case 4:_c();break;case 13:Tt(Mt);break;case 19:Tt(Mt);break;case 10:XI(n.type._context);break;case 22:case 23:mT()}r=r.return}if(yr=t,rr=t=xo(t.current,null),Ar=gn=e,cr=0,Pf=null,uT=Jv=Qi=0,Jr=Rd=null,wi!==null){for(e=0;e<wi.length;e++)if(r=wi[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}wi=null}return t}function uB(t,e){do{var r=rr;try{if(JI(),Pp.current=lx,ix){for(var n=Lt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ix=!1}if(Zi=0,pr=lr=Lt=null,_d=!1,Tf=0,cT.current=null,r===null||r.return===null){cr=1,Pf=e,rr=null;break}e:{var s=t,i=r.return,l=r,c=e;if(e=Ar,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=U2(i);if(p!==null){p.flags&=-257,z2(p,i,l,s,e),p.mode&1&&V2(s,u,e),e=p,c=u;var h=e.updateQueue;if(h===null){var b=new Set;b.add(c),e.updateQueue=b}else h.add(c);break e}else{if(!(e&1)){V2(s,u,e),hT();break e}c=Error(de(426))}}else if(Pt&&l.mode&1){var g=U2(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),z2(g,i,l,s,e),YI($c(c,l));break e}}s=c=$c(c,l),cr!==4&&(cr=2),Rd===null?Rd=[s]:Rd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=G4(s,c,e);R2(s,x);break e;case 1:l=c;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(yo===null||!yo.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=Y4(s,l,e);R2(s,N);break e}}s=s.return}while(s!==null)}mB(r)}catch(C){e=C,rr===r&&r!==null&&(rr=r=r.return);continue}break}while(!0)}function dB(){var t=cx.current;return cx.current=lx,t===null?lx:t}function hT(){(cr===0||cr===3||cr===2)&&(cr=4),yr===null||!(Qi&268435455)&&!(Jv&268435455)||to(yr,Ar)}function fx(t,e){var r=Xe;Xe|=2;var n=dB();(yr!==t||Ar!==e)&&(ts=null,Pi(t,e));do try{bH();break}catch(a){uB(t,a)}while(!0);if(JI(),Xe=r,cx.current=n,rr!==null)throw Error(de(261));return yr=null,Ar=0,cr}function bH(){for(;rr!==null;)fB(rr)}function xH(){for(;rr!==null&&!z9();)fB(rr)}function fB(t){var e=pB(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?mB(t):rr=e,cT.current=null}function mB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=fH(r,e),r!==null){r.flags&=32767,rr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cr=6,rr=null;return}}else if(r=dH(r,e,gn),r!==null){rr=r;return}if(e=e.sibling,e!==null){rr=e;return}rr=e=t}while(e!==null);cr===0&&(cr=5)}function fi(t,e,r){var n=dt,a=Hn.transition;try{Hn.transition=null,dt=1,vH(t,e,r,n)}finally{Hn.transition=a,dt=n}return null}function vH(t,e,r,n){do oc();while(ao!==null);if(Xe&6)throw Error(de(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(eW(t,s),t===yr&&(rr=yr=null,Ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ph||(Ph=!0,gB(Gb,function(){return oc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Hn.transition,Hn.transition=null;var i=dt;dt=1;var l=Xe;Xe|=4,cT.current=null,hH(t,r),iB(r,t),BW(GN),Kb=!!HN,GN=HN=null,t.current=r,pH(r),W9(),Xe=l,dt=i,Hn.transition=s}else t.current=r;if(Ph&&(Ph=!1,ao=t,dx=a),s=t.pendingLanes,s===0&&(yo=null),Y9(r.stateNode),sn(t,Jt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ux)throw ux=!1,t=mS,mS=null,t;return dx&1&&t.tag!==0&&oc(),s=t.pendingLanes,s&1?t===hS?Md++:(Md=0,hS=t):Md=0,Vo(),null}function oc(){if(ao!==null){var t=G5(dx),e=Hn.transition,r=dt;try{if(Hn.transition=null,dt=16>t?16:t,ao===null)var n=!1;else{if(t=ao,ao=null,dx=0,Xe&6)throw Error(de(331));var a=Xe;for(Xe|=4,we=t.current;we!==null;){var s=we,i=s.child;if(we.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:$d(8,d,s)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var m=d.sibling,p=d.return;if(aB(d),d===u){we=null;break}if(m!==null){m.return=p,we=m;break}we=p}}}var h=s.alternate;if(h!==null){var b=h.child;if(b!==null){h.child=null;do{var g=b.sibling;b.sibling=null,b=g}while(b!==null)}}we=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,we=i;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$d(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,we=x;break e}we=s.return}}var y=t.current;for(we=y;we!==null;){i=we;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,we=v;else e:for(i=y;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kv(9,l)}}catch(C){Vt(l,l.return,C)}if(l===i){we=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,we=N;break e}we=l.return}}if(Xe=a,Vo(),Oa&&typeof Oa.onPostCommitFiberRoot=="function")try{Oa.onPostCommitFiberRoot(qv,t)}catch{}n=!0}return n}finally{dt=r,Hn.transition=e}}return!1}function nP(t,e,r){e=$c(r,e),e=G4(t,e,1),t=go(t,e,1),e=Ur(),t!==null&&($m(t,1,e),sn(t,e))}function Vt(t,e,r){if(t.tag===3)nP(t,t,r);else for(;e!==null;){if(e.tag===3){nP(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yo===null||!yo.has(n))){t=$c(r,t),t=Y4(e,t,1),e=go(e,t,1),t=Ur(),e!==null&&($m(e,1,t),sn(e,t));break}}e=e.return}}function jH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ur(),t.pingedLanes|=t.suspendedLanes&r,yr===t&&(Ar&r)===r&&(cr===4||cr===3&&(Ar&130023424)===Ar&&500>Jt()-dT?Pi(t,0):uT|=r),sn(t,e)}function hB(t,e){e===0&&(t.mode&1?(e=wh,wh<<=1,!(wh&130023424)&&(wh=4194304)):e=1);var r=Ur();t=Ss(t,e),t!==null&&($m(t,e,r),sn(t,r))}function wH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hB(t,r)}function CH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(de(314))}n!==null&&n.delete(e),hB(t,r)}var pB;pB=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)Qr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Qr=!1,uH(t,e,r);Qr=!!(t.flags&131072)}else Qr=!1,Pt&&e.flags&1048576&&x4(e,rx,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;_p(t,e),t=e.pendingProps;var a=Ec(e,Rr.current);sc(e,r),a=aT(null,e,n,t,a,r);var s=sT();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(n)?(s=!0,ex(e)):s=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,QI(e),a.updater=Yv,e.stateNode=a,a._reactInternals=e,rS(e,n,t,r),e=sS(null,e,n,!0,s,r)):(e.tag=0,Pt&&s&&HI(e),Br(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(_p(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=SH(n),t=aa(n,t),a){case 0:e=aS(null,e,n,t,r);break e;case 1:e=G2(null,e,n,t,r);break e;case 11:e=W2(null,e,n,t,r);break e;case 14:e=H2(null,e,n,aa(n.type,t),r);break e}throw Error(de(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:aa(n,a),aS(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:aa(n,a),G2(t,e,n,a,r);case 3:e:{if(Z4(e),t===null)throw Error(de(387));n=e.pendingProps,s=e.memoizedState,a=s.element,S4(t,e),sx(e,n,null,r);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){a=$c(Error(de(423)),e),e=Y2(t,e,n,r,a);break e}else if(n!==a){a=$c(Error(de(424)),e),e=Y2(t,e,n,r,a);break e}else for(vn=po(e.stateNode.containerInfo.firstChild),Cn=e,Pt=!0,oa=null,r=C4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pc(),n===a){e=As(t,e,r);break e}Br(t,e,n,r)}e=e.child}return e;case 5:return A4(e),t===null&&QN(e),n=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,YN(n,a)?i=null:s!==null&&YN(n,s)&&(e.flags|=32),X4(t,e),Br(t,e,i,r),e.child;case 6:return t===null&&QN(e),null;case 13:return Q4(t,e,r);case 4:return eT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Oc(e,null,n,r):Br(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:aa(n,a),W2(t,e,n,a,r);case 7:return Br(t,e,e.pendingProps,r),e.child;case 8:return Br(t,e,e.pendingProps.children,r),e.child;case 12:return Br(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,s=e.memoizedProps,i=a.value,Ct(nx,n._currentValue),n._currentValue=i,s!==null)if(ya(s.value,i)){if(s.children===a.children&&!nn.current){e=As(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ps(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),eS(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(de(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),eS(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Br(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,sc(e,r),a=Yn(a),n=n(a),e.flags|=1,Br(t,e,n,r),e.child;case 14:return n=e.type,a=aa(n,e.pendingProps),a=aa(n.type,a),H2(t,e,n,a,r);case 15:return K4(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:aa(n,a),_p(t,e),e.tag=1,an(n)?(t=!0,ex(e)):t=!1,sc(e,r),H4(e,n,a),rS(e,n,a,r),sS(null,e,n,!0,t,r);case 19:return eB(t,e,r);case 22:return J4(t,e,r)}throw Error(de(156,e.tag))};function gB(t,e){return U5(t,e)}function NH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,r,n){return new NH(t,e,r,n)}function pT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SH(t){if(typeof t=="function")return pT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_I)return 11;if(t===$I)return 14}return 2}function xo(t,e){var r=t.alternate;return r===null?(r=Un(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Mp(t,e,r,n,a,s){var i=2;if(n=t,typeof t=="function")pT(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Fl:return Oi(r.children,a,s,e);case OI:i=8,a|=8;break;case AN:return t=Un(12,r,e,a|2),t.elementType=AN,t.lanes=s,t;case kN:return t=Un(13,r,e,a),t.elementType=kN,t.lanes=s,t;case IN:return t=Un(19,r,e,a),t.elementType=IN,t.lanes=s,t;case A5:return Xv(r,a,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N5:i=10;break e;case S5:i=9;break e;case _I:i=11;break e;case $I:i=14;break e;case Ks:i=16,n=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=Un(i,r,e,a),e.elementType=t,e.type=n,e.lanes=s,e}function Oi(t,e,r,n){return t=Un(7,t,n,e),t.lanes=r,t}function Xv(t,e,r,n){return t=Un(22,t,n,e),t.elementType=A5,t.lanes=r,t.stateNode={isHidden:!1},t}function d1(t,e,r){return t=Un(6,t,null,e),t.lanes=r,t}function f1(t,e,r){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AH(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hw(0),this.expirationTimes=Hw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function gT(t,e,r,n,a,s,i,l,c){return t=new AH(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Un(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},QI(s),t}function kH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ll,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function yB(t){if(!t)return Po;t=t._reactInternals;e:{if(fl(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var r=t.type;if(an(r))return y4(t,r,e)}return e}function bB(t,e,r,n,a,s,i,l,c){return t=gT(r,n,!0,t,a,s,i,l,c),t.context=yB(null),r=t.current,n=Ur(),a=bo(r),s=ps(n,a),s.callback=e??null,go(r,s,a),t.current.lanes=a,$m(t,a,n),sn(t,n),t}function Zv(t,e,r,n){var a=e.current,s=Ur(),i=bo(a);return r=yB(r),e.context===null?e.context=r:e.pendingContext=r,e=ps(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=go(a,e,i),t!==null&&(fa(t,a,i,s),Ep(t,a,i)),i}function mx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function yT(t,e){aP(t,e),(t=t.alternate)&&aP(t,e)}function IH(){return null}var xB=typeof reportError=="function"?reportError:function(t){console.error(t)};function bT(t){this._internalRoot=t}Qv.prototype.render=bT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));Zv(t,e,null,null)};Qv.prototype.unmount=bT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;el(function(){Zv(null,t,null,null)}),e[Ns]=null}};function Qv(t){this._internalRoot=t}Qv.prototype.unstable_scheduleHydration=function(t){if(t){var e=J5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<eo.length&&e!==0&&e<eo[r].priority;r++);eo.splice(r,0,t),r===0&&Z5(t)}};function xT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function e0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sP(){}function TH(t,e,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=mx(i);s.call(u)}}var i=bB(e,n,t,0,null,!1,!1,"",sP);return t._reactRootContainer=i,t[Ns]=i.current,Nf(t.nodeType===8?t.parentNode:t),el(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=mx(c);l.call(u)}}var c=gT(t,0,!1,null,null,!1,!1,"",sP);return t._reactRootContainer=c,t[Ns]=c.current,Nf(t.nodeType===8?t.parentNode:t),el(function(){Zv(e,c,r,n)}),c}function t0(t,e,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=mx(i);l.call(c)}}Zv(e,i,t,a)}else i=TH(r,e,t,a,n);return mx(i)}Y5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=pd(e.pendingLanes);r!==0&&(LI(e,r|1),sn(e,Jt()),!(Xe&6)&&(Rc=Jt()+500,Vo()))}break;case 13:el(function(){var n=Ss(t,1);if(n!==null){var a=Ur();fa(n,t,1,a)}}),yT(t,1)}};FI=function(t){if(t.tag===13){var e=Ss(t,134217728);if(e!==null){var r=Ur();fa(e,t,134217728,r)}yT(t,134217728)}};K5=function(t){if(t.tag===13){var e=bo(t),r=Ss(t,e);if(r!==null){var n=Ur();fa(r,t,e,n)}yT(t,e)}};J5=function(){return dt};X5=function(t,e){var r=dt;try{return dt=t,e()}finally{dt=r}};LN=function(t,e,r){switch(e){case"input":if(EN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Wv(n);if(!a)throw Error(de(90));I5(n),EN(n,a)}}}break;case"textarea":D5(t,r);break;case"select":e=r.value,e!=null&&tc(t,!!r.multiple,e,!1)}};M5=fT;L5=el;var DH={usingClientEntryPoint:!1,Events:[Mm,Ul,Wv,$5,R5,fT]},Vu={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EH={bundleType:Vu.bundleType,version:Vu.version,rendererPackageName:Vu.rendererPackageName,rendererConfig:Vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q5(t),t===null?null:t.stateNode},findFiberByHostInstance:Vu.findFiberByHostInstance||IH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{qv=Oh.inject(EH),Oa=Oh}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DH;Pn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xT(e))throw Error(de(200));return kH(t,e,null,r)};Pn.createRoot=function(t,e){if(!xT(t))throw Error(de(299));var r=!1,n="",a=xB;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=gT(t,1,!1,null,null,r,!1,n,a),t[Ns]=e.current,Nf(t.nodeType===8?t.parentNode:t),new bT(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=q5(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return el(t)};Pn.hydrate=function(t,e,r){if(!e0(e))throw Error(de(200));return t0(null,t,e,!0,r)};Pn.hydrateRoot=function(t,e,r){if(!xT(t))throw Error(de(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=xB;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=bB(e,null,t,1,r??null,a,!1,s,i),t[Ns]=e.current,Nf(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Qv(e)};Pn.render=function(t,e,r){if(!e0(e))throw Error(de(200));return t0(null,t,e,!1,r)};Pn.unmountComponentAtNode=function(t){if(!e0(t))throw Error(de(40));return t._reactRootContainer?(el(function(){t0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ns]=null})}),!0):!1};Pn.unstable_batchedUpdates=fT;Pn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!e0(r))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return t0(t,e,r,!1,n)};Pn.version="18.3.1-next-f1338f8080-20240426";function vB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vB)}catch(t){console.error(t)}}vB(),v5.exports=Pn;var r0=v5.exports,oP=r0;NN.createRoot=oP.createRoot,NN.hydrateRoot=oP.hydrateRoot;var jB={exports:{}},wB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm=w;function PH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var OH=typeof Object.is=="function"?Object.is:PH,_H=Fm.useSyncExternalStore,$H=Fm.useRef,RH=Fm.useEffect,MH=Fm.useMemo,LH=Fm.useDebugValue;wB.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var s=$H(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=MH(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&i.hasValue){var h=i.value;if(a(h,p))return f=h}return f=p}if(h=f,OH(d,p))return h;var b=n(p);return a!==void 0&&a(h,b)?(d=p,h):(d=p,f=b)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,a]);var l=_H(t,s[0],s[1]);return RH(function(){i.hasValue=!0,i.value=l},[l]),LH(l),l};jB.exports=wB;var FH=jB.exports;function BH(t){t()}function qH(){let t=null,e=null;return{clear(){t=null,e=null},notify(){BH(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var iP={notify(){},get:()=>[]};function VH(t,e){let r,n=iP,a=0,s=!1;function i(b){d();const g=n.subscribe(b);let x=!1;return()=>{x||(x=!0,g(),f())}}function l(){n.notify()}function c(){h.onStateChange&&h.onStateChange()}function u(){return s}function d(){a++,r||(r=t.subscribe(c),n=qH())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=iP)}function m(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const h={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>n};return h}var UH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zH=UH(),WH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HH=WH(),GH=()=>zH||HH?w.useLayoutEffect:w.useEffect,YH=GH(),m1=Symbol.for("react-redux-context"),h1=typeof globalThis<"u"?globalThis:{};function KH(){if(!w.createContext)return{};const t=h1[m1]??(h1[m1]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Oo=KH();function JH(t){const{children:e,context:r,serverState:n,store:a}=t,s=w.useMemo(()=>{const c=VH(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=w.useMemo(()=>a.getState(),[a]);YH(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||Oo;return w.createElement(l.Provider,{value:s},e)}var XH=JH;function vT(t=Oo){return function(){return w.useContext(t)}}var CB=vT();function NB(t=Oo){const e=t===Oo?CB:vT(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var ZH=NB();function QH(t=Oo){const e=t===Oo?ZH:NB(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var le=QH(),eG=(t,e)=>t===e;function tG(t=Oo){const e=t===Oo?CB:vT(t),r=(n,a={})=>{const{equalityFn:s=eG}=typeof a=="function"?{equalityFn:a}:a,i=e(),{store:l,subscription:c,getServerState:u}=i;w.useRef(!0);const d=w.useCallback({[n.name](m){return n(m)}}[n.name],[n]),f=FH.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,s);return w.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var V=tG();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Of.apply(this,arguments)}var so;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(so||(so={}));const lP="popstate";function rG(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return yS("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:hx(a)}return aG(e,r,null,t)}function Qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nG(){return Math.random().toString(36).substr(2,8)}function cP(t,e){return{usr:t.state,key:t.key,idx:e}}function yS(t,e,r,n){return r===void 0&&(r=null),Of({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hu(e):e,{state:r,key:e&&e.key||n||nG()})}function hx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function hu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function aG(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=so.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Of({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=so.Pop;let g=d(),x=g==null?null:g-u;u=g,c&&c({action:l,location:b.location,delta:x})}function m(g,x){l=so.Push;let y=yS(b.location,g,x);u=d()+1;let v=cP(y,u),N=b.createHref(y);try{i.pushState(v,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(N)}s&&c&&c({action:l,location:b.location,delta:1})}function p(g,x){l=so.Replace;let y=yS(b.location,g,x);u=d();let v=cP(y,u),N=b.createHref(y);i.replaceState(v,"",N),s&&c&&c({action:l,location:b.location,delta:0})}function h(g){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:hx(g);return y=y.replace(/ $/,"%20"),Qt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let b={get action(){return l},get location(){return t(a,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(lP,f),c=g,()=>{a.removeEventListener(lP,f),c=null}},createHref(g){return e(a,g)},createURL:h,encodeLocation(g){let x=h(g);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:p,go(g){return i.go(g)}};return b}var uP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uP||(uP={}));function sG(t,e,r){return r===void 0&&(r="/"),oG(t,e,r)}function oG(t,e,r,n){let a=typeof e=="string"?hu(e):e,s=jT(a.pathname||"/",r);if(s==null)return null;let i=AB(t);iG(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=xG(s);l=gG(i[c],u)}return l}function AB(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Qt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=vo([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Qt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),AB(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:hG(u,s.index),routesMeta:d})};return t.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of kB(s.path))a(s,i,c)}),e}function kB(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=kB(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function iG(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:pG(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lG=/^:[\w-]+$/,cG=3,uG=2,dG=1,fG=10,mG=-2,dP=t=>t==="*";function hG(t,e){let r=t.split("/"),n=r.length;return r.some(dP)&&(n+=mG),e&&(n+=uG),r.filter(a=>!dP(a)).reduce((a,s)=>a+(lG.test(s)?cG:s===""?dG:fG),n)}function pG(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function gG(t,e,r){let{routesMeta:n}=t,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=yG({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:vo([s,f.pathname]),pathnameBase:CG(vo([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=vo([s,f.pathnameBase]))}return i}function yG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=bG(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let b=l[f]||"";i=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const h=l[f];return p&&!h?u[m]=void 0:u[m]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function bG(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),SB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function xG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return SB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function vG(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?hu(t):t;return{pathname:r?r.startsWith("/")?r:jG(r,e):e,search:NG(n),hash:SG(a)}}function jG(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function p1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wG(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wT(t,e){let r=wG(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function CT(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=hu(t):(a=Of({},t),Qt(!a.pathname||!a.pathname.includes("?"),p1("?","pathname","search",a)),Qt(!a.pathname||!a.pathname.includes("#"),p1("#","pathname","hash",a)),Qt(!a.search||!a.search.includes("#"),p1("#","search","hash",a)));let s=t===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=e.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=vG(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const vo=t=>t.join("/").replace(/\/\/+/g,"/"),CG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IB=["post","put","patch","delete"];new Set(IB);const kG=["get",...IB];new Set(kG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_f.apply(this,arguments)}const NT=w.createContext(null),IG=w.createContext(null),Uo=w.createContext(null),n0=w.createContext(null),Rs=w.createContext({outlet:null,matches:[],isDataRoute:!1}),TB=w.createContext(null);function TG(t,e){let{relative:r}=e===void 0?{}:e;pu()||Qt(!1);let{basename:n,navigator:a}=w.useContext(Uo),{hash:s,pathname:i,search:l}=EB(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:vo([n,i])),a.createHref({pathname:c,search:l,hash:s})}function pu(){return w.useContext(n0)!=null}function zo(){return pu()||Qt(!1),w.useContext(n0).location}function DB(t){w.useContext(Uo).static||w.useLayoutEffect(t)}function Bm(){let{isDataRoute:t}=w.useContext(Rs);return t?zG():DG()}function DG(){pu()||Qt(!1);let t=w.useContext(NT),{basename:e,future:r,navigator:n}=w.useContext(Uo),{matches:a}=w.useContext(Rs),{pathname:s}=zo(),i=JSON.stringify(wT(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return DB(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=CT(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:vo([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}const EG=w.createContext(null);function PG(t){let e=w.useContext(Rs).outlet;return e&&w.createElement(EG.Provider,{value:t},e)}function EB(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(Uo),{matches:a}=w.useContext(Rs),{pathname:s}=zo(),i=JSON.stringify(wT(a,n.v7_relativeSplatPath));return w.useMemo(()=>CT(t,JSON.parse(i),s,r==="path"),[t,i,s,r])}function OG(t,e){return _G(t,e)}function _G(t,e,r,n){pu()||Qt(!1);let{navigator:a}=w.useContext(Uo),{matches:s}=w.useContext(Rs),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=zo(),d;if(e){var f;let g=typeof e=="string"?hu(e):e;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Qt(!1),d=g}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let h=sG(t,{pathname:p}),b=FG(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:vo([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:vo([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return e&&b?w.createElement(n0.Provider,{value:{location:_f({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:so.Pop}},b):b}function $G(){let t=UG(),e=AG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:a},r):null,null)}const RG=w.createElement($G,null);class MG extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(Rs.Provider,{value:this.props.routeContext},w.createElement(TB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LG(t){let{routeContext:e,match:r,children:n}=t,a=w.useContext(NT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Rs.Provider,{value:e},n)}function FG(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Qt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,h=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||h){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,h=!1,b=null,g=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||RG,c&&(u<0&&m===0?(WG("route-fallback"),h=!0,g=null):u===m&&(h=!0,g=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,m+1)),y=()=>{let v;return p?v=b:h?v=g:f.route.Component?v=w.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,w.createElement(LG,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(MG,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var PB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PB||{}),OB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(OB||{});function BG(t){let e=w.useContext(NT);return e||Qt(!1),e}function qG(t){let e=w.useContext(IG);return e||Qt(!1),e}function VG(t){let e=w.useContext(Rs);return e||Qt(!1),e}function _B(t){let e=VG(),r=e.matches[e.matches.length-1];return r.route.id||Qt(!1),r.route.id}function UG(){var t;let e=w.useContext(TB),r=qG(),n=_B();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function zG(){let{router:t}=BG(PB.UseNavigateStable),e=_B(OB.UseNavigateStable),r=w.useRef(!1);return DB(()=>{r.current=!0}),w.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,_f({fromRouteId:e},s)))},[t,e])}const fP={};function WG(t,e,r){fP[t]||(fP[t]=!0)}function HG(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Uu(t){let{to:e,replace:r,state:n,relative:a}=t;pu()||Qt(!1);let{future:s,static:i}=w.useContext(Uo),{matches:l}=w.useContext(Rs),{pathname:c}=zo(),u=Bm(),d=CT(e,wT(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function $B(t){return PG(t.context)}function ce(t){Qt(!1)}function GG(t){let{basename:e="/",children:r=null,location:n,navigationType:a=so.Pop,navigator:s,static:i=!1,future:l}=t;pu()&&Qt(!1);let c=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:s,static:i,future:_f({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=hu(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:h="default"}=n,b=w.useMemo(()=>{let g=jT(d,c);return g==null?null:{location:{pathname:g,search:f,hash:m,state:p,key:h},navigationType:a}},[c,d,f,m,p,h,a]);return b==null?null:w.createElement(Uo.Provider,{value:u},w.createElement(n0.Provider,{children:r,value:b}))}function YG(t){let{children:e,location:r}=t;return OG(bS(e),r)}new Promise(()=>{});function bS(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,a)=>{if(!w.isValidElement(n))return;let s=[...e,a];if(n.type===w.Fragment){r.push.apply(r,bS(n.props.children,s));return}n.type!==ce&&Qt(!1),!n.props.index||!n.props.children||Qt(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=bS(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xS(){return xS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xS.apply(this,arguments)}function KG(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function JG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XG(t,e){return t.button===0&&(!e||e==="_self")&&!JG(t)}const ZG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QG="6";try{window.__reactRouterVersion=QG}catch{}const eY="startTransition",mP=Do[eY];function tY(t){let{basename:e,children:r,future:n,window:a}=t,s=w.useRef();s.current==null&&(s.current=rG({window:a,v5Compat:!0}));let i=s.current,[l,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&mP?mP(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.useEffect(()=>HG(n),[n]),w.createElement(GG,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const rY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ic=w.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=KG(e,ZG),{basename:p}=w.useContext(Uo),h,b=!1;if(typeof u=="string"&&nY.test(u)&&(h=u,rY))try{let v=new URL(window.location.href),N=u.startsWith("//")?new URL(v.protocol+u):new URL(u),C=jT(N.pathname,p);N.origin===v.origin&&C!=null?u=C+N.search+N.hash:b=!0}catch{}let g=TG(u,{relative:a}),x=aY(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(v){n&&n(v),v.defaultPrevented||x(v)}return w.createElement("a",xS({},m,{href:h||g,onClick:b||s?n:y,ref:r,target:c}))});var hP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hP||(hP={}));var pP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pP||(pP={}));function aY(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=e===void 0?{}:e,c=Bm(),u=zo(),d=EB(t,{relative:i});return w.useCallback(f=>{if(XG(f,r)){f.preventDefault();let m=n!==void 0?n:hx(u)===hx(d);c(t,{replace:m,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,t,s,i,l])}function jr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var sY=typeof Symbol=="function"&&Symbol.observable||"@@observable",gP=sY,g1=()=>Math.random().toString(36).substring(7).split("").join("."),oY={INIT:`@@redux/INIT${g1()}`,REPLACE:`@@redux/REPLACE${g1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${g1()}`},px=oY;function ST(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function RB(t,e,r){if(typeof t!="function")throw new Error(jr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(jr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(jr(1));return r(RB)(t,e)}let n=t,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((g,x)=>{i.set(x,g)}))}function d(){if(c)throw new Error(jr(3));return a}function f(g){if(typeof g!="function")throw new Error(jr(4));if(c)throw new Error(jr(5));let x=!0;u();const y=l++;return i.set(y,g),function(){if(x){if(c)throw new Error(jr(6));x=!1,u(),i.delete(y),s=null}}}function m(g){if(!ST(g))throw new Error(jr(7));if(typeof g.type>"u")throw new Error(jr(8));if(typeof g.type!="string")throw new Error(jr(17));if(c)throw new Error(jr(9));try{c=!0,a=n(a,g)}finally{c=!1}return(s=i).forEach(y=>{y()}),g}function p(g){if(typeof g!="function")throw new Error(jr(10));n=g,m({type:px.REPLACE})}function h(){const g=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(jr(11));function y(){const N=x;N.next&&N.next(d())}return y(),{unsubscribe:g(y)}},[gP](){return this}}}return m({type:px.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:p,[gP]:h}}function iY(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:px.INIT})>"u")throw new Error(jr(12));if(typeof r(void 0,{type:px.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jr(13))})}function lY(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const i=e[s];typeof t[i]=="function"&&(r[i]=t[i])}const n=Object.keys(r);let a;try{iY(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],p=i[f],h=m(p,l);if(typeof h>"u")throw l&&l.type,new Error(jr(14));u[f]=h,c=c||h!==p}return c=c||n.length!==Object.keys(i).length,c?u:i}}function gx(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function cY(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(jr(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(i));return s=gx(...l)(a.dispatch),{...a,dispatch:s}}}function uY(t){return ST(t)&&"type"in t&&typeof t.type=="string"}var MB=Symbol.for("immer-nothing"),yP=Symbol.for("immer-draftable"),kn=Symbol.for("immer-state");function ia(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mc=Object.getPrototypeOf;function tl(t){return!!t&&!!t[kn]}function ks(t){var e;return t?LB(t)||Array.isArray(t)||!!t[yP]||!!((e=t.constructor)!=null&&e[yP])||s0(t)||o0(t):!1}var dY=Object.prototype.constructor.toString();function LB(t){if(!t||typeof t!="object")return!1;const e=Mc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===dY}function yx(t,e){a0(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function a0(t){const e=t[kn];return e?e.type_:Array.isArray(t)?1:s0(t)?2:o0(t)?3:0}function vS(t,e){return a0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function FB(t,e,r){const n=a0(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function fY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function s0(t){return t instanceof Map}function o0(t){return t instanceof Set}function mi(t){return t.copy_||t.base_}function jS(t,e){if(s0(t))return new Map(t);if(o0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=LB(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[kn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(Mc(t),n)}else{const n=Mc(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function AT(t,e=!1){return i0(t)||tl(t)||!ks(t)||(a0(t)>1&&(t.set=t.add=t.clear=t.delete=mY),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>AT(n,!0))),t}function mY(){ia(2)}function i0(t){return Object.isFrozen(t)}var hY={};function rl(t){const e=hY[t];return e||ia(0,t),e}var $f;function BB(){return $f}function pY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bP(t,e){e&&(rl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function wS(t){CS(t),t.drafts_.forEach(gY),t.drafts_=null}function CS(t){t===$f&&($f=t.parent_)}function xP(t){return $f=pY($f,t)}function gY(t){const e=t[kn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function vP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[kn].modified_&&(wS(e),ia(4)),ks(t)&&(t=bx(e,t),e.parent_||xx(e,t)),e.patches_&&rl("Patches").generateReplacementPatches_(r[kn].base_,t,e.patches_,e.inversePatches_)):t=bx(e,r,[]),wS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==MB?t:void 0}function bx(t,e,r){if(i0(e))return e;const n=e[kn];if(!n)return yx(e,(a,s)=>jP(t,n,e,a,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return xx(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),yx(s,(l,c)=>jP(t,n,a,l,c,r,i)),xx(t,a,!1),r&&t.patches_&&rl("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function jP(t,e,r,n,a,s,i){if(tl(a)){const l=s&&e&&e.type_!==3&&!vS(e.assigned_,n)?s.concat(n):void 0,c=bx(t,a,l);if(FB(r,n,c),tl(c))t.canAutoFreeze_=!1;else return}else i&&r.add(a);if(ks(a)&&!i0(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;bx(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&xx(t,a)}}function xx(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&AT(e,r)}function yY(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:BB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=kT;r&&(a=[n],s=Rf);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var kT={get(t,e){if(e===kn)return t;const r=mi(t);if(!vS(r,e))return bY(t,r,e);const n=r[e];return t.finalized_||!ks(n)?n:n===y1(t.base_,e)?(b1(t),t.copy_[e]=SS(n,t)):n},has(t,e){return e in mi(t)},ownKeys(t){return Reflect.ownKeys(mi(t))},set(t,e,r){const n=qB(mi(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=y1(mi(t),e),s=a==null?void 0:a[kn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(fY(r,a)&&(r!==void 0||vS(t.base_,e)))return!0;b1(t),NS(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return y1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,b1(t),NS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=mi(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){ia(11)},getPrototypeOf(t){return Mc(t.base_)},setPrototypeOf(){ia(12)}},Rf={};yx(kT,(t,e)=>{Rf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Rf.deleteProperty=function(t,e){return Rf.set.call(this,t,e,void 0)};Rf.set=function(t,e,r){return kT.set.call(this,t[0],e,r,t[0])};function y1(t,e){const r=t[kn];return(r?mi(r):t)[e]}function bY(t,e,r){var a;const n=qB(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function qB(t,e){if(!(e in t))return;let r=Mc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Mc(r)}}function NS(t){t.modified_||(t.modified_=!0,t.parent_&&NS(t.parent_))}function b1(t){t.copy_||(t.copy_=jS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var xY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&ia(6),n!==void 0&&typeof n!="function"&&ia(7);let a;if(ks(e)){const s=xP(this),i=SS(e,void 0);let l=!0;try{a=r(i),l=!1}finally{l?wS(s):CS(s)}return bP(s,n),vP(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===MB&&(a=void 0),this.autoFreeze_&&AT(a,!0),n){const s=[],i=[];rl("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else ia(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,r,(i,l)=>{n=i,a=l}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ks(t)||ia(8),tl(t)&&(t=vY(t));const e=xP(this),r=SS(t,void 0);return r[kn].isManual_=!0,CS(e),r}finishDraft(t,e){const r=t&&t[kn];(!r||!r.isManual_)&&ia(9);const{scope_:n}=r;return bP(n,e),vP(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=rl("Patches").applyPatches_;return tl(t)?n(t,e):this.produce(t,a=>n(a,e))}};function SS(t,e){const r=s0(t)?rl("MapSet").proxyMap_(t,e):o0(t)?rl("MapSet").proxySet_(t,e):yY(t,e);return(e?e.scope_:BB()).drafts_.push(r),r}function vY(t){return tl(t)||ia(10,t),VB(t)}function VB(t){if(!ks(t)||i0(t))return t;const e=t[kn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=jS(t,e.scope_.immer_.useStrictShallowCopy_)}else r=jS(t,!0);return yx(r,(n,a)=>{FB(r,n,VB(a))}),e&&(e.finalized_=!1),r}var In=new xY,UB=In.produce;In.produceWithPatches.bind(In);In.setAutoFreeze.bind(In);In.setUseStrictShallowCopy.bind(In);In.applyPatches.bind(In);In.createDraft.bind(In);In.finishDraft.bind(In);function zB(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var jY=zB(),wY=zB,CY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gx:gx.apply(null,arguments)},NY=t=>t&&typeof t.match=="function";function Ld(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(gs(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>uY(n)&&n.type===t,r}var WB=class yd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,yd.prototype)}static get[Symbol.species](){return yd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new yd(...e[0].concat(this)):new yd(...e.concat(this))}};function wP(t){return ks(t)?UB(t,()=>{}):t}function _h(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function SY(t){return typeof t=="boolean"}var AY=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new WB;return r&&(SY(r)?i.push(jY):i.push(wY(r.extraArgument))),i},kY="RTK_autoBatch",CP=t=>e=>{setTimeout(e,t)},IY=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,i=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CP(10):t.type==="callback"?t.queueNotification:CP(t.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[kY]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},TY=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new WB(t);return n&&a.push(IY(typeof n=="object"?n:void 0)),a};function DY(t){const e=AY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(ST(r))l=lY(r);else throw new Error(gs(1));let c;typeof n=="function"?c=n(e):c=e();let u=gx;a&&(u=CY({trace:!1,...typeof a=="object"&&a}));const d=cY(...c),f=TY(d);let m=typeof i=="function"?i(f):f();const p=u(...m);return RB(l,s,p)}function HB(t){const e={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(gs(28));if(l in e)throw new Error(gs(29));return e[l]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function EY(t){return typeof t=="function"}function PY(t,e){let[r,n,a]=HB(e),s;if(EY(t))s=()=>wP(t());else{const l=wP(t);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(tl(d)){const p=f(d,c);return p===void 0?d:p}else{if(ks(d))return UB(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=s,i}var OY=(t,e)=>NY(t)?t.match(e):t(e);function _Y(...t){return e=>t.some(r=>OY(r,e))}var $Y="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RY=(t=21)=>{let e="",r=t;for(;r--;)e+=$Y[Math.random()*64|0];return e},MY=["name","message","stack","code"],x1=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},NP=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},LY=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of MY)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},SP="External signal was aborted",L=(()=>{function t(e,r,n){const a=Ld(e+"/fulfilled",(c,u,d,f)=>({payload:c,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=Ld(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),i=Ld(e+"/rejected",(c,u,d,f,m)=>({payload:f,error:(n&&n.serializeError||LY)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,f,m)=>{const p=n!=null&&n.idGenerator?n.idGenerator(c):RY(),h=new AbortController;let b,g;function x(v){g=v,h.abort()}u&&(u.aborted?x(SP):u.addEventListener("abort",()=>x(SP),{once:!0}));const y=async function(){var C,j;let v;try{let S=(C=n==null?void 0:n.condition)==null?void 0:C.call(n,c,{getState:f,extra:m});if(BY(S)&&(S=await S),S===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const k=new Promise((T,A)=>{b=()=>{A({name:"AbortError",message:g||"Aborted"})},h.signal.addEventListener("abort",b)});d(s(p,c,(j=n==null?void 0:n.getPendingMeta)==null?void 0:j.call(n,{requestId:p,arg:c},{getState:f,extra:m}))),v=await Promise.race([k,Promise.resolve(r(c,{dispatch:d,getState:f,extra:m,requestId:p,signal:h.signal,abort:x,rejectWithValue:(T,A)=>new x1(T,A),fulfillWithValue:(T,A)=>new NP(T,A)})).then(T=>{if(T instanceof x1)throw T;return T instanceof NP?a(T.payload,p,c,T.meta):a(T,p,c)})])}catch(S){v=S instanceof x1?i(null,p,c,S.payload,S.meta):i(S,p,c)}finally{b&&h.signal.removeEventListener("abort",b)}return n&&!n.dispatchConditionRejection&&i.match(v)&&v.meta.condition||d(v),v}();return Object.assign(y,{abort:x,requestId:p,arg:c,unwrap(){return y.then(FY)}})}}return Object.assign(l,{pending:s,rejected:i,fulfilled:a,settled:_Y(i,a),typePrefix:e})}return t.withTypes=()=>t,t})();function FY(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function BY(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var qY=Symbol.for("rtk-slice-createasyncthunk");function VY(t,e){return`${t}/${e}`}function UY({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[qY];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(gs(11));const l=(typeof a.reducers=="function"?a.reducers(WY()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,C){const j=typeof N=="string"?N:N.type;if(!j)throw new Error(gs(12));if(j in u.sliceCaseReducersByType)throw new Error(gs(13));return u.sliceCaseReducersByType[j]=C,d},addMatcher(N,C){return u.sliceMatchers.push({matcher:N,reducer:C}),d},exposeAction(N,C){return u.actionCreators[N]=C,d},exposeCaseReducer(N,C){return u.sliceCaseReducersByName[N]=C,d}};c.forEach(N=>{const C=l[N],j={reducerName:N,type:VY(s,N),createNotation:typeof a.reducers=="function"};GY(C)?KY(j,C,d,e):HY(j,C,d)});function f(){const[N={},C=[],j=void 0]=typeof a.extraReducers=="function"?HB(a.extraReducers):[a.extraReducers],S={...N,...u.sliceCaseReducersByType};return PY(a.initialState,k=>{for(let T in S)k.addCase(T,S[T]);for(let T of u.sliceMatchers)k.addMatcher(T.matcher,T.reducer);for(let T of C)k.addMatcher(T.matcher,T.reducer);j&&k.addDefaultCase(j)})}const m=N=>N,p=new Map,h=new WeakMap;let b;function g(N,C){return b||(b=f()),b(N,C)}function x(){return b||(b=f()),b.getInitialState()}function y(N,C=!1){function j(k){let T=k[N];return typeof T>"u"&&C&&(T=_h(h,j,x)),T}function S(k=m){const T=_h(p,C,()=>new WeakMap);return _h(T,k,()=>{const A={};for(const[D,P]of Object.entries(a.selectors??{}))A[D]=zY(P,k,()=>_h(h,k,x),C);return A})}return{reducerPath:N,getSelectors:S,get selectors(){return S(j)},selectSlice:j}}const v={name:s,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...y(i),injectInto(N,{reducerPath:C,...j}={}){const S=C??i;return N.inject({reducerPath:S,reducer:g},j),{...v,...y(S,!0)}}};return v}}function zY(t,e,r,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=r()),t(l,...i)}return a.unwrapped=t,a}var xe=UY();function WY(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function HY({type:t,reducerName:e,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!YY(n))throw new Error(gs(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,i?Ld(t,i):Ld(t))}function GY(t){return t._reducerDefinitionType==="asyncThunk"}function YY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function KY({type:t,reducerName:e},r,n,a){if(!a)throw new Error(gs(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(t,s,d);n.exposeAction(e,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:i||$h,pending:l||$h,rejected:c||$h,settled:u||$h})}function $h(){}function gs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const JY="https://staging-engine.testthelink.online",XY=async(t,e)=>{var r;try{const n=await fetch(`${JY}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,password:e})}),a=await n.json();if(!n.ok||!a.token)throw new Error(a.message||((r=a.errors)==null?void 0:r.general)||"Login failed");return localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),a.user}catch(n){throw new Error(n.message)}},ZY=async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),null),QY=async t=>new Promise((e,r)=>{setTimeout(()=>{if(t){const n=localStorage.getItem("user");n?e(JSON.parse(n)):r(new Error("User not found"))}else r(new Error("Invalid token"))},500)}),eK=async(t,e)=>new Promise((r,n)=>{setTimeout(()=>{t==="password"?r({success:!0,message:"Password changed successfully"}):n(new Error("Current password is incorrect"))},800)}),l0={login:XY,logout:ZY,fetchUserProfile:QY,changePassword:eK},tK={user:null,isAuthenticated:!1,isLoading:!1,error:null},Lp=L("auth/login",async({username:t,password:e},r)=>{try{return await l0.login(t,e)}catch(n){return r.rejectWithValue(n.message)}}),GB=L("auth/logout",async(t,e)=>{try{return await l0.logout(),null}catch(r){return e.rejectWithValue(r.message)}}),v1=L("auth/changePassword",async({currentPassword:t,newPassword:e},r)=>{try{return await l0.changePassword(t,e)}catch(n){return r.rejectWithValue(n.message)}}),Fp=L("auth/fetchUserProfile",async(t,e)=>{try{return await l0.fetchUserProfile(t)}catch(r){return e.rejectWithValue(r.message)}}),YB=xe({name:"auth",initialState:tK,reducers:{resetAuthState:t=>{t.error=null}},extraReducers:t=>{t.addCase(Lp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lp.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(Lp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(GB.fulfilled,e=>{e.user=null,e.isAuthenticated=!1}).addCase(Fp.pending,e=>{e.isLoading=!0}).addCase(Fp.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(Fp.rejected,e=>{e.isLoading=!1,e.isAuthenticated=!1}).addCase(v1.pending,e=>{e.isLoading=!0}).addCase(v1.fulfilled,e=>{e.isLoading=!1}).addCase(v1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetAuthState:f8e}=YB.actions,rK=YB.reducer;let nK={data:""},aK=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||nK,sK=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,oK=/\/\*[^]*?\*\/|  +/g,AP=/\n+/g,ro=(t,e)=>{let r="",n="",a="";for(let s in t){let i=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+i+";":n+=s[1]=="f"?ro(i,s):s+"{"+ro(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=ro(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ro.p?ro.p(s,i):s+":"+i+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Ka={},KB=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+KB(t[r]);return e}return t},iK=(t,e,r,n,a)=>{let s=KB(t),i=Ka[s]||(Ka[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Ka[i]){let c=s!==t?t:(u=>{let d,f,m=[{}];for(;d=sK.exec(u.replace(oK,""));)d[4]?m.shift():d[3]?(f=d[3].replace(AP," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(AP," ").trim();return m[0]})(t);Ka[i]=ro(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Ka.g?Ka.g:null;return r&&(Ka.g=Ka[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Ka[i],e,n,l),i},lK=(t,e,r)=>t.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":ro(l,""):l===!1?"":l}return n+a+(i??"")},"");function c0(t){let e=this||{},r=t.call?t(e.p):t;return iK(r.unshift?r.raw?lK(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,aK(e.target),e.g,e.o,e.k)}let JB,AS,kS;c0.bind({g:1});let Is=c0.bind({k:1});function cK(t,e,r,n){ro.p=e,JB=t,AS=r,kS=n}function Wo(t,e){let r=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:AS&&AS()},l),r.o=/ *go\d+/.test(c),l.className=c0.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),kS&&u[0]&&kS(l),JB(u,l)}return a}}var uK=t=>typeof t=="function",vx=(t,e)=>uK(t)?t(e):t,dK=(()=>{let t=0;return()=>(++t).toString()})(),XB=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),fK=20,ZB=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,fK)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return ZB(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},Bp=[],Ni={toasts:[],pausedAt:void 0},ml=t=>{Ni=ZB(Ni,t),Bp.forEach(e=>{e(Ni)})},mK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hK=(t={})=>{let[e,r]=w.useState(Ni),n=w.useRef(Ni);w.useEffect(()=>(n.current!==Ni&&r(Ni),Bp.push(r),()=>{let s=Bp.indexOf(r);s>-1&&Bp.splice(s,1)}),[]);let a=e.toasts.map(s=>{var i,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||mK[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:a}},pK=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||dK()}),qm=t=>(e,r)=>{let n=pK(e,t,r);return ml({type:2,toast:n}),n.id},ie=(t,e)=>qm("blank")(t,e);ie.error=qm("error");ie.success=qm("success");ie.loading=qm("loading");ie.custom=qm("custom");ie.dismiss=t=>{ml({type:3,toastId:t})};ie.remove=t=>ml({type:4,toastId:t});ie.promise=(t,e,r)=>{let n=ie.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let s=e.success?vx(e.success,a):void 0;return s?ie.success(s,{id:n,...r,...r==null?void 0:r.success}):ie.dismiss(n),a}).catch(a=>{let s=e.error?vx(e.error,a):void 0;s?ie.error(s,{id:n,...r,...r==null?void 0:r.error}):ie.dismiss(n)}),t};var gK=(t,e)=>{ml({type:1,toast:{id:t,height:e}})},yK=()=>{ml({type:5,time:Date.now()})},Fd=new Map,bK=1e3,xK=(t,e=bK)=>{if(Fd.has(t))return;let r=setTimeout(()=>{Fd.delete(t),ml({type:4,toastId:t})},e);Fd.set(t,r)},vK=t=>{let{toasts:e,pausedAt:r}=hK(t);w.useEffect(()=>{if(r)return;let s=Date.now(),i=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&ie.dismiss(l.id);return}return setTimeout(()=>ie.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=w.useCallback(()=>{r&&ml({type:6,time:Date.now()})},[r]),a=w.useCallback((s,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},d=e.filter(p=>(p.position||u)===(s.position||u)&&p.height),f=d.findIndex(p=>p.id===s.id),m=d.filter((p,h)=>h<f&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[m+1]:[0,m]).reduce((p,h)=>p+(h.height||0)+c,0)},[e]);return w.useEffect(()=>{e.forEach(s=>{if(s.dismissed)xK(s.id,s.removeDelay);else{let i=Fd.get(s.id);i&&(clearTimeout(i),Fd.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:gK,startPause:yK,endPause:n,calculateOffset:a}}},jK=Is`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,wK=Is`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CK=Is`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,NK=Wo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${wK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${CK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,SK=Is`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,AK=Wo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${SK} 1s linear infinite;
`,kK=Is`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,IK=Is`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,TK=Wo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${IK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,DK=Wo("div")`
  position: absolute;
`,EK=Wo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,PK=Is`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,OK=Wo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${PK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,_K=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?w.createElement(OK,null,e):e:r==="blank"?null:w.createElement(EK,null,w.createElement(AK,{...n}),r!=="loading"&&w.createElement(DK,null,r==="error"?w.createElement(NK,{...n}):w.createElement(TK,{...n})))},$K=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,RK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,MK="0%{opacity:0;} 100%{opacity:1;}",LK="0%{opacity:1;} 100%{opacity:0;}",FK=Wo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,BK=Wo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qK=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=XB()?[MK,LK]:[$K(r),RK(r)];return{animation:e?`${Is(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Is(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},VK=w.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?qK(t.position||e||"top-center",t.visible):{opacity:0},s=w.createElement(_K,{toast:t}),i=w.createElement(BK,{...t.ariaProps},vx(t.message,t));return w.createElement(FK,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:s,message:i}):w.createElement(w.Fragment,null,s,i))});cK(w.createElement);var UK=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let s=w.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return w.createElement("div",{ref:s,className:e,style:r},a)},zK=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:XB()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},WK=c0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Rh=16,HK=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:s,containerClassName:i})=>{let{toasts:l,handlers:c}=vK(r);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Rh,left:Rh,right:Rh,bottom:Rh,pointerEvents:"none",...s},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),m=zK(d,f);return w.createElement(UK,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?WK:"",style:m},u.type==="custom"?vx(u.message,u):a?a(u):w.createElement(VK,{toast:u,position:d}))}))},q=ie;function QB(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=QB(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function _e(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=QB(t))&&(n&&(n+=" "),n+=e);return n}function GK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const e3=w.forwardRef(GK);function YK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const ba=w.forwardRef(YK);function KK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const t3=w.forwardRef(KK);function JK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const XK=w.forwardRef(JK);function ZK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const QK=w.forwardRef(ZK);function eJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const tJ=w.forwardRef(eJ);function rJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const IT=w.forwardRef(rJ);function nJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const IS=w.forwardRef(nJ);function aJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const r3=w.forwardRef(aJ);function sJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const kP=w.forwardRef(sJ);function oJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const n3=w.forwardRef(oJ);function iJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const lJ=w.forwardRef(iJ);function cJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const uJ=w.forwardRef(cJ);function dJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const a3=w.forwardRef(dJ);function fJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const mJ=w.forwardRef(fJ);function hJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const pJ=w.forwardRef(hJ);function gJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Vm=w.forwardRef(gJ);function yJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const bJ=w.forwardRef(yJ);function xJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const vJ=w.forwardRef(xJ);function jJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const wJ=w.forwardRef(jJ);function CJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ae=w.forwardRef(CJ);function NJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Se=w.forwardRef(NJ);function SJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const gu=w.forwardRef(SJ);function AJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const kJ=w.forwardRef(AJ);function IJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Me=w.forwardRef(IJ);function TJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const DJ=w.forwardRef(TJ);function EJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const s3=w.forwardRef(EJ);function PJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const o3=w.forwardRef(PJ),OJ=[{name:"Dashboard",href:"/dashboard",icon:vJ},{name:"Settings",icon:n3,submenu:[{name:"Departments",href:"/settings/departments"},{name:"Subdepartments",href:"/settings/subdepartments"},{name:"Modules",href:"/settings/modules"},{name:"Users",submenu:[{name:"Approval Matrix",href:"/settings/approval-matrix"},{name:"User Access",href:"/settings/user-access"},{name:"User Roles",href:"/settings/user-roles"},{name:"User",href:"/settings/users"}]},{name:"Real Property",submenu:[{name:"Tax Declaration",href:"/settings/tax-declaration"},{name:"Base Unit Value",href:"/settings/base-unit-value"},{name:"General Revision",href:"/settings/general-revision"}]},{name:"Accounting Settings",submenu:[{name:"Bank Details",submenu:[{name:"Bank",href:"/settings/bank"},{name:"Currency",href:"/settings/currency"}]},{name:"Document Details",submenu:[{name:"Document Type",href:"/settings/document-details"},{name:"Document Type Category",href:"/settings/document-type-categories"}]},{name:"Items Settings",submenu:[{name:"Item List",href:"/settings/items"},{name:"Item Units",href:"/settings/items/units"},{name:"Invoice Charge Accounts",href:"/settings/items/invoice-charge-accounts"}]},{name:"Project Settings",submenu:[{name:"Project Details",href:"/settings/project-details"},{name:"Project Type",href:"/settings/project-type"}]},{name:"Financial Statement",href:"/settings/financial-statement"},{name:"Fiscal Year",href:"/settings/fiscal-year"},{name:"Tax Code",href:"/settings/tax-code"},{name:"Mode of Payment",href:"/settings/mode-of-payment"},{name:"Payment Terms",href:"/settings/payment-terms"},{name:"Industry",href:"/settings/industry"}]},{name:"Locations",href:"/settings/locations"},{name:"Individual/Citizen",href:"/settings/customer"},{name:"Chart of Accounts Settings",submenu:[{name:"Chart of Accounts",href:"/settings/chart-of-accounts"},{name:"Account Group",href:"/settings/account-group"},{name:"Major Account Group",href:"/settings/major-account-group"},{name:"Sub Major Account Group",href:"/settings/sub-major-account-group"}]},{name:"Vendors",submenu:[{name:"Vendor Details",href:"/settings/vendors"},{name:"Vendor Customer Type",href:"/settings/vendor-customer-type"},{name:"Vendor Type",href:"/settings/vendor-type"}]},{name:"Employee",submenu:[{name:"Employee Details",href:"/settings/employees"},{name:"Employment Status",href:"/settings/employmentStatus"},{name:"Positions",href:"/settings/positions"},{name:"Nationalities",href:"/settings/nationalities"}]},{name:"PPE Settings",submenu:[{name:"PPE List",href:"/settings/ppe"},{name:"PPE Categories",href:"/settings/ppe-categories"},{name:"PPE Suppliers",href:"/settings/ppe-suppliers"}]},{name:"LGU Maintenance",href:"/settings/lgu-maintenance"}]},{name:"Disbursement",icon:lJ,submenu:[{name:"Obligation Request",href:"/disbursement/obligation-requests"},{name:"Disbursement Voucher",href:"/disbursement/vouchers"},{name:"Travel Order",href:"/disbursement/travel-orders"},{name:"Journal Entry Voucher",href:"/disbursement/journal-entry-vouchers"},{name:"Disbursement Journals",href:"/disbursement/disbursement-journals"},{name:"General Journals",href:"/disbursement/general-journals"},{name:"Beginning Balance",href:"/disbursement/beginning-balance"},{name:"Purchase Request",href:"/disbursement/purchase-requests"},{name:"Fund Utilization Requests and Status",href:"/disbursement/fund-utilization-requests"}]},{name:"Collections",icon:kJ,submenu:[{name:"Community Tax",href:"/collections/community-tax"},{name:"Community Tax Corporation",href:"/collections/community-tax-corporation"},{name:"General Service Receipt",href:"/collections/general-service-receipts"},{name:"Burial Service Receipt",href:"/collections/burial-service-receipts"},{name:"Marriage Service Receipt",href:"/collections/marriage-service-receipts"},{name:"Real Property Tax",href:"/collections/real-property-tax"},{name:"Cashbook",href:"/collections/cashbook"},{name:"Collection Report",href:"/collections/reports"},{name:"Public Market Ticket",href:"/collections/public-market-tickets"}]},{name:"Applications",icon:a3,submenu:[{name:"Business Permits",href:"/applications/business-permits"},{name:"Cheque Generator",href:"/applications/cheque-generator"}]},{name:"Budget",icon:uJ,submenu:[{name:"Budget Details",href:"/budget/details"},{name:"Budget Allotment",href:"/budget/allotment"},{name:"Budget Summary",href:"/budget/summary"},{name:"Budget Supplemental",href:"/budget/supplemental"},{name:"Budget Transfer",href:"/budget/transfer"},{name:"Budget Report",href:"/budget/report"},{name:"Funds",href:"/budget/funds"},{name:"Sub-funds",href:"/budget/sub-funds"},{name:"Fund Transfer",href:"/budget/fund-transfer"},{name:"Statement of Comparison",href:"/budget/statement-comparison"},{name:"Statement of Appropriation, Allotment, Obligation, Balances",href:"/budget/statement-appropriation"}]},{name:"Reports",icon:IS,submenu:[{name:"General Ledger",href:"/reports/general-ledger"},{name:"Subsidiary Ledger",href:"/reports/subsidiary-ledger"},{name:"Trial Balance",href:"/reports/trial-balance"},{name:"Financial Statements",href:"/reports/financial-statements"}]},{name:"BIR Reports",href:"/reports/bir",icon:IS}];function i3({items:t,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s=0,parentPath:i=""}){return o.jsx("div",{className:_e("space-y-1",s>0&&"ml-4 border-l-2 border-neutral-200 pl-3"),children:t.map(l=>{const c=i?`${i}.${l.name}`:l.name,u=e[c],d=a(l.submenu||[]);return o.jsx("div",{className:"relative",children:l.submenu?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:f=>{f.preventDefault(),r(c)},className:_e("group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",d?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100",u&&"border-l-4 border-primary-500",s>0&&"pl-2"),children:[o.jsxs("div",{className:"flex items-center",children:[l.icon&&o.jsx(l.icon,{className:_e("mr-3 h-5 w-5 flex-shrink-0",d?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:l.name})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("svg",{className:_e("h-5 w-5 transform transition-transform flex-shrink-0",u?"rotate-180 text-primary-500":"text-neutral-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u&&o.jsxs("div",{className:"mt-1",children:[" ",o.jsx(i3,{items:l.submenu,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s+1,parentPath:c})]})]}):o.jsxs(ic,{to:l.href,className:_e("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n(l.href)?"bg-primary-50 text-primary-700 border-l-4 border-primary-500":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900",s>0&&"pl-2"),children:[l.icon&&o.jsx(l.icon,{className:_e("mr-3 h-5 w-5 flex-shrink-0",n(l.href)?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:l.name})]})},c)})})}function _J(){var l,c;const t=zo(),{user:e}=V(u=>u.auth),[r,n]=w.useState({}),a=u=>{n(d=>({...d,[u]:!d[u]}))},s=u=>t.pathname===u||t.pathname===u+"/",i=u=>u.some(d=>d.href?t.pathname===d.href:d.children&&i(d.children));return o.jsxs("div",{className:"h-full flex flex-col border-r border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex items-center justify-center h-16 border-b border-neutral-200 bg-primary-800",children:o.jsx("h1",{className:"text-white text-xl font-bold px-4",children:"LGU System"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:o.jsx("nav",{className:"space-y-1 px-2",children:o.jsx(i3,{items:OJ,expandedMenus:r,toggleMenu:a,isActive:s,isSubMenuActive:i})})}),e&&o.jsxs("div",{className:"flex items-center px-4 py-3 border-t border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white font-medium text-sm",children:[((l=e.firstName)==null?void 0:l.charAt(0))||"",((c=e.lastName)==null?void 0:c.charAt(0))||""]})}),o.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-700 truncate",children:e.UserName||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500 truncate",children:e.department})]})]})]})}function kl(t,e,r){let n=r.initialDeps??[],a;function s(){var i,l,c,u;let d;r.key&&((i=r.debug)!=null&&i.call(r))&&(d=Date.now());const f=t();if(!(f.length!==n.length||f.some((h,b)=>n[b]!==h)))return a;n=f;let p;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(p=Date.now()),a=e(...f),r.key&&((c=r.debug)!=null&&c.call(r))){const h=Math.round((Date.now()-d)*100)/100,b=Math.round((Date.now()-p)*100)/100,g=b/16,x=(y,v)=>{for(y=String(y);y.length<v;)y=" "+y;return y};console.info(`%c ${x(b,5)} /${x(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,a),a}return s.updateDeps=i=>{n=i},s}function IP(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const $J=(t,e)=>Math.abs(t-e)<=1,RJ=(t,e,r)=>{let n;return function(...a){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,a),r)}},TP=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},MJ=t=>t,LJ=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let a=e;a<=r;a++)n.push(a);return n},FJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const a=i=>{const{width:l,height:c}=i;e({width:Math.round(l),height:Math.round(c)})};if(a(TP(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(i=>{const l=()=>{const c=i[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){a({width:u.inlineSize,height:u.blockSize});return}}a(TP(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},DP={passive:!0},EP=typeof window>"u"?!0:"onscrollend"in window,BJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let a=0;const s=t.options.useScrollendEvent&&EP?()=>{}:RJ(n,()=>{e(a,!1)},t.options.isScrollingResetDelay),i=d=>()=>{const{horizontal:f,isRtl:m}=t.options;a=f?r.scrollLeft*(m&&-1||1):r.scrollTop,s(),e(a,d)},l=i(!0),c=i(!1);c(),r.addEventListener("scroll",l,DP);const u=t.options.useScrollendEvent&&EP;return u&&r.addEventListener("scrollend",c,DP),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},qJ=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},VJ=(t,{adjustments:e=0,behavior:r},n)=>{var a,s;const i=t+e;(s=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class UJ{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const i=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var s;return(s=n())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=n())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:MJ,rangeExtractor:LJ,onChange:()=>{},measureElement:qJ,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=kl(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,s=new Map;for(let i=n-1;i>=0;i--){const l=r[i];if(a.has(l.lane))continue;const c=s.get(l.lane);if(c==null||l.end>c.end?s.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=kl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i}),{key:!1}),this.getMeasurements=kl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const f=s(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),p=m?m.end+this.options.gap:n+a,h=l.get(f),b=typeof h=="number"?h:this.options.estimateSize(d),g=p+b,x=m?m.lane:d%this.options.lanes;u[d]={index:d,start:p,size:b,end:g,key:f,lane:x}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=kl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,s)=>this.range=r.length>0&&n>0?zJ({measurements:r,outerSize:n,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=kl(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,s,i)=>s===null||i===null?[]:r({startIndex:s,endIndex:i,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),s=this.measurementsCache[a];if(!s)return;const i=s.key,l=this.elementsCache.get(i);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(i,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,i=n-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,i,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=kl(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let s=0,i=r.length;s<i;s++){const l=r[s],c=n[l];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return IP(n[l3(0,n.length-1,a=>IP(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const s=this.getSize(),i=this.getScrollOffset();n==="auto"&&(n=r>=i+s?"end":"start"),n==="center"?r+=(a-s)/2:n==="end"&&(r-=s);const l=this.getTotalSize()-s;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const s=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(a.end>=i+s-this.options.scrollPaddingEnd)n="end";else if(a.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const l=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{r=Math.max(0,Math.min(r,this.options.count-1)),this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(r,n);if(!s)return;const[i,l]=s;this._scrollToOffset(i,{adjustments:void 0,behavior:a}),a!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(r))){const u=this.getOffsetForIndex(r,l);if(!u)return;const[d]=u,f=this.getScrollOffset();$J(d,f)||this.scrollToIndex(r,{align:l,behavior:a})}else this.scrollToIndex(r,{align:l,behavior:a})}))},this.scrollBy=(r,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let i=n.length-1;for(;i>=0&&s.some(l=>l===null);){const l=n[i];s[l.lane]===null&&(s[l.lane]=l.end),i--}a=Math.max(...s.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const l3=(t,e,r,n)=>{for(;t<=e;){const a=(t+e)/2|0,s=r(a);if(s<n)t=a+1;else if(s>n)e=a-1;else return a}return t>0?t-1:0};function zJ({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const a=t.length-1,s=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:a};let i=l3(0,a,s,r),l=i;if(n===1)for(;l<a&&t[l].end<r+e;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<a&&c.some(d=>d<r+e);){const d=t[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+e);for(;i>=0&&u.some(d=>d>=r);){const d=t[i];u[d.lane]=d.start,i--}i=Math.max(0,i-i%n),l=Math.min(a,l+(n-1-l%n))}return{startIndex:i,endIndex:l}}const PP=typeof document<"u"?w.useLayoutEffect:w.useEffect;function WJ(t){const e=w.useReducer(()=>({}),{})[1],r={...t,onChange:(a,s)=>{var i;s?r0.flushSync(e):e(),(i=t.onChange)==null||i.call(t,a,s)}},[n]=w.useState(()=>new UJ(r));return n.setOptions(r),PP(()=>n._didMount(),[]),PP(()=>n._willUpdate()),n}function HJ(t){return WJ({observeElementRect:FJ,observeElementOffset:BJ,scrollToFn:VJ,...t})}var GJ=Object.defineProperty,YJ=(t,e,r)=>e in t?GJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,j1=(t,e,r)=>(YJ(t,typeof e!="symbol"?e+"":e,r),r);let KJ=class{constructor(){j1(this,"current",this.detect()),j1(this,"handoffState","pending"),j1(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ys=new KJ,gt=(t,e)=>{ys.isServer?w.useEffect(t,e):w.useLayoutEffect(t,e)};function ma(t){let e=w.useRef(t);return gt(()=>{e.current=t},[t]),e}function TT(t,e){let[r,n]=w.useState(t),a=ma(t);return gt(()=>n(a.current),[a,n,...e]),r}let Ne=function(t){let e=ma(t);return U.useCallback((...r)=>e.current(...r),[e])};function JJ(t,e,r){let[n,a]=w.useState(r),s=t!==void 0,i=w.useRef(s),l=w.useRef(!1),c=w.useRef(!1);return s&&!i.current&&!l.current?(l.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:n,Ne(u=>(s||a(u),e==null?void 0:e(u)))]}function u0(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Tn(){let t=[],e={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),e.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return u0(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Tn();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}function Ho(){let[t]=w.useState(Tn);return w.useEffect(()=>()=>t.dispose(),[t]),t}function XJ(){let t=typeof document>"u";return"useSyncExternalStore"in Do?(e=>e.useSyncExternalStore)(Do)(()=>()=>{},()=>!1,()=>!t):!1}function yu(){let t=XJ(),[e,r]=w.useState(ys.isHandoffComplete);return e&&ys.isHandoffComplete===!1&&r(!1),w.useEffect(()=>{e!==!0&&r(!0)},[e]),w.useEffect(()=>ys.handoff(),[]),t?!1:e}var OP;let fn=(OP=U.useId)!=null?OP:function(){let t=yu(),[e,r]=U.useState(t?()=>ys.nextId():null);return gt(()=>{e===null&&r(ys.nextId())},[e]),e!=null?""+e:void 0};function _t(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_t),n}function d0(t){return ys.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let TS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var is=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(is||{}),c3=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(c3||{}),ZJ=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(ZJ||{});function u3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(TS)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var DT=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(DT||{});function ET(t,e=0){var r;return t===((r=d0(t))==null?void 0:r.body)?!1:_t(e,{0(){return t.matches(TS)},1(){let n=t;for(;n!==null;){if(n.matches(TS))return!0;n=n.parentElement}return!1}})}function d3(t){let e=d0(t);Tn().nextFrame(()=>{e&&!ET(e.activeElement,0)&&jo(t)})}var QJ=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(QJ||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function jo(t){t==null||t.focus({preventScroll:!0})}let eX=["textarea","input"].join(",");function tX(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,eX))!=null?r:!1}function PT(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),s=e(n);if(a===null||s===null)return 0;let i=a.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function rX(t,e){return Bd(u3(),e,{relativeTo:t})}function Bd(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,i=Array.isArray(t)?r?PT(t):t:u3(t);a.length>0&&i.length>1&&(i=i.filter(p=>!a.includes(p))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,i.indexOf(n))-1;if(e&4)return Math.max(0,i.indexOf(n))+1;if(e&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=i.length,m;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}m=i[p],m==null||m.focus(u),d+=l}while(m!==s.activeElement);return e&6&&tX(m)&&m.select(),2}function f3(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function nX(){return/Android/gi.test(window.navigator.userAgent)}function m3(){return f3()||nX()}function Mh(t,e,r){let n=ma(e);w.useEffect(()=>{function a(s){n.current(s)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[t,r])}function h3(t,e,r){let n=ma(e);w.useEffect(()=>{function a(s){n.current(s)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[t,r])}function OT(t,e,r=!0){let n=w.useRef(!1);w.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(i,l){if(!n.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!ET(c,DT.Loose)&&c.tabIndex!==-1&&i.preventDefault(),e(i,c)}let s=w.useRef(null);Mh("pointerdown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Mh("mousedown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Mh("click",i=>{m3()||s.current&&(a(i,()=>s.current),s.current=null)},!0),Mh("touchend",i=>a(i,()=>i.target instanceof HTMLElement?i.target:null),!0),h3("blur",i=>a(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function hl(...t){return w.useMemo(()=>d0(...t),[...t])}function _P(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function p3(t,e){let[r,n]=w.useState(()=>_P(t));return gt(()=>{n(_P(t))},[t.type,t.as]),gt(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let g3=Symbol();function aX(t,e=!0){return Object.assign(t,{[g3]:e})}function or(...t){let e=w.useRef(t);w.useEffect(()=>{e.current=t},[t]);let r=Ne(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||(n==null?void 0:n[g3]))?void 0:r}function $P(t){return[t.screenX,t.screenY]}function y3(){let t=w.useRef([-1,-1]);return{wasMoved(e){let r=$P(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=$P(e)}}}function b3({container:t,accept:e,walk:r,enabled:n=!0}){let a=w.useRef(e),s=w.useRef(r);w.useEffect(()=>{a.current=e,s.current=r},[e,r]),gt(()=>{if(!t||!n)return;let i=d0(t);if(!i)return;let l=a.current,c=s.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,n,a,s])}function Mf(t,e){let r=w.useRef([]),n=Ne(t);w.useEffect(()=>{let a=[...r.current];for(let[s,i]of e.entries())if(r.current[s]!==i){let l=n(e,a);return r.current=e,l}},[n,...e])}function jx(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var _o=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(_o||{}),oo=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(oo||{});function Kt({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:a,visible:s=!0,name:i,mergeRefs:l}){l=l??sX;let c=x3(e,t);if(s)return Lh(c,r,n,i,l);let u=a??0;if(u&2){let{static:d=!1,...f}=c;if(d)return Lh(f,r,n,i,l)}if(u&1){let{unmount:d=!0,...f}=c;return _t(d?0:1,{0(){return null},1(){return Lh({...f,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return Lh(c,r,n,i,l)}function Lh(t,e={},r,n,a){let{as:s=r,children:i,refName:l="ref",...c}=w1(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof i=="function"?i(e):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let m=!1,p=[];for(let[h,b]of Object.entries(e))typeof b=="boolean"&&(m=!0),b===!0&&p.push(h);m&&(f["data-headlessui-state"]=p.join(" "))}if(s===w.Fragment&&Object.keys(DS(c)).length>0){if(!w.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let m=d.props,p=typeof(m==null?void 0:m.className)=="function"?(...b)=>jx(m==null?void 0:m.className(...b),c.className):jx(m==null?void 0:m.className,c.className),h=p?{className:p}:{};return w.cloneElement(d,Object.assign({},x3(d.props,DS(w1(c,["ref"]))),f,u,{ref:a(d.ref,u.ref)},h))}return w.createElement(s,Object.assign({},w1(c,["ref"]),s!==w.Fragment&&u,s!==w.Fragment&&f),d)}function sX(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function x3(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](a,...s){let i=r[n];for(let l of i){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...s)}}});return e}function Bt(t){var e;return Object.assign(w.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function DS(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function w1(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let oX="div";var Lf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Lf||{});function iX(t,e){var r;let{features:n=1,...a}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Kt({ourProps:s,theirProps:a,slot:{},defaultTag:oX,name:"Hidden"})}let wx=Bt(iX),_T=w.createContext(null);_T.displayName="OpenClosedContext";var Xt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Xt||{});function Um(){return w.useContext(_T)}function $T({value:t,children:e}){return U.createElement(_T.Provider,{value:t},e)}function lX(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ea=[];lX(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ea[0]!==e.target&&(Ea.unshift(e.target),Ea=Ea.filter(r=>r!=null&&r.isConnected),Ea.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function RT(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&cX(r)?!1:n}function cX(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function uX(t){throw new Error("Unexpected object: "+t)}var ut=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ut||{});function ES(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),a=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{for(let s=a-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=a+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:uX(t)}}function v3(t={},e=null,r=[]){for(let[n,a]of Object.entries(t))w3(r,j3(e,n),a);return r}function j3(t,e){return t?t+"["+e+"]":e}function w3(t,e,r){if(Array.isArray(r))for(let[n,a]of r.entries())w3(t,j3(e,n.toString()),a);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):v3(r,e,t)}var it=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(it||{}),dX={},fX=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(fX||{}),mX=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(mX||{}),hX=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(hX||{}),pX=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(pX||{});function C1(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=e(t.options.slice()),a=n.length>0&&n[0].dataRef.current.order!==null?n.sort((i,l)=>i.dataRef.current.order-l.dataRef.current.order):PT(n,i=>i.dataRef.current.domRef.current),s=r?a.indexOf(r):null;return s===-1&&(s=null),{options:a,activeOptionIndex:s}}let gX={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,r;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((r=t.dataRef.current)!=null&&r.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var r,n,a,s,i;if((r=t.dataRef.current)!=null&&r.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((a=t.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let d=e.focus===ut.Specific?e.idx:ES(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var m,p;return(p=(m=t.activeOptionIndex)!=null?m:t.virtual.options.findIndex(h=>!t.virtual.disabled(h)))!=null?p:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(s=e.trigger)!=null?s:2;return t.activeOptionIndex===d&&t.activationTrigger===f?t:{...t,activeOptionIndex:d,activationTrigger:f}}let l=C1(t);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=e.focus===ut.Specific?e.idx:ES(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===c&&t.activationTrigger===u?t:{...t,...l,activeOptionIndex:c,activationTrigger:u}},3:(t,e)=>{var r,n,a;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,e.payload]};let s=e.payload,i=C1(t,c=>(c.push(s),c));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(s));let l={...t,...i,activationTrigger:2};return(a=t.dataRef.current)!=null&&a.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var r;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:t.options.filter(a=>a.id!==e.id)};let n=C1(t,a=>{let s=a.findIndex(i=>i.id===e.id);return s!==-1&&a.splice(s,1),a});return{...t,...n,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var r;if(((r=t.virtual)==null?void 0:r.options)===e.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let a=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);a!==-1?n=a:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:e.options})}}},MT=w.createContext(null);MT.displayName="ComboboxActionsContext";function zm(t){let e=w.useContext(MT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,zm),r}return e}let C3=w.createContext(null);function yX(t){var e;let r=pl("VirtualProvider"),[n,a]=w.useMemo(()=>{let c=r.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[r.optionsRef.current]),s=HJ({scrollPaddingStart:n,scrollPaddingEnd:a,count:r.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=r.optionsRef.current)!=null?c:null},overscan:12}),[i,l]=w.useState(0);return gt(()=>{l(c=>c+1)},[(e=r.virtual)==null?void 0:e.options]),U.createElement(C3.Provider,{value:s},U.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&dX.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&r.virtual.options.length>r.activeOptionIndex&&s.scrollToIndex(r.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return U.createElement(w.Fragment,{key:c.key},U.cloneElement((u=t.children)==null?void 0:u.call(t,{option:r.virtual.options[c.index],open:r.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":r.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let LT=w.createContext(null);LT.displayName="ComboboxDataContext";function pl(t){let e=w.useContext(LT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,pl),r}return e}function bX(t,e){return _t(e.type,gX,t,e)}let xX=w.Fragment;function vX(t,e){let{value:r,defaultValue:n,onChange:a,form:s,name:i,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:m=!1,virtual:p=null,...h}=t,b=!1,g=null,[x=f?[]:void 0,y]=JJ(r,a,n),[v,N]=w.useReducer(bX,{dataRef:w.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),C=w.useRef(!1),j=w.useRef({static:!1,hold:!1}),S=w.useRef(null),k=w.useRef(null),T=w.useRef(null),A=w.useRef(null),D=Ne(typeof l=="string"?(Q,re)=>{let K=l;return(Q==null?void 0:Q[K])===(re==null?void 0:re[K])}:l??((Q,re)=>Q===re)),P=Ne(Q=>v.options.findIndex(re=>D(re.dataRef.current.value,Q))),M=w.useCallback(Q=>_t(R.mode,{1:()=>x.some(re=>D(re,Q)),0:()=>D(x,Q)}),[x]),$=Ne(Q=>v.activeOptionIndex===P(Q)),R=w.useMemo(()=>({...v,immediate:b,optionsPropsRef:j,labelRef:S,inputRef:k,buttonRef:T,optionsRef:A,value:x,defaultValue:n,disabled:c,mode:f?1:0,virtual:v.virtual,get activeOptionIndex(){if(C.current&&v.activeOptionIndex===null&&v.options.length>0){let Q=v.options.findIndex(re=>!re.dataRef.current.disabled);if(Q!==-1)return Q}return v.activeOptionIndex},calculateIndex:P,compare:D,isSelected:M,isActive:$,nullable:d,__demoMode:u}),[x,n,c,f,d,u,v,g]);gt(()=>{},[g,void 0]),gt(()=>{v.dataRef.current=R},[R]),OT([R.buttonRef,R.inputRef,R.optionsRef],()=>ke.closeCombobox(),R.comboboxState===0);let F=w.useMemo(()=>{var Q,re,K;return{open:R.comboboxState===0,disabled:c,activeIndex:R.activeOptionIndex,activeOption:R.activeOptionIndex===null?null:R.virtual?R.virtual.options[(Q=R.activeOptionIndex)!=null?Q:0]:(K=(re=R.options[R.activeOptionIndex])==null?void 0:re.dataRef.current.value)!=null?K:null,value:x}},[R,c,x]),z=Ne(()=>{if(R.activeOptionIndex!==null){if(R.virtual)te(R.virtual.options[R.activeOptionIndex]);else{let{dataRef:Q}=R.options[R.activeOptionIndex];te(Q.current.value)}ke.goToOption(ut.Specific,R.activeOptionIndex)}}),O=Ne(()=>{N({type:0}),C.current=!0}),_=Ne(()=>{N({type:1}),C.current=!1}),B=Ne((Q,re,K)=>(C.current=!1,Q===ut.Specific?N({type:2,focus:ut.Specific,idx:re,trigger:K}):N({type:2,focus:Q,trigger:K}))),Y=Ne((Q,re)=>(N({type:3,payload:{id:Q,dataRef:re}}),()=>{R.isActive(re.current.value)&&(C.current=!0),N({type:4,id:Q})})),H=Ne(Q=>(N({type:5,id:Q}),()=>N({type:5,id:null}))),te=Ne(Q=>_t(R.mode,{0(){return y==null?void 0:y(Q)},1(){let re=R.value.slice(),K=re.findIndex(W=>D(W,Q));return K===-1?re.push(Q):re.splice(K,1),y==null?void 0:y(re)}})),fe=Ne(Q=>{N({type:6,trigger:Q})}),ke=w.useMemo(()=>({onChange:te,registerOption:Y,registerLabel:H,goToOption:B,closeCombobox:_,openCombobox:O,setActivationTrigger:fe,selectActiveOption:z}),[]),ae=e===null?{}:{ref:e},X=w.useRef(null),ue=Ho();return w.useEffect(()=>{X.current&&n!==void 0&&ue.addEventListener(X.current,"reset",()=>{y==null||y(n)})},[X,y]),U.createElement(MT.Provider,{value:ke},U.createElement(LT.Provider,{value:R},U.createElement($T,{value:_t(R.comboboxState,{0:Xt.Open,1:Xt.Closed})},i!=null&&x!=null&&v3({[i]:x}).map(([Q,re],K)=>U.createElement(wx,{features:Lf.Hidden,ref:K===0?W=>{var me;X.current=(me=W==null?void 0:W.closest("form"))!=null?me:null}:void 0,...DS({key:Q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:Q,value:re})})),Kt({ourProps:ae,theirProps:h,slot:F,defaultTag:xX,name:"Combobox"}))))}let jX="input";function wX(t,e){var r,n,a,s,i;let l=fn(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...m}=t,p=pl("Combobox.Input"),h=zm("Combobox.Input"),b=or(p.inputRef,e),g=hl(p.inputRef),x=w.useRef(!1),y=Ho(),v=Ne(()=>{h.onChange(null),p.optionsRef.current&&(p.optionsRef.current.scrollTop=0),h.goToOption(ut.Nothing)}),N=function(){var R;return typeof d=="function"&&p.value!==void 0?(R=d(p.value))!=null?R:"":typeof p.value=="string"?p.value:""}();Mf(([R,F],[z,O])=>{if(x.current)return;let _=p.inputRef.current;_&&((O===0&&F===1||R!==z)&&(_.value=R),requestAnimationFrame(()=>{if(x.current||!_||(g==null?void 0:g.activeElement)!==_)return;let{selectionStart:B,selectionEnd:Y}=_;Math.abs((Y??0)-(B??0))===0&&B===0&&_.setSelectionRange(_.value.length,_.value.length)}))},[N,p.comboboxState,g]),Mf(([R],[F])=>{if(R===0&&F===1){if(x.current)return;let z=p.inputRef.current;if(!z)return;let O=z.value,{selectionStart:_,selectionEnd:B,selectionDirection:Y}=z;z.value="",z.value=O,Y!==null?z.setSelectionRange(_,B,Y):z.setSelectionRange(_,B)}},[p.comboboxState]);let C=w.useRef(!1),j=Ne(()=>{C.current=!0}),S=Ne(()=>{y.nextFrame(()=>{C.current=!1})}),k=Ne(R=>{switch(x.current=!0,R.key){case it.Enter:if(x.current=!1,p.comboboxState!==0||C.current)return;if(R.preventDefault(),R.stopPropagation(),p.activeOptionIndex===null){h.closeCombobox();return}h.selectActiveOption(),p.mode===0&&h.closeCombobox();break;case it.ArrowDown:return x.current=!1,R.preventDefault(),R.stopPropagation(),_t(p.comboboxState,{0:()=>h.goToOption(ut.Next),1:()=>h.openCombobox()});case it.ArrowUp:return x.current=!1,R.preventDefault(),R.stopPropagation(),_t(p.comboboxState,{0:()=>h.goToOption(ut.Previous),1:()=>{h.openCombobox(),y.nextFrame(()=>{p.value||h.goToOption(ut.Last)})}});case it.Home:if(R.shiftKey)break;return x.current=!1,R.preventDefault(),R.stopPropagation(),h.goToOption(ut.First);case it.PageUp:return x.current=!1,R.preventDefault(),R.stopPropagation(),h.goToOption(ut.First);case it.End:if(R.shiftKey)break;return x.current=!1,R.preventDefault(),R.stopPropagation(),h.goToOption(ut.Last);case it.PageDown:return x.current=!1,R.preventDefault(),R.stopPropagation(),h.goToOption(ut.Last);case it.Escape:return x.current=!1,p.comboboxState!==0?void 0:(R.preventDefault(),p.optionsRef.current&&!p.optionsPropsRef.current.static&&R.stopPropagation(),p.nullable&&p.mode===0&&p.value===null&&v(),h.closeCombobox());case it.Tab:if(x.current=!1,p.comboboxState!==0)return;p.mode===0&&p.activationTrigger!==1&&h.selectActiveOption(),h.closeCombobox();break}}),T=Ne(R=>{u==null||u(R),p.nullable&&p.mode===0&&R.target.value===""&&v(),h.openCombobox()}),A=Ne(R=>{var F,z,O;let _=(F=R.relatedTarget)!=null?F:Ea.find(B=>B!==R.currentTarget);if(x.current=!1,!((z=p.optionsRef.current)!=null&&z.contains(_))&&!((O=p.buttonRef.current)!=null&&O.contains(_))&&p.comboboxState===0)return R.preventDefault(),p.mode===0&&(p.nullable&&p.value===null?v():p.activationTrigger!==1&&h.selectActiveOption()),h.closeCombobox()}),D=Ne(R=>{var F,z,O;let _=(F=R.relatedTarget)!=null?F:Ea.find(B=>B!==R.currentTarget);(z=p.buttonRef.current)!=null&&z.contains(_)||(O=p.optionsRef.current)!=null&&O.contains(_)||p.disabled||p.immediate&&p.comboboxState!==0&&(h.openCombobox(),y.nextFrame(()=>{h.setActivationTrigger(1)}))}),P=TT(()=>{if(p.labelId)return[p.labelId].join(" ")},[p.labelId]),M=w.useMemo(()=>({open:p.comboboxState===0,disabled:p.disabled}),[p]),$={ref:b,id:c,role:"combobox",type:f,"aria-controls":(r=p.optionsRef.current)==null?void 0:r.id,"aria-expanded":p.comboboxState===0,"aria-activedescendant":p.activeOptionIndex===null?void 0:p.virtual?(n=p.options.find(R=>{var F;return!((F=p.virtual)!=null&&F.disabled(R.dataRef.current.value))&&p.compare(R.dataRef.current.value,p.virtual.options[p.activeOptionIndex])}))==null?void 0:n.id:(a=p.options[p.activeOptionIndex])==null?void 0:a.id,"aria-labelledby":P,"aria-autocomplete":"list",defaultValue:(i=(s=t.defaultValue)!=null?s:p.defaultValue!==void 0?d==null?void 0:d(p.defaultValue):null)!=null?i:p.defaultValue,disabled:p.disabled,onCompositionStart:j,onCompositionEnd:S,onKeyDown:k,onChange:T,onFocus:D,onBlur:A};return Kt({ourProps:$,theirProps:m,slot:M,defaultTag:jX,name:"Combobox.Input"})}let CX="button";function NX(t,e){var r;let n=pl("Combobox.Button"),a=zm("Combobox.Button"),s=or(n.buttonRef,e),i=fn(),{id:l=`headlessui-combobox-button-${i}`,...c}=t,u=Ho(),d=Ne(b=>{switch(b.key){case it.ArrowDown:return b.preventDefault(),b.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})});case it.ArrowUp:return b.preventDefault(),b.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(ut.Last)})),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})});case it.Escape:return n.comboboxState!==0?void 0:(b.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&b.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})}));default:return}}),f=Ne(b=>{if(RT(b.currentTarget))return b.preventDefault();n.comboboxState===0?a.closeCombobox():(b.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})})}),m=TT(()=>{if(n.labelId)return[n.labelId,l].join(" ")},[n.labelId,l]),p=w.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),h={ref:s,id:l,type:p3(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":m,disabled:n.disabled,onClick:f,onKeyDown:d};return Kt({ourProps:h,theirProps:c,slot:p,defaultTag:CX,name:"Combobox.Button"})}let SX="label";function AX(t,e){let r=fn(),{id:n=`headlessui-combobox-label-${r}`,...a}=t,s=pl("Combobox.Label"),i=zm("Combobox.Label"),l=or(s.labelRef,e);gt(()=>i.registerLabel(n),[n]);let c=Ne(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=w.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return Kt({ourProps:{ref:l,id:n,onClick:c},theirProps:a,slot:u,defaultTag:SX,name:"Combobox.Label"})}let kX="ul",IX=_o.RenderStrategy|_o.Static;function TX(t,e){let r=fn(),{id:n=`headlessui-combobox-options-${r}`,hold:a=!1,...s}=t,i=pl("Combobox.Options"),l=or(i.optionsRef,e),c=Um(),u=c!==null?(c&Xt.Open)===Xt.Open:i.comboboxState===0;gt(()=>{var p;i.optionsPropsRef.current.static=(p=t.static)!=null?p:!1},[i.optionsPropsRef,t.static]),gt(()=>{i.optionsPropsRef.current.hold=a},[i.optionsPropsRef,a]),b3({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(p){return p.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});let d=TT(()=>{var p,h;return(h=i.labelId)!=null?h:(p=i.buttonRef.current)==null?void 0:p.id},[i.labelId,i.buttonRef.current]),f=w.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),m={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:n,ref:l};return i.virtual&&i.comboboxState===0&&Object.assign(s,{children:U.createElement(yX,null,s.children)}),Kt({ourProps:m,theirProps:s,slot:f,defaultTag:kX,features:IX,visible:u,name:"Combobox.Options"})}let DX="li";function EX(t,e){var r;let n=fn(),{id:a=`headlessui-combobox-option-${n}`,disabled:s=!1,value:i,order:l=null,...c}=t,u=pl("Combobox.Option"),d=zm("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((r=u.options[u.activeOptionIndex])==null?void 0:r.id)===a,m=u.isSelected(i),p=w.useRef(null),h=ma({disabled:s,value:i,domRef:p,order:l}),b=w.useContext(C3),g=or(e,p,b?b.measureElement:null),x=Ne(()=>d.onChange(i));gt(()=>d.registerOption(a,h),[h,a]);let y=w.useRef(!(u.virtual||u.__demoMode));gt(()=>{if(!u.virtual||!u.__demoMode)return;let A=Tn();return A.requestAnimationFrame(()=>{y.current=!0}),A.dispose},[u.virtual,u.__demoMode]),gt(()=>{if(!y.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let A=Tn();return A.requestAnimationFrame(()=>{var D,P;(P=(D=p.current)==null?void 0:D.scrollIntoView)==null||P.call(D,{block:"nearest"})}),A.dispose},[p,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let v=Ne(A=>{var D;if(s||(D=u.virtual)!=null&&D.disabled(i))return A.preventDefault();x(),m3()||requestAnimationFrame(()=>{var P;return(P=u.inputRef.current)==null?void 0:P.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),N=Ne(()=>{var A;if(s||(A=u.virtual)!=null&&A.disabled(i))return d.goToOption(ut.Nothing);let D=u.calculateIndex(i);d.goToOption(ut.Specific,D)}),C=y3(),j=Ne(A=>C.update(A)),S=Ne(A=>{var D;if(!C.wasMoved(A)||s||(D=u.virtual)!=null&&D.disabled(i)||f)return;let P=u.calculateIndex(i);d.goToOption(ut.Specific,P,0)}),k=Ne(A=>{var D;C.wasMoved(A)&&(s||(D=u.virtual)!=null&&D.disabled(i)||f&&(u.optionsPropsRef.current.hold||d.goToOption(ut.Nothing)))}),T=w.useMemo(()=>({active:f,selected:m,disabled:s}),[f,m,s]);return Kt({ourProps:{id:a,ref:g,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:v,onFocus:N,onPointerEnter:j,onMouseEnter:j,onPointerMove:S,onMouseMove:S,onPointerLeave:k,onMouseLeave:k},theirProps:c,slot:T,defaultTag:DX,name:"Combobox.Option"})}let PX=Bt(vX),OX=Bt(NX),_X=Bt(wX),$X=Bt(AX),RX=Bt(TX),MX=Bt(EX),Il=Object.assign(PX,{Input:_X,Button:OX,Label:$X,Options:RX,Option:MX});function N3(t,e,r,n){let a=ma(r);w.useEffect(()=>{t=t??window;function s(i){a.current(i)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function Wm(){let t=w.useRef(!1);return gt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function S3(t){let e=Ne(t),r=w.useRef(!1);w.useEffect(()=>(r.current=!1,()=>{r.current=!0,u0(()=>{r.current&&e()})}),[e])}var bd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(bd||{});function LX(){let t=w.useRef(0);return h3("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function A3(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let FX="div";var k3=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(k3||{});function BX(t,e){let r=w.useRef(null),n=or(r,e),{initialFocus:a,containers:s,features:i=30,...l}=t;yu()||(i=1);let c=hl(r);UX({ownerDocument:c},!!(i&16));let u=zX({ownerDocument:c,container:r,initialFocus:a},!!(i&2));WX({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(i&8));let d=LX(),f=Ne(b=>{let g=r.current;g&&(x=>x())(()=>{_t(d.current,{[bd.Forwards]:()=>{Bd(g,is.First,{skipElements:[b.relatedTarget]})},[bd.Backwards]:()=>{Bd(g,is.Last,{skipElements:[b.relatedTarget]})}})})}),m=Ho(),p=w.useRef(!1),h={ref:n,onKeyDown(b){b.key=="Tab"&&(p.current=!0,m.requestAnimationFrame(()=>{p.current=!1}))},onBlur(b){let g=A3(s);r.current instanceof HTMLElement&&g.add(r.current);let x=b.relatedTarget;x instanceof HTMLElement&&x.dataset.headlessuiFocusGuard!=="true"&&(I3(g,x)||(p.current?Bd(r.current,_t(d.current,{[bd.Forwards]:()=>is.Next,[bd.Backwards]:()=>is.Previous})|is.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&jo(b.target)))}};return U.createElement(U.Fragment,null,!!(i&4)&&U.createElement(wx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Lf.Focusable}),Kt({ourProps:h,theirProps:l,defaultTag:FX,name:"FocusTrap"}),!!(i&4)&&U.createElement(wx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Lf.Focusable}))}let qX=Bt(BX),zu=Object.assign(qX,{features:k3});function VX(t=!0){let e=w.useRef(Ea.slice());return Mf(([r],[n])=>{n===!0&&r===!1&&u0(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Ea.slice())},[t,Ea,e]),Ne(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function UX({ownerDocument:t},e){let r=VX(e);Mf(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&jo(r())},[e]),S3(()=>{e&&jo(r())})}function zX({ownerDocument:t,container:e,initialFocus:r},n){let a=w.useRef(null),s=Wm();return Mf(()=>{if(!n)return;let i=e.current;i&&u0(()=>{if(!s.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(i.contains(l)){a.current=l;return}r!=null&&r.current?jo(r.current):Bd(i,is.First)===c3.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=t==null?void 0:t.activeElement})},[n]),a}function WX({ownerDocument:t,container:e,containers:r,previousActiveElement:n},a){let s=Wm();N3(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!s.current)return;let l=A3(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?I3(l,u)?(n.current=u,jo(u)):(i.preventDefault(),i.stopPropagation(),jo(c)):jo(n.current)},!0)}function I3(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let T3=w.createContext(!1);function HX(){return w.useContext(T3)}function PS(t){return U.createElement(T3.Provider,{value:t.force},t.children)}function GX(t){let e=HX(),r=w.useContext(D3),n=hl(t),[a,s]=w.useState(()=>{if(!e&&r!==null||ys.isServer)return null;let i=n==null?void 0:n.getElementById("headlessui-portal-root");if(i)return i;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return w.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),w.useEffect(()=>{e||r!==null&&s(r.current)},[r,s,e]),a}let YX=w.Fragment;function KX(t,e){let r=t,n=w.useRef(null),a=or(aX(d=>{n.current=d}),e),s=hl(n),i=GX(n),[l]=w.useState(()=>{var d;return ys.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=w.useContext(OS),u=yu();return gt(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),gt(()=>{if(l&&c)return c.register(l)},[c,l]),S3(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:r0.createPortal(Kt({ourProps:{ref:a},theirProps:r,defaultTag:YX,name:"Portal"}),l):null}let JX=w.Fragment,D3=w.createContext(null);function XX(t,e){let{target:r,...n}=t,a={ref:or(e)};return U.createElement(D3.Provider,{value:r},Kt({ourProps:a,theirProps:n,defaultTag:JX,name:"Popover.Group"}))}let OS=w.createContext(null);function ZX(){let t=w.useContext(OS),e=w.useRef([]),r=Ne(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=Ne(s=>{let i=e.current.indexOf(s);i!==-1&&e.current.splice(i,1),t&&t.unregister(s)}),a=w.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,w.useMemo(()=>function({children:s}){return U.createElement(OS.Provider,{value:a},s)},[a])]}let QX=Bt(KX),eZ=Bt(XX),_S=Object.assign(QX,{Group:eZ});function tZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const rZ=typeof Object.is=="function"?Object.is:tZ,{useState:nZ,useEffect:aZ,useLayoutEffect:sZ,useDebugValue:oZ}=Do;function iZ(t,e,r){const n=e(),[{inst:a},s]=nZ({inst:{value:n,getSnapshot:e}});return sZ(()=>{a.value=n,a.getSnapshot=e,N1(a)&&s({inst:a})},[t,n,e]),aZ(()=>(N1(a)&&s({inst:a}),t(()=>{N1(a)&&s({inst:a})})),[t]),oZ(n),n}function N1(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!rZ(r,n)}catch{return!0}}function lZ(t,e,r){return e()}const cZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uZ=!cZ,dZ=uZ?lZ:iZ,fZ="useSyncExternalStore"in Do?(t=>t.useSyncExternalStore)(Do):dZ;function mZ(t){return fZ(t.subscribe,t.getSnapshot,t.getSnapshot)}function hZ(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let i=e[a].call(r,...s);i&&(r=i,n.forEach(l=>l()))}}}function pZ(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,a=n.clientWidth-n.offsetWidth,s=t-a;r.style(n,"paddingRight",`${s}px`)}}}function gZ(){return f3()?{before({doc:t,d:e,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=Tn();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,i=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(i=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function yZ(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function bZ(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Si=hZ(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Tn(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:bZ(r)},a=[gZ(),pZ(),yZ()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Si.subscribe(()=>{let t=Si.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Si.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Si.dispatch("TEARDOWN",r)}});function xZ(t,e,r){let n=mZ(Si),a=t?n.get(t):void 0,s=a?a.count>0:!1;return gt(()=>{if(!(!t||!e))return Si.dispatch("PUSH",t,r),()=>Si.dispatch("POP",t,r)},[e,t]),s}let S1=new Map,Wu=new Map;function RP(t,e=!0){gt(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function a(){var i;if(!n)return;let l=(i=Wu.get(n))!=null?i:1;if(l===1?Wu.delete(n):Wu.set(n,l-1),l!==1)return;let c=S1.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,S1.delete(n))}let s=(r=Wu.get(n))!=null?r:0;return Wu.set(n,s+1),s!==0||(S1.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[t,e])}function vZ({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let a=w.useRef((n=r==null?void 0:r.current)!=null?n:null),s=hl(a),i=Ne(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(a.current)||f.contains((u=(c=a.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(m=>f.contains(m))||d.push(f));return d});return{resolveContainers:i,contains:Ne(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:a,MainTreeNode:w.useMemo(()=>function(){return r!=null?null:U.createElement(wx,{features:Lf.Hidden,ref:a})},[a,r])}}let FT=w.createContext(()=>{});FT.displayName="StackContext";var $S=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))($S||{});function jZ(){return w.useContext(FT)}function wZ({children:t,onUpdate:e,type:r,element:n,enabled:a}){let s=jZ(),i=Ne((...l)=>{e==null||e(...l),s(...l)});return gt(()=>{let l=a===void 0||a===!0;return l&&i(0,r,n),()=>{l&&i(1,r,n)}},[i,r,n,a]),U.createElement(FT.Provider,{value:i},t)}let E3=w.createContext(null);function P3(){let t=w.useContext(E3);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,P3),e}return t}function CZ(){let[t,e]=w.useState([]);return[t.length>0?t.join(" "):void 0,w.useMemo(()=>function(r){let n=Ne(s=>(e(i=>[...i,s]),()=>e(i=>{let l=i.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),a=w.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return U.createElement(E3.Provider,{value:a},r.children)},[e])]}let NZ="p";function SZ(t,e){let r=fn(),{id:n=`headlessui-description-${r}`,...a}=t,s=P3(),i=or(e);gt(()=>s.register(n),[n,s.register]);let l={ref:i,...s.props,id:n};return Kt({ourProps:l,theirProps:a,slot:s.slot||{},defaultTag:NZ,name:s.name||"Description"})}let AZ=Bt(SZ),kZ=Object.assign(AZ,{});var IZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(IZ||{}),TZ=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(TZ||{});let DZ={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Cx=w.createContext(null);Cx.displayName="DialogContext";function Hm(t){let e=w.useContext(Cx);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Hm),r}return e}function EZ(t,e,r=()=>[document.body]){xZ(t,e,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function PZ(t,e){return _t(e.type,DZ,t,e)}let OZ="div",_Z=_o.RenderStrategy|_o.Static;function $Z(t,e){let r=fn(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:i,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=w.useState(0),m=w.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Um();a===void 0&&p!==null&&(a=(p&Xt.Open)===Xt.Open);let h=w.useRef(null),b=or(h,e),g=hl(h),x=t.hasOwnProperty("open")||p!==null,y=t.hasOwnProperty("onClose");if(!x&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!x)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let v=a?0:1,[N,C]=w.useReducer(PZ,{titleId:null,descriptionId:null,panelRef:w.createRef()}),j=Ne(()=>s(!1)),S=Ne(K=>C({type:0,id:K})),k=yu()?c?!1:v===0:!1,T=d>1,A=w.useContext(Cx)!==null,[D,P]=ZX(),M={get current(){var K;return(K=N.panelRef.current)!=null?K:h.current}},{resolveContainers:$,mainTreeNodeRef:R,MainTreeNode:F}=vZ({portals:D,defaultContainers:[M]}),z=T?"parent":"leaf",O=p!==null?(p&Xt.Closing)===Xt.Closing:!1,_=A||O?!1:k,B=w.useCallback(()=>{var K,W;return(W=Array.from((K=g==null?void 0:g.querySelectorAll("body > *"))!=null?K:[]).find(me=>me.id==="headlessui-portal-root"?!1:me.contains(R.current)&&me instanceof HTMLElement))!=null?W:null},[R]);RP(B,_);let Y=T?!0:k,H=w.useCallback(()=>{var K,W;return(W=Array.from((K=g==null?void 0:g.querySelectorAll("[data-headlessui-portal]"))!=null?K:[]).find(me=>me.contains(R.current)&&me instanceof HTMLElement))!=null?W:null},[R]);RP(H,Y),OT($,K=>{K.preventDefault(),j()},!(!k||T));let fe=!(T||v!==0);N3(g==null?void 0:g.defaultView,"keydown",K=>{fe&&(K.defaultPrevented||K.key===it.Escape&&(K.preventDefault(),K.stopPropagation(),j()))}),EZ(g,!(O||v!==0||A),$),w.useEffect(()=>{if(v!==0||!h.current)return;let K=new ResizeObserver(W=>{for(let me of W){let je=me.target.getBoundingClientRect();je.x===0&&je.y===0&&je.width===0&&je.height===0&&j()}});return K.observe(h.current),()=>K.disconnect()},[v,h,j]);let[ae,X]=CZ(),ue=w.useMemo(()=>[{dialogState:v,close:j,setTitleId:S},N],[v,N,j,S]),Q=w.useMemo(()=>({open:v===0}),[v]),re={ref:b,id:n,role:l,"aria-modal":v===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":ae};return U.createElement(wZ,{type:"Dialog",enabled:v===0,element:h,onUpdate:Ne((K,W)=>{W==="Dialog"&&_t(K,{[$S.Add]:()=>f(me=>me+1),[$S.Remove]:()=>f(me=>me-1)})})},U.createElement(PS,{force:!0},U.createElement(_S,null,U.createElement(Cx.Provider,{value:ue},U.createElement(_S.Group,{target:h},U.createElement(PS,{force:!1},U.createElement(X,{slot:Q,name:"Dialog.Description"},U.createElement(zu,{initialFocus:i,containers:$,features:k?_t(z,{parent:zu.features.RestoreFocus,leaf:zu.features.All&~zu.features.FocusLock}):zu.features.None},U.createElement(P,null,Kt({ourProps:re,theirProps:u,slot:Q,defaultTag:OZ,features:_Z,visible:v===0,name:"Dialog"}))))))))),U.createElement(F,null))}let RZ="div";function MZ(t,e){let r=fn(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=t,[{dialogState:s,close:i}]=Hm("Dialog.Overlay"),l=or(e),c=Ne(d=>{if(d.target===d.currentTarget){if(RT(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=w.useMemo(()=>({open:s===0}),[s]);return Kt({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:a,slot:u,defaultTag:RZ,name:"Dialog.Overlay"})}let LZ="div";function FZ(t,e){let r=fn(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=t,[{dialogState:s},i]=Hm("Dialog.Backdrop"),l=or(e);w.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=w.useMemo(()=>({open:s===0}),[s]);return U.createElement(PS,{force:!0},U.createElement(_S,null,Kt({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:a,slot:c,defaultTag:LZ,name:"Dialog.Backdrop"})))}let BZ="div";function qZ(t,e){let r=fn(),{id:n=`headlessui-dialog-panel-${r}`,...a}=t,[{dialogState:s},i]=Hm("Dialog.Panel"),l=or(e,i.panelRef),c=w.useMemo(()=>({open:s===0}),[s]),u=Ne(d=>{d.stopPropagation()});return Kt({ourProps:{ref:l,id:n,onClick:u},theirProps:a,slot:c,defaultTag:BZ,name:"Dialog.Panel"})}let VZ="h2";function UZ(t,e){let r=fn(),{id:n=`headlessui-dialog-title-${r}`,...a}=t,[{dialogState:s,setTitleId:i}]=Hm("Dialog.Title"),l=or(e);w.useEffect(()=>(i(n),()=>i(null)),[n,i]);let c=w.useMemo(()=>({open:s===0}),[s]);return Kt({ourProps:{ref:l,id:n},theirProps:a,slot:c,defaultTag:VZ,name:"Dialog.Title"})}let zZ=Bt($Z),WZ=Bt(FZ),HZ=Bt(qZ),GZ=Bt(MZ),YZ=Bt(UZ),A1=Object.assign(zZ,{Backdrop:WZ,Panel:HZ,Overlay:GZ,Title:YZ,Description:kZ}),MP=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function LP(t){var e,r;let n=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let s=!1;for(let l of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let i=s?(r=a.innerText)!=null?r:"":n;return MP.test(i)&&(i=i.replace(MP,"")),i}function KZ(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(a=>{let s=document.getElementById(a);if(s){let i=s.getAttribute("aria-label");return typeof i=="string"?i.trim():LP(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return LP(t).trim()}function JZ(t){let e=w.useRef(""),r=w.useRef("");return Ne(()=>{let n=t.current;if(!n)return"";let a=n.innerText;if(e.current===a)return r.current;let s=KZ(n).trim().toLowerCase();return e.current=a,r.current=s,s})}var XZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(XZ||{}),ZZ=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(ZZ||{}),QZ=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(QZ||{});function k1(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=PT(e(t.items.slice()),s=>s.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let eQ={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=k1(t),a=ES(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),a=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!i.dataRef.current.disabled}),s=a?t.items.indexOf(a):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=k1(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=k1(t,n=>{let a=n.findIndex(s=>s.id===e.id);return a!==-1&&n.splice(a,1),n});return{...t,...r,activationTrigger:1}}},BT=w.createContext(null);BT.displayName="MenuContext";function f0(t){let e=w.useContext(BT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,f0),r}return e}function tQ(t,e){return _t(e.type,eQ,t,e)}let rQ=w.Fragment;function nQ(t,e){let{__demoMode:r=!1,...n}=t,a=w.useReducer(tQ,{__demoMode:r,menuState:r?0:1,buttonRef:w.createRef(),itemsRef:w.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:i,buttonRef:l},c]=a,u=or(e);OT([l,i],(p,h)=>{var b;c({type:1}),ET(h,DT.Loose)||(p.preventDefault(),(b=l.current)==null||b.focus())},s===0);let d=Ne(()=>{c({type:1})}),f=w.useMemo(()=>({open:s===0,close:d}),[s,d]),m={ref:u};return U.createElement(BT.Provider,{value:a},U.createElement($T,{value:_t(s,{0:Xt.Open,1:Xt.Closed})},Kt({ourProps:m,theirProps:n,slot:f,defaultTag:rQ,name:"Menu"})))}let aQ="button";function sQ(t,e){var r;let n=fn(),{id:a=`headlessui-menu-button-${n}`,...s}=t,[i,l]=f0("Menu.Button"),c=or(i.buttonRef,e),u=Ho(),d=Ne(b=>{switch(b.key){case it.Space:case it.Enter:case it.ArrowDown:b.preventDefault(),b.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ut.First}));break;case it.ArrowUp:b.preventDefault(),b.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ut.Last}));break}}),f=Ne(b=>{switch(b.key){case it.Space:b.preventDefault();break}}),m=Ne(b=>{if(RT(b.currentTarget))return b.preventDefault();t.disabled||(i.menuState===0?(l({type:1}),u.nextFrame(()=>{var g;return(g=i.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})})):(b.preventDefault(),l({type:0})))}),p=w.useMemo(()=>({open:i.menuState===0}),[i]),h={ref:c,id:a,type:p3(t,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return Kt({ourProps:h,theirProps:s,slot:p,defaultTag:aQ,name:"Menu.Button"})}let oQ="div",iQ=_o.RenderStrategy|_o.Static;function lQ(t,e){var r,n;let a=fn(),{id:s=`headlessui-menu-items-${a}`,...i}=t,[l,c]=f0("Menu.Items"),u=or(l.itemsRef,e),d=hl(l.itemsRef),f=Ho(),m=Um(),p=m!==null?(m&Xt.Open)===Xt.Open:l.menuState===0;w.useEffect(()=>{let y=l.itemsRef.current;y&&l.menuState===0&&y!==(d==null?void 0:d.activeElement)&&y.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),b3({container:l.itemsRef.current,enabled:l.menuState===0,accept(y){return y.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:y.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(y){y.setAttribute("role","none")}});let h=Ne(y=>{var v,N;switch(f.dispose(),y.key){case it.Space:if(l.searchQuery!=="")return y.preventDefault(),y.stopPropagation(),c({type:3,value:y.key});case it.Enter:if(y.preventDefault(),y.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:C}=l.items[l.activeItemIndex];(N=(v=C.current)==null?void 0:v.domRef.current)==null||N.click()}d3(l.buttonRef.current);break;case it.ArrowDown:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:ut.Next});case it.ArrowUp:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:ut.Previous});case it.Home:case it.PageUp:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:ut.First});case it.End:case it.PageDown:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:ut.Last});case it.Escape:y.preventDefault(),y.stopPropagation(),c({type:1}),Tn().nextFrame(()=>{var C;return(C=l.buttonRef.current)==null?void 0:C.focus({preventScroll:!0})});break;case it.Tab:y.preventDefault(),y.stopPropagation(),c({type:1}),Tn().nextFrame(()=>{rX(l.buttonRef.current,y.shiftKey?is.Previous:is.Next)});break;default:y.key.length===1&&(c({type:3,value:y.key}),f.setTimeout(()=>c({type:4}),350));break}}),b=Ne(y=>{switch(y.key){case it.Space:y.preventDefault();break}}),g=w.useMemo(()=>({open:l.menuState===0}),[l]),x={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:h,onKeyUp:b,role:"menu",tabIndex:0,ref:u};return Kt({ourProps:x,theirProps:i,slot:g,defaultTag:oQ,features:iQ,visible:p,name:"Menu.Items"})}let cQ=w.Fragment;function uQ(t,e){let r=fn(),{id:n=`headlessui-menu-item-${r}`,disabled:a=!1,...s}=t,[i,l]=f0("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,u=w.useRef(null),d=or(e,u);gt(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let C=Tn();return C.requestAnimationFrame(()=>{var j,S;(S=(j=u.current)==null?void 0:j.scrollIntoView)==null||S.call(j,{block:"nearest"})}),C.dispose},[i.__demoMode,u,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let f=JZ(u),m=w.useRef({disabled:a,domRef:u,get textValue(){return f()}});gt(()=>{m.current.disabled=a},[m,a]),gt(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let p=Ne(()=>{l({type:1})}),h=Ne(C=>{if(a)return C.preventDefault();l({type:1}),d3(i.buttonRef.current)}),b=Ne(()=>{if(a)return l({type:2,focus:ut.Nothing});l({type:2,focus:ut.Specific,id:n})}),g=y3(),x=Ne(C=>g.update(C)),y=Ne(C=>{g.wasMoved(C)&&(a||c||l({type:2,focus:ut.Specific,id:n,trigger:0}))}),v=Ne(C=>{g.wasMoved(C)&&(a||c&&l({type:2,focus:ut.Nothing}))}),N=w.useMemo(()=>({active:c,disabled:a,close:p}),[c,a,p]);return Kt({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:h,onFocus:b,onPointerEnter:x,onMouseEnter:x,onPointerMove:y,onMouseMove:y,onPointerLeave:v,onMouseLeave:v},theirProps:s,slot:N,defaultTag:cQ,name:"Menu.Item"})}let dQ=Bt(nQ),fQ=Bt(sQ),mQ=Bt(lQ),hQ=Bt(uQ),Tl=Object.assign(dQ,{Button:fQ,Items:mQ,Item:hQ});function pQ(t=0){let[e,r]=w.useState(t),n=Wm(),a=w.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),s=w.useCallback(c=>!!(e&c),[e]),i=w.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=w.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:a,hasFlag:s,removeFlag:i,toggleFlag:l}}function gQ(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function I1(t,...e){t&&e.length>0&&t.classList.add(...e)}function T1(t,...e){t&&e.length>0&&t.classList.remove(...e)}function yQ(t,e){let r=Tn();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(t),[s,i]=[n,a].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=s+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function bQ(t,e,r,n){let a=r?"enter":"leave",s=Tn(),i=n!==void 0?gQ(n):()=>{};a==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=_t(a,{enter:()=>e.enter,leave:()=>e.leave}),c=_t(a,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=_t(a,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return T1(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),I1(t,...e.base,...l,...u),s.nextFrame(()=>{T1(t,...e.base,...l,...u),I1(t,...e.base,...l,...c),yQ(t,()=>(T1(t,...e.base,...l),I1(t,...e.base,...e.entered),i()))}),s.dispose}function xQ({immediate:t,container:e,direction:r,classes:n,onStart:a,onStop:s}){let i=Wm(),l=Ho(),c=ma(r);gt(()=>{t&&(c.current="enter")},[t]),gt(()=>{let u=Tn();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),a.current(c.current),u.add(bQ(d,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Hs(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let m0=w.createContext(null);m0.displayName="TransitionContext";var vQ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(vQ||{});function jQ(){let t=w.useContext(m0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function wQ(){let t=w.useContext(h0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let h0=w.createContext(null);h0.displayName="NestingContext";function p0(t){return"children"in t?p0(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function O3(t,e){let r=ma(t),n=w.useRef([]),a=Wm(),s=Ho(),i=Ne((p,h=oo.Hidden)=>{let b=n.current.findIndex(({el:g})=>g===p);b!==-1&&(_t(h,{[oo.Unmount](){n.current.splice(b,1)},[oo.Hidden](){n.current[b].state="hidden"}}),s.microTask(()=>{var g;!p0(n)&&a.current&&((g=r.current)==null||g.call(r))}))}),l=Ne(p=>{let h=n.current.find(({el:b})=>b===p);return h?h.state!=="visible"&&(h.state="visible"):n.current.push({el:p,state:"visible"}),()=>i(p,oo.Unmount)}),c=w.useRef([]),u=w.useRef(Promise.resolve()),d=w.useRef({enter:[],leave:[],idle:[]}),f=Ne((p,h,b)=>{c.current.splice(0),e&&(e.chains.current[h]=e.chains.current[h].filter(([g])=>g!==p)),e==null||e.chains.current[h].push([p,new Promise(g=>{c.current.push(g)})]),e==null||e.chains.current[h].push([p,new Promise(g=>{Promise.all(d.current[h].map(([x,y])=>y)).then(()=>g())})]),h==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>b(h)):b(h)}),m=Ne((p,h,b)=>{Promise.all(d.current[h].splice(0).map(([g,x])=>x)).then(()=>{var g;(g=c.current.shift())==null||g()}).then(()=>b(h))});return w.useMemo(()=>({children:n,register:l,unregister:i,onStart:f,onStop:m,wait:u,chains:d}),[l,i,n,f,m,d,u])}function CQ(){}let NQ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function FP(t){var e;let r={};for(let n of NQ)r[n]=(e=t[n])!=null?e:CQ;return r}function SQ(t){let e=w.useRef(FP(t));return w.useEffect(()=>{e.current=FP(t)},[t]),e}let AQ="div",_3=_o.RenderStrategy;function kQ(t,e){var r,n;let{beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:p,leaveTo:h,...b}=t,g=w.useRef(null),x=or(g,e),y=(r=b.unmount)==null||r?oo.Unmount:oo.Hidden,{show:v,appear:N,initial:C}=jQ(),[j,S]=w.useState(v?"visible":"hidden"),k=wQ(),{register:T,unregister:A}=k;w.useEffect(()=>T(g),[T,g]),w.useEffect(()=>{if(y===oo.Hidden&&g.current){if(v&&j!=="visible"){S("visible");return}return _t(j,{hidden:()=>A(g),visible:()=>T(g)})}},[j,g,T,A,v,y]);let D=ma({base:Hs(b.className),enter:Hs(c),enterFrom:Hs(u),enterTo:Hs(d),entered:Hs(f),leave:Hs(m),leaveFrom:Hs(p),leaveTo:Hs(h)}),P=SQ({beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l}),M=yu();w.useEffect(()=>{if(M&&j==="visible"&&g.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,j,M]);let $=C&&!N,R=N&&v&&C,F=!M||$?"idle":v?"enter":"leave",z=pQ(0),O=Ne(fe=>_t(fe,{enter:()=>{z.addFlag(Xt.Opening),P.current.beforeEnter()},leave:()=>{z.addFlag(Xt.Closing),P.current.beforeLeave()},idle:()=>{}})),_=Ne(fe=>_t(fe,{enter:()=>{z.removeFlag(Xt.Opening),P.current.afterEnter()},leave:()=>{z.removeFlag(Xt.Closing),P.current.afterLeave()},idle:()=>{}})),B=O3(()=>{S("hidden"),A(g)},k),Y=w.useRef(!1);xQ({immediate:R,container:g,classes:D,direction:F,onStart:ma(fe=>{Y.current=!0,B.onStart(g,fe,O)}),onStop:ma(fe=>{Y.current=!1,B.onStop(g,fe,_),fe==="leave"&&!p0(B)&&(S("hidden"),A(g))})});let H=b,te={ref:x};return R?H={...H,className:jx(b.className,...D.current.enter,...D.current.enterFrom)}:Y.current&&(H.className=jx(b.className,(n=g.current)==null?void 0:n.className),H.className===""&&delete H.className),U.createElement(h0.Provider,{value:B},U.createElement($T,{value:_t(j,{visible:Xt.Open,hidden:Xt.Closed})|z.flags},Kt({ourProps:te,theirProps:H,defaultTag:AQ,features:_3,visible:j==="visible",name:"Transition.Child"})))}function IQ(t,e){let{show:r,appear:n=!1,unmount:a=!0,...s}=t,i=w.useRef(null),l=or(i,e);yu();let c=Um();if(r===void 0&&c!==null&&(r=(c&Xt.Open)===Xt.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=w.useState(r?"visible":"hidden"),f=O3(()=>{d("hidden")}),[m,p]=w.useState(!0),h=w.useRef([r]);gt(()=>{m!==!1&&h.current[h.current.length-1]!==r&&(h.current.push(r),p(!1))},[h,r]);let b=w.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);w.useEffect(()=>{if(r)d("visible");else if(!p0(f))d("hidden");else{let v=i.current;if(!v)return;let N=v.getBoundingClientRect();N.x===0&&N.y===0&&N.width===0&&N.height===0&&d("hidden")}},[r,f]);let g={unmount:a},x=Ne(()=>{var v;m&&p(!1),(v=t.beforeEnter)==null||v.call(t)}),y=Ne(()=>{var v;m&&p(!1),(v=t.beforeLeave)==null||v.call(t)});return U.createElement(h0.Provider,{value:f},U.createElement(m0.Provider,{value:b},Kt({ourProps:{...g,as:w.Fragment,children:U.createElement($3,{ref:l,...g,...s,beforeEnter:x,beforeLeave:y})},theirProps:{},defaultTag:w.Fragment,features:_3,visible:u==="visible",name:"Transition"})))}function TQ(t,e){let r=w.useContext(m0)!==null,n=Um()!==null;return U.createElement(U.Fragment,null,!r&&n?U.createElement(RS,{ref:e,...t}):U.createElement($3,{ref:e,...t}))}let RS=Bt(IQ),$3=Bt(kQ),DQ=Bt(TQ),qp=Object.assign(RS,{Child:DQ,Root:RS});function EQ({toggleSidebar:t,isSidebarOpen:e}){var u;const r=le(),{user:n}=V(d=>d.auth),[a,s]=w.useState(!1),i=w.useRef(null),l=Bm();w.useEffect(()=>{if(!a)return;function d(f){i.current&&!i.current.contains(f.target)&&s(!1)}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[a]);const c=()=>{r(GB())};return o.jsxs("header",{className:"bg-white shadow-sm z-10 relative",children:[o.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0 flex items-center lg:hidden",children:o.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:t,children:[o.jsx("span",{className:"sr-only",children:e?"Close sidebar":"Open sidebar"}),e?o.jsx(o3,{className:"block h-6 w-6","aria-hidden":"true"}):o.jsx(tJ,{className:"block h-6 w-6","aria-hidden":"true"})]})}),o.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:o.jsx("div",{className:"text-xl font-semibold text-neutral-900"})})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"ml-3 relative",children:o.jsxs(Tl,{as:"div",className:"relative",children:[o.jsxs(Tl.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[o.jsx("span",{className:"sr-only",children:"Open user menu"}),o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:((u=n==null?void 0:n.UserName)==null?void 0:u.charAt(0))||"U"})]}),o.jsx(qp,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:o.jsxs(Tl.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-neutral-100 focus:outline-none",children:[o.jsx("div",{className:"py-1",children:o.jsxs("div",{className:"px-4 py-2",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:(n==null?void 0:n.UserName)||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500",children:n==null?void 0:n.email})]})}),o.jsx("div",{className:"py-1",children:o.jsx(Tl.Item,{children:({active:d})=>o.jsxs("button",{onClick:()=>l("/profile"),className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(DJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Profile"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(Tl.Item,{children:({active:d})=>o.jsxs("button",{onClick:()=>l("/change-password"),className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(wJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Change Password"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(Tl.Item,{children:({active:d})=>o.jsxs("button",{onClick:c,className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(XK,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Sign out"]})})})]})})]})})})]})}),a&&o.jsxs("div",{ref:i,className:"absolute right-4 mt-2 w-80 sm:w-96 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[o.jsx("div",{className:"p-4 border-b border-neutral-200",children:o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Notifications"})}),o.jsxs("div",{className:"divide-y divide-neutral-100 max-h-80 overflow-y-auto",children:[o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:o.jsx(PQ,{className:"h-5 w-5 text-primary-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"New ORS needs approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"ORS-2024-01-0023 from IT Department"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"30 minutes ago"})]})]})}),o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-success-100 flex items-center justify-center",children:o.jsx(OQ,{className:"h-5 w-5 text-success-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"DV approved"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"DV-2024-01-0015 has been approved"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"2 hours ago"})]})]})})]}),o.jsx("div",{className:"p-2 border-t border-neutral-200 text-center",children:o.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})}function PQ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}function OQ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function _Q(){const t=Bm(),e=zo(),r=localStorage.getItem("token"),[n,a]=w.useState(!0);w.useEffect(()=>{const i=()=>{window.innerWidth<1024?a(!1):a(!0)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),w.useEffect(()=>{window.innerWidth<1024&&a(!1)},[e.pathname]);const s=()=>{a(!n)};return r||t("/login"),o.jsxs("div",{className:"h-screen flex overflow-hidden bg-neutral-50",children:[n&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-75 z-20",onClick:()=>a(!1)}),o.jsx("div",{className:`fixed inset-y-0 left-0 flex flex-col z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${n?"translate-x-0":"-translate-x-full"}`,style:{width:"300px"},children:o.jsx(_J,{})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(EQ,{toggleSidebar:s,isSidebarOpen:n}),o.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:o.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:o.jsx($B,{})})})]})]})}const $Q=()=>o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-md space-y-8",children:o.jsx($B,{})})});var RQ=function(e){return MQ(e)&&!LQ(e)};function MQ(t){return!!t&&typeof t=="object"}function LQ(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||qQ(t)}var FQ=typeof Symbol=="function"&&Symbol.for,BQ=FQ?Symbol.for("react.element"):60103;function qQ(t){return t.$$typeof===BQ}function VQ(t){return Array.isArray(t)?[]:{}}function Nx(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ff(VQ(t),t,e):t}function UQ(t,e,r){return t.concat(e).map(function(n){return Nx(n,r)})}function zQ(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(a){n[a]=Nx(t[a],r)}),Object.keys(e).forEach(function(a){!r.isMergeableObject(e[a])||!t[a]?n[a]=Nx(e[a],r):n[a]=Ff(t[a],e[a],r)}),n}function Ff(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||UQ,r.isMergeableObject=r.isMergeableObject||RQ;var n=Array.isArray(e),a=Array.isArray(t),s=n===a;return s?n?r.arrayMerge(t,e,r):zQ(t,e,r):Nx(e,r)}Ff.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,a){return Ff(n,a,r)},{})};var MS=Ff,R3=typeof global=="object"&&global&&global.Object===Object&&global,WQ=typeof self=="object"&&self&&self.Object===Object&&self,Ha=R3||WQ||Function("return this")(),$o=Ha.Symbol,M3=Object.prototype,HQ=M3.hasOwnProperty,GQ=M3.toString,Hu=$o?$o.toStringTag:void 0;function YQ(t){var e=HQ.call(t,Hu),r=t[Hu];try{t[Hu]=void 0;var n=!0}catch{}var a=GQ.call(t);return n&&(e?t[Hu]=r:delete t[Hu]),a}var KQ=Object.prototype,JQ=KQ.toString;function XQ(t){return JQ.call(t)}var ZQ="[object Null]",QQ="[object Undefined]",BP=$o?$o.toStringTag:void 0;function gl(t){return t==null?t===void 0?QQ:ZQ:BP&&BP in Object(t)?YQ(t):XQ(t)}function L3(t,e){return function(r){return t(e(r))}}var qT=L3(Object.getPrototypeOf,Object);function yl(t){return t!=null&&typeof t=="object"}var eee="[object Object]",tee=Function.prototype,ree=Object.prototype,F3=tee.toString,nee=ree.hasOwnProperty,aee=F3.call(Object);function qP(t){if(!yl(t)||gl(t)!=eee)return!1;var e=qT(t);if(e===null)return!0;var r=nee.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&F3.call(r)==aee}function see(){this.__data__=[],this.size=0}function B3(t,e){return t===e||t!==t&&e!==e}function g0(t,e){for(var r=t.length;r--;)if(B3(t[r][0],e))return r;return-1}var oee=Array.prototype,iee=oee.splice;function lee(t){var e=this.__data__,r=g0(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():iee.call(e,r,1),--this.size,!0}function cee(t){var e=this.__data__,r=g0(e,t);return r<0?void 0:e[r][1]}function uee(t){return g0(this.__data__,t)>-1}function dee(t,e){var r=this.__data__,n=g0(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Ms(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ms.prototype.clear=see;Ms.prototype.delete=lee;Ms.prototype.get=cee;Ms.prototype.has=uee;Ms.prototype.set=dee;function fee(){this.__data__=new Ms,this.size=0}function mee(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function hee(t){return this.__data__.get(t)}function pee(t){return this.__data__.has(t)}function Gm(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var gee="[object AsyncFunction]",yee="[object Function]",bee="[object GeneratorFunction]",xee="[object Proxy]";function q3(t){if(!Gm(t))return!1;var e=gl(t);return e==yee||e==bee||e==gee||e==xee}var D1=Ha["__core-js_shared__"],VP=function(){var t=/[^.]+$/.exec(D1&&D1.keys&&D1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vee(t){return!!VP&&VP in t}var jee=Function.prototype,wee=jee.toString;function bl(t){if(t!=null){try{return wee.call(t)}catch{}try{return t+""}catch{}}return""}var Cee=/[\\^$.*+?()[\]{}|]/g,Nee=/^\[object .+?Constructor\]$/,See=Function.prototype,Aee=Object.prototype,kee=See.toString,Iee=Aee.hasOwnProperty,Tee=RegExp("^"+kee.call(Iee).replace(Cee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dee(t){if(!Gm(t)||vee(t))return!1;var e=q3(t)?Tee:Nee;return e.test(bl(t))}function Eee(t,e){return t==null?void 0:t[e]}function xl(t,e){var r=Eee(t,e);return Dee(r)?r:void 0}var Bf=xl(Ha,"Map"),qf=xl(Object,"create");function Pee(){this.__data__=qf?qf(null):{},this.size=0}function Oee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _ee="__lodash_hash_undefined__",$ee=Object.prototype,Ree=$ee.hasOwnProperty;function Mee(t){var e=this.__data__;if(qf){var r=e[t];return r===_ee?void 0:r}return Ree.call(e,t)?e[t]:void 0}var Lee=Object.prototype,Fee=Lee.hasOwnProperty;function Bee(t){var e=this.__data__;return qf?e[t]!==void 0:Fee.call(e,t)}var qee="__lodash_hash_undefined__";function Vee(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=qf&&e===void 0?qee:e,this}function nl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nl.prototype.clear=Pee;nl.prototype.delete=Oee;nl.prototype.get=Mee;nl.prototype.has=Bee;nl.prototype.set=Vee;function Uee(){this.size=0,this.__data__={hash:new nl,map:new(Bf||Ms),string:new nl}}function zee(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function y0(t,e){var r=t.__data__;return zee(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Wee(t){var e=y0(this,t).delete(t);return this.size-=e?1:0,e}function Hee(t){return y0(this,t).get(t)}function Gee(t){return y0(this,t).has(t)}function Yee(t,e){var r=y0(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Go(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Go.prototype.clear=Uee;Go.prototype.delete=Wee;Go.prototype.get=Hee;Go.prototype.has=Gee;Go.prototype.set=Yee;var Kee=200;function Jee(t,e){var r=this.__data__;if(r instanceof Ms){var n=r.__data__;if(!Bf||n.length<Kee-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Go(n)}return r.set(t,e),this.size=r.size,this}function bu(t){var e=this.__data__=new Ms(t);this.size=e.size}bu.prototype.clear=fee;bu.prototype.delete=mee;bu.prototype.get=hee;bu.prototype.has=pee;bu.prototype.set=Jee;function Xee(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var UP=function(){try{var t=xl(Object,"defineProperty");return t({},"",{}),t}catch{}}();function V3(t,e,r){e=="__proto__"&&UP?UP(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Zee=Object.prototype,Qee=Zee.hasOwnProperty;function U3(t,e,r){var n=t[e];(!(Qee.call(t,e)&&B3(n,r))||r===void 0&&!(e in t))&&V3(t,e,r)}function b0(t,e,r,n){var a=!r;r||(r={});for(var s=-1,i=e.length;++s<i;){var l=e[s],c=void 0;c===void 0&&(c=t[l]),a?V3(r,l,c):U3(r,l,c)}return r}function ete(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var tte="[object Arguments]";function zP(t){return yl(t)&&gl(t)==tte}var z3=Object.prototype,rte=z3.hasOwnProperty,nte=z3.propertyIsEnumerable,ate=zP(function(){return arguments}())?zP:function(t){return yl(t)&&rte.call(t,"callee")&&!nte.call(t,"callee")},Ym=Array.isArray;function ste(){return!1}var W3=typeof jn=="object"&&jn&&!jn.nodeType&&jn,WP=W3&&typeof wn=="object"&&wn&&!wn.nodeType&&wn,ote=WP&&WP.exports===W3,HP=ote?Ha.Buffer:void 0,ite=HP?HP.isBuffer:void 0,H3=ite||ste,lte=9007199254740991,cte=/^(?:0|[1-9]\d*)$/;function ute(t,e){var r=typeof t;return e=e??lte,!!e&&(r=="number"||r!="symbol"&&cte.test(t))&&t>-1&&t%1==0&&t<e}var dte=9007199254740991;function G3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=dte}var fte="[object Arguments]",mte="[object Array]",hte="[object Boolean]",pte="[object Date]",gte="[object Error]",yte="[object Function]",bte="[object Map]",xte="[object Number]",vte="[object Object]",jte="[object RegExp]",wte="[object Set]",Cte="[object String]",Nte="[object WeakMap]",Ste="[object ArrayBuffer]",Ate="[object DataView]",kte="[object Float32Array]",Ite="[object Float64Array]",Tte="[object Int8Array]",Dte="[object Int16Array]",Ete="[object Int32Array]",Pte="[object Uint8Array]",Ote="[object Uint8ClampedArray]",_te="[object Uint16Array]",$te="[object Uint32Array]",At={};At[kte]=At[Ite]=At[Tte]=At[Dte]=At[Ete]=At[Pte]=At[Ote]=At[_te]=At[$te]=!0;At[fte]=At[mte]=At[Ste]=At[hte]=At[Ate]=At[pte]=At[gte]=At[yte]=At[bte]=At[xte]=At[vte]=At[jte]=At[wte]=At[Cte]=At[Nte]=!1;function Rte(t){return yl(t)&&G3(t.length)&&!!At[gl(t)]}function VT(t){return function(e){return t(e)}}var Y3=typeof jn=="object"&&jn&&!jn.nodeType&&jn,qd=Y3&&typeof wn=="object"&&wn&&!wn.nodeType&&wn,Mte=qd&&qd.exports===Y3,E1=Mte&&R3.process,Lc=function(){try{var t=qd&&qd.require&&qd.require("util").types;return t||E1&&E1.binding&&E1.binding("util")}catch{}}(),GP=Lc&&Lc.isTypedArray,Lte=GP?VT(GP):Rte,Fte=Object.prototype,Bte=Fte.hasOwnProperty;function K3(t,e){var r=Ym(t),n=!r&&ate(t),a=!r&&!n&&H3(t),s=!r&&!n&&!a&&Lte(t),i=r||n||a||s,l=i?ete(t.length,String):[],c=l.length;for(var u in t)(e||Bte.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ute(u,c)))&&l.push(u);return l}var qte=Object.prototype;function UT(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||qte;return t===r}var Vte=L3(Object.keys,Object),Ute=Object.prototype,zte=Ute.hasOwnProperty;function Wte(t){if(!UT(t))return Vte(t);var e=[];for(var r in Object(t))zte.call(t,r)&&r!="constructor"&&e.push(r);return e}function J3(t){return t!=null&&G3(t.length)&&!q3(t)}function zT(t){return J3(t)?K3(t):Wte(t)}function Hte(t,e){return t&&b0(e,zT(e),t)}function Gte(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Yte=Object.prototype,Kte=Yte.hasOwnProperty;function Jte(t){if(!Gm(t))return Gte(t);var e=UT(t),r=[];for(var n in t)n=="constructor"&&(e||!Kte.call(t,n))||r.push(n);return r}function WT(t){return J3(t)?K3(t,!0):Jte(t)}function Xte(t,e){return t&&b0(e,WT(e),t)}var X3=typeof jn=="object"&&jn&&!jn.nodeType&&jn,YP=X3&&typeof wn=="object"&&wn&&!wn.nodeType&&wn,Zte=YP&&YP.exports===X3,KP=Zte?Ha.Buffer:void 0,JP=KP?KP.allocUnsafe:void 0;function Qte(t,e){if(e)return t.slice();var r=t.length,n=JP?JP(r):new t.constructor(r);return t.copy(n),n}function Z3(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function ere(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}function Q3(){return[]}var tre=Object.prototype,rre=tre.propertyIsEnumerable,XP=Object.getOwnPropertySymbols,HT=XP?function(t){return t==null?[]:(t=Object(t),ere(XP(t),function(e){return rre.call(t,e)}))}:Q3;function nre(t,e){return b0(t,HT(t),e)}function eq(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var are=Object.getOwnPropertySymbols,tq=are?function(t){for(var e=[];t;)eq(e,HT(t)),t=qT(t);return e}:Q3;function sre(t,e){return b0(t,tq(t),e)}function rq(t,e,r){var n=e(t);return Ym(t)?n:eq(n,r(t))}function ore(t){return rq(t,zT,HT)}function ire(t){return rq(t,WT,tq)}var LS=xl(Ha,"DataView"),FS=xl(Ha,"Promise"),BS=xl(Ha,"Set"),qS=xl(Ha,"WeakMap"),ZP="[object Map]",lre="[object Object]",QP="[object Promise]",eO="[object Set]",tO="[object WeakMap]",rO="[object DataView]",cre=bl(LS),ure=bl(Bf),dre=bl(FS),fre=bl(BS),mre=bl(qS),ss=gl;(LS&&ss(new LS(new ArrayBuffer(1)))!=rO||Bf&&ss(new Bf)!=ZP||FS&&ss(FS.resolve())!=QP||BS&&ss(new BS)!=eO||qS&&ss(new qS)!=tO)&&(ss=function(t){var e=gl(t),r=e==lre?t.constructor:void 0,n=r?bl(r):"";if(n)switch(n){case cre:return rO;case ure:return ZP;case dre:return QP;case fre:return eO;case mre:return tO}return e});var hre=Object.prototype,pre=hre.hasOwnProperty;function gre(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&pre.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var nO=Ha.Uint8Array;function GT(t){var e=new t.constructor(t.byteLength);return new nO(e).set(new nO(t)),e}function yre(t,e){var r=e?GT(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var bre=/\w*$/;function xre(t){var e=new t.constructor(t.source,bre.exec(t));return e.lastIndex=t.lastIndex,e}var aO=$o?$o.prototype:void 0,sO=aO?aO.valueOf:void 0;function vre(t){return sO?Object(sO.call(t)):{}}function jre(t,e){var r=e?GT(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var wre="[object Boolean]",Cre="[object Date]",Nre="[object Map]",Sre="[object Number]",Are="[object RegExp]",kre="[object Set]",Ire="[object String]",Tre="[object Symbol]",Dre="[object ArrayBuffer]",Ere="[object DataView]",Pre="[object Float32Array]",Ore="[object Float64Array]",_re="[object Int8Array]",$re="[object Int16Array]",Rre="[object Int32Array]",Mre="[object Uint8Array]",Lre="[object Uint8ClampedArray]",Fre="[object Uint16Array]",Bre="[object Uint32Array]";function qre(t,e,r){var n=t.constructor;switch(e){case Dre:return GT(t);case wre:case Cre:return new n(+t);case Ere:return yre(t,r);case Pre:case Ore:case _re:case $re:case Rre:case Mre:case Lre:case Fre:case Bre:return jre(t,r);case Nre:return new n;case Sre:case Ire:return new n(t);case Are:return xre(t);case kre:return new n;case Tre:return vre(t)}}var oO=Object.create,Vre=function(){function t(){}return function(e){if(!Gm(e))return{};if(oO)return oO(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function Ure(t){return typeof t.constructor=="function"&&!UT(t)?Vre(qT(t)):{}}var zre="[object Map]";function Wre(t){return yl(t)&&ss(t)==zre}var iO=Lc&&Lc.isMap,Hre=iO?VT(iO):Wre,Gre="[object Set]";function Yre(t){return yl(t)&&ss(t)==Gre}var lO=Lc&&Lc.isSet,Kre=lO?VT(lO):Yre,Jre=1,Xre=2,Zre=4,nq="[object Arguments]",Qre="[object Array]",ene="[object Boolean]",tne="[object Date]",rne="[object Error]",aq="[object Function]",nne="[object GeneratorFunction]",ane="[object Map]",sne="[object Number]",sq="[object Object]",one="[object RegExp]",ine="[object Set]",lne="[object String]",cne="[object Symbol]",une="[object WeakMap]",dne="[object ArrayBuffer]",fne="[object DataView]",mne="[object Float32Array]",hne="[object Float64Array]",pne="[object Int8Array]",gne="[object Int16Array]",yne="[object Int32Array]",bne="[object Uint8Array]",xne="[object Uint8ClampedArray]",vne="[object Uint16Array]",jne="[object Uint32Array]",bt={};bt[nq]=bt[Qre]=bt[dne]=bt[fne]=bt[ene]=bt[tne]=bt[mne]=bt[hne]=bt[pne]=bt[gne]=bt[yne]=bt[ane]=bt[sne]=bt[sq]=bt[one]=bt[ine]=bt[lne]=bt[cne]=bt[bne]=bt[xne]=bt[vne]=bt[jne]=!0;bt[rne]=bt[aq]=bt[une]=!1;function Vd(t,e,r,n,a,s){var i,l=e&Jre,c=e&Xre,u=e&Zre;if(i!==void 0)return i;if(!Gm(t))return t;var d=Ym(t);if(d){if(i=gre(t),!l)return Z3(t,i)}else{var f=ss(t),m=f==aq||f==nne;if(H3(t))return Qte(t,l);if(f==sq||f==nq||m&&!a){if(i=c||m?{}:Ure(t),!l)return c?sre(t,Xte(i,t)):nre(t,Hte(i,t))}else{if(!bt[f])return a?t:{};i=qre(t,f,l)}}s||(s=new bu);var p=s.get(t);if(p)return p;s.set(t,i),Kre(t)?t.forEach(function(g){i.add(Vd(g,e,r,g,t,s))}):Hre(t)&&t.forEach(function(g,x){i.set(x,Vd(g,e,r,x,t,s))});var h=u?c?ire:ore:c?WT:zT,b=d?void 0:h(t);return Xee(b||t,function(g,x){b&&(x=g,g=t[x]),U3(i,x,Vd(g,e,r,x,t,s))}),i}var wne=1,Cne=4;function xd(t){return Vd(t,wne|Cne)}var cO=Array.isArray,uO=Object.keys,Nne=Object.prototype.hasOwnProperty,Sne=typeof Element<"u";function VS(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=cO(t),n=cO(e),a,s,i;if(r&&n){if(s=t.length,s!=e.length)return!1;for(a=s;a--!==0;)if(!VS(t[a],e[a]))return!1;return!0}if(r!=n)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=uO(t);if(s=f.length,s!==uO(e).length)return!1;for(a=s;a--!==0;)if(!Nne.call(e,f[a]))return!1;if(Sne&&t instanceof Element&&e instanceof Element)return t===e;for(a=s;a--!==0;)if(i=f[a],!(i==="_owner"&&t.$$typeof)&&!VS(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var Ane=function(e,r){try{return VS(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const Xs=st(Ane);var kne=4;function dO(t){return Vd(t,kne)}function oq(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Ine="[object Symbol]";function YT(t){return typeof t=="symbol"||yl(t)&&gl(t)==Ine}var Tne="Expected a function";function KT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Tne);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(KT.Cache||Go),r}KT.Cache=Go;var Dne=500;function Ene(t){var e=KT(t,function(n){return r.size===Dne&&r.clear(),n}),r=e.cache;return e}var Pne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,One=/\\(\\)?/g,_ne=Ene(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Pne,function(r,n,a,s){e.push(a?s.replace(One,"$1"):n||r)}),e});function $ne(t){if(typeof t=="string"||YT(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var fO=$o?$o.prototype:void 0,mO=fO?fO.toString:void 0;function iq(t){if(typeof t=="string")return t;if(Ym(t))return oq(t,iq)+"";if(YT(t))return mO?mO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Rne(t){return t==null?"":iq(t)}function lq(t){return Ym(t)?oq(t,$ne):YT(t)?[t]:Z3(_ne(Rne(t)))}var cq={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=typeof Symbol=="function"&&Symbol.for,JT=xr?Symbol.for("react.element"):60103,XT=xr?Symbol.for("react.portal"):60106,x0=xr?Symbol.for("react.fragment"):60107,v0=xr?Symbol.for("react.strict_mode"):60108,j0=xr?Symbol.for("react.profiler"):60114,w0=xr?Symbol.for("react.provider"):60109,C0=xr?Symbol.for("react.context"):60110,ZT=xr?Symbol.for("react.async_mode"):60111,N0=xr?Symbol.for("react.concurrent_mode"):60111,S0=xr?Symbol.for("react.forward_ref"):60112,A0=xr?Symbol.for("react.suspense"):60113,Mne=xr?Symbol.for("react.suspense_list"):60120,k0=xr?Symbol.for("react.memo"):60115,I0=xr?Symbol.for("react.lazy"):60116,Lne=xr?Symbol.for("react.block"):60121,Fne=xr?Symbol.for("react.fundamental"):60117,Bne=xr?Symbol.for("react.responder"):60118,qne=xr?Symbol.for("react.scope"):60119;function _n(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case JT:switch(t=t.type,t){case ZT:case N0:case x0:case j0:case v0:case A0:return t;default:switch(t=t&&t.$$typeof,t){case C0:case S0:case I0:case k0:case w0:return t;default:return e}}case XT:return e}}}function uq(t){return _n(t)===N0}ft.AsyncMode=ZT;ft.ConcurrentMode=N0;ft.ContextConsumer=C0;ft.ContextProvider=w0;ft.Element=JT;ft.ForwardRef=S0;ft.Fragment=x0;ft.Lazy=I0;ft.Memo=k0;ft.Portal=XT;ft.Profiler=j0;ft.StrictMode=v0;ft.Suspense=A0;ft.isAsyncMode=function(t){return uq(t)||_n(t)===ZT};ft.isConcurrentMode=uq;ft.isContextConsumer=function(t){return _n(t)===C0};ft.isContextProvider=function(t){return _n(t)===w0};ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===JT};ft.isForwardRef=function(t){return _n(t)===S0};ft.isFragment=function(t){return _n(t)===x0};ft.isLazy=function(t){return _n(t)===I0};ft.isMemo=function(t){return _n(t)===k0};ft.isPortal=function(t){return _n(t)===XT};ft.isProfiler=function(t){return _n(t)===j0};ft.isStrictMode=function(t){return _n(t)===v0};ft.isSuspense=function(t){return _n(t)===A0};ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===x0||t===N0||t===j0||t===v0||t===A0||t===Mne||typeof t=="object"&&t!==null&&(t.$$typeof===I0||t.$$typeof===k0||t.$$typeof===w0||t.$$typeof===C0||t.$$typeof===S0||t.$$typeof===Fne||t.$$typeof===Bne||t.$$typeof===qne||t.$$typeof===Lne)};ft.typeOf=_n;cq.exports=ft;var Vne=cq.exports,QT=Vne,Une={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zne={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Wne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eD={};eD[QT.ForwardRef]=Wne;eD[QT.Memo]=dq;function hO(t){return QT.isMemo(t)?dq:eD[t.$$typeof]||Une}var Hne=Object.defineProperty,Gne=Object.getOwnPropertyNames,pO=Object.getOwnPropertySymbols,Yne=Object.getOwnPropertyDescriptor,Kne=Object.getPrototypeOf,gO=Object.prototype;function fq(t,e,r){if(typeof e!="string"){if(gO){var n=Kne(e);n&&n!==gO&&fq(t,n,r)}var a=Gne(e);pO&&(a=a.concat(pO(e)));for(var s=hO(t),i=hO(e),l=0;l<a.length;++l){var c=a[l];if(!zne[c]&&!(r&&r[c])&&!(i&&i[c])&&!(s&&s[c])){var u=Yne(e,c);try{Hne(t,c,u)}catch{}}}}return t}var Jne=fq;const Xne=st(Jne);function qt(){return qt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qt.apply(this,arguments)}function Zne(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function tD(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function yO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var T0=w.createContext(void 0);T0.displayName="FormikContext";var rD=T0.Provider,Qne=T0.Consumer;function mq(){var t=w.useContext(T0);return t}var bO=function(e){return Array.isArray(e)&&e.length===0},Kr=function(e){return typeof e=="function"},Km=function(e){return e!==null&&typeof e=="object"},eae=function(e){return String(Math.floor(Number(e)))===e},P1=function(e){return Object.prototype.toString.call(e)==="[object String]"},hq=function(e){return w.Children.count(e)===0},O1=function(e){return Km(e)&&Kr(e.then)};function mr(t,e,r,n){n===void 0&&(n=0);for(var a=lq(e);t&&n<a.length;)t=t[a[n++]];return n!==a.length&&!t||t===void 0?r:t}function $a(t,e,r){for(var n=dO(t),a=n,s=0,i=lq(e);s<i.length-1;s++){var l=i[s],c=mr(t,i.slice(0,s+1));if(c&&(Km(c)||Array.isArray(c)))a=a[l]=dO(c);else{var u=i[s+1];a=a[l]=eae(u)&&Number(u)>=0?[]:{}}}return(s===0?t:a)[i[s]]===r?t:(r===void 0?delete a[i[s]]:a[i[s]]=r,s===0&&r===void 0&&delete n[i[s]],n)}function pq(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var a=0,s=Object.keys(t);a<s.length;a++){var i=s[a],l=t[i];Km(l)?r.get(l)||(r.set(l,!0),n[i]=Array.isArray(l)?[]:{},pq(l,e,r,n[i])):n[i]=e}return n}function tae(t,e){switch(e.type){case"SET_VALUES":return qt({},t,{values:e.payload});case"SET_TOUCHED":return qt({},t,{touched:e.payload});case"SET_ERRORS":return Xs(t.errors,e.payload)?t:qt({},t,{errors:e.payload});case"SET_STATUS":return qt({},t,{status:e.payload});case"SET_ISSUBMITTING":return qt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return qt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return qt({},t,{values:$a(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return qt({},t,{touched:$a(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return qt({},t,{errors:$a(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return qt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return qt({},t,{touched:pq(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return qt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return qt({},t,{isSubmitting:!1});default:return t}}var ni={},Fh={};function rt(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,a=n===void 0?!0:n,s=t.validateOnMount,i=s===void 0?!1:s,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=tD(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=qt({validateOnChange:r,validateOnBlur:a,validateOnMount:i,onSubmit:d},f),p=w.useRef(m.initialValues),h=w.useRef(m.initialErrors||ni),b=w.useRef(m.initialTouched||Fh),g=w.useRef(m.initialStatus),x=w.useRef(!1),y=w.useRef({});w.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var v=w.useState(0),N=v[1],C=w.useRef({values:xd(m.initialValues),errors:xd(m.initialErrors)||ni,touched:xd(m.initialTouched)||Fh,status:xd(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),j=C.current,S=w.useCallback(function(J){var ye=C.current;C.current=tae(ye,J),ye!==C.current&&N(function(Z){return Z+1})},[]),k=w.useCallback(function(J,ye){return new Promise(function(Z,pe){var be=m.validate(J,ye);be==null?Z(ni):O1(be)?be.then(function(De){Z(De||ni)},function(De){pe(De)}):Z(be)})},[m.validate]),T=w.useCallback(function(J,ye){var Z=m.validationSchema,pe=Kr(Z)?Z(ye):Z,be=ye&&pe.validateAt?pe.validateAt(ye,J):nae(J,pe);return new Promise(function(De,Je){be.then(function(){De(ni)},function(Ze){Ze.name==="ValidationError"?De(rae(Ze)):Je(Ze)})})},[m.validationSchema]),A=w.useCallback(function(J,ye){return new Promise(function(Z){return Z(y.current[J].validate(ye))})},[]),D=w.useCallback(function(J){var ye=Object.keys(y.current).filter(function(pe){return Kr(y.current[pe].validate)}),Z=ye.length>0?ye.map(function(pe){return A(pe,mr(J,pe))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Z).then(function(pe){return pe.reduce(function(be,De,Je){return De==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||De&&(be=$a(be,ye[Je],De)),be},{})})},[A]),P=w.useCallback(function(J){return Promise.all([D(J),m.validationSchema?T(J):{},m.validate?k(J):{}]).then(function(ye){var Z=ye[0],pe=ye[1],be=ye[2],De=MS.all([Z,pe,be],{arrayMerge:aae});return De})},[m.validate,m.validationSchema,D,k,T]),M=$n(function(J){return J===void 0&&(J=j.values),S({type:"SET_ISVALIDATING",payload:!0}),P(J).then(function(ye){return x.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:ye})),ye})});w.useEffect(function(){i&&x.current===!0&&Xs(p.current,m.initialValues)&&M(p.current)},[i,M]);var $=w.useCallback(function(J){var ye=J&&J.values?J.values:p.current,Z=J&&J.errors?J.errors:h.current?h.current:m.initialErrors||{},pe=J&&J.touched?J.touched:b.current?b.current:m.initialTouched||{},be=J&&J.status?J.status:g.current?g.current:m.initialStatus;p.current=ye,h.current=Z,b.current=pe,g.current=be;var De=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!J&&!!J.isSubmitting,errors:Z,touched:pe,status:be,values:ye,isValidating:!!J&&!!J.isValidating,submitCount:J&&J.submitCount&&typeof J.submitCount=="number"?J.submitCount:0}})};if(m.onReset){var Je=m.onReset(j.values,me);O1(Je)?Je.then(De):De()}else De()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);w.useEffect(function(){x.current===!0&&!Xs(p.current,m.initialValues)&&u&&(p.current=m.initialValues,$(),i&&M(p.current))},[u,m.initialValues,$,i,M]),w.useEffect(function(){u&&x.current===!0&&!Xs(h.current,m.initialErrors)&&(h.current=m.initialErrors||ni,S({type:"SET_ERRORS",payload:m.initialErrors||ni}))},[u,m.initialErrors]),w.useEffect(function(){u&&x.current===!0&&!Xs(b.current,m.initialTouched)&&(b.current=m.initialTouched||Fh,S({type:"SET_TOUCHED",payload:m.initialTouched||Fh}))},[u,m.initialTouched]),w.useEffect(function(){u&&x.current===!0&&!Xs(g.current,m.initialStatus)&&(g.current=m.initialStatus,S({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var R=$n(function(J){if(y.current[J]&&Kr(y.current[J].validate)){var ye=mr(j.values,J),Z=y.current[J].validate(ye);return O1(Z)?(S({type:"SET_ISVALIDATING",payload:!0}),Z.then(function(pe){return pe}).then(function(pe){S({type:"SET_FIELD_ERROR",payload:{field:J,value:pe}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:J,value:Z}}),Promise.resolve(Z))}else if(m.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),T(j.values,J).then(function(pe){return pe}).then(function(pe){S({type:"SET_FIELD_ERROR",payload:{field:J,value:mr(pe,J)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),F=w.useCallback(function(J,ye){var Z=ye.validate;y.current[J]={validate:Z}},[]),z=w.useCallback(function(J){delete y.current[J]},[]),O=$n(function(J,ye){S({type:"SET_TOUCHED",payload:J});var Z=ye===void 0?a:ye;return Z?M(j.values):Promise.resolve()}),_=w.useCallback(function(J){S({type:"SET_ERRORS",payload:J})},[]),B=$n(function(J,ye){var Z=Kr(J)?J(j.values):J;S({type:"SET_VALUES",payload:Z});var pe=ye===void 0?r:ye;return pe?M(Z):Promise.resolve()}),Y=w.useCallback(function(J,ye){S({type:"SET_FIELD_ERROR",payload:{field:J,value:ye}})},[]),H=$n(function(J,ye,Z){S({type:"SET_FIELD_VALUE",payload:{field:J,value:ye}});var pe=Z===void 0?r:Z;return pe?M($a(j.values,J,ye)):Promise.resolve()}),te=w.useCallback(function(J,ye){var Z=ye,pe=J,be;if(!P1(J)){J.persist&&J.persist();var De=J.target?J.target:J.currentTarget,Je=De.type,Ze=De.name,Ir=De.id,Us=De.value,ti=De.checked;De.outerHTML;var zs=De.options,ri=De.multiple;Z=ye||Ze||Ir,pe=/number|range/.test(Je)?(be=parseFloat(Us),isNaN(be)?"":be):/checkbox/.test(Je)?oae(mr(j.values,Z),ti,Us):zs&&ri?sae(zs):Us}Z&&H(Z,pe)},[H,j.values]),fe=$n(function(J){if(P1(J))return function(ye){return te(ye,J)};te(J)}),ke=$n(function(J,ye,Z){ye===void 0&&(ye=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:J,value:ye}});var pe=Z===void 0?a:Z;return pe?M(j.values):Promise.resolve()}),ae=w.useCallback(function(J,ye){J.persist&&J.persist();var Z=J.target,pe=Z.name,be=Z.id;Z.outerHTML;var De=ye||pe||be;ke(De,!0)},[ke]),X=$n(function(J){if(P1(J))return function(ye){return ae(ye,J)};ae(J)}),ue=w.useCallback(function(J){Kr(J)?S({type:"SET_FORMIK_STATE",payload:J}):S({type:"SET_FORMIK_STATE",payload:function(){return J}})},[]),Q=w.useCallback(function(J){S({type:"SET_STATUS",payload:J})},[]),re=w.useCallback(function(J){S({type:"SET_ISSUBMITTING",payload:J})},[]),K=$n(function(){return S({type:"SUBMIT_ATTEMPT"}),M().then(function(J){var ye=J instanceof Error,Z=!ye&&Object.keys(J).length===0;if(Z){var pe;try{if(pe=je(),pe===void 0)return}catch(be){throw be}return Promise.resolve(pe).then(function(be){return x.current&&S({type:"SUBMIT_SUCCESS"}),be}).catch(function(be){if(x.current)throw S({type:"SUBMIT_FAILURE"}),be})}else if(x.current&&(S({type:"SUBMIT_FAILURE"}),ye))throw J})}),W=$n(function(J){J&&J.preventDefault&&Kr(J.preventDefault)&&J.preventDefault(),J&&J.stopPropagation&&Kr(J.stopPropagation)&&J.stopPropagation(),K().catch(function(ye){console.warn("Warning: An unhandled error was caught from submitForm()",ye)})}),me={resetForm:$,validateForm:M,validateField:R,setErrors:_,setFieldError:Y,setFieldTouched:ke,setFieldValue:H,setStatus:Q,setSubmitting:re,setTouched:O,setValues:B,setFormikState:ue,submitForm:K},je=$n(function(){return d(j.values,me)}),Te=$n(function(J){J&&J.preventDefault&&Kr(J.preventDefault)&&J.preventDefault(),J&&J.stopPropagation&&Kr(J.stopPropagation)&&J.stopPropagation(),$()}),Ve=w.useCallback(function(J){return{value:mr(j.values,J),error:mr(j.errors,J),touched:!!mr(j.touched,J),initialValue:mr(p.current,J),initialTouched:!!mr(b.current,J),initialError:mr(h.current,J)}},[j.errors,j.touched,j.values]),qe=w.useCallback(function(J){return{setValue:function(Z,pe){return H(J,Z,pe)},setTouched:function(Z,pe){return ke(J,Z,pe)},setError:function(Z){return Y(J,Z)}}},[H,ke,Y]),Lr=w.useCallback(function(J){var ye=Km(J),Z=ye?J.name:J,pe=mr(j.values,Z),be={name:Z,value:pe,onChange:fe,onBlur:X};if(ye){var De=J.type,Je=J.value,Ze=J.as,Ir=J.multiple;De==="checkbox"?Je===void 0?be.checked=!!pe:(be.checked=!!(Array.isArray(pe)&&~pe.indexOf(Je)),be.value=Je):De==="radio"?(be.checked=pe===Je,be.value=Je):Ze==="select"&&Ir&&(be.value=be.value||[],be.multiple=!0)}return be},[X,fe,j.values]),Fr=w.useMemo(function(){return!Xs(p.current,j.values)},[p.current,j.values]),ea=w.useMemo(function(){return typeof l<"u"?Fr?j.errors&&Object.keys(j.errors).length===0:l!==!1&&Kr(l)?l(m):l:j.errors&&Object.keys(j.errors).length===0},[l,Fr,j.errors,m]),Hr=qt({},j,{initialValues:p.current,initialErrors:h.current,initialTouched:b.current,initialStatus:g.current,handleBlur:X,handleChange:fe,handleReset:Te,handleSubmit:W,resetForm:$,setErrors:_,setFormikState:ue,setFieldTouched:ke,setFieldValue:H,setFieldError:Y,setStatus:Q,setSubmitting:re,setTouched:O,setValues:B,submitForm:K,validateForm:M,validateField:R,isValid:ea,dirty:Fr,unregisterField:z,registerField:F,getFieldProps:Lr,getFieldMeta:Ve,getFieldHelpers:qe,validateOnBlur:a,validateOnChange:r,validateOnMount:i});return Hr}function $e(t){var e=rt(t),r=t.component,n=t.children,a=t.render,s=t.innerRef;return w.useImperativeHandle(s,function(){return e}),w.createElement(rD,{value:e},r?w.createElement(r,e):a?a(e):n?Kr(n)?n(e):hq(n)?null:w.Children.only(n):null)}function rae(t){var e={};if(t.inner){if(t.inner.length===0)return $a(e,t.path,t.message);for(var a=t.inner,r=Array.isArray(a),n=0,a=r?a:a[Symbol.iterator]();;){var s;if(r){if(n>=a.length)break;s=a[n++]}else{if(n=a.next(),n.done)break;s=n.value}var i=s;mr(e,i.path)||(e=$a(e,i.path,i.message))}}return e}function nae(t,e,r,n){r===void 0&&(r=!1);var a=US(t);return e[r?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function US(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(a){return Array.isArray(a)===!0||qP(a)?US(a):a!==""?a:void 0}):qP(t[n])?e[n]=US(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function aae(t,e,r){var n=t.slice();return e.forEach(function(s,i){if(typeof n[i]>"u"){var l=r.clone!==!1,c=l&&r.isMergeableObject(s);n[i]=c?MS(Array.isArray(s)?[]:{},s,r):s}else r.isMergeableObject(s)?n[i]=MS(t[i],s,r):t.indexOf(s)===-1&&n.push(s)}),n}function sae(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function oae(t,e,r){if(typeof t=="boolean")return!!e;var n=[],a=!1,s=-1;if(Array.isArray(t))n=t,s=t.indexOf(r),a=s>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!a?n.concat(r):a?n.slice(0,s).concat(n.slice(s+1)):n}var iae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function $n(t){var e=w.useRef(t);return iae(function(){e.current=t}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current.apply(void 0,n)},[])}var Le=w.forwardRef(function(t,e){var r=t.action,n=tD(t,["action"]),a=r??"#",s=mq(),i=s.handleReset,l=s.handleSubmit;return w.createElement("form",qt({onSubmit:l,ref:e,onReset:i,action:a},n))});Le.displayName="Form";function lae(t){var e=function(a){return w.createElement(Qne,null,function(s){return w.createElement(t,qt({},a,{formik:s}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",Xne(e,t)}var cae=function(e,r,n){var a=al(e),s=a[r];return a.splice(r,1),a.splice(n,0,s),a},uae=function(e,r,n){var a=al(e),s=a[r];return a[r]=a[n],a[n]=s,a},_1=function(e,r,n){var a=al(e);return a.splice(r,0,n),a},dae=function(e,r,n){var a=al(e);return a[r]=n,a},al=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,a){return a>n?a:n},0);return Array.from(qt({},e,{length:r+1}))}else return[]},xO=function(e,r){var n=typeof e=="function"?e:r;return function(a){if(Array.isArray(a)||Km(a)){var s=al(a);return n(s)}return a}},gq=function(t){Zne(e,t);function e(n){var a;return a=t.call(this,n)||this,a.updateArrayField=function(s,i,l){var c=a.props,u=c.name,d=c.formik.setFormikState;d(function(f){var m=xO(l,s),p=xO(i,s),h=$a(f.values,u,s(mr(f.values,u))),b=l?m(mr(f.errors,u)):void 0,g=i?p(mr(f.touched,u)):void 0;return bO(b)&&(b=void 0),bO(g)&&(g=void 0),qt({},f,{values:h,errors:l?$a(f.errors,u,b):f.errors,touched:i?$a(f.touched,u,g):f.touched})})},a.push=function(s){return a.updateArrayField(function(i){return[].concat(al(i),[xd(s)])},!1,!1)},a.handlePush=function(s){return function(){return a.push(s)}},a.swap=function(s,i){return a.updateArrayField(function(l){return uae(l,s,i)},!0,!0)},a.handleSwap=function(s,i){return function(){return a.swap(s,i)}},a.move=function(s,i){return a.updateArrayField(function(l){return cae(l,s,i)},!0,!0)},a.handleMove=function(s,i){return function(){return a.move(s,i)}},a.insert=function(s,i){return a.updateArrayField(function(l){return _1(l,s,i)},function(l){return _1(l,s,null)},function(l){return _1(l,s,null)})},a.handleInsert=function(s,i){return function(){return a.insert(s,i)}},a.replace=function(s,i){return a.updateArrayField(function(l){return dae(l,s,i)},!1,!1)},a.handleReplace=function(s,i){return function(){return a.replace(s,i)}},a.unshift=function(s){var i=-1;return a.updateArrayField(function(l){var c=l?[s].concat(l):[s];return i=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),i},a.handleUnshift=function(s){return function(){return a.unshift(s)}},a.handleRemove=function(s){return function(){return a.remove(s)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(yO(a)),a.pop=a.pop.bind(yO(a)),a}var r=e.prototype;return r.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Xs(mr(a.formik.values,a.name),mr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(a){var s;return this.updateArrayField(function(i){var l=i?al(i):[];return s||(s=l[a]),Kr(l.splice)&&l.splice(a,1),Kr(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),s},r.pop=function(){var a;return this.updateArrayField(function(s){var i=s.slice();return a||(a=i&&i.pop&&i.pop()),i},!0,!0),a},r.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,i=s.component,l=s.render,c=s.children,u=s.name,d=s.formik,f=tD(d,["validate","validationSchema"]),m=qt({},a,{form:f,name:u});return i?w.createElement(i,m):l?l(m):c?typeof c=="function"?c(m):hq(c)?null:w.Children.only(c):null},e}(w.Component);gq.defaultProps={validateOnChange:!0};var en=lae(gq);function I({label:t,name:e,type:r="text",placeholder:n="",required:a=!1,disabled:s=!1,readOnly:i=!1,className:l="",options:c=[],value:u,onChange:d,onBlur:f,error:m,touched:p,helperText:h,...b}){const g=m&&p,[x,y]=w.useState(!1),v=()=>{switch(r){case"textarea":return o.jsx("textarea",{id:e,name:e,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,rows:b.rows||3,className:_e("form-textarea border border-gray-300 px-4 py-2",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b});case"multiselect":return o.jsx("select",{id:e,name:e,disabled:s,multiple:!0,value:u||[],onChange:N=>{const C=Array.from(N.target.selectedOptions).map(j=>j.value);d({target:{name:e,value:C}})},onBlur:f,className:_e("form-select border border-gray-300 px-4 py-2 h-auto",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b,children:c.map(N=>o.jsx("option",{value:N.value,children:N.label},N.value))});case"select":return o.jsxs("select",{id:e,name:e,disabled:s,value:u,onChange:d,onBlur:f,className:_e("form-select border border-gray-300 px-4 py-2 pr-10",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b,children:[o.jsx("option",{value:"",children:b.defaultOption||"Select"}),c.map(N=>o.jsx("option",{value:N.value,children:N.label},N.value))]});case"checkbox":return o.jsx("div",{className:"flex items-center h-full",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:e,name:e,type:"checkbox",disabled:s,checked:u,onChange:d,onBlur:f,className:_e("form-checkbox",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b}),o.jsx("label",{htmlFor:e,className:"ml-2 block text-sm text-neutral-700",children:t})]})});case"radio":return o.jsx("div",{className:"space-y-2",children:c.map(N=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:`${e}-${N.value}`,name:e,type:"radio",value:N.value,disabled:s,checked:u===N.value,onChange:d,onBlur:f,className:_e("form-radio ",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b}),o.jsx("label",{htmlFor:`${e}-${N.value}`,className:"ml-2 block text-sm text-neutral-700",children:N.label})]},N.value))});case"password":return o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:e,name:e,type:x?"text":"password",placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:_e("form-input border border-gray-300 h-[42px] px-4 py-2 pr-10 w-full",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b}),o.jsx("button",{type:"button",onClick:()=>y(N=>!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",tabIndex:-1,children:x?o.jsx(pJ,{className:"h-5 w-5"}):o.jsx(Vm,{className:"h-5 w-5"})})]});case"date":case"number":case"email":case"text":default:return o.jsx("input",{id:e,name:e,type:r,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:_e("form-input border border-gray-300 h-[42px] px-4 py-2",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b})}};return o.jsxs("div",{className:`form-group ${r==="checkbox"?"":"space-y-1"}`,children:[r!=="checkbox"&&o.jsxs("label",{htmlFor:e,className:"form-label",children:[t," ",a&&o.jsx("span",{className:"text-error-500",children:"*"})]}),v(),g?o.jsx("div",{className:"mt-1 text-error-600 text-sm",children:m}):h?o.jsx("div",{className:"mt-1 text-neutral-500 text-xs",children:h}):null]})}function fae(){const[t,e]=w.useState(""),[r,n]=w.useState(""),a=le(),{isLoading:s,error:i}=V(c=>c.auth),l=c=>{if(c.preventDefault(),!t||!r){q.error("Please fill out all fields.");return}a(Lp({username:t,password:r}))};return o.jsx("div",{className:"bg-neutral-100 flex items-center justify-center  sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-4 sm:p-8 rounded-lg shadow-md",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-neutral-900",children:"LGU Management System"}),o.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to access your account"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[o.jsxs("div",{className:"rounded-md space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:t,onChange:c=>e(c.target.value)}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:r,onChange:c=>n(c.target.value)}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]})})]}),i&&o.jsx("div",{className:"rounded-md bg-error-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(mJ,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm font-medium text-error-800",children:i})})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:`btn btn-primary w-full flex justify-center items-center ${s?"opacity-70 cursor-not-allowed":""}`,children:s?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),o.jsx("div",{className:"text-center text-sm text-neutral-500 mt-8",children:" 2025 Local Government Unit. All rights reserved."})]})})}const mae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Registration Page"})}),hae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Forgot Password Page"})}),pae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Reset Password Page"})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Jm(t){return t+.5|0}const io=(t,e,r)=>Math.max(Math.min(t,r),e);function vd(t){return io(Jm(t*2.55),0,255)}function wo(t){return io(Jm(t*255),0,255)}function os(t){return io(Jm(t/2.55)/100,0,1)}function vO(t){return io(Jm(t*100),0,100)}const Rn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zS=[..."0123456789ABCDEF"],gae=t=>zS[t&15],yae=t=>zS[(t&240)>>4]+zS[t&15],Bh=t=>(t&240)>>4===(t&15),bae=t=>Bh(t.r)&&Bh(t.g)&&Bh(t.b)&&Bh(t.a);function xae(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Rn[t[1]]*17,g:255&Rn[t[2]]*17,b:255&Rn[t[3]]*17,a:e===5?Rn[t[4]]*17:255}:(e===7||e===9)&&(r={r:Rn[t[1]]<<4|Rn[t[2]],g:Rn[t[3]]<<4|Rn[t[4]],b:Rn[t[5]]<<4|Rn[t[6]],a:e===9?Rn[t[7]]<<4|Rn[t[8]]:255})),r}const vae=(t,e)=>t<255?e(t):"";function jae(t){var e=bae(t)?gae:yae;return t?"#"+e(t.r)+e(t.g)+e(t.b)+vae(t.a,e):void 0}const wae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yq(t,e,r){const n=e*Math.min(r,1-r),a=(s,i=(s+t/30)%12)=>r-n*Math.max(Math.min(i-3,9-i,1),-1);return[a(0),a(8),a(4)]}function Cae(t,e,r){const n=(a,s=(a+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function Nae(t,e,r){const n=yq(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function Sae(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function nD(t){const r=t.r/255,n=t.g/255,a=t.b/255,s=Math.max(r,n,a),i=Math.min(r,n,a),l=(s+i)/2;let c,u,d;return s!==i&&(d=s-i,u=l>.5?d/(2-s-i):d/(s+i),c=Sae(r,n,a,d,s),c=c*60+.5),[c|0,u||0,l]}function aD(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(wo)}function sD(t,e,r){return aD(yq,t,e,r)}function Aae(t,e,r){return aD(Nae,t,e,r)}function kae(t,e,r){return aD(Cae,t,e,r)}function bq(t){return(t%360+360)%360}function Iae(t){const e=wae.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?vd(+e[5]):wo(+e[5]));const a=bq(+e[2]),s=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?n=Aae(a,s,i):e[1]==="hsv"?n=kae(a,s,i):n=sD(a,s,i),{r:n[0],g:n[1],b:n[2],a:r}}function Tae(t,e){var r=nD(t);r[0]=bq(r[0]+e),r=sD(r),t.r=r[0],t.g=r[1],t.b=r[2]}function Dae(t){if(!t)return;const e=nD(t),r=e[0],n=vO(e[1]),a=vO(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${os(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const jO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Eae(){const t={},e=Object.keys(wO),r=Object.keys(jO);let n,a,s,i,l;for(n=0;n<e.length;n++){for(i=l=e[n],a=0;a<r.length;a++)s=r[a],l=l.replace(s,jO[s]);s=parseInt(wO[i],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let qh;function Pae(t){qh||(qh=Eae(),qh.transparent=[0,0,0,0]);const e=qh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Oae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _ae(t){const e=Oae.exec(t);let r=255,n,a,s;if(e){if(e[7]!==n){const i=+e[7];r=e[8]?vd(i):io(i*255,0,255)}return n=+e[1],a=+e[3],s=+e[5],n=255&(e[2]?vd(n):io(n,0,255)),a=255&(e[4]?vd(a):io(a,0,255)),s=255&(e[6]?vd(s):io(s,0,255)),{r:n,g:a,b:s,a:r}}}function $ae(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${os(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const $1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Dl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Rae(t,e,r){const n=Dl(os(t.r)),a=Dl(os(t.g)),s=Dl(os(t.b));return{r:wo($1(n+r*(Dl(os(e.r))-n))),g:wo($1(a+r*(Dl(os(e.g))-a))),b:wo($1(s+r*(Dl(os(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Vh(t,e,r){if(t){let n=nD(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=sD(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function xq(t,e){return t&&Object.assign(e||{},t)}function CO(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=wo(t[3]))):(e=xq(t,{r:0,g:0,b:0,a:1}),e.a=wo(e.a)),e}function Mae(t){return t.charAt(0)==="r"?_ae(t):Iae(t)}let vq=class WS{constructor(e){if(e instanceof WS)return e;const r=typeof e;let n;r==="object"?n=CO(e):r==="string"&&(n=xae(e)||Pae(e)||Mae(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=xq(this._rgb);return e&&(e.a=os(e.a)),e}set rgb(e){this._rgb=CO(e)}rgbString(){return this._valid?$ae(this._rgb):void 0}hexString(){return this._valid?jae(this._rgb):void 0}hslString(){return this._valid?Dae(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let s;const i=r===s?.5:r,l=2*i-1,c=n.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-u,n.r=255&u*n.r+s*a.r+.5,n.g=255&u*n.g+s*a.g+.5,n.b=255&u*n.b+s*a.b+.5,n.a=i*n.a+(1-i)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=Rae(this._rgb,e._rgb,r)),this}clone(){return new WS(this.rgb)}alpha(e){return this._rgb.a=wo(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Jm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Vh(this._rgb,2,e),this}darken(e){return Vh(this._rgb,2,-e),this}saturate(e){return Vh(this._rgb,1,e),this}desaturate(e){return Vh(this._rgb,1,-e),this}rotate(e){return Tae(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ja(){}const Lae=(()=>{let t=0;return()=>t++})();function We(t){return t==null}function Ot(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ge(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Wt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function hn(t,e){return Wt(t)?t:e}function Be(t,e){return typeof t>"u"?e:t}const Fae=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,jq=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function vt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function ct(t,e,r,n){let a,s,i;if(Ot(t))for(s=t.length,a=0;a<s;a++)e.call(r,t[a],a);else if(Ge(t))for(i=Object.keys(t),s=i.length,a=0;a<s;a++)e.call(r,t[i[a]],i[a])}function Sx(t,e){let r,n,a,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],s=e[r],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function Ax(t){if(Ot(t))return t.map(Ax);if(Ge(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=Ax(t[r[a]]);return e}return t}function wq(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Bae(t,e,r,n){if(!wq(t))return;const a=e[t],s=r[t];Ge(a)&&Ge(s)?Vf(a,s,n):e[t]=Ax(s)}function Vf(t,e,r){const n=Ot(e)?e:[e],a=n.length;if(!Ge(t))return t;r=r||{};const s=r.merger||Bae;let i;for(let l=0;l<a;++l){if(i=n[l],!Ge(i))continue;const c=Object.keys(i);for(let u=0,d=c.length;u<d;++u)s(c[u],t,i,r)}return t}function Ud(t,e){return Vf(t,e,{merger:qae})}function qae(t,e,r){if(!wq(t))return;const n=e[t],a=r[t];Ge(n)&&Ge(a)?Ud(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ax(a))}const NO={"":t=>t,x:t=>t.x,y:t=>t.y};function Vae(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function Uae(t){const e=Vae(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Ro(t,e){return(NO[e]||(NO[e]=Uae(e)))(t)}function oD(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Uf=t=>typeof t<"u",Mo=t=>typeof t=="function",SO=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function zae(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Et=Math.PI,Dt=2*Et,Wae=Dt+Et,kx=Number.POSITIVE_INFINITY,Hae=Et/180,Zt=Et/2,ai=Et/4,AO=Et*2/3,lo=Math.log10,Ra=Math.sign;function zd(t,e,r){return Math.abs(t-e)<r}function kO(t){const e=Math.round(t);t=zd(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(lo(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function Gae(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,s)=>a-s).pop(),e}function Yae(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Fc(t){return!Yae(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Kae(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function Cq(t,e,r){let n,a,s;for(n=0,a=t.length;n<a;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ca(t){return t*(Et/180)}function iD(t){return t*(180/Et)}function IO(t){if(!Wt(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Nq(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*Et&&(s+=Dt),{angle:s,distance:a}}function HS(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Jae(t,e){return(t-e+Wae)%Dt-Et}function yn(t){return(t%Dt+Dt)%Dt}function zf(t,e,r,n){const a=yn(t),s=yn(e),i=yn(r),l=yn(s-a),c=yn(i-a),u=yn(a-s),d=yn(a-i);return a===s||a===i||n&&s===i||l>c&&u<d}function gr(t,e,r){return Math.max(e,Math.min(r,t))}function Xae(t){return gr(t,-32768,32767)}function us(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function lD(t,e,r){r=r||(i=>t[i]<e);let n=t.length-1,a=0,s;for(;n-a>1;)s=a+n>>1,r(s)?a=s:n=s;return{lo:a,hi:n}}const ds=(t,e,r,n)=>lD(t,r,n?a=>{const s=t[a][e];return s<r||s===r&&t[a+1][e]===r}:a=>t[a][e]<r),Zae=(t,e,r)=>lD(t,r,n=>t[n][e]>=r);function Qae(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const Sq=["push","pop","shift","splice","unshift"];function ese(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Sq.forEach(r=>{const n="_onData"+oD(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const i=a.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...s)}),i}})})}function TO(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(Sq.forEach(s=>{delete t[s]}),delete t._chartjs)}function Aq(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const kq=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Iq(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,kq.call(window,()=>{n=!1,t.apply(e,r)}))}}function tse(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const cD=t=>t==="start"?"left":t==="end"?"right":"center",Pr=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,rse=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function Tq(t,e,r){const n=e.length;let a=0,s=n;if(t._sorted){const{iScale:i,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=i.axis,{min:f,max:m,minDefined:p,maxDefined:h}=i.getUserBounds();if(p){if(a=Math.min(ds(c,d,f).lo,r?n:ds(e,d,i.getPixelForValue(f)).lo),u){const b=c.slice(0,a+1).reverse().findIndex(g=>!We(g[l.axis]));a-=Math.max(0,b)}a=gr(a,0,n-1)}if(h){let b=Math.max(ds(c,i.axis,m,!0).hi+1,r?0:ds(e,d,i.getPixelForValue(m),!0).hi+1);if(u){const g=c.slice(b-1).findIndex(x=>!We(x[l.axis]));b+=Math.max(0,g)}s=gr(b,a,n)-a}else s=n-a}return{start:a,count:s}}function Dq(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),s}const Uh=t=>t===0||t===1,DO=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Dt/r)),EO=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Dt/r)+1,Wd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Zt)+1,easeOutSine:t=>Math.sin(t*Zt),easeInOutSine:t=>-.5*(Math.cos(Et*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Uh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Uh(t)?t:DO(t,.075,.3),easeOutElastic:t=>Uh(t)?t:EO(t,.075,.3),easeInOutElastic(t){return Uh(t)?t:t<.5?.5*DO(t*2,.1125,.45):.5+.5*EO(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Wd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Wd.easeInBounce(t*2)*.5:Wd.easeOutBounce(t*2-1)*.5+.5};function uD(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function PO(t){return uD(t)?t:new vq(t)}function R1(t){return uD(t)?t:new vq(t).saturate(.5).darken(.1).hexString()}const nse=["x","y","borderWidth","radius","tension"],ase=["color","borderColor","backgroundColor"];function sse(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:ase},numbers:{type:"number",properties:nse}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function ose(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const OO=new Map;function ise(t,e){e=e||{};const r=t+JSON.stringify(e);let n=OO.get(r);return n||(n=new Intl.NumberFormat(t,e),OO.set(r,n)),n}function Xm(t,e,r){return ise(e,r).format(t)}const Eq={values(t){return Ot(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),s=lse(t,r)}const i=lo(Math.abs(s)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Xm(t,n,c)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(lo(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?Eq.numeric.call(this,t,e,r):""}};function lse(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var D0={formatters:Eq};function cse(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:D0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const sl=Object.create(null),GS=Object.create(null);function Hd(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function M1(t,e,r){return typeof e=="string"?Vf(Hd(t,e),r):Vf(Hd(t,""),e)}class use{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>R1(a.backgroundColor),this.hoverBorderColor=(n,a)=>R1(a.borderColor),this.hoverColor=(n,a)=>R1(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return M1(this,e,r)}get(e){return Hd(this,e)}describe(e,r){return M1(GS,e,r)}override(e,r){return M1(sl,e,r)}route(e,r,n,a){const s=Hd(this,e),i=Hd(this,n),l="_"+r;Object.defineProperties(s,{[l]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=i[a];return Ge(c)?Object.assign({},u,c):Be(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var $t=new use({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[sse,ose,cse]);function dse(t){return!t||We(t.size)||We(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ix(t,e,r,n,a){let s=e[a];return s||(s=e[a]=t.measureText(a).width,r.push(a)),s>n&&(n=s),n}function fse(t,e,r,n){n=n||{};let a=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let i=0;const l=r.length;let c,u,d,f,m;for(c=0;c<l;c++)if(f=r[c],f!=null&&!Ot(f))i=Ix(t,a,s,i,f);else if(Ot(f))for(u=0,d=f.length;u<d;u++)m=f[u],m!=null&&!Ot(m)&&(i=Ix(t,a,s,i,m));t.restore();const p=s.length/2;if(p>r.length){for(c=0;c<p;c++)delete a[s[c]];s.splice(0,p)}return i}function si(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function _O(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function YS(t,e,r,n){Pq(t,e,r,n,null)}function Pq(t,e,r,n,a){let s,i,l,c,u,d,f,m;const p=e.pointStyle,h=e.rotation,b=e.radius;let g=(h||0)*Hae;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(g),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),p){default:a?t.ellipse(r,n,a/2,b,0,0,Dt):t.arc(r,n,b,0,Dt),t.closePath();break;case"triangle":d=a?a/2:b,t.moveTo(r+Math.sin(g)*d,n-Math.cos(g)*b),g+=AO,t.lineTo(r+Math.sin(g)*d,n-Math.cos(g)*b),g+=AO,t.lineTo(r+Math.sin(g)*d,n-Math.cos(g)*b),t.closePath();break;case"rectRounded":u=b*.516,c=b-u,i=Math.cos(g+ai)*c,f=Math.cos(g+ai)*(a?a/2-u:c),l=Math.sin(g+ai)*c,m=Math.sin(g+ai)*(a?a/2-u:c),t.arc(r-f,n-l,u,g-Et,g-Zt),t.arc(r+m,n-i,u,g-Zt,g),t.arc(r+f,n+l,u,g,g+Zt),t.arc(r-m,n+i,u,g+Zt,g+Et),t.closePath();break;case"rect":if(!h){c=Math.SQRT1_2*b,d=a?a/2:c,t.rect(r-d,n-c,2*d,2*c);break}g+=ai;case"rectRot":f=Math.cos(g)*(a?a/2:b),i=Math.cos(g)*b,l=Math.sin(g)*b,m=Math.sin(g)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+m,n-i),t.lineTo(r+f,n+l),t.lineTo(r-m,n+i),t.closePath();break;case"crossRot":g+=ai;case"cross":f=Math.cos(g)*(a?a/2:b),i=Math.cos(g)*b,l=Math.sin(g)*b,m=Math.sin(g)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"star":f=Math.cos(g)*(a?a/2:b),i=Math.cos(g)*b,l=Math.sin(g)*b,m=Math.sin(g)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i),g+=ai,f=Math.cos(g)*(a?a/2:b),i=Math.cos(g)*b,l=Math.sin(g)*b,m=Math.sin(g)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"line":i=a?a/2:Math.cos(g)*b,l=Math.sin(g)*b,t.moveTo(r-i,n-l),t.lineTo(r+i,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(g)*(a?a/2:b),n+Math.sin(g)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function fs(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function E0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function P0(t){t.restore()}function mse(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function hse(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function pse(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),We(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function gse(t,e,r,n,a){if(a.strikethrough||a.underline){const s=t.measureText(n),i=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=a.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(i,d),t.lineTo(l,d),t.stroke()}}function yse(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function ol(t,e,r,n,a,s={}){const i=Ot(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,u;for(t.save(),t.font=a.string,pse(t,s),c=0;c<i.length;++c)u=i[c],s.backdrop&&yse(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),We(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),gse(t,r,n,u,s),n+=Number(a.lineHeight);t.restore()}function Wf(t,e){const{x:r,y:n,w:a,h:s,radius:i}=e;t.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*Et,Et,!0),t.lineTo(r,n+s-i.bottomLeft),t.arc(r+i.bottomLeft,n+s-i.bottomLeft,i.bottomLeft,Et,Zt,!0),t.lineTo(r+a-i.bottomRight,n+s),t.arc(r+a-i.bottomRight,n+s-i.bottomRight,i.bottomRight,Zt,0,!0),t.lineTo(r+a,n+i.topRight),t.arc(r+a-i.topRight,n+i.topRight,i.topRight,0,-Zt,!0),t.lineTo(r+i.topLeft,n)}const bse=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xse=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vse(t,e){const r=(""+t).match(bse);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const jse=t=>+t||0;function dD(t,e){const r={},n=Ge(e),a=n?Object.keys(e):e,s=Ge(t)?n?i=>Be(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of a)r[i]=jse(s(i));return r}function Oq(t){return dD(t,{top:"y",right:"x",bottom:"y",left:"x"})}function _i(t){return dD(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Mr(t){const e=Oq(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ur(t,e){t=t||{},e=e||$t.font;let r=Be(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Be(t.style,e.style);n&&!(""+n).match(xse)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Be(t.family,e.family),lineHeight:vse(Be(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Be(t.weight,e.weight),string:""};return a.string=dse(a),a}function jd(t,e,r,n){let a,s,i;for(a=0,s=t.length;a<s;++a)if(i=t[a],i!==void 0&&i!==void 0)return i}function wse(t,e,r){const{min:n,max:a}=t,s=jq(e,(a-n)/2),i=(l,c)=>r&&l===0?0:l+c;return{min:i(n,-Math.abs(s)),max:i(a,s)}}function Yo(t,e){return Object.assign(Object.create(t),e)}function fD(t,e=[""],r,n,a=()=>t[0]){const s=r||t;typeof n>"u"&&(n=Mq("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:a,override:l=>fD([l,...t],e,s,n)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return $q(l,c,()=>Dse(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return RO(l).includes(c)},ownKeys(l){return RO(l)},set(l,c,u){const d=l._storage||(l._storage=a());return l[c]=d[c]=u,delete l._keys,!0}})}function Bc(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:_q(t,n),setContext:s=>Bc(t,s,r,n),override:s=>Bc(t.override(s),e,r,n)};return new Proxy(a,{deleteProperty(s,i){return delete s[i],delete t[i],!0},get(s,i,l){return $q(s,i,()=>Nse(s,i,l))},getOwnPropertyDescriptor(s,i){return s._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(s,i,l){return t[i]=l,delete s[i],!0}})}function _q(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:Mo(r)?r:()=>r,isIndexable:Mo(n)?n:()=>n}}const Cse=(t,e)=>t?t+oD(e):e,mD=(t,e)=>Ge(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function $q(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function Nse(t,e,r){const{_proxy:n,_context:a,_subProxy:s,_descriptors:i}=t;let l=n[e];return Mo(l)&&i.isScriptable(e)&&(l=Sse(e,l,t,r)),Ot(l)&&l.length&&(l=Ase(e,l,t,i.isIndexable)),mD(e,l)&&(l=Bc(l,a,s&&s[e],i)),l}function Sse(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(s,i||n);return l.delete(t),mD(t,c)&&(c=hD(a._scopes,a,t,c)),c}function Ase(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_descriptors:l}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Ge(e[0])){const c=e,u=a._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=hD(u,a,t,d);e.push(Bc(f,s,i&&i[t],l))}}return e}function Rq(t,e,r){return Mo(t)?t(e,r):t}const kse=(t,e)=>t===!0?e:typeof t=="string"?Ro(e,t):void 0;function Ise(t,e,r,n,a){for(const s of e){const i=kse(r,s);if(i){t.add(i);const l=Rq(i._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(i===!1&&typeof n<"u"&&r!==n)return null}return!1}function hD(t,e,r,n){const a=e._rootScopes,s=Rq(e._fallback,r,n),i=[...t,...a],l=new Set;l.add(n);let c=$O(l,i,r,s||r,n);return c===null||typeof s<"u"&&s!==r&&(c=$O(l,i,s,c,n),c===null)?!1:fD(Array.from(l),[""],a,s,()=>Tse(e,r,n))}function $O(t,e,r,n,a){for(;r;)r=Ise(t,e,r,n,a);return r}function Tse(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Ot(a)&&Ge(r)?r:a||{}}function Dse(t,e,r,n){let a;for(const s of e)if(a=Mq(Cse(s,t),r),typeof a<"u")return mD(t,a)?hD(r,n,t,a):a}function Mq(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function RO(t){let e=t._keys;return e||(e=t._keys=Ese(t._scopes)),e}function Ese(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function Lq(t,e,r,n){const{iScale:a}=t,{key:s="r"}=this._parsing,i=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+r,d=e[u],i[l]={r:a.parse(Ro(d,s),u)};return i}const Pse=Number.EPSILON||1e-14,qc=(t,e)=>e<t.length&&!t[e].skip&&t[e],Fq=t=>t==="x"?"y":"x";function Ose(t,e,r,n){const a=t.skip?e:t,s=e,i=r.skip?e:r,l=HS(s,a),c=HS(i,s);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,m=n*d;return{previous:{x:s.x-f*(i.x-a.x),y:s.y-f*(i.y-a.y)},next:{x:s.x+m*(i.x-a.x),y:s.y+m*(i.y-a.y)}}}function _se(t,e,r){const n=t.length;let a,s,i,l,c,u=qc(t,0);for(let d=0;d<n-1;++d)if(c=u,u=qc(t,d+1),!(!c||!u)){if(zd(e[d],0,Pse)){r[d]=r[d+1]=0;continue}a=r[d]/e[d],s=r[d+1]/e[d],l=Math.pow(a,2)+Math.pow(s,2),!(l<=9)&&(i=3/Math.sqrt(l),r[d]=a*i*e[d],r[d+1]=s*i*e[d])}}function $se(t,e,r="x"){const n=Fq(r),a=t.length;let s,i,l,c=qc(t,0);for(let u=0;u<a;++u){if(i=l,l=c,c=qc(t,u+1),!l)continue;const d=l[r],f=l[n];i&&(s=(d-i[r])/3,l[`cp1${r}`]=d-s,l[`cp1${n}`]=f-s*e[u]),c&&(s=(c[r]-d)/3,l[`cp2${r}`]=d+s,l[`cp2${n}`]=f+s*e[u])}}function Rse(t,e="x"){const r=Fq(e),n=t.length,a=Array(n).fill(0),s=Array(n);let i,l,c,u=qc(t,0);for(i=0;i<n;++i)if(l=c,c=u,u=qc(t,i+1),!!c){if(u){const d=u[e]-c[e];a[i]=d!==0?(u[r]-c[r])/d:0}s[i]=l?u?Ra(a[i-1])!==Ra(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}_se(t,a,s),$se(t,s,e)}function zh(t,e,r){return Math.max(Math.min(t,r),e)}function Mse(t,e){let r,n,a,s,i,l=fs(t[0],e);for(r=0,n=t.length;r<n;++r)i=s,s=l,l=r<n-1&&fs(t[r+1],e),s&&(a=t[r],i&&(a.cp1x=zh(a.cp1x,e.left,e.right),a.cp1y=zh(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=zh(a.cp2x,e.left,e.right),a.cp2y=zh(a.cp2y,e.top,e.bottom)))}function Lse(t,e,r,n,a){let s,i,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Rse(t,a);else{let u=n?t[t.length-1]:t[0];for(s=0,i=t.length;s<i;++s)l=t[s],c=Ose(u,l,t[Math.min(s+1,i-(n?0:1))%i],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&Mse(t,r)}function pD(){return typeof window<"u"&&typeof document<"u"}function gD(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Tx(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const O0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Fse(t,e){return O0(t).getPropertyValue(e)}const Bse=["top","right","bottom","left"];function $i(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const s=Bse[a];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const qse=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function Vse(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:s}=n;let i=!1,l,c;if(qse(a,s,t.target))l=a,c=s;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,i=!0}return{x:l,y:c,box:i}}function hi(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=O0(r),s=a.boxSizing==="border-box",i=$i(a,"padding"),l=$i(a,"border","width"),{x:c,y:u,box:d}=Vse(t,r),f=i.left+(d&&l.left),m=i.top+(d&&l.top);let{width:p,height:h}=e;return s&&(p-=i.width+l.width,h-=i.height+l.height),{x:Math.round((c-f)/p*r.width/n),y:Math.round((u-m)/h*r.height/n)}}function Use(t,e,r){let n,a;if(e===void 0||r===void 0){const s=t&&gD(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const i=s.getBoundingClientRect(),l=O0(s),c=$i(l,"border","width"),u=$i(l,"padding");e=i.width-u.width-c.width,r=i.height-u.height-c.height,n=Tx(l.maxWidth,s,"clientWidth"),a=Tx(l.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||kx,maxHeight:a||kx}}const Wh=t=>Math.round(t*10)/10;function zse(t,e,r,n){const a=O0(t),s=$i(a,"margin"),i=Tx(a.maxWidth,t,"clientWidth")||kx,l=Tx(a.maxHeight,t,"clientHeight")||kx,c=Use(t,e,r);let{width:u,height:d}=c;if(a.boxSizing==="content-box"){const m=$i(a,"border","width"),p=$i(a,"padding");u-=p.width+m.width,d-=p.height+m.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=Wh(Math.min(u,i,c.maxWidth)),d=Wh(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Wh(u/2)),(e!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=Wh(Math.floor(d*n))),{width:u,height:d}}function MO(t,e,r){const n=e||1,a=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const i=t.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||i.height!==a||i.width!==s?(t.currentDevicePixelRatio=n,i.height=a,i.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Wse=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};pD()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function LO(t,e){const r=Fse(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function pi(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function Hse(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function Gse(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},i=pi(t,a,r),l=pi(a,s,r),c=pi(s,e,r),u=pi(i,l,r),d=pi(l,c,r);return pi(u,d,r)}const Yse=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Kse=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function lc(t,e,r){return t?Yse(e,r):Kse()}function Bq(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function qq(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Vq(t){return t==="angle"?{between:zf,compare:Jae,normalize:yn}:{between:us,compare:(e,r)=>e-r,normalize:e=>e}}function FO({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function Jse(t,e,r){const{property:n,start:a,end:s}=r,{between:i,normalize:l}=Vq(n),c=e.length;let{start:u,end:d,loop:f}=t,m,p;if(f){for(u+=c,d+=c,m=0,p=c;m<p&&i(l(e[u%c][n]),a,s);++m)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function Uq(t,e,r){if(!r)return[t];const{property:n,start:a,end:s}=r,i=e.length,{compare:l,between:c,normalize:u}=Vq(n),{start:d,end:f,loop:m,style:p}=Jse(t,e,r),h=[];let b=!1,g=null,x,y,v;const N=()=>c(a,v,x)&&l(a,v)!==0,C=()=>l(s,x)===0||c(s,v,x),j=()=>b||N(),S=()=>!b||C();for(let k=d,T=d;k<=f;++k)y=e[k%i],!y.skip&&(x=u(y[n]),x!==v&&(b=c(x,a,s),g===null&&j()&&(g=l(x,a)===0?k:T),g!==null&&S()&&(h.push(FO({start:g,end:k,loop:m,count:i,style:p})),g=null),T=k,v=x));return g!==null&&h.push(FO({start:g,end:f,loop:m,count:i,style:p})),h}function zq(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const s=Uq(n[a],t.points,e);s.length&&r.push(...s)}return r}function Xse(t,e,r,n){let a=0,s=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(s+=a);s>a&&t[s%e].skip;)s--;return s%=e,{start:a,end:s}}function Zse(t,e,r,n){const a=t.length,s=[];let i=e,l=t[e],c;for(c=e+1;c<=r;++c){const u=t[c%a];u.skip||u.stop?l.skip||(n=!1,s.push({start:e%a,end:(c-1)%a,loop:n}),e=i=u.stop?c:null):(i=c,l.skip&&(e=c)),l=u}return i!==null&&s.push({start:e%a,end:i%a,loop:n}),s}function Qse(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const s=!!t._loop,{start:i,end:l}=Xse(r,a,s,n);if(n===!0)return BO(t,[{start:i,end:l,loop:s}],r,e);const c=l<i?l+a:l,u=!!t._fullLoop&&i===0&&l===a-1;return BO(t,Zse(r,i,c,u),r,e)}function BO(t,e,r,n){return!n||!n.setContext||!r?e:eoe(t,e,r,n)}function eoe(t,e,r,n){const a=t._chart.getContext(),s=qO(t.options),{_datasetIndex:i,options:{spanGaps:l}}=t,c=r.length,u=[];let d=s,f=e[0].start,m=f;function p(h,b,g,x){const y=l?-1:1;if(h!==b){for(h+=c;r[h%c].skip;)h-=y;for(;r[b%c].skip;)b+=y;h%c!==b%c&&(u.push({start:h%c,end:b%c,loop:g,style:x}),d=x,f=b%c)}}for(const h of e){f=l?f:h.start;let b=r[f%c],g;for(m=f+1;m<=h.end;m++){const x=r[m%c];g=qO(n.setContext(Yo(a,{type:"segment",p0:b,p1:x,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:i}))),toe(g,d)&&p(f,m-1,h.loop,d),b=x,d=g}f<m-1&&p(f,m-1,h.loop,d)}return u}function qO(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function toe(t,e){if(!e)return!1;const r=[],n=function(a,s){return uD(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Hh(t,e,r){return t.options.clip?t[r]:e[r]}function roe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Hh(r,e,"left"),right:Hh(r,e,"right"),top:Hh(n,e,"top"),bottom:Hh(n,e,"bottom")}:e}function Wq(t,e){const r=e._clip;if(r.disabled)return!1;const n=roe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class noe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const s=r.listeners[a],i=r.duration;s.forEach(l=>l({chart:e,initial:r.initial,numSteps:i,currentStep:Math.min(n-r.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=kq.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const s=n.items;let i=s.length-1,l=!1,c;for(;i>=0;--i)c=s[i],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(s[i]=s[s.length-1],s.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Qa=new noe;const VO="transparent",aoe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=PO(t||VO),a=n.valid&&PO(e||VO);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class soe{constructor(e,r,n,a){const s=r[n];a=jd([e.to,a,s,e.from]);const i=jd([e.from,s,a]);this._active=!0,this._fn=e.fn||aoe[e.type||typeof i],this._easing=Wd[e.easing]||Wd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=i,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=jd([e.to,r,a,e.from]),this._from=jd([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,s=this._from,i=this._loop,l=this._to;let c;if(this._active=s!==l&&(i||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=s;return}c=r/n%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class Hq{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ge(e))return;const r=Object.keys($t.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!Ge(s))return;const i={};for(const l of r)i[l]=s[l];(Ot(s.properties)&&s.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,i)})})}_animateOptions(e,r){const n=r.options,a=ioe(e,n);if(!a)return[];const s=this._createAnimations(a,n);return n.$shared&&ooe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,a=[],s=e.$animations||(e.$animations={}),i=Object.keys(r),l=Date.now();let c;for(c=i.length-1;c>=0;--c){const u=i[c];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,r));continue}const d=r[u];let f=s[u];const m=n.get(u);if(f)if(m&&f.active()){f.update(m,d,l);continue}else f.cancel();if(!m||!m.duration){e[u]=d;continue}s[u]=f=new soe(m,e,u,d),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Qa.add(this._chart,n),!0}}function ooe(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const s=t[n[a]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function ioe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function UO(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:a,end:n?a:s}}function loe(t,e,r){if(r===!1)return!1;const n=UO(t,r),a=UO(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function coe(t){let e,r,n,a;return Ge(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function Gq(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,s;for(a=0,s=n.length;a<s;++a)r.push(n[a].index);return r}function zO(t,e,r,n={}){const a=t.keys,s=n.mode==="single";let i,l,c,u;if(e===null)return;let d=!1;for(i=0,l=a.length;i<l;++i){if(c=+a[i],c===r){if(d=!0,n.all)continue;break}u=t.values[c],Wt(u)&&(s||e===0||Ra(e)===Ra(u))&&(e+=u)}return!d&&!n.all?0:e}function uoe(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",i=Object.keys(t),l=new Array(i.length);let c,u,d;for(c=0,u=i.length;c<u;++c)d=i[c],l[c]={[a]:d,[s]:t[d]};return l}function L1(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function doe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function foe(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function moe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function WO(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const s=t[a.index];if(r&&s>0||!r&&s<0)return a.index}return null}function HO(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:s,vScale:i,index:l}=n,c=s.axis,u=i.axis,d=doe(s,i,n),f=e.length;let m;for(let p=0;p<f;++p){const h=e[p],{[c]:b,[u]:g}=h,x=h._stacks||(h._stacks={});m=x[u]=moe(a,d,b),m[l]=g,m._top=WO(m,i,!0,n.type),m._bottom=WO(m,i,!1,n.type);const y=m._visualValues||(m._visualValues={});y[l]=g}}function F1(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function hoe(t,e){return Yo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function poe(t,e,r){return Yo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Gu(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const s=a._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const B1=t=>t==="reset"||t==="none",GO=(t,e)=>e?t:Object.assign({},t),goe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:Gq(r,!0),values:null};class ha{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=L1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Gu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,m,p,h)=>f==="x"?m:f==="r"?h:p,s=r.xAxisID=Be(n.xAxisID,F1(e,"x")),i=r.yAxisID=Be(n.yAxisID,F1(e,"y")),l=r.rAxisID=Be(n.rAxisID,F1(e,"r")),c=r.indexAxis,u=r.iAxisID=a(c,s,i,l),d=r.vAxisID=a(c,i,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(i),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&TO(this._data,this),e._stacked&&Gu(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ge(r)){const a=this._cachedMeta;this._data=uoe(r,a)}else if(n!==r){if(n){TO(n,this);const a=this._cachedMeta;Gu(a),a._parsed=[]}r&&Object.isExtensible(r)&&ese(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=r._stacked;r._stacked=L1(r.vScale,r),r.stack!==n.stack&&(a=!0,Gu(r),r.stack=n.stack),this._resyncElements(e),(a||s!==r._stacked)&&(HO(this,r._parsed),r._stacked=L1(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:i}=n,l=s.axis;let c=e===0&&r===a.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{Ot(a[e])?m=this.parseArrayData(n,a,e,r):Ge(a[e])?m=this.parseObjectData(n,a,e,r):m=this.parsePrimitiveData(n,a,e,r);const p=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)n._parsed[d+e]=f=m[d],c&&(p()&&(c=!1),u=f);n._sorted=c}i&&HO(this,m)}parsePrimitiveData(e,r,n,a){const{iScale:s,vScale:i}=e,l=s.axis,c=i.axis,u=s.getLabels(),d=s===i,f=new Array(a);let m,p,h;for(m=0,p=a;m<p;++m)h=m+n,f[m]={[l]:d||s.parse(u[h],h),[c]:i.parse(r[h],h)};return f}parseArrayData(e,r,n,a){const{xScale:s,yScale:i}=e,l=new Array(a);let c,u,d,f;for(c=0,u=a;c<u;++c)d=c+n,f=r[d],l[c]={x:s.parse(f[0],d),y:i.parse(f[1],d)};return l}parseObjectData(e,r,n,a){const{xScale:s,yScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(a);let d,f,m,p;for(d=0,f=a;d<f;++d)m=d+n,p=r[m],u[d]={x:s.parse(Ro(p,l),m),y:i.parse(Ro(p,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,s=this._cachedMeta,i=r[e.axis],l={keys:Gq(a,!0),values:r._stacks[e.axis]._visualValues};return zO(l,i,s.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const s=n[r.axis];let i=s===null?NaN:s;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,i=zO(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,i=a.length,l=this._getOtherScale(e),c=goe(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=foe(l);let m,p;function h(){p=a[m];const b=p[l.axis];return!Wt(p[e.axis])||d>b||f<b}for(m=0;m<i&&!(!h()&&(this.updateRangeFromParsed(u,e,p,c),s));++m);if(s){for(m=i-1;m>=0;--m)if(!h()){this.updateRangeFromParsed(u,e,p,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,s,i;for(a=0,s=r.length;a<s;++a)i=r[a][e.axis],Wt(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=coe(Be(this.options.clip,loe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],s=r.chartArea,i=[],l=this._drawStart||0,c=this._drawCount||a.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,l,c),d=l;d<l+c;++d){const f=a[d];f.hidden||(f.active&&u?i.push(f):f.draw(e,s))}for(d=0;d<i.length;++d)i[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];s=i.$context||(i.$context=poe(this.getContext(),e,i)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=hoe(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",s=this._cachedDataOpts,i=e+"-"+r,l=s[i],c=this.enableOptionSharing&&Uf(n);if(l)return GO(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),p=Object.keys($t.elements[e]),h=()=>this.getContext(n,a,r),b=u.resolveNamedOptions(m,p,h,f);return b.$shared&&(b.$shared=c,s[i]=Object.freeze(GO(b,c))),b}_resolveAnimations(e,r,n){const a=this.chart,s=this._cachedDataOpts,i=`animation-${r}`,l=s[i];if(l)return l;let c;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),m=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(m,this.getContext(e,n,r))}const u=new Hq(a,c&&c.animations);return c&&c._cacheable&&(s[i]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||B1(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(r,s)||s!==a;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:i}}updateElement(e,r,n,a){B1(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!B1(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const s=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const a=n.length,s=r.length,i=Math.min(s,a);i&&this.parse(0,i),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,r,n=!0){const a=this._cachedMeta,s=a.data,i=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=i;l--)u[l]=u[l-r]};for(c(s),l=e;l<i;++l)s[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&Gu(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}he(ha,"defaults",{}),he(ha,"datasetElementType",null),he(ha,"dataElementType",null);function yoe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,s=r.length;a<s;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=Aq(n.sort((a,s)=>a-s))}return t._cache.$bar}function boe(t){const e=t.iScale,r=yoe(e,t.type);let n=e._length,a,s,i,l;const c=()=>{i===32767||i===-32768||(Uf(l)&&(n=Math.min(n,Math.abs(i-l)||n)),l=i)};for(a=0,s=r.length;a<s;++a)i=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,s=e.ticks.length;a<s;++a)i=e.getPixelForTick(a),c();return n}function xoe(t,e,r,n){const a=r.barThickness;let s,i;return We(a)?(s=e.min*r.categoryPercentage,i=r.barPercentage):(s=a*n,i=1),{chunk:s/n,ratio:i,start:e.pixels[t]-s/2}}function voe(t,e,r,n){const a=e.pixels,s=a[t];let i=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;i===null&&(i=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-i);const u=s-(s-Math.min(i,l))/2*c;return{chunk:Math.abs(l-i)/2*c/n,ratio:r.barPercentage,start:u}}function joe(t,e,r,n){const a=r.parse(t[0],n),s=r.parse(t[1],n),i=Math.min(a,s),l=Math.max(a,s);let c=i,u=l;Math.abs(i)>Math.abs(l)&&(c=l,u=i),e[r.axis]=u,e._custom={barStart:c,barEnd:u,start:a,end:s,min:i,max:l}}function Yq(t,e,r,n){return Ot(t)?joe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function YO(t,e,r,n){const a=t.iScale,s=t.vScale,i=a.getLabels(),l=a===s,c=[];let u,d,f,m;for(u=r,d=r+n;u<d;++u)m=e[u],f={},f[a.axis]=l||a.parse(i[u],u),c.push(Yq(m,f,s,u));return c}function q1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function woe(t,e,r){return t!==0?Ra(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function Coe(t){let e,r,n,a,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",s="start"):(a="start",s="end"),{start:r,end:n,reverse:e,top:a,bottom:s}}function Noe(t,e,r,n){let a=e.borderSkipped;const s={};if(!a){t.borderSkipped=s;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:c,top:u,bottom:d}=Coe(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=u:(r._bottom||0)===n?a=d:(s[KO(d,i,l,c)]=!0,a=u)),s[KO(a,i,l,c)]=!0,t.borderSkipped=s}function KO(t,e,r,n){return n?(t=Soe(t,e,r),t=JO(t,r,e)):t=JO(t,e,r),t}function Soe(t,e,r){return t===e?r:t===r?e:t}function JO(t,e,r){return t==="start"?e:t==="end"?r:t}function Aoe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Vp extends ha{parsePrimitiveData(e,r,n,a){return YO(e,r,n,a)}parseArrayData(e,r,n,a){return YO(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:s,vScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=i.axis==="x"?l:c,f=[];let m,p,h,b;for(m=n,p=n+a;m<p;++m)b=r[m],h={},h[s.axis]=s.parse(Ro(b,u),m),f.push(Yq(Ro(b,d),h,i,m));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,s=this.getParsed(e),i=s._custom,l=q1(i)?"["+i.start+", "+i.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const s=a==="reset",{index:i,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(r,a);for(let p=r;p<r+n;p++){const h=this.getParsed(p),b=s||We(h[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),g=this._calculateBarIndexPixels(p,d),x=(h._stacks||{})[l.axis],y={horizontal:u,base:b.base,enableBorderRadius:!x||q1(h._custom)||i===x._top||i===x._bottom,x:u?b.head:g.center,y:u?g.center:b.head,height:u?g.size:Math.abs(b.size),width:u?Math.abs(b.size):g.size};m&&(y.options=f||this.resolveDataElementOptions(p,e[p].active?"active":a));const v=y.options||e[p].options;Noe(y,v,x,i),Aoe(y,v,d.ratio),this.updateElement(e[p],p,y,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=n.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],u=d=>{const f=d._parsed.find(p=>p[n.axis]===c),m=f&&f[d.vScale.axis];if(We(m)||isNaN(m))return!0};for(const d of a)if(!(r!==void 0&&u(d))&&((s===!1||i.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&i.push(d.stack),d.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const a=this._getStacks(e,n),s=r!==void 0?a.indexOf(r):-1;return s===-1?a.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let s,i;for(s=0,i=r.data.length;s<i;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const l=e.barThickness;return{min:l||boe(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:s,minBarLength:i}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=q1(u);let f=c[r.axis],m=0,p=n?this.applyStack(r,c,n):f,h,b;p!==f&&(m=p-f,p=f),d&&(f=u.barStart,p=u.barEnd-u.barStart,f!==0&&Ra(f)!==Ra(u.barEnd)&&(m=0),m+=f);const g=!We(s)&&!d?s:m;let x=r.getPixelForValue(g);if(this.chart.getDataVisibility(e)?h=r.getPixelForValue(m+p):h=x,b=h-x,Math.abs(b)<i){b=woe(b,r,l)*i,f===l&&(x-=b/2);const y=r.getPixelForDecimal(0),v=r.getPixelForDecimal(1),N=Math.min(y,v),C=Math.max(y,v);x=Math.max(Math.min(x,C),N),h=x+b,n&&!d&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(h)-r.getValueForPixel(x))}if(x===r.getPixelForValue(l)){const y=Ra(b)*r.getLineWidthForValue(l)/2;x+=y,b-=y}return{size:b,base:x,head:h,center:h+b/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,s=a.skipNull,i=Be(a.maxBarThickness,1/0);let l,c;if(r.grouped){const u=s?this._getStackCount(e):r.stackCount,d=a.barThickness==="flex"?voe(e,r,a,u):xoe(e,r,a,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=d.start+d.chunk*f+d.chunk/2,c=Math.min(i,d.chunk*d.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(i,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let s=0;for(;s<a;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}he(Vp,"id","bar"),he(Vp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),he(Vp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Up extends ha{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const s=super.parsePrimitiveData(e,r,n,a);for(let i=0;i<s.length;i++)s[i]._custom=this.resolveDataElementOptions(i+n).radius;return s}parseArrayData(e,r,n,a){const s=super.parseArrayData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Be(l[2],this.resolveDataElementOptions(i+n).radius)}return s}parseObjectData(e,r,n,a){const s=super.parseObjectData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Be(l&&l.r&&+l.r,this.resolveDataElementOptions(i+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y),u=i._custom;return{label:n[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,a),d=i.axis,f=l.axis;for(let m=r;m<r+n;m++){const p=e[m],h=!s&&this.getParsed(m),b={},g=b[d]=s?i.getPixelForDecimal(.5):i.getPixelForValue(h[d]),x=b[f]=s?l.getBasePixel():l.getPixelForValue(h[f]);b.skip=isNaN(g)||isNaN(x),u&&(b.options=c||this.resolveDataElementOptions(m,p.active?"active":a),s&&(b.options.radius=0)),this.updateElement(p,m,b,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Be(n&&n._custom,s),a}}he(Up,"id","bubble"),he(Up,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),he(Up,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function koe(t,e,r){let n=1,a=1,s=0,i=0;if(e<Dt){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),m=Math.sin(c),p=(v,N,C)=>zf(v,l,c,!0)?1:Math.max(N,N*r,C,C*r),h=(v,N,C)=>zf(v,l,c,!0)?-1:Math.min(N,N*r,C,C*r),b=p(0,u,f),g=p(Zt,d,m),x=h(Et,u,f),y=h(Et+Zt,d,m);n=(b-x)/2,a=(g-y)/2,s=-(b+x)/2,i=-(g+y)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:i}}class Ai extends ha{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let s=c=>+n[c];if(Ge(n[e])){const{key:c="value"}=this._parsing;s=u=>+Ro(n[u],c)}let i,l;for(i=e,l=e+r;i<l;++i)a._parsed[i]=s(i)}}_getRotation(){return ca(this.options.rotation-90)}_getCircumference(){return ca(this.options.circumference)}_getRotationExtents(){let e=Dt,r=-Dt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),i=a._getCircumference();e=Math.min(e,s),r=Math.max(r,s+i)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,s=a.data,i=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-i)/2,0),c=Math.min(Fae(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:h,offsetY:b}=koe(f,d,c),g=(n.width-i)/m,x=(n.height-i)/p,y=Math.max(Math.min(g,x)/2,0),v=jq(this.options.radius,y),N=Math.max(v*c,0),C=(v-N)/this._getVisibleDatasetWeightTotal();this.offsetX=h*v,this.offsetY=b*v,a.total=this.calculateTotal(),this.outerRadius=v-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/Dt)}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,l=i.chartArea,u=i.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=s&&u.animateScale,p=m?0:this.innerRadius,h=m?0:this.outerRadius,{sharedOptions:b,includeOptions:g}=this._getSharedOptions(r,a);let x=this._getRotation(),y;for(y=0;y<r;++y)x+=this._circumference(y,s);for(y=r;y<r+n;++y){const v=this._circumference(y,s),N=e[y],C={x:d+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+v,circumference:v,outerRadius:h,innerRadius:p};g&&(C.options=b||this.resolveDataElementOptions(y,N.active?"active":a)),x+=v,this.updateElement(N,y,C,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const s=e._parsed[a];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Dt*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Xm(r._parsed[e],n.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,s,i,l,c;if(!e){for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){i=n.getDatasetMeta(a),e=i.data,l=i.controller;break}}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Be(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}he(Ai,"id","doughnut"),he(Ai,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),he(Ai,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),he(Ai,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class zp extends ha{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=r,i=this.chart._animationsDisabled;let{start:l,count:c}=Tq(r,a,i);this._drawStart=l,this._drawCount=c,Dq(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:u},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,a),m=i.axis,p=l.axis,{spanGaps:h,segment:b}=this.options,g=Fc(h)?h:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||a==="none",y=r+n,v=e.length;let N=r>0&&this.getParsed(r-1);for(let C=0;C<v;++C){const j=e[C],S=x?j:{};if(C<r||C>=y){S.skip=!0;continue}const k=this.getParsed(C),T=We(k[p]),A=S[m]=i.getPixelForValue(k[m],C),D=S[p]=s||T?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,k,c):k[p],C);S.skip=isNaN(A)||isNaN(D)||T,S.stop=C>0&&Math.abs(k[m]-N[m])>g,b&&(S.parsed=k,S.raw=u.data[C]),f&&(S.options=d||this.resolveDataElementOptions(C,j.active?"active":a)),x||this.updateElement(j,C,S,a),N=k}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const s=a[0].size(this.resolveDataElementOptions(0)),i=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}he(zp,"id","line"),he(zp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),he(zp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Gd extends ha{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Xm(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,r,n,a){return Lq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(a/2,0),i=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),l=(s-i)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,c=i.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,m=u.getIndexAngle(0)-.5*Et;let p=m,h;const b=360/this.countVisibleElements();for(h=0;h<r;++h)p+=this._computeAngle(h,a,b);for(h=r;h<r+n;h++){const g=e[h];let x=p,y=p+this._computeAngle(h,a,b),v=i.getDataVisibility(h)?u.getDistanceFromCenterForValue(this.getParsed(h).r):0;p=y,s&&(c.animateScale&&(v=0),c.animateRotate&&(x=y=m));const N={x:d,y:f,innerRadius:0,outerRadius:v,startAngle:x,endAngle:y,options:this.resolveDataElementOptions(h,g.active?"active":a)};this.updateElement(g,h,N,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?ca(this.resolveDataElementOptions(e,r).angle||n):0}}he(Gd,"id","polarArea"),he(Gd,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),he(Gd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class KS extends Ai{}he(KS,"id","pie"),he(KS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Wp extends ha{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return Lq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],s=r.iScale.getLabels();if(n.points=a,e!=="resize"){const i=this.resolveDatasetElementOptions(e);this.options.showLine||(i.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===a.length,options:i};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const s=this._cachedMeta.rScale,i=a==="reset";for(let l=r;l<r+n;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":a),d=s.getPointPositionForValue(l,this.getParsed(l).r),f=i?s.xCenter:d.x,m=i?s.yCenter:d.y,p={x:f,y:m,angle:d.angle,skip:isNaN(f)||isNaN(m),options:u};this.updateElement(c,l,p,a)}}}he(Wp,"id","radar"),he(Wp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),he(Wp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Hp extends ha{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:s,count:i}=Tq(r,n,a);if(this._drawStart=s,this._drawCount=i,Dq(r)&&(s=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(d),m=this.includeOptions(a,f),p=i.axis,h=l.axis,{spanGaps:b,segment:g}=this.options,x=Fc(b)?b:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||a==="none";let v=r>0&&this.getParsed(r-1);for(let N=r;N<r+n;++N){const C=e[N],j=this.getParsed(N),S=y?C:{},k=We(j[h]),T=S[p]=i.getPixelForValue(j[p],N),A=S[h]=s||k?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,j,c):j[h],N);S.skip=isNaN(T)||isNaN(A)||k,S.stop=N>0&&Math.abs(j[p]-v[p])>x,g&&(S.parsed=j,S.raw=u.data[N]),m&&(S.options=f||this.resolveDataElementOptions(N,C.active?"active":a)),y||this.updateElement(C,N,S,a),v=j}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const s=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,s,i)/2}}he(Hp,"id","scatter"),he(Hp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),he(Hp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Ioe=Object.freeze({__proto__:null,BarController:Vp,BubbleController:Up,DoughnutController:Ai,LineController:zp,PieController:KS,PolarAreaController:Gd,RadarController:Wp,ScatterController:Hp});function oi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yD{constructor(e){he(this,"options");this.options=e||{}}static override(e){Object.assign(yD.prototype,e)}init(){}formats(){return oi()}parse(){return oi()}format(){return oi()}add(){return oi()}diff(){return oi()}startOf(){return oi()}endOf(){return oi()}}var Toe={_date:yD};function Doe(t,e,r,n){const{controller:a,data:s,_sorted:i}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&i&&s.length){const u=l._reversePixels?Zae:ds;if(n){if(a._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const m=u(s,e,r-f),p=u(s,e,r+f);return{lo:m.lo,hi:p.hi}}}}else{const d=u(s,e,r);if(c){const{vScale:f}=a._cachedMeta,{_parsed:m}=t,p=m.slice(0,d.lo+1).reverse().findIndex(b=>!We(b[f.axis]));d.lo-=Math.max(0,p);const h=m.slice(d.hi).findIndex(b=>!We(b[f.axis]));d.hi+=Math.max(0,h)}return d}}return{lo:0,hi:s.length-1}}function _0(t,e,r,n,a){const s=t.getSortedVisibleDatasetMetas(),i=r[e];for(let l=0,c=s.length;l<c;++l){const{index:u,data:d}=s[l],{lo:f,hi:m}=Doe(s[l],e,i,a);for(let p=f;p<=m;++p){const h=d[p];h.skip||n(h,u,p)}}}function Eoe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const s=e?Math.abs(n.x-a.x):0,i=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}function V1(t,e,r,n,a){const s=[];return!a&&!t.isPointInArea(e)||_0(t,r,e,function(l,c,u){!a&&!fs(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&s.push({element:l,datasetIndex:c,index:u})},!0),s}function Poe(t,e,r,n){let a=[];function s(i,l,c){const{startAngle:u,endAngle:d}=i.getProps(["startAngle","endAngle"],n),{angle:f}=Nq(i,{x:e.x,y:e.y});zf(f,u,d)&&a.push({element:i,datasetIndex:l,index:c})}return _0(t,r,e,s),a}function Ooe(t,e,r,n,a,s){let i=[];const l=Eoe(r);let c=Number.POSITIVE_INFINITY;function u(d,f,m){const p=d.inRange(e.x,e.y,a);if(n&&!p)return;const h=d.getCenterPoint(a);if(!(!!s||t.isPointInArea(h))&&!p)return;const g=l(e,h);g<c?(i=[{element:d,datasetIndex:f,index:m}],c=g):g===c&&i.push({element:d,datasetIndex:f,index:m})}return _0(t,r,e,u),i}function U1(t,e,r,n,a,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?Poe(t,e,r,a):Ooe(t,e,r,n,a,s)}function XO(t,e,r,n,a){const s=[],i=r==="x"?"inXRange":"inYRange";let l=!1;return _0(t,r,e,(c,u,d)=>{c[i]&&c[i](e[r],a)&&(s.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:s}var _oe={modes:{index(t,e,r,n){const a=hi(e,t),s=r.axis||"x",i=r.includeInvisible||!1,l=r.intersect?V1(t,a,s,n,i):U1(t,a,s,!1,n,i),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,r,n){const a=hi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;let l=r.intersect?V1(t,a,s,n,i):U1(t,a,s,!1,n,i);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,r,n){const a=hi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return V1(t,a,s,n,i)},nearest(t,e,r,n){const a=hi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return U1(t,a,s,r.intersect,n,i)},x(t,e,r,n){const a=hi(e,t);return XO(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=hi(e,t);return XO(t,a,"y",r.intersect,n)}}};const Kq=["left","top","right","bottom"];function Yu(t,e){return t.filter(r=>r.pos===e)}function ZO(t,e){return t.filter(r=>Kq.indexOf(r.pos)===-1&&r.box.axis===e)}function Ku(t,e){return t.sort((r,n)=>{const a=e?n:r,s=e?r:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function $oe(t){const e=[];let r,n,a,s,i,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:s,options:{stack:i,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&s+i,stackWeight:l});return e}function Roe(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:s}=r;if(!n||!Kq.includes(a))continue;const i=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return e}function Moe(t,e){const r=Roe(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let s,i,l;for(s=0,i=t.length;s<i;++s){l=t[s];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:c&&e.availableHeight)}return r}function Loe(t){const e=$oe(t),r=Ku(e.filter(u=>u.box.fullSize),!0),n=Ku(Yu(e,"left"),!0),a=Ku(Yu(e,"right")),s=Ku(Yu(e,"top"),!0),i=Ku(Yu(e,"bottom")),l=ZO(e,"x"),c=ZO(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:a.concat(c).concat(i).concat(l),chartArea:Yu(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:s.concat(i).concat(l)}}function QO(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function Jq(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Foe(t,e,r,n){const{pos:a,box:s}=r,i=t.maxPadding;if(!Ge(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[a]+=r.size}s.getPadding&&Jq(i,s.getPadding());const l=Math.max(0,e.outerWidth-QO(i,t,"left","right")),c=Math.max(0,e.outerHeight-QO(i,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function Boe(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function qoe(t,e){const r=e.maxPadding;function n(a){const s={left:0,top:0,right:0,bottom:0};return a.forEach(i=>{s[i]=Math.max(e[i],r[i])}),s}return n(t?["left","right"]:["top","bottom"])}function wd(t,e,r,n){const a=[];let s,i,l,c,u,d;for(s=0,i=t.length,u=0;s<i;++s){l=t[s],c=l.box,c.update(l.width||e.w,l.height||e.h,qoe(l.horizontal,e));const{same:f,other:m}=Foe(e,r,l,n);u|=f&&a.length,d=d||m,c.fullSize||a.push(l)}return u&&wd(a,e,r,n)||d}function Gh(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function e_(t,e,r,n){const a=r.padding;let{x:s,y:i}=e;for(const l of t){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,m=u.size||c.height;Uf(u.start)&&(i=u.start),c.fullSize?Gh(c,a.left,i,r.outerWidth-a.right-a.left,m):Gh(c,e.left+u.placed,i,f,m),u.start=i,u.placed+=f,i=c.bottom}else{const f=e.h*d,m=u.size||c.width;Uf(u.start)&&(s=u.start),c.fullSize?Gh(c,s,a.top,m,r.outerHeight-a.bottom-a.top):Gh(c,s,e.top+u.placed,m,f),u.start=s,u.placed+=f,s=c.right}}e.x=s,e.y=i}var $r={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=Mr(t.options.layout.padding),s=Math.max(e-a.width,0),i=Math.max(r-a.height,0),l=Loe(t.boxes),c=l.vertical,u=l.horizontal;ct(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const d=c.reduce((b,g)=>g.box.options&&g.box.options.display===!1?b:b+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:s,availableHeight:i,vBoxMaxWidth:s/2/d,hBoxMaxHeight:i/2}),m=Object.assign({},a);Jq(m,Mr(n));const p=Object.assign({maxPadding:m,w:s,h:i,x:a.left,y:a.top},a),h=Moe(c.concat(u),f);wd(l.fullSize,p,f,h),wd(c,p,f,h),wd(u,p,f,h)&&wd(c,p,f,h),Boe(p),e_(l.leftAndTop,p,f,h),p.x+=p.w,p.y+=p.h,e_(l.rightAndBottom,p,f,h),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ct(l.chartArea,b=>{const g=b.box;Object.assign(g,t.chartArea),g.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Xq{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class Voe extends Xq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Gp="$chartjs",Uoe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},t_=t=>t===null||t==="";function zoe(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[Gp]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",t_(a)){const s=LO(t,"width");s!==void 0&&(t.width=s)}if(t_(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=LO(t,"height");s!==void 0&&(t.height=s)}return t}const Zq=Wse?{passive:!0}:!1;function Woe(t,e,r){t&&t.addEventListener(e,r,Zq)}function Hoe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,Zq)}function Goe(t,e){const r=Uoe[t.type]||t.type,{x:n,y:a}=hi(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Dx(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Yoe(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Dx(l.addedNodes,n),i=i&&!Dx(l.removedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Koe(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Dx(l.removedNodes,n),i=i&&!Dx(l.addedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Hf=new Map;let r_=0;function Qq(){const t=window.devicePixelRatio;t!==r_&&(r_=t,Hf.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function Joe(t,e){Hf.size||window.addEventListener("resize",Qq),Hf.set(t,e)}function Xoe(t){Hf.delete(t),Hf.size||window.removeEventListener("resize",Qq)}function Zoe(t,e,r){const n=t.canvas,a=n&&gD(n);if(!a)return;const s=Iq((l,c)=>{const u=a.clientWidth;r(l,c),u<a.clientWidth&&r()},window),i=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||s(u,d)});return i.observe(a),Joe(t,s),i}function z1(t,e,r){r&&r.disconnect(),e==="resize"&&Xoe(t)}function Qoe(t,e,r){const n=t.canvas,a=Iq(s=>{t.ctx!==null&&r(Goe(s,t))},t);return Woe(n,e,a),a}class eie extends Xq{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(zoe(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Gp])return!1;const n=r[Gp].initial;["height","width"].forEach(s=>{const i=n[s];We(i)?r.removeAttribute(s):r.setAttribute(s,i)});const a=n.style||{};return Object.keys(a).forEach(s=>{r.style[s]=a[s]}),r.width=r.width,delete r[Gp],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),i={attach:Yoe,detach:Koe,resize:Zoe}[r]||Qoe;a[r]=i(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:z1,detach:z1,resize:z1}[r]||Hoe)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return zse(e,r,n,a)}isAttached(e){const r=e&&gD(e);return!!(r&&r.isConnected)}}function tie(t){return!pD()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Voe:eie}var Sp;let Ls=(Sp=class{constructor(){he(this,"x");he(this,"y");he(this,"active",!1);he(this,"options");he(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Fc(this.x)&&Fc(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(s=>{a[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),a}},he(Sp,"defaults",{}),he(Sp,"defaultRoutes"),Sp);function rie(t,e){const r=t.options.ticks,n=nie(t),a=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?sie(e):[],i=s.length,l=s[0],c=s[i-1],u=[];if(i>a)return oie(e,u,s,i/a),u;const d=aie(s,e,a);if(i>0){let f,m;const p=i>1?Math.round((c-l)/(i-1)):null;for(Yh(e,u,d,We(p)?0:l-p,l),f=0,m=i-1;f<m;f++)Yh(e,u,d,s[f],s[f+1]);return Yh(e,u,d,c,We(p)?e.length:c+p),u}return Yh(e,u,d),u}function nie(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function aie(t,e,r){const n=iie(t),a=e.length/r;if(!n)return Math.max(a,1);const s=Gae(n);for(let i=0,l=s.length-1;i<l;i++){const c=s[i];if(c>a)return c}return Math.max(a,1)}function sie(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function oie(t,e,r,n){let a=0,s=r[0],i;for(n=Math.ceil(n),i=0;i<t.length;i++)i===s&&(e.push(t[i]),a++,s=r[a*n])}function Yh(t,e,r,n,a){const s=Be(n,0),i=Math.min(Be(a,t.length),t.length);let l=0,c,u,d;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),d=s;d<0;)l++,d=Math.round(s+l*r);for(u=Math.max(s,0);u<i;u++)u===d&&(e.push(t[u]),l++,d=Math.round(s+l*r))}function iie(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const lie=t=>t==="left"?"right":t==="right"?"left":t,n_=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,a_=(t,e)=>Math.min(e||t,t);function s_(t,e){const r=[],n=t.length/e,a=t.length;let s=0;for(;s<a;s+=n)r.push(t[Math.floor(s)]);return r}function cie(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),s=t._startPixel,i=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),u;if(!(r&&(n===1?u=Math.max(c-s,i-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(a-1))/2,c+=a<e?u:-u,c<s-l||c>i+l)))return c}function uie(t,e){ct(t,r=>{const n=r.gc,a=n.length/2;let s;if(a>e){for(s=0;s<a;++s)delete r.data[n[s]];n.splice(0,a)}})}function Ju(t){return t.drawTicks?t.tickLength:0}function o_(t,e){if(!t.display)return 0;const r=ur(t.font,e),n=Mr(t.padding);return(Ot(t.text)?t.text.length:1)*r.lineHeight+n.height}function die(t,e){return Yo(t,{scale:e,type:"scale"})}function fie(t,e,r){return Yo(t,{tick:r,index:e,type:"tick"})}function mie(t,e,r){let n=cD(t);return(r&&e!=="right"||!r&&e==="right")&&(n=lie(n)),n}function hie(t,e,r,n){const{top:a,left:s,bottom:i,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,m,p,h;const b=i-a,g=l-s;if(t.isHorizontal()){if(p=Pr(n,s,l),Ge(r)){const x=Object.keys(r)[0],y=r[x];h=d[x].getPixelForValue(y)+b-e}else r==="center"?h=(u.bottom+u.top)/2+b-e:h=n_(t,r,e);m=l-s}else{if(Ge(r)){const x=Object.keys(r)[0],y=r[x];p=d[x].getPixelForValue(y)-g+e}else r==="center"?p=(u.left+u.right)/2-g+e:p=n_(t,r,e);h=Pr(n,i,a),f=r==="left"?-Zt:Zt}return{titleX:p,titleY:h,maxWidth:m,rotation:f}}class vl extends Ls{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=hn(e,Number.POSITIVE_INFINITY),r=hn(r,Number.NEGATIVE_INFINITY),n=hn(n,Number.POSITIVE_INFINITY),a=hn(a,Number.NEGATIVE_INFINITY),{min:hn(e,n),max:hn(r,a),minDefined:Wt(e),maxDefined:Wt(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:s}=this.getUserBounds(),i;if(a&&s)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)i=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,i.min)),s||(n=Math.max(n,i.max));return r=s&&r>n?n:r,n=a&&r>n?r:n,{min:hn(r,hn(n,r)),max:hn(n,hn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vt(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:s,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wse(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?s_(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=rie(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vt(this.options.afterUpdate,[this])}beforeSetDimensions(){vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=vt(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=a_(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,s=r.maxRotation;let i=a,l,c,u;if(!this._isVisible()||!r.display||a>=s||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,m=d.highest.height,p=gr(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:p/(n-1),f+6>l&&(l=p/(n-(e.offset?.5:1)),c=this.maxHeight-Ju(e.grid)-r.padding-o_(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),i=iD(Math.min(Math.asin(gr((d.highest.height+6)/l,-1,1)),Math.asin(gr(c/u,-1,1))-Math.asin(gr(m/u,-1,1)))),i=Math.max(a,Math.min(s,i))),this.labelRotation=i}afterCalculateLabelRotation(){vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:s}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const c=o_(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=Ju(s)+c):(e.height=this.maxHeight,e.width=Ju(s)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:m}=this._getLabelSizes(),p=n.padding*2,h=ca(this.labelRotation),b=Math.cos(h),g=Math.sin(h);if(l){const x=n.mirror?0:g*f.width+b*m.height;e.height=Math.min(this.maxHeight,e.height+x+p)}else{const x=n.mirror?0:b*f.width+g*m.height;e.width=Math.min(this.maxWidth,e.width+x+p)}this._calculatePadding(u,d,g,b)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:s,padding:i},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,p=0;c?u?(m=a*e.width,p=n*r.height):(m=n*e.height,p=a*r.width):s==="start"?p=r.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,p=r.width/2),this.paddingLeft=Math.max((m-d+i)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-f+i)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=r.height,f=0),this.paddingTop=d+i,this.paddingBottom=f+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)We(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=s_(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:s}=this,i=[],l=[],c=Math.floor(r/a_(r,n));let u=0,d=0,f,m,p,h,b,g,x,y,v,N,C;for(f=0;f<r;f+=c){if(h=e[f].label,b=this._resolveTickFontOptions(f),a.font=g=b.string,x=s[g]=s[g]||{data:{},gc:[]},y=b.lineHeight,v=N=0,!We(h)&&!Ot(h))v=Ix(a,x.data,x.gc,v,h),N=y;else if(Ot(h))for(m=0,p=h.length;m<p;++m)C=h[m],!We(C)&&!Ot(C)&&(v=Ix(a,x.data,x.gc,v,C),N+=y);i.push(v),l.push(N),u=Math.max(v,u),d=Math.max(N,d)}uie(s,r);const j=i.indexOf(u),S=l.indexOf(d),k=T=>({width:i[T]||0,height:l[T]||0});return{first:k(0),last:k(r-1),widest:k(j),highest:k(S),widths:i,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return Xae(this._alignToPixels?si(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=fie(this.getContext(),e,n))}return this.$context||(this.$context=die(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ca(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,l=s?s.widest.width+i:0,c=s?s.highest.height+i:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:s,position:i,border:l}=a,c=s.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=Ju(s),p=[],h=l.setContext(this.getContext()),b=h.display?h.width:0,g=b/2,x=function(F){return si(n,F,b)};let y,v,N,C,j,S,k,T,A,D,P,M;if(i==="top")y=x(this.bottom),S=this.bottom-m,T=y-g,D=x(e.top)+g,M=e.bottom;else if(i==="bottom")y=x(this.top),D=e.top,M=x(e.bottom)-g,S=y+g,T=this.top+m;else if(i==="left")y=x(this.right),j=this.right-m,k=y-g,A=x(e.left)+g,P=e.right;else if(i==="right")y=x(this.left),A=e.left,P=x(e.right)-g,j=y+g,k=this.left+m;else if(r==="x"){if(i==="center")y=x((e.top+e.bottom)/2+.5);else if(Ge(i)){const F=Object.keys(i)[0],z=i[F];y=x(this.chart.scales[F].getPixelForValue(z))}D=e.top,M=e.bottom,S=y+g,T=S+m}else if(r==="y"){if(i==="center")y=x((e.left+e.right)/2);else if(Ge(i)){const F=Object.keys(i)[0],z=i[F];y=x(this.chart.scales[F].getPixelForValue(z))}j=y-g,k=j-m,A=e.left,P=e.right}const $=Be(a.ticks.maxTicksLimit,f),R=Math.max(1,Math.ceil(f/$));for(v=0;v<f;v+=R){const F=this.getContext(v),z=s.setContext(F),O=l.setContext(F),_=z.lineWidth,B=z.color,Y=O.dash||[],H=O.dashOffset,te=z.tickWidth,fe=z.tickColor,ke=z.tickBorderDash||[],ae=z.tickBorderDashOffset;N=cie(this,v,c),N!==void 0&&(C=si(n,N,_),u?j=k=A=P=C:S=T=D=M=C,p.push({tx1:j,ty1:S,tx2:k,ty2:T,x1:A,y1:D,x2:P,y2:M,width:_,color:B,borderDash:Y,borderDashOffset:H,tickWidth:te,tickColor:fe,tickBorderDash:ke,tickBorderDashOffset:ae}))}return this._ticksLength=f,this._borderValue=y,p}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:s}=n,i=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=s,m=Ju(n.grid),p=m+d,h=f?-d:p,b=-ca(this.labelRotation),g=[];let x,y,v,N,C,j,S,k,T,A,D,P,M="middle";if(a==="top")j=this.bottom-h,S=this._getXAxisLabelAlignment();else if(a==="bottom")j=this.top+h,S=this._getXAxisLabelAlignment();else if(a==="left"){const R=this._getYAxisLabelAlignment(m);S=R.textAlign,C=R.x}else if(a==="right"){const R=this._getYAxisLabelAlignment(m);S=R.textAlign,C=R.x}else if(r==="x"){if(a==="center")j=(e.top+e.bottom)/2+p;else if(Ge(a)){const R=Object.keys(a)[0],F=a[R];j=this.chart.scales[R].getPixelForValue(F)+p}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")C=(e.left+e.right)/2-p;else if(Ge(a)){const R=Object.keys(a)[0],F=a[R];C=this.chart.scales[R].getPixelForValue(F)}S=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?M="top":c==="end"&&(M="bottom"));const $=this._getLabelSizes();for(x=0,y=l.length;x<y;++x){v=l[x],N=v.label;const R=s.setContext(this.getContext(x));k=this.getPixelForTick(x)+s.labelOffset,T=this._resolveTickFontOptions(x),A=T.lineHeight,D=Ot(N)?N.length:1;const F=D/2,z=R.color,O=R.textStrokeColor,_=R.textStrokeWidth;let B=S;i?(C=k,S==="inner"&&(x===y-1?B=this.options.reverse?"left":"right":x===0?B=this.options.reverse?"right":"left":B="center"),a==="top"?u==="near"||b!==0?P=-D*A+A/2:u==="center"?P=-$.highest.height/2-F*A+A:P=-$.highest.height+A/2:u==="near"||b!==0?P=A/2:u==="center"?P=$.highest.height/2-F*A:P=$.highest.height-D*A,f&&(P*=-1),b!==0&&!R.showLabelBackdrop&&(C+=A/2*Math.sin(b))):(j=k,P=(1-D)*A/2);let Y;if(R.showLabelBackdrop){const H=Mr(R.backdropPadding),te=$.heights[x],fe=$.widths[x];let ke=P-H.top,ae=0-H.left;switch(M){case"middle":ke-=te/2;break;case"bottom":ke-=te;break}switch(S){case"center":ae-=fe/2;break;case"right":ae-=fe;break;case"inner":x===y-1?ae-=fe:x>0&&(ae-=fe/2);break}Y={left:ae,top:ke,width:fe+H.width,height:te+H.height,color:R.backdropColor}}g.push({label:N,font:T,textOffset:P,options:{rotation:b,color:z,strokeColor:O,strokeWidth:_,textAlign:B,textBaseline:M,translation:[C,j],backdrop:Y}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ca(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,i=this._getLabelSizes(),l=e+s,c=i.widest.width;let u,d;return r==="left"?a?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?a?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:s,height:i}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,s,i),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(s=>s.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,i=a.length;s<i;++s){const c=a[s];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,m;this.isHorizontal()?(u=si(e,this.left,i)-i/2,d=si(e,this.right,l)+l/2,f=m=c):(f=si(e,this.top,i)-i/2,m=si(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&E0(n,a);const s=this.getLabelItems(e);for(const i of s){const l=i.options,c=i.font,u=i.label,d=i.textOffset;ol(n,u,0,d,c,l)}a&&P0(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const s=ur(n.font),i=Mr(n.padding),l=n.align;let c=s.lineHeight/2;r==="bottom"||r==="center"||Ge(r)?(c+=i.bottom,Ot(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=i.top;const{titleX:u,titleY:d,maxWidth:f,rotation:m}=hie(this,c,r,l);ol(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:mie(l,r,a),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Be(e.grid&&e.grid.z,-1),a=Be(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==vl.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let s,i;for(s=0,i=r.length;s<i;++s){const l=r[s];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return ur(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Kh{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;yie(r)&&(n=this.register(r));const a=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,pie(e,i,n),this.override&&$t.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in $t[a]&&(delete $t[a][n],this.override&&delete sl[n])}}function pie(t,e,r){const n=Vf(Object.create(null),[r?$t.get(r):{},$t.get(e),t.defaults]);$t.set(e,n),t.defaultRoutes&&gie(e,t.defaultRoutes),t.descriptors&&$t.describe(e,t.descriptors)}function gie(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),s=[t].concat(n).join("."),i=e[r].split("."),l=i.pop(),c=i.join(".");$t.route(s,a,c,l)})}function yie(t){return"id"in t&&"defaults"in t}class bie{constructor(){this.controllers=new Kh(ha,"datasets",!0),this.elements=new Kh(Ls,"elements"),this.plugins=new Kh(Object,"plugins"),this.scales=new Kh(vl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const s=n||this._getRegistryForType(a);n||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):ct(a,i=>{const l=n||this._getRegistryForType(i);this._exec(e,l,i)})})}_exec(e,r,n){const a=oD(e);vt(n["before"+a],[],n),r[e](n),vt(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Aa=new bie;class xie{constructor(){this._init=[]}notify(e,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),i=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,r,n,a){a=a||{};for(const s of e){const i=s.plugin,l=i[n],c=[r,a,s.options];if(vt(l,c,i)===!1&&a.cancelable)return!1}return!0}invalidate(){We(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Be(n.options&&n.options.plugins,{}),s=vie(n);return a===!1&&!r?[]:wie(e,s,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(s,i)=>s.filter(l=>!i.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function vie(t){const e={},r=[],n=Object.keys(Aa.plugins.items);for(let s=0;s<n.length;s++)r.push(Aa.getPlugin(n[s]));const a=t.plugins||[];for(let s=0;s<a.length;s++){const i=a[s];r.indexOf(i)===-1&&(r.push(i),e[i.id]=!0)}return{plugins:r,localIds:e}}function jie(t,e){return!e&&t===!1?null:t===!0?{}:t}function wie(t,{plugins:e,localIds:r},n,a){const s=[],i=t.getContext();for(const l of e){const c=l.id,u=jie(n[c],a);u!==null&&s.push({plugin:l,options:Cie(t.config,{plugin:l,local:r[c]},u,i)})}return s}function Cie(t,{plugin:e,local:r},n,a){const s=t.pluginScopeKeys(e),i=t.getOptionScopes(n,s);return r&&e.defaults&&i.push(e.defaults),t.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function JS(t,e){const r=$t.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function Nie(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function Sie(t,e){return t===e?"_index_":"_value_"}function i_(t){if(t==="x"||t==="y"||t==="r")return t}function Aie(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function XS(t,...e){if(i_(t))return t;for(const r of e){const n=r.axis||Aie(r.position)||t.length>1&&i_(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function l_(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function kie(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return l_(t,"x",r[0])||l_(t,"y",r[0])}return{}}function Iie(t,e){const r=sl[t.type]||{scales:{}},n=e.scales||{},a=JS(t.type,e),s=Object.create(null);return Object.keys(n).forEach(i=>{const l=n[i];if(!Ge(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=XS(i,l,kie(i,t),$t.scales[l.type]),u=Sie(c,a),d=r.scales||{};s[i]=Ud(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(i=>{const l=i.type||t.type,c=i.indexAxis||JS(l,e),d=(sl[l]||{}).scales||{};Object.keys(d).forEach(f=>{const m=Nie(f,c),p=i[m+"AxisID"]||m;s[p]=s[p]||Object.create(null),Ud(s[p],[{axis:m},n[p],d[f]])})}),Object.keys(s).forEach(i=>{const l=s[i];Ud(l,[$t.scales[l.type],$t.scale])}),s}function e6(t){const e=t.options||(t.options={});e.plugins=Be(e.plugins,{}),e.scales=Iie(t,e)}function t6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Tie(t){return t=t||{},t.data=t6(t.data),e6(t),t}const c_=new Map,r6=new Set;function Jh(t,e){let r=c_.get(t);return r||(r=e(),c_.set(t,r),r6.add(r)),r}const Xu=(t,e,r)=>{const n=Ro(e,r);n!==void 0&&t.add(n)};class Die{constructor(e){this._config=Tie(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=t6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),e6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Jh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Jh(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Jh(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Jh(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:s}=this,i=this._cachedScopes(e,n),l=i.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(f=>Xu(c,e,f))),d.forEach(f=>Xu(c,a,f)),d.forEach(f=>Xu(c,sl[s]||{},f)),d.forEach(f=>Xu(c,$t,f)),d.forEach(f=>Xu(c,GS,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),r6.has(r)&&i.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,sl[r]||{},$t.datasets[r]||{},{type:r},$t,GS]}resolveNamedOptions(e,r,n,a=[""]){const s={$shared:!0},{resolver:i,subPrefixes:l}=u_(this._resolverCache,e,a);let c=i;if(Pie(i,r)){s.$shared=!1,n=Mo(n)?n():n;const u=this.createResolver(e,n,l);c=Bc(i,n,u)}for(const u of r)s[u]=c[u];return s}createResolver(e,r,n=[""],a){const{resolver:s}=u_(this._resolverCache,e,n);return Ge(r)?Bc(s,r,void 0,a):s}}function u_(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let s=n.get(a);return s||(s={resolver:fD(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,s)),s}const Eie=t=>Ge(t)&&Object.getOwnPropertyNames(t).some(e=>Mo(t[e]));function Pie(t,e){const{isScriptable:r,isIndexable:n}=_q(t);for(const a of e){const s=r(a),i=n(a),l=(i||s)&&t[a];if(s&&(Mo(l)||Eie(l))||i&&Ot(l))return!0}return!1}var Oie="4.4.9";const _ie=["top","bottom","left","right","chartArea"];function d_(t,e){return t==="top"||t==="bottom"||_ie.indexOf(t)===-1&&e==="x"}function f_(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function m_(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),vt(r&&r.onComplete,[t],e)}function $ie(t){const e=t.chart,r=e.options.animation;vt(r&&r.onProgress,[t],e)}function n6(t){return pD()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Yp={},h_=t=>{const e=n6(t);return Object.values(Yp).filter(r=>r.canvas===e).pop()};function Rie(t,e,r){const n=Object.keys(t);for(const a of n){const s=+a;if(s>=e){const i=t[a];delete t[a],(r>0||s>e)&&(t[s+r]=i)}}}function Mie(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class Zs{static register(...e){Aa.add(...e),p_()}static unregister(...e){Aa.remove(...e),p_()}constructor(e,r){const n=this.config=new Die(r),a=n6(e),s=h_(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||tie(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,i.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Lae(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tse(f=>this.update(f),i.resizeDelay||0),this._dataChanges=[],Yp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Qa.listen(this,"complete",m_),Qa.listen(this,"progress",$ie),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:s}=this;return We(e)?r&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Aa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():MO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _O(this.canvas,this.ctx),this}stop(){return Qa.stop(this),this}resize(e,r){Qa.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(a,e,r,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,MO(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),vt(n.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};ct(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((i,l)=>(i[l]=!1,i),{});let s=[];r&&(s=s.concat(Object.keys(r).map(i=>{const l=r[i],c=XS(i,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ct(s,i=>{const l=i.options,c=l.id,u=XS(c,l),d=Be(l.type,i.dtype);(l.position===void 0||d_(l.position,u)!==d_(i.dposition))&&(l.position=i.dposition),a[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const m=Aa.getScale(d);f=new m({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),ct(a,(i,l)=>{i||delete n[l]}),ct(n,i=>{$r.configure(this,i,i.options),$r.addBox(this,i)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,s)=>a.index-s.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(f_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const s=r[n];let i=this.getDatasetMeta(n);const l=s.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=l,i.indexAxis=s.indexAxis||JS(l,this.options),i.order=s.order||0,i.index=n,i.label=""+s.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const c=Aa.getController(l),{datasetElementType:u,dataElementType:d}=$t.datasets[l];Object.assign(c,{dataElementType:Aa.getElement(d),datasetElementType:u&&Aa.getElement(u)}),i.controller=new c(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){ct(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),m=!a&&s.indexOf(f)===-1;f.buildOrUpdateElements(m),i=Math.max(+f.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),a||ct(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(f_("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ct(this.scales,e=>{$r.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!SO(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:s}of r){const i=n==="_removeElements"?-s:s;Rie(e,a,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(i=>i[0]===s).map((i,l)=>l+","+i.splice(1).join(","))),a=n(0);for(let s=1;s<r;s++)if(!SO(a,n(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$r.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],ct(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Mo(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qa.has(this)?this.attached&&!Qa.running(this)&&Qa.start(this):(this.draw(),m_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,s;for(a=0,s=r.length;a<s;++a){const i=r[a];(!e||i.visible)&&n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=Wq(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&E0(r,a),e.controller.draw(),a&&P0(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return fs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const s=_oe.modes[r];return typeof s=="function"?s(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(s=>s&&s._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Yo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,a);Uf(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Qa.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),_O(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Yp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,i)=>{r.addEventListener(this,s,i),e[s]=i},a=(s,i,l)=>{s.offsetX=i,s.offsetY=l,this._eventHandler(s)};ct(this.options.events,s=>n(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},a=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)};let i;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():i()}unbindEvents(){ct(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},ct(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let s,i,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){i=e[l];const u=i&&this.getDatasetMeta(i.datasetIndex).controller;u&&u[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:i})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[i],index:i}});!Sx(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),i=s(r,e),l=n?e:s(e,r);i.length&&this.updateHoverStyle(i,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:s}=this,i=r,l=this._getActiveElements(e,a,n,i),c=zae(e),u=Mie(e,this._lastEvent,n,c);n&&(this._lastEvent=null,vt(s.onHover,[e,l,this],this),c&&vt(s.onClick,[e,l,this],this));const d=!Sx(l,a);return(d||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}he(Zs,"defaults",$t),he(Zs,"instances",Yp),he(Zs,"overrides",sl),he(Zs,"registry",Aa),he(Zs,"version",Oie),he(Zs,"getChart",h_);function p_(){return ct(Zs.instances,t=>t._plugins.invalidate())}function Lie(t,e,r){const{startAngle:n,pixelMargin:a,x:s,y:i,outerRadius:l,innerRadius:c}=e;let u=a/l;t.beginPath(),t.arc(s,i,l,n-u,r+u),c>a?(u=a/c,t.arc(s,i,c,r+u,n-u,!0)):t.arc(s,i,a,r+Zt,n-Zt),t.closePath(),t.clip()}function Fie(t){return dD(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Bie(t,e,r,n){const a=Fie(t.options.borderRadius),s=(r-e)/2,i=Math.min(s,n*e/2),l=c=>{const u=(r-Math.min(s,c))*n/2;return gr(c,0,Math.min(s,u))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:gr(a.innerStart,0,i),innerEnd:gr(a.innerEnd,0,i)}}function El(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Ex(t,e,r,n,a,s){const{x:i,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+n+r-u,0),m=d>0?d+n+r+u:0;let p=0;const h=a-c;if(n){const R=d>0?d-n:0,F=f>0?f-n:0,z=(R+F)/2,O=z!==0?h*z/(z+n):h;p=(h-O)/2}const b=Math.max(.001,h*f-r/Et)/f,g=(h-b)/2,x=c+g+p,y=a-g-p,{outerStart:v,outerEnd:N,innerStart:C,innerEnd:j}=Bie(e,m,f,y-x),S=f-v,k=f-N,T=x+v/S,A=y-N/k,D=m+C,P=m+j,M=x+C/D,$=y-j/P;if(t.beginPath(),s){const R=(T+A)/2;if(t.arc(i,l,f,T,R),t.arc(i,l,f,R,A),N>0){const _=El(k,A,i,l);t.arc(_.x,_.y,N,A,y+Zt)}const F=El(P,y,i,l);if(t.lineTo(F.x,F.y),j>0){const _=El(P,$,i,l);t.arc(_.x,_.y,j,y+Zt,$+Math.PI)}const z=(y-j/m+(x+C/m))/2;if(t.arc(i,l,m,y-j/m,z,!0),t.arc(i,l,m,z,x+C/m,!0),C>0){const _=El(D,M,i,l);t.arc(_.x,_.y,C,M+Math.PI,x-Zt)}const O=El(S,x,i,l);if(t.lineTo(O.x,O.y),v>0){const _=El(S,T,i,l);t.arc(_.x,_.y,v,x-Zt,T)}}else{t.moveTo(i,l);const R=Math.cos(T)*f+i,F=Math.sin(T)*f+l;t.lineTo(R,F);const z=Math.cos(A)*f+i,O=Math.sin(A)*f+l;t.lineTo(z,O)}t.closePath()}function qie(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l}=e;let c=e.endAngle;if(s){Ex(t,e,r,n,c,a);for(let u=0;u<s;++u)t.fill();isNaN(l)||(c=i+(l%Dt||Dt))}return Ex(t,e,r,n,c,a),t.fill(),c}function Vie(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:m}=c,p=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,p?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let h=e.endAngle;if(s){Ex(t,e,r,n,h,a);for(let b=0;b<s;++b)t.stroke();isNaN(l)||(h=i+(l%Dt||Dt))}p&&Lie(t,e,h),s||(Ex(t,e,r,n,h,a),t.stroke())}class Cd extends Ls{constructor(r){super();he(this,"circumference");he(this,"endAngle");he(this,"fullCircles");he(this,"innerRadius");he(this,"outerRadius");he(this,"pixelMargin");he(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.getProps(["x","y"],a),{angle:i,distance:l}=Nq(s,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),p=(this.options.spacing+this.options.borderWidth)/2,h=Be(m,u-c),b=zf(i,c,u)&&c!==u,g=h>=Dt||b,x=us(l,d+p,f+p);return g&&x}getCenterPoint(r){const{x:n,y:a,startAngle:s,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(s+i)/2,m=(l+c+d+u)/2;return{x:n+Math.cos(f)*m,y:a+Math.sin(f)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Dt?Math.floor(a/Dt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(Et,a||0)),d=s*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,qie(r,this,d,i,l),Vie(r,this,d,i,l),r.restore()}}he(Cd,"id","arc"),he(Cd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),he(Cd,"defaultRoutes",{backgroundColor:"backgroundColor"}),he(Cd,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function a6(t,e,r=e){t.lineCap=Be(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Be(r.borderDash,e.borderDash)),t.lineDashOffset=Be(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Be(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Be(r.borderWidth,e.borderWidth),t.strokeStyle=Be(r.borderColor,e.borderColor)}function Uie(t,e,r){t.lineTo(r.x,r.y)}function zie(t){return t.stepped?mse:t.tension||t.cubicInterpolationMode==="monotone"?hse:Uie}function s6(t,e,r={}){const n=t.length,{start:a=0,end:s=n-1}=r,{start:i,end:l}=e,c=Math.max(a,i),u=Math.min(s,l),d=a<i&&s<i||a>l&&s>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!d?n+u-c:u-c}}function Wie(t,e,r,n){const{points:a,options:s}=e,{count:i,start:l,loop:c,ilen:u}=s6(a,r,n),d=zie(s);let{move:f=!0,reverse:m}=n||{},p,h,b;for(p=0;p<=u;++p)h=a[(l+(m?u-p:p))%i],!h.skip&&(f?(t.moveTo(h.x,h.y),f=!1):d(t,b,h,m,s.stepped),b=h);return c&&(h=a[(l+(m?u:0))%i],d(t,b,h,m,s.stepped)),!!c}function Hie(t,e,r,n){const a=e.points,{count:s,start:i,ilen:l}=s6(a,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,m,p,h,b,g,x;const y=N=>(i+(u?l-N:N))%s,v=()=>{b!==g&&(t.lineTo(d,g),t.lineTo(d,b),t.lineTo(d,x))};for(c&&(p=a[y(0)],t.moveTo(p.x,p.y)),m=0;m<=l;++m){if(p=a[y(m)],p.skip)continue;const N=p.x,C=p.y,j=N|0;j===h?(C<b?b=C:C>g&&(g=C),d=(f*d+N)/++f):(v(),t.lineTo(N,C),h=j,f=0,b=g=C),x=C}v()}function ZS(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Hie:Wie}function Gie(t){return t.stepped?Hse:t.tension||t.cubicInterpolationMode==="monotone"?Gse:pi}function Yie(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),a6(t,e.options),t.stroke(a)}function Kie(t,e,r,n){const{segments:a,options:s}=e,i=ZS(e);for(const l of a)a6(t,s,l.style),t.beginPath(),i(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const Jie=typeof Path2D=="function";function Xie(t,e,r,n){Jie&&!e.options.segment?Yie(t,e,r,n):Kie(t,e,r,n)}class co extends Ls{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Lse(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Qse(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],s=this.points,i=zq(this,{property:r,start:a,end:a});if(!i.length)return;const l=[],c=Gie(n);let u,d;for(u=0,d=i.length;u<d;++u){const{start:f,end:m}=i[u],p=s[f],h=s[m];if(p===h){l.push(p);continue}const b=Math.abs((a-p[r])/(h[r]-p[r])),g=c(p,h,b,n.stepped);g[r]=e[r],l.push(g)}return l.length===1?l[0]:l}pathSegment(e,r,n){return ZS(this)(e,this,r,n)}path(e,r,n){const a=this.segments,s=ZS(this);let i=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)i&=s(e,this,l,{start:r,end:r+n-1});return!!i}draw(e,r,n,a){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Xie(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}he(co,"id","line"),he(co,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),he(co,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),he(co,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function g_(t,e,r,n){const a=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<a.radius+a.hitRadius}class Kp extends Ls{constructor(r){super();he(this,"parsed");he(this,"skip");he(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.options,{x:i,y:l}=this.getProps(["x","y"],a);return Math.pow(r-i,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return g_(this,r,"x",n)}inYRange(r,n){return g_(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!fs(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,YS(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}he(Kp,"id","point"),he(Kp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),he(Kp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function o6(t,e){const{x:r,y:n,base:a,width:s,height:i}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=i/2,l=Math.min(r,a),c=Math.max(r,a),u=n-f,d=n+f):(f=s/2,l=r-f,c=r+f,u=Math.min(n,a),d=Math.max(n,a)),{left:l,top:u,right:c,bottom:d}}function uo(t,e,r,n){return t?0:gr(e,r,n)}function Zie(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,s=Oq(n);return{t:uo(a.top,s.top,0,r),r:uo(a.right,s.right,0,e),b:uo(a.bottom,s.bottom,0,r),l:uo(a.left,s.left,0,e)}}function Qie(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,s=_i(a),i=Math.min(e,r),l=t.borderSkipped,c=n||Ge(a);return{topLeft:uo(!c||l.top||l.left,s.topLeft,0,i),topRight:uo(!c||l.top||l.right,s.topRight,0,i),bottomLeft:uo(!c||l.bottom||l.left,s.bottomLeft,0,i),bottomRight:uo(!c||l.bottom||l.right,s.bottomRight,0,i)}}function ele(t){const e=o6(t),r=e.right-e.left,n=e.bottom-e.top,a=Zie(t,r/2,n/2),s=Qie(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function W1(t,e,r,n){const a=e===null,s=r===null,l=t&&!(a&&s)&&o6(t,n);return l&&(a||us(e,l.left,l.right))&&(s||us(r,l.top,l.bottom))}function tle(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function rle(t,e){t.rect(e.x,e.y,e.w,e.h)}function H1(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,i=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+s,h:t.h+i,radius:t.radius}}class Jp extends Ls{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:i}=ele(this),l=tle(i.radius)?Wf:rle;e.save(),(i.w!==s.w||i.h!==s.h)&&(e.beginPath(),l(e,H1(i,r,s)),e.clip(),l(e,H1(s,-r,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,H1(s,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return W1(this,e,r,n)}inXRange(e,r){return W1(this,e,null,r)}inYRange(e,r){return W1(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+a)/2:r,y:s?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}he(Jp,"id","bar"),he(Jp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),he(Jp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var nle=Object.freeze({__proto__:null,ArcElement:Cd,BarElement:Jp,LineElement:co,PointElement:Kp});const QS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],y_=QS.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function i6(t){return QS[t%QS.length]}function l6(t){return y_[t%y_.length]}function ale(t,e){return t.borderColor=i6(e),t.backgroundColor=l6(e),++e}function sle(t,e){return t.backgroundColor=t.data.map(()=>i6(e++)),e}function ole(t,e){return t.backgroundColor=t.data.map(()=>l6(e++)),e}function ile(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof Ai?e=sle(r,e):a instanceof Gd?e=ole(r,e):a&&(e=ale(r,e))}}function b_(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function lle(t){return t&&(t.borderColor||t.backgroundColor)}function cle(){return $t.borderColor!=="rgba(0,0,0,0.1)"||$t.backgroundColor!=="rgba(0,0,0,0.1)"}var ule={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:s}=a,i=b_(n)||lle(a)||s&&b_(s)||cle();if(!r.forceOverride&&i)return;const l=ile(t);n.forEach(l)}};function dle(t,e,r,n,a){const s=a.samples||n;if(s>=r)return t.slice(e,e+r);const i=[],l=(r-2)/(s-2);let c=0;const u=e+r-1;let d=e,f,m,p,h,b;for(i[c++]=t[d],f=0;f<s-2;f++){let g=0,x=0,y;const v=Math.floor((f+1)*l)+1+e,N=Math.min(Math.floor((f+2)*l)+1,r)+e,C=N-v;for(y=v;y<N;y++)g+=t[y].x,x+=t[y].y;g/=C,x/=C;const j=Math.floor(f*l)+1+e,S=Math.min(Math.floor((f+1)*l)+1,r)+e,{x:k,y:T}=t[d];for(p=h=-1,y=j;y<S;y++)h=.5*Math.abs((k-g)*(t[y].y-T)-(k-t[y].x)*(x-T)),h>p&&(p=h,m=t[y],b=y);i[c++]=m,d=b}return i[c++]=t[u],i}function fle(t,e,r,n){let a=0,s=0,i,l,c,u,d,f,m,p,h,b;const g=[],x=e+r-1,y=t[e].x,N=t[x].x-y;for(i=e;i<e+r;++i){l=t[i],c=(l.x-y)/N*n,u=l.y;const C=c|0;if(C===d)u<h?(h=u,f=i):u>b&&(b=u,m=i),a=(s*a+l.x)/++s;else{const j=i-1;if(!We(f)&&!We(m)){const S=Math.min(f,m),k=Math.max(f,m);S!==p&&S!==j&&g.push({...t[S],x:a}),k!==p&&k!==j&&g.push({...t[k],x:a})}i>0&&j!==p&&g.push(t[j]),g.push(l),d=C,s=0,h=b=u,f=m=p=i}}return g}function c6(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function x_(t){t.data.datasets.forEach(e=>{c6(e)})}function mle(t,e){const r=e.length;let n=0,a;const{iScale:s}=t,{min:i,max:l,minDefined:c,maxDefined:u}=s.getUserBounds();return c&&(n=gr(ds(e,s.axis,i).lo,0,r-1)),u?a=gr(ds(e,s.axis,l).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var hle={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){x_(t);return}const n=t.width;t.data.datasets.forEach((a,s)=>{const{_data:i,indexAxis:l}=a,c=t.getDatasetMeta(s),u=i||a.data;if(jd([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:m}=mle(c,u);const p=r.threshold||4*n;if(m<=p){c6(a);return}We(i)&&(a._data=u,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let h;switch(r.algorithm){case"lttb":h=dle(u,f,m,n,r);break;case"min-max":h=fle(u,f,m,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=h})},destroy(t){x_(t)}};function ple(t,e,r){const n=t.segments,a=t.points,s=e.points,i=[];for(const l of n){let{start:c,end:u}=l;u=bD(c,u,a);const d=eA(r,a[c],a[u],l.loop);if(!e.segments){i.push({source:l,target:d,start:a[c],end:a[u]});continue}const f=zq(e,d);for(const m of f){const p=eA(r,s[m.start],s[m.end],m.loop),h=Uq(l,a,p);for(const b of h)i.push({source:b,target:m,start:{[r]:v_(d,p,"start",Math.max)},end:{[r]:v_(d,p,"end",Math.min)}})}}return i}function eA(t,e,r,n){if(n)return;let a=e[t],s=r[t];return t==="angle"&&(a=yn(a),s=yn(s)),{property:t,start:a,end:s}}function gle(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,s=[];return e.segments.forEach(({start:i,end:l})=>{l=bD(i,l,a);const c=a[i],u=a[l];n!==null?(s.push({x:c.x,y:n}),s.push({x:u.x,y:n})):r!==null&&(s.push({x:r,y:c.y}),s.push({x:r,y:u.y}))}),s}function bD(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function v_(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function u6(t,e){let r=[],n=!1;return Ot(t)?(n=!0,r=t):r=gle(t,e),r.length?new co({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function j_(t){return t&&t.fill!==!1}function yle(t,e,r){let a=t[e].fill;const s=[e];let i;if(!r)return a;for(;a!==!1&&s.indexOf(a)===-1;){if(!Wt(a))return a;if(i=t[a],!i)return!1;if(i.visible)return a;s.push(a),a=i.fill}return!1}function ble(t,e,r){const n=wle(t);if(Ge(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Wt(a)&&Math.floor(a)===a?xle(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function xle(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function vle(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Ge(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function jle(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Ge(t)?n=t.value:n=e.getBaseValue(),n}function wle(t){const e=t.options,r=e.fill;let n=Be(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Cle(t){const{scale:e,index:r,line:n}=t,a=[],s=n.segments,i=n.points,l=Nle(e,r);l.push(u6({x:null,y:e.bottom},n));for(let c=0;c<s.length;c++){const u=s[c];for(let d=u.start;d<=u.end;d++)Sle(a,i[d],l)}return new co({points:a,options:{}})}function Nle(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const s=n[a];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function Sle(t,e,r){const n=[];for(let a=0;a<r.length;a++){const s=r[a],{first:i,last:l,point:c}=Ale(s,e,"x");if(!(!c||i&&l)){if(i)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function Ale(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],s=t.segments,i=t.points;let l=!1,c=!1;for(let u=0;u<s.length;u++){const d=s[u],f=i[d.start][r],m=i[d.end][r];if(us(a,f,m)){l=a===f,c=a===m;break}}return{first:l,last:c,point:n}}class d6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:s,radius:i}=this;return r=r||{start:0,end:Dt},e.arc(a,s,i,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,s=e.angle;return{x:r+Math.cos(s)*a,y:n+Math.sin(s)*a,angle:s}}}function kle(t){const{chart:e,fill:r,line:n}=t;if(Wt(r))return Ile(e,r);if(r==="stack")return Cle(t);if(r==="shape")return!0;const a=Tle(t);return a instanceof d6?a:u6(a,n)}function Ile(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function Tle(t){return(t.scale||{}).getPointPositionForValue?Ele(t):Dle(t)}function Dle(t){const{scale:e={},fill:r}=t,n=vle(r,e);if(Wt(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function Ele(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,s=n.reverse?e.max:e.min,i=jle(r,e,s),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,s);return new d6({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(i)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,i));return l}function G1(t,e,r){const n=kle(e),{chart:a,index:s,line:i,scale:l,axis:c}=e,u=i.options,d=u.fill,f=u.backgroundColor,{above:m=f,below:p=f}=d||{},h=a.getDatasetMeta(s),b=Wq(a,h);n&&i.points.length&&(E0(t,r),Ple(t,{line:i,target:n,above:m,below:p,area:r,scale:l,axis:c,clip:b}),P0(t))}function Ple(t,e){const{line:r,target:n,above:a,below:s,area:i,scale:l,clip:c}=e,u=r._loop?"angle":e.axis;t.save(),u==="x"&&s!==a&&(w_(t,n,i.top),C_(t,{line:r,target:n,color:a,scale:l,property:u,clip:c}),t.restore(),t.save(),w_(t,n,i.bottom)),C_(t,{line:r,target:n,color:s,scale:l,property:u,clip:c}),t.restore()}function w_(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[bD(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,r),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function C_(t,e){const{line:r,target:n,property:a,color:s,scale:i,clip:l}=e,c=ple(r,n,a);for(const{source:u,target:d,start:f,end:m}of c){const{style:{backgroundColor:p=s}={}}=u,h=n!==!0;t.save(),t.fillStyle=p,Ole(t,i,l,h&&eA(a,f,m)),t.beginPath();const b=!!r.pathSegment(t,u);let g;if(h){b?t.closePath():N_(t,n,m,a);const x=!!n.pathSegment(t,d,{move:b,reverse:!0});g=b&&x,g||N_(t,n,f,a)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function Ole(t,e,r,n){const a=e.chart.chartArea,{property:s,start:i,end:l}=n||{};if(s==="x"||s==="y"){let c,u,d,f;s==="x"?(c=i,u=a.top,d=l,f=a.bottom):(c=a.left,u=i,d=a.right,f=l),t.beginPath(),r&&(c=Math.max(c,r.left),d=Math.min(d,r.right),u=Math.max(u,r.top),f=Math.min(f,r.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function N_(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var _le={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let s,i,l,c;for(i=0;i<n;++i)s=t.getDatasetMeta(i),l=s.dataset,c=null,l&&l.options&&l instanceof co&&(c={visible:t.isDatasetVisible(i),index:i,fill:ble(l,i,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,a.push(c);for(i=0;i<n;++i)c=a[i],!(!c||c.fill===!1)&&(c.fill=yle(a,i,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let i=a.length-1;i>=0;--i){const l=a[i].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&G1(t.ctx,l,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const s=n[a].$filler;j_(s)&&G1(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!j_(n)||r.drawTime!=="beforeDatasetDraw"||G1(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const S_=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},$le=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let A_=class extends Ls{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=vt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=ur(n.font),s=a.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=S_(n,s);let u,d;r.font=a.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(i,s,l,c)+10):(d=this.maxHeight,u=this._fitCols(i,a,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:s,maxWidth:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=a+l;let f=e;s.textAlign="left",s.textBaseline="middle";let m=-1,p=-d;return this.legendItems.forEach((h,b)=>{const g=n+r/2+s.measureText(h.text).width;(b===0||u[u.length-1]+g+2*l>i)&&(f+=d,u[u.length-(b>0?0:1)]=0,p+=d,m++),c[b]={left:0,top:p,row:m,width:g,height:a},u[u.length-1]+=g+l}),f}_fitCols(e,r,n,a){const{ctx:s,maxHeight:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=i-e;let f=l,m=0,p=0,h=0,b=0;return this.legendItems.forEach((g,x)=>{const{itemWidth:y,itemHeight:v}=Rle(n,r,s,g,a);x>0&&p+v+2*l>d&&(f+=m+l,u.push({width:m,height:p}),h+=m+l,b++,m=p=0),c[x]={left:h,top:p,col:b,width:y,height:v},m=Math.max(m,y),p+=v+l}),f+=m,u.push({width:m,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:s}}=this,i=lc(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=Pr(n,this.left+a,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=Pr(n,this.left+a,this.right-this.lineWidths[l])),u.top+=this.top+e+a,u.left=i.leftForLtr(i.x(c),u.width),c+=u.width+a}else{let l=0,c=Pr(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=Pr(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+a,u.left=i.leftForLtr(i.x(u.left),u.width),c+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;E0(e,this),this._draw(),P0(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:s,labels:i}=e,l=$t.color,c=lc(e.rtl,this.left,this.width),u=ur(i.font),{padding:d}=i,f=u.size,m=f/2;let p;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:h,boxHeight:b,itemHeight:g}=S_(i,f),x=function(j,S,k){if(isNaN(h)||h<=0||isNaN(b)||b<0)return;a.save();const T=Be(k.lineWidth,1);if(a.fillStyle=Be(k.fillStyle,l),a.lineCap=Be(k.lineCap,"butt"),a.lineDashOffset=Be(k.lineDashOffset,0),a.lineJoin=Be(k.lineJoin,"miter"),a.lineWidth=T,a.strokeStyle=Be(k.strokeStyle,l),a.setLineDash(Be(k.lineDash,[])),i.usePointStyle){const A={radius:b*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:T},D=c.xPlus(j,h/2),P=S+m;Pq(a,A,D,P,i.pointStyleWidth&&h)}else{const A=S+Math.max((f-b)/2,0),D=c.leftForLtr(j,h),P=_i(k.borderRadius);a.beginPath(),Object.values(P).some(M=>M!==0)?Wf(a,{x:D,y:A,w:h,h:b,radius:P}):a.rect(D,A,h,b),a.fill(),T!==0&&a.stroke()}a.restore()},y=function(j,S,k){ol(a,k.text,j,S+g/2,u,{strikethrough:k.hidden,textAlign:c.textAlign(k.textAlign)})},v=this.isHorizontal(),N=this._computeTitleHeight();v?p={x:Pr(s,this.left+d,this.right-n[0]),y:this.top+d+N,line:0}:p={x:this.left+d,y:Pr(s,this.top+N+d,this.bottom-r[0].height),line:0},Bq(this.ctx,e.textDirection);const C=g+d;this.legendItems.forEach((j,S)=>{a.strokeStyle=j.fontColor,a.fillStyle=j.fontColor;const k=a.measureText(j.text).width,T=c.textAlign(j.textAlign||(j.textAlign=i.textAlign)),A=h+m+k;let D=p.x,P=p.y;c.setWidth(this.width),v?S>0&&D+A+d>this.right&&(P=p.y+=C,p.line++,D=p.x=Pr(s,this.left+d,this.right-n[p.line])):S>0&&P+C>this.bottom&&(D=p.x=D+r[p.line].width+d,p.line++,P=p.y=Pr(s,this.top+N+d,this.bottom-r[p.line].height));const M=c.x(D);if(x(M,P,j),D=rse(T,D+h+m,v?D+A:this.right,e.rtl),y(c.x(D),P,j),v)p.x+=A+d;else if(typeof j.text!="string"){const $=u.lineHeight;p.y+=f6(j,$)+d}else p.y+=C}),qq(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=ur(r.font),a=Mr(r.padding);if(!r.display)return;const s=lc(e.rtl,this.left,this.width),i=this.ctx,l=r.position,c=n.size/2,u=a.top+c;let d,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,f=Pr(e.align,f,this.right-m);else{const h=this.columnSizes.reduce((b,g)=>Math.max(b,g.height),0);d=u+Pr(e.align,this.top,this.bottom-h-e.labels.padding-this._computeTitleHeight())}const p=Pr(l,f,f+m);i.textAlign=s.textAlign(cD(l)),i.textBaseline="middle",i.strokeStyle=r.color,i.fillStyle=r.color,i.font=n.string,ol(i,r.text,p,d,n)}_computeTitleHeight(){const e=this.options.title,r=ur(e.font),n=Mr(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,s;if(us(e,this.left,this.right)&&us(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],us(e,a.left,a.left+a.width)&&us(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!Fle(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,s=$le(a,n);a&&!s&&vt(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&vt(r.onHover,[e,n,this],this)}else n&&vt(r.onClick,[e,n,this],this)}};function Rle(t,e,r,n,a){const s=Mle(n,t,e,r),i=Lle(a,n,e.lineHeight);return{itemWidth:s,itemHeight:i}}function Mle(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((s,i)=>s.length>i.length?s:i)),e+r.size/2+n.measureText(a).width}function Lle(t,e,r){let n=t;return typeof e.text!="string"&&(n=f6(e,r)),n}function f6(t,e){const r=t.text?t.text.length:0;return e*r}function Fle(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Ble={id:"legend",_element:A_,start(t,e,r){const n=t.legend=new A_({ctx:t.ctx,options:r,chart:t});$r.configure(t,n,r),$r.addBox(t,n)},stop(t){$r.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;$r.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:s,useBorderRadius:i,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=Mr(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:i&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class xD extends Ls{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=Ot(n.text)?n.text.length:1;this._padding=Mr(n.padding);const s=a*ur(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:s,options:i}=this,l=i.align;let c=0,u,d,f;return this.isHorizontal()?(d=Pr(l,n,s),f=r+e,u=s-n):(i.position==="left"?(d=n+e,f=Pr(l,a,r),c=Et*-.5):(d=s-e,f=Pr(l,r,a),c=Et*.5),u=a-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=ur(r.font),s=n.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(s);ol(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:cD(r.align),textBaseline:"middle",translation:[i,l]})}}function qle(t,e){const r=new xD({ctx:t.ctx,options:e,chart:t});$r.configure(t,r,e),$r.addBox(t,r),t.titleBlock=r}var Vle={id:"title",_element:xD,start(t,e,r){qle(t,r)},stop(t){const e=t.titleBlock;$r.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;$r.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xh=new WeakMap;var Ule={id:"subtitle",start(t,e,r){const n=new xD({ctx:t.ctx,options:r,chart:t});$r.configure(t,n,r),$r.addBox(t,n),Xh.set(t,n)},stop(t){$r.removeBox(t,Xh.get(t)),Xh.delete(t)},beforeUpdate(t,e,r){const n=Xh.get(t);$r.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nd={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,s=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,s,i,l;for(s=0,i=t.length;s<i;++s){const c=t[s].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=HS(e,u);d<a&&(a=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function Na(t,e){return e&&(Ot(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function es(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function zle(t,e){const{element:r,datasetIndex:n,index:a}=e,s=t.getDatasetMeta(n).controller,{label:i,value:l}=s.getLabelAndValue(a);return{chart:t,label:i,parsed:s.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function k_(t,e){const r=t.chart.ctx,{body:n,footer:a,title:s}=t,{boxWidth:i,boxHeight:l}=e,c=ur(e.bodyFont),u=ur(e.titleFont),d=ur(e.footerFont),f=s.length,m=a.length,p=n.length,h=Mr(e.padding);let b=h.height,g=0,x=n.reduce((N,C)=>N+C.before.length+C.lines.length+C.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(b+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const N=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;b+=p*N+(x-p)*c.lineHeight+(x-1)*e.bodySpacing}m&&(b+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let y=0;const v=function(N){g=Math.max(g,r.measureText(N).width+y)};return r.save(),r.font=u.string,ct(t.title,v),r.font=c.string,ct(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?i+2+e.boxPadding:0,ct(n,N=>{ct(N.before,v),ct(N.lines,v),ct(N.after,v)}),y=0,r.font=d.string,ct(t.footer,v),r.restore(),g+=h.width,{width:g,height:b}}function Wle(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function Hle(t,e,r,n){const{x:a,width:s}=n,i=r.caretSize+r.caretPadding;if(t==="left"&&a+s+i>e.width||t==="right"&&a-s-i<0)return!0}function Gle(t,e,r,n){const{x:a,width:s}=r,{width:i,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=a<=(l+c)/2?"left":"right":a<=s/2?u="left":a>=i-s/2&&(u="right"),Hle(u,t,e,r)&&(u="center"),u}function I_(t,e,r){const n=r.yAlign||e.yAlign||Wle(t,r);return{xAlign:r.xAlign||e.xAlign||Gle(t,e,r,n),yAlign:n}}function Yle(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Kle(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function T_(t,e,r,n){const{caretSize:a,caretPadding:s,cornerRadius:i}=t,{xAlign:l,yAlign:c}=r,u=a+s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:p}=_i(i);let h=Yle(e,l);const b=Kle(e,c,u);return c==="center"?l==="left"?h+=u:l==="right"&&(h-=u):l==="left"?h-=Math.max(d,m)+a:l==="right"&&(h+=Math.max(f,p)+a),{x:gr(h,0,n.width-e.width),y:gr(b,0,n.height-e.height)}}function Zh(t,e,r){const n=Mr(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function D_(t){return Na([],es(t))}function Jle(t,e,r){return Yo(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function E_(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const m6={beforeTitle:Ja,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Ja,beforeBody:Ja,beforeLabel:Ja,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return We(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Ja,afterBody:Ja,beforeFooter:Ja,footer:Ja,afterFooter:Ja};function Gr(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?m6[e].call(r,n):a}var CN;let P_=(CN=class extends Ls{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,s=new Hq(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Jle(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=Gr(n,"beforeTitle",this,e),s=Gr(n,"title",this,e),i=Gr(n,"afterTitle",this,e);let l=[];return l=Na(l,es(a)),l=Na(l,es(s)),l=Na(l,es(i)),l}getBeforeBody(e,r){return D_(Gr(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return ct(e,s=>{const i={before:[],lines:[],after:[]},l=E_(n,s);Na(i.before,es(Gr(l,"beforeLabel",this,s))),Na(i.lines,Gr(l,"label",this,s)),Na(i.after,es(Gr(l,"afterLabel",this,s))),a.push(i)}),a}getAfterBody(e,r){return D_(Gr(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=Gr(n,"beforeFooter",this,e),s=Gr(n,"footer",this,e),i=Gr(n,"afterFooter",this,e);let l=[];return l=Na(l,es(a)),l=Na(l,es(s)),l=Na(l,es(i)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],s=[],i=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(zle(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,m)=>e.filter(d,f,m,n))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,n))),ct(l,d=>{const f=E_(e.callbacks,d);a.push(Gr(f,"labelColor",this,d)),s.push(Gr(f,"labelPointStyle",this,d)),i.push(Gr(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let s,i=[];if(!a.length)this.opacity!==0&&(s={opacity:0});else{const l=Nd[n.position].call(this,a,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const c=this._size=k_(this,n),u=Object.assign({},l,c),d=I_(this.chart,n,u),f=T_(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const s=this.getCaretPosition(e,n,a);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:s}=this,{caretSize:i,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=_i(l),{x:m,y:p}=e,{width:h,height:b}=r;let g,x,y,v,N,C;return s==="center"?(N=p+b/2,a==="left"?(g=m,x=g-i,v=N+i,C=N-i):(g=m+h,x=g+i,v=N-i,C=N+i),y=g):(a==="left"?x=m+Math.max(c,d)+i:a==="right"?x=m+h-Math.max(u,f)-i:x=this.caretX,s==="top"?(v=p,N=v-i,g=x-i,y=x+i):(v=p+b,N=v+i,g=x+i,y=x-i),C=v),{x1:g,x2:x,x3:y,y1:v,y2:N,y3:C}}drawTitle(e,r,n){const a=this.title,s=a.length;let i,l,c;if(s){const u=lc(n.rtl,this.x,this.width);for(e.x=Zh(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",i=ur(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=i.string,c=0;c<s;++c)r.fillText(a[c],u.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+l,c+1===s&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,s){const i=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=s,d=ur(s.bodyFont),f=Zh(this,"left",s),m=a.x(f),p=c<d.lineHeight?(d.lineHeight-c)/2:0,h=r.y+p;if(s.usePointStyle){const b={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=a.leftForLtr(m,u)+u/2,x=h+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,YS(e,b,g,x),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,YS(e,b,g,x)}else{e.lineWidth=Ge(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const b=a.leftForLtr(m,u),g=a.leftForLtr(a.xPlus(m,1),u-2),x=_i(i.borderRadius);Object.values(x).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Wf(e,{x:b,y:h,w:u,h:c,radius:x}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),Wf(e,{x:g,y:h+1,w:u-2,h:c-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,h,u,c),e.strokeRect(b,h,u,c),e.fillStyle=i.backgroundColor,e.fillRect(g,h+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:s,bodyAlign:i,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=ur(n.bodyFont);let m=f.lineHeight,p=0;const h=lc(n.rtl,this.x,this.width),b=function(k){r.fillText(k,h.x(e.x+p),e.y+m/2),e.y+=m+s},g=h.textAlign(i);let x,y,v,N,C,j,S;for(r.textAlign=i,r.textBaseline="middle",r.font=f.string,e.x=Zh(this,g,n),r.fillStyle=n.bodyColor,ct(this.beforeBody,b),p=l&&g!=="right"?i==="center"?u/2+d:u+2+d:0,N=0,j=a.length;N<j;++N){for(x=a[N],y=this.labelTextColors[N],r.fillStyle=y,ct(x.before,b),v=x.lines,l&&v.length&&(this._drawColorBox(r,e,N,h,n),m=Math.max(f.lineHeight,c)),C=0,S=v.length;C<S;++C)b(v[C]),m=f.lineHeight;ct(x.after,b)}p=0,m=f.lineHeight,ct(this.afterBody,b),e.y-=s}drawFooter(e,r,n){const a=this.footer,s=a.length;let i,l;if(s){const c=lc(n.rtl,this.x,this.width);for(e.x=Zh(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",i=ur(n.footerFont),r.fillStyle=n.footerColor,r.font=i.string,l=0;l<s;++l)r.fillText(a[l],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:s,yAlign:i}=this,{x:l,y:c}=e,{width:u,height:d}=n,{topLeft:f,topRight:m,bottomLeft:p,bottomRight:h}=_i(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+f,c),i==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+u-m,c),r.quadraticCurveTo(l+u,c,l+u,c+m),i==="center"&&s==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+u,c+d-h),r.quadraticCurveTo(l+u,c+d,l+u-h,c+d),i==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+p,c+d),r.quadraticCurveTo(l,c+d,l,c+d-p),i==="center"&&s==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const i=Nd[e.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=k_(this,e),c=Object.assign({},i,this._size),u=I_(r,e,c),d=T_(e,c,u,r);(a._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=Mr(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,r),Bq(e,r.textDirection),s.y+=i.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),qq(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!Sx(n,a),i=this._positionChanged(a,r);(s||i)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],i=this._getActiveElements(e,s,r,n),l=this._positionChanged(i,e),c=r||!Sx(i,s)||l;return c&&(this._active=i,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const s=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,r){const{caretX:n,caretY:a,options:s}=this,i=Nd[s.position].call(this,e,r);return i!==!1&&(n!==i.x||a!==i.y)}},he(CN,"positioners",Nd),CN);var Xle={id:"tooltip",_element:P_,positioners:Nd,afterInit(t,e,r){r&&(t.tooltip=new P_({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:m6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Zle=Object.freeze({__proto__:null,Colors:ule,Decimation:hle,Filler:_le,Legend:Ble,SubTitle:Ule,Title:Vle,Tooltip:Xle});const Qle=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function ece(t,e,r,n){const a=t.indexOf(e);if(a===-1)return Qle(t,e,r,n);const s=t.lastIndexOf(e);return a!==s?r:a}const tce=(t,e)=>t===null?null:gr(Math.round(t),0,e);function O_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class tA extends vl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:s}of r)n[a]===s&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(We(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:ece(n,e,Be(r,e),this._addedLabels),tce(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=r;i++)a.push({value:i});return a}getLabelForValue(e){return O_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}he(tA,"id","category"),he(tA,"defaults",{ticks:{callback:O_}});function rce(t,e){const r=[],{bounds:a,step:s,min:i,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:m}=t,p=s||1,h=d-1,{min:b,max:g}=e,x=!We(i),y=!We(l),v=!We(u),N=(g-b)/(f+1);let C=kO((g-b)/h/p)*p,j,S,k,T;if(C<1e-14&&!x&&!y)return[{value:b},{value:g}];T=Math.ceil(g/C)-Math.floor(b/C),T>h&&(C=kO(T*C/h/p)*p),We(c)||(j=Math.pow(10,c),C=Math.ceil(C*j)/j),a==="ticks"?(S=Math.floor(b/C)*C,k=Math.ceil(g/C)*C):(S=b,k=g),x&&y&&s&&Kae((l-i)/s,C/1e3)?(T=Math.round(Math.min((l-i)/C,d)),C=(l-i)/T,S=i,k=l):v?(S=x?i:S,k=y?l:k,T=u-1,C=(k-S)/T):(T=(k-S)/C,zd(T,Math.round(T),C/1e3)?T=Math.round(T):T=Math.ceil(T));const A=Math.max(IO(C),IO(S));j=Math.pow(10,We(c)?A:c),S=Math.round(S*j)/j,k=Math.round(k*j)/j;let D=0;for(x&&(m&&S!==i?(r.push({value:i}),S<i&&D++,zd(Math.round((S+D*C)*j)/j,i,__(i,N,t))&&D++):S<i&&D++);D<T;++D){const P=Math.round((S+D*C)*j)/j;if(y&&P>l)break;r.push({value:P})}return y&&m&&k!==l?r.length&&zd(r[r.length-1].value,l,__(l,N,t))?r[r.length-1].value=l:r.push({value:l}):(!y||k===l)&&r.push({value:k}),r}function __(t,e,{horizontal:r,minRotation:n}){const a=ca(n),s=(r?Math.sin(a):Math.cos(a))||.001,i=.75*e*(""+t).length;return Math.min(e/s,i)}class Px extends vl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return We(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:s}=this;const i=c=>a=r?a:c,l=c=>s=n?s:c;if(e){const c=Ra(a),u=Ra(s);c<0&&u<0?l(0):c>0&&u>0&&i(0)}if(a===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||i(a-c)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,i=rce(a,s);return e.bounds==="ticks"&&Cq(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Xm(e,this.chart.options.locale,this.options.ticks.format)}}class rA extends Px{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Wt(e)?e:0,this.max=Wt(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=ca(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}he(rA,"id","linear"),he(rA,"defaults",{ticks:{callback:D0.formatters.numeric}});const Gf=t=>Math.floor(lo(t)),ii=(t,e)=>Math.pow(10,Gf(t)+e);function $_(t){return t/Math.pow(10,Gf(t))===1}function R_(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function nce(t,e){const r=e-t;let n=Gf(r);for(;R_(t,e,n)>10;)n++;for(;R_(t,e,n)<10;)n--;return Math.min(n,Gf(t))}function ace(t,{min:e,max:r}){e=hn(t.min,e);const n=[],a=Gf(e);let s=nce(e,r),i=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,u=Math.round((e-c)*i)/i,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,s)),m=hn(t.min,Math.round((c+d+f*Math.pow(10,s))*i)/i);for(;m<r;)n.push({value:m,major:$_(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,i=s>=0?1:i),m=Math.round((c+d+f*Math.pow(10,s))*i)/i;const p=hn(t.max,m);return n.push({value:p,major:$_(p),significand:f}),n}class nA extends vl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=Px.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return Wt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Wt(e)?Math.max(0,e):null,this.max=Wt(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Wt(this._userMin)&&(this.min=e===ii(this.min,0)?ii(this.min,-1):ii(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const s=l=>n=e?n:l,i=l=>a=r?a:l;n===a&&(n<=0?(s(1),i(10)):(s(ii(n,-1)),i(ii(a,1)))),n<=0&&s(ii(a,-1)),a<=0&&i(ii(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=ace(r,this);return e.bounds==="ticks"&&Cq(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Xm(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=lo(e),this._valueRange=lo(this.max)-lo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(lo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}he(nA,"id","logarithmic"),he(nA,"defaults",{ticks:{callback:D0.formatters.logarithmic,major:{enabled:!0}}});function aA(t){const e=t.ticks;if(e.display&&t.display){const r=Mr(e.backdropPadding);return Be(e.font&&e.font.size,$t.font.size)+r.height}return 0}function sce(t,e,r){return r=Ot(r)?r:[r],{w:fse(t,e.string,r),h:r.length*e.lineHeight}}function M_(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function oce(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],s=t._pointLabels.length,i=t.options.pointLabels,l=i.centerPointLabels?Et/s:0;for(let c=0;c<s;c++){const u=i.setContext(t.getPointLabelContext(c));a[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+a[c],l),f=ur(u.font),m=sce(t.ctx,f,t._pointLabels[c]);n[c]=m;const p=yn(t.getIndexAngle(c)+l),h=Math.round(iD(p)),b=M_(h,d.x,m.w,0,180),g=M_(h,d.y,m.h,90,270);ice(r,e,p,b,g)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=uce(t,n,a)}function ice(t,e,r,n,a){const s=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/i,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/i,t.b=Math.max(t.b,e.b+c))}function lce(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:s,padding:i,size:l}=r,c=t.getPointPosition(e,n+a+i,s),u=Math.round(iD(yn(c.angle+Zt))),d=mce(c.y,l.h,u),f=dce(u),m=fce(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:m,top:d,right:m+l.w,bottom:d+l.h}}function cce(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:s}=t;return!(fs({x:r,y:n},e)||fs({x:r,y:s},e)||fs({x:a,y:n},e)||fs({x:a,y:s},e))}function uce(t,e,r){const n=[],a=t._pointLabels.length,s=t.options,{centerPointLabels:i,display:l}=s.pointLabels,c={extra:aA(s)/2,additionalAngle:i?Et/a:0};let u;for(let d=0;d<a;d++){c.padding=r[d],c.size=e[d];const f=lce(t,d,c);n.push(f),l==="auto"&&(f.visible=cce(f,u),f.visible&&(u=f))}return n}function dce(t){return t===0||t===180?"center":t<180?"left":"right"}function fce(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function mce(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function hce(t,e,r){const{left:n,top:a,right:s,bottom:i}=r,{backdropColor:l}=e;if(!We(l)){const c=_i(e.borderRadius),u=Mr(e.backdropPadding);t.fillStyle=l;const d=n-u.left,f=a-u.top,m=s-n+u.width,p=i-a+u.height;Object.values(c).some(h=>h!==0)?(t.beginPath(),Wf(t,{x:d,y:f,w:m,h:p,radius:c}),t.fill()):t.fillRect(d,f,m,p)}}function pce(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const s=t._pointLabelItems[a];if(!s.visible)continue;const i=n.setContext(t.getPointLabelContext(a));hce(r,i,s);const l=ur(i.font),{x:c,y:u,textAlign:d}=s;ol(r,t._pointLabels[a],c,u+l.lineHeight/2,l,{color:i.color,textAlign:d,textBaseline:"middle"})}}function h6(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Dt);else{let s=t.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let i=1;i<n;i++)s=t.getPointPosition(i,e),a.lineTo(s.x,s.y)}}function gce(t,e,r,n,a){const s=t.ctx,i=e.circular,{color:l,lineWidth:c}=e;!i&&!n||!l||!c||r<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),h6(t,r,i,n),s.closePath(),s.stroke(),s.restore())}function yce(t,e,r){return Yo(t,{label:r,index:e,type:"pointLabel"})}class Sd extends Px{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Mr(aA(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Wt(e)&&!isNaN(e)?e:0,this.max=Wt(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/aA(this.options))}generateTickLabels(e){Px.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=vt(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?oce(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Dt/(this._pointLabels.length||1),n=this.options.startAngle||0;return yn(e*r+ca(n))}getDistanceFromCenterForValue(e){if(We(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(We(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return yce(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-Zt+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),h6(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:s}=r,i=this._pointLabels.length;let l,c,u;if(r.pointLabels.display&&pce(this,i),a.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(f),p=a.setContext(m),h=s.setContext(m);gce(this,p,c,i,h)}}),n.display){for(e.save(),l=i-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=d;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let s,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(c)),d=ur(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,i=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=Mr(u.backdropPadding);e.fillRect(-i/2-f.left,-s-d.size/2-f.top,i+f.width,d.size+f.height)}ol(e,l.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}he(Sd,"id","radialLinear"),he(Sd,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:D0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),he(Sd,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),he(Sd,"descriptors",{angleLines:{_fallback:"grid"}});const $0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zr=Object.keys($0);function L_(t,e){return t-e}function F_(t,e){if(We(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:s}=t._parseOpts;let i=e;return typeof n=="function"&&(i=n(i)),Wt(i)||(i=typeof n=="string"?r.parse(i,n):r.parse(i)),i===null?null:(a&&(i=a==="week"&&(Fc(s)||s===!0)?r.startOf(i,"isoWeek",s):r.startOf(i,a)),+i)}function B_(t,e,r,n){const a=Zr.length;for(let s=Zr.indexOf(t);s<a-1;++s){const i=$0[Zr[s]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((r-e)/(l*i.size))<=n)return Zr[s]}return Zr[a-1]}function bce(t,e,r,n,a){for(let s=Zr.length-1;s>=Zr.indexOf(r);s--){const i=Zr[s];if($0[i].common&&t._adapter.diff(a,n,i)>=e-1)return i}return Zr[r?Zr.indexOf(r):0]}function xce(t){for(let e=Zr.indexOf(t)+1,r=Zr.length;e<r;++e)if($0[Zr[e]].common)return Zr[e]}function q_(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=lD(r,e),s=r[n]>=e?r[n]:r[a];t[s]=!0}}function vce(t,e,r,n){const a=t._adapter,s=+a.startOf(e[0].value,n),i=e[e.length-1].value;let l,c;for(l=s;l<=i;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function V_(t,e,r){const n=[],a={},s=e.length;let i,l;for(i=0;i<s;++i)l=e[i],a[l]=i,n.push({value:l,major:!1});return s===0||!r?n:vce(t,n,a,r)}class Yf extends vl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new Toe._date(e.adapters.date);a.init(r),Ud(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:F_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:s,minDefined:i,maxDefined:l}=this.getUserBounds();function c(u){!i&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!i||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Wt(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),s=Wt(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,i=this.max,l=Qae(a,s,i);return this._unit=r.unit||(n.autoSkip?B_(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):bce(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:xce(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),V_(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,s;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;r=gr(r,0,i),n=gr(n,0,i),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,s=a.time,i=s.unit||B_(s.minUnit,r,n,this._getLabelCapacity(r)),l=Be(a.ticks.stepSize,1),c=i==="week"?s.isoWeekday:!1,u=Fc(c)||c===!0,d={};let f=r,m,p;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":i),e.diff(n,r,i)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+i);const h=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,p=0;m<n;m=+e.add(m,l,i),p++)q_(d,m,h);return(m===n||a.bounds==="ticks"||p===1)&&q_(d,m,h),Object.keys(d).sort(L_).map(b=>+b)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,s=this._unit,i=r||a[s];return this._adapter.format(e,i)}_tickFormatFunction(e,r,n,a){const s=this.options,i=s.ticks.callback;if(i)return vt(i,[e,r,n],this);const l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],m=n[r],p=u&&f&&m&&m.major;return this._adapter.format(e,a||(p?f:d))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=ca(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(a),i=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*i,h:n*i+l*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,V_(this,[e],this._majorUnit),a),i=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(F_(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Aq(e.sort(L_))}}he(Yf,"id","time"),he(Yf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Qh(t,e,r){let n=0,a=t.length-1,s,i,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=ds(t,"pos",e)),{pos:s,time:l}=t[n],{pos:i,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=ds(t,"time",e)),{time:s,pos:l}=t[n],{time:i,pos:c}=t[a]);const u=i-s;return u?l+(c-l)*(e-s)/u:l}class sA extends Yf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Qh(r,this.min),this._tableRange=Qh(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],s=[];let i,l,c,u,d;for(i=0,l=e.length;i<l;++i)u=e[i],u>=r&&u<=n&&a.push(u);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(i=0,l=a.length;i<l;++i)d=a[i+1],c=a[i-1],u=a[i],Math.round((d+c)/2)!==u&&s.push({time:u,pos:i/(l-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Qh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Qh(this._table,n*this._tableRange+this._minPos,!0)}}he(sA,"id","timeseries"),he(sA,"defaults",Yf.defaults);var jce=Object.freeze({__proto__:null,CategoryScale:tA,LinearScale:rA,LogarithmicScale:nA,RadialLinearScale:Sd,TimeScale:Yf,TimeSeriesScale:sA});const wce=[Ioe,nle,Zle,jce];Zs.register(...wce);const Cce=[{name:"Settings",icon:o.jsx(n3,{className:"h-6 w-6"}),path:"/settings/departments"},{name:"Disbursement",icon:o.jsx(QK,{className:"h-6 w-6"}),path:"/disbursement/obligation-requests"},{name:"Collections",icon:o.jsx(bJ,{className:"h-6 w-6"}),path:"/collections/community-tax"},{name:"Budget",icon:o.jsx(kP,{className:"h-6 w-6"}),path:"/budget/details"},{name:"Applications",icon:o.jsx(kP,{className:"h-6 w-6"}),path:"/applications/business-permits"},{name:"Reports",icon:o.jsx(IS,{className:"h-6 w-6"}),path:"/reports/general-ledger"},{name:"BIR Reports",icon:o.jsx(a3,{className:"h-6 w-6"}),path:"/reports/bir"}];function Nce(){const{user:t}=V(n=>n.auth),[e,r]=w.useState(!0);return w.useEffect(()=>{const n=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(n)},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Welcome back"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Cce.map(n=>o.jsxs(ic,{to:n.path,className:"bg-white hover:bg-blue-50 border border-gray-200 rounded-xl shadow-md p-5 flex items-center gap-4 transition-transform transform hover:scale-105",children:[o.jsx("div",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:n.icon}),o.jsx("span",{className:"text-lg font-medium text-gray-800",children:n.name})]},n.name))})]})}function Sce(){return o.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-white py-8 px-4 shadow-md sm:rounded-lg sm:px-10 text-center",children:[o.jsx("div",{className:"text-6xl font-bold text-primary-600 mb-4",children:"404"}),o.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Page Not Found"}),o.jsx("p",{className:"text-neutral-600 mb-6",children:"The page you are looking for doesn't exist or has been moved."}),o.jsx(ic,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Return to Dashboard"})]})})})}function jl(t){this._maxSize=t,this.clear()}jl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};jl.prototype.get=function(t){return this._values[t]};jl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Ace=/[^.^\]^[]+|(?=\[\]|\.\.)/g,p6=/^\d+$/,kce=/^\d/,Ice=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Tce=/^\s*(['"]?)(.*?)(\1)\s*$/,vD=512,U_=new jl(vD),z_=new jl(vD),W_=new jl(vD),Ri={Cache:jl,split:oA,normalizePath:Y1,setter:function(t){var e=Y1(t);return z_.get(t)||z_.set(t,function(n,a){for(var s=0,i=e.length,l=n;s<i-1;){var c=e[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[e[s++]]}l[e[s]]=a})},getter:function(t,e){var r=Y1(t);return W_.get(t)||W_.set(t,function(a){for(var s=0,i=r.length;s<i;)if(a!=null||!e)a=a[r[s++]];else return;return a})},join:function(t){return t.reduce(function(e,r){return e+(jD(r)||p6.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){Dce(Array.isArray(t)?t:oA(t),e,r)}};function Y1(t){return U_.get(t)||U_.set(t,oA(t).map(function(e){return e.replace(Tce,"$2")}))}function oA(t){return t.match(Ace)||[""]}function Dce(t,e,r){var n=t.length,a,s,i,l;for(s=0;s<n;s++)a=t[s],a&&(Oce(a)&&(a='"'+a+'"'),l=jD(a),i=!l&&/^\d+$/.test(a),e.call(r,a,l,i,s,t))}function jD(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Ece(t){return t.match(kce)&&!t.match(p6)}function Pce(t){return Ice.test(t)}function Oce(t){return!jD(t)&&(Ece(t)||Pce(t))}const _ce=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,R0=t=>t.match(_ce)||[],M0=t=>t[0].toUpperCase()+t.slice(1),wD=(t,e)=>R0(t).join(e).toLowerCase(),g6=t=>R0(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),$ce=t=>M0(g6(t)),Rce=t=>wD(t,"_"),Mce=t=>wD(t,"-"),Lce=t=>M0(wD(t," ")),Fce=t=>R0(t).map(M0).join(" ");var K1={words:R0,upperFirst:M0,camelCase:g6,pascalCase:$ce,snakeCase:Rce,kebabCase:Mce,sentenceCase:Lce,titleCase:Fce},CD={exports:{}};CD.exports=function(t){return y6(Bce(t),t)};CD.exports.array=y6;function y6(t,e){var r=t.length,n=new Array(r),a={},s=r,i=qce(e),l=Vce(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(t[s],s,new Set);return n;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!a[d]){a[d]=!0;var p=i.get(u)||new Set;if(p=Array.from(p),d=p.length){f.add(u);do{var h=p[--d];c(h,l.get(h),f)}while(d);f.delete(u)}n[--r]=u}}}function Bce(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var a=t[r];e.add(a[0]),e.add(a[1])}return Array.from(e)}function qce(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var a=t[r];e.has(a[0])||e.set(a[0],new Set),e.has(a[1])||e.set(a[1],new Set),e.get(a[0]).add(a[1])}return e}function Vce(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var Uce=CD.exports;const zce=st(Uce),Wce=Object.prototype.toString,Hce=Error.prototype.toString,Gce=RegExp.prototype.toString,Yce=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Kce=/^Symbol\((.*)\)(.*)$/;function Jce(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function H_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return Jce(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Yce.call(t).replace(Kce,"Symbol($1)");const n=Wce.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Hce.call(t)+"]":n==="RegExp"?Gce.call(t):null}function bs(t,e){let r=H_(t,e);return r!==null?r:JSON.stringify(t,function(n,a){let s=H_(this[n],e);return s!==null?s:a},2)}function b6(t){return t==null?[]:[].concat(t)}let x6,v6,j6,Xce=/\$\{\s*(\w+)\s*\}/g;x6=Symbol.toStringTag;class G_{constructor(e,r,n,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[x6]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],b6(e).forEach(s=>{if(Xr.isError(s)){this.errors.push(...s.errors);const i=s.inner.length?s.inner:[s];this.inner.push(...i)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}v6=Symbol.hasInstance;j6=Symbol.toStringTag;class Xr extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(Xce,(a,s)=>bs(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,a,s){const i=new G_(e,r,n,a);if(s)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[j6]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Xr)}static[v6](e){return G_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ka={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const a=n!=null&&n!==r?` (cast from the value \`${bs(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${bs(r,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${bs(r,!0)}\``+a}},Yr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ys={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},iA={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},lA={isValue:"${path} field must be ${value}"},Xp={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Zp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Zce={notType:t=>{const{path:e,value:r,spec:n}=t,a=n.types.length;if(Array.isArray(r)){if(r.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${r.length} for value: \`${bs(r,!0)}\``;if(r.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${r.length} for value: \`${bs(r,!0)}\``}return Xr.formatError(ka.notType,t)}};Object.assign(Object.create(null),{mixed:ka,string:Yr,number:Ys,date:iA,object:Xp,array:Zp,boolean:lA,tuple:Zce});const L0=t=>t&&t.__isYupSchema__;class Ox{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,i=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new Ox(e,(l,c)=>{var u;let d=i(...l)?a:s;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn(n,e,r);if(a===void 0||a===e)return e;if(!L0(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}const ep={context:"$",value:"."};function il(t,e){return new Ko(t,e)}class Ko{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ep.context,this.isValue=this.key[0]===ep.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?ep.context:this.isValue?ep.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Ri.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let a=this.isContext?n:this.isValue?e:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ko.prototype.__isYupRef=!0;const ua=t=>t==null;function Pl(t){function e({value:r,path:n="",options:a,originalValue:s,schema:i},l,c){const{name:u,test:d,params:f,message:m,skipAbsent:p}=t;let{parent:h,context:b,abortEarly:g=i.spec.abortEarly,disableStackTrace:x=i.spec.disableStackTrace}=a;function y(D){return Ko.isRef(D)?D.getValue(r,h,b):D}function v(D={}){const P=Object.assign({value:r,originalValue:s,label:i.spec.label,path:D.path||n,spec:i.spec,disableStackTrace:D.disableStackTrace||x},f,D.params);for(const $ of Object.keys(P))P[$]=y(P[$]);const M=new Xr(Xr.formatError(D.message||m,P),r,P.path,D.type||u,P.disableStackTrace);return M.params=P,M}const N=g?l:c;let C={path:n,parent:h,type:u,from:a.from,createError:v,resolve:y,options:a,originalValue:s,schema:i};const j=D=>{Xr.isError(D)?N(D):D?c(null):N(v())},S=D=>{Xr.isError(D)?N(D):l(D)};if(p&&ua(r))return j(!0);let T;try{var A;if(T=d.call(C,r,C),typeof((A=T)==null?void 0:A.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(T).then(j,S)}}catch(D){S(D);return}j(T)}return e.OPTIONS=t,e}function Qce(t,e,r,n=r){let a,s,i;return e?(Ri.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:a,value:r});let f=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);a=r,r=r&&r[m],t=f?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${i} which is a type: "${t.type}")`);a=r,r=r&&r[d],t=t.fields[d]}s=d,i=c?"["+l+"]":"."+l}),{schema:t,parent:a,parentPath:s}):{parent:a,parentPath:e,schema:t}}class _x extends Set{describe(){const e=[];for(const r of this.values())e.push(Ko.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new _x(this.values())}merge(e,r){const n=this.clone();return e.forEach(a=>n.add(a)),r.forEach(a=>n.delete(a)),n}}function Jl(t,e=new Map){if(L0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=Jl(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,a]of t.entries())r.set(n,Jl(a,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(Jl(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,a]of Object.entries(t))r[n]=Jl(a,e)}else throw Error(`Unable to clone ${t}`);return r}class Dn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new _x,this._blacklist=new _x,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ka.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=Jl(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const a=Object.assign({},r.spec,n.spec);return n.spec=a,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(i=>{s.test(i.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,a,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),a=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(a&&ua(s))return s;let i=bs(e),l=bs(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(l!==i?`result of cast: ${l}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((a,s)=>s.call(this,a,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,a){let{path:s,originalValue:i=e,strict:l=this.spec.strict}=r,c=e;l||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:c,originalValue:i,options:r,tests:u},n,d=>{if(d.length)return a(d,c);this.runTests({path:s,value:c,originalValue:i,options:r,tests:this.tests},n,a)})}runTests(e,r,n){let a=!1,{tests:s,value:i,originalValue:l,path:c,options:u}=e,d=b=>{a||(a=!0,r(b,i))},f=b=>{a||(a=!0,n(b,i))},m=s.length,p=[];if(!m)return f([]);let h={value:i,originalValue:l,path:c,options:u,schema:this};for(let b=0;b<s.length;b++){const g=s[b];g(h,d,function(y){y&&(Array.isArray(y)?p.push(...y):p.push(y)),--m<=0&&f(p)})}}asNestedTest({key:e,index:r,parent:n,parentPath:a,originalParent:s,options:i}){const l=e??r;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=n[l];const d=Object.assign({},i,{strict:!0,parent:n,value:u,originalValue:s[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${a||""}[${c?l:`"${l}"`}]`:(a?`${a}.`:"")+e});return(f,m,p)=>this.resolve(d)._validate(u,d,m,p)}validate(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return new Promise((i,l)=>a._validate(e,r,(c,u)=>{Xr.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Xr(c,u,void 0,void 0,s)):i(u)}))}validateSync(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s,i=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return a._validate(e,Object.assign({},r,{sync:!0}),(l,c)=>{throw Xr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Xr(l,e,void 0,void 0,i);s=c}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Xr.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Xr.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):Jl(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Pl({message:r,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Pl({message:r,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=ka.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ka.notNull){return this.nullability(!1,e)}required(e=ka.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=ka.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=Pl(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===r.name&&(s||i.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),a=b6(e).map(s=>new Ko(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new Ox(a,r):Ox.fromOptions(a,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Pl({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=ka.oneOf){let n=this.clone();return e.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n.internalTests.whiteList=Pl({message:r,name:"oneOf",skipAbsent:!0,test(a){let s=this.schema._whitelist,i=s.resolveAll(this.resolve);return i.includes(a)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:i}})}}),n}notOneOf(e,r=ka.notOneOf){let n=this.clone();return e.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n.internalTests.blacklist=Pl({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,i=s.resolveAll(this.resolve);return i.includes(a)?this.createError({params:{values:Array.from(s).join(", "),resolved:i}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:a,optional:s,nullable:i}=r.spec;return{meta:a,label:n,optional:s,nullable:i,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,d)=>d.findIndex(f=>f.name===c.name)===u)}}}Dn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Dn.prototype[`${t}At`]=function(e,r,n={}){const{parent:a,parentPath:s,schema:i}=Qce(this,e,r,n.context);return i[t](a&&a[s],Object.assign({},n,{parent:a,path:e}))};for(const t of["equals","is"])Dn.prototype[t]=Dn.prototype.oneOf;for(const t of["not","nope"])Dn.prototype[t]=Dn.prototype.notOneOf;function Lo(){return new w6}class w6 extends Dn{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=lA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return ua(r)||r===!0}})}isFalse(e=lA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return ua(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Lo.prototype=w6.prototype;const eue=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function tue(t){const e=cA(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function cA(t){var e,r;const n=eue.exec(t);return n?{year:Xa(n[1]),month:Xa(n[2],1)-1,day:Xa(n[3],1),hour:Xa(n[4]),minute:Xa(n[5]),second:Xa(n[6]),millisecond:n[7]?Xa(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Xa(n[10]),minuteOffset:Xa(n[11])}:null}function Xa(t,e=0){return Number(t)||e}let rue=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nue=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,aue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,sue="^\\d{4}-\\d{2}-\\d{2}",oue="\\d{2}:\\d{2}:\\d{2}",iue="(([+-]\\d{2}(:?\\d{2})?)|Z)",lue=new RegExp(`${sue}T${oue}(\\.\\d+)?${iue}$`),cue=t=>ua(t)||t===t.trim(),uue={}.toString();function E(){return new C6}class C6 extends Dn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===uue?e:a})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||ka.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=Yr.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=Yr.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=Yr.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||Yr.matches,params:{regex:e},skipAbsent:!0,test:i=>i===""&&n||i.search(e)!==-1})}email(e=Yr.email){return this.matches(rue,{name:"email",message:e,excludeEmptyString:!0})}url(e=Yr.url){return this.matches(nue,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Yr.uuid){return this.matches(aue,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,a;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:a=void 0}=e:r=e),this.matches(lue,{name:"datetime",message:r||Yr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Yr.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const i=cA(s);return i?!!i.z:!1}}).test({name:"datetime_precision",message:r||Yr.datetime_precision,params:{precision:a},skipAbsent:!0,test:s=>{if(!s||a==null)return!0;const i=cA(s);return i?i.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Yr.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:cue})}lowercase(e=Yr.lowercase){return this.transform(r=>ua(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>ua(r)||r===r.toLowerCase()})}uppercase(e=Yr.uppercase){return this.transform(r=>ua(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>ua(r)||r===r.toUpperCase()})}}E.prototype=C6.prototype;let due=t=>t!=+t;function G(){return new N6}class N6 extends Dn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!due(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return n.isType(a)||a===null?a:parseFloat(a)})})}min(e,r=Ys.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=Ys.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=Ys.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=Ys.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=Ys.positive){return this.moreThan(0,e)}negative(e=Ys.negative){return this.lessThan(0,e)}integer(e=Ys.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>ua(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(a=>ua(a)?a:Math[e](a))}}G.prototype=N6.prototype;let S6=new Date(""),fue=t=>Object.prototype.toString.call(t)==="[object Date]";function Re(){return new Zm}class Zm extends Dn{constructor(){super({type:"date",check(e){return fue(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=tue(e),isNaN(e)?Zm.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Ko.isRef(e))n=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(e,r=iA.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(n)}})}max(e,r=iA.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(n)}})}}Zm.INVALID_DATE=S6;Re.prototype=Zm.prototype;Re.INVALID_DATE=S6;function mue(t,e=[]){let r=[],n=new Set,a=new Set(e.map(([i,l])=>`${i}-${l}`));function s(i,l){let c=Ri.split(i)[0];n.add(c),a.has(`${l}-${c}`)||r.push([l,c])}for(const i of Object.keys(t)){let l=t[i];n.add(i),Ko.isRef(l)&&l.isSibling?s(l.path,i):L0(l)&&"deps"in l&&l.deps.forEach(c=>s(c,i))}return zce.array(Array.from(n),r).reverse()}function Y_(t,e){let r=1/0;return t.some((n,a)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=a,!0}),r}function A6(t){return(e,r)=>Y_(t,e)-Y_(t,r)}const k6=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function Qp(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=Qp(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Qp(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Qp)}):"optional"in t?t.optional():t}const hue=(t,e)=>{const r=[...Ri.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),a=Ri.getter(Ri.join(r),!0)(t);return!!(a&&n in a)};let K_=t=>Object.prototype.toString.call(t)==="[object Object]";function J_(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const pue=A6([]);function oe(t){return new I6(t)}class I6 extends Dn{constructor(e){super({type:"object",check(r){return K_(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=pue,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let a=super._cast(e,r);if(a===void 0)return this.getDefault(r);if(!this._typeCheck(a))return a;let s=this.fields,i=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(a).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const f of l){let m=s[f],p=f in a;if(m){let h,b=a[f];u.path=(r.path?`${r.path}.`:"")+f,m=m.resolve({value:b,context:r.context,parent:c});let g=m instanceof Dn?m.spec:void 0,x=g==null?void 0:g.strict;if(g!=null&&g.strip){d=d||f in a;continue}h=!r.__validating||!x?m.cast(a[f],u):a[f],h!==void 0&&(c[f]=h)}else p&&!i&&(c[f]=a[f]);(p!==f in c||c[f]!==a[f])&&(d=!0)}return d?c:a}_validate(e,r={},n,a){let{from:s=[],originalValue:i=e,recursive:l=this.spec.recursive}=r;r.from=[{schema:this,value:i},...s],r.__validating=!0,r.originalValue=i,super._validate(e,r,n,(c,u)=>{if(!l||!K_(u)){a(c,u);return}i=i||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||Ko.isRef(m)||d.push(m.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:i}))}this.runTests({tests:d,value:u,originalValue:i,options:r},n,f=>{a(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const i=n[a];n[a]=i===void 0?s:i}return r.withMutation(a=>a.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var a;const s=this.fields[n];let i=e;(a=i)!=null&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(i):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=mue(e,r),n._sortErrors=A6(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let a=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),a=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),a)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return Qp(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,a])=>e.includes(n)&&e.includes(a)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let a=Ri.getter(e,!0);return this.transform(s=>{if(!s)return s;let i=s;return hue(s,e)&&(i=Object.assign({},s),n||delete i[e],i[r]=a(s)),i})}json(){return this.transform(k6)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Xp.exact,test(r){if(r==null)return!0;const n=J_(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=Xp.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=J_(this.schema,a);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=Xp.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const a of Object.keys(r))n[e(a)]=r[a];return n})}camelCase(){return this.transformKeys(K1.camelCase)}snakeCase(){return this.transformKeys(K1.snakeCase)}constantCase(){return this.transformKeys(e=>K1.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,i]of Object.entries(r.fields)){var a;let l=e;(a=l)!=null&&a.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),n.fields[s]=i.describe(l)}return n}}oe.prototype=I6.prototype;function Ht(t){return new T6(t)}class T6 extends Dn{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let a=!1;const s=n.map((i,l)=>{const c=this.innerType.cast(i,Object.assign({},r,{path:`${r.path||""}[${l}]`}));return c!==i&&(a=!0),c});return a?s:n}_validate(e,r={},n,a){var s;let i=this.innerType,l=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!l||!i||!this._typeCheck(u)){a(c,u);return}let f=new Array(u.length);for(let p=0;p<u.length;p++){var m;f[p]=i.asNestedTest({options:r,index:p,parent:u,parentPath:r.path,originalParent:(m=r.originalValue)!=null?m:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,p=>a(p.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(k6)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!L0(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+bs(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=Zp.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||Zp.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||Zp.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,a,s)=>!e(n,a,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var a;let s=e;(a=s)!=null&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}Ht.prototype=T6.prototype;function gue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const yue=w.forwardRef(gue);function bue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const xue=w.forwardRef(bue);function vue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const jue=w.forwardRef(vue);function wue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const Cue=w.forwardRef(wue);function Nue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),w.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const Sue=w.forwardRef(Nue);function Aue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const kue=w.forwardRef(Aue);function Iue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Tue=w.forwardRef(Iue);function Due({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Eue=w.forwardRef(Due);function Pue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Oue=w.forwardRef(Pue);function ge({columns:t,data:e=[],pagination:r=!0,search:n=!0,actions:a=[],loading:s=!1,onRowClick:i=null,emptyMessage:l="No data available"}){const[c,u]=w.useState(1),[d,f]=w.useState(10),[m,p]=w.useState(""),[h,b]=w.useState({key:null,direction:"asc"}),g=Array.isArray(e)?e:[],y=[...g.filter(T=>Object.values(T).some(A=>A!=null&&A.toString().toLowerCase().includes(m.toLowerCase())))].sort((T,A)=>{if(!h.key)return 0;const D=T[h.key],P=A[h.key];return D==null?1:P==null?-1:typeof D=="string"&&typeof P=="string"?h.direction==="asc"?D.localeCompare(P):P.localeCompare(D):h.direction==="asc"?D-P:P-D}),v=Math.ceil(y.length/d),N=y.slice((c-1)*d,c*d),C=T=>{let A="asc";h.key===T&&h.direction==="asc"&&(A="desc"),b({key:T,direction:A})},j=T=>{u(T)},S=T=>{f(Number(T.target.value)),u(1)},k=T=>{p(T.target.value),u(1)};return s?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"Loading..."}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Please wait while we fetch the data."})]})}):g.length===0?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"No data available"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:l})]})}):o.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200 overflow-hidden",children:[n&&o.jsx("div",{className:"px-4 py-3 border-b border-neutral-200 bg-neutral-50",children:o.jsxs("div",{className:"relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(kue,{className:"h-5 w-5 text-neutral-400","aria-hidden":"true"})}),o.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2 sm:text-sm border-neutral-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",value:m,onChange:k})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[o.jsx("thead",{className:"bg-neutral-50",children:o.jsxs("tr",{children:[t.map(T=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",onClick:()=>T.sortable!==!1&&C(T.key),children:o.jsxs("div",{className:"flex items-center gap-1",children:[" ",o.jsx("span",{children:T.header}),T.sortable!==!1&&o.jsxs("span",{className:"flex flex-col shrink-0",children:[" ",o.jsx(jue,{className:`h-3 w-3 ${h.key===T.key&&h.direction==="asc"?"text-primary-600":"text-neutral-400"}`}),o.jsx(xue,{className:`h-3 w-3 -mt-1 ${h.key===T.key&&h.direction==="desc"?"text-primary-600":"text-neutral-400"}`})]})]})},T.key)),a.length>0&&o.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",children:o.jsx("span",{children:"Actions"})})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:N.map((T,A)=>o.jsxs("tr",{className:i?"hover:bg-neutral-50 cursor-pointer":"",onClick:i?()=>i(T):void 0,children:[t.map(D=>o.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${D.className||"text-neutral-500"}`,children:D.render?D.render(T[D.key],T):T[D.key]},`${T.id||A}-${D.key}`)),typeof a=="function"?(()=>{const D=a(T);return(D==null?void 0:D.length)>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:D.map((P,M)=>o.jsx("button",{onClick:$=>{$.stopPropagation(),P.onClick(T)},className:P.className||"text-primary-600 hover:text-primary-900",title:P.title,children:P.icon?o.jsx(P.icon,{className:"h-5 w-5","aria-hidden":"true"}):P.label},M))})})():a.length>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a.map((D,P)=>o.jsx("button",{onClick:M=>{M.stopPropagation(),D.onClick(T)},className:D.className||"text-primary-600 hover:text-primary-900",title:D.title,children:D.icon?o.jsx(D.icon,{className:"h-5 w-5","aria-hidden":"true"}):D.label},P))})]},T.id||A))})]})}),r&&v>0&&o.jsxs("div",{className:"px-2 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-neutral-200 bg-neutral-50 sm:px-6",children:[o.jsxs("div",{className:"text-sm text-neutral-700 text-center sm:text-left",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:Math.min((c-1)*d+1,y.length)})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(c*d,y.length)})," ","of ",o.jsx("span",{className:"font-medium",children:y.length})," results"]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between sm:justify-end sm:gap-4 gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{htmlFor:"rows-per-page",className:"text-sm text-neutral-700 whitespace-nowrap",children:"Rows per page"}),o.jsx("select",{id:"rows-per-page",name:"rows-per-page",className:"block w-auto pl-3 pr-8 py-1 text-sm border border-neutral-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",value:d,onChange:S,children:[5,10,25,50].map(T=>o.jsx("option",{value:T,children:T},T))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>j(c-1),disabled:c===1,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(_ue,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>j(c+1),disabled:c===v,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx($ue,{className:"h-5 w-5"})})]})]})]})]})}function _ue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}function $ue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}function se({isOpen:t,onClose:e,title:r,size:n="md",children:a,footer:s=null}){const i={sm:"sm:max-w-lg",md:"sm:max-w-xl",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl",xxxl:"sm:max-w-7xl",full:"sm:max-w-full sm:h-screen"};return o.jsx(qp.Root,{show:t,as:w.Fragment,children:o.jsx(A1,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:e,children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-2",children:[o.jsx(qp.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx(A1.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),o.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:""}),o.jsx(qp.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:o.jsxs("div",{className:`inline-block w-full align-bottom sm:align-middle bg-white rounded-lg text-left  shadow-xl transform transition-all sm:my-8 ${i[n]}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[o.jsx(A1.Title,{as:"h3",className:"text-lg font-medium text-neutral-900",children:r}),o.jsxs("button",{type:"button",className:"rounded-md text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:e,children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(o3,{className:"h-6 w-6","aria-hidden":"true"})]})]}),o.jsx("div",{className:"p-3 sm:px-6 sm:py-4",children:a}),s&&o.jsx("div",{className:"px-6 py-3 bg-neutral-50 border-t border-neutral-200",children:s})]})})]})})})}const F0="https://staging-engine.testthelink.online",Rue=[],Mue={departments:Rue,department:null,isLoading:!1,error:null},ar=L("departments/fetchDepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${F0}/department`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),eg=L("departments/addDepartment",async(t,e)=>{try{const r=await fetch(`${F0}/department`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),tg=L("departments/updateDepartment",async(t,e)=>{try{const r=await fetch(`${F0}/department/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),rg=L("department/deleteDepartment",async(t,e)=>{try{const r=await fetch(`${F0}/department/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),D6=xe({name:"departments",initialState:Mue,reducers:{setDepartment:(t,e)=>{t.department=e.payload},resetDepartmentState:t=>{t.department=null,t.error=null}},extraReducers:t=>{t.addCase(ar.pending,e=>{e.isLoading=!0}).addCase(ar.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=r.payload,e.error=null}).addCase(ar.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(eg.pending,e=>{e.isLoading=!0}).addCase(eg.fulfilled,(e,r)=>{e.isLoading=!1,e.departments.push(r.payload),e.error=null}).addCase(eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(tg.pending,e=>{e.isLoading=!0}).addCase(tg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.departments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.departments[n]=r.payload),e.error=null}).addCase(tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(rg.pending,e=>{e.isLoading=!0}).addCase(rg.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=e.departments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setDepartment:y8e,resetDepartmentState:b8e}=D6.actions,Lue=D6.reducer;function Fue(){const t=le(),{departments:e,isLoading:r,error:n}=V(N=>N.departments),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(ar())},[t]);const m=oe().shape({Code:E().required("Department code is required").max(10,"Department code must be at most 10 characters").test("unique-code","Department code already exists",function(N){return N?!e.some(j=>j.Code.trim().toLowerCase()===N.trim().toLowerCase()&&(!i||j.ID!==i.ID)):!0}),Name:E().required("Department name is required").max(100,"Department name must be at most 100 characters").test("unique-name","Department name already exists",function(N){return N?!e.some(j=>j.Name.trim().toLowerCase()===N.trim().toLowerCase()&&(!i||j.ID!==i.ID)):!0})}),p=()=>{l(null),s(!0)},h=N=>{l(N),s(!0)},b=N=>{f(N),u(!0)},g=()=>{d&&(t(rg(d.ID)),u(!1),f(null))},x=(N,{resetForm:C})=>{t(i?tg({...N,ID:i.ID}):eg(N)),s(!1),C()},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Department Name",sortable:!0}],v=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Departments"}),o.jsx("p",{children:"Manage LGU departments and their details"})]}),o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Department"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:v,loading:r})}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Department":"Add Department",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:m,onSubmit:x,children:({values:N,errors:C,touched:j,handleChange:S,handleBlur:k,isSubmitting:T})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Department Code",name:"Code",type:"text",required:!0,placeholder:"Enter department code",value:N.Code,onChange:S,onBlur:k,error:C.Code,touched:j.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Department Name",name:"Name",type:"text",required:!0,placeholder:"Enter department name",value:N.Name,onChange:S,onBlur:k,error:C.Name,touched:j.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the department"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.departmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const B0="https://staging-engine.testthelink.online",Bue=[],que={currencies:Bue,currency:null,isLoading:!1,error:null},ng=L("currencies/fetchCurrencies",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${B0}/currency`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ag=L("currencies/addCurrency",async(t,e)=>{try{const r=await fetch(`${B0}/currency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),sg=L("currencies/updateCurrency",async(t,e)=>{try{const r=await fetch(`${B0}/currency/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),og=L("currency/deleteCurrency",async(t,e)=>{try{const r=await fetch(`${B0}/currency/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),E6=xe({name:"currencies",initialState:que,reducers:{setCurrency:(t,e)=>{t.currency=e.payload},resetCurrencyState:t=>{t.currency=null,t.error=null}},extraReducers:t=>{t.addCase(ng.pending,e=>{e.isLoading=!0}).addCase(ng.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=r.payload,e.error=null}).addCase(ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ag.pending,e=>{e.isLoading=!0}).addCase(ag.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies.push(r.payload),e.error=null}).addCase(ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sg.pending,e=>{e.isLoading=!0}).addCase(sg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.currencies.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.currencies[n]=r.payload),e.error=null}).addCase(sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(og.pending,e=>{e.isLoading=!0}).addCase(og.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=e.currencies.filter(n=>n.ID!==r.payload),e.error=null}).addCase(og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setCurrency:x8e,resetCurrencyState:v8e}=E6.actions,Vue=E6.reducer,Uue=(t=[],e=null)=>oe().shape({Code:E().required("Code is required").max(3,"Code must be exactly 3 characters").min(3,"Code must be exactly 3 characters").matches(/^[A-Z]{3}$/,"Code must be 3 uppercase letters (ISO 4217)").test("unique-code","Code already exists",function(r){if(!r)return!0;const n=r.trim().toUpperCase();return!t.some(s=>s.Code.trim().toUpperCase()===n&&(!e||s.ID!==e.ID))}),Name:E().required("Name is required").max(100,"Name must be at most 100 characters").test("unique-name","Name already exists",function(r){if(!r)return!0;const n=r.trim().toLowerCase();return!t.some(s=>s.Name.trim().toLowerCase()===n&&(!e||s.ID!==e.ID))})});function zue(){const t=le(),{currencies:e,isLoading:r,error:n}=V(v=>v.currencies),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(ng())},[t]);const m=()=>{l(null),s(!0)},p=v=>{l(v),s(!0)},h=v=>{f(v),u(!0)},b=async()=>{try{d&&(t(og(d.ID)),u(!1),f(null)),q.success("Currency deleted successfully.")}catch(v){console.error("Failed to delete currency:",v),q.error("Failed to delete currency. Please try again.")}},g=(v,{resetForm:N})=>{try{t(i?sg({...v,ID:i.ID}):ag(v)),q.success("Currency saved successfully.")}catch(C){console.error("Failed to save currency:",C),q.error("Failed to save currency. Please try again.")}finally{s(!1),N()}},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Currency Name",sortable:!0}],y=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Currencies"}),o.jsx("p",{children:"Manage LGU currencies and their details"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Currency"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x,data:e,actions:y,loading:r})}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Currency":"Add Currency",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:Uue(e,i),onSubmit:g,children:({values:v,errors:N,touched:C,handleChange:j,handleBlur:S,isSubmitting:k})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter currency code",value:v.Code,onChange:j,onBlur:S,error:N.Code,touched:C.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter currency name",value:v.Name,onChange:j,onBlur:S,error:N.Name,touched:C.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the currency"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const q0="https://staging-engine.testthelink.online",Wue=[],Hue={subdepartments:Wue,subdepartment:null,isLoading:!1,error:null},Co=L("subdepartments/fetchSubdepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${q0}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch departments");return a.items}catch(r){return e.rejectWithValue(r.message)}}),ig=L("subdepartments/addSubdepartment",async(t,e)=>{try{const r=await fetch(`${q0}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add subdepartment");return n}catch(r){return e.rejectWithValue(r.message)}}),lg=L("subdepartments/updateSubdepartment",async(t,e)=>{try{const r=await fetch(`${q0}/subDepartment/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update department");return n}catch(r){return e.rejectWithValue(r.message)}}),cg=L("subdepartments/deleteSubdepartment",async(t,e)=>{try{const r=await fetch(`${q0}/subDepartment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete department")}return t}catch(r){return e.rejectWithValue(r.message)}}),P6=xe({name:"subdepartments",initialState:Hue,reducers:{setSubdepartment:(t,e)=>{t.subdepartment=e.payload},resetSubdepartmentState:t=>{t.subdepartment=null,t.error=null}},extraReducers:t=>{t.addCase(Co.pending,e=>{e.isLoading=!0}).addCase(Co.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=r.payload,e.error=null}).addCase(Co.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ig.pending,e=>{e.isLoading=!0}).addCase(ig.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments.push(r.payload),e.error=null}).addCase(ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lg.pending,e=>{e.isLoading=!0}).addCase(lg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subdepartments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subdepartments[n]=r.payload),e.error=null}).addCase(lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cg.pending,e=>{e.isLoading=!0}).addCase(cg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=e.subdepartments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubdepartment:j8e,resetSubdepartmentState:w8e}=P6.actions,Gue=P6.reducer;var O6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},X_=U.createContext&&U.createContext(O6),Yue=["attr","size","title"];function Kue(t,e){if(t==null)return{};var r=Jue(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$x.apply(this,arguments)}function Z_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z_(Object(r),!0).forEach(function(n){Xue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xue(t,e,r){return e=Zue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zue(t){var e=Que(t,"string");return typeof e=="symbol"?e:e+""}function Que(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _6(t){return t&&t.map((e,r)=>U.createElement(e.tag,Rx({key:r},e.attr),_6(e.child)))}function ND(t){return e=>U.createElement(ede,$x({attr:Rx({},t.attr)},e),_6(t.child))}function ede(t){var e=r=>{var{attr:n,size:a,title:s}=t,i=Kue(t,Yue),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),U.createElement("svg",$x({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:Rx(Rx({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&U.createElement("title",null,s),t.children)};return X_!==void 0?U.createElement(X_.Consumer,null,r=>e(r)):e(O6)}function tde(t){return ND({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function rde(t){return ND({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function nde(t){return ND({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const pt=({options:t,label:e,placeholder:r="Search...",error:n,touched:a,required:s=!1,onSelect:i,selectedValue:l})=>{const[c,u]=w.useState(""),d=c===""?t:t.filter(m=>{var p;return(p=m==null?void 0:m.label)==null?void 0:p.toLowerCase().includes(c.toLowerCase())}),f=()=>{i(""),u("")};return o.jsx("div",{className:"w-full form-group",children:o.jsx(Il,{value:l,onChange:i,children:({open:m})=>o.jsxs(o.Fragment,{children:[o.jsxs(Il.Label,{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,s&&o.jsx("span",{className:"text-red-500",children:" *"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-md bg-white text-left shadow-sm sm:text-sm transition-all duration-200 ${a&&n?"border border-red-500":"border border-gray-300"}`,children:[o.jsx(Il.Input,{className:"w-full py-2.5 pl-3 pr-10 text-sm leading-5 focus-visible:outline-none text-gray-900",placeholder:r,displayValue:p=>{var h;return((h=t.find(b=>b.value===p))==null?void 0:h.label)||""},onChange:p=>u(p.target.value)}),o.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[l&&o.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(nde,{className:"h-4 w-4"})}),o.jsx(Il.Button,{className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(tde,{className:`h-5 w-5 transition-transform duration-200 ${m?"rotate-180":""}`})})]})]}),a&&n&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),o.jsx(Il.Options,{className:"absolute z-[500] mt-1.5 w-full max-h-60 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm animate-fadeIn",children:d.length===0&&c!==""?o.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-500",children:"No results found"}):d.map(p=>o.jsx(Il.Option,{className:({active:h,selected:b})=>`relative cursor-default select-none py-2 pl-2 pr-4 transition-colors ${h?"bg-blue-50 text-blue-700":""}
                         ${b?"font-medium text-blue-900 bg-blue-100":"font-normal text-gray-900"}
                         `,value:p.value,children:o.jsx("span",{children:p.label})},p.value))})]})]})})})};function ade(){const t=le(),{subdepartments:e,isLoading:r}=V(C=>C.subdepartments||{}),{departments:n}=V(C=>C.departments),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(Co()),t(ar())},[t]);const m=oe().shape({Code:E().required("Subdepartment code is required").max(15,"Subdepartment code must be at most 15 characters").test("unique-code","Subdepartment code already exists in this department",function(C){if(!C||!this.parent.DepartmentID)return!0;const j=C.trim().toLowerCase();return!(e==null?void 0:e.some(k=>k.Code.trim().toLowerCase()===j&&k.DepartmentID===this.parent.DepartmentID&&(!i||k.ID!==i.ID)))}),Name:E().required("Subdepartment name is required").max(100,"Subdepartment name must be at most 100 characters").test("unique-name","Subdepartment name already exists in this department",function(C){if(!C||!this.parent.DepartmentID)return!0;const j=C.trim().toLowerCase();return!(e==null?void 0:e.some(k=>k.Name.trim().toLowerCase()===j&&k.DepartmentID===this.parent.DepartmentID&&(!i||k.ID!==i.ID)))}),DepartmentID:G().required("Department is required")}),p=e.map(C=>{var j;return{...C,departmentName:((j=n.find(S=>S.ID===C.DepartmentID))==null?void 0:j.Name)||"N/A"}}),h=()=>{l(null),s(!0)},b=C=>{l(C),s(!0)},g=C=>{f(C),u(!0)},x=async()=>{try{d&&(await t(cg(d.ID)).unwrap(),q.success("Subdepartment deleted successfully."))}catch(C){console.error("Failed to delete subdepartment:",C),q.error("Failed to delete subdepartment. Please try again.")}finally{f(null),u(!1)}},y=async(C,{resetForm:j})=>{var T;const S=((T=n.find(A=>A.ID===Number(C.DepartmentID)))==null?void 0:T.Name)||"",k={...C,departmentName:S};try{t(i?lg({...k,ID:i.ID}):ig(k)),q.success("Subdepartment saved successfully.")}catch(A){console.log(A),q.error("Failed to save subdepartment. Please try again.")}finally{s(!1),j()}},v=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Subdepartment Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0}],N=[{icon:Ae,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Subdepartments"}),o.jsx("p",{children:"Manage LGU subdepartments and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Subdepartment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:v,data:p,actions:N,loading:r})}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Subdepartment":"Add Subdepartment",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",DepartmentID:(i==null?void 0:i.DepartmentID)||""},validationSchema:m,onSubmit:y,children:({values:C,errors:j,touched:S,handleChange:k,handleBlur:T,isSubmitting:A,setFieldValue:D})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Subdepartment Code",name:"Code",type:"text",required:!0,placeholder:"Enter subdepartment code",value:C.Code,onChange:k,onBlur:T,error:j.Code,touched:S.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Subdepartment Name",name:"Name",type:"text",required:!0,placeholder:"Enter subdepartment name",value:C.Name,onChange:k,onBlur:T,error:j.Name,touched:S.Name}),o.jsx(pt,{label:"Department",name:"DepartmentID",type:"select",required:!0,selectedValue:C.DepartmentID,onSelect:P=>D("DepartmentID",P),onBlur:T,error:j.DepartmentID,touched:S.DepartmentID,options:n.map(P=>({value:P.ID,label:P.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:A,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the subdepartment"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.subdepartmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const V0="https://staging-engine.testthelink.online",sde=[],ode={users:sde,user:null,isLoading:!1,error:null},Yd=L("users/fetchUsers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${V0}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a.items}catch(r){return e.rejectWithValue(r.message)}}),ug=L("users/addUser",async(t,e)=>{try{const r=await fetch(`${V0}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to add user");return n}catch(r){return e.rejectWithValue(r.message)}}),dg=L("users/updateUser",async(t,e)=>{try{const r=await fetch(`${V0}/users/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to update user");return n}catch(r){return e.rejectWithValue(r.message)}}),fg=L("users/deleteUser",async(t,e)=>{try{const r=await fetch(`${V0}/users/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$6=xe({name:"users",initialState:ode,reducers:{setUser:(t,e)=>{t.user=e.payload},resetUserState:t=>{t.user=null,t.error=null}},extraReducers:t=>{t.addCase(Yd.pending,e=>{e.isLoading=!0}).addCase(Yd.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload,e.error=null}).addCase(Yd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ug.pending,e=>{e.isLoading=!0}).addCase(ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.users)||(e.users=[]),e.users.push(r.payload),e.error=null}).addCase(ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dg.pending,e=>{e.isLoading=!0}).addCase(dg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.users.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.users[n]=r.payload),e.error=null}).addCase(dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fg.pending,e=>{e.isLoading=!0}).addCase(fg.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(n=>n.ID!==r.payload),e.error=null}).addCase(fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setUser:C8e,resetUserState:N8e}=$6.actions,ide=$6.reducer,U0="https://staging-engine.testthelink.online",lde=[],cde={employees:lde,employee:null,isLoading:!1,error:null},on=L("employees/fetchEmployees",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${U0}/employee`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),mg=L("employees/addEmployee",async(t,e)=>{try{const r=await fetch(`${U0}/employee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add employee");return n}catch(r){return e.rejectWithValue(r.message)}}),hg=L("employees/updateEmployee",async(t,e)=>{try{const r=await fetch(`${U0}/employee/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),pg=L("employees/deleteEmployee",async(t,e)=>{try{const r=await fetch(`${U0}/employee/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),R6=xe({name:"employees",initialState:cde,reducers:{setEmployee:(t,e)=>{t.employee=e.payload},resetEmployeeState:t=>{t.employee=null,t.error=null}},extraReducers:t=>{t.addCase(on.pending,e=>{e.isLoading=!0}).addCase(on.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=r.payload,e.error=null}).addCase(on.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mg.pending,e=>{e.isLoading=!0}).addCase(mg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees.push(r.payload),e.error=null}).addCase(mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hg.pending,e=>{e.isLoading=!0}).addCase(hg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employees.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.employees[n]=r.payload),e.error=null}).addCase(hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pg.pending,e=>{e.isLoading=!0}).addCase(pg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=e.employees.filter(n=>n.ID!==r.payload),e.error=null}).addCase(pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setEmployee:S8e,resetEmployeeState:A8e}=R6.actions,ude=R6.reducer,z0="https://staging-engine.testthelink.online",dde=[],cc=L("userroles/fetchUserroles",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${z0}/userAccess`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),gg=L("userroles/addUserrole",async(t,e)=>{try{const r=await fetch(`${z0}/userAccess`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),uA=L("userroles/updateUserrole",async(t,e)=>{try{const r=await fetch(`${z0}/userAccess/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),yg=L("userroles/deleteUserrole",async(t,e)=>{try{const r=await fetch(`${z0}/userAccess/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),fde=xe({name:"userroles",initialState:{userroles:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(cc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cc.fulfilled,(e,r)=>{e.isLoading=!1,e.userroles=Array.isArray(r.payload)?r.payload:[]}).addCase(cc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch user roles",console.warn("Failed to fetch user roles, using mock data.",e.error),e.userroles=dde}).addCase(gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles.push(r.payload)}).addCase(gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add user role",console.error("Failed to add user role:",e.error)}).addCase(uA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.userroles.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.userroles)||(e.userroles=[]),e.userroles[n]=r.payload)}).addCase(yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles=e.userroles.filter(n=>n.ID!==r.payload)}).addCase(yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete user role",console.error("Failed to delete user role:",e.error)})}}),mde=fde.reducer,hde=oe().shape({UserName:E().required("User name is required"),UserAccessID:E().required("User Access is required"),Password:E().required("Password is required").min(6,"Password must be at least 6 characters"),ConfirmPassword:E().oneOf([il("Password"),null],"Passwords must match").required("Confirm Password is required"),EmployeeID:E().required("Choose Employee is required")});function pde(){const t=le(),{users:e,isLoading:r}=V(M=>M.users),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null),{userroles:b,isLoading:g}=V(M=>M.userroles),x=b.map(M=>({value:M.ID,label:M.Description})),{employees:y,isLoading:v}=V(M=>M.employees),N=y.map(M=>({value:M.ID,label:`${M.FirstName} ${M.LastName}`}));w.useEffect(()=>{t(Yd()),t(on()),t(cc())},[t]);const C=()=>{i(null),a(!0)},j=M=>{i(M),a(!0)},S=M=>{d(M),c(!0)},k=async()=>{try{u&&(await t(fg(u.ID)).unwrap(),c(!1),d(null),q.success("User deleted successfully"))}catch(M){console.error("Failed to delete user:",M),q.error("Failed to delete user")}},T=async(M,{resetForm:$,setErrors:R,setSubmitting:F})=>{const z={...M};try{s?await t(dg({...z,ID:s.ID})).unwrap():await t(ug(z)).unwrap(),t(Yd()),q.success("User saved successfully.")}catch(O){console.log(O),R({general:"Unexpected error occurred."}),q.error("Failed to save user. Please try again.")}finally{$(),a(!1),F(!1)}},A=[{key:"UserName",header:"User Name",sortable:!0},{key:"UserAccessValue",header:"User Access",sortable:!0}],D=[{icon:Ae,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:S,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],P=e.map(M=>{var $;return{...M,UserAccessValue:($=b.find(R=>R.ID===M.UserAccessID))==null?void 0:$.Description}});return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Users"}),o.jsx("p",{children:"Manage system users and their access rights"})]}),o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:A,data:P,actions:D,loading:r||g||v})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit User":"Add User",children:o.jsx($e,{initialValues:{UserName:(s==null?void 0:s.UserName)||"",UserAccessID:(s==null?void 0:s.UserAccessID)||"",Password:"",ConfirmPassword:"",EmployeeID:(s==null?void 0:s.EmployeeID)||""},validationSchema:hde,onSubmit:T,children:({values:M,errors:$,touched:R,handleChange:F,handleBlur:z,isSubmitting:O})=>o.jsxs(Le,{className:"space-y-4",children:[$.general&&o.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded text-sm",children:$.general}),o.jsx(I,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:M.UserName,onChange:F,onBlur:z,error:$.UserName,touched:R.UserName}),o.jsx(I,{className:"p-3 focus:outline-none",label:"User Access",name:"UserAccessID",type:"select",required:!0,value:M.UserAccessID,onChange:F,onBlur:z,error:$.UserAccessID,touched:R.UserAccessID,options:x}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:M.Password,onChange:F,onBlur:z,error:$.Password,touched:R.Password}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Confirm Password",name:"ConfirmPassword",type:"password",required:!0,placeholder:"Confirm password",value:M.ConfirmPassword,onChange:F,onBlur:z,error:$.ConfirmPassword,touched:R.ConfirmPassword}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Choose Employee",name:"EmployeeID",type:"select",required:!0,value:M.EmployeeID,onChange:F,onBlur:z,error:$.EmployeeID,touched:R.EmployeeID,options:N}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:O,className:"btn btn-primary",children:O?"Saving...":s?"Update":"Save"})]})]})})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the user"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.UserName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:k,className:"btn btn-danger",children:"Delete"})]})]})]})}const W0="https://staging-engine.testthelink.online",gde=[],yde={accounts:gde,account:null,isLoading:!1,error:null},br=L("chartOfAccounts/fetchAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${W0}/chartofAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),bg=L("chartOfAccounts/addAccount",async(t,e)=>{try{const r=await fetch(`${W0}/chartofAccounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xg=L("chartOfAccounts/updateAccount",async(t,e)=>{try{const r=await fetch(`${W0}/chartofAccounts/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),vg=L("chartOfAccounts/deleteAccount",async(t,e)=>{try{const r=await fetch(`${W0}/chartofAccounts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),M6=xe({name:"chartOfAccounts",initialState:yde,reducers:{setAccount:(t,e)=>{t.account=e.payload},resetAccountState:t=>{t.account=null,t.error=null}},extraReducers:t=>{t.addCase(br.pending,e=>{e.isLoading=!0}).addCase(br.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts=r.payload,e.error=null}).addCase(br.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(bg.pending,e=>{e.isLoading=!0}).addCase(bg.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts.push(r.payload),e.error=null}).addCase(bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xg.pending,e=>{e.isLoading=!0}).addCase(xg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accounts.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accounts[n]=r.payload),e.error=null}).addCase(xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.accounts)||(e.accounts=[]),e.accounts=e.accounts.filter(n=>n.ID!==r.payload)}).addCase(vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete account",console.error("Failed to delete account:",e.error)})}}),{setAccount:k8e,resetAccountState:I8e}=M6.actions,bde=M6.reducer,H0="https://staging-engine.testthelink.online",xde=[],vde={accountGroups:xde,accountGroup:null,isLoading:!1,error:null},Mi=L("accountGroups/fetchAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${H0}/accountType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),jg=L("accountGroups/addAccountGroup",async(t,e)=>{try{const r=await fetch(`${H0}/accountType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wg=L("accountGroups/updateAccountGroup",async(t,e)=>{try{const r=await fetch(`${H0}/accountType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cg=L("accountGroups/deleteAccountGroup",async(t,e)=>{try{const r=await fetch(`${H0}/accountType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),L6=xe({name:"accountGroups",initialState:vde,reducers:{setAccountGroup:(t,e)=>{t.accountGroup=e.payload},resetAccountGroupState:t=>{t.accountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Mi.pending,e=>{e.isLoading=!0}).addCase(Mi.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=r.payload,e.error=null}).addCase(Mi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jg.pending,e=>{e.isLoading=!0}).addCase(jg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups.push(r.payload),e.error=null}).addCase(jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wg.pending,e=>{e.isLoading=!0}).addCase(wg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accountGroups[n]=r.payload),e.error=null}).addCase(wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cg.pending,e=>{e.isLoading=!0}).addCase(Cg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=e.accountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setAccountGroup:T8e,resetAccountGroupState:D8e}=L6.actions,jde=L6.reducer,G0="https://staging-engine.testthelink.online",wde=[],Cde={majorAccountGroups:wde,majorAccountGroup:null,isLoading:!1,error:null},Li=L("majorAccountGroups/fetchMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${G0}/accountSubType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),Ng=L("majorAccountGroups/addMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${G0}/accountSubType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Sg=L("majorAccountGroups/updateMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${G0}/accountSubType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Ag=L("majorAccountGroups/deleteMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${G0}/accountSubType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),F6=xe({name:"majorAccountGroups",initialState:Cde,reducers:{setMajorAccountGroup:(t,e)=>{t.majorAccountGroup=e.payload},resetMajorAccountGroupState:t=>{t.majorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Li.pending,e=>{e.isLoading=!0}).addCase(Li.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=r.payload,e.error=null}).addCase(Li.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ng.pending,e=>{e.isLoading=!0}).addCase(Ng.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups.push(r.payload),e.error=null}).addCase(Ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Sg.pending,e=>{e.isLoading=!0}).addCase(Sg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.majorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.majorAccountGroups[n]=r.payload),e.error=null}).addCase(Sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ag.pending,e=>{e.isLoading=!0}).addCase(Ag.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=e.majorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMajorAccountGroup:E8e,resetMajorAccountGroupState:P8e}=F6.actions,Nde=F6.reducer,Y0="https://staging-engine.testthelink.online",Sde=[],Ade={subMajorAccountGroups:Sde,subMajorAccountGroup:null,isLoading:!1,error:null},uc=L("subMajorAccountGroups/fetchSubMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Y0}/accountCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched sub major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch sub major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),kg=L("subMajorAccountGroups/addSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Y0}/accountCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Ig=L("subMajorAccountGroups/updateSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Y0}/accountCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update sub major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Tg=L("subMajorAccountGroups/deleteSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Y0}/accountCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete sub major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),B6=xe({name:"subMajorAccountGroups",initialState:Ade,reducers:{setSubMajorAccountGroup:(t,e)=>{t.subMajorAccountGroup=e.payload},resetSubMajorAccountGroupState:t=>{t.subMajorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(uc.pending,e=>{e.isLoading=!0}).addCase(uc.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=r.payload,e.error=null}).addCase(uc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(kg.pending,e=>{e.isLoading=!0}).addCase(kg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups.push(r.payload),e.error=null}).addCase(kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ig.pending,e=>{e.isLoading=!0}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subMajorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subMajorAccountGroups[n]=r.payload),e.error=null}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Tg.pending,e=>{e.isLoading=!0}).addCase(Tg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=e.subMajorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubMajorAccountGroup:O8e,resetSubMajorAccountGroupState:_8e}=B6.actions,kde=B6.reducer,Ide=({accountGroups:t,majorAccountGroups:e,subMajorAccountGroups:r})=>{var i,l;const{values:n,setFieldValue:a}=mq(),s=(c,u)=>{const d=u.find(f=>f.ID===c);return d?d.Code:""};return w.useEffect(()=>{if(n.AccountTypeID||n.AccountSubTypeID||n.AccountCategoryID||n.Code){const c=s(n.AccountTypeID,t),u=s(n.AccountSubTypeID,e),d=s(n.AccountCategoryID,r),f=`${c}-${u}-${d}-${n.Code}`;a("AccountCode",f)}},[n.AccountTypeID,n.AccountSubTypeID,n.AccountCategoryID,n.Code]),o.jsx(I,{className:"p-3 focus:outline-none bg-gray-200 cursor-not-allowed",label:"Account No",name:"AccountCode",type:"text",required:!0,placeholder:"e.g., 03-02-02-65465",value:n.AccountCode,readOnly:!0,error:(i=n.errors)==null?void 0:i.AccountCode,touched:(l=n.touched)==null?void 0:l.AccountCode})},Tde=oe().shape({AccountCode:E().required("Account no is required").max(20,"Account no must be at most 20 characters"),Code:E().required("General Ledger Code is required").max(10,"General Ledger Code must be at most 10 characters"),Name:E().required("Account title is required").max(100,"Account title must be at most 100 characters"),Description:E().max(250,"Description must be at most 250 characters"),AccountTypeID:E().required("Account group is required"),AccountSubTypeID:E().required("Major account group is required"),AccountCategoryID:E().required("Sub Major account group is required"),NormalBalance:E().required("Normal balance is required")});function Dde({initialData:t,onClose:e}){const r=le(),{accountGroups:n}=V(d=>d.accountGroups),{majorAccountGroups:a}=V(d=>d.majorAccountGroups),{subMajorAccountGroups:s}=V(d=>d.subMajorAccountGroups),[i,l]=w.useState(!1);w.useEffect(()=>{r(Mi()),r(Li()),r(uc())},[r]);const c=t?{...t}:{AccountCode:"",Code:"",Name:"",Description:"",AccountTypeID:"",AccountSubTypeID:"",AccountCategoryID:"",NormalBalance:""},u=async d=>{l(!0);const f=t?xg({...d,ID:t.ID}):bg(d);r(f).unwrap().then(()=>{q.success("Account updated successfully"),r(br()),e()}).catch(m=>{console.error("Error submitting account:",m),q.error("Failed to submit account. Please try again.")}).finally(()=>{l(!1)})};return o.jsx($e,{initialValues:c,validationSchema:Tde,onSubmit:u,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,isValid:b,setFieldValue:g})=>{var x;return o.jsxs(Le,{className:"space-y-4",children:[o.jsx("div",{className:"",children:o.jsx(Ide,{accountGroups:n,majorAccountGroups:a,subMajorAccountGroups:s})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"General Ledger Code",name:"Code",type:"text",required:!0,placeholder:"e.g., 65465",value:d.Code,onChange:p,onBlur:h,error:f.Code,touched:m.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Title",name:"Name",type:"text",required:!0,placeholder:"Enter account title",value:d.Name,onChange:p,onBlur:h,error:f.Name,touched:m.Name}),o.jsx(pt,{label:"Account Group",options:n.map(y=>({label:`${y.Name} (${y.Code})`,value:y.ID})),placeholder:"Select Account Group",onSelect:y=>{g("AccountTypeID",y||"")},selectedValue:d.AccountTypeID||"",required:!0,error:f.AccountTypeID,touched:m.AccountTypeID}),o.jsx(pt,{label:"Major Account Group",options:a.map(y=>({label:`${y.Name} (${y.Code})`,value:y.ID})),placeholder:"Select Major Account Group",onSelect:y=>{g("AccountSubTypeID",y||"")},selectedValue:((x=a.find(y=>y.ID===d.AccountSubTypeID))==null?void 0:x.ID)||"",required:!0,error:f.AccountSubTypeID,touched:m.AccountSubTypeID}),o.jsx(pt,{label:"Sub Major Account Group",options:s.map(y=>({label:`${y.Name} (${y.Code})`,value:y.ID})),placeholder:"Select Sub Major Account Group",onSelect:y=>{g("AccountCategoryID",y||"")},selectedValue:d.AccountCategoryID||"",required:!0,error:f.AccountCategoryID,touched:m.AccountCategoryID})]}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"textarea",placeholder:"Enter account description",value:d.Description,onChange:p,onBlur:h,error:f.Description,touched:m.Description,rows:2}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsx(I,{className:"p-3 focus:outline-none",label:"Normal Balance",name:"NormalBalance",type:"select",required:!0,value:d.NormalBalance,onChange:p,onBlur:h,error:f.NormalBalance,touched:m.NormalBalance,options:[{value:"Debit",label:"Debit"},{value:"Credit",label:"Credit"}]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i||!b,className:"btn btn-primary",children:i?"Saving...":t?"Update":"Save"})]})]})}})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pde=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Q_=t=>{const e=Pde(t);return e.charAt(0).toUpperCase()+e.slice(1)},q6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Ode=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _de={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>w.createElement("svg",{ref:c,..._de,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:q6("lucide",a),...!s&&!Ode(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=(t,e)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement($de,{ref:s,iconNode:e,className:q6(`lucide-${Ede(Q_(t))}`,`lucide-${t}`,n),...a}));return r.displayName=Q_(t),r};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],V6=er("building",Rde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],SD=er("calendar",Mde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"M20 4L9 15",key:"1qkx8z"}],["path",{d:"M21 19L3 19",key:"100sma"}],["path",{d:"M9 15L4 10",key:"9zxff7"}]],Fde=er("check-line",Lde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]],qde=er("circle-arrow-left",Bde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ude=er("circle-x",Vde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],U6=er("credit-card",zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Hde=er("eye-off",Wde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z6=er("eye",Gde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Kde=er("file-text",Yde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Ts=er("paperclip",Jde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],xa=er("pencil",Xde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],K0=er("plus",Zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Mx=er("printer",Qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tfe=er("save",efe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],nfe=er("square-pen",rfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],nr=er("trash-2",afe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Ga=er("trash",sfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],W6=er("upload",ofe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],J0=er("user",ife);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AD=er("users",lfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],H6=er("x",cfe);function ufe(){const t=le(),{accounts:e,isLoading:r}=V(y=>y.chartOfAccounts),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(br())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(vg(u.ID)).unwrap(),c(!1),d(null),q.success("Account deleted successfully")}catch(y){console.error("Failed to delete account:",y),q.error("Failed to delete account. Please try again.")}},b=()=>{a(!1),i(null)},g=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NormalBalance",header:"Normal Balance",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Chart of Accounts"}),o.jsx("p",{children:"Manage account codes and their settings"})]}),o.jsx("div",{className:"flex gap-4 items-center ",children:o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r})}),o.jsx(se,{isOpen:n,onClose:b,title:s?"Edit Account":"Add Account",size:"lg",children:o.jsx(Dde,{initialData:s,onClose:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the account "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const dfe=oe().shape({Code:E().required("Code is required").max(10,"Code must be at most 10 characters"),Name:E().required("Name is required").max(100,"Name must be at most 100 characters")});function ffe(){const t=le(),{accountGroups:e,isLoading:r,error:n}=V(v=>v.accountGroups),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(Mi())},[t]);const m=()=>{l(null),s(!0)},p=v=>{l(v),s(!0)},h=v=>{f(v),u(!0)},b=async()=>{try{d&&(await t(Cg(d.ID)).unwrap(),q.success("Account group deleted successfully"),u(!1),f(null))}catch(v){console.error("Failed to delete account group:",v),q.error("Failed to delete account group. Please try again.")}},g=async(v,{resetForm:N})=>{try{i?(await t(wg({...v,ID:i.ID})).unwrap(),q.success("Account group updated successfully")):(await t(jg(v)).unwrap(),q.success("Account group added successfully")),t(Mi())}catch(C){console.error("Error submitting account group:",C),q.error("Failed to submit account group. Please try again.")}finally{s(!1),N()}},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Account Type",sortable:!0}],y=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Types"}),o.jsx("p",{children:"Manage account types and their details"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x,data:e,actions:y,loading:r})}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Type":"Add Account Type",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:dfe,onSubmit:g,children:({values:v,errors:N,touched:C,handleChange:j,handleBlur:S,isSubmitting:k})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:v.Code,onChange:j,onBlur:S,error:N.Code,touched:C.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:v.Name,onChange:j,onBlur:S,error:N.Name,touched:C.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const mfe=oe().shape({Code:E().required("Code is required").max(15,"Code must be at most 15 characters"),Name:E().required("Name is required").max(100,"Name must be at most 100 characters"),AccountTypeID:G().required("Account Type is required")});function hfe(){const t=le(),{majorAccountGroups:e,isLoading:r}=V(N=>N.majorAccountGroups),{accountGroups:n}=V(N=>N.accountGroups),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(Li()),t(Mi())},[t]);const m=e.map(N=>{const C=n.find(j=>j.ID===N.AccountTypeID);return{...N,accountTypeName:C?C.Name:"N/A"}}),p=()=>{l(null),s(!0)},h=N=>{l(N),s(!0)},b=N=>{f(N),u(!0)},g=()=>{try{d&&(t(Ag(d.ID)),q.success("Major account group deleted successfully"))}catch(N){console.error("Failed to delete major account group:",N),q.error("Failed to delete major account group. Please try again.")}finally{u(!1),f(null)}},x=async(N,{resetForm:C})=>{var k;const j=((k=n.find(T=>T.ID===Number(N.AccountTypeID)))==null?void 0:k.Name)||"",S={...N,accountTypeName:j};try{i?(await t(Sg({...S,ID:i.ID})).unwrap(),q.success("Major account group updated successfully")):(await t(Ng(S)).unwrap(),q.success("Major account group added successfully")),t(Li())}catch(T){console.error("Failed to save major account group:",T),q.error("Failed to save major account group. Please try again.")}s(!1),C()},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountTypeName",header:"Account Type",sortable:!0}],v=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Sub-Types"}),o.jsx("p",{children:"Manage account sub-types and their details"})]}),o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Sub-Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:m,actions:v,loading:r})}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Sub-Type":"Add Account Sub-Type",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:mfe,onSubmit:x,children:({values:N,errors:C,touched:j,handleChange:S,handleBlur:k,isSubmitting:T})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:N.Code,onChange:S,onBlur:k,error:C.Code,touched:j.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:N.Name,onChange:S,onBlur:k,error:C.Name,touched:j.Name}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountTypeID",type:"select",required:!0,value:N.AccountTypeID,onChange:S,onBlur:k,error:C.AccountTypeID,touched:j.AccountTypeID,options:n.map(A=>({value:A.ID,label:A.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const pfe=oe().shape({Code:E().required("Code is required").max(15,"Code must be at most 15 characters"),Name:E().required("Name is required").max(100,"Name must be at most 100 characters"),AccountSubTypeID:G().required("Account Sub Type is required")});function gfe(){const t=le(),{subMajorAccountGroups:e,isLoading:r}=V(N=>N.subMajorAccountGroups),{majorAccountGroups:n}=V(N=>N.majorAccountGroups),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(uc()),t(Li())},[t]);const m=e.map(N=>{const C=n.find(j=>j.ID===N.AccountSubTypeID);return{...N,accountSubTypeName:C?C.Name:"N/A"}}),p=()=>{l(null),s(!0)},h=N=>{l(N),s(!0)},b=N=>{f(N),u(!0)},g=async()=>{try{d&&(await t(Tg(d.ID)).unwrap(),u(!1),f(null),q.success("Sub major account group deleted successfully"))}catch(N){console.error("Failed to delete sub major account group:",N),q.error("Failed to delete sub major account group. Please try again.")}},x=async(N,{resetForm:C})=>{var k;const j=((k=n.find(T=>T.ID===Number(N.AccountSubTypeID)))==null?void 0:k.Name)||"",S={...N,accountSubTypeName:j};try{i?(await t(Ig({...S,ID:i.ID})).unwrap(),q.success("Sub major account group updated successfully")):(await t(kg(S)).unwrap(),q.success("Sub major account group added successfully")),t(uc())}catch(T){console.error("Failed to save sub major account group:",T),q.error("Failed to save sub major account group. Please try again.")}finally{s(!1),C()}},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountSubTypeName",header:"Account Type",sortable:!0}],v=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Category"}),o.jsx("p",{children:"Manage account categories and their details"})]}),o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:m,actions:v,loading:r})}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Category":"Add Account Category",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:pfe,onSubmit:x,children:({values:N,errors:C,touched:j,handleChange:S,handleBlur:k,isSubmitting:T})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:N.Code,onChange:S,onBlur:k,error:C.Code,touched:j.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:N.Name,onChange:S,onBlur:k,error:C.Name,touched:j.Name}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountSubTypeID",type:"select",required:!0,value:N.AccountSubTypeID,onChange:S,onBlur:k,error:C.AccountSubTypeID,touched:j.AccountSubTypeID,options:n.map(A=>({value:A.ID,label:A.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function yfe({initialData:t,onSubmit:e,onClose:r,provinces:n=[],municipalities:a=[],barangays:s=[],regionOptions:i=[],provinceOptions:l=[],municipalityOptions:c=[],barangayOptions:u=[],industryOptions:d=[],taxCodeOptions:f=[],vendorTypeOptions:m=[],paymentTermsOptions:p=[],modeOfPaymentOptions:h=[]}){const b=oe({Code:E().required("Code is required"),TIN:E().required("TIN is required"),Name:E().required("Name is required"),PhoneNumber:E(),MobileNumber:E().required("Mobile number is required"),EmailAddress:E().email("Invalid email").required("Email is required"),Website:E(),RegionID:E().required("Region is required"),ProvinceID:E().required("Province is required"),MunicipalityID:E().required("Municipality is required"),BarangayID:E().required("Barangay is required"),StreetAddress:E().required("Street address is required"),ZIPCode:E().required("Zip code is required"),TypeID:E().required("Vendor type is required"),RDO:E().required("Revenue District Office is required"),IndustryTypeID:E().required("Industry is required"),TaxCodeID:E().required("Tax code is required"),PaymentTermsID:E().required("Payment terms are required"),Vatable:Lo(),PaymentMethodID:E().required("Mode of payment is required"),ContactPerson:E().required("Contact person is required"),DeliveryLeadTime:G().required("Delivery lead time is required").typeError("Must be a number")}),g=rt({initialValues:t||{Code:"",TIN:"",Name:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",StreetAddress:"",ZIPCode:"",TypeID:"",RDO:"",IndustryTypeID:"",TaxCodeID:"",PaymentTermsID:"",Vatable:!1,PaymentMethodID:"",ContactPerson:"",DeliveryLeadTime:""},validationSchema:b,onSubmit:S=>{e(S)}}),{values:x,handleChange:y,handleBlur:v,errors:N,touched:C,setFieldValue:j}=g;return w.useEffect(()=>{const S=s.find(k=>k.ID.toString()===x.BarangayID);S&&(S.MunicipalityCode&&j("MunicipalityID",S.MunicipalityCode),S.ProvinceCode&&j("ProvinceID",S.ProvinceCode),S.RegionCode&&j("RegionID",S.RegionCode))},[x.BarangayID]),w.useEffect(()=>{const S=a.find(k=>k.ID.toString()===x.MunicipalityID);S&&(S.ProvinceCode&&j("ProvinceID",S.ProvinceCode),S.RegionCode&&j("RegionID",S.RegionCode))},[x.MunicipalityID]),w.useEffect(()=>{const S=n.find(k=>k.ID.toString()===x.ProvinceID);S&&S.RegionCode&&j("RegionID",S.RegionCode)},[x.ProvinceID]),o.jsxs("form",{onSubmit:g.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:x.Code,onChange:y,onBlur:v,error:N.Code,touched:C.Code,required:!0}),o.jsx(I,{label:"TIN",name:"TIN",type:"text",value:x.TIN,onChange:y,onBlur:v,error:N.TIN,touched:C.TIN,required:!0})]}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:x.Name,onChange:y,onBlur:v,error:N.Name,touched:C.Name,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Phone Number",name:"PhoneNumber",type:"text",value:x.PhoneNumber,onChange:y,onBlur:v}),o.jsx(I,{label:"Mobile Number",name:"MobileNumber",type:"text",value:x.MobileNumber,onChange:y,onBlur:v,error:N.MobileNumber,touched:C.MobileNumber,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",value:x.EmailAddress,onChange:y,onBlur:v,error:N.EmailAddress,touched:C.EmailAddress,required:!0}),o.jsx(I,{label:"Website",name:"Website",type:"text",value:x.Website,onChange:y,onBlur:v})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Region",name:"RegionID",type:"select",options:i,value:x.RegionID,onChange:y,onBlur:v,error:N.RegionID,touched:C.RegionID,required:!0}),o.jsx(I,{label:"Province",name:"ProvinceID",type:"select",options:l,value:x.ProvinceID,onChange:y,onBlur:v,error:N.ProvinceID,touched:C.ProvinceID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Municipality",name:"MunicipalityID",type:"select",options:c,value:x.MunicipalityID,onChange:y,onBlur:v,error:N.MunicipalityID,touched:C.MunicipalityID,required:!0}),o.jsx(I,{label:"Barangay",name:"BarangayID",type:"select",options:u,value:x.BarangayID,onChange:y,onBlur:v,error:N.BarangayID,touched:C.BarangayID,required:!0})]}),o.jsx(I,{label:"Street Address",name:"StreetAddress",type:"textarea",value:x.StreetAddress,onChange:y,onBlur:v,error:N.StreetAddress,touched:C.StreetAddress,required:!0}),o.jsx(I,{label:"Zip Code",name:"ZIPCode",type:"text",value:x.ZIPCode,onChange:y,onBlur:v,error:N.ZIPCode,touched:C.ZIPCode,required:!0}),o.jsx("hr",{className:"border-t border-neutral-300 my-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Vendor Type",name:"TypeID",type:"select",options:m,value:x.TypeID,onChange:y,onBlur:v,error:N.TypeID,touched:C.TypeID,required:!0}),o.jsx(I,{label:"Revenue District Office",name:"RDO",type:"text",value:x.RDO,onChange:y,onBlur:v,error:N.RDO,touched:C.RDO,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Industry",name:"IndustryTypeID",type:"select",options:d,value:x.IndustryTypeID,onChange:y,onBlur:v,error:N.IndustryTypeID,touched:C.IndustryTypeID,required:!0}),o.jsx(I,{label:"Tax Code",name:"TaxCodeID",type:"select",options:f,value:x.TaxCodeID,onChange:y,onBlur:v,error:N.TaxCodeID,touched:C.TaxCodeID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:p,value:x.PaymentTermsID,onChange:y,onBlur:v,error:N.PaymentTermsID,touched:C.PaymentTermsID,required:!0}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:x.Vatable,onChange:y,onBlur:v}),o.jsx("label",{htmlFor:"Vatable",children:"Vatable"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:h,value:x.PaymentMethodID,onChange:y,onBlur:v,error:N.PaymentMethodID,touched:C.PaymentMethodID,required:!0}),o.jsx(I,{label:"Contact Person",name:"ContactPerson",type:"text",value:x.ContactPerson,onChange:y,onBlur:v,error:N.ContactPerson,touched:C.ContactPerson,required:!0})]}),o.jsx(I,{label:"Delivery Lead Time (days)",name:"DeliveryLeadTime",type:"number",value:x.DeliveryLeadTime,onChange:y,onBlur:v,error:N.DeliveryLeadTime,touched:C.DeliveryLeadTime,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g.isSubmitting,children:g.isSubmitting?"Saving...":"Save"})]})]})}const X0="https://staging-engine.testthelink.online",bfe=[],Ma=L("vendorDetails/fetchVendorDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${X0}/vendor`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Dg=L("vendorDetails/addVendorDetails",async(t,e)=>{try{const r=await fetch(`${X0}/vendor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),dA=L("vendorDetails/updateVendorDetails",async(t,e)=>{try{const r=await fetch(`${X0}/vendor/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Eg=L("vendorDetails/deleteVendorDetails",async(t,e)=>{try{const r=await fetch(`${X0}/vendor/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),xfe=xe({name:"vendorDetails",initialState:{vendorDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ma.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ma.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Ma.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor details",console.warn("Failed to fetch vendor details, using mock data.",e.error),e.vendorDetails=bfe}).addCase(Dg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails.push(r.payload)}).addCase(Dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor details",console.error("Failed to add vendor details:",e.error)}).addCase(dA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails[n]=r.payload)}).addCase(Eg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails=e.vendorDetails.filter(n=>n.ID!==r.payload)}).addCase(Eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor details",console.error("Failed to delete vendor details:",e.error)})}}),vfe=xfe.reducer,Z0="https://staging-engine.testthelink.online",jfe=[],No=L("regions/fetchRegions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Z0}/region`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Pg=L("regions/addRegion",async(t,e)=>{try{const r=await fetch(`${Z0}/region`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fA=L("regions/updateRegion",async(t,e)=>{try{const r=await fetch(`${Z0}/region/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Og=L("regions/deleteRegion",async(t,e)=>{try{const r=await fetch(`${Z0}/region/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),wfe=xe({name:"regions",initialState:{regions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(No.pending,e=>{e.isLoading=!0,e.error=null}).addCase(No.fulfilled,(e,r)=>{e.isLoading=!1,e.regions=Array.isArray(r.payload)?r.payload:[]}).addCase(No.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch regions",console.warn("Failed to fetch regions, using mock data.",e.error),e.regions=jfe}).addCase(Pg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions.push(r.payload)}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add region",console.error("Failed to add region:",e.error)}).addCase(fA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.regions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.regions)||(e.regions=[]),e.regions[n]=r.payload)}).addCase(Og.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Og.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions=e.regions.filter(n=>n.ID!==r.payload)}).addCase(Og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete region",console.error("Failed to delete region:",e.error)})}}),Cfe=wfe.reducer,Q0="https://staging-engine.testthelink.online",Nfe=[],So=L("provinces/fetchProvinces",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Q0}/province`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),_g=L("provinces/addProvince",async(t,e)=>{try{const r=await fetch(`${Q0}/province`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),mA=L("provinces/updateProvince",async(t,e)=>{try{const r=await fetch(`${Q0}/province/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),$g=L("provinces/deleteProvince",async(t,e)=>{try{const r=await fetch(`${Q0}/province/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Sfe=xe({name:"provinces",initialState:{provinces:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(So.pending,e=>{e.isLoading=!0,e.error=null}).addCase(So.fulfilled,(e,r)=>{e.isLoading=!1,e.provinces=Array.isArray(r.payload)?r.payload:[]}).addCase(So.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch provinces",console.warn("Failed to fetch provinces, using mock data.",e.error),e.provinces=Nfe}).addCase(_g.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces.push(r.payload)}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add province",console.error("Failed to add province:",e.error)}).addCase(mA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.provinces.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.provinces)||(e.provinces=[]),e.provinces[n]=r.payload)}).addCase($g.pending,e=>{e.isLoading=!0,e.error=null}).addCase($g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces=e.provinces.filter(n=>n.ID!==r.payload)}).addCase($g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete province",console.error("Failed to delete province:",e.error)})}}),Afe=Sfe.reducer,ej="https://staging-engine.testthelink.online",kfe=[],Ao=L("municipalities/fetchMunicipalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ej}/municipality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Rg=L("municipalities/addMunicipality",async(t,e)=>{try{const r=await fetch(`${ej}/municipality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),hA=L("municipalities/updateMunicipality",async(t,e)=>{try{const r=await fetch(`${ej}/municipality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Mg=L("municipalities/deleteMunicipality",async(t,e)=>{try{const r=await fetch(`${ej}/municipality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ife=xe({name:"municipalities",initialState:{municipalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ao.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ao.fulfilled,(e,r)=>{e.isLoading=!1,e.municipalities=Array.isArray(r.payload)?r.payload:[]}).addCase(Ao.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch municipalities",console.warn("Failed to fetch municipalities, using mock data.",e.error),e.municipalities=kfe}).addCase(Rg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities.push(r.payload)}).addCase(Rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add municipality",console.error("Failed to add municipality:",e.error)}).addCase(hA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.municipalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities[n]=r.payload)}).addCase(Mg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities=e.municipalities.filter(n=>n.ID!==r.payload)}).addCase(Mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete municipality",console.error("Failed to delete municipality:",e.error)})}}),Tfe=Ife.reducer,tj="https://staging-engine.testthelink.online",Dfe=[],ko=L("barangays/fetchBarangays",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tj}/barangay`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Lg=L("barangays/addBarangay",async(t,e)=>{try{const r=await fetch(`${tj}/barangay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),pA=L("barangays/updateBarangay",async(t,e)=>{try{const r=await fetch(`${tj}/barangay/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Fg=L("barangays/deleteBarangay",async(t,e)=>{try{const r=await fetch(`${tj}/barangay/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Efe=xe({name:"barangays",initialState:{barangays:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ko.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ko.fulfilled,(e,r)=>{e.isLoading=!1,e.barangays=Array.isArray(r.payload)?r.payload:[]}).addCase(ko.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch barangays",console.warn("Failed to fetch barangays, using mock data.",e.error),e.barangays=Dfe}).addCase(Lg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays.push(r.payload)}).addCase(Lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add barangay",console.error("Failed to add barangay:",e.error)}).addCase(pA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.barangays.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.barangays)||(e.barangays=[]),e.barangays[n]=r.payload)}).addCase(Fg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays=e.barangays.filter(n=>n.ID!==r.payload)}).addCase(Fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete barangay",console.error("Failed to delete barangay:",e.error)})}}),Pfe=Efe.reducer,rj="https://staging-engine.testthelink.online",Ofe=[],dc=L("vendorTypes/fetchVendorTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rj}/vendorType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Bg=L("vendorTypes/addVendorType",async(t,e)=>{try{const r=await fetch(`${rj}/vendorType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),gA=L("vendorTypes/updateVendorType",async(t,e)=>{try{const r=await fetch(`${rj}/vendorType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),qg=L("vendorTypes/deleteVendorType",async(t,e)=>{try{const r=await fetch(`${rj}/vendorType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),_fe=xe({name:"vendorTypes",initialState:{vendorTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(dc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dc.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(dc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor types",console.warn("Failed to fetch vendor types, using mock data.",e.error),e.vendorTypes=Ofe}).addCase(Bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes.push(r.payload)}).addCase(Bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor type",console.error("Failed to add vendor type:",e.error)}).addCase(gA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes[n]=r.payload)}).addCase(qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes=e.vendorTypes.filter(n=>n.ID!==r.payload)}).addCase(qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor type",console.error("Failed to delete vendor type:",e.error)})}}),$fe=_fe.reducer,nj="https://staging-engine.testthelink.online",Rfe=[],Fi=L("industries/fetchIndustries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nj}/industryType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Vg=L("industries/addIndustry",async(t,e)=>{try{const r=await fetch(`${nj}/industryType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),yA=L("industries/updateIndustry",async(t,e)=>{try{const r=await fetch(`${nj}/industryType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ug=L("industries/deleteIndustry",async(t,e)=>{try{const r=await fetch(`${nj}/industryType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Mfe=xe({name:"industries",initialState:{industries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Fi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fi.fulfilled,(e,r)=>{e.isLoading=!1,e.industries=Array.isArray(r.payload)?r.payload:[]}).addCase(Fi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch industries",console.warn("Failed to fetch industries, using mock data.",e.error),e.industries=Rfe}).addCase(Vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries.push(r.payload)}).addCase(Vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add industry",console.error("Failed to add industry:",e.error)}).addCase(yA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.industries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.industries)||(e.industries=[]),e.industries[n]=r.payload)}).addCase(Ug.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries=e.industries.filter(n=>n.ID!==r.payload)}).addCase(Ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete industry",console.error("Failed to delete industry:",e.error)})}}),Lfe=Mfe.reducer,aj="https://staging-engine.testthelink.online",Ffe=[],Gn=L("taxCodes/fetchTaxCodes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${aj}/taxCode`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),zg=L("taxCodes/addTaxCode",async(t,e)=>{try{const r=await fetch(`${aj}/taxCode`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),bA=L("taxCodes/updateTaxCode",async(t,e)=>{try{const r=await fetch(`${aj}/taxCode/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Wg=L("taxCodes/deleteTaxCode",async(t,e)=>{try{const r=await fetch(`${aj}/taxCode/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Bfe=xe({name:"taxCodes",initialState:{taxCodes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Gn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gn.fulfilled,(e,r)=>{e.isLoading=!1,e.taxCodes=Array.isArray(r.payload)?r.payload:[]}).addCase(Gn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax codes",console.warn("Failed to fetch tax codes, using mock data.",e.error),e.taxCodes=Ffe}).addCase(zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes.push(r.payload)}).addCase(zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax code",console.error("Failed to add tax code:",e.error)}).addCase(bA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxCodes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes[n]=r.payload)}).addCase(Wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes=e.taxCodes.filter(n=>n.ID!==r.payload)}).addCase(Wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax code",console.error("Failed to delete tax code:",e.error)})}}),qfe=Bfe.reducer,sj="https://staging-engine.testthelink.online",Vfe=[],Bi=L("paymentTerms/fetchPaymentTerms",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sj}/paymentTerms`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Hg=L("paymentTerms/addPaymentTerm",async(t,e)=>{try{const r=await fetch(`${sj}/paymentTerms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xA=L("paymentTerms/updatePaymentTerm",async(t,e)=>{try{const r=await fetch(`${sj}/paymentTerms/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Gg=L("paymentTerms/deletePaymentTerm",async(t,e)=>{try{const r=await fetch(`${sj}/paymentTerms/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ufe=xe({name:"paymentTerms",initialState:{paymentTerms:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Bi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bi.fulfilled,(e,r)=>{e.isLoading=!1,e.paymentTerms=Array.isArray(r.payload)?r.payload:[]}).addCase(Bi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch payment terms",console.warn("Failed to fetch payment terms, using mock data.",e.error),e.paymentTerms=Vfe}).addCase(Hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms.push(r.payload)}).addCase(Hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add payment term",console.error("Failed to add payment term:",e.error)}).addCase(xA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.paymentTerms.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms[n]=r.payload)}).addCase(Gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms=e.paymentTerms.filter(n=>n.ID!==r.payload)}).addCase(Gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete payment term",console.error("Failed to delete payment term:",e.error)})}}),zfe=Ufe.reducer,oj="https://staging-engine.testthelink.online",Wfe=[],qi=L("modeOfPayments/fetchModeOfPayments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oj}/paymentMethod`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Yg=L("modeOfPayments/addModeOfPayment",async(t,e)=>{try{const r=await fetch(`${oj}/paymentMethod`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),vA=L("modeOfPayments/updateModeOfPayment",async(t,e)=>{try{const r=await fetch(`${oj}/paymentMethod/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Kg=L("modeOfPayments/deleteModeOfPayment",async(t,e)=>{try{const r=await fetch(`${oj}/paymentMethod/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Hfe=xe({name:"modeOfPayments",initialState:{modeOfPayments:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(qi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qi.fulfilled,(e,r)=>{e.isLoading=!1,e.modeOfPayments=Array.isArray(r.payload)?r.payload:[]}).addCase(qi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch mode of payments",console.warn("Failed to fetch mode of payments, using mock data.",e.error),e.modeOfPayments=Wfe}).addCase(Yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments.push(r.payload)}).addCase(Yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add mode of payment",console.error("Failed to add mode of payment:",e.error)}).addCase(vA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modeOfPayments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments[n]=r.payload)}).addCase(Kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments=e.modeOfPayments.filter(n=>n.ID!==r.payload)}).addCase(Kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete mode of payment",console.error("Failed to delete mode of payment:",e.error)})}}),Gfe=Hfe.reducer;function Yfe(){const t=le(),{vendorDetails:e,isLoading:r}=V(B=>B.vendorDetails),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{regions:f}=V(B=>B.regions),{provinces:m}=V(B=>B.provinces),{municipalities:p}=V(B=>B.municipalities),{barangays:h}=V(B=>B.barangays),{vendorTypes:b}=V(B=>B.vendorTypes),{industries:g}=V(B=>B.industries),{taxCodes:x}=V(B=>B.taxCodes),{paymentTerms:y}=V(B=>B.paymentTerms),{modeOfPayments:v}=V(B=>B.modeOfPayments);w.useEffect(()=>{t(Ma()),t(No()),t(So()),t(Ao()),t(ko()),t(dc()),t(Fi()),t(Gn()),t(Bi()),t(qi())},[t]);const N=f.map(B=>({value:B.ID,label:B.Name})),C=m.map(B=>({value:B.ID,label:B.Name})),j=p.map(B=>({value:B.ID,label:B.Name})),S=h.map(B=>({value:B.ID,label:B.Name})),k=b.map(B=>({value:B.ID,label:B.Name})),T=g.map(B=>({value:B.ID,label:B.Name})),A=x.map(B=>({value:B.ID,label:B.Code})),D=y.map(B=>({value:B.ID,label:B.Name})),P=v.map(B=>({value:B.ID,label:B.Name})),M=()=>{i(null),a(!0)},$=B=>{i(B),a(!0)},R=B=>{d(B),c(!0)},F=async()=>{if(u)try{await t(Eg(u.ID)).unwrap(),c(!1),d(null),q.success("Vendor details deleted successfully")}catch(B){console.error("Failed to delete vendor details:",B)}},z=async B=>{try{s?(await t(dA({...B,ID:s.ID})).unwrap(),q.success("Vendor details updated successfully")):(await t(Dg(B)).unwrap(),q.success("Vendor details added successfully")),t(Ma())}catch(Y){console.error("Failed to save vendor details:",Y),q.error("Failed to save vendor details. Please try again.")}finally{a(!1)}},O=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Vendor",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:B=>{const Y=y.find(H=>H.ID==B);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:B=>{const Y=v.find(H=>H.ID==B);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"DeliveryLeadTime",header:"Time (no. of Days)",sortable:!0,render:B=>B||"0"},{key:"TIN",header:"TIN",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:B=>B?"Yes":"No"},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:B=>{const Y=x.find(H=>H.ID==B);return(Y==null?void 0:Y.Code)||"N/A"}},{key:"TypeID",header:"Vendor Type",sortable:!0,render:B=>{const Y=b.find(H=>H.ID==B);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:B=>{const Y=g.find(H=>H.ID==B);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"ContactPerson",header:"Contact Person",sortable:!0},{key:"PhoneNumber",header:"Phone Number",sortable:!0},{key:"MobileNumber",header:"Mobile Number",sortable:!0},{key:"EmailAddress",header:"Email Address",sortable:!0},{key:"Website",header:"Website",sortable:!0,render:B=>B||"No website"},{key:"StreetAddress",header:"StreetAddress",sortable:!0},{key:"BarangayID",header:"Barangay",sortable:!0,render:B=>{const Y=h.find(H=>H.ID==B);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"MunicipalityID",header:"Municipality",sortable:!0,render:B=>{const Y=p.find(H=>H.ID==B);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"ProvinceID",header:"Province",sortable:!0,render:B=>{const Y=m.find(H=>H.ID==B);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"RegionID",header:"Region",sortable:!0,render:B=>{const Y=f.find(H=>H.ID==B);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"ZIPCode",header:"ZIPCode",sortable:!0}],_=[{icon:Ae,title:"Edit",onClick:$,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:R,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Details"}),o.jsx("p",{children:"Manage Vendor Details"})]}),o.jsxs("button",{type:"button",onClick:M,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Details"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:O,data:e,actions:_,loading:r,emptyMessage:"No vendor details found. Click 'Add Vendor Details' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Details":"Add Vendor Details",children:o.jsx(yfe,{initialData:s,onClose:()=>a(!1),onSubmit:z,provinces:m,municipalities:p,barangays:h,regionOptions:N,provinceOptions:C,municipalityOptions:j,barangayOptions:S,vendorTypeOptions:k,industryOptions:T,taxCodeOptions:A,paymentTermsOptions:D,modeOfPaymentOptions:P})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor details "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:F,className:"btn btn-danger",children:"Delete"})]})]})]})}function Kfe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:E().required("Name is required")}),a=rt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const ij="https://staging-engine.testthelink.online",Jfe=[],Kd=L("vendorCustomerTypes/fetchVendorCustomerTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ij}/vendorCustomerType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Jg=L("vendorCustomerTypes/addVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${ij}/vendorCustomerType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),jA=L("vendorCustomerTypes/updateVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${ij}/vendorCustomerType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Xg=L("vendorCustomerTypes/deleteVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${ij}/vendorCustomerType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Xfe=xe({name:"vendorCustomerTypes",initialState:{vendorCustomerTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Kd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kd.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorCustomerTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Kd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor customer types",console.warn("Failed to fetch vendor customer types, using mock data.",e.error),e.vendorCustomerTypes=Jfe}).addCase(Jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes.push(r.payload)}).addCase(Jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor customer type",console.error("Failed to add vendor customer type:",e.error)}).addCase(jA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorCustomerTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes[n]=r.payload)}).addCase(Xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes=e.vendorCustomerTypes.filter(n=>n.ID!==r.payload)}).addCase(Xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor customer type",console.error("Failed to delete vendor customer type:",e.error)})}}),Zfe=Xfe.reducer;function Qfe(){const t=le(),{vendorCustomerTypes:e,isLoading:r}=V(y=>y.vendorCustomerTypes),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Kd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(Xg(u.ID)).unwrap(),c(!1),d(null),q.success("Vendor customer type deleted successfully")}catch(y){console.error("Failed to delete vendor customer type:",y),q.error("Failed to delete vendor customer type. Please try again.")}},b=async y=>{try{s?(await t(jA({...y,ID:s.ID})).unwrap(),q.success("Vendor customer type updated successfully")):(await t(Jg(y)).unwrap(),q.success("Vendor customer type saved successfully")),t(Kd())}catch(v){console.error("Failed to save vendor customer type:",v),q.error("Failed to save vendor customer type. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Customer Types"}),o.jsx("p",{children:"Manage Vendor Customer Types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Customer Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No vendor customer types found. Click 'Add Vendor Customer Type' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Customer Type":"Add Vendor Customer Type",children:o.jsx(Kfe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor customer type "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function eme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:E().required("Name is required")}),a=rt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function tme(){const t=le(),{vendorTypes:e,isLoading:r}=V(y=>y.vendorTypes),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(dc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(qg(u.ID)).unwrap(),c(!1),d(null),q.success("Vendor type deleted successfully")}catch(y){console.error("Failed to delete vendor type:",y),q.error("Failed to delete vendor type. Please try again.")}},b=async y=>{try{s?(await t(gA({...y,ID:s.ID})).unwrap(),q.success("Vendor type updated successfully")):(await t(Bg(y)).unwrap(),q.success("Vendor type saved successfully")),t(dc())}catch(v){console.error("Failed to save vendor type:",v),q.error("Failed to save vendor type. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Types"}),o.jsx("p",{children:"Manage Vendor Types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No vendor types found. Click 'Add Vendor Type' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Type":"Add Vendor Type",children:o.jsx(eme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor type "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function rme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Description:E().required("Name is required")}),a=rt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const lj="https://staging-engine.testthelink.online",nme=[],Jd=L("modules/fetchModules",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lj}/module`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Zg=L("modules/addModule",async(t,e)=>{try{const r=await fetch(`${lj}/module`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wA=L("modules/updateModule",async(t,e)=>{try{const r=await fetch(`${lj}/module/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Qg=L("modules/deleteModule",async(t,e)=>{try{const r=await fetch(`${lj}/module/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ame=xe({name:"modules",initialState:{modules:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Jd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jd.fulfilled,(e,r)=>{e.isLoading=!1,e.modules=Array.isArray(r.payload)?r.payload:[]}).addCase(Jd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch modules",console.warn("Failed to fetch modules, using mock data.",e.error),e.modules=nme}).addCase(Zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules.push(r.payload)}).addCase(Zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add module",console.error("Failed to add module:",e.error)}).addCase(wA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modules.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modules)||(e.modules=[]),e.modules[n]=r.payload)}).addCase(Qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules=e.modules.filter(n=>n.ID!==r.payload)}).addCase(Qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete module",console.error("Failed to delete module:",e.error)})}}),sme=ame.reducer;function ome(){const t=le(),{modules:e,isLoading:r}=V(y=>y.modules),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Jd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(Qg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete module:",y)}},b=y=>{t(s?wA({...y,ID:s.ID}):Zg(y)),a(!1)},g=[{key:"Description",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Modules"}),o.jsx("p",{children:"Manage Modules"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Module"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No modules found. Click 'Add Module' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Module":"Add Module",children:o.jsx(rme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the module "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const cj="https://staging-engine.testthelink.online",ime=[],Vi=L("positions/fetchPositions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${cj}/position`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ey=L("positions/addPosition",async(t,e)=>{try{const r=await fetch(`${cj}/position`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),CA=L("positions/updatePosition",async(t,e)=>{try{const r=await fetch(`${cj}/position/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ty=L("positions/deletePosition",async(t,e)=>{try{const r=await fetch(`${cj}/position/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),lme=xe({name:"positions",initialState:{positions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Vi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vi.fulfilled,(e,r)=>{e.isLoading=!1,e.positions=Array.isArray(r.payload)?r.payload:[]}).addCase(Vi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch positions",console.warn("Failed to fetch positions, using mock data.",e.error),e.positions=ime}).addCase(ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions.push(r.payload)}).addCase(ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add position",console.error("Failed to add position:",e.error)}).addCase(CA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.positions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.positions)||(e.positions=[]),e.positions[n]=r.payload)}).addCase(ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions=e.positions.filter(n=>n.ID!==r.payload)}).addCase(ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete position",console.error("Failed to delete position:",e.error)})}}),cme=lme.reducer,uj="https://staging-engine.testthelink.online",ume=[],fc=L("employmentStatuses/fetchEmploymentStatuses",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uj}/employmentStatus`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ry=L("employmentStatuses/addEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${uj}/employmentStatus`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),NA=L("employmentStatuses/updateEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${uj}/employmentStatus/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ny=L("employmentStatuses/deleteEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${uj}/employmentStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),dme=xe({name:"employmentStatuses",initialState:{employmentStatuses:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(fc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fc.fulfilled,(e,r)=>{e.isLoading=!1,e.employmentStatuses=Array.isArray(r.payload)?r.payload:[]}).addCase(fc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch employment statuses",console.warn("Failed to fetch employment statuses, using mock data.",e.error),e.employmentStatuses=ume}).addCase(ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses.push(r.payload)}).addCase(ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add employment status",console.error("Failed to add employment status:",e.error)}).addCase(NA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employmentStatuses.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses[n]=r.payload)}).addCase(ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses=e.employmentStatuses.filter(n=>n.ID!==r.payload)}).addCase(ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete employment status",console.error("Failed to delete employment status:",e.error)})}}),fme=dme.reducer,dj="https://staging-engine.testthelink.online",mme=[],Ui=L("nationalities/fetchNationalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dj}/nationality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ay=L("nationalities/addNationality",async(t,e)=>{try{const r=await fetch(`${dj}/nationality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),SA=L("nationalities/updateNationality",async(t,e)=>{try{const r=await fetch(`${dj}/nationality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),sy=L("nationalities/deleteNationality",async(t,e)=>{try{const r=await fetch(`${dj}/nationality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),hme=xe({name:"nationalities",initialState:{nationalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ui.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ui.fulfilled,(e,r)=>{e.isLoading=!1,e.nationalities=Array.isArray(r.payload)?r.payload:[]}).addCase(Ui.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch nationalities",console.warn("Failed to fetch nationalities, using mock data.",e.error),e.nationalities=mme}).addCase(ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities.push(r.payload)}).addCase(ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add nationality",console.error("Failed to add nationality:",e.error)}).addCase(SA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(SA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.nationalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities[n]=r.payload)}).addCase(sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities=e.nationalities.filter(n=>n.ID!==r.payload)}).addCase(sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete nationality",console.error("Failed to delete nationality:",e.error)})}}),pme=hme.reducer,gme=oe().shape({FirstName:E().required("First name is required").max(100,"First name must be at most 100 characters"),LastName:E().required("Last name is required").max(100,"Last name must be at most 100 characters"),MiddleName:E().max(100,"Middle name must be at most 100 characters"),Birthday:Re().required("Birth date is required").max(new Date,"Birth date cannot be in the future"),Gender:E().required("Gender is required"),StreetAddress:E().required("Address is required").max(200,"Address must be at most 200 characters"),MobileNumber:E().required("Contact number is required"),EmailAddress:E().email("Invalid email address").required("Email is required"),IDNumber:G(),DepartmentID:G().required("Department is required"),PositionID:E().required("Position is required"),NationalityID:E().required("Nationality is required"),EmploymentStatusID:E().required("Employment status is required"),DateHired:Re().required("Date hired is required"),TIN:E().matches(/^\d{14}$/,"TIN must be exactly 14 digits"),GSIS:E(),Philhealth:E(),Pagibig:E(),Active:E().required("Status is required"),ZIPCode:E().max(6,"ZIP code must be at most 6 characters"),Region:E().required("Region is required"),Province:E().required("Province is required"),Municipality:E().required("Municipality is required"),Barangay:E().required("Barangay is required")});function yme({initialData:t,onClose:e}){const r=le();w.useEffect(()=>{r(ar()),r(Vi()),r(fc()),r(No()),r(So()),r(Ao()),r(ko()),r(Ui())},[r]);const{regions:n}=V(A=>A.regions),{provinces:a}=V(A=>A.provinces),{municipalities:s}=V(A=>A.municipalities),{barangays:i}=V(A=>A.barangays),{nationalities:l}=V(A=>A.nationalities),c=l==null?void 0:l.map(A=>({value:A.ID,label:A.Name})),u=n.map(A=>({value:A.ID.toString(),label:A.Name})),d=a.map(A=>({value:A.ID.toString(),label:A.Name})),f=s.map(A=>({value:A.ID.toString(),label:A.Name})),m=i.map(A=>({value:A.ID.toString(),label:A.Name})),{departments:p,isLoading:h}=V(A=>A.departments),b=p.map(A=>({value:A.ID,label:A.Name})),{positions:g,isLoading:x}=V(A=>A.positions),y=g.map(A=>({value:A.ID,label:A.Name})),{employmentStatuses:v,isLoading:N}=V(A=>A.employmentStatuses),C=v.map(A=>({value:A.ID,label:A.Name})),[j,S]=w.useState(!1);console.log(t);const k=t?{...t}:{FirstName:"",LastName:"",MiddleName:"",Birthday:"",Gender:"",StreetAddress:"",MobileNumber:"",EmailAddress:"",DepartmentID:"",PositionID:"",IDNumber:"",NationalityID:"",Nationality:"",EmploymentStatusID:"",DateHired:new Date().toISOString().split("T")[0],TIN:"",GSIS:"",Philhealth:"",Pagibig:"",Active:1,ZIPCode:"",Region:"",Province:"",Municipality:"",Barangay:""},T=A=>{var $;S(!0);const D=(($=p.find(R=>R.value===Number(A.DepartmentID)))==null?void 0:$.label)||"",P={...A,DepartmentID:Number(A.DepartmentID),departmentName:D},M=t?hg({...P,id:t.id,employeeCode:t.employeeCode}):mg(P);r(M).unwrap().then(()=>{t?q.success("Employee updated successfully."):q.success("Employee added successfully."),r(on())}).catch(R=>{console.error("Error submitting employee:",R),q.error("Failed to submit employee. Please try again.")}).finally(()=>{e(),S(!1)})};return o.jsx($e,{initialValues:k,validationSchema:gme,onSubmit:T,enableReinitialize:!0,children:({values:A,errors:D,touched:P,handleChange:M,handleBlur:$,isValid:R,setFieldValue:F,submitCount:z})=>(w.useEffect(()=>{const O=i.find(_=>_.ID.toString()===A.Barangay);if(O){const{MunicipalityCode:_,ProvinceCode:B,RegionCode:Y}=O;_&&F("Municipality",_),B&&F("Province",B),Y&&F("Region",Y)}},[A.Barangay]),w.useEffect(()=>{const O=s.find(_=>_.ID.toString()===A.Municipality);if(O){const{ProvinceCode:_,RegionCode:B}=O;_&&F("Province",_),B&&F("Region",B)}},[A.Municipality]),w.useEffect(()=>{const O=a.find(_=>_.ID.toString()===A.Province);if(O){const{RegionCode:_}=O;_&&F("Region",_)}},[A.Province]),o.jsxs(Le,{className:"space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"I. Personal Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsx(I,{label:"First name",name:"FirstName",type:"text",required:!0,value:A.FirstName,onChange:M,onBlur:$,error:D.FirstName,touched:P.FirstName}),o.jsx(I,{label:"Middle name",name:"MiddleName",type:"text",value:A.MiddleName,onChange:M,onBlur:$,error:D.MiddleName,touched:P.MiddleName}),o.jsx(I,{label:"Last name",name:"LastName",type:"text",required:!0,value:A.LastName,onChange:M,onBlur:$,error:D.LastName,touched:P.LastName}),o.jsx(I,{label:"Gender",name:"Gender",type:"select",required:!0,value:A.Gender,onChange:M,onBlur:$,error:D.Gender,touched:P.Gender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}),o.jsx(I,{label:"Birthdate",name:"Birthday",type:"date",required:!0,value:A.Birthday,onChange:M,onBlur:$,error:D.Birthday,touched:P.Birthday})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"II. Address & Contact Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Address Information"}),o.jsx(I,{label:"Region",name:"Region",type:"select",required:!0,options:u,value:A.Region||"",onChange:M}),o.jsx(I,{label:"Province",name:"Province",type:"select",required:!0,options:d,value:A.Province||"",onChange:M}),o.jsx(I,{label:"Municipality",name:"Municipality",type:"select",required:!0,options:f,value:A.Municipality||"",onChange:M}),o.jsx(I,{label:"Barangay",name:"Barangay",type:"select",required:!0,options:m,value:A.Barangay||"",onChange:M}),o.jsx(I,{label:"Street Address",name:"StreetAddress",type:"text",required:!0,value:A.StreetAddress||"",onChange:M,onBlur:$,error:D.StreetAddress,touched:P.StreetAddress})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Contact Information"}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx(pt,{label:"Nationality",name:"NationalityID",type:"select",options:c,required:!0,placeholder:"Select Nationality",onSelect:O=>{const _=c.find(B=>B.value===O);F("NationalityID",O||""),F("Nationality",(_==null?void 0:_.label)||"")},className:"w-full",selectedValue:A.NationalityID,error:D.Nationality,touched:P.Nationality})}),o.jsx(I,{label:"Zip Code",name:"ZIPCode",type:"text",value:A.ZIPCode||"",onChange:M,onBlur:$,error:D.ZIPCode,touched:P.ZIPCode}),o.jsx(I,{label:"Mobile Number",name:"MobileNumber",type:"text",required:!0,value:A.MobileNumber||"",onChange:M,onBlur:$,error:D.MobileNumber,touched:P.MobileNumber}),o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",required:!0,value:A.EmailAddress||"",onChange:M,onBlur:$,error:D.EmailAddress,touched:P.EmailAddress}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Emergency Contact",name:"EmergencyContact",type:"text",value:A.EmergencyContact||"",onChange:M,onBlur:$,error:D.EmergencyContact,touched:P.EmergencyContact}),o.jsx(I,{label:"Emergency Number",name:"EmergencyNumber",type:"text",value:A.EmergencyNumber||"",onChange:M,onBlur:$,error:D.EmergencyNumber,touched:P.EmergencyNumber})]})]})]})]}),o.jsxs("div",{className:"pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"III. Employment and IDs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"ID Number",name:"IDNumber",type:"text",value:A.IDNumber||"",onChange:M}),o.jsx(I,{label:"TIN",name:"TIN",type:"text",value:A.TIN||"",onChange:M,onBlur:$,error:D.TIN,touched:P.TIN})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"PAG-IBIG",name:"Pagibig",type:"text",value:A.Pagibig||"",onChange:M,onBlur:$,error:D.Pagibig,touched:P.Pagibig}),o.jsx(I,{label:"GSIS",name:"GSIS",type:"text",value:A.GSIS||"",onChange:M,onBlur:$,error:D.GSIS,touched:P.GSIS})]}),o.jsx(I,{label:"Philhealth",name:"Philhealth",type:"text",value:A.Philhealth||"",onChange:M,onBlur:$,error:D.Philhealth,touched:P.Philhealth}),o.jsx(I,{label:"Department",name:"DepartmentID",type:"select",required:!0,value:A.DepartmentID||"",onChange:M,onBlur:$,error:D.DepartmentID,touched:P.DepartmentID,options:b,disabled:h})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Date Hired",name:"DateHired",type:"date",required:!0,value:A.DateHired||"",onChange:M,onBlur:$,error:D.DateHired,touched:P.DateHired}),o.jsx(I,{label:"Employment Status",name:"EmploymentStatusID",type:"select",required:!0,value:A.EmploymentStatusID||"",onChange:M,onBlur:$,error:D.EmploymentStatusID,touched:P.EmploymentStatusID,options:C,disabled:N})]}),o.jsx(I,{label:"Employment Status Date",name:"EmploymentStatusDate",type:"date",value:A.EmploymentStatusDate||"",onChange:M,readOnly:!0}),o.jsx(I,{label:"Position",name:"PositionID",type:"select",required:!0,value:A.PositionID||"",onChange:M,onBlur:$,error:D.PositionID,touched:P.PositionID,options:y,disabled:x}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",className:"btn btn-outline",children:"Choose"})})}),o.jsx("div",{className:"mt-2",children:o.jsxs("p",{className:"text-sm text-gray-500",children:[[A.FirstName,A.MiddleName,A.LastName].filter(Boolean).join(" "),A.TIN&&` - ${A.TIN}`,A.DepartmentID&&` - ${A.DepartmentID}`]})})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:j,className:"btn btn-primary",children:j?"Saving...":t?"Update":"Save"})]}),z>0&&Object.keys(D).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(D).map(([O,_])=>o.jsx("li",{children:_},O))})]})]}))})}function bme(){const t=le(),{employees:e,isLoading:r}=V(y=>y.employees),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(on())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{try{u&&(t(pg(u.ID)),c(!1),d(null),q.success("Employee deleted successfully"))}catch(y){console.error("Failed to delete employee:",y),q.error("Failed to delete employee. Please try again.")}},b=()=>{a(!1),i(null)},g=[{key:"IDNumber",header:"ID Number",sortable:!0,className:"font-medium text-neutral-900"},{key:"FirstName",header:"First Name",sortable:!0},{key:"MiddleName",header:"Middle Name",sortable:!0},{key:"LastName",header:"Last Name",sortable:!0},{key:"Department",header:"Department",sortable:!0,render:y=>(y==null?void 0:y.Name)||""},{key:"Position",header:"Position",sortable:!0,render:y=>(y==null?void 0:y.Name)||""},{key:"EmploymentStatus",header:"Employment Status",sortable:!0,render:y=>(y==null?void 0:y.Name)||""}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employees"}),o.jsx("p",{children:"Manage employee information and records"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employee"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r})}),o.jsx(se,{isOpen:n,onClose:b,title:s?"Edit Employee":"Add Employee",size:"lg",children:o.jsx(yme,{initialData:s,onClose:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the employee"," ",o.jsxs("span",{className:"font-medium",children:[u==null?void 0:u.FirstName," ",u==null?void 0:u.LastName]}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function xme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:E().required("Employment Status is required")}),a=rt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Employment Status",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function vme(){const t=le(),{employmentStatuses:e,isLoading:r}=V(y=>y.employmentStatuses),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(fc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(ny(u.ID)).unwrap(),c(!1),d(null),q.success("Employment status deleted successfully")}catch(y){console.error("Failed to delete employment status:",y),q.error("Failed to delete employment status. Please try again.")}},b=async y=>{try{s?(await t(NA({...y,ID:s.ID})).unwrap(),q.success("Employment status updated successfully")):(await t(ry(y)).unwrap(),q.success("Employment status saved successfully")),t(fc())}catch(v){console.error("Failed to save employment status:",v),q.error("Failed to save employment status. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Employment Status",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employment Status"}),o.jsx("p",{children:"Manage Employment Statuses"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employment Status"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No employment statuses found. Click 'Add Employment Status' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Employment Status":"Add Employment Status",children:o.jsx(xme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the employment status "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function jme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:E().required("Position is required")}),a=rt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Position Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function wme(){const t=le(),{positions:e,isLoading:r}=V(y=>y.positions),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Vi())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(ty(u.ID)).unwrap(),c(!1),d(null),q.success("Position deleted successfully")}catch(y){console.error("Failed to delete position:",y),q.error("Failed to delete position. Please try again.")}},b=async y=>{try{s?(await t(CA({...y,ID:s.ID})).unwrap(),q.success("Position updated successfully")):(await t(ey(y)).unwrap(),q.success("Position saved successfully")),t(Vi())}catch(v){console.error("Failed to save position:",v),q.error("Failed to save position. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Position",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Position"}),o.jsx("p",{children:"Manage Positions"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Position"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No positions found. Click 'Add Position' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Position":"Add Position",children:o.jsx(jme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the position "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function Cme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Description:E().required("User Role is required")}),a=rt({initialValues:t||{Description:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Role",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Nme(){const t=le(),{userroles:e,isLoading:r}=V(y=>y.userroles),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(cc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{if(y.Description=="Administrator"){q.error("The 'Administrator' role cannot be edited.");return}i(y),a(!0)},p=y=>{if(y.Description=="Administrator"){q.error("The 'Administrator' role cannot be deleted.");return}d(y),c(!0)},h=async()=>{if(u)try{await t(yg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete user role:",y)}},b=y=>{t(s?uA({...y,ID:s.ID}):gg(y)),a(!1)},g=[{key:"Description",header:"User Role",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"User Roles"}),o.jsx("p",{children:"Manage User Roles"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User Role"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No user roles found. Click 'Add User Role' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit User Role":"Add User Role",children:o.jsx(Cme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the user role "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function Sme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:E().required("Nationality is required")}),a=rt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Nationality Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Ame(){const t=le(),{nationalities:e,isLoading:r}=V(y=>y.nationalities),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Ui())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(sy(u.ID)).unwrap(),c(!1),d(null),q.success("Nationality deleted successfully")}catch(y){console.error("Failed to delete nationality:",y),q.error("Failed to delete nationality. Please try again.")}},b=async y=>{try{s?(await t(SA({...y,ID:s.ID})).unwrap(),q.success("Nationality updated successfully")):(await t(ay(y)).unwrap(),q.success("Nationality saved successfully")),t(Ui())}catch(v){console.error("Failed to save nationality:",v),q.error("Failed to save nationality. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Nationality",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Nationalities"}),o.jsx("p",{children:"Manage Nationalities"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Nationality"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No nationalities found. Click 'Add Nationality' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Nationality":"Add Nationality",children:o.jsx(Sme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the nationality "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const Qe={required:"This field is required",positiveNumber:"Amount must be greater than 0",futureDate:"Date cannot be in the future"};oe().shape({date:Re().required(Qe.required).max(new Date,Qe.futureDate),reference:E().max(50,"Reference number too long"),particulars:E().required(Qe.required).max(500,"Particulars too long"),debitEntries:Ht().of(oe().shape({accountCode:E().required("Account code is required"),amount:G().required("Amount is required").moreThan(0,Qe.positiveNumber)})).min(1,"At least one debit entry is required"),creditEntries:Ht().of(oe().shape({accountCode:E().required("Account code is required"),amount:G().required("Amount is required").moreThan(0,Qe.positiveNumber)})).min(1,"At least one credit entry is required")}).test("balancedEntries","Total debits must equal total credits",function(t){if(!t.debitEntries||!t.creditEntries)return!0;const e=t.debitEntries.reduce((n,a)=>n+(Number(a.amount)||0),0),r=t.creditEntries.reduce((n,a)=>n+(Number(a.amount)||0),0);return Math.abs(e-r)<.01});const e$=oe().shape({date:Re().required(Qe.required).max(new Date,Qe.futureDate),period:E().required(Qe.required),stallNumber:E().required(Qe.required).matches(/^[A-Z]-\d{3}$/,"Invalid stall number format (e.g., A-101)"),stallType:E().required(Qe.required),stallOwner:E().required(Qe.required).max(100,"Name too long"),amount:G().required(Qe.required).moreThan(0,Qe.positiveNumber)});oe().shape({certificateNo:E().required("Certificate number is required").matches(/^[A-Z0-9-]+$/,"Certificate number can only contain uppercase letters, numbers, and hyphens"),date:Re().required("Date is required").max(new Date,"Date cannot be in the future"),placeOfIssue:E().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters").max(100,"Place of issue must not exceed 100 characters"),name:E().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),address:E().required("Address is required").min(5,"Address must be at least 5 characters").max(200,"Address must not exceed 200 characters"),tin:E().matches(/^$|^\d{9}(\d{3})?$/,"Invalid TIN format (9 or 12 digits)").nullable(),civilStatus:E().required("Civil status is required").oneOf(["single","married","widowed","separated","divorced"],"Invalid civil status"),nationality:E().required("Nationality is required").min(2,"Nationality must be at least 2 characters").max(50,"Nationality must not exceed 50 characters"),occupation:E().required("Occupation/Business is required").min(2,"Occupation/Business must be at least 2 characters").max(100,"Occupation/Business must not exceed 100 characters"),placeOfBirth:E().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters").max(100,"Place of birth must not exceed 100 characters"),dateOfBirth:Re().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future"),gender:E().required("Gender is required").oneOf(["male","female"],"Invalid gender"),height:G().min(0,"Height cannot be negative").max(300,"Height seems too large").nullable(),weight:G().min(0,"Weight cannot be negative").max(1e3,"Weight seems too large").nullable(),contactNumber:E().matches(/^$|^[0-9+\s-()]+$/,"Invalid contact number format").max(20,"Contact number must not exceed 20 characters").nullable(),businessGrossReceipts:G().min(0,"Amount cannot be negative").nullable(),occupationGrossReceipts:G().min(0,"Amount cannot be negative").nullable(),realPropertyIncome:G().min(0,"Amount cannot be negative").nullable(),purpose:E().required("Purpose is required").min(5,"Purpose must be at least 5 characters").max(500,"Purpose must not exceed 500 characters"),amount:G().required("Amount is required").min(0,"Amount must be greater than or equal to 0").max(1e6,"Amount must not exceed 1,000,000"),interest:G().min(0,"Interest cannot be negative").nullable()});oe().shape({date:Re().required(Qe.required).max(new Date,Qe.futureDate),tdNumber:E().required(Qe.required).matches(/^TD-\d{3}-\d{4}$/,"Invalid TD number format (e.g., TD-123-2024)"),taxpayerName:E().required(Qe.required).max(100,"Name too long"),location:E().required(Qe.required).max(200,"Location too long"),basicTax:G().required(Qe.required).moreThan(0,Qe.positiveNumber),sef:G().required(Qe.required).moreThan(0,Qe.positiveNumber),penalty:G().min(0,"Amount cannot be negative")});const kme=oe().shape({Name:E().required(Qe.required).max(100,"Name too long"),MunicipalityCode:E().required(Qe.required),ProvinceCode:E().required(Qe.required),RegionCode:E().required(Qe.required)}),Ime=oe().shape({Name:E().required(Qe.required).max(100,"Name too long"),ProvinceCode:E().required(Qe.required),RegionCode:E().required(Qe.required)}),Tme=oe().shape({Name:E().required(Qe.required).max(100,"Name too long"),RegionCode:E().required(Qe.required)}),t$=oe().shape({Name:E().required(Qe.required).max(100,"Name too long")});oe().shape({id:E().required("ID is required"),status:E().required("Status is required").oneOf(["posted","rejected","approved"],"Invalid status"),invoiceDate:Re().required("Invoice date is required").max(new Date,"Invoice date cannot be in the future"),payorName:E().required("Payor name is required").min(2,"Payor name must be at least 2 characters").max(100,"Payor name must not exceed 100 characters"),date:Re().required("Date is required").max(new Date,"Date cannot be in the future"),agency:E().required("Agency is required").min(2,"Agency must be at least 2 characters").max(100,"Agency must not exceed 100 characters"),fund:E().required("Fund is required").oneOf(["General funds","Other fund option 1","Other fund option 2"],"Invalid fund option"),taxpayerType:E().required("Taxpayer type is required").oneOf(["Individual","Corporation"],"Invalid taxpayer type")});function Dme(){const[t,e]=w.useState("region"),[r,n]=w.useState(!1),[a,s]=w.useState(null),[i,l]=w.useState(!1),[c,u]=w.useState(null),d={region:"Regions",province:"Provinces",municipality:"Municipalities",barangay:"Barangays"},f=le(),{regions:m}=V($=>$.regions),{provinces:p}=V($=>$.provinces),{municipalities:h}=V($=>$.municipalities),{barangays:b}=V($=>$.barangays);w.useEffect(()=>{f(No()),f(So()),f(Ao()),f(ko())},[f]);const g=()=>{switch(t){case"region":return t$;case"province":return Tme;case"municipality":return Ime;case"barangay":return kme;default:return t$}},x=()=>{switch(t){case"region":return[{key:"Name",header:"Region",sortable:!0}];case"province":return[{key:"RegionName",header:"Region",sortable:!0},{key:"Name",header:"Province",sortable:!0}];case"municipality":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"Name",header:"Municipality",sortable:!0}];case"barangay":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"MunicipalityName",header:"Municipality",sortable:!0},{key:"Name",header:"Barangay",sortable:!0}];default:return[]}},y=()=>{switch(t){case"region":return m;case"province":return p.map($=>({...$,RegionName:P($.RegionCode,m)}));case"municipality":return h.map($=>({...$,RegionName:P($.RegionCode,m),ProvinceName:P($.ProvinceCode,p)}));case"barangay":return b.map($=>({...$,RegionName:P($.RegionCode,m),ProvinceName:P($.ProvinceCode,p),MunicipalityName:P($.MunicipalityCode,h)}));default:return[]}},v=()=>{switch(t){case"region":return Pg;case"province":return _g;case"municipality":return Rg;case"barangay":return Lg;default:return null}},N=()=>{switch(t){case"region":return fA;case"province":return mA;case"municipality":return hA;case"barangay":return pA;default:return null}},C=()=>{switch(t){case"region":return Og;case"province":return $g;case"municipality":return Mg;case"barangay":return Fg;default:return null}},j=[{icon:Ae,title:"Edit",onClick:$=>k($),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:$=>T($),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],S=()=>{s(null),n(!0)},k=$=>{s($),n(!0)},T=$=>{u($),l(!0)},A=async()=>{try{c&&(await f(C()(c.ID)).unwrap(),l(!1),u(null),q.success("Location deleted successfully"))}catch($){console.error("Failed to delete location:",$),q.error("Failed to delete location. Please try again.")}};w.useEffect(()=>{r&&D.resetForm({values:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""}})},[r,a]);const D=rt({initialValues:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""},enableReinitialize:!0,validationSchema:g(),onSubmit:async($,{setSubmitting:R})=>{const F=a?N():v(),z=a?{...a,...$}:$;try{await f(F(z)).unwrap(),q.success("Location saved successfully")}catch(O){console.error("Failed to save location:",O),q.error("Failed to save location. Please try again.")}finally{n(!1),R(!1)}}}),P=($,R)=>{const F=R.find(z=>z.ID.toString()===$.toString());return F?F.Name:""},M=()=>{const $={formik:D,onChange:D.handleChange,onBlur:D.handleBlur,required:!0};switch(console.log("Active Tab:",t),t){case"region":return o.jsx(I,{label:"Region",name:"Name",type:"text",placeholder:"Enter region name",value:D.values.Name,error:D.errors.Name,touched:D.touched.Name,...$});case"province":return o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Province",name:"Name",type:"text",placeholder:"Enter province name",value:D.values.Name,error:D.errors.Name,touched:D.touched.Name,...$}),o.jsx(I,{label:"Region",name:"RegionCode",type:"select",options:m.map(R=>({value:R.ID,label:R.Name})),value:D.values.RegionCode,error:D.errors.RegionCode,touched:D.touched.RegionCode,...$})]});case"municipality":return o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Municipality",name:"Name",type:"text",value:D.values.Name,error:D.errors.Name,touched:D.touched.Name,placeholder:"Enter municipality name",...$}),o.jsx(I,{label:"Province",name:"ProvinceCode",type:"select",options:p.map(R=>({value:R.ID,label:R.Name})),value:D.values.ProvinceCode,error:D.errors.ProvinceCode,touched:D.touched.ProvinceCode,onChange:R=>{const F=R.target.value,z=p.find(O=>O.ID.toString()===F.toString());D.setFieldValue("ProvinceCode",F),z&&D.setFieldValue("RegionCode",z.RegionCode)},onBlur:D.handleBlur,required:!0}),o.jsx(I,{label:"Region",name:"RegionCode",type:"text",value:P(D.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});case"barangay":return o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Barangay",name:"Name",type:"text",value:D.values.Name,error:D.errors.Name,touched:D.touched.Name,placeholder:"Enter barangay name",...$}),o.jsx(I,{label:"Municipality",name:"MunicipalityCode",type:"select",options:h.map(R=>({value:R.ID,label:R.Name})),value:D.values.MunicipalityCode,error:D.errors.MunicipalityCode,touched:D.touched.MunicipalityCode,onChange:R=>{const F=R.target.value,z=h.find(O=>O.ID.toString()===F.toString());D.setFieldValue("MunicipalityCode",F),z&&(D.setFieldValue("ProvinceCode",z.ProvinceCode),D.setFieldValue("RegionCode",z.RegionCode))},onBlur:D.handleBlur,required:!0}),o.jsx(I,{label:"Province",name:"ProvinceCode",type:"text",value:P(D.values.ProvinceCode,p),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"}),o.jsx(I,{label:"Region",name:"RegionCode",type:"text",value:P(D.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});default:return null}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Locations"}),o.jsx("p",{children:"Manage regions, provinces, municipalities, and barangays"})]}),o.jsxs("button",{type:"button",onClick:S,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add ",t.charAt(0).toUpperCase()+t.slice(1)]})]})}),o.jsx("div",{className:"flex mb-6 border-b border-neutral-200",children:o.jsx("nav",{className:"-mb-px flex flex-wrap gap-x-10 gap-y-0",children:["region","province","municipality","barangay"].map($=>o.jsx("button",{onClick:()=>e($),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===$?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:d[$]},$))})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x(),data:y(),actions:j,pagination:!0})}),o.jsx(se,{isOpen:r,onClose:()=>n(!1),title:a?`Edit ${t}`:`New ${t}`,children:o.jsxs("form",{onSubmit:D.handleSubmit,className:"sm:p-4 space-y-4",children:[M(),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:D.isSubmitting,children:D.isSubmitting?"Saving...":a?"Update":"Save"})]})]})}),o.jsx(se,{isOpen:i,onClose:()=>l(!1),title:"Confirm Delete",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete this ",t,"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:A,className:"btn btn-danger",children:"Delete"})]})]})})]})}const fj="https://staging-engine.testthelink.online",Eme=[],mc=L("ppeCategories/fetchPpeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fj}/ppeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),oy=L("ppeCategories/addPpeCategory",async(t,e)=>{try{const r=await fetch(`${fj}/ppeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),AA=L("ppeCategories/updatePpeCategory",async(t,e)=>{try{const r=await fetch(`${fj}/ppeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),iy=L("ppeCategories/deletePpeCategory",async(t,e)=>{try{const r=await fetch(`${fj}/ppeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Pme=xe({name:"ppeCategories",initialState:{ppeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(mc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(mc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE categories",console.warn("Failed to fetch PPE categories, using mock data.",e.error),e.ppeCategories=Eme}).addCase(oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories.push(r.payload)}).addCase(oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE category",console.error("Failed to add PPE category:",e.error)}).addCase(AA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories[n]=r.payload)}).addCase(iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories=e.ppeCategories.filter(n=>n.ID!==r.payload)}).addCase(iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE category",console.error("Failed to delete PPE category:",e.error)})}}),Ome=Pme.reducer,mj="https://staging-engine.testthelink.online",_me=[],hc=L("ppeSuppliers/fetchPpeSuppliers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mj}/ppeSupplier`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ly=L("ppeSuppliers/addPpeSupplier",async(t,e)=>{try{const r=await fetch(`${mj}/ppeSupplier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),kA=L("ppeSuppliers/updatePpeSupplier",async(t,e)=>{try{const r=await fetch(`${mj}/ppeSupplier/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),cy=L("ppeSuppliers/deletePpeSupplier",async(t,e)=>{try{const r=await fetch(`${mj}/ppeSupplier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$me=xe({name:"ppeSuppliers",initialState:{ppeSuppliers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(hc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeSuppliers=Array.isArray(r.payload)?r.payload:[]}).addCase(hc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE suppliers",console.warn("Failed to fetch PPE suppliers, using mock data.",e.error),e.ppeSuppliers=_me}).addCase(ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers.push(r.payload)}).addCase(ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE supplier",console.error("Failed to add PPE supplier:",e.error)}).addCase(kA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeSuppliers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers[n]=r.payload)}).addCase(cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers=e.ppeSuppliers.filter(n=>n.ID!==r.payload)}).addCase(cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE supplier",console.error("Failed to delete PPE supplier:",e.error)})}}),Rme=$me.reducer,hj="https://staging-engine.testthelink.online",Mme=[],Lme=[{value:"Building",label:"Building"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"}],Fme=[{value:"Supplier1",label:"Supplier 1"},{value:"Supplier2",label:"Supplier 2"}],Bme={ppes:Mme,ppe:null,isLoading:!1,error:null,categories:Lme,suppliers:Fme},pc=L("ppes/fetchPPEs",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hj}/ppe`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),uy=L("ppes/addPPE",async(t,e)=>{try{const r=await fetch(`${hj}/ppe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),dy=L("ppes/updatePPE",async(t,e)=>{try{const r=await fetch(`${hj}/ppe/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),fy=L("ppes/deletePPE",async(t,e)=>{try{const r=await fetch(`${hj}/ppe/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),G6=xe({name:"ppes",initialState:Bme,reducers:{setPPE:(t,e)=>{t.ppe=e.payload},resetPPEResource:t=>{t.ppe=null,t.error=null},addCategory:(t,e)=>{t.categories.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.categories.push({value:e.payload,label:e.payload})},addSupplier:(t,e)=>{t.suppliers.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.suppliers.push({value:e.payload,label:e.payload})}},extraReducers:t=>{t.addCase(pc.pending,e=>{e.isLoading=!0}).addCase(pc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=r.payload,e.error=null}).addCase(pc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(uy.pending,e=>{e.isLoading=!0}).addCase(uy.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes.push(r.payload),e.error=null}).addCase(uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dy.pending,e=>{e.isLoading=!0}).addCase(dy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.ppes[n]=r.payload),e.error=null}).addCase(dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fy.pending,e=>{e.isLoading=!0}).addCase(fy.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=e.ppes.filter(n=>n.id!==r.payload),e.error=null}).addCase(fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setPPE:$8e,resetPPEResource:R8e,addCategory:M8e,addSupplier:L8e}=G6.actions,qme=G6.reducer,Vme=oe().shape({CategoryID:E().required("Category is required"),Description:E().required("Description is required"),DepreciationRate:G().typeError("Must be a number").required("Depreciation Rate is required"),DepreciationValue:G().typeError("Must be a number").required("Depreciation Value is required"),NetBookValue:G().typeError("Must be a number").required("Net Book Value is required"),SupplierID:E().required("Supplier is required"),PPENumber:E().required("PPE Number is required"),Unit:E().required("Unit is required"),Barcode:E().required("Barcode is required"),Quantity:G().typeError("Must be a number").required("Quantity is required"),Cost:G().typeError("Must be a number").required("Cost is required"),DateAcquired:E().required("Date acquired is required"),EstimatedUsefulLife:G().typeError("Must be a number").required("Estimated useful life is required"),PONumber:E().required("PO Number is required"),PRNumber:E().required("PR Number is required"),InvoiceNumber:E().required("Invoice Number is required"),AIRNumber:E().required("AIR Number is required"),RISNumber:E().required("RIS Number is required"),Remarks:E()});function Ume({initialData:t,onClose:e}){const r=le(),[n,a]=w.useState(!1),{ppeSuppliers:s}=V(u=>u.ppeSuppliers),{ppeCategories:i}=V(u=>u.ppeCategories);w.useEffect(()=>{r(mc()),r(hc())},[r]);const l=t?{...t}:{CategoryID:"",Description:"",DepreciationRate:"",DepreciationValue:"",NetBookValue:"",SupplierID:"",PPENumber:"",Unit:"",Barcode:"",Quantity:"",Cost:"",DateAcquired:"",EstimatedUsefulLife:1,PONumber:"",PRNumber:"",InvoiceNumber:"",AIRNumber:"",RISNumber:"",Remarks:""},c=u=>{a(!0);const d=t&&t.ID?dy({...u,ID:t.ID}):uy(u);r(d).unwrap().then(()=>{t?q.success("PPE updated successfully"):q.success("PPE Added successfully"),r(pc()),e()}).catch(f=>{console.error("Error submitting PPE:",f),q.error("Failed to submit PPE. Please try again.")}).finally(()=>{a(!1)})};return o.jsx($e,{initialValues:l,validationSchema:Vme,onSubmit:c,enableReinitialize:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:p,setFieldValue:h})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(I,{className:"p-3 focus:outline-none",label:"PPE Category",name:"CategoryID",type:"select",required:!0,value:u.CategoryID,onBlur:p,onChange:m,error:d.CategoryID,touched:f.CategoryID,options:i.map(b=>({value:b.ID,label:b.Name}))})}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"text",required:!0,value:u.Description,onChange:m,onBlur:p,error:d.Description,touched:f.Description}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Depreciation Rate (%)",name:"DepreciationRate",type:"number",required:!0,value:u.DepreciationRate,onChange:m,onBlur:p,error:d.DepreciationRate,touched:f.DepreciationRate}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Depreciation Value",name:"DepreciationValue",type:"number",required:!0,value:u.DepreciationValue,onChange:m,onBlur:p,error:d.DepreciationValue,touched:f.DepreciationValue}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Net Book Value",name:"NetBookValue",type:"number",required:!0,value:u.NetBookValue,onChange:m,onBlur:p,error:d.NetBookValue,touched:f.NetBookValue}),o.jsx("div",{children:o.jsx(I,{className:"p-3 focus:outline-none",label:"Supplier",name:"SupplierID",type:"select",required:!0,value:u.SupplierID,onBlur:p,onChange:m,error:d.SupplierID,touched:f.SupplierID,options:s.map(b=>({value:b.ID,label:b.Name}))})}),o.jsx(I,{className:"p-3 focus:outline-none",label:"PPE Number",name:"PPENumber",type:"text",required:!0,value:u.PPENumber,onChange:m,onBlur:p,error:d.PPENumber,touched:f.PPENumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Unit",name:"Unit",type:"text",required:!0,value:u.Unit,onChange:m,onBlur:p,error:d.Unit,touched:f.Unit}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Barcode",name:"Barcode",type:"text",required:!0,value:u.Barcode,onChange:m,onBlur:p,error:d.Barcode,touched:f.Barcode}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Quantity",name:"Quantity",type:"number",required:!0,value:u.Quantity,onChange:m,onBlur:p,error:d.Quantity,touched:f.Quantity}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Cost",name:"Cost",type:"number",required:!0,value:u.Cost,onChange:m,onBlur:p,error:d.Cost,touched:f.Cost}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Date Acquired",name:"DateAcquired",type:"date",required:!0,value:u.DateAcquired,onChange:m,onBlur:p,error:d.DateAcquired,touched:f.DateAcquired}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Estimated Useful Life (years)",name:"EstimatedUsefulLife",type:"number",required:!0,value:u.EstimatedUsefulLife,onChange:m,onBlur:p,error:d.EstimatedUsefulLife,touched:f.EstimatedUsefulLife}),o.jsx(I,{className:"p-3 focus:outline-none",label:"PO Number",name:"PONumber",type:"text",required:!0,value:u.PONumber,onChange:m,onBlur:p,error:d.PONumber,touched:f.PONumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"PR Number",name:"PRNumber",type:"text",required:!0,value:u.PRNumber,onChange:m,onBlur:p,error:d.PRNumber,touched:f.PRNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,value:u.InvoiceNumber,onChange:m,onBlur:p,error:d.InvoiceNumber,touched:f.InvoiceNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"AIR Number",name:"AIRNumber",type:"text",required:!0,value:u.AIRNumber,onChange:m,onBlur:p,error:d.AIRNumber,touched:f.AIRNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"RIS Number",name:"RISNumber",type:"text",required:!0,value:u.RISNumber,onChange:m,onBlur:p,error:d.RISNumber,touched:f.RISNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Remarks",name:"Remarks",type:"textarea",value:u.Remarks,onChange:m,onBlur:p,error:d.Remarks,touched:f.Remarks,rows:2})]}),o.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:"Save"})]})]})})}const zme=[{key:"CategoryID",header:"PPE Category"},{key:"Description",header:"Description"},{key:"DepreciationRate",header:"Depreciation Rate (%)"},{key:"DepreciationValue",header:"Depreciation Value"},{key:"NetBookValue",header:"Net Book Value"},{key:"SupplierID",header:"Supplier"},{key:"PPENumber",header:"PPE Number"},{key:"Unit",header:"Unit"},{key:"Barcode",header:"Barcode"},{key:"Quantity",header:"Quantity"},{key:"Cost",header:"Cost"},{key:"DateAcquired",header:"Date Acquired"},{key:"EstimatedUsefulLife",header:"Estimated Useful Life (years)"},{key:"PONumber",header:"PO Number"},{key:"PRNumber",header:"PR Number"},{key:"InvoiceNumber",header:"Invoice Number"},{key:"AIRNumber",header:"AIR Number"},{key:"RISNumber",header:"RIS Number"},{key:"Remarks",header:"Remarks"}];function Wme(){const t=le(),{ppes:e,isLoading:r}=V(N=>N.ppes),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(null);w.useEffect(()=>{t(pc())},[t]);const u=()=>{c(null),a(!0)},d=()=>{i(!0)},f=()=>{},m=()=>{i(!1)},p=N=>{c(N),a(!0)},h=async N=>{try{await t(fy(N.ID)).unwrap(),q.success("PPE entry deleted successfully"),t(pc())}catch(C){console.error("Failed to delete PPE entry:",C),q.error("Failed to delete PPE entry. Please try again.")}},b=()=>{a(!1),c(null)},g=zme.map(N=>N.key==="CategoryID"?{key:N.key,header:N.header,sortable:!0,className:"text-neutral-900",render:(C,j)=>{var S;return((S=j==null?void 0:j.Category)==null?void 0:S.Name)||"N/A"}}:N.key==="SupplierID"?{key:N.key,header:N.header,sortable:!0,className:"text-neutral-900",render:(C,j)=>{var S;return((S=j==null?void 0:j.Supplier)==null?void 0:S.Name)||"N/A"}}:{key:N.key,header:N.header,sortable:!0,className:"text-neutral-900"}),x=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-danger-50"}],y=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}],v=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between gap-4 flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE"}),o.jsx("p",{children:"Manage Property, Plant, and Equipment records"})]}),o.jsxs("div",{className:"flex gap-2 ml-auto max-sm:flex-col max-sm:w-full",children:[o.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE"]}),o.jsxs("button",{type:"button",onClick:d,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Mx,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print Acknowledgement"]}),o.jsxs("button",{type:"button",className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Mx,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r})}),o.jsx(se,{isOpen:n,onClose:b,title:l?"Edit PPE":"Add PPE",size:"lg",children:o.jsx(Ume,{initialData:l,onClose:b})}),o.jsx(se,{isOpen:s,onClose:m,title:"PPE Acknowledgement",size:"md",hideCloseButton:!0,children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(I,{label:"Acknowledging No. 1",type:"select",name:"acknowledgingNo1",options:v,value:"Juan S. Dela Cruz"})}),o.jsx("div",{className:"mb-6",children:o.jsx(I,{label:"Acknowledging No. 2",type:"select",name:"acknowledgingNo1",options:y,value:"Juan S. Dela Cruz"})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:m,className:"btn btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:f,className:"btn btn-primary",children:"Print"})]})]})})]})}function Hme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:E().required("Name is required")}),a=rt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Gme(){const t=le(),{ppeCategories:e,isLoading:r}=V(y=>y.ppeCategories),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(mc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(iy(u.ID)).unwrap(),c(!1),d(null),q.success("PPE category deleted successfully")}catch(y){console.error("Failed to delete PPE category:",y),q.error("Failed to delete PPE category. Please try again.")}},b=async y=>{try{s?(await t(AA({...y,ID:s.ID})).unwrap(),q.success("PPE category updated successfully")):(await t(oy(y)).unwrap(),q.success("PPE category saved successfully")),t(mc())}catch(v){console.error("Failed to save PPE category:",v),q.error("Failed to save PPE category. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Categories"}),o.jsx("p",{children:"Manage PPE Categories"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No PPE categories found. Click 'Add PPE Category' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit PPE Category":"Add PPE Category",children:o.jsx(Hme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE category "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function Yme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:E().required("Name is required")}),a=rt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Kme(){const t=le(),{ppeSuppliers:e,isLoading:r}=V(y=>y.ppeSuppliers),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(hc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(cy(u.ID)).unwrap(),c(!1),d(null),q.success("PPE supplier deleted successfully")}catch(y){console.error("Failed to delete PPE supplier:",y),q.error("Failed to delete PPE supplier. Please try again.")}},b=async y=>{try{s?(await t(kA({...y,ID:s.ID})).unwrap(),q.success("PPE supplier updated successfully")):(await t(ly(y)).unwrap(),q.success("PPE supplier saved successfully")),t(hc())}catch(v){console.error("Failed to save PPE supplier:",v),q.error("Failed to save PPE supplier. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Suppliers"}),o.jsx("p",{children:"Manage PPE Suppliers"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Supplier"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No PPE suppliers found. Click 'Add PPE Supplier' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit PPE Supplier":"Add PPE Supplier",children:o.jsx(Yme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE supplier "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const pj="https://staging-engine.testthelink.online",Jme=[],gc=L("documentDetails/fetchDocumentDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pj}/documentType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),my=L("documentDetails/addDocumentDetail",async(t,e)=>{try{const r=await fetch(`${pj}/documentType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),IA=L("documentDetails/updateDocumentDetail",async(t,e)=>{try{const r=await fetch(`${pj}/documentType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),hy=L("documentDetails/deleteDocumentDetail",async(t,e)=>{try{const r=await fetch(`${pj}/documentType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Xme=xe({name:"documentDetails",initialState:{documentDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(gc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gc.fulfilled,(e,r)=>{e.isLoading=!1,e.documentDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(gc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document details",console.warn("Failed to fetch document details, using mock data.",e.error),e.documentDetails=Jme}).addCase(my.pending,e=>{e.isLoading=!0,e.error=null}).addCase(my.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails.push(r.payload)}).addCase(my.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document detail",console.error("Failed to add document detail:",e.error)}).addCase(IA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails[n]=r.payload)}).addCase(hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails=e.documentDetails.filter(n=>n.ID!==r.payload)}).addCase(hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document detail",console.error("Failed to delete document detail:",e.error)})}}),Zme=Xme.reducer,Qme=[{value:"1 - First",label:"1 - First"},{value:"2 - Second",label:"2 - Second"},{value:"3 - Third",label:"3 - Third"}],ehe=oe().shape({});function the({initialData:t,onClose:e,onSubmit:r}){const[n,a]=w.useState((t==null?void 0:t.AllorMajority)||"ALL"),s=le(),{documentDetails:i}=V(b=>b.documentDetails),{positions:l}=V(b=>b.positions),{employees:c}=V(b=>b.employees);w.useEffect(()=>{s(gc()),s(Vi()),s(on())},[s]);const u=t||{DocumentTypeID:"",SequenceLevel:"",AllorMajority:"ALL",NumberofApprover:""},[d,f]=w.useState((t==null?void 0:t.approvers)||[{type:"Position",value:"",amountFrom:"",amountTo:""}]),m=()=>{f([...d,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}])},p=b=>{const g=[...d];g.splice(b,1),f(g)},h=(b,g)=>{const x=[...d];x[b]=g,f(x)};return o.jsx($e,{initialValues:u,validationSchema:ehe,onSubmit:(b,{setSubmitting:g})=>{const x=d.map(v=>({PositionorEmployee:v.type,PositionorEmployeeID:v.value,AmountFrom:v.amountFrom,AmountTo:v.amountTo})),y={...b,AllorMajority:n,approvers:x};r(y),g(!1)},enableReinitialize:!0,children:({values:b,errors:g,touched:x,handleChange:y,handleBlur:v,setFieldValue:N,isSubmitting:C})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Document Type",name:"DocumentTypeID",type:"select",required:!0,value:b.DocumentTypeID,onChange:y,onBlur:v,error:g.DocumentTypeID,touched:x.DocumentTypeID,options:i.map(j=>({value:j.ID,label:j.Name}))}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Sequence Level",name:"SequenceLevel",type:"select",required:!0,value:b.SequenceLevel,onChange:y,onBlur:v,error:g.SequenceLevel,touched:x.SequenceLevel,options:Qme}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Approval Rule ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"ALL",checked:n==="ALL",onChange:()=>a("ALL"),className:"form-radio"}),o.jsx("span",{children:"ALL"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"Majority",checked:n==="Majority",onChange:()=>a("Majority"),className:"form-radio"}),o.jsx("span",{children:"Majority"}),o.jsxs("select",{name:"NumberofApprover",value:b.NumberofApprover||"",onChange:y,onBlur:v,disabled:n!=="Majority",className:"ml-2 w-24 p-2 border border-neutral-300 rounded focus:outline-none",children:[o.jsx("option",{value:"",children:"Select"}),Array.from({length:10},(j,S)=>o.jsx("option",{value:S+1,children:S+1},S+1))]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label mb-2",children:["Approvers ",o.jsx("span",{className:"text-error-500",children:"*"})]}),d.map((j,S)=>{var k,T,A;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-4 mb-4 border p-4 rounded-md relative",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Position",checked:j.type==="Position",onChange:()=>h(S,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Position"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Employee",checked:j.type==="Employee",onChange:()=>h(S,{type:"Employee",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Employee"})]})]}),o.jsxs("div",{className:"w-full md:w-1/3",children:[o.jsxs("select",{className:"w-full p-2 border rounded",value:j.value,onChange:D=>h(S,{...j,value:D.target.value}),children:[o.jsx("option",{value:"",children:"Select"}),(j.type==="Position"?l:c).map(D=>o.jsx("option",{value:D.ID,children:j.type==="Position"?D.Name:`${D.FirstName} ${D.MiddleName} ${D.LastName}`},D.ID))]}),((k=j.errors)==null?void 0:k.value)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.value})]}),d.length>1&&o.jsx("button",{type:"button",onClick:()=>p(S),className:"btn btn-sm btn-error text-red-500",children:o.jsx(Me,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount From",className:"w-full p-2 border rounded",value:j.amountFrom,onChange:D=>h(S,{...j,amountFrom:D.target.value})}),((T=j.errors)==null?void 0:T.amountFrom)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.amountFrom})]}),o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount To",className:"w-full p-2 border rounded",value:j.amountTo,onChange:D=>h(S,{...j,amountTo:D.target.value})}),((A=j.errors)==null?void 0:A.amountTo)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.amountTo})]})]})]}),S<d.length-1&&o.jsx("hr",{className:"mb-4 border-gray-300"})]},S)}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:m,children:"+ Add More"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:C,children:"Save"})]})]})})}const gj="https://staging-engine.testthelink.online",rhe=[],nhe={approvalMatrix:rhe,matrix:null,isLoading:!1,error:null},Xd=L("approvalMatrix/fetchApprovalMatrix",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gj}/approvalMatrix`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),py=L("approvalMatrix/addApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${gj}/approvalMatrix`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),gy=L("approvalMatrix/updateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${gj}/approvalMatrix/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),yy=L("approvalMatrix/deleteApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${gj}/approvalMatrix/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Y6=xe({name:"approvalMatrix",initialState:nhe,reducers:{setMatrix:(t,e)=>{t.matrix=e.payload},resetMatrixState:t=>{t.matrix=null,t.error=null}},extraReducers:t=>{t.addCase(Xd.pending,e=>{e.isLoading=!0}).addCase(Xd.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=r.payload,e.error=null}).addCase(Xd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(py.pending,e=>{e.isLoading=!0}).addCase(py.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix.push(r.payload),e.error=null}).addCase(py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gy.pending,e=>{e.isLoading=!0}).addCase(gy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.approvalMatrix.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.approvalMatrix[n]=r.payload),e.error=null}).addCase(gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yy.pending,e=>{e.isLoading=!0}).addCase(yy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=e.approvalMatrix.filter(n=>n.ID!==r.payload),e.error=null}).addCase(yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMatrix:F8e,resetMatrixState:B8e}=Y6.actions,ahe=Y6.reducer;function she(){const t=le(),{approvalMatrix:e,isLoading:r,error:n}=V(v=>v.approvalMatrix),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(Xd())},[t]);const m=()=>{l(null),s(!0)},p=v=>{var S;const N=((S=v.Approvers)==null?void 0:S.map(k=>({type:k.PositionorEmployee,value:k.PositionorEmployeeID,amountFrom:Number(k.AmountFrom),amountTo:Number(k.AmountTo)})))||[],{Approvers:C,...j}=v;l({...j,approvers:N}),s(!0)},h=v=>{f(v),u(!0)},b=async()=>{if(d)try{await t(yy(d.ID)).unwrap(),u(!1),f(null)}catch(v){console.error("Failed to delete approval matrix:",v)}},g=async v=>{try{i?await t(gy({...v,ID:i.ID})).unwrap():await t(py(v)).unwrap(),t(Xd()),s(!1)}catch(N){console.error("Failed to submit approval matrix:",N)}},x=[{key:"DocumentTypeName",header:"Document Type",sortable:!0},{key:"SequenceLevel",header:"Sequence Level",sortable:!0},{key:"AllorMajority",header:"All or Majority",sortable:!0},{key:"NumberofApprover",header:"No of Approvers",sortable:!0}],y=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Approval Matrix"}),o.jsx("p",{children:"Manage approval matrix for document types"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Approval Matrix"]})]})}),o.jsxs("div",{className:"mt-4",children:[o.jsx(ge,{columns:x,data:e,actions:y,loading:r}),n&&o.jsx("div",{className:"text-error-600 mt-2",children:n})]}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Approval Matrix":"Add Approval Matrix",children:o.jsx(the,{initialData:i,onClose:()=>s(!1),onSubmit:g})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete this approval matrix entry?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const yj="https://staging-engine.testthelink.online",ohe=[],ihe={banks:ohe,bank:null,isLoading:!1,error:null},zi=L("banks/fetchBanks",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yj}/bank`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),by=L("banks/addBank",async(t,e)=>{try{const r=await fetch(`${yj}/bank`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xy=L("banks/updateBank",async(t,e)=>{try{const r=await fetch(`${yj}/bank/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),vy=L("bank/deleteBank",async(t,e)=>{try{const r=await fetch(`${yj}/bank/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),K6=xe({name:"banks",initialState:ihe,reducers:{setBank:(t,e)=>{t.bank=e.payload},resetBankState:t=>{t.bank=null,t.error=null}},extraReducers:t=>{t.addCase(zi.pending,e=>{e.isLoading=!0}).addCase(zi.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=r.payload,e.error=null}).addCase(zi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(by.pending,e=>{e.isLoading=!0}).addCase(by.fulfilled,(e,r)=>{e.isLoading=!1,e.banks.push(r.payload),e.error=null}).addCase(by.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xy.pending,e=>{e.isLoading=!0}).addCase(xy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.banks.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.banks[n]=r.payload),e.error=null}).addCase(xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(vy.pending,e=>{e.isLoading=!0}).addCase(vy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=e.banks.filter(n=>n.ID!==r.payload),e.error=null}).addCase(vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setBank:q8e,resetBankState:V8e}=K6.actions,lhe=K6.reducer,che=oe().shape({BranchCode:E().required("Branch code is required").max(20,"Branch code must be at most 20 characters"),Branch:E().required("Branch is required").max(100,"Branch name must be at most 100 characters"),Name:E().required("Name is required").max(100,"Name must be at most 100 characters"),Address:E().required("Address is required").max(200,"Address must be at most 200 characters"),AccountNumber:E().required("Account number is required"),SwiftCode:E().required("Swift code is required").max(11,"SWIFT code must be at most 11 characters").matches(/^[A-Za-z0-9]+$/,"SWIFT code must contain only uppercase letters and numbers"),IBAN:E().required("IBAN is required").max(34,"IBAN must be at most 34 characters").matches(/^[A-Za-z0-9]+$/,"IBAN must contain only uppercase letters and numbers"),Balance:G().required("Balance is required").min(0,"Balance cannot be negative"),CurrencyID:E().required("Currency is required")});function uhe({initialData:t,onClose:e}){const r=le(),[n,a]=w.useState(!1),{currencies:s}=V(c=>c.currencies),i=t?{...t}:{BranchCode:"",Branch:"",Name:"",Address:"",AccountNumber:"",SwiftCode:"",IBAN:"",Balance:"",CurrencyID:""},l=c=>{a(!0);const u={...c},d=t?xy({...u,ID:t.ID}):by(u);r(d).unwrap().then(()=>{e(),q.success("Bank submitted successfully")}).catch(f=>{console.error("Error submitting bank:",f)}).finally(()=>{a(!1),r(zi())})};return o.jsx($e,{initialValues:i,validationSchema:che,onSubmit:l,enableReinitialize:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,setFieldValue:p})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Branch Code",name:"BranchCode",type:"text",required:!0,placeholder:"Enter branch code",value:c.BranchCode,onChange:f,onBlur:m,error:d.BranchCode&&u.BranchCode,touched:d.BranchCode}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Branch",name:"Branch",type:"text",required:!0,placeholder:"Enter branch name",value:c.Branch,onChange:f,onBlur:m,error:d.Branch&&u.Branch,touched:d.Branch}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter bank name",value:c.Name,onChange:f,onBlur:m,error:d.Name&&u.Name,touched:d.Name})]}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Address",name:"Address",type:"textarea",required:!0,placeholder:"Enter complete address",value:c.Address,onChange:f,onBlur:m,error:d.Address&&u.Address,touched:d.Address,rows:2}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Number",name:"AccountNumber",type:"text",required:!0,placeholder:"Enter account number",value:c.AccountNumber,onChange:f,onBlur:m,error:d.AccountNumber&&u.AccountNumber,touched:d.AccountNumber}),o.jsx(I,{className:"p-3 focus:outline-none uppercase",label:"SWIFT Code",name:"SwiftCode",type:"text",required:!0,placeholder:"Enter SWIFT code",value:c.SwiftCode,onChange:f,onBlur:m,error:d.SwiftCode&&u.SwiftCode,touched:d.SwiftCode}),o.jsx(I,{className:"p-3 focus:outline-none uppercase",label:"IBAN",name:"IBAN",type:"text",required:!0,placeholder:"Enter IBAN",value:c.IBAN,onChange:f,onBlur:m,error:d.IBAN&&u.IBAN,touched:d.IBAN})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Balance",name:"Balance",type:"number",required:!0,placeholder:"Enter balance",value:c.Balance,onChange:f,onBlur:m,error:d.Balance&&u.Balance,touched:d.Balance}),o.jsx("div",{className:"space-y-2",children:o.jsx(I,{className:"p-3 focus:outline-none",label:"Currency",name:"CurrencyID",type:"select",required:!0,value:c.CurrencyID,onChange:f,onBlur:m,error:d.CurrencyID&&u.CurrencyID,touched:d.CurrencyID,options:s.map(h=>({value:h.ID,label:h.Code+" - "+h.Name}))})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary",children:n?"Saving...":t?"Update Bank":"Save Bank"})]})]})})}const dhe=()=>{const t=le(),{banks:e=[],isLoading:r}=V(y=>y.banks),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(zi())},[]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=()=>{a(!1),i(null)},h=y=>{d(y),c(!0)},b=async()=>{if(u)try{await t(vy(u.ID)).unwrap(),q.success("Bank deleted successfully")}catch(y){q.error(y.message||"Failed to delete bank")}finally{c(!1),d(null),t(zi())}},g=[{key:"BranchCode",header:"Branch Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Branch",header:"Branch",sortable:!0},{key:"Name",header:"Bank Name",sortable:!0},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"Balance",header:"Balance",sortable:!0},{key:"Currency",header:"Currency",sortable:!0,render:y=>(y==null?void 0:y.Code)||"N/A"}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bank Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage bank accounts and their details"})]}),o.jsxs("button",{onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Bank"]})]}),o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No banks found. Click 'Add Bank' to create one."}),o.jsx(se,{isOpen:n,onClose:p,title:s?"Edit Bank":"Add Bank",size:"lg",children:o.jsx(uhe,{initialData:s,onClose:p})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the bank"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})},fhe=(t=[],e=null)=>oe({Name:E().required("Name is required").test("unique-name","Name already exists",function(r){return r?!t.some(a=>a.Name.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Code:E().required("Code is required").test("unique-code","Code already exists",function(r){return r?!t.some(a=>a.Code.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Prefix:E().required("Prefix is required"),Suffix:E().required("Suffix is required"),StartNumber:G().required("Start number is required").integer("Start number must be an integer").min(1,"Start number must be at least 1"),CurrentNumber:G().required("Current number is required").integer("Current number must be an integer").min(1,"Current number must be at least 1"),DocumentTypeCategoryID:E().required("Document type category is required")}),mhe=({document:t,documentList:e=[],onClose:r,documentTypeCategoryOptions:n=[]})=>{const a=le(),s={Name:(t==null?void 0:t.Name)||"",Code:(t==null?void 0:t.Code)||"",Prefix:(t==null?void 0:t.Prefix)||"",Suffix:(t==null?void 0:t.Suffix)||"",StartNumber:(t==null?void 0:t.StartNumber)||1,CurrentNumber:(t==null?void 0:t.CurrentNumber)||1,DocumentTypeCategoryID:(t==null?void 0:t.DocumentTypeCategoryID)||""},i=async(l,{setSubmitting:c})=>{try{t?(await a(IA({...l,ID:t.ID})).unwrap(),q.success("Document detail updated successfully")):(await a(my(l)).unwrap(),q.success("Document detail added successfully")),a(gc())}catch(u){console.error("Failed to save document details:",u),q.error("Failed to save document details. Please try again.")}finally{c(!1),r()}};return o.jsx($e,{initialValues:s,validationSchema:fhe(e,t),onSubmit:i,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,setFieldValue:m,isSubmitting:p})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",required:!0,value:l.Name,onChange:d,onBlur:f,error:c.Name,touched:u.Name,placeholder:"Enter document name"}),o.jsx(I,{label:"Code",name:"Code",type:"text",required:!0,value:l.Code,onChange:d,onBlur:f,error:c.Code,touched:u.Code,placeholder:"Enter document code"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Prefix",name:"Prefix",type:"text",required:!0,value:l.Prefix,onChange:d,onBlur:f,error:c.Prefix,touched:u.Prefix,placeholder:"Enter document prefix"}),o.jsx(I,{label:"Suffix",name:"Suffix",type:"text",required:!0,value:l.Suffix,onChange:d,onBlur:f,error:c.Suffix,touched:u.Suffix,placeholder:"Enter document suffix"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Start Number",name:"StartNumber",type:"number",required:!0,value:l.StartNumber,onChange:d,onBlur:f,error:c.StartNumber,touched:u.StartNumber,min:"1"}),o.jsx(I,{label:"Current Number",name:"CurrentNumber",type:"number",required:!0,value:l.CurrentNumber,onChange:d,onBlur:f,error:c.CurrentNumber,touched:u.CurrentNumber,min:"1"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(I,{label:"Document Type Category",name:"DocumentTypeCategoryID",type:"select",required:!0,value:l.DocumentTypeCategoryID,onChange:d,onBlur:f,error:c.DocumentTypeCategoryID,touched:u.DocumentTypeCategoryID,options:n})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":t?"Update":"Create"})]})]})})},bj="https://staging-engine.testthelink.online",hhe=[],yc=L("documentTypeCategories/fetchDocumentTypeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bj}/documentTypeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),jy=L("documentTypeCategories/addDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${bj}/documentTypeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),TA=L("documentTypeCategories/updateDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${bj}/documentTypeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),wy=L("documentTypeCategories/deleteDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${bj}/documentTypeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),phe=xe({name:"documentTypeCategories",initialState:{documentTypeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(yc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yc.fulfilled,(e,r)=>{e.isLoading=!1,e.documentTypeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(yc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document type categories",console.warn("Failed to fetch document type categories, using mock data.",e.error),e.documentTypeCategories=hhe}).addCase(jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories.push(r.payload)}).addCase(jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document type category",console.error("Failed to add document type category:",e.error)}).addCase(TA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentTypeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories[n]=r.payload)}).addCase(wy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories=e.documentTypeCategories.filter(n=>n.ID!==r.payload)}).addCase(wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document type category",console.error("Failed to delete document type category:",e.error)})}}),ghe=phe.reducer,yhe=()=>{const t=le(),{documentDetails:e,isLoading:r}=V(v=>v.documentDetails),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{documentTypeCategories:f}=V(v=>v.documentTypeCategories),m=f.map(v=>({value:v.ID,label:v.Name}));w.useEffect(()=>{t(gc()),t(yc())},[t]);const p=()=>{i(null),a(!0)},h=v=>{i(v),a(!0)},b=v=>{d(v),c(!0)},g=async()=>{if(u)try{await t(hy(u.ID)).unwrap(),c(!1),d(null),q.success("Document detail deleted successfully")}catch(v){console.error("Failed to delete document detail:",v),q.error("Failed to delete document detail. Please try again.")}},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Prefix",header:"Prefix"},{key:"Suffix",header:"Suffix"},{key:"StartNumber",header:"Start Number"},{key:"CurrentNumber",header:"Current Number"}],y=v=>{const N=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return v.ID>32&&N.push({icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),N};return o.jsxs("div",{className:"container mx-auto ",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Document Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage document details and their numbering"})]}),o.jsxs("button",{onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Document Detail"]})]}),o.jsx(ge,{columns:x,data:e,actions:y,loading:r,emptyMessage:"No document details found. Click 'Add Document Detail' to create one."}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Document Detail":"Add Document Detail",size:"lg",children:o.jsx(mhe,{document:s,documentList:e,onClose:()=>a(!1),documentTypeCategoryOptions:m})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the document detail for"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})};function bhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:E().required("Name is required")}),a=rt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function xhe(){const t=le(),{documentTypeCategories:e,isLoading:r}=V(y=>y.documentTypeCategories),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(yc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(wy(u.ID)).unwrap(),c(!1),d(null),q.success("Document type category deleted successfully")}catch(y){console.error("Failed to delete document type category:",y),q.error("Failed to delete document type category. Please try again.")}},b=async y=>{try{s?(await t(TA({...y,ID:s.ID})).unwrap(),q.success("Document type category updated successfully")):(await t(jy(y)).unwrap(),q.success("Document type category added successfully")),t(yc())}catch(v){console.error("Failed to save document type category:",v),q.error("Failed to save document type category. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Document Type Categories"}),o.jsx("p",{children:"Manage Document Type Categories"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Document Type Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No document type categories found. Click 'Add Document Type Category' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Document Type Category":"Add Document Type Category",children:o.jsx(bhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the document type category "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const xj="https://staging-engine.testthelink.online",vhe=[],La=L("items/fetchItems",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xj}/item`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Cy=L("items/addItem",async(t,e)=>{try{const r=await fetch(`${xj}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),DA=L("items/updateItem",async(t,e)=>{try{const r=await fetch(`${xj}/item/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ny=L("items/deleteItem",async(t,e)=>{try{const r=await fetch(`${xj}/item/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),jhe=xe({name:"items",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(La.pending,e=>{e.isLoading=!0,e.error=null}).addCase(La.fulfilled,(e,r)=>{e.isLoading=!1,e.items=Array.isArray(r.payload)?r.payload:[]}).addCase(La.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch items",console.warn("Failed to fetch items, using mock data.",e.error),e.items=vhe}).addCase(Cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items.push(r.payload)}).addCase(Cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item",console.error("Failed to add item:",e.error)}).addCase(DA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(DA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.items.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.items)||(e.items=[]),e.items[n]=r.payload)}).addCase(Ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items=e.items.filter(n=>n.ID!==r.payload)}).addCase(Ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item",console.error("Failed to delete item:",e.error)})}}),whe=jhe.reducer,vj="https://staging-engine.testthelink.online",Che=[],pa=L("itemUnits/fetchItemUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${vj}/itemUnit`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Sy=L("itemUnits/addItemUnit",async(t,e)=>{try{const r=await fetch(`${vj}/itemUnit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),EA=L("itemUnits/updateItemUnit",async(t,e)=>{try{const r=await fetch(`${vj}/itemUnit/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ay=L("itemUnits/deleteItemUnit",async(t,e)=>{try{const r=await fetch(`${vj}/itemUnit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Nhe=xe({name:"itemUnits",initialState:{itemUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(pa.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pa.fulfilled,(e,r)=>{e.isLoading=!1,e.itemUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(pa.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch item units",console.warn("Failed to fetch item units, using mock data.",e.error),e.itemUnits=Che}).addCase(Sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits.push(r.payload)}).addCase(Sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item unit",console.error("Failed to add item unit:",e.error)}).addCase(EA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(EA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.itemUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits[n]=r.payload)}).addCase(Ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits=e.itemUnits.filter(n=>n.ID!==r.payload)}).addCase(Ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item unit",console.error("Failed to delete item unit:",e.error)})}}),She=Nhe.reducer,Ahe=({item:t,onClose:e})=>{const r=le(),{accounts:n}=V(d=>d.chartOfAccounts),{itemUnits:a}=V(d=>d.itemUnits),{taxCodes:s}=V(d=>d.taxCodes);w.useEffect(()=>{r(pa()),r(Gn()),r(br())},[r]);const i=[{value:"Purchase",label:"Purchase"},{value:"Sales",label:"Sales"},{value:"Inventory",label:"Inventory"}],l=oe({Code:E().required("Code is required"),Name:E().required("Name is required"),ChargeAccountID:E().required("Charge Account is required"),UnitID:E().required("Unit is required"),TAXCodeID:E().required("Tax Code is required"),PurchaseOrSales:E().required("Type is required"),TaxRate:G().required("Tax Rate is required").min(0,"Tax Rate cannot be negative"),EWT:G().required("EWT is required").min(0,"EWT cannot be negative"),Vatable:Lo().required("Vatable is required")}),c={Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",ChargeAccountID:(t==null?void 0:t.ChargeAccountID)||"",UnitID:(t==null?void 0:t.UnitID)||"",TAXCodeID:(t==null?void 0:t.TAXCodeID)||"",PurchaseOrSales:(t==null?void 0:t.PurchaseOrSales)||"",TaxRate:(t==null?void 0:t.TaxRate)||0,EWT:(t==null?void 0:t.EWT)||0,Vatable:(t==null?void 0:t.Vatable)||!1},u=async(d,{setSubmitting:f})=>{try{t?(await r(DA({...d,ID:t.ID})).unwrap(),q.success("Item updated successfully.")):(await r(Cy(d)).unwrap(),q.success("Item added successfully.")),r(La())}catch(m){console.error("Failed to save item:",m),q.error("Failed to save item. Please try again.")}finally{f(!1),e()}};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,isSubmitting:b})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",required:!0,value:d.Code,onChange:p,onBlur:h,error:f.Code,touched:m.Code,placeholder:"Enter item code"}),o.jsx(I,{label:"Name",name:"Name",type:"text",required:!0,value:d.Name,onChange:p,onBlur:h,error:f.Name,touched:m.Name,placeholder:"Enter item name"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Charge Account",name:"ChargeAccountID",type:"select",required:!0,value:d.ChargeAccountID,onChange:p,onBlur:h,error:f.ChargeAccountID,touched:m.ChargeAccountID,options:n.map(g=>({value:g.ID,label:g.Name}))}),o.jsx(I,{label:"Type",name:"PurchaseOrSales",type:"select",required:!0,value:d.PurchaseOrSales,onChange:p,onBlur:h,error:f.PurchaseOrSales,touched:m.PurchaseOrSales,options:i}),o.jsx(I,{label:"Unit",name:"UnitID",type:"select",required:!0,value:d.UnitID,onChange:p,onBlur:h,error:f.UnitID,touched:m.UnitID,options:a.map(g=>({value:g.ID,label:g.Code+" - "+g.Name}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Tax Code",name:"TAXCodeID",type:"select",required:!0,value:d.TAXCodeID,onChange:p,onBlur:h,error:f.TAXCodeID,touched:m.TAXCodeID,options:s.map(g=>({value:g.ID,label:g.Code}))}),o.jsx(I,{label:"Tax Rate",name:"TaxRate",type:"number",required:!0,value:d.TaxRate,onChange:p,onBlur:h,error:f.TaxRate,touched:m.TaxRate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"EWT",name:"EWT",type:"number",required:!0,value:d.EWT,onChange:p,onBlur:h,error:f.EWT,touched:m.EWT}),o.jsx("div",{className:"flex items-center mt-5",children:o.jsx(I,{label:"Vatable",name:"Vatable",type:"checkbox",checked:d.Vatable,onChange:p,onBlur:h,error:f.Vatable,touched:m.Vatable})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":t?"Update":"Create"})]})]})})},khe=()=>{const t=le(),{items:e,isLoading:r}=V(j=>j.items),{itemUnits:n,isLoading:a}=V(j=>j.itemUnits),{taxCodes:s,isLoading:i}=V(j=>j.taxCodes),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null);w.useEffect(()=>{t(La()),t(pa()),t(Gn())},[t]);const b=()=>{d(null),c(!0)},g=j=>{d(j),c(!0)},x=j=>{h(j),m(!0)},y=async()=>{if(p)try{await t(Ny(p.ID)).unwrap(),m(!1),h(null),q.success("Item deleted successfully")}catch(j){console.error("Failed to delete item:",j),q.error("Failed to delete item. Please try again.")}},v=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"PurchaseOrSales",header:"Type",sortable:!0},{key:"TAXCodeValue",header:"Tax Code",sortable:!0},{key:"unitName",header:"Unit Name",sortable:!0},{key:"EWT",header:"EWT",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:j=>o.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${j===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j?"Yes":"No"})}],N=e.map(j=>{var S,k;return{...j,unitName:((S=n==null?void 0:n.find(T=>T.ID===j.UnitID))==null?void 0:S.Name)||"N/A",TAXCodeValue:((k=s==null?void 0:s.find(T=>T.ID===j.TAXCodeID))==null?void 0:k.Code)||"N/A"}}),C=[{icon:Ae,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Item List"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, assets, and services"})]}),o.jsxs("button",{onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}),o.jsx(ge,{columns:v,data:N,actions:C,loading:r||a||i,emptyMessage:"No items found. Click 'Add Item' to create one."}),o.jsx(se,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Item":"Add Item",size:"lg",children:o.jsx(Ahe,{item:u,onClose:()=>c(!1)})}),o.jsxs(se,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the item"," ",o.jsx("span",{className:"font-medium",children:p==null?void 0:p.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})},Ihe=oe().shape({MarriageServiceInvoice:E().required("Marriage Service Invoice account is required"),BurialServiceInvoice:E().required("Burial Service Invoice account is required"),DueFromLGU:E().required("Due From LGU account is required"),DueFromRate:G().required("Due From Rate is required"),DueToLGU:E().required("Due To LGU account is required"),DueToRate:G().required("Due To Rate is required"),RealPropertyTax:E().required("Real Property Tax account is required"),RealPropertyTaxRate:G().required("Real Property Tax Rate is required")}),The=({initialData:t,onClose:e,onSubmit:r,invoiceChargeAccounts:n=[]})=>{const a=le(),s=V(l=>{var c;return((c=l.chartOfAccounts)==null?void 0:c.accounts)||[]});w.useEffect(()=>{a(br())},[a]);const i=n.reduce((l,c)=>{switch(c.ID){case 1:l.MarriageServiceInvoice=c.ChartofAccountsID;break;case 2:l.BurialServiceInvoice=c.ChartofAccountsID;break;case 3:l.DueFromLGU=c.ChartofAccountsID,l.DueFromRate=c.Rate??0;break;case 4:l.DueToLGU=c.ChartofAccountsID,l.DueToRate=c.Rate??0;break;case 5:l.RealPropertyTax=c.ChartofAccountsID,l.RealPropertyTaxRate=c.Rate??0;break}return l},{});return!n||n.length===0?o.jsx("div",{className:"text-neutral-500",children:"Loading charge accounts..."}):o.jsx($e,{initialValues:{MarriageServiceInvoice:i.MarriageServiceInvoice||"",BurialServiceInvoice:i.BurialServiceInvoice||"",DueFromLGU:i.DueFromLGU||"",DueFromRate:i.DueFromRate||0,DueToLGU:i.DueToLGU||"",DueToRate:i.DueToRate||0,RealPropertyTax:i.RealPropertyTax||"",RealPropertyTaxRate:i.RealPropertyTaxRate||0},validationSchema:Ihe,onSubmit:r,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Le,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Charge Account of Service Invoice"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(I,{label:"Marriage Service Invoice",name:"MarriageServiceInvoice",type:"select",required:!0,value:l.MarriageServiceInvoice,onChange:d,onBlur:f,error:c.MarriageServiceInvoice,touched:u.MarriageServiceInvoice,options:(s||[]).map(p=>({value:p.ID,label:p.Name}))}),o.jsx(I,{label:"Burial Service Invoice",name:"BurialServiceInvoice",type:"select",required:!0,value:l.BurialServiceInvoice,onChange:d,onBlur:f,error:c.BurialServiceInvoice,touched:u.BurialServiceInvoice,options:(s||[]).map(p=>({value:p.ID,label:p.Name}))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Real Property Tax Shares Settings"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"bg-neutral-50 p-2 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due to LGUs"}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(I,{label:"Account",name:"DueToLGU",type:"select",required:!0,value:l.DueToLGU,onChange:d,onBlur:f,error:c.DueToLGU,touched:u.DueToLGU,options:(s||[]).map(p=>({value:p.ID,label:p.Name}))}),o.jsx(I,{label:"Rate",name:"DueToRate",type:"number",required:!0,value:l.DueToRate,onChange:d,onBlur:f,error:c.DueToRate,touched:u.DueToRate})]})]}),o.jsxs("div",{className:"bg-neutral-50 p-2 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due From Local Government Units"}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(I,{label:"Account",name:"DueFromLGU",type:"select",required:!0,value:l.DueFromLGU,onChange:d,onBlur:f,error:c.DueFromLGU,touched:u.DueFromLGU,options:(s||[]).map(p=>({value:p.ID,label:p.Name}))}),o.jsx(I,{label:"Rate",name:"DueFromRate",type:"number",required:!0,value:l.DueFromRate,onChange:d,onBlur:f,error:c.DueFromRate,touched:u.DueFromRate})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Special Education Funds"}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(I,{label:"Real Property Tax",name:"RealPropertyTax",type:"select",required:!0,value:l.RealPropertyTax,onChange:d,onBlur:f,error:c.RealPropertyTax,touched:u.RealPropertyTax,options:(s||[]).map(p=>({value:p.ID,label:p.Name}))}),o.jsx(I,{label:"Rate",name:"RealPropertyTaxRate",type:"number",required:!0,value:l.RealPropertyTaxRate,onChange:d,onBlur:f,error:c.RealPropertyTaxRate,touched:u.RealPropertyTaxRate})]})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"submit",disabled:m,className:"btn btn-primary disabled:cursor-not-allowed disabled:opacity-50",children:m?"Saving...":"Save"})})]})})},J6="https://staging-engine.testthelink.online",Zd=L("chartOfAccounts/fetchInvoiceChargeAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${J6}/serviceInvoiceAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Dhe=L("invoiceChargeAccounts/addInvoiceChargeAccount",async t=>{try{return{...t,id:Date.now(),status:"Active"}}catch(e){throw console.warn("Failed to add invoice charge account:",e),e}}),X6=L("invoiceChargeAccounts/updateInvoiceChargeAccount",async(t,e)=>{try{const r=await fetch(`${J6}/serviceInvoiceAccounts/1`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ehe=L("invoiceChargeAccounts/deleteInvoiceChargeAccount",async t=>{try{return t}catch(e){throw console.warn("Failed to delete invoice charge account:",e),e}}),Phe={invoiceChargeAccounts:[],isLoading:!1,error:null},Ohe=xe({name:"invoiceChargeAccounts",initialState:Phe,reducers:{},extraReducers:t=>{t.addCase(Zd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zd.fulfilled,(e,r)=>{e.isLoading=!1,e.invoiceChargeAccounts=r.payload}).addCase(Zd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(Dhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts.push(r.payload)}).addCase(X6.fulfilled,(e,r)=>{const n=e.invoiceChargeAccounts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.invoiceChargeAccounts[n]=r.payload)}).addCase(Ehe.fulfilled,(e,r)=>{e.invoiceChargeAccounts=e.invoiceChargeAccounts.filter(n=>n.id!==r.payload)})}}),_he=Ohe.reducer;function $he(){const t=le(),{invoiceChargeAccounts:e}=V(n=>n.invoiceChargeAccounts);w.useEffect(()=>{t(Zd())},[t]);const r=async(n,{setSubmitting:a})=>{try{await t(X6(n)).unwrap(),q.success("Invoice charge account updated successfully")}catch(s){console.error("Failed to save invoice charge account:",s)}finally{a(!1),t(Zd())}};return o.jsx("div",{children:o.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg shadow border",children:o.jsx(The,{onSubmit:r,invoiceChargeAccounts:e})})})}function Rhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:E().required("Code is required"),Name:E().required("Name is required")}),a=rt({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Mhe(){const t=le(),{itemUnits:e,isLoading:r}=V(y=>y.itemUnits),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(pa())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(Ay(u.ID)).unwrap(),c(!1),d(null),q.success("Item unit deleted successfully")}catch(y){console.error("Failed to delete item unit:",y),q.error("Failed to delete item unit. Please try again.")}},b=async y=>{try{s?(await t(EA({...y,ID:s.ID})).unwrap(),q.success("Item unit updated successfully")):(await t(Sy(y)).unwrap(),q.success("Item unit added successfully")),t(pa())}catch(v){console.error("Failed to save item unit:",v),q.error("Failed to save item unit. Please try again.")}finally{a(!1)}},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Item Units"}),o.jsx("p",{children:"Manage item units"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Item Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No item units found. Click 'Add Item Unit' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Item Unit":"Add Item Unit",children:o.jsx(Rhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the item unit "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function Lhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Type:E().required("Type is required"),Description:E().required("Description is required")});return o.jsx($e,{initialValues:t||{Type:"",Description:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(I,{label:"Type",name:"Type",type:"text",value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(I,{label:"Description",name:"Description",type:"textarea",value:a.Description,onChange:l,onBlur:c,error:s.Description,touched:i.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const jj="https://staging-engine.testthelink.online",Fhe=[],bc=L("projectTypes/fetchProjectTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${jj}/projectType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ky=L("projectTypes/addProjectType",async(t,e)=>{try{const r=await fetch(`${jj}/projectType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),PA=L("projectTypes/updateProjectType",async(t,e)=>{try{const r=await fetch(`${jj}/projectType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Iy=L("projectTypes/deleteProjectType",async(t,e)=>{try{const r=await fetch(`${jj}/projectType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Bhe=xe({name:"projectTypes",initialState:{projectTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(bc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bc.fulfilled,(e,r)=>{e.isLoading=!1,e.projectTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(bc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project types",console.warn("Failed to fetch project types, using mock data.",e.error),e.projectTypes=Fhe}).addCase(ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ky.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes.push(r.payload)}).addCase(ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project type",console.error("Failed to add project type:",e.error)}).addCase(PA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(PA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes[n]=r.payload)}).addCase(Iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes=e.projectTypes.filter(n=>n.ID!==r.payload)}).addCase(Iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project type",console.error("Failed to delete project type:",e.error)})}}),qhe=Bhe.reducer;function Vhe(){const t=le(),{projectTypes:e,isLoading:r}=V(y=>y.projectTypes),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(bc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(Iy(u.ID)).unwrap(),c(!1),d(null),q.success("Project type deleted successfully.")}catch(y){console.error("Failed to delete project type:",y),q.error("Failed to delete project type. Please try again.")}},b=async y=>{try{s?(await t(PA({...y,ID:s.ID})).unwrap(),q.success("Project type updated successfully.")):(await t(ky(y)).unwrap(),q.success("Project type added successfully.")),t(bc()),a(!1)}catch(v){console.error("Failed to save project type:",v),q.error("Failed to save project type. Please try again.")}},g=[{key:"Type",header:"Type",sortable:!0},{key:"Description",header:"Description",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Types"}),o.jsx("p",{children:"Manage project types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No project types found. Click 'Add Project Type' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Project Type":"Add Project Type",children:o.jsx(Lhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project type "',u==null?void 0:u.Type,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function Uhe({initialData:t,onSubmit:e,onClose:r}){const n=le(),{projectTypes:a,loading:s}=V(c=>c.projectTypes);w.useEffect(()=>{n(bc())},[n]);const i=oe({Title:E().required("Title is required"),ProjectTypeID:E().required("Project Type is required"),StartDate:Re().required("Start Date is required"),EndDate:Re().required("End Date is required"),Description:E().required("Description is required")}),l=rt({initialValues:t||{Title:"",ProjectTypeID:"",StartDate:"",EndDate:"",Description:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Project Title",name:"Title",type:"text",value:l.values.Title,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Title,touched:l.touched.Title,required:!0}),o.jsx(I,{label:"Project Type",name:"ProjectTypeID",type:"select",options:a.map(c=>({label:c.Type,value:c.ID})),value:l.values.ProjectTypeID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.ProjectTypeID,touched:l.touched.ProjectTypeID,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Start Date",name:"StartDate",type:"date",value:l.values.StartDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.StartDate,touched:l.touched.StartDate,required:!0}),o.jsx(I,{label:"End Date",name:"EndDate",type:"date",value:l.values.EndDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.EndDate,touched:l.touched.EndDate,required:!0})]}),o.jsx(I,{label:"Description",name:"Description",type:"textarea",rows:3,value:l.values.Description,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Description,touched:l.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}const wj="https://staging-engine.testthelink.online",zhe=[],Fa=L("projectDetails/fetchProjectDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${wj}/project`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ty=L("projectDetails/addProjectDetail",async(t,e)=>{try{const r=await fetch(`${wj}/project`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),OA=L("projectDetails/updateProjectDetail",async(t,e)=>{try{const r=await fetch(`${wj}/project/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dy=L("projectDetails/deleteProjectDetail",async(t,e)=>{try{const r=await fetch(`${wj}/project/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Whe=xe({name:"projectDetails",initialState:{projectDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Fa.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fa.fulfilled,(e,r)=>{e.isLoading=!1,e.projectDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Fa.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project details",console.warn("Failed to fetch project details, using mock data.",e.error),e.projectDetails=zhe}).addCase(Ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails.push(r.payload)}).addCase(Ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project detail",console.error("Failed to add project detail:",e.error)}).addCase(OA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(OA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails[n]=r.payload)}).addCase(Dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails=e.projectDetails.filter(n=>n.ID!==r.payload)}).addCase(Dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project detail",console.error("Failed to delete project detail:",e.error)})}}),Hhe=Whe.reducer;function Ghe(){const t=le(),{projectDetails:e,isLoading:r}=V(y=>y.projectDetails),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Fa())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(Dy(u.ID)).unwrap(),c(!1),d(null),q.success("Project detail deleted successfully.")}catch(y){console.error("Failed to delete project detail:",y),q.error("Failed to delete project detail. Please try again.")}},b=async y=>{try{s?(await t(OA({...y,ID:s.ID})).unwrap(),q.success("Project detail updated successfully.")):(await t(Ty(y)).unwrap(),q.success("Project detail added successfully.")),t(Fa())}catch(v){console.error("Failed to save project detail:",v),q.error("Failed to save project detail. Please try again.")}finally{a(!1)}},g=[{key:"Title",header:"Project Title",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0},{key:"EndDate",header:"End Date",sortable:!0},{key:"ProjectTypeID",header:"Project Type",sortable:!0},{key:"Description",header:"Description",sortable:!1}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Details"}),o.jsx("p",{children:"Manage project details"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Detail"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No project details found. Click 'Add Project Detail' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Project Detail":"Add Project Detail",size:"lg",children:o.jsx(Uhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project "',u==null?void 0:u.Title,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function Yhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:E().required("Code is required"),Name:E().required("Name is required")});return o.jsx($e,{initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const Cj="https://staging-engine.testthelink.online",Khe=[],Jhe={financialStatements:Khe,financialStatement:null,isLoading:!1,error:null},Qd=L("financialStatements/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Cj}/financialStatement`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ey=L("financialStatements/addFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Cj}/financialStatement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Py=L("financialStatements/updateFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Cj}/financialStatement/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Oy=L("financialStatements/deleteFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Cj}/financialStatement/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Z6=xe({name:"financialStatements",initialState:Jhe,reducers:{setFinancialStatement:(t,e)=>{t.financialStatement=e.payload},resetFinancialStatementState:t=>{t.financialStatement=null,t.error=null}},extraReducers:t=>{t.addCase(Qd.pending,e=>{e.isLoading=!0}).addCase(Qd.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload,e.error=null}).addCase(Qd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ey.pending,e=>{e.isLoading=!0}).addCase(Ey.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements.push(r.payload),e.error=null}).addCase(Ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Py.pending,e=>{e.isLoading=!0}).addCase(Py.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.financialStatements.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.financialStatements[n]=r.payload),e.error=null}).addCase(Py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Oy.pending,e=>{e.isLoading=!0}).addCase(Oy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=e.financialStatements.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFinancialStatement:U8e,resetFinancialStatementState:z8e}=Z6.actions,Xhe=Z6.reducer;function Zhe(){const t=le(),{financialStatements:e,isLoading:r}=V(y=>y.financialStatements),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Qd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(Oy(u.ID)).unwrap(),c(!1),d(null),q.success("Financial statement deleted successfully.")}catch(y){console.error("Failed to delete financial statement:",y),q.error("Failed to delete financial statement. Please try again.")}},b=async y=>{try{s?(await t(Py({...y,ID:s.ID})).unwrap(),q.success("Financial statement updated successfully.")):(await t(Ey(y)).unwrap(),q.success("Financial statement added successfully.")),t(Qd())}catch(v){console.error("Failed to save financial statement:",v),q.error("Failed to save financial statement. Please try again.")}finally{a(!1)}},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Financial Statements"}),o.jsx("p",{children:"Manage financial statements"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Financial Statement"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No financial statements found. Click 'Add Financial Statement' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Financial Statement":"Add Financial Statement",children:o.jsx(Yhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the financial statement "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function Qhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:E().required("Code is required"),Name:E().required("Name is required"),Year:G().required("Year is required").min(2e3,"Year must be 2000 or later"),MonthStart:E().required("Month Start is required"),MonthEnd:E().required("Month End is required")}),a=[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}];return o.jsx($e,{initialValues:t||{Code:"",Name:"",Year:new Date().getFullYear(),MonthStart:"",MonthEnd:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:i,touched:l,handleChange:c,handleBlur:u,handleSubmit:d,isSubmitting:f})=>o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:s.Code,onChange:c,onBlur:u,error:i.Code,touched:l.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:s.Name,onChange:c,onBlur:u,error:i.Name,touched:l.Name,required:!0}),o.jsx(I,{label:"Year",name:"Year",type:"number",value:s.Year,onChange:c,onBlur:u,error:i.Year,touched:l.Year,required:!0}),o.jsx(I,{label:"Month Start",name:"MonthStart",type:"select",value:s.MonthStart,onChange:c,onBlur:u,error:i.MonthStart,touched:l.MonthStart,options:a,required:!0}),o.jsx(I,{label:"Month End",name:"MonthEnd",type:"select",value:s.MonthEnd,onChange:c,onBlur:u,error:i.MonthEnd,touched:l.MonthEnd,options:a,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":"Save"})]})]})})}const Nj="https://staging-engine.testthelink.online",epe=[],ln=L("fiscalYears/fetchFiscalYears",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Nj}/fiscalYear`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),_y=L("fiscalYears/addFiscalYear",async(t,e)=>{try{const r=await fetch(`${Nj}/fiscalYear`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),_A=L("fiscalYears/updateFiscalYear",async(t,e)=>{try{const r=await fetch(`${Nj}/fiscalYear/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),$y=L("fiscalYears/deleteFiscalYear",async(t,e)=>{try{const r=await fetch(`${Nj}/fiscalYear/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),tpe=xe({name:"fiscalYears",initialState:{fiscalYears:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ln.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ln.fulfilled,(e,r)=>{e.isLoading=!1,e.fiscalYears=Array.isArray(r.payload)?r.payload:[]}).addCase(ln.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch fiscal years",console.warn("Failed to fetch fiscal years, using mock data.",e.error),e.fiscalYears=epe}).addCase(_y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears.push(r.payload)}).addCase(_y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fiscal year",console.error("Failed to add fiscal year:",e.error)}).addCase(_A.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fiscalYears.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears[n]=r.payload)}).addCase($y.pending,e=>{e.isLoading=!0,e.error=null}).addCase($y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears=e.fiscalYears.filter(n=>n.ID!==r.payload)}).addCase($y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fiscal year",console.error("Failed to delete fiscal year:",e.error)})}}),rpe=tpe.reducer;function npe(){const t=le(),{fiscalYears:e,isLoading:r}=V(y=>y.fiscalYears),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(ln())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t($y(u.ID)).unwrap(),c(!1),d(null),q.success("Fiscal year deleted successfully.")}catch(y){console.error("Failed to delete fiscal year:",y),q.error("Failed to delete fiscal year. Please try again.")}},b=async y=>{try{s?(await t(_A({...y,id:s.ID})).unwrap(),q.success("Fiscal year updated successfully.")):(await t(_y(y)).unwrap(),q.success("Fiscal year added successfully.")),t(ln())}catch(v){console.error("Failed to save fiscal year:",v),q.error("Failed to save fiscal year. Please try again.")}finally{a(!1)}},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Year",header:"Year",sortable:!0},{key:"MonthStart",header:"Month Start",sortable:!0},{key:"MonthEnd",header:"Month End",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fiscal Years"}),o.jsx("p",{children:"Manage fiscal years"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fiscal Year"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No fiscal years found. Click 'Add Fiscal Year' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Fiscal Year":"Add Fiscal Year",children:o.jsx(Qhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the fiscal year "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const ape=[{value:"Individual",label:"Individual"},{value:"Corporate",label:"Corporate"}];function spe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Type:E().required("Type is required"),Code:E().required("Code is required"),Name:E().required("Nature of Payment is required"),Rate:G().required("Rate is required").min(0,"Rate cannot be negative").max(100,"Rate cannot exceed 100%")});return o.jsx($e,{initialValues:t||{Type:"",Code:"",Name:"",Rate:0},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(I,{label:"Type",name:"Type",type:"select",options:ape,value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(I,{label:"Rate (%)",name:"Rate",type:"number",step:"0.01",value:a.Rate,onChange:l,onBlur:c,error:s.Rate,touched:i.Rate,required:!0}),o.jsx(I,{label:"Nature of Payment",name:"Name",type:"textarea",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}function ope(){const t=le(),{taxCodes:e,isLoading:r}=V(y=>y.taxCodes),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Gn())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(Wg(u.ID)).unwrap(),c(!1),d(null),q.success("Tax code deleted successfully.")}catch(y){console.error("Failed to delete tax code:",y),q.error("Failed to delete tax code. Please try again.")}},b=async y=>{try{s?(await t(bA({...y,ID:s.ID})).unwrap(),q.success("Tax code updated successfully.")):(await t(zg(y)).unwrap(),q.success("Tax code added successfully.")),t(Gn())}catch(v){console.error("Failed to save tax code:",v),q.error("Failed to save tax code. Please try again.")}finally{a(!1)}},g=[{key:"Type",header:"Type",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Nature of Payment",sortable:!0},{key:"Rate",header:"Rate (%)",sortable:!0,render:y=>`${y} %`}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Codes"}),o.jsx("p",{children:"Manage tax codes"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Code"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No tax codes found. Click 'Add Tax Code' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Tax Code":"Add Tax Code",children:o.jsx(spe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax code "',u==null?void 0:u.Code,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function ipe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:E().required("Code is required"),Name:E().required("Name is required")}),a=rt({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function lpe(){const t=le(),{modeOfPayments:e,isLoading:r}=V(y=>y.modeOfPayments),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(qi())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(Kg(u.ID)).unwrap(),c(!1),d(null),q.success("Mode of payment deleted successfully.")}catch(y){q.error(y.message||"Failed to delete mode of payment."),console.error("Failed to delete mode of payment:",y)}},b=async y=>{try{s?(await t(vA({...y,ID:s.ID})).unwrap(),q.success("Mode of payment updated successfully.")):(await t(Yg(y)).unwrap(),q.success("Mode of payment added successfully.")),t(qi())}catch(v){console.error("Failed to save mode of payment:",v),q.error("Failed to save mode of payment. Please try again.")}finally{a(!1)}},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Mode of Payments"}),o.jsx("p",{children:"Manage mode of payments"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Mode of Payment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No mode of payments found. Click 'Add Mode of Payment' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Mode of Payment":"Add Mode of Payment",children:o.jsx(ipe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the mode of payment "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function cpe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:E().required("Code is required"),Name:E().required("Name is required"),NumberOfDays:G().required("Number of Days is required").integer("Number of Days must be an integer").min(0,"Number of Days cannot be negative")}),a=rt({initialValues:t||{Code:"",Name:"",NumberOfDays:0},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsx(I,{label:"Number of Days",name:"NumberOfDays",type:"number",value:a.values.NumberOfDays,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NumberOfDays,touched:a.touched.NumberOfDays,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function upe(){const t=le(),{paymentTerms:e,isLoading:r}=V(y=>y.paymentTerms),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Bi())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(Gg(u.ID)).unwrap(),c(!1),d(null),q.success("Payment term deleted successfully.")}catch(y){console.error("Failed to delete payment term:",y),q.error("Failed to delete payment term. Please try again.")}},b=async y=>{try{s?(await t(xA({...y,ID:s.ID})).unwrap(),q.success("Payment term updated successfully.")):(await t(Hg(y)).unwrap(),q.success("Payment term added successfully.")),t(Bi())}catch(v){console.error("Failed to save payment term:",v),q.error("Failed to save payment term. Please try again.")}finally{a(!1)}},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NumberOfDays",header:"Number of Days",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Payment Terms"}),o.jsx("p",{children:"Manage payment terms"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Payment Term"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No payment terms found. Click 'Add Payment Term' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Payment Term":"Add Payment Term",children:o.jsx(cpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the payment term "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function dpe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:E().required("Name is required")}),a=rt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function fpe(){const t=le(),{industries:e,isLoading:r}=V(y=>y.industries),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Fi())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(Ug(u.ID)).unwrap(),c(!1),d(null),q.success("Industry deleted successfully.")}catch(y){console.error("Failed to delete industry:",y),q.error("Failed to delete industry. Please try again.")}},b=async y=>{try{s?(await t(yA({...y,ID:s.ID})).unwrap(),q.success("Industry updated successfully.")):(await t(Vg(y)).unwrap(),q.success("Industry added successfully.")),t(Fi())}catch(v){console.error("Failed to save industry:",v),q.error("Failed to save industry. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Industries"}),o.jsx("p",{children:"Manage industries"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Industry"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No industries found. Click 'Add Industry' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Industry":"Add Industry",children:o.jsx(dpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the industry "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function mpe({initialData:t,onSubmit:e,onClose:r}){const n=le();w.useEffect(()=>{n(No()),n(So()),n(Ao()),n(ko())},[n]);const{regions:a}=V(y=>y.regions),{provinces:s}=V(y=>y.provinces),{municipalities:i}=V(y=>y.municipalities),{barangays:l}=V(y=>y.barangays),c=oe({FirstName:E().required("First Name is required"),MiddleName:E(),LastName:E().required("Last Name is required"),Gender:E().required("Gender is required"),Citizenship:E().required("Citizenship is required"),DateOfBirth:Re().required("Date of Birth is required"),PlaceOfBirth:E().required("Place of Birth is required"),Occupation:E().required("Occupation is required"),CivilStatus:E().required("Civil Status is required"),TIN:E().required("TIN is required").matches(/^\d{14}$/,"TIN must be exactly 14 digits"),EmailAddress:E().email().required("Email is required"),RegionID:E().required("Region is required"),ProvinceID:E().required("Province is required"),MunicipalityID:E().required("Municipality is required"),BarangayID:E().required("Barangay is required"),ZIPCode:E().required("ZIP Code is required"),StreetAddress:E().required("Street Address is required"),RDO:E().required("RDO is required")}),u=rt({initialValues:t||{FirstName:"",MiddleName:"",LastName:"",Gender:"",Citizenship:"",DateOfBirth:"",PlaceOfBirth:"",Occupation:"",CivilStatus:"",TIN:"",EmailAddress:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",ZIPCode:"",StreetAddress:"",RDO:""},validationSchema:c,onSubmit:y=>e(y)}),{values:d,handleChange:f,handleBlur:m,errors:p,touched:h,setFieldValue:b,handleSubmit:g,submitCount:x}=u;return w.useEffect(()=>{const y=l.find(v=>v.ID.toString()===d.BarangayID);y&&(y.MunicipalityCode&&b("MunicipalityID",y.MunicipalityCode),y.ProvinceCode&&b("ProvinceID",y.ProvinceCode),y.RegionCode&&b("RegionID",y.RegionCode))},[d.BarangayID]),w.useEffect(()=>{const y=i.find(v=>v.ID.toString()===d.MunicipalityID);y&&(y.ProvinceCode&&b("ProvinceID",y.ProvinceCode),y.RegionCode&&b("RegionID",y.RegionCode))},[d.MunicipalityID]),w.useEffect(()=>{const y=s.find(v=>v.ID.toString()===d.ProvinceID);y&&y.RegionCode&&b("RegionID",y.RegionCode)},[d.ProvinceID]),console.log("values",p),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"First Name",name:"FirstName",value:d.FirstName,onChange:f,onBlur:m,error:h.FirstName&&p.FirstName,touched:h.FirstName,required:!0}),o.jsx(I,{label:"Middle Name",name:"MiddleName",value:d.MiddleName,onChange:f,onBlur:m,error:p.MiddleName&&h.MiddleName,touched:h.MiddleName}),o.jsx(I,{label:"Last Name",name:"LastName",value:d.LastName,onChange:f,onBlur:m,error:h.LastName&&p.LastName,touched:h.LastName,required:!0}),o.jsx(I,{label:"Gender",name:"Gender",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],value:d.Gender,onChange:f,onBlur:m,error:h.Gender&&p.Gender,touched:h.Gender,required:!0}),o.jsx(I,{label:"Citizenship",name:"Citizenship",value:d.Citizenship,onChange:f,onBlur:m,error:h.Citizenship&&p.Citizenship,touched:h.Citizenship,required:!0}),o.jsx(I,{label:"Date of Birth",name:"DateOfBirth",type:"date",value:d.DateOfBirth,onChange:f,onBlur:m,error:h.DateOfBirth&&p.DateOfBirth,touched:h.DateOfBirth,required:!0}),o.jsx(I,{label:"Place of Birth",name:"PlaceOfBirth",value:d.PlaceOfBirth,onChange:f,onBlur:m,error:h.PlaceOfBirth&&p.PlaceOfBirth,touched:h.PlaceOfBirth,required:!0}),o.jsx(I,{label:"Occupation",name:"Occupation",value:d.Occupation,onChange:f,onBlur:m,error:h.Occupation&&p.Occupation,touched:h.Occupation,required:!0}),o.jsx(I,{label:"Civil Status",name:"CivilStatus",type:"select",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widowed",label:"Widowed"},{value:"Separated",label:"Separated"},{value:"Divorced",label:"Divorced"}],value:d.CivilStatus,onChange:f,onBlur:m,error:h.CivilStatus&&p.CivilStatus,touched:h.CivilStatus,required:!0}),o.jsx(I,{label:"TIN",name:"TIN",value:d.TIN,onChange:f,onBlur:m,error:h.TIN&&p.TIN,touched:h.TIN,required:!0}),o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",value:d.EmailAddress,onChange:f,onBlur:m,error:h.EmailAddress&&p.EmailAddress,touched:h.EmailAddress,required:!0}),o.jsx(I,{label:"Region",name:"RegionID",type:"select",options:a.map(y=>({value:y.ID,label:y.Name})),value:d.RegionID,onChange:f,onBlur:m,error:h.RegionID&&p.RegionID,touched:h.RegionID,required:!0}),o.jsx(I,{label:"Province",name:"ProvinceID",type:"select",options:s.map(y=>({value:y.ID,label:y.Name})),value:d.ProvinceID,onChange:f,onBlur:m,error:h.ProvinceID&&p.ProvinceID,touched:h.ProvinceID,required:!0}),o.jsx(I,{label:"Municipality",name:"MunicipalityID",type:"select",options:i.map(y=>({value:y.ID,label:y.Name})),value:d.MunicipalityID,onChange:f,onBlur:m,error:h.MunicipalityID&&p.MunicipalityID,touched:h.MunicipalityID,required:!0}),o.jsx(I,{label:"Barangay",name:"BarangayID",type:"select",options:l.map(y=>({value:y.ID,label:y.Name})),value:d.BarangayID,onChange:f,onBlur:m,error:h.BarangayID&&p.BarangayID,touched:h.BarangayID,required:!0}),o.jsx(I,{label:"ZIP Code",name:"ZIPCode",value:d.ZIPCode,onChange:f,onBlur:m,error:h.ZIPCode&&p.ZIPCode,touched:h.ZIPCode,required:!0}),o.jsx(I,{label:"Street Address",name:"StreetAddress",type:"textarea",rows:2,value:d.StreetAddress,onChange:f,onBlur:m,error:h.StreetAddress&&p.StreetAddress,touched:h.StreetAddress,required:!0}),o.jsx(I,{label:"Revenue District Office",name:"RDO",value:d.RDO,onChange:f,onBlur:m,error:h.RDO&&p.RDO,touched:h.RDO,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:t?"Update":"Save"})]}),x>0&&Object.keys(p).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(p).map(([y,v])=>o.jsx("li",{children:v},y))})]})]})}const Sj="https://staging-engine.testthelink.online",hpe=[],Nn=L("customers/fetchCustomers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Sj}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ry=L("customers/addCustomer",async(t,e)=>{try{const r=await fetch(`${Sj}/customer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),$A=L("customers/updateCustomer",async(t,e)=>{try{const r=await fetch(`${Sj}/customer/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),My=L("customers/deleteCustomer",async(t,e)=>{try{const r=await fetch(`${Sj}/customer/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ppe=xe({name:"customers",initialState:{customers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Nn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nn.fulfilled,(e,r)=>{e.isLoading=!1,e.customers=Array.isArray(r.payload)?r.payload:[]}).addCase(Nn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch customers",console.warn("Failed to fetch customer details, using mock data.",e.error),e.customers=hpe}).addCase(Ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers.push(r.payload)}).addCase(Ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add customer",console.error("Failed to add customer:",e.error)}).addCase($A.pending,e=>{e.isLoading=!0,e.error=null}).addCase($A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.customers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.customers)||(e.customers=[]),e.customers[n]=r.payload)}).addCase(My.pending,e=>{e.isLoading=!0,e.error=null}).addCase(My.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers=e.customers.filter(n=>n.ID!==r.payload)}).addCase(My.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete customer",console.error("Failed to delete customer:",e.error)})}}),gpe=ppe.reducer;function ype(){const t=le(),{customers:e,isLoading:r}=V(j=>j.customers),{industries:n}=V(j=>j.industries),{taxCodes:a}=V(j=>j.taxCodes),{paymentTerms:s}=V(j=>j.paymentTerms),{modeOfPayments:i}=V(j=>j.modeOfPayments),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null);w.useEffect(()=>{t(Nn()),t(Fi()),t(Gn()),t(Bi()),t(qi())},[t]);const b=()=>{d(null),c(!0)},g=j=>{d(j),c(!0)},x=j=>{console.log("Delete customer:",j),h(j),m(!0)},y=async()=>{if(p)try{await t(My(p.ID)).unwrap(),m(!1),h(null),q.success("Customer deleted successfully")}catch(j){console.error("Failed to delete Individual/Citizen:",j),q.error(j.message||"Failed to delete Individual/Citizen. Please try again.")}},v=async j=>{try{u?(await t($A({...j,ID:u.ID})).unwrap(),q.success("Customer updated successfully")):(await t(Ry(j)).unwrap(),q.success("Customer added successfully")),t(Nn())}catch(S){console.error("Failed to save Individual/Citizen:",S),q.error(S.message||"Failed to save Individual/Citizen")}finally{d(null),c(!1)}},N=[{key:"Code",header:"Code",sortable:!0,render:j=>j||"N/A"},{key:"Name",header:"Name",sortable:!0,render:j=>j||"N/A"},{key:"TIN",header:"TIN",sortable:!0,render:j=>j||"N/A"},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:j=>{const S=s.find(k=>k.ID==j);return(S==null?void 0:S.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:j=>{const S=i.find(k=>k.ID==j);return(S==null?void 0:S.Name)||"N/A"}},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:j=>{const S=a.find(k=>k.ID==j);return(S==null?void 0:S.Code)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:j=>{const S=n.find(k=>k.ID==j);return(S==null?void 0:S.Name)||"N/A"}},{key:"ZIPCode",header:"ZIP Code",sortable:!0,render:j=>j||"N/A"},{key:"PlaceofIncorporation",header:"Place of Incorporation",sortable:!0,render:j=>j||"N/A"},{key:"KindofOrganization",header:"Kind of Organization",sortable:!0,render:j=>j||"N/A"},{key:"DateofRegistration",header:"Date of Registration",sortable:!0,render:j=>j||"N/A"}],C=[{icon:Ae,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Individuals/Citizens"}),o.jsx("p",{children:"Manage Individuals/Citizens here"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Individual/Citizen"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:N,data:e,actions:C,loading:r,emptyMessage:"No individuals/citizens found. Click 'Add Individual/Citizen' to create one."})}),o.jsx(se,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Individual/Citizen":"Add Individual/Citizen",size:"lg",children:o.jsx(mpe,{initialData:u,onClose:()=>c(!1),onSubmit:v})}),o.jsxs(se,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete the individual/citizen?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}const bpe={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",info:"bg-info-600 text-white hover:bg-info-700 focus:ring-info-500"},xpe={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function wt({children:t,variant:e="primary",size:r="md",className:n="",disabled:a=!1,type:s="button",onClick:i,...l}){return o.jsx("button",{type:s,className:_e("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",bpe[e],xpe[r],a&&"opacity-50 cursor-not-allowed",n),disabled:a,onClick:i,...l,children:t})}function vpe({initialData:t,onSubmit:e,onClose:r}){var y;const n=le(),{customers:a}=V(v=>v.customers);w.useEffect(()=>{n(Nn())},[n]);const s=rt({initialValues:{T_D_No:"",PropertyID:"",OwnerID:"",OwnerTIN:"",OwnerTelephoneNumber:"",OwnerAddress:"",BeneficialorAdminUserID:"",BeneficialorAdminTIN:"",BeneficialorAdminAddress:"",BeneficialorAdminTelephoneNumber:"",OCT_TCT_CLOA_Number:"",SurveyNumber:"",LotNumber:"",CCT:"",BlockNumber:"",Dated:"",North:"",South:"",East:"",West:"",Taxable:!1,CancelTDNumber:"",PreviousAssessedValue:"",KindofProperty:"",Storeys:"",Description:"",ActualUse:"",Classification:"",AssessmentLevel:"",MarketValue:"",AmountInWords:"",Memoranda:"",...t||{}},validationSchema:oe({T_D_No:G().required("TD No. is required"),PropertyID:G().required("Property ID is required"),OwnerID:G().required("Owner ID is required"),OwnerTIN:E().required("Owner TIN is required"),OwnerTelephoneNumber:E().required("Owner Telephone Number is required"),OwnerAddress:E().required("Owner Address is required"),BeneficialorAdminUserID:G().required("Beneficialor Admin User ID is required"),BeneficialorAdminTIN:E().required("Beneficialor Admin TIN is required"),BeneficialorAdminAddress:E().required("Beneficialor Admin Address is required"),BeneficialorAdminTelephoneNumber:E().required("Beneficialor Admin Telephone Number is required"),OCT_TCT_CLOA_Number:E().required("OCT TCT CLOA Number is required"),SurveyNumber:E().required("Survey Number is required"),LotNumber:E().required("Lot Number is required"),CCT:E().required("CCT is required"),BlockNumber:E().required("Block Number is required"),Dated:E().required("Dated is required"),North:E().required("North is required"),South:E().required("South is required"),East:E().required("East is required"),West:E().required("West is required"),Taxable:Lo().oneOf([!0],"Field is required"),CancelTDNumber:E().required("Cancel TD Number is required"),Effectivity:E().required("Effectivity is required"),OwnerPrevious:E().required("Owner Previous is required"),PreviousAssessedValue:G().required("Previous Assessed Value is required"),KindofProperty:E().required("Kind of Property is required"),Storeys:E().required("Number of Storeys is required"),Description:E().required("Description is required"),kind:E().required("Kind is required"),ActualUse:E().required("Actual Use is required"),Classification:E().required("Classification is required"),AreaSize:E().required("Area Size is required"),AssessmentLevel:E().required("Assessment Level is required"),MarketValue:E().required("Market Value is required"),AmountInWords:E().required("Amount in Words is required"),Memoranda:E().required("Memoranda is required"),assessmentRows:Ht().of(oe().shape({Kind:E().required("Kind is required"),Classification:E().required("Classification is required"),Area:E().required("Area is required"),MarketValue:E().required("Market Value is required"),ActualUse:E().required("Actual Use is required"),AssessmentLevel:E().required("Assessment Level is required"),AssessmentValue:E().required("Assessment Value is required")}))}),onSubmit:v=>{e({...v,assessmentRows:i})}}),[i,l]=w.useState(()=>{var v;return(v=t==null?void 0:t.AssessmentRows)!=null&&v.length?t.AssessmentRows.map(N=>({...N})):[{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}]}),{values:c,handleChange:u,handleBlur:d,errors:f,touched:m,handleSubmit:p,isSubmitting:h}=s,b=()=>{l([...i,{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}])},g=v=>{if(i.length===1)return;const N=[...i];N.splice(v,1),l(N)},x=(v,N,C)=>{const j=[...i];j[v][N]=C,l(j)};return o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{required:!0,label:"TD No.",name:"T_D_No",type:"number",value:c.T_D_No,onChange:u,onBlur:d,error:m.T_D_No&&f.T_D_No,touched:m.T_D_No}),o.jsx(I,{required:!0,label:"Property Identification No.",name:"PropertyID",type:"number",value:c.PropertyID,onChange:u,onBlur:d,error:m.PropertyID&&f.PropertyID,touched:m.PropertyID})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(I,{label:"Owner",name:"OwnerID",type:"select",required:!0,options:a.map(v=>({value:v.ID,label:v.Name})),value:c.OwnerID,onChange:u,onBlur:d,error:m.OwnerID&&f.OwnerID,touched:m.OwnerID}),o.jsx(I,{label:"TIN",name:"OwnerTIN",type:"number",required:!0,value:c.OwnerTIN,onChange:u,onBlur:d,error:m.OwnerTIN&&f.OwnerTIN,touched:m.OwnerTIN}),o.jsx(I,{label:"Owner Telephone No.",name:"OwnerTelephoneNumber",type:"number",required:!0,value:c.OwnerTelephoneNumber,onChange:u,onBlur:d,error:m.OwnerTelephoneNumber&&f.OwnerTelephoneNumber,touched:m.OwnerTelephoneNumber}),o.jsx(I,{label:"Address",name:"OwnerAddress",type:"text",required:!0,value:c.OwnerAddress,onChange:u,onBlur:d,error:m.OwnerAddress&&f.OwnerAddress,touched:m.OwnerAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(I,{label:"Beneficial/Administrator User",options:a.map(v=>({value:v.ID,label:v.Name})),name:"BeneficialorAdminUserID",type:"select",required:!0,value:c.BeneficialorAdminUserID,onChange:u,onBlur:d,error:m.BeneficialorAdminUserID&&f.BeneficialorAdminUserID,touched:m.BeneficialorAdminUserID}),o.jsx(I,{label:"Beneficial/Admin User TIN",name:"BeneficialorAdminTIN",type:"number",required:!0,value:c.BeneficialorAdminTIN,onChange:u,onBlur:d,error:m.BeneficialorAdminTIN&&f.BeneficialorAdminTIN,touched:m.BeneficialorAdminTIN}),o.jsx(I,{label:"Beneficial/Administrator Telephone No.",name:"BeneficialorAdminTelephoneNumber",type:"number",required:!0,value:c.BeneficialorAdminTelephoneNumber,onChange:u,onBlur:d,error:m.BeneficialorAdminTelephoneNumber&&f.BeneficialorAdminTelephoneNumber,touched:m.BeneficialorAdminTelephoneNumber}),o.jsx(I,{label:"Beneficial/Administrator Address",name:"BeneficialorAdminAddress",type:"text",required:!0,value:c.BeneficialorAdminAddress,onChange:u,onBlur:d,error:m.BeneficialorAdminAddress&&f.BeneficialorAdminAddress,touched:m.BeneficialorAdminAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-300",children:[o.jsx(I,{label:"OCT/TCTCLOA No.",name:"OCT_TCT_CLOA_Number",type:"number",required:!0,value:c.OCT_TCT_CLOA_Number,onChange:u,onBlur:d,error:m.OCT_TCT_CLOA_Number&&f.OCT_TCT_CLOA_Number,touched:m.OCT_TCT_CLOA_Number}),o.jsx(I,{label:"Survey No.",name:"SurveyNumber",type:"number",required:!0,value:c.SurveyNumber,onChange:u,onBlur:d,error:m.SurveyNumber&&f.SurveyNumber,touched:m.SurveyNumber}),o.jsx(I,{label:"Lot No.",name:"LotNumber",type:"text",required:!0,value:c.LotNumber,onChange:u,onBlur:d,error:m.LotNumber&&f.LotNumber,touched:m.LotNumber}),o.jsx(I,{label:"CCT",name:"CCT",type:"text",required:!0,value:c.CCT,onChange:u,onBlur:d,error:m.CCT&&f.CCT,touched:m.CCT}),o.jsx(I,{label:"Block No.",name:"BlockNumber",type:"text",required:!0,value:c.BlockNumber,onChange:u,onBlur:d,error:m.BlockNumber&&f.BlockNumber,touched:m.BlockNumber}),o.jsx(I,{label:"Dated",name:"Dated",type:"date",required:!0,value:c.Dated,onChange:u,onBlur:d,error:m.Dated&&f.Dated,touched:m.Dated})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Boundaries:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"North",name:"North",type:"text",required:!0,value:c.North,onChange:u,onBlur:d,error:m.North&&f.North,touched:m.North}),o.jsx(I,{label:"South",name:"South",type:"text",required:!0,value:c.South,onChange:u,onBlur:d,error:m.South&&f.South,touched:m.South}),o.jsx(I,{label:"East",name:"East",type:"text",required:!0,value:c.East,onChange:u,onBlur:d,error:m.East&&f.East,touched:m.East}),o.jsx(I,{label:"West",name:"West",type:"text",required:!0,value:c.West,onChange:u,onBlur:d,error:m.West&&f.West,touched:m.West})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Taxable",checked:c.Taxable,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"ml-2 text-sm",children:"Taxable"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx("div",{children:o.jsx(I,{type:"select",name:"CancelTDNumber",placeholder:"Cancel TD No.",label:"This Declaration cancels TD No.",options:["1","2","3"].map(v=>({label:v,value:v})),required:!0,value:c.CancelTDNumber,onChange:u,onBlur:d,error:m.CancelTDNumber&&f.CancelTDNumber,touched:m.CancelTDNumber,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{type:"text",name:"Effectivity",placeholder:"Effectivity of Assessment/Reassessment",label:"Effectivity of Assessment/Reassessment",required:!0,value:c.Effectivity,onChange:u,error:m.Effectivity&&f.Effectivity,touched:m.Effectivity,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{type:"text",name:"OwnerPrevious",placeholder:"Previous Owner",label:"Previous Owner",required:!0,value:c.OwnerPrevious,error:m.OwnerPrevious&&f.OwnerPrevious,touched:m.OwnerPrevious,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{type:"number",name:"PreviousAssessedValue",placeholder:" Previous Assessed Value:",label:"Previous Assessed Value:",value:c.PreviousAssessedValue,error:m.PreviousAssessedValue&&f.PreviousAssessedValue,touched:m.PreviousAssessedValue,onChange:u,required:!0,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),o.jsxs("div",{className:"p-4 border border-gray-300 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Kind",name:"KindofProperty",type:"text",value:c.KindofProperty,onChange:u,onBlur:d,required:!0,error:m.KindofProperty&&f.KindofProperty,touched:m.KindofProperty}),o.jsx(I,{label:"Number of Storeys",name:"Storeys",type:"number",value:c.Storeys,onChange:u,onBlur:d,required:!0,error:m.Storeys&&f.Storeys,touched:m.Storeys})]}),o.jsx(I,{label:"Description",name:"Description",type:"textarea",value:c.Description,onChange:u,onBlur:d,error:m.Description&&f.Description,required:!0,touched:m.Description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx("div",{children:o.jsx(I,{label:"Kind: (LAND / BUILDING)",name:"kind",type:"select",required:!0,value:c.kind,onChange:u,onBlur:d,error:m.kind&&f.kind,touched:m.kind,options:["LAND","BUILDING"].map(v=>({label:v,value:v}))})}),o.jsx("div",{children:o.jsx(I,{label:"Actual Use",name:"ActualUse",type:"select",required:!0,value:c.ActualUse,onChange:u,onBlur:d,error:m.ActualUse&&f.ActualUse,touched:m.ActualUse,options:["RESIDENTIAL","COMMERCIAL","INDUSTRIAL"].map(v=>({label:v,value:v}))})}),o.jsx("div",{children:o.jsx(I,{label:"Classification",name:"Classification",type:"select",required:!0,value:c.Classification,onChange:u,onBlur:d,error:m.Classification&&f.Classification,touched:m.Classification,options:["A","B","C"].map(v=>({label:v,value:v}))})}),o.jsx("div",{children:o.jsx(I,{type:"text",name:"AreaSize",placeholder:"Enter Area Size",label:"Area Size",required:!0,value:c.AreaSize,onBlur:d,error:m.AreaSize&&f.AreaSize,touched:m.AreaSize,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{type:"number",name:"AssessmentLevel",label:"Assessment Level",placeholder:"Enter Assessment Level",required:!0,value:c.AssessmentLevel,onBlur:d,error:m.AssessmentLevel&&f.AssessmentLevel,touched:m.AssessmentLevel,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{placeholder:"Enter Market Value",type:"number",name:"MarketValue",label:"Market Value",value:c.MarketValue,onBlur:d,error:m.MarketValue&&f.MarketValue,touched:m.MarketValue,required:!0,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Details"}),o.jsxs(wt,{type:"button",onClick:b,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(K0,{className:"w-4 h-4 mr-1"}),"ADD"]})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsx("tr",{children:["Kind","Classification","Area ","Market Value","Actual Use","Assessment Level","Assessment Value","Actions"].map(v=>o.jsxs("th",{className:"border border-gray-300 p-2 text-sm",children:[v," ",o.jsx("span",{className:"text-red-500",children:"*"})]},v))})}),o.jsx("tbody",{children:i.map((v,N)=>o.jsxs("tr",{children:[["Kind","Classification","Area","MarketValue","ActualUse","AssessmentLevel","AssessmentValue"].map(C=>{var j,S,k,T,A,D;return o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx(I,{type:"text",value:v[C],onChange:P=>x(N,C,P.target.value),onBlur:d,error:((S=(j=m.assessmentRows)==null?void 0:j[N])==null?void 0:S[C])&&((T=(k=f.assessmentRows)==null?void 0:k[N])==null?void 0:T[C]),touched:(D=(A=m.assessmentRows)==null?void 0:A[N])==null?void 0:D[C],className:"w-full p-1 border-0 focus:ring-1 focus:ring-blue-500"})},C)}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx(wt,{type:"button",onClick:()=>g(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:i.length===1,children:o.jsx(nr,{className:"w-4 h-4"})})})]},N))})]}),((y=f==null?void 0:f.assessmentRows)==null?void 0:y.length)>0&&o.jsxs("p",{className:"text-red-500 text-sm mt-2",children:["At Least One Row Required"," "]})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amounts in Words:"}),o.jsx("textarea",{name:"AmountInWords",value:c.AmountInWords,onChange:u,onBlur:d,error:m.AmountInWords&&f.AmountInWords,touched:m.AmountInWords,rows:"2",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1 bg-red-100 p-2",children:"Memoranda:"}),o.jsx("textarea",{name:"Memoranda",value:c.Memoranda,onChange:u,onBlur:d,error:m.Memoranda&&f.Memoranda,touched:m.Memoranda,rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"save"})]})]})}const Aj="https://staging-engine.testthelink.online",jpe=[],ef=L("taxDeclarations/fetchTaxDeclarations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Aj}/propertyTaxDeclaration`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ly=L("taxDeclarations/addTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Aj}/propertyTaxDeclaration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),RA=L("taxDeclarations/updateTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Aj}/propertyTaxDeclaration/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Fy=L("taxDeclarations/deleteTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Aj}/propertyTaxDeclaration/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),wpe=xe({name:"taxDeclarations",initialState:{taxDeclarations:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ef.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ef.fulfilled,(e,r)=>{e.isLoading=!1,e.taxDeclarations=Array.isArray(r.payload)?r.payload:[]}).addCase(ef.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax declarations",console.warn("Failed to fetch tax declarations, using mock data.",e.error),e.taxDeclarations=jpe}).addCase(Ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations.push(r.payload)}).addCase(Ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax declaration",console.error("Failed to add tax declaration:",e.error)}).addCase(RA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(RA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxDeclarations.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations[n]=r.payload)}).addCase(Fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations=e.taxDeclarations.filter(n=>n.ID!==r.payload)}).addCase(Fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax declaration",console.error("Failed to delete tax declaration:",e.error)})}}),Cpe=wpe.reducer;function Npe(){const t=le(),{taxDeclarations:e,isLoading:r}=V(y=>y.taxDeclarations),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(ef())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(Fy(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete tax declaration:",y)}},b=async y=>{try{s?(await t(RA({...y,ID:s.ID})).unwrap(),q.success("Tax declaration updated successfully")):(await t(Ly(y)).unwrap(),q.success("Tax declaration saved successfully")),t(ef())}catch(v){console.error("Failed to save tax declaration:",v),q.error("Failed to save tax declaration. Please try again.")}finally{}},g=[{key:"T_D_No",header:"Tax Declaration No.",sortable:!0},{key:"PropertyID",header:"Property ID",sortable:!0},{key:"OwnerID",header:"Owner ID",sortable:!0},{key:"OwnerTIN",header:"Owner TIN",sortable:!0},{key:"OwnerAddress",header:"Owner Address",sortable:!0},{key:"OwnerTelephoneNumber",header:"Owner Telephone No.",sortable:!0},{key:"BeneficialorAdminUserID",header:"Beneficial/Administrator User",sortable:!0},{key:"BeneficialorAdminTIN",header:"Beneficial/Administrator TIN",sortable:!0},{key:"BeneficialorAdminAddress",header:"Beneficial/Administrator Address",sortable:!0},{key:"BeneficialorAdminTelephoneNumber",header:"Beneficial/Administrator Telephone No.",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Declarations"}),o.jsx("p",{children:"Manage Tax Declarations"})]}),o.jsxs("div",{className:"flex gap-4 items-center max-sm:flex-col max-sm:w-full",children:[o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Declaration"]}),o.jsx("div",{className:"max-sm:w-full",children:o.jsx(I,{type:"select",name:"year",label:"Year",placeholder:"Select a year",options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"}]})})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No tax declarations found. Click 'Add Tax Declaration' to create one."})}),o.jsx(se,{size:"xl",isOpen:n,onClose:()=>a(!1),title:s?"Edit Tax Declaration":"Add Tax Declaration",children:o.jsx(vpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax declaration "',u==null?void 0:u.T_D_No,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const kj="https://staging-engine.testthelink.online",Spe=[],tf=L("generalRevisions/fetchGeneralRevisions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${kj}/generalRevision`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),By=L("generalRevisions/addGeneralRevision",async(t,e)=>{try{const r=await fetch(`${kj}/generalRevision`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),MA=L("generalRevisions/updateGeneralRevision",async(t,e)=>{try{const r=await fetch(`${kj}/generalRevision/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),qy=L("generalRevisions/deleteGeneralRevision",async(t,e)=>{try{const r=await fetch(`${kj}/generalRevision/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ape=xe({name:"generalRevisions",initialState:{generalRevisions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(tf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tf.fulfilled,(e,r)=>{e.isLoading=!1,e.generalRevisions=Array.isArray(r.payload)?r.payload:[]}).addCase(tf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch general revisions",console.warn("Failed to fetch general revisions, using mock data.",e.error),e.generalRevisions=Spe}).addCase(By.pending,e=>{e.isLoading=!0,e.error=null}).addCase(By.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions.push(r.payload)}).addCase(By.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add general revision",console.error("Failed to add general revision:",e.error)}).addCase(MA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(MA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalRevisions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions[n]=r.payload)}).addCase(qy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions=e.generalRevisions.filter(n=>n.ID!==r.payload)}).addCase(qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete general revision",console.error("Failed to delete general revision:",e.error)})}}),kpe=Ape.reducer,Ipe=({initialData:t,onSubmit:e,onCancel:r,isEdit:n})=>{const a=le(),{employees:s}=V(u=>u.employees);w.useEffect(()=>{a(on())},[a]);const i=oe().shape({General_Revision_Date_Year:E().required("Required"),GeneralRevisionCode:E().required("Required"),TaxDeclarationCode:E().required("Required")}),l=rt({initialValues:t||{General_Revision_Date_Year:"",GeneralRevisionCode:"",TaxDeclarationCode:"",CityorMunicipalityAssessor:"",CityorMunicipalityAssistantAssessor:"",ProvincialAssessor:"",ProvincialAssistantAssessor:""},validationSchema:i,onSubmit:u=>{e(u)}}),c=s.map(u=>({value:u.ID,label:`${u.LastName}, ${u.FirstName}`}));return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"General Revision Date (Year)",name:"General_Revision_Date_Year",type:"number",value:l.values.General_Revision_Date_Year,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.General_Revision_Date_Year,touched:l.touched.General_Revision_Date_Year,required:!0}),o.jsx(I,{label:"General Revision Code",name:"GeneralRevisionCode",type:"text",value:l.values.GeneralRevisionCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.GeneralRevisionCode,touched:l.touched.GeneralRevisionCode,required:!0})]}),o.jsx(I,{label:"General Revision Tax Declaration Code",name:"TaxDeclarationCode",type:"text",value:l.values.TaxDeclarationCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.TaxDeclarationCode,touched:l.touched.TaxDeclarationCode,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(pt,{label:"City Or Municipality Assessor",options:c,placeholder:"Select Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssessor,error:l.errors.CityorMunicipalityAssessor,touched:l.touched.CityorMunicipalityAssessor}),o.jsx(pt,{label:"Assistant City Or Municipality Assessor",options:c,placeholder:"Select Assistant Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssistantAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssistantAssessor,error:l.errors.CityorMunicipalityAssistantAssessor,touched:l.touched.CityorMunicipalityAssistantAssessor}),o.jsx(pt,{label:"Provincial Assessor",options:c,placeholder:"Select Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssessor",u||"")},selectedValue:l.values.ProvincialAssessor,error:l.errors.ProvincialAssessor,touched:l.touched.ProvincialAssessor}),o.jsx(pt,{label:"Assistant Provincial Assessor",options:c,placeholder:"Select Assistant Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssistantAssessor",u||"")},selectedValue:l.values.ProvincialAssistantAssessor,error:l.errors.ProvincialAssistantAssessor,touched:l.touched.ProvincialAssistantAssessor})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})},Tpe=()=>{const t=le(),{generalRevisions:e,isLoading:r}=V(y=>y.generalRevisions),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(null),[u,d]=w.useState(null);w.useEffect(()=>{t(tf())},[t]);const f=()=>{c(null),a(!0)},m=y=>{c(y),a(!0)},p=async y=>{try{l?(await t(MA({...y,ID:l.ID})).unwrap(),q.success("Revision updated successfully")):(await t(By(y)).unwrap(),q.success("Revision added successfully")),t(tf())}catch(v){console.error("Failed to save general revision:",v),q.error("Failed to save general revision. Please try again.")}finally{a(!1)}},h=y=>{d(y),i(!0)},b=async()=>{try{u&&(await t(qy(u.ID)).unwrap(),q.success("Revision deleted successfully"),i(!1))}catch(y){console.error("Failed to delete revision:",y),q.error("Failed to delete revision. Please try again.")}},g=[{key:"General_Revision_Date_Year",header:"General Revision Date (Year)",sortable:!0},{key:"GeneralRevisionCode",header:"General Revision Code",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Revisions"}),o.jsx("p",{children:"Manage General Revision Records"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Revision"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,actions:x,data:e,loading:r,emptyMessage:"No general revisions found. Click 'Add Revision' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:l?"Edit General Revision":"Add General Revision",size:"lg",children:o.jsx(Ipe,{initialData:l,onClose:()=>a(!1),onSubmit:p})}),o.jsxs(se,{isOpen:s,onClose:()=>i(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the revision"," ",o.jsx("strong",{children:u==null?void 0:u.revisionYear}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})};function Dpe({initialData:t,onSubmit:e,onClose:r}){const n=new Date().getFullYear(),a=oe({GeneralRevisionYear:G().required("General Revision Year is required"),Classification:E().required("Classification is required"),Unit:E().required("Unit is required"),ActualUse:E().required("Actual Use is required"),SubClassification:E().required("Sub Class No is required"),Price:G().required("Unit Value is required"),Location:E().required("Location or Description is required")}),s=rt({initialValues:t||{GeneralRevisionYear:n,Classification:"",Unit:"",ActualUse:"",SubClassification:"",Price:"",Location:""},validationSchema:a,onSubmit:c=>{e(c)}}),i=[{value:"AGRICULTURAL",label:"AGRICULTURAL"},{value:"BUILDING",label:"BUILDING"},{value:"COMMERCIAL",label:"COMMERCIAL"},{value:"INDUSTRIAL",label:"INDUSTRIAL"},{value:"RESIDENTIAL",label:"RESIDENTIAL"}],l=()=>{if(!s.values.Classification)return[];const u={AGRICULTURAL:"A",BUILDING:"B",COMMERCIAL:"C",INDUSTRIAL:"I",RESIDENTIAL:"R"}[s.values.Classification];return u?Array.from({length:6},(d,f)=>({value:`${u}${f+1}`,label:`${u}${f+1}`})):[]};return w.useEffect(()=>{if(s.values.Classification&&s.values.SubClassification){const c=s.values.SubClassification.charAt(0),u=s.values.Classification.charAt(0);c!==u&&s.setFieldValue("SubClassification","")}},[s.values.Classification]),o.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"General Revision Year",name:"GeneralRevisionYear",type:"number",value:s.values.GeneralRevisionYear,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.GeneralRevisionYear,touched:s.touched.GeneralRevisionYear,required:!0}),o.jsx(I,{label:"Classification",name:"Classification",type:"select",options:i,value:s.values.Classification,onChange:c=>{s.handleChange(c),s.setFieldValue("SubClassification","")},onBlur:s.handleBlur,error:s.errors.Classification,touched:s.touched.Classification,required:!0}),o.jsx(I,{label:"Sub Class No.",name:"SubClassification",type:"select",options:l(),value:s.values.SubClassification,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.SubClassification,touched:s.touched.SubClassification,required:!0,disabled:!s.values.Classification}),o.jsx(I,{label:"Unit",name:"Unit",type:"select",options:[{value:"sqm",label:"Square Meter"},{value:"hec",label:"Hectare"}],value:s.values.Unit,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Unit,touched:s.touched.Unit,required:!0}),o.jsx(I,{label:"Actual Use",name:"ActualUse",type:"text",value:s.values.ActualUse,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.ActualUse,touched:s.touched.ActualUse,required:!0}),o.jsx(I,{label:"Unit Value",name:"Price",type:"number",value:s.values.Price,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Price,touched:s.touched.Price,required:!0}),o.jsx(I,{label:"Location or Description",name:"Location",type:"textarea",value:s.values.Location,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Location,touched:s.touched.Location,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}const Ij="https://staging-engine.testthelink.online",Epe=[],rf=L("baseUnits/fetchBaseUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ij}/scheduleofBaseunitMarketValue`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Vy=L("baseUnits/addBaseUnit",async(t,e)=>{try{const r=await fetch(`${Ij}/scheduleofBaseunitMarketValue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),LA=L("baseUnits/updateBaseUnit",async(t,e)=>{try{const r=await fetch(`${Ij}/scheduleofBaseunitMarketValue/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Uy=L("baseUnits/deleteBaseUnit",async(t,e)=>{try{const r=await fetch(`${Ij}/scheduleofBaseunitMarketValue/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ppe=xe({name:"baseUnits",initialState:{baseUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(rf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rf.fulfilled,(e,r)=>{e.isLoading=!1,e.baseUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(rf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch base units",console.warn("Failed to fetch base units, using mock data.",e.error),e.baseUnits=Epe}).addCase(Vy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits.push(r.payload)}).addCase(Vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add base unit",console.error("Failed to add base unit:",e.error)}).addCase(LA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(LA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.baseUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits[n]=r.payload)}).addCase(Uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits=e.baseUnits.filter(n=>n.ID!==r.payload)}).addCase(Uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete base unit",console.error("Failed to delete base unit:",e.error)})}}),Ope=Ppe.reducer;function _pe(){const t=le(),{baseUnits:e,isLoading:r}=V(y=>y.baseUnits),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(rf())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},p=y=>{d(y),c(!0)},h=async()=>{if(u)try{await t(Uy(u.ID)).unwrap(),c(!1),d(null),q.success("Base unit deleted successfully")}catch(y){console.error("Failed to delete base unit:",y),q.error("Failed to delete base unit. Please try again.")}},b=async y=>{try{s?(await t(LA({...y,ID:s.ID})).unwrap(),q.success("Base unit updated successfully")):(await t(Vy(y)).unwrap(),q.success("Base unit added successfully")),t(rf())}catch(v){console.error("Failed to save base unit:",v),q.error("Failed to save base unit. Please try again.")}finally{a(!1)}},g=[{key:"GeneralRevisionYear",header:"General Revision Year",sortable:!0},{key:"Classification",header:"Classification",sortable:!0},{key:"Location",header:"Location",sortable:!0},{key:"Unit",header:"Unit",sortable:!0},{key:"ActualUse",header:"Actual Use",sortable:!0},{key:"SubClassification",header:"Sub Classification",sortable:!0},{key:"Price",header:"Sub Classification",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Base Units"}),o.jsx("p",{children:"Manage Base Units"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Base Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No base units found. Click 'Add Base Unit' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Base Unit":"Add Base Unit",children:o.jsx(Dpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the base unit "',u==null?void 0:u.Unit,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function $pe(t,e){if(ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q6(t){var e=$pe(t,"string");return ll(e)=="symbol"?e:e+""}function Ad(t,e,r){return(e=Q6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r$(Object(r),!0).forEach(function(n){Ad(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rpe(t){if(Array.isArray(t))return t}function Mpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function FA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function eV(t,e){if(t){if(typeof t=="string")return FA(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?FA(t,e):void 0}}function Lpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xs(t,e){return Rpe(t)||Mpe(t,e)||eV(t,e)||Lpe()}function Fpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Fs(t,e){if(t==null)return{};var r,n,a=Fpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var Bpe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function qpe(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,m=t.onMenuOpen,p=t.value,h=Fs(t,Bpe),b=w.useState(l!==void 0?l:r),g=xs(b,2),x=g[0],y=g[1],v=w.useState(c!==void 0?c:a),N=xs(v,2),C=N[0],j=N[1],S=w.useState(p!==void 0?p:i),k=xs(S,2),T=k[0],A=k[1],D=w.useCallback(function(O,_){typeof u=="function"&&u(O,_),A(O)},[u]),P=w.useCallback(function(O,_){var B;typeof d=="function"&&(B=d(O,_)),y(B!==void 0?B:O)},[d]),M=w.useCallback(function(){typeof m=="function"&&m(),j(!0)},[m]),$=w.useCallback(function(){typeof f=="function"&&f(),j(!1)},[f]),R=l!==void 0?l:x,F=c!==void 0?c:C,z=p!==void 0?p:T;return Ee(Ee({},h),{},{inputValue:R,menuIsOpen:F,onChange:D,onInputChange:P,onMenuClose:$,onMenuOpen:M,value:z})}function Oe(){return Oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oe.apply(null,arguments)}function Vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q6(n.key),n)}}function Upe(t,e,r){return e&&n$(t.prototype,e),r&&n$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BA(t,e){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},BA(t,e)}function zpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BA(t,e)}function Lx(t){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lx(t)}function tV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!t})()}function Wpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hpe(t,e){if(e&&(ll(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wpe(t)}function Gpe(t){var e=tV();return function(){var r,n=Lx(t);if(e){var a=Lx(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Hpe(this,r)}}function Ype(t){if(Array.isArray(t))return FA(t)}function Kpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kD(t){return Ype(t)||Kpe(t)||eV(t)||Jpe()}function Xpe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Zpe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Qpe=function(){function t(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Zpe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Xpe(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Er="-ms-",Fx="-moz-",nt="-webkit-",rV="comm",ID="rule",TD="decl",ege="@import",nV="@keyframes",tge="@layer",rge=Math.abs,Tj=String.fromCharCode,nge=Object.assign;function age(t,e){return Nr(t,0)^45?(((e<<2^Nr(t,0))<<2^Nr(t,1))<<2^Nr(t,2))<<2^Nr(t,3):0}function aV(t){return t.trim()}function sge(t,e){return(t=e.exec(t))?t[0]:t}function at(t,e,r){return t.replace(e,r)}function qA(t,e){return t.indexOf(e)}function Nr(t,e){return t.charCodeAt(e)|0}function Kf(t,e,r){return t.slice(e,r)}function Ia(t){return t.length}function DD(t){return t.length}function tp(t,e){return e.push(t),t}function oge(t,e){return t.map(e).join("")}var Dj=1,Vc=1,sV=0,dn=0,tr=0,xu="";function Ej(t,e,r,n,a,s,i){return{value:t,root:e,parent:r,type:n,props:a,children:s,line:Dj,column:Vc,length:i,return:""}}function Zu(t,e){return nge(Ej("",null,null,"",null,null,0),t,{length:-t.length},e)}function ige(){return tr}function lge(){return tr=dn>0?Nr(xu,--dn):0,Vc--,tr===10&&(Vc=1,Dj--),tr}function Sn(){return tr=dn<sV?Nr(xu,dn++):0,Vc++,tr===10&&(Vc=1,Dj++),tr}function Ba(){return Nr(xu,dn)}function zy(){return dn}function Qm(t,e){return Kf(xu,t,e)}function Jf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oV(t){return Dj=Vc=1,sV=Ia(xu=t),dn=0,[]}function iV(t){return xu="",t}function Wy(t){return aV(Qm(dn-1,VA(t===91?t+2:t===40?t+1:t)))}function cge(t){for(;(tr=Ba())&&tr<33;)Sn();return Jf(t)>2||Jf(tr)>3?"":" "}function uge(t,e){for(;--e&&Sn()&&!(tr<48||tr>102||tr>57&&tr<65||tr>70&&tr<97););return Qm(t,zy()+(e<6&&Ba()==32&&Sn()==32))}function VA(t){for(;Sn();)switch(tr){case t:return dn;case 34:case 39:t!==34&&t!==39&&VA(tr);break;case 40:t===41&&VA(t);break;case 92:Sn();break}return dn}function dge(t,e){for(;Sn()&&t+tr!==57;)if(t+tr===84&&Ba()===47)break;return"/*"+Qm(e,dn-1)+"*"+Tj(t===47?t:Sn())}function fge(t){for(;!Jf(Ba());)Sn();return Qm(t,dn)}function mge(t){return iV(Hy("",null,null,null,[""],t=oV(t),0,[0],t))}function Hy(t,e,r,n,a,s,i,l,c){for(var u=0,d=0,f=i,m=0,p=0,h=0,b=1,g=1,x=1,y=0,v="",N=a,C=s,j=n,S=v;g;)switch(h=y,y=Sn()){case 40:if(h!=108&&Nr(S,f-1)==58){qA(S+=at(Wy(y),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:S+=Wy(y);break;case 9:case 10:case 13:case 32:S+=cge(h);break;case 92:S+=uge(zy()-1,7);continue;case 47:switch(Ba()){case 42:case 47:tp(hge(dge(Sn(),zy()),e,r),c);break;default:S+="/"}break;case 123*b:l[u++]=Ia(S)*x;case 125*b:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+d:x==-1&&(S=at(S,/\f/g,"")),p>0&&Ia(S)-f&&tp(p>32?s$(S+";",n,r,f-1):s$(at(S," ","")+";",n,r,f-2),c);break;case 59:S+=";";default:if(tp(j=a$(S,e,r,u,d,a,l,v,N=[],C=[],f),s),y===123)if(d===0)Hy(S,e,j,j,N,s,f,l,C);else switch(m===99&&Nr(S,3)===110?100:m){case 100:case 108:case 109:case 115:Hy(t,j,j,n&&tp(a$(t,j,j,0,0,a,l,v,a,N=[],f),C),a,C,f,l,n?N:C);break;default:Hy(S,j,j,j,[""],C,0,l,C)}}u=d=p=0,b=x=1,v=S="",f=i;break;case 58:f=1+Ia(S),p=h;default:if(b<1){if(y==123)--b;else if(y==125&&b++==0&&lge()==125)continue}switch(S+=Tj(y),y*b){case 38:x=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(Ia(S)-1)*x,x=1;break;case 64:Ba()===45&&(S+=Wy(Sn())),m=Ba(),d=f=Ia(v=S+=fge(zy())),y++;break;case 45:h===45&&Ia(S)==2&&(b=0)}}return s}function a$(t,e,r,n,a,s,i,l,c,u,d){for(var f=a-1,m=a===0?s:[""],p=DD(m),h=0,b=0,g=0;h<n;++h)for(var x=0,y=Kf(t,f+1,f=rge(b=i[h])),v=t;x<p;++x)(v=aV(b>0?m[x]+" "+y:at(y,/&\f/g,m[x])))&&(c[g++]=v);return Ej(t,e,r,a===0?ID:l,c,u,d)}function hge(t,e,r){return Ej(t,e,r,rV,Tj(ige()),Kf(t,2,-2),0)}function s$(t,e,r,n){return Ej(t,e,r,TD,Kf(t,0,n),Kf(t,n+1,-1),n)}function xc(t,e){for(var r="",n=DD(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function pge(t,e,r,n){switch(t.type){case tge:if(t.children.length)break;case ege:case TD:return t.return=t.return||t.value;case rV:return"";case nV:return t.return=t.value+"{"+xc(t.children,n)+"}";case ID:t.value=t.props.join(",")}return Ia(r=xc(t.children,n))?t.return=t.value+"{"+r+"}":""}function gge(t){var e=DD(t);return function(r,n,a,s){for(var i="",l=0;l<e;l++)i+=t[l](r,n,a,s)||"";return i}}function yge(t){return function(e){e.root||(e=e.return)&&t(e)}}function bge(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var xge=function(e,r,n){for(var a=0,s=0;a=s,s=Ba(),a===38&&s===12&&(r[n]=1),!Jf(s);)Sn();return Qm(e,dn)},vge=function(e,r){var n=-1,a=44;do switch(Jf(a)){case 0:a===38&&Ba()===12&&(r[n]=1),e[n]+=xge(dn-1,r,n);break;case 2:e[n]+=Wy(a);break;case 4:if(a===44){e[++n]=Ba()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Tj(a)}while(a=Sn());return e},jge=function(e,r){return iV(vge(oV(e),r))},o$=new WeakMap,wge=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!o$.get(n))&&!a){o$.set(e,!0);for(var s=[],i=jge(r,s),l=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=s[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},Cge=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function lV(t,e){switch(age(t,e)){case 5103:return nt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return nt+t+Fx+t+Er+t+t;case 6828:case 4268:return nt+t+Er+t+t;case 6165:return nt+t+Er+"flex-"+t+t;case 5187:return nt+t+at(t,/(\w+).+(:[^]+)/,nt+"box-$1$2"+Er+"flex-$1$2")+t;case 5443:return nt+t+Er+"flex-item-"+at(t,/flex-|-self/,"")+t;case 4675:return nt+t+Er+"flex-line-pack"+at(t,/align-content|flex-|-self/,"")+t;case 5548:return nt+t+Er+at(t,"shrink","negative")+t;case 5292:return nt+t+Er+at(t,"basis","preferred-size")+t;case 6060:return nt+"box-"+at(t,"-grow","")+nt+t+Er+at(t,"grow","positive")+t;case 4554:return nt+at(t,/([^-])(transform)/g,"$1"+nt+"$2")+t;case 6187:return at(at(at(t,/(zoom-|grab)/,nt+"$1"),/(image-set)/,nt+"$1"),t,"")+t;case 5495:case 3959:return at(t,/(image-set\([^]*)/,nt+"$1$`$1");case 4968:return at(at(t,/(.+:)(flex-)?(.*)/,nt+"box-pack:$3"+Er+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nt+t+t;case 4095:case 3583:case 4068:case 2532:return at(t,/(.+)-inline(.+)/,nt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ia(t)-1-e>6)switch(Nr(t,e+1)){case 109:if(Nr(t,e+4)!==45)break;case 102:return at(t,/(.+:)(.+)-([^]+)/,"$1"+nt+"$2-$3$1"+Fx+(Nr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~qA(t,"stretch")?lV(at(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Nr(t,e+1)!==115)break;case 6444:switch(Nr(t,Ia(t)-3-(~qA(t,"!important")&&10))){case 107:return at(t,":",":"+nt)+t;case 101:return at(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nt+(Nr(t,14)===45?"inline-":"")+"box$3$1"+nt+"$2$3$1"+Er+"$2box$3")+t}break;case 5936:switch(Nr(t,e+11)){case 114:return nt+t+Er+at(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return nt+t+Er+at(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return nt+t+Er+at(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return nt+t+Er+t+t}return t}var Nge=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case TD:e.return=lV(e.value,e.length);break;case nV:return xc([Zu(e,{value:at(e.value,"@","@"+nt)})],a);case ID:if(e.length)return oge(e.props,function(s){switch(sge(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xc([Zu(e,{props:[at(s,/:(read-\w+)/,":"+Fx+"$1")]})],a);case"::placeholder":return xc([Zu(e,{props:[at(s,/:(plac\w+)/,":"+nt+"input-$1")]}),Zu(e,{props:[at(s,/:(plac\w+)/,":"+Fx+"$1")]}),Zu(e,{props:[at(s,/:(plac\w+)/,Er+"input-$1")]})],a)}return""})}},Sge=[Nge],Age=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){var g=b.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var a=e.stylisPlugins||Sge,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(b){for(var g=b.getAttribute("data-emotion").split(" "),x=1;x<g.length;x++)s[g[x]]=!0;l.push(b)});var c,u=[wge,Cge];{var d,f=[pge,yge(function(b){d.insert(b)})],m=gge(u.concat(a,f)),p=function(g){return xc(mge(g),m)};c=function(g,x,y,v){d=y,p(g?g+"{"+x.styles+"}":x.styles),v&&(h.inserted[x.name]=!0)}}var h={key:r,sheet:new Qpe({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return h.sheet.hydrate(l),h},kge=!0;function Ige(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var cV=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||kge===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},Tge=function(e,r,n){cV(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+a:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Dge(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Ege={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Pge=/[A-Z]|^ms/g,Oge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,uV=function(e){return e.charCodeAt(1)===45},i$=function(e){return e!=null&&typeof e!="boolean"},J1=bge(function(t){return uV(t)?t:t.replace(Pge,"-$&").toLowerCase()}),l$=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Oge,function(n,a,s){return Ta={name:a,styles:s,next:Ta},a})}return Ege[e]!==1&&!uV(e)&&typeof r=="number"&&r!==0?r+"px":r};function Xf(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Ta={name:a.name,styles:a.styles,next:Ta},a.name;var s=r;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)Ta={name:i.name,styles:i.styles,next:Ta},i=i.next;var l=s.styles+";";return l}return _ge(t,e,r)}case"function":{if(t!==void 0){var c=Ta,u=r(t);return Ta=c,Xf(t,e,u)}break}}var d=r;return d}function _ge(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Xf(t,e,r[a])+";";else for(var s in r){var i=r[s];if(typeof i!="object"){var l=i;i$(l)&&(n+=J1(s)+":"+l$(s,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var c=0;c<i.length;c++)i$(i[c])&&(n+=J1(s)+":"+l$(s,i[c])+";");else{var u=Xf(t,e,i);switch(s){case"animation":case"animationName":{n+=J1(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var c$=/label:\s*([^\s;{]+)\s*(;|$)/g,Ta;function dV(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";Ta=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,a+=Xf(r,e,s);else{var i=s;a+=i[0]}for(var l=1;l<t.length;l++)if(a+=Xf(r,e,t[l]),n){var c=s;a+=c[l]}c$.lastIndex=0;for(var u="",d;(d=c$.exec(a))!==null;)u+="-"+d[1];var f=Dge(a)+u;return{name:f,styles:a,next:Ta}}var $ge=function(e){return e()},Rge=Do.useInsertionEffect?Do.useInsertionEffect:!1,Mge=Rge||$ge,fV=w.createContext(typeof HTMLElement<"u"?Age({key:"css"}):null);fV.Provider;var Lge=function(e){return w.forwardRef(function(r,n){var a=w.useContext(fV);return e(r,a,n)})},Fge=w.createContext({}),ED={}.hasOwnProperty,UA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Bge=function(e,r){var n={};for(var a in r)ED.call(r,a)&&(n[a]=r[a]);return n[UA]=e,n},qge=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return cV(r,n,a),Mge(function(){return Tge(r,n,a)}),null},Vge=Lge(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[UA],s=[n],i="";typeof t.className=="string"?i=Ige(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=dV(s,void 0,w.useContext(Fge));i+=e.key+"-"+l.name;var c={};for(var u in t)ED.call(t,u)&&u!=="css"&&u!==UA&&(c[u]=t[u]);return c.className=i,r&&(c.ref=r),w.createElement(w.Fragment,null,w.createElement(qge,{cache:e,serialized:l,isStringTag:typeof a=="string"}),w.createElement(a,c))}),Uge=Vge,Ie=function(e,r){var n=arguments;if(r==null||!ED.call(r,"css"))return w.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=Uge,s[1]=Bge(e,r);for(var i=2;i<a;i++)s[i]=n[i];return w.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ie||(Ie={}));function PD(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return dV(e)}function zge(){var t=PD.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Wge(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Hge=Math.min,Gge=Math.max,Bx=Math.round,rp=Math.floor,qx=t=>({x:t,y:t});function Yge(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function Pj(){return typeof window<"u"}function mV(t){return pV(t)?(t.nodeName||"").toLowerCase():"#document"}function Ds(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hV(t){var e;return(e=(pV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pV(t){return Pj()?t instanceof Node||t instanceof Ds(t).Node:!1}function Kge(t){return Pj()?t instanceof Element||t instanceof Ds(t).Element:!1}function OD(t){return Pj()?t instanceof HTMLElement||t instanceof Ds(t).HTMLElement:!1}function u$(t){return!Pj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ds(t).ShadowRoot}function gV(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=_D(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function Jge(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xge(t){return["html","body","#document"].includes(mV(t))}function _D(t){return Ds(t).getComputedStyle(t)}function Zge(t){if(mV(t)==="html")return t;const e=t.assignedSlot||t.parentNode||u$(t)&&t.host||hV(t);return u$(e)?e.host:e}function yV(t){const e=Zge(t);return Xge(e)?t.ownerDocument?t.ownerDocument.body:t.body:OD(e)&&gV(e)?e:yV(e)}function Vx(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=yV(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),i=Ds(a);if(s){const l=zA(i);return e.concat(i,i.visualViewport||[],gV(a)?a:[],l&&r?Vx(l):[])}return e.concat(a,Vx(a,[],r))}function zA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Qge(t){const e=_D(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=OD(t),s=a?t.offsetWidth:r,i=a?t.offsetHeight:n,l=Bx(r)!==s||Bx(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function $D(t){return Kge(t)?t:t.contextElement}function d$(t){const e=$D(t);if(!OD(e))return qx(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=Qge(e);let i=(s?Bx(r.width):r.width)/n,l=(s?Bx(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const eye=qx(0);function tye(t){const e=Ds(t);return!Jge()||!e.visualViewport?eye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rye(t,e,r){return!1}function f$(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),s=$D(t);let i=qx(1);e&&(i=d$(t));const l=rye()?tye(s):qx(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const m=Ds(s),p=n;let h=m,b=zA(h);for(;b&&n&&p!==h;){const g=d$(b),x=b.getBoundingClientRect(),y=_D(b),v=x.left+(b.clientLeft+parseFloat(y.paddingLeft))*g.x,N=x.top+(b.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=v,u+=N,h=Ds(b),b=zA(h)}}return Yge({width:d,height:f,x:c,y:u})}function bV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function nye(t,e){let r=null,n;const a=hV(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||e(),!m||!p)return;const h=rp(f),b=rp(a.clientWidth-(d+m)),g=rp(a.clientHeight-(f+p)),x=rp(d),v={rootMargin:-h+"px "+-b+"px "+-g+"px "+-x+"px",threshold:Gge(0,Hge(1,c))||1};let N=!0;function C(j){const S=j[0].intersectionRatio;if(S!==c){if(!N)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!bV(u,t.getBoundingClientRect())&&i(),N=!1}try{r=new IntersectionObserver(C,{...v,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,v)}r.observe(t)}return i(!0),s}function aye(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=$D(t),d=a||s?[...u?Vx(u):[],...Vx(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const f=u&&l?nye(u,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let h,b=c?f$(t):null;c&&g();function g(){const x=f$(t);b&&!bV(b,x)&&r(),b=x,h=requestAnimationFrame(g)}return r(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(h)}}var WA=w.useLayoutEffect,sye=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ux=function(){};function oye(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function iye(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(oye(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var m$=function(e){return gye(e)?e.filter(Boolean):ll(e)==="object"&&e!==null?[e]:[]},xV=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Fs(e,sye);return Ee({},r)},Gt=function(e,r,n){var a=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(r,e),className:a(n??{},i(r,e),l)}};function Oj(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function lye(t){return Oj(t)?window.innerHeight:t.clientHeight}function vV(t){return Oj(t)?window.pageYOffset:t.scrollTop}function zx(t,e){if(Oj(t)){window.scrollTo(0,e);return}t.scrollTop=e}function cye(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function uye(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function np(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ux,a=vV(t),s=e-a,i=10,l=0;function c(){l+=i;var u=uye(l,a,s,r);zx(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function h$(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?zx(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&zx(t,Math.max(e.offsetTop-a,0))}function dye(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function p$(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function fye(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var jV=!1,mye={get passive(){return jV=!0}},ap=typeof window<"u"?window:{};ap.addEventListener&&ap.removeEventListener&&(ap.addEventListener("p",Ux,mye),ap.removeEventListener("p",Ux,!1));var hye=jV;function pye(t){return t!=null}function gye(t){return Array.isArray(t)}function sp(t,e,r){return t?e:r}var yye=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(i){var l=xs(i,1),c=l[0];return!n.includes(c)});return s.reduce(function(i,l){var c=xs(l,2),u=c[0],d=c[1];return i[u]=d,i},{})},bye=["children","innerProps"],xye=["children","innerProps"];function vye(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,c=cye(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,m=r.getBoundingClientRect(),p=m.bottom,h=m.height,b=m.top,g=r.offsetParent.getBoundingClientRect(),x=g.top,y=i?window.innerHeight:lye(c),v=vV(c),N=parseInt(getComputedStyle(r).marginBottom,10),C=parseInt(getComputedStyle(r).marginTop,10),j=x-C,S=y-b,k=j+v,T=f-v-b,A=p-y+v+N,D=v+b-C,P=160;switch(a){case"auto":case"bottom":if(S>=h)return{placement:"bottom",maxHeight:e};if(T>=h&&!i)return s&&np(c,A,P),{placement:"bottom",maxHeight:e};if(!i&&T>=n||i&&S>=n){s&&np(c,A,P);var M=i?S-N:T-N;return{placement:"bottom",maxHeight:M}}if(a==="auto"||i){var $=e,R=i?j:k;return R>=n&&($=Math.min(R-N-l,e)),{placement:"top",maxHeight:$}}if(a==="bottom")return s&&zx(c,A),{placement:"bottom",maxHeight:e};break;case"top":if(j>=h)return{placement:"top",maxHeight:e};if(k>=h&&!i)return s&&np(c,D,P),{placement:"top",maxHeight:e};if(!i&&k>=n||i&&j>=n){var F=e;return(!i&&k>=n||i&&j>=n)&&(F=i?j-C:k-C),s&&np(c,D,P),{placement:"top",maxHeight:F}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function jye(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var wV=function(e){return e==="auto"?"bottom":e},wye=function(e,r){var n,a=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,c=s.colors;return Ee((n={label:"menu"},Ad(n,jye(a),"100%"),Ad(n,"position","absolute"),Ad(n,"width","100%"),Ad(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},CV=w.createContext(null),Cye=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=w.useContext(CV)||{},d=u.setPortalPlacement,f=w.useRef(null),m=w.useState(a),p=xs(m,2),h=p[0],b=p[1],g=w.useState(null),x=xs(g,2),y=x[0],v=x[1],N=c.spacing.controlHeight;return WA(function(){var C=f.current;if(C){var j=i==="fixed",S=l&&!j,k=vye({maxHeight:a,menuEl:C,minHeight:n,placement:s,shouldScroll:S,isFixedPosition:j,controlHeight:N});b(k.maxHeight),v(k.placement),d==null||d(k.placement)}},[a,s,i,l,n,d,N]),r({ref:f,placerProps:Ee(Ee({},e),{},{placement:y||wV(s),maxHeight:h})})},Nye=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return Ie("div",Oe({},Gt(e,"menu",{menu:!0}),{ref:n},a),r)},Sye=Nye,Aye=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Ee({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},kye=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return Ie("div",Oe({},Gt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},NV=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Ee({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},Iye=NV,Tye=NV,Dye=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=Fs(e,bye);return Ie("div",Oe({},Gt(Ee(Ee({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},Eye=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=Fs(e,xye);return Ie("div",Oe({},Gt(Ee(Ee({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},Pye=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},Oye=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,c=w.useRef(null),u=w.useRef(null),d=w.useState(wV(i)),f=xs(d,2),m=f[0],p=f[1],h=w.useMemo(function(){return{setPortalPlacement:p}},[]),b=w.useState(null),g=xs(b,2),x=g[0],y=g[1],v=w.useCallback(function(){if(a){var S=dye(a),k=l==="fixed"?0:window.pageYOffset,T=S[m]+k;(T!==(x==null?void 0:x.offset)||S.left!==(x==null?void 0:x.rect.left)||S.width!==(x==null?void 0:x.rect.width))&&y({offset:T,rect:S})}},[a,l,m,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);WA(function(){v()},[v]);var N=w.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=aye(a,c.current,v,{elementResize:"ResizeObserver"in window}))},[a,v]);WA(function(){N()},[N]);var C=w.useCallback(function(S){c.current=S,N()},[N]);if(!r&&l!=="fixed"||!x)return null;var j=Ie("div",Oe({ref:C},Gt(Ee(Ee({},e),{},{offset:x.offset,position:l,rect:x.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Ie(CV.Provider,{value:h},r?r0.createPortal(j,r):j)},_ye=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},$ye=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return Ie("div",Oe({},Gt(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},Rye=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Ee({alignItems:"center",display:a&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Mye=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return Ie("div",Oe({},Gt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},Lye=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Fye=function(e){var r=e.children,n=e.innerProps;return Ie("div",Oe({},Gt(e,"indicatorsContainer",{indicators:!0}),n),r)},g$,Bye=["size"],qye=["innerProps","isRtl","size"],Vye={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},SV=function(e){var r=e.size,n=Fs(e,Bye);return Ie("svg",Oe({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Vye},n))},RD=function(e){return Ie(SV,Oe({size:20},e),Ie("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},AV=function(e){return Ie(SV,Oe({size:20},e),Ie("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},kV=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Ee({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},Uye=kV,zye=function(e){var r=e.children,n=e.innerProps;return Ie("div",Oe({},Gt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Ie(AV,null))},Wye=kV,Hye=function(e){var r=e.children,n=e.innerProps;return Ie("div",Oe({},Gt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Ie(RD,null))},Gye=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Ee({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},Yye=function(e){var r=e.innerProps;return Ie("span",Oe({},r,Gt(e,"indicatorSeparator",{"indicator-separator":!0})))},Kye=zge(g$||(g$=Wge([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Jye=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Ee({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},X1=function(e){var r=e.delay,n=e.offset;return Ie("span",{css:PD({animation:"".concat(Kye," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Xye=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,i=Fs(e,qye);return Ie("div",Oe({},Gt(Ee(Ee({},i),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Ie(X1,{delay:0,offset:n}),Ie(X1,{delay:160,offset:!0}),Ie(X1,{delay:320,offset:!n}))},Zye=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,c=s.spacing;return Ee({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},Qye=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Ie("div",Oe({ref:s},Gt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},ebe=Qye,tbe=["data"],rbe=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},nbe=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Ie("div",Oe({},Gt(e,"group",{group:!0}),c),Ie(i,Oe({},l,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:n}),u),Ie("div",null,r))},abe=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return Ee({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},sbe=function(e){var r=xV(e);r.data;var n=Fs(r,tbe);return Ie("div",Oe({},Gt(e,"groupHeading",{"group-heading":!0}),n))},obe=nbe,ibe=["innerRef","isDisabled","isHidden","inputClassName"],lbe=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,i=s.spacing,l=s.colors;return Ee(Ee({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},cbe),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},IV={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},cbe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ee({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},IV)},ube=function(e){return Ee({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},IV)},dbe=function(e){var r=e.cx,n=e.value,a=xV(e),s=a.innerRef,i=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=Fs(a,ibe);return Ie("div",Oe({},Gt(e,"input",{"input-container":!0}),{"data-value":n||""}),Ie("input",Oe({className:r({input:!0},c),ref:s,style:ube(l),disabled:i},u)))},fbe=dbe,mbe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors;return Ee({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},hbe=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Ee({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},pbe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Ee({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},TV=function(e){var r=e.children,n=e.innerProps;return Ie("div",n,r)},gbe=TV,ybe=TV;function bbe(t){var e=t.children,r=t.innerProps;return Ie("div",Oe({role:"button"},r),e||Ie(RD,{size:14}))}var xbe=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,d=n.Label,f=n.Remove;return Ie(u,{data:a,innerProps:Ee(Ee({},Gt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:c},Ie(d,{data:a,innerProps:Ee({},Gt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Ie(f,{data:a,innerProps:Ee(Ee({},Gt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},vbe=xbe,jbe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,c=i.colors;return Ee({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},wbe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return Ie("div",Oe({},Gt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),r)},Cbe=wbe,Nbe=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return Ee({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},Sbe=function(e){var r=e.children,n=e.innerProps;return Ie("div",Oe({},Gt(e,"placeholder",{placeholder:!0}),n),r)},Abe=Sbe,kbe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,i=a.colors;return Ee({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Ibe=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return Ie("div",Oe({},Gt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},Tbe=Ibe,Dbe={ClearIndicator:Hye,Control:ebe,DropdownIndicator:zye,DownChevron:AV,CrossIcon:RD,Group:obe,GroupHeading:sbe,IndicatorsContainer:Fye,IndicatorSeparator:Yye,Input:fbe,LoadingIndicator:Xye,Menu:Sye,MenuList:kye,MenuPortal:Oye,LoadingMessage:Eye,NoOptionsMessage:Dye,MultiValue:vbe,MultiValueContainer:gbe,MultiValueLabel:ybe,MultiValueRemove:bbe,Option:Cbe,Placeholder:Abe,SelectContainer:$ye,SingleValue:Tbe,ValueContainer:Mye},Ebe=function(e){return Ee(Ee({},Dbe),e.components)},y$=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Pbe(t,e){return!!(t===e||y$(t)&&y$(e))}function Obe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Pbe(t[r],e[r]))return!1;return!0}function _be(t,e){e===void 0&&(e=Obe);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var $be={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Rbe=function(e){return Ie("span",Oe({css:$be},e))},b$=Rbe,Mbe={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(b,g){return b&&b.length?"".concat(b.indexOf(g)+1," of ").concat(b.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,n),".");if(r==="menu"&&d){var m=c?" disabled":"",p="".concat(u?" selected":"").concat(m);return"".concat(i).concat(p,", ").concat(f(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Lbe=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,m=c.getOptionLabel,p=c.inputValue,h=c.isMulti,b=c.isOptionDisabled,g=c.isSearchable,x=c.menuIsOpen,y=c.options,v=c.screenReaderStatus,N=c.tabSelectsValue,C=c.isLoading,j=c["aria-label"],S=c["aria-live"],k=w.useMemo(function(){return Ee(Ee({},Mbe),f||{})},[f]),T=w.useMemo(function(){var R="";if(r&&k.onChange){var F=r.option,z=r.options,O=r.removedValue,_=r.removedValues,B=r.value,Y=function(ue){return Array.isArray(ue)?null:ue},H=O||F||Y(B),te=H?m(H):"",fe=z||_||void 0,ke=fe?fe.map(m):[],ae=Ee({isDisabled:H&&b(H,l),label:te,labels:ke},r);R=k.onChange(ae)}return R},[r,k,b,l,m]),A=w.useMemo(function(){var R="",F=n||a,z=!!(n&&l&&l.includes(n));if(F&&k.onFocus){var O={focused:F,label:m(F),isDisabled:b(F,l),isSelected:z,options:s,context:F===n?"menu":"value",selectValue:l,isAppleDevice:d};R=k.onFocus(O)}return R},[n,a,m,b,k,s,l,d]),D=w.useMemo(function(){var R="";if(x&&y.length&&!C&&k.onFilter){var F=v({count:s.length});R=k.onFilter({inputValue:p,resultsMessage:F})}return R},[s,p,x,k,y,v,C]),P=(r==null?void 0:r.action)==="initial-input-focus",M=w.useMemo(function(){var R="";if(k.guidance){var F=a?"value":x?"menu":"input";R=k.guidance({"aria-label":j,context:F,isDisabled:n&&b(n,l),isMulti:h,isSearchable:g,tabSelectsValue:N,isInitialFocus:P})}return R},[j,n,a,h,b,g,x,k,l,N,P]),$=Ie(w.Fragment,null,Ie("span",{id:"aria-selection"},T),Ie("span",{id:"aria-focused"},A),Ie("span",{id:"aria-results"},D),Ie("span",{id:"aria-guidance"},M));return Ie(w.Fragment,null,Ie(b$,{id:u},P&&$),Ie(b$,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!P&&$))},Fbe=Lbe,HA=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Bbe=new RegExp("["+HA.map(function(t){return t.letters}).join("")+"]","g"),DV={};for(var Z1=0;Z1<HA.length;Z1++)for(var Q1=HA[Z1],eC=0;eC<Q1.letters.length;eC++)DV[Q1.letters[eC]]=Q1.base;var EV=function(e){return e.replace(Bbe,function(r){return DV[r]})},qbe=_be(EV),x$=function(e){return e.replace(/^\s+|\s+$/g,"")},Vbe=function(e){return"".concat(e.label," ").concat(e.value)},Ube=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Ee({ignoreCase:!0,ignoreAccents:!0,stringify:Vbe,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,i=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,d=c?x$(n):n,f=c?x$(l(r)):l(r);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),i&&(d=qbe(d),f=EV(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},zbe=["innerRef"];function Wbe(t){var e=t.innerRef,r=Fs(t,zbe),n=yye(r,"onExited","in","enter","exit","appear");return Ie("input",Oe({ref:e},n,{css:PD({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Hbe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Gbe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,i=w.useRef(!1),l=w.useRef(!1),c=w.useRef(0),u=w.useRef(null),d=w.useCallback(function(g,x){if(u.current!==null){var y=u.current,v=y.scrollTop,N=y.scrollHeight,C=y.clientHeight,j=u.current,S=x>0,k=N-C-v,T=!1;k>x&&i.current&&(n&&n(g),i.current=!1),S&&l.current&&(s&&s(g),l.current=!1),S&&x>k?(r&&!i.current&&r(g),j.scrollTop=N,T=!0,i.current=!0):!S&&-x>v&&(a&&!l.current&&a(g),j.scrollTop=0,T=!0,l.current=!0),T&&Hbe(g)}},[r,n,a,s]),f=w.useCallback(function(g){d(g,g.deltaY)},[d]),m=w.useCallback(function(g){c.current=g.changedTouches[0].clientY},[]),p=w.useCallback(function(g){var x=c.current-g.changedTouches[0].clientY;d(g,x)},[d]),h=w.useCallback(function(g){if(g){var x=hye?{passive:!1}:!1;g.addEventListener("wheel",f,x),g.addEventListener("touchstart",m,x),g.addEventListener("touchmove",p,x)}},[p,m,f]),b=w.useCallback(function(g){g&&(g.removeEventListener("wheel",f,!1),g.removeEventListener("touchstart",m,!1),g.removeEventListener("touchmove",p,!1))},[p,m,f]);return w.useEffect(function(){if(e){var g=u.current;return h(g),function(){b(g)}}},[e,h,b]),function(g){u.current=g}}var v$=["boxSizing","height","overflow","paddingRight","position"],j$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function w$(t){t.cancelable&&t.preventDefault()}function C$(t){t.stopPropagation()}function N$(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function S$(){return"ontouchstart"in window||navigator.maxTouchPoints}var A$=!!(typeof window<"u"&&window.document&&window.document.createElement),Qu=0,Ol={capture:!1,passive:!1};function Ybe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=w.useRef({}),s=w.useRef(null),i=w.useCallback(function(c){if(A$){var u=document.body,d=u&&u.style;if(n&&v$.forEach(function(h){var b=d&&d[h];a.current[h]=b}),n&&Qu<1){var f=parseInt(a.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,p=window.innerWidth-m+f||0;Object.keys(j$).forEach(function(h){var b=j$[h];d&&(d[h]=b)}),d&&(d.paddingRight="".concat(p,"px"))}u&&S$()&&(u.addEventListener("touchmove",w$,Ol),c&&(c.addEventListener("touchstart",N$,Ol),c.addEventListener("touchmove",C$,Ol))),Qu+=1}},[n]),l=w.useCallback(function(c){if(A$){var u=document.body,d=u&&u.style;Qu=Math.max(Qu-1,0),n&&Qu<1&&v$.forEach(function(f){var m=a.current[f];d&&(d[f]=m)}),u&&S$()&&(u.removeEventListener("touchmove",w$,Ol),c&&(c.removeEventListener("touchstart",N$,Ol),c.removeEventListener("touchmove",C$,Ol)))}},[n]);return w.useEffect(function(){if(e){var c=s.current;return i(c),function(){l(c)}}},[e,i,l]),function(c){s.current=c}}var Kbe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},Jbe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Xbe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=Gbe({isEnabled:a,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),d=Ybe({isEnabled:r}),f=function(p){u(p),d(p)};return Ie(w.Fragment,null,r&&Ie("div",{onClick:Kbe,css:Jbe}),e(f))}var Zbe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Qbe=function(e){var r=e.name,n=e.onFocus;return Ie("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Zbe,value:"",onChange:function(){}})},exe=Qbe;function MD(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function txe(){return MD(/^iPhone/i)}function PV(){return MD(/^Mac/i)}function rxe(){return MD(/^iPad/i)||PV()&&navigator.maxTouchPoints>1}function nxe(){return txe()||rxe()}function axe(){return PV()||nxe()}var sxe=function(e){return e.label},oxe=function(e){return e.label},ixe=function(e){return e.value},lxe=function(e){return!!e.isDisabled},cxe={clearIndicator:Wye,container:_ye,control:Zye,dropdownIndicator:Uye,group:rbe,groupHeading:abe,indicatorsContainer:Lye,indicatorSeparator:Gye,input:lbe,loadingIndicator:Jye,loadingMessage:Tye,menu:wye,menuList:Aye,menuPortal:Pye,multiValue:mbe,multiValueLabel:hbe,multiValueRemove:pbe,noOptionsMessage:Iye,option:jbe,placeholder:Nbe,singleValue:kbe,valueContainer:Rye},uxe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},dxe=4,OV=4,fxe=38,mxe=OV*2,hxe={baseUnit:OV,controlHeight:fxe,menuGutter:mxe},tC={borderRadius:dxe,colors:uxe,spacing:hxe},pxe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:p$(),captureMenuScroll:!p$(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Ube(),formatGroupLabel:sxe,getOptionLabel:oxe,getOptionValue:ixe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:lxe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!fye(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function k$(t,e,r,n){var a=RV(t,e,r),s=MV(t,e,r),i=$V(t,e),l=Wx(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:i,value:l,index:n}}function Gy(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,l){return k$(t,i,e,l)}).filter(function(i){return T$(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=k$(t,r,e,n);return T$(t,s)?s:void 0}).filter(pye)}function _V(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,kD(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function I$(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,kD(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function gxe(t,e){return _V(Gy(t,e))}function T$(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,i=e.label,l=e.value;return(!FV(t)||!s)&&LV(t,{label:i,value:l,data:a},n)}function yxe(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function bxe(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var rC=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},$V=function(e,r){return e.getOptionLabel(r)},Wx=function(e,r){return e.getOptionValue(r)};function RV(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function MV(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Wx(t,e);return r.some(function(a){return Wx(t,a)===n})}function LV(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var FV=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},xxe=1,BV=function(t){zpe(r,t);var e=Gpe(r);function r(n){var a;if(Vpe(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=axe(),a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var d=a.props,f=d.onChange,m=d.name;u.name=m,a.ariaOnChange(c,u),f(c,u)},a.setValue=function(c,u,d){var f=a.props,m=f.closeMenuOnSelect,p=f.isMulti,h=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:h}),m&&(a.setState({inputIsHiddenAfterUpdate:!p}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:d})},a.selectOption=function(c){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,p=a.state.selectValue,h=f&&a.isOptionSelected(c,p),b=a.isOptionDisabled(c,p);if(h){var g=a.getOptionValue(c);a.setValue(p.filter(function(x){return a.getOptionValue(x)!==g}),"deselect-option",c)}else if(!b)f?a.setValue([].concat(kD(p),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(c),m=d.filter(function(h){return a.getOptionValue(h)!==f}),p=sp(u,m,m[0]||null);a.onChange(p,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(sp(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=sp(c,f,f[0]||null);d&&a.onChange(m,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(c){return rC(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return I$(Gy(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return iye.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return $V(a.props,c)},a.getOptionValue=function(c){return Wx(a.props,c)},a.getStyles=function(c,u){var d=a.props.unstyled,f=cxe[c](u,d);f.boxSizing="border-box";var m=a.props.styles[c];return m?m(f,u):f},a.getClassNames=function(c,u){var d,f;return(d=(f=a.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return Ebe(a.props)},a.buildCategorizedOptions=function(){return Gy(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return _V(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Ee({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Oj(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),m=Math.abs(d.clientY-a.initialTouchY),p=5;a.userIsDragging=f>p||m>p}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,d=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),d=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:d>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return FV(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,p=u.inputValue,h=u.isClearable,b=u.isDisabled,g=u.menuIsOpen,x=u.onKeyDown,y=u.tabSelectsValue,v=u.openMenuOnFocus,N=a.state,C=N.focusedOption,j=N.focusedValue,S=N.selectValue;if(!b&&!(typeof x=="function"&&(x(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||p)return;a.focusValue("previous");break;case"ArrowRight":if(!d||p)return;a.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(j)a.removeValue(j);else{if(!f)return;d?a.popValue():h&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!g||!y||!C||v&&a.isOptionSelected(C,S))return;a.selectOption(C);break;case"Enter":if(c.keyCode===229)break;if(g){if(!C||a.isComposing)return;a.selectOption(C);break}return;case"Escape":g?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:p}),a.onMenuClose()):h&&m&&a.clearValue();break;case" ":if(p)return;if(!g){a.openMenu("first");break}if(!C)return;a.selectOption(C);break;case"ArrowUp":g?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":g?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!g)return;a.focusOption("pageup");break;case"PageDown":if(!g)return;a.focusOption("pagedown");break;case"Home":if(!g)return;a.focusOption("first");break;case"End":if(!g)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++xxe),a.state.selectValue=m$(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),l=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=i[l],a.state.focusedOptionId=rC(s,i[l])}return a}return Upe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&h$(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!i&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(h$(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,i=this.state,l=i.selectValue,c=i.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var u=i.length-1,d=-1;if(i.length){switch(a){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(i);i||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(tC):Ee(Ee({},tC),this.props.theme):tC}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,p=f.isRtl,h=f.options,b=this.hasValue();return{clearValue:a,cx:s,getStyles:i,getClassNames:l,getValue:c,hasValue:b,isMulti:m,isRtl:p,options:h,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,i=a.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(a,s){return RV(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return MV(this.props,a,s)}},{key:"filterOption",value:function(a,s){return LV(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,i=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,m=a.required,p=this.getComponents(),h=p.Input,b=this.state,g=b.inputIsHidden,x=b.ariaSelection,y=this.commonProps,v=l||this.getElementId("input"),N=Ee(Ee(Ee({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?w.createElement(h,Oe({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},N)):w.createElement(Wbe,Oe({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ux,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},N))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,m=this.commonProps,p=this.props,h=p.controlShouldRenderValue,b=p.isDisabled,g=p.isMulti,x=p.inputValue,y=p.placeholder,v=this.state,N=v.selectValue,C=v.focusedValue,j=v.isFocused;if(!this.hasValue()||!h)return x?null:w.createElement(f,Oe({},m,{key:"placeholder",isDisabled:b,isFocused:j,innerProps:{id:this.getElementId("placeholder")}}),y);if(g)return N.map(function(k,T){var A=k===C,D="".concat(a.getOptionLabel(k),"-").concat(a.getOptionValue(k));return w.createElement(i,Oe({},m,{components:{Container:l,Label:c,Remove:u},isFocused:A,isDisabled:b,key:D,index:T,removeProps:{onClick:function(){return a.removeValue(k)},onTouchEnd:function(){return a.removeValue(k)},onMouseDown:function(M){M.preventDefault()}},data:k}),a.formatOptionLabel(k,"value"))});if(x)return null;var S=N[0];return w.createElement(d,Oe({},m,{data:S,isDisabled:b}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,Oe({},i,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return w.createElement(s,Oe({},i,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,i=a.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return w.createElement(i,Oe({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,Oe({},i,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,m=s.NoOptionsMessage,p=s.Option,h=this.commonProps,b=this.state.focusedOption,g=this.props,x=g.captureMenuScroll,y=g.inputValue,v=g.isLoading,N=g.loadingMessage,C=g.minMenuHeight,j=g.maxMenuHeight,S=g.menuIsOpen,k=g.menuPlacement,T=g.menuPosition,A=g.menuPortalTarget,D=g.menuShouldBlockScroll,P=g.menuShouldScrollIntoView,M=g.noOptionsMessage,$=g.onMenuScrollToTop,R=g.onMenuScrollToBottom;if(!S)return null;var F=function(te,fe){var ke=te.type,ae=te.data,X=te.isDisabled,ue=te.isSelected,Q=te.label,re=te.value,K=b===ae,W=X?void 0:function(){return a.onOptionHover(ae)},me=X?void 0:function(){return a.selectOption(ae)},je="".concat(a.getElementId("option"),"-").concat(fe),Te={id:je,onClick:me,onMouseMove:W,onMouseOver:W,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:ue};return w.createElement(p,Oe({},h,{innerProps:Te,data:ae,isDisabled:X,isSelected:ue,key:je,label:Q,type:ke,value:re,isFocused:K,innerRef:K?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(te.data,"menu"))},z;if(this.hasOptions())z=this.getCategorizedOptions().map(function(H){if(H.type==="group"){var te=H.data,fe=H.options,ke=H.index,ae="".concat(a.getElementId("group"),"-").concat(ke),X="".concat(ae,"-heading");return w.createElement(i,Oe({},h,{key:ae,data:te,options:fe,Heading:l,headingProps:{id:X,data:H.data},label:a.formatGroupLabel(H.data)}),H.options.map(function(ue){return F(ue,"".concat(ke,"-").concat(ue.index))}))}else if(H.type==="option")return F(H,"".concat(H.index))});else if(v){var O=N({inputValue:y});if(O===null)return null;z=w.createElement(f,h,O)}else{var _=M({inputValue:y});if(_===null)return null;z=w.createElement(m,h,_)}var B={minMenuHeight:C,maxMenuHeight:j,menuPlacement:k,menuPosition:T,menuShouldScrollIntoView:P},Y=w.createElement(Cye,Oe({},h,B),function(H){var te=H.ref,fe=H.placerProps,ke=fe.placement,ae=fe.maxHeight;return w.createElement(c,Oe({},h,B,{innerRef:te,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:v,placement:ke}),w.createElement(Xbe,{captureEnabled:x,onTopArrive:$,onBottomArrive:R,lockEnabled:D},function(X){return w.createElement(u,Oe({},h,{innerRef:function(Q){a.getMenuListRef(Q),X(Q)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:a.getElementId("listbox")},isLoading:v,maxHeight:ae,focusedOption:b}),z)}))});return A||T==="fixed"?w.createElement(d,Oe({},h,{appendTo:A,controlElement:this.controlRef,menuPlacement:k,menuPosition:T}),Y):Y}},{key:"renderFormField",value:function(){var a=this,s=this.props,i=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return w.createElement(exe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(i){var m=f.map(function(b){return a.getOptionValue(b)}).join(i);return w.createElement("input",{name:u,type:"hidden",value:m})}else{var p=f.length>0?f.map(function(b,g){return w.createElement("input",{key:"i-".concat(g),name:u,type:"hidden",value:a.getOptionValue(b)})}):w.createElement("input",{name:u,type:"hidden",value:""});return w.createElement("div",null,p)}else{var h=f[0]?this.getOptionValue(f[0]):"";return w.createElement("input",{name:u,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return w.createElement(Fbe,Oe({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,i=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,p=u.menuIsOpen,h=this.state.isFocused,b=this.commonProps=this.getCommonProps();return w.createElement(l,Oe({},b,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:h}),this.renderLiveRegion(),w.createElement(s,Oe({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:h,menuIsOpen:p}),w.createElement(c,Oe({},b,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),w.createElement(i,Oe({},b,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,m=s.instancePrefix,p=a.options,h=a.value,b=a.menuIsOpen,g=a.inputValue,x=a.isMulti,y=m$(h),v={};if(i&&(h!==i.value||p!==i.options||b!==i.menuIsOpen||g!==i.inputValue)){var N=b?gxe(a,y):[],C=b?I$(Gy(a,y),"".concat(m,"-option")):[],j=l?yxe(s,y):null,S=bxe(s,N),k=rC(C,S);v={selectValue:y,focusedOption:S,focusedOptionId:k,focusableOptionsWithIds:C,focusedValue:j,clearFocusValueOnUpdate:!1}}var T=c!=null&&a!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},A=u,D=d&&f;return d&&!D&&(A={value:sp(x,y,y[0]||null),options:y,action:"initial-input-focus"},D=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(A=null),Ee(Ee(Ee({},v),T),{},{prevProps:a,ariaSelection:A,prevWasFocused:D})}}]),r}(w.Component);BV.defaultProps=pxe;var vxe=w.forwardRef(function(t,e){var r=qpe(t);return w.createElement(BV,Oe({ref:e},r))}),qr=vxe;function Zf({price:t="",quantity:e="",taxRate:r="",discountPercent:n="",vatable:a=!1,ewtRate:s=0,vatRate:i=12}){const l=parseFloat(t)||0,c=parseFloat(e)||0,u=parseFloat(r)||0,d=(parseFloat(n)||0)/100,f=parseFloat(s)||0;let m=0,p=0,h=0,b=0,g=0,x=0,y=0,v=0,N=0;return a?(m=l*c,p=+(m*d).toFixed(2),b=+(m-p).toFixed(2),h=+(b*i/(100+i)).toFixed(2),g=+(b-h).toFixed(2)):(m=l*c,p=+(m*d).toFixed(2),h=+(m*i/100).toFixed(2),g=+(m-p).toFixed(2),b=+(g+h).toFixed(2)),x=+(g*u/100*-1).toFixed(2),y=+(g*f/100*-1).toFixed(2),v=+(x+y).toFixed(2),N=a?+(b+v).toFixed(2):+(g+v).toFixed(2),{subtotalBeforeDiscount:m,discount:p,vat:h,subtotalTaxIncluded:b,subtotalTaxExcluded:g,withheld:x,ewt:y,ewtrate:f,totalDeduction:v,subtotal:N}}function qV({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var p;const u=oe({ResponsibilityCenter:E().required("Required"),ChargeAccountID:E().required("Required"),ItemID:E().required("Required"),Remarks:E().required("Required"),FPP:E().required("Required"),Price:G().required("Required"),Quantity:G().required("Required"),ItemUnitID:E().required("Required"),TAXCodeID:E().required("Required"),DiscountRate:G().required("Required")}),d=rt({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,DiscountRate:0,subtotal:0},validationSchema:u,onSubmit:h=>{const b=i.find(N=>String(N.ID)===String(h.TAXCodeID)),g=Zf({price:h.Price,quantity:h.Quantity,taxRate:(b==null?void 0:b.Rate)||0,discountPercent:h.DiscountRate,vatable:h.Vatable,ewtRate:h.withheldEWT}),x=r.find(N=>String(N.value)===String(h.ResponsibilityCenter)),y=l.find(N=>String(N.value)===String(h.ChargeAccountID)),v=n.find(N=>String(N.value)===String(h.ItemID));t({...h,...g,responsibilityCenterName:x?x.label:"",chargeAccountName:y?y.label:"",itemName:v?v.label:""}),e()}}),f=w.useRef({...d.values});w.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(x=>d.values[x]!==f.current[x]))return;f.current={...d.values};const b=i.find(x=>String(x.ID)===String(d.values.TAXCodeID)),g=Zf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(b==null?void 0:b.Rate)||0,discountPercent:d.values.DiscountRate,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});g.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",g.subtotal,!1),g.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",g.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.DiscountRate,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((p=i.find(h=>String(h.ID)===String(d.values.TAXCodeID)))==null?void 0:p.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0}),d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ResponsibilityCenter})]}),o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0}),d.touched.ChargeAccountID&&d.errors.ChargeAccountID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ChargeAccountID})]}),o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0}),d.touched.ItemID&&d.errors.ItemID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0}),d.touched.Remarks&&d.errors.Remarks&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Remarks})]}),o.jsxs("div",{children:[o.jsx(I,{type:"text",label:"FPP",name:"FPP",...d.getFieldProps("FPP"),required:!0}),d.touched.FPP&&d.errors.FPP&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.FPP})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0}),d.touched.Price&&d.errors.Price&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Price})]}),o.jsxs("div",{children:[o.jsx(I,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0}),d.touched.Quantity&&d.errors.Quantity&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Quantity})]}),o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0}),d.touched.ItemUnitID&&d.errors.ItemUnitID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemUnitID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0}),d.touched.TAXCodeID&&d.errors.TAXCodeID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.TAXCodeID})]}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsxs("div",{children:[o.jsx(I,{type:"number",label:"Discount %",name:"DiscountRate",...d.getFieldProps("DiscountRate"),required:!0}),d.touched.DiscountRate&&d.errors.DiscountRate&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.DiscountRate})]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:o.jsx(I,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const VV="https://staging-engine.testthelink.online",jxe={obligationRequests:[],obligationRequest:null,isLoading:!1,error:null},Yy=L("obligationRequests/fetchObligationRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${VV}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),nC=L("obligationRequests/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Ky=L("obligationRequests/create",async(t,e)=>{try{const r=await fetch(`${VV}/obligationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Jy=L("obligationRequests/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),UV=xe({name:"obligationRequests",initialState:jxe,reducers:{resetObligationRequestState:t=>{t.obligationRequest=null,t.error=null}},extraReducers:t=>{t.addCase(Yy.pending,e=>{e.isLoading=!0}).addCase(Yy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests=r.payload}).addCase(Yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(nC.pending,e=>{e.isLoading=!0}).addCase(nC.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequest=r.payload}).addCase(nC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ky.pending,e=>{e.isLoading=!0}).addCase(Ky.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests.push(r.payload)}).addCase(Ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Jy.pending,e=>{e.isLoading=!0}).addCase(Jy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.obligationRequests.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.obligationRequests[n]=r.payload)}).addCase(Jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetObligationRequestState:W8e}=UV.actions,wxe=UV.reducer,D$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],Cxe=oe().shape({obrNo:E(),obrDate:Re().required("Date is required"),payeeType:E().required("Payee type is required"),payeeId:E().required("Payee selection is required"),responsibilityCenter:E().required("Responsibility Center is required"),fund:E().required("Fund is required"),fiscalYear:E().required("Fiscal Year is required"),project:E().required("Project is required"),accountingEntries:Ht().min(1,"At least one item is required")});function Nxe({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:p=[],taxCodeOptions:h=[],budgetOptions:b=[],taxCodeFull:g=[]}){const x=le(),y=w.useRef(null),[v,N]=w.useState(!1),[C,j]=w.useState(null),[S,k]=w.useState(null),[T,A]=w.useState(!1),[D,P]=w.useState([]),M=(O,_)=>{const B=O.reduce((te,fe)=>te+Number(fe.amount||0),0),Y=_.reduce((te,fe)=>te+Number(fe.amount||0),0),H=B-Y;return{grossAmount:B,totalTaxes:Y,netAmount:H}},$={description:"",amount:"",accountCode:""};console.log(t);const R={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",project:(t==null?void 0:t.ProjectID)||"",fund:(t==null?void 0:t.FundsID)||"",fiscalYear:(t==null?void 0:t.FiscalYearID)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.ResponsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[$],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.TransactionItemsAll)?t.TransactionItemsAll:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},F=O=>{N(!0),M(O.items,O.taxes);const _=new FormData;O.payeeType==="Employee"?(_.append("EmployeeID",O.payeeId),_.append("VendorID",""),_.append("CustomerID","")):O.payeeType==="Vendor"?(_.append("EmployeeID",""),_.append("VendorID",O.payeeId),_.append("CustomerID","")):O.payeeType==="Individual"&&(_.append("EmployeeID",""),_.append("VendorID",""),_.append("CustomerID",O.payeeId)),_.append("PayeeType",O.payeeType),_.append("Payee",(C==null?void 0:C.Name)||(C==null?void 0:C.FirstName)+" "+(C==null?void 0:C.MiddleName)+" "+(C==null?void 0:C.LastName)||""),_.append("Address",(C==null?void 0:C.StreetAddress)||""),_.append("InvoiceNumber",O.obrNo),_.append("InvoiceDate",O.obrDate),_.append("ResponsibilityCenter",O.responsibilityCenter);const B=O.accountingEntries.reduce((ae,X)=>ae+Number(X.subtotal||0),0),Y=O.accountingEntries.reduce((ae,X)=>ae+Number(X.ewt||0),0),H=O.accountingEntries.reduce((ae,X)=>ae+Number(X.withheld||0),0),te=O.accountingEntries.reduce((ae,X)=>ae+Number(X.vat||0),0),fe=O.accountingEntries.reduce((ae,X)=>ae+Number(X.discount||0),0);_.append("Total",B.toFixed(2)),_.append("EWT",Y.toFixed(2)),_.append("WithheldAmount",H.toFixed(2)),_.append("Vat_Total",te.toFixed(2)),_.append("Discounts",fe.toFixed(2)),_.append("FundsID",O.fund),_.append("FiscalYearID",O.fiscalYear),_.append("ProjectID",O.project),_.append("TravelID",""),_.append("Items",JSON.stringify(O.accountingEntries)),O.Attachments.forEach((ae,X)=>{ae.ID?_.append(`Attachments[${X}].ID`,ae.ID):_.append(`Attachments[${X}].File`,ae)});const ke=t?Jy({formData:_,id:t.ID}):Ky(_);t?(_.append("IsNew",!1),_.append("LinkID",t.LinkID)):_.append("IsNew",!0),x(ke).unwrap().then(()=>{ie.success("Success"),e()}).catch(ae=>{ie.error((ae==null?void 0:ae.message)||"Failed to submit")}).finally(()=>{N(!1)})},z=({type:O})=>{switch(O){case"Employee":return o.jsx(AD,{className:"w-5 h-5"});case"Vendor":return o.jsx(IT,{className:"w-5 h-5"});case"Individual":return o.jsx(J0,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:y,initialValues:R,validationSchema:Cxe,onSubmit:F,enableReinitialize:!0,children:({values:O,errors:_,touched:B,handleChange:Y,handleBlur:H,setFieldValue:te,setFieldTouched:fe,isValid:ke})=>{M(O.items,O.taxes);const X=D$.map(K=>({value:K.value,label:K.label})).find(K=>K.value===O.payeeType),ue=K=>{j(null),te("payeeType",K),te("payeeName",""),te("payeeId",""),te("payeeAddress",""),te("officeUnitProject",""),te("orsNumber","")},Q=K=>{let W=null;switch(O.payeeType){case"Employee":W=s.find(me=>me.ID===K);break;case"Vendor":W=i.find(me=>me.ID===K);break;case"Individual":W=l.find(me=>me.ID===K);break}j(W),te("payeeName",W==null?void 0:W.Name),te("payeeId",W==null?void 0:W.ID)},re=K=>{switch(K){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Le,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:D$.map(K=>o.jsxs("button",{type:"button",onClick:()=>ue(K.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${O.payeeType===K.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(z,{type:K.value}),o.jsx("span",{className:"ml-3 font-medium",children:K.label})]},K.value))}),_.payeeType&&B.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),O.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",X==null?void 0:X.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:re(O.payeeType),value:re(O.payeeType).find(K=>K.value===O.payeeId)||null,onChange:K=>Q(K.value),className:"react-select-container",classNamePrefix:"react-select"}),_.payeeType&&B.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),C&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(X==null?void 0:X.label)==="Employee"?`${C.FirstName||""} ${C.MiddleName||""} ${C.LastName||""}`.trim():((X==null?void 0:X.label)==="Vendor"||(X==null?void 0:X.label)==="Individual",C.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((X==null?void 0:X.label)==="Employee"||(X==null?void 0:X.label)==="Vendor"||(X==null?void 0:X.label)==="Individual",C.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(I,{type:"text",label:"OBR No.",name:"obrNo",value:O.obrNo,onChange:Y,onBlur:H,error:_.obrNo,touched:B.obrNo,readOnly:!0,disabled:!0,className:"pointer-events-none bg-gray-100"}),o.jsx(I,{type:"date",label:"Date",name:"obrDate",value:O.obrDate,onChange:Y,onBlur:H,error:_.obrDate,touched:B.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:c,value:c.find(K=>K.value===O.responsibilityCenter)||null,onChange:K=>te("responsibilityCenter",K.value),onBlur:()=>fe("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),_.responsibilityCenter&&B.responsibilityCenter&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.responsibilityCenter})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:u,value:u.find(K=>K.value===O.fund)||null,onChange:K=>te("fund",K.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:f,value:f.find(K=>K.value===O.fiscalYear)||null,onChange:K=>te("fiscalYear",K.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:d,value:d.find(K=>K.value===O.project)||null,onChange:K=>te("project",K.value),className:"react-select-container",classNamePrefix:"react-select"}),_.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.project})]})]}),o.jsx(en,{name:"accountingEntries",children:({push:K,remove:W})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>A(!0),children:"+ Item"})]}),O.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"PARTICULARS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),O.accountingEntries.map((me,je)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:me.responsibilityCenterName}),o.jsx("span",{children:me.Remarks}),o.jsx("span",{children:me.itemName}),o.jsx("span",{children:me.FPP}),o.jsx("span",{children:me.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(me.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-6 text-right",children:o.jsx("button",{type:"button",onClick:()=>W(je),className:"text-red-600 text-xs",children:""})})]},je)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:O.accountingEntries.reduce((me,je)=>me+Number(je.subtotal),0).toFixed(2)})]})]}),o.jsx(se,{isOpen:T,onClose:()=>A(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(qV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:p,taxCodeOptions:h,budgetOptions:b,taxCodeFull:g,onClose:()=>A(!1),onSubmit:me=>{K(me),A(!1)}})})]})}),_.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.accountingEntries}),o.jsx("hr",{}),o.jsx(en,{name:"Attachments",render:({remove:K,push:W})=>{var me;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>W({File:null}),children:"+ Attachment"})]}),(me=O.Attachments)==null?void 0:me.map((je,Te)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[je.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${je.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:je.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Te}].ID`,value:je.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Te+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Te}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ve=>te(`Attachments[${Te}].File`,Ve.currentTarget.files[0]),onBlur:H,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(wt,{type:"button",onClick:()=>K(Te),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(nr,{className:"w-4 h-4"})})]},Te))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function Sxe({dv:t,onClose:e,onEdit:r}){const n=i=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(i),a=i=>new Date(i).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=i=>{let l="bg-neutral-100 text-neutral-800";switch(i){case"Pending Certification":l="bg-warning-100 text-warning-800";break;case"Pending Approval":l="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":l="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":l="bg-error-100 text-error-800";break}return l};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${s(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(gu,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"DV Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"DV Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.dvNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dvDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"ORS Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.orsNumber||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.modeOfPayment})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Particulars"}),o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-line",children:t.particulars})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Gross Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-neutral-900",children:n(t.grossAmount)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Total Deductions"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-error-600",children:n(t.totalDeductions)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Net Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.netAmount)})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(r3,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(t3,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(s3,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for certification"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}function zV(t,e){return function(){return t.apply(e,arguments)}}const{toString:Axe}=Object.prototype,{getPrototypeOf:LD}=Object,{iterator:_j,toStringTag:WV}=Symbol,$j=(t=>e=>{const r=Axe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),va=t=>(t=t.toLowerCase(),e=>$j(e)===t),Rj=t=>e=>typeof e===t,{isArray:vu}=Array,Qf=Rj("undefined");function kxe(t){return t!==null&&!Qf(t)&&t.constructor!==null&&!Qf(t.constructor)&&cn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const HV=va("ArrayBuffer");function Ixe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&HV(t.buffer),e}const Txe=Rj("string"),cn=Rj("function"),GV=Rj("number"),Mj=t=>t!==null&&typeof t=="object",Dxe=t=>t===!0||t===!1,Xy=t=>{if($j(t)!=="object")return!1;const e=LD(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(WV in t)&&!(_j in t)},Exe=va("Date"),Pxe=va("File"),Oxe=va("Blob"),_xe=va("FileList"),$xe=t=>Mj(t)&&cn(t.pipe),Rxe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||cn(t.append)&&((e=$j(t))==="formdata"||e==="object"&&cn(t.toString)&&t.toString()==="[object FormData]"))},Mxe=va("URLSearchParams"),[Lxe,Fxe,Bxe,qxe]=["ReadableStream","Request","Response","Headers"].map(va),Vxe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eh(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),vu(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,t[l],l,t)}}function YV(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KV=t=>!Qf(t)&&t!==ki;function GA(){const{caseless:t}=KV(this)&&this||{},e={},r=(n,a)=>{const s=t&&YV(e,a)||a;Xy(e[s])&&Xy(n)?e[s]=GA(e[s],n):Xy(n)?e[s]=GA({},n):vu(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&eh(arguments[n],r);return e}const Uxe=(t,e,r,{allOwnKeys:n}={})=>(eh(e,(a,s)=>{r&&cn(a)?t[s]=zV(a,r):t[s]=a},{allOwnKeys:n}),t),zxe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Wxe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Hxe=(t,e,r,n)=>{let a,s,i;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)i=a[s],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&LD(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Gxe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Yxe=t=>{if(!t)return null;if(vu(t))return t;let e=t.length;if(!GV(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Kxe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&LD(Uint8Array)),Jxe=(t,e)=>{const n=(t&&t[_j]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},Xxe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Zxe=va("HTMLFormElement"),Qxe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),E$=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),eve=va("RegExp"),JV=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};eh(r,(a,s)=>{let i;(i=e(a,s,t))!==!1&&(n[s]=i||a)}),Object.defineProperties(t,n)},tve=t=>{JV(t,(e,r)=>{if(cn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(cn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},rve=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return vu(t)?n(t):n(String(t).split(e)),r},nve=()=>{},ave=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function sve(t){return!!(t&&cn(t.append)&&t[WV]==="FormData"&&t[_j])}const ove=t=>{const e=new Array(10),r=(n,a)=>{if(Mj(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const s=vu(n)?[]:{};return eh(n,(i,l)=>{const c=r(i,a+1);!Qf(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return r(t,0)},ive=va("AsyncFunction"),lve=t=>t&&(Mj(t)||cn(t))&&cn(t.then)&&cn(t.catch),XV=((t,e)=>t?setImmediate:e?((r,n)=>(ki.addEventListener("message",({source:a,data:s})=>{a===ki&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ki.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",cn(ki.postMessage)),cve=typeof queueMicrotask<"u"?queueMicrotask.bind(ki):typeof process<"u"&&process.nextTick||XV,uve=t=>t!=null&&cn(t[_j]),ee={isArray:vu,isArrayBuffer:HV,isBuffer:kxe,isFormData:Rxe,isArrayBufferView:Ixe,isString:Txe,isNumber:GV,isBoolean:Dxe,isObject:Mj,isPlainObject:Xy,isReadableStream:Lxe,isRequest:Fxe,isResponse:Bxe,isHeaders:qxe,isUndefined:Qf,isDate:Exe,isFile:Pxe,isBlob:Oxe,isRegExp:eve,isFunction:cn,isStream:$xe,isURLSearchParams:Mxe,isTypedArray:Kxe,isFileList:_xe,forEach:eh,merge:GA,extend:Uxe,trim:Vxe,stripBOM:zxe,inherits:Wxe,toFlatObject:Hxe,kindOf:$j,kindOfTest:va,endsWith:Gxe,toArray:Yxe,forEachEntry:Jxe,matchAll:Xxe,isHTMLForm:Zxe,hasOwnProperty:E$,hasOwnProp:E$,reduceDescriptors:JV,freezeMethods:tve,toObjectSet:rve,toCamelCase:Qxe,noop:nve,toFiniteNumber:ave,findKey:YV,global:ki,isContextDefined:KV,isSpecCompliantForm:sve,toJSONObject:ove,isAsyncFn:ive,isThenable:lve,setImmediate:XV,asap:cve,isIterable:uve};function Fe(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ee.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const ZV=Fe.prototype,QV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{QV[t]={value:t}});Object.defineProperties(Fe,QV);Object.defineProperty(ZV,"isAxiosError",{value:!0});Fe.from=(t,e,r,n,a,s)=>{const i=Object.create(ZV);return ee.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Fe.call(i,t.message,e,r,n,a),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const dve=null;function YA(t){return ee.isPlainObject(t)||ee.isArray(t)}function eU(t){return ee.endsWith(t,"[]")?t.slice(0,-2):t}function P$(t,e,r){return t?t.concat(e).map(function(a,s){return a=eU(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function fve(t){return ee.isArray(t)&&!t.some(YA)}const mve=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function Lj(t,e,r){if(!ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ee.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!ee.isUndefined(g[b])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(a))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(ee.isDate(h))return h.toISOString();if(!c&&ee.isBlob(h))throw new Fe("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(h)||ee.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,b,g){let x=h;if(h&&!g&&typeof h=="object"){if(ee.endsWith(b,"{}"))b=n?b:b.slice(0,-2),h=JSON.stringify(h);else if(ee.isArray(h)&&fve(h)||(ee.isFileList(h)||ee.endsWith(b,"[]"))&&(x=ee.toArray(h)))return b=eU(b),x.forEach(function(v,N){!(ee.isUndefined(v)||v===null)&&e.append(i===!0?P$([b],N,s):i===null?b:b+"[]",u(v))}),!1}return YA(h)?!0:(e.append(P$(g,b,s),u(h)),!1)}const f=[],m=Object.assign(mve,{defaultVisitor:d,convertValue:u,isVisitable:YA});function p(h,b){if(!ee.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(h),ee.forEach(h,function(x,y){(!(ee.isUndefined(x)||x===null)&&a.call(e,x,ee.isString(y)?y.trim():y,b,m))===!0&&p(x,b?b.concat(y):[y])}),f.pop()}}if(!ee.isObject(t))throw new TypeError("data must be an object");return p(t),e}function O$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function FD(t,e){this._pairs=[],t&&Lj(t,this,e)}const tU=FD.prototype;tU.append=function(e,r){this._pairs.push([e,r])};tU.toString=function(e){const r=e?function(n){return e.call(this,n,O$)}:O$;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function hve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rU(t,e,r){if(!e)return t;const n=r&&r.encode||hve;ee.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(e,r):s=ee.isURLSearchParams(e)?e.toString():new FD(e,r).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class _${constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(n){n!==null&&e(n)})}}const nU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pve=typeof URLSearchParams<"u"?URLSearchParams:FD,gve=typeof FormData<"u"?FormData:null,yve=typeof Blob<"u"?Blob:null,bve={isBrowser:!0,classes:{URLSearchParams:pve,FormData:gve,Blob:yve},protocols:["http","https","file","blob","url","data"]},BD=typeof window<"u"&&typeof document<"u",KA=typeof navigator=="object"&&navigator||void 0,xve=BD&&(!KA||["ReactNative","NativeScript","NS"].indexOf(KA.product)<0),vve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jve=BD&&window.location.href||"http://localhost",wve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:BD,hasStandardBrowserEnv:xve,hasStandardBrowserWebWorkerEnv:vve,navigator:KA,origin:jve},Symbol.toStringTag,{value:"Module"})),_r={...wve,...bve};function Cve(t,e){return Lj(t,new _r.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,s){return _r.isNode&&ee.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Nve(t){return ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Sve(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function aU(t){function e(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&ee.isArray(a)?a.length:i,c?(ee.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!ee.isObject(a[i]))&&(a[i]=[]),e(r,n,a[i],s)&&ee.isArray(a[i])&&(a[i]=Sve(a[i])),!l)}if(ee.isFormData(t)&&ee.isFunction(t.entries)){const r={};return ee.forEachEntry(t,(n,a)=>{e(Nve(n),a,r,0)}),r}return null}function Ave(t,e,r){if(ee.isString(t))try{return(e||JSON.parse)(t),ee.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const th={transitional:nU,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=ee.isObject(e);if(s&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return a?JSON.stringify(aU(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Cve(e,this.formSerializer).toString();if((l=ee.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Lj(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),Ave(e)):e}],transformResponse:[function(e){const r=this.transitional||th.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?Fe.from(l,Fe.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_r.classes.FormData,Blob:_r.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],t=>{th.headers[t]={}});const kve=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ive=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||e[r]&&kve[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},$$=Symbol("internals");function ed(t){return t&&String(t).trim().toLowerCase()}function Zy(t){return t===!1||t==null?t:ee.isArray(t)?t.map(Zy):String(t)}function Tve(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Dve=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function aC(t,e,r,n,a){if(ee.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!ee.isString(e)){if(ee.isString(n))return e.indexOf(n)!==-1;if(ee.isRegExp(n))return n.test(e)}}function Eve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Pve(t,e){const r=ee.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let un=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(l,c,u){const d=ed(c);if(!d)throw new Error("header name must be a non-empty string");const f=ee.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Zy(l))}const i=(l,c)=>ee.forEach(l,(u,d)=>s(u,d,c));if(ee.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(ee.isString(e)&&(e=e.trim())&&!Dve(e))i(Ive(e),r);else if(ee.isObject(e)&&ee.isIterable(e)){let l={},c,u;for(const d of e){if(!ee.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ee.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=ed(e),e){const n=ee.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return Tve(a);if(ee.isFunction(r))return r.call(this,a,n);if(ee.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ed(e),e){const n=ee.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||aC(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(i){if(i=ed(i),i){const l=ee.findKey(n,i);l&&(!r||aC(n,n[l],l,r))&&(delete n[l],a=!0)}}return ee.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||aC(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return ee.forEach(this,(a,s)=>{const i=ee.findKey(n,s);if(i){r[i]=Zy(a),delete r[s];return}const l=e?Eve(s):String(s).trim();l!==s&&delete r[s],r[l]=Zy(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ee.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&ee.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[$$]=this[$$]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=ed(i);n[l]||(Pve(a,i),n[l]=!0)}return ee.isArray(e)?e.forEach(s):s(e),this}};un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(un.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ee.freezeMethods(un);function sC(t,e){const r=this||th,n=e||r,a=un.from(n.headers);let s=n.data;return ee.forEach(t,function(l){s=l.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function sU(t){return!!(t&&t.__CANCEL__)}function ju(t,e,r){Fe.call(this,t??"canceled",Fe.ERR_CANCELED,e,r),this.name="CanceledError"}ee.inherits(ju,Fe,{__CANCEL__:!0});function oU(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Fe("Request failed with status code "+r.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ove(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _ve(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),u-i<e)return;const p=d&&u-d;return p?Math.round(m*1e3/p):void 0}}function $ve(t,e){let r=0,n=1e3/e,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const Hx=(t,e,r=3)=>{let n=0;const a=_ve(50,250);return $ve(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},R$=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},M$=t=>(...e)=>ee.asap(()=>t(...e)),Rve=_r.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,_r.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(_r.origin),_r.navigator&&/(msie|trident)/i.test(_r.navigator.userAgent)):()=>!0,Mve=_r.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const i=[t+"="+encodeURIComponent(e)];ee.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),ee.isString(n)&&i.push("path="+n),ee.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Lve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Fve(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function iU(t,e,r){let n=!Lve(e);return t&&(n||r==!1)?Fve(t,e):e}const L$=t=>t instanceof un?{...t}:t;function cl(t,e){e=e||{};const r={};function n(u,d,f,m){return ee.isPlainObject(u)&&ee.isPlainObject(d)?ee.merge.call({caseless:m},u,d):ee.isPlainObject(d)?ee.merge({},d):ee.isArray(d)?d.slice():d}function a(u,d,f,m){if(ee.isUndefined(d)){if(!ee.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!ee.isUndefined(d))return n(void 0,d)}function i(u,d){if(ee.isUndefined(d)){if(!ee.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(L$(u),L$(d),f,!0)};return ee.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=c[d]||a,m=f(t[d],e[d],d);ee.isUndefined(m)&&f!==l||(r[d]=m)}),r}const lU=t=>{const e=cl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;e.headers=i=un.from(i),e.url=rU(iU(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ee.isFormData(r)){if(_r.hasStandardBrowserEnv||_r.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(_r.hasStandardBrowserEnv&&(n&&ee.isFunction(n)&&(n=n(e)),n||n!==!1&&Rve(e.url))){const u=a&&s&&Mve.read(s);u&&i.set(a,u)}return e},Bve=typeof XMLHttpRequest<"u",qve=Bve&&function(t){return new Promise(function(r,n){const a=lU(t);let s=a.data;const i=un.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,p,h;function b(){p&&p(),h&&h(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function x(){if(!g)return;const v=un.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:v,config:t,request:g};oU(function(S){r(S),b()},function(S){n(S),b()},C),g=null}"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(x)},g.onabort=function(){g&&(n(new Fe("Request aborted",Fe.ECONNABORTED,t,g)),g=null)},g.onerror=function(){n(new Fe("Network Error",Fe.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||nU;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),n(new Fe(N,C.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,t,g)),g=null},s===void 0&&i.setContentType(null),"setRequestHeader"in g&&ee.forEach(i.toJSON(),function(N,C){g.setRequestHeader(C,N)}),ee.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),u&&([m,h]=Hx(u,!0),g.addEventListener("progress",m)),c&&g.upload&&([f,p]=Hx(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=v=>{g&&(n(!v||v.type?new ju(null,t,g):v),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const y=Ove(a.url);if(y&&_r.protocols.indexOf(y)===-1){n(new Fe("Unsupported protocol "+y+":",Fe.ERR_BAD_REQUEST,t));return}g.send(s||null)})},Vve=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Fe?d:new ju(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>ee.asap(l),c}},Uve=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},zve=async function*(t,e){for await(const r of Wve(t))yield*Uve(r,e)},Wve=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},F$=(t,e,r,n)=>{const a=zve(t,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Fj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cU=Fj&&typeof ReadableStream=="function",Hve=Fj&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),uU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Gve=cU&&uU(()=>{let t=!1;const e=new Request(_r.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),B$=64*1024,JA=cU&&uU(()=>ee.isReadableStream(new Response("").body)),Gx={stream:JA&&(t=>t.body)};Fj&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Gx[e]&&(Gx[e]=ee.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,n)})})})(new Response);const Yve=async t=>{if(t==null)return 0;if(ee.isBlob(t))return t.size;if(ee.isSpecCompliantForm(t))return(await new Request(_r.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(t)||ee.isArrayBuffer(t))return t.byteLength;if(ee.isURLSearchParams(t)&&(t=t+""),ee.isString(t))return(await Hve(t)).byteLength},Kve=async(t,e)=>{const r=ee.toFiniteNumber(t.getContentLength());return r??Yve(e)},Jve=Fj&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=lU(t);u=u?(u+"").toLowerCase():"text";let p=Vve([a,s&&s.toAbortSignal()],i),h;const b=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(c&&Gve&&r!=="get"&&r!=="head"&&(g=await Kve(d,n))!==0){let C=new Request(e,{method:"POST",body:n,duplex:"half"}),j;if(ee.isFormData(n)&&(j=C.headers.get("content-type"))&&d.setContentType(j),C.body){const[S,k]=R$(g,Hx(M$(c)));n=F$(C.body,B$,S,k)}}ee.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;h=new Request(e,{...m,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:x?f:void 0});let y=await fetch(h);const v=JA&&(u==="stream"||u==="response");if(JA&&(l||v&&b)){const C={};["status","statusText","headers"].forEach(T=>{C[T]=y[T]});const j=ee.toFiniteNumber(y.headers.get("content-length")),[S,k]=l&&R$(j,Hx(M$(l),!0))||[];y=new Response(F$(y.body,B$,S,()=>{k&&k(),b&&b()}),C)}u=u||"text";let N=await Gx[ee.findKey(Gx,u)||"text"](y,t);return!v&&b&&b(),await new Promise((C,j)=>{oU(C,j,{data:N,headers:un.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:h})})}catch(x){throw b&&b(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,t,h),{cause:x.cause||x}):Fe.from(x,x&&x.code,t,h)}}),XA={http:dve,xhr:qve,fetch:Jve};ee.forEach(XA,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const q$=t=>`- ${t}`,Xve=t=>ee.isFunction(t)||t===null||t===!1,dU={getAdapter:t=>{t=ee.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let i;if(n=r,!Xve(r)&&(n=XA[(i=String(r)).toLowerCase()],n===void 0))throw new Fe(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+s]=n}if(!n){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(q$).join(`
`):" "+q$(s[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:XA};function oC(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ju(null,t)}function V$(t){return oC(t),t.headers=un.from(t.headers),t.data=sC.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dU.getAdapter(t.adapter||th.adapter)(t).then(function(n){return oC(t),n.data=sC.call(t,t.transformResponse,n),n.headers=un.from(n.headers),n},function(n){return sU(n)||(oC(t),n&&n.response&&(n.response.data=sC.call(t,t.transformResponse,n.response),n.response.headers=un.from(n.response.headers))),Promise.reject(n)})}const fU="1.9.0",Bj={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Bj[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const U$={};Bj.transitional=function(e,r,n){function a(s,i){return"[Axios v"+fU+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new Fe(a(i," has been removed"+(r?" in "+r:"")),Fe.ERR_DEPRECATED);return r&&!U$[i]&&(U$[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,i,l):!0}};Bj.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Zve(t,e,r){if(typeof t!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=t[s],c=l===void 0||i(l,s,t);if(c!==!0)throw new Fe("option "+s+" must be "+c,Fe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Fe("Unknown option "+s,Fe.ERR_BAD_OPTION)}}const Qy={assertOptions:Zve,validators:Bj},Ca=Qy.validators;let Wi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _$,response:new _$}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=cl(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Qy.assertOptions(n,{silentJSONParsing:Ca.transitional(Ca.boolean),forcedJSONParsing:Ca.transitional(Ca.boolean),clarifyTimeoutError:Ca.transitional(Ca.boolean)},!1),a!=null&&(ee.isFunction(a)?r.paramsSerializer={serialize:a}:Qy.assertOptions(a,{encode:Ca.function,serialize:Ca.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Qy.assertOptions(r,{baseUrl:Ca.spelling("baseURL"),withXsrfToken:Ca.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&ee.merge(s.common,s[r.method]);s&&ee.forEach(["delete","get","head","post","put","patch","common"],h=>{delete s[h]}),r.headers=un.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,f=0,m;if(!c){const h=[V$.bind(this),void 0];for(h.unshift.apply(h,l),h.push.apply(h,u),m=h.length,d=Promise.resolve(r);f<m;)d=d.then(h[f++],h[f++]);return d}m=l.length;let p=r;for(f=0;f<m;){const h=l[f++],b=l[f++];try{p=h(p)}catch(g){b.call(this,g);break}}try{d=V$.call(this,p)}catch(h){return Promise.reject(h)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=cl(this.defaults,e);const r=iU(e.baseURL,e.url,e.allowAbsoluteUrls);return rU(r,e.params,e.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(e){Wi.prototype[e]=function(r,n){return this.request(cl(n||{},{method:e,url:r,data:(n||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function r(n){return function(s,i,l){return this.request(cl(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Wi.prototype[e]=r(),Wi.prototype[e+"Form"]=r(!0)});let Qve=class mU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new ju(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new mU(function(a){e=a}),cancel:e}}};function e0e(t){return function(r){return t.apply(null,r)}}function t0e(t){return ee.isObject(t)&&t.isAxiosError===!0}const ZA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ZA).forEach(([t,e])=>{ZA[e]=t});function hU(t){const e=new Wi(t),r=zV(Wi.prototype.request,e);return ee.extend(r,Wi.prototype,e,{allOwnKeys:!0}),ee.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return hU(cl(t,a))},r}const et=hU(th);et.Axios=Wi;et.CanceledError=ju;et.CancelToken=Qve;et.isCancel=sU;et.VERSION=fU;et.toFormData=Lj;et.AxiosError=Fe;et.Cancel=et.CanceledError;et.all=function(e){return Promise.all(e)};et.spread=e0e;et.isAxiosError=t0e;et.mergeConfig=cl;et.AxiosHeaders=un;et.formToJSON=t=>aU(ee.isHTMLForm(t)?new FormData(t):t);et.getAdapter=dU.getAdapter;et.HttpStatusCode=ZA;et.default=et;const{Axios:Y8e,AxiosError:K8e,CanceledError:J8e,isCancel:X8e,CancelToken:Z8e,VERSION:Q8e,all:e9e,Cancel:t9e,isAxiosError:r9e,spread:n9e,toFormData:a9e,AxiosHeaders:s9e,HttpStatusCode:o9e,formToJSON:i9e,getAdapter:l9e,mergeConfig:c9e}=et,Ye=et.create({baseURL:"https://staging-engine.testthelink.online",timeout:1e4,headers:{"Content-Type":"application/json"}});Ye.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Ye.interceptors.response.use(t=>t,t=>(console.error("Axios error:",t.response||t.message),Promise.reject(t)));const qD="https://staging-engine.testthelink.online",Yt=L("budgetFunds/fetchBudgetFunds",async()=>(await Ye("/funds")).data),eb=L("budgetFunds/createBudgetFund",async t=>{const r=await(await fetch(`${qD}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({IsNew:!0,...t})})).json();if(r)return ie.success("Fund added successfully"),r;throw new Error("Failed to create fund")}),tb=L("budgetFunds/updateBudgetFund",async t=>{const r=await(await fetch(`${qD}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({IsNew:!1,...t})})).json();if(r)return ie.success("Fund updated successfully"),r;throw new Error("Failed to update fund")}),rb=L("budgetFunds/deleteBudgetFund",async t=>{if(await(await fetch(`${qD}/funds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json())return ie.success("Fund deleted successfully"),t;throw new Error("Failed to delete fund")}),r0e=xe({name:"budgetFunds",initialState:{funds:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Yt.pending,e=>{e.loading=!0,e.error=null}).addCase(Yt.fulfilled,(e,r)=>{e.loading=!1,e.funds=r.payload||[]}).addCase(Yt.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch budget funds")}).addCase(eb.pending,e=>{e.loading=!0,e.error=null}).addCase(eb.fulfilled,(e,r)=>{e.loading=!1,e.funds=[...e.funds,r.payload]}).addCase(eb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to create fund")}).addCase(tb.pending,e=>{e.loading=!0,e.error=null}).addCase(tb.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.map(n=>n.ID===r.payload.ID?r.payload:n)}).addCase(tb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to update fund")}).addCase(rb.pending,e=>{e.loading=!0,e.error=null}).addCase(rb.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.filter(n=>n.ID!==r.payload)}).addCase(rb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to delete fund")})}}),n0e=r0e.reducer,Io=L("budget/fetchBudgets",async(t,e)=>{try{return(await Ye("/budget")).data.items}catch(r){return e.rejectWithValue(r.message)}}),iC=L("budget/createBudget",async t=>(await new Promise(r=>{setTimeout(()=>{r({data:{id:Date.now(),...t,status:"active"}})},1e3)})).data),lC=L("budget/updateBudget",async({id:t,budgetData:e})=>(await new Promise(n=>{setTimeout(()=>{n({data:{id:t,...e}})},1e3)})).data),cC=L("budget/deleteBudget",async t=>(await new Promise(e=>{setTimeout(()=>{e()},1e3)}),t)),a0e={budgets:[],isLoading:!1,error:null},s0e=xe({name:"budget",initialState:a0e,reducers:{},extraReducers:t=>{t.addCase(Io.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Io.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=r.payload}).addCase(Io.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(iC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets.push(r.payload)}).addCase(iC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(lC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.budgets.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.budgets[n]=r.payload)}).addCase(lC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(cC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=e.budgets.filter(n=>n.id!==r.payload)}).addCase(cC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),o0e=s0e.reducer,i0e=(t="self")=>Ye("/profileDashboard/userDocumentsList",{params:{owner:t}}),l0e=()=>Ye("/profileDashboard/user"),c0e=t=>Ye("/profileDashboard/budgetList",{params:t?{selectedDepartmentID:t}:{}}),u0e=t=>Ye(`/profileDashboard/budgetAPARList/${t}`),z$=(t="Day",e="Disbursement Voucher",r="")=>{const n={dateRange:t,aparType:e,...r&&{selectedDepartmentID:r}};return Ye("/profileDashboard/disbursementAmounts",{params:n})},d0e=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return Ye("/profileDashboard/obligationChart",{params:r})},f0e=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return Ye("/profileDashboard/travelOrderChart",{params:r})},m0e=(t="Year",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return Ye("/profileDashboard/disbursementChart",{params:r})},h0e=(t="Day")=>Ye("/profileDashboard/collectionTotals",{params:{dateRange:t}}),p0e=()=>Ye("/profileDashboard/chartGeneral"),g0e=()=>Ye("/profileDashboard/chartMarriage"),y0e=()=>Ye("/profileDashboard/chartBurial"),b0e=()=>Ye("/profileDashboard/chartCedula"),VD=t=>{const e={"Disbursement Posted":"bg-green-100 text-green-700",Requested:"bg-blue-100 text-blue-700",Pending:"bg-yellow-100 text-yellow-700","Cheque Requested":"bg-red-100 text-red-700"};return o.jsx("div",{className:"flex gap-2 flex-wrap",children:t.split(",").map((r,n)=>{const a=r.trim();return o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${e[a]||"bg-gray-100 text-gray-600"}`,children:a},n)})})},x0e=()=>{var d,f;const[t,e]=w.useState("self"),[r,n]=w.useState([]),[a,s]=w.useState(null);w.useEffect(()=>{i0e(t).then(m=>{console.log("res",m),n(m.data)}).catch(()=>{ie.error("Failed to load documents")})},[t]),w.useEffect(()=>{a||l0e().then(m=>{s(m.data)}).catch(m=>{ie.error("Failed to load user profile")})},[]);const{statusCounts:i,documentsList:l}=r||{},c={total:i==null?void 0:i.Total,approved:i==null?void 0:i.Approved,requested:i==null?void 0:i.Requested,rejected:i==null?void 0:i.Rejected},u=[{key:"Status",header:"Status",render:m=>VD(m)},{key:"InvoiceNumber",header:"Invoice No",sortable:!0},{key:"APAR",header:"APAR Type",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0,render:m=>(m==null?void 0:m.Name)||""},{key:"Total",header:"Amount",sortable:!0}];return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Eue,{className:"w-20 h-20 text-gray-400"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Welcome,"," ",[a==null?void 0:a.FirstName,a==null?void 0:a.MiddleName,a==null?void 0:a.LastName].filter(Boolean).join(" ")]}),((d=a==null?void 0:a.Position)==null?void 0:d.Name)&&o.jsxs("p",{className:"text-sm text-gray-500",children:["Position: ",a.Position.Name]}),((f=a==null?void 0:a.Department)==null?void 0:f.Name)&&o.jsxs("p",{className:"text-sm text-gray-500",children:["Department: ",a.Department.Name]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(ic,{to:"/budget-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Budget"})}),o.jsx(ic,{to:"/disbursement-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Disbursement"})}),o.jsx(ic,{to:"/collection-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Collection"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(op,{title:"Total Documents",value:c.total,icon:Sue}),o.jsx(op,{title:"Approved",value:c.approved,icon:yue}),o.jsx(op,{title:"Requested",value:c.requested,icon:Cue}),o.jsx(op,{title:"Rejected",value:c.rejected,icon:Oue})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner:"}),[{label:"Me",value:"self"},{label:"Department",value:"department"},{label:"All",value:"all"}].map(m=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"owner",value:m.value,checked:t===m.value,onChange:()=>e(m.value),className:"text-blue-600"}),o.jsx("span",{className:"text-sm",children:m.label})]},m.value))]}),o.jsx(ge,{columns:u,data:l||[],pagination:!0})]})},op=({title:t,value:e,icon:r})=>o.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 flex items-center gap-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:o.jsx(r,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-500",children:t}),o.jsx("p",{className:"text-xl font-semibold text-gray-800",children:e})]})]});function v0e(){const t=le(),{obligationRequests:e,isLoading:r}=V(j=>j.obligationRequests),{employees:n}=V(j=>j.employees),{customers:a}=V(j=>j.customers),{vendorDetails:s}=V(j=>j.vendorDetails),{departments:i}=V(j=>j.departments),{projectDetails:l}=V(j=>j.projectDetails),{funds:c}=V(j=>j.funds),{fiscalYears:u}=V(j=>j.fiscalYears),{items:d}=V(j=>j.items),{taxCodes:f}=V(j=>j.taxCodes),{itemUnits:m}=V(j=>j.itemUnits),{budgets:p}=V(j=>j.budget),[h,b]=w.useState("list"),[g,x]=w.useState(null);w.useEffect(()=>{t(Yy()),t(on()),t(Nn()),t(Ma()),t(ar()),t(Fa()),t(Yt()),t(ln()),t(La()),t(Gn()),t(pa()),t(Io())},[t]);const y=()=>{x(null),b("form")},v=j=>{x(j),b("form")},N=()=>{b("list"),x(null)},C=[{key:"Status",header:"Status",sortable:!0,render:j=>VD(j)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:j=>new Date(j).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[h==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Requests"}),o.jsx("p",{children:"Manage obligation requests"})]}),o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:C,data:e,actions:j=>{var k;const S=[];return((k=j.Transaction)==null?void 0:k.Status)==="Rejected"&&S.push({icon:Ae,title:"Edit",onClick:()=>v(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),S},loading:r})})]}),h==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(ba,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:g?"Edit Obligation Request":"Create Obligation Request"}),o.jsxs("p",{children:["Fill out the form to"," ",g?"update":"create"," an obligation request"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(Nxe,{initialData:g,employeeOptions:n.map(j=>({value:j.ID,label:j.FirstName+" "+j.MiddleName+" "+j.LastName})),vendorOptions:s.map(j=>({value:j.ID,label:j.Name})),individualOptions:a.map(j=>({value:j.ID,label:j.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(j=>({value:j.ID,label:j.Name})),fundOptions:c.map(j=>({value:j.ID,label:j.Name})),projectOptions:l.map(j=>({value:j.ID,label:j.Title})),fiscalYearOptions:u.map(j=>({value:j.ID,label:j.Name})),particularsOptions:d.map(j=>({value:j.ID,label:j.Name})),unitOptions:m.map(j=>({value:j.ID,label:j.Name})),taxCodeOptions:f.map(j=>({value:j.ID,label:j.Name})),budgetOptions:p.map(j=>({value:j.ID,label:j.Name})),taxCodeFull:f,onCancel:N,onSubmitSuccess:N,onClose:N})})]}),h==="details"&&g&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ba,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Request Details"}),o.jsx("p",{children:"View and manage obligation request details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>v(g),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(Sxe,{or:g,onBack:N})})]})]})}function Hi(t){const e=Number(t);if(Number.isNaN(e))return"";const r=Math.floor(e),n=Math.round((e-r)*100);let a=`${QA(r)} PESOS`;return n>0&&(a+=` AND ${n.toString().padStart(2,"0")}/100`),a.trim()}function QA(t){if(t===0)return"ZERO";if(t<0)return`MINUS ${QA(Math.abs(t))}`;const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],r=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];let n="";const a=(s,i)=>{s>0&&(n+=`${QA(s)} ${i} `)};return a(Math.floor(t/1e12),"TRILLION"),t%=1e12,a(Math.floor(t/1e9),"BILLION"),t%=1e9,a(Math.floor(t/1e6),"MILLION"),t%=1e6,a(Math.floor(t/1e3),"THOUSAND"),t%=1e3,a(Math.floor(t/100),"HUNDRED"),t%=100,t>0&&(n&&(n+="AND "),t<20?n+=e[t]:(n+=r[Math.floor(t/10)],t%10&&(n+=`-${e[t%10]}`))),n.trim()}const UD="https://staging-engine.testthelink.online",j0e={disbursementVouchers:[],disbursementVoucher:null,isLoading:!1,error:null,requestOptions:[],requestOptionsLoading:!1,requestOptionsError:null},nb=L("disbursementVouchers/fetchRequestOptions",async({requestType:t,payeeType:e,payeeId:r},n)=>{try{const a=localStorage.getItem("token"),s=`${UD}/disbursementVoucher/selectListForDV?type=${encodeURIComponent(e)}&requestType=${encodeURIComponent(t)}&id=${r}`,i=await fetch(s,{headers:{Authorization:`Bearer ${a}`}}),l=await i.json();if(!i.ok)throw new Error(l.error||l.message||"Failed to fetch request options");return l}catch(a){return n.rejectWithValue(a.message)}}),vc=L("disbursementVouchers/fetchDisbursementVouchers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${UD}/disbursementVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),uC=L("disbursementVouchers/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().disbursementVouchers.disbursementVouchers.find(i=>i.id===t);s?r(s):n(new Error("Disbursement voucher not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),ab=L("disbursementVouchers/create",async(t,e)=>{try{const r=await fetch(`${UD}/disbursementVoucher/save`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),sb=L("disbursementVouchers/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),pU=xe({name:"disbursementVouchers",initialState:j0e,reducers:{resetDisbursementVoucherState:t=>{t.disbursementVoucher=null,t.error=null}},extraReducers:t=>{t.addCase(vc.pending,e=>{e.isLoading=!0}).addCase(vc.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers=r.payload}).addCase(vc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(uC.pending,e=>{e.isLoading=!0}).addCase(uC.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVoucher=r.payload}).addCase(uC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ab.pending,e=>{e.isLoading=!0}).addCase(ab.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers.push(r.payload)}).addCase(ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sb.pending,e=>{e.isLoading=!0}).addCase(sb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.disbursementVouchers.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.disbursementVouchers[n]=r.payload)}).addCase(sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(nb.pending,e=>{e.requestOptionsLoading=!0,e.requestOptionsError=null}).addCase(nb.fulfilled,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptions=r.payload}).addCase(nb.rejected,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptionsError=r.payload})}}),{resetDisbursementVoucherState:u9e}=pU.actions,w0e=pU.reducer,C0e="https://staging-engine.testthelink.online",W$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],N0e=[{value:"Obligation Request",label:"Obligation Request"},{value:"FURS",label:"FURS"},{value:"Standalone Request",label:"Standalone Request"}];function S0e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:p=[],taxCodeOptions:h=[],budgetOptions:b=[],taxCodeFull:g=[],chartOfAccountsOptions:x=[]}){const y=le(),v=w.useRef(null),[N,C]=w.useState(!1),[j,S]=w.useState(null),[k,T]=w.useState(null),[A,D]=w.useState(null),[P,M]=w.useState(!1),[$,R]=w.useState([]),[F,z]=w.useState((t==null?void 0:t.modeOfPayment)||""),O=()=>oe().shape({payeeType:E().required("Payee type is required"),payeeId:E().required("Payee selection is required"),accountingEntries:A==="Standalone Request"?Ht():Ht().min(1,"At least one item is required"),contraAccount:E().required("Contra Account is required"),modeOfPayment:E().required("Mode of Payment is required"),bank:F==="Check"?E().required("Bank is required"):E(),checkNumber:F==="Check"?E().required("Check Number is required"):E(),receivedPaymentBy:E().required("Received Payment By is required")}),{requestOptions:_,requestOptionsLoading:B,requestOptionsError:Y}=V(X=>X.disbursementVouchers),H=(X,ue)=>{const Q=X.reduce((W,me)=>W+Number(me.amount||0),0),re=ue.reduce((W,me)=>W+Number(me.amount||0),0),K=Q-re;return{grossAmount:Q,totalTaxes:re,netAmount:K}},te={description:"",amount:"",accountCode:""},fe={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[te],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[],OBR_LinkID:(t==null?void 0:t.OBR_LinkID)||"",contraAccount:(t==null?void 0:t.contraAccount)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",bank:(t==null?void 0:t.bank)||"",checkNumber:(t==null?void 0:t.checkNumber)||"",receivedPaymentBy:(t==null?void 0:t.receivedPaymentBy)||""},ke=X=>{C(!0),H(X.items,X.taxes);const ue=new FormData;X.payeeType==="Employee"?(ue.append("EmployeeID",X.payeeId),ue.append("VendorID",""),ue.append("CustomerID","")):X.payeeType==="Vendor"?(ue.append("EmployeeID",""),ue.append("VendorID",X.payeeId),ue.append("CustomerID","")):X.payeeType==="Individual"&&(ue.append("EmployeeID",""),ue.append("VendorID",""),ue.append("CustomerID",X.payeeId)),ue.append("PayeeType",X.payeeType),ue.append("Payee",(j==null?void 0:j.Name)||(j==null?void 0:j.FirstName)+" "+(j==null?void 0:j.MiddleName)+" "+(j==null?void 0:j.LastName)||""),ue.append("Address",(j==null?void 0:j.StreetAddress)||""),ue.append("InvoiceNumber",X.obrNo),ue.append("InvoiceDate",X.obrDate),ue.append("ResponsibilityCenter",X.responsibilityCenter);const Q=X.accountingEntries.reduce((Te,Ve)=>Te+Number(Ve.subtotal||0),0),re=X.accountingEntries.reduce((Te,Ve)=>Te+Number(Ve.ewt||0),0),K=X.accountingEntries.reduce((Te,Ve)=>Te+Number(Ve.withheld||0),0),W=X.accountingEntries.reduce((Te,Ve)=>Te+Number(Ve.vat||0),0),me=X.accountingEntries.reduce((Te,Ve)=>Te+Number(Ve.discount||0),0);ue.append("Total",Q.toFixed(2)),ue.append("EWT",re.toFixed(2)),ue.append("WithheldAmount",K.toFixed(2)),ue.append("Vat_Total",W.toFixed(2)),ue.append("Discounts",me.toFixed(2)),ue.append("FundsID",X.fund),ue.append("FiscalYearID",X.fiscalYear),ue.append("ProjectID",X.project),ue.append("TravelID",""),ue.append("Items",JSON.stringify(X.accountingEntries)),X.Attachments.forEach((Te,Ve)=>{Te.ID?ue.append(`Attachments[${Ve}].ID`,Te.ID):ue.append(`Attachments[${Ve}].File`,Te.File)}),ue.append("OBR_LinkID",X.OBR_LinkID||""),ue.append("ContraAccountID",X.contraAccount),ue.append("ModeOfPayment",X.modeOfPayment),ue.append("BankID",X.bank),ue.append("CheckNumber",X.checkNumber),ue.append("ReceivedPaymentBy",X.receivedPaymentBy),t?(ue.append("LinkID",t.LinkID),ue.append("IsNew",!1)):ue.append("IsNew",!0);const je=t?sb({formData:ue,id:t.ID}).unwrap():ab(ue);y(je).unwrap().then(()=>{ie.success("Success"),e(),y(vc())}).catch(Te=>{ie.error((Te==null?void 0:Te.message)||"Failed to submit")}).finally(()=>{C(!1)})},ae=({type:X})=>{switch(X){case"Employee":return o.jsx(AD,{className:"w-5 h-5"});case"Vendor":return o.jsx(IT,{className:"w-5 h-5"});case"Individual":return o.jsx(J0,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:v,initialValues:fe,validationSchema:O(),onSubmit:ke,enableReinitialize:!0,children:({values:X,errors:ue,touched:Q,handleChange:re,handleBlur:K,setFieldValue:W,setFieldError:me,setFieldTouched:je,isValid:Te})=>{H(X.items,X.taxes);const qe=W$.map(Z=>({value:Z.value,label:Z.label})).find(Z=>Z.value===X.payeeType),Lr=Z=>{S(null),W("payeeType",Z),W("payeeName",""),W("payeeId",""),W("payeeAddress",""),W("officeUnitProject",""),W("orsNumber","")},Fr=async Z=>{if(T(null),W("requestType",Z),console.log("Selected Request Type:",Z),D(Z),Z==="Standalone Request"){W("accountingEntries",[],!1);return}X.payeeType&&X.payeeId&&Z&&y(nb({requestType:Z,payeeType:X.payeeType,payeeId:X.payeeId}))},ea=Z=>{var De,Je;T(Z);const be=(((De=Z==null?void 0:Z.raw)==null?void 0:De.TransactionItemsAll)||[]).map(Ze=>{var ti,zs,ri,_u,KE,JE,XE;const Ir={Price:Ze.Price??0,Quantity:Ze.Quantity??1,DiscountRate:Ze.DiscountRate??0,Vatable:Ze.Vatable,withheldEWT:Ze.EWTRate??0},Us=Zf({price:Ir.Price,quantity:Ir.Quantity,taxRate:Ze.TaxRate||0,discountPercent:Ir.DiscountRate,vatable:Ir.Vatable,ewtRate:Ir.withheldEWT});return{...Ze,...Us,itemName:((ti=Ze.Item)==null?void 0:ti.Name)||"",subtotal:Ze.AmountDue||0,Remarks:Ze.Remarks||"",FPP:Ze.FPP||"",accountCode:((ri=(zs=Ze.ChargeAccount)==null?void 0:zs.ChartofAccounts)==null?void 0:ri.AccountCode)||"",accountName:((KE=(_u=Ze.ChargeAccount)==null?void 0:_u.ChartofAccounts)==null?void 0:KE.Name)||"",fundCode:((XE=(JE=Z==null?void 0:Z.raw)==null?void 0:JE.sourceFunds)==null?void 0:XE.Code)||""}});v.current&&(v.current.setFieldValue("accountingEntries",be),v.current.setFieldValue("OBR_LinkID",((Je=Z==null?void 0:Z.raw)==null?void 0:Je.LinkID)||""))},Hr=Z=>{let pe=null;switch(X.payeeType){case"Employee":pe=s.find(be=>be.ID===Z);break;case"Vendor":pe=i.find(be=>be.ID===Z);break;case"Individual":pe=l.find(be=>be.ID===Z);break}S(pe),W("payeeName",pe==null?void 0:pe.Name),W("payeeId",pe==null?void 0:pe.ID)},J=Z=>{switch(Z){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}},ye=Z=>{z(Z.target.value),re(Z),Z.target.value==="Cash"&&(W("bank",""),W("checkNumber",""))};return o.jsxs(Le,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:W$.map(Z=>o.jsxs("button",{type:"button",onClick:()=>Lr(Z.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${X.payeeType===Z.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(ae,{type:Z.value}),o.jsx("span",{className:"ml-3 font-medium",children:Z.label})]},Z.value))}),ue.payeeType&&Q.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.payeeType})]}),X.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",qe==null?void 0:qe.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:J(X.payeeType),onChange:Z=>Hr(Z.value),value:J(X.payeeType).find(Z=>Z.value===X.payeeId)||null,className:"react-select-container",classNamePrefix:"react-select"}),ue.payeeType&&Q.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.payeeType})]}),j&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(qe==null?void 0:qe.label)==="Employee"?`${j.FirstName||""} ${j.MiddleName||""} ${j.LastName||""}`.trim():((qe==null?void 0:qe.label)==="Vendor"||(qe==null?void 0:qe.label)==="Individual",j.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((qe==null?void 0:qe.label)==="Employee"||(qe==null?void 0:qe.label)==="Vendor"||(qe==null?void 0:qe.label)==="Individual",j.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request for Payment"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Request Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:N0e.map(Z=>o.jsx("button",{type:"button",onClick:()=>Fr(Z.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${X.requestType===Z.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:o.jsx("span",{className:"ml-3 font-medium",children:Z.label})},Z.value))}),ue.requestType&&Q.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.requestType})]}),X.requestType!=="Standalone Request"&&o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Request ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:_.map(Z=>{var be,De,Je,Ze,Ir,Us,ti,zs,ri,_u;let pe="";return X.payeeType==="Employee"?pe=`${((be=Z.Employee)==null?void 0:be.FirstName)||""} ${((De=Z.Employee)==null?void 0:De.MiddleName)||""} ${((Je=Z.Employee)==null?void 0:Je.LastName)||""}`.trim():X.payeeType==="Individual"?!((Ze=Z.Employee)!=null&&Ze.FirstName)&&!((Ir=Z.Employee)!=null&&Ir.MiddleName)&&!((Us=Z.Employee)!=null&&Us.LastName)?pe=Z.Name||"N/A":pe=`${((ti=Z.Employee)==null?void 0:ti.FirstName)||""} ${((zs=Z.Employee)==null?void 0:zs.MiddleName)||""} ${((ri=Z.Employee)==null?void 0:ri.LastName)||""}`.trim():X.payeeType==="Vendor"&&(pe=Z.Name||"N/A"),{value:Z.ID,label:`${Z.InvoiceNumber||""}  ${pe}  ${Z.TIN||""}  ${Z.InvoiceDate}  ${((_u=Z.sourceFunds)==null?void 0:_u.Code)||""}`,raw:Z}}),isLoading:B,value:k,onChange:ea,placeholder:B?"Loading":Y?`Error: ${Y}`:"Select request",className:"react-select-container",classNamePrefix:"react-select"}),ue.requestType&&Q.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.requestType+"request error"})]})]})]}),o.jsx("hr",{}),o.jsx(en,{name:"accountingEntries",children:({push:Z,remove:pe})=>o.jsxs(o.Fragment,{children:[X.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"AMOUNT"}),o.jsx("span",{children:"AMOUNT DUE"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{children:"FUND CODE"})]}),X.accountingEntries.map((be,De)=>o.jsxs("div",{className:"grid grid-cols-8 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:be.itemName}),o.jsx("span",{children:parseFloat(be.subtotal).toFixed(2)}),o.jsx("span",{children:parseFloat(be.subtotal).toFixed(2)}),o.jsx("span",{children:be.Remarks}),o.jsx("span",{children:be.FPP}),o.jsx("span",{children:be.accountCode}),o.jsx("span",{children:be.accountName}),o.jsx("span",{children:be.fundCode}),o.jsx("div",{className:"col-span-8 text-right",children:o.jsx("button",{type:"button",onClick:()=>pe(De),className:"text-red-600 text-xs",children:""})})]},De)),o.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-7 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:X.accountingEntries.reduce((be,De)=>be+Number(De.subtotal||0),0).toFixed(2)})]}),o.jsx("div",{className:"grid grid-cols-1 gap-2 font-semibold pt-2 border-t",children:o.jsx("div",{className:"text-right",children:Hi(X.accountingEntries.reduce((be,De)=>be+Number(De.subtotal||0),0).toFixed(2))})})]}),o.jsx(se,{isOpen:P,onClose:()=>M(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(qV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:p,taxCodeOptions:h,budgetOptions:b,taxCodeFull:g,onClose:()=>M(!1),onSubmit:be=>{Z(be),M(!1)}})})]})}),ue.accountingEntries&&X.requestType!=="Standalone Request"&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.accountingEntries}),o.jsx("hr",{}),(()=>{const Z={};X.accountingEntries.forEach(be=>{console.log("entry",be);const De=be.TaxName||"N/A",Je=be.TaxRate||0,Ze=Number(be.WithheldAmount||0),Ir=`${De}-${Je}`;Z[Ir]||(Z[Ir]={taxName:De,taxRate:Je,withheld:0}),Z[Ir].withheld+=Ze});const pe=Object.values(Z);return pe.length?o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Taxes"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm font-semibold",children:[o.jsx("span",{children:"Tax Name"}),o.jsx("span",{className:"text-right",children:"TaxRate%"}),o.jsx("span",{className:"text-right",children:"TotalWithheld"})]}),pe.map(({taxName:be,taxRate:De,withheld:Je},Ze)=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm border p-2 rounded",children:[o.jsx("span",{children:be}),o.jsx("span",{className:"text-right",children:parseFloat(De).toFixed(2)}),o.jsx("span",{className:"text-right",children:Je.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]},Ze))]}):null})(),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Payment Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contra Account"}),o.jsx(qr,{name:"contraAccount",options:x,onChange:Z=>W("contraAccount",Z==null?void 0:Z.value),value:x.find(Z=>Z.value===X.contraAccount)||null,classNamePrefix:"react-select"}),ue.contraAccount&&Q.contraAccount&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.contraAccount})]}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Mode of Payment",name:"modeOfPayment",options:[{value:"Cash",label:"Cash"},{value:"Check",label:"Check"},{value:"Others",label:"Others"}],value:X.modeOfPayment,onChange:ye,onBlur:K,error:ue.modeOfPayment,touched:Q.modeOfPayment,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[F==="Check"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx(I,{type:"text",label:"Bank",name:"bank",value:X.bank,onChange:re,onBlur:K,error:ue.bank,touched:Q.bank,required:F==="Check"})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Check No.",name:"checkNumber",value:X.checkNumber,onChange:re,onBlur:K,error:ue.checkNumber,touched:Q.checkNumber,required:F==="Check"})})]}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Received Payment By",name:"receivedPaymentBy",value:X.receivedPaymentBy,onChange:re,onBlur:K,error:ue.receivedPaymentBy,touched:Q.receivedPaymentBy,required:!0})})]})]}),o.jsx("hr",{}),o.jsx(en,{name:"Attachments",render:({remove:Z,push:pe})=>{var be;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>pe({File:null}),children:"+ Attachment"})]}),(be=X.Attachments)==null?void 0:be.map((De,Je)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[De.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${C0e}/uploads/${De.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:De.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Je}].ID`,value:De.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Je+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Je}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ze=>W(`Attachments[${Je}].File`,Ze.currentTarget.files[0]),onBlur:K,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(wt,{type:"button",onClick:()=>Z(Je),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(nr,{className:"w-4 h-4"})})]},Je))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function A0e(){const t=le(),{disbursementVouchers:e,isLoading:r}=V(A=>A.disbursementVouchers),{employees:n}=V(A=>A.employees),{customers:a}=V(A=>A.customers),{vendorDetails:s}=V(A=>A.vendorDetails),{departments:i}=V(A=>A.departments),{projectDetails:l}=V(A=>A.projectDetails),{funds:c}=V(A=>A.funds),{fiscalYears:u}=V(A=>A.fiscalYears),{items:d}=V(A=>A.items),{taxCodes:f}=V(A=>A.taxCodes),{itemUnits:m}=V(A=>A.itemUnits),{budgets:p}=V(A=>A.budget),h=V(A=>{var D;return((D=A.chartOfAccounts)==null?void 0:D.accounts)||[]}),[b,g]=w.useState("list"),[x,y]=w.useState(null),[v,N]=w.useState(!1);w.useEffect(()=>{t(vc()),t(on()),t(Nn()),t(Ma()),t(ar()),t(Fa()),t(Yt()),t(ln()),t(La()),t(Gn()),t(pa()),t(Io()),t(br())},[t]);const C=()=>{y(null),g("form")},j=A=>{y(A),g("form")},S=()=>{g("list"),y(null)},k=[{key:"Status",header:"Status",sortable:!0,render:A=>VD(A)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:A=>new Date(A).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"BillingDueDate",header:"Billing Due Date ",sortable:!0},{key:"ObligationRequestNumber",header:"CAFOA Number",sortable:!0}],T=async(A,D)=>{N(!0);try{const P=await Ye.post(`/disbursementVoucher/${D}`,{ID:A.ID});console.log(`${D}d:`,P.data),t(vc()),q.success(`Disbursement Voucher ${D}d successfully`)}catch(P){console.error(`Error ${D}ing disbursement voucher:`,P),q.error(`Error ${D}ing disbursement voucher`)}finally{N(!1)}};return o.jsxs("div",{children:[b==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Vouchers"}),o.jsx("p",{children:"Manage disbursement vouchers"})]}),o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create DV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:k,data:e,actions:A=>{const D=[];return A.Status.toLowerCase().includes("rejected")||A.Status==="Requested"&&D.push({icon:Fde,title:"Approve",onClick:()=>T(A,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:H6,title:"Reject",onClick:()=>T(A,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),D},loading:r||v})})]}),b==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(ba,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:x?"Edit Disbursement Voucher":"Create Disbursement Voucher"}),o.jsxs("p",{children:["Fill out the form to"," ",x?"update":"create"," a disbursement voucher"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(S0e,{initialData:x,employeeOptions:n.map(A=>({value:A.ID,label:A.FirstName+" "+A.MiddleName+" "+A.LastName})),vendorOptions:s.map(A=>({value:A.ID,label:A.Name})),individualOptions:a.map(A=>({value:A.ID,label:A.Name})),chartOfAccountsOptions:(h||[]).map(A=>({value:A.ID,label:A.AccountCode+" - "+A.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(A=>({value:A.ID,label:A.Name})),fundOptions:c.map(A=>({value:A.ID,label:A.Name})),projectOptions:l.map(A=>({value:A.ID,label:A.Title})),fiscalYearOptions:u.map(A=>({value:A.ID,label:A.Name})),particularsOptions:d.map(A=>({value:A.ID,label:A.Name})),unitOptions:m.map(A=>({value:A.ID,label:A.Name})),taxCodeOptions:f.map(A=>({value:A.ID,label:A.Name})),budgetOptions:p.map(A=>({value:A.ID,label:A.Name})),taxCodeFull:f,onCancel:S,onSubmitSuccess:S,onClose:S})})]}),b==="details"&&x&&o.jsx("div",{children:o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ba,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Voucher Details"}),o.jsx("p",{children:"View and manage disbursement voucher details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>j(x),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit DV"]})]})})})]})}function k0e({initialData:t,onSubmit:e,onClose:r,officeOptions:n,employeeOptions:a}){const s="https://staging-engine.testthelink.online",{departments:i}=V(y=>y.departments),{employees:l}=V(y=>y.employees),{budgets:c}=V(y=>y.budget);console.log("Budgets:",c);const u=le();w.useEffect(()=>{u(ar()),u(on()),u(Io())},[u]);const d=oe({BudgetID:E().required("Office is required"),DateStart:Re().required("Start Date is required"),DateEnd:Re().required("End Date is required").min(il("DateStart"),"End Date must be after Start Date"),Place:E().required("Place/Office to be visited is required"),Venue:E().required("Venue/Destination is required"),Remarks:E(),Purpose:E().required("Purpose of Travel is required"),Travelers:Ht().of(oe({TravelerID:E().required("Employee is required")})).min(1,"At least one traveler is required"),TravelPayments:Ht().of(oe({Amount:G().required("Amount is required"),BudgetID:E().required("Budget of Fund is required"),Type:E().required("Type is required")})).min(1,"At least one expense is required"),TravelDocuments:Ht().of(oe({Name:E().required("Document name is required")})).min(1,"At least one document is required")}),f=rt({initialValues:t||{BudgetID:"",DateStart:"",DateEnd:"",Place:"",Venue:"",Remarks:"",Purpose:"",Plane:!1,Vessels:!1,PUV:!1,ServiceVehicle:!1,RentedVehicle:!1,Travelers:[{TravelerID:""}],TravelPayments:[{Amount:"",BudgetID:"",Type:""}],TravelDocuments:[{Name:""}],Attachments:[]},validationSchema:d,onSubmit:async(y,v)=>{const N=new FormData;for(const C in y)C==="Attachments"?y.Attachments.forEach((j,S)=>{j.ID?N.append(`Attachments[${S}].ID`,j.ID):N.append(`Attachments[${S}].File`,j.File)}):N.append(C,JSON.stringify(y[C]));try{await e(N)}catch(C){console.error(C)}finally{v(!1)}}}),{values:m,handleChange:p,handleBlur:h,errors:b,touched:g,isSubmitting:x}=f;return o.jsx(rD,{value:f,children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"space-y-4",children:[o.jsx(I,{type:"select",label:"Office",name:"BudgetID",options:i.map(y=>({value:y.ID,label:y.Name})),value:m.BudgetID,onChange:p,onBlur:h,error:b.BudgetID,touched:g.BudgetID,required:!0}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(I,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:p,onBlur:h,error:b.DateStart,touched:g.DateStart,required:!0}),o.jsx(I,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:p,onBlur:h,error:b.DateEnd,touched:g.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(I,{label:"Place/Office to be visited",name:"Place",type:"text",value:m.Place,onChange:p,onBlur:h,error:b.Place,touched:g.Place,required:!0}),o.jsx(I,{label:"Venue/Destination",name:"Venue",type:"text",value:m.Venue,onChange:p,onBlur:h,error:b.Venue,touched:g.Venue,required:!0})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(I,{type:"textarea",label:"Remarks",name:"Remarks",value:m.Remarks,onChange:p,onBlur:h,error:b.Remarks,touched:g.Remarks}),o.jsx(I,{type:"textarea",label:"Purpose of Travel",name:"Purpose",value:m.Purpose,onChange:p,onBlur:h,error:b.Purpose,touched:g.Purpose,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium block mb-2",children:"Means of Transportation"}),o.jsxs("div",{className:"grid grid-cols-1  sm:grid-cols-3 gap-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Plane",checked:m.Plane,onChange:p,onBlur:h}),o.jsx("span",{children:"Plane"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Vessels",checked:m.Vessels,onChange:p,onBlur:h}),o.jsx("span",{children:"Ship/Boat"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"PUV",checked:m.PUV,onChange:p,onBlur:h}),o.jsx("span",{children:"PUV"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"ServiceVehicle",checked:m.ServiceVehicle,onChange:p,onBlur:h}),o.jsx("span",{children:"LGU Service Vehicle"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"RentedVehicle",checked:m.RentedVehicle,onChange:p,onBlur:h}),o.jsx("span",{children:"Vehicle for Rent"})]})]})]}),o.jsx("hr",{}),o.jsx(en,{name:"Travelers",render:({remove:y,push:v})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2 ",children:[o.jsx("label",{className:"font-medium",children:"Travelers"}),o.jsx(wt,{type:"button",onClick:()=>v({TravelerID:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),m.Travelers.map((N,C)=>{var j,S,k,T;return o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[o.jsx(I,{type:"select",label:`Employee ${C+1}`,name:`Travelers[${C}].TravelerID`,options:l.map(A=>({value:A.ID,label:A.FirstName+" "+A.MiddleName+" "+A.LastName})),value:N.TravelerID,onChange:p,onBlur:h,error:(S=(j=b.Travelers)==null?void 0:j[C])==null?void 0:S.TravelerID,touched:(T=(k=g.Travelers)==null?void 0:k[C])==null?void 0:T.TravelerID,className:"w-full sm:min-w-[300px]",required:!0}),o.jsx(wt,{type:"button",onClick:()=>y(C),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:m.Travelers.length===1,children:o.jsx(nr,{className:"w-4 h-4"})})]},C)})]})}),o.jsx("hr",{}),o.jsx(en,{name:"TravelPayments",render:({remove:y,push:v})=>{var N,C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Expenses"}),o.jsx(wt,{type:"button",onClick:()=>v({Amount:"",BudgetID:"",Type:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(N=m.TravelPayments)==null?void 0:N.map((j,S)=>{var k,T,A,D,P,M,$,R,F,z,O,_;return o.jsxs("div",{className:"flex sm:flex-wrap max-sm:flex-col  sm:gap-4 w-full  !mb-4",children:[o.jsx(I,{type:"number",label:"Amount",name:`TravelPayments[${S}].Amount`,value:j.Amount,onChange:p,onBlur:h,error:(T=(k=b.TravelPayments)==null?void 0:k[S])==null?void 0:T.Amount,touched:(D=(A=g.TravelPayments)==null?void 0:A[S])==null?void 0:D.Amount,className:"w-full sm:max-w-[180px] ",required:!0}),o.jsx(I,{type:"select",label:"Source of Fund",name:`TravelPayments[${S}].BudgetID`,options:c.map(B=>({value:B.ID,label:B.Name})),value:j.BudgetID,onChange:p,onBlur:h,error:(M=(P=b.TravelPayments)==null?void 0:P[S])==null?void 0:M.BudgetID,touched:(R=($=g.TravelPayments)==null?void 0:$[S])==null?void 0:R.BudgetID,className:"w-full sm:min-w-[200px] ",required:!0}),o.jsx(I,{type:"select",label:"Type",name:`TravelPayments[${S}].Type`,options:[{label:"One Time Payment",value:"1"},{label:"Per Day",value:"2"}],value:j.Type,onChange:p,onBlur:h,error:(z=(F=b.TravelPayments)==null?void 0:F[S])==null?void 0:z.Type,touched:(_=(O=g.TravelPayments)==null?void 0:O[S])==null?void 0:_.Type,className:"w-full sm:min-w-[100px] ",required:!0}),o.jsx(wt,{type:"button",onClick:()=>y(S),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3 my-auto ml-auto",disabled:m.TravelPayments.length===1,children:o.jsx(nr,{className:"w-4 h-4"})})]},S)}),o.jsxs("div",{className:"flex justify-end text-right mt-4",children:[o.jsx("label",{className:"font-semibold mr-2",children:"Total:"}),o.jsx("span",{className:"",children:(C=m.TravelPayments)==null?void 0:C.reduce((j,S)=>{const k=parseFloat(S.Amount);return j+(isNaN(k)?0:k)},0).toFixed(2)})]})]})}}),o.jsx("hr",{}),o.jsx(en,{name:"TravelDocuments",render:({remove:y,push:v})=>{var N;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Documents Required"}),o.jsx(wt,{type:"button",onClick:()=>v({Name:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(N=m.TravelDocuments)==null?void 0:N.map((C,j)=>{var S,k,T,A;return o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[o.jsx(I,{type:"text",label:`Document ${j+1}`,name:`TravelDocuments[${j}].Name`,value:C.Name,onChange:p,onBlur:h,error:(k=(S=b.TravelDocuments)==null?void 0:S[j])==null?void 0:k.Name,touched:(A=(T=g.TravelDocuments)==null?void 0:T[j])==null?void 0:A.Name,className:"w-full sm:min-w-[300px]",required:!0}),o.jsx(wt,{type:"button",onClick:()=>y(j),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:m.TravelDocuments.length===1,children:o.jsx(nr,{className:"w-4 h-4"})})]},j)})]})}}),o.jsx("hr",{}),o.jsx(en,{name:"Attachments",render:({remove:y,push:v})=>{var N;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(wt,{type:"button",onClick:()=>v({File:null}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(N=m.Attachments)==null?void 0:N.map((C,j)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[C.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${s}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:C.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${j}].ID`,value:C.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${j+1}`}),o.jsx("input",{type:"file",name:`Attachments[${j}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:S=>f.setFieldValue(`Attachments[${j}].File`,S.currentTarget.files[0]),onBlur:h,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(wt,{type:"button",onClick:()=>y(j),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",children:o.jsx(nr,{className:"w-4 h-4"})})]},j))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x,children:x?"Saving...":"Save"})]})]})})}function I0e({to:t,onClose:e,onEdit:r}){const n=l=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l),a=l=>new Date(l).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=l=>new Date(l).toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=l=>{let c="bg-neutral-100 text-neutral-800";switch(l){case"Pending Recommendation":c="bg-warning-100 text-warning-800";break;case"Pending Approval":c="bg-primary-100 text-primary-800";break;case"Approved":case"Liquidated":c="bg-success-100 text-success-800";break;case"Cancelled":c="bg-error-100 text-error-800";break}return c};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${i(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(gu,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Travel Order Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"TO Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.toNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.toDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Employee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Employee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.employeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Position"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.position})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Travel Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Destination"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.destination})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Means of Travel"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.meansOfTravel||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Departure"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.departureDate)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Return"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.returnDate)})]})]})}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Purpose"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900 whitespace-pre-line",children:t.purpose})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Estimated Expenses"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.estimatedExpenses)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(r3,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(t3,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Recommendation"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(s3,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for recommendation"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const qj="https://staging-engine.testthelink.online",T0e=[],ob=L("travelOrders/fetchTravelOrders",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qj}/travelOrder`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ib=L("travelOrders/addTravelOrder",async(t,e)=>{try{const r=await fetch(`${qj}/travelOrder`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ek=L("travelOrders/updateTravelOrder",async(t,e)=>{try{let r,n={method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:null};t instanceof FormData?(r=t.get("ID"),t.delete("ID"),n.body=t):(r=t.ID,n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t));const a=await fetch(`${qj}/travelOrder/${r}`,n),s=await a.json();if(!a.ok)throw new Error(s.error||s.message||"Failed to update");return s}catch(r){return e.rejectWithValue(r.message)}}),lb=L("travelOrders/deleteTravelOrder",async(t,e)=>{try{const r=await fetch(`${qj}/travelOrder/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),D0e=xe({name:"travelOrders",initialState:{travelOrders:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ob.fulfilled,(e,r)=>{e.isLoading=!1,e.travelOrders=Array.isArray(r.payload)?r.payload:[]}).addCase(ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch travel orders",console.warn("Failed to fetch travel orders, using mock data.",e.error),e.travelOrders=T0e}).addCase(ib.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ib.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders.push(r.payload)}).addCase(ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add travel order",console.error("Failed to add travel order:",e.error)}).addCase(ek.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ek.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.travelOrders.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders[n]=r.payload)}).addCase(lb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders=e.travelOrders.filter(n=>n.ID!==r.payload)}).addCase(lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete travel order",console.error("Failed to delete travel order:",e.error)})}}),E0e=D0e.reducer;function P0e(){const t=le(),{travelOrders:e,isLoading:r}=V(v=>v.travelOrders),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(ob())},[t]);const f=async v=>{try{u?await t(ek({...v,ID:u.ID})).unwrap():await t(ib(v)).unwrap(),i(!1),d(null),ie.success("Success")}catch(N){throw ie.error(N||"Failed"),N}},m=()=>{d(null),i(!0)},p=v=>{d(v),i(!0)},h=v=>{d(v),a(!0)},b=async()=>{if(u)try{await t(lb(u.ID)).unwrap(),ie.success("Deleted")}catch(v){console.error("Failed to delete travel order:",v),ie.error("Failed to delete travel order")}finally{a(!1),d(null)}},g=()=>{i(!1),d(null)},x=()=>{c(!1),d(null)},y=[{key:"TransactionStatus",header:"Status",sortable:!0,render:v=>{let N="bg-neutral-100 text-neutral-800";switch(v){case"Requested":N="bg-warning-100 text-warning-800";break;case"Approval Progress":N="bg-primary-100 text-primary-800";break;case"Rejected":N="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:v})}},{key:"BudgetDepartmentName",header:"Office",sortable:!0},{key:"DateCreated",header:"Date of Filing",sortable:!0},{key:"InvoiceNumber",header:"Travel Order No.",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position/Designation",header:"Position/Designation",sortable:!0},{key:"No_of_Days",header:"No. of Days",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Travel Orders"}),o.jsx("p",{children:"Manage travel orders and authorizations"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create Travel Order"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:v=>{var C;const N=[];return((C=v.Transaction)==null?void 0:C.Status)==="Rejected"&&(N.push({icon:Ae,title:"Edit",onClick:()=>p(v),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),N.push({icon:Me,title:"Delete",onClick:()=>h(v),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})),N},loading:r})}),o.jsx(se,{isOpen:s,onClose:g,title:u?"Edit Travel Order":"Create Travel Order",size:"xl",children:o.jsx(k0e,{initialData:u,onSubmit:f,onClose:g})}),o.jsx(se,{isOpen:l,onClose:x,title:"Travel Order Details",size:"lg",children:u&&o.jsx(I0e,{to:u,onClose:x,onEdit:()=>{c(!1),i(!0)},officeOptions:[],employeeOptions:[]})}),o.jsxs(se,{isOpen:n,onClose:()=>a(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the travel order "',u==null?void 0:u.TravelOrderNumber,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const O0e="https://staging-engine.testthelink.online";function _0e({initialData:t,onSubmit:e,onClose:r,typeOptions:n,fundOptions:a,centerOptions:s,accountOptions:i}){const[l,c]=w.useState(""),[u,d]=w.useState((t==null?void 0:t.JEVType)||""),f=oe({JEVType:E().required("Type is required"),FundsID:E().required("Fund is required"),InvoiceDate:Re().required("Date is required"),SAI_No:E(),Remarks:E().required("Particulars are required"),ObligationRequestNumber:E(),CheckNumber:E(),CheckDate:Re(),AccountingEntries:Ht().of(oe({ResponsibilityCenter:E().required("Required"),AccountExplanation:E().required("Required"),Debit:G().nullable().typeError("Must be a number").required("Debit is required"),Credit:G().nullable().typeError("Must be a number").required("Credit is required")})).min(1,"At least one entry is required")}),m=rt({initialValues:t||{JEVType:"",FundsID:"",InvoiceDate:"",SAI_No:"",Remarks:"",Payee:"",ObligationRequestNumber:"",CheckNumber:"",CheckDate:"",AccountingEntries:[{ResponsibilityCenter:"",AccountExplanation:"",Debit:0,Credit:0}],Attachments:[]},validationSchema:f,onSubmit:async(v,N)=>{const C=v.AccountingEntries.reduce((k,T)=>k+(parseFloat(T.Debit)||0),0),j=v.AccountingEntries.reduce((k,T)=>k+(parseFloat(T.Credit)||0),0);if(console.log(v),C!==j){c("Total Debit must be equal to Total Credit.");return}else c("");const S=new FormData;for(const k in v)k==="Attachments"?v.Attachments.forEach((T,A)=>{T.ID?S.append(`Attachments[${A}].ID`,T.ID):S.append(`Attachments[${A}].File`,T.File)}):k!=="CheckDate"&&S.append(k,JSON.stringify(v[k]));S.append("CheckDate",JSON.stringify(v.CheckDate||v.InvoiceDate)),t&&S.append("LinkID",t.LinkID);try{await e(S)}catch(k){console.error(k)}finally{N(!1)}}}),p=v=>{d(v.target.value),m.handleChange(v)},{values:h,handleChange:b,handleBlur:g,errors:x,touched:y}=m;return o.jsx(rD,{value:m,children:o.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(I,{type:"select",label:"Type",name:"JEVType",options:n,value:h.JEVType,onChange:p,onBlur:g,error:x.JEVType,touched:y.JEVType,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundsID",options:a,value:h.FundsID,onChange:b,onBlur:g,error:x.FundsID,touched:y.FundsID,required:!0}),o.jsx(I,{type:"date",label:"Invoice Date",name:"InvoiceDate",value:h.InvoiceDate,onChange:b,onBlur:g,error:x.InvoiceDate,touched:y.InvoiceDate,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(I,{type:"text",label:"OBR No",name:"ObligationRequestNumber",value:h.ObligationRequestNumber,onChange:b,onBlur:g,error:x.ObligationRequestNumber,touched:y.ObligationRequestNumber}),o.jsx(I,{type:"text",label:"Remarks",name:"Remarks",value:h.Remarks,onChange:b,onBlur:g,error:x.Remarks,touched:y.Remarks,required:!0}),o.jsx(I,{type:"text",label:"Payee",name:"Payee",value:h.Payee,onChange:b,onBlur:g,error:x.Payee,touched:y.Payee})]}),u==="Check Disbursement"&&o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(I,{type:"text",label:"DV No",name:"SAI_No",value:h.SAI_No,onChange:b,onBlur:g,error:x.SAI_No,touched:y.SAI_No}),o.jsx(I,{type:"text",label:"Check No",name:"CheckNumber",value:h.CheckNumber,onChange:b,onBlur:g,error:x.CheckNumber,touched:y.CheckNumber}),o.jsx(I,{type:"date",label:"Check Date",name:"CheckDate",value:h.CheckDate,onChange:b,onBlur:g,error:x.CheckDate,touched:y.CheckDate})]}),o.jsx("hr",{}),o.jsx(en,{name:"AccountingEntries",render:({remove:v,push:N})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Accounting Entries"}),o.jsx(wt,{type:"button",onClick:()=>N({ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),h.AccountingEntries.map((C,j)=>{var T,A,D,P,M,$,R,F,z,O,_,B,Y,H;const S=parseFloat(C.Debit)>0,k=parseFloat(C.Credit)>0;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex max-sm:flex-col sm:flex-wrap gap-2 w-full",children:[o.jsx(I,{className:"flex-1 w-full sm:min-w-[200px]",type:"select",label:"Responsibility Center",name:`AccountingEntries[${j}].ResponsibilityCenter`,options:s,value:C.ResponsibilityCenter,onChange:b,onBlur:g,error:(A=(T=x.AccountingEntries)==null?void 0:T[j])==null?void 0:A.ResponsibilityCenter,touched:(P=(D=y.AccountingEntries)==null?void 0:D[j])==null?void 0:P.ResponsibilityCenter,required:!0}),o.jsxs("div",{className:"flex-1 sm:min-w-[200px]",children:[o.jsxs("label",{className:"form-label",children:["Accounts and Explanation"," ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(qr,{label:"Accounts and Explanation",options:i,placeholder:"Select an account...",isSearchable:!0,onChange:te=>m.setFieldValue(`AccountingEntries[${j}].AccountExplanation`,(te==null?void 0:te.value)||""),name:`AccountingEntries[${j}].AccountExplanation`,value:i.find(te=>te.value===C.AccountExplanation)||null,onBlur:g,required:!0}),(($=(M=x.AccountingEntries)==null?void 0:M[j])==null?void 0:$.AccountExplanation)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:x.AccountingEntries[j].AccountExplanation})]}),o.jsx(I,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Debit",name:`AccountingEntries[${j}].Debit`,value:C.Debit,onChange:te=>{te.target.value&&parseFloat(te.target.value)>0&&m.setFieldValue(`AccountingEntries[${j}].Credit`,0),b(te)},onBlur:g,error:(F=(R=x.AccountingEntries)==null?void 0:R[j])==null?void 0:F.Debit,touched:(O=(z=y.AccountingEntries)==null?void 0:z[j])==null?void 0:O.Debit,required:!k}),o.jsx(I,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Credit",name:`AccountingEntries[${j}].Credit`,value:C.Credit,onChange:te=>{te.target.value&&parseFloat(te.target.value)>0&&m.setFieldValue(`AccountingEntries[${j}].Debit`,0),b(te)},onBlur:g,error:(B=(_=x.AccountingEntries)==null?void 0:_[j])==null?void 0:B.Credit,touched:(H=(Y=y.AccountingEntries)==null?void 0:Y[j])==null?void 0:H.Credit,required:!S})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(wt,{type:"button",onClick:()=>v(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:h.AccountingEntries.length===1,children:o.jsx(nr,{className:"w-4 h-4"})})})]},j)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-green-600 font-bold",children:[h.AccountingEntries.reduce((C,j)=>C+(parseFloat(j.Debit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(debit)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-red-600 font-bold",children:[h.AccountingEntries.reduce((C,j)=>C+(parseFloat(j.Credit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(credit)"})]})})]})]})}),o.jsx("hr",{}),o.jsx(en,{name:"Attachments",render:({remove:v,push:N})=>{var C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"mb-2 mt-10",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(wt,{type:"button",onClick:()=>N({File:null}),className:"btn btn-sm btn-primary ml-5",children:"+ Add"})]}),(C=h.Attachments)==null?void 0:C.map((j,S)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[j.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${O0e}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:j.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${S}].ID`,value:j.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${S+1}`}),o.jsx("input",{type:"file",name:`Attachments[${S}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:k=>m.setFieldValue(`Attachments[${S}].File`,k.currentTarget.files[0]),onBlur:g,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(wt,{type:"button",onClick:()=>v(S),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(nr,{className:"w-4 h-4"})})]},S))]})}}),l&&o.jsx("div",{className:"text-red-600 text-sm font-medium text-right",children:l}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(wt,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(wt,{type:"submit",className:"btn btn-primary",disabled:m.isSubmitting,children:m.isSubmitting?"Saving...":"Save"})]})]})})}const Vj="https://staging-engine.testthelink.online",$0e=[],jc=L("journalEntries/fetchJournalEntries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vj}/journalEntryVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),cb=L("journalEntries/addJournalEntry",async(t,e)=>{try{const r=await fetch(`${Vj}/journalentryvoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),tk=L("journalEntries/updateJournalEntry",async({journalEntry:t,id:e},r)=>{try{const n=await fetch(`${Vj}/journalEntryVoucher/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to update");return a}catch(n){return r.rejectWithValue(n.message)}}),ub=L("journalEntries/deleteJournalEntry",async(t,e)=>{try{const r=await fetch(`${Vj}/journalEntryVoucher/?LinkID=${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),R0e=xe({name:"journalEntries",initialState:{journalEntries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(jc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jc.fulfilled,(e,r)=>{e.isLoading=!1,e.journalEntries=Array.isArray(r.payload)?r.payload:[]}).addCase(jc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch journal entries",console.warn("Failed to fetch journal entries, using mock data.",e.error),e.journalEntries=$0e}).addCase(cb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries.push(r.payload)}).addCase(cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add journal entry",console.error("Failed to add journal entry:",e.error)}).addCase(tk.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tk.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries[n]=r.payload)}).addCase(ub.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ub.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries=e.journalEntries.filter(n=>n.ID!==r.payload)}).addCase(ub.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete journal entry",console.error("Failed to delete journal entry:",e.error)})}}),M0e=R0e.reducer;function L0e(){var C;const{departments:t}=V(j=>j.departments),{accounts:e}=V(j=>j.chartOfAccounts),r=[{label:"Cash Disbursement",value:"Cash Disbursement"},{label:"Check Disbursement",value:"Check Disbursement"},{label:"Collection",value:"Collection"},{label:"Others",value:"Others"}],n=[{label:"General Fund",value:"1"},{label:"Trust Fund",value:"2"},{label:"Special Education Fund",value:"3"}],a=le(),{journalEntries:s,isLoading:i}=V(j=>j.journalEntries),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null);w.useEffect(()=>{a(jc()),a(ar()),a(br())},[a]);const b=()=>{d(null),c(!0)},g=j=>{d(j),c(!0)},x=j=>{h(j),m(!0)},y=async()=>{if(p)try{await a(ub(p.LinkID)).unwrap(),ie.success("Deleted"),a(jc())}catch(j){console.error("Failed to delete journal entry:",j),ie.error("Failed to delete journal entry")}finally{m(!1),h(null)}},v=async j=>{console.log({values:j});try{u?await a(tk({journalEntry:j,id:u.ID})).unwrap():await a(cb(j)).unwrap(),ie.success("Success"),a(jc())}catch(S){throw ie.error(S||"Failed"),S}finally{c(!1),d(null)}},N=[{key:"Status",header:"Status",sortable:!0,render:j=>{let S="bg-neutral-100 text-neutral-800";switch(j){case"Requested":S="bg-warning-100 text-warning-800";break;case"Posted":S="bg-primary-100 text-primary-800";break;case"Rejected":S="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S}`,children:j})}},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"InvoiceNumber",header:"Invoice No.",sortable:!0},{key:"JEVType",header:"Jev Type",sortable:!0},{key:"FundsName",header:"Fund",sortable:!0},{key:"ObligationRequestNumber",header:"OBR No.",sortable:!0},{key:"SAI_No",header:"DV No.",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"CheckDate",header:"Check Date",sortable:!0},{key:"Total",header:"Total",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Journal Entries Voucher "}),o.jsx("p",{children:"Manage your Journal Entry Vouchers"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add JEV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:N,data:s,actions:j=>{const S=[];return j.Status==="Rejected"&&(S.push({icon:Ae,title:"Edit",onClick:()=>g(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),S.push({icon:Me,title:"Delete",onClick:()=>x(j),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})),S},loading:i,emptyMessage:"No journal entries found. Click 'Add JEV' to create one."})}),o.jsx(se,{size:"xxxl",isOpen:l,onClose:()=>c(!1),title:u?"Edit Journal Entry Voucher":"Add Journal Entry Voucher",children:o.jsx(_0e,{typeOptions:r,fundOptions:n,centerOptions:t.filter(j=>j.Active).map(j=>({label:j.Name,value:j.ID})),accountOptions:e.filter(j=>j.Active).map(j=>({label:j.AccountCode+" "+j.Name,value:j.ID})),initialData:u?{...u,AccountingEntries:((C=u.JournalEntries)==null?void 0:C.map(j=>{const S=e.find(k=>k.AccountCode===j.AccountCode&&k.Name===j.AccountName);return{ResponsibilityCenter:j.ResponsibilityCenter||"",AccountExplanation:(S==null?void 0:S.ID)||"",PR:j.PR||"",Debit:j.Debit||0,Credit:j.Credit||0}}))||[]}:null,onClose:()=>c(!1),onSubmit:v})}),o.jsxs(se,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the journal entry "',p==null?void 0:p.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}function F0e({chartOfAccounts:t=[],funds:e=[],disbursementTypes:r=[],onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=oe({DateStart:E().required("Start Date is required"),DateEnd:E().required("End Date is required"),ChartOfAccountID:E().required("Chart of Accounts is required"),FundID:E().required("Fund is required"),DisbursementType:E().required("Disbursement Type is required")}),c={DateStart:"",DateEnd:"",ChartOfAccountID:"",FundID:"",DisbursementType:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,isSubmitting:b})=>o.jsxs(Le,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 sm:gap-4",children:[o.jsx(I,{label:"Start Date",name:"DateStart",type:"date",value:d.DateStart,onChange:p,onBlur:h,error:f.DateStart,touched:m.DateStart,required:!0}),o.jsx(I,{label:"End Date",name:"DateEnd",type:"date",value:d.DateEnd,onChange:p,onBlur:h,error:f.DateEnd,touched:m.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{type:"select",label:"Chart of Accounts",name:"ChartOfAccountID",options:t.map(g=>({value:g.ID,label:g.Name})),value:d.ChartOfAccountID,onChange:p,onBlur:h,error:f.ChartOfAccountID,touched:m.ChartOfAccountID,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:e.map(g=>({value:g.ID,label:g.Name})),value:d.FundID,onChange:p,onBlur:h,error:f.FundID,touched:m.FundID,required:!0}),o.jsx(I,{type:"select",label:"Disbursement Type",name:"DisbursementType",options:r.map(g=>({value:g.value,label:g.label})),value:d.DisbursementType,onChange:p,onBlur:h,error:f.DisbursementType,touched:m.DisbursementType,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const B0e="https://staging-engine.testthelink.online",q0e={disbursementJournals:[],isLoading:!1,error:null},db=L("disbursementJournal/fetchJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${B0e}/disbursementJournals/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),dC=L("disbursementJournal/exportJournals",async t=>(console.log("Exporting journals with filters:",t),!0)),gU=xe({name:"disbursementJournal",initialState:q0e,reducers:{resetDisbursementJournalState:t=>{t.disbursementJournals=[],t.error=null}},extraReducers:t=>{t.addCase(db.pending,e=>{e.isLoading=!0,e.error=null}).addCase(db.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementJournals=r.payload}).addCase(db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(dC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dC.fulfilled,e=>{e.isLoading=!1}).addCase(dC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetDisbursementJournalState:V0e}=gU.actions,U0e=gU.reducer;function z0e(){const t="https://staging-engine.testthelink.online",e=le(),{disbursementJournals:r,isLoading:n,error:a}=V(m=>m.disbursementJournal),s=V(m=>{var p;return((p=m.chartOfAccounts)==null?void 0:p.accounts)||[]}),{funds:i}=V(m=>m.funds),l=[{value:"Check",label:"Check"},{value:"Collection",label:"Collection"},{value:"Cash",label:"Cash"},{value:"General",label:"General"}];w.useEffect(()=>{e(V0e()),e(br()),e(Yt())},[e]);const c=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),u=[{key:"Municipality",header:"Municipality",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"CheckNo",header:"Check No.",sortable:!0},{key:"VoucherNo",header:"Voucher No.",sortable:!0},{key:"JEVNo",header:"JEV No.",sortable:!0},{key:"Claimant",header:"Claimant",sortable:!0},{key:"Particulars",header:"Particulars",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"EndDate",header:"End Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()}],d=async m=>{console.log({values:m});try{const p=await fetch(`${t}/disbursementJournals/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({DisbursementType:m.DisbursementType,DateStart:m.DateStart,DateEnd:m.DateEnd,FundID:m.FundID,ChartOfAccountID:m.ChartOfAccountID})});if(console.log(p),!p.ok)throw new Error("Server response was not ok");const h=await p.blob(),b=p.headers.get("Content-Disposition");let g=`Disbursement_Journals_${m.DisbursementType}.xlsx`;b&&b.includes("filename=")&&(g=b.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(h),y=document.createElement("a");y.href=x,y.download=g,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(x)}catch(p){console.error("Export failed:",p),q.error(p.message||"Failed to export disbursement journal")}},f=m=>{console.log(m),e(db(m))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Disbursement Journal"}),o.jsx("p",{children:"Generate disbursement journal reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(F0e,{chartOfAccounts:s,funds:i,disbursementTypes:l,onExportExcel:d,onView:f,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:u,data:r,loading:n,pagination:!0})})]})}function W0e({funds:t=[],onView:e,onGenerateJournal:r,onExportExcel:n}){const a=w.useRef(null),s=oe({DateStart:E().required("Start Date is required"),DateEnd:E().required("End Date is required"),FundID:E().required("Fund is required")}),i={DateStart:"",DateEnd:"",FundID:""},l=(c,{setSubmitting:u})=>{const d=a.current;d==="view"?e(c):d==="generate"?r(c):d==="export"&&n(c),u(!1),a.current=null};return o.jsx($e,{initialValues:i,validationSchema:s,onSubmit:l,validateOnMount:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isSubmitting:p})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{label:"Start Date",name:"DateStart",type:"date",value:c.DateStart,onChange:f,onBlur:m,error:u.DateStart,touched:d.DateStart,required:!0}),o.jsx(I,{label:"End Date",name:"DateEnd",type:"date",value:c.DateEnd,onChange:f,onBlur:m,error:u.DateEnd,touched:d.DateEnd,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:t.map(h=>({value:h.ID,label:h.Name})),value:c.FundID,onChange:f,onBlur:m,error:u.FundID,touched:d.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,onClick:()=>a.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:p,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:p,onClick:()=>a.current="export",children:"Export to Excel"})]})]})})}const H0e="https://staging-engine.testthelink.online",G0e={generalJournals:[],isLoading:!1,error:null},fb=L("generalJournal/fetchGeneralJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${H0e}/generalJournal/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general journals:",r),e.rejectWithValue(r.message)}}),fC=L("generalJournal/exportGeneralJournals",async t=>!0),yU=xe({name:"generalJournal",initialState:G0e,reducers:{resetGeneralJournalState:t=>{t.generalJournals=[],t.error=null}},extraReducers:t=>{t.addCase(fb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalJournals=r.payload}).addCase(fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(fC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fC.fulfilled,e=>{e.isLoading=!1}).addCase(fC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralJournalState:Y0e}=yU.actions,K0e=yU.reducer;function J0e(){const t="https://staging-engine.testthelink.online",e=le(),{generalJournals:r,isLoading:n,error:a}=V(d=>d.generalJournal),{funds:s}=V(d=>d.funds),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);w.useEffect(()=>{e(Y0e()),e(Yt())},[e]);const l=[{key:"Date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"VoucherNo",header:"Voucher No",sortable:!0},{key:"Remarks",header:"Remarks",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"S/L",header:"S/L",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0}],c=async d=>{try{const f=await fetch(`${t}/generalJournal/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({startDate:d.startDate,endDate:d.endDate,fundID:d.fundID})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),p=f.headers.get("Content-Disposition");let h="General_Journal.xlsx";p&&p.includes("filename=")&&(h=p.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(m),g=document.createElement("a");g.href=b,g.download=h,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(b)}catch(f){console.error("Export failed:",f),q.error(f.message||"Failed to export general journal")}},u=d=>{e(fb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Journal"}),o.jsx("p",{children:"Generate general journal reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(W0e,{funds:s,onExportExcel:c,onView:u,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:l,data:r,loading:n,pagination:!0})})]})}function X0e({fiscalYears:t=[],onSubmit:e,onAddClick:r,onTransferClick:n}){const a=oe({FiscalYearID:E().required("Fiscal Year is required")}),s={FiscalYearID:""};return o.jsx($e,{initialValues:s,validationSchema:a,validateOnMount:!0,onSubmit:e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsx(Le,{children:o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-between sm:gap-4 w-full",children:[o.jsx("div",{className:"flex flex-wrap items-center sm:gap-4 w-full sm:w-auto",children:o.jsx("div",{className:"w-full sm:w-auto",children:o.jsx(I,{type:"select",label:"Fiscal Year",name:"FiscalYearID",options:t,value:i.FiscalYearID,onChange:u,onBlur:d,error:l.FiscalYearID,touched:c.FiscalYearID,required:!0})})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"submit",className:"btn btn-primary w-full sm:w-auto",disabled:f,children:"Search"}),o.jsx("button",{type:"button",className:"btn btn-secondary w-full sm:w-auto",onClick:r,children:"Add"}),o.jsx("button",{type:"button",className:"btn btn-outline w-full sm:w-auto",onClick:n,children:"Transfer"})]})]})})})}const rh="https://staging-engine.testthelink.online",Z0e={beginningBalance:[],isLoading:!1,error:null},Ii=L("beginningBalance/fetchBalance",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rh}/beginningBalance/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.log("Error fetching beginning balance:",r),e.rejectWithValue(r.message)}}),mb=L("beginningBalance/addBeginningBalance",async(t,e)=>{try{const r=await fetch(`${rh}/beginningBalance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),hb=L("beginningBalance/updateBeginningBalance",async(t,e)=>{try{const r=await fetch(`${rh}/beginningBalance/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),pb=L("beginningBalance/transferBeginningBalance",async(t,e)=>{try{const r=await fetch(`${rh}/beginningBalance/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),gb=L("beginningBalance/deleteBeginningBalance",async(t,e)=>{try{const r=await fetch(`${rh}/beginningBalance/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),bU=xe({name:"beginningBalance",initialState:Z0e,reducers:{resetBeginningBalanceState:t=>{t.beginningBalance=[],t.error=null}},extraReducers:t=>{t.addCase(Ii.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ii.fulfilled,(e,r)=>{e.isLoading=!1,e.beginningBalance=r.payload}).addCase(Ii.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(mb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(hb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.beginningBalance.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance[n]=r.payload)}).addCase(hb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to update beginning balance"}).addCase(pb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(gb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance=e.beginningBalance.filter(n=>n.ID!==r.payload)}).addCase(gb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete beginning balance",console.error("Failed to delete beginning balance:",e.error)})}}),{resetBeginningBalanceState:H$}=bU.actions,Q0e=bU.reducer;function eje({initialData:t,onSubmit:e,onClose:r,fiscalYears:n=[],fundsOptions:a=[],chartOfAccountsOptions:s=[]}){const i=oe({FiscalYearID:E().required("Fiscal Year is required"),FundsID:E().required("Funds are required"),BeginningBalance:G().typeError("Must be a number").required("Beginning Balance is required"),ChartofAccountsCode:E().required("Chart of Accounts is required")}),l=rt({initialValues:t||{FiscalYearID:"",FundsID:"",BeginningBalance:"",ChartofAccountsCode:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(I,{label:"Fiscal Year",name:"FiscalYearID",type:"select",options:n,value:l.values.FiscalYearID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FiscalYearID,touched:l.touched.FiscalYearID,required:!0,className:"w-full"}),o.jsx(I,{label:"Funds",name:"FundsID",type:"select",options:a,value:l.values.FundsID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FundsID,touched:l.touched.FundsID,required:!0,className:"w-full"}),o.jsx(I,{label:"Beginning Balance",name:"BeginningBalance",type:"number",value:l.values.BeginningBalance,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.BeginningBalance,touched:l.touched.BeginningBalance,required:!0,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Chart of Accounts ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(qr,{options:s,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsCode",value:s.find(c=>String(c.value)===String(l.values.ChartofAccountsCode))||null,onChange:c=>l.setFieldValue("ChartofAccountsCode",(c==null?void 0:c.value)||""),onBlur:l.handleBlur}),l.touched.ChartofAccountsCode&&l.errors.ChartofAccountsCode&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:l.errors.ChartofAccountsCode})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}function tje({onSubmit:t,onClose:e,fiscalYears:r=[]}){const n=oe({PreviousFiscalYearID:E().required("Previous Fiscal Year is required"),NextFiscalYearID:E().required("Next Fiscal Year is required").test("not-same","Previous and Next Fiscal Years cannot be the same",function(s){return s!==this.parent.PreviousFiscalYearID})}),a=rt({initialValues:{PreviousFiscalYearID:"",NextFiscalYearID:""},validationSchema:n,onSubmit:s=>{t(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Previous Fiscal Year",name:"PreviousFiscalYearID",type:"select",options:r,value:a.values.PreviousFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.PreviousFiscalYearID,touched:a.touched.PreviousFiscalYearID,required:!0}),o.jsx(I,{label:"Next Fiscal Year",name:"NextFiscalYearID",type:"select",options:r,value:a.values.NextFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NextFiscalYearID,touched:a.touched.NextFiscalYearID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Transferring...":"Transfer"})]})]})}function rje(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}function nje(){const t=V(P=>{var M;return((M=P.chartOfAccounts)==null?void 0:M.accounts)||[]}),{funds:e}=V(P=>P.funds),r=le(),{fiscalYears:n}=V(P=>P.fiscalYears),{beginningBalance:a,isLoading:s,error:i}=V(P=>P.beginningBalance),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),[p,h]=w.useState(!1),[b,g]=w.useState(null),[x,y]=w.useState(null);w.useEffect(()=>{r(H$()),r(ln()),r(Yt()),r(br())},[r]);const v=async P=>{try{f?await r(hb(P)).unwrap():await r(mb(P)).unwrap(),ie.success("Success"),x&&await r(Ii(x)).unwrap()}catch(M){ie.error(M||"Failed")}finally{c(!1)}},N=async P=>{try{await r(pb(P)).unwrap(),r(H$()),await r(Ii({FiscalYearID:P.NextFiscalYearID})).unwrap(),x&&await r(Ii(x)).unwrap(),ie.success("Success")}catch(M){ie.error(M||"Transfer failed")}finally{d(!1)}},C=()=>{m(null),c(!0)},j=P=>{m(P),c(!0)},S=P=>{g(P),h(!0)},k=async()=>{if(b)try{await r(gb(b.ID)).unwrap(),h(!1),g(null),ie.success("Deleted")}catch(P){ie.error(P||"Failed")}},T=[{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"FundName",header:"Funds",sortable:!0},{key:"AccountName",header:"Account",sortable:!0},{key:"BeginningBalance",header:"Beginning Balance",sortable:!0}],A=[{icon:Ae,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:S,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],D=async(P,{setSubmitting:M})=>{try{y(P),await r(Ii(P)).unwrap()}catch($){console.error("Fetch failed:",$)}finally{M(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Beginning Balance"}),o.jsx("p",{children:"Generate beginning balance reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(X0e,{fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),onSubmit:D,onAddClick:C,onTransferClick:()=>d(!0),onClose:()=>{}})}),o.jsx(se,{isOpen:l,onClose:()=>c(!1),title:f?"Edit Beginning Balance":"Add Beginning Balance",size:"xl",children:o.jsx(eje,{onSubmit:v,initialData:f,fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),fundsOptions:e.map(P=>({value:P.ID,label:P.Name})),onClose:()=>c(!1),chartOfAccountsOptions:t.map(P=>({value:P.ID,label:`${P.AccountCode} - ${P.Name} - [${rje(P.Description,50)}]`}))})}),o.jsx(se,{isOpen:u,onClose:()=>d(!1),title:"Transfer Beginning Balance",size:"lg",children:o.jsx(tje,{onSubmit:N,fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),onClose:()=>d(!1)})}),o.jsxs(se,{isOpen:p,onClose:()=>h(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the beginning balance "',b==null?void 0:b.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:k,className:"btn btn-danger",children:"Delete"})]})]}),i&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:i})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:T,actions:A,data:a,loading:s,pagination:!0})})]})}const aje=oe().shape({ResponsibilityCenter:E().required("Department is required"),OfficeUnitProject:E().required("Section is required"),ContraAccountID:E().required("Charge Account is required"),InvoiceNumber:E().required("PR Number is required"),SAI_No:E(),ObligationRequestNumber:E(),InvoiceDate:Re().required("PR Date is required"),SAIDate:Re(),ALOBSDate:Re(),Remarks:E().required("Purpose is required"),Items:Ht().of(oe({ItemID:E().required("Required"),Quantity:E().required("Required"),Unit:E().required("Required"),Cost:G().nullable().typeError("Must be a number").required("Cost is required")})).min(1,"At least one entry is required")});function sje({initialData:t,onSubmit:e,onClose:r,departmentsOptions:n=[],chartOfAccountsOptions:a=[],itemsOptions:s=[],itemsUnitsOptions:i=[]}){const[l,c]=w.useState(!1),u=t?{...t,Items:t.PurchaseItems||[]}:{ResponsibilityCenter:"",OfficeUnitProject:"",InvoiceNumber:"",ContraAccountID:"",SAI_No:"",ObligationRequestNumber:"",InvoiceDate:"",SAIDate:"",ALOBSDate:"",Remarks:"",Items:[{ItemID:"",Quantity:0,Unit:"",Cost:0}]};return o.jsx($e,{initialValues:u,validationSchema:aje,onSubmit:e,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,setFieldValue:b})=>o.jsxs(Le,{className:"space-y-1",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Department",name:"ResponsibilityCenter",type:"select",required:!0,value:d.ResponsibilityCenter,onChange:p,onBlur:h,error:f.ResponsibilityCenter,touched:m.ResponsibilityCenter,options:n}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Section",name:"OfficeUnitProject",type:"text",required:!0,value:d.OfficeUnitProject,onChange:p,onBlur:h,error:f.OfficeUnitProject,touched:m.OfficeUnitProject}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Charge Account",name:"ContraAccountID",type:"select",required:!0,value:d.ContraAccountID,onChange:p,onBlur:h,error:f.ContraAccountID,touched:m.ContraAccountID,options:a})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"PR No.",name:"InvoiceNumber",type:"text",required:!0,value:d.InvoiceNumber,onChange:p,onBlur:h,error:f.InvoiceNumber,touched:m.InvoiceNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"SAI No.",name:"SAI_No",type:"text",value:d.SAI_No,onChange:p,onBlur:h,error:f.SAI_No,touched:m.SAI_No}),o.jsx(I,{className:"p-3 focus:outline-none",label:"ALOBS No.",name:"ObligationRequestNumber",type:"text",value:d.ObligationRequestNumber,onChange:p,onBlur:h,error:f.ObligationRequestNumber,touched:m.ObligationRequestNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"PR Date",name:"InvoiceDate",type:"date",required:!0,value:d.InvoiceDate,onChange:p,onBlur:h,error:f.InvoiceDate,touched:m.InvoiceDate}),o.jsx(I,{className:"p-3 focus:outline-none",label:"SAI Date",name:"SAIDate",type:"date",value:d.SAIDate,onChange:p,onBlur:h,error:f.SAIDate,touched:m.SAIDate}),o.jsx(I,{className:"p-3 focus:outline-none",label:"ALOBS Date",name:"ALOBSDate",type:"date",value:d.ALOBSDate,onChange:p,onBlur:h,error:f.ALOBSDate,touched:m.ALOBSDate})]}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Purpose",name:"Remarks",type:"text",required:!0,value:d.Remarks,onChange:p,onBlur:h,error:f.Remarks,touched:m.Remarks}),o.jsx("hr",{className:"!mt-5 !mb-5"}),o.jsx(en,{name:"Items",render:({remove:g,push:x})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Items"}),o.jsx(wt,{type:"button",onClick:()=>x({ItemID:"",Quantity:0,Unit:"",Cost:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),d.Items.map((y,v)=>{var N,C,j,S,k,T,A,D,P,M,$,R,F,z;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex max-sm:flex-col flex-wrap gap-2 w-full",children:[o.jsxs("div",{className:"flex-1 w-full sm:min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Item ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(qr,{label:"Item",options:s,placeholder:"Select item...",isSearchable:!0,onChange:O=>b(`Items[${v}].ItemID`,(O==null?void 0:O.value)||""),name:`Items[${v}].ItemID`,value:s.find(O=>O.value===y.ItemID)||null,onBlur:h,required:!0}),((C=(N=f.Items)==null?void 0:N[v])==null?void 0:C.ItemID)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:f.Items[v].ItemID})]}),o.jsx(I,{className:"flex-1 w-full sm:max-w-[180px]",type:"number",label:"Quantity",name:`Items[${v}].Quantity`,value:y.Quantity,onChange:p,onBlur:h,error:(S=(j=f.Items)==null?void 0:j[v])==null?void 0:S.Quantity,touched:(T=(k=m.Items)==null?void 0:k[v])==null?void 0:T.Quantity,required:!0}),o.jsx(I,{className:"flex-1 w-full sm:max-w-[150px]",type:"select",label:"Unit",name:`Items[${v}].Unit`,value:y.Unit,onChange:p,onBlur:h,options:i,error:(D=(A=f.Items)==null?void 0:A[v])==null?void 0:D.Unit,touched:(M=(P=m.Items)==null?void 0:P[v])==null?void 0:M.Unit,required:!0}),o.jsx(I,{className:"flex-1 w-full sm:max-w-[200px]",type:"number",label:"Cost",name:`Items[${v}].Cost`,value:y.Cost,onChange:p,onBlur:h,error:(R=($=f.Items)==null?void 0:$[v])==null?void 0:R.Cost,touched:(z=(F=m.Items)==null?void 0:F[v])==null?void 0:z.Cost,required:!0})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(wt,{type:"button",onClick:()=>g(v),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:d.Items.length===1,children:o.jsx(nr,{className:"w-4 h-4"})})})]},v)}),o.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-6 sm:gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:" col-span-1 sm:col-span-2 sm:text-right",children:"Total:"}),o.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((y,v)=>y+(parseFloat(v.Cost)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Estimated Cost)"})]})}),o.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((y,v)=>y+(parseFloat(v.Cost)||0)*(parseFloat(v.Quantity)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Cost)"})]})})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-2 !mt-5",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:"Save"})]})]})})}const Uj="https://staging-engine.testthelink.online",oje=[],ije={purchaseRequests:oje,isLoading:!1,error:null},yb=L("purchaseRequests/fetchPurchaseRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Uj}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),bb=L("purchaseRequests/addPurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Uj}/purchaseRequest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xb=L("purchaseRequests/updatePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Uj}/purchaseRequest/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),vb=L("purchaseRequests/deletePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Uj}/purchaseRequest/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),lje=xe({name:"purchaseRequests",initialState:ije,reducers:{},extraReducers:t=>{t.addCase(yb.pending,e=>{e.isLoading=!0}).addCase(yb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=r.payload,e.error=null}).addCase(yb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(bb.pending,e=>{e.isLoading=!0}).addCase(bb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests.push(r.payload),e.error=null}).addCase(bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xb.pending,e=>{e.isLoading=!0}).addCase(xb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.purchaseRequests.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.purchaseRequests[n]=r.payload),e.error=null}).addCase(xb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(vb.pending,e=>{e.isLoading=!0}).addCase(vb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=e.purchaseRequests.filter(n=>n.ID!==r.payload),e.error=null}).addCase(vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),cje=lje.reducer;function uje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),{departments:a}=V(C=>C.departments),s=V(C=>{var j;return((j=C.chartOfAccounts)==null?void 0:j.accounts)||[]}),{items:i}=V(C=>C.items),{itemUnits:l}=V(C=>C.itemUnits),{purchaseRequests:c,isLoading:u}=V(C=>C.purchaseRequests),[d,f]=w.useState(!1),[m,p]=w.useState(null),h=le();w.useEffect(()=>{h(ar()),h(br()),h(La()),h(pa()),h(yb())},[]);const b=()=>{n(null),e(!0)},g=()=>{e(!1),n(null)},x=async()=>{if(m)try{await h(vb(m.ID)).unwrap(),f(!1),p(null),ie.success("Deleted")}catch(C){ie.error(C||"Failed")}},y=async C=>{try{const j=C.Items.reduce((T,A)=>T+(parseFloat(A.Cost)||0),0),S=C.Items.reduce((T,A)=>T+(parseFloat(A.Cost)||0)*(parseFloat(A.Quantity)||0),0),k={...C,Total:j.toFixed(2),AmountReceived:S.toFixed(2)};r?await h(xb(k)).unwrap():await h(bb(k)).unwrap(),ie.success("Success")}catch(j){ie.error(j||"Failed")}finally{e(!1)}},v=[{key:"ChartOfAccountsName",header:"Charge Account",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"DepartmentName",header:"Department",sortable:!0},{key:"Remarks",header:"Purpose",sortable:!0},{key:"OfficeUnitProject",header:"Section",sortable:!0},{key:"InvoiceNumber",header:"PR No.",sortable:!0},{key:"InvoiceDate",header:"PR Date",sortable:!0},{key:"SAI_No",header:"SAI No.",sortable:!0},{key:"SAIDate",header:"SAI Date",sortable:!0},{key:"ObligationRequestNumber",header:"ALOBS No.",sortable:!0},{key:"ALOBSDate",header:"ALOBS Date",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"AmountReceived",header:"Estimated Total",sortable:!0}],N=[];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Purchase Requests"}),o.jsx("p",{children:"Manage purchase requests and authorizations"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Purchase Request"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:v,actions:N,data:c,loading:u})}),o.jsx(se,{isOpen:t,onClose:g,title:r?"Edit Purchase Request":"Add Purchase Request",size:"xxxl",children:o.jsx(sje,{initialData:r,departmentsOptions:a.map(C=>({value:C.ID,label:C.Name})),chartOfAccountsOptions:s.map(C=>({value:C.ID,label:C.Name})),itemsOptions:i.map(C=>({value:C.ID,label:C.Name})),itemsUnitsOptions:l.map(C=>({value:C.ID,label:C.Name})),onSubmit:y,onClose:g})}),o.jsxs(se,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the purchase request "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}oe({number:E().required("Number is required"),date:Re().required("Date is required"),payee:E().required("Payee is required"),address:E().required("Address is required"),fund:E().required("Fund is required"),fiscalYear:E().required("Fiscal Year is required"),project:E().required("Project is required")});function dje({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var p;const u=oe({ResponsibilityCenter:E().required("Required"),ChargeAccountID:E().required("Required"),ItemID:E().required("Required"),Remarks:E().required("Required"),Price:G().required("Required"),Quantity:G().required("Required"),ItemUnitID:E().required("Required"),TAXCodeID:E().required("Required")}),d=rt({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,subtotal:0},validationSchema:u,onSubmit:h=>{const b=i.find(N=>String(N.ID)===String(h.TAXCodeID)),g=Zf({price:h.Price,quantity:h.Quantity,taxRate:(b==null?void 0:b.Rate)||0,vatable:h.Vatable,ewtRate:h.withheldEWT}),x=r.find(N=>String(N.value)===String(h.ResponsibilityCenter)),y=l.find(N=>String(N.value)===String(h.ChargeAccountID)),v=n.find(N=>String(N.value)===String(h.ItemID));t({...h,...g,responsibilityCenterName:x?x.label:"",chargeAccountName:y?y.label:"",itemName:v?v.label:""}),e()}}),f=w.useRef({...d.values});w.useEffect(()=>{if(!["Price","Quantity","TAXCodeID","Vatable"].some(x=>d.values[x]!==f.current[x]))return;f.current={...d.values};const b=i.find(x=>String(x.ID)===String(d.values.TAXCodeID)),g=Zf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(b==null?void 0:b.Rate)||0,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});g.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",g.subtotal,!1),g.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",g.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((p=i.find(h=>String(h.ID)===String(d.values.TAXCodeID)))==null?void 0:p.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0,error:d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter,touched:d.touched.ResponsibilityCenter})}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0,error:d.touched.ChargeAccountID&&d.errors.ChargeAccountID,touched:d.touched.ChargeAccountID})}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0,error:d.touched.ItemID&&d.errors.ItemID,touched:d.touched.ItemID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0,error:d.touched.Price&&d.errors.Price,touched:d.touched.Price})}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0,error:d.touched.Quantity&&d.errors.Quantity,touched:d.touched.Quantity})}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0,error:d.touched.ItemUnitID&&d.errors.ItemUnitID,touched:d.touched.ItemUnitID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0,error:d.touched.TAXCodeID&&d.errors.TAXCodeID,touched:d.touched.TAXCodeID})}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsx(I,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx(I,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0,error:d.touched.Remarks&&d.errors.Remarks,touched:d.touched.Remarks}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:()=>d.setFieldValue("Vatable",d.values.Vatable?0:1),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const xU="https://staging-engine.testthelink.online",fje={fundUtilizations:[],fundUtilization:null,isLoading:!1,error:null},nf=L("fundUtilizations/fetchFundUtilizations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xU}/fundUtilizationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),mC=L("fundUtilizations/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),jb=L("fundUtilizations/create",async(t,e)=>{try{const r=await fetch(`${xU}/fundUtilizationRequest/save`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),wb=L("fundUtilizations/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),vU=xe({name:"fundUtilizations",initialState:fje,reducers:{resetFundUtilizationState:t=>{t.fundUtilization=null,t.error=null}},extraReducers:t=>{t.addCase(nf.pending,e=>{e.isLoading=!0}).addCase(nf.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations=r.payload}).addCase(nf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mC.pending,e=>{e.isLoading=!0}).addCase(mC.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilization=r.payload}).addCase(mC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jb.pending,e=>{e.isLoading=!0}).addCase(jb.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations.push(r.payload)}).addCase(jb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wb.pending,e=>{e.isLoading=!0}).addCase(wb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fundUtilizations.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.fundUtilizations[n]=r.payload)}).addCase(wb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetFundUtilizationState:d9e}=vU.actions,mje=vU.reducer,hje="https://staging-engine.testthelink.online",G$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],pje=oe().shape({obrNo:E().required("No. is required"),obrDate:Re().required("Date is required"),payeeType:E().required("Payee type is required"),payeeId:E().required("Payee selection is required"),fund:E().required("Fund is required"),fiscalYear:E().required("Fiscal Year is required"),project:E().required("Project is required"),accountingEntries:Ht().min(1,"At least one item is required")});function gje({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:p=[],taxCodeOptions:h=[],budgetOptions:b=[],taxCodeFull:g=[]}){const x=le(),y=w.useRef(null),[v,N]=w.useState(!1),[C,j]=w.useState(null),[S,k]=w.useState(null),[T,A]=w.useState(!1),[D,P]=w.useState([]),M=(O,_)=>{const B=O.reduce((te,fe)=>te+Number(fe.amount||0),0),Y=_.reduce((te,fe)=>te+Number(fe.amount||0),0),H=B-Y;return{grossAmount:B,totalTaxes:Y,netAmount:H}},$={description:"",amount:"",accountCode:""},R={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[$],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},F=O=>{N(!0),M(O.items,O.taxes);const _=new FormData;O.payeeType==="Employee"?(_.append("EmployeeID",O.payeeId),_.append("VendorID",""),_.append("CustomerID","")):O.payeeType==="Vendor"?(_.append("EmployeeID",""),_.append("VendorID",O.payeeId),_.append("CustomerID","")):O.payeeType==="Individual"&&(_.append("EmployeeID",""),_.append("VendorID",""),_.append("CustomerID",O.payeeId)),_.append("PayeeType",O.payeeType),_.append("Payee",(C==null?void 0:C.Name)||(C==null?void 0:C.FirstName)+" "+(C==null?void 0:C.MiddleName)+" "+(C==null?void 0:C.LastName)||""),_.append("Address",(C==null?void 0:C.StreetAddress)||""),_.append("InvoiceNumber",O.obrNo),_.append("InvoiceDate",O.obrDate);const B=O.accountingEntries.reduce((ae,X)=>ae+Number(X.subtotal||0),0),Y=O.accountingEntries.reduce((ae,X)=>ae+Number(X.ewt||0),0),H=O.accountingEntries.reduce((ae,X)=>ae+Number(X.withheld||0),0),te=O.accountingEntries.reduce((ae,X)=>ae+Number(X.vat||0),0),fe=O.accountingEntries.reduce((ae,X)=>ae+Number(X.discount||0),0);_.append("Total",B.toFixed(2)),_.append("EWT",Y.toFixed(2)),_.append("WithheldAmount",H.toFixed(2)),_.append("Vat_Total",te.toFixed(2)),_.append("Discounts",fe.toFixed(2)),_.append("FundsID",O.fund),_.append("FiscalYearID",O.fiscalYear),_.append("ProjectID",O.project),_.append("TravelID",""),_.append("Items",JSON.stringify(O.accountingEntries)),O.Attachments.forEach((ae,X)=>{ae.ID?_.append(`Attachments[${X}].ID`,ae.ID):_.append(`Attachments[${X}].File`,ae.File)});const ke=t?wb({formData:_,id:t.ID}):jb(_);t?(_.append("IsNew",!1),_.append("LinkID",t.LinkID)):_.append("IsNew",!0),x(ke).unwrap().then(()=>{ie.success("Success"),x(nf()),e()}).catch(ae=>{ie.error((ae==null?void 0:ae.message)||"Failed to submit"),console.error("Error submitting DV:",ae)}).finally(()=>{N(!1)})},z=({type:O})=>{switch(O){case"Employee":return o.jsx(AD,{className:"w-5 h-5"});case"Vendor":return o.jsx(IT,{className:"w-5 h-5"});case"Individual":return o.jsx(J0,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:y,initialValues:R,validationSchema:pje,onSubmit:F,enableReinitialize:!0,children:({values:O,errors:_,touched:B,handleChange:Y,handleBlur:H,setFieldValue:te,isValid:fe})=>{M(O.items,O.taxes);const ae=G$.map(re=>({value:re.value,label:re.label})).find(re=>re.value===O.payeeType),X=re=>{j(null),te("payeeType",re),te("payeeName",""),te("payeeId",""),te("payeeAddress",""),te("officeUnitProject",""),te("orsNumber","")},ue=re=>{let K=null;switch(O.payeeType){case"Employee":K=s.find(W=>W.ID===re);break;case"Vendor":K=i.find(W=>W.ID===re);break;case"Individual":K=l.find(W=>W.ID===re);break}j(K),te("payeeName",K==null?void 0:K.Name),te("payeeId",K==null?void 0:K.ID)},Q=re=>{switch(re){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Le,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:G$.map(re=>o.jsxs("button",{type:"button",onClick:()=>X(re.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${O.payeeType===re.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(z,{type:re.value}),o.jsx("span",{className:"ml-3 font-medium",children:re.label})]},re.value))}),_.payeeType&&B.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),O.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",ae==null?void 0:ae.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:Q(O.payeeType),value:Q(O.payeeType).find(re=>re.value===O.payeeId)||null,onChange:re=>ue(re.value),className:"react-select-container",classNamePrefix:"react-select"}),_.payeeType&&B.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),C&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(ae==null?void 0:ae.label)==="Employee"?`${C.FirstName||""} ${C.MiddleName||""} ${C.LastName||""}`.trim():((ae==null?void 0:ae.label)==="Vendor"||(ae==null?void 0:ae.label)==="Individual",C.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((ae==null?void 0:ae.label)==="Employee"||(ae==null?void 0:ae.label)==="Vendor"||(ae==null?void 0:ae.label)==="Individual",C.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(I,{type:"text",label:"No.",name:"obrNo",value:O.obrNo,onChange:Y,onBlur:H,error:_.obrNo,touched:B.obrNo,required:!0}),o.jsx(I,{type:"date",label:"Date",name:"obrDate",value:O.obrDate,onChange:Y,onBlur:H,error:_.obrDate,touched:B.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:u,value:u.find(re=>re.value===O.fund)||null,onChange:re=>te("fund",re.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:f,value:f.find(re=>re.value===O.fiscalYear)||null,onChange:re=>te("fiscalYear",re.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:d,value:d.find(re=>re.value===O.project)||null,onChange:re=>te("project",re.value),className:"react-select-container",classNamePrefix:"react-select"}),_.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.project})]})]}),o.jsx(en,{name:"accountingEntries",children:({push:re,remove:K})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>A(!0),children:"+ Item"})]}),O.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),O.accountingEntries.map((W,me)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:W.responsibilityCenterName}),o.jsx("span",{children:W.Remarks}),o.jsx("span",{children:W.itemName}),o.jsx("span",{children:W.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(W.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-1 text-right",children:o.jsx("button",{type:"button",onClick:()=>K(me),className:"text-red-600 text-xs",children:o.jsx(Ude,{className:"w-4 h-4"})})})]},me)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:O.accountingEntries.reduce((W,me)=>W+Number(me.subtotal),0).toFixed(2)})]})]}),o.jsx(se,{isOpen:T,onClose:()=>A(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(dje,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:p,taxCodeOptions:h,budgetOptions:b,taxCodeFull:g,onClose:()=>A(!1),onSubmit:W=>{re(W),A(!1)}})})]})}),_.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.accountingEntries}),o.jsx("hr",{}),o.jsx(en,{name:"Attachments",render:({remove:re,push:K})=>{var W;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>K({File:null}),children:"+ Attachment"})]}),(W=O.Attachments)==null?void 0:W.map((me,je)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[me.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${hje}/uploads/${me.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:me.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${je}].ID`,value:me.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${je+1}`}),o.jsx("input",{type:"file",name:`Attachments[${je}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Te=>te(`Attachments[${je}].File`,Te.currentTarget.files[0]),onBlur:H,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(wt,{type:"button",onClick:()=>re(je),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(nr,{className:"w-4 h-4"})})]},je))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function yje(){const t=le(),{fundUtilizations:e,isLoading:r}=V(j=>j.fundUtilizations),{employees:n}=V(j=>j.employees),{customers:a}=V(j=>j.customers),{vendorDetails:s}=V(j=>j.vendorDetails),{departments:i}=V(j=>j.departments),{projectDetails:l}=V(j=>j.projectDetails),{funds:c}=V(j=>j.funds),{fiscalYears:u}=V(j=>j.fiscalYears),{items:d}=V(j=>j.items),{taxCodes:f}=V(j=>j.taxCodes),{itemUnits:m}=V(j=>j.itemUnits),{budgets:p}=V(j=>j.budget),[h,b]=w.useState("list"),[g,x]=w.useState(null);w.useEffect(()=>{t(nf()),t(on()),t(Nn()),t(Ma()),t(ar()),t(Fa()),t(Yt()),t(ln()),t(La()),t(Gn()),t(pa()),t(Io())},[t]);const y=()=>{x(null),b("form")},v=j=>{x(j),b("form")},N=()=>{b("list"),x(null)},C=[{key:"Status",header:"Status",sortable:!0,render:j=>{let S="bg-neutral-100 text-neutral-800";switch(j){case"Requested":S="bg-warning-100 text-warning-800";break;case"Pending Approval":S="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":S="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":S="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S}`,children:j})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:j=>new Date(j).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[h==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Utilization Request & Status"}),o.jsx("p",{children:"Manage and track your fund utilization requests."})]}),o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:C,data:e,actions:j=>{var k;const S=[];return((k=j.Transaction)==null?void 0:k.Status)==="Rejected"&&S.push({icon:Ae,title:"Edit",onClick:()=>v(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),S},loading:r})})]}),h==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center max-sm:flex-col gap-4",children:[o.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(ba,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:g?"Edit Fund Utilization Request":"Create Fund Utilization Request"}),o.jsxs("p",{children:["Fill out the form to"," ",g?"update":"create"," a fund utilization request."]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(gje,{initialData:g,employeeOptions:n.map(j=>({value:j.ID,label:j.FirstName+" "+j.MiddleName+" "+j.LastName})),vendorOptions:s.map(j=>({value:j.ID,label:j.Name})),individualOptions:a.map(j=>({value:j.ID,label:j.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(j=>({value:j.ID,label:j.Name})),fundOptions:c.map(j=>({value:j.ID,label:j.Name})),projectOptions:l.map(j=>({value:j.ID,label:j.Title})),fiscalYearOptions:u.map(j=>({value:j.ID,label:j.Name})),particularsOptions:d.map(j=>({value:j.ID,label:j.Name})),unitOptions:m.map(j=>({value:j.ID,label:j.Name})),taxCodeOptions:f.map(j=>({value:j.ID,label:j.Name})),budgetOptions:p.map(j=>({value:j.ID,label:j.Name})),taxCodeFull:f,onCancel:N,onSubmitSuccess:N,onClose:N})})]})]})}const bje=oe({Year:G().typeError("Year must be a number").required("Year is required").min(1900,"Year must be after 1900").max(new Date().getFullYear(),"Year cannot be in the future"),PlaceIssued:E().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters"),DateIssued:Re().required("Date issued is required").max(new Date,"Date issued cannot be in the future"),CCNumber:E().required("Certificate number is required").min(3,"Certificate number must be at least 3 characters"),TIN:E().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),LastName:E().required("Last Name is required").min(2,"Last Name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"Last Name can only contain letters, spaces, hyphens, and apostrophes"),FirstName:E().required("First name is required").min(2,"First name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"First name can only contain letters, spaces, hyphens, and apostrophes"),MiddleName:E().matches(/^[a-zA-Z\s-']*$/,"Middle name can only contain letters, spaces, hyphens, and apostrophes").nullable(),Address:E().required("Address is required").min(10,"Address must be at least 10 characters"),Citizenship:E().required("Citizenship is required"),ICRNo:E().matches(/^[0-9-]*$/,"ICR number must contain only numbers and dashes").nullable(),PlaceOfBirth:E().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters"),BirthDate:Re().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future").test("age","Must be at least 18 years old",function(t){if(!t)return!1;const e=new Date,r=new Date(t),n=e.getFullYear()-r.getFullYear(),a=e.getMonth()-r.getMonth();return a<0||a===0&&e.getDate()<r.getDate()?n-1>=18:n>=18}),CivilStatus:E(),Occupation:E().min(2,"Profession must be at least 2 characters"),Gender:E().required("Sex is required"),HeightFeet:G().typeError("Feet must be a number").min(3,"Minimum height is 3 feet").max(8,"Maximum height is 8 feet").integer("Feet must be a whole number"),HeightInches:G().typeError("Inches must be a number").min(0,"Inches cannot be negative").max(11,"Inches must be between 0 and 11").test("total-height",`Total height must be between 3'0" and 8'11"`,function(t){const e=this.parent.HeightFeet;if(!e||t===void 0)return!0;const r=e*12+t;return r>=36&&r<=107}),Weight:G().typeError("Weight must be a number").min(30,"Weight must be at least 30 kg").max(300,"Weight must not exceed 300 kg"),BasicTax:G().required("Basic tax is required").min(0,"Basic tax cannot be negative").max(1e4,"Basic tax cannot exceed 10,000"),BusinessEarnings:G().typeError("Must be a number").min(0,"Gross receipts cannot be negative").nullable(),BusinessTaxDue:G().typeError("Must be a number").min(0,"Gross receipts tax cannot be negative").nullable(),OccupationEarnings:G().min(0,"Salaries cannot be negative").nullable(),OccupationTaxDue:G().min(0,"Salaries tax cannot be negative").nullable(),IncomeProperty:G().min(0,"Real property income cannot be negative").nullable(),PropertyTaxDue:G().min(0,"Real property tax cannot be negative").nullable(),Total:G().required("Total tax is required").min(0,"Total tax cannot be negative").max(1e4,"Total tax cannot exceed 10,000"),Interest:G().min(0,"Interest cannot be negative").max(100,"Interest cannot exceed 100%").nullable(),AmountReceived:G().required("Total amount paid is required").min(0,"Total amount paid cannot be negative"),Remarks:E().max(500,"Remarks cannot exceed 500 characters").nullable(),AmountinWords:E().max(500,"Amount in words cannot exceed 500 characters")}),Y$=({selectedCustomer:t=null,initialData:e=null,onCancel:r,onSubmitForm:n,isReadOnly:a=!1})=>{const s=[{value:"Afghan",label:"Afghan"},{value:"Filipino",label:"Filipino"},{value:"American",label:"American"},{value:"Other",label:"Other"}],i=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],l=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],c=h=>{if(!h)return"";const b=parseFloat(h);return Math.floor(b/12).toString()},u=h=>{if(!h)return"";const b=parseFloat(h);return Math.round(b%12).toString()},f=rt({initialValues:(()=>{const h=(e==null?void 0:e.Customer)||t,b=(h==null?void 0:h.Height)||"",g=b?c(b):"",x=b?u(b):"";return{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",TIN:(e==null?void 0:e.TIN)||(h==null?void 0:h.TIN)||"",LastName:(h==null?void 0:h.LastName)||"",FirstName:(h==null?void 0:h.FirstName)||"",MiddleName:(h==null?void 0:h.MiddleName)||"",Address:(h==null?void 0:h.StreetAddress)||"",Citizenship:(h==null?void 0:h.Citizenship)||"",ICRNo:(h==null?void 0:h.ICRNumber)||"",PlaceOfBirth:(h==null?void 0:h.PlaceofBirth)||"",CivilStatus:(h==null?void 0:h.CivilStatus)||"",Occupation:(h==null?void 0:h.Occupation)||"",Gender:(h==null?void 0:h.Gender)||"",HeightFeet:g,HeightInches:x,Weight:(h==null?void 0:h.Weight)||"",BirthDate:(h==null?void 0:h.Birthdate)||"",BasicTax:(e==null?void 0:e.BasicTax)||"",BusinessEarnings:(e==null?void 0:e.BusinessEarnings)||"",BusinessTaxDue:(e==null?void 0:e.BusinessTaxDue)||"",OccupationEarnings:(e==null?void 0:e.OccupationEarnings)||"",OccupationTaxDue:(e==null?void 0:e.OccupationTaxDue)||"",IncomeProperty:(e==null?void 0:e.IncomeProperty)||"",PropertyTaxDue:(e==null?void 0:e.PropertyTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountReceived:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""}})(),validationSchema:bje,onSubmit:h=>{const g=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",ID:e.ID,CustomerID:e.CustomerID,...m(h)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...m(h)};n(g)}}),m=h=>{const b={...h,Year:String(h.Year),Height:String(h.Height),Weight:String(h.Weight),InputOne:Number(h.BusinessEarnings),InputTwo:Number(h.OccupationEarnings),InputThree:Number(h.IncomeProperty),OutputOne:Number(h.BusinessTaxDue),OutputTwo:Number(h.OccupationTaxDue),OutputThree:Number(h.PropertyTaxDue),Municipality:h.PlaceIssued,AmountPaid:Number(h.AmountReceived),Words:h.AmountinWords,Profession:h.Occupation};return delete b.BusinessEarnings,delete b.OccupationEarnings,delete b.IncomeProperty,delete b.BusinessTaxDue,delete b.OccupationTaxDue,delete b.PropertyTaxDue,delete b.PlaceIssued,delete b.AmountReceived,delete b.AmountinWords,delete b.Occupation,b},p=h=>({name:h,value:f.values[h]||"",onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched[h]&&f.errors[h],disabled:a});return o.jsx("div",{className:"min-h-screen",children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(SD,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Year",...p("Year"),type:"number",disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Year&&f.errors.Year,touched:f.touched.Year,required:!0})}),o.jsx("div",{children:o.jsx(I,{label:"Place of Issue",...p("PlaceIssued"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceIssued&&f.errors.PlaceIssued,touched:f.touched.PlaceIssued,required:!0})}),o.jsx("div",{children:o.jsx(I,{label:"Date Issued",...p("DateIssued"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.DateIssued&&f.errors.DateIssued,touched:f.touched.DateIssued,required:!0})}),o.jsx("div",{children:o.jsx(I,{label:"OR No.",...p("CCNumber"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:f.touched.CCNumber&&f.errors.CCNumber,touched:f.touched.CCNumber,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"TIN (if Any)",...p("TIN"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"000-000-000-000",error:f.touched.TIN&&f.errors.TIN,touched:f.touched.TIN})}),o.jsx("div",{className:"hidden md:block"}),o.jsx("div",{className:"hidden lg:block"}),o.jsx("div",{className:"bg-gray-100 text-center px-3 py-1 text-sm font-medium flex items-center justify-center",children:"TAXPAYER'S COPY"})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(J0,{className:"h-5 w-5"}),"Personal Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Last Name",...p("LastName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.LastName&&f.errors.LastName,touched:f.touched.LastName})}),o.jsx("div",{children:o.jsx(I,{label:"First Name",...p("FirstName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.FirstName&&f.errors.FirstName,touched:f.touched.FirstName})}),o.jsx("div",{children:o.jsx(I,{label:"Middle Name",...p("MiddleName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.MiddleName&&f.errors.MiddleName,touched:f.touched.MiddleName})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(I,{label:"Address",...p("Address"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Address&&f.errors.Address,touched:f.touched.Address,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(I,{label:"Citizenship",...p("Citizenship"),type:"select",options:s,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Citizenship&&f.errors.Citizenship,touched:f.touched.Citizenship,required:!0}),o.jsx(I,{label:"ICR No.",...p("ICRNo"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.ICRNo&&f.errors.ICRNo,touched:f.touched.ICRNo}),o.jsx(I,{label:"Place of Birth",...p("PlaceOfBirth"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceOfBirth&&f.errors.PlaceOfBirth,touched:f.touched.PlaceOfBirth,required:!0}),o.jsx(I,{label:"Date of Birth",...p("BirthDate"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",required:!0,error:f.touched.BirthDate&&f.errors.BirthDate,touched:f.touched.BirthDate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Civil Status",...p("CivilStatus"),type:"radio",options:i,error:f.touched.CivilStatus&&f.errors.CivilStatus,touched:f.touched.CivilStatus})}),o.jsx("div",{children:o.jsx(I,{label:"Profession/Occupation",...p("Occupation"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Occupation&&f.errors.Occupation,touched:f.touched.Occupation})}),o.jsx("div",{children:o.jsx(I,{label:"Sex",...p("Gender"),type:"radio",options:l,error:f.touched.Gender&&f.errors.Gender,touched:f.touched.Gender,required:!0})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("div",{children:o.jsx(I,{label:"Height (feet)",...p("HeightFeet"),type:"text",min:"3",max:"8",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightFeet&&f.errors.HeightFeet,touched:f.touched.HeightFeet})}),o.jsx("div",{children:o.jsx(I,{label:"Height (inches)",...p("HeightInches"),type:"text",min:"0",max:"11",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightInches&&f.errors.HeightInches,touched:f.touched.HeightInches})}),o.jsx("div",{children:o.jsx(I,{label:"Weight (kg)",...p("Weight"),type:"text",min:"30",max:"300",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Weight&&f.errors.Weight,touched:f.touched.Weight})})]})]})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(U6,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"sm:p-6 p-3 pt-2",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. Basic Community Tax (5.00) or Exempted (1.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...p("BasicTax"),type:"text",min:"0",step:"0.01",className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:f.touched.BasicTax&&f.errors.BasicTax,touched:f.touched.BasicTax,required:!0})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. Additional Community Tax (tax not exceed 5,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. Gross receipts or earnings derived from business during the preceding year (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...p("BusinessEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.BusinessEarnings&&f.errors.BusinessEarnings,touched:f.touched.BusinessEarnings})}),o.jsx("div",{children:o.jsx(I,{label:"Community Due Amount:",...p("BusinessTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.BusinessTaxDue&&f.errors.BusinessTaxDue,touched:f.touched.BusinessTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. Salaries or gross receipt or earnings derived from exercise of Occupation or pursuit of any occupation (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...p("OccupationEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.OccupationEarnings&&f.errors.OccupationEarnings,touched:f.touched.OccupationEarnings})}),o.jsx("div",{children:o.jsx(I,{label:"Community Due Amount:",...p("OccupationTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.OccupationTaxDue&&f.errors.OccupationTaxDue,touched:f.touched.OccupationTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"3. Income from real property (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...p("IncomeProperty"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.IncomeProperty&&f.errors.IncomeProperty,touched:f.touched.IncomeProperty})}),o.jsx("div",{children:o.jsx(I,{label:"Community Due Amount:",...p("PropertyTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.PropertyTaxDue&&f.errors.PropertyTaxDue,touched:f.touched.PropertyTaxDue})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Total"}),o.jsx(I,{...p("Total"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Total&&f.errors.Total,touched:f.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest %"}),o.jsx(I,{...p("Interest"),type:"text",min:"0",max:"100",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Interest&&f.errors.Interest,touched:f.touched.Interest})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"Total Amount Paid"}),o.jsx(I,{...p("AmountReceived"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 font-bold text-lg px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.AmountReceived&&f.errors.AmountReceived,touched:f.touched.AmountReceived})]}),o.jsx("div",{className:"flex items-end md:items-center justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Hi(f.values.AmountReceived)||"-"})]})})]})}),o.jsx(I,{label:"Remarks",...p("Remarks"),type:"textarea",className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(wt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:f.isSubmitting,children:f.isSubmitting?"Generating...":"Generate Certificate"})]}),f.submitCount>0&&Object.keys(f.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(f.errors).map(([h,b])=>o.jsx("li",{children:b},h))})]})]})})},nh="https://staging-engine.testthelink.online",xje=[],wc=L("communityTax/fetchCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nh}/community-tax/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),hC=L("communityTax/fetchCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nh}/community-tax/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Cb=L("communityTax/addCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nh}/community-tax/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),pC=L("communityTax/updateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nh}/community-tax/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Nb=L("communityTax/deleteCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nh}/community-tax/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),jU=xe({name:"communityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(wc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(wc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community taxes",console.warn("Failed to fetch community taxes, using mock data.",e.error),e.records=xje}).addCase(hC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(hC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax record"}).addCase(Cb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add community tax record",console.error("Failed to add community tax record:",e.error)}).addCase(pC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(pC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update community tax record",console.error("Failed to update community tax record:",e.error)}).addCase(Nb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(Nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete community tax record",console.error("Failed to delete community tax record:",e.error)})}}),{clearCurrentCommunityTax:f9e}=jU.actions,vje=jU.reducer;function jje(){const t=le(),{records:e,isLoading:r}=V($=>$.communityTax),{customers:n,isLoading:a}=V($=>$.customers),[s,i]=w.useState("list"),[l,c]=w.useState(null),[u,d]=w.useState(""),[f,m]=w.useState(!1),[p,h]=w.useState({});w.useEffect(()=>{t(wc()),t(Nn())},[t]);const b=()=>{c(null),i("form")},g=$=>{c($),i("details")},x=$=>{c($),i("form"),console.log("Edit certificate:",$),M($.CustomerID)},y=$=>{console.log("Print certificate:",$)},v=()=>{i("list"),c(null),h(null)},N=async $=>{try{await t(Nb($.ID)).unwrap(),t(wc())}catch(R){console.error("Error deleting certificate:",R)}},C=e==null?void 0:e.filter($=>{var F,z,O,_;const R=u.toLowerCase();return((F=$==null?void 0:$.LinkID)==null?void 0:F.toLowerCase().includes(R))||((z=$==null?void 0:$.CustomerName)==null?void 0:z.toLowerCase().includes(R))||((_=(O=$==null?void 0:$.Customer)==null?void 0:O.StreetAddress)==null?void 0:_.toLowerCase().includes(R))}),j=[{key:"LinkID",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Taxpayer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total Amount",sortable:!0,render:$=>S($),className:"text-right"},{key:"AmountReceived",header:"Received Amount",sortable:!0,render:$=>S($),className:"text-right"},{key:"InvoiceDate",header:"Date",sortable:!0,render:$=>new Date($).toLocaleDateString()},{key:"Employee",header:"Employee",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:$=>k($)}],S=$=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format($||0),k=$=>{let R="bg-neutral-100 text-neutral-800";switch($){case"Requested":R="bg-success-100 text-success-800";break;case"Posted":R="bg-warning-100 text-warning-800";break;case"Cancelled":R="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R}`,children:$})},T=[{icon:Vm,title:"View",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ga,title:"Delete",onClick:N,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],A=()=>{m(!0)},D=()=>{m(!1)},P=async $=>{try{await t(Cb($)).unwrap(),t(wc()),q.success("Certificate saved successfully.")}catch(R){console.error("Error saving certificate:",R),q.error("Failed to save certificate. Please try again.")}finally{v()}},M=$=>{const R=n.find(F=>F.ID===$);h(R)};return o.jsxs(o.Fragment,{children:[s==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:j,data:C,actions:T,loading:r||a,onRowClick:g})})]}),s==="form"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:v,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(ba,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l?"Edit Community Tax Certificate (INDIVIDUAL)":"Community Tax Certificate (INDIVIDUAL)"}),o.jsx("p",{className:"text-gray-600",children:l?"Update the certificate details":""})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[o.jsx("div",{className:"w-full sm:w-auto",children:o.jsx(pt,{options:(n==null?void 0:n.map($=>({label:$.Name,value:$.ID})))||[],placeholder:"Choose Citizen",selectedValue:p==null?void 0:p.ID,onSelect:M,label:"Choose Citizen",required:!0})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"button",onClick:A,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),o.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline w-full sm:w-auto",children:"Print"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:p?o.jsx(Y$,{selectedCustomer:p,initialData:l,onCancel:v,onSubmitForm:P},p==null?void 0:p.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a Citizen first to start"," "]})})]}),s==="details"&&l&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6  gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:v,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ba,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>x(l),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>y(l),className:"btn btn-outline flex items-center",children:[o.jsx(gu,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(Y$,{initialData:l,onCancel:v,isReadOnly:!0})})]}),o.jsx(se,{isOpen:f,onClose:D,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}const wje=oe().shape({Year:E().required("Year is required").matches(/^\d{4}$/,"Year must be 4 digits"),PlaceIssued:E().required("Place of issue is required").max(100,"Place of issue must be less than 100 characters"),DateIssued:Re().required("Date issued is required").max(new Date,"Date cannot be in the future"),CCNumber:E().required("Certificate number is required").matches(/^[A-Za-z0-9-]+$/,"Only letters, numbers and hyphens allowed"),Name:E().required("Company name is required").max(200,"Company name must be less than 200 characters"),TIN:E().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),Address:E().required("Business address is required").max(300,"Address must be less than 300 characters"),dateOfRegistration:Re().required("Registration date is required"),KindofOrganization:E().required("Organization type is required").oneOf(["Corporation","Partnership","Association"],"Invalid organization type"),PlaceofIncorporation:E().required("Place of incorporation is required"),NatureOfOrganization:E().required("Business nature is required"),BasicTax:G().typeError("Must be a number").min(0,"Cannot be negative").required("Basic tax is required"),assessedValueRealProperty:G().typeError("Must be a number").min(0,"Cannot be negative"),assessedValueTax:G().typeError("Must be a number").min(0,"Cannot be negative"),grossReceipts:G().typeError("Must be a number").min(0,"Cannot be negative"),grossReceiptsTax:G().typeError("Must be a number").min(0,"Cannot be negative"),Total:G().typeError("Must be a number").min(0,"Cannot be negative").required("Total is required"),Interest:G().typeError("Must be a number").min(0,"Cannot be negative"),AmountPaid:G().typeError("Must be a number").min(0,"Cannot be negative").required("Total amount paid is required"),Remarks:E().max(500,"Remarks must be less than 500 characters"),AmountinWords:E().max(500,"Amount in words cannot exceed 500 characters")}),K$=({selectedVendor:t=null,initialData:e=null,onBack:r,onSubmitSuccess:n,readOnly:a})=>{const s=[{value:"Corporation",label:"Corporation"},{value:"Partnership",label:"Partnership"},{value:"Association",label:"Association"}],i=(e==null?void 0:e.Customer)||t;console.log("Customer Source:",i);const l=rt({initialValues:{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",Name:(e==null?void 0:e.CustomerName)||"",TIN:(e==null?void 0:e.TIN)||"",Address:(i==null?void 0:i.StreetAddress)||"",dateOfRegistration:(i==null?void 0:i.DateofRegistration)||"",KindofOrganization:(i==null?void 0:i.KindofOrganization)||"Corporation",PlaceofIncorporation:(i==null?void 0:i.PlaceofIncorporation)||"",NatureOfOrganization:(i==null?void 0:i.NatureOfOrganization)||"",BasicTax:(e==null?void 0:e.BasicTax)||0,assessedValueRealProperty:(e==null?void 0:e.BusinessEarnings)||"",assessedValueTax:(e==null?void 0:e.BusinessTaxDue)||"",grossReceipts:(e==null?void 0:e.OccupationEarnings)||"",grossReceiptsTax:(e==null?void 0:e.OccupationTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountPaid:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""},validationSchema:wje,onSubmit:u=>{const f=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",CustomerID:e==null?void 0:e.CustomerID,ID:e.ID,...c(u)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...c(u)};console.log("Submitted values:",f),n(f)}}),c=u=>{const d={...u,InputOne:Number(u.assessedValueRealProperty),InputTwo:Number(u.grossReceipts),OutputOne:Number(u.assessedValueTax),OutputTwo:Number(u.grossReceiptsTax),BasicTax:Number(u.BasicTax),Total:Number(u.Total),AmountPaid:Number(u.AmountPaid),Interest:Number(u.Interest),Words:u.AmountinWords};return delete d.assessedValueRealProperty,delete d.assessedValueTax,delete d.grossReceipts,delete d.grossReceiptsTax,delete d.AmountinWords,d};return console.log("Formik Values:",l.errors),o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("form",{onSubmit:l.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(SD,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-2 sm:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Year",name:"Year",value:l.values.Year,onChange:l.handleChange,onBlur:l.handleBlur,disabled:a,required:!0,error:l.touched.Year&&l.errors.Year,touched:l.touched.Year,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"Place of Issue (City/Mun/Province)",name:"PlaceIssued",value:l.values.PlaceIssued,onChange:l.handleChange,disabled:a,error:l.touched.PlaceIssued&&l.errors.PlaceIssued,required:!0,touched:l.touched.PlaceIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"Date Issued",name:"DateIssued",type:"date",value:l.values.DateIssued,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.DateIssued&&l.errors.DateIssued,touched:l.touched.DateIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"Certificate No.",name:"CCNumber",value:l.values.CCNumber,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:l.touched.CCNumber&&l.errors.CCNumber,touched:l.touched.CCNumber})})]}),o.jsx("div",{className:"text-right mb-4",children:o.jsx("span",{className:"bg-gray-100 px-3 py-1 text-sm font-medium",children:"TAXPAYER'S COPY"})})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(V6,{className:"h-5 w-5"}),"Company Information"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Company's Full Name",name:"Name",value:l.values.Name,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.Name&&l.errors.Name,touched:l.touched.Name,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"TIN (if Any)",name:"TIN",value:l.values.TIN,onChange:l.handleChange,disabled:a,onBlur:l.handleBlur,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.TIN&&l.errors.TIN,touched:l.touched.TIN})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:" Address of Principal Place of Business",name:"Address",value:l.values.Address,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.Address&&l.errors.Address,touched:l.touched.Address})}),o.jsx("div",{children:o.jsx(I,{label:"Date of Registration/Incorporation",name:"dateOfRegistration",type:"date",value:l.values.dateOfRegistration,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.dateOfRegistration&&l.errors.dateOfRegistration,touched:l.touched.dateOfRegistration})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Kind of Organization",name:"KindofOrganization",type:"radio",value:l.values.KindofOrganization,onChange:l.handleChange,options:s,disabled:a,error:l.touched.KindofOrganization&&l.errors.KindofOrganization,touched:l.touched.KindofOrganization})}),o.jsx("div",{children:o.jsx(I,{label:"Place of Incorporation",name:"PlaceofIncorporation",value:l.values.PlaceofIncorporation,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.PlaceofIncorporation&&l.errors.PlaceofIncorporation,touched:l.touched.PlaceofIncorporation})})]}),o.jsx("div",{children:o.jsx(I,{label:"Kind/Nature of Business",name:"NatureOfOrganization",value:l.values.NatureOfOrganization,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.NatureOfOrganization&&l.errors.NatureOfOrganization,touched:l.touched.NatureOfOrganization})})]})})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(U6,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. BASIC COMMUNITY TAX ( 500.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(I,{name:"BasicTax",label:"Community Due Amount:",value:l.values.BasicTax,onChange:l.handleChange,disabled:a,className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:l.touched.BasicTax&&l.errors.BasicTax,touched:l.touched.BasicTax})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. ADDITIONAL COMMUNITY TAX (tax not exceed 10,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. ASSESSED VALUE OF REAL PROPERTY OWNED IN THE PHILIPPINES (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{name:"assessedValueRealProperty",value:l.values.assessedValueRealProperty,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.assessedValueRealProperty&&l.errors.assessedValueRealProperty,touched:l.touched.assessedValueRealProperty})}),o.jsx("div",{children:o.jsx(I,{name:"assessedValueTax",value:l.values.assessedValueTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.assessedValueTax&&l.errors.assessedValueTax,touched:l.touched.assessedValueTax})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. GROSS RECEIPTS, INCLUDING DIVIDENDS/EARNINGS DERIVED FROM BUSINESS IN THE PHIL. DURING THE PRECEDING YEAR (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{name:"grossReceipts",value:l.values.grossReceipts,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.grossReceipts&&l.errors.grossReceipts,touched:l.touched.grossReceipts})}),o.jsx("div",{children:o.jsx(I,{name:"grossReceiptsTax",value:l.values.grossReceiptsTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.grossReceiptsTax&&l.errors.grossReceiptsTax,touched:l.touched.grossReceiptsTax})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[o.jsx("div",{className:"md:w-1/3 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"TOTAL"}),o.jsx(I,{name:"Total",value:l.values.Total,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"Total",error:l.touched.Total&&l.errors.Total,touched:l.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"INTEREST %"}),o.jsx(I,{name:"Interest",value:l.values.Interest,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"%",error:l.touched.Interest&&l.errors.Interest,touched:l.touched.Interest})]})]})}),o.jsx("div",{className:"md:w-1/3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"TOTAL AMOUNT PAID"}),o.jsx(I,{name:"AmountPaid",value:l.values.AmountPaid,onChange:l.handleChange,disabled:a,error:l.touched.AmountPaid&&l.errors.AmountPaid,touched:l.touched.AmountPaid,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono font-bold text-lg text-white focus:ring-2 focus:ring-white/50 focus:outline-none"})]})}),o.jsx("div",{className:"md:w-1/3 flex justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right w-full md:w-auto",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Hi(l.values.AmountPaid)||"-"})]})})]})}),o.jsx("div",{children:o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",value:l.values.Remarks,onChange:l.handleChange,disabled:a,className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3,error:l.touched.Remarks&&l.errors.Remarks,touched:l.touched.Remarks})})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(wt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:l.isSubmitting,children:l.isSubmitting?"Generating...":"Generate Certificate"})]})]}),l.submitCount>0&&Object.keys(l.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(l.errors).map(([u,d])=>o.jsx("li",{children:d},u))})]})]})},ah="https://staging-engine.testthelink.online",Cje=[],Cc=L("corporateCommunityTax/fetchCorporateCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ah}/corporate-ctc/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),gC=L("corporateCommunityTax/fetchCorporateCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ah}/corporate-ctc/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Sb=L("corporateCommunityTax/addCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ah}/corporate-ctc/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),yC=L("corporateCommunityTax/updateCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ah}/corporate-ctc/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Ab=L("corporateCommunityTax/deleteCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ah}/corporate-ctc/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete corporate community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),wU=xe({name:"corporateCommunityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCorporateCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Cc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Cc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community taxes",console.warn("Failed to fetch corporate community taxes, using mock data.",e.error),e.records=Cje}).addCase(gC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(gC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community tax record"}).addCase(Sb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add corporate community tax record",console.error("Failed to add corporate community tax record:",e.error)}).addCase(yC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(yC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update corporate community tax record",console.error("Failed to update corporate community tax record:",e.error)}).addCase(Ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ab.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(Ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete corporate community tax record",console.error("Failed to delete corporate community tax record:",e.error)})}}),{clearCurrentCorporateCommunityTax:m9e}=wU.actions,Nje=wU.reducer;function Sje(){const[t,e]=w.useState("list"),[r,n]=w.useState(null),[a,s]=w.useState(!1),[i,l]=w.useState(null),{records:c,isLoading:u}=V(D=>D.corporateCommunityTax),{vendorDetails:d,isLoading:f}=V(D=>D.vendorDetails),m=le();w.useEffect(()=>{m(Ma()),m(Cc())},[m]);const p=()=>{n(null),e("form")},h=D=>{n(D),e("details")},b=D=>{n(D),console.log("Edit certificate:",D),A(D.CustomerID),e("form")},g=D=>{console.log("Print certificate:",D)},x=()=>{e("list"),n(null),l(null)},y=[{key:"CustomerID",header:"Customer ID",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:D=>v(D),className:"text-right"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:D=>v(D),className:"text-right"},{key:"Earnings",header:"Earnings",sortable:!0,render:D=>v(D),className:"text-right"},{key:"TaxDue",header:"Tax Due",sortable:!0,render:D=>v(D),className:"text-right"},{key:"Year",header:"Year",sortable:!0},{key:"IssuedBy",header:"Issued By",sortable:!0},{key:"Status",header:"Status",render:D=>N(D)}],v=D=>D>=1e6?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(D):new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(D),N=D=>{let P="bg-neutral-100 text-neutral-800";switch(D){case"Posted":P="bg-green-100 text-green-800";break;case"Requested":P="bg-yellow-100 text-yellow-800";break;case"Cancelled":P="bg-red-100 text-red-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P}`,children:D})},j=[{icon:Vm,title:"View",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ga,title:"Delete",onClick:async D=>{try{await m(Ab(D.ID)).unwrap(),m(Cc()),console.log("Certificate deleted and data reFetched"),q.success("Certificate deleted successfully.")}catch(P){console.error("Error deleting certificate:",P),q.error("Failed to delete certificate. Please try again.")}finally{x()}},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],S=()=>{s(!0)},k=()=>{s(!1)},T=async D=>{try{await m(Sb(D)).unwrap(),m(Cc()),q.success("Certificate saved successfully.")}catch(P){console.error("Error saving certificate:",P),q.error("Failed to save certificate. Please try again.")}finally{x()}},A=D=>{const P=d.find(M=>M.ID===D);l(P),console.log("Selected vendor:",P)};return o.jsxs(o.Fragment,{children:[t==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Corporation Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage corporation tax certificates"})]}),o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:y,data:c,actions:j,loading:f||u,onRowClick:h})})]}),t==="form"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(ba,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Community Tax Certificate (CORPORATE)":"Community Tax Certificate (CORPORATE)"}),o.jsx("p",{className:"text-gray-600",children:r?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[o.jsx("div",{className:"sm:w-auto w-full",children:o.jsx(pt,{options:(d==null?void 0:d.map(D=>({label:D.Name,value:D.ID})))||[],selectedValue:i==null?void 0:i.ID,label:"Choose Vendor",placeholder:"Choose Vendor",onSelect:A,required:!0})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"button",onClick:S,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),o.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline w-full sm:w-auto",children:"Print"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:i?o.jsx(K$,{selectedVendor:i,initialData:r,onCancel:x,onSubmitSuccess:T,readOnly:!1},i==null?void 0:i.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a vendor first to start"," "]})})]}),t==="details"&&r&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ba,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>b(r),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>g(r),className:"btn btn-outline flex items-center",children:[o.jsx(gu,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(K$,{initialData:r,readOnly:!0,onBack:x})})]}),o.jsx(se,{isOpen:a,onClose:k,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}function Aje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=[{id:1,receiptNumber:"MC-2024-01-0001",date:"2024-01-15",stallNumber:"A-101",stallType:"Dry Goods",stallOwner:"John Smith",period:"January 2024",amount:1500,status:"Paid"},{id:2,receiptNumber:"MC-2024-01-0002",date:"2024-01-15",stallNumber:"B-203",stallType:"Wet Market",stallOwner:"Jane Doe",period:"January 2024",amount:2e3,status:"Paid"}],s=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),i=[{key:"receiptNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"stallNumber",header:"Stall No.",sortable:!0},{key:"stallType",header:"Type",sortable:!0},{key:"stallOwner",header:"Owner",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"amount",header:"Amount",sortable:!0,render:m=>s(m),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:m=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m==="Paid"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:m})}],l=[{icon:Vm,title:"View",onClick:m=>u(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:m=>d(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{n(m),e(!0)},f=async(m,{setSubmitting:p})=>{try{await e$.validate(m,{abortEarly:!1}),console.log("Form data:",m),e(!1)}catch(h){console.error("Validation errors:",h.errors)}finally{p(!1)}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Market Collections"}),o.jsx("p",{children:"Manage market stall rental collections"})]}),o.jsxs("button",{type:"button",onClick:c,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"New Collection"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:i,data:a,actions:l,pagination:!0})}),o.jsx(se,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Collection":"New Collection",size:"lg",children:o.jsx($e,{initialValues:{date:new Date().toISOString().split("T")[0],stallNumber:"",stallType:"",stallOwner:"",period:"",amount:"",...r},validationSchema:e$,onSubmit:f,children:({values:m,errors:p,touched:h,handleChange:b,handleBlur:g,isSubmitting:x})=>o.jsxs(Le,{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Date",name:"date",type:"date",required:!0,value:m.date,onChange:b,onBlur:g,error:p.date,touched:h.date}),o.jsx(I,{label:"Period",name:"period",type:"select",required:!0,value:m.period,onChange:b,onBlur:g,error:p.period,touched:h.period,options:[{value:"January 2024",label:"January 2024"},{value:"February 2024",label:"February 2024"},{value:"March 2024",label:"March 2024"}]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Stall Number",name:"stallNumber",type:"text",required:!0,placeholder:"Enter stall number",value:m.stallNumber,onChange:b,onBlur:g,error:p.stallNumber,touched:h.stallNumber}),o.jsx(I,{label:"Stall Type",name:"stallType",type:"select",required:!0,value:m.stallType,onChange:b,onBlur:g,error:p.stallType,touched:h.stallType,options:[{value:"Dry Goods",label:"Dry Goods"},{value:"Wet Market",label:"Wet Market"},{value:"Food Stall",label:"Food Stall"}]})]}),o.jsx(I,{label:"Stall Owner",name:"stallOwner",type:"text",required:!0,placeholder:"Enter stall owner name",value:m.stallOwner,onChange:b,onBlur:g,error:p.stallOwner,touched:h.stallOwner}),o.jsx(I,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",value:m.amount,onChange:b,onBlur:g,error:p.amount,touched:h.amount,min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:x?"Saving...":r?"Update":"Save"})]})]})})})]})}const kje=oe().shape({CustomerName:E().required("Name is required"),CustomerID:G(),DeceasedCustomerName:E().required("Deceased name is required"),DeceasedCustomerID:G(),Nationality:E().required("Nationality is required"),NationalityID:G().required("Nationality is required"),Age:G().required("Age is required").min(0,"Age must be positive"),Sex:E().required("Sex is required"),DeathDate:Re().required("Date of death is required"),CauseofDeath:E().required("Cause of death is required"),Cementery:E().required("Cemetery name is required"),BurialType:E().required("Service type is required"),Infectious:Lo(),Embalmed:Lo(),Disposition:E().when("BurialType",{is:t=>["disinter","remove"].includes(t),then:E().required("Disposition remarks are required")}),InvoiceDate:Re().required("Invoice date is required"),paymentMethod:E().required("Payment method is required"),Total:G().required("Amount received is required").min(0,"Amount must be positive"),referenceNumber:E(),Remarks:E()}),Ije="https://staging-engine.testthelink.online";function Tje({initialData:t,onClose:e,onSubmit:r,nationalities:n,customers:a}){const[s,i]=w.useState(!1),l={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||"",DeceasedCustomerName:(t==null?void 0:t.DeceasedCustomerName)||"",DeceasedCustomerID:(t==null?void 0:t.DeceasedCustomerID)||"",Nationality:(t==null?void 0:t.Nationality)||"",NationalityID:(t==null?void 0:t.NationalityID)||"",Age:(t==null?void 0:t.Age)||"",Sex:(t==null?void 0:t.Sex)||"",DeathDate:(t==null?void 0:t.DeathDate)||"",CauseofDeath:(t==null?void 0:t.CauseofDeath)||"",Cementery:(t==null?void 0:t.Cementery)||"",BurialType:(t==null?void 0:t.BurialType)||"inter",Infectious:(t==null?void 0:t.Infectious)||!1,Embalmed:(t==null?void 0:t.Embalmed)||!1,Disposition:(t==null?void 0:t.Disposition)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerID:(t==null?void 0:t.CustomerID)||"",paymentMethod:(t==null?void 0:t.paymentMethod)||"",Total:(t==null?void 0:t.Total)||"",ReferenceNumber:(t==null?void 0:t.ReferenceNumber)||"",Remarks:(t==null?void 0:t.Remarks)||"",Attachments:(t==null?void 0:t.Attachments)||[]},c=(h,b,g)=>{const y=Array.from(h.target.files).map(v=>v);b("Attachments",[...g.Attachments,...y])},u=(h,b,g)=>{const x=[...g.Attachments];x.splice(h,1),b("Attachments",x)},d=(h,b)=>{const g=h.target.value;b("BurialType",g),i(g!=="INTER")},f=async(h,{setSubmitting:b})=>{console.log("Form values:",h);try{await r(h),e()}catch(g){console.error("Submission failed:",g),q.error(g.message||"Submission failed. Please try again.")}finally{b(!1)}},m=a==null?void 0:a.map(h=>({value:h.ID,label:h.Name})),p=n==null?void 0:n.map(h=>({value:h.ID,label:h.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:l,validationSchema:kje,onSubmit:f,enableReinitialize:!0,children:({values:h,errors:b,touched:g,handleChange:x,setFieldValue:y,isSubmitting:v,handleBlur:N,submitCount:C})=>o.jsxs(Le,{className:"space-y-4  bg-white rounded-lg",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:j=>c(j,y,h),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),h.Attachments.length>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.Attachments.map((j,S)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ts,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:j.ID?o.jsx("a",{href:`${Ije}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:j.name||j.DataName}):j.name||j.DataName})]}),o.jsx("button",{type:"button",onClick:()=>u(S,y,h),className:"text-red-500 hover:text-red-700",children:o.jsx(nr,{className:"h-4 w-4"})})]},S))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx("div",{className:"text-center",children:o.jsx(I,{name:"InvoiceNumber",type:"text",value:h.InvoiceNumber||"BU-RE-36AL-CEIPT",readOnly:!0,className:"font-bold text-center"})}),o.jsx("div",{children:o.jsx(pt,{label:"MR. / MRS.",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const S=m.find(k=>k.value===j);y("CustomerName",(S==null?void 0:S.label)||""),y("CustomerID",(S==null?void 0:S.value)||"")},selectedValue:h.CustomerID,error:b.CustomerName,touched:g.CustomerName})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(pt,{label:"Name of Deceased",name:"DeceasedCustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const S=m.find(k=>k.value===j);y("DeceasedCustomerName",(S==null?void 0:S.label)||""),y("DeceasedCustomerID",(S==null?void 0:S.value)||"")},selectedValue:h.DeceasedCustomerID,error:b.DeceasedCustomerName,touched:g.DeceasedCustomerName}),o.jsx(pt,{label:"Nationality",name:"NationalityID",type:"select",options:p,required:!0,placeholder:"Select Nationality",onSelect:j=>{const S=p.find(k=>k.value===j);y("NationalityID",j||""),y("Nationality",(S==null?void 0:S.label)||"")},className:"w-full",selectedValue:h.NationalityID,error:b.Nationality,touched:g.Nationality}),o.jsx(I,{label:"Age",name:"Age",type:"number",required:!0,value:h.Age,onChange:x,touched:g.Age,error:g.Age&&b.Age}),o.jsx(I,{label:"Sex",name:"Sex",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],value:h.Sex,onChange:x,touched:g.Sex,required:!0,error:g.sex&&b.sex}),o.jsx(I,{label:"Date of Death",name:"DeathDate",type:"date",required:!0,value:h.DeathDate,onChange:x,touched:g.DeathDate,error:g.DeathDate&&b.DeathDate}),o.jsx(I,{label:"Cause of Death",name:"CauseofDeath",type:"text",required:!0,value:h.CauseofDeath,onChange:x,touched:g.CauseofDeath,error:g.CauseofDeath&&b.CauseofDeath}),o.jsx(I,{label:"Name of Cemetery",name:"Cementery",type:"text",required:!0,value:h.Cementery,onChange:x,touched:g.Cementery,error:g.Cementery&&b.Cementery})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block font-medium",children:"Service Type"}),o.jsx("div",{className:"flex space-x-4",children:["INTER","DISINTER","REMOVE"].map(j=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",name:"BurialType",value:j,checked:h.BurialType===j,onChange:S=>d(S,y),className:"form-radio"}),o.jsx("span",{className:"ml-2",children:j.toUpperCase()})]},j))}),g.BurialType&&b.BurialType&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:b.BurialType})]}),s&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Infectious",value:h.Infectious,checked:h.Infectious,onChange:x,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Infectious"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Embalmed",value:h.Embalmed,checked:h.Embalmed,onChange:x,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Embalmed"})]})]}),o.jsx(I,{label:"Disposition of Remains",name:"Disposition",type:"textarea",rows:2,value:h.Disposition,onChange:x,onBlur:N,required:h.BurialType!=="INTER",error:g.Disposition&&b.Disposition})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Invoice Date",name:"InvoiceDate",type:"date",required:!0,value:h.InvoiceDate,onChange:x,onBlur:N,error:g.InvoiceDate&&b.InvoiceDate}),o.jsx(I,{label:"Payment Method",name:"paymentMethod",type:"select",options:[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"card",label:"Credit Card"}],required:!0,value:h.paymentMethod,onChange:x,onBlur:N,touched:g.paymentMethod,error:g.paymentMethod&&b.paymentMethod}),o.jsx(I,{label:"Amount Received",name:"Total",type:"number",required:!0,min:"0",value:h.Total,onChange:x,onBlur:N,touched:g.Total,error:g.Total&&b.Total}),o.jsx(I,{label:"Reference Number",name:"ReferenceNumber",type:"text",value:h.ReferenceNumber,onChange:x,onBlur:N,touched:g.ReferenceNumber,error:g.ReferenceNumber&&b.ReferenceNumber})]}),o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",rows:2,value:h.Remarks,onChange:x,onBlur:N,touched:g.Remarks,error:g.Remarks&&b.Remarks}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:v?"Submitting...":"Submit"})]}),C>0&&Object.keys(b).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(b).map(([j,S])=>o.jsx("li",{children:S},j))})]})]})})]})}const sh="https://staging-engine.testthelink.online",Dje=[],af=L("burialRecords/fetchBurialRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sh}/burialrecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial records");return a}catch(r){return e.rejectWithValue(r.message)}}),bC=L("burialRecords/fetchBurialRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sh}/burialrecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),kb=L("burialRecords/addBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sh}/burialrecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),xC=L("burialRecords/updateBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sh}/burialrecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Ib=L("burialRecords/deleteBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sh}/burialrecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete burial record")}return t}catch(r){return e.rejectWithValue(r.message)}}),CU=xe({name:"burialRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(af.pending,e=>{e.isLoading=!0,e.error=null}).addCase(af.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(af.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial records",console.warn("Failed to fetch burial records, using mock data.",e.error),e.records=Dje}).addCase(bC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(bC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial record"}).addCase(kb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(kb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add burial record",console.error("Failed to add burial record:",e.error)}).addCase(xC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(xC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update burial record",console.error("Failed to update burial record:",e.error)}).addCase(Ib.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ib.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete burial record",console.error("Failed to delete burial record:",e.error)})}}),{clearCurrentRecord:h9e}=CU.actions,Eje=CU.reducer;function Pje(){const t=le(),{customers:e,isLoading:r}=V(v=>v.customers),{nationalities:n,isLoading:a}=V(v=>v.nationalities),{records:s,isLoading:i}=V(v=>v.burialRecords),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Ui()),t(af()),t(Nn())},[t]);const f=[{key:"InvoiceNumber",header:"Receipt No",sortable:!0,className:"font-medium text-neutral-900",render:v=>o.jsx("div",{className:"flex items-center gap-1",children:v||""})},{key:"CustomerName",header:"Name",sortable:!0,render:v=>(v==null?void 0:v.trim())||"N/A"},{key:"Municipality",header:"Municipality",sortable:!0,render:v=>v||""},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"DocumentType.Name",header:"Service Type",sortable:!0,render:(v,N)=>{var C;return((C=N.DocumentType)==null?void 0:C.Name)||""},className:"text-gray-500"},{key:"Total",header:"Amount",sortable:!0,render:v=>m(v||"0.00"),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:v=>v||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:v=>({1:"General Fund",2:"Special Education Fund"})[v]||""}],m=v=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(v),p=()=>{d(null),c(!0)},h=v=>{d(v),c(!0)},b=async v=>{console.log("Deleting ticket:",v);try{await t(Ib(v.ID)).unwrap(),q.success("Burial Receipt deleted successfully")}catch(N){q.error(N.message||"Failed to delete Burial Receipt")}},g=()=>{c(!1),d(null)},x=async v=>{const N=new FormData;for(const C in v)if(C!=="Attachments"){const j=typeof v[C]=="object"?JSON.stringify(v[C]):v[C];C==="TransactionItemsAll"?N.append("Items",j):N.append(C,j)}v==null||v.Attachments.forEach((C,j)=>{C.ID?N.append(`Attachments[${j}].ID`,C.ID):N.append(`Attachments[${j}].File`,C)}),u?(N.append("IsNew","false"),N.append("LinkID",u.LinkID),N.append("ID",u.ID)):N.append("IsNew","true");try{await t(kb(N)).unwrap(),u?q.success("Burial Receipt Updated Successfully"):q.success("Burial Receipt Added Successfully"),t(af())}catch(C){q.error(C.message||"Something went wrong")}finally{g()}},y=[{icon:xa,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ga,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Burial Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Burial Service Receipts"})]}),o.jsxs("button",{onClick:p,className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add New Receipt"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:f,data:s,className:"min-w-full divide-y divide-gray-200",actions:y,isLoading:i||a||r})}),o.jsx(se,{isOpen:l,onClose:g,title:u?"Edit Burial Service Receipt":"New Burial Service Receipt ",children:o.jsx(Tje,{initialData:u,onClose:g,onSubmit:x,nationalities:n,customers:e})})]})}const Oje="https://staging-engine.testthelink.online",_je=oe().shape({InvoiceNumber:E().required("Invoice number is required"),CustomerName:E().required("Customer is required"),CustomerAge:G().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),Remarks:E().required("Remarks are required"),InvoiceDate:Re().required("Invoice date is required"),Cenomar:E().required("CENOMAR is required"),MarrytoID:E().required('"Marry to" is required'),MarrytoName:E().required('"Marry to Name" is required'),MarrytoAge:G().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),RegisterNumber:E().required("Register number is required"),Total:G().required("Price is required").min(0,"Price cannot be negative"),RemainingBalance:G().required("Balance is required").min(0,"Balance cannot be negative"),AmountReceived:G().required("Amount received is required").min(0,"Amount cannot be negative"),Attachments:Ht()});function $je({initialData:t,customers:e,onClose:r,onSubmit:n}){const[a,s]=w.useState(!1),[i,l]=w.useState([]),c={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"MA-RE-30GE-CEIPT",CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerAge:(t==null?void 0:t.CustomerAge)||"",Remarks:(t==null?void 0:t.Remarks)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],Cenomar:(t==null?void 0:t.Cenomar)||"",MarrytoID:(t==null?void 0:t.MarrytoID)||"",MarrytoName:(t==null?void 0:t.MarrytoName)||"",MarrytoAge:(t==null?void 0:t.MarrytoAge)||"",RegisterNumber:(t==null?void 0:t.RegisterNumber)||"",Total:(t==null?void 0:t.Total)||0,RemainingBalance:(t==null?void 0:t.RemainingBalance)||0,AmountReceived:(t==null?void 0:t.AmountReceived)||0,Attachments:(t==null?void 0:t.Attachments)||[]},u=async p=>{s(!0);try{await n(p),r()}catch(h){console.error("Error submitting form:",h),q.error(h.message||"Submission failed. Please try again.")}finally{s(!1)}},d=(p,h,b)=>{const x=Array.from(p.target.files).map(y=>y);h("Attachments",[...b.Attachments,...x])},f=(p,h,b)=>{const g=[...b.Attachments];g.splice(p,1),h("Attachments",g)},m=e==null?void 0:e.map(p=>({value:p.ID,label:p.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:c,validationSchema:_je,onSubmit:u,enableReinitialize:!0,children:({values:p,errors:h,touched:b,handleChange:g,handleBlur:x,setFieldValue:y})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:v=>d(v,y,p),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),(p==null?void 0:p.Attachments.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:p.Attachments.map((v,N)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ts,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:v.ID?o.jsx("a",{href:`${Oje}/uploads/${v.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:v.name||v.DataName}):v.name||v.DataName})]}),o.jsx("button",{type:"button",onClick:()=>f(N,y,p),className:"text-red-500 hover:text-red-700",children:o.jsx(nr,{className:"h-4 w-4"})})]},N))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(I,{label:"Invoice Number",name:"InvoiceNumber",type:"text",disabled:!0,readOnly:!0,value:p.InvoiceNumber,onChange:g,onBlur:x,error:h.InvoiceNumber,touched:b.InvoiceNumber,className:"bg-gray-200 cursor-not-allowed"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(pt,{label:"Customer",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:v=>{const N=m.find(C=>C.value===v);y("CustomerName",(N==null?void 0:N.label)||""),y("CustomerID",(N==null?void 0:N.value)||"")},selectedValue:p.CustomerID,error:h.CustomerName,touched:b.CustomerName}),o.jsx(I,{label:"Age",name:"CustomerAge",type:"number",placeholder:"Enter customer age",required:!0,value:p.CustomerAge,onChange:g,onBlur:x,error:h.CustomerAge,touched:b.CustomerAge,min:"1"})]}),o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",placeholder:"Enter remarks",rows:3,required:!0,value:p.Remarks,onChange:g,onBlur:x,error:h.Remarks,touched:b.Remarks}),o.jsx(I,{label:"Invoice Date",name:"InvoiceDate",type:"date",placeholder:"Enter invoice date",required:!0,value:p.InvoiceDate,onChange:g,onBlur:x,error:h.InvoiceDate,touched:b.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"CENOMAR",name:"Cenomar",type:"text",required:!0,placeholder:"Enter CENOMAR",value:p.Cenomar,onChange:g,onBlur:x,error:h.Cenomar,touched:b.Cenomar}),o.jsx(pt,{label:"Marry to",name:"MarrytoID",type:"select",options:m,required:!0,placeholder:"Select Marry to",onSelect:v=>{const N=m.find(C=>C.value===v);y("MarrytoName",(N==null?void 0:N.label)||""),y("MarrytoID",(N==null?void 0:N.value)||"")},selectedValue:p.MarrytoID,error:h.MarrytoName,touched:b.MarrytoName})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Age",name:"MarrytoAge",type:"number",required:!0,placeholder:"Enter Marry to age",value:p.MarrytoAge,onChange:g,onBlur:x,error:h.MarrytoAge,touched:b.MarrytoAge,min:"1"}),o.jsx(I,{label:"Register Number",name:"RegisterNumber",type:"text",required:!0,placeholder:"Enter register number",value:p.RegisterNumber,onChange:g,onBlur:x,error:h.RegisterNumber,touched:b.RegisterNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{label:"Price",name:"Total",type:"number",required:!0,placeholder:"Enter price",value:p.Total,onChange:g,onBlur:x,error:h.Total,touched:b.Total,min:"0"}),o.jsx(I,{label:"Remaining Balance",name:"RemainingBalance",type:"number",required:!0,placeholder:"Enter remaining balance",value:p.RemainingBalance,onChange:g,onBlur:x,error:h.RemainingBalance,touched:b.RemainingBalance,min:"0"}),o.jsx(I,{label:"Amount Received",name:"AmountReceived",type:"number",required:!0,placeholder:"Enter amount received",value:p.AmountReceived,onChange:g,onBlur:x,error:h.AmountReceived,touched:b.AmountReceived,min:"0"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:a,children:t?"Update":"Create"})]})]})})]})}const oh="https://staging-engine.testthelink.online",Rje=[],sf=L("marriageRecords/fetchMarriageRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oh}/marriagerecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage records");return a}catch(r){return e.rejectWithValue(r.message)}}),vC=L("marriageRecords/fetchMarriageRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oh}/marriagerecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Tb=L("marriageRecords/addMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oh}/marriagerecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),jC=L("marriageRecords/updateMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oh}/marriagerecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Db=L("marriageRecords/deleteMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oh}/marriagerecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete marriage record")}return t}catch(r){return e.rejectWithValue(r.message)}}),NU=xe({name:"marriageRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(sf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sf.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(sf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage records",console.warn("Failed to fetch marriage records, using mock data.",e.error),e.records=Rje}).addCase(vC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(vC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage record"}).addCase(Tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add marriage record",console.error("Failed to add marriage record:",e.error)}).addCase(jC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(jC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update marriage record",console.error("Failed to update marriage record:",e.error)}).addCase(Db.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Db.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete marriage record",console.error("Failed to delete marriage record:",e.error)})}}),{clearCurrentRecord:p9e}=NU.actions,Mje=NU.reducer;function Lje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=le(),{records:s,isLoading:i}=V(g=>g.marriageRecords),{customers:l,isLoading:c}=V(g=>g.customers);w.useEffect(()=>{a(sf()),a(Nn())},[a]);const u=async g=>{console.log("Form data to save:",g);const x=new FormData;for(const y in g)if(y!=="Attachments"){const v=typeof g[y]=="object"?JSON.stringify(g[y]):g[y];y==="TransactionItemsAll"?x.append("Items",v):x.append(y,v)}g==null||g.Attachments.forEach((y,v)=>{y.ID?x.append(`Attachments[${v}].ID`,y.ID):x.append(`Attachments[${v}].File`,y)}),r?(x.append("IsNew",!1),x.append("LinkID",r.LinkID),x.append("ID",r.ID)):x.append("IsNew",!0);try{await a(Tb(x)).unwrap(),r?q.success("Marriage Receipt Updated Successfully"):q.success("Marriage Receipt Added Successfully"),a(sf())}catch(y){q.error(y.message||"Something went wrong")}finally{m()}},d=async g=>{console.log("Deleting ticket:",g);try{await a(Db(g.ID)).unwrap(),q.success("Marriage Receipt deleted successfully")}catch(x){q.error(x.message||"Failed to delete Marriage Receipt")}},f=g=>{n(g),e(!0)},m=()=>{n(null),e(!1)},p=[{key:"Status",header:"Status",sortable:!0,render:g=>o.jsx("span",{className:`px-2 py-1 rounded ${g==="Posted"?"bg-green-100 text-green-800":g==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:g})},{key:"APAR",header:"AP/AR",sortable:!0,render:g=>g||""},{key:"CustomerName",header:"Customer",sortable:!0,render:g=>(g==null?void 0:g.trim())||"N/A"},{key:"Total",header:"Total Amount",sortable:!0,render:g=>h(g),className:"text-right font-medium"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:g=>h(g||"0.00"),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:g=>h(g||"0.00"),className:"text-right"},{key:"Debit",header:"Debit",sortable:!0,render:g=>h(g||"0.00"),className:"text-right"},{key:"EWT",header:"EWT",sortable:!0,render:g=>h(g||"0.00"),className:"text-right"},{key:"WithheldAmount",header:"Withheld Amount",sortable:!0,render:g=>h(g||"0.00"),className:"text-right"},{key:"Vat_Total",header:"Total",sortable:!0,render:g=>h(g||"0.00"),className:"text-right font-medium"},{key:"Discounts",header:"Discount (%)",sortable:!0,render:g=>g?`${g}%`:"0%",className:"text-right"},{key:"AmountDue",header:"Amount Due",sortable:!0,render:g=>h(g||"0.00"),className:"text-right font-medium"}],h=g=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(g||0),b=[{icon:Ae,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:d,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriage Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Marriage Service Receipts"})]}),o.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Receipt"]})]}),o.jsx(ge,{columns:p,data:s,actions:b,className:"bg-white rounded-lg shadow",isLoading:i||c}),o.jsx(se,{isOpen:t,onClose:m,title:r?"Edit Receipt":"Add Receipt",children:o.jsx($je,{initialData:r,customers:l,onClose:m,onSubmit:u})})]})}const SU=6048e5,Fje=864e5,AU=6e4,kU=36e5,J$=Symbol.for("constructDateFrom");function Es(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&J$ in t?t[J$](e):t instanceof Date?new t.constructor(e):new Date(e)}function En(t,e){return Es(e||t,t)}let Bje={};function zj(){return Bje}function em(t,e){var l,c,u,d;const r=zj(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=En(t,e==null?void 0:e.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Yx(t,e){return em(t,{...e,weekStartsOn:1})}function IU(t,e){const r=En(t,e==null?void 0:e.in),n=r.getFullYear(),a=Es(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Yx(a),i=Es(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Yx(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function X$(t){const e=En(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function qje(t,...e){const r=Es.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Z$(t,e){const r=En(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Vje(t,e,r){const[n,a]=qje(r==null?void 0:r.in,t,e),s=Z$(n),i=Z$(a),l=+s-X$(s),c=+i-X$(i);return Math.round((l-c)/Fje)}function Uje(t,e){const r=IU(t,e),n=Es(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Yx(n)}function zje(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Wje(t){return!(!zje(t)&&typeof t!="number"||isNaN(+En(t)))}function Hje(t,e){const r=En(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Gje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yje=(t,e,r)=>{let n;const a=Gje[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function wC(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Kje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zje={date:wC({formats:Kje,defaultWidth:"full"}),time:wC({formats:Jje,defaultWidth:"full"}),dateTime:wC({formats:Xje,defaultWidth:"full"})},Qje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ewe=(t,e,r,n)=>Qje[t];function td(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const twe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},awe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},swe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},owe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iwe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lwe={ordinalNumber:iwe,era:td({values:twe,defaultWidth:"wide"}),quarter:td({values:rwe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:td({values:nwe,defaultWidth:"wide"}),day:td({values:awe,defaultWidth:"wide"}),dayPeriod:td({values:swe,defaultWidth:"wide",formattingValues:owe,defaultFormattingWidth:"wide"})};function rd(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?uwe(l,f=>f.test(i)):cwe(l,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function cwe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function uwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function dwe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const fwe=/^(\d+)(th|st|nd|rd)?/i,mwe=/\d+/i,hwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pwe={any:[/^b/i,/^(a|c)/i]},gwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ywe={any:[/1/i,/2/i,/3/i,/4/i]},bwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nwe={ordinalNumber:dwe({matchPattern:fwe,parsePattern:mwe,valueCallback:t=>parseInt(t,10)}),era:rd({matchPatterns:hwe,defaultMatchWidth:"wide",parsePatterns:pwe,defaultParseWidth:"any"}),quarter:rd({matchPatterns:gwe,defaultMatchWidth:"wide",parsePatterns:ywe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rd({matchPatterns:bwe,defaultMatchWidth:"wide",parsePatterns:xwe,defaultParseWidth:"any"}),day:rd({matchPatterns:vwe,defaultMatchWidth:"wide",parsePatterns:jwe,defaultParseWidth:"any"}),dayPeriod:rd({matchPatterns:wwe,defaultMatchWidth:"any",parsePatterns:Cwe,defaultParseWidth:"any"})},Swe={code:"en-US",formatDistance:Yje,formatLong:Zje,formatRelative:ewe,localize:lwe,match:Nwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Awe(t,e){const r=En(t,e==null?void 0:e.in);return Vje(r,Hje(r))+1}function kwe(t,e){const r=En(t,e==null?void 0:e.in),n=+Yx(r)-+Uje(r);return Math.round(n/SU)+1}function TU(t,e){var d,f,m,p;const r=En(t,e==null?void 0:e.in),n=r.getFullYear(),a=zj(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=Es((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=em(i,e),c=Es((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=em(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function Iwe(t,e){var l,c,u,d;const r=zj(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=TU(t,e),s=Es((e==null?void 0:e.in)||t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),em(s,e)}function Twe(t,e){const r=En(t,e==null?void 0:e.in),n=+em(r,e)-+Iwe(r,e);return Math.round(n/SU)+1}function lt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Gs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return lt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):lt(r+1,2)},d(t,e){return lt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return lt(t.getHours()%12||12,e.length)},H(t,e){return lt(t.getHours(),e.length)},m(t,e){return lt(t.getMinutes(),e.length)},s(t,e){return lt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return lt(a,e.length)}},_l={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q$={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Gs.y(t,e)},Y:function(t,e,r,n){const a=TU(t,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return lt(i,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):lt(s,e.length)},R:function(t,e){const r=IU(t);return lt(r,e.length)},u:function(t,e){const r=t.getFullYear();return lt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return lt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return lt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Gs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return lt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=Twe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):lt(a,e.length)},I:function(t,e,r){const n=kwe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):lt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Gs.d(t,e)},D:function(t,e,r){const n=Awe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):lt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return lt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return lt(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return lt(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=_l.noon:n===0?a=_l.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=_l.evening:n>=12?a=_l.afternoon:n>=4?a=_l.morning:a=_l.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Gs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Gs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):lt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):lt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Gs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Gs.s(t,e)},S:function(t,e){return Gs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return tR(n);case"XXXX":case"XX":return gi(n);case"XXXXX":case"XXX":default:return gi(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return tR(n);case"xxxx":case"xx":return gi(n);case"xxxxx":case"xxx":default:return gi(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+eR(n,":");case"OOOO":default:return"GMT"+gi(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+eR(n,":");case"zzzz":default:return"GMT"+gi(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return lt(n,e.length)},T:function(t,e,r){return lt(+t,e.length)}};function eR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+lt(s,2)}function tR(t,e){return t%60===0?(t>0?"-":"+")+lt(Math.abs(t)/60,2):gi(t,e)}function gi(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=lt(Math.trunc(n/60),2),s=lt(n%60,2);return r+a+e+s}const rR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},DU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Dwe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return rR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",rR(n,e)).replace("{{time}}",DU(a,e))},Ewe={p:DU,P:Dwe},Pwe=/^D+$/,Owe=/^Y+$/,_we=["D","DD","YY","YYYY"];function $we(t){return Pwe.test(t)}function Rwe(t){return Owe.test(t)}function Mwe(t,e,r){const n=Lwe(t,e,r);if(console.warn(n),_we.includes(t))throw new RangeError(n)}function Lwe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qwe=/^'([^]*?)'?$/,Vwe=/''/g,Uwe=/[a-zA-Z]/;function nR(t,e,r){var d,f,m,p;const n=zj(),a=n.locale??Swe,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=En(t,r==null?void 0:r.in);if(!Wje(l))throw new RangeError("Invalid time value");let c=e.match(Bwe).map(h=>{const b=h[0];if(b==="p"||b==="P"){const g=Ewe[b];return g(h,a.formatLong)}return h}).join("").match(Fwe).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const b=h[0];if(b==="'")return{isToken:!1,value:zwe(h)};if(Q$[b])return{isToken:!0,value:h};if(b.match(Uwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:h}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(h=>{if(!h.isToken)return h.value;const b=h.value;(Rwe(b)||$we(b))&&Mwe(b,e,String(t));const g=Q$[b[0]];return g(l,b,a.localize,u)}).join("")}function zwe(t){const e=t.match(qwe);return e?e[1].replace(Vwe,"'"):t}function aR(t,e){const r=()=>Es(e==null?void 0:e.in,NaN),a=Ywe(t);let s;if(a.date){const u=Kwe(a.date,2);s=Jwe(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const i=+s;let l=0,c;if(a.time&&(l=Xwe(a.time),isNaN(l)))return r();if(a.timezone){if(c=Zwe(a.timezone),isNaN(c))return r()}else{const u=new Date(i+l),d=En(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return En(i+l+c,e==null?void 0:e.in)}const ip={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Wwe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Hwe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Gwe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ywe(t){const e={},r=t.split(ip.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],ip.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ip.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=ip.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function Kwe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function Jwe(t,e){if(e===null)return new Date(NaN);const r=t.match(Wwe);if(!r)return new Date(NaN);const n=!!r[4],a=nd(r[1]),s=nd(r[2])-1,i=nd(r[3]),l=nd(r[4]),c=nd(r[5])-1;if(n)return n1e(e,l,c)?Qwe(e,l,c):new Date(NaN);{const u=new Date(0);return!t1e(e,s,i)||!r1e(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,i)),u)}}function nd(t){return t?parseInt(t):1}function Xwe(t){const e=t.match(Hwe);if(!e)return NaN;const r=CC(e[1]),n=CC(e[2]),a=CC(e[3]);return a1e(r,n,a)?r*kU+n*AU+a*1e3:NaN}function CC(t){return t&&parseFloat(t.replace(",","."))||0}function Zwe(t){if(t==="Z")return 0;const e=t.match(Gwe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return s1e(n,a)?r*(n*kU+a*AU):NaN}function Qwe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const e1e=[31,null,31,30,31,30,31,31,30,31,30,31];function EU(t){return t%400===0||t%4===0&&t%100!==0}function t1e(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(e1e[e]||(EU(t)?29:28))}function r1e(t,e){return e>=1&&e<=(EU(t)?366:365)}function n1e(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function a1e(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function s1e(t,e){return e>=0&&e<=59}const ih="https://staging-engine.testthelink.online",o1e=[],Nc=L("publicMarketTicketing/fetchPublicMarketTickets",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ih}/public-market-ticketing`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market tickets");return a}catch(r){return e.rejectWithValue(r.message)}}),NC=L("publicMarketTicketing/fetchPublicMarketTicketById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ih}/public-market-ticketing/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),of=L("publicMarketTicketing/addPublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ih}/public-market-ticketing/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),SC=L("publicMarketTicketing/public-market-ticketing",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ih}/publicMarketTicketing/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),Eb=L("publicMarketTicketing/deletePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ih}/public-market-ticketing/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete public market ticket")}return t}catch(r){return e.rejectWithValue(r.message)}}),PU=xe({name:"publicMarketTicketing",initialState:{tickets:[],currentTicket:null,isLoading:!1,error:null},reducers:{clearCurrentTicket:t=>{t.currentTicket=null}},extraReducers:t=>{t.addCase(Nc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nc.fulfilled,(e,r)=>{e.isLoading=!1,e.tickets=Array.isArray(r.payload)?r.payload:[]}).addCase(Nc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market tickets",console.warn("Failed to fetch tickets, using mock data.",e.error),e.tickets=o1e}).addCase(NC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentTicket=r.payload}).addCase(NC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market ticket"}).addCase(of.pending,e=>{e.isLoading=!0,e.error=null}).addCase(of.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets.push(r.payload)}).addCase(of.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add public market ticket",console.error("Failed to add ticket:",e.error)}).addCase(SC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(SC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.tickets)||(e.tickets=[]),e.tickets[n]=r.payload),e.currentTicket&&e.currentTicket.ID===r.payload.ID&&(e.currentTicket=r.payload)}).addCase(SC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update public market ticket",console.error("Failed to update ticket:",e.error)}).addCase(Eb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets=e.tickets.filter(n=>n.ID!==r.payload),e.currentTicket&&e.currentTicket.ID===r.payload&&(e.currentTicket=null)}).addCase(Eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete public market ticket",console.error("Failed to delete ticket:",e.error)})}}),{clearCurrentTicket:g9e}=PU.actions,i1e=PU.reducer,l1e=oe().shape({items:E().required("Items type is required"),startTime:Re().required("Start time is required"),endTime:Re().required("End time is required").min(il("startTime"),"End time must be after start time"),issuedBy:E().required("Issued by is required"),dateIssued:Re().required("Date issued is required"),postingPeriod:Re().required("Posting period is required"),amountIssued:G().required("Amount issued is required").min(0,"Amount must be greater than or equal to 0"),remarks:E().required("Remarks are required")}),c1e={items:"",startTime:"",endTime:"",issuedBy:"",dateIssued:"",postingPeriod:"",amountIssued:"",remarks:""},u1e=({ticket:t,onClose:e})=>{const r=le(),n=s=>s?(console.log(s),{...s,items:s.Items||"",startTime:s.StartTime?nR(aR(s.StartTime),"yyyy-MM-dd'T'HH:mm"):"",endTime:s.EndTime?nR(aR(s.EndTime),"yyyy-MM-dd'T'HH:mm"):"",issuedBy:s.IssuedBy||"",dateIssued:s.DateIssued||"",postingPeriod:s.PostingPeriod||"",amountIssued:s.AmountIssued||"",remarks:s.Remarks||""}):c1e,a=async s=>{try{const i={Items:s.items,StartTime:new Date(s.startTime).toISOString(),EndTime:new Date(s.endTime).toISOString(),IssuedBy:s.issuedBy,DateIssued:s.dateIssued,PostingPeriod:s.postingPeriod,AmountIssued:s.amountIssued,Remarks:s.remarks};t?(await r(of({IsNew:!1,ID:t.ID,LinkID:t.LinkID,...i})).unwrap(),ie.success("Ticket updated successfully"),r(Nc())):(await r(of({IsNew:!0,...i})).unwrap(),ie.success("Ticket added successfully"),r(Nc()))}catch(i){ie.error(i.message||"Something went wrong")}finally{e()}};return o.jsx($e,{initialValues:n(t),validationSchema:l1e,onSubmit:a,enableReinitialize:!0,children:({isSubmitting:s,isValid:i,dirty:l,values:c,errors:u,touched:d,handleChange:f,handleBlur:m})=>o.jsxs(Le,{className:"space-y-6",children:[o.jsx(I,{label:"Items:",name:"items",type:"text",placeholder:"Enter items",required:!0,error:d.items&&u.items,touched:d.items,value:c.items,onChange:f,onBlur:m}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(I,{label:"Date Issued:",name:"dateIssued",type:"date",max:new Date().toISOString().split("T")[0],required:!0,error:d.dateIssued&&u.dateIssued,touched:d.dateIssued,value:c.dateIssued,onChange:f,onBlur:m}),o.jsx(I,{label:"Posting Period:",name:"postingPeriod",type:"date",min:c.dateIssued,max:new Date().toISOString().split("T")[0],required:!0,error:d.postingPeriod&&u.postingPeriod,touched:d.postingPeriod,value:c.postingPeriod,onChange:f,onBlur:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(I,{label:"Start Time:",name:"startTime",type:"datetime-local",max:c.postingPeriod,required:!0,error:d.startTime&&u.startTime,touched:d.startTime,value:c.startTime,onChange:f,onBlur:m}),o.jsx(I,{label:"End Time:",name:"endTime",type:"datetime-local",min:c.startTime,max:c.postingPeriod,required:!0,error:d.endTime&&u.endTime,touched:d.endTime,value:c.endTime,onChange:f,onBlur:m})]}),o.jsx(I,{label:"Issued By:",name:"issuedBy",type:"text",placeholder:"Enter issuer name",required:!0,error:d.issuedBy&&u.issuedBy,touched:d.issuedBy,value:c.issuedBy,onChange:f,onBlur:m}),o.jsx(I,{label:"Amount Issued:",name:"amountIssued",type:"number",placeholder:"0.00",min:"0",step:"0.01",required:!0,error:d.amountIssued&&u.amountIssued,touched:d.amountIssued,value:c.amountIssued,onChange:f,onBlur:m}),o.jsx(I,{label:"Remarks:",name:"remarks",type:"textarea",placeholder:"Enter remarks",required:!0,error:d.remarks&&u.remarks,touched:d.remarks,value:c.remarks,onChange:f,onBlur:m,rows:4}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[o.jsx("button",{type:"button",onClick:e,disabled:s,className:"px-6 py-2 rounded-md border border-gray-300 shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s||!i||!l,className:"px-6 py-2 rounded-md border border-transparent shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":t?"Update Ticket":"Add Ticket"})]})]})})},d1e=()=>{const t=le(),[e,r]=w.useState(!1),[n,a]=w.useState(null),{tickets:s,isLoading:i,error:l}=V(p=>p.publicMarketTicketing);w.useEffect(()=>{t(Nc())},[t]),w.useEffect(()=>{l&&ie.error(l)},[l]);const c=()=>{a(null),r(!0)},u=async p=>{console.log("Deleting ticket:",p);try{await t(Eb(p.ID)).unwrap(),ie.success("Ticket deleted successfully")}catch(h){ie.error(h.message||"Failed to delete ticket")}},d=[{key:"Items",header:"Items",accessorKey:"items"},{key:"StartTime",header:"Start Time",accessorKey:"startTime",render:p=>new Date(p).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"EndTime",header:"End Time",accessorKey:"endTime",render:p=>new Date(p).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"IssuedBy",header:"Issued By",accessorKey:"issuedBy"},{key:"DateIssued",header:"Date Issued",accessorKey:"dateIssued",render:p=>new Date(p).toLocaleDateString()},{key:"PostingPeriod",header:"Posting Period",accessorKey:"postingPeriod",render:p=>new Date(p).toLocaleDateString()},{key:"AmountIssued",header:"Amount Issued",accessorKey:"amountIssued",render:p=>`${p==null?void 0:p.toLocaleString()}`},{key:"Remarks",header:"Remarks",accessorKey:"remarks"}],m=[{icon:xa,title:"Edit",onClick:p=>{console.log("Edit ticket:",p),a(p),r(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ga,title:"Delete",onClick:u,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 page-header max-sm:flex-wrap gap-4",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Public Market Tickets"}),o.jsxs(wt,{onClick:c,disabled:i,className:"max-sm:w-full",children:[o.jsx(rde,{className:"w-5 h-5 mr-2"}),"Add Ticket"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:d,data:s,isLoading:i,actions:m})}),o.jsx(se,{isOpen:e,onClose:()=>r(!1),title:n?"Edit Ticket":"Add Ticket",children:o.jsx(u1e,{ticket:n,onClose:()=>r(!1)})})]})};oe().shape({budgetName:E().required("Budget Name is required"),fiscalYear:E().required("Fiscal Year is required"),department:E().required("Department is required"),subDepartment:E().required("Sub-Department is required"),chartOfAccounts:E().required("Chart of Accounts is required"),fund:E().required("Fund is required"),project:E().required("Project is required"),january:E().required("January is required"),february:E().required("February is required"),march:E().required("March is required"),april:E().required("April is required"),may:E().required("May is required"),june:E().required("June is required"),july:E().required("July is required"),august:E().required("August is required"),september:E().required("September is required"),october:E().required("October is required"),november:E().required("November is required"),december:E().required("December is required")});const f1e=oe().shape({Name:E().required("Budget name is required"),FiscalYearID:G().required("Fiscal year is required"),DepartmentID:G().required("Department is required"),SubDepartmentID:G().required("Sub department is required"),ChartofAccountsID:G().required("Chart of accounts is required"),FundID:G().required("Fund is required"),ProjectID:G().required("Project is required"),Appropriation:G().required("Appropriation is required"),Charges:G().required("Charges is required"),January:G().nullable(),February:G().nullable(),March:G().nullable(),April:G().nullable(),May:G().nullable(),June:G().nullable(),July:G().nullable(),August:G().nullable(),September:G().nullable(),October:G().nullable(),November:G().nullable(),December:G().nullable()}),sR={ID:"",IsNew:!0,Name:"",FiscalYearID:"",DepartmentID:"",SubDepartmentID:"",ChartofAccountsID:"",FundID:"",ProjectID:"",Appropriation:0,Charges:0,January:0,February:0,March:0,April:0,May:0,June:0,July:0,August:0,September:0,October:0,November:0,December:0};function OU({initialData:t,onSubmit:e,onClose:r,departmentOptions:n,subDepartmentOptions:a,chartOfAccountsOptions:s,fundOptions:i,projectOptions:l,fiscalYearOptions:c}){const[u,d]=w.useState({...sR}),f=(m,{setSubmitting:p})=>{e(m),p(!1),console.log("Form submitted with values:",m)};return w.useEffect(()=>{t!=null&&t.ID?d({ID:t.ID,IsNew:!1,Name:t.Name||"",FiscalYearID:t.FiscalYearID||"",DepartmentID:t.DepartmentID||"",SubDepartmentID:t.SubDepartmentID||"",ChartofAccountsID:t.ChartofAccountsID||"",FundID:t.FundID||"",ProjectID:t.ProjectID||"",Appropriation:t.Appropriation||0,Charges:t.Charges||0,January:t.January||0,February:t.February||0,March:t.March||0,April:t.April||0,May:t.May||0,June:t.June||0,July:t.July||0,August:t.August||0,September:t.September||0,October:t.October||0,November:t.November||0,December:t.December||0}):d(sR)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:f,initialValues:u,validationSchema:f1e,children:({values:m,errors:p,touched:h,handleChange:b,handleBlur:g,isSubmitting:x,submitCount:y})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"col-span-2",children:o.jsx(I,{label:"Budget Name",name:"Name",value:m.Name,type:"text",onChange:b,onBlur:g,error:p.Name,touched:h.Name,required:!0})}),o.jsx(I,{label:"Fiscal Year",name:"FiscalYearID",type:"select",onChange:b,onBlur:g,value:m.FiscalYearID,error:p.FiscalYearID,touched:h.FiscalYearID,options:c,required:!0}),o.jsx(I,{label:"Department",name:"DepartmentID",type:"select",onChange:b,onBlur:g,value:m.DepartmentID,error:p.DepartmentID,touched:h.DepartmentID,options:n,required:!0}),o.jsx(I,{label:"Sub-Department",name:"SubDepartmentID",type:"select",onChange:b,onBlur:g,value:m.SubDepartmentID,error:p.SubDepartmentID,touched:h.SubDepartmentID,options:a,required:!0}),o.jsx(I,{label:"Chart of Accounts",name:"ChartofAccountsID",type:"select",onChange:b,onBlur:g,value:m.ChartofAccountsID,error:p.ChartofAccountsID,touched:h.ChartofAccountsID,options:s,required:!0}),o.jsx(I,{label:"Fund",name:"FundID",type:"select",onChange:b,onBlur:g,value:m.FundID,error:p.FundID,touched:h.FundID,options:i,required:!0}),o.jsx(I,{label:"Project",name:"ProjectID",type:"select",onChange:b,onBlur:g,value:m.ProjectID,error:p.ProjectID,touched:h.ProjectID,options:l,required:!0}),o.jsx(I,{label:"Appropriation",name:"Appropriation",onChange:b,onBlur:g,value:m.Appropriation,error:p.Appropriation,touched:h.Appropriation,type:"number",required:!0}),o.jsx(I,{label:"Charges",name:"Charges",type:"number",onChange:b,onBlur:g,value:m.Charges,error:p.Charges,touched:h.Charges,required:!0}),o.jsx(I,{label:"Total Amount",name:"TotalAmount",type:"number",onChange:b,onBlur:g,value:m.TotalAmount,error:p.TotalAmount,touched:h.TotalAmount,readOnly:!0,className:"bg-gray-100"}),o.jsx(I,{label:"Balance",name:"AppropriationBalance",type:"number",onChange:b,onBlur:g,value:m.AppropriationBalance,error:p.AppropriationBalance,touched:h.AppropriationBalance,readOnly:!0,className:"bg-gray-100"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(v=>o.jsx(I,{label:v,name:v,type:"number",onChange:b,onBlur:g,value:m[v],error:p[v],touched:h[v]},v))}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]}),y>0&&Object.keys(p).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(p).map(([v,N])=>o.jsx("li",{children:N},v))})]})]})})}const m1e=[{value:"2024",label:"2024"},{value:"2025",label:"2025"}],h1e=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"}],p1e=[{value:"sub1",label:"Sub-Department 1"},{value:"sub2",label:"Sub-Department 2"}],g1e=[{value:"coa1",label:"Chart 1"},{value:"coa2",label:"Chart 2"}],y1e=[{value:"fund1",label:"Fund 1"},{value:"fund2",label:"Fund 2"}],oR=[{value:"proj1",label:"Project A",appropriation:"A1",charges:"C1",total:"10000",balance:"5000"},{value:"proj2",label:"Project B",appropriation:"A2",charges:"C2",total:"20000",balance:"15000"}],rk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],b1e=oe().shape({budgetName:E().required("Required"),fiscalYear:E().required("Required"),department:E().required("Required"),subDepartment:E().required("Required"),chartOfAccount:E().required("Required"),fund:E().required("Required"),project:E().required("Required"),monthlyAmounts:oe().shape(rk.reduce((t,e)=>(t[e]=G().min(0,"Must be >= 0").required("Required"),t),{}))});function x1e(){const[t,e]=w.useState({});return o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"New Budget"}),o.jsx($e,{initialValues:{budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccount:"",fund:"",project:"",monthlyAmounts:rk.reduce((r,n)=>({...r,[n]:""}),{})},validationSchema:b1e,onSubmit:r=>{console.log("Submitted:",r)},children:({values:r,handleChange:n,setFieldValue:a})=>(w.useEffect(()=>{const s=oR.find(i=>i.value===r.project);s&&e(s)},[r.project]),o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{name:"budgetName",label:"Budget Name",type:"text",required:!0,value:r.budgetName,onChange:n}),o.jsx(I,{name:"fiscalYear",label:"Fiscal Year",type:"select",required:!0,options:m1e,value:r.fiscalYear,onChange:n}),o.jsx(I,{name:"department",label:"Department",type:"select",required:!0,options:h1e,value:r.department,onChange:n}),o.jsx(I,{name:"subDepartment",label:"Sub-Department",type:"select",required:!0,options:p1e,value:r.subDepartment,onChange:n}),o.jsx(I,{name:"chartOfAccount",label:"Chart of Accounts",type:"select",required:!0,options:g1e,value:r.chartOfAccount,onChange:n}),o.jsx(I,{name:"fund",label:"Fund",type:"select",required:!0,options:y1e,value:r.fund,onChange:n}),o.jsx(I,{name:"project",label:"Project",type:"select",required:!0,options:oR.map(s=>({value:s.value,label:s.label})),value:r.project,onChange:n}),r.project&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-neutral-50 p-4 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation:"})," ",t.appropriation]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",t.charges]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Amount:"})," ",t.total]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Balance:"})," ",t.balance]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:rk.map(s=>o.jsx(I,{name:`monthlyAmounts.${s}`,label:s,type:"number",value:r.monthlyAmounts[s],onChange:n,min:"0",step:"0.01"},s))}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Budget"})})]}))})]})}oe().shape({Status:E().oneOf(["Requested"]).required(),APAR:E().oneOf(["Budget Supplemental"]).required(),DocumentTypeID:G().oneOf([21]).required(),RequestedBy:G().required("Requested by (lngUser) is required"),InvoiceDate:Re().required("Invoice date is required"),InvoiceNumber:E().required("Invoice number is required"),Total:G().typeError("Total must be a number").positive("Total must be positive").required("Total is required"),Active:Lo().required("Active is required"),Remarks:E().nullable(),CreatedBy:E().required("Created by is required"),CreatedDate:Re().required("Created date is required"),ApprovalProgress:G().min(0).required("Approval progress is required"),BudgetID:G().required("Budget id is requeired"),ApprovalVersion:G().required("Approval version is required")});const Wj="https://staging-engine.testthelink.online",v1e=[],lf=L("subFunds/fetchSubFunds",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wj}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Pb=L("subFunds/addSubFund",async(t,e)=>{try{const r=await fetch(`${Wj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),nk=L("subFunds/updateSubFund",async(t,e)=>{try{const r=await fetch(`${Wj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ob=L("subFunds/deleteSubFund",async(t,e)=>{try{const r=await fetch(`${Wj}/subFunds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),j1e=xe({name:"subFunds",initialState:{subFunds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(lf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lf.fulfilled,(e,r)=>{e.isLoading=!1,e.subFunds=Array.isArray(r.payload)?r.payload:[]}).addCase(lf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch sub funds",console.warn("Failed to fetch sub funds, using mock data.",e.error),e.subFunds=v1e}).addCase(Pb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds.push(r.payload)}).addCase(Pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add sub fund",console.error("Failed to add sub fund:",e.error)}).addCase(nk.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nk.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subFunds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds[n]=r.payload)}).addCase(Ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ob.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds=e.subFunds.filter(n=>n.ID!==r.payload)}).addCase(Ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete sub fund",console.error("Failed to delete sub fund:",e.error)})}}),w1e=j1e.reducer;function C1e(){le();const[t,e]=w.useState(!1),[r,n]=w.useState(null),{budgets:a,isLoading:s}=V(m=>m.budget),i=[{id:1,budgetName:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{id:2,budgetName:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}],l=[{header:"Budget Name",accessorKey:"budgetName",enableSorting:!0},{header:"Fiscal Year",accessorKey:"fiscalYear",enableSorting:!0},{header:"Department",accessorKey:"department",enableSorting:!0},{header:"Sub-Department",accessorKey:"subDepartment"},{header:"Project",accessorKey:"project"},{header:"Total Amount",accessorKey:"totalAmount",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.totalAmount)},{header:"Balance",accessorKey:"balance",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.balance)},{header:"Status",accessorKey:"status",cell:({row:m})=>o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.original.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.original.status})}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{console.log("Delete record:",m)},f=async m=>{try{console.log(r?"Update record:":"Create record:",m),e(!1)}catch(p){console.error("Error saving record:",p)}};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Budget Management"}),o.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Budget"]})]}),o.jsx("div",{className:"bg-white shadow rounded-lg",children:o.jsx(ge,{columns:l,data:i,isLoading:s,onEdit:u,onDelete:d})}),o.jsx(se,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(OU,{initialData:r,onSubmit:f,onClose:()=>e(!1)})})]})}function N1e({fiscalYears:t=[],accLoading:e=!1,onView:r,onGenerateJournal:n,onExportExcel:a}){const s=w.useRef(null),i=oe({fiscalYearID:E().required("Fiscal Year is required")}),l={fiscalYearID:""},c=(u,{setSubmitting:d})=>{const f=s.current;f==="view"?r(u):f==="generate"?n(u):f==="export"&&a(u),d(!1),s.current=null};return o.jsx($e,{initialValues:l,validationSchema:i,onSubmit:c,validateOnMount:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:p,isSubmitting:h,setFieldValue:b})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:o.jsx(I,{type:"select",label:"Fiscal Year",name:"fiscalYearID",options:t.map(g=>({value:g.ID,label:g.Name})),value:u.fiscalYearID,onChange:m,onBlur:p,error:d.fiscalYearID,touched:f.fiscalYearID,required:!0})}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,onClick:()=>s.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:h,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:h,onClick:()=>s.current="export",children:"Export to Excel"})]})]})})}const S1e="https://staging-engine.testthelink.online",A1e={statementComparisons:[],isLoading:!1,error:null},_b=L("statementComparison/fetchStatementComparisons",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${S1e}/statementOfComparison/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),AC=L("statementComparison/exportStatementComparisons",async t=>!0),_U=xe({name:"statementComparison",initialState:A1e,reducers:{resetStatementComparisonState:t=>{t.statementComparisons=[],t.error=null}},extraReducers:t=>{t.addCase(_b.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_b.fulfilled,(e,r)=>{e.isLoading=!1,e.statementComparisons=r.payload}).addCase(_b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(AC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AC.fulfilled,e=>{e.isLoading=!1}).addCase(AC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetStatementComparisonState:k1e}=_U.actions,I1e=_U.reducer;function T1e(){const t="https://staging-engine.testthelink.online",e=le(),{statementComparisons:r,isLoading:n,error:a}=V(u=>u.statementComparison),{fiscalYears:s}=V(u=>u.fiscalYears);w.useEffect(()=>{e(k1e()),e(ln())},[e]);const i=[{key:"Type",header:"Type",sortable:!0},{key:"SubID",header:"Sub ID",sortable:!0},{key:"Subtype",header:"Subtype",sortable:!0},{key:"Category",header:"Category",sortable:!0},{key:"Chart of Accounts",header:"Chart of Accounts",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Original",header:"Original",sortable:!0,className:"text-right"},{key:"Final",header:"Final",sortable:!0,className:"text-right"},{key:"Difference",header:"Difference",sortable:!0,className:"text-right"},{key:"Actual",header:"Actual",sortable:!0,className:"text-right"},{key:"Difference 2",header:"Difference 2",sortable:!0,className:"text-right"},{key:"Period",header:"Period",sortable:!0},{key:"Original_Sum",header:"Original_Sum",sortable:!0},{key:"Final_Sum",header:"Final_Sum",sortable:!0},{key:"Difference_Sum",header:"Difference_Sum",sortable:!0},{key:"Actual_Sum",header:"Actual_Sum",sortable:!0},{key:"Difference2_Sum",header:"Difference2_Sum",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0},{key:"Province",header:"Province",sortable:!0}],l=async u=>{try{const d=await fetch(`${t}/statementOfComparison/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({fiscalYearID:u.fiscalYearID})});if(!d.ok)throw new Error("Server response was not ok");const f=await d.blob(),m=d.headers.get("Content-Disposition");let p="Statement_of_Comparison.xlsx";m&&m.includes("filename=")&&(p=m.split("filename=")[1].replace(/['"]/g,""));const h=window.URL.createObjectURL(f),b=document.createElement("a");b.href=h,b.download=p,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(h)}catch(d){console.error("Export failed:",d),q.error(d.message||"Failed to export")}},c=u=>{e(_b(u))};return o.jsxs("div",{className:"page-container",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{children:[o.jsx("h1",{children:"Statement of Comparison"}),o.jsx("p",{children:"Compare original, final, and actual budget amounts by fiscal year"})]})}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(N1e,{fiscalYears:s,onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-300 rounded-md",children:o.jsx("p",{className:"text-red-800",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:i,data:r,loading:n,pagination:!0})})]})}const D1e=()=>{const t=le(),[e,r]=w.useState(null);w.useEffect(()=>{t(ko()),t(Ao()),t(So()),t(No()),a()},[t]);const n="https://staging-engine.testthelink.online",a=async()=>{try{const N=localStorage.getItem("token"),C=await fetch(`${n}/lgu`,{headers:{Authorization:`Bearer ${N}`}});if(!C.ok)throw new Error("Failed to fetch LGU data");const j=await C.json();f(j),p(j.Logo||"https://placehold.co/150x150?text=LGU+Logo")}catch(N){console.error("Error loading LGU data:",N)}},s=async(N,C)=>{try{const j=localStorage.getItem("token"),S=new FormData;Object.entries(N).forEach(([A,D])=>{S.append(A,D)}),C&&S.append("Logo",C);const k=await fetch(`${n}/lgu/${N.ID}`,{method:"PUT",headers:{Authorization:`Bearer ${j}`},body:S});if(!k.ok)throw new Error("Failed to update LGU");const T=await k.json();return f(T),p(T.Logo||"https://placehold.co/150x150?text=LGU+Logo"),!0}catch(j){return console.error("Update error:",j),!1}},{barangays:i}=V(N=>N.barangays),{municipalities:l}=V(N=>N.municipalities),{provinces:c}=V(N=>N.provinces),{regions:u}=V(N=>N.regions),[d,f]=w.useState({ID:"1",Code:"",Name:"",TIN:"",RDO:"",StreetAddress:"",BarangayName:"",MunicipalityName:"",ProvinceName:"",RegionName:"",ZIPCode:"",PhoneNumber:"",EmailAddress:"",Website:""}),[m,p]=w.useState("https://placehold.co/150x150?text=LGU+Logo"),[h,b]=w.useState(!1),g=oe({Code:E().required("Code is required"),Name:E().required("Name is required"),TIN:E().required("TIN is required").matches(/^\d{14}$/,"TIN must be exactly 14 digits"),RDO:E().required("RDO is required"),StreetAddress:E().required("Street Address is required"),BarangayID:E().required("Barangay is required"),MunicipalityID:E().required("Municipality is required"),ProvinceID:E().required("Province is required"),RegionID:E().required("Region is required"),ZIPCode:E().required("Zip Code is required"),PhoneNumber:G().required("Phone Number is required"),EmailAddress:E().email("Invalid email").required("Email is required"),Website:E().required("Website is required")}),x=rt({initialValues:d,validationSchema:g,enableReinitialize:!0,onSubmit:async(N,{setSubmitting:C})=>{await s(N,e)&&(b(!1),q.success("LGU updated successfully"),a()),C(!1)}}),y=N=>{var j;const C=(j=N.target.files)==null?void 0:j[0];if(C){r(C);const S=new FileReader;S.onloadend=()=>{p(S.result)},S.readAsDataURL(C)}},v=["001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","17A","17B","018","019","020","21A","21B","21C","022","23A","23B","024","25A","25B","026","027","028","029","030","031","032","033","034","035","036","037","038","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","53A","53B","54A","54B","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","93A","93B","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113A","113B","114","115"].map((N,C)=>({ID:C+1,Name:N}));return o.jsxs("div",{className:"sm:py-6 sm:px-4",children:[o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"LGU Maintenance"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Manage Local Government Unit information"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(V6,{className:"h-5 w-5 mr-2 text-blue-600"}),o.jsx("h2",{className:"text-lg font-semibold",children:"LGU Information"})]}),!h&&o.jsx("button",{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors w-full sm:w-auto text-center",children:"Edit Information"})]}),o.jsxs("div",{className:"p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("img",{src:m,className:"h-[150px] w-[150px] rounded-full object-cover",alt:"LGU Logo"}),h&&o.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"mt-2 w-full"})]}),h?o.jsxs("form",{onSubmit:x.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"LGU Code",name:"Code",value:x.values.Code,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Code,touched:x.touched.Code,required:!0}),o.jsx(I,{label:"LGU Name",name:"Name",value:x.values.Name,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Name,touched:x.touched.Name,required:!0}),o.jsx(I,{label:"TIN",name:"TIN",value:x.values.TIN,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.TIN,touched:x.touched.TIN,required:!0}),o.jsx(I,{label:"RDO",name:"RDO",type:"select",options:v.map(N=>({value:N.ID,label:N.Name})),value:x.values.RDO,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.RDO,touched:x.touched.RDO,required:!0}),o.jsx(I,{label:"Street Address",name:"StreetAddress",value:x.values.StreetAddress,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.StreetAddress,touched:x.touched.StreetAddress,required:!0}),o.jsx(I,{label:"Barangay",name:"BarangayID",type:"select",value:x.values.BarangayID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.BarangayID,touched:x.touched.BarangayID,options:i.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(I,{label:"Municipality",name:"MunicipalityID",type:"select",value:x.values.MunicipalityID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.MunicipalityID,touched:x.touched.MunicipalityID,options:l.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(I,{label:"Province",name:"ProvinceID",type:"select",value:x.values.ProvinceID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.ProvinceID,touched:x.touched.ProvinceID,options:c.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(I,{label:"Region",name:"RegionID",type:"select",value:x.values.RegionID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.RegionID,touched:x.touched.RegionID,options:u.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(I,{label:"Zip Code",name:"ZIPCode",value:x.values.ZIPCode,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.ZIPCode,touched:x.touched.ZIPCode,required:!0}),o.jsx(I,{label:"Mobile Number",name:"PhoneNumber",value:x.values.PhoneNumber,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.PhoneNumber,touched:x.touched.PhoneNumber,required:!0}),o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",value:x.values.EmailAddress,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.EmailAddress,touched:x.touched.EmailAddress,required:!0}),o.jsx(I,{label:"Website",name:"Website",value:x.values.Website,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Website,touched:x.touched.Website,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:()=>{x.resetForm(),b(!1)},className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x.isSubmitting,children:x.isSubmitting?"Saving...":"Save"})]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({Code:"LGU Code",Name:"LGU Name",TIN:"TIN",RDO:"RDO",StreetAddress:"Street Address",BarangayName:"Barangay",MunicipalityName:"Municipality",ProvinceName:"Province",RegionName:"Region",ZIPCode:"ZIP Code",PhoneNumber:"Phone Number",EmailAddress:"Email Address",Website:"Website"}).map(([N,C])=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:C}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d[N]})]},N))})]})]})]})},E1e=({formData:t,handleInputChange:e,handleSave:r,onCancel:n,isEdit:a,handleFileUpload:s,handleRemoveAttachment:i})=>o.jsxs("div",{className:" sm:p-4 space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"I. Applicant Session"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Applicant Type",name:"applicantType",type:"radio-group",options:[{value:"new",label:"New"},{value:"renewal",label:"Renewal"}],value:t.applicantType,onChange:l=>e("applicantType",l)}),o.jsx(I,{label:"Mode of Payment",name:"modeOfPayment",type:"radio-group",options:[{value:"annually",label:"Annually"},{value:"semi-annually",label:"Semi-Annually"},{value:"quarterly",label:"Quarterly"}],value:t.modeOfPayment,onChange:l=>e("modeOfPayment",l)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Date of Application",name:"dateOfApplication",type:"date",value:t.dateOfApplication,onChange:l=>e("dateOfApplication",l)}),o.jsx(I,{label:"DTI/SEC/CDA Registration No.",name:"dtiSecCdaRegistrationNo",type:"text",value:t.dtiSecCdaRegistrationNo,onChange:l=>e("dtiSecCdaRegistrationNo",l),placeholder:"Enter registration number"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"TIN No.",name:"tinNo",type:"text",value:t.tinNo,onChange:l=>e("tinNo",l),placeholder:"Enter TIN number"}),o.jsx(I,{label:"DTI/SEC/CDA Registration Date",name:"dtiSecCdaRegistrationDate",type:"date",value:t.dtiSecCdaRegistrationDate,onChange:l=>e("dtiSecCdaRegistrationDate",l)})]}),o.jsx(I,{label:"Type of Business",name:"typeOfBusiness",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"cooperative",label:"Cooperative"}],value:t.typeOfBusiness,onChange:l=>e("typeOfBusiness",l)}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Amendment"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"From",name:"amendmentFrom",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentFrom,onChange:l=>e("amendmentFrom",l)}),o.jsx(I,{label:"To",name:"amendmentTo",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentTo,onChange:l=>e("amendmentTo",l)})]})]}),o.jsx(I,{label:"Are you enjoying tax incentive from any Government Entity?",name:"taxIncentiveFromGovEntity",type:"radio-group",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:t.taxIncentiveFromGovEntity,onChange:l=>e("taxIncentiveFromGovEntity",l),className:"mt-4"})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Name of Taxpayer/Registrant"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(I,{label:"Last Name",name:"lastName",type:"text",value:t.lastName,onChange:l=>e("lastName",l),placeholder:"Enter last name"}),o.jsx(I,{label:"First Name",name:"firstName",type:"text",value:t.firstName,onChange:l=>e("firstName",l),placeholder:"Enter first name"}),o.jsx(I,{label:"Middle Name",name:"middleName",type:"text",value:t.middleName,onChange:l=>e("middleName",l),placeholder:"Enter middle name"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(I,{label:"Business Name",name:"businessName",type:"text",value:t.businessName,onChange:l=>e("businessName",l),placeholder:"Enter business name"}),o.jsx(I,{label:"Trade Name/Franchise",name:"tradeNameFranchise",type:"text",value:t.tradeNameFranchise,onChange:l=>e("tradeNameFranchise",l),placeholder:"Enter trade name or franchise"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"II. Other Information"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Region",name:"businessRegion",type:"select",value:t.businessRegion,onChange:l=>e("businessRegion",l),options:[{value:"",label:"Select Region"},{value:"REGION II (CAGAYAN VALLEY)",label:"REGION II (CAGAYAN VALLEY)"},{value:"REGION I (ILOCOS REGION)",label:"REGION I (ILOCOS REGION)"},{value:"REGION III (CENTRAL LUZON)",label:"REGION III (CENTRAL LUZON)"},{value:"NCR",label:"NCR"}]}),o.jsx(I,{label:"Province",name:"businessProvince",type:"select",value:t.businessProvince,onChange:l=>e("businessProvince",l),options:[{value:"",label:"Select Province"},{value:"BATANES",label:"BATANES"},{value:"CAGAYAN",label:"CAGAYAN"},{value:"ISABELA",label:"ISABELA"},{value:"NUEVA VIZCAYA",label:"NUEVA VIZCAYA"}]}),o.jsx(I,{label:"Municipality",name:"businessMunicipality",type:"select",value:t.businessMunicipality,onChange:l=>e("businessMunicipality",l),options:[{value:"",label:"Select Municipality"},{value:"BASCO (Capital)",label:"BASCO (Capital)"},{value:"ITBAYAT",label:"ITBAYAT"},{value:"IVANA",label:"IVANA"},{value:"MAHATAO",label:"MAHATAO"}]}),o.jsx(I,{label:"Barangay",name:"businessBarangay",type:"select",value:t.businessBarangay,onChange:l=>e("businessBarangay",l),options:[{value:"",label:"Select Barangay"},{value:"San Antonio",label:"San Antonio"},{value:"Kayhuvokan",label:"Kayhuvokan"},{value:"Nakanmuan",label:"Nakanmuan"},{value:"Chanarian",label:"Chanarian"}]})]}),o.jsx(I,{label:"Street Address",name:"businessStreetAddress",type:"text",value:t.businessStreetAddress,onChange:l=>e("businessStreetAddress",l),placeholder:"Enter street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Postal Code",name:"postalCode",type:"text",value:t.postalCode,onChange:l=>e("postalCode",l),placeholder:"Enter postal code"}),o.jsx(I,{label:"Email Address",name:"emailAddress",type:"email",value:t.emailAddress,onChange:l=>e("emailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsx(I,{label:"Telephone No.",name:"telephoneNo",type:"text",value:t.telephoneNo,onChange:l=>e("telephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(I,{label:"Mobile No.",name:"mobileNo",type:"text",value:t.mobileNo,onChange:l=>e("mobileNo",l),placeholder:"Enter mobile number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Owner's Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Street Address",name:"ownerStreetAddress",type:"text",value:t.ownerStreetAddress,onChange:l=>e("ownerStreetAddress",l),placeholder:"Street address"}),o.jsx(I,{label:"Barangay",name:"ownerBarangay",type:"text",value:t.ownerBarangay,onChange:l=>e("ownerBarangay",l),placeholder:"Barangay"}),o.jsx(I,{label:"Municipality",name:"ownerMunicipality",type:"text",value:t.ownerMunicipality,onChange:l=>e("ownerMunicipality",l),placeholder:"Municipality"}),o.jsx(I,{label:"Region",name:"ownerRegion",type:"text",value:t.ownerRegion,onChange:l=>e("ownerRegion",l),placeholder:"Region"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Postal Code",name:"ownerPostalCode",type:"text",value:t.ownerPostalCode,onChange:l=>e("ownerPostalCode",l),placeholder:"Enter postal code"}),o.jsx(I,{label:"Email Address",name:"ownerEmailAddress",type:"email",value:t.ownerEmailAddress,onChange:l=>e("ownerEmailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Telephone No.",name:"ownerTelephoneNo",type:"text",value:t.ownerTelephoneNo,onChange:l=>e("ownerTelephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(I,{label:"Mobile No.",name:"ownerMobileNo",type:"text",value:t.ownerMobileNo,onChange:l=>e("ownerMobileNo",l),placeholder:"Enter mobile number"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"In Case of emergency, provide name of contact person"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(I,{label:"Contact Person",name:"emergencyContactPerson",type:"text",value:t.emergencyContactPerson,onChange:l=>e("emergencyContactPerson",l),placeholder:"Enter contact person name"}),o.jsx(I,{label:"Telephone/Mobile No.",name:"emergencyContactNumber",type:"text",value:t.emergencyContactNumber,onChange:l=>e("emergencyContactNumber",l),placeholder:"Enter contact number"}),o.jsx(I,{label:"Email Address",name:"emergencyContactEmail",type:"email",value:t.emergencyContactEmail,onChange:l=>e("emergencyContactEmail",l),placeholder:"Enter email address"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(I,{label:"Business Area (in sqm)",name:"businessArea",type:"number",value:t.businessArea,onChange:l=>e("businessArea",l),placeholder:"Enter business area"}),o.jsx(I,{label:"Total Employees in Establishment",name:"totalEmployees",type:"number",value:t.totalEmployees,onChange:l=>e("totalEmployees",l),placeholder:"Enter total employees"}),o.jsx(I,{label:"No. of Employees Residing with LGLI",name:"employeesResidingWithLgli",type:"number",value:t.employeesResidingWithLgli,onChange:l=>e("employeesResidingWithLgli",l),placeholder:"Enter number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Note: Fill up Only if Business Place is Rented"}),o.jsx(I,{label:"Lessor's Full Name",name:"lessorFullName",type:"text",value:t.lessorFullName,onChange:l=>e("lessorFullName",l),placeholder:"Enter lessor's full name"}),o.jsx(I,{label:"Lessor's Full Address",name:"lessorAddress",type:"text",value:t.lessorAddress,onChange:l=>e("lessorAddress",l),placeholder:"Enter lessor's address",className:"mt-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{label:"Lessor's Telephone/Mobile No.",name:"lessorContactNumber",type:"text",value:t.lessorContactNumber,onChange:l=>e("lessorContactNumber",l),placeholder:"Enter contact number"}),o.jsx(I,{label:"Lessor's Email Address",name:"lessorEmail",type:"email",value:t.lessorEmail,onChange:l=>e("lessorEmail",l),placeholder:"Enter email address"})]}),o.jsx(I,{label:"Monthly Rental",name:"monthlyRental",type:"number",value:t.monthlyRental,onChange:l=>e("monthlyRental",l),placeholder:"Enter monthly rental amount",className:"mt-4"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"III. Business Activity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(I,{label:"Line of Business",name:"lineOfBusiness",type:"text",value:t.lineOfBusiness,onChange:l=>e("lineOfBusiness",l),placeholder:"Enter line of business"}),o.jsx(I,{label:"No. Units",name:"numberOfUnits",type:"number",value:t.numberOfUnits,onChange:l=>e("numberOfUnits",l),placeholder:"Enter number of units"}),o.jsx(I,{label:"Capitalization",name:"capitalization",type:"number",value:t.capitalization,onChange:l=>e("capitalization",l),placeholder:"Enter capitalization"}),o.jsx(I,{label:"Gross Sales",name:"grossSales",type:"number",value:t.grossSales,onChange:l=>e("grossSales",l),placeholder:"Enter gross sales"})]})]}),o.jsxs("div",{className:"pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"IV. Attachments"}),o.jsxs("div",{className:"flex items-center mb-4 gap-4 justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Add Attachment"}),o.jsx("input",{type:"file",onChange:s,className:"hidden",id:"fileUpload",multiple:!0}),o.jsx("button",{type:"button",onClick:()=>document.getElementById("fileUpload").click(),className:"btn btn-outline",children:"Add"})]}),o.jsx("div",{className:"space-y-2",children:t.attachments&&t.attachments.length>0?t.attachments.map((l,c)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsx("span",{className:"text-sm truncate",children:l.name}),o.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-500 hover:text-red-700",children:"Delete"})]},c)):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:r,className:"btn btn-primary",children:a?"Update Application":"Create Application"})]})]});function P1e(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),[a,s]=w.useState(""),i=[{id:1,applicantType:"Renewal",modeOfPayment:"Annually",applicationDate:"1/13/2025",dtiSecCdaRegistration:"21447756",dtiRegistrationDate:"1/13/2025",businessName:"ABC Store",ownerName:"John Smith",status:"Active"},{id:2,applicantType:"New",modeOfPayment:"Semi-Annually",applicationDate:"1/14/2025",dtiSecCdaRegistration:"21447757",dtiRegistrationDate:"1/14/2025",businessName:"XYZ Restaurant",ownerName:"Jane Doe",status:"Pending"}],[l,c]=w.useState({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),u=[{key:"applicantType",header:"Applicant Type",sortable:!0},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"applicationDate",header:"Application Date",sortable:!0},{key:"dtiSecCdaRegistration",header:"DTI/SEC/CDA Registration",sortable:!0},{key:"status",header:"Status",sortable:!0,render:y=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${y==="Active"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:y})}],d=[{icon:z6,title:"View",onClick:y=>p(y)},{icon:xa,title:"Edit",onClick:y=>h(y)},{icon:Ga,title:"Delete",onClick:y=>b(y)}],f=(y,v)=>{c(N=>({...N,[y]:v}))},m=()=>{n(null),c({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),e(!0)},p=y=>{n(y),e(!0)},h=y=>{n(y),e(!0)},b=y=>{console.log("Deleting permit:",y)},g=()=>{console.log("Saving form data:",l),e(!1)},x=i.filter(y=>y.businessName.toLowerCase().includes(a.toLowerCase())||y.ownerName.toLowerCase().includes(a.toLowerCase())||y.dtiSecCdaRegistration.includes(a));return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Business Permit Applications"}),o.jsx("p",{children:"Manage business permit applications and registrations"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary max-sm:w-full ",children:[o.jsx(K0,{className:"h-5 w-5 mr-2"}),"New Application"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:a,onChange:y=>s(y.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Search applications..."})}),o.jsx(ge,{columns:u,data:x,actions:d,pagination:!0})]})}),o.jsx(se,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Business Application":"New Business Application",size:"xl",children:o.jsx(E1e,{formData:l,handleInputChange:f,handleSave:g,onCancel:()=>e(!1),isEdit:!!r})})]})}const O1e="https://staging-engine.testthelink.online",_1e=oe().shape({payee:E().required("Payee is required"),amount:G().required("Amount is required").positive("Amount must be positive"),date:Re().required("Date is required"),bank:E().required("Bank is required"),accountNumber:E().required("Account number is required"),accountName:E().required("Account name is required"),chequeType:E().required("Cheque type is required"),checkNumber:E().required("Check number is required"),brstn:E().required("BRSTN is required"),dv:E().required("DV is required"),signatory1:E().required("Signatory 1 is required"),signatory2:E().required("Signatory 2 is required").notOneOf([il("signatory1")],"Signatories must be different"),Attachments:Ht()});function $1e(){var N,C,j;const[t,e]=w.useState([]),[r,n]=w.useState(null),[a,s]=w.useState([]),i=le(),{banks:l,isLoading:c}=V(S=>S.banks),{employees:u,isLoading:d}=V(S=>S.employees),f=rt({initialValues:{status:"Pending",payee:"",amount:"",date:new Date().toISOString().split("T")[0],bank:"",accountNumber:"",accountName:"",chequeType:"Single",particulars:"",checkNumber:"",brstn:"",dv:"",additionalInformation:"",signatory1:"",signatory2:"",Attachments:[]},validationSchema:_1e,onSubmit:async S=>{await b(S)}});w.useEffect(()=>{i(zi()),i(on()),m()},[]);const m=async()=>{try{const S=await Ye("/chequeGenerator/checkList");s(S.data)}catch(S){throw console.error("Error fetching cheque list:",S),S}},p=(S,k,T)=>{const D=Array.from(S.target.files).map(P=>P);console.log(D,T),k("Attachments",[...T.Attachments,...D])},h=(S,k,T)=>{const A=[...T.Attachments];A.splice(S,1),k("Attachments",A)},b=async S=>{try{const k=new FormData;k.append("IsNew",r?"false":"true"),k.append("ID",(r==null?void 0:r.ID)||""),k.append("AddCondition","true"),k.append("DisbursementID",S.dv),k.append("BankID",S.bank),k.append("SignatoryType",S.chequeType),k.append("AccountNumber",S.accountNumber),k.append("AccountName",S.accountName),k.append("CheckNumber",S.checkNumber),k.append("BRSTN",S.brstn),k.append("CheckDate",S.date),k.append("Payee",S.payee),k.append("Amount",S.amount),k.append("Words",Hi(S.amount)),k.append("SignatoryOneID",S.signatory1),k.append("SignatoryTwoID",S.signatory2),k.append("Remarks",S.additionalInformation),k.append("OBR",S.obr||""),t.length>0?t.forEach((D,P)=>{D.ID?k.append(`Attachments[${P}].ID`,D.ID):k.append(`Attachments[${P}].File`,D)}):k.append("Attachments","[]");const T={headers:{"Content-Type":"multipart/form-data"}},A=await Ye.post("/chequeGenerator/save",k,T);if(A.data.error&&A.status!==200){q.error(A.data.error);return}q.success("Cheque saved successfully"),m(),x()}catch(k){throw console.error("Error saving cheque:",k),q.error("Failed to save cheque"),k}},g=S=>{n(S),f.setValues({status:S.Status,payee:S.Payee,amount:S.Amount,date:S.CheckDate,bank:S.BankID.toString(),accountNumber:S.AccountNumber,accountName:S.AccountName,chequeType:S.SignatoryType,particulars:S.Particulars||"",checkNumber:S.CheckNumber,brstn:S.BRSTN,dv:S.DisbursementID,additionalInformation:S.Remarks,obr:S.OBR||"",signatory1:S.SignatoryOneID.toString(),signatory2:S.SignatoryTwoID.toString(),Attachments:S.Attachments||[]})},x=()=>{n(null),f.resetForm(),e([])},y=[{key:"Status",header:"Status",sortable:!0,render:S=>o.jsx("span",{className:`px-2 py-1 text-xs rounded font-medium ${S==="Posted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:S})},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"Payee",header:"Payee",sortable:!0},{key:"Amount",header:"Amount",sortable:!0},{key:"ApprovalProgress",header:"Approval Progress",sortable:!0},{key:"ApprovalVersion",header:"Approval Version",sortable:!0}],v=[{icon:xa,title:"Edit",onClick:S=>g(S)}];return o.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Cheque Generator"}),o.jsx("p",{children:"Generate and print cheques"})]}),o.jsxs("div",{className:"flex gap-2 max-sm:w-full",children:[o.jsx("button",{type:"submit",onClick:f.handleSubmit,className:"btn btn-primary max-sm:w-full",disabled:f.isSubmitting,children:r?o.jsxs(o.Fragment,{children:[o.jsx(nfe,{className:"h-5 w-5 mr-2"}),"Edit"]}):o.jsxs(o.Fragment,{children:[o.jsx(tfe,{className:"h-5 w-5 mr-2"}),"Save"]})}),r&&o.jsx("button",{type:"button",onClick:x,className:"btn btn-outline mr-2",children:"Cancel Edit"})]})]})}),o.jsx("form",{onSubmit:f.handleSubmit,children:o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Cheque Template"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(pt,{options:l.map(S=>({value:S.ID.toString(),label:S.Name})),label:"Bank",placeholder:"Select Bank",name:"bank",selectedValue:f.values.bank,onSelect:S=>f.setFieldValue("bank",S),error:f.touched.bank&&f.errors.bank,touched:f.touched.bank,required:!0})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Single",checked:f.values.chequeType==="Single",onChange:f.handleChange,className:"mr-2"}),"Single"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Double",checked:f.values.chequeType==="Double",onChange:f.handleChange,className:"mr-2"}),"Double"]})]}),f.touched.chequeType&&f.errors.chequeType&&o.jsx("div",{className:"text-red-500 text-sm",children:f.errors.chequeType})]}),o.jsx(I,{type:"text",label:"DV",value:f.values.dv,onChange:f.handleChange,name:"dv",error:f.touched.dv&&f.errors.dv,touched:f.touched.dv})]}),o.jsxs("div",{className:"my-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:S=>p(S,f.setFieldValue,f.values),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`},f.values.Attachments.length)]}),((C=(N=f==null?void 0:f.values)==null?void 0:N.Attachments)==null?void 0:C.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:f.values.Attachments.map((S,k)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ts,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:S.ID?o.jsx("a",{href:`${O1e}/uploads/${S.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:S.name||S.DataName}):S.name||S.DataName})]}),o.jsx("button",{type:"button",onClick:()=>h(k,f.setFieldValue,f.values),className:"text-red-500 hover:text-red-700",children:o.jsx(nr,{className:"h-4 w-4"})})]},k))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Cheque Details"}),o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:["Status: ",f.values.status]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"text",label:"Account Number",name:"accountNumber",value:f.values.accountNumber,onChange:f.handleChange,error:f.touched.accountNumber&&f.errors.accountNumber,touched:f.touched.accountNumber})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Account Name",name:"accountName",value:f.values.accountName,onChange:f.handleChange,error:f.touched.accountName&&f.errors.accountName,touched:f.touched.accountName})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"text",label:"Check Number",name:"checkNumber",value:f.values.checkNumber,onChange:f.handleChange,error:f.touched.checkNumber&&f.errors.checkNumber,touched:f.touched.checkNumber})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"BRSTN",name:"brstn",value:f.values.brstn,onChange:f.handleChange,error:f.touched.brstn&&f.errors.brstn,touched:f.touched.brstn})})]}),o.jsx("div",{children:o.jsx(I,{type:"date",label:"Date",name:"date",value:f.values.date,onChange:f.handleChange,error:f.touched.date&&f.errors.date,touched:f.touched.date})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Pay to the order of:",name:"payee",value:f.values.payee,onChange:f.handleChange,error:f.touched.payee&&f.errors.payee,touched:f.touched.payee})}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Amount",name:"amount",value:f.values.amount,onChange:f.handleChange,step:"0.01",error:f.touched.amount&&f.errors.amount,touched:f.touched.amount})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount in Words:"}),o.jsx(I,{type:"text",value:Hi(f.values.amount),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Signatories"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(pt,{options:u==null?void 0:u.map(S=>({value:S.ID.toString(),label:`${S.FirstName} ${S.LastName}`})),label:"Signatory 1",placeholder:"Select signatory",name:"signatory1",selectedValue:f.values.signatory1,onSelect:S=>{if(S===f.values.signatory2){q.error("Signatory 1 cannot be the same as Signatory 2");return}f.setFieldValue("signatory1",S)},error:f.touched.signatory1&&f.errors.signatory1,touched:f.touched.signatory1,required:!0})}),o.jsx("div",{children:o.jsx(pt,{options:u==null?void 0:u.map(S=>({value:S.ID.toString(),label:`${S.FirstName} ${S.LastName}`})),label:"Signatory 2",placeholder:"Select signatory",name:"signatory2",selectedValue:f.values.signatory2,onSelect:S=>{if(S===f.values.signatory1){q.error("Signatory 2 cannot be the same as Signatory 1");return}f.setFieldValue("signatory2",S)},error:f.touched.signatory2&&f.errors.signatory2,touched:f.touched.signatory2,required:!0})}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-700",children:"Additional Info"}),o.jsx("textarea",{value:f.values.additionalInformation,name:"additionalInformation",onChange:f.handleChange,placeholder:"Additional information...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"})]})]})]})]})}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border mt-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:o.jsx("h2",{className:"text-lg font-semibold",children:"Check List"})}),o.jsx(ge,{columns:y,data:a,actions:v,loading:c||d,pagination:!0})]}),o.jsxs("div",{className:"mt-6 bg-white p-3 sm:p-6 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cheque Preview"}),o.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),o.jsx("p",{className:"font-medium",children:((j=l.find(S=>S.ID.toString()===f.values.bank))==null?void 0:j.Name)||"Select a bank"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),o.jsx("p",{className:"font-medium",children:f.values.date?new Date(f.values.date).toLocaleDateString():new Date().toLocaleDateString()})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),o.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:f.values.payee||"Enter payee name"})]}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),o.jsx("p",{className:"font-medium",children:f.values.amount?Hi(f.values.amount):"Enter amount"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),o.jsx("p",{className:"font-medium text-lg",children:f.values.amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f.values.amount):"0.00"})]})]}),o.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Authorized Signature"})})})]})})]})]})}function R1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=oe({ChartofAccountsID:E().required("Chart of Accounts is required"),CutOffDate:E().required("Cut Off Date is required"),FundID:E().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,isSubmitting:b,setFieldValue:g})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4 gap-1",children:[o.jsx(pt,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:x=>g("ChartofAccountsID",x),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID,className:"w-full mb-3"}),o.jsx(I,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:p,onBlur:h,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.FundID,onChange:p,onBlur:h,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const M1e="https://staging-engine.testthelink.online",L1e={generalLedgers:[],isLoading:!1,error:null},$b=L("generalLedger/fetchGeneralLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${M1e}/generalLedger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general ledgers:",r),e.rejectWithValue(r.message)}}),kC=L("generalLedger/exportGeneralLedgers",async t=>!0),$U=xe({name:"generalLedger",initialState:L1e,reducers:{resetGeneralLedgerState:t=>{t.generalLedgers=[],t.error=null}},extraReducers:t=>{t.addCase($b.pending,e=>{e.isLoading=!0,e.error=null}).addCase($b.fulfilled,(e,r)=>{e.isLoading=!1,e.generalLedgers=r.payload}).addCase($b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(kC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kC.fulfilled,e=>{e.isLoading=!1}).addCase(kC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralLedgerState:F1e}=$U.actions,B1e=$U.reducer,q1e="https://staging-engine.testthelink.online";function V1e(){const t=le(),{generalLedgers:e,isLoading:r,error:n}=V(d=>d.generalLedger),{funds:a}=V(d=>d.funds),{accounts:s}=V(d=>d.chartOfAccounts),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);w.useEffect(()=>{t(F1e()),t(Yt()),t(br())},[t]);const l=[{key:"id",header:"ID",sortable:!0},{key:"ap_ar",header:"AP AR",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"invoice_number",header:"Invoice Number",sortable:!0},{key:"account_code_display",header:"Account Code Display",sortable:!0},{key:"account_name_display",header:"Account Name Display",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:d=>i(d),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],c=async d=>{try{const f=await fetch(`${q1e}/generalLedger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(d)});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),p=f.headers.get("Content-Disposition");let h="General_Ledger.xlsx";p&&p.includes("filename=")&&(h=p.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(m),g=document.createElement("a");g.href=b,g.download=h,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(b)}catch(f){console.error("Export failed:",f),q.error(f.message||"Failed to export general ledger")}},u=d=>{t($b(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Ledger"}),o.jsx("p",{children:"Generate general ledger reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(R1e,{funds:a,accountOptions:s.map(d=>({value:d.ID,label:`${d.AccountCode} - ${d.Name}`})),onExportExcel:c,onView:u,onClose:()=>{}})}),n&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:n})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:l,data:e,loading:r,pagination:!0})})]})}function U1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=oe({ChartofAccountsID:E().required("Chart of Accounts is required"),CutOffDate:E().required("Cut Off Date is required"),FundID:E().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,isSubmitting:b,setFieldValue:g})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1 sm:gap-4",children:[o.jsx(pt,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:x=>g("ChartofAccountsID",x),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID}),o.jsx(I,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:p,onBlur:h,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.FundID,onChange:p,onBlur:h,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const z1e="https://staging-engine.testthelink.online",W1e={subsidiaryLedgers:[],isLoading:!1,error:null},Rb=L("subsidiaryLedger/fetchSubsidiaryLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${z1e}/subsidiaryLeadger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching subsidiary ledger:",r),e.rejectWithValue(r.message)}}),IC=L("subsidiaryLedger/exportSubsidiaryLedgers",async t=>!0),RU=xe({name:"subsidiaryLedger",initialState:W1e,reducers:{resetSubsidiaryLedgerState:t=>{t.subsidiaryLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rb.fulfilled,(e,r)=>{e.isLoading=!1,e.subsidiaryLedgers=r.payload}).addCase(Rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(IC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IC.fulfilled,e=>{e.isLoading=!1}).addCase(IC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetSubsidiaryLedgerState:H1e}=RU.actions,G1e=RU.reducer;function Y1e(){const t="https://staging-engine.testthelink.online",e=le(),{subsidiaryLedgers:r,isLoading:n,error:a}=V(f=>f.subsidiaryLedger),{funds:s}=V(f=>f.funds),{accounts:i}=V(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);w.useEffect(()=>{e(H1e()),e(Yt()),e(br())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=localStorage.getItem("token"),p=await fetch(`${t}/subsidiaryLeadger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify(f)});if(!p.ok)throw new Error("Server response was not ok");const h=await p.blob(),b=p.headers.get("Content-Disposition");let g="Subsidiary_Ledger.xlsx";b&&b.includes("filename=")&&(g=b.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(h),y=document.createElement("a");y.href=x,y.download=g,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(x)}catch(m){console.error("Export failed:",m),q.error(m.message||"Failed to export subsidiary ledger")}},d=f=>{e(Rb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Subsidiary Ledger"}),o.jsx("p",{children:"Generate subsidiary ledger reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(U1e,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:c,data:r,loading:n,pagination:!0})})]})}function K1e({onView:t,onGenerateJournal:e,onExportExcel:r}){const n=w.useRef(null),a=oe({year:E().required("Year is required")}),s={year:new Date().getFullYear()-1},i=(l,{setSubmitting:c})=>{const u=n.current;u==="view"?t(l):u==="generate"?e(l):u==="export"&&r(l),c(!1),n.current=null};return o.jsx($e,{initialValues:s,validationSchema:a,onSubmit:i,validateOnMount:!0,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m,setFieldValue:p})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:o.jsx(I,{label:"Year",name:"year",type:"number",value:l.year,onChange:d,onBlur:f,error:c.year,touched:u.year,required:!0})}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 max-sm:flex-col  gap-4",children:[o.jsx("button",{type:"submit",className:"btn btn-primary ",disabled:m,onClick:()=>n.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary text-center",disabled:m,children:"Generate FSP"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:m,onClick:()=>n.current="export",children:"Export to Excel"})]})]})})}const J1e="https://staging-engine.testthelink.online",X1e={financialStatements:[],isLoading:!1,error:null},Mb=L("financialStatement/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${J1e}/financialStatementsReports/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching financial statements:",r),e.rejectWithValue(r.message)}}),TC=L("financialStatement/exportFinancialStatements",async t=>!0),MU=xe({name:"financialStatement",initialState:X1e,reducers:{resetFinancialStatementState:t=>{t.financialStatements=[],t.error=null}},extraReducers:t=>{t.addCase(Mb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mb.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload}).addCase(Mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(TC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TC.fulfilled,e=>{e.isLoading=!1}).addCase(TC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetFinancialStatementState:Z1e}=MU.actions,Q1e=MU.reducer;function eCe(){const t="https://staging-engine.testthelink.online",e=le(),{financialStatements:r,isLoading:n,error:a}=V(u=>u.financialStatementsReports);w.useEffect(()=>{e(Z1e())},[e]);const s=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),i=[{key:"Type",header:"Type",sortable:!0},{key:"Term",header:"Term",sortable:!0},{key:"SubType",header:"Sub Type",sortable:!0},{key:"Notes",header:"Notes",sortable:!0},{key:"Values",header:"Values",sortable:!0,render:u=>s(u),className:"text-right"},{key:"Comparison",header:"Comparison",sortable:!0,render:u=>s(u),className:"text-right"}],l=async u=>{try{const d=localStorage.getItem("token"),f=await fetch(`${t}/financialStatementsReports/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({year:u.year})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),p=f.headers.get("Content-Disposition");let h="Consolidated_Statement_of_Financial_Position.xlsx";p&&p.includes("filename=")&&(h=p.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(m),g=document.createElement("a");g.href=b,g.download=h,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(b)}catch(d){console.error("Export failed:",d),q.error(d.message||"Failed to export")}},c=u=>{e(Mb(u))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Consolidated Comparison"}),o.jsx("p",{children:"Generate consolidated comparison reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(K1e,{onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:i,data:r,loading:n,pagination:!0})})]})}const iR="https://staging-engine.testthelink.online";function lR(){const[t,e]=w.useState(""),[r,n]=w.useState(""),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState([]),[m,p]=w.useState(!1),h=le(),{funds:b}=V(k=>k.funds),{departments:g}=V(k=>k.departments),{fiscalYears:x}=V(k=>k.fiscalYears);w.useEffect(()=>{h(Yt()),h(ar()),h(ln())},[h]);const y=[{key:"Name",header:"Name",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Appropriated",header:"Appropriation",sortable:!0,render:k=>v(k),className:"text-right"},{key:"Adjustments",header:"Adjustments",sortable:!0,render:k=>v(k),className:"text-right"},{key:"Allotments",header:"Allotments",sortable:!0,render:k=>v(k),className:"text-right"},{key:"Obligations",header:"Obligations",sortable:!0,render:k=>v(k),className:"text-right"},{key:"Appropriation Balance",header:"Appropriation Balance",sortable:!0,render:k=>v(k),className:"text-right"},{key:"Allotment Balance",header:"Allotment Balance",sortable:!0,render:k=>v(k),className:"text-right"}],v=k=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(k),N=()=>({startDate:t,endDate:r,fiscalYearID:a,fundsID:i,departmentID:c}),C=async()=>{if(!j()){q.error("Please select all filters");return}try{p(!0);const k=await et.post(`${iR}/budgetReport/view`,N());f(k.data||[])}catch{q.error("Failed to fetch data")}finally{p(!1)}},j=()=>t&&r&&a&&i&&c,S=async()=>{if(!j()){q.error("Please select all filters");return}try{const k=await et.post(`${iR}/budgetReport/exportExcel`,N(),{responseType:"blob"}),T=new Blob([k.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),A=window.URL.createObjectURL(T),D=document.createElement("a");D.href=A,D.download="Budget_Report.xlsx",document.body.appendChild(D),D.click(),document.body.removeChild(D)}catch{q.error("Export failed")}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Reports"}),o.jsx("p",{children:"View and generate budget utilization reports"})]}),o.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:o.jsxs("button",{onClick:S,className:"btn btn-outline  max-sm:w-full ",children:[o.jsx(e3,{className:"h-5 w-5 mr-2"})," Export"]})})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"Start Date",name:"startDate",type:"date",value:t,required:!0,onChange:k=>e(k.target.value)})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"End Date",name:"endDate",type:"date",value:r,required:!0,onChange:k=>n(k.target.value)})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:a,required:!0,onChange:k=>s(k.target.value),options:x.map(k=>({label:k.Name,value:k.ID}))})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"Fund",name:"fundsID",type:"select",value:i,required:!0,onChange:k=>l(k.target.value),options:b.map(k=>({label:k.Name,value:k.ID}))})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"Department",name:"departmentID",type:"select",value:c,required:!0,onChange:k=>u(k.target.value),options:g.map(k=>({label:k.Name,value:k.ID}))})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:C,children:"View"})})]}),o.jsx("div",{className:"mt-8",children:o.jsx(ge,{columns:y,data:d,pagination:!0,loading:m})})]})}function tCe(){const[t,e]=w.useState({startDate:"2024-01-01",endDate:"2024-01-31",year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),formType:"2307",payeeType:"vendor",vendor:"1"}),r=[{value:"1",label:"ABC Office Supplies"},{value:"2",label:"XYZ Construction"},{value:"3",label:"Tech Solutions Inc."},{value:"4",label:"Global Logistics"},{value:"5",label:"Premium Services Co."}],n=[{value:"101",label:"Juan Dela Cruz"},{value:"102",label:"Maria Santos"},{value:"103",label:"Pedro Reyes"},{value:"104",label:"Ana Lopez"},{value:"105",label:"Luis Garcia"}],a=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),s=[{id:1,date:"2024-01-15",reference:"DV-2024-01-0015",description:"Payment for office supplies",grossAmount:5e4,taxRate:.02,taxWithheld:1e3,netAmount:49e3},{id:2,date:"2024-01-20",reference:"DV-2024-01-0023",description:"Payment for IT equipment",grossAmount:1e5,taxRate:.02,taxWithheld:2e3,netAmount:98e3},{id:3,date:"2024-01-25",reference:"DV-2024-01-0032",description:"Payment for maintenance services",grossAmount:75e3,taxRate:.02,taxWithheld:1500,netAmount:73500},{id:4,date:"2024-01-28",reference:"DV-2024-01-0041",description:"Payment for office furniture",grossAmount:12e4,taxRate:.02,taxWithheld:2400,netAmount:117600}],i=[{key:"date",header:"Date",sortable:!0,render:u=>new Date(u).toLocaleDateString()},{key:"reference",header:"Reference",sortable:!0,className:"font-medium text-neutral-900"},{key:"description",header:"Description",sortable:!0},{key:"grossAmount",header:"Gross Amount",sortable:!0,render:u=>a(u),className:"text-right"},{key:"taxRate",header:"Tax Rate",sortable:!0,render:u=>`${(u*100).toFixed(2)}%`,className:"text-right"},{key:"taxWithheld",header:"Tax Withheld",sortable:!0,render:u=>a(u),className:"text-right"},{key:"netAmount",header:"Net Amount",sortable:!0,render:u=>a(u),className:"text-right"}],c=(()=>{if(t.payeeType==="employee")return{tin:"987-654-321-000",name:(n.find(d=>d.value===t.vendor)||n[0]).label,address:"Employee Address, City",zipCode:"1000"};{const u=r.find(d=>d.value===t.vendor)||r[0];return{tin:"123-456-789-000",name:u.label,address:`${u.label} Street, Business District`,zipCode:"2000"}}})();return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-[200px]",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"BIR Reports"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Generate BIR forms and reports"})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap w-full sm:w-auto gap-2 sm:justify-end",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(e3,{className:"h-5 w-5 mr-2"}),"Export"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(gu,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(I,{label:"From Date",name:"startDate",type:"date",value:t.startDate,onChange:u=>e({...t,startDate:u.target.value})}),o.jsx(I,{label:"To Date",name:"endDate",type:"date",value:t.endDate,onChange:u=>e({...t,endDate:u.target.value})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payee Type"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"employee",checked:t.payeeType==="employee",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Employee"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"vendor",checked:t.payeeType==="vendor",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Vendor"})]})]})]}),o.jsx(I,{label:t.payeeType==="employee"?"Employee":"Vendor",name:"vendor",type:"select",value:t.vendor,onChange:u=>e({...t,vendor:u.target.value}),options:t.payeeType==="employee"?n:r})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Generating report with filters:",t)},children:"Generate Report"})})]}),t.formType==="2307"&&o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"text-center space-y-2 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Certificate of Creditable Tax Withheld at Source"}),o.jsx("h3",{className:"text-lg font-semibold",children:"BIR Form No. 2307"}),o.jsxs("p",{className:"text-sm text-neutral-600",children:["For the period from"," ",new Date(t.startDate).toLocaleDateString()," to"," ",new Date(t.endDate).toLocaleDateString()]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payor Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," 000-123-456-789"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," Local Government Unit of Sample City"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," City Hall Building, Main Street"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," 4100"]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payee Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," ",c.tin]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," ",c.name]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," ",c.address]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," ",c.zipCode]})]})]})]}),o.jsx(ge,{columns:i,data:s,pagination:!0}),o.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Gross Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.grossAmount,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Tax Withheld"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.taxWithheld,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Net Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.netAmount,0))})]})]})}),o.jsxs("div",{className:"mt-6 card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Certification"}),o.jsx("p",{className:"text-sm mb-4",children:"I/We certify under penalty of perjury that this certificate has been made in good faith, verified by me/us, and to the best of my/our knowledge and belief, is true and correct."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Prepared by:"}),o.jsx("p",{className:"font-medium",children:"Juan Dela Cruz"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Accounting Staff"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Certified correct by:"}),o.jsx("p",{className:"font-medium",children:"Maria Santos"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Treasurer"})]})]})]})]})]})}const cR="https://staging-engine.testthelink.online",DC={view:!1,add:!1,edit:!1,delete:!1,print:!1,mayor:!1};function rCe(){const t=le(),{userroles:e,isLoading:r,error:n}=V(h=>h.userroles),a=V(h=>h.modules.modules),[s,i]=w.useState(null),[l,c]=w.useState({});w.useEffect(()=>{t(cc()),t(Jd())},[t]),w.useEffect(()=>{e.length>0&&!s&&i(e[0])},[e]);const u=async()=>{try{const h=await fetch(`${cR}/moduleAccess/${s.ID}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await h.json();if(!h.ok)throw new Error(b.message||"Failed to fetch access");const g={};b.forEach(y=>{g[y.ModuleID]={id:y.ID,view:!!y.View,add:!!y.Add,edit:!!y.Edit,delete:!!y.Delete,print:!!y.Print,mayor:!!y.Mayor}});const x={};a.forEach(y=>{x[y.ID]=g[y.ID]||{...DC}}),c(x)}catch(h){console.error("Error loading module access:",h.message)}};w.useEffect(()=>{!(s!=null&&s.ID)||a.length===0||u()},[s,a]);const d=(h,b)=>{c(g=>({...g,[h]:{...g[h],[b]:!g[h][b]}}))},f=h=>{const b={};a.forEach(g=>{b[g.ID]={...l[g.ID]||DC,view:h,add:h,edit:h,delete:h,print:h,mayor:h}}),c(b)},m=(h,b)=>{const g={...l};a.forEach(x=>{g[x.ID]={...g[x.ID]||DC,[h]:b}}),c(g)},p=async()=>{if(!(s!=null&&s.ID))return;const h=Object.entries(l).map(([b,g])=>({id:g.id||null,ModuleID:parseInt(b),View:g.view?1:0,Add:g.add?1:0,Edit:g.edit?1:0,Delete:g.delete?1:0,Print:g.print?1:0,Mayor:g.mayor?1:0}));try{const b=await fetch(`${cR}/moduleAccess`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({UserAccessID:s.ID,modules:h})});if(!b.ok){const g=await b.json();throw new Error(g.message||"Failed to save permissions")}q.success("Permissions saved successfully!")}catch(b){console.error("Save failed:",b.message),q.error("Error saving permissions.")}};return o.jsxs("div",{className:"sm:p-4 space-y-4",children:[o.jsxs("header",{className:"page-header space-y-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Access"}),o.jsx("p",{className:"text-gray-600",children:"Manage user roles and module access."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search role...",className:"border px-3 py-2 rounded-md w-full sm:w-60"}),o.jsx("button",{className:"btn btn-primary flex items-center",onClick:p,children:"Save"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsxs("div",{className:"lg:col-span-3 bg-white border rounded shadow",children:[o.jsx("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:"Roles"}),r?o.jsx("div",{className:"p-4 text-center",children:"Loading roles..."}):n?o.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"No roles found."}):o.jsx("ul",{children:e.map(h=>o.jsx("li",{onClick:()=>i(h),className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${(s==null?void 0:s.ID)===h.ID?"bg-blue-200 font-semibold":""}`,children:h.Description},h.ID))})]}),o.jsxs("div",{className:"lg:col-span-9 bg-white border rounded shadow overflow-x-auto",children:[o.jsxs("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:["Permissions for: ",(s==null?void 0:s.Description)||""]}),o.jsxs("table",{className:"min-w-[700px] w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Module"}),["view","add","edit","delete","print","mayor"].map(h=>o.jsx("th",{className:"px-2 capitalize text-center",children:o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("span",{children:h})})},h))]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("td",{className:"px-4 py-1 font-medium",children:"Select All"}),["view","add","edit","delete","print","mayor"].map(h=>o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:a.every(b=>{var g;return(g=l[b.ID])==null?void 0:g[h]}),onChange:b=>m(h,b.target.checked),className:"accent-blue-600"})},`select-all-${h}`))]}),a.map(h=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-1",children:h.Description}),["view","add","edit","delete","print","mayor"].map(b=>{var g;return o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:((g=l[h.ID])==null?void 0:g[b])||!1,onChange:()=>d(h.ID,b),className:"accent-blue-600"})},b)})]},h.ID))]})]}),o.jsxs("div",{className:"p-2 border-t space-x-2",children:[o.jsx("button",{onClick:()=>f(!0),className:"btn btn-outline",children:"Select All"}),o.jsx("button",{onClick:()=>f(!1),className:"btn btn-outline",children:"Deselect All"})]})]})]})]})}const nCe=()=>{const t=Bm(),[e,r]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""});le();const[n,a]=w.useState({current:!1,new:!1,confirm:!1}),s=u=>{r(d=>({...d,[u.target.name]:u.target.value}))},i=u=>{a(d=>({...d,[u]:!d[u]}))},l=async u=>{if(u.preventDefault(),!e.currentPassword||!e.newPassword||!e.confirmPassword){q.error("Please fill out all fields");return}if(e.newPassword!==e.confirmPassword){q.error("New passwords do not match");return}try{await new Promise(d=>setTimeout(d,1e3)),q.success("Password updated successfully!"),t("/dashboard")}catch(d){q.error(d.message)}finally{r({currentPassword:"",newPassword:"",confirmPassword:""})}},c=(u,d,f)=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:n[f]?"text":"password",name:d,value:e[d],onChange:s,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(f),className:"absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-gray-700",children:n[f]?o.jsx(Hde,{size:18}):o.jsx(z6,{size:18})})]})]});return o.jsxs("div",{className:"p-6 max-w-3xl mx-auto animate-fade-in bg-white rounded-lg shadow-sm border border-gray-100",children:[o.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition",children:[o.jsx(qde,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),o.jsx("h1",{className:"text-3xl font-bold text-blue-800 mb-4",children:"Change Password"}),o.jsxs("form",{className:"space-y-4",onSubmit:l,children:[c("Current Password","currentPassword","current"),c("New Password","newPassword","new"),c("Confirm New Password","confirmPassword","confirm"),o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Update Password"})]})]})};var aCe=Array.isArray,mn=aCe,sCe=typeof gh=="object"&&gh&&gh.Object===Object&&gh,LU=sCe,oCe=LU,iCe=typeof self=="object"&&self&&self.Object===Object&&self,lCe=oCe||iCe||Function("return this")(),Ya=lCe,cCe=Ya,uCe=cCe.Symbol,lh=uCe,uR=lh,FU=Object.prototype,dCe=FU.hasOwnProperty,fCe=FU.toString,ad=uR?uR.toStringTag:void 0;function mCe(t){var e=dCe.call(t,ad),r=t[ad];try{t[ad]=void 0;var n=!0}catch{}var a=fCe.call(t);return n&&(e?t[ad]=r:delete t[ad]),a}var hCe=mCe,pCe=Object.prototype,gCe=pCe.toString;function yCe(t){return gCe.call(t)}var bCe=yCe,dR=lh,xCe=hCe,vCe=bCe,jCe="[object Null]",wCe="[object Undefined]",fR=dR?dR.toStringTag:void 0;function CCe(t){return t==null?t===void 0?wCe:jCe:fR&&fR in Object(t)?xCe(t):vCe(t)}var Bs=CCe;function NCe(t){return t!=null&&typeof t=="object"}var qs=NCe,SCe=Bs,ACe=qs,kCe="[object Symbol]";function ICe(t){return typeof t=="symbol"||ACe(t)&&SCe(t)==kCe}var wu=ICe,TCe=mn,DCe=wu,ECe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PCe=/^\w*$/;function OCe(t,e){if(TCe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||DCe(t)?!0:PCe.test(t)||!ECe.test(t)||e!=null&&t in Object(e)}var zD=OCe;function _Ce(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Jo=_Ce;const Cu=st(Jo);var $Ce=Bs,RCe=Jo,MCe="[object AsyncFunction]",LCe="[object Function]",FCe="[object GeneratorFunction]",BCe="[object Proxy]";function qCe(t){if(!RCe(t))return!1;var e=$Ce(t);return e==LCe||e==FCe||e==MCe||e==BCe}var WD=qCe;const ze=st(WD);var VCe=Ya,UCe=VCe["__core-js_shared__"],zCe=UCe,EC=zCe,mR=function(){var t=/[^.]+$/.exec(EC&&EC.keys&&EC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function WCe(t){return!!mR&&mR in t}var HCe=WCe,GCe=Function.prototype,YCe=GCe.toString;function KCe(t){if(t!=null){try{return YCe.call(t)}catch{}try{return t+""}catch{}}return""}var BU=KCe,JCe=WD,XCe=HCe,ZCe=Jo,QCe=BU,eNe=/[\\^$.*+?()[\]{}|]/g,tNe=/^\[object .+?Constructor\]$/,rNe=Function.prototype,nNe=Object.prototype,aNe=rNe.toString,sNe=nNe.hasOwnProperty,oNe=RegExp("^"+aNe.call(sNe).replace(eNe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iNe(t){if(!ZCe(t)||XCe(t))return!1;var e=JCe(t)?oNe:tNe;return e.test(QCe(t))}var lNe=iNe;function cNe(t,e){return t==null?void 0:t[e]}var uNe=cNe,dNe=lNe,fNe=uNe;function mNe(t,e){var r=fNe(t,e);return dNe(r)?r:void 0}var wl=mNe,hNe=wl,pNe=hNe(Object,"create"),Hj=pNe,hR=Hj;function gNe(){this.__data__=hR?hR(null):{},this.size=0}var yNe=gNe;function bNe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xNe=bNe,vNe=Hj,jNe="__lodash_hash_undefined__",wNe=Object.prototype,CNe=wNe.hasOwnProperty;function NNe(t){var e=this.__data__;if(vNe){var r=e[t];return r===jNe?void 0:r}return CNe.call(e,t)?e[t]:void 0}var SNe=NNe,ANe=Hj,kNe=Object.prototype,INe=kNe.hasOwnProperty;function TNe(t){var e=this.__data__;return ANe?e[t]!==void 0:INe.call(e,t)}var DNe=TNe,ENe=Hj,PNe="__lodash_hash_undefined__";function ONe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ENe&&e===void 0?PNe:e,this}var _Ne=ONe,$Ne=yNe,RNe=xNe,MNe=SNe,LNe=DNe,FNe=_Ne;function Nu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Nu.prototype.clear=$Ne;Nu.prototype.delete=RNe;Nu.prototype.get=MNe;Nu.prototype.has=LNe;Nu.prototype.set=FNe;var BNe=Nu;function qNe(){this.__data__=[],this.size=0}var VNe=qNe;function UNe(t,e){return t===e||t!==t&&e!==e}var HD=UNe,zNe=HD;function WNe(t,e){for(var r=t.length;r--;)if(zNe(t[r][0],e))return r;return-1}var Gj=WNe,HNe=Gj,GNe=Array.prototype,YNe=GNe.splice;function KNe(t){var e=this.__data__,r=HNe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():YNe.call(e,r,1),--this.size,!0}var JNe=KNe,XNe=Gj;function ZNe(t){var e=this.__data__,r=XNe(e,t);return r<0?void 0:e[r][1]}var QNe=ZNe,eSe=Gj;function tSe(t){return eSe(this.__data__,t)>-1}var rSe=tSe,nSe=Gj;function aSe(t,e){var r=this.__data__,n=nSe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var sSe=aSe,oSe=VNe,iSe=JNe,lSe=QNe,cSe=rSe,uSe=sSe;function Su(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Su.prototype.clear=oSe;Su.prototype.delete=iSe;Su.prototype.get=lSe;Su.prototype.has=cSe;Su.prototype.set=uSe;var Yj=Su,dSe=wl,fSe=Ya,mSe=dSe(fSe,"Map"),GD=mSe,pR=BNe,hSe=Yj,pSe=GD;function gSe(){this.size=0,this.__data__={hash:new pR,map:new(pSe||hSe),string:new pR}}var ySe=gSe;function bSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var xSe=bSe,vSe=xSe;function jSe(t,e){var r=t.__data__;return vSe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Kj=jSe,wSe=Kj;function CSe(t){var e=wSe(this,t).delete(t);return this.size-=e?1:0,e}var NSe=CSe,SSe=Kj;function ASe(t){return SSe(this,t).get(t)}var kSe=ASe,ISe=Kj;function TSe(t){return ISe(this,t).has(t)}var DSe=TSe,ESe=Kj;function PSe(t,e){var r=ESe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var OSe=PSe,_Se=ySe,$Se=NSe,RSe=kSe,MSe=DSe,LSe=OSe;function Au(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Au.prototype.clear=_Se;Au.prototype.delete=$Se;Au.prototype.get=RSe;Au.prototype.has=MSe;Au.prototype.set=LSe;var YD=Au,qU=YD,FSe="Expected a function";function KD(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(FSe);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(KD.Cache||qU),r}KD.Cache=qU;var VU=KD;const BSe=st(VU);var qSe=VU,VSe=500;function USe(t){var e=qSe(t,function(n){return r.size===VSe&&r.clear(),n}),r=e.cache;return e}var zSe=USe,WSe=zSe,HSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,GSe=/\\(\\)?/g,YSe=WSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HSe,function(r,n,a,s){e.push(a?s.replace(GSe,"$1"):n||r)}),e}),KSe=YSe;function JSe(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var JD=JSe,gR=lh,XSe=JD,ZSe=mn,QSe=wu,yR=gR?gR.prototype:void 0,bR=yR?yR.toString:void 0;function UU(t){if(typeof t=="string")return t;if(ZSe(t))return XSe(t,UU)+"";if(QSe(t))return bR?bR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var eAe=UU,tAe=eAe;function rAe(t){return t==null?"":tAe(t)}var zU=rAe,nAe=mn,aAe=zD,sAe=KSe,oAe=zU;function iAe(t,e){return nAe(t)?t:aAe(t,e)?[t]:sAe(oAe(t))}var WU=iAe,lAe=wu;function cAe(t){if(typeof t=="string"||lAe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Jj=cAe,uAe=WU,dAe=Jj;function fAe(t,e){e=uAe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[dAe(e[r++])];return r&&r==n?t:void 0}var XD=fAe,mAe=XD;function hAe(t,e,r){var n=t==null?void 0:mAe(t,e);return n===void 0?r:n}var HU=hAe;const ga=st(HU);function pAe(t){return t==null}var gAe=pAe;const Ke=st(gAe);var yAe=Bs,bAe=mn,xAe=qs,vAe="[object String]";function jAe(t){return typeof t=="string"||!bAe(t)&&xAe(t)&&yAe(t)==vAe}var wAe=jAe;const ch=st(wAe);var GU={exports:{}},mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZD=Symbol.for("react.element"),QD=Symbol.for("react.portal"),Xj=Symbol.for("react.fragment"),Zj=Symbol.for("react.strict_mode"),Qj=Symbol.for("react.profiler"),ew=Symbol.for("react.provider"),tw=Symbol.for("react.context"),CAe=Symbol.for("react.server_context"),rw=Symbol.for("react.forward_ref"),nw=Symbol.for("react.suspense"),aw=Symbol.for("react.suspense_list"),sw=Symbol.for("react.memo"),ow=Symbol.for("react.lazy"),NAe=Symbol.for("react.offscreen"),YU;YU=Symbol.for("react.module.reference");function Xn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ZD:switch(t=t.type,t){case Xj:case Qj:case Zj:case nw:case aw:return t;default:switch(t=t&&t.$$typeof,t){case CAe:case tw:case rw:case ow:case sw:case ew:return t;default:return e}}case QD:return e}}}mt.ContextConsumer=tw;mt.ContextProvider=ew;mt.Element=ZD;mt.ForwardRef=rw;mt.Fragment=Xj;mt.Lazy=ow;mt.Memo=sw;mt.Portal=QD;mt.Profiler=Qj;mt.StrictMode=Zj;mt.Suspense=nw;mt.SuspenseList=aw;mt.isAsyncMode=function(){return!1};mt.isConcurrentMode=function(){return!1};mt.isContextConsumer=function(t){return Xn(t)===tw};mt.isContextProvider=function(t){return Xn(t)===ew};mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ZD};mt.isForwardRef=function(t){return Xn(t)===rw};mt.isFragment=function(t){return Xn(t)===Xj};mt.isLazy=function(t){return Xn(t)===ow};mt.isMemo=function(t){return Xn(t)===sw};mt.isPortal=function(t){return Xn(t)===QD};mt.isProfiler=function(t){return Xn(t)===Qj};mt.isStrictMode=function(t){return Xn(t)===Zj};mt.isSuspense=function(t){return Xn(t)===nw};mt.isSuspenseList=function(t){return Xn(t)===aw};mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xj||t===Qj||t===Zj||t===nw||t===aw||t===NAe||typeof t=="object"&&t!==null&&(t.$$typeof===ow||t.$$typeof===sw||t.$$typeof===ew||t.$$typeof===tw||t.$$typeof===rw||t.$$typeof===YU||t.getModuleId!==void 0)};mt.typeOf=Xn;GU.exports=mt;var SAe=GU.exports,AAe=Bs,kAe=qs,IAe="[object Number]";function TAe(t){return typeof t=="number"||kAe(t)&&AAe(t)==IAe}var KU=TAe;const DAe=st(KU);var EAe=KU;function PAe(t){return EAe(t)&&t!=+t}var OAe=PAe;const uh=st(OAe);var zn=function(e){return e===0?0:e>0?1:-1},Ti=function(e){return ch(e)&&e.indexOf("%")===e.length-1},ve=function(e){return DAe(e)&&!uh(e)},dr=function(e){return ve(e)||ch(e)},_Ae=0,iw=function(e){var r=++_Ae;return"".concat(e||"").concat(r)},tn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&!ch(e))return n;var s;if(Ti(e)){var i=e.indexOf("%");s=r*parseFloat(e.slice(0,i))/100}else s=+e;return uh(s)&&(s=n),a&&s>r&&(s=r),s},Ml=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},$Ae=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},xR=function(e,r){return ve(e)&&ve(r)?function(n){return e+n*(r-e)}:function(){return r}};function ak(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ga(n,e))===r})}function sk(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function ok(t){"@babel/helpers - typeof";return ok=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ok(t)}var RAe=["viewBox","children"],MAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vR=["points","pathLength"],PC={svg:RAe,polygon:vR,polyline:vR},eE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kx=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),!Cu(n))return null;var a={};return Object.keys(n).forEach(function(s){eE.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},LAe=function(e,r,n){return function(a){return e(r,n,a),null}},lw=function(e,r,n){if(!Cu(e)||ok(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var i=e[s];eE.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=LAe(i,r,n))}),a},FAe=["children"],BAe=["children"];function jR(t,e){if(t==null)return{};var r=qAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},CR=null,OC=null,tE=function t(e){if(e===CR&&Array.isArray(OC))return OC;var r=[];return w.Children.forEach(e,function(n){Ke(n)||(SAe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),OC=r,CR=e,r};function qa(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return vs(a)}):n=[vs(e)],tE(t).forEach(function(a){var s=ga(a,"type.displayName")||ga(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Fn(t,e){var r=qa(t,e);return r&&r[0]}var NR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!ve(n)||n<=0||!ve(a)||a<=0)},VAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],UAe=function(e){return e&&e.type&&ch(e.type)&&VAe.indexOf(e.type)>=0},zAe=function(e,r,n,a){var s,i=(s=PC==null?void 0:PC[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!ze(e)&&(a&&i.includes(r)||MAe.includes(r))||n&&eE.includes(r)},Ue=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(w.isValidElement(e)&&(a=e.props),!Cu(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;zAe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},ik=function t(e,r){if(e===r)return!0;var n=w.Children.count(e);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return SR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!t(s,i))return!1}else if(!SR(s,i))return!1}return!0},SR=function(e,r){if(Ke(e)&&Ke(r))return!0;if(!Ke(e)&&!Ke(r)){var n=e.props||{},a=n.children,s=jR(n,FAe),i=r.props||{},l=i.children,c=jR(i,BAe);return a&&l?sk(s,c)&&ik(a,l):!a&&!l?sk(s,c):!1}return!1},AR=function(e,r){var n=[],a={};return tE(e).forEach(function(s,i){if(UAe(s))n.push(s);else if(s){var l=vs(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},WAe=function(e){var r=e&&e.type;return r&&wR[r]?wR[r]:null},HAe=function(e,r){return tE(r).indexOf(e)},GAe=["children","width","height","viewBox","className","style","title","desc"];function lk(){return lk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lk.apply(this,arguments)}function YAe(t,e){if(t==null)return{};var r=KAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ck(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,i=t.style,l=t.title,c=t.desc,u=YAe(t,GAe),d=a||{width:r,height:n,x:0,y:0},f=_e("recharts-surface",s);return U.createElement("svg",lk({},Ue(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),U.createElement("title",null,l),U.createElement("desc",null,c),e)}var JAe=["children","className"];function uk(){return uk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uk.apply(this,arguments)}function XAe(t,e){if(t==null)return{};var r=ZAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zt=U.forwardRef(function(t,e){var r=t.children,n=t.className,a=XAe(t,JAe),s=_e("recharts-layer",n);return U.createElement("g",uk({className:s},Ue(a,!0),{ref:e}),r)}),js=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function QAe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(a);++n<a;)s[n]=t[n+e];return s}var eke=QAe,tke=eke;function rke(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:tke(t,e,r)}var nke=rke,ake="\\ud800-\\udfff",ske="\\u0300-\\u036f",oke="\\ufe20-\\ufe2f",ike="\\u20d0-\\u20ff",lke=ske+oke+ike,cke="\\ufe0e\\ufe0f",uke="\\u200d",dke=RegExp("["+uke+ake+lke+cke+"]");function fke(t){return dke.test(t)}var JU=fke;function mke(t){return t.split("")}var hke=mke,XU="\\ud800-\\udfff",pke="\\u0300-\\u036f",gke="\\ufe20-\\ufe2f",yke="\\u20d0-\\u20ff",bke=pke+gke+yke,xke="\\ufe0e\\ufe0f",vke="["+XU+"]",dk="["+bke+"]",fk="\\ud83c[\\udffb-\\udfff]",jke="(?:"+dk+"|"+fk+")",ZU="[^"+XU+"]",QU="(?:\\ud83c[\\udde6-\\uddff]){2}",ez="[\\ud800-\\udbff][\\udc00-\\udfff]",wke="\\u200d",tz=jke+"?",rz="["+xke+"]?",Cke="(?:"+wke+"(?:"+[ZU,QU,ez].join("|")+")"+rz+tz+")*",Nke=rz+tz+Cke,Ske="(?:"+[ZU+dk+"?",dk,QU,ez,vke].join("|")+")",Ake=RegExp(fk+"(?="+fk+")|"+Ske+Nke,"g");function kke(t){return t.match(Ake)||[]}var Ike=kke,Tke=hke,Dke=JU,Eke=Ike;function Pke(t){return Dke(t)?Eke(t):Tke(t)}var Oke=Pke,_ke=nke,$ke=JU,Rke=Oke,Mke=zU;function Lke(t){return function(e){e=Mke(e);var r=$ke(e)?Rke(e):void 0,n=r?r[0]:e.charAt(0),a=r?_ke(r,1).join(""):e.slice(1);return n[t]()+a}}var Fke=Lke,Bke=Fke,qke=Bke("toUpperCase"),Vke=qke;const cw=st(Vke);function jt(t){return function(){return t}}const nz=Math.cos,Jx=Math.sin,ja=Math.sqrt,Xx=Math.PI,uw=2*Xx,mk=Math.PI,hk=2*mk,yi=1e-6,Uke=hk-yi;function az(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function zke(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return az;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Wke{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?az:zke(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,i){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-r,d=i-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>yi)if(!(Math.abs(f*c-u*d)>yi)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-i,h=a-l,b=c*c+u*u,g=p*p+h*h,x=Math.sqrt(b),y=Math.sqrt(m),v=s*Math.tan((mk-Math.acos((b+m-g)/(2*x*y)))/2),N=v/y,C=v/x;Math.abs(N-1)>yi&&this._append`L${e+N*d},${r+N*f}`,this._append`A${s},${s},0,0,${+(f*p>d*h)},${this._x1=e+C*c},${this._y1=r+C*u}`}}arc(e,r,n,a,s,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>yi||Math.abs(this._y1-d)>yi)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%hk+hk),m>Uke?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>yi&&this._append`A${n},${n},0,${+(m>=mk)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function rE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Wke(e)}function nE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sz(t){this._context=t}sz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function dw(t){return new sz(t)}function oz(t){return t[0]}function iz(t){return t[1]}function lz(t,e){var r=jt(!0),n=null,a=dw,s=null,i=rE(l);t=typeof t=="function"?t:t===void 0?oz:jt(t),e=typeof e=="function"?e:e===void 0?iz:jt(e);function l(c){var u,d=(c=nE(c)).length,f,m=!1,p;for(n==null&&(s=a(p=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:jt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:jt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:jt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function lp(t,e,r){var n=null,a=jt(!0),s=null,i=dw,l=null,c=rE(u);t=typeof t=="function"?t:t===void 0?oz:jt(+t),e=typeof e=="function"?e:jt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?iz:jt(+r);function u(f){var m,p,h,b=(f=nE(f)).length,g,x=!1,y,v=new Array(b),N=new Array(b);for(s==null&&(l=i(y=c())),m=0;m<=b;++m){if(!(m<b&&a(g=f[m],m,f))===x)if(x=!x)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=m-1;h>=p;--h)l.point(v[h],N[h]);l.lineEnd(),l.areaEnd()}x&&(v[m]=+t(g,m,f),N[m]=+e(g,m,f),l.point(n?+n(g,m,f):v[m],r?+r(g,m,f):N[m]))}if(y)return l=null,y+""||null}function d(){return lz().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:jt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:jt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:jt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:jt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:jt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:jt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:jt(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class cz{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Hke(t){return new cz(t,!0)}function Gke(t){return new cz(t,!1)}const aE={draw(t,e){const r=ja(e/Xx);t.moveTo(r,0),t.arc(0,0,r,0,uw)}},Yke={draw(t,e){const r=ja(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},uz=ja(1/3),Kke=uz*2,Jke={draw(t,e){const r=ja(e/Kke),n=r*uz;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Xke={draw(t,e){const r=ja(e),n=-r/2;t.rect(n,n,r,r)}},Zke=.8908130915292852,dz=Jx(Xx/10)/Jx(7*Xx/10),Qke=Jx(uw/10)*dz,eIe=-nz(uw/10)*dz,tIe={draw(t,e){const r=ja(e*Zke),n=Qke*r,a=eIe*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const i=uw*s/5,l=nz(i),c=Jx(i);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},_C=ja(3),rIe={draw(t,e){const r=-ja(e/(_C*3));t.moveTo(0,r*2),t.lineTo(-_C*r,-r),t.lineTo(_C*r,-r),t.closePath()}},Mn=-.5,Ln=ja(3)/2,pk=1/ja(12),nIe=(pk/2+1)*3,aIe={draw(t,e){const r=ja(e/nIe),n=r/2,a=r*pk,s=n,i=r*pk+r,l=-s,c=i;t.moveTo(n,a),t.lineTo(s,i),t.lineTo(l,c),t.lineTo(Mn*n-Ln*a,Ln*n+Mn*a),t.lineTo(Mn*s-Ln*i,Ln*s+Mn*i),t.lineTo(Mn*l-Ln*c,Ln*l+Mn*c),t.lineTo(Mn*n+Ln*a,Mn*a-Ln*n),t.lineTo(Mn*s+Ln*i,Mn*i-Ln*s),t.lineTo(Mn*l+Ln*c,Mn*c-Ln*l),t.closePath()}};function sIe(t,e){let r=null,n=rE(a);t=typeof t=="function"?t:jt(t||aE),e=typeof e=="function"?e:jt(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:jt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:jt(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Zx(){}function Qx(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function fz(t){this._context=t}fz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oIe(t){return new fz(t)}function mz(t){this._context=t}mz.prototype={areaStart:Zx,areaEnd:Zx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iIe(t){return new mz(t)}function hz(t){this._context=t}hz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lIe(t){return new hz(t)}function pz(t){this._context=t}pz.prototype={areaStart:Zx,areaEnd:Zx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cIe(t){return new pz(t)}function kR(t){return t<0?-1:1}function IR(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),i=(r-t._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(kR(s)+kR(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function TR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function $C(t,e,r){var n=t._x0,a=t._y0,s=t._x1,i=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*r,s,i)}function ev(t){this._context=t}ev.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$C(this,this._t0,TR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$C(this,TR(this,r=IR(this,t,e)),r);break;default:$C(this,this._t0,r=IR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function gz(t){this._context=new yz(t)}(gz.prototype=Object.create(ev.prototype)).point=function(t,e){ev.prototype.point.call(this,e,t)};function yz(t){this._context=t}yz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function uIe(t){return new ev(t)}function dIe(t){return new gz(t)}function bz(t){this._context=t}bz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=DR(t),a=DR(e),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[i],e[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function DR(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,i[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[r-1]=i[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function fIe(t){return new bz(t)}function fw(t,e){this._context=t,this._t=e}fw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function mIe(t){return new fw(t,.5)}function hIe(t){return new fw(t,0)}function pIe(t){return new fw(t,1)}function Uc(t,e){if((i=t.length)>1)for(var r=1,n,a,s=t[e[0]],i,l=s.length;r<i;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function gk(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function gIe(t,e){return t[e]}function yIe(t){const e=[];return e.key=t,e}function bIe(){var t=jt([]),e=gk,r=Uc,n=gIe;function a(s){var i=Array.from(t.apply(this,arguments),yIe),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=nE(e(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:jt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:jt(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?gk:typeof s=="function"?s:jt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Uc,a):r},a}function xIe(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=t[r][a][1]||0;if(i)for(r=0;r<n;++r)t[r][a][1]/=i}Uc(t,e)}}function vIe(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=t[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Uc(t,e)}}function jIe(t,e){if(!(!((i=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,p=(f-m)/2,h=0;h<l;++h){var b=t[e[h]],g=b[n][1]||0,x=b[n-1][1]||0;p+=g-x}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Uc(t,e)}}function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}var wIe=["type","size","sizeType"];function yk(){return yk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yk.apply(this,arguments)}function ER(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(r),!0).forEach(function(n){CIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CIe(t,e,r){return e=NIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NIe(t){var e=SIe(t,"string");return tm(e)=="symbol"?e:e+""}function SIe(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AIe(t,e){if(t==null)return{};var r=kIe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var xz={symbolCircle:aE,symbolCross:Yke,symbolDiamond:Jke,symbolSquare:Xke,symbolStar:tIe,symbolTriangle:rIe,symbolWye:aIe},IIe=Math.PI/180,TIe=function(e){var r="symbol".concat(cw(e));return xz[r]||aE},DIe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*IIe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},EIe=function(e,r){xz["symbol".concat(cw(e))]=r},sE=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,i=e.sizeType,l=i===void 0?"area":i,c=AIe(e,wIe),u=PR(PR({},c),{},{type:n,size:s,sizeType:l}),d=function(){var g=TIe(n),x=sIe().type(g).size(DIe(s,l,n));return x()},f=u.className,m=u.cx,p=u.cy,h=Ue(u,!0);return m===+m&&p===+p&&s===+s?U.createElement("path",yk({},h,{className:_e("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};sE.registerSymbol=EIe;function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function bk(){return bk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bk.apply(this,arguments)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){rm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jz(n.key),n)}}function $Ie(t,e,r){return e&&_Ie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RIe(t,e,r){return e=tv(e),MIe(t,vz()?Reflect.construct(e,r||[],tv(t).constructor):e.apply(t,r))}function MIe(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LIe(t)}function LIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vz=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tv(t)}function FIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xk(t,e)}function xk(t,e){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xk(t,e)}function rm(t,e,r){return e=jz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jz(t){var e=BIe(t,"string");return zc(e)=="symbol"?e:e+""}function BIe(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ra=32,oE=function(t){function e(){return OIe(this,e),RIe(this,e,arguments)}return FIe(e,t),$Ie(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=ra/2,i=ra/6,l=ra/3,c=n.inactive?a:n.color;if(n.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:ra,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(ra,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return U.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ra/8,"h").concat(ra,"v").concat(ra*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(U.isValidElement(n.legendIcon)){var u=PIe({},n);return delete u.legendIcon,U.cloneElement(n.legendIcon,u)}return U.createElement(sE,{fill:c,cx:s,cy:s,size:ra,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ra,height:ra},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,h){var b=p.formatter||c,g=_e(rm(rm({"recharts-legend-item":!0},"legend-item-".concat(h),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=ze(p.value)?null:p.value;js(!ze(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return U.createElement("li",bk({className:g,style:f,key:"legend-item-".concat(h)},lw(n.props,p,h)),U.createElement(ck,{width:i,height:i,viewBox:d,style:m},n.renderIcon(p)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b?b(x,p,h):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);rm(oE,"displayName","Legend");rm(oE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qIe=Yj;function VIe(){this.__data__=new qIe,this.size=0}var UIe=VIe;function zIe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var WIe=zIe;function HIe(t){return this.__data__.get(t)}var GIe=HIe;function YIe(t){return this.__data__.has(t)}var KIe=YIe,JIe=Yj,XIe=GD,ZIe=YD,QIe=200;function eTe(t,e){var r=this.__data__;if(r instanceof JIe){var n=r.__data__;if(!XIe||n.length<QIe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ZIe(n)}return r.set(t,e),this.size=r.size,this}var tTe=eTe,rTe=Yj,nTe=UIe,aTe=WIe,sTe=GIe,oTe=KIe,iTe=tTe;function ku(t){var e=this.__data__=new rTe(t);this.size=e.size}ku.prototype.clear=nTe;ku.prototype.delete=aTe;ku.prototype.get=sTe;ku.prototype.has=oTe;ku.prototype.set=iTe;var wz=ku,lTe="__lodash_hash_undefined__";function cTe(t){return this.__data__.set(t,lTe),this}var uTe=cTe;function dTe(t){return this.__data__.has(t)}var fTe=dTe,mTe=YD,hTe=uTe,pTe=fTe;function rv(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new mTe;++e<r;)this.add(t[e])}rv.prototype.add=rv.prototype.push=hTe;rv.prototype.has=pTe;var Cz=rv;function gTe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Nz=gTe;function yTe(t,e){return t.has(e)}var Sz=yTe,bTe=Cz,xTe=Nz,vTe=Sz,jTe=1,wTe=2;function CTe(t,e,r,n,a,s){var i=r&jTe,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,p=r&wTe?new bTe:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var h=t[f],b=e[f];if(n)var g=i?n(b,h,f,e,t,s):n(h,b,f,t,e,s);if(g!==void 0){if(g)continue;m=!1;break}if(p){if(!xTe(e,function(x,y){if(!vTe(p,y)&&(h===x||a(h,x,r,n,s)))return p.push(y)})){m=!1;break}}else if(!(h===b||a(h,b,r,n,s))){m=!1;break}}return s.delete(t),s.delete(e),m}var Az=CTe,NTe=Ya,STe=NTe.Uint8Array,ATe=STe;function kTe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var ITe=kTe;function TTe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var iE=TTe,_R=lh,$R=ATe,DTe=HD,ETe=Az,PTe=ITe,OTe=iE,_Te=1,$Te=2,RTe="[object Boolean]",MTe="[object Date]",LTe="[object Error]",FTe="[object Map]",BTe="[object Number]",qTe="[object RegExp]",VTe="[object Set]",UTe="[object String]",zTe="[object Symbol]",WTe="[object ArrayBuffer]",HTe="[object DataView]",RR=_R?_R.prototype:void 0,RC=RR?RR.valueOf:void 0;function GTe(t,e,r,n,a,s,i){switch(r){case HTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case WTe:return!(t.byteLength!=e.byteLength||!s(new $R(t),new $R(e)));case RTe:case MTe:case BTe:return DTe(+t,+e);case LTe:return t.name==e.name&&t.message==e.message;case qTe:case UTe:return t==e+"";case FTe:var l=PTe;case VTe:var c=n&_Te;if(l||(l=OTe),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;n|=$Te,i.set(t,e);var d=ETe(l(t),l(e),n,a,s,i);return i.delete(t),d;case zTe:if(RC)return RC.call(t)==RC.call(e)}return!1}var YTe=GTe;function KTe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var kz=KTe,JTe=kz,XTe=mn;function ZTe(t,e,r){var n=e(t);return XTe(t)?n:JTe(n,r(t))}var QTe=ZTe;function eDe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}var tDe=eDe;function rDe(){return[]}var nDe=rDe,aDe=tDe,sDe=nDe,oDe=Object.prototype,iDe=oDe.propertyIsEnumerable,MR=Object.getOwnPropertySymbols,lDe=MR?function(t){return t==null?[]:(t=Object(t),aDe(MR(t),function(e){return iDe.call(t,e)}))}:sDe,cDe=lDe;function uDe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var dDe=uDe,fDe=Bs,mDe=qs,hDe="[object Arguments]";function pDe(t){return mDe(t)&&fDe(t)==hDe}var gDe=pDe,LR=gDe,yDe=qs,Iz=Object.prototype,bDe=Iz.hasOwnProperty,xDe=Iz.propertyIsEnumerable,vDe=LR(function(){return arguments}())?LR:function(t){return yDe(t)&&bDe.call(t,"callee")&&!xDe.call(t,"callee")},lE=vDe,nv={exports:{}};function jDe(){return!1}var wDe=jDe;nv.exports;(function(t,e){var r=Ya,n=wDe,a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(nv,nv.exports);var Tz=nv.exports,CDe=9007199254740991,NDe=/^(?:0|[1-9]\d*)$/;function SDe(t,e){var r=typeof t;return e=e??CDe,!!e&&(r=="number"||r!="symbol"&&NDe.test(t))&&t>-1&&t%1==0&&t<e}var cE=SDe,ADe=9007199254740991;function kDe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ADe}var uE=kDe,IDe=Bs,TDe=uE,DDe=qs,EDe="[object Arguments]",PDe="[object Array]",ODe="[object Boolean]",_De="[object Date]",$De="[object Error]",RDe="[object Function]",MDe="[object Map]",LDe="[object Number]",FDe="[object Object]",BDe="[object RegExp]",qDe="[object Set]",VDe="[object String]",UDe="[object WeakMap]",zDe="[object ArrayBuffer]",WDe="[object DataView]",HDe="[object Float32Array]",GDe="[object Float64Array]",YDe="[object Int8Array]",KDe="[object Int16Array]",JDe="[object Int32Array]",XDe="[object Uint8Array]",ZDe="[object Uint8ClampedArray]",QDe="[object Uint16Array]",eEe="[object Uint32Array]",kt={};kt[HDe]=kt[GDe]=kt[YDe]=kt[KDe]=kt[JDe]=kt[XDe]=kt[ZDe]=kt[QDe]=kt[eEe]=!0;kt[EDe]=kt[PDe]=kt[zDe]=kt[ODe]=kt[WDe]=kt[_De]=kt[$De]=kt[RDe]=kt[MDe]=kt[LDe]=kt[FDe]=kt[BDe]=kt[qDe]=kt[VDe]=kt[UDe]=!1;function tEe(t){return DDe(t)&&TDe(t.length)&&!!kt[IDe(t)]}var rEe=tEe;function nEe(t){return function(e){return t(e)}}var Dz=nEe,av={exports:{}};av.exports;(function(t,e){var r=LU,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=l})(av,av.exports);var aEe=av.exports,sEe=rEe,oEe=Dz,FR=aEe,BR=FR&&FR.isTypedArray,iEe=BR?oEe(BR):sEe,Ez=iEe,lEe=dDe,cEe=lE,uEe=mn,dEe=Tz,fEe=cE,mEe=Ez,hEe=Object.prototype,pEe=hEe.hasOwnProperty;function gEe(t,e){var r=uEe(t),n=!r&&cEe(t),a=!r&&!n&&dEe(t),s=!r&&!n&&!a&&mEe(t),i=r||n||a||s,l=i?lEe(t.length,String):[],c=l.length;for(var u in t)(e||pEe.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||fEe(u,c)))&&l.push(u);return l}var yEe=gEe,bEe=Object.prototype;function xEe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||bEe;return t===r}var vEe=xEe;function jEe(t,e){return function(r){return t(e(r))}}var Pz=jEe,wEe=Pz,CEe=wEe(Object.keys,Object),NEe=CEe,SEe=vEe,AEe=NEe,kEe=Object.prototype,IEe=kEe.hasOwnProperty;function TEe(t){if(!SEe(t))return AEe(t);var e=[];for(var r in Object(t))IEe.call(t,r)&&r!="constructor"&&e.push(r);return e}var DEe=TEe,EEe=WD,PEe=uE;function OEe(t){return t!=null&&PEe(t.length)&&!EEe(t)}var mw=OEe,_Ee=yEe,$Ee=DEe,REe=mw;function MEe(t){return REe(t)?_Ee(t):$Ee(t)}var dE=MEe,LEe=QTe,FEe=cDe,BEe=dE;function qEe(t){return LEe(t,BEe,FEe)}var VEe=qEe,qR=VEe,UEe=1,zEe=Object.prototype,WEe=zEe.hasOwnProperty;function HEe(t,e,r,n,a,s){var i=r&UEe,l=qR(t),c=l.length,u=qR(e),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var m=l[f];if(!(i?m in e:WEe.call(e,m)))return!1}var p=s.get(t),h=s.get(e);if(p&&h)return p==e&&h==t;var b=!0;s.set(t,e),s.set(e,t);for(var g=i;++f<c;){m=l[f];var x=t[m],y=e[m];if(n)var v=i?n(y,x,m,e,t,s):n(x,y,m,t,e,s);if(!(v===void 0?x===y||a(x,y,r,n,s):v)){b=!1;break}g||(g=m=="constructor")}if(b&&!g){var N=t.constructor,C=e.constructor;N!=C&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof C=="function"&&C instanceof C)&&(b=!1)}return s.delete(t),s.delete(e),b}var GEe=HEe,YEe=wl,KEe=Ya,JEe=YEe(KEe,"DataView"),XEe=JEe,ZEe=wl,QEe=Ya,e2e=ZEe(QEe,"Promise"),t2e=e2e,r2e=wl,n2e=Ya,a2e=r2e(n2e,"Set"),Oz=a2e,s2e=wl,o2e=Ya,i2e=s2e(o2e,"WeakMap"),l2e=i2e,vk=XEe,jk=GD,wk=t2e,Ck=Oz,Nk=l2e,_z=Bs,Iu=BU,VR="[object Map]",c2e="[object Object]",UR="[object Promise]",zR="[object Set]",WR="[object WeakMap]",HR="[object DataView]",u2e=Iu(vk),d2e=Iu(jk),f2e=Iu(wk),m2e=Iu(Ck),h2e=Iu(Nk),bi=_z;(vk&&bi(new vk(new ArrayBuffer(1)))!=HR||jk&&bi(new jk)!=VR||wk&&bi(wk.resolve())!=UR||Ck&&bi(new Ck)!=zR||Nk&&bi(new Nk)!=WR)&&(bi=function(t){var e=_z(t),r=e==c2e?t.constructor:void 0,n=r?Iu(r):"";if(n)switch(n){case u2e:return HR;case d2e:return VR;case f2e:return UR;case m2e:return zR;case h2e:return WR}return e});var p2e=bi,MC=wz,g2e=Az,y2e=YTe,b2e=GEe,GR=p2e,YR=mn,KR=Tz,x2e=Ez,v2e=1,JR="[object Arguments]",XR="[object Array]",cp="[object Object]",j2e=Object.prototype,ZR=j2e.hasOwnProperty;function w2e(t,e,r,n,a,s){var i=YR(t),l=YR(e),c=i?XR:GR(t),u=l?XR:GR(e);c=c==JR?cp:c,u=u==JR?cp:u;var d=c==cp,f=u==cp,m=c==u;if(m&&KR(t)){if(!KR(e))return!1;i=!0,d=!1}if(m&&!d)return s||(s=new MC),i||x2e(t)?g2e(t,e,r,n,a,s):y2e(t,e,c,r,n,a,s);if(!(r&v2e)){var p=d&&ZR.call(t,"__wrapped__"),h=f&&ZR.call(e,"__wrapped__");if(p||h){var b=p?t.value():t,g=h?e.value():e;return s||(s=new MC),a(b,g,r,n,s)}}return m?(s||(s=new MC),b2e(t,e,r,n,a,s)):!1}var C2e=w2e,N2e=C2e,QR=qs;function $z(t,e,r,n,a){return t===e?!0:t==null||e==null||!QR(t)&&!QR(e)?t!==t&&e!==e:N2e(t,e,r,n,$z,a)}var fE=$z,S2e=wz,A2e=fE,k2e=1,I2e=2;function T2e(t,e,r,n){var a=r.length,s=a,i=!n;if(t==null)return!s;for(t=Object(t);a--;){var l=r[a];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){l=r[a];var c=l[0],u=t[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new S2e;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?A2e(d,u,k2e|I2e,n,f):m))return!1}}return!0}var D2e=T2e,E2e=Jo;function P2e(t){return t===t&&!E2e(t)}var Rz=P2e,O2e=Rz,_2e=dE;function $2e(t){for(var e=_2e(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,O2e(a)]}return e}var R2e=$2e;function M2e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Mz=M2e,L2e=D2e,F2e=R2e,B2e=Mz;function q2e(t){var e=F2e(t);return e.length==1&&e[0][2]?B2e(e[0][0],e[0][1]):function(r){return r===t||L2e(r,t,e)}}var V2e=q2e;function U2e(t,e){return t!=null&&e in Object(t)}var z2e=U2e,W2e=WU,H2e=lE,G2e=mn,Y2e=cE,K2e=uE,J2e=Jj;function X2e(t,e,r){e=W2e(e,t);for(var n=-1,a=e.length,s=!1;++n<a;){var i=J2e(e[n]);if(!(s=t!=null&&r(t,i)))break;t=t[i]}return s||++n!=a?s:(a=t==null?0:t.length,!!a&&K2e(a)&&Y2e(i,a)&&(G2e(t)||H2e(t)))}var Z2e=X2e,Q2e=z2e,ePe=Z2e;function tPe(t,e){return t!=null&&ePe(t,e,Q2e)}var rPe=tPe,nPe=fE,aPe=HU,sPe=rPe,oPe=zD,iPe=Rz,lPe=Mz,cPe=Jj,uPe=1,dPe=2;function fPe(t,e){return oPe(t)&&iPe(e)?lPe(cPe(t),e):function(r){var n=aPe(r,t);return n===void 0&&n===e?sPe(r,t):nPe(e,n,uPe|dPe)}}var mPe=fPe;function hPe(t){return t}var Tu=hPe;function pPe(t){return function(e){return e==null?void 0:e[t]}}var gPe=pPe,yPe=XD;function bPe(t){return function(e){return yPe(e,t)}}var xPe=bPe,vPe=gPe,jPe=xPe,wPe=zD,CPe=Jj;function NPe(t){return wPe(t)?vPe(CPe(t)):jPe(t)}var SPe=NPe,APe=V2e,kPe=mPe,IPe=Tu,TPe=mn,DPe=SPe;function EPe(t){return typeof t=="function"?t:t==null?IPe:typeof t=="object"?TPe(t)?kPe(t[0],t[1]):APe(t):DPe(t)}var Xo=EPe;function PPe(t,e,r,n){for(var a=t.length,s=r+(n?1:-1);n?s--:++s<a;)if(e(t[s],s,t))return s;return-1}var OPe=PPe;function _Pe(t){return t!==t}var $Pe=_Pe;function RPe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var MPe=RPe,LPe=OPe,FPe=$Pe,BPe=MPe;function qPe(t,e,r){return e===e?BPe(t,e,r):LPe(t,FPe,r)}var VPe=qPe,UPe=VPe;function zPe(t,e){var r=t==null?0:t.length;return!!r&&UPe(t,e,0)>-1}var WPe=zPe;function HPe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var GPe=HPe;function YPe(){}var KPe=YPe,LC=Oz,JPe=KPe,XPe=iE,ZPe=1/0,QPe=LC&&1/XPe(new LC([,-0]))[1]==ZPe?function(t){return new LC(t)}:JPe,eOe=QPe,tOe=Cz,rOe=WPe,nOe=GPe,aOe=Sz,sOe=eOe,oOe=iE,iOe=200;function lOe(t,e,r){var n=-1,a=rOe,s=t.length,i=!0,l=[],c=l;if(r)i=!1,a=nOe;else if(s>=iOe){var u=e?null:sOe(t);if(u)return oOe(u);i=!1,a=aOe,c=new tOe}else c=e?[]:l;e:for(;++n<s;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var cOe=lOe,uOe=Xo,dOe=cOe;function fOe(t,e){return t&&t.length?dOe(t,uOe(e)):[]}var mOe=fOe;const eM=st(mOe);function Lz(t,e,r){return e===!0?eM(t,r):ze(e)?eM(t,e):t}function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}var hOe=["ref"];function tM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(r),!0).forEach(function(n){hw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bz(n.key),n)}}function gOe(t,e,r){return e&&rM(t.prototype,e),r&&rM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yOe(t,e,r){return e=sv(e),bOe(t,Fz()?Reflect.construct(e,r||[],sv(t).constructor):e.apply(t,r))}function bOe(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xOe(t)}function xOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fz=function(){return!!t})()}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sv(t)}function vOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sk(t,e)}function Sk(t,e){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(t,e)}function hw(t,e,r){return e=Bz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bz(t){var e=jOe(t,"string");return Wc(e)=="symbol"?e:e+""}function jOe(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wOe(t,e){if(t==null)return{};var r=COe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function COe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NOe(t){return t.value}function SOe(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var r=wOe(e,hOe);return U.createElement(oE,r)}var nM=1,Va=function(t){function e(){var r;pOe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=yOe(this,e,[].concat(a)),hw(r,"lastBoundingBox",{width:-1,height:-1}),r}return vOe(e,t),gOe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>nM||Math.abs(a.height-this.lastBoundingBox.height)>nM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Za({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var h=this.getBBoxSnapshot();m={top:((d||0)-h.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Za(Za({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Za(Za({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},SOe(s,Za(Za({},this.props),{},{payload:Lz(d,u,NOe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Za(Za({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&ve(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);hw(Va,"displayName","Legend");hw(Va,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aM=lh,AOe=lE,kOe=mn,sM=aM?aM.isConcatSpreadable:void 0;function IOe(t){return kOe(t)||AOe(t)||!!(sM&&t&&t[sM])}var TOe=IOe,DOe=kz,EOe=TOe;function qz(t,e,r,n,a){var s=-1,i=t.length;for(r||(r=EOe),a||(a=[]);++s<i;){var l=t[s];e>0&&r(l)?e>1?qz(l,e-1,r,n,a):DOe(a,l):n||(a[a.length]=l)}return a}var Vz=qz;function POe(t){return function(e,r,n){for(var a=-1,s=Object(e),i=n(e),l=i.length;l--;){var c=i[t?l:++a];if(r(s[c],c,s)===!1)break}return e}}var OOe=POe,_Oe=OOe,$Oe=_Oe(),ROe=$Oe,MOe=ROe,LOe=dE;function FOe(t,e){return t&&MOe(t,e,LOe)}var Uz=FOe,BOe=mw;function qOe(t,e){return function(r,n){if(r==null)return r;if(!BOe(r))return t(r,n);for(var a=r.length,s=e?a:-1,i=Object(r);(e?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var VOe=qOe,UOe=Uz,zOe=VOe,WOe=zOe(UOe),mE=WOe,HOe=mE,GOe=mw;function YOe(t,e){var r=-1,n=GOe(t)?Array(t.length):[];return HOe(t,function(a,s,i){n[++r]=e(a,s,i)}),n}var zz=YOe;function KOe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var JOe=KOe,oM=wu;function XOe(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,s=oM(t),i=e!==void 0,l=e===null,c=e===e,u=oM(e);if(!l&&!u&&!s&&t>e||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&t<e||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var ZOe=XOe,QOe=ZOe;function e_e(t,e,r){for(var n=-1,a=t.criteria,s=e.criteria,i=a.length,l=r.length;++n<i;){var c=QOe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var t_e=e_e,FC=JD,r_e=XD,n_e=Xo,a_e=zz,s_e=JOe,o_e=Dz,i_e=t_e,l_e=Tu,c_e=mn;function u_e(t,e,r){e.length?e=FC(e,function(s){return c_e(s)?function(i){return r_e(i,s.length===1?s[0]:s)}:s}):e=[l_e];var n=-1;e=FC(e,o_e(n_e));var a=a_e(t,function(s,i,l){var c=FC(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return s_e(a,function(s,i){return i_e(s,i,r)})}var d_e=u_e;function f_e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var m_e=f_e,h_e=m_e,iM=Math.max;function p_e(t,e,r){return e=iM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,s=iM(n.length-e,0),i=Array(s);++a<s;)i[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(i),h_e(t,this,l)}}var g_e=p_e;function y_e(t){return function(){return t}}var b_e=y_e,x_e=wl,v_e=function(){try{var t=x_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Wz=v_e,j_e=b_e,lM=Wz,w_e=Tu,C_e=lM?function(t,e){return lM(t,"toString",{configurable:!0,enumerable:!1,value:j_e(e),writable:!0})}:w_e,N_e=C_e,S_e=800,A_e=16,k_e=Date.now;function I_e(t){var e=0,r=0;return function(){var n=k_e(),a=A_e-(n-r);if(r=n,a>0){if(++e>=S_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var T_e=I_e,D_e=N_e,E_e=T_e,P_e=E_e(D_e),O_e=P_e,__e=Tu,$_e=g_e,R_e=O_e;function M_e(t,e){return R_e($_e(t,e,__e),t+"")}var L_e=M_e,F_e=HD,B_e=mw,q_e=cE,V_e=Jo;function U_e(t,e,r){if(!V_e(r))return!1;var n=typeof e;return(n=="number"?B_e(r)&&q_e(e,r.length):n=="string"&&e in r)?F_e(r[e],t):!1}var pw=U_e,z_e=Vz,W_e=d_e,H_e=L_e,cM=pw,G_e=H_e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&cM(t,e[0],e[1])?e=[]:r>2&&cM(e[0],e[1],e[2])&&(e=[e[0]]),W_e(t,z_e(e,1),[])}),Y_e=G_e;const hE=st(Y_e);function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function Ak(){return Ak=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ak.apply(this,arguments)}function K_e(t,e){return Q_e(t)||Z_e(t,e)||X_e(t,e)||J_e()}function J_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X_e(t,e){if(t){if(typeof t=="string")return uM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uM(t,e)}}function uM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Q_e(t){if(Array.isArray(t))return t}function dM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(r),!0).forEach(function(n){e$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e$e(t,e,r){return e=t$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t$e(t){var e=r$e(t,"string");return nm(e)=="symbol"?e:e+""}function r$e(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n$e(t){return Array.isArray(t)&&dr(t[0])&&dr(t[1])?t.join(" ~ "):t}var a$e=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,i=e.itemStyle,l=i===void 0?{}:i,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,p=e.wrapperClassName,h=e.labelClassName,b=e.label,g=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,v=function(){if(d&&d.length){var P={padding:0,margin:0},M=(m?hE(d,m):d).map(function($,R){if($.type==="none")return null;var F=BC({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),z=$.formatter||f||n$e,O=$.value,_=$.name,B=O,Y=_;if(z&&B!=null&&Y!=null){var H=z(O,_,$,R,d);if(Array.isArray(H)){var te=K_e(H,2);B=te[0],Y=te[1]}else B=H}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:F},dr(Y)?U.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,dr(Y)?U.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,U.createElement("span",{className:"recharts-tooltip-item-value"},B),U.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:P},M)}return null},N=BC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=BC({margin:0},u),j=!Ke(b),S=j?b:"",k=_e("recharts-default-tooltip",p),T=_e("recharts-tooltip-label",h);j&&g&&d!==void 0&&d!==null&&(S=g(b,d));var A=y?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",Ak({className:k,style:N},A),U.createElement("p",{className:T,style:C},U.isValidElement(S)?S:"".concat(S)),v())};function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function up(t,e,r){return e=s$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s$e(t){var e=o$e(t,"string");return am(e)=="symbol"?e:e+""}function o$e(t,e){if(am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sd="recharts-tooltip-wrapper",i$e={visibility:"hidden"};function l$e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return _e(sd,up(up(up(up({},"".concat(sd,"-right"),ve(r)&&e&&ve(e.x)&&r>=e.x),"".concat(sd,"-left"),ve(r)&&e&&ve(e.x)&&r<e.x),"".concat(sd,"-bottom"),ve(n)&&e&&ve(e.y)&&n>=e.y),"".concat(sd,"-top"),ve(n)&&e&&ve(e.y)&&n<e.y))}function fM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,i=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&ve(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return i[n]?d:f;if(i[n]){var m=d,p=c[n];return m<p?Math.max(f,c[n]):Math.max(d,c[n])}var h=f+l,b=c[n]+u;return h>b?Math.max(d,c[n]):Math.max(f,c[n])}function c$e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function u$e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,i=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=fM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=fM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=c$e({translateX:d,translateY:f,useTranslate3d:l})):u=i$e,{cssProperties:u,cssClasses:l$e({translateX:d,translateY:f,coordinate:r})}}function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function mM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(r),!0).forEach(function(n){Ik(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gz(n.key),n)}}function m$e(t,e,r){return e&&f$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h$e(t,e,r){return e=ov(e),p$e(t,Hz()?Reflect.construct(e,r||[],ov(t).constructor):e.apply(t,r))}function p$e(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g$e(t)}function g$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hz=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ov(t)}function y$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kk(t,e)}function kk(t,e){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kk(t,e)}function Ik(t,e,r){return e=Gz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gz(t){var e=b$e(t,"string");return Hc(e)=="symbol"?e:e+""}function b$e(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pM=1,x$e=function(t){function e(){var r;d$e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=h$e(this,e,[].concat(a)),Ik(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ik(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return y$e(e,t),m$e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>pM||Math.abs(n.height-this.state.lastBoundingBox.height)>pM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,p=a.offset,h=a.position,b=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,v=u$e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:p,position:h,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:x}),N=v.cssClasses,C=v.cssProperties,j=hM(hM({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return U.createElement("div",{tabIndex:-1,className:N,style:j,ref:function(k){n.wrapperNode=k}},u)}}])}(w.PureComponent),v$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gw={isSsr:v$e()};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function gM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(r),!0).forEach(function(n){pE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kz(n.key),n)}}function C$e(t,e,r){return e&&w$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N$e(t,e,r){return e=iv(e),S$e(t,Yz()?Reflect.construct(e,r||[],iv(t).constructor):e.apply(t,r))}function S$e(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A$e(t)}function A$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yz=function(){return!!t})()}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iv(t)}function k$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tk(t,e)}function Tk(t,e){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tk(t,e)}function pE(t,e,r){return e=Kz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kz(t){var e=I$e(t,"string");return Gc(e)=="symbol"?e:e+""}function I$e(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function T$e(t){return t.dataKey}function D$e(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(a$e,e)}var rs=function(t){function e(){return j$e(this,e),N$e(this,e,arguments)}return k$e(e,t),C$e(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,p=a.offset,h=a.payload,b=a.payloadUniqBy,g=a.position,x=a.reverseDirection,y=a.useTranslate3d,v=a.viewBox,N=a.wrapperStyle,C=h??[];f&&C.length&&(C=Lz(h.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),b,T$e));var j=C.length>0;return U.createElement(x$e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:j,offset:p,position:g,reverseDirection:x,useTranslate3d:y,viewBox:v,wrapperStyle:N},D$e(u,yM(yM({},this.props),{},{payload:C})))}}])}(w.PureComponent);pE(rs,"displayName","Tooltip");pE(rs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var E$e=Ya,P$e=function(){return E$e.Date.now()},O$e=P$e,_$e=/\s/;function $$e(t){for(var e=t.length;e--&&_$e.test(t.charAt(e)););return e}var R$e=$$e,M$e=R$e,L$e=/^\s+/;function F$e(t){return t&&t.slice(0,M$e(t)+1).replace(L$e,"")}var B$e=F$e,q$e=B$e,bM=Jo,V$e=wu,xM=NaN,U$e=/^[-+]0x[0-9a-f]+$/i,z$e=/^0b[01]+$/i,W$e=/^0o[0-7]+$/i,H$e=parseInt;function G$e(t){if(typeof t=="number")return t;if(V$e(t))return xM;if(bM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=bM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=q$e(t);var r=z$e.test(t);return r||W$e.test(t)?H$e(t.slice(2),r?2:8):U$e.test(t)?xM:+t}var Jz=G$e,Y$e=Jo,qC=O$e,vM=Jz,K$e="Expected a function",J$e=Math.max,X$e=Math.min;function Z$e(t,e,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(K$e);e=vM(e)||0,Y$e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?J$e(vM(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function p(j){var S=n,k=a;return n=a=void 0,u=j,i=t.apply(k,S),i}function h(j){return u=j,l=setTimeout(x,e),d?p(j):i}function b(j){var S=j-c,k=j-u,T=e-S;return f?X$e(T,s-k):T}function g(j){var S=j-c,k=j-u;return c===void 0||S>=e||S<0||f&&k>=s}function x(){var j=qC();if(g(j))return y(j);l=setTimeout(x,b(j))}function y(j){return l=void 0,m&&n?p(j):(n=a=void 0,i)}function v(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function N(){return l===void 0?i:y(qC())}function C(){var j=qC(),S=g(j);if(n=arguments,a=this,c=j,S){if(l===void 0)return h(c);if(f)return clearTimeout(l),l=setTimeout(x,e),p(c)}return l===void 0&&(l=setTimeout(x,e)),i}return C.cancel=v,C.flush=N,C}var Q$e=Z$e,eRe=Q$e,tRe=Jo,rRe="Expected a function";function nRe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(rRe);return tRe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),eRe(t,e,{leading:n,maxWait:e,trailing:a})}var aRe=nRe;const Xz=st(aRe);function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function jM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(r),!0).forEach(function(n){sRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sRe(t,e,r){return e=oRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oRe(t){var e=iRe(t,"string");return sm(e)=="symbol"?e:e+""}function iRe(t,e){if(sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lRe(t,e){return fRe(t)||dRe(t,e)||uRe(t,e)||cRe()}function cRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uRe(t,e){if(t){if(typeof t=="string")return wM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wM(t,e)}}function wM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function fRe(t){if(Array.isArray(t))return t}var yw=w.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,i=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,p=t.children,h=t.debounce,b=h===void 0?0:h,g=t.id,x=t.className,y=t.onResize,v=t.style,N=v===void 0?{}:v,C=w.useRef(null),j=w.useRef();j.current=y,w.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var S=w.useState({containerWidth:a.width,containerHeight:a.height}),k=lRe(S,2),T=k[0],A=k[1],D=w.useCallback(function(M,$){A(function(R){var F=Math.round(M),z=Math.round($);return R.containerWidth===F&&R.containerHeight===z?R:{containerWidth:F,containerHeight:z}})},[]);w.useEffect(function(){var M=function(_){var B,Y=_[0].contentRect,H=Y.width,te=Y.height;D(H,te),(B=j.current)===null||B===void 0||B.call(j,H,te)};b>0&&(M=Xz(M,b,{trailing:!0,leading:!1}));var $=new ResizeObserver(M),R=C.current.getBoundingClientRect(),F=R.width,z=R.height;return D(F,z),$.observe(C.current),function(){$.disconnect()}},[D,b]);var P=w.useMemo(function(){var M=T.containerWidth,$=T.containerHeight;if(M<0||$<0)return null;js(Ti(i)||Ti(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),js(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=Ti(i)?M:i,F=Ti(c)?$:c;r&&r>0&&(R?F=R/r:F&&(R=F*r),m&&F>m&&(F=m)),js(R>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,F,i,c,d,f,r);var z=!Array.isArray(p)&&vs(p.type).endsWith("Chart");return U.Children.map(p,function(O){return U.isValidElement(O)?w.cloneElement(O,dp({width:R,height:F},z?{style:dp({height:"100%",width:"100%",maxHeight:F,maxWidth:R},O.props.style)}:{})):O})},[r,p,c,m,f,d,T,i]);return U.createElement("div",{id:g?"".concat(g):void 0,className:_e("recharts-responsive-container",x),style:dp(dp({},N),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:C},P)}),Du=function(e){return null};Du.displayName="Cell";function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function CM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(r),!0).forEach(function(n){mRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mRe(t,e,r){return e=hRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hRe(t){var e=pRe(t,"string");return om(e)=="symbol"?e:e+""}function pRe(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $l={widthCache:{},cacheCount:0},gRe=2e3,yRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NM="recharts_measurement_span";function bRe(t){var e=Dk({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var SM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gw.isSsr)return{width:0,height:0};var n=bRe(r),a=JSON.stringify({text:e,copyStyle:n});if($l.widthCache[a])return $l.widthCache[a];try{var s=document.getElementById(NM);s||(s=document.createElement("span"),s.setAttribute("id",NM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=Dk(Dk({},yRe),n);Object.assign(s.style,i),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return $l.widthCache[a]=c,++$l.cacheCount>gRe&&($l.cacheCount=0,$l.widthCache={}),c}catch{return{width:0,height:0}}},xRe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function lv(t,e){return CRe(t)||wRe(t,e)||jRe(t,e)||vRe()}function vRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jRe(t,e){if(t){if(typeof t=="string")return AM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AM(t,e)}}function AM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function CRe(t){if(Array.isArray(t))return t}function NRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ARe(n.key),n)}}function SRe(t,e,r){return e&&kM(t.prototype,e),r&&kM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ARe(t){var e=kRe(t,"string");return im(e)=="symbol"?e:e+""}function kRe(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DRe=Object.keys(Zz),Xl="NaN";function ERe(t,e){return t*Zz[e]}var fp=function(){function t(e,r){NRe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!IRe.test(r)&&(this.num=NaN,this.unit=""),DRe.includes(r)&&(this.num=ERe(e,r),this.unit="px")}return SRe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=TRe.exec(r))!==null&&n!==void 0?n:[],s=lv(a,3),i=s[1],l=s[2];return new t(parseFloat(i),l??"")}}])}();function Qz(t){if(t.includes(Xl))return Xl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=IM.exec(e))!==null&&r!==void 0?r:[],a=lv(n,4),s=a[1],i=a[2],l=a[3],c=fp.parse(s??""),u=fp.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Xl;e=e.replace(IM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=TM.exec(e))!==null&&f!==void 0?f:[],p=lv(m,4),h=p[1],b=p[2],g=p[3],x=fp.parse(h??""),y=fp.parse(g??""),v=b==="+"?x.add(y):x.subtract(y);if(v.isNaN())return Xl;e=e.replace(TM,v.toString())}return e}var DM=/\(([^()]*)\)/;function PRe(t){for(var e=t;e.includes("(");){var r=DM.exec(e),n=lv(r,2),a=n[1];e=e.replace(DM,Qz(a))}return e}function ORe(t){var e=t.replace(/\s+/g,"");return e=PRe(e),e=Qz(e),e}function _Re(t){try{return ORe(t)}catch{return Xl}}function VC(t){var e=_Re(t.slice(5,-1));return e===Xl?"":e}var $Re=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],RRe=["dx","dy","angle","className","breakAll"];function Ek(){return Ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ek.apply(this,arguments)}function EM(t,e){if(t==null)return{};var r=MRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PM(t,e){return qRe(t)||BRe(t,e)||FRe(t,e)||LRe()}function LRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FRe(t,e){if(t){if(typeof t=="string")return OM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OM(t,e)}}function OM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function qRe(t){if(Array.isArray(t))return t}var e7=/[ \f\n\r\t\v\u2028\u2029]+/,t7=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Ke(r)||(n?s=r.toString().split(""):s=r.toString().split(e7));var i=s.map(function(c){return{word:c,width:SM(c,a).width}}),l=n?0:SM("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},VRe=function(e,r,n,a,s){var i=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ve(i),f=l,m=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(F,z){var O=z.word,_=z.width,B=F[F.length-1];if(B&&(a==null||s||B.width+_+n<Number(a)))B.words.push(O),B.width+=_+n;else{var Y={words:[O],width:_};F.push(Y)}return F},[])},p=m(r),h=function(R){return R.reduce(function(F,z){return F.width>z.width?F:z})};if(!d)return p;for(var b="",g=function(R){var F=f.slice(0,R),z=t7({breakAll:u,style:c,children:F+b}).wordsWithComputedWidth,O=m(z),_=O.length>i||h(O).width>Number(a);return[_,O]},x=0,y=f.length-1,v=0,N;x<=y&&v<=f.length-1;){var C=Math.floor((x+y)/2),j=C-1,S=g(j),k=PM(S,2),T=k[0],A=k[1],D=g(C),P=PM(D,1),M=P[0];if(!T&&!M&&(x=C+1),T&&M&&(y=C-1),!T&&M){N=A;break}v++}return N||p},_M=function(e){var r=Ke(e)?[]:e.toString().split(e7);return[{words:r}]},URe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,i=e.breakAll,l=e.maxLines;if((r||n)&&!gw.isSsr){var c,u,d=t7({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return _M(a);return VRe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return _M(a)},$M="#808080",Yc=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.lineHeight,l=i===void 0?"1em":i,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,p=m===void 0?"start":m,h=e.verticalAnchor,b=h===void 0?"end":h,g=e.fill,x=g===void 0?$M:g,y=EM(e,$Re),v=w.useMemo(function(){return URe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),N=y.dx,C=y.dy,j=y.angle,S=y.className,k=y.breakAll,T=EM(y,RRe);if(!dr(n)||!dr(s))return null;var A=n+(ve(N)?N:0),D=s+(ve(C)?C:0),P;switch(b){case"start":P=VC("calc(".concat(u,")"));break;case"middle":P=VC("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=VC("calc(".concat(v.length-1," * -").concat(l,")"));break}var M=[];if(f){var $=v[0].width,R=y.width;M.push("scale(".concat((ve(R)?R/$:1)/$,")"))}return j&&M.push("rotate(".concat(j,", ").concat(A,", ").concat(D,")")),M.length&&(T.transform=M.join(" ")),U.createElement("text",Ek({},Ue(T,!0),{x:A,y:D,className:_e("recharts-text",S),textAnchor:p,fill:x.includes("url")?$M:x}),v.map(function(F,z){var O=F.words.join(k?"":" ");return U.createElement("tspan",{x:A,dy:z===0?P:l,key:"".concat(O,"-").concat(z)},O)}))};function To(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zRe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gE(t){let e,r,n;t.length!==2?(e=To,r=(l,c)=>To(t(l),c),n=(l,c)=>t(l)-c):(e=t===To||t===zRe?t:WRe,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function WRe(){return 0}function r7(t){return t===null?NaN:+t}function*HRe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const GRe=gE(To),dh=GRe.right;gE(r7).center;class RM extends Map{constructor(e,r=JRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(MM(this,e))}has(e){return super.has(MM(this,e))}set(e,r){return super.set(YRe(this,e),r)}delete(e){return super.delete(KRe(this,e))}}function MM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function YRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function KRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function JRe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function XRe(t=To){if(t===To)return n7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function n7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ZRe=Math.sqrt(50),QRe=Math.sqrt(10),eMe=Math.sqrt(2);function cv(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=ZRe?10:s>=QRe?5:s>=eMe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?cv(t,e,r*2):[l,c,u]}function Pk(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,i]=n?cv(e,t,r):cv(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function Ok(t,e,r){return e=+e,t=+t,r=+r,cv(t,e,r)[2]}function _k(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Ok(e,t,r):Ok(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function LM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function a7(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?n7:XRe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/c+m)),h=Math.min(n,Math.floor(e+(c-u)*f/c+m));a7(t,e,p,h,a)}const s=t[e];let i=r,l=n;for(od(t,r,e),a(t[n],s)>0&&od(t,r,n);i<l;){for(od(t,i,l),++i,--l;a(t[i],s)<0;)++i;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?od(t,r,l):(++l,od(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function od(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function tMe(t,e,r){if(t=Float64Array.from(HRe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return FM(t);if(e>=1)return LM(t);var n,a=(n-1)*e,s=Math.floor(a),i=LM(a7(t,s).subarray(0,s+1)),l=FM(t.subarray(s+1));return i+(l-i)*(a-s)}}function rMe(t,e,r=r7){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),i=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return i+(l-i)*(a-s)}}function nMe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function Zn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $k=Symbol("implicit");function yE(){var t=new RM,e=[],r=[],n=$k;function a(s){let i=t.get(s);if(i===void 0){if(n!==$k)return n;t.set(s,i=e.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new RM;for(const i of s)t.has(i)||t.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return yE(e,r).unknown(n)},Zn.apply(a,arguments),a}function lm(){var t=yE().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,p=a<n,h=p?a:n,b=p?n:a;s=(b-h)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),h+=(b-h-s*(m-c))*d,i=s*(1-c),l&&(h=Math.round(h),i=Math.round(i));var g=nMe(m).map(function(x){return h+s*x});return r(p?g.reverse():g)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return i},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return lm(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Zn.apply(f(),arguments)}function s7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return s7(e())},t}function cf(){return s7(lm.apply(null,arguments).paddingInner(1))}function bE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function o7(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function fh(){}var cm=.7,uv=1/cm,Sc="\\s*([+-]?\\d+)\\s*",um="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aMe=/^#([0-9a-f]{3,8})$/,sMe=new RegExp(`^rgb\\(${Sc},${Sc},${Sc}\\)$`),oMe=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),iMe=new RegExp(`^rgba\\(${Sc},${Sc},${Sc},${um}\\)$`),lMe=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${um}\\)$`),cMe=new RegExp(`^hsl\\(${um},${Ua},${Ua}\\)$`),uMe=new RegExp(`^hsla\\(${um},${Ua},${Ua},${um}\\)$`),BM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bE(fh,dm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qM,formatHex:qM,formatHex8:dMe,formatHsl:fMe,formatRgb:VM,toString:VM});function qM(){return this.rgb().formatHex()}function dMe(){return this.rgb().formatHex8()}function fMe(){return i7(this).formatHsl()}function VM(){return this.rgb().formatRgb()}function dm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=aMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?UM(e):r===3?new rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?mp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?mp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sMe.exec(t))?new rn(e[1],e[2],e[3],1):(e=oMe.exec(t))?new rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iMe.exec(t))?mp(e[1],e[2],e[3],e[4]):(e=lMe.exec(t))?mp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=cMe.exec(t))?HM(e[1],e[2]/100,e[3]/100,1):(e=uMe.exec(t))?HM(e[1],e[2]/100,e[3]/100,e[4]):BM.hasOwnProperty(t)?UM(BM[t]):t==="transparent"?new rn(NaN,NaN,NaN,0):null}function UM(t){return new rn(t>>16&255,t>>8&255,t&255,1)}function mp(t,e,r,n){return n<=0&&(t=e=r=NaN),new rn(t,e,r,n)}function mMe(t){return t instanceof fh||(t=dm(t)),t?(t=t.rgb(),new rn(t.r,t.g,t.b,t.opacity)):new rn}function Rk(t,e,r,n){return arguments.length===1?mMe(t):new rn(t,e,r,n??1)}function rn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}bE(rn,Rk,o7(fh,{brighter(t){return t=t==null?uv:Math.pow(uv,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?cm:Math.pow(cm,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rn(Gi(this.r),Gi(this.g),Gi(this.b),dv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zM,formatHex:zM,formatHex8:hMe,formatRgb:WM,toString:WM}));function zM(){return`#${Di(this.r)}${Di(this.g)}${Di(this.b)}`}function hMe(){return`#${Di(this.r)}${Di(this.g)}${Di(this.b)}${Di((isNaN(this.opacity)?1:this.opacity)*255)}`}function WM(){const t=dv(this.opacity);return`${t===1?"rgb(":"rgba("}${Gi(this.r)}, ${Gi(this.g)}, ${Gi(this.b)}${t===1?")":`, ${t})`}`}function dv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Di(t){return t=Gi(t),(t<16?"0":"")+t.toString(16)}function HM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new la(t,e,r,n)}function i7(t){if(t instanceof la)return new la(t.h,t.s,t.l,t.opacity);if(t instanceof fh||(t=dm(t)),!t)return new la;if(t instanceof la)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-e)/l+2:i=(e-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new la(i,l,c,t.opacity)}function pMe(t,e,r,n){return arguments.length===1?i7(t):new la(t,e,r,n??1)}function la(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}bE(la,pMe,o7(fh,{brighter(t){return t=t==null?uv:Math.pow(uv,t),new la(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?cm:Math.pow(cm,t),new la(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new rn(UC(t>=240?t-240:t+120,a,n),UC(t,a,n),UC(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new la(GM(this.h),hp(this.s),hp(this.l),dv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=dv(this.opacity);return`${t===1?"hsl(":"hsla("}${GM(this.h)}, ${hp(this.s)*100}%, ${hp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GM(t){return t=(t||0)%360,t<0?t+360:t}function hp(t){return Math.max(0,Math.min(1,t||0))}function UC(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const xE=t=>()=>t;function gMe(t,e){return function(r){return t+r*e}}function yMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function bMe(t){return(t=+t)==1?l7:function(e,r){return r-e?yMe(e,r,t):xE(isNaN(e)?r:e)}}function l7(t,e){var r=e-t;return r?gMe(t,r):xE(isNaN(t)?e:t)}const YM=function t(e){var r=bMe(e);function n(a,s){var i=r((a=Rk(a)).r,(s=Rk(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=l7(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function xMe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function vMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Eu(t[i],e[i]);for(;i<r;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function wMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function fv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function CMe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Eu(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Mk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zC=new RegExp(Mk.source,"g");function NMe(t){return function(){return t}}function SMe(t){return function(e){return t(e)+""}}function AMe(t,e){var r=Mk.lastIndex=zC.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(t=t+"",e=e+"";(n=Mk.exec(t))&&(a=zC.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:fv(n,a)})),r=zC.lastIndex;return r<e.length&&(s=e.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?SMe(c[0].x):NMe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Eu(t,e){var r=typeof e,n;return e==null||r==="boolean"?xE(e):(r==="number"?fv:r==="string"?(n=dm(e))?(e=n,YM):AMe:e instanceof dm?YM:e instanceof Date?wMe:vMe(e)?xMe:Array.isArray(e)?jMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?CMe:fv)(t,e)}function vE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function kMe(t,e){e===void 0&&(e=t,t=Eu);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function IMe(t){return function(){return t}}function mv(t){return+t}var KM=[0,1];function Vr(t){return t}function Lk(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:IMe(isNaN(e)?NaN:.5)}function TMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function DMe(t,e,r){var n=t[0],a=t[1],s=e[0],i=e[1];return a<n?(n=Lk(a,n),s=r(i,s)):(n=Lk(n,a),s=r(s,i)),function(l){return s(n(l))}}function EMe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=Lk(t[i],t[i+1]),s[i]=r(e[i],e[i+1]);return function(l){var c=dh(t,l,1,n)-1;return s[c](a[c](l))}}function mh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bw(){var t=KM,e=KM,r=Eu,n,a,s,i=Vr,l,c,u;function d(){var m=Math.min(t.length,e.length);return i!==Vr&&(i=TMe(t[0],t[m-1])),l=m>2?EMe:DMe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(n),e,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=l(e,t.map(n),fv)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,mv),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=vE,d()},f.clamp=function(m){return arguments.length?(i=m?!0:Vr,d()):i!==Vr},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,p){return n=m,a=p,d()}}function jE(){return bw()(Vr,Vr)}function PMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Kc(t){return t=hv(Math.abs(t)),t?t[1]:NaN}function OMe(t,e){return function(r,n){for(var a=r.length,s=[],i=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[i=(i+1)%t.length];return s.reverse().join(e)}}function _Me(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var $Me=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fm(t){if(!(e=$Me.exec(t)))throw new Error("invalid format: "+t);var e;return new wE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fm.prototype=wE.prototype;function wE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function RMe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var c7;function MMe(t,e){var r=hv(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(c7=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+hv(t,Math.max(0,e+s-1))[0]}function JM(t,e){var r=hv(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const XM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:PMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>JM(t*100,e),r:JM,s:MMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZM(t){return t}var QM=Array.prototype.map,eL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function LMe(t){var e=t.grouping===void 0||t.thousands===void 0?ZM:OMe(QM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?ZM:_Me(QM.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=fm(f);var m=f.fill,p=f.align,h=f.sign,b=f.symbol,g=f.zero,x=f.width,y=f.comma,v=f.precision,N=f.trim,C=f.type;C==="n"?(y=!0,C="g"):XM[C]||(v===void 0&&(v=12),N=!0,C="g"),(g||m==="0"&&p==="=")&&(g=!0,m="0",p="=");var j=b==="$"?r:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",S=b==="$"?n:/[%p]/.test(C)?i:"",k=XM[C],T=/[defgprs%]/.test(C);v=v===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function A(D){var P=j,M=S,$,R,F;if(C==="c")M=k(D)+M,D="";else{D=+D;var z=D<0||1/D<0;if(D=isNaN(D)?c:k(Math.abs(D),v),N&&(D=RMe(D)),z&&+D==0&&h!=="+"&&(z=!1),P=(z?h==="("?h:l:h==="-"||h==="("?"":h)+P,M=(C==="s"?eL[8+c7/3]:"")+M+(z&&h==="("?")":""),T){for($=-1,R=D.length;++$<R;)if(F=D.charCodeAt($),48>F||F>57){M=(F===46?a+D.slice($+1):D.slice($))+M,D=D.slice(0,$);break}}}y&&!g&&(D=e(D,1/0));var O=P.length+D.length+M.length,_=O<x?new Array(x-O+1).join(m):"";switch(y&&g&&(D=e(_+D,_.length?x-M.length:1/0),_=""),p){case"<":D=P+D+M+_;break;case"=":D=P+_+D+M;break;case"^":D=_.slice(0,O=_.length>>1)+P+D+M+_.slice(O);break;default:D=_+P+D+M;break}return s(D)}return A.toString=function(){return f+""},A}function d(f,m){var p=u((f=fm(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(Kc(m)/3)))*3,b=Math.pow(10,-h),g=eL[8+h/3];return function(x){return p(b*x)+g}}return{format:u,formatPrefix:d}}var pp,CE,u7;FMe({thousands:",",grouping:[3],currency:["$",""]});function FMe(t){return pp=LMe(t),CE=pp.format,u7=pp.formatPrefix,pp}function BMe(t){return Math.max(0,-Kc(Math.abs(t)))}function qMe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kc(e)/3)))*3-Kc(Math.abs(t)))}function VMe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Kc(e)-Kc(t))+1}function d7(t,e,r,n){var a=_k(t,e,r),s;switch(n=fm(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=qMe(a,i))&&(n.precision=s),u7(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=VMe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=BMe(a))&&(n.precision=s-(n.type==="%")*2);break}}return CE(n)}function Zo(t){var e=t.domain;return t.ticks=function(r){var n=e();return Pk(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return d7(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Ok(i,l,r),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function pv(){var t=jE();return t.copy=function(){return mh(t,pv())},Zn.apply(t,arguments),Zo(t)}function f7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,mv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return f7(t).unknown(e)},t=arguments.length?Array.from(t,mv):[0,1],Zo(r)}function m7(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),t[r]=e.floor(a),t[n]=e.ceil(s),t}function tL(t){return Math.log(t)}function rL(t){return Math.exp(t)}function UMe(t){return-Math.log(-t)}function zMe(t){return-Math.exp(-t)}function WMe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function HMe(t){return t===10?WMe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function GMe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nL(t){return(e,r)=>-t(-e,r)}function NE(t){const e=t(tL,rL),r=e.domain;let n=10,a,s;function i(){return a=GMe(n),s=HMe(n),r()[0]<0?(a=nL(a),s=nL(s),t(UMe,zMe)):t(tL,rL),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(r(l),i()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),p=a(d),h,b;const g=l==null?10:+l;let x=[];if(!(n%1)&&p-m<g){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(h=1;h<n;++h)if(b=m<0?h/s(-m):h*s(m),!(b<u)){if(b>d)break;x.push(b)}}else for(;m<=p;++m)for(h=n-1;h>=1;--h)if(b=m>0?h/s(-m):h*s(m),!(b<u)){if(b>d)break;x.push(b)}x.length*2<g&&(x=Pk(u,d,g))}else x=Pk(m,p,Math.min(p-m,g)).map(s);return f?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=fm(c)).precision==null&&(c.trim=!0),c=CE(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(m7(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function h7(){const t=NE(bw()).domain([1,10]);return t.copy=()=>mh(t,h7()).base(t.base()),Zn.apply(t,arguments),t}function aL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function SE(t){var e=1,r=t(aL(e),sL(e));return r.constant=function(n){return arguments.length?t(aL(e=+n),sL(e)):e},Zo(r)}function p7(){var t=SE(bw());return t.copy=function(){return mh(t,p7()).constant(t.constant())},Zn.apply(t,arguments)}function oL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function YMe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function KMe(t){return t<0?-t*t:t*t}function AE(t){var e=t(Vr,Vr),r=1;function n(){return r===1?t(Vr,Vr):r===.5?t(YMe,KMe):t(oL(r),oL(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Zo(e)}function kE(){var t=AE(bw());return t.copy=function(){return mh(t,kE()).exponent(t.exponent())},Zn.apply(t,arguments),t}function JMe(){return kE.apply(null,arguments).exponent(.5)}function iL(t){return Math.sign(t)*t*t}function XMe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function g7(){var t=jE(),e=[0,1],r=!1,n;function a(s){var i=XMe(t(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return t.invert(iL(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,mv)).map(iL)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return g7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Zn.apply(a,arguments),Zo(a)}function y7(){var t=[],e=[],r=[],n;function a(){var i=0,l=Math.max(1,e.length);for(r=new Array(l-1);++i<l;)r[i-1]=rMe(t,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[dh(r,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(To),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return y7().domain(t).range(e).unknown(n)},Zn.apply(s,arguments)}function b7(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[dh(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return i}return i.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return b7().domain([t,e]).range(a).unknown(s)},Zn.apply(Zo(i),arguments)}function x7(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[dh(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[t[i-1],t[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return x7().domain(t).range(e).unknown(r)},Zn.apply(a,arguments)}const WC=new Date,HC=new Date;function fr(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<i);return c},a.filter=s=>fr(i=>{if(i>=i)for(;t(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),r&&(a.count=(s,i)=>(WC.setTime(+s),HC.setTime(+i),t(WC),t(HC),Math.floor(r(WC,HC))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const gv=fr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):gv);gv.range;const ms=1e3,Wn=ms*60,hs=Wn*60,Ps=hs*24,IE=Ps*7,lL=Ps*30,GC=Ps*365,Ei=fr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getUTCSeconds());Ei.range;const TE=fr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ms)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getMinutes());TE.range;const DE=fr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getUTCMinutes());DE.range;const EE=fr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ms-t.getMinutes()*Wn)},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getHours());EE.range;const PE=fr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getUTCHours());PE.range;const hh=fr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wn)/Ps,t=>t.getDate()-1);hh.range;const xw=fr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ps,t=>t.getUTCDate()-1);xw.range;const v7=fr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ps,t=>Math.floor(t/Ps));v7.range;function Cl(t){return fr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Wn)/IE)}const vw=Cl(0),yv=Cl(1),ZMe=Cl(2),QMe=Cl(3),Jc=Cl(4),eLe=Cl(5),tLe=Cl(6);vw.range;yv.range;ZMe.range;QMe.range;Jc.range;eLe.range;tLe.range;function Nl(t){return fr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/IE)}const jw=Nl(0),bv=Nl(1),rLe=Nl(2),nLe=Nl(3),Xc=Nl(4),aLe=Nl(5),sLe=Nl(6);jw.range;bv.range;rLe.range;nLe.range;Xc.range;aLe.range;sLe.range;const OE=fr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());OE.range;const _E=fr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_E.range;const Os=fr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Os.range;const _s=fr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});_s.range;function j7(t,e,r,n,a,s){const i=[[Ei,1,ms],[Ei,5,5*ms],[Ei,15,15*ms],[Ei,30,30*ms],[s,1,Wn],[s,5,5*Wn],[s,15,15*Wn],[s,30,30*Wn],[a,1,hs],[a,3,3*hs],[a,6,6*hs],[a,12,12*hs],[n,1,Ps],[n,2,2*Ps],[r,1,IE],[e,1,lL],[e,3,3*lL],[t,1,GC]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),h=p?p.range(u,+d+1):[];return m?h.reverse():h}function c(u,d,f){const m=Math.abs(d-u)/f,p=gE(([,,g])=>g).right(i,m);if(p===i.length)return t.every(_k(u/GC,d/GC,f));if(p===0)return gv.every(Math.max(_k(u,d,f),1));const[h,b]=i[m/i[p-1][2]<i[p][2]/m?p-1:p];return h.every(b)}return[l,c]}const[oLe,iLe]=j7(_s,_E,jw,v7,PE,DE),[lLe,cLe]=j7(Os,OE,vw,hh,EE,TE);function YC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function KC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function id(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function uLe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,i=t.shortDays,l=t.months,c=t.shortMonths,u=ld(a),d=cd(a),f=ld(s),m=cd(s),p=ld(i),h=cd(i),b=ld(l),g=cd(l),x=ld(c),y=cd(c),v={a:z,A:O,b:_,B,c:null,d:hL,e:hL,f:OLe,g:ULe,G:WLe,H:DLe,I:ELe,j:PLe,L:w7,m:_Le,M:$Le,p:Y,q:H,Q:yL,s:bL,S:RLe,u:MLe,U:LLe,V:FLe,w:BLe,W:qLe,x:null,X:null,y:VLe,Y:zLe,Z:HLe,"%":gL},N={a:te,A:fe,b:ke,B:ae,c:null,d:pL,e:pL,f:JLe,g:oFe,G:lFe,H:GLe,I:YLe,j:KLe,L:N7,m:XLe,M:ZLe,p:X,q:ue,Q:yL,s:bL,S:QLe,u:eFe,U:tFe,V:rFe,w:nFe,W:aFe,x:null,X:null,y:sFe,Y:iFe,Z:cFe,"%":gL},C={a:A,A:D,b:P,B:M,c:$,d:fL,e:fL,f:ALe,g:dL,G:uL,H:mL,I:mL,j:wLe,L:SLe,m:jLe,M:CLe,p:T,q:vLe,Q:ILe,s:TLe,S:NLe,u:pLe,U:gLe,V:yLe,w:hLe,W:bLe,x:R,X:F,y:dL,Y:uL,Z:xLe,"%":kLe};v.x=j(r,v),v.X=j(n,v),v.c=j(e,v),N.x=j(r,N),N.X=j(n,N),N.c=j(e,N);function j(Q,re){return function(K){var W=[],me=-1,je=0,Te=Q.length,Ve,qe,Lr;for(K instanceof Date||(K=new Date(+K));++me<Te;)Q.charCodeAt(me)===37&&(W.push(Q.slice(je,me)),(qe=cL[Ve=Q.charAt(++me)])!=null?Ve=Q.charAt(++me):qe=Ve==="e"?" ":"0",(Lr=re[Ve])&&(Ve=Lr(K,qe)),W.push(Ve),je=me+1);return W.push(Q.slice(je,me)),W.join("")}}function S(Q,re){return function(K){var W=id(1900,void 0,1),me=k(W,Q,K+="",0),je,Te;if(me!=K.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(re&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(je=KC(id(W.y,0,1)),Te=je.getUTCDay(),je=Te>4||Te===0?bv.ceil(je):bv(je),je=xw.offset(je,(W.V-1)*7),W.y=je.getUTCFullYear(),W.m=je.getUTCMonth(),W.d=je.getUTCDate()+(W.w+6)%7):(je=YC(id(W.y,0,1)),Te=je.getDay(),je=Te>4||Te===0?yv.ceil(je):yv(je),je=hh.offset(je,(W.V-1)*7),W.y=je.getFullYear(),W.m=je.getMonth(),W.d=je.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Te="Z"in W?KC(id(W.y,0,1)).getUTCDay():YC(id(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Te+5)%7:W.w+W.U*7-(Te+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,KC(W)):YC(W)}}function k(Q,re,K,W){for(var me=0,je=re.length,Te=K.length,Ve,qe;me<je;){if(W>=Te)return-1;if(Ve=re.charCodeAt(me++),Ve===37){if(Ve=re.charAt(me++),qe=C[Ve in cL?re.charAt(me++):Ve],!qe||(W=qe(Q,K,W))<0)return-1}else if(Ve!=K.charCodeAt(W++))return-1}return W}function T(Q,re,K){var W=u.exec(re.slice(K));return W?(Q.p=d.get(W[0].toLowerCase()),K+W[0].length):-1}function A(Q,re,K){var W=p.exec(re.slice(K));return W?(Q.w=h.get(W[0].toLowerCase()),K+W[0].length):-1}function D(Q,re,K){var W=f.exec(re.slice(K));return W?(Q.w=m.get(W[0].toLowerCase()),K+W[0].length):-1}function P(Q,re,K){var W=x.exec(re.slice(K));return W?(Q.m=y.get(W[0].toLowerCase()),K+W[0].length):-1}function M(Q,re,K){var W=b.exec(re.slice(K));return W?(Q.m=g.get(W[0].toLowerCase()),K+W[0].length):-1}function $(Q,re,K){return k(Q,e,re,K)}function R(Q,re,K){return k(Q,r,re,K)}function F(Q,re,K){return k(Q,n,re,K)}function z(Q){return i[Q.getDay()]}function O(Q){return s[Q.getDay()]}function _(Q){return c[Q.getMonth()]}function B(Q){return l[Q.getMonth()]}function Y(Q){return a[+(Q.getHours()>=12)]}function H(Q){return 1+~~(Q.getMonth()/3)}function te(Q){return i[Q.getUTCDay()]}function fe(Q){return s[Q.getUTCDay()]}function ke(Q){return c[Q.getUTCMonth()]}function ae(Q){return l[Q.getUTCMonth()]}function X(Q){return a[+(Q.getUTCHours()>=12)]}function ue(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var re=j(Q+="",v);return re.toString=function(){return Q},re},parse:function(Q){var re=S(Q+="",!1);return re.toString=function(){return Q},re},utcFormat:function(Q){var re=j(Q+="",N);return re.toString=function(){return Q},re},utcParse:function(Q){var re=S(Q+="",!0);return re.toString=function(){return Q},re}}}var cL={"-":"",_:" ",0:"0"},vr=/^\s*\d+/,dLe=/^%/,fLe=/[\\^$*+?|[\]().{}]/g;function tt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function mLe(t){return t.replace(fLe,"\\$&")}function ld(t){return new RegExp("^(?:"+t.map(mLe).join("|")+")","i")}function cd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function hLe(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function pLe(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function gLe(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function yLe(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function bLe(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function uL(t,e,r){var n=vr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function dL(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xLe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function vLe(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function jLe(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function fL(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function wLe(t,e,r){var n=vr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function mL(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function CLe(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function NLe(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function SLe(t,e,r){var n=vr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function ALe(t,e,r){var n=vr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function kLe(t,e,r){var n=dLe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function ILe(t,e,r){var n=vr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function TLe(t,e,r){var n=vr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function hL(t,e){return tt(t.getDate(),e,2)}function DLe(t,e){return tt(t.getHours(),e,2)}function ELe(t,e){return tt(t.getHours()%12||12,e,2)}function PLe(t,e){return tt(1+hh.count(Os(t),t),e,3)}function w7(t,e){return tt(t.getMilliseconds(),e,3)}function OLe(t,e){return w7(t,e)+"000"}function _Le(t,e){return tt(t.getMonth()+1,e,2)}function $Le(t,e){return tt(t.getMinutes(),e,2)}function RLe(t,e){return tt(t.getSeconds(),e,2)}function MLe(t){var e=t.getDay();return e===0?7:e}function LLe(t,e){return tt(vw.count(Os(t)-1,t),e,2)}function C7(t){var e=t.getDay();return e>=4||e===0?Jc(t):Jc.ceil(t)}function FLe(t,e){return t=C7(t),tt(Jc.count(Os(t),t)+(Os(t).getDay()===4),e,2)}function BLe(t){return t.getDay()}function qLe(t,e){return tt(yv.count(Os(t)-1,t),e,2)}function VLe(t,e){return tt(t.getFullYear()%100,e,2)}function ULe(t,e){return t=C7(t),tt(t.getFullYear()%100,e,2)}function zLe(t,e){return tt(t.getFullYear()%1e4,e,4)}function WLe(t,e){var r=t.getDay();return t=r>=4||r===0?Jc(t):Jc.ceil(t),tt(t.getFullYear()%1e4,e,4)}function HLe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tt(e/60|0,"0",2)+tt(e%60,"0",2)}function pL(t,e){return tt(t.getUTCDate(),e,2)}function GLe(t,e){return tt(t.getUTCHours(),e,2)}function YLe(t,e){return tt(t.getUTCHours()%12||12,e,2)}function KLe(t,e){return tt(1+xw.count(_s(t),t),e,3)}function N7(t,e){return tt(t.getUTCMilliseconds(),e,3)}function JLe(t,e){return N7(t,e)+"000"}function XLe(t,e){return tt(t.getUTCMonth()+1,e,2)}function ZLe(t,e){return tt(t.getUTCMinutes(),e,2)}function QLe(t,e){return tt(t.getUTCSeconds(),e,2)}function eFe(t){var e=t.getUTCDay();return e===0?7:e}function tFe(t,e){return tt(jw.count(_s(t)-1,t),e,2)}function S7(t){var e=t.getUTCDay();return e>=4||e===0?Xc(t):Xc.ceil(t)}function rFe(t,e){return t=S7(t),tt(Xc.count(_s(t),t)+(_s(t).getUTCDay()===4),e,2)}function nFe(t){return t.getUTCDay()}function aFe(t,e){return tt(bv.count(_s(t)-1,t),e,2)}function sFe(t,e){return tt(t.getUTCFullYear()%100,e,2)}function oFe(t,e){return t=S7(t),tt(t.getUTCFullYear()%100,e,2)}function iFe(t,e){return tt(t.getUTCFullYear()%1e4,e,4)}function lFe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Xc(t):Xc.ceil(t),tt(t.getUTCFullYear()%1e4,e,4)}function cFe(){return"+0000"}function gL(){return"%"}function yL(t){return+t}function bL(t){return Math.floor(+t/1e3)}var Rl,A7,k7;uFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uFe(t){return Rl=uLe(t),A7=Rl.format,Rl.parse,k7=Rl.utcFormat,Rl.utcParse,Rl}function dFe(t){return new Date(t)}function fFe(t){return t instanceof Date?+t:+new Date(+t)}function $E(t,e,r,n,a,s,i,l,c,u){var d=jE(),f=d.invert,m=d.domain,p=u(".%L"),h=u(":%S"),b=u("%I:%M"),g=u("%I %p"),x=u("%a %d"),y=u("%b %d"),v=u("%B"),N=u("%Y");function C(j){return(c(j)<j?p:l(j)<j?h:i(j)<j?b:s(j)<j?g:n(j)<j?a(j)<j?x:y:r(j)<j?v:N)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?m(Array.from(j,fFe)):m().map(dFe)},d.ticks=function(j){var S=m();return t(S[0],S[S.length-1],j??10)},d.tickFormat=function(j,S){return S==null?C:u(S)},d.nice=function(j){var S=m();return(!j||typeof j.range!="function")&&(j=e(S[0],S[S.length-1],j??10)),j?m(m7(S,j)):d},d.copy=function(){return mh(d,$E(t,e,r,n,a,s,i,l,c,u))},d}function mFe(){return Zn.apply($E(lLe,cLe,Os,OE,vw,hh,EE,TE,Ei,A7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hFe(){return Zn.apply($E(oLe,iLe,_s,_E,jw,xw,PE,DE,Ei,k7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ww(){var t=0,e=1,r,n,a,s,i=Vr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var p,h;return arguments.length?([p,h]=m,i=f(p,h),u):[i(0),i(1)]}}return u.range=d(Eu),u.rangeRound=d(vE),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function Qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function I7(){var t=Zo(ww()(Vr));return t.copy=function(){return Qo(t,I7())},Vs.apply(t,arguments)}function T7(){var t=NE(ww()).domain([1,10]);return t.copy=function(){return Qo(t,T7()).base(t.base())},Vs.apply(t,arguments)}function D7(){var t=SE(ww());return t.copy=function(){return Qo(t,D7()).constant(t.constant())},Vs.apply(t,arguments)}function RE(){var t=AE(ww());return t.copy=function(){return Qo(t,RE()).exponent(t.exponent())},Vs.apply(t,arguments)}function pFe(){return RE.apply(null,arguments).exponent(.5)}function E7(){var t=[],e=Vr;function r(n){if(n!=null&&!isNaN(n=+n))return e((dh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(To),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>tMe(t,s/n))},r.copy=function(){return E7(e).domain(t)},Vs.apply(r,arguments)}function Cw(){var t=0,e=.5,r=1,n=1,a,s,i,l,c,u=Vr,d,f=!1,m;function p(b){return isNaN(b=+b)?m:(b=.5+((b=+d(b))-s)*(n*b<n*s?l:c),u(f?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([t,e,r]=b,a=d(t=+t),s=d(e=+e),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p):[t,e,r]},p.clamp=function(b){return arguments.length?(f=!!b,p):f},p.interpolator=function(b){return arguments.length?(u=b,p):u};function h(b){return function(g){var x,y,v;return arguments.length?([x,y,v]=g,u=kMe(b,[x,y,v]),p):[u(0),u(.5),u(1)]}}return p.range=h(Eu),p.rangeRound=h(vE),p.unknown=function(b){return arguments.length?(m=b,p):m},function(b){return d=b,a=b(t),s=b(e),i=b(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function P7(){var t=Zo(Cw()(Vr));return t.copy=function(){return Qo(t,P7())},Vs.apply(t,arguments)}function O7(){var t=NE(Cw()).domain([.1,1,10]);return t.copy=function(){return Qo(t,O7()).base(t.base())},Vs.apply(t,arguments)}function _7(){var t=SE(Cw());return t.copy=function(){return Qo(t,_7()).constant(t.constant())},Vs.apply(t,arguments)}function ME(){var t=AE(Cw());return t.copy=function(){return Qo(t,ME()).exponent(t.exponent())},Vs.apply(t,arguments)}function gFe(){return ME.apply(null,arguments).exponent(.5)}const xL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lm,scaleDiverging:P7,scaleDivergingLog:O7,scaleDivergingPow:ME,scaleDivergingSqrt:gFe,scaleDivergingSymlog:_7,scaleIdentity:f7,scaleImplicit:$k,scaleLinear:pv,scaleLog:h7,scaleOrdinal:yE,scalePoint:cf,scalePow:kE,scaleQuantile:y7,scaleQuantize:b7,scaleRadial:g7,scaleSequential:I7,scaleSequentialLog:T7,scaleSequentialPow:RE,scaleSequentialQuantile:E7,scaleSequentialSqrt:pFe,scaleSequentialSymlog:D7,scaleSqrt:JMe,scaleSymlog:p7,scaleThreshold:x7,scaleTime:mFe,scaleUtc:hFe,tickFormat:d7},Symbol.toStringTag,{value:"Module"}));var yFe=wu;function bFe(t,e,r){for(var n=-1,a=t.length;++n<a;){var s=t[n],i=e(s);if(i!=null&&(l===void 0?i===i&&!yFe(i):r(i,l)))var l=i,c=s}return c}var Nw=bFe;function xFe(t,e){return t>e}var $7=xFe,vFe=Nw,jFe=$7,wFe=Tu;function CFe(t){return t&&t.length?vFe(t,wFe,jFe):void 0}var NFe=CFe;const Sw=st(NFe);function SFe(t,e){return t<e}var R7=SFe,AFe=Nw,kFe=R7,IFe=Tu;function TFe(t){return t&&t.length?AFe(t,IFe,kFe):void 0}var DFe=TFe;const Aw=st(DFe);var EFe=JD,PFe=Xo,OFe=zz,_Fe=mn;function $Fe(t,e){var r=_Fe(t)?EFe:OFe;return r(t,PFe(e))}var RFe=$Fe,MFe=Vz,LFe=RFe;function FFe(t,e){return MFe(LFe(t,e),1)}var BFe=FFe;const qFe=st(BFe);var VFe=fE;function UFe(t,e){return VFe(t,e)}var zFe=UFe;const LE=st(zFe);var Pu=1e9,WFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BE,Rt=!0,Jn="[DecimalError] ",Yi=Jn+"Invalid argument: ",FE=Jn+"Exponent out of range: ",Ou=Math.floor,xi=Math.pow,HFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn,hr=1e7,It=7,M7=9007199254740991,xv=Ou(M7/It),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*It;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(t){return ws(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,r=e.constructor;return yt(ws(e,new r(t),0,1),r.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return sr(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(bn))throw Error(Jn+"NaN");if(r.s<1)throw Error(Jn+(r.s?"NaN":"-Infinity"));return r.eq(bn)?new n(0):(Rt=!1,e=ws(mm(r,s),mm(t,s),s),Rt=!0,yt(e,a))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?B7(e,t):L7(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Jn+"NaN");return r.s?(Rt=!1,e=ws(r,t,0,1).times(t),Rt=!0,r.minus(e)):yt(new n(r),a)};Ce.naturalExponential=Ce.exp=function(){return F7(this)};Ce.naturalLogarithm=Ce.ln=function(){return mm(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?L7(e,t):B7(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Yi+t);if(e=sr(a)+1,n=a.d.length-1,r=n*It+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ce.squareRoot=Ce.sqrt=function(){var t,e,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Jn+"NaN")}for(t=sr(l),Rt=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Pa(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Ou((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(ws(l,s,i+2)).times(.5),Pa(s.d).slice(0,i)===(e=Pa(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(yt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Rt=!0,yt(n,r)};Ce.times=Ce.mul=function(t){var e,r,n,a,s,i,l,c,u,d=this,f=d.constructor,m=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=p.length,c<u&&(s=m,m=p,p=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+p[n]*m[a-n-1]+e,s[a--]=l%hr|0,e=l/hr|0;s[a]=(s[a]+e)%hr|0}for(;!s[--i];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Rt?yt(t,f.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Wa(t,0,Pu),e===void 0?e=n.rounding:Wa(e,0,8),yt(r,t+sr(r)+1,e))};Ce.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ul(n,!0):(Wa(t,0,Pu),e===void 0?e=a.rounding:Wa(e,0,8),n=yt(new a(n),t+1,e),r=ul(n,!0,t+1)),r};Ce.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?ul(a):(Wa(t,0,Pu),e===void 0?e=s.rounding:Wa(e,0,8),n=yt(new s(a),t+sr(a)+1,e),r=ul(n.abs(),!1,t+sr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return yt(new e(t),sr(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(bn);if(l=new c(l),!l.s){if(t.s<1)throw Error(Jn+"Infinity");return l}if(l.eq(bn))return l;if(n=c.precision,t.eq(bn))return yt(l,n);if(e=t.e,r=t.d.length-1,i=e>=r,s=l.s,i){if((r=d<0?-d:d)<=M7){for(a=new c(bn),e=Math.ceil(n/It+4),Rt=!1;r%2&&(a=a.times(l),jL(a.d,e)),r=Ou(r/2),r!==0;)l=l.times(l),jL(l.d,e);return Rt=!0,t.s<0?new c(bn).div(a):yt(a,n)}}else if(s<0)throw Error(Jn+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Rt=!1,a=t.times(mm(l,n+u)),Rt=!0,a=F7(a),a.s=s,a};Ce.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=sr(a),n=ul(a,r<=s.toExpNeg||r>=s.toExpPos)):(Wa(t,1,Pu),e===void 0?e=s.rounding:Wa(e,0,8),a=yt(new s(a),t,e),r=sr(a),n=ul(a,t<=r||r<=s.toExpNeg,t)),n};Ce.toSignificantDigits=Ce.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Wa(t,1,Pu),e===void 0?e=n.rounding:Wa(e,0,8)),yt(new n(r),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=sr(t),r=t.constructor;return ul(t,e<=r.toExpNeg||e>=r.toExpPos)};function L7(t,e){var r,n,a,s,i,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Rt?yt(e,f):e;if(c=t.d,u=e.d,i=t.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/It),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/hr|0,c[s]%=hr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Rt?yt(e,f):e}function Wa(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Yi+t)}function Pa(t){var e,r,n,a=t.length-1,s="",i=t[0];if(a>0){for(s+=i,e=1;e<a;e++)n=t[e]+"",r=It-n.length,r&&(s+=Qs(r)),s+=n;i=t[e],n=i+"",r=It-n.length,r&&(s+=Qs(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var ws=function(){function t(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%hr|0,i=s/hr|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*hr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,m,p,h,b,g,x,y,v,N,C,j,S,k,T=n.constructor,A=n.s==a.s?1:-1,D=n.d,P=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Jn+"Division by zero");for(c=n.e-a.e,S=P.length,C=D.length,p=new T(A),h=p.d=[],u=0;P[u]==(D[u]||0);)++u;if(P[u]>(D[u]||0)&&--c,s==null?y=s=T.precision:i?y=s+(sr(n)-sr(a))+1:y=s,y<0)return new T(0);if(y=y/It+2|0,u=0,S==1)for(d=0,P=P[0],y++;(u<C||d)&&y--;u++)v=d*hr+(D[u]||0),h[u]=v/P|0,d=v%P|0;else{for(d=hr/(P[0]+1)|0,d>1&&(P=t(P,d),D=t(D,d),S=P.length,C=D.length),N=S,b=D.slice(0,S),g=b.length;g<S;)b[g++]=0;k=P.slice(),k.unshift(0),j=P[0],P[1]>=hr/2&&++j;do d=0,l=e(P,b,S,g),l<0?(x=b[0],S!=g&&(x=x*hr+(b[1]||0)),d=x/j|0,d>1?(d>=hr&&(d=hr-1),f=t(P,d),m=f.length,g=b.length,l=e(f,b,m,g),l==1&&(d--,r(f,S<m?k:P,m))):(d==0&&(l=d=1),f=P.slice()),m=f.length,m<g&&f.unshift(0),r(b,f,g),l==-1&&(g=b.length,l=e(P,b,S,g),l<1&&(d++,r(b,S<g?k:P,g))),g=b.length):l===0&&(d++,b=[0]),h[u++]=d,l&&b[0]?b[g++]=D[N]||0:(b=[D[N]],g=1);while((N++<C||b[0]!==void 0)&&y--)}return h[0]||h.shift(),p.e=c,yt(p,i?s+sr(p)+1:s)}}();function F7(t,e){var r,n,a,s,i,l,c=0,u=0,d=t.constructor,f=d.precision;if(sr(t)>16)throw Error(FE+sr(t));if(!t.s)return new d(bn);for(Rt=!1,l=f,i=new d(.03125);t.abs().gte(.1);)t=t.times(i),u+=5;for(n=Math.log(xi(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(bn),d.precision=l;;){if(a=yt(a.times(t),l),r=r.times(++c),i=s.plus(ws(a,r,l)),Pa(i.d).slice(0,l)===Pa(s.d).slice(0,l)){for(;u--;)s=yt(s.times(s),l);return d.precision=f,e==null?(Rt=!0,yt(s,f)):s}s=i}}function sr(t){for(var e=t.e*It,r=t.d[0];r>=10;r/=10)e++;return e}function JC(t,e,r){if(e>t.LN10.sd())throw Rt=!0,r&&(t.precision=r),Error(Jn+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function Qs(t){for(var e="";t--;)e+="0";return e}function mm(t,e){var r,n,a,s,i,l,c,u,d,f=1,m=10,p=t,h=p.d,b=p.constructor,g=b.precision;if(p.s<1)throw Error(Jn+(p.s?"NaN":"-Infinity"));if(p.eq(bn))return new b(0);if(e==null?(Rt=!1,u=g):u=e,p.eq(10))return e==null&&(Rt=!0),JC(b,u);if(u+=m,b.precision=u,r=Pa(h),n=r.charAt(0),s=sr(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Pa(p.d),n=r.charAt(0),f++;s=sr(p),n>1?(p=new b("0."+r),s++):p=new b(n+"."+r.slice(1))}else return c=JC(b,u+2,g).times(s+""),p=mm(new b(n+"."+r.slice(1)),u-m).plus(c),b.precision=g,e==null?(Rt=!0,yt(p,g)):p;for(l=i=p=ws(p.minus(bn),p.plus(bn),u),d=yt(p.times(p),u),a=3;;){if(i=yt(i.times(d),u),c=l.plus(ws(i,new b(a),u)),Pa(c.d).slice(0,u)===Pa(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(JC(b,u+2,g).times(s+""))),l=ws(l,new b(f),u),b.precision=g,e==null?(Rt=!0,yt(l,g)):l;l=c,a+=2}}function vL(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Ou(r/It),t.d=[],n=(r+1)%It,r<0&&(n+=It),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=It;n<a;)t.d.push(+e.slice(n,n+=It));e=e.slice(n),n=It-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Rt&&(t.e>xv||t.e<-xv))throw Error(FE+r)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,r){var n,a,s,i,l,c,u,d,f=t.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=It,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/It),s=f.length,d>=s)return t;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=It,a=n-It+i}if(r!==void 0&&(s=xi(10,i-a-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/xi(10,i-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=sr(t),f.length=1,e=e-s-1,f[0]=xi(10,(It-e%It)%It),t.e=Ou(-e/It)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=xi(10,It-n),f[d]=a>0?(u/xi(10,i-a)%xi(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==hr&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=hr)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Rt&&(t.e>xv||t.e<-xv))throw Error(FE+sr(t));return t}function B7(t,e){var r,n,a,s,i,l,c,u,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Rt?yt(e,p):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/It),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=hr-1;--c[s],c[a]+=hr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Rt?yt(e,p):e):new m(0)}function ul(t,e,r){var n,a=sr(t),s=Pa(t.d),i=s.length;return e?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Qs(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Qs(-a-1)+s,r&&(n=r-i)>0&&(s+=Qs(n))):a>=i?(s+=Qs(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Qs(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Qs(n))),t.s<0?"-"+s:s}function jL(t,e){if(t.length>e)return t.length=e,!0}function q7(t){var e,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Yi+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return vL(i,s.toString())}else if(typeof s!="string")throw Error(Yi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,HFe.test(s))vL(i,s);else throw Error(Yi+s)}if(a.prototype=Ce,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=q7,a.config=a.set=GFe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function GFe(t){if(!t||typeof t!="object")throw Error(Jn+"Object expected");var e,r,n,a=["precision",1,Pu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Ou(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Yi+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Yi+r+": "+n);return this}var BE=q7(WFe);bn=new BE(1);const ht=BE;function YFe(t){return ZFe(t)||XFe(t)||JFe(t)||KFe()}function KFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JFe(t,e){if(t){if(typeof t=="string")return Fk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fk(t,e)}}function XFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ZFe(t){if(Array.isArray(t))return Fk(t)}function Fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var QFe=function(e){return e},V7={},U7=function(e){return e===V7},wL=function(e){return function r(){return arguments.length===0||arguments.length===1&&U7(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},e5e=function t(e,r){return e===1?r:wL(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==V7}).length;return i>=e?r.apply(void 0,a):t(e-i,wL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return U7(f)?c.shift():f});return r.apply(void 0,YFe(d).concat(c))}))})},kw=function(e){return e5e(e.length,e)},Bk=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},t5e=kw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),r5e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return QFe;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},qk=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},z7=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function n5e(t){var e;return t===0?e=1:e=Math.floor(new ht(t).abs().log(10).toNumber())+1,e}function a5e(t,e,r){for(var n=new ht(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var s5e=kw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),o5e=kw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),i5e=kw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Iw={rangeStep:a5e,getDigitCount:n5e,interpolateNumber:s5e,uninterpolateNumber:o5e,uninterpolateTruncation:i5e};function Vk(t){return u5e(t)||c5e(t)||W7(t)||l5e()}function l5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function u5e(t){if(Array.isArray(t))return Uk(t)}function hm(t,e){return m5e(t)||f5e(t,e)||W7(t,e)||d5e()}function d5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W7(t,e){if(t){if(typeof t=="string")return Uk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uk(t,e)}}function Uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=t[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function m5e(t){if(Array.isArray(t))return t}function H7(t){var e=hm(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function G7(t,e,r){if(t.lte(0))return new ht(0);var n=Iw.getDigitCount(t.toNumber()),a=new ht(10).pow(n),s=t.div(a),i=n!==1?.05:.1,l=new ht(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return e?c:new ht(Math.ceil(c))}function h5e(t,e,r){var n=1,a=new ht(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new ht(10).pow(Iw.getDigitCount(t)-1),a=new ht(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ht(Math.floor(t)))}else t===0?a=new ht(Math.floor((e-1)/2)):r||(a=new ht(Math.floor(t)));var i=Math.floor((e-1)/2),l=r5e(t5e(function(c){return a.add(new ht(c-i).mul(n)).toNumber()}),Bk);return l(0,e)}function Y7(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ht(0),tickMin:new ht(0),tickMax:new ht(0)};var s=G7(new ht(e).sub(t).div(r-1),n,a),i;t<=0&&e>=0?i=new ht(0):(i=new ht(t).add(e).div(2),i=i.sub(new ht(i).mod(s)));var l=Math.ceil(i.sub(t).div(s).toNumber()),c=Math.ceil(new ht(e).sub(i).div(s).toNumber()),u=l+c+1;return u>r?Y7(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:i.sub(new ht(l).mul(s)),tickMax:i.add(new ht(c).mul(s))})}function p5e(t){var e=hm(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=H7([r,n]),c=hm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Vk(Bk(0,a-1).map(function(){return 1/0}))):[].concat(Vk(Bk(0,a-1).map(function(){return-1/0})),[d]);return r>n?qk(f):f}if(u===d)return h5e(u,a,s);var m=Y7(u,d,i,s),p=m.step,h=m.tickMin,b=m.tickMax,g=Iw.rangeStep(h,b.add(new ht(.1).mul(p)),p);return r>n?qk(g):g}function g5e(t,e){var r=hm(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=H7([n,a]),l=hm(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=G7(new ht(u).sub(c).div(d-1),s,0),m=[].concat(Vk(Iw.rangeStep(new ht(c),new ht(u).sub(new ht(.99).mul(f)),f)),[u]);return n>a?qk(m):m}var y5e=z7(p5e),b5e=z7(g5e),x5e="Invariant failed";function Zc(t,e){throw new Error(x5e)}var v5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function vv(){return vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vv.apply(this,arguments)}function j5e(t,e){return S5e(t)||N5e(t,e)||C5e(t,e)||w5e()}function w5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C5e(t,e){if(t){if(typeof t=="string")return CL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CL(t,e)}}function CL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function S5e(t){if(Array.isArray(t))return t}function A5e(t,e){if(t==null)return{};var r=k5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function I5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X7(n.key),n)}}function D5e(t,e,r){return e&&T5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E5e(t,e,r){return e=jv(e),P5e(t,K7()?Reflect.construct(e,r||[],jv(t).constructor):e.apply(t,r))}function P5e(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O5e(t)}function O5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K7=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jv(t)}function _5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zk(t,e)}function zk(t,e){return zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zk(t,e)}function J7(t,e,r){return e=X7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X7(t){var e=$5e(t,"string");return Qc(e)=="symbol"?e:e+""}function $5e(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qE=function(t){function e(){return I5e(this,e),E5e(this,e,arguments)}return _5e(e,t),D5e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=A5e(n,v5e),p=Ue(m,!1);this.props.direction==="x"&&d.type!=="number"&&Zc();var h=c.map(function(b){var g=u(b,l),x=g.x,y=g.y,v=g.value,N=g.errorVal;if(!N)return null;var C=[],j,S;if(Array.isArray(N)){var k=j5e(N,2);j=k[0],S=k[1]}else j=S=N;if(s==="vertical"){var T=d.scale,A=y+a,D=A+i,P=A-i,M=T(v-j),$=T(v+S);C.push({x1:$,y1:D,x2:$,y2:P}),C.push({x1:M,y1:A,x2:$,y2:A}),C.push({x1:M,y1:D,x2:M,y2:P})}else if(s==="horizontal"){var R=f.scale,F=x+a,z=F-i,O=F+i,_=R(v-j),B=R(v+S);C.push({x1:z,y1:B,x2:O,y2:B}),C.push({x1:F,y1:_,x2:F,y2:B}),C.push({x1:z,y1:_,x2:O,y2:_})}return U.createElement(zt,vv({className:"recharts-errorBar",key:"bar-".concat(C.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},p),C.map(function(Y){return U.createElement("line",vv({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return U.createElement(zt,{className:"recharts-errorBars"},h)}}])}(U.Component);J7(qE,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});J7(qE,"displayName","ErrorBar");function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function NL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(r),!0).forEach(function(n){R5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R5e(t,e,r){return e=M5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M5e(t){var e=L5e(t,"string");return pm(e)=="symbol"?e:e+""}function L5e(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z7=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,i=Fn(r,Va);if(!i)return null;var l=Va.defaultProps,c=l!==void 0?li(li({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,p=f.props,h=p.sectors||p.data||[];return d.concat(h.map(function(b){return{type:i.props.iconType||m.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,p=m!==void 0?li(li({},m),f.props):{},h=p.dataKey,b=p.name,g=p.legendType,x=p.hide;return{inactive:x,dataKey:h,type:c.iconType||g||"square",color:VE(f),value:b||h,payload:p}}),li(li(li({},c),Va.getWithHeight(i,a)),{},{payload:u,item:i})};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function SL(t){return V5e(t)||q5e(t)||B5e(t)||F5e()}function F5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B5e(t,e){if(t){if(typeof t=="string")return Wk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wk(t,e)}}function q5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V5e(t){if(Array.isArray(t))return Wk(t)}function Wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(r),!0).forEach(function(n){Ac(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ac(t,e,r){return e=U5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U5e(t){var e=z5e(t,"string");return gm(e)=="symbol"?e:e+""}function z5e(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xn(t,e,r){return Ke(t)||Ke(e)?r:dr(e)?ga(t,e,r):ze(e)?e(t):r}function uf(t,e,r,n){var a=qFe(t,function(l){return xn(l,e)});if(r==="number"){var s=a.filter(function(l){return ve(l)||parseFloat(l)});return s.length?[Aw(s),Sw(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Ke(l)}):a;return i.map(function(l){return dr(l)||l instanceof Date?l:""})}var W5e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(zn(f-d)!==zn(m-f)){var h=[];if(zn(m-f)===zn(c[1]-c[0])){p=m;var b=f+c[1]-c[0];h[0]=Math.min(b,(b+d)/2),h[1]=Math.max(b,(b+d)/2)}else{p=d;var g=m+c[1]-c[0];h[0]=Math.min(f,(g+f)/2),h[1]=Math.max(f,(g+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=h[0]&&e<=h[1]){i=a[u].index;break}}else{var y=Math.min(d,m),v=Math.max(d,m);if(e>(y+f)/2&&e<=(v+f)/2){i=a[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){i=n[N].index;break}return i},VE=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},H5e=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,p=f.length;m<p;m++){var h=d[f[m]],b=h.items,g=h.cateAxisId,x=b.filter(function(S){return vs(S.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,v=y!==void 0?Ut(Ut({},y),x[0].props):x[0].props,N=v.barSize,C=v[g];i[C]||(i[C]=[]);var j=Ke(N)?r:N;i[C].push({item:x[0],stackList:x.slice(1),barSize:Ke(j)?void 0:tn(j,n,0)})}}return i},G5e=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,i=s===void 0?[]:s,l=e.maxBarSize,c=i.length;if(c<1)return null;var u=tn(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var m=!1,p=a/c,h=i.reduce(function(N,C){return N+C.barSize||0},0);h+=(c-1)*u,h>=a&&(h-=(c-1)*u,u=0),h>=a&&p>0&&(m=!0,p*=.9,h=c*p);var b=(a-h)/2>>0,g={offset:b-u,size:0};d=i.reduce(function(N,C){var j={item:C.item,position:{offset:g.offset+g.size+u,size:m?p:C.barSize}},S=[].concat(SL(N),[j]);return g=S[S.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(k){S.push({item:k,position:g})}),S},f)}else{var x=tn(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var y=(a-2*x-(c-1)*u)/c;y>1&&(y>>=0);var v=l===+l?Math.min(y,l):y;d=i.reduce(function(N,C,j){var S=[].concat(SL(N),[{item:C.item,position:{offset:x+(y+u)*j+(y-v)/2,size:v}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(k){S.push({item:k,position:S[S.length-1].position})}),S},f)}return d},Y5e=function(e,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=Z7({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,p=u.align,h=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&h==="middle")&&p!=="center"&&ve(e[p]))return Ut(Ut({},e),{},Ac({},p,e[p]+(f||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&h!=="middle"&&ve(e[h]))return Ut(Ut({},e),{},Ac({},h,e[h]+(m||0)))}return e},K5e=function(e,r,n){return Ke(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Q7=function(e,r,n,a,s){var i=r.props.children,l=qa(i,qE).filter(function(u){return K5e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=xn(d,n);if(Ke(f))return u;var m=Array.isArray(f)?[Aw(f),Sw(f)]:[f,f],p=c.reduce(function(h,b){var g=xn(d,b,0),x=m[0]-Math.abs(Array.isArray(g)?g[0]:g),y=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(x,h[0]),Math.max(y,h[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},J5e=function(e,r,n,a,s){var i=r.map(function(l){return Q7(e,l,n,s,a)}).filter(function(l){return!Ke(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},e8=function(e,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Q7(e,c,u,a)||uf(e,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},t8=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},kd=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,i=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?zn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!uh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:s?s[f]:f,index:m,offset:u}})},XC=new WeakMap,gp=function(e,r){if(typeof r!="function")return e;XC.has(e)||XC.set(e,new WeakMap);var n=XC.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},X5e=function(e,r,n){var a=e.scale,s=e.type,i=e.layout,l=e.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:lm(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:pv(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:cf(),realScaleType:"point"}:s==="category"?{scale:lm(),realScaleType:"band"}:{scale:pv(),realScaleType:"linear"};if(ch(a)){var c="scale".concat(cw(a));return{scale:(xL[c]||cf)(),realScaleType:xL[c]?c:"point"}}return ze(a)?{scale:a}:{scale:cf(),realScaleType:"point"}},kL=1e-4,Z5e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-kL,i=Math.max(a[0],a[1])+kL,l=e(r[0]),c=e(r[n-1]);(l<s||l>i||c<s||c>i)&&e.domain([r[0],r[n-1]])}},Q5e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=uh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1])}},e4e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=uh(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=s,e[i][n][1]=s+l,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},t4e={sign:Q5e,expand:xIe,none:Uc,silhouette:vIe,wiggle:jIe,positive:e4e},r4e=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=t4e[n],i=bIe().keys(a).value(function(l,c){return+xn(l,c,0)}).order(gk).offset(s);return i(e)},n4e=function(e,r,n,a,s,i){if(!e)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,m){var p,h=(p=m.type)!==null&&p!==void 0&&p.defaultProps?Ut(Ut({},m.type.defaultProps),m.props):m.props,b=h.stackId,g=h.hide;if(g)return f;var x=h[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(dr(b)){var v=y.stackGroups[b]||{numericAxisId:n,cateAxisId:a,items:[]};v.items.push(m),y.hasStack=!0,y.stackGroups[b]=v}else y.stackGroups[iw("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Ut(Ut({},f),{},Ac({},x,y))},c),d={};return Object.keys(u).reduce(function(f,m){var p=u[m];if(p.hasStack){var h={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,g){var x=p.stackGroups[g];return Ut(Ut({},b),{},Ac({},g,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:r4e(e,x.items,s)}))},h)}return Ut(Ut({},f),{},Ac({},m,p))},d)},a4e=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=y5e(u,s,l);return e.domain([Aw(d),Sw(d)]),{niceTicks:d}}if(s&&a==="number"){var f=e.domain(),m=b5e(f,s,l);return{niceTicks:m}}return null},s4e=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(dr(s)){var i=r[s];if(i){var l=i.items.indexOf(e);return l>=0?i.stackedData[l]:null}}return null},o4e=function(e){return e.reduce(function(r,n){return[Aw(n.concat([r[0]]).filter(ve)),Sw(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},r8=function(e,r,n){return Object.keys(e).reduce(function(a,s){var i=e[s],l=i.stackedData,c=l.reduce(function(u,d){var f=o4e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},IL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hk=function(e,r,n){if(ze(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(ve(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(IL.test(e[0])){var s=+IL.exec(e[0])[1];a[0]=r[0]-s}else ze(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(ve(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(TL.test(e[1])){var i=+TL.exec(e[1])[1];a[1]=r[1]+i}else ze(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Gk=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=hE(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},DL=function(e,r,n){return!e||!e.length||LE(e,ga(n,"type.defaultProps.domain"))?r:e},i4e=function(e,r){var n=e.type.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ut(Ut({},Ue(e,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:VE(e),value:xn(r,a),type:c,payload:r,chartType:u,hide:d})};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function EL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(r),!0).forEach(function(n){n8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n8(t,e,r){return e=l4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l4e(t){var e=c4e(t,"string");return ym(e)=="symbol"?e:e+""}function c4e(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u4e(t,e){return h4e(t)||m4e(t,e)||f4e(t,e)||d4e()}function d4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f4e(t,e){if(t){if(typeof t=="string")return PL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PL(t,e)}}function PL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function h4e(t){if(Array.isArray(t))return t}var wv=Math.PI/180,p4e=function(e){return e*180/Math.PI},Nt=function(e,r,n,a){return{x:e+Math.cos(-wv*a)*n,y:r+Math.sin(-wv*a)*n}},a8=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},g4e=function(e,r,n,a,s){var i=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=tn(e.cx,i,i/2),f=tn(e.cy,l,l/2),m=a8(i,l,n),p=tn(e.innerRadius,m,0),h=tn(e.outerRadius,m,m*.8),b=Object.keys(r);return b.reduce(function(g,x){var y=r[x],v=y.domain,N=y.reversed,C;if(Ke(y.range))a==="angleAxis"?C=[c,u]:a==="radiusAxis"&&(C=[p,h]),N&&(C=[C[1],C[0]]);else{C=y.range;var j=C,S=u4e(j,2);c=S[0],u=S[1]}var k=X5e(y,s),T=k.realScaleType,A=k.scale;A.domain(v).range(C),Z5e(A);var D=a4e(A,ns(ns({},y),{},{realScaleType:T})),P=ns(ns(ns({},y),D),{},{range:C,radius:h,realScaleType:T,scale:A,cx:d,cy:f,innerRadius:p,outerRadius:h,startAngle:c,endAngle:u});return ns(ns({},g),{},n8({},x,P))},{})},y4e=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},b4e=function(e,r){var n=e.x,a=e.y,s=r.cx,i=r.cy,l=y4e({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:p4e(u),angleInRadian:u}},x4e=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},v4e=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return e+l*360},OL=function(e,r){var n=e.x,a=e.y,s=b4e({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=x4e(r),f=d.startAngle,m=d.endAngle,p=l,h;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;h=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;h=p>=m&&p<=f}return h?ns(ns({},r),{},{radius:i,angle:v4e(p,r)}):null},s8=function(e){return!w.isValidElement(e)&&!ze(e)&&typeof e!="boolean"?e.className:""};function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}var j4e=["offset"];function w4e(t){return A4e(t)||S4e(t)||N4e(t)||C4e()}function C4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4e(t,e){if(t){if(typeof t=="string")return Yk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yk(t,e)}}function S4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A4e(t){if(Array.isArray(t))return Yk(t)}function Yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k4e(t,e){if(t==null)return{};var r=I4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function I4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(r),!0).forEach(function(n){T4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T4e(t,e,r){return e=D4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D4e(t){var e=E4e(t,"string");return bm(e)=="symbol"?e:e+""}function E4e(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xm.apply(this,arguments)}var P4e=function(e){var r=e.value,n=e.formatter,a=Ke(e.children)?r:e.children;return ze(n)?n(a):a},O4e=function(e,r){var n=zn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},_4e=function(e,r,n){var a=e.position,s=e.viewBox,i=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,p=c.startAngle,h=c.endAngle,b=c.clockWise,g=(f+m)/2,x=O4e(p,h),y=x>=0?1:-1,v,N;a==="insideStart"?(v=p+y*i,N=b):a==="insideEnd"?(v=h-y*i,N=!b):a==="end"&&(v=h+y*i,N=b),N=x<=0?N:!N;var C=Nt(u,d,g,v),j=Nt(u,d,g,v+(N?1:-1)*359),S="M".concat(C.x,",").concat(C.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(N?0:1,`,
    `).concat(j.x,",").concat(j.y),k=Ke(e.id)?iw("recharts-radial-line-"):e.id;return U.createElement("text",xm({},n,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",l)}),U.createElement("defs",null,U.createElement("path",{id:k,d:S})),U.createElement("textPath",{xlinkHref:"#".concat(k)},r))},$4e=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(a==="outside"){var p=Nt(i,l,u+n,m),h=p.x,b=p.y;return{x:h,y:b,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,x=Nt(i,l,g,m),y=x.x,v=x.y;return{x:y,y:v,textAnchor:"middle",verticalAnchor:"middle"}},R4e=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,m=f*a,p=f>0?"end":"start",h=f>0?"start":"end",b=u>=0?1:-1,g=b*a,x=b>0?"end":"start",y=b>0?"start":"end";if(s==="top"){var v={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return ir(ir({},v),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var N={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:h};return ir(ir({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var C={x:l-g,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return ir(ir({},C),n?{width:Math.max(C.x-n.x,0),height:d}:{})}if(s==="right"){var j={x:l+u+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return ir(ir({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?ir({x:l+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideRight"?ir({x:l+u-g,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):s==="insideTop"?ir({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:h},S):s==="insideBottom"?ir({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},S):s==="insideTopLeft"?ir({x:l+g,y:c+m,textAnchor:y,verticalAnchor:h},S):s==="insideTopRight"?ir({x:l+u-g,y:c+m,textAnchor:x,verticalAnchor:h},S):s==="insideBottomLeft"?ir({x:l+g,y:c+d-m,textAnchor:y,verticalAnchor:p},S):s==="insideBottomRight"?ir({x:l+u-g,y:c+d-m,textAnchor:x,verticalAnchor:p},S):Cu(s)&&(ve(s.x)||Ti(s.x))&&(ve(s.y)||Ti(s.y))?ir({x:l+tn(s.x,u),y:c+tn(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):ir({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},M4e=function(e){return"cx"in e&&ve(e.cx)};function Sr(t){var e=t.offset,r=e===void 0?5:e,n=k4e(t,j4e),a=ir({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!s||Ke(l)&&Ke(c)&&!w.isValidElement(u)&&!ze(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var p;if(ze(u)){if(p=w.createElement(u,a),w.isValidElement(p))return p}else p=P4e(a);var h=M4e(s),b=Ue(a,!0);if(h&&(i==="insideStart"||i==="insideEnd"||i==="end"))return _4e(a,p,b);var g=h?$4e(a):R4e(a);return U.createElement(Yc,xm({className:_e("recharts-label",f)},b,g,{breakAll:m}),p)}Sr.displayName="Label";var o8=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,i=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,p=e.top,h=e.left,b=e.width,g=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(ve(b)&&ve(g)){if(ve(f)&&ve(m))return{x:f,y:m,width:b,height:g};if(ve(p)&&ve(h))return{x:p,y:h,width:b,height:g}}return ve(f)&&ve(m)?{x:f,y:m,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},L4e=function(e,r){return e?e===!0?U.createElement(Sr,{key:"label-implicit",viewBox:r}):dr(e)?U.createElement(Sr,{key:"label-implicit",viewBox:r,value:e}):w.isValidElement(e)?e.type===Sr?w.cloneElement(e,{key:"label-implicit",viewBox:r}):U.createElement(Sr,{key:"label-implicit",content:e,viewBox:r}):ze(e)?U.createElement(Sr,{key:"label-implicit",content:e,viewBox:r}):Cu(e)?U.createElement(Sr,xm({viewBox:r},e,{key:"label-implicit"})):null:null},F4e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=o8(e),i=qa(a,Sr).map(function(c,u){return w.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=L4e(e.label,r||s);return[l].concat(w4e(i))};Sr.parseViewBox=o8;Sr.renderCallByParent=F4e;function B4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var q4e=B4e;const V4e=st(q4e);function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}var U4e=["valueAccessor"],z4e=["data","dataKey","clockWise","id","textBreakAll"];function W4e(t){return K4e(t)||Y4e(t)||G4e(t)||H4e()}function H4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G4e(t,e){if(t){if(typeof t=="string")return Kk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kk(t,e)}}function Y4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K4e(t){if(Array.isArray(t))return Kk(t)}function Kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(this,arguments)}function $L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(r),!0).forEach(function(n){J4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J4e(t,e,r){return e=X4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X4e(t){var e=Z4e(t,"string");return vm(e)=="symbol"?e:e+""}function Z4e(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ML(t,e){if(t==null)return{};var r=Q4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var eBe=function(e){return Array.isArray(e.value)?V4e(e.value):e.value};function Ki(t){var e=t.valueAccessor,r=e===void 0?eBe:e,n=ML(t,U4e),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=ML(n,z4e);return!a||!a.length?null:U.createElement(zt,{className:"recharts-label-list"},a.map(function(d,f){var m=Ke(s)?r(d,f):xn(d&&d.payload,s),p=Ke(l)?{}:{id:"".concat(l,"-").concat(f)};return U.createElement(Sr,Cv({},Ue(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Sr.parseViewBox(Ke(i)?d:RL(RL({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Ki.displayName="LabelList";function tBe(t,e){return t?t===!0?U.createElement(Ki,{key:"labelList-implicit",data:e}):U.isValidElement(t)||ze(t)?U.createElement(Ki,{key:"labelList-implicit",data:e,content:t}):Cu(t)?U.createElement(Ki,Cv({data:e},t,{key:"labelList-implicit"})):null:null}function rBe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=qa(n,Ki).map(function(i,l){return w.cloneElement(i,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=tBe(t.label,e);return[s].concat(W4e(a))}Ki.renderCallByParent=rBe;function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function Jk(){return Jk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jk.apply(this,arguments)}function LL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(r),!0).forEach(function(n){nBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nBe(t,e,r){return e=aBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aBe(t){var e=sBe(t,"string");return jm(e)=="symbol"?e:e+""}function sBe(t,e){if(jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oBe=function(e,r){var n=zn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},yp=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,i=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/wv,m=u?s:s+i*f,p=Nt(r,n,d,m),h=Nt(r,n,a,m),b=u?s-i*f:s,g=Nt(r,n,d*Math.cos(f*wv),b);return{center:p,circleTangency:h,lineTangency:g,theta:f}},i8=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.startAngle,l=e.endAngle,c=oBe(i,l),u=i+c,d=Nt(r,n,s,i),f=Nt(r,n,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Nt(r,n,a,i),h=Nt(r,n,a,u);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},iBe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=zn(d-u),m=yp({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),p=m.circleTangency,h=m.lineTangency,b=m.theta,g=yp({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),x=g.circleTangency,y=g.lineTangency,v=g.theta,N=c?Math.abs(u-d):Math.abs(u-d)-b-v;if(N<0)return l?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):i8({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var C="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var j=yp({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),S=j.circleTangency,k=j.lineTangency,T=j.theta,A=yp({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),D=A.circleTangency,P=A.lineTangency,M=A.theta,$=c?Math.abs(u-d):Math.abs(u-d)-T-M;if($<0&&i===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},lBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},l8=function(e){var r=FL(FL({},lBe),e),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(i<s||d===f)return null;var p=_e("recharts-sector",m),h=i-s,b=tn(l,h,0,!0),g;return b>0&&Math.abs(d-f)<360?g=iBe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(b,h/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=i8({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),U.createElement("path",Jk({},Ue(r,!0),{className:p,d:g,role:"img"}))};function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function Xk(){return Xk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xk.apply(this,arguments)}function BL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(r),!0).forEach(function(n){cBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cBe(t,e,r){return e=uBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uBe(t){var e=dBe(t,"string");return wm(e)=="symbol"?e:e+""}function dBe(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VL={curveBasisClosed:iIe,curveBasisOpen:lIe,curveBasis:oIe,curveBumpX:Hke,curveBumpY:Gke,curveLinearClosed:cIe,curveLinear:dw,curveMonotoneX:uIe,curveMonotoneY:dIe,curveNatural:fIe,curveStep:mIe,curveStepAfter:pIe,curveStepBefore:hIe},bp=function(e){return e.x===+e.x&&e.y===+e.y},ud=function(e){return e.x},dd=function(e){return e.y},fBe=function(e,r){if(ze(e))return e;var n="curve".concat(cw(e));return(n==="curveMonotone"||n==="curveBump")&&r?VL["".concat(n).concat(r==="vertical"?"Y":"X")]:VL[n]||dw},mBe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,i=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=fBe(n,l),f=u?s.filter(function(b){return bp(b)}):s,m;if(Array.isArray(i)){var p=u?i.filter(function(b){return bp(b)}):i,h=f.map(function(b,g){return qL(qL({},b),{},{base:p[g]})});return l==="vertical"?m=lp().y(dd).x1(ud).x0(function(b){return b.base.x}):m=lp().x(ud).y1(dd).y0(function(b){return b.base.y}),m.defined(bp).curve(d),m(h)}return l==="vertical"&&ve(i)?m=lp().y(dd).x1(ud).x0(i):ve(i)?m=lp().x(ud).y1(dd).y0(i):m=lz().x(ud).y(dd),m.defined(bp).curve(d),m(f)},Zk=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?mBe(e):a;return U.createElement("path",Xk({},Ue(e,!1),Kx(e),{className:_e("recharts-curve",r),d:i,ref:s}))},c8={exports:{}},hBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pBe=hBe,gBe=pBe;function u8(){}function d8(){}d8.resetWarningCache=u8;var yBe=function(){function t(n,a,s,i,l,c){if(c!==gBe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:d8,resetWarningCache:u8};return r.PropTypes=r,r};c8.exports=yBe();var bBe=c8.exports;const ot=st(bBe);var xBe=Object.getOwnPropertyNames,vBe=Object.getOwnPropertySymbols,jBe=Object.prototype.hasOwnProperty;function UL(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function xp(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function zL(t){return xBe(t).concat(vBe(t))}var wBe=Object.hasOwn||function(t,e){return jBe.call(t,e)};function Sl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var CBe="__v",NBe="__o",SBe="_owner",WL=Object.getOwnPropertyDescriptor,HL=Object.keys;function ABe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function kBe(t,e){return Sl(t.getTime(),e.getTime())}function IBe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function TBe(t,e){return t===e}function GL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=i.value,p=l.value;if(r.equals(m[0],p[0],c,f,t,e,r)&&r.equals(m[1],p[1],m[0],p[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var DBe=Sl;function EBe(t,e,r){var n=HL(t),a=n.length;if(HL(e).length!==a)return!1;for(;a-- >0;)if(!f8(t,e,r,n[a]))return!1;return!0}function fd(t,e,r){var n=zL(t),a=n.length;if(zL(e).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!f8(t,e,r,s)||(i=WL(t,s),l=WL(e,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function PBe(t,e){return Sl(t.valueOf(),e.valueOf())}function OBe(t,e){return t.source===e.source&&t.flags===e.flags}function YL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),i,l;(i=s.next())&&!i.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function _Be(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function $Be(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function f8(t,e,r,n){return(n===SBe||n===NBe||n===CBe)&&(t.$$typeof||e.$$typeof)?!0:wBe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var RBe="[object Arguments]",MBe="[object Boolean]",LBe="[object Date]",FBe="[object Error]",BBe="[object Map]",qBe="[object Number]",VBe="[object Object]",UBe="[object RegExp]",zBe="[object Set]",WBe="[object String]",HBe="[object URL]",GBe=Array.isArray,KL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,JL=Object.assign,YBe=Object.prototype.toString.call.bind(Object.prototype.toString);function KBe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,i=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(h,b,g){if(h===b)return!0;if(h==null||b==null)return!1;var x=typeof h;if(x!==typeof b)return!1;if(x!=="object")return x==="number"?i(h,b,g):x==="function"?a(h,b,g):!1;var y=h.constructor;if(y!==b.constructor)return!1;if(y===Object)return l(h,b,g);if(GBe(h))return e(h,b,g);if(KL!=null&&KL(h))return f(h,b,g);if(y===Date)return r(h,b,g);if(y===RegExp)return u(h,b,g);if(y===Map)return s(h,b,g);if(y===Set)return d(h,b,g);var v=YBe(h);return v===LBe?r(h,b,g):v===UBe?u(h,b,g):v===BBe?s(h,b,g):v===zBe?d(h,b,g):v===VBe?typeof h.then!="function"&&typeof b.then!="function"&&l(h,b,g):v===HBe?m(h,b,g):v===FBe?n(h,b,g):v===RBe?l(h,b,g):v===MBe||v===qBe||v===WBe?c(h,b,g):!1}}function JBe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?fd:ABe,areDatesEqual:kBe,areErrorsEqual:IBe,areFunctionsEqual:TBe,areMapsEqual:n?UL(GL,fd):GL,areNumbersEqual:DBe,areObjectsEqual:n?fd:EBe,arePrimitiveWrappersEqual:PBe,areRegExpsEqual:OBe,areSetsEqual:n?UL(YL,fd):YL,areTypedArraysEqual:n?fd:_Be,areUrlsEqual:$Be};if(r&&(a=JL({},a,r(a))),e){var s=xp(a.areArraysEqual),i=xp(a.areMapsEqual),l=xp(a.areObjectsEqual),c=xp(a.areSetsEqual);a=JL({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function XBe(t){return function(e,r,n,a,s,i,l){return t(e,r,l)}}function ZBe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:m,equals:a,meta:p,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var QBe=ei();ei({strict:!0});ei({circular:!0});ei({circular:!0,strict:!0});ei({createInternalComparator:function(){return Sl}});ei({strict:!0,createInternalComparator:function(){return Sl}});ei({circular:!0,createInternalComparator:function(){return Sl}});ei({circular:!0,createInternalComparator:function(){return Sl},strict:!0});function ei(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,i=s===void 0?!1:s,l=JBe(t),c=KBe(l),u=n?n(c):XBe(c);return ZBe({circular:r,comparator:c,createState:a,equals:u,strict:i})}function e3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function XL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):e3e(a)};requestAnimationFrame(n)}function Qk(t){"@babel/helpers - typeof";return Qk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qk(t)}function t3e(t){return s3e(t)||a3e(t)||n3e(t)||r3e()}function r3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n3e(t,e){if(t){if(typeof t=="string")return ZL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZL(t,e)}}function ZL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s3e(t){if(Array.isArray(t))return t}function o3e(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=t3e(i),c=l[0],u=l.slice(1);if(typeof c=="number"){XL(a.bind(null,u),c);return}a(c),XL(a.bind(null,u));return}Qk(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function QL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(r),!0).forEach(function(n){m8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m8(t,e,r){return e=i3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i3e(t){var e=l3e(t,"string");return Cm(e)==="symbol"?e:String(e)}function l3e(t,e){if(Cm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c3e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},u3e=function(e){return e},d3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},df=function(e,r){return Object.keys(r).reduce(function(n,a){return eF(eF({},n),{},m8({},a,e(a,r[a])))},{})},tF=function(e,r,n){return e.map(function(a){return"".concat(d3e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function f3e(t,e){return p3e(t)||h3e(t,e)||h8(t,e)||m3e()}function m3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function p3e(t){if(Array.isArray(t))return t}function g3e(t){return x3e(t)||b3e(t)||h8(t)||y3e()}function y3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h8(t,e){if(t){if(typeof t=="string")return eI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eI(t,e)}}function b3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x3e(t){if(Array.isArray(t))return eI(t)}function eI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Nv=1e-4,p8=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},g8=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},rF=function(e,r){return function(n){var a=p8(e,r);return g8(a,n)}},v3e=function(e,r){return function(n){var a=p8(e,r),s=[].concat(g3e(a.map(function(i,l){return i*l}).slice(1)),[0]);return g8(s,n)}},nF=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=f3e(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=rF(a,i),m=rF(s,l),p=v3e(a,i),h=function(x){return x>1?1:x<0?0:x},b=function(x){for(var y=x>1?1:x,v=y,N=0;N<8;++N){var C=f(v)-y,j=p(v);if(Math.abs(C-y)<Nv||j<Nv)return m(v);v=h(v-C/j)}return m(v)};return b.isStepper=!1,b},j3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,i=e.dt,l=i===void 0?17:i,c=function(d,f,m){var p=-(d-f)*n,h=m*s,b=m+(p-h)*l/1e3,g=m*l/1e3+d;return Math.abs(g-f)<Nv&&Math.abs(b)<Nv?[f,0]:[g,b]};return c.isStepper=!0,c.dt=l,c},w3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nF(a);case"spring":return j3e();default:if(a.split("(")[0]==="cubic-bezier")return nF(a)}return typeof a=="function"?a:null};function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function aF(t){return S3e(t)||N3e(t)||y8(t)||C3e()}function C3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S3e(t){if(Array.isArray(t))return rI(t)}function sF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sF(Object(r),!0).forEach(function(n){tI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tI(t,e,r){return e=A3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A3e(t){var e=k3e(t,"string");return Nm(e)==="symbol"?e:String(e)}function k3e(t,e){if(Nm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I3e(t,e){return E3e(t)||D3e(t,e)||y8(t,e)||T3e()}function T3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y8(t,e){if(t){if(typeof t=="string")return rI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rI(t,e)}}function rI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function E3e(t){if(Array.isArray(t))return t}var Sv=function(e,r,n){return e+(r-e)*n},nI=function(e){var r=e.from,n=e.to;return r!==n},P3e=function t(e,r,n){var a=df(function(s,i){if(nI(i)){var l=e(i.from,i.to,i.velocity),c=I3e(l,2),u=c[0],d=c[1];return wr(wr({},i),{},{from:u,velocity:d})}return i},r);return n<1?df(function(s,i){return nI(i)?wr(wr({},i),{},{velocity:Sv(i.velocity,a[s].velocity,n),from:Sv(i.from,a[s].from,n)}):i},r):t(e,a,n-1)};const O3e=function(t,e,r,n,a){var s=c3e(t,e),i=s.reduce(function(g,x){return wr(wr({},g),{},tI({},x,[t[x],e[x]]))},{}),l=s.reduce(function(g,x){return wr(wr({},g),{},tI({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return df(function(x,y){return y.from},l)},p=function(){return!Object.values(l).filter(nI).length},h=function(x){u||(u=x);var y=x-u,v=y/r.dt;l=P3e(r,l,v),a(wr(wr(wr({},t),e),m())),u=x,p()||(c=requestAnimationFrame(f))},b=function(x){d||(d=x);var y=(x-d)/n,v=df(function(C,j){return Sv.apply(void 0,aF(j).concat([r(y)]))},i);if(a(wr(wr(wr({},t),e),v)),y<1)c=requestAnimationFrame(f);else{var N=df(function(C,j){return Sv.apply(void 0,aF(j).concat([r(1)]))},i);a(wr(wr(wr({},t),e),N))}};return f=r.isStepper?h:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}var _3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $3e(t,e){if(t==null)return{};var r=R3e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R3e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function ZC(t){return B3e(t)||F3e(t)||L3e(t)||M3e()}function M3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L3e(t,e){if(t){if(typeof t=="string")return aI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aI(t,e)}}function F3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B3e(t){if(Array.isArray(t))return aI(t)}function aI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(r),!0).forEach(function(n){Id(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Id(t,e,r){return e=b8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b8(n.key),n)}}function U3e(t,e,r){return e&&V3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b8(t){var e=z3e(t,"string");return eu(e)==="symbol"?e:String(e)}function z3e(t,e){if(eu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sI(t,e)}function sI(t,e){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sI(t,e)}function H3e(t){var e=G3e();return function(){var n=Av(t),a;if(e){var s=Av(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return oI(this,a)}}function oI(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iI(t)}function iI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Av(t)}var Fo=function(t){W3e(r,t);var e=H3e(r);function r(n,a){var s;q3e(this,r),s=e.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,m=i.children,p=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(iI(s)),s.changeStyle=s.changeStyle.bind(iI(s)),!l||p<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),oI(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},oI(s);s.state={style:c?Id({},c,u):u}}else s.state={style:{}};return s}return U3e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!i){var p={style:c?Id({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(QBe(a.to,d)&&a.canBegin&&a.isActive)){var h=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=h||u?f:a.to;if(this.state&&m){var g={style:c?Id({},c,b):b};(c&&m[c]!==b||!c&&m!==b)&&this.setState(g)}this.runAnimation(na(na({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,p=O3e(i,l,w3e(u),c,this.changeStyle),h=function(){s.stopJSAnimation=p()};this.manager.start([m,d,h,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,m=f===void 0?0:f,p=function(b,g,x){if(x===0)return b;var y=g.duration,v=g.easing,N=v===void 0?"ease":v,C=g.style,j=g.properties,S=g.onAnimationEnd,k=x>0?i[x-1]:g,T=j||Object.keys(C);if(typeof N=="function"||N==="spring")return[].concat(ZC(b),[s.runJSAnimation.bind(s,{from:k.style,to:C,duration:y,easing:N}),y]);var A=tF(T,y,N),D=na(na(na({},k.style),C),{},{transition:A});return[].concat(ZC(b),[D,y,S]).filter(u3e)};return this.manager.start([c].concat(ZC(i.reduce(p,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=o3e());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,p=a.children,h=this.manager;if(this.unSubscribe=h.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var b=l?Id({},l,c):c,g=tF(Object.keys(b),i,u);h.start([d,s,na(na({},b),{},{transition:g}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=$3e(a,_3e),u=w.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(p){var h=p.props,b=h.style,g=b===void 0?{}:b,x=h.className,y=w.cloneElement(p,na(na({},c),{},{style:na(na({},g),d),className:x}));return y};return u===1?f(w.Children.only(s)):U.createElement("div",null,w.Children.map(s,function(m){return f(m)}))}}]),r}(w.PureComponent);Fo.displayName="Animate";Fo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fo.propTypes={from:ot.oneOfType([ot.object,ot.string]),to:ot.oneOfType([ot.object,ot.string]),attributeName:ot.string,duration:ot.number,begin:ot.number,easing:ot.oneOfType([ot.string,ot.func]),steps:ot.arrayOf(ot.shape({duration:ot.number.isRequired,style:ot.object.isRequired,easing:ot.oneOfType([ot.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ot.func]),properties:ot.arrayOf("string"),onAnimationEnd:ot.func})),children:ot.oneOfType([ot.node,ot.func]),isActive:ot.bool,canBegin:ot.bool,onAnimationEnd:ot.func,shouldReAnimate:ot.bool,onAnimationStart:ot.func,onAnimationReStart:ot.func};function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kv.apply(this,arguments)}function Y3e(t,e){return Z3e(t)||X3e(t,e)||J3e(t,e)||K3e()}function K3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J3e(t,e){if(t){if(typeof t=="string")return iF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iF(t,e)}}function iF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Z3e(t){if(Array.isArray(t))return t}function lF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(r),!0).forEach(function(n){Q3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q3e(t,e,r){return e=eqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eqe(t){var e=tqe(t,"string");return Sm(e)=="symbol"?e:e+""}function tqe(t,e){if(Sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uF=function(e,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,p=4;m<p;m++)f[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var h=Math.min(i,s);d="M ".concat(e,",").concat(r+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+c*h,",").concat(r,`
            L `).concat(e+n-c*h,",").concat(r,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*h,`
            L `).concat(e+n,",").concat(r+a-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+n-c*h,",").concat(r+a,`
            L `).concat(e+c*h,",").concat(r+a,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*h," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},rqe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),m=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},nqe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UE=function(e){var r=cF(cF({},nqe),e),n=w.useRef(),a=w.useState(-1),s=Y3e(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,p=r.className,h=r.animationEasing,b=r.animationDuration,g=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var v=_e("recharts-rectangle",p);return y?U.createElement(Fo,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:b,animationEasing:h,isActive:y},function(N){var C=N.width,j=N.height,S=N.x,k=N.y;return U.createElement(Fo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:b,isActive:x,easing:h},U.createElement("path",kv({},Ue(r,!0),{className:v,d:uF(S,k,C,j,m),ref:n})))}):U.createElement("path",kv({},Ue(r,!0),{className:v,d:uF(c,u,d,f,m)}))},aqe=["points","className","baseLinePoints","connectNulls"];function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zl.apply(this,arguments)}function sqe(t,e){if(t==null)return{};var r=oqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dF(t){return uqe(t)||cqe(t)||lqe(t)||iqe()}function iqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lqe(t,e){if(t){if(typeof t=="string")return lI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lI(t,e)}}function cqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uqe(t){if(Array.isArray(t))return lI(t)}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fF=function(e){return e&&e.x===+e.x&&e.y===+e.y},dqe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){fF(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),fF(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ff=function(e,r){var n=dqe(e);r&&(n=[n.reduce(function(s,i){return[].concat(dF(s),dF(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},fqe=function(e,r,n){var a=ff(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ff(r.reverse(),n).slice(1))},mqe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,i=sqe(e,aqe);if(!r||!r.length)return null;var l=_e("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=fqe(r,a,s);return U.createElement("g",{className:l},U.createElement("path",Zl({},Ue(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?U.createElement("path",Zl({},Ue(i,!0),{fill:"none",d:ff(r,s)})):null,c?U.createElement("path",Zl({},Ue(i,!0),{fill:"none",d:ff(a,s)})):null)}var d=ff(r,s);return U.createElement("path",Zl({},Ue(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function cI(){return cI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cI.apply(this,arguments)}var zE=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,i=_e("recharts-dot",s);return r===+r&&n===+n&&a===+a?U.createElement("circle",cI({},Ue(e,!1),Kx(e),{className:i,cx:r,cy:n,r:a})):null};function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}var hqe=["x","y","top","left","width","height","className"];function uI(){return uI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uI.apply(this,arguments)}function mF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pqe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(r),!0).forEach(function(n){gqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gqe(t,e,r){return e=yqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yqe(t){var e=bqe(t,"string");return Am(e)=="symbol"?e:e+""}function bqe(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xqe(t,e){if(t==null)return{};var r=vqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jqe=function(e,r,n,a,s,i){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},wqe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.top,l=i===void 0?0:i,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,p=m===void 0?0:m,h=e.className,b=xqe(e,hqe),g=pqe({x:n,y:s,top:l,left:u,width:f,height:p},b);return!ve(n)||!ve(s)||!ve(f)||!ve(p)||!ve(l)||!ve(u)?null:U.createElement("path",uI({},Ue(g,!0),{className:_e("recharts-cross",h),d:jqe(n,s,f,p,l,u)}))},Cqe=Nw,Nqe=$7,Sqe=Xo;function Aqe(t,e){return t&&t.length?Cqe(t,Sqe(e),Nqe):void 0}var kqe=Aqe;const Iqe=st(kqe);var Tqe=Nw,Dqe=Xo,Eqe=R7;function Pqe(t,e){return t&&t.length?Tqe(t,Dqe(e),Eqe):void 0}var Oqe=Pqe;const _qe=st(Oqe);var $qe=["cx","cy","angle","ticks","axisLine"],Rqe=["ticks","tick","angle","tickFormatter","stroke"];function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mf.apply(this,arguments)}function hF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(r),!0).forEach(function(n){Tw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pF(t,e){if(t==null)return{};var r=Mqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v8(n.key),n)}}function Fqe(t,e,r){return e&&gF(t.prototype,e),r&&gF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bqe(t,e,r){return e=Iv(e),qqe(t,x8()?Reflect.construct(e,r||[],Iv(t).constructor):e.apply(t,r))}function qqe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vqe(t)}function Vqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x8=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iv(t)}function Uqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dI(t,e)}function dI(t,e){return dI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dI(t,e)}function Tw(t,e,r){return e=v8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v8(t){var e=zqe(t,"string");return tu(e)=="symbol"?e:e+""}function zqe(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dw=function(t){function e(){return Lqe(this,e),Bqe(this,e,arguments)}return Uqe(e,t),Fqe(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return Nt(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=Iqe(l,function(d){return d.coordinate||0}),u=_qe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=pF(n,$qe),d=l.reduce(function(h,b){return[Math.min(h[0],b.coordinate),Math.max(h[1],b.coordinate)]},[1/0,-1/0]),f=Nt(a,s,d[0],i),m=Nt(a,s,d[1],i),p=ci(ci(ci({},Ue(u,!1)),{},{fill:"none"},Ue(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return U.createElement("line",mf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=pF(a,Rqe),f=this.getTickTextAnchor(),m=Ue(d,!1),p=Ue(i,!1),h=s.map(function(b,g){var x=n.getTickValueCoord(b),y=ci(ci(ci(ci({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},m),{},{stroke:"none",fill:u},p),{},{index:g},x),{},{payload:b});return U.createElement(zt,mf({className:_e("recharts-polar-radius-axis-tick",s8(i)),key:"tick-".concat(b.coordinate)},lw(n.props,b,g)),e.renderTickItem(i,y,c?c(b.value,g):b.value))});return U.createElement(zt,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:U.createElement(zt,{className:_e("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),Sr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return U.isValidElement(n)?i=U.cloneElement(n,a):ze(n)?i=n(a):i=U.createElement(Yc,mf({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(w.PureComponent);Tw(Dw,"displayName","PolarRadiusAxis");Tw(Dw,"axisType","radiusAxis");Tw(Dw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function vi(){return vi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vi.apply(this,arguments)}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(r),!0).forEach(function(n){Ew(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w8(n.key),n)}}function Hqe(t,e,r){return e&&bF(t.prototype,e),r&&bF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gqe(t,e,r){return e=Tv(e),Yqe(t,j8()?Reflect.construct(e,r||[],Tv(t).constructor):e.apply(t,r))}function Yqe(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kqe(t)}function Kqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j8=function(){return!!t})()}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tv(t)}function Jqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fI(t,e)}function fI(t,e){return fI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fI(t,e)}function Ew(t,e,r){return e=w8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w8(t){var e=Xqe(t,"string");return ru(e)=="symbol"?e:e+""}function Xqe(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zqe=Math.PI/180,Qqe=1e-5,Pw=function(t){function e(){return Wqe(this,e),Gqe(this,e,arguments)}return Jqe(e,t),Hqe(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Nt(s,i,l,n.coordinate),m=Nt(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*Zqe),i;return s>Qqe?i=a==="outer"?"start":"end":s<-1e-5?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=ui(ui({},Ue(this.props,!1)),{},{fill:"none"},Ue(l,!1));if(c==="circle")return U.createElement(zE,vi({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(m){return Nt(a,s,i,m.coordinate)});return U.createElement(mqe,vi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Ue(this.props,!1),f=Ue(i,!1),m=ui(ui({},d),{},{fill:"none"},Ue(l,!1)),p=s.map(function(h,b){var g=n.getTickLineCoord(h),x=n.getTickTextAnchor(h),y=ui(ui(ui({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:b,payload:h,x:g.x2,y:g.y2});return U.createElement(zt,vi({className:_e("recharts-polar-angle-axis-tick",s8(i)),key:"tick-".concat(h.coordinate)},lw(n.props,h,b)),l&&U.createElement("line",vi({className:"recharts-polar-angle-axis-tick-line"},m,g)),i&&e.renderTickItem(i,y,c?c(h.value,b):h.value))});return U.createElement(zt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:U.createElement(zt,{className:_e("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return U.isValidElement(n)?i=U.cloneElement(n,a):ze(n)?i=n(a):i=U.createElement(Yc,vi({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(w.PureComponent);Ew(Pw,"displayName","PolarAngleAxis");Ew(Pw,"axisType","angleAxis");Ew(Pw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var e6e=Pz,t6e=e6e(Object.getPrototypeOf,Object),r6e=t6e,n6e=Bs,a6e=r6e,s6e=qs,o6e="[object Object]",i6e=Function.prototype,l6e=Object.prototype,C8=i6e.toString,c6e=l6e.hasOwnProperty,u6e=C8.call(Object);function d6e(t){if(!s6e(t)||n6e(t)!=o6e)return!1;var e=a6e(t);if(e===null)return!0;var r=c6e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&C8.call(r)==u6e}var f6e=d6e;const m6e=st(f6e);var h6e=Bs,p6e=qs,g6e="[object Boolean]";function y6e(t){return t===!0||t===!1||p6e(t)&&h6e(t)==g6e}var b6e=y6e;const x6e=st(b6e);function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dv.apply(this,arguments)}function v6e(t,e){return N6e(t)||C6e(t,e)||w6e(t,e)||j6e()}function j6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w6e(t,e){if(t){if(typeof t=="string")return xF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xF(t,e)}}function xF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function N6e(t){if(Array.isArray(t))return t}function vF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(r),!0).forEach(function(n){S6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S6e(t,e,r){return e=A6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A6e(t){var e=k6e(t,"string");return km(e)=="symbol"?e:e+""}function k6e(t,e){if(km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wF=function(e,r,n,a,s){var i=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-i/2,",").concat(r+s),l+="L ".concat(e+n-i/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},I6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T6e=function(e){var r=jF(jF({},I6e),e),n=w.useRef(),a=w.useState(-1),s=v6e(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&l(v)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,p=r.className,h=r.animationEasing,b=r.animationDuration,g=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var y=_e("recharts-trapezoid",p);return x?U.createElement(Fo,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:b,animationEasing:h,isActive:x},function(v){var N=v.upperWidth,C=v.lowerWidth,j=v.height,S=v.x,k=v.y;return U.createElement(Fo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:b,easing:h},U.createElement("path",Dv({},Ue(r,!0),{className:y,d:wF(S,k,N,C,j),ref:n})))}):U.createElement("g",null,U.createElement("path",Dv({},Ue(r,!0),{className:y,d:wF(c,u,d,f,m)})))},D6e=["option","shapeType","propTransformer","activeClassName","isActive"];function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function E6e(t,e){if(t==null)return{};var r=P6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function P6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ev(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(r),!0).forEach(function(n){O6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O6e(t,e,r){return e=_6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _6e(t){var e=$6e(t,"string");return Im(e)=="symbol"?e:e+""}function $6e(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R6e(t,e){return Ev(Ev({},e),t)}function M6e(t,e){return t==="symbols"}function NF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return U.createElement(UE,r);case"trapezoid":return U.createElement(T6e,r);case"sector":return U.createElement(l8,r);case"symbols":if(M6e(e))return U.createElement(sE,r);break;default:return null}}function L6e(t){return w.isValidElement(t)?t.props:t}function F6e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?R6e:n,s=t.activeClassName,i=s===void 0?"recharts-active-shape":s,l=t.isActive,c=E6e(t,D6e),u;if(w.isValidElement(e))u=w.cloneElement(e,Ev(Ev({},c),L6e(e)));else if(ze(e))u=e(c);else if(m6e(e)&&!x6e(e)){var d=a(e,c);u=U.createElement(NF,{shapeType:r,elementProps:d})}else{var f=c;u=U.createElement(NF,{shapeType:r,elementProps:f})}return l?U.createElement(zt,{className:i},u):u}function Ow(t,e){return e!=null&&"trapezoids"in t.props}function _w(t,e){return e!=null&&"sectors"in t.props}function Tm(t,e){return e!=null&&"points"in t.props}function B6e(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function q6e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function V6e(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function U6e(t,e){var r;return Ow(t,e)?r=B6e:_w(t,e)?r=q6e:Tm(t,e)&&(r=V6e),r}function z6e(t,e){var r;return Ow(t,e)?r="trapezoids":_w(t,e)?r="sectors":Tm(t,e)&&(r="points"),r}function W6e(t,e){if(Ow(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(_w(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Tm(t,e)?e.payload:{}}function H6e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=z6e(r,e),s=W6e(r,e),i=n.filter(function(c,u){var d=LE(s,c),f=r.props[a].filter(function(h){var b=U6e(r,e);return b(h,e)}),m=r.props[a].indexOf(f[f.length-1]),p=u===m;return d&&p}),l=n.indexOf(i[i.length-1]);return l}var Lb;function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ql.apply(this,arguments)}function SF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(r),!0).forEach(function(n){Vn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S8(n.key),n)}}function Y6e(t,e,r){return e&&AF(t.prototype,e),r&&AF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function K6e(t,e,r){return e=Pv(e),J6e(t,N8()?Reflect.construct(e,r||[],Pv(t).constructor):e.apply(t,r))}function J6e(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X6e(t)}function X6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N8=function(){return!!t})()}function Pv(t){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pv(t)}function Z6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mI(t,e)}function mI(t,e){return mI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mI(t,e)}function Vn(t,e,r){return e=S8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S8(t){var e=Q6e(t,"string");return nu(e)=="symbol"?e:e+""}function Q6e(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qn=function(t){function e(r){var n;return G6e(this,e),n=K6e(this,e,[r]),Vn(n,"pieRef",null),Vn(n,"sectorRefs",[]),Vn(n,"id",iw("recharts-pie-")),Vn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ze(a)&&a()}),Vn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ze(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Z6e(e,t),Y6e(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Ue(this.props,!1),f=Ue(i,!1),m=Ue(l,!1),p=i&&i.offsetRadius||20,h=n.map(function(b,g){var x=(b.startAngle+b.endAngle)/2,y=Nt(b.cx,b.cy,b.outerRadius+p,x),v=xt(xt(xt(xt({},d),b),{},{stroke:"none"},f),{},{index:g,textAnchor:e.getTextAnchor(y.x,b.cx)},y),N=xt(xt(xt(xt({},d),b),{},{fill:"none",stroke:b.fill},m),{},{index:g,points:[Nt(b.cx,b.cy,b.outerRadius,x),y]}),C=c;return Ke(c)&&Ke(u)?C="value":Ke(c)&&(C=u),U.createElement(zt,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(i,v,xn(b,C)))});return U.createElement(zt,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,p=f?i:m,h=xt(xt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return U.createElement(zt,Ql({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},lw(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),U.createElement(F6e,Ql({option:p,isActive:f,shapeType:"sector"},h)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,p=f.prevIsAnimationActive;return U.createElement(Fo,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(h){var b=h.t,g=[],x=s&&s[0],y=x.startAngle;return s.forEach(function(v,N){var C=m&&m[N],j=N>0?ga(v,"paddingAngle",0):0;if(C){var S=xR(C.endAngle-C.startAngle,v.endAngle-v.startAngle),k=xt(xt({},v),{},{startAngle:y+j,endAngle:y+S(b)+j});g.push(k),y=k.endAngle}else{var T=v.endAngle,A=v.startAngle,D=xR(0,T-A),P=D(b),M=xt(xt({},v),{},{startAngle:y+j,endAngle:y+P+j});g.push(M),y=M.endAngle}}),U.createElement(zt,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!LE(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,p=a.isAnimationActive,h=this.state.isAnimationFinished;if(s||!i||!i.length||!ve(u)||!ve(d)||!ve(f)||!ve(m))return null;var b=_e("recharts-pie",l);return U.createElement(zt,{tabIndex:this.props.rootTabIndex,className:b,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(i),Sr.renderCallByParent(this.props,null,!1),(!p||h)&&Ki.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(U.isValidElement(n))return U.cloneElement(n,a);if(ze(n))return n(a);var i=_e("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return U.createElement(Zk,Ql({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(U.isValidElement(n))return U.cloneElement(n,a);var i=s;if(ze(n)&&(i=n(a),U.isValidElement(i)))return i;var l=_e("recharts-pie-label-text",typeof n!="boolean"&&!ze(n)?n.className:"");return U.createElement(Yc,Ql({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(w.PureComponent);Lb=Qn;Vn(Qn,"displayName","Pie");Vn(Qn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Vn(Qn,"parseDeltaAngle",function(t,e){var r=zn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Vn(Qn,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ue(t,!1),a=qa(r,Du);return e&&e.length?e.map(function(s,i){return xt(xt(xt({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return xt(xt({},n),s.props)}):[]});Vn(Qn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,i=a8(a,s),l=n+tn(t.cx,a,a/2),c=r+tn(t.cy,s,s/2),u=tn(t.innerRadius,i,0),d=tn(t.outerRadius,i,i*.8),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Vn(Qn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?xt(xt({},e.type.defaultProps),e.props):e.props,a=Lb.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,p=Math.abs(n.minAngle),h=Lb.parseCoordinateOfPie(n,r),b=Lb.parseDeltaAngle(i,l),g=Math.abs(b),x=u;Ke(u)&&Ke(f)?(js(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ke(u)&&(js(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=a.filter(function(k){return xn(k,x,0)!==0}).length,v=(g>=360?y:y-1)*c,N=g-y*p-v,C=a.reduce(function(k,T){var A=xn(T,x,0);return k+(ve(A)?A:0)},0),j;if(C>0){var S;j=a.map(function(k,T){var A=xn(k,x,0),D=xn(k,d,T),P=(ve(A)?A:0)/C,M;T?M=S.endAngle+zn(b)*c*(A!==0?1:0):M=i;var $=M+zn(b)*((A!==0?p:0)+P*N),R=(M+$)/2,F=(h.innerRadius+h.outerRadius)/2,z=[{name:D,value:A,payload:k,dataKey:x,type:m}],O=Nt(h.cx,h.cy,F,R);return S=xt(xt(xt({percent:P,cornerRadius:s,name:D,tooltipPayload:z,midAngle:R,middleRadius:F,tooltipPosition:O},k),h),{},{value:xn(k,x),startAngle:M,endAngle:$,payload:k,paddingAngle:zn(b)*c}),S})}return xt(xt({},h),{},{sectors:j,data:a})});var eVe=Math.ceil,tVe=Math.max;function rVe(t,e,r,n){for(var a=-1,s=tVe(eVe((e-t)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=t,t+=r;return i}var nVe=rVe,aVe=Jz,sVe=1/0,oVe=17976931348623157e292;function iVe(t){if(!t)return t===0?t:0;if(t=aVe(t),t===sVe||t===-1/0){var e=t<0?-1:1;return e*oVe}return t===t?t:0}var lVe=iVe,cVe=nVe,uVe=pw,QC=lVe;function dVe(t){return function(e,r,n){return n&&typeof n!="number"&&uVe(e,r,n)&&(r=n=void 0),e=QC(e),r===void 0?(r=e,e=0):r=QC(r),n=n===void 0?e<r?1:-1:QC(n),cVe(e,r,n,t)}}var fVe=dVe,mVe=fVe,hVe=mVe(),pVe=hVe;const Ov=st(pVe);function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function kF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function IF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(r),!0).forEach(function(n){A8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A8(t,e,r){return e=gVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gVe(t){var e=yVe(t,"string");return Dm(e)=="symbol"?e:e+""}function yVe(t,e){if(Dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bVe=["Webkit","Moz","O","ms"],xVe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=bVe.reduce(function(s,i){return IF(IF({},s),{},A8({},i+n,r))},{});return a[e]=r,a};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_v.apply(this,arguments)}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){pn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I8(n.key),n)}}function jVe(t,e,r){return e&&DF(t.prototype,e),r&&DF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wVe(t,e,r){return e=$v(e),CVe(t,k8()?Reflect.construct(e,r||[],$v(t).constructor):e.apply(t,r))}function CVe(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NVe(t)}function NVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k8=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(t)}function SVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hI(t,e)}function hI(t,e){return hI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hI(t,e)}function pn(t,e,r){return e=I8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I8(t){var e=AVe(t,"string");return au(e)=="symbol"?e:e+""}function AVe(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kVe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,i=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=cf().domain(Ov(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},EF=function(e){return e.changedTouches&&!!e.changedTouches.length},su=function(t){function e(r){var n;return vVe(this,e),n=wVe(this,e,[r]),pn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),pn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),pn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),pn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),pn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),pn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),pn(n,"handleSlideDragStart",function(a){var s=EF(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return SVe(e,t),jVe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),m=Math.max(a,s),p=e.getIndexInRange(i,f),h=e.getIndexInRange(i,m);return{startIndex:p-p%c,endIndex:h===d?d:h-h%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=xn(s[n],l,n);return ze(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,p=c.endIndex,h=c.onChange,b=n.pageX-s;b>0?b=Math.min(b,u+d-f-l,u+d-f-i):b<0&&(b=Math.max(b,u-i,u-l));var g=this.getIndex({startX:i+b,endX:l+b});(g.startIndex!==m||g.endIndex!==p)&&h&&h(g),this.setState({startX:i+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=EF(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,m=d.width,p=d.travellerWidth,h=d.onChange,b=d.gap,g=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+m-p-u):y<0&&(y=Math.max(y,f-u)),x[i]=u+y;var v=this.getIndex(x),N=v.startIndex,C=v.endIndex,j=function(){var k=g.length-1;return i==="startX"&&(l>c?N%b===0:C%b===0)||l<c&&C===k||i==="endX"&&(l>c?C%b===0:N%b===0)||l>c&&C===k};this.setState(pn(pn({},i,u+y),"brushMoveStartX",n.pageX),function(){h&&j()&&h(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var p=l[m];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(pn({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return U.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?U.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,p=c.ariaLabel,h=c.data,b=c.startIndex,g=c.endIndex,x=Math.max(n,this.props.x),y=eN(eN({},Ue(this.props,!1)),{},{x,y:u,width:d,height:f}),v=p||"Min value: ".concat((s=h[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=h[g])===null||i===void 0?void 0:i.name);return U.createElement(zt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,y))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,p=5,h={pointerEvents:"none",fill:u};return U.createElement(zt,{className:"recharts-brush-texts"},U.createElement(Yc,_v({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-p,y:i+l/2},h),this.getTextOfTick(a)),U.createElement(Yc,_v({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+p,y:i+l/2},h),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,p=m.startX,h=m.endX,b=m.isTextActive,g=m.isSlideMoving,x=m.isTravellerMoving,y=m.isTravellerFocused;if(!a||!a.length||!ve(l)||!ve(c)||!ve(u)||!ve(d)||u<=0||d<=0)return null;var v=_e("recharts-brush",s),N=U.Children.count(i)===1,C=xVe("userSelect","none");return U.createElement(zt,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,h),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(h,"endX"),(b||g||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),U.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return U.isValidElement(n)?s=U.cloneElement(n,a):ze(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return eN({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?kVe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var m=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(w.PureComponent);pn(su,"displayName","Brush");pn(su,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var IVe=mE;function TVe(t,e){var r;return IVe(t,function(n,a,s){return r=e(n,a,s),!r}),!!r}var DVe=TVe,EVe=Nz,PVe=Xo,OVe=DVe,_Ve=mn,$Ve=pw;function RVe(t,e,r){var n=_Ve(t)?EVe:OVe;return r&&$Ve(t,e,r)&&(e=void 0),n(t,PVe(e))}var MVe=RVe;const LVe=st(MVe);var za=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},PF=Wz;function FVe(t,e,r){e=="__proto__"&&PF?PF(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var BVe=FVe,qVe=BVe,VVe=Uz,UVe=Xo;function zVe(t,e){var r={};return e=UVe(e),VVe(t,function(n,a,s){qVe(r,a,e(n,a,s))}),r}var WVe=zVe;const HVe=st(WVe);function GVe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var YVe=GVe,KVe=mE;function JVe(t,e){var r=!0;return KVe(t,function(n,a,s){return r=!!e(n,a,s),r}),r}var XVe=JVe,ZVe=YVe,QVe=XVe,eUe=Xo,tUe=mn,rUe=pw;function nUe(t,e,r){var n=tUe(t)?ZVe:QVe;return r&&rUe(t,e,r)&&(e=void 0),n(t,eUe(e))}var aUe=nUe;const sUe=st(aUe);function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function oUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T8(n.key),n)}}function iUe(t,e,r){return e&&OF(t.prototype,e),r&&OF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(r),!0).forEach(function(n){WE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WE(t,e,r){return e=T8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T8(t){var e=lUe(t,"string");return Em(e)=="symbol"?e:e+""}function lUe(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D8=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},cUe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return D8({x:r,y:n},{x:a,y:s})},E8=function(){function t(e){oUe(this,t),this.scale=e}return iUe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();WE(E8,"EPS",1e-4);var HE=function(e){var r=Object.keys(e).reduce(function(n,a){return vp(vp({},n),{},WE({},a,E8.create(e[a])))},{});return vp(vp({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return HVe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return sUe(a,function(s,i){return r[i].isInRange(s)})}})},uUe=BSe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),P8=w.createContext(void 0),O8=w.createContext(void 0),_8=w.createContext(void 0),dUe=w.createContext({}),$8=w.createContext(void 0),fUe=w.createContext(0),mUe=w.createContext(0),$F=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=e.clipPathId,l=e.children,c=e.width,u=e.height,d=uUe(s);return U.createElement(P8.Provider,{value:n},U.createElement(O8.Provider,{value:a},U.createElement(dUe.Provider,{value:s},U.createElement(_8.Provider,{value:d},U.createElement($8.Provider,{value:i},U.createElement(fUe.Provider,{value:u},U.createElement(mUe.Provider,{value:c},l)))))))},hUe=function(){return w.useContext($8)},pUe=function(e){var r=w.useContext(P8);r==null&&Zc();var n=r[e];return n==null&&Zc(),n},gUe=function(e){var r=w.useContext(O8);r==null&&Zc();var n=r[e];return n==null&&Zc(),n},yUe=function(){var e=w.useContext(_8);return e};function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function bUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M8(n.key),n)}}function vUe(t,e,r){return e&&xUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jUe(t,e,r){return e=Rv(e),wUe(t,R8()?Reflect.construct(e,r||[],Rv(t).constructor):e.apply(t,r))}function wUe(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CUe(t)}function CUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R8=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(t)}function NUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pI(t,e)}function pI(t,e){return pI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pI(t,e)}function RF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function MF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(r),!0).forEach(function(n){GE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GE(t,e,r){return e=M8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M8(t){var e=SUe(t,"string");return ou(e)=="symbol"?e:e+""}function SUe(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AUe(t,e){return DUe(t)||TUe(t,e)||IUe(t,e)||kUe()}function kUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IUe(t,e){if(t){if(typeof t=="string")return LF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LF(t,e)}}function LF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function DUe(t){if(Array.isArray(t))return t}function gI(){return gI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gI.apply(this,arguments)}var EUe=function(e,r){var n;return U.isValidElement(e)?n=U.cloneElement(e,r):ze(e)?n=e(r):n=U.createElement("line",gI({},r,{className:"recharts-reference-line-line"})),n},PUe=function(e,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,m=s.width,p=s.height;if(n){var h=u.y,b=e.y.apply(h,{position:i});if(za(u,"discard")&&!e.y.isInRange(b))return null;var g=[{x:d+m,y:b},{x:d,y:b}];return c==="left"?g.reverse():g}if(r){var x=u.x,y=e.x.apply(x,{position:i});if(za(u,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?v.reverse():v}if(a){var N=u.segment,C=N.map(function(j){return e.apply(j,{position:i})});return za(u,"discard")&&LVe(C,function(j){return!e.isInRange(j)})?null:C}return null};function OUe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,i=t.shape,l=t.className,c=t.alwaysShow,u=hUe(),d=pUe(a),f=gUe(s),m=yUe();if(!u||!m)return null;js(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=HE({x:d.scale,y:f.scale}),h=dr(e),b=dr(r),g=n&&n.length===2,x=PUe(p,h,b,g,m,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=AUe(x,2),v=y[0],N=v.x,C=v.y,j=y[1],S=j.x,k=j.y,T=za(t,"hidden")?"url(#".concat(u,")"):void 0,A=MF(MF({clipPath:T},Ue(t,!0)),{},{x1:N,y1:C,x2:S,y2:k});return U.createElement(zt,{className:_e("recharts-reference-line",l)},EUe(i,A),Sr.renderCallByParent(t,cUe({x1:N,y1:C,x2:S,y2:k})))}var YE=function(t){function e(){return bUe(this,e),jUe(this,e,arguments)}return NUe(e,t),vUe(e,[{key:"render",value:function(){return U.createElement(OUe,this.props)}}])}(U.Component);GE(YE,"displayName","ReferenceLine");GE(YE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yI(){return yI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yI.apply(this,arguments)}function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(n){$w(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F8(n.key),n)}}function RUe(t,e,r){return e&&$Ue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MUe(t,e,r){return e=Mv(e),LUe(t,L8()?Reflect.construct(e,r||[],Mv(t).constructor):e.apply(t,r))}function LUe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FUe(t)}function FUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L8=function(){return!!t})()}function Mv(t){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mv(t)}function BUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bI(t,e)}function bI(t,e){return bI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bI(t,e)}function $w(t,e,r){return e=F8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F8(t){var e=qUe(t,"string");return iu(e)=="symbol"?e:e+""}function qUe(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VUe=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,i=HE({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return za(e,"discard")&&!i.isInRange(l)?null:l},Rw=function(t){function e(){return _Ue(this,e),MUe(this,e,arguments)}return BUe(e,t),RUe(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=dr(a),d=dr(s);if(js(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=VUe(this.props);if(!f)return null;var m=f.x,p=f.y,h=this.props,b=h.shape,g=h.className,x=za(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=BF(BF({clipPath:x},Ue(this.props,!0)),{},{cx:m,cy:p});return U.createElement(zt,{className:_e("recharts-reference-dot",g)},e.renderDot(b,y),Sr.renderCallByParent(this.props,{x:m-i,y:p-i,width:2*i,height:2*i}))}}])}(U.Component);$w(Rw,"displayName","ReferenceDot");$w(Rw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});$w(Rw,"renderDot",function(t,e){var r;return U.isValidElement(t)?r=U.cloneElement(t,e):ze(t)?r=t(e):r=U.createElement(zE,yI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function xI(){return xI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xI.apply(this,arguments)}function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function VF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){Mw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q8(n.key),n)}}function WUe(t,e,r){return e&&zUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HUe(t,e,r){return e=Lv(e),GUe(t,B8()?Reflect.construct(e,r||[],Lv(t).constructor):e.apply(t,r))}function GUe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YUe(t)}function YUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B8=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(t)}function KUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vI(t,e)}function vI(t,e){return vI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vI(t,e)}function Mw(t,e,r){return e=q8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q8(t){var e=JUe(t,"string");return lu(e)=="symbol"?e:e+""}function JUe(t,e){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XUe=function(e,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=HE({x:d.scale,y:f.scale}),p={x:e?m.x.apply(i,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},h={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return za(s,"discard")&&(!m.isInRange(p)||!m.isInRange(h))?null:D8(p,h)},Lw=function(t){function e(){return UUe(this,e),HUe(this,e,arguments)}return KUe(e,t),WUe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;js(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=dr(a),m=dr(s),p=dr(i),h=dr(l),b=this.props.shape;if(!f&&!m&&!p&&!h&&!b)return null;var g=XUe(f,m,p,h,this.props);if(!g&&!b)return null;var x=za(this.props,"hidden")?"url(#".concat(d,")"):void 0;return U.createElement(zt,{className:_e("recharts-reference-area",c)},e.renderRect(b,VF(VF({clipPath:x},Ue(this.props,!0)),g)),Sr.renderCallByParent(this.props,g))}}])}(U.Component);Mw(Lw,"displayName","ReferenceArea");Mw(Lw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Mw(Lw,"renderRect",function(t,e){var r;return U.isValidElement(t)?r=U.cloneElement(t,e):ze(t)?r=t(e):r=U.createElement(UE,xI({},e,{className:"recharts-reference-area-rect"})),r});function UF(t){return tze(t)||eze(t)||QUe(t)||ZUe()}function ZUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QUe(t,e){if(t){if(typeof t=="string")return jI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jI(t,e)}}function eze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tze(t){if(Array.isArray(t))return jI(t)}function jI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wI=function(e,r,n,a,s){var i=qa(e,YE),l=qa(e,Rw),c=[].concat(UF(i),UF(l)),u=qa(e,Lw),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(b,g){if(g.props[d]===n&&za(g.props,"extendDomain")&&ve(g.props[f])){var x=g.props[f];return[Math.min(b[0],x),Math.max(b[1],x)]}return b},m)),u.length){var p="".concat(f,"1"),h="".concat(f,"2");m=u.reduce(function(b,g){if(g.props[d]===n&&za(g.props,"extendDomain")&&ve(g.props[p])&&ve(g.props[h])){var x=g.props[p],y=g.props[h];return[Math.min(b[0],x,y),Math.max(b[1],x,y)]}return b},m)}return s&&s.length&&(m=s.reduce(function(b,g){return ve(g)?[Math.min(b[0],g),Math.max(b[1],g)]:b},m)),m},V8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,m),h=r?r+u:u;return c._events[h]?c._events[h].fn?c._events[h]=[c._events[h],p]:c._events[h].push(p):(c._events[h]=p,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,h=new Array(p);m<p;m++)h[m]=f[m].fn;return h},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,p,h){var b=r?r+u:u;if(!this._events[b])return!1;var g=this._events[b],x=arguments.length,y,v;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,m),!0;case 5:return g.fn.call(g.context,d,f,m,p),!0;case 6:return g.fn.call(g.context,d,f,m,p,h),!0}for(v=1,y=new Array(x-1);v<x;v++)y[v-1]=arguments[v];g.fn.apply(g.context,y)}else{var N=g.length,C;for(v=0;v<N;v++)switch(g[v].once&&this.removeListener(u,g[v].fn,void 0,!0),x){case 1:g[v].fn.call(g[v].context);break;case 2:g[v].fn.call(g[v].context,d);break;case 3:g[v].fn.call(g[v].context,d,f);break;case 4:g[v].fn.call(g[v].context,d,f,m);break;default:if(!y)for(C=1,y=new Array(x-1);C<x;C++)y[C-1]=arguments[C];g[v].fn.apply(g[v].context,y)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var h=this._events[p];if(h.fn)h.fn===d&&(!m||h.once)&&(!f||h.context===f)&&i(this,p);else{for(var b=0,g=[],x=h.length;b<x;b++)(h[b].fn!==d||m&&!h[b].once||f&&h[b].context!==f)&&g.push(h[b]);g.length?this._events[p]=g.length===1?g[0]:g:i(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(V8);var rze=V8.exports;const nze=st(rze);var tN=new nze,rN="recharts.syncMouseEvents";function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function aze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U8(n.key),n)}}function oze(t,e,r){return e&&sze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nN(t,e,r){return e=U8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U8(t){var e=ize(t,"string");return Pm(e)=="symbol"?e:e+""}function ize(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lze=function(){function t(){aze(this,t),nN(this,"activeIndex",0),nN(this,"coordinateList",[]),nN(this,"layout","horizontal")}return oze(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,m=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function cze(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&ve(n)&&ve(a))return!0}return!1}function uze(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function z8(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,i=Nt(e,r,n,a),l=Nt(e,r,n,s);return{points:[i,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function dze(t,e,r){var n,a,s,i;if(t==="horizontal")n=e.x,s=n,a=r.top,i=r.top+r.height;else if(t==="vertical")a=e.y,i=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=Nt(l,c,u,f),p=Nt(l,c,d,f);n=m.x,a=m.y,s=p.x,i=p.y}else return z8(e);return[{x:n,y:a},{x:s,y:i}]}function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function zF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(r),!0).forEach(function(n){fze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fze(t,e,r){return e=mze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mze(t){var e=hze(t,"string");return Om(e)=="symbol"?e:e+""}function hze(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pze(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,i=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!i||m!=="ScatterChart"&&a!=="axis")return null;var h,b=Zk;if(m==="ScatterChart")h=i,b=wqe;else if(m==="BarChart")h=uze(f,i,c,d),b=UE;else if(f==="radial"){var g=z8(i),x=g.cx,y=g.cy,v=g.radius,N=g.startAngle,C=g.endAngle;h={cx:x,cy:y,startAngle:N,endAngle:C,innerRadius:v,outerRadius:v},b=l8}else h={points:dze(f,i,c)},b=Zk;var j=jp(jp(jp(jp({stroke:"#ccc",pointerEvents:"none"},c),h),Ue(p,!1)),{},{payload:l,payloadIndex:u,className:_e("recharts-tooltip-cursor",p.className)});return w.isValidElement(p)?w.cloneElement(p,j):w.createElement(b,j)}var gze=["item"],yze=["children","className","width","height","style","compact","title","desc"];function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ec.apply(this,arguments)}function WF(t,e){return vze(t)||xze(t,e)||H8(t,e)||bze()}function bze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function vze(t){if(Array.isArray(t))return t}function HF(t,e){if(t==null)return{};var r=jze(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G8(n.key),n)}}function Nze(t,e,r){return e&&Cze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sze(t,e,r){return e=Fv(e),Aze(t,W8()?Reflect.construct(e,r||[],Fv(t).constructor):e.apply(t,r))}function Aze(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kze(t)}function kze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W8=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(t)}function Ize(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CI(t,e)}function CI(t,e){return CI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CI(t,e)}function uu(t){return Eze(t)||Dze(t)||H8(t)||Tze()}function Tze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H8(t,e){if(t){if(typeof t=="string")return NI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NI(t,e)}}function Dze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eze(t){if(Array.isArray(t))return NI(t)}function NI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GF(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pe(t,e,r){return e=G8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G8(t){var e=Pze(t,"string");return cu(e)=="symbol"?e:e+""}function Pze(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oze={xAxis:["bottom","top"],yAxis:["left","right"]},_ze={width:"100%",height:"100%"},Y8={x:0,y:0};function wp(t){return t}var $ze=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Rze=function(e,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,l=a.radius;return ne(ne(ne({},a),Nt(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return ne(ne(ne({},a),Nt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Y8},Fw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(uu(l),uu(u)):l},[]);return i.length>0?i:e&&e.length&&ve(a)&&ve(s)?e.slice(a,s+1):[]};function K8(t){return t==="number"?[0,"auto"]:void 0}var SI=function(e,r,n,a){var s=e.graphicalItems,i=e.tooltipAxis,l=Fw(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?l:f;m=ak(p,i.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(uu(c),[i4e(u,m)]):c},[])},YF=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},i=$ze(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=W5e(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=SI(e,r,d,f),p=Rze(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:p}}return null},Mze=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,p=t8(d,s);return n.reduce(function(h,b){var g,x=b.type.defaultProps!==void 0?ne(ne({},b.type.defaultProps),b.props):b.props,y=x.type,v=x.dataKey,N=x.allowDataOverflow,C=x.allowDuplicatedCategory,j=x.scale,S=x.ticks,k=x.includeHidden,T=x[i];if(h[T])return h;var A=Fw(e.data,{graphicalItems:a.filter(function(H){var te,fe=i in H.props?H.props[i]:(te=H.type.defaultProps)===null||te===void 0?void 0:te[i];return fe===T}),dataStartIndex:c,dataEndIndex:u}),D=A.length,P,M,$;cze(x.domain,N,y)&&(P=Hk(x.domain,null,N),p&&(y==="number"||j!=="auto")&&($=uf(A,v,"category")));var R=K8(y);if(!P||P.length===0){var F,z=(F=x.domain)!==null&&F!==void 0?F:R;if(v){if(P=uf(A,v,y),y==="category"&&p){var O=$Ae(P);C&&O?(M=P,P=Ov(0,D)):C||(P=DL(z,P,b).reduce(function(H,te){return H.indexOf(te)>=0?H:[].concat(uu(H),[te])},[]))}else if(y==="category")C?P=P.filter(function(H){return H!==""&&!Ke(H)}):P=DL(z,P,b).reduce(function(H,te){return H.indexOf(te)>=0||te===""||Ke(te)?H:[].concat(uu(H),[te])},[]);else if(y==="number"){var _=J5e(A,a.filter(function(H){var te,fe,ke=i in H.props?H.props[i]:(te=H.type.defaultProps)===null||te===void 0?void 0:te[i],ae="hide"in H.props?H.props.hide:(fe=H.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return ke===T&&(k||!ae)}),v,s,d);_&&(P=_)}p&&(y==="number"||j!=="auto")&&($=uf(A,v,"category"))}else p?P=Ov(0,D):l&&l[T]&&l[T].hasStack&&y==="number"?P=m==="expand"?[0,1]:r8(l[T].stackGroups,c,u):P=e8(A,a.filter(function(H){var te=i in H.props?H.props[i]:H.type.defaultProps[i],fe="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return te===T&&(k||!fe)}),y,d,!0);if(y==="number")P=wI(f,P,T,s,S),z&&(P=Hk(z,P,N));else if(y==="category"&&z){var B=z,Y=P.every(function(H){return B.indexOf(H)>=0});Y&&(P=B)}}return ne(ne({},h),{},Pe({},T,ne(ne({},x),{},{axisType:s,domain:P,categoricalDomain:$,duplicateDomain:M,originalDomain:(g=x.domain)!==null&&g!==void 0?g:R,isCategorical:p,layout:d})))},{})},Lze=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=Fw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,h=t8(d,s),b=-1;return n.reduce(function(g,x){var y=x.type.defaultProps!==void 0?ne(ne({},x.type.defaultProps),x.props):x.props,v=y[i],N=K8("number");if(!g[v]){b++;var C;return h?C=Ov(0,p):l&&l[v]&&l[v].hasStack?(C=r8(l[v].stackGroups,c,u),C=wI(f,C,v,s)):(C=Hk(N,e8(m,n.filter(function(j){var S,k,T=i in j.props?j.props[i]:(S=j.type.defaultProps)===null||S===void 0?void 0:S[i],A="hide"in j.props?j.props.hide:(k=j.type.defaultProps)===null||k===void 0?void 0:k.hide;return T===v&&!A}),"number",d),a.defaultProps.allowDataOverflow),C=wI(f,C,v,s)),ne(ne({},g),{},Pe({},v,ne(ne({axisType:s},a.defaultProps),{},{hide:!0,orientation:ga(Oze,"".concat(s,".").concat(b%2),null),domain:C,originalDomain:N,isCategorical:h,layout:d})))}return g},{})},Fze=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=qa(d,s),p={};return m&&m.length?p=Mze(e,{axes:m,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(p=Lze(e,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Bze=function(e){var r=Ml(e),n=kd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:hE(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Gk(r,n)}},KF=function(e){var r=e.children,n=e.defaultShowTooltip,a=Fn(r,su),s=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},qze=function(e){return!e||!e.length?!1:e.some(function(r){var n=vs(r&&r.type);return n&&n.indexOf("Bar")>=0})},JF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Vze=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,i=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},p=Fn(f,su),h=Fn(f,Va),b=Object.keys(c).reduce(function(C,j){var S=c[j],k=S.orientation;return!S.mirror&&!S.hide?ne(ne({},C),{},Pe({},k,C[k]+S.width)):C},{left:m.left||0,right:m.right||0}),g=Object.keys(i).reduce(function(C,j){var S=i[j],k=S.orientation;return!S.mirror&&!S.hide?ne(ne({},C),{},Pe({},k,ga(C,"".concat(k))+S.height)):C},{top:m.top||0,bottom:m.bottom||0}),x=ne(ne({},g),b),y=x.bottom;p&&(x.bottom+=p.props.height||su.defaultProps.height),h&&r&&(x=Y5e(x,a,n,r));var v=u-x.left-x.right,N=d-x.top-x.bottom;return ne(ne({brushBottom:y},x),{},{width:Math.max(v,0),height:Math.max(N,0)})},Uze=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},zze=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,i=e.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(x,y){var v=y.graphicalItems,N=y.stackGroups,C=y.offset,j=y.updateId,S=y.dataStartIndex,k=y.dataEndIndex,T=x.barSize,A=x.layout,D=x.barGap,P=x.barCategoryGap,M=x.maxBarSize,$=JF(A),R=$.numericAxisName,F=$.cateAxisName,z=qze(v),O=[];return v.forEach(function(_,B){var Y=Fw(x.data,{graphicalItems:[_],dataStartIndex:S,dataEndIndex:k}),H=_.type.defaultProps!==void 0?ne(ne({},_.type.defaultProps),_.props):_.props,te=H.dataKey,fe=H.maxBarSize,ke=H["".concat(R,"Id")],ae=H["".concat(F,"Id")],X={},ue=c.reduce(function(Hr,J){var ye=y["".concat(J.axisType,"Map")],Z=H["".concat(J.axisType,"Id")];ye&&ye[Z]||J.axisType==="zAxis"||Zc();var pe=ye[Z];return ne(ne({},Hr),{},Pe(Pe({},J.axisType,pe),"".concat(J.axisType,"Ticks"),kd(pe)))},X),Q=ue[F],re=ue["".concat(F,"Ticks")],K=N&&N[ke]&&N[ke].hasStack&&s4e(_,N[ke].stackGroups),W=vs(_.type).indexOf("Bar")>=0,me=Gk(Q,re),je=[],Te=z&&H5e({barSize:T,stackGroups:N,totalSize:Uze(ue,F)});if(W){var Ve,qe,Lr=Ke(fe)?M:fe,Fr=(Ve=(qe=Gk(Q,re,!0))!==null&&qe!==void 0?qe:Lr)!==null&&Ve!==void 0?Ve:0;je=G5e({barGap:D,barCategoryGap:P,bandSize:Fr!==me?Fr:me,sizeList:Te[ae],maxBarSize:Lr}),Fr!==me&&(je=je.map(function(Hr){return ne(ne({},Hr),{},{position:ne(ne({},Hr.position),{},{offset:Hr.position.offset-Fr/2})})}))}var ea=_&&_.type&&_.type.getComposedData;ea&&O.push({props:ne(ne({},ea(ne(ne({},ue),{},{displayedData:Y,props:x,dataKey:te,item:_,bandSize:me,barPosition:je,offset:C,stackedData:K,layout:A,dataStartIndex:S,dataEndIndex:k}))),{},Pe(Pe(Pe({key:_.key||"item-".concat(B)},R,ue[R]),F,ue[F]),"animationId",j)),childIndex:HAe(_,x.children),item:_})}),O},p=function(x,y){var v=x.props,N=x.dataStartIndex,C=x.dataEndIndex,j=x.updateId;if(!NR({props:v}))return null;var S=v.children,k=v.layout,T=v.stackOffset,A=v.data,D=v.reverseStackOrder,P=JF(k),M=P.numericAxisName,$=P.cateAxisName,R=qa(S,n),F=n4e(A,R,"".concat(M,"Id"),"".concat($,"Id"),T,D),z=c.reduce(function(H,te){var fe="".concat(te.axisType,"Map");return ne(ne({},H),{},Pe({},fe,Fze(v,ne(ne({},te),{},{graphicalItems:R,stackGroups:te.axisType===M&&F,dataStartIndex:N,dataEndIndex:C}))))},{}),O=Vze(ne(ne({},z),{},{props:v,graphicalItems:R}),y==null?void 0:y.legendBBox);Object.keys(z).forEach(function(H){z[H]=d(v,z[H],O,H.replace("Map",""),r)});var _=z["".concat($,"Map")],B=Bze(_),Y=m(v,ne(ne({},z),{},{dataStartIndex:N,dataEndIndex:C,updateId:j,graphicalItems:R,stackGroups:F,offset:O}));return ne(ne({formattedGraphicalItems:Y,graphicalItems:R,offset:O,stackGroups:F},B),z)},h=function(g){function x(y){var v,N,C;return wze(this,x),C=Sze(this,x,[y]),Pe(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Pe(C,"accessibilityManager",new lze),Pe(C,"handleLegendBBoxUpdate",function(j){if(j){var S=C.state,k=S.dataStartIndex,T=S.dataEndIndex,A=S.updateId;C.setState(ne({legendBBox:j},p({props:C.props,dataStartIndex:k,dataEndIndex:T,updateId:A},ne(ne({},C.state),{},{legendBBox:j}))))}}),Pe(C,"handleReceiveSyncEvent",function(j,S,k){if(C.props.syncId===j){if(k===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(S)}}),Pe(C,"handleBrushChange",function(j){var S=j.startIndex,k=j.endIndex;if(S!==C.state.dataStartIndex||k!==C.state.dataEndIndex){var T=C.state.updateId;C.setState(function(){return ne({dataStartIndex:S,dataEndIndex:k},p({props:C.props,dataStartIndex:S,dataEndIndex:k,updateId:T},C.state))}),C.triggerSyncEvent({dataStartIndex:S,dataEndIndex:k})}}),Pe(C,"handleMouseEnter",function(j){var S=C.getMouseInfo(j);if(S){var k=ne(ne({},S),{},{isTooltipActive:!0});C.setState(k),C.triggerSyncEvent(k);var T=C.props.onMouseEnter;ze(T)&&T(k,j)}}),Pe(C,"triggeredAfterMouseMove",function(j){var S=C.getMouseInfo(j),k=S?ne(ne({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(k),C.triggerSyncEvent(k);var T=C.props.onMouseMove;ze(T)&&T(k,j)}),Pe(C,"handleItemMouseEnter",function(j){C.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Pe(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Pe(C,"handleMouseMove",function(j){j.persist(),C.throttleTriggeredAfterMouseMove(j)}),Pe(C,"handleMouseLeave",function(j){C.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};C.setState(S),C.triggerSyncEvent(S);var k=C.props.onMouseLeave;ze(k)&&k(S,j)}),Pe(C,"handleOuterEvent",function(j){var S=WAe(j),k=ga(C.props,"".concat(S));if(S&&ze(k)){var T,A;/.*touch.*/i.test(S)?A=C.getMouseInfo(j.changedTouches[0]):A=C.getMouseInfo(j),k((T=A)!==null&&T!==void 0?T:{},j)}}),Pe(C,"handleClick",function(j){var S=C.getMouseInfo(j);if(S){var k=ne(ne({},S),{},{isTooltipActive:!0});C.setState(k),C.triggerSyncEvent(k);var T=C.props.onClick;ze(T)&&T(k,j)}}),Pe(C,"handleMouseDown",function(j){var S=C.props.onMouseDown;if(ze(S)){var k=C.getMouseInfo(j);S(k,j)}}),Pe(C,"handleMouseUp",function(j){var S=C.props.onMouseUp;if(ze(S)){var k=C.getMouseInfo(j);S(k,j)}}),Pe(C,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Pe(C,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseDown(j.changedTouches[0])}),Pe(C,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseUp(j.changedTouches[0])}),Pe(C,"handleDoubleClick",function(j){var S=C.props.onDoubleClick;if(ze(S)){var k=C.getMouseInfo(j);S(k,j)}}),Pe(C,"handleContextMenu",function(j){var S=C.props.onContextMenu;if(ze(S)){var k=C.getMouseInfo(j);S(k,j)}}),Pe(C,"triggerSyncEvent",function(j){C.props.syncId!==void 0&&tN.emit(rN,C.props.syncId,j,C.eventEmitterSymbol)}),Pe(C,"applySyncEvent",function(j){var S=C.props,k=S.layout,T=S.syncMethod,A=C.state.updateId,D=j.dataStartIndex,P=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)C.setState(ne({dataStartIndex:D,dataEndIndex:P},p({props:C.props,dataStartIndex:D,dataEndIndex:P,updateId:A},C.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,$=j.chartY,R=j.activeTooltipIndex,F=C.state,z=F.offset,O=F.tooltipTicks;if(!z)return;if(typeof T=="function")R=T(O,j);else if(T==="value"){R=-1;for(var _=0;_<O.length;_++)if(O[_].value===j.activeLabel){R=_;break}}var B=ne(ne({},z),{},{x:z.left,y:z.top}),Y=Math.min(M,B.x+B.width),H=Math.min($,B.y+B.height),te=O[R]&&O[R].value,fe=SI(C.state,C.props.data,R),ke=O[R]?{x:k==="horizontal"?O[R].coordinate:Y,y:k==="horizontal"?H:O[R].coordinate}:Y8;C.setState(ne(ne({},j),{},{activeLabel:te,activeCoordinate:ke,activePayload:fe,activeTooltipIndex:R}))}else C.setState(j)}),Pe(C,"renderCursor",function(j){var S,k=C.state,T=k.isTooltipActive,A=k.activeCoordinate,D=k.activePayload,P=k.offset,M=k.activeTooltipIndex,$=k.tooltipAxisBandSize,R=C.getTooltipEventType(),F=(S=j.props.active)!==null&&S!==void 0?S:T,z=C.props.layout,O=j.key||"_recharts-cursor";return U.createElement(pze,{key:O,activeCoordinate:A,activePayload:D,activeTooltipIndex:M,chartName:r,element:j,isActive:F,layout:z,offset:P,tooltipAxisBandSize:$,tooltipEventType:R})}),Pe(C,"renderPolarAxis",function(j,S,k){var T=ga(j,"type.axisType"),A=ga(C.state,"".concat(T,"Map")),D=j.type.defaultProps,P=D!==void 0?ne(ne({},D),j.props):j.props,M=A&&A[P["".concat(T,"Id")]];return w.cloneElement(j,ne(ne({},M),{},{className:_e(T,M.className),key:j.key||"".concat(S,"-").concat(k),ticks:kd(M,!0)}))}),Pe(C,"renderPolarGrid",function(j){var S=j.props,k=S.radialLines,T=S.polarAngles,A=S.polarRadius,D=C.state,P=D.radiusAxisMap,M=D.angleAxisMap,$=Ml(P),R=Ml(M),F=R.cx,z=R.cy,O=R.innerRadius,_=R.outerRadius;return w.cloneElement(j,{polarAngles:Array.isArray(T)?T:kd(R,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(A)?A:kd($,!0).map(function(B){return B.coordinate}),cx:F,cy:z,innerRadius:O,outerRadius:_,key:j.key||"polar-grid",radialLines:k})}),Pe(C,"renderLegend",function(){var j=C.state.formattedGraphicalItems,S=C.props,k=S.children,T=S.width,A=S.height,D=C.props.margin||{},P=T-(D.left||0)-(D.right||0),M=Z7({children:k,formattedGraphicalItems:j,legendWidth:P,legendContent:u});if(!M)return null;var $=M.item,R=HF(M,gze);return w.cloneElement($,ne(ne({},R),{},{chartWidth:T,chartHeight:A,margin:D,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Pe(C,"renderTooltip",function(){var j,S=C.props,k=S.children,T=S.accessibilityLayer,A=Fn(k,rs);if(!A)return null;var D=C.state,P=D.isTooltipActive,M=D.activeCoordinate,$=D.activePayload,R=D.activeLabel,F=D.offset,z=(j=A.props.active)!==null&&j!==void 0?j:P;return w.cloneElement(A,{viewBox:ne(ne({},F),{},{x:F.left,y:F.top}),active:z,label:R,payload:z?$:[],coordinate:M,accessibilityLayer:T})}),Pe(C,"renderBrush",function(j){var S=C.props,k=S.margin,T=S.data,A=C.state,D=A.offset,P=A.dataStartIndex,M=A.dataEndIndex,$=A.updateId;return w.cloneElement(j,{key:j.key||"_recharts-brush",onChange:gp(C.handleBrushChange,j.props.onChange),data:T,x:ve(j.props.x)?j.props.x:D.left,y:ve(j.props.y)?j.props.y:D.top+D.height+D.brushBottom-(k.bottom||0),width:ve(j.props.width)?j.props.width:D.width,startIndex:P,endIndex:M,updateId:"brush-".concat($)})}),Pe(C,"renderReferenceElement",function(j,S,k){if(!j)return null;var T=C,A=T.clipPathId,D=C.state,P=D.xAxisMap,M=D.yAxisMap,$=D.offset,R=j.type.defaultProps||{},F=j.props,z=F.xAxisId,O=z===void 0?R.xAxisId:z,_=F.yAxisId,B=_===void 0?R.yAxisId:_;return w.cloneElement(j,{key:j.key||"".concat(S,"-").concat(k),xAxis:P[O],yAxis:M[B],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:A})}),Pe(C,"renderActivePoints",function(j){var S=j.item,k=j.activePoint,T=j.basePoint,A=j.childIndex,D=j.isRange,P=[],M=S.props.key,$=S.item.type.defaultProps!==void 0?ne(ne({},S.item.type.defaultProps),S.item.props):S.item.props,R=$.activeDot,F=$.dataKey,z=ne(ne({index:A,dataKey:F,cx:k.x,cy:k.y,r:4,fill:VE(S.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Ue(R,!1)),Kx(R));return P.push(x.renderActiveDot(R,z,"".concat(M,"-activePoint-").concat(A))),T?P.push(x.renderActiveDot(R,ne(ne({},z),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(A))):D&&P.push(null),P}),Pe(C,"renderGraphicChild",function(j,S,k){var T=C.filterFormatItem(j,S,k);if(!T)return null;var A=C.getTooltipEventType(),D=C.state,P=D.isTooltipActive,M=D.tooltipAxis,$=D.activeTooltipIndex,R=D.activeLabel,F=C.props.children,z=Fn(F,rs),O=T.props,_=O.points,B=O.isRange,Y=O.baseLine,H=T.item.type.defaultProps!==void 0?ne(ne({},T.item.type.defaultProps),T.item.props):T.item.props,te=H.activeDot,fe=H.hide,ke=H.activeBar,ae=H.activeShape,X=!!(!fe&&P&&z&&(te||ke||ae)),ue={};A!=="axis"&&z&&z.props.trigger==="click"?ue={onClick:gp(C.handleItemMouseEnter,j.props.onClick)}:A!=="axis"&&(ue={onMouseLeave:gp(C.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:gp(C.handleItemMouseEnter,j.props.onMouseEnter)});var Q=w.cloneElement(j,ne(ne({},T.props),ue));function re(J){return typeof M.dataKey=="function"?M.dataKey(J.payload):null}if(X)if($>=0){var K,W;if(M.dataKey&&!M.allowDuplicatedCategory){var me=typeof M.dataKey=="function"?re:"payload.".concat(M.dataKey.toString());K=ak(_,me,R),W=B&&Y&&ak(Y,me,R)}else K=_==null?void 0:_[$],W=B&&Y&&Y[$];if(ae||ke){var je=j.props.activeIndex!==void 0?j.props.activeIndex:$;return[w.cloneElement(j,ne(ne(ne({},T.props),ue),{},{activeIndex:je})),null,null]}if(!Ke(K))return[Q].concat(uu(C.renderActivePoints({item:T,activePoint:K,basePoint:W,childIndex:$,isRange:B})))}else{var Te,Ve=(Te=C.getItemByXY(C.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:Q},qe=Ve.graphicalItem,Lr=qe.item,Fr=Lr===void 0?j:Lr,ea=qe.childIndex,Hr=ne(ne(ne({},T.props),ue),{},{activeIndex:ea});return[w.cloneElement(Fr,Hr),null,null]}return B?[Q,null,null]:[Q,null]}),Pe(C,"renderCustomized",function(j,S,k){return w.cloneElement(j,ne(ne({key:"recharts-customized-".concat(k)},C.props),C.state))}),Pe(C,"renderMap",{CartesianGrid:{handler:wp,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:wp},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:wp},YAxis:{handler:wp},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((v=y.id)!==null&&v!==void 0?v:iw("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Xz(C.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),C.state={},C}return Ize(x,g),Nze(x,[{key:"componentDidMount",value:function(){var v,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,N=v.children,C=v.data,j=v.height,S=v.layout,k=Fn(N,rs);if(k){var T=k.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,D=SI(this.state,C,T,A),P=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+j)/2,$=S==="horizontal",R=$?{x:P,y:M}:{y:P,x:M},F=this.state.formattedGraphicalItems.find(function(O){var _=O.item;return _.type.name==="Scatter"});F&&(R=ne(ne({},R),F.props.points[T].tooltipPosition),D=F.props.points[T].tooltipPayload);var z={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:A,activePayload:D,activeCoordinate:R};this.setState(z),this.renderCursor(k),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var C,j;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(v){ik([Fn(v.children,rs)],[Fn(this.props.children,rs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Fn(this.props.children,rs);if(v&&typeof v.props.shared=="boolean"){var N=v.props.shared?"axis":"item";return l.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var N=this.container,C=N.getBoundingClientRect(),j=xRe(C),S={chartX:Math.round(v.pageX-j.left),chartY:Math.round(v.pageY-j.top)},k=C.width/N.offsetWidth||1,T=this.inRange(S.chartX,S.chartY,k);if(!T)return null;var A=this.state,D=A.xAxisMap,P=A.yAxisMap,M=this.getTooltipEventType(),$=YF(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&D&&P){var R=Ml(D).scale,F=Ml(P).scale,z=R&&R.invert?R.invert(S.chartX):null,O=F&&F.invert?F.invert(S.chartY):null;return ne(ne({},S),{},{xValue:z,yValue:O},$)}return $?ne(ne({},S),$):null}},{key:"inRange",value:function(v,N){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,S=v/C,k=N/C;if(j==="horizontal"||j==="vertical"){var T=this.state.offset,A=S>=T.left&&S<=T.left+T.width&&k>=T.top&&k<=T.top+T.height;return A?{x:S,y:k}:null}var D=this.state,P=D.angleAxisMap,M=D.radiusAxisMap;if(P&&M){var $=Ml(P);return OL({x:S,y:k},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,N=this.getTooltipEventType(),C=Fn(v,rs),j={};C&&N==="axis"&&(C.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Kx(this.props,this.handleOuterEvent);return ne(ne({},S),j)}},{key:"addListener",value:function(){tN.on(rN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){tN.removeListener(rN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,N,C){for(var j=this.state.formattedGraphicalItems,S=0,k=j.length;S<k;S++){var T=j[S];if(T.item===v||T.props.key===v.key||N===vs(T.item.type)&&C===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,N=this.state.offset,C=N.left,j=N.top,S=N.height,k=N.width;return U.createElement("defs",null,U.createElement("clipPath",{id:v},U.createElement("rect",{x:C,y:j,height:S,width:k})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(N,C){var j=WF(C,2),S=j[0],k=j[1];return ne(ne({},N),{},Pe({},S,k.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(N,C){var j=WF(C,2),S=j[0],k=j[1];return ne(ne({},N),{},Pe({},S,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[v])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(v){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[v])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(v){var N=this.state,C=N.formattedGraphicalItems,j=N.activeItem;if(C&&C.length)for(var S=0,k=C.length;S<k;S++){var T=C[S],A=T.props,D=T.item,P=D.type.defaultProps!==void 0?ne(ne({},D.type.defaultProps),D.props):D.props,M=vs(D.type);if(M==="Bar"){var $=(A.data||[]).find(function(O){return rqe(v,O)});if($)return{graphicalItem:T,payload:$}}else if(M==="RadialBar"){var R=(A.data||[]).find(function(O){return OL(v,O)});if(R)return{graphicalItem:T,payload:R}}else if(Ow(T,j)||_w(T,j)||Tm(T,j)){var F=H6e({graphicalItem:T,activeTooltipItem:j,itemData:P.data}),z=P.activeIndex===void 0?F:P.activeIndex;return{graphicalItem:ne(ne({},T),{},{childIndex:z}),payload:Tm(T,j)?P.data[F]:T.props.data[F]}}}return null}},{key:"render",value:function(){var v=this;if(!NR(this))return null;var N=this.props,C=N.children,j=N.className,S=N.width,k=N.height,T=N.style,A=N.compact,D=N.title,P=N.desc,M=HF(N,yze),$=Ue(M,!1);if(A)return U.createElement($F,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(ck,ec({},$,{width:S,height:k,title:D,desc:P}),this.renderClipPath(),AR(C,this.renderMap)));if(this.props.accessibilityLayer){var R,F;$.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,$.role=(F=this.props.role)!==null&&F!==void 0?F:"application",$.onKeyDown=function(O){v.accessibilityManager.keyboardEvent(O)},$.onFocus=function(){v.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return U.createElement($F,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",ec({className:_e("recharts-wrapper",j),style:ne({position:"relative",cursor:"default",width:S,height:k},T)},z,{ref:function(_){v.container=_}}),U.createElement(ck,ec({},$,{width:S,height:k,title:D,desc:P,style:_ze}),this.renderClipPath(),AR(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);Pe(h,"displayName",r),Pe(h,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Pe(h,"getDerivedStateFromProps",function(g,x){var y=g.dataKey,v=g.data,N=g.children,C=g.width,j=g.height,S=g.layout,k=g.stackOffset,T=g.margin,A=x.dataStartIndex,D=x.dataEndIndex;if(x.updateId===void 0){var P=KF(g);return ne(ne(ne({},P),{},{updateId:0},p(ne(ne({props:g},P),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:v,prevWidth:C,prevHeight:j,prevLayout:S,prevStackOffset:k,prevMargin:T,prevChildren:N})}if(y!==x.prevDataKey||v!==x.prevData||C!==x.prevWidth||j!==x.prevHeight||S!==x.prevLayout||k!==x.prevStackOffset||!sk(T,x.prevMargin)){var M=KF(g),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},R=ne(ne({},YF(x,v,S)),{},{updateId:x.updateId+1}),F=ne(ne(ne({},M),$),R);return ne(ne(ne({},F),p(ne({props:g},F),x)),{},{prevDataKey:y,prevData:v,prevWidth:C,prevHeight:j,prevLayout:S,prevStackOffset:k,prevMargin:T,prevChildren:N})}if(!ik(N,x.prevChildren)){var z,O,_,B,Y=Fn(N,su),H=Y&&(z=(O=Y.props)===null||O===void 0?void 0:O.startIndex)!==null&&z!==void 0?z:A,te=Y&&(_=(B=Y.props)===null||B===void 0?void 0:B.endIndex)!==null&&_!==void 0?_:D,fe=H!==A||te!==D,ke=!Ke(v),ae=ke&&!fe?x.updateId:x.updateId+1;return ne(ne({updateId:ae},p(ne(ne({props:g},x),{},{updateId:ae,dataStartIndex:H,dataEndIndex:te}),x)),{},{prevChildren:N,dataStartIndex:H,dataEndIndex:te})}return null}),Pe(h,"renderActiveDot",function(g,x,y){var v;return w.isValidElement(g)?v=w.cloneElement(g,x):ze(g)?v=g(x):v=U.createElement(zE,x),U.createElement(zt,{className:"recharts-active-dot",key:y},v)});var b=w.forwardRef(function(x,y){return U.createElement(h,ec({},x,{ref:y}))});return b.displayName=h.displayName,b},Bw=zze({chartName:"PieChart",GraphicalChild:Qn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Pw},{axisType:"radiusAxis",AxisComp:Dw}],formatAxisMap:g4e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const XF=["#0088FE","#FF8042"];function Wze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Budget vs Charges"}),o.jsxs("div",{className:"w-full h-72",children:[" ",o.jsx(yw,{width:"100%",height:"100%",children:o.jsxs(Bw,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(Qn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"70%",label:!0,children:t.map((e,r)=>o.jsx(Du,{fill:XF[r%XF.length]},`cell-${r}`))}),o.jsx(Va,{})]})})]})]})}const ZF=["#0088FE","#FF8042","#00C49F"];function Hze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Encumbrance vs Charges"}),o.jsxs("div",{className:"w-full h-64",children:[" ",o.jsx(yw,{width:"100%",height:"100%",children:o.jsxs(Bw,{children:[o.jsx(Qn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:t.map((e,r)=>o.jsx(Du,{fill:ZF[r%ZF.length]},`cell-${r}`))}),o.jsx(Va,{})]})})]})]})}function Gze(){const t=le(),[e,r]=w.useState(""),[n,a]=w.useState([]),[s,i]=w.useState(""),[l,c]=w.useState({chart1:[],chart2:[],table:[]}),[u,d]=w.useState(!1),{departments:f,isLoading:m}=V(b=>b.departments);w.useEffect(()=>{t(ar())},[]),w.useEffect(()=>{e?(d(!0),c0e(e==="All"?"":e).then(b=>{const g=(b==null?void 0:b.data)||[];a(g.map(x=>({value:x.ID,label:x.Name,...x})))}).finally(()=>d(!1))):a([]),i(""),c({chart1:[],chart2:[],table:[]})},[e]);const p=b=>{const g=n.find(A=>A.value===Number(b));if(!g)return;const x=parseFloat(g.Appropriation||0),y=parseFloat(g.Supplemental||0),v=parseFloat(g.Transfer||0),N=parseFloat(g.Charges||0),C=parseFloat(g.PreEncumbrance||0),j=parseFloat(g.Encumbrance||0),k=[{name:"Budget Amount",value:x+y+v-N},{name:"Charges",value:N}],T=[{name:"PreEncumbrance",value:C},{name:"Encumbrance",value:j},{name:"Charges",value:N}];c(A=>({...A,chart1:k,chart2:T})),d(!0),u0e(b).then(A=>{const D=(A==null?void 0:A.data)||[];c(P=>({...P,table:D}))}).finally(()=>d(!1))},h=[{key:"APAR",header:"APAR",sortable:!1},{key:"Total",header:"Total",sortable:!1}];return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Dashboard"}),o.jsx("p",{children:"Analyze department-wise budget allocations and expenses."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{label:"Department",name:"Department",type:"select",value:e,onChange:b=>{const g=b.target.value==="All Departments"?"All":b.target.value;r(g),i(""),c({chart1:[],chart2:[],table:[]})},options:[...f==null?void 0:f.map(b=>({value:b.ID,label:b.Name})),{value:"All Departments",label:"All Departments"}],required:!0}),o.jsx(I,{label:"Sub-Department",name:"SubDepartment",type:"select",value:s,onChange:b=>{console.log("e.target.value",b.target.value),i(b.target.value),p(b.target.value)},options:n,className:"disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsx(Wze,{data:l==null?void 0:l.chart1,loading:u}),o.jsx(Hze,{data:l==null?void 0:l.chart2,loading:u})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:h,data:(l==null?void 0:l.table)||[],loading:u||m,emptyMessage:"No budget data found for selected sub-department."})})]})}const QF=["#0088FE","#00C49F","#FF8042"],e5=[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}];function Yze(){const[t,e]=w.useState("year"),[r,n]=w.useState(""),[a,s]=w.useState("year"),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState({disbursement:[],obligation:[],travel:[]}),h=le(),{departments:b}=V(g=>g.departments);return w.useEffect(()=>{h(ar())},[]),w.useEffect(()=>{(async()=>{var x,y;try{const[v,N]=await Promise.all([z$(t,"Obligation Request",r==="All"?"":r),z$(t,"Disbursement Voucher",r==="All"?"":r)]);f(`PHP ${parseFloat(((x=v==null?void 0:v.data)==null?void 0:x.total)||0).toLocaleString()}`),u(`PHP ${parseFloat(((y=N==null?void 0:N.data)==null?void 0:y.total)||0).toLocaleString()}`)}catch(v){console.error("Error loading disbursement amounts:",v),q.error("Failed to load disbursement amounts")}})()},[t,r]),w.useEffect(()=>{(async()=>{try{const x=i==="All"?"":i,[y,v,N]=await Promise.all([d0e(a,x),f0e(a,x),m0e(a,x)]);p({obligation:(y==null?void 0:y.data)||[],travel:(v==null?void 0:v.data)||[],disbursement:(N==null?void 0:N.data)||[]})}catch(x){console.error("Error loading chart data:",x),q.error("Failed to load chart data")}})()},[a,i]),o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("h1",{children:"Disbursement Dashboard"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{label:"Timeframe",type:"select",value:t,onChange:g=>e(g.target.value),options:e5}),o.jsx(I,{label:"Department",name:"Department",type:"select",value:r,onChange:g=>{const x=g.target.value==="All Departments"?"All":g.target.value;n(x)},options:[...b==null?void 0:b.map(g=>({value:g.ID,label:g.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-primary-700",children:["Disbursed Amount: ",c]}),o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-amber-700",children:["Obligated Amount: ",d]})]}),o.jsx("hr",{className:"my-8 border-t"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Timeframe",type:"select",value:a,onChange:g=>s(g.target.value),options:e5}),o.jsx(I,{label:"Department",name:"Department",type:"select",value:r,onChange:g=>{const x=g.target.value==="All Departments"?"All":g.target.value;l(x)},options:[...b==null?void 0:b.map(g=>({value:g.ID,label:g.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[aN("Disbursement",[m==null?void 0:m.disbursement]),aN("Obligation",[m==null?void 0:m.obligation]),aN("Travel",[m==null?void 0:m.travel])]})]})}const aN=(t,e)=>o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(yw,{width:"100%",height:"100%",children:o.jsxs(Bw,{children:[o.jsx(Qn,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e==null?void 0:e.map((r,n)=>o.jsx(Du,{fill:QF[n%QF.length]},n))}),o.jsx(Va,{})]})})})]}),t5=["#0088FE","#FF8042","#00C49F"];function Cp({title:t,data:e}){return o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(yw,{width:"100%",height:"100%",children:o.jsxs(Bw,{children:[o.jsx(Qn,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e.map((r,n)=>o.jsx(Du,{fill:t5[n%t5.length]},n))}),o.jsx(Va,{})]})})})]})}function Kze(){const[t,e]=w.useState("day"),[r,n]=w.useState({general:0,marriage:0,burial:0,cedula:0}),[a,s]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]);w.useEffect(()=>{(async()=>{try{const[h,b,g,x,y]=await Promise.all([h0e(t),p0e(),g0e(),y0e(),b0e()]),v=(h==null?void 0:h.data)||{};n({general:parseFloat(v.General||0),marriage:parseFloat(v.Marriage||0),burial:parseFloat(v.Burial||0),cedula:parseFloat(v.Cedula||0)}),s(m(b.data)),l(m(g.data)),u(m(x.data)),f(m(y.data))}catch(h){console.error(h),q.error("Failed to load collection data")}})()},[t]);const m=(p=[])=>p.map(h=>({name:h.date||"Unknown",value:parseFloat(h.total||0)}));return o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 items-start",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cedula"}),o.jsx(Cp,{title:"Cedula",data:d})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"font-semibold text-xl",children:"Revenue"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.jsx(I,{label:"Select View",type:"select",value:t,onChange:p=>e(p.target.value),options:[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"General Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.general.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Marriage Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.marriage.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Burial Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.burial.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cedula"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.cedula.toFixed(2)]})]})]})]})]}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"grid grid-cols-1  lg:grid-cols-3 gap-4 mt-6",children:[o.jsx(Cp,{title:"General Service Invoice",data:a}),o.jsx(Cp,{title:"Marriage Service Invoice",data:i}),o.jsx(Cp,{title:"Burial Service Invoice",data:c})]})]})}const ph="https://staging-engine.testthelink.online",Jze=[],kc=L("generalServiceReceipts/fetchGeneralServiceReceipts",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await et.get(`${ph}/generalservicerecipt`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),sN=L("generalServiceReceipts/fetchGeneralServiceReceiptById",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await et.get(`${ph}/api/general-service-receipts/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Fb=L("generalServiceReceipts/createGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await et.post(`${ph}/generalservicerecipt`,t,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),oN=L("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e},r)=>{var n,a;try{const s=localStorage.getItem("token");return(await et.put(`${ph}/generalservicerecipt/${t}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return r.rejectWithValue(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||s.message)}}),Bb=L("generalServiceReceipts/deleteGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return await et.delete(`${ph}/generalservicerecipt/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),t}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),J8=xe({name:"generalServiceReceipts",initialState:{receipts:[],currentReceipt:null,isLoading:!1,error:null},reducers:{clearError:t=>{t.error=null},clearCurrentReceipt:t=>{t.currentReceipt=null}},extraReducers:t=>{t.addCase(kc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kc.fulfilled,(e,r)=>{e.isLoading=!1,e.receipts=Array.isArray(r.payload)?r.payload:[]}).addCase(kc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipts",console.warn("Failed to fetch general service receipts, using mock data.",e.error),e.receipts=Jze}).addCase(sN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sN.fulfilled,(e,r)=>{e.isLoading=!1,e.currentReceipt=r.payload}).addCase(sN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt"}).addCase(Fb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts.push(r.payload)}).addCase(Fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to create general service receipt",console.error("Failed to create general service receipt:",e.error)}).addCase(oN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.receipts)||(e.receipts=[]),e.receipts[n]=r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload.id&&(e.currentReceipt=r.payload)}).addCase(oN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update general service receipt",console.error("Failed to update general service receipt:",e.error)}).addCase(Bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts=e.receipts.filter(n=>n.id!==r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload&&(e.currentReceipt=null)}).addCase(Bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete general service receipt",console.error("Failed to delete general service receipt:",e.error)})}}),{clearError:y9e,clearCurrentReceipt:b9e}=J8.actions,Xze=J8.reducer,Zze="https://staging-engine.testthelink.online",Qze=oe().shape({Status:E().required("Status is required"),InvoiceNumber:E().required("Invoice number is required"),InvoiceDate:Re().required("Date is required"),FundsID:G().required("Fund is required"),Agency:E().required("Agency is required"),PaymentMethodID:G().required("Payment method is required"),Total:G().required("Total amount is required"),CustomerID:G().required("Customer is required"),CustomerName:E().required("Customer name is required"),Remarks:E(),TransactionItemsAll:Ht().of(oe().shape({ItemID:G().required("Item ID is required"),ChargeAccountID:G().required("Charges account is required"),Quantity:G().required("Quantity is required").min(1,"Quantity must be at least 1"),Price:G().required("Price is required").min(0,"Price cannot be negative"),Vatable:Lo()})).min(1,"At least one item is required")});function e7e({isOpen:t,onClose:e,selectedReceipt:r,onSubmit:n}){const[a,s]=w.useState("Individual"),[i,l]=w.useState(!1),{customers:c}=V(S=>S.customers),{vendorDetails:u}=V(S=>S.vendorDetails),{funds:d}=V(S=>S.funds),{items:f}=V(S=>S.items),{budgets:m}=V(S=>S.budget),p=le();w.useEffect(()=>{p(Nn()),p(Ma()),p(Yt()),p(La()),p(Io())},[p]);const h=u==null?void 0:u.map(S=>({value:S.ID,label:S.Name})),b=c==null?void 0:c.map(S=>({value:S.ID,label:S.Name})),g=d==null?void 0:d.map(S=>({value:S.ID,label:S.Name})),x=f==null?void 0:f.map(S=>({value:S.ID,label:S.Name})),y=m==null?void 0:m.map(S=>({value:S.ID,label:S.Name})),v={Status:(r==null?void 0:r.Status)||"Requested",InvoiceNumber:(r==null?void 0:r.InvoiceNumber)||"",InvoiceDate:(r==null?void 0:r.InvoiceDate)||new Date().toISOString().split("T")[0],FundsID:(r==null?void 0:r.FundsID)||"",Agency:(r==null?void 0:r.Agency)||"",CustomerName:(r==null?void 0:r.CustomerName)||"",CustomerID:(r==null?void 0:r.CustomerID)||"",Total:(r==null?void 0:r.Total)||0,Remarks:(r==null?void 0:r.Remarks)||"",CheckNumber:(r==null?void 0:r.CheckNumber)||"",MoneyOrder:(r==null?void 0:r.MoneyOrder)||"",PayeeBank:(r==null?void 0:r.PayeeBank)||"",CheckDate:(r==null?void 0:r.CheckDate)||"",MoneyOrderDate:(r==null?void 0:r.MoneyOrderDate)||"",Attachments:(r==null?void 0:r.Attachments)||[],PaymentMethodID:2,TransactionItemsAll:(r==null?void 0:r.TransactionItemsAll)||[{ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}]};console.log("initialValues",v);const N=(S,k,T)=>{const D=Array.from(S.target.files).map(P=>P);k("Attachments",[...T.Attachments,...D])},C=(S,k,T)=>{const A=[...T.Attachments];A.splice(S,1),k("Attachments",A)},j=async(S,{setSubmitting:k})=>{const T=new FormData;for(const A in S)if(A!=="Attachments"){const D=typeof S[A]=="object"?JSON.stringify(S[A]):S[A];A==="TransactionItemsAll"?T.append("Items",D):T.append(A,D)}S==null||S.Attachments.forEach((A,D)=>{A.ID?T.append(`Attachments[${D}].ID`,A.ID):T.append(`Attachments[${D}].File`,A)}),r?(T.append("IsNew","false"),T.append("LinkID",r.LinkID),T.append("ID",r.ID)):T.append("IsNew","true"),console.log("Form Data:",S);try{await n(T),console.log("Form submitted with values:",T)}catch(A){console.error("Error submitting form:",A)}finally{e(),k(!1)}};return o.jsxs(se,{isOpen:t,onClose:e,title:r?"Edit General Service Receipt":"New General Service Receipt",size:"xl",children:[o.jsxs("div",{className:"w-full py-4 flex justify-end gap-4 items-center max-sm:flex-col",children:[o.jsx("button",{type:"button",className:"btn btn-secondary max-sm:w-full",children:"Show List"}),o.jsx("button",{className:"btn btn-primary max-sm:w-full",onClick:()=>l(!0),children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline max-sm:w-full",children:"Print"})]}),o.jsx($e,{initialValues:v,validationSchema:Qze,onSubmit:j,enableReinitialize:!0,children:({values:S,setFieldValue:k,handleChange:T,handleBlur:A,isSubmitting:D,errors:P,touched:M,submitCount:$,isValid:R})=>o.jsxs(Le,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Attachments"}),S.Attachments.length>0?o.jsx("div",{className:"space-y-2",children:S.Attachments.map((F,z)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ts,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:F.ID?o.jsx("a",{href:`${Zze}/uploads/${F.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:F.name||F.DataName}):F.name||F.DataName})]}),o.jsx("button",{type:"button",onClick:()=>C(z,k,S),className:"text-red-500 hover:text-red-700",children:o.jsx(nr,{className:"h-4 w-4"})})]},z))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:S==null?void 0:S.Status.toUpperCase()})]}),o.jsx(I,{label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,onChange:T,value:S.InvoiceNumber,error:P.InvoiceNumber,touched:M.InvoiceNumber})]}),o.jsx(I,{label:"Date",name:"InvoiceDate",type:"date",onChange:T,value:S.InvoiceDate,required:!0,error:P.InvoiceDate&&M.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Agency",name:"Agency",placeholder:"Enter Agency",type:"text",required:!0,onChange:T,value:S.Agency,error:P.Agency,touched:M.Agency}),o.jsx(I,{label:"Fund",name:"FundsID",type:"select",options:g,required:!0,onChange:T,value:S.FundsID,error:P.FundsID,touched:M.FundsID})]})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payor Information"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxpayer Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>{s("Individual"),k("PayorType","Individual"),k("PayorName","")},className:`px-4 py-2 rounded-md ${a==="Individual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Individual"}),o.jsx("button",{type:"button",onClick:()=>{s("Corporation"),k("PayorType","Corporation"),k("PayorName","")},className:`px-4 py-2 rounded-md ${a==="Corporation"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Corporation"})]})]}),o.jsx(pt,{label:"Payor",name:"CustomerName",type:"select",options:a==="Individual"?b:h,required:!0,placeholder:"Select Payor",onSelect:F=>{const z=a==="Individual"?b.find(O=>O.value===F):h.find(O=>O.value===F);k("CustomerName",(z==null?void 0:z.label)||""),k("CustomerID",(z==null?void 0:z.value)||"")},selectedValue:S.CustomerID,error:P.CustomerName,touched:M.CustomerName})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Items"}),o.jsx(en,{name:"TransactionItemsAll",children:({push:F,remove:z})=>o.jsxs("div",{className:"space-y-4",children:[S.TransactionItemsAll.map((O,_)=>{var B,Y,H,te,fe,ke,ae,X,ue,Q,re,K,W,me,je,Te,Ve,qe,Lr,Fr,ea,Hr,J,ye;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[o.jsx(I,{label:"Item ID",name:`TransactionItemsAll.${_}.ItemID`,type:"select",options:x,required:!0,value:O.ItemID,onChange:T,onBlur:A,error:((Y=(B=M.TransactionItemsAll)==null?void 0:B[_])==null?void 0:Y.ItemID)&&((te=(H=P.TransactionItemsAll)==null?void 0:H[_])==null?void 0:te.ItemID),touched:(ke=(fe=M.TransactionItemsAll)==null?void 0:fe[_])==null?void 0:ke.ItemID}),o.jsx(I,{label:"Account",name:`TransactionItemsAll.${_}.ChargeAccountID`,type:"select",options:y,required:!0,value:O.ChargeAccountID,onChange:T,onBlur:A,error:((X=(ae=M.TransactionItemsAll)==null?void 0:ae[_])==null?void 0:X.ChargeAccountID)&&((Q=(ue=P.TransactionItemsAll)==null?void 0:ue[_])==null?void 0:Q.ChargeAccountID),touched:(K=(re=M.TransactionItemsAll)==null?void 0:re[_])==null?void 0:K.ChargeAccountID}),o.jsx(I,{label:"Qty",name:`TransactionItemsAll.${_}.Quantity`,type:"number",required:!0,min:"1",value:O.Quantity,onChange:T,onBlur:A,error:((me=(W=M.TransactionItemsAll)==null?void 0:W[_])==null?void 0:me.Quantity)&&((Te=(je=P.TransactionItemsAll)==null?void 0:je[_])==null?void 0:Te.Quantity),touched:(qe=(Ve=M.TransactionItemsAll)==null?void 0:Ve[_])==null?void 0:qe.Quantity}),o.jsx(I,{label:"Price",name:`TransactionItemsAll.${_}.Price`,type:"number",required:!0,min:"0",value:O.Price,onChange:T,onBlur:A,error:((Fr=(Lr=M.TransactionItemsAll)==null?void 0:Lr[_])==null?void 0:Fr.Price)&&((Hr=(ea=P.TransactionItemsAll)==null?void 0:ea[_])==null?void 0:Hr.Price),touched:(ye=(J=M.TransactionItemsAll)==null?void 0:J[_])==null?void 0:ye.Price}),o.jsx(I,{label:"Vatable",type:"checkbox",id:`TransactionItemsAll.${_}.Vatable`,name:`TransactionItemsAll.${_}.Vatable`,checked:O.Vatable,onChange:T}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"text-sm font-medium",children:["Subtotal:"," ",(O.Quantity*O.Price).toFixed(2)]}),_>0&&o.jsx("button",{type:"button",onClick:()=>z(_),className:"text-red-500 hover:text-red-700",children:o.jsx(H6,{})})]})]},_)}),o.jsx("button",{type:"button",onClick:()=>F({ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}),className:"btn btn-primary",children:"+ Add Item"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:S.TransactionItemsAll.reduce((F,z)=>F+z.Quantity*z.Price,0).toFixed(2)})]}),o.jsx(I,{label:"Amount in Words",name:"amountInWords",type:"text",value:Hi(S.TransactionItemsAll.reduce((F,z)=>F+z.Quantity*z.Price,0)),readOnly:!0})," "]})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payment Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),o.jsx("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[{value:2,label:"Cash"},{value:3,label:"Check"},{value:8,label:"Money Order"},{value:9,label:"Treasury Warrant"}].map((F,z)=>o.jsx("button",{type:"button",onClick:()=>k("PaymentMethodID",F.value),className:`px-2 py-1 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium border ${S.PaymentMethodID===F.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${z===0?"rounded-l-md":z===3?"rounded-r-md":"border-l-0"}`,children:F.label},F.value))})]}),S.PaymentMethodID===3&&o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Check Number",name:"CheckNumber",type:"text",value:S.CheckNumber,onChange:T,error:P.CheckNumber&&M.CheckNumber}),o.jsx(I,{label:"Bank",name:"PayeeBank",type:"text",value:S.PayeeBank,onChange:T}),o.jsx(I,{label:"Check Date",name:"CheckDate",type:"date",value:S.CheckDate,onChange:T,error:P.CheckDate&&M.CheckDate})]}),S.PaymentMethodID===8&&o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Money Order Number",name:"MoneyOrder",type:"text",value:S.MoneyOrder,onChange:T,error:P.MoneyOrder&&M.MoneyOrder}),o.jsx(I,{label:"Money Order Date",name:"MoneyOrderDate",type:"date",value:S.MoneyOrderDate,onChange:T,error:P.MoneyOrderDate&&M.MoneyOrderDate})]}),o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",value:S.Remarks,onChange:T,rows:2,error:P.Remarks&&M.Remarks})]}),i&&o.jsx(se,{isOpen:i,onClose:()=>l(!1),title:"Attachments",size:"md",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg sm:p-4 text-center",children:o.jsx("label",{className:"cursor-pointer",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(Ts,{className:"h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to browse or drag and drop files"}),o.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:F=>{N(F,k,S),l(!1)}})]})})})})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:D||!R,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:D?"Saving...":"Save"})]})]})})]})}function t7e(){const t=le(),{receipts:e,isLoading:r}=V(C=>C.generalReceipts),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(kc())},[t]),console.log("generalReceipts",e);const f=()=>{d(null),c(!0)},m=C=>{d(C),i(!0)},p=C=>{d(C),c(!0)},h=()=>{i(!1),d(null)},b=()=>{c(!1),d(null)},g=C=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C),x=async C=>{try{await t(Bb(C.ID)).unwrap(),t(kc()),q.success("Receipt deleted successfully.")}catch(j){console.error("Error deleting receipt:",j),q.error("Failed to delete receipt.")}},y=[{key:"ID",header:"Invoice",sortable:!0,className:"font-medium text-neutral-900",render:C=>o.jsx("div",{className:"flex items-center gap-1",children:C})},{key:"Status",header:"Status",sortable:!0,render:C=>o.jsx("span",{className:`px-2 py-1 rounded ${C==="Posted"?"bg-green-100 text-green-800":C==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:C})},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"CustomerName",header:"Customer Name",sortable:!0,render:C=>(C==null?void 0:C.trim())||"N/A"},{key:"InvoiceNumber",header:"Order No.",sortable:!0},{key:"Total",header:"Amount",sortable:!0,render:C=>g(C),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:C=>C||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:C=>({1:"General Fund",2:"Special Education Fund"})[C]||""},{key:"CheckNumber",header:"Check",sortable:!0,render:C=>C||""},{key:"MoneyOrder",header:"Money Order",sortable:!0,render:C=>C||""},{key:"MoneyOrderDate",header:"Money Order Date",sortable:!0,render:C=>C||""}],v=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ga,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],N=async C=>{if(C)try{const j=await t(Fb(C)).unwrap();console.log("Operation successful:",j,C),t(kc()),q.success("Receipt saved successfully.")}catch(j){console.error("Submission failed:",j),q.error(j.message||"Failed to save receipt")}finally{b()}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Service Receipt"}),o.jsx("p",{children:"Manage official receipts and collections"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Service Receipt"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:v,loading:r,onRowClick:m})}),o.jsx(e7e,{isOpen:l,onClose:b,selectedReceipt:u,onSubmit:N}),o.jsx(se,{isOpen:s,onClose:h,title:"General Receipt Details",size:"lg",children:u&&o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Receipt Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OR Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.receiptNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:new Date(u.receiptDate).toLocaleDateString()})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.fund})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.modeOfPayment})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payor Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorAddress||"N/A"})]})]})]})]}),o.jsx("div",{className:"p-4 bg-success-50 rounded-lg border border-success-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-success-700",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-success-700",children:g(u.totalAmount)})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:h,className:"btn btn-outline",children:"Close"}),o.jsx("button",{type:"button",onClick:()=>p(u),className:"btn btn-primary",children:"Edit"})]})]})})]})}oe().shape({CustomerName:E().required("Customer name is required"),Municipality:E().required("Municipality is required"),AmountinWords:E().required("Amount in words is required"),AmountReceived:G().min(0).required("Amount received is required"),CheckNumber:E().nullable(),T_D_No:E().required("T.D. No is required"),AdvancedYear:G().min(1900).max(2100).required("Advanced year is required"),AdvanceFunds:G().min(0).required("Advance funds is required"),FundsID:G().required("Funds ID is required"),ReceivedFrom:E().required("Received from is required"),Location:E().required("Location is required"),Lot:E().nullable(),Block:E().nullable(),PreviousPaymentList:Ht().of(oe().shape({LandPrice:G().min(0),ImprovementPrice:G().min(0),TotalAssessedValue:G().min(0),TaxDue:G().min(0),InstallmentPayment:G().min(0),FullPayment:G().min(0),Penalty:G().min(0),Total:G().min(0)})),PresentPaymentList:Ht().of(oe().shape({LandPrice:G().min(0),ImprovementPrice:G().min(0),TotalAssessedValue:G().min(0),TaxDue:G().min(0),InstallmentPayment:G().min(0),FullPayment:G().min(0),Penalty:G().min(0),Discount:G().min(0),Total:G().min(0),RemainingBalance:G().min(0)}))});const r5=()=>{const[t,e]=w.useState({owner:"",municipality:"MAKATI",checkNumber:"0",previousPayment:"0",receivedFrom:"CEDRIC",taxDeclarationNumber:"",address:"",block:"",lot:"",amountReceived:"",remainingBalance:"0",receivedFrom2:"",advancePayment:!1,year:"2025",until:"2025",amountInWords:"",basicFund:!0,specialEducationFund:!1,previousLandValues:"0",previousImprovement:"0",previousTotalAssessed:"0",previousTotal:"0",presentLandValues:"0",presentImprovement:"0",presentTotalAssessed:"0",discountRate:"0",penaltyRate:"0",payment:"0",dueDateYear:"",installmentPayment:!1,fullPayment:!0}),[r,n]=w.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),[a,s]=w.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),i=(f,m)=>{e(p=>({...p,[f]:m}))},l=(f,m)=>{const p={id:Date.now().toString(),ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""};m([...f,p])},c=(f,m,p)=>{m.length>1&&p(m.filter(h=>h.id!==f))},u=(f,m,p,h,b)=>{b(h.map(g=>g.id===f?{...g,[m]:p}:g))},d=({entries:f,setEntries:m,title:p})=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[o.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:p}),o.jsx("div",{className:"flex gap-2",children:o.jsx(wt,{type:"button",onClick:()=>l(f,m),className:"bg-green-600 hover:bg-green-700 text-white p-2 h-8 w-8",children:o.jsx(K0,{className:"h-4 w-4"})})})]}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner Address"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Lot Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Block Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"T.D No"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Land"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Improvement"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Total Assessed"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Tax Due"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Full Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Penalty"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:f.map((h,b)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:b+1,readOnly:!0,className:"w-full p-1 text-sm bg-gray-50 border-none text-center"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.ownerAddress,onChange:g=>u(h.id,"ownerAddress",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.lotNumber,onChange:g=>u(h.id,"lotNumber",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.blockNumber,onChange:g=>u(h.id,"blockNumber",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.tdNo,onChange:g=>u(h.id,"tdNo",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.land,onChange:g=>u(h.id,"land",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.improvement,onChange:g=>u(h.id,"improvement",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.totalAssessed,onChange:g=>u(h.id,"totalAssessed",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.taxDue,onChange:g=>u(h.id,"taxDue",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.payment,onChange:g=>u(h.id,"payment",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx("button",{type:"button",onClick:()=>c(h.id,f,m),className:"btn btn-danger ",disabled:f.length===1,children:o.jsx(nr,{className:"h-3 w-3"})})})]},h.id))})]})})})]});return o.jsx("div",{className:"min-h-screen bg-white md:p-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(Kde,{className:"h-5 w-5"}),"Basic Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(I,{label:"Owner",name:"owner",type:"select",options:[{value:"owner1",label:"Owner 1"},{value:"owner2",label:"Owner 2"}],value:t.owner,onChange:f=>i("owner",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Municipality",name:"municipality",value:t.municipality,onChange:f=>i("municipality",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Check Number",name:"checkNumber",value:t.checkNumber,onChange:f=>i("checkNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Previous Payment",name:"previousPayment",value:t.previousPayment,onChange:f=>i("previousPayment",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Received From",name:"receivedFrom",value:t.receivedFrom,onChange:f=>i("receivedFrom",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(I,{label:"Tax Declaration Number",name:"taxDeclarationNumber",type:"select",options:[{value:"taxDeclarationNumber1",label:"Tax Declaration Number 1"},{value:"taxDeclarationNumber2",label:"Tax Declaration Number 2"}],value:t.taxDeclarationNumber,onChange:f=>i("taxDeclarationNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Address",name:"address",value:t.address,onChange:f=>i("address",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Block",name:"block",value:t.block,onChange:f=>i("block",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Lot",name:"lot",value:t.lot,onChange:f=>i("lot",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Previous Balance Land Values"})}),o.jsx("div",{className:"sm:p-6 p-3",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Land Values",name:"previousLandValues",value:t.previousLandValues,onChange:f=>i("previousLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Improvement",name:"previousImprovement",value:t.previousImprovement,onChange:f=>i("previousImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Total Assessed Value",name:"previousTotalAssessed",value:t.previousTotalAssessed,onChange:f=>i("previousTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"General Revision (Year)",name:"dueDateYear",type:"select",options:[{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary ",children:"Add"}),o.jsx("button",{className:"btn btn-outline",children:"Remove"})]})]})})]}),o.jsx(d,{entries:r,setEntries:n,title:"Previous Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Present Year Balance"})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Land Values",name:"presentLandValues",value:t.presentLandValues,onChange:f=>i("presentLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Improvement",name:"presentImprovement",value:t.presentImprovement,onChange:f=>i("presentImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Total Assessed Value",name:"presentTotalAssessed",value:t.presentTotalAssessed,onChange:f=>i("presentTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Label10"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Discount Rate",name:"discountRate",value:t.discountRate,onChange:f=>i("discountRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Penalty Rate",name:"penaltyRate",value:t.penaltyRate,onChange:f=>i("penaltyRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(I,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.installmentPayment,onChange:()=>{i("installmentPayment",!0),i("fullPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Installment Payment"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.fullPayment,onChange:()=>{i("fullPayment",!0),i("installmentPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Full Payment"})]})]})]})]})]})]}),o.jsx(d,{entries:a,setEntries:s,title:"Present Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(SD,{className:"h-5 w-5"}),"Payment Summary"]})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(I,{label:"Amount Received",name:"amountReceived",value:t.amountReceived,onChange:f=>i("amountReceived",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"}),o.jsx(I,{label:"Remaining Balance",name:"remainingBalance",value:t.remainingBalance,onChange:f=>i("remainingBalance",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(I,{label:"Received From",name:"receivedFrom2",value:t.receivedFrom2,onChange:f=>i("receivedFrom2",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:t.advancePayment,onChange:f=>i("advancePayment",f.target.checked),className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Advance Payment"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(I,{label:"Year",name:"year",value:t.year,onChange:f=>i("year",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Until"}),o.jsx(I,{label:"",name:"until",value:t.until,onChange:f=>i("until",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.basicFund,onChange:()=>{i("basicFund",!0),i("specialEducationFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Basic Fund"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.specialEducationFund,onChange:()=>{i("specialEducationFund",!0),i("basicFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Special Education Fund"})]})]})]})]}),o.jsx(I,{label:"Amount In Words",name:"amountInWords",value:t.amountInWords,onChange:f=>i("amountInWords",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500",placeholder:"Enter amount in words..."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{variant:"outline",className:"btn btn-outline",children:"Cancel"}),o.jsx(wt,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:"Save Draft"})]})]})})},r7e=[{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"Active"},{id:2,tdNo:"TD-002",owner:"Maria Santos",address:"456 Pine St",beneficialUser:"Carlos Santos",beneficialAddress:"456 Pine St",octTctCloaNo:"OCT-456",cct:"CCT-789",dated:"2024-02-15",propertyIdentificationNo:"67890",tin:"456-789-012",ownerTelephoneNo:"9876543210",beneficialTin:"456-789-012",beneficialTelephoneNo:"9876543210",surveyNo:"S-002",lotNo:"L-002",blockNo:"B-002",boundaries:{taxable:!0,north:"Street E",south:"Street F",east:"Street G",west:"Street H"},cancelledTdNo:"",cancelledOwner:"",effectivityOfAssessment:"2024-01-01",previousOwner:"",previousAssessedValue:"0",propertyDetails:{kind:"Land",numberOf:"1",description:"Commercial lot"},assessmentDetails:{kind:"Land",actualUse:"Commercial",classification:"Class 2",areaSize:"Large",assessmentLevel:"30%",marketValue:"2500000"},status:"Active"}];function n7e(){le();const{realPropertyTaxes:t,isLoading:e}=V(y=>y.realPropertyTax),[r,n]=w.useState("list"),[a,s]=w.useState(null),[i,l]=w.useState(""),c=t&&t.length>0?t:r7e,u=()=>{s(null),n("form")},d=y=>{s(y),n("details")},f=y=>{s(y),n("form")},m=y=>{console.log("Print property:",y)},p=()=>{n("list"),s(null)},h=c==null?void 0:c.filter(y=>{const v=i.toLowerCase();return y.tdNo.toLowerCase().includes(v)||y.owner.toLowerCase().includes(v)||y.address.toLowerCase().includes(v)||y.propertyIdentificationNo.toLowerCase().includes(v)}),b=[{key:"tdNo",header:"TD No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"owner",header:"Owner",sortable:!0},{key:"address",header:"Address",sortable:!0},{key:"propertyIdentificationNo",header:"Property ID",sortable:!0},{key:"dated",header:"Date",sortable:!0,render:y=>new Date(y).toLocaleDateString()},{key:"status",header:"Status",sortable:!0,render:y=>g(y)}],g=y=>{let v="bg-neutral-100 text-neutral-800";switch(y){case"Active":v="bg-success-100 text-success-800";break;case"Inactive":v="bg-warning-100 text-warning-800";break;case"Cancelled":v="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v}`,children:y})},x=[{icon:Vm,title:"View",onClick:d,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return o.jsxs(o.Fragment,{children:[r==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4 mb-6 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Property Tax Records"}),o.jsx("p",{className:"text-gray-600",children:"Manage real property tax assessments"})]}),o.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Property"]})]}),o.jsx(ge,{columns:b,data:h,actions:x,loading:e,onRowClick:d})]}),r==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:p,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(ba,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:a?"Edit Real Property Tax Record":"Create New Real Property Tax Record"}),o.jsx("p",{className:"text-gray-600",children:a?"Update the property details":"Fill out the form to create a new property record"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(r5,{initialData:a,onCancel:p,onSubmitSuccess:p})})]}),r==="details"&&a&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:p,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ba,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage property tax details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>f(a),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>m(a),className:"btn btn-outline flex items-center",children:[o.jsx(gu,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(r5,{initialData:a,readOnly:!0,onBack:p})})]})]})}function a7e({funds:t=[],employees:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=oe({endDate:E().required("Date End is required"),fundID:E().required("Fund is required"),approverID:E().required("Approver is required"),ledger:E().required("Ledger is required")}),c={endDate:"",fundID:"",approverID:"",ledger:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,isSubmitting:b,setFieldValue:g})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[o.jsx(I,{label:"Date End",name:"endDate",type:"date",value:d.endDate,onChange:p,onBlur:h,error:f.endDate,touched:m.endDate,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"fundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.fundID,onChange:p,onBlur:h,error:f.fundID,touched:m.fundID,required:!0}),o.jsx(I,{label:"Ledger",name:"ledger",type:"select",value:d.ledger,onChange:p,onBlur:h,options:[{value:"General Ledger",label:"General Ledger"},{value:"Subsidiary Ledger",label:"Subsidiary Ledger"}],error:f.ledger,touched:m.ledger,required:!0}),o.jsx(I,{label:"Approver",name:"approverID",type:"select",options:e.map(x=>{var y;return{value:x.ID,label:x.FirstName+" "+x.MiddleName+" "+x.LastName+" - "+((y=x==null?void 0:x.Department)==null?void 0:y.Name)}}),value:d.approverID,onChange:p,onBlur:h,error:f.approverID,touched:m.approverID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-neutral-200 max-sm:flex-col",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Cashbook"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const s7e="https://staging-engine.testthelink.online",o7e={trialBalances:[],isLoading:!1,error:null},qb=L("trialBalance/fetchTrialBalances",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${s7e}/trialBalanceReport/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),iN=L("trialBalance/exportTrialBalances",async t=>!0),X8=xe({name:"trialBalance",initialState:o7e,reducers:{resetTrialBalanceState:t=>{t.trialBalances=[],t.error=null}},extraReducers:t=>{t.addCase(qb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qb.fulfilled,(e,r)=>{e.isLoading=!1,e.trialBalances=r.payload}).addCase(qb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(iN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iN.fulfilled,e=>{e.isLoading=!1}).addCase(iN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetTrialBalanceState:i7e}=X8.actions,l7e=X8.reducer;function c7e(){const t="https://staging-engine.testthelink.online",e=le(),{trialBalances:r,isLoading:n,error:a}=V(f=>f.trialBalance),{funds:s}=V(f=>f.funds),{employees:i}=V(f=>f.employees),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);w.useEffect(()=>{e(i7e()),e(Yt()),e(on())},[e]);const c=[{key:"AccountCode",header:"Account Code",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"EndDate",header:"End Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=localStorage.getItem("token"),p=await fetch(`${t}/trialBalanceReport/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({endDate:f.endDate,fundID:f.fundID,approverID:f.approverID,ledger:f.ledger})});if(!p.ok)throw new Error("Server response was not ok");const h=await p.blob(),b=p.headers.get("Content-Disposition");let g="Trial_Balance.xlsx";b&&b.includes("filename=")&&(g=b.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(h),y=document.createElement("a");y.href=x,y.download=g,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(x)}catch(m){console.error("Export failed:",m),q.error(m.message||"Failed to export trial balance")}},d=f=>{e(qb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Trial Balance"}),o.jsx("p",{children:"Generate trial balance reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(a7e,{funds:s,employees:i,onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:c,data:r,loading:n,pagination:!0})})]})}const u7e="https://staging-engine.testthelink.online",d7e=oe().shape({BudgetID:E().required("Budget is required"),budgetName:E(),fiscalYearID:E(),departmentID:E(),subDepartmentID:E(),chartOfAccountsID:E(),fundID:E(),projectID:E(),allotment:G().integer().required("Allotment is required"),remarks:E(),appropriation:G().integer(),balance:G().integer(),releasedAllotments:G().integer(),releasedBalance:G().integer(),Attachments:Ht()}),n5={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",allotment:0,charges:0,totalAmount:0,balance:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function f7e({initialData:t,onSubmit:e,onClose:r,allotmentList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=w.useState({...n5});w.useEffect(()=>{if(t!=null&&t.ID){const{Budget:g}=t;f({BudgetID:g==null?void 0:g.ID,budgetName:(g==null?void 0:g.Name)||"",fiscalYearID:(g==null?void 0:g.FiscalYearID)||"",departmentID:(g==null?void 0:g.DepartmentID)||"",subDepartmentID:(g==null?void 0:g.SubDepartmentID)||"",chartOfAccountsID:(g==null?void 0:g.ChartofAccountsID)||"",fundID:(g==null?void 0:g.FundID)||"",projectID:(g==null?void 0:g.ProjectID)||"",allotment:(g==null?void 0:g.Allotment)||0,charges:(g==null?void 0:g.Charges)||0,totalAmount:(g==null?void 0:g.TotalAmount)||0,balance:(g==null?void 0:g.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(g==null?void 0:g.Appropriation)||0,releasedAllotments:(g==null?void 0:g.ReleasedAllotments)||0,releasedBalance:(g==null?void 0:g.ReleasedBalance)||0,Attachments:(g==null?void 0:g.Attachments)||[]})}else f(n5)},[t]);const m=async(g,{setSubmitting:x})=>{try{const y=new FormData;g==null||g.Attachments.forEach((N,C)=>{N.ID?y.append(`Attachments[${C}].ID`,N.ID):y.append(`Attachments[${C}].File`,N)}),(g==null?void 0:g.Attachments.length)===0&&y.append("Attachments","[]");const v={BudgetID:g.BudgetID,Remarks:g.remarks,Allotment:g.allotment};Object.entries(v).forEach(([N,C])=>{y.append(N,JSON.stringify(C))}),t?(y.append("LinkID",JSON.stringify(t.LinkID)),y.append("IsNew",JSON.stringify(!1))):y.append("IsNew",JSON.stringify(!0)),await e(y)}catch(y){console.error("Submission error:",y)}finally{x(!1)}},p=g=>{const x=n==null?void 0:n.find(y=>y.ID===parseInt(g));x&&f({...d,BudgetID:x.ID,budgetName:x.Name||"",fiscalYearID:x.FiscalYearID||"",departmentID:x.DepartmentID||"",subDepartmentID:x.SubDepartmentID||"",chartOfAccountsID:x.ChartofAccountsID||"",fundID:x.FundID||"",projectID:x.ProjectID||"",appropriation:parseFloat(x.Appropriation)||0,balance:parseFloat(x.AppropriationBalance)||0,charges:parseFloat(x.Charges||0)})},h=(g,x,y)=>{const N=Array.from(g.target.files).map(C=>C);x("Attachments",[...y.Attachments,...N])},b=(g,x,y)=>{const v=[...y.Attachments];v.splice(g,1),x("Attachments",v)};return o.jsx($e,{enableReinitialize:!0,initialValues:d,validationSchema:d7e,onSubmit:m,children:({values:g,errors:x,touched:y,handleChange:v,handleBlur:N,isSubmitting:C,setFieldValue:j})=>{var S;return o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2 pt-4",children:o.jsx(pt,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:p,options:n.map(k=>({label:k.Name,value:k.ID})),error:x.BudgetID,touched:y.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:k=>h(k,j,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((S=g==null?void 0:g.Attachments)==null?void 0:S.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((k,T)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ts,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:k.ID?o.jsx("a",{href:`${u7e}/uploads/${k.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:k.name||k.DataName}):k.name||k.DataName})]}),o.jsx("button",{type:"button",onClick:()=>b(T,j,g),className:"text-red-500 hover:text-red-700",children:o.jsx(nr,{className:"h-4 w-4"})})]},T))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(I,{label:"Budget Name",name:"budgetName",type:"text",value:g.budgetName,onChange:v,onBlur:N,error:x.budgetName,touched:y.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:g.fiscalYearID,onChange:v,onBlur:N,error:x.fiscalYearID,touched:y.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Department",name:"departmentID",type:"select",value:g.departmentID,onChange:v,onBlur:N,error:x.departmentID,touched:y.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:g.subDepartmentID,onChange:v,onBlur:N,error:x.subDepartmentID,touched:y.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:g.chartOfAccountsID,onChange:v,onBlur:N,error:x.chartOfAccountsID,touched:y.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fund",name:"fundID",type:"select",value:g.fundID,onChange:v,onBlur:N,error:x.fundID,touched:y.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Project",name:"projectID",type:"select",value:g.projectID,onChange:v,onBlur:N,error:x.projectID,touched:y.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Appropriation",name:"appropriation",type:"number",value:g.appropriation,onChange:v,onBlur:N,error:x.appropriation,touched:y.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Balance",name:"balance",type:"number",value:g.balance,onChange:v,onBlur:N,error:x.balance,touched:y.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:g.releasedAllotments,onChange:v,onBlur:N,error:x.releasedAllotments,touched:y.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Balance",name:"releasedBalance",type:"number",value:g.releasedBalance,onChange:v,onBlur:N,error:x.releasedBalance,touched:y.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(I,{label:"Allotment",name:"allotment",type:"number",value:g.allotment,onChange:v,onBlur:N,error:x.allotment,touched:y.allotment,required:!0}),o.jsx(I,{label:"Remarks",name:"remarks",type:"textarea",value:g.remarks,onChange:v,onBlur:N,error:x.remarks,touched:y.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:C,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const m7e=()=>{const t=le(),{user:e}=V(A=>A.auth),{departments:r}=V(A=>A.departments),{subdepartments:n}=V(A=>A.subdepartments),a=V(A=>{var D;return((D=A.chartOfAccounts)==null?void 0:D.accounts)||[]}),{fiscalYears:s}=V(A=>A.fiscalYears),{funds:i}=V(A=>A.funds),{projectDetails:l}=V(A=>A.projectDetails),[c,u]=w.useState([]),[d,f]=w.useState([]),[m,p]=w.useState(!1),[h,b]=w.useState(null),[g,x]=w.useState({department:"",subDepartment:"",chartOfAccounts:""});w.useEffect(()=>{t(ar()),t(Co()),t(br()),y(),v()},[]);const y=async()=>{try{const A=await Ye("/budgetAllotment/list");u(A.data)}catch(A){ie.error("Failed to load data"),ie.error(A.message)}},v=async()=>{try{const A=await Ye("/budgetSupplemental/budgetList");f(A==null?void 0:A.data)}catch(A){ie.error("Failed to load data"),ie.error(A.message)}},N=A=>{const{name:D,value:P}=A.target;x(M=>({...M,[D]:P}))},C=async A=>{try{(await Ye.post("budgetAllotment",A,{headers:{"Content-Type":"multipart/form-data"}})).data?(ie.success(h?"Allotment updated successfully":"New Allotment added"),y()):ie.error("Failed to save supplemental")}catch(D){console.error("Error submitting supplemental:",D),ie.error(D.message||"Failed to save supplemental")}finally{p(!1)}},j=A=>{b(A),p(!0)},S=[{key:"Status",header:"Status",render:A=>o.jsx("span",{children:A})},{key:"InvoiceNumber",header:"Invoice Number",render:(A,D)=>o.jsx("span",{children:D.InvoiceNumber})},{key:"Budget",header:"Budget",render:(A,D)=>{var P;return o.jsx("span",{children:(P=D.Budget)==null?void 0:P.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(A,D)=>{const P=new Date(D.InvoiceDate);return o.jsx("span",{children:P.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(A,D)=>o.jsx("span",{children:parseFloat(D.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],k=[{icon:xa,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],T=c==null?void 0:c.filter(A=>{const{Budget:D}=A;return(!g.department||(D==null?void 0:D.DepartmentID)==g.department)&&(!g.subDepartment||(D==null?void 0:D.SubDepartmentID)==g.subDepartment)&&(!g.chartOfAccounts||(D==null?void 0:D.ChartofAccountsID)==g.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Allotment"}),o.jsx("p",{children:"Manage budget allotments here"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>j(null),className:"btn btn-primary flex items-center",children:[o.jsx(Tue,{className:"h-5 w-5 mr-2"}),"Add Allotment"]}),o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(Mx,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:g.department,onChange:N,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),r==null?void 0:r.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]}),o.jsxs("select",{name:"subDepartment",value:g.subDepartment,onChange:N,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),n==null?void 0:n.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:g.chartOfAccounts,onChange:N,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),a==null?void 0:a.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]})]}),o.jsx(ge,{columns:S,data:T,actions:k,loading:!1,pagination:!0}),o.jsx(se,{size:"md",isOpen:m,onClose:()=>p(!1),title:h?"Edit Allotment":"Add Allotment",children:o.jsx(f7e,{allotmentList:d,departmentOptions:r.map(A=>({value:A.ID,label:A.Name})),subDepartmentOptions:n.map(A=>({value:A.ID,label:A.Name})),chartOfAccountsOptions:a.map(A=>({value:A.ID,label:A.Name})),fundOptions:i.map(A=>({value:A.ID,label:A.Name})),projectOptions:l.map(A=>({value:A.ID,label:A.Title})),fiscalYearOptions:s.map(A=>({value:A.ID,label:A.Name})),onSubmit:C,initialData:h,onClose:()=>p(!1)})})]})},Np="https://staging-engine.testthelink.online",a5=t=>({IsNew:!(t!=null&&t.ID),ID:(t==null?void 0:t.ID)||"",Name:t.Name,FiscalYearID:Number(t.FiscalYearID),DepartmentID:Number(t.DepartmentID),SubDepartmentID:Number(t.SubDepartmentID),ChartOfAccountsID:Number(t.ChartofAccountsID),FundID:Number(t.FundID),ProjectID:Number(t.ProjectID),Appropriation:Number(t.Appropriation),Charges:Number(t.Charges),January:Number(t.January),February:Number(t.February),March:Number(t.March),April:Number(t.April),May:Number(t.May),June:Number(t.June),July:Number(t.July),August:Number(t.August),September:Number(t.September),October:Number(t.October),November:Number(t.November),December:Number(t.December)}),h7e=()=>{const t=le(),{departments:e}=V(k=>k.departments),{subdepartments:r}=V(k=>k.subdepartments),n=V(k=>{var T;return((T=k.chartOfAccounts)==null?void 0:T.accounts)||[]}),{fiscalYears:a}=V(k=>k.fiscalYears),{funds:s}=V(k=>k.funds),{projectDetails:i}=V(k=>k.projectDetails),[l,c]=w.useState([]),[u,d]=w.useState(!1),[f,m]=w.useState(null),[p,h]=w.useState({department:"",subDepartment:"",chartOfAccounts:""});w.useEffect(()=>{t(ar()),t(Co()),t(br()),t(ln()),t(Yt()),t(Fa()),b()},[]);const b=async()=>{try{const T=await(await fetch(`${Np}/budget`)).json();T!=null&&T.status?c((T==null?void 0:T.items)||[]):ie.error("Failed to fetch budget details")}catch(k){ie.error(k.message)}},g=k=>{const{name:T,value:A}=k.target;h(D=>({...D,[T]:A}))},x=k=>{f?v(k):y(k)},y=async k=>{try{await(await fetch(`${Np}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(a5(k))})).json()&&(b(),d(!1),ie.success("Budget added successfully"))}catch(T){ie.error(T.message)}},v=async k=>{try{await(await fetch(`${Np}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(a5(k))})).json()&&(b(),d(!1),ie.success("Budget updated successfully"))}catch(T){ie.error(T.message)}},N=async k=>{try{await(await fetch(`${Np}/budget/${k}`,{method:"DELETE"})).json()&&(b(),ie.success("Budget deleted"))}catch(T){ie.error(T.message)}},C=[{key:"Name",header:"Name"},{key:"FiscalYearID",header:"Fiscal Year",render:(k,T)=>{var A;return o.jsx("span",{children:((A=T==null?void 0:T.FiscalYear)==null?void 0:A.Name)||"N/A"})}},{key:"DepartmentID",header:"Department",render:(k,T)=>{var A;return o.jsx("span",{children:((A=T==null?void 0:T.Department)==null?void 0:A.Name)||"N/A"})}},{key:"SubDepartmentID",header:"Sub Department",render:(k,T)=>{var A;return o.jsx("span",{children:((A=T==null?void 0:T.SubDepartment)==null?void 0:A.Name)||"N/A"})}},{key:"ChartofAccountsID",header:"Chart of Accounts",render:(k,T)=>{var A;return o.jsx("span",{children:((A=T==null?void 0:T.ChartofAccounts)==null?void 0:A.Name)||"N/A"})}},{key:"FundID",header:"Fund",render:(k,T)=>{var A;return o.jsx("span",{children:((A=T==null?void 0:T.Funds)==null?void 0:A.Name)||"N/A"})}},{key:"ProjectID",header:"Project",render:(k,T)=>{var A;return o.jsx("span",{children:((A=T==null?void 0:T.Project)==null?void 0:A.Title)||"N/A"})}},{key:"Appropriation",header:"Appropriation"},{key:"AppropriationBalance",header:"Appropriation Balance"},{key:"TotalAmount",header:"Total Amount"},{key:"AllotmentBalance",header:"Allotment Balance"},{key:"ChargedAllotment",header:"Charges"},{key:"PreEncumbrance",header:"Pre Encumbrance"},{key:"Encumbrance",header:"Encumbrance"},{key:"January",header:"January"},{key:"February",header:"February"},{key:"March",header:"March"},{key:"April",header:"April"},{key:"May",header:"May"},{key:"June",header:"June"},{key:"July",header:"July"},{key:"August",header:"August"},{key:"September",header:"September"},{key:"October",header:"October"},{key:"November",header:"November"},{key:"December",header:"December"}],j=[{icon:xa,title:"Edit",onClick:k=>{m(k),d(!0)},className:"text-primary-600 hover:text-primary-900 p-1"},{icon:Ga,title:"Delete",onClick:k=>N(k==null?void 0:k.ID),className:"text-red-600 hover:text-red-800 p-1"}],S=l.filter(k=>{var T,A,D;return(!p.department||((T=k.Department)==null?void 0:T.ID)==p.department)&&(!p.subDepartment||((A=k.SubDepartment)==null?void 0:A.ID)==p.subDepartment)&&(!p.chartOfAccounts||((D=k.ChartofAccounts)==null?void 0:D.ID)==p.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Details"}),o.jsx("p",{children:"View and manage detailed budget entries"})]}),o.jsxs("button",{onClick:()=>{m(null),d(!0)},className:"btn btn-primary max-sm:w-full ",children:[o.jsx(K0,{className:"h-5 w-5 mr-2"}),"Add Budget"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 my-4",children:[o.jsxs("select",{name:"department",value:p.department,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]}),o.jsxs("select",{name:"subDepartment",value:p.subDepartment,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:p.chartOfAccounts,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]}),o.jsx(ge,{columns:C,data:S,actions:j,pagination:!0}),o.jsx(se,{size:"lg",isOpen:u,onClose:()=>d(!1),title:f?"Edit Budget":"Add Budget",children:o.jsx(OU,{departmentOptions:e.map(k=>({value:k.ID,label:k.Name})),subDepartmentOptions:r.map(k=>({value:k.ID,label:k.Name})),chartOfAccountsOptions:n.map(k=>({value:k.ID,label:k.Name})),fundOptions:s.map(k=>({value:k.ID,label:k.Name})),projectOptions:i.map(k=>({value:k.ID,label:k.Title})),fiscalYearOptions:a.map(k=>({value:k.ID,label:k.Name})),onSubmit:x,initialData:f,onClose:()=>d(!1)})})]})},p7e=()=>{const t=le(),{departments:e,isLoading:r}=V(C=>C.departments),{subdepartments:n,isLoading:a}=V(C=>C.subdepartments),s=V(C=>{var j;return((j=C.chartOfAccounts)==null?void 0:j.accounts)||[]}),[i,l]=w.useState([]),[c,u]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),[d,f]=w.useState(!1),[m,p]=w.useState(null),[h,b]=w.useState(!0);w.useEffect(()=>{t(ar()),t(Co()),t(br()),g()},[]);const g=async()=>{try{b(!0);const C=await Ye("/budgetSummary");l(C.data||[])}catch(C){console.error("Error fetching budget summaries:",C)}finally{b(!1)}},x=C=>{const{name:j,value:S}=C.target;u(k=>({...k,[j]:S}))},y=i.filter(C=>{var j,S;return(!c.department||((j=C.Department)==null?void 0:j.Name)===c.department)&&(!c.subDepartment||((S=C.SubDepartment)==null?void 0:S.Name)===c.subDepartment)&&(!c.chartOfAccounts||C.ChartOfAccounts===c.chartOfAccounts)}),v=[{key:"Name",header:"Name",sortable:!0},{key:"FiscalYearID",header:"Fiscal Year",sortable:!0,render:(C,j)=>j==null?void 0:j.FiscalYear.Name},{key:"DepartmentID",header:"Department",sortable:!0,render:(C,j)=>{var S;return(S=j==null?void 0:j.Department)==null?void 0:S.Name}},{key:"SubDepartmentID",header:"Sub Department",sortable:!0,render:(C,j)=>{var S;return(S=j==null?void 0:j.SubDepartment)==null?void 0:S.Name}},{key:"ChartofAccountsID",header:"Chart of Accounts",sortable:!0,render:(C,j)=>{var S;return(S=j==null?void 0:j.ChartofAccounts)==null?void 0:S.Name}},{key:"FundsID",header:"Fund",sortable:!0,render:(C,j)=>{var S;return(S=j==null?void 0:j.Funds)==null?void 0:S.Name}},{key:"ProjectID",header:"Project",sortable:!0,render:(C,j)=>{var S;return(S=j==null?void 0:j.Project)==null?void 0:S.Title}},{key:"Appropriation",header:"Appropriation",sortable:!0},{key:"AppropriationBalance",header:"Appropriation Balance",sortable:!0},{key:"TotalAmount",header:"Total Amount",sortable:!0},{key:"ChargedAllotment",header:"Allotment",sortable:!0},{key:"AllotmentBalance",header:"Allotment Balance",sortable:!0},{key:"Change",header:"Change",sortable:!0},{key:"Supplemental",header:"Supplemental",sortable:!0},{key:"Released",header:"Released",sortable:!0},{key:"Charges",header:"Charges",sortable:!0},{key:"PreEncumbrance",header:"Pre Encumbr.",sortable:!0},{key:"Encumbrance",header:"Encumbrance",sortable:!0},{key:"January",header:"January",sortable:!0},{key:"February",header:"February",sortable:!0},{key:"March",header:"March",sortable:!0},{key:"April",header:"April",sortable:!0},{key:"May",header:"May",sortable:!0},{key:"June",header:"June",sortable:!0},{key:"July",header:"July",sortable:!0},{key:"August",header:"August",sortable:!0},{key:"September",header:"September",sortable:!0},{key:"October",header:"October",sortable:!0},{key:"November",header:"November",sortable:!0},{key:"December",header:"December",sortable:!0}],N=C=>{p(C),f(!0)};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Summary"}),o.jsx("p",{children:"Review the budget performance across months and categories."})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:c.department,onChange:x,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),e==null?void 0:e.map(C=>o.jsx("option",{value:C.Name,children:C.Name},C.ID))]}),o.jsxs("select",{name:"subDepartment",value:c.subDepartment,onChange:x,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),n==null?void 0:n.map(C=>o.jsx("option",{value:C.Name,children:C.Name},C.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:c.chartOfAccounts,onChange:x,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),s==null?void 0:s.map(C=>o.jsx("option",{value:C.Name,children:C.Name},C.ID))]})]}),o.jsx(ge,{columns:v,data:y,loading:h||r||a,pagination:!0,onRowClick:N}),o.jsx(se,{isOpen:d,onClose:()=>f(!1),title:"Budget Summary Details",size:"5xl",children:o.jsx(g7e,{data:m})})]})},g7e=({data:t})=>{var r,n,a,s,i,l;if(!t)return null;const e=c=>c||"";return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Budget Name:"})," ",e(t.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fiscal Year:"})," ",e((r=t.FiscalYear)==null?void 0:r.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Department:"})," ",e((n=t.Department)==null?void 0:n.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"SubDepartment:"})," ",e((a=t.SubDepartment)==null?void 0:a.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Chart of Accounts:"})," ",e((s=t.ChartofAccounts)==null?void 0:s.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fund:"})," ",e((i=t.Funds)==null?void 0:i.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Project:"})," ",e((l=t.Project)==null?void 0:l.Title)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Original):"})," ",e(t.Appropriation)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation Balance:"})," ",e(t.AppropriationBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Adjusted):"})," ",e(t.RevisedAmount)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Adjustments:"})," ",e(t.Change)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Allotment:"})," ",e(t.ChargedAllotment)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Allotment Balance:"})," ",e(t.AllotmentBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Pre Encumbrance:"})," ",e(t.PreEncumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Encumbrance:"})," ",e(t.Encumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",e(t.Charges)]})]}),o.jsxs("div",{className:"space-y-2",children:[["January","February","March","April","May","June","July","August","September","October","November","December"].map(c=>o.jsxs("div",{children:[o.jsxs("strong",{children:[c,":"]})," ",e(t[c])]},c)),o.jsxs("div",{className:"font-semibold pt-2 border-t",children:[o.jsx("strong",{children:"Total Amount:"})," ",e(t.TotalAmount)]})]})]})},y7e="https://staging-engine.testthelink.online",b7e=oe().shape({BudgetID:E().required("Budget is required"),budgetName:E(),fiscalYearID:E(),departmentID:E(),subDepartmentID:E(),chartOfAccountsID:E(),fundID:E(),projectID:E(),supplemental:G().integer().required("Supplemental is required"),remarks:E(),appropriation:G().integer(),balance:G().integer(),releasedAllotments:G().integer(),releasedBalance:G().integer(),Attachments:Ht()}),s5={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",supplemental:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function x7e({initialData:t,onSubmit:e,onClose:r,budgetList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=w.useState({...s5});w.useEffect(()=>{if(t!=null&&t.ID){const{Budget:g}=t;f({BudgetID:g==null?void 0:g.ID,budgetName:(g==null?void 0:g.Name)||"",fiscalYearID:(g==null?void 0:g.FiscalYearID)||"",departmentID:(g==null?void 0:g.DepartmentID)||"",subDepartmentID:(g==null?void 0:g.SubDepartmentID)||"",chartOfAccountsID:(g==null?void 0:g.ChartofAccountsID)||"",fundID:(g==null?void 0:g.FundID)||"",projectID:(g==null?void 0:g.ProjectID)||"",supplemental:(g==null?void 0:g.Supplemental)||0,charges:(g==null?void 0:g.Charges)||0,totalAmount:(g==null?void 0:g.TotalAmount)||0,balance:(g==null?void 0:g.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(g==null?void 0:g.Appropriation)||0,releasedAllotments:(g==null?void 0:g.ReleasedAllotments)||0,releasedBalance:(g==null?void 0:g.ReleasedBalance)||0,Attachments:(g==null?void 0:g.Attachments)||[]})}else f(s5)},[t]);const m=async(g,{setSubmitting:x})=>{try{const y=new FormData;g==null||g.Attachments.forEach((N,C)=>{N.ID?y.append(`Attachments[${C}].ID`,N.ID):y.append(`Attachments[${C}].File`,N)}),(g==null?void 0:g.Attachments.length)===0&&y.append("Attachments","[]"),console.log({values:g});const v={BudgetID:g.BudgetID,Remarks:g.remarks,Supplemental:g.supplemental};Object.entries(v).forEach(([N,C])=>{y.append(N,JSON.stringify(C))}),t?(y.append("LinkID",JSON.stringify(t.LinkID)),y.append("IsNew",JSON.stringify(!1))):y.append("IsNew",JSON.stringify(!0)),await e(y)}catch(y){console.error("Submission error:",y)}finally{x(!1)}},p=g=>{const x=n==null?void 0:n.find(y=>y.ID===parseInt(g));x&&f({...d,BudgetID:x.ID,budgetName:x.Name||"",fiscalYearID:x.FiscalYearID||"",departmentID:x.DepartmentID||"",subDepartmentID:x.SubDepartmentID||"",chartOfAccountsID:x.ChartofAccountsID||"",fundID:x.FundID||"",projectID:x.ProjectID||"",appropriation:parseFloat(x.Appropriation)||0,balance:parseFloat(x.AppropriationBalance)||0,charges:parseFloat(x.Charges||0)})},h=(g,x,y)=>{const N=Array.from(g.target.files).map(C=>C);x("Attachments",[...y.Attachments,...N])},b=(g,x,y)=>{const v=[...y.Attachments];v.splice(g,1),x("Attachments",v)};return o.jsx($e,{enableReinitialize:!0,initialValues:d,validationSchema:b7e,onSubmit:m,children:({values:g,errors:x,touched:y,handleChange:v,handleBlur:N,isSubmitting:C,setFieldValue:j})=>{var S;return o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2  pt-4",children:o.jsx(pt,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:p,options:n.map(k=>({label:k.Name,value:k.ID})),error:x.BudgetID,touched:y.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:k=>h(k,j,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((S=g==null?void 0:g.Attachments)==null?void 0:S.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((k,T)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ts,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:k.ID?o.jsx("a",{href:`${y7e}/uploads/${k.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:k.name||k.DataName}):k.name||k.DataName})]}),o.jsx("button",{type:"button",onClick:()=>b(T,j,g),className:"text-red-500 hover:text-red-700",children:o.jsx(nr,{className:"h-4 w-4"})})]},T))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(I,{label:"Budget Name",name:"budgetName",type:"text",value:g.budgetName,onChange:v,onBlur:N,error:x.budgetName,touched:y.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:g.fiscalYearID,onChange:v,onBlur:N,error:x.fiscalYearID,touched:y.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Department",name:"departmentID",type:"select",value:g.departmentID,onChange:v,onBlur:N,error:x.departmentID,touched:y.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:g.subDepartmentID,onChange:v,onBlur:N,error:x.subDepartmentID,touched:y.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:g.chartOfAccountsID,onChange:v,onBlur:N,error:x.chartOfAccountsID,touched:y.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fund",name:"fundID",type:"select",value:g.fundID,onChange:v,onBlur:N,error:x.fundID,touched:y.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Project",name:"projectID",type:"select",value:g.projectID,onChange:v,onBlur:N,error:x.projectID,touched:y.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Appropriation",name:"appropriation",type:"number",value:g.appropriation,onChange:v,onBlur:N,error:x.appropriation,touched:y.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Balance",name:"balance",type:"number",value:g.balance,onChange:v,onBlur:N,error:x.balance,touched:y.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:g.releasedAllotments,onChange:v,onBlur:N,error:x.releasedAllotments,touched:y.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Balance",name:"releasedBalance",type:"number",value:g.releasedBalance,onChange:v,onBlur:N,error:x.releasedBalance,touched:y.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(I,{label:"Supplemental",name:"supplemental",type:"number",value:g.supplemental,onChange:v,onBlur:N,error:x.supplemental,touched:y.supplemental,required:!0}),o.jsx(I,{label:"Remarks",name:"remarks",type:"textarea",value:g.remarks,onChange:v,onBlur:N,error:x.remarks,touched:y.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:C,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const v7e=()=>{const t=le(),{departments:e}=V(A=>A.departments),{subdepartments:r}=V(A=>A.subdepartments),n=V(A=>{var D;return((D=A.chartOfAccounts)==null?void 0:D.accounts)||[]}),{fiscalYears:a}=V(A=>A.fiscalYears),{funds:s}=V(A=>A.funds),{projectDetails:i}=V(A=>A.projectDetails),[l,c]=w.useState([]),[u,d]=w.useState([]);w.useEffect(()=>{t(ln()),t(Yt()),t(Fa()),t(ar()),t(Co()),t(br()),f(),m()},[]);const f=async()=>{try{const A=await Ye("/budgetSupplemental/list");c(A==null?void 0:A.data)}catch(A){ie.error("Failed to load data"),ie.error(A.message)}},m=async()=>{try{const A=await Ye("/budgetSupplemental/budgetList");d(A==null?void 0:A.data)}catch(A){ie.error("Failed to load data"),ie.error(A.message)}},[p,h]=w.useState(!1),[b,g]=w.useState(null),[x,y]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),v=A=>{g(A),h(!0)},N=async A=>{},C=async A=>{try{(await Ye.post("budgetSupplemental/save",A,{headers:{"Content-Type":"multipart/form-data"}})).data?(ie.success(b?"Supplemental updated successfully":"New supplemental added"),f()):ie.error("Failed to save supplemental")}catch(D){console.error("Error submitting supplemental:",D),ie.error(D.message||"Failed to save supplemental")}finally{h(!1)}},j=A=>{const{name:D,value:P}=A.target;y(M=>({...M,[D]:P}))},S=[{key:"Status",header:"Status",render:(A,D)=>o.jsx("span",{children:D.Status})},{key:"InvoiceNumber",header:"Invoice Number",render:(A,D)=>o.jsx("span",{children:D.InvoiceNumber})},{key:"Budget",header:"Budget",render:(A,D)=>{var P;return o.jsx("span",{children:(P=D.Budget)==null?void 0:P.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(A,D)=>{const P=new Date(D.InvoiceDate);return o.jsx("span",{children:P.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(A,D)=>o.jsx("span",{children:parseFloat(D.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],k=[{icon:xa,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ga,title:"Delete",onClick:N,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],T=l.filter(A=>{console.log(x,A);const{Budget:D}=A;return(!x.department||(D==null?void 0:D.DepartmentID)==x.department)&&(!x.subDepartment||(D==null?void 0:D.SubDepartmentID)==x.subDepartment)&&(!x.chartOfAccounts||(D==null?void 0:D.ChartofAccountsID)==x.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Supplemental"}),o.jsx("p",{children:"Manage your supplemental budgets here"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>v(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Supplemental"]}),o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(Mx,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:x.department,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]}),o.jsxs("select",{name:"subDepartment",value:x.subDepartment,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:x.chartOfAccounts,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]})]}),o.jsx(ge,{columns:S,data:T,actions:k,pagination:!0}),o.jsx(se,{size:"md",isOpen:p,onClose:()=>h(!1),title:b?"Edit Supplemental":"Add New Supplemental",children:o.jsx(x7e,{budgetList:u,departmentOptions:e.map(A=>({value:A.ID,label:A.Name})),subDepartmentOptions:r.map(A=>({value:A.ID,label:A.Name})),chartOfAccountsOptions:n.map(A=>({value:A.ID,label:A.Name})),fundOptions:s.map(A=>({value:A.ID,label:A.Name})),projectOptions:i.map(A=>({value:A.ID,label:A.Title})),fiscalYearOptions:a.map(A=>({value:A.ID,label:A.Name})),onSubmit:C,initialData:b,onClose:()=>h(!1)})})]})},j7e="https://staging-engine.testthelink.online",w7e=oe({fromBudgetId:E().required("Source budget is required"),toBudgetId:E().required("Target budget is required"),transferAmount:G().required("Amount is required").min(.01,"Amount must be positive"),remarks:E().required("Remarks are required"),Attachments:Ht()}),o5={fromBudgetId:"",toBudgetId:"",transferAmount:0,remarks:"",fromBudget:null,toBudget:null,Attachments:[]};function C7e({initialData:t,onSubmit:e,onClose:r,budgetOptions:n}){const[a,s]=w.useState({...o5}),i=async(u,{setSubmitting:d})=>{var b;if(u.fromBudgetId===u.toBudgetId){q.error("Source and target budgets cannot be the same"),d(!1);return}const f=n.find(g=>g.ID.toString()===u.fromBudgetId),m=parseFloat((f==null?void 0:f.AppropriationBalance)||0),p=parseFloat(u.transferAmount||0);if(p<=0){q.error("Transfer amount must be positive"),d(!1);return}if(p>m){q.error(`Transfer amount (${p}) exceeds available balance (${m})`),d(!1);return}const h=new FormData;h.append("BudgetID",u.fromBudgetId),h.append("TargetID",u.toBudgetId),h.append("Transfer",u.transferAmount),h.append("Remarks",u.remarks),((b=u.Attachments)==null?void 0:b.length)>0?u.Attachments.forEach((g,x)=>{g.ID?h.append(`Attachments[${x}].ID`,g.ID):h.append(`Attachments[${x}].File`,g)}):h.append("Attachments","[]"),t!=null&&t.LinkID?(h.append("LinkID",t==null?void 0:t.LinkID),h.append("IsNew",!1)):h.append("IsNew",!0);try{await e(h)}catch(g){q.error("Submission failed: "+g.message)}finally{d(!1)}},l=(u,d,f)=>{const m=Array.from(u.target.files);d("Attachments",[...f.Attachments,...m])},c=(u,d,f)=>{const m=[...f.Attachments];m.splice(u,1),d("Attachments",m)};return w.useEffect(()=>{var u,d;s(t?{fromBudgetId:((u=t==null?void 0:t.BudgetID)==null?void 0:u.toString())||"",toBudgetId:((d=t==null?void 0:t.TargetID)==null?void 0:d.toString())||"",transferAmount:parseFloat(t==null?void 0:t.Total)||0,remarks:(t==null?void 0:t.Remarks)||"",fromBudget:n.find(f=>f.ID===(t==null?void 0:t.BudgetID))||null,toBudget:n.find(f=>f.ID===(t==null?void 0:t.TargetID))||null,Attachments:t.Attachments||[]}:o5)},[t,n]),o.jsx($e,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:w7e,children:({values:u,errors:d,touched:f,setFieldValue:m,handleChange:p,handleBlur:h,isSubmitting:b})=>{var g,x,y,v,N,C,j,S,k,T,A,D,P,M;return o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"From Budget"}),o.jsx(pt,{label:"Select Budget",name:"fromBudgetId",required:!0,selectedValue:u.fromBudgetId,onSelect:$=>{const R=n.find(F=>F.ID.toString()===$);m("fromBudgetId",$),m("fromBudget",R)},options:n.map($=>{var R;return{label:`${$.Name} (${(R=$.FiscalYear)==null?void 0:R.Name})`,value:$.ID.toString()}}),error:f.fromBudgetId&&d.fromBudgetId}),u.fromBudget&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(I,{label:"Budget Name",name:"fromBudgetName",type:"text",value:u.fromBudget.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Fiscal Year",name:"fromFiscalYear",type:"text",value:(g=u.fromBudget.FiscalYear)==null?void 0:g.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Department",name:"fromDepartment",type:"text",value:((x=u.fromBudget.Department)==null?void 0:x.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Appropriation Balance",name:"fromBalance",type:"text",value:u.fromBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Sub Department",name:"fromSubDepartment",type:"text",value:((y=u.fromBudget.SubDepartment)==null?void 0:y.Name)||"No Subdepartments",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Chart of Accounts",name:"fromChartOfAccounts",type:"text",value:((v=u.fromBudget.ChartofAccounts)==null?void 0:v.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Fund",name:"fromFund",type:"text",value:((N=u.fromBudget.Funds)==null?void 0:N.Name)||"General Fund",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Project",name:"fromProject",type:"text",value:((C=u.fromBudget.Project)==null?void 0:C.Name)||"No Project",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Appropriation",name:"fromAppropriation",type:"text",value:u.fromBudget.Appropriation||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Released Allotments",name:"fromReleasedAllotments",type:"text",value:u.fromBudget.Released||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Allotment Balance",name:"fromAllotmentBalance",type:"text",value:u.fromBudget.AllotmentBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})," ",o.jsx(I,{label:"Balance",name:"fromBalance",type:"text",value:u.fromBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]}),o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"To Budget"}),o.jsx(pt,{label:"Select Budget",name:"toBudgetId",required:!0,selectedValue:u.toBudgetId,onSelect:$=>{const R=n.find(F=>F.ID.toString()===$);m("toBudgetId",$),m("toBudget",R)},options:n.map($=>{var R;return{label:`${$.Name} (${(R=$.FiscalYear)==null?void 0:R.Name})`,value:$.ID.toString()}}),error:f.toBudgetId&&d.toBudgetId}),u.toBudget&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(I,{label:"Budget Name",name:"toBudgetName",type:"text",value:u.toBudget.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Fiscal Year",name:"toFiscalYear",type:"text",value:(j=u.toBudget.FiscalYear)==null?void 0:j.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Department",name:"toDepartment",type:"text",value:((S=u.toBudget.Department)==null?void 0:S.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Appropriation Balance",name:"toBalance",type:"text",value:u.toBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Sub Department",name:"toSubDepartment",type:"text",value:((k=u.toBudget.SubDepartment)==null?void 0:k.Name)||"No Subdepartments",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Chart of Accounts",name:"toChartOfAccounts",type:"text",value:((T=u.toBudget.ChartofAccounts)==null?void 0:T.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Fund",name:"toFund",type:"text",value:((A=u.toBudget.Funds)==null?void 0:A.Name)||"General Fund",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Project",name:"toProject",type:"text",value:((D=u.toBudget.Project)==null?void 0:D.Name)||"No Project",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Appropriation",name:"toAppropriation",type:"text",value:u.toBudget.Appropriation||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Released Allotments",name:"toReleasedAllotments",type:"text",value:u.toBudget.Released||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Allotment Balance",name:"toAllotmentBalance",type:"text",value:u.toBudget.AllotmentBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Balance",name:"toBalance",type:"text",value:u.toBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{name:"remarks",type:"textarea",label:"Remarks",onChange:p,onBlur:h,value:u.remarks,error:d.remarks,touched:f.remarks,required:!0}),o.jsx(I,{label:"Transfer Amount",name:"transferAmount",type:"number",onChange:p,onBlur:h,value:u.transferAmount,error:d.transferAmount,touched:f.transferAmount,required:!0,min:"0.01",step:"0.01"})]}),o.jsx("div",{className:"my-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold text-lg",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:$=>l($,m,u),className:"hidden",id:"file-upload"},((P=u.Attachments)==null?void 0:P.length)||0),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer transition-colors duration-150",children:[o.jsx(W6,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),((M=u==null?void 0:u.Attachments)==null?void 0:M.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:u.Attachments.map(($,R)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[o.jsxs("div",{className:"flex items-center min-w-0",children:[o.jsx(Ts,{className:"h-4 w-4 text-gray-500 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-sm truncate",children:$.ID?o.jsx("a",{href:`${j7e}/uploads/${$.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",title:$.name||$.DataName,children:$.name||$.DataName}):o.jsx("span",{title:$.name||$.DataName,children:$.name||$.DataName})})]}),o.jsx("button",{type:"button",onClick:()=>c(R,m,u),className:"text-red-500 hover:text-red-700 ml-2 p-1 rounded-full hover:bg-red-50 transition-colors duration-150","aria-label":"Remove file",children:o.jsx(nr,{className:"h-4 w-4"})})]},$.ID||R))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update Transfer":"Create Transfer"})]})]})}})}const Vb=L("budgetTransfer/fetchBudgetOptions",async()=>(await Ye.get("/budgetTransfer/budgetList")).data),Ic=L("budgetTransfer/fetchBudgetTransfers",async()=>(await Ye.get("/budgetTransfer/list")).data),hf=L("budgetTransfer/createBudgetTransfer",async t=>{const e=await Ye.post("/budgetTransfer/save",t,{headers:{"Content-Type":"multipart/form-data"}});return ie.success("Budget transfer created successfully"),e.data}),lN=L("budgetTransfer/deleteBudgetTransfer",async t=>(await Ye.delete(`/budgetTransfer/${t}`),ie.success("Budget transfer deleted successfully"),t)),N7e=xe({name:"budgetTransfer",initialState:{budgetOptions:[],transfers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Vb.pending,e=>{e.loading=!0,e.error=null}).addCase(Vb.fulfilled,(e,r)=>{e.loading=!1,e.budgetOptions=r.payload||[]}).addCase(Vb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch budget options")}).addCase(Ic.pending,e=>{e.loading=!0,e.error=null}).addCase(Ic.fulfilled,(e,r)=>{e.loading=!1,e.transfers=r.payload||[]}).addCase(Ic.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch budget transfers")}).addCase(hf.pending,e=>{e.loading=!0,e.error=null}).addCase(hf.fulfilled,(e,r)=>{e.loading=!1,e.transfers=[...e.transfers,r.payload]}).addCase(hf.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to create budget transfer")}).addCase(lN.pending,e=>{e.loading=!0,e.error=null}).addCase(lN.fulfilled,(e,r)=>{e.loading=!1,e.transfers=e.transfers.filter(n=>n.id!==r.payload)}).addCase(lN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to delete budget transfer")})}}),S7e=N7e.reducer,A7e=()=>{const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=le(),{transfers:s,budgetOptions:i,loading:l,error:c}=V(p=>p.budgetTransfer);console.log(s,i,l,c),w.useEffect(()=>{a(Vb()),a(Ic())},[]);const u=p=>{n(p),e(!0)},d=async p=>{try{r?(await a(hf(p)).unwrap(),await a(Ic()).unwrap(),ie.success("Transfer updated successfully")):(await a(hf(p)).unwrap(),await a(Ic()).unwrap(),ie.success("Transfer created successfully")),e(!1)}catch(h){console.error("Error:",h),ie.error("An error occurred")}},f=[{key:"InvoiceNumber",header:"Invoice #",sortable:!0},{key:"BudgetID",header:"Budget",sortable:!0,render:(p,h)=>{var b;return((b=h==null?void 0:h.Budget)==null?void 0:b.Name)||p||""}},{key:"Status",header:"Status",sortable:!0,render:p=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p==="Requested"?"bg-warning-100 text-warning-800":p==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:p})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Total",header:"Total",sortable:!0,numeric:!0},{key:"Remarks",header:"Remarks",sortable:!1}],m=p=>{const h=[];return p.Status==="Rejected"&&h.push({icon:xa,title:"Edit",onClick:()=>u(p),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),h};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap ",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Transfer"}),o.jsx("p",{children:"Manage your budget transfers here"})]}),o.jsxs("button",{onClick:()=>u(null),className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Transfer"]})]}),o.jsx(ge,{columns:f,data:s,actions:m,pagination:!0}),o.jsx(se,{size:"xl",isOpen:t,onClose:()=>e(!1),title:r?"Edit Transfer":"Add New Transfer",children:o.jsx(C7e,{onSubmit:d,initialData:r,onClose:()=>e(!1),budgetOptions:i})})]})},k7e=oe({Code:E().required("Code is required"),Name:E().required("Name is required"),Description:E().required("Description is required"),Amount:G().required("Amount is required").min(0,"Amount must be positive")}),i5={Code:"",Name:"",Description:"",Amount:0};function I7e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=w.useState({...i5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return w.useEffect(()=>{t!=null&&t.ID?a({ID:(t==null?void 0:t.ID)||"",Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",Description:(t==null?void 0:t.Description)||"",Amount:(t==null?void 0:t.OriginalAmount)||""}):a(i5)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:k7e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",onChange:u,onBlur:d,value:i.Code,error:l.Code,touched:c.Code,placeholder:"e.g., 1-01-01-010",required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",onChange:u,onBlur:d,value:i.Name,error:l.Name,touched:c.Name,placeholder:"Enter Name ",required:!0}),o.jsx(I,{label:"Amount",name:"Amount",type:"text",onChange:u,onBlur:d,value:i.Amount,error:l.Amount,touched:c.Amount,placeholder:"Enter Amount ",required:!0}),o.jsx(I,{name:"Description",type:"textarea",label:"Description",onChange:u,onBlur:d,value:i.Description,error:l.Description,touched:c.Description,placeholder:"Enter Description",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const T7e=()=>{const t=le(),{funds:e,loading:r}=V(h=>h.funds),[n,a]=w.useState(!1),[s,i]=w.useState(null),l=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:h=>h||""},{key:"Name",header:"Name",sortable:!0,render:h=>o.jsx("span",{className:"font-medium",children:h||""})},{key:"Description",header:"Description",sortable:!0,render:h=>o.jsx("span",{className:"text-gray-600",children:h||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,render:h=>o.jsx("span",{className:"font-medium",children:h?c(h):""})}],c=h=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(h),f=[{icon:xa,title:"Edit",onClick:h=>{i(h),a(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ga,title:"Delete",onClick:async h=>{await t(rb(h.ID)).unwrap(),t(Yt())},className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],m=async h=>{s?await t(tb(h)).unwrap():await t(eb(h)).unwrap(),t(Yt()),a(!1),i(null)},p=h=>{console.log("View row:",h)};return w.useEffect(()=>{t(Yt())},[t]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Funds"}),o.jsx("p",{children:"Manage budget funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:o.jsxs("button",{type:"button",onClick:()=>{i(null),a(!0)},className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:l,data:e,actions:f,loading:r,onRowClick:p})}),o.jsx(se,{size:"sm",isOpen:n,onClose:()=>{a(!1),i(null)},title:s?"Edit Budget Fund":"Add New Budget Fund",children:o.jsx(I7e,{onSubmit:m,initialData:s,onClose:()=>{a(!1),i(null)}})})]})},D7e="https://staging-engine.testthelink.online",E7e=()=>{const t=le(),{fiscalYears:e}=V(A=>A.fiscalYears),{funds:r}=V(A=>A.funds),{departments:n}=V(A=>A.departments),[a,s]=w.useState("appropriations"),[i,l]=w.useState([]),[c,u]=w.useState(!1),[d,f]=w.useState(""),[m,p]=w.useState(""),[h,b]=w.useState(""),[g,x]=w.useState(""),[y,v]=w.useState("");w.useEffect(()=>{t(ln()),t(Yt()),t(ar())},[t]);const N=()=>({startDate:d,endDate:m,fiscalYearID:h,fundsID:g,departmentID:y}),C=()=>d&&m&&h&&g&&y,j=async A=>{if(!C()){ie.error("Please select all filters");return}u(!0);try{s(A);const D=A==="appropriations"?"/statementOfAppropriations/view":"/statementOfAppropriations/viewSAO",P=await Ye.post(D,N());l(P.data)}catch{ie.error("Failed to fetch data")}finally{u(!1)}},S=[{key:"Fund",header:"Fund"},{key:"Year",header:"Year"},{key:"Month End",header:"Month End"},{key:"Account Code",header:"Account Code"},{key:"ID",header:"ID"},{key:"Category",header:"Category"},{key:"Name",header:"Name"},{key:"Appropriation",header:"Appropriation",numeric:!0},{key:"Allotment",header:"Allotment",numeric:!0},{key:"Obligation",header:"Obligation",numeric:!0},{key:"Unobligated Appropriation",header:"Unobligated Appropriation",numeric:!0},{key:"Unobligated Allotment",header:"Unobligated Allotment",numeric:!0},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Requested By",header:"Requested By"},{key:"Position",header:"Position"}],k=[{key:"Date",header:"Date"},{key:"OBR No.",header:"OBR No."},{key:"Particulars",header:"Particulars"},{key:"Appropriation/ Allotment",header:"Appropriation/ Allotment",numeric:!0},{key:"Expenses",header:"Expenses",numeric:!0},{key:"Balance",header:"Balance",numeric:!0}],T=async()=>{if(!C()){ie.error("Please select all filters");return}try{const A=await fetch(`${D7e}/statementOfAppropriations/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(N())});if(!A.ok)throw new Error("Server response was not ok");const D=await A.blob(),P=A.headers.get("Content-Disposition");let M="StatementOfAppropriations.xlsx";P&&P.includes("filename=")&&(M=P.split("filename=")[1].replace(/['"]/g,""));const $=window.URL.createObjectURL(D),R=document.createElement("a");R.href=$,R.download=M,document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL($)}catch(A){console.error("Export failed:",A),ie.error(A.message||"Failed to export file")}};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header mb-4",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"Statement of Appropriations, Allotment, Obligations and Balances"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage budget allocations and balances"})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Start Date"}),o.jsx("input",{type:"date",className:"form-input",value:d,onChange:A=>f(A.target.value)})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"End Date"}),o.jsx("input",{type:"date",className:"form-input",value:m,onChange:A=>p(A.target.value)})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Fiscal Year"}),o.jsxs("select",{className:"form-select",value:h,onChange:A=>b(A.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),e.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Fund"}),o.jsxs("select",{className:"form-select",value:g,onChange:A=>x(A.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Department"}),o.jsxs("select",{className:"form-select",value:y,onChange:A=>v(A.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),n.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 w-full  sm:grid-cols-3 gap-2 sm:w-max mb-4",children:[o.jsx("button",{onClick:()=>j("appropriations"),className:"btn btn-primary",children:"View"}),o.jsx("button",{onClick:()=>j("viewSAO"),className:"btn btn-primary",children:"View SAO"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAAOB"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAO"}),o.jsx("button",{className:"btn btn-outline",onClick:T,children:"Export to Excel"})]}),o.jsx(ge,{columns:a==="appropriations"?S:k,data:i,loading:c})]})},P7e=oe({fund:E().required("Fund is required"),code:E().required("Code is required"),name:E().required("Name is required"),desc:E().required("Description is required"),amount:G().required("Amount is required").min(0,"Amount must be positive")}),l5={code:"",name:"",fund:"",desc:"",amount:0};function O7e({initialData:t,onSubmit:e,onClose:r,funds:n}){const[a,s]=w.useState({...l5}),i=(l,{setSubmitting:c})=>{e(l),c(!1),console.log("Form submitted with values:",l)};return w.useEffect(()=>{t!=null&&t.ID?s({id:t==null?void 0:t.ID,code:t==null?void 0:t.Code,name:t==null?void 0:t.Name,desc:t==null?void 0:t.Description,amount:t==null?void 0:t.Amount,fund:t==null?void 0:t.FundsID}):s(l5)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:P7e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(I,{label:"Code",name:"code",type:"text",placeholder:"Enter code",onChange:d,onBlur:f,value:l.code,error:c.code,touched:u.code,required:!0}),o.jsx(I,{label:"Name",name:"name",type:"text",placeholder:"Enter name",onChange:d,onBlur:f,value:l.name,error:c.name,touched:u.name,required:!0}),o.jsx(I,{label:"Amount",name:"amount",type:"text",placeholder:"Enter amount",onChange:d,onBlur:f,value:l.amount,error:c.amount,touched:u.amount,required:!0}),o.jsx(I,{label:"Fund",name:"fund",type:"select",placeholder:"Select fund",onChange:d,onBlur:f,value:l.fund,error:c.fund,touched:u.fund,options:n,required:!0}),o.jsx(I,{name:"desc",type:"textarea",label:"Description",placeholder:"Enter description",onChange:d,onBlur:f,value:l.desc,error:c.desc,touched:u.desc,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const _7e=()=>{const t=le(),{subFunds:e,isLoading:r}=V(x=>x.subFunds),{funds:n,loading:a}=V(x=>x.funds),[s,i]=w.useState(!1),[l,c]=w.useState(null),u=[{key:"FundsID",header:"Funds ID",sortable:!0,className:"font-medium text-neutral-900",render:x=>x||""},{key:"Code",header:"Code",sortable:!0,render:x=>o.jsx("span",{className:"font-medium",children:x||""})},{key:"Name",header:"Name",sortable:!0,render:x=>o.jsx("span",{className:"font-medium",children:x||""})},{key:"Description",header:"Description",sortable:!0,render:x=>o.jsx("span",{className:"text-gray-600",children:x||"No description"})},{key:"Amount",header:"Amount",sortable:!0,className:"text-right",render:x=>o.jsx("span",{className:"font-medium",children:x?f(x):""})}],d=[{icon:xa,title:"Edit",onClick:x=>h(x),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ga,title:"Delete",onClick:x=>m(x),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],f=x=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(x),m=async x=>{try{await t(Ob(x.ID)).unwrap(),ie.success("Sub fund deleted successfully")}catch(y){ie.error(y.payload||"Failed to delete sub fund"),console.error(y)}},p=async x=>{try{if(l){const y={IsNew:!1,ID:l.ID,FundsID:x.fund,Code:x.code,Name:x.name,Description:x.desc,Amount:x.amount};await t(nk(y)).unwrap(),ie.success("Sub fund updated successfully")}else{const y={IsNew:!0,FundsID:x.fund,Code:x.code,Name:x.name,Description:x.desc,Amount:x.amount};await t(Pb(y)).unwrap(),ie.success("Sub fund added successfully")}t(lf()),i(!1),c(null)}catch(y){ie.error(y.payload||"Failed to save sub fund"),console.error(y)}},h=x=>{c(x),i(!0)},b=x=>{console.log("View row:",x)};w.useEffect(()=>{t(lf()),t(Yt())},[t]);const g=n==null?void 0:n.map(x=>({value:x.ID,label:x.Name}));return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Sub Funds"}),o.jsx("p",{children:"Manage budget sub funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:o.jsxs("button",{type:"button",onClick:()=>h(null),className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Sub Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:u,data:e,actions:d,loading:r||a,onRowClick:b})}),o.jsx(se,{size:"sm",isOpen:s,onClose:()=>i(!1),title:l?"Edit Sub Fund":"Add New Sub Fund",children:o.jsx(O7e,{onSubmit:p,initialData:l,funds:g,onClose:()=>i(!1)})})]})},$7e="https://staging-engine.testthelink.online",R7e=oe({fromFundId:E().required("Source fund is required"),toFundId:E().required("Target fund is required"),transferAmount:G().required("Amount is required").min(.01,"Amount must be positive"),remarks:E().required("Remarks are required"),Attachments:Ht()}),cN={fromFundId:"",toFundId:"",transferAmount:0,remarks:"",fromFund:null,toFund:null,Attachments:[]};function M7e({initialData:t,onSubmit:e,onClose:r,fundOptions:n}){const[a,s]=w.useState({...cN});w.useEffect(()=>{s(t?i(t):cN)},[t]);const i=f=>f?{fromFundId:f.FundsID||"",toFundId:f.TargetID||"",transferAmount:parseFloat(f.Total)||0,remarks:f.Remarks||"",fromFund:f.Funds||null,toFund:f.targetFunds||null,Attachments:f.Attachments||[]}:cN,l=async(f,{setSubmitting:m})=>{if(f.fromFundId===f.toFundId){q.error("Source and target funds cannot be the same"),m(!1);return}const p=n.find(x=>x.ID===f.fromFundId);if(!p){q.error("Source fund not found"),m(!1);return}const h=parseFloat(p.Balance||0),b=parseFloat(f.transferAmount||0);if(b<=0){q.error("Transfer amount must be positive"),m(!1);return}if(b>h){q.error(`Transfer amount (${b}) exceeds available balance (${h})`),m(!1);return}const g=new FormData;g.append("FundsID",f.fromFundId),g.append("TargetID",f.toFundId),g.append("Transfer",b),g.append("Remarks",f.remarks),f.Attachments&&f.Attachments.length>0?f.Attachments.forEach((x,y)=>{x.ID?g.append(`Attachments[${y}].ID`,x.ID):g.append(`Attachments[${y}].File`,x)}):g.append("Attachments","[]"),t!=null&&t.LinkID?(g.append("LinkID",t==null?void 0:t.LinkID),g.append("IsNew",!1)):g.append("IsNew",!0);try{await e(g)}catch(x){q.error("Submission failed: "+x.message)}finally{m(!1)}},c=(f,m)=>{const p=n.find(h=>h.ID===m);return{[`${f}Id`]:m,[f]:p}},u=(f,m,p)=>{const b=Array.from(f.target.files).map(g=>g);console.log(b,p),m("Attachments",[...p.Attachments,...b])},d=(f,m,p)=>{const h=[...p.Attachments];h.splice(f,1),m("Attachments",h)};return o.jsx($e,{enableReinitialize:!0,onSubmit:l,initialValues:a,validationSchema:R7e,children:({values:f,errors:m,touched:p,setFieldValue:h,handleChange:b,handleBlur:g,isSubmitting:x})=>{var y,v;return o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"From"}),o.jsx(pt,{label:"Select Fund",name:"fromFundId",required:!0,selectedValue:f.fromFundId,onSelect:N=>{const C=c("fromFund",N);h("fromFundId",C.fromFundId),h("fromFund",C.fromFund)},options:n.map(N=>({label:`${N.Code} - ${N.Name}`,value:N.ID})),error:p.fromFundId&&m.fromFundId}),f.fromFund&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(I,{label:"Fund Code",name:"fromCode",type:"text",value:f.fromFund.Code,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Fund Name",name:"fromName",type:"text",value:f.fromFund.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Available Balance",name:"fromBalance",type:"text",value:f.fromFund.Balance||"0",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]}),o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"To"}),o.jsx(pt,{label:"Select Fund",name:"toFundId",required:!0,selectedValue:f.toFundId,onSelect:N=>{const C=c("toFund",N);h("toFundId",C.toFundId),h("toFund",C.toFund)},options:n.map(N=>({label:`${N.Code} - ${N.Name}`,value:N.ID})),error:p.toFundId&&m.toFundId}),f.toFund&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(I,{label:"Fund Code",name:"toCode",type:"text",value:f.toFund.Code,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Fund Name",name:"toName",type:"text",value:f.toFund.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Available Balance",name:"toBalance",type:"text",value:f.toFund.Balance||"0",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{name:"remarks",type:"textarea",label:"Remarks",onChange:b,onBlur:g,value:f.remarks,error:m.remarks,touched:p.remarks,required:!0}),o.jsx(I,{label:"Transfer Amount",name:"transferAmount",type:"number",onChange:b,onBlur:g,value:f.transferAmount,error:m.transferAmount,touched:p.transferAmount,required:!0,min:"0.01",step:"0.01"})]}),o.jsx("div",{className:"my-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold text-lg",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:N=>u(N,h,f),className:"hidden",id:"file-upload"},((y=f.Attachments)==null?void 0:y.length)||0),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer transition-colors duration-150",children:[o.jsx(W6,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),((v=f==null?void 0:f.Attachments)==null?void 0:v.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:f.Attachments.map((N,C)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[o.jsxs("div",{className:"flex items-center min-w-0",children:[o.jsx(Ts,{className:"h-4 w-4 text-gray-500 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-sm truncate",children:N.ID?o.jsx("a",{href:`${$7e}/uploads/${N.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",title:N.name||N.DataName,children:N.name||N.DataName}):o.jsx("span",{title:N.name||N.DataName,children:N.name||N.DataName})})]}),o.jsx("button",{type:"button",onClick:()=>d(C,h,f),className:"text-red-500 hover:text-red-700 ml-2 p-1 rounded-full hover:bg-red-50 transition-colors duration-150","aria-label":"Remove file",children:o.jsx(nr,{className:"h-4 w-4"})})]},N.ID||C))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update Transfer":"Create Transfer"})]})]})}})}const Ub=L("fundTransfer/fetchFundOptions",async()=>(await Ye.get("/fundTransfer/fundList")).data),Tc=L("fundTransfer/fetchFundTransfers",async()=>(await Ye.get("/fundTransfer/list")).data),pf=L("fundTransfer/createFundTransfer",async t=>{const e=await Ye.post("/fundTransfer/save",t,{headers:{"Content-Type":"multipart/form-data"}});return ie.success("Fund transfer created successfully"),e.data}),uN=L("fundTransfer/deleteFundTransfer",async t=>(await Ye.delete(`/fundTransfer/${t}`),ie.success("Fund transfer deleted successfully"),t)),L7e=xe({name:"fundTransfer",initialState:{fundOptions:[],transfers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ub.pending,e=>{e.loading=!0,e.error=null}).addCase(Ub.fulfilled,(e,r)=>{e.loading=!1,e.fundOptions=r.payload||[]}).addCase(Ub.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch fund options")}).addCase(Tc.pending,e=>{e.loading=!0,e.error=null}).addCase(Tc.fulfilled,(e,r)=>{e.loading=!1,e.transfers=r.payload||[]}).addCase(Tc.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch fund transfers")}).addCase(pf.pending,e=>{e.loading=!0,e.error=null}).addCase(pf.fulfilled,(e,r)=>{e.loading=!1,e.transfers=[...e.transfers,r.payload]}).addCase(pf.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to create fund transfer")}).addCase(uN.pending,e=>{e.loading=!0,e.error=null}).addCase(uN.fulfilled,(e,r)=>{e.loading=!1,e.transfers=e.transfers.filter(n=>n.id!==r.payload)}).addCase(uN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to delete fund transfer")})}}),F7e=L7e.reducer,B7e=()=>{const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=le(),{transfers:s,fundOptions:i,loading:l,error:c}=V(h=>h.fundTransfer);w.useEffect(()=>{a(Ub()),a(Tc())},[]);const u=[{key:"InvoiceNumber",header:"Invoice Number",sortable:!0,className:"font-medium text-neutral-900",render:h=>h||""},{key:"FundsID",header:"Fund Source",sortable:!0,render:(h,b)=>{var g;return o.jsx("span",{className:"text-gray-600",children:((g=b==null?void 0:b.Funds)==null?void 0:g.Name)||h||""})}},{key:"TargetID",header:"Fund Target",sortable:!0,render:(h,b)=>{var g;return o.jsx("span",{className:"text-gray-600",children:((g=b==null?void 0:b.targetFunds)==null?void 0:g.Name)||h||""})}},{key:"Status",header:"Status",sortable:!0,render:h=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${h==="Requested"?"bg-warning-100 text-warning-800":h==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:h})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:h=>o.jsx("span",{className:"font-medium",children:h||""})},{key:"Total",header:"Total",sortable:!0,render:h=>o.jsx("span",{className:"font-medium",children:h||""})},{key:"Remarks",header:"Remarks",sortable:!0,render:h=>o.jsx("span",{className:"font-medium",children:h||""})}],d=h=>{const b=[];return h.Status==="Rejected"&&b.push({icon:xa,title:"Edit",onClick:()=>m(h),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),b},f=async h=>{try{r?(await a(pf(h)).unwrap(),await a(Tc()).unwrap(),q.success("Transfer updated successfully")):(await a(pf(h)).unwrap(),await a(Tc()).unwrap(),q.success("Transfer created successfully")),e(!1)}catch(b){console.error("Error:",b),q.error("An error occurred")}},m=h=>{n(h),e(!0)},p=h=>{console.log("View transfer:",h)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Transfer"}),o.jsx("p",{children:"Manage fund transfers between accounts"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:o.jsxs("button",{type:"button",onClick:()=>m(null),className:"btn btn-primary max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Transfer"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:u,data:s,actions:d,loading:l,onRowClick:p})}),o.jsx(se,{size:"xl",isOpen:t,onClose:()=>e(!1),title:r?"Edit Fund Transfer":"Add Fund Transfer",children:o.jsx(M7e,{onSubmit:f,initialData:r,onClose:()=>e(!1),fundOptions:i})})]})},q7e=oe().shape({reportType:E().required("Report type is required"),date:Re().when("reportType",{is:"daily",then:t=>t.required("Date is required")}),action:E().required("Action is required"),month:G().when("reportType",{is:"monthly",then:t=>t.required("Month is required").min(1).max(12)}),year:G().when("reportType",{is:t=>["monthly","quarterly"].includes(t),then:t=>t.required("Year is required").min(2e3).max(2100)}),quarter:G().when("reportType",{is:"quarterly",then:t=>t.required("Quarter is required").min(1).max(4)}),fromDate:Re().when("reportType",{is:"flexible",then:t=>t.required("From date is required")}),toDate:Re().when("reportType",{is:"flexible",then:t=>t.required("To date is required").min(il("fromDate"),"To date must be after from date")}),notedBy:E().when("reportType",{is:"flexible",then:t=>t.required("Noted by is required")})});function V7e({onSubmitCollectionReport:t,activeReportType:e,setActiveReportType:r}){const n={reportType:"daily",action:"",date:"",month:"",year:new Date().getFullYear(),quarter:"",fromDate:"",toDate:"",notedBy:"",documentTypes:{communityTax:!1,marriageCert:!1,burialCert:!1,generalService:!1,propertyTax:!1,marketTicketing:!1}},a=[{value:"daily",label:"Daily Report"},{value:"monthly",label:"Monthly Report"},{value:"quarterly",label:"Quarterly Report"},{value:"flexible",label:"Flexible Report"}],s=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],i=[{value:1,label:"Q1 (Jan - Mar)"},{value:2,label:"Q2 (Apr - Jun)"},{value:3,label:"Q3 (Jul - Sep)"},{value:4,label:"Q4 (Oct - Dec)"}],l=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"auditor",label:"Auditor"},{value:"clerk",label:"Clerk"}],c=(d,f,m,p)=>{switch(e){case"daily":return o.jsx(I,{label:"Date",name:"date",type:"date",required:!0,className:"w-full",onChange:p,value:m.date,error:d.date,touched:f.date});case"monthly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Month",name:"month",type:"select",options:s,value:m.month,onChange:p,required:!0,error:d.month,touched:f.month}),o.jsx(I,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100,value:m.year,onChange:p,error:d.year,touched:f.year})]});case"quarterly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Quarter",name:"quarter",type:"select",options:i,value:m.quarter,onChange:p,required:!0,error:d.quarter,touched:f.quarter}),o.jsx(I,{label:"Year",name:"year",type:"number",required:!0,value:m.year,onChange:p,min:2e3,max:2100,error:d.year,touched:f.year})]});case"flexible":return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"From Date",name:"fromDate",type:"date",required:!0,value:m.fromDate,onChange:p,error:d.fromDate,touched:f.fromDate}),o.jsx(I,{label:"To Date",name:"toDate",type:"date",required:!0,value:m.toDate,onChange:p,error:d.toDate,touched:f.toDate})]}),o.jsx(I,{label:"Noted By",name:"notedBy",type:"select",options:l,required:!0,value:m.notedBy,onChange:p,error:d.notedBy,touched:f.notedBy})]});default:return null}},u=(d,{setSubmitting:f,setErrors:m})=>{try{const p={ctc:d.documentTypes.communityTax?1:0,btc:d.documentTypes.burialCert?1:0,mrc:d.documentTypes.marriageCert?1:0,gsi:d.documentTypes.generalService?1:0,rpt:d.documentTypes.propertyTax?1:0,pmt:d.documentTypes.marketTicketing?1:0};let h={};switch(d.reportType){case"daily":h={date:d.date};break;case"monthly":h={month:d.month,year:d.year};break;case"quarterly":h={quarter:d.quarter,year:d.year};break;case"flexible":h={startdate:d.fromDate,enddate:d.toDate,note:d.notedBy};break;default:throw new Error("Invalid report type")}const b={...p,...h};t({...d,action:d.action,params:b})}catch(p){console.error("Error submitting form:",p),m({submit:p.message})}finally{f(!1)}};return o.jsx($e,{initialValues:n,validationSchema:q7e,onSubmit:u,children:({values:d,errors:f,touched:m,setFieldValue:p,handleSubmit:h,handleChange:b,setErrors:g,isSubmitting:x})=>o.jsxs(Le,{className:"space-y-4",children:[function(){console.log(e,d,f)}(),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.map(y=>o.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors sm:w-auto w-full ${e===y.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{r(y.value),p("reportType",y.value)},children:y.label},y.value))}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:c(f,m,d,b)}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Types"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{name:"communityTax",label:"Community Tax Certificate"},{name:"marriageCert",label:"Marriage Certificate"},{name:"burialCert",label:"Burial Certificate"},{name:"generalService",label:"General Service Invoice"},{name:"propertyTax",label:"Real Property Tax invoice"},{name:"marketTicketing",label:"Public Market Ticketing"}].map(y=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`document-${y.name}`,name:`documentTypes.${y.name}`,checked:d.documentTypes[y.name],onChange:v=>{p(`documentTypes.${y.name}`,v.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:`document-${y.name}`,className:"ml-2 block text-sm text-gray-700",children:y.label})]},y.name))})]}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 gap-4 sm:flex-row flex-col",children:[o.jsx("button",{type:"button",onClick:()=>{p("action","view"),h(),g({})},className:"btn btn-primary sm:w-auto w-full",children:"View"}),o.jsx("button",{type:"button",onClick:()=>{p("action","generate"),h()},className:"btn btn-secondary sm:w-auto w-full",children:"Generate Journal"}),o.jsx("button",{type:"button",onClick:()=>{p("action","export"),h()},className:"btn btn-outline sm:w-auto w-full",children:"Export to Excel"})]})]})})}const Z8="https://staging-engine.testthelink.online",U7e=async(t,e)=>{try{const r=localStorage.getItem("token");let n=`${Z8}/collectionreport/${t}?`;const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":a.append("date",e.date);break;case"monthly":a.append("month",e.month),a.append("year",e.year);break;case"quarterly":a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":a.append("startdate",e.startDate),a.append("enddate",e.endDate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}n+=a.toString();const s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),i=await s.json();if(!s.ok)throw new Error(i.message||"Failed to fetch report");return i}catch(r){throw console.error(`Error fetching ${t} report:`,r),r}},z7e=async(t,e)=>{try{const r=localStorage.getItem("token");let n="";const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":n="/collectionreport/dailyExcel",a.append("date",e.date);break;case"monthly":n="/collectionreport/monthlyExcel",a.append("month",e.month),a.append("year",e.year);break;case"quarterly":n="/collectionreport/quarterlyExcel",a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":n="/collectionreport/flexibleExcel",a.append("startdate",e.startdate),a.append("enddate",e.enddate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}const s=`${Z8}${n}?${a.toString()}`,i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!i.ok){const p=await i.json();throw new Error(p.message||"Failed to export report")}const l=await i.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c;const d=new Date,f=`${d.getFullYear()}${(d.getMonth()+1).toString().padStart(2,"0")}${d.getDate().toString().padStart(2,"0")}_${d.getHours()}${d.getMinutes()}`;let m="";switch(t){case"daily":m=`Daily_Report_${e.date.replace(/-/g,"")}_${f}.xlsx`;break;case"monthly":m=`Monthly_Report_${e.year}${e.month.toString().padStart(2,"0")}_${f}.xlsx`;break;case"quarterly":m=`Quarterly_Report_Q${e.quarter}_${e.year}_${f}.xlsx`;break;case"flexible":m=`Custom_Report_${e.startdate.replace(/-/g,"")}_to_${e.enddate.replace(/-/g,"")}_${f}.xlsx`;break}u.setAttribute("download",m),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(c)}catch(r){throw console.error(`Error exporting ${t} report:`,r),r}};function W7e(){const[t,e]=w.useState({daily:[],monthly:[],quarterly:[],flexible:[]}),[r,n]=w.useState("daily"),[a,s]=w.useState(!1),i=async c=>{s(!0),console.log("Form data:",c);try{switch(c.action){case"view":const u=await U7e(c.reportType,c.params);e(d=>({...d,[c.reportType]:u})),n(c.reportType),console.log(u);break;case"generate":setCollectionData([]);case"export":await z7e(c.reportType,c.params);break;default:break}}catch(u){console.error("Error handling collection report action:",u),q.error("Failed to handle collection report action.")}finally{s(!1)}},l={daily:[{key:"ChargeAccountID",header:"Charge Account ID",render:c=>c||"-"},{key:"FundsID",header:"Funds ID",render:c=>c||"-"},{key:"Name",header:"Name",render:c=>c||"-"},{key:"Account",header:"Account",render:c=>c||"-"},{key:"SubTotal",header:"Sub-Total",render:c=>c.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{key:"Date",header:"Date",render:c=>new Date(c).toLocaleDateString()},{key:"FullName",header:"Full Name",render:c=>c||"-"},{key:"Position",header:"Position",render:c=>c||"-"}],monthly:[{key:"Month",header:"Month"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"SubTotal",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.Date1} to ${u.Date2}`},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"},{key:"ChartOfAccounts",header:"Chart of Accounts"}],quarterly:[{key:"Quarter",header:"Quarter"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"FundName",header:"Fund Name"},{key:"QuarterlyBreakdown",header:"Quarterly Breakdown",render:(c,u)=>`Q1: ${u.First} | Q2: ${u.Second} | Q3: ${u.Third}`},{key:"Total",header:"Total",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"}],flexible:[{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.StartDate} to ${u.EndDate}`},{key:"InvoiceNumber",header:"Invoice #"},{key:"CustomerName",header:"Customer"},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Total",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"ProcessedBy",header:"Processed By",render:(c,u)=>`${u.Prepare} (${u.PreparePosition})`},{key:"NotedBy",header:"Noted By",render:(c,u)=>`${u.Poster} (${u.NotedPosition})`},{key:"Note",header:"Remarks"}]};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Collection Report"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:o.jsx(V7e,{onSubmitCollectionReport:i,activeReportType:r,setActiveReportType:n})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:l[r],data:t[r],loading:a,emptyMessage:"No collection entries found for the selected date."})})]})}const H7e=oe().shape({StartDate:Re().required("From Date is required").max(il("EndDate"),"From Date must be before or equal to To Date"),EndDate:Re().required("To Date is required").min(il("StartDate"),"To Date must be after or equal to From Date"),fund:E().required("Fund is required")});function G7e({onSubmit:t}){const e={StartDate:"",EndDate:"",fund:""},{funds:r}=V(i=>i.funds),n=le();w.useEffect(()=>{n(Yt())},[n]);const a=r==null?void 0:r.map(i=>({value:i.ID,label:i.Name})),s=(i,{setSubmitting:l})=>{const c={...i,FundID:i.fund};delete c.fund,t(c),l(!1)};return o.jsx($e,{initialValues:e,validationSchema:H7e,onSubmit:s,children:({values:i,errors:l,touched:c,handleSubmit:u,setFieldValue:d,handleChange:f})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(I,{label:"From Date",name:"StartDate",type:"date",required:!0,value:i.StartDate,onChange:f,error:l.StartDate,touched:c.StartDate}),o.jsx(I,{label:"To Date",name:"EndDate",type:"date",required:!0,value:i.EndDate,onChange:f,error:l.EndDate,touched:c.EndDate}),o.jsx(I,{label:"Fund",name:"fund",type:"select",required:!0,value:i.fund,onChange:f,error:l.fund,touched:c.fund,options:a})]}),o.jsxs("div",{className:"flex justify-end  max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",onClick:()=>d("action","view"),className:"btn btn-primary",children:"View"}),o.jsx("button",{type:"submit",onClick:()=>d("action","generate"),className:"btn btn-secondary",children:"Generate Cashbook"}),o.jsx("button",{type:"submit",onClick:()=>d("action","export"),className:"btn btn-outline",children:"Export to Excel"})]})]})})}const Q8="https://staging-engine.testthelink.online",Y7e=async t=>{try{const e=localStorage.getItem("token"),r=`${Q8}/cashbook/view`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch cashbook data");return a}catch(e){throw console.error("Error fetching cashbook:",e),e}},K7e=async t=>{try{const e=localStorage.getItem("token"),r=`${Q8}/cashbook/exportExcel`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})});if(!n.ok){const m=await n.json();throw new Error(m.message||"Failed to export cashbook")}const a=await n.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s;const l=t.StartDate.replace(/-/g,""),c=t.EndDate.replace(/-/g,""),u=new Date,d=`${u.getFullYear()}${(u.getMonth()+1).toString().padStart(2,"0")}${u.getDate().toString().padStart(2,"0")}_${u.getHours()}${u.getMinutes()}`,f=`Cashbook_${l}_to_${c}_${d}.xlsx`;i.setAttribute("download",f),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}catch(e){throw console.error("Error exporting cashbook:",e),e}};function J7e(){const[t,e]=w.useState([]),[r,n]=w.useState(!1),a=async i=>{n(!0);const{action:l,...c}=i;try{switch(l){case"view":const u=await Y7e(c);e(u);break;case"generate":break;case"export":await K7e(c);break;default:break}}catch(u){console.error("Error handling cashbook action:",u)}finally{n(!1)}},s=[{key:"Year",header:"Year",render:i=>i||"-"},{key:"Officer",header:"Officer",render:i=>i||"-"},{key:"Fund",header:"Fund",render:i=>i||"-"},{key:"InvoiceDate",header:"Invoice Date",render:i=>i?new Date(i).toLocaleDateString():"-"},{key:"APAR",header:"AP AR",render:i=>i||"-"},{key:"InvoiceNumber",header:"Invoice Number",render:i=>i||"-"},{key:"Debit",header:"Debit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Credit",header:"Credit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Balance",header:"Balance",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cashbook"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:o.jsx(G7e,{onSubmit:a})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:s,data:t,loading:r,emptyMessage:"No cashbook entries found for the selected date range."})})]})}function X7e(){const{isAuthenticated:t,isLoading:e}=V(a=>a.auth),r=le(),n=zo();return w.useEffect(()=>{const a=localStorage.getItem("token");a&&r(Fp(a))},[r]),w.useEffect(()=>{},[n.pathname]),e?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx(HK,{position:"top-right"}),o.jsxs(YG,{children:[o.jsxs(ce,{element:o.jsx($Q,{}),children:[o.jsx(ce,{path:"/login",element:t?o.jsx(Uu,{to:"/",replace:!0}):o.jsx(fae,{})}),o.jsx(ce,{path:"/register",element:t?o.jsx(Uu,{to:"/",replace:!0}):o.jsx(mae,{})}),o.jsx(ce,{path:"/forgot-password",element:t?o.jsx(Uu,{to:"/",replace:!0}):o.jsx(hae,{})}),o.jsx(ce,{path:"/reset-password",element:t?o.jsx(Uu,{to:"/",replace:!0}):o.jsx(pae,{})})]}),o.jsxs(ce,{element:o.jsx(_Q,{}),children:[o.jsx(ce,{path:"/dashboard",element:o.jsx(Nce,{})}),o.jsx(ce,{path:"/profile",element:o.jsx(x0e,{})}),o.jsx(ce,{path:"/budget-dashboard",element:o.jsx(Gze,{})}),o.jsx(ce,{path:"/disbursement-dashboard",element:o.jsx(Yze,{})}),o.jsx(ce,{path:"/collection-dashboard",element:o.jsx(Kze,{})}),o.jsx(ce,{path:"/settings/departments",element:o.jsx(Fue,{})}),o.jsx(ce,{path:"/settings/customer",element:o.jsx(ype,{})}),o.jsx(ce,{path:"/settings/lgu-maintenance",element:o.jsx(D1e,{})}),o.jsx(ce,{path:"/settings/subdepartments",element:o.jsx(ade,{})}),o.jsx(ce,{path:"/settings/modules",element:o.jsx(ome,{})}),o.jsx(ce,{path:"/settings/users",element:o.jsx(pde,{})}),o.jsx(ce,{path:"/settings/user-roles",element:o.jsx(Nme,{})}),o.jsx(ce,{path:"/settings/user-access",element:o.jsx(rCe,{})}),o.jsx(ce,{path:"/settings/chart-of-accounts",element:o.jsx(ufe,{})}),o.jsx(ce,{path:"/settings/account-group",element:o.jsx(ffe,{})}),o.jsx(ce,{path:"/settings/major-account-group",element:o.jsx(hfe,{})}),o.jsx(ce,{path:"/settings/sub-major-account-group",element:o.jsx(gfe,{})}),o.jsx(ce,{path:"/settings/vendors",element:o.jsx(Yfe,{})}),o.jsx(ce,{path:"/settings/vendor-customer-type",element:o.jsx(Qfe,{})}),o.jsx(ce,{path:"/settings/vendor-type",element:o.jsx(tme,{})}),o.jsx(ce,{path:"/settings/employees",element:o.jsx(bme,{})}),o.jsx(ce,{path:"/settings/employmentStatus",element:o.jsx(vme,{})}),o.jsx(ce,{path:"/settings/positions",element:o.jsx(wme,{})}),o.jsx(ce,{path:"/settings/nationalities",element:o.jsx(Ame,{})}),o.jsx(ce,{path:"/settings/locations",element:o.jsx(Dme,{})}),o.jsx(ce,{path:"/settings/ppe",element:o.jsx(Wme,{})}),o.jsx(ce,{path:"/settings/ppe-categories",element:o.jsx(Gme,{})}),o.jsx(ce,{path:"/settings/ppe-suppliers",element:o.jsx(Kme,{})}),o.jsx(ce,{path:"/settings/approval-matrix",element:o.jsx(she,{})}),o.jsx(ce,{path:"/settings/bank",element:o.jsx(dhe,{})}),o.jsx(ce,{path:"/settings/currency",element:o.jsx(zue,{})}),o.jsx(ce,{path:"/settings/document-details",element:o.jsx(yhe,{})}),o.jsx(ce,{path:"/settings/document-type-categories",element:o.jsx(xhe,{})}),o.jsx(ce,{path:"/settings/items",element:o.jsx(khe,{})}),o.jsx(ce,{path:"/settings/items/invoice-charge-accounts",element:o.jsx($he,{})}),o.jsx(ce,{path:"/settings/items/units",element:o.jsx(Mhe,{})}),o.jsx(ce,{path:"/settings/project-type",element:o.jsx(Vhe,{})}),o.jsx(ce,{path:"/settings/financial-statement",element:o.jsx(Zhe,{})}),o.jsx(ce,{path:"/settings/fiscal-year",element:o.jsx(npe,{})}),o.jsx(ce,{path:"/settings/tax-code",element:o.jsx(ope,{})}),o.jsx(ce,{path:"/settings/mode-of-payment",element:o.jsx(lpe,{})}),o.jsx(ce,{path:"/settings/payment-terms",element:o.jsx(upe,{})}),o.jsx(ce,{path:"/settings/industry",element:o.jsx(fpe,{})}),o.jsx(ce,{path:"/settings/project-details",element:o.jsx(Ghe,{})}),o.jsx(ce,{path:"/settings/tax-declaration",element:o.jsx(Npe,{})}),o.jsx(ce,{path:"/settings/base-unit-value",element:o.jsx(_pe,{})}),o.jsx(ce,{path:"/settings/general-revision",element:o.jsx(Tpe,{})}),o.jsx(ce,{path:"/disbursement/obligation-requests",element:o.jsx(v0e,{})}),o.jsx(ce,{path:"/disbursement/vouchers",element:o.jsx(A0e,{})}),o.jsx(ce,{path:"/disbursement/travel-orders",element:o.jsx(P0e,{})}),o.jsx(ce,{path:"/disbursement/journal-entry-vouchers",element:o.jsx(L0e,{})}),o.jsx(ce,{path:"/disbursement/disbursement-journals",element:o.jsx(z0e,{})}),o.jsx(ce,{path:"/disbursement/general-journals",element:o.jsx(J0e,{})}),o.jsx(ce,{path:"/disbursement/beginning-balance",element:o.jsx(nje,{})}),o.jsx(ce,{path:"/disbursement/purchase-requests",element:o.jsx(uje,{})}),o.jsx(ce,{path:"/disbursement/fund-utilization-requests",element:o.jsx(yje,{})}),o.jsx(ce,{path:"/collections/community-tax",element:o.jsx(jje,{})}),o.jsx(ce,{path:"/collections/community-tax-corporation",element:o.jsx(Sje,{})}),o.jsx(ce,{path:"/collections/real-property-tax",element:o.jsx(n7e,{})}),o.jsx(ce,{path:"/collections/market",element:o.jsx(Aje,{})}),o.jsx(ce,{path:"/collections/general-service-receipts",element:o.jsx(t7e,{})}),o.jsx(ce,{path:"/collections/burial-service-receipts",element:o.jsx(Pje,{})}),o.jsx(ce,{path:"/collections/marriage-service-receipts",element:o.jsx(Lje,{})}),o.jsx(ce,{path:"/collections/cashbook",element:o.jsx(J7e,{})}),o.jsx(ce,{path:"/collections/reports",element:o.jsx(W7e,{})}),o.jsx(ce,{path:"/collections/public-market-tickets",element:o.jsx(d1e,{})}),o.jsx(ce,{path:"/budget",element:o.jsx(C1e,{})}),o.jsx(ce,{path:"/budget/allotment",element:o.jsx(m7e,{})}),o.jsx(ce,{path:"/budget/details",element:o.jsx(h7e,{})}),o.jsx(ce,{path:"/budget/new",element:o.jsx(x1e,{})}),o.jsx(ce,{path:"/budget/summary",element:o.jsx(p7e,{})}),o.jsx(ce,{path:"/budget/supplemental",element:o.jsx(v7e,{})}),o.jsx(ce,{path:"/budget/transfer",element:o.jsx(A7e,{})}),o.jsx(ce,{path:"/budget/report",element:o.jsx(lR,{})}),o.jsx(ce,{path:"/budget/funds",element:o.jsx(T7e,{})}),o.jsx(ce,{path:"/budget/sub-funds",element:o.jsx(_7e,{})}),o.jsx(ce,{path:"/budget/fund-transfer",element:o.jsx(B7e,{})}),o.jsx(ce,{path:"/budget/statement-comparison",element:o.jsx(T1e,{})}),o.jsx(ce,{path:"/budget/statement-appropriation",element:o.jsx(E7e,{})}),o.jsx(ce,{path:"/applications/business-permits",element:o.jsx(P1e,{})}),o.jsx(ce,{path:"/applications/cheque-generator",element:o.jsx($1e,{})}),o.jsx(ce,{path:"/reports/general-ledger",element:o.jsx(V1e,{})}),o.jsx(ce,{path:"/reports/subsidiary-ledger",element:o.jsx(Y1e,{})}),o.jsx(ce,{path:"/reports/financial-statements",element:o.jsx(eCe,{})}),o.jsx(ce,{path:"/reports/budget",element:o.jsx(lR,{})}),o.jsx(ce,{path:"/reports/bir",element:o.jsx(tCe,{})}),o.jsx(ce,{path:"/reports/trial-balance",element:o.jsx(c7e,{})}),o.jsx(ce,{path:"/change-password",element:o.jsx(nCe,{})})]}),o.jsx(ce,{path:"/",element:o.jsx(Uu,{to:"/dashboard\\",replace:!0})}),o.jsx(ce,{path:"*",element:o.jsx(Sce,{})})]})]})}const e9=[{id:1,vendorCode:"V001",vendorName:"ABC Office Supplies",address:"123 Main St., City",contactPerson:"John Smith",contactNumber:"09123456789",email:"abc@example.com",tin:"123-456-789-000",category:"Office Supplies",accreditationDate:"2024-01-01",accreditationExpiry:"2025-01-01",bankAccount:"1234-5678-9012",bankName:"Sample Bank",status:"Active"}],Z7e={vendors:e9,vendor:null,isLoading:!1,error:null},dN=L("vendors/fetchVendors",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(e9)},500)})}catch(r){return e.rejectWithValue(r.message)}}),fN=L("vendors/addVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),vendorCode:`V${String(Math.floor(Math.random()*900)+100)}`};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),mN=L("vendors/updateVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),t9=xe({name:"vendors",initialState:Z7e,reducers:{setVendor:(t,e)=>{t.vendor=e.payload},resetVendorState:t=>{t.vendor=null,t.error=null}},extraReducers:t=>{t.addCase(dN.pending,e=>{e.isLoading=!0}).addCase(dN.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors=r.payload,e.error=null}).addCase(dN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fN.pending,e=>{e.isLoading=!0}).addCase(fN.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors.push(r.payload),e.error=null}).addCase(fN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mN.pending,e=>{e.isLoading=!0}).addCase(mN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendors.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.vendors[n]=r.payload),e.error=null}).addCase(mN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setVendor:x9e,resetVendorState:v9e}=t9.actions,Q7e=t9.reducer,e8e="https://staging-engine.testthelink.online",t8e={chart1:{title:"Budget vs Charges",data:[{name:"Budget Amount",value:5e5},{name:"Charges",value:3e5}]},chart2:{title:"PreEncumbrance, Encumbrance & Charges",data:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:15e4},{name:"Charges",value:5e4}]},table:[{label:"Accounts Payable (AP)",total:25e4},{label:"Accounts Receivable (AR)",total:18e4}]},hN=L("budgetDashboard/fetchBudgetData",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${e8e}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),r8e=xe({name:"budgetDashboard",initialState:{budgetData:{chart1:null,chart2:null,table:[]},isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(hN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hN.fulfilled,(e,r)=>{e.isLoading=!1,e.budgetData={chart1:r.payload.chart1,chart2:r.payload.chart2,table:Array.isArray(r.payload.table)?r.payload.table:[]}}).addCase(hN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to fetch budget data",console.warn("Failed to fetch budget data, using mock data.",e.error),e.budgetData=t8e})}}),n8e=r8e.reducer,pN=L("generalServiceReceipts/fetchGeneralServiceReceipts",async()=>(await et.get("/api/general-service-receipts")).data),gN=L("generalServiceReceipts/createGeneralServiceReceipt",async t=>(await et.post("/api/general-service-receipts",t)).data),yN=L("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e})=>(await et.put(`/api/general-service-receipts/${t}`,e)).data),bN=L("generalServiceReceipts/deleteGeneralServiceReceipt",async t=>(await et.delete(`/api/general-service-receipts/${t}`),t)),a8e={receipts:[],loading:!1,error:null},r9=xe({name:"generalServiceReceipts",initialState:a8e,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(pN.pending,e=>{e.loading=!0,e.error=null}).addCase(pN.fulfilled,(e,r)=>{e.loading=!1,e.receipts=r.payload}).addCase(pN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(gN.pending,e=>{e.loading=!0,e.error=null}).addCase(gN.fulfilled,(e,r)=>{e.loading=!1,e.receipts.push(r.payload)}).addCase(gN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(yN.pending,e=>{e.loading=!0,e.error=null}).addCase(yN.fulfilled,(e,r)=>{e.loading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.receipts[n]=r.payload)}).addCase(yN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(bN.pending,e=>{e.loading=!0,e.error=null}).addCase(bN.fulfilled,(e,r)=>{e.loading=!1,e.receipts=e.receipts.filter(n=>n.id!==r.payload)}).addCase(bN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{clearError:j9e}=r9.actions,s8e=r9.reducer,xN=L("realPropertyTax/fetchRealPropertyTaxes",async()=>new Promise(t=>{setTimeout(()=>{t([{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"active"}])},1e3)})),vN=L("realPropertyTax/createRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e({id:Date.now(),...t})},1e3)})),jN=L("realPropertyTax/updateRealPropertyTax",async({id:t,data:e})=>new Promise(r=>{setTimeout(()=>{r({id:t,...e})},1e3)})),wN=L("realPropertyTax/deleteRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e(t)},1e3)})),o8e={realPropertyTaxes:[],isLoading:!1,error:null},i8e=xe({name:"realPropertyTax",initialState:o8e,reducers:{},extraReducers:t=>{t.addCase(xN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=r.payload}).addCase(xN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(vN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes.push(r.payload)}).addCase(vN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(jN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.realPropertyTaxes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.realPropertyTaxes[n]=r.payload)}).addCase(jN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(wN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=e.realPropertyTaxes.filter(n=>n.id!==r.payload)}).addCase(wN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),l8e=i8e.reducer,c8e=DY({reducer:{auth:rK,departments:Lue,currencies:Vue,subdepartments:Gue,users:ide,chartOfAccounts:bde,accountGroups:jde,majorAccountGroups:Nde,subMajorAccountGroups:kde,vendors:Q7e,employees:ude,obligationRequests:wxe,fundUtilizations:mje,disbursementVouchers:w0e,travelOrders:E0e,ppes:qme,ppeCategories:Ome,ppeSuppliers:Rme,approvalMatrix:ahe,banks:lhe,documentDetails:Zme,documentTypeCategories:ghe,items:whe,invoiceChargeAccounts:_he,itemUnits:She,projectDetails:Hhe,projectTypes:qhe,financialStatements:Xhe,fiscalYears:rpe,taxCodes:qfe,modeOfPayments:Gfe,paymentTerms:zfe,industries:Lfe,employmentStatuses:fme,positions:cme,userroles:mde,nationalities:pme,vendorCustomerTypes:Zfe,vendorTypes:$fe,journalEntries:M0e,purchaseRequests:cje,taxDeclarations:Cpe,baseUnits:Ope,regions:Cfe,provinces:Afe,municipalities:Tfe,barangays:Pfe,generalRevisions:kpe,modules:sme,generalServiceReceipts:s8e,disbursementJournal:U0e,beginningBalance:Q0e,generalJournal:K0e,generalLedger:B1e,trialBalance:l7e,statementComparison:I1e,subsidiaryLedger:G1e,financialStatementsReports:Q1e,fundTransfer:F7e,budgetTransfer:S7e,budget:o0e,subFunds:w1e,funds:n0e,budgetDashboard:n8e,vendorDetails:vfe,burialRecords:Eje,marriageRecords:Mje,publicMarketTicketing:i1e,communityTax:vje,corporateCommunityTax:Nje,generalReceipts:Xze,realPropertyTax:l8e,customers:gpe},middleware:t=>t({serializableCheck:!1})});NN.createRoot(document.getElementById("root")).render(o.jsx(U.StrictMode,{children:o.jsx(XH,{store:c8e,children:o.jsx(tY,{children:o.jsx(X7e,{})})})}))});export default u8e();
