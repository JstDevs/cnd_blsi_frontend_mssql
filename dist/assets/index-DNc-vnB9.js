var s9=Object.defineProperty;var i9=(t,e,r)=>e in t?s9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var o9=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var de=(t,e,r)=>i9(t,typeof e!="symbol"?e+"":e,r);var K7e=o9((hn,pn)=>{function l9(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var i3={exports:{}},D0={},o3={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm=Symbol.for("react.element"),c9=Symbol.for("react.portal"),u9=Symbol.for("react.fragment"),d9=Symbol.for("react.strict_mode"),f9=Symbol.for("react.profiler"),m9=Symbol.for("react.provider"),h9=Symbol.for("react.context"),p9=Symbol.for("react.forward_ref"),g9=Symbol.for("react.suspense"),y9=Symbol.for("react.memo"),x9=Symbol.for("react.lazy"),tP=Symbol.iterator;function b9(t){return t===null||typeof t!="object"?null:(t=tP&&t[tP]||t["@@iterator"],typeof t=="function"?t:null)}var l3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c3=Object.assign,u3={};function tu(t,e,r){this.props=t,this.context=e,this.refs=u3,this.updater=r||l3}tu.prototype.isReactComponent={};tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function d3(){}d3.prototype=tu.prototype;function PT(t,e,r){this.props=t,this.context=e,this.refs=u3,this.updater=r||l3}var DT=PT.prototype=new d3;DT.constructor=PT;c3(DT,tu.prototype);DT.isPureReactComponent=!0;var rP=Array.isArray,f3=Object.prototype.hasOwnProperty,IT={current:null},m3={key:!0,ref:!0,__self:!0,__source:!0};function h3(t,e,r){var n,a={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)f3.call(e,n)&&!m3.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Sm,type:t,key:i,ref:o,props:a,_owner:IT.current}}function v9(t,e){return{$$typeof:Sm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _T(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sm}function j9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var nP=/\/+/g;function Lw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?j9(""+t.key):e.toString(36)}function yp(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sm:case c9:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+Lw(o,0):n,rP(a)?(r="",t!=null&&(r=t.replace(nP,"$&/")+"/"),yp(a,e,r,"",function(u){return u})):a!=null&&(_T(a)&&(a=v9(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(nP,"$&/")+"/")+t)),e.push(a)),1;if(o=0,n=n===""?".":n+":",rP(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+Lw(i,l);o+=yp(i,e,r,c,a)}else if(c=b9(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+Lw(i,l++),o+=yp(i,e,r,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oh(t,e,r){if(t==null)return t;var n=[],a=0;return yp(t,n,"","",function(i){return e.call(r,i,a++)}),n}function w9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Br={current:null},xp={transition:null},N9={ReactCurrentDispatcher:Br,ReactCurrentBatchConfig:xp,ReactCurrentOwner:IT};function p3(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:oh,forEach:function(t,e,r){oh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return oh(t,function(){e++}),e},toArray:function(t){return oh(t,function(e){return e})||[]},only:function(t){if(!_T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=tu;Ve.Fragment=u9;Ve.Profiler=f9;Ve.PureComponent=PT;Ve.StrictMode=d9;Ve.Suspense=g9;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N9;Ve.act=p3;Ve.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=c3({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=IT.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)f3.call(e,c)&&!m3.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Sm,type:t.type,key:a,ref:i,props:n,_owner:o}};Ve.createContext=function(t){return t={$$typeof:h9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m9,_context:t},t.Consumer=t};Ve.createElement=h3;Ve.createFactory=function(t){var e=h3.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:p9,render:t}};Ve.isValidElement=_T;Ve.lazy=function(t){return{$$typeof:x9,_payload:{_status:-1,_result:t},_init:w9}};Ve.memo=function(t,e){return{$$typeof:y9,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=xp.transition;xp.transition={};try{t()}finally{xp.transition=e}};Ve.unstable_act=p3;Ve.useCallback=function(t,e){return Br.current.useCallback(t,e)};Ve.useContext=function(t){return Br.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return Br.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return Br.current.useEffect(t,e)};Ve.useId=function(){return Br.current.useId()};Ve.useImperativeHandle=function(t,e,r){return Br.current.useImperativeHandle(t,e,r)};Ve.useInsertionEffect=function(t,e){return Br.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return Br.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return Br.current.useMemo(t,e)};Ve.useReducer=function(t,e,r){return Br.current.useReducer(t,e,r)};Ve.useRef=function(t){return Br.current.useRef(t)};Ve.useState=function(t){return Br.current.useState(t)};Ve.useSyncExternalStore=function(t,e,r){return Br.current.useSyncExternalStore(t,e,r)};Ve.useTransition=function(){return Br.current.useTransition()};Ve.version="18.3.1";o3.exports=Ve;var v=o3.exports;const q=rt(v),Ci=l9({__proto__:null,default:q},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C9=v,S9=Symbol.for("react.element"),A9=Symbol.for("react.fragment"),T9=Object.prototype.hasOwnProperty,k9=C9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E9={key:!0,ref:!0,__self:!0,__source:!0};function g3(t,e,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)T9.call(e,n)&&!E9.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:S9,type:t,key:i,ref:o,props:a,_owner:k9.current}}D0.Fragment=A9;D0.jsx=g3;D0.jsxs=g3;i3.exports=D0;var s=i3.exports,kC={},y3={exports:{}},An={},x3={exports:{}},b3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,_){var B=R.length;R.push(_);e:for(;0<B;){var X=B-1>>>1,$=R[X];if(0<a($,_))R[X]=_,R[B]=$,B=X;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var _=R[0],B=R.pop();if(B!==_){R[0]=B;e:for(var X=0,$=R.length,z=$>>>1;X<z;){var ne=2*(X+1)-1,xe=R[ne],ee=ne+1,re=R[ee];if(0>a(xe,B))ee<$&&0>a(re,xe)?(R[X]=re,R[ee]=B,X=ee):(R[X]=xe,R[ne]=B,X=ne);else if(ee<$&&0>a(re,B))R[X]=re,R[ee]=B,X=ee;else break e}}return _}function a(R,_){var B=R.sortIndex-_.sortIndex;return B!==0?B:R.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(R){for(var _=r(u);_!==null;){if(_.callback===null)n(u);else if(_.startTime<=R)n(u),_.sortIndex=_.expirationTime,e(c,_);else break;_=r(u)}}function C(R){if(y=!1,j(R),!p)if(r(c)!==null)p=!0,F(N);else{var _=r(u);_!==null&&U(C,_.startTime-R)}}function N(R,_){p=!1,y&&(y=!1,b(T),T=-1),h=!0;var B=m;try{for(j(_),f=r(c);f!==null&&(!(f.expirationTime>_)||R&&!O());){var X=f.callback;if(typeof X=="function"){f.callback=null,m=f.priorityLevel;var $=X(f.expirationTime<=_);_=t.unstable_now(),typeof $=="function"?f.callback=$:f===r(c)&&n(c),j(_)}else n(c);f=r(c)}if(f!==null)var z=!0;else{var ne=r(u);ne!==null&&U(C,ne.startTime-_),z=!1}return z}finally{f=null,m=B,h=!1}}var w=!1,S=null,T=-1,k=5,E=-1;function O(){return!(t.unstable_now()-E<k)}function M(){if(S!==null){var R=t.unstable_now();E=R;var _=!0;try{_=S(!0,R)}finally{_?I():(w=!1,S=null)}}else w=!1}var I;if(typeof g=="function")I=function(){g(M)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,P=V.port2;V.port1.onmessage=M,I=function(){P.postMessage(null)}}else I=function(){x(M,0)};function F(R){S=R,w||(w=!0,I())}function U(R,_){T=x(function(){R(t.unstable_now())},_)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,F(N))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(R){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var B=m;m=_;try{return R()}finally{m=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,_){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=m;m=R;try{return _()}finally{m=B}},t.unstable_scheduleCallback=function(R,_,B){var X=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?X+B:X):B=X,R){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=B+$,R={id:d++,callback:_,priorityLevel:R,startTime:B,expirationTime:$,sortIndex:-1},B>X?(R.sortIndex=B,e(u,R),r(c)===null&&R===r(u)&&(y?(b(T),T=-1):y=!0,U(C,B-X))):(R.sortIndex=$,e(c,R),p||h||(p=!0,F(N))),R},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(R){var _=m;return function(){var B=m;m=_;try{return R.apply(this,arguments)}finally{m=B}}}})(b3);x3.exports=b3;var O9=x3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P9=v,bn=O9;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v3=new Set,rf={};function rl(t,e){bc(t,e),bc(t+"Capture",e)}function bc(t,e){for(rf[t]=e,t=0;t<e.length;t++)v3.add(e[t])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),EC=Object.prototype.hasOwnProperty,D9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aP={},sP={};function I9(t){return EC.call(sP,t)?!0:EC.call(aP,t)?!1:D9.test(t)?sP[t]=!0:(aP[t]=!0,!1)}function _9(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $9(t,e,r,n){if(e===null||typeof e>"u"||_9(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qr(t,e,r,n,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cr[t]=new qr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cr[e]=new qr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cr[t]=new qr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cr[t]=new qr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cr[t]=new qr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cr[t]=new qr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cr[t]=new qr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cr[t]=new qr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cr[t]=new qr(t,5,!1,t.toLowerCase(),null,!1,!1)});var $T=/[\-:]([a-z])/g;function RT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($T,RT);Cr[e]=new qr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($T,RT);Cr[e]=new qr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($T,RT);Cr[e]=new qr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cr[t]=new qr(t,1,!1,t.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cr[t]=new qr(t,1,!1,t.toLowerCase(),null,!0,!0)});function MT(t,e,r,n){var a=Cr.hasOwnProperty(e)?Cr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($9(e,r,a,n)&&(r=null),n||a===null?I9(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ds=P9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lh=Symbol.for("react.element"),Il=Symbol.for("react.portal"),_l=Symbol.for("react.fragment"),LT=Symbol.for("react.strict_mode"),OC=Symbol.for("react.profiler"),j3=Symbol.for("react.provider"),w3=Symbol.for("react.context"),FT=Symbol.for("react.forward_ref"),PC=Symbol.for("react.suspense"),DC=Symbol.for("react.suspense_list"),BT=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),N3=Symbol.for("react.offscreen"),iP=Symbol.iterator;function Au(t){return t===null||typeof t!="object"?null:(t=iP&&t[iP]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,Fw;function ad(t){if(Fw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Fw=e&&e[1]||""}return`
`+Fw+t}var Bw=!1;function qw(t,e){if(!t||Bw)return"";Bw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Bw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ad(t):""}function R9(t){switch(t.tag){case 5:return ad(t.type);case 16:return ad("Lazy");case 13:return ad("Suspense");case 19:return ad("SuspenseList");case 0:case 2:case 15:return t=qw(t.type,!1),t;case 11:return t=qw(t.type.render,!1),t;case 1:return t=qw(t.type,!0),t;default:return""}}function IC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _l:return"Fragment";case Il:return"Portal";case OC:return"Profiler";case LT:return"StrictMode";case PC:return"Suspense";case DC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case w3:return(t.displayName||"Context")+".Consumer";case j3:return(t._context.displayName||"Context")+".Provider";case FT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case BT:return e=t.displayName||null,e!==null?e:IC(t.type)||"Memo";case Ws:e=t._payload,t=t._init;try{return IC(t(e))}catch{}}return null}function M9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return IC(e);case 8:return e===LT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function C3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function L9(t){var e=C3(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ch(t){t._valueTracker||(t._valueTracker=L9(t))}function S3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=C3(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Mx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _C(t,e){var r=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function oP(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Si(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function A3(t,e){e=e.checked,e!=null&&MT(t,"checked",e,!1)}function $C(t,e){A3(t,e);var r=Si(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?RC(t,e.type,r):e.hasOwnProperty("defaultValue")&&RC(t,e.type,Si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lP(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function RC(t,e,r){(e!=="number"||Mx(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var sd=Array.isArray;function Xl(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Si(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function MC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cP(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(se(92));if(sd(r)){if(1<r.length)throw Error(se(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Si(r)}}function T3(t,e){var r=Si(e.value),n=Si(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function uP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function k3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?k3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uh,E3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uh=uh||document.createElement("div"),uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var vd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F9=["Webkit","ms","Moz","O"];Object.keys(vd).forEach(function(t){F9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vd[e]=vd[t]})});function O3(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||vd.hasOwnProperty(t)&&vd[t]?(""+e).trim():e+"px"}function P3(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=O3(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var B9=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function FC(t,e){if(e){if(B9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function BC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qC=null;function qT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var VC=null,Zl=null,Ql=null;function dP(t){if(t=km(t)){if(typeof VC!="function")throw Error(se(280));var e=t.stateNode;e&&(e=M0(e),VC(t.stateNode,t.type,e))}}function D3(t){Zl?Ql?Ql.push(t):Ql=[t]:Zl=t}function I3(){if(Zl){var t=Zl,e=Ql;if(Ql=Zl=null,dP(t),e)for(t=0;t<e.length;t++)dP(e[t])}}function _3(t,e){return t(e)}function $3(){}var Vw=!1;function R3(t,e,r){if(Vw)return t(e,r);Vw=!0;try{return _3(t,e,r)}finally{Vw=!1,(Zl!==null||Ql!==null)&&($3(),I3())}}function af(t,e){var r=t.stateNode;if(r===null)return null;var n=M0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(se(231,e,typeof r));return r}var zC=!1;if(vs)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){zC=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{zC=!1}function q9(t,e,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var jd=!1,Lx=null,Fx=!1,UC=null,V9={onError:function(t){jd=!0,Lx=t}};function z9(t,e,r,n,a,i,o,l,c){jd=!1,Lx=null,q9.apply(V9,arguments)}function U9(t,e,r,n,a,i,o,l,c){if(z9.apply(this,arguments),jd){if(jd){var u=Lx;jd=!1,Lx=null}else throw Error(se(198));Fx||(Fx=!0,UC=u)}}function nl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function M3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fP(t){if(nl(t)!==t)throw Error(se(188))}function W9(t){var e=t.alternate;if(!e){if(e=nl(t),e===null)throw Error(se(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return fP(a),t;if(i===n)return fP(a),e;i=i.sibling}throw Error(se(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(se(189))}}if(r.alternate!==n)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?t:e}function L3(t){return t=W9(t),t!==null?F3(t):null}function F3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=F3(t);if(e!==null)return e;t=t.sibling}return null}var B3=bn.unstable_scheduleCallback,mP=bn.unstable_cancelCallback,H9=bn.unstable_shouldYield,G9=bn.unstable_requestPaint,Jt=bn.unstable_now,Y9=bn.unstable_getCurrentPriorityLevel,VT=bn.unstable_ImmediatePriority,q3=bn.unstable_UserBlockingPriority,Bx=bn.unstable_NormalPriority,K9=bn.unstable_LowPriority,V3=bn.unstable_IdlePriority,I0=null,Oa=null;function J9(t){if(Oa&&typeof Oa.onCommitFiberRoot=="function")try{Oa.onCommitFiberRoot(I0,t,void 0,(t.current.flags&128)===128)}catch{}}var la=Math.clz32?Math.clz32:Q9,X9=Math.log,Z9=Math.LN2;function Q9(t){return t>>>=0,t===0?32:31-(X9(t)/Z9|0)|0}var dh=64,fh=4194304;function id(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qx(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=id(l):(i&=o,i!==0&&(n=id(i)))}else o=r&~a,o!==0?n=id(o):i!==0&&(n=id(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-la(e),a=1<<r,n|=t[r],e&=~a;return n}function eW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tW(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-la(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=eW(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function WC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z3(){var t=dh;return dh<<=1,!(dh&4194240)&&(dh=64),t}function zw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Am(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-la(e),t[e]=r}function rW(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-la(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function zT(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-la(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var ut=0;function U3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var W3,UT,H3,G3,Y3,HC=!1,mh=[],oi=null,li=null,ci=null,sf=new Map,of=new Map,Js=[],nW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hP(t,e){switch(t){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":sf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":of.delete(e.pointerId)}}function ku(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=km(e),e!==null&&UT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function aW(t,e,r,n,a){switch(e){case"focusin":return oi=ku(oi,t,e,r,n,a),!0;case"dragenter":return li=ku(li,t,e,r,n,a),!0;case"mouseover":return ci=ku(ci,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return sf.set(i,ku(sf.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,of.set(i,ku(of.get(i)||null,t,e,r,n,a)),!0}return!1}function K3(t){var e=po(t.target);if(e!==null){var r=nl(e);if(r!==null){if(e=r.tag,e===13){if(e=M3(r),e!==null){t.blockedOn=e,Y3(t.priority,function(){H3(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=GC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);qC=n,r.target.dispatchEvent(n),qC=null}else return e=km(r),e!==null&&UT(e),t.blockedOn=r,!1;e.shift()}return!0}function pP(t,e,r){bp(t)&&r.delete(e)}function sW(){HC=!1,oi!==null&&bp(oi)&&(oi=null),li!==null&&bp(li)&&(li=null),ci!==null&&bp(ci)&&(ci=null),sf.forEach(pP),of.forEach(pP)}function Eu(t,e){t.blockedOn===e&&(t.blockedOn=null,HC||(HC=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,sW)))}function lf(t){function e(a){return Eu(a,t)}if(0<mh.length){Eu(mh[0],t);for(var r=1;r<mh.length;r++){var n=mh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(oi!==null&&Eu(oi,t),li!==null&&Eu(li,t),ci!==null&&Eu(ci,t),sf.forEach(e),of.forEach(e),r=0;r<Js.length;r++)n=Js[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Js.length&&(r=Js[0],r.blockedOn===null);)K3(r),r.blockedOn===null&&Js.shift()}var ec=Ds.ReactCurrentBatchConfig,Vx=!0;function iW(t,e,r,n){var a=ut,i=ec.transition;ec.transition=null;try{ut=1,WT(t,e,r,n)}finally{ut=a,ec.transition=i}}function oW(t,e,r,n){var a=ut,i=ec.transition;ec.transition=null;try{ut=4,WT(t,e,r,n)}finally{ut=a,ec.transition=i}}function WT(t,e,r,n){if(Vx){var a=GC(t,e,r,n);if(a===null)Qw(t,e,n,zx,r),hP(t,n);else if(aW(a,t,e,r,n))n.stopPropagation();else if(hP(t,n),e&4&&-1<nW.indexOf(t)){for(;a!==null;){var i=km(a);if(i!==null&&W3(i),i=GC(t,e,r,n),i===null&&Qw(t,e,n,zx,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Qw(t,e,n,null,r)}}var zx=null;function GC(t,e,r,n){if(zx=null,t=qT(n),t=po(t),t!==null)if(e=nl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=M3(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zx=t,null}function J3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y9()){case VT:return 1;case q3:return 4;case Bx:case K9:return 16;case V3:return 536870912;default:return 16}default:return 16}}var Qs=null,HT=null,vp=null;function X3(){if(vp)return vp;var t,e=HT,r=e.length,n,a="value"in Qs?Qs.value:Qs.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===a[i-n];n++);return vp=a.slice(t,1<n?1-n:void 0)}function jp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hh(){return!0}function gP(){return!1}function Tn(t){function e(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hh:gP,this.isPropagationStopped=gP,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hh)},persist:function(){},isPersistent:hh}),e}var ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GT=Tn(ru),Tm=qt({},ru,{view:0,detail:0}),lW=Tn(Tm),Uw,Ww,Ou,_0=qt({},Tm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:YT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ou&&(Ou&&t.type==="mousemove"?(Uw=t.screenX-Ou.screenX,Ww=t.screenY-Ou.screenY):Ww=Uw=0,Ou=t),Uw)},movementY:function(t){return"movementY"in t?t.movementY:Ww}}),yP=Tn(_0),cW=qt({},_0,{dataTransfer:0}),uW=Tn(cW),dW=qt({},Tm,{relatedTarget:0}),Hw=Tn(dW),fW=qt({},ru,{animationName:0,elapsedTime:0,pseudoElement:0}),mW=Tn(fW),hW=qt({},ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pW=Tn(hW),gW=qt({},ru,{data:0}),xP=Tn(gW),yW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bW[t])?!!e[t]:!1}function YT(){return vW}var jW=qt({},Tm,{key:function(t){if(t.key){var e=yW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:YT,charCode:function(t){return t.type==="keypress"?jp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wW=Tn(jW),NW=qt({},_0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bP=Tn(NW),CW=qt({},Tm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:YT}),SW=Tn(CW),AW=qt({},ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),TW=Tn(AW),kW=qt({},_0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EW=Tn(kW),OW=[9,13,27,32],KT=vs&&"CompositionEvent"in window,wd=null;vs&&"documentMode"in document&&(wd=document.documentMode);var PW=vs&&"TextEvent"in window&&!wd,Z3=vs&&(!KT||wd&&8<wd&&11>=wd),vP=" ",jP=!1;function Q3(t,e){switch(t){case"keyup":return OW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $l=!1;function DW(t,e){switch(t){case"compositionend":return eF(e);case"keypress":return e.which!==32?null:(jP=!0,vP);case"textInput":return t=e.data,t===vP&&jP?null:t;default:return null}}function IW(t,e){if($l)return t==="compositionend"||!KT&&Q3(t,e)?(t=X3(),vp=HT=Qs=null,$l=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z3&&e.locale!=="ko"?null:e.data;default:return null}}var _W={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_W[t.type]:e==="textarea"}function tF(t,e,r,n){D3(n),e=Ux(e,"onChange"),0<e.length&&(r=new GT("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Nd=null,cf=null;function $W(t){fF(t,0)}function $0(t){var e=Ll(t);if(S3(e))return t}function RW(t,e){if(t==="change")return e}var rF=!1;if(vs){var Gw;if(vs){var Yw="oninput"in document;if(!Yw){var NP=document.createElement("div");NP.setAttribute("oninput","return;"),Yw=typeof NP.oninput=="function"}Gw=Yw}else Gw=!1;rF=Gw&&(!document.documentMode||9<document.documentMode)}function CP(){Nd&&(Nd.detachEvent("onpropertychange",nF),cf=Nd=null)}function nF(t){if(t.propertyName==="value"&&$0(cf)){var e=[];tF(e,cf,t,qT(t)),R3($W,e)}}function MW(t,e,r){t==="focusin"?(CP(),Nd=e,cf=r,Nd.attachEvent("onpropertychange",nF)):t==="focusout"&&CP()}function LW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $0(cf)}function FW(t,e){if(t==="click")return $0(e)}function BW(t,e){if(t==="input"||t==="change")return $0(e)}function qW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ha=typeof Object.is=="function"?Object.is:qW;function uf(t,e){if(ha(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!EC.call(e,a)||!ha(t[a],e[a]))return!1}return!0}function SP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AP(t,e){var r=SP(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=SP(r)}}function aF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sF(){for(var t=window,e=Mx();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Mx(t.document)}return e}function JT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VW(t){var e=sF(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&aF(r.ownerDocument.documentElement,r)){if(n!==null&&JT(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=AP(r,i);var o=AP(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zW=vs&&"documentMode"in document&&11>=document.documentMode,Rl=null,YC=null,Cd=null,KC=!1;function TP(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;KC||Rl==null||Rl!==Mx(n)||(n=Rl,"selectionStart"in n&&JT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cd&&uf(Cd,n)||(Cd=n,n=Ux(YC,"onSelect"),0<n.length&&(e=new GT("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Rl)))}function ph(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ml={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},Kw={},iF={};vs&&(iF=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function R0(t){if(Kw[t])return Kw[t];if(!Ml[t])return t;var e=Ml[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in iF)return Kw[t]=e[r];return t}var oF=R0("animationend"),lF=R0("animationiteration"),cF=R0("animationstart"),uF=R0("transitionend"),dF=new Map,kP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(t,e){dF.set(t,e),rl(e,[t])}for(var Jw=0;Jw<kP.length;Jw++){var Xw=kP[Jw],UW=Xw.toLowerCase(),WW=Xw[0].toUpperCase()+Xw.slice(1);_i(UW,"on"+WW)}_i(oF,"onAnimationEnd");_i(lF,"onAnimationIteration");_i(cF,"onAnimationStart");_i("dblclick","onDoubleClick");_i("focusin","onFocus");_i("focusout","onBlur");_i(uF,"onTransitionEnd");bc("onMouseEnter",["mouseout","mouseover"]);bc("onMouseLeave",["mouseout","mouseover"]);bc("onPointerEnter",["pointerout","pointerover"]);bc("onPointerLeave",["pointerout","pointerover"]);rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HW=new Set("cancel close invalid load scroll toggle".split(" ").concat(od));function EP(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,U9(n,e,void 0,t),t.currentTarget=null}function fF(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;EP(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;EP(a,l,u),i=c}}}if(Fx)throw t=UC,Fx=!1,UC=null,t}function St(t,e){var r=e[eS];r===void 0&&(r=e[eS]=new Set);var n=t+"__bubble";r.has(n)||(mF(e,t,2,!1),r.add(n))}function Zw(t,e,r){var n=0;e&&(n|=4),mF(r,t,n,e)}var gh="_reactListening"+Math.random().toString(36).slice(2);function df(t){if(!t[gh]){t[gh]=!0,v3.forEach(function(r){r!=="selectionchange"&&(HW.has(r)||Zw(r,!1,t),Zw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gh]||(e[gh]=!0,Zw("selectionchange",!1,e))}}function mF(t,e,r,n){switch(J3(e)){case 1:var a=iW;break;case 4:a=oW;break;default:a=WT}r=a.bind(null,e,r,t),a=void 0,!zC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Qw(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=po(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}R3(function(){var u=i,d=qT(r),f=[];e:{var m=dF.get(t);if(m!==void 0){var h=GT,p=t;switch(t){case"keypress":if(jp(r)===0)break e;case"keydown":case"keyup":h=wW;break;case"focusin":p="focus",h=Hw;break;case"focusout":p="blur",h=Hw;break;case"beforeblur":case"afterblur":h=Hw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=yP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=uW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=SW;break;case oF:case lF:case cF:h=mW;break;case uF:h=TW;break;case"scroll":h=lW;break;case"wheel":h=EW;break;case"copy":case"cut":case"paste":h=pW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=bP}var y=(e&4)!==0,x=!y&&t==="scroll",b=y?m!==null?m+"Capture":null:m;y=[];for(var g=u,j;g!==null;){j=g;var C=j.stateNode;if(j.tag===5&&C!==null&&(j=C,b!==null&&(C=af(g,b),C!=null&&y.push(ff(g,C,j)))),x)break;g=g.return}0<y.length&&(m=new h(m,p,null,r,d),f.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&r!==qC&&(p=r.relatedTarget||r.fromElement)&&(po(p)||p[js]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?po(p):null,p!==null&&(x=nl(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=yP,C="onMouseLeave",b="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=bP,C="onPointerLeave",b="onPointerEnter",g="pointer"),x=h==null?m:Ll(h),j=p==null?m:Ll(p),m=new y(C,g+"leave",h,r,d),m.target=x,m.relatedTarget=j,C=null,po(d)===u&&(y=new y(b,g+"enter",p,r,d),y.target=j,y.relatedTarget=x,C=y),x=C,h&&p)t:{for(y=h,b=p,g=0,j=y;j;j=vl(j))g++;for(j=0,C=b;C;C=vl(C))j++;for(;0<g-j;)y=vl(y),g--;for(;0<j-g;)b=vl(b),j--;for(;g--;){if(y===b||b!==null&&y===b.alternate)break t;y=vl(y),b=vl(b)}y=null}else y=null;h!==null&&OP(f,m,h,y,!1),p!==null&&x!==null&&OP(f,x,p,y,!0)}}e:{if(m=u?Ll(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=RW;else if(wP(m))if(rF)N=BW;else{N=LW;var w=MW}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=FW);if(N&&(N=N(t,u))){tF(f,N,r,d);break e}w&&w(t,m,u),t==="focusout"&&(w=m._wrapperState)&&w.controlled&&m.type==="number"&&RC(m,"number",m.value)}switch(w=u?Ll(u):window,t){case"focusin":(wP(w)||w.contentEditable==="true")&&(Rl=w,YC=u,Cd=null);break;case"focusout":Cd=YC=Rl=null;break;case"mousedown":KC=!0;break;case"contextmenu":case"mouseup":case"dragend":KC=!1,TP(f,r,d);break;case"selectionchange":if(zW)break;case"keydown":case"keyup":TP(f,r,d)}var S;if(KT)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else $l?Q3(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Z3&&r.locale!=="ko"&&($l||T!=="onCompositionStart"?T==="onCompositionEnd"&&$l&&(S=X3()):(Qs=d,HT="value"in Qs?Qs.value:Qs.textContent,$l=!0)),w=Ux(u,T),0<w.length&&(T=new xP(T,t,null,r,d),f.push({event:T,listeners:w}),S?T.data=S:(S=eF(r),S!==null&&(T.data=S)))),(S=PW?DW(t,r):IW(t,r))&&(u=Ux(u,"onBeforeInput"),0<u.length&&(d=new xP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}fF(f,e)})}function ff(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ux(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=af(t,r),i!=null&&n.unshift(ff(t,i,a)),i=af(t,e),i!=null&&n.push(ff(t,i,a))),t=t.return}return n}function vl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function OP(t,e,r,n,a){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=af(r,i),c!=null&&o.unshift(ff(r,c,l))):a||(c=af(r,i),c!=null&&o.push(ff(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var GW=/\r\n?/g,YW=/\u0000|\uFFFD/g;function PP(t){return(typeof t=="string"?t:""+t).replace(GW,`
`).replace(YW,"")}function yh(t,e,r){if(e=PP(e),PP(t)!==e&&r)throw Error(se(425))}function Wx(){}var JC=null,XC=null;function ZC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var QC=typeof setTimeout=="function"?setTimeout:void 0,KW=typeof clearTimeout=="function"?clearTimeout:void 0,DP=typeof Promise=="function"?Promise:void 0,JW=typeof queueMicrotask=="function"?queueMicrotask:typeof DP<"u"?function(t){return DP.resolve(null).then(t).catch(XW)}:QC;function XW(t){setTimeout(function(){throw t})}function eN(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),lf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);lf(e)}function ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function IP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var nu=Math.random().toString(36).slice(2),Ta="__reactFiber$"+nu,mf="__reactProps$"+nu,js="__reactContainer$"+nu,eS="__reactEvents$"+nu,ZW="__reactListeners$"+nu,QW="__reactHandles$"+nu;function po(t){var e=t[Ta];if(e)return e;for(var r=t.parentNode;r;){if(e=r[js]||r[Ta]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=IP(t);t!==null;){if(r=t[Ta])return r;t=IP(t)}return e}t=r,r=t.parentNode}return null}function km(t){return t=t[Ta]||t[js],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ll(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function M0(t){return t[mf]||null}var tS=[],Fl=-1;function $i(t){return{current:t}}function Ot(t){0>Fl||(t.current=tS[Fl],tS[Fl]=null,Fl--)}function Nt(t,e){Fl++,tS[Fl]=t.current,t.current=e}var Ai={},Dr=$i(Ai),Xr=$i(!1),qo=Ai;function vc(t,e){var r=t.type.contextTypes;if(!r)return Ai;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Zr(t){return t=t.childContextTypes,t!=null}function Hx(){Ot(Xr),Ot(Dr)}function _P(t,e,r){if(Dr.current!==Ai)throw Error(se(168));Nt(Dr,e),Nt(Xr,r)}function hF(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(se(108,M9(t)||"Unknown",a));return qt({},r,n)}function Gx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ai,qo=Dr.current,Nt(Dr,t),Nt(Xr,Xr.current),!0}function $P(t,e,r){var n=t.stateNode;if(!n)throw Error(se(169));r?(t=hF(t,e,qo),n.__reactInternalMemoizedMergedChildContext=t,Ot(Xr),Ot(Dr),Nt(Dr,t)):Ot(Xr),Nt(Xr,r)}var es=null,L0=!1,tN=!1;function pF(t){es===null?es=[t]:es.push(t)}function eH(t){L0=!0,pF(t)}function Ri(){if(!tN&&es!==null){tN=!0;var t=0,e=ut;try{var r=es;for(ut=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}es=null,L0=!1}catch(a){throw es!==null&&(es=es.slice(t+1)),B3(VT,Ri),a}finally{ut=e,tN=!1}}return null}var Bl=[],ql=0,Yx=null,Kx=0,$n=[],Rn=0,Vo=null,as=1,ss="";function ao(t,e){Bl[ql++]=Kx,Bl[ql++]=Yx,Yx=t,Kx=e}function gF(t,e,r){$n[Rn++]=as,$n[Rn++]=ss,$n[Rn++]=Vo,Vo=t;var n=as;t=ss;var a=32-la(n)-1;n&=~(1<<a),r+=1;var i=32-la(e)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,as=1<<32-la(e)+a|r<<a|n,ss=i+t}else as=1<<i|r<<a|n,ss=t}function XT(t){t.return!==null&&(ao(t,1),gF(t,1,0))}function ZT(t){for(;t===Yx;)Yx=Bl[--ql],Bl[ql]=null,Kx=Bl[--ql],Bl[ql]=null;for(;t===Vo;)Vo=$n[--Rn],$n[Rn]=null,ss=$n[--Rn],$n[Rn]=null,as=$n[--Rn],$n[Rn]=null}var gn=null,fn=null,It=!1,na=null;function yF(t,e){var r=Ln(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function RP(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,fn=ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Vo!==null?{id:as,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ln(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,gn=t,fn=null,!0):!1;default:return!1}}function rS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nS(t){if(It){var e=fn;if(e){var r=e;if(!RP(t,e)){if(rS(t))throw Error(se(418));e=ui(r.nextSibling);var n=gn;e&&RP(t,e)?yF(n,r):(t.flags=t.flags&-4097|2,It=!1,gn=t)}}else{if(rS(t))throw Error(se(418));t.flags=t.flags&-4097|2,It=!1,gn=t}}}function MP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function xh(t){if(t!==gn)return!1;if(!It)return MP(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ZC(t.type,t.memoizedProps)),e&&(e=fn)){if(rS(t))throw xF(),Error(se(418));for(;e;)yF(t,e),e=ui(e.nextSibling)}if(MP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fn=ui(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=gn?ui(t.stateNode.nextSibling):null;return!0}function xF(){for(var t=fn;t;)t=ui(t.nextSibling)}function jc(){fn=gn=null,It=!1}function QT(t){na===null?na=[t]:na.push(t)}var tH=Ds.ReactCurrentBatchConfig;function Pu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var n=r.stateNode}if(!n)throw Error(se(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,t))}return t}function bh(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LP(t){var e=t._init;return e(t._payload)}function bF(t){function e(b,g){if(t){var j=b.deletions;j===null?(b.deletions=[g],b.flags|=16):j.push(g)}}function r(b,g){if(!t)return null;for(;g!==null;)e(b,g),g=g.sibling;return null}function n(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function a(b,g){return b=hi(b,g),b.index=0,b.sibling=null,b}function i(b,g,j){return b.index=j,t?(j=b.alternate,j!==null?(j=j.index,j<g?(b.flags|=2,g):j):(b.flags|=2,g)):(b.flags|=1048576,g)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,g,j,C){return g===null||g.tag!==6?(g=lN(j,b.mode,C),g.return=b,g):(g=a(g,j),g.return=b,g)}function c(b,g,j,C){var N=j.type;return N===_l?d(b,g,j.props.children,C,j.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ws&&LP(N)===g.type)?(C=a(g,j.props),C.ref=Pu(b,g,j),C.return=b,C):(C=kp(j.type,j.key,j.props,null,b.mode,C),C.ref=Pu(b,g,j),C.return=b,C)}function u(b,g,j,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==j.containerInfo||g.stateNode.implementation!==j.implementation?(g=cN(j,b.mode,C),g.return=b,g):(g=a(g,j.children||[]),g.return=b,g)}function d(b,g,j,C,N){return g===null||g.tag!==7?(g=ko(j,b.mode,C,N),g.return=b,g):(g=a(g,j),g.return=b,g)}function f(b,g,j){if(typeof g=="string"&&g!==""||typeof g=="number")return g=lN(""+g,b.mode,j),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case lh:return j=kp(g.type,g.key,g.props,null,b.mode,j),j.ref=Pu(b,null,g),j.return=b,j;case Il:return g=cN(g,b.mode,j),g.return=b,g;case Ws:var C=g._init;return f(b,C(g._payload),j)}if(sd(g)||Au(g))return g=ko(g,b.mode,j,null),g.return=b,g;bh(b,g)}return null}function m(b,g,j,C){var N=g!==null?g.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(b,g,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case lh:return j.key===N?c(b,g,j,C):null;case Il:return j.key===N?u(b,g,j,C):null;case Ws:return N=j._init,m(b,g,N(j._payload),C)}if(sd(j)||Au(j))return N!==null?null:d(b,g,j,C,null);bh(b,j)}return null}function h(b,g,j,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(j)||null,l(g,b,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case lh:return b=b.get(C.key===null?j:C.key)||null,c(g,b,C,N);case Il:return b=b.get(C.key===null?j:C.key)||null,u(g,b,C,N);case Ws:var w=C._init;return h(b,g,j,w(C._payload),N)}if(sd(C)||Au(C))return b=b.get(j)||null,d(g,b,C,N,null);bh(g,C)}return null}function p(b,g,j,C){for(var N=null,w=null,S=g,T=g=0,k=null;S!==null&&T<j.length;T++){S.index>T?(k=S,S=null):k=S.sibling;var E=m(b,S,j[T],C);if(E===null){S===null&&(S=k);break}t&&S&&E.alternate===null&&e(b,S),g=i(E,g,T),w===null?N=E:w.sibling=E,w=E,S=k}if(T===j.length)return r(b,S),It&&ao(b,T),N;if(S===null){for(;T<j.length;T++)S=f(b,j[T],C),S!==null&&(g=i(S,g,T),w===null?N=S:w.sibling=S,w=S);return It&&ao(b,T),N}for(S=n(b,S);T<j.length;T++)k=h(S,b,T,j[T],C),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?T:k.key),g=i(k,g,T),w===null?N=k:w.sibling=k,w=k);return t&&S.forEach(function(O){return e(b,O)}),It&&ao(b,T),N}function y(b,g,j,C){var N=Au(j);if(typeof N!="function")throw Error(se(150));if(j=N.call(j),j==null)throw Error(se(151));for(var w=N=null,S=g,T=g=0,k=null,E=j.next();S!==null&&!E.done;T++,E=j.next()){S.index>T?(k=S,S=null):k=S.sibling;var O=m(b,S,E.value,C);if(O===null){S===null&&(S=k);break}t&&S&&O.alternate===null&&e(b,S),g=i(O,g,T),w===null?N=O:w.sibling=O,w=O,S=k}if(E.done)return r(b,S),It&&ao(b,T),N;if(S===null){for(;!E.done;T++,E=j.next())E=f(b,E.value,C),E!==null&&(g=i(E,g,T),w===null?N=E:w.sibling=E,w=E);return It&&ao(b,T),N}for(S=n(b,S);!E.done;T++,E=j.next())E=h(S,b,T,E.value,C),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?T:E.key),g=i(E,g,T),w===null?N=E:w.sibling=E,w=E);return t&&S.forEach(function(M){return e(b,M)}),It&&ao(b,T),N}function x(b,g,j,C){if(typeof j=="object"&&j!==null&&j.type===_l&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case lh:e:{for(var N=j.key,w=g;w!==null;){if(w.key===N){if(N=j.type,N===_l){if(w.tag===7){r(b,w.sibling),g=a(w,j.props.children),g.return=b,b=g;break e}}else if(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ws&&LP(N)===w.type){r(b,w.sibling),g=a(w,j.props),g.ref=Pu(b,w,j),g.return=b,b=g;break e}r(b,w);break}else e(b,w);w=w.sibling}j.type===_l?(g=ko(j.props.children,b.mode,C,j.key),g.return=b,b=g):(C=kp(j.type,j.key,j.props,null,b.mode,C),C.ref=Pu(b,g,j),C.return=b,b=C)}return o(b);case Il:e:{for(w=j.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===j.containerInfo&&g.stateNode.implementation===j.implementation){r(b,g.sibling),g=a(g,j.children||[]),g.return=b,b=g;break e}else{r(b,g);break}else e(b,g);g=g.sibling}g=cN(j,b.mode,C),g.return=b,b=g}return o(b);case Ws:return w=j._init,x(b,g,w(j._payload),C)}if(sd(j))return p(b,g,j,C);if(Au(j))return y(b,g,j,C);bh(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,g!==null&&g.tag===6?(r(b,g.sibling),g=a(g,j),g.return=b,b=g):(r(b,g),g=lN(j,b.mode,C),g.return=b,b=g),o(b)):r(b,g)}return x}var wc=bF(!0),vF=bF(!1),Jx=$i(null),Xx=null,Vl=null,ek=null;function tk(){ek=Vl=Xx=null}function rk(t){var e=Jx.current;Ot(Jx),t._currentValue=e}function aS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function tc(t,e){Xx=t,ek=Vl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gr=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(ek!==t)if(t={context:t,memoizedValue:e,next:null},Vl===null){if(Xx===null)throw Error(se(308));Vl=t,Xx.dependencies={lanes:0,firstContext:t}}else Vl=Vl.next=t;return e}var go=null;function nk(t){go===null?go=[t]:go.push(t)}function jF(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,nk(e)):(r.next=a.next,a.next=r),e.interleaved=r,ws(t,n)}function ws(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hs=!1;function ak(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function di(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,ws(t,r)}return a=n.interleaved,a===null?(e.next=e,nk(n)):(e.next=a.next,a.next=e),n.interleaved=e,ws(t,r)}function wp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zT(t,r)}}function FP(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Zx(t,e,r,n){var a=t.updateQueue;Hs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,y=l;switch(m=e,h=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(h,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,m=typeof p=="function"?p.call(h,f,m):p,m==null)break e;f=qt({},f,m);break e;case 2:Hs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);Uo|=o,t.lanes=o,t.memoizedState=f}}function BP(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(se(191,a));a.call(n)}}}var Em={},Pa=$i(Em),hf=$i(Em),pf=$i(Em);function yo(t){if(t===Em)throw Error(se(174));return t}function sk(t,e){switch(Nt(pf,e),Nt(hf,t),Nt(Pa,Em),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:LC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=LC(e,t)}Ot(Pa),Nt(Pa,e)}function Nc(){Ot(Pa),Ot(hf),Ot(pf)}function NF(t){yo(pf.current);var e=yo(Pa.current),r=LC(e,t.type);e!==r&&(Nt(hf,t),Nt(Pa,r))}function ik(t){hf.current===t&&(Ot(Pa),Ot(hf))}var Ft=$i(0);function Qx(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rN=[];function ok(){for(var t=0;t<rN.length;t++)rN[t]._workInProgressVersionPrimary=null;rN.length=0}var Np=Ds.ReactCurrentDispatcher,nN=Ds.ReactCurrentBatchConfig,zo=0,Bt=null,sr=null,fr=null,eb=!1,Sd=!1,gf=0,rH=0;function Sr(){throw Error(se(321))}function lk(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ha(t[r],e[r]))return!1;return!0}function ck(t,e,r,n,a,i){if(zo=i,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Np.current=t===null||t.memoizedState===null?iH:oH,t=r(n,a),Sd){i=0;do{if(Sd=!1,gf=0,25<=i)throw Error(se(301));i+=1,fr=sr=null,e.updateQueue=null,Np.current=lH,t=r(n,a)}while(Sd)}if(Np.current=tb,e=sr!==null&&sr.next!==null,zo=0,fr=sr=Bt=null,eb=!1,e)throw Error(se(300));return t}function uk(){var t=gf!==0;return gf=0,t}function wa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Bt.memoizedState=fr=t:fr=fr.next=t,fr}function Gn(){if(sr===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=sr.next;var e=fr===null?Bt.memoizedState:fr.next;if(e!==null)fr=e,sr=t;else{if(t===null)throw Error(se(310));sr=t,t={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},fr===null?Bt.memoizedState=fr=t:fr=fr.next=t}return fr}function yf(t,e){return typeof e=="function"?e(t):e}function aN(t){var e=Gn(),r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=t;var n=sr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((zo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Bt.lanes|=d,Uo|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ha(n,e.memoizedState)||(Gr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Bt.lanes|=i,Uo|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function sN(t){var e=Gn(),r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);ha(i,e.memoizedState)||(Gr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function CF(){}function SF(t,e){var r=Bt,n=Gn(),a=e(),i=!ha(n.memoizedState,a);if(i&&(n.memoizedState=a,Gr=!0),n=n.queue,dk(kF.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||fr!==null&&fr.memoizedState.tag&1){if(r.flags|=2048,xf(9,TF.bind(null,r,n,a,e),void 0,null),hr===null)throw Error(se(349));zo&30||AF(r,e,a)}return a}function AF(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function TF(t,e,r,n){e.value=r,e.getSnapshot=n,EF(e)&&OF(t)}function kF(t,e,r){return r(function(){EF(e)&&OF(t)})}function EF(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ha(t,r)}catch{return!0}}function OF(t){var e=ws(t,1);e!==null&&ca(e,t,1,-1)}function qP(t){var e=wa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yf,lastRenderedState:t},e.queue=t,t=t.dispatch=sH.bind(null,Bt,t),[e.memoizedState,t]}function xf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function PF(){return Gn().memoizedState}function Cp(t,e,r,n){var a=wa();Bt.flags|=t,a.memoizedState=xf(1|e,r,void 0,n===void 0?null:n)}function F0(t,e,r,n){var a=Gn();n=n===void 0?null:n;var i=void 0;if(sr!==null){var o=sr.memoizedState;if(i=o.destroy,n!==null&&lk(n,o.deps)){a.memoizedState=xf(e,r,i,n);return}}Bt.flags|=t,a.memoizedState=xf(1|e,r,i,n)}function VP(t,e){return Cp(8390656,8,t,e)}function dk(t,e){return F0(2048,8,t,e)}function DF(t,e){return F0(4,2,t,e)}function IF(t,e){return F0(4,4,t,e)}function _F(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $F(t,e,r){return r=r!=null?r.concat([t]):null,F0(4,4,_F.bind(null,e,t),r)}function fk(){}function RF(t,e){var r=Gn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&lk(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function MF(t,e){var r=Gn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&lk(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function LF(t,e,r){return zo&21?(ha(r,e)||(r=z3(),Bt.lanes|=r,Uo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gr=!0),t.memoizedState=r)}function nH(t,e){var r=ut;ut=r!==0&&4>r?r:4,t(!0);var n=nN.transition;nN.transition={};try{t(!1),e()}finally{ut=r,nN.transition=n}}function FF(){return Gn().memoizedState}function aH(t,e,r){var n=mi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},BF(t))qF(e,r);else if(r=jF(t,e,r,n),r!==null){var a=Fr();ca(r,t,n,a),VF(r,e,n)}}function sH(t,e,r){var n=mi(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(BF(t))qF(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,ha(l,o)){var c=e.interleaved;c===null?(a.next=a,nk(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=jF(t,e,a,n),r!==null&&(a=Fr(),ca(r,t,n,a),VF(r,e,n))}}function BF(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function qF(t,e){Sd=eb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function VF(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zT(t,r)}}var tb={readContext:Hn,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},iH={readContext:Hn,useCallback:function(t,e){return wa().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:VP,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Cp(4194308,4,_F.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Cp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cp(4,2,t,e)},useMemo:function(t,e){var r=wa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=wa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=aH.bind(null,Bt,t),[n.memoizedState,t]},useRef:function(t){var e=wa();return t={current:t},e.memoizedState=t},useState:qP,useDebugValue:fk,useDeferredValue:function(t){return wa().memoizedState=t},useTransition:function(){var t=qP(!1),e=t[0];return t=nH.bind(null,t[1]),wa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Bt,a=wa();if(It){if(r===void 0)throw Error(se(407));r=r()}else{if(r=e(),hr===null)throw Error(se(349));zo&30||AF(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,VP(kF.bind(null,n,i,t),[t]),n.flags|=2048,xf(9,TF.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=wa(),e=hr.identifierPrefix;if(It){var r=ss,n=as;r=(n&~(1<<32-la(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=gf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=rH++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oH={readContext:Hn,useCallback:RF,useContext:Hn,useEffect:dk,useImperativeHandle:$F,useInsertionEffect:DF,useLayoutEffect:IF,useMemo:MF,useReducer:aN,useRef:PF,useState:function(){return aN(yf)},useDebugValue:fk,useDeferredValue:function(t){var e=Gn();return LF(e,sr.memoizedState,t)},useTransition:function(){var t=aN(yf)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:CF,useSyncExternalStore:SF,useId:FF,unstable_isNewReconciler:!1},lH={readContext:Hn,useCallback:RF,useContext:Hn,useEffect:dk,useImperativeHandle:$F,useInsertionEffect:DF,useLayoutEffect:IF,useMemo:MF,useReducer:sN,useRef:PF,useState:function(){return sN(yf)},useDebugValue:fk,useDeferredValue:function(t){var e=Gn();return sr===null?e.memoizedState=t:LF(e,sr.memoizedState,t)},useTransition:function(){var t=sN(yf)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:CF,useSyncExternalStore:SF,useId:FF,unstable_isNewReconciler:!1};function ta(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function sS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:qt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var B0={isMounted:function(t){return(t=t._reactInternals)?nl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fr(),a=mi(t),i=fs(n,a);i.payload=e,r!=null&&(i.callback=r),e=di(t,i,a),e!==null&&(ca(e,t,a,n),wp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fr(),a=mi(t),i=fs(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=di(t,i,a),e!==null&&(ca(e,t,a,n),wp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fr(),n=mi(t),a=fs(r,n);a.tag=2,e!=null&&(a.callback=e),e=di(t,a,n),e!==null&&(ca(e,t,n,r),wp(e,t,n))}};function zP(t,e,r,n,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!uf(r,n)||!uf(a,i):!0}function zF(t,e,r){var n=!1,a=Ai,i=e.contextType;return typeof i=="object"&&i!==null?i=Hn(i):(a=Zr(e)?qo:Dr.current,n=e.contextTypes,i=(n=n!=null)?vc(t,a):Ai),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=B0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function UP(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&B0.enqueueReplaceState(e,e.state,null)}function iS(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},ak(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=Hn(i):(i=Zr(e)?qo:Dr.current,a.context=vc(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(sS(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&B0.enqueueReplaceState(a,a.state,null),Zx(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Cc(t,e){try{var r="",n=e;do r+=R9(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function iN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function oS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var cH=typeof WeakMap=="function"?WeakMap:Map;function UF(t,e,r){r=fs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){nb||(nb=!0,yS=n),oS(t,e)},r}function WF(t,e,r){r=fs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){oS(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){oS(t,e),typeof n!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function WP(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new cH;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=NH.bind(null,t,e,r),e.then(t,t))}function HP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GP(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fs(-1,1),e.tag=2,di(r,e,1))),r.lanes|=1),t)}var uH=Ds.ReactCurrentOwner,Gr=!1;function $r(t,e,r,n){e.child=t===null?vF(e,null,r,n):wc(e,t.child,r,n)}function YP(t,e,r,n,a){r=r.render;var i=e.ref;return tc(e,a),n=ck(t,e,r,n,i,a),r=uk(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ns(t,e,a)):(It&&r&&XT(e),e.flags|=1,$r(t,e,n,a),e.child)}function KP(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!vk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,HF(t,e,i,n,a)):(t=kp(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:uf,r(o,n)&&t.ref===e.ref)return Ns(t,e,a)}return e.flags|=1,t=hi(i,n),t.ref=e.ref,t.return=e,e.child=t}function HF(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(uf(i,n)&&t.ref===e.ref)if(Gr=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(Gr=!0);else return e.lanes=t.lanes,Ns(t,e,a)}return lS(t,e,r,n,a)}function GF(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Ul,ln),ln|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nt(Ul,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Nt(Ul,ln),ln|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Nt(Ul,ln),ln|=n;return $r(t,e,a,r),e.child}function YF(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function lS(t,e,r,n,a){var i=Zr(r)?qo:Dr.current;return i=vc(e,i),tc(e,a),r=ck(t,e,r,n,i,a),n=uk(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ns(t,e,a)):(It&&n&&XT(e),e.flags|=1,$r(t,e,r,a),e.child)}function JP(t,e,r,n,a){if(Zr(r)){var i=!0;Gx(e)}else i=!1;if(tc(e,a),e.stateNode===null)Sp(t,e),zF(e,r,n),iS(e,r,n,a),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Hn(u):(u=Zr(r)?qo:Dr.current,u=vc(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&UP(e,o,n,u),Hs=!1;var m=e.memoizedState;o.state=m,Zx(e,n,o,a),c=e.memoizedState,l!==n||m!==c||Xr.current||Hs?(typeof d=="function"&&(sS(e,r,d,n),c=e.memoizedState),(l=Hs||zP(e,r,l,n,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,wF(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ta(e.type,l),o.props=u,f=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Hn(c):(c=Zr(r)?qo:Dr.current,c=vc(e,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&UP(e,o,n,c),Hs=!1,m=e.memoizedState,o.state=m,Zx(e,n,o,a);var p=e.memoizedState;l!==f||m!==p||Xr.current||Hs?(typeof h=="function"&&(sS(e,r,h,n),p=e.memoizedState),(u=Hs||zP(e,r,u,n,m,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return cS(t,e,r,n,i,a)}function cS(t,e,r,n,a,i){YF(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return a&&$P(e,r,!1),Ns(t,e,i);n=e.stateNode,uH.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=wc(e,t.child,null,i),e.child=wc(e,null,l,i)):$r(t,e,l,i),e.memoizedState=n.state,a&&$P(e,r,!0),e.child}function KF(t){var e=t.stateNode;e.pendingContext?_P(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_P(t,e.context,!1),sk(t,e.containerInfo)}function XP(t,e,r,n,a){return jc(),QT(a),e.flags|=256,$r(t,e,r,n),e.child}var uS={dehydrated:null,treeContext:null,retryLane:0};function dS(t){return{baseLanes:t,cachePool:null,transitions:null}}function JF(t,e,r){var n=e.pendingProps,a=Ft.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Nt(Ft,a&1),t===null)return nS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=z0(o,n,0,null),t=ko(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=dS(r),e.memoizedState=uS,t):mk(e,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return dH(t,e,o,n,l,a,r);if(i){i=n.fallback,o=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=hi(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=hi(l,i):(i=ko(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?dS(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=uS,n}return i=t.child,t=i.sibling,n=hi(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function mk(t,e){return e=z0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vh(t,e,r,n){return n!==null&&QT(n),wc(e,t.child,null,r),t=mk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dH(t,e,r,n,a,i,o){if(r)return e.flags&256?(e.flags&=-257,n=iN(Error(se(422))),vh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=z0({mode:"visible",children:n.children},a,0,null),i=ko(i,a,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&wc(e,t.child,null,o),e.child.memoizedState=dS(o),e.memoizedState=uS,i);if(!(e.mode&1))return vh(t,e,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(se(419)),n=iN(i,n,void 0),vh(t,e,o,n)}if(l=(o&t.childLanes)!==0,Gr||l){if(n=hr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ws(t,a),ca(n,t,a,-1))}return bk(),n=iN(Error(se(421))),vh(t,e,o,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=CH.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,fn=ui(a.nextSibling),gn=e,It=!0,na=null,t!==null&&($n[Rn++]=as,$n[Rn++]=ss,$n[Rn++]=Vo,as=t.id,ss=t.overflow,Vo=e),e=mk(e,n.children),e.flags|=4096,e)}function ZP(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),aS(t.return,e,r)}function oN(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function XF(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if($r(t,e,n.children,r),n=Ft.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZP(t,r,e);else if(t.tag===19)ZP(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Nt(Ft,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Qx(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),oN(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Qx(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}oN(e,!0,r,null,i);break;case"together":oN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ns(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Uo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,r=hi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=hi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function fH(t,e,r){switch(e.tag){case 3:KF(e),jc();break;case 5:NF(e);break;case 1:Zr(e.type)&&Gx(e);break;case 4:sk(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Nt(Jx,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Nt(Ft,Ft.current&1),e.flags|=128,null):r&e.child.childLanes?JF(t,e,r):(Nt(Ft,Ft.current&1),t=Ns(t,e,r),t!==null?t.sibling:null);Nt(Ft,Ft.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return XF(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Nt(Ft,Ft.current),n)break;return null;case 22:case 23:return e.lanes=0,GF(t,e,r)}return Ns(t,e,r)}var ZF,fS,QF,e4;ZF=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fS=function(){};QF=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,yo(Pa.current);var i=null;switch(r){case"input":a=_C(t,a),n=_C(t,n),i=[];break;case"select":a=qt({},a,{value:void 0}),n=qt({},n,{value:void 0}),i=[];break;case"textarea":a=MC(t,a),n=MC(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Wx)}FC(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&St("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};e4=function(t,e,r,n){r!==n&&(e.flags|=4)};function Du(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ar(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function mH(t,e,r){var n=e.pendingProps;switch(ZT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(e),null;case 1:return Zr(e.type)&&Hx(),Ar(e),null;case 3:return n=e.stateNode,Nc(),Ot(Xr),Ot(Dr),ok(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(xh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,na!==null&&(vS(na),na=null))),fS(t,e),Ar(e),null;case 5:ik(e);var a=yo(pf.current);if(r=e.type,t!==null&&e.stateNode!=null)QF(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(se(166));return Ar(e),null}if(t=yo(Pa.current),xh(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ta]=e,n[mf]=i,t=(e.mode&1)!==0,r){case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":case"embed":St("load",n);break;case"video":case"audio":for(a=0;a<od.length;a++)St(od[a],n);break;case"source":St("error",n);break;case"img":case"image":case"link":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"input":oP(n,i),St("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},St("invalid",n);break;case"textarea":cP(n,i),St("invalid",n)}FC(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&yh(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&yh(n.textContent,l,t),a=["children",""+l]):rf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&St("scroll",n)}switch(r){case"input":ch(n),lP(n,i,!0);break;case"textarea":ch(n),uP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Wx)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=k3(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ta]=e,t[mf]=n,ZF(t,e,!1,!1),e.stateNode=t;e:{switch(o=BC(r,n),r){case"dialog":St("cancel",t),St("close",t),a=n;break;case"iframe":case"object":case"embed":St("load",t),a=n;break;case"video":case"audio":for(a=0;a<od.length;a++)St(od[a],t);a=n;break;case"source":St("error",t),a=n;break;case"img":case"image":case"link":St("error",t),St("load",t),a=n;break;case"details":St("toggle",t),a=n;break;case"input":oP(t,n),a=_C(t,n),St("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=qt({},n,{value:void 0}),St("invalid",t);break;case"textarea":cP(t,n),a=MC(t,n),St("invalid",t);break;default:a=n}FC(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?P3(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&E3(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&nf(t,c):typeof c=="number"&&nf(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&St("scroll",t):c!=null&&MT(t,i,c,o))}switch(r){case"input":ch(t),lP(t,n,!1);break;case"textarea":ch(t),uP(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Si(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Xl(t,!!n.multiple,i,!1):n.defaultValue!=null&&Xl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Wx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ar(e),null;case 6:if(t&&e.stateNode!=null)e4(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(se(166));if(r=yo(pf.current),yo(Pa.current),xh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ta]=e,(i=n.nodeValue!==r)&&(t=gn,t!==null))switch(t.tag){case 3:yh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yh(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ta]=e,e.stateNode=n}return Ar(e),null;case 13:if(Ot(Ft),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&fn!==null&&e.mode&1&&!(e.flags&128))xF(),jc(),e.flags|=98560,i=!1;else if(i=xh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(se(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[Ta]=e}else jc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ar(e),i=!1}else na!==null&&(vS(na),na=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ft.current&1?ir===0&&(ir=3):bk())),e.updateQueue!==null&&(e.flags|=4),Ar(e),null);case 4:return Nc(),fS(t,e),t===null&&df(e.stateNode.containerInfo),Ar(e),null;case 10:return rk(e.type._context),Ar(e),null;case 17:return Zr(e.type)&&Hx(),Ar(e),null;case 19:if(Ot(Ft),i=e.memoizedState,i===null)return Ar(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Du(i,!1);else{if(ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qx(t),o!==null){for(e.flags|=128,Du(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Nt(Ft,Ft.current&1|2),e.child}t=t.sibling}i.tail!==null&&Jt()>Sc&&(e.flags|=128,n=!0,Du(i,!1),e.lanes=4194304)}else{if(!n)if(t=Qx(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Du(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!It)return Ar(e),null}else 2*Jt()-i.renderingStartTime>Sc&&r!==1073741824&&(e.flags|=128,n=!0,Du(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Jt(),e.sibling=null,r=Ft.current,Nt(Ft,n?r&1|2:r&1),e):(Ar(e),null);case 22:case 23:return xk(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ln&1073741824&&(Ar(e),e.subtreeFlags&6&&(e.flags|=8192)):Ar(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function hH(t,e){switch(ZT(e),e.tag){case 1:return Zr(e.type)&&Hx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nc(),Ot(Xr),Ot(Dr),ok(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ik(e),null;case 13:if(Ot(Ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));jc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ot(Ft),null;case 4:return Nc(),null;case 10:return rk(e.type._context),null;case 22:case 23:return xk(),null;case 24:return null;default:return null}}var jh=!1,Er=!1,pH=typeof WeakSet=="function"?WeakSet:Set,ge=null;function zl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){zt(t,e,n)}else r.current=null}function mS(t,e,r){try{r()}catch(n){zt(t,e,n)}}var QP=!1;function gH(t,e){if(JC=Vx,t=sF(),JT(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===t)break t;if(m===r&&++u===a&&(l=o),m===i&&++d===n&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(XC={focusedElem:t,selectionRange:r},Vx=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,x=p.memoizedState,b=e.stateNode,g=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:ta(e.type,y),x);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(C){zt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return p=QP,QP=!1,p}function Ad(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&mS(e,r,i)}a=a.next}while(a!==n)}}function q0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function hS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function t4(t){var e=t.alternate;e!==null&&(t.alternate=null,t4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ta],delete e[mf],delete e[eS],delete e[ZW],delete e[QW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function r4(t){return t.tag===5||t.tag===3||t.tag===4}function eD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Wx));else if(n!==4&&(t=t.child,t!==null))for(pS(t,e,r),t=t.sibling;t!==null;)pS(t,e,r),t=t.sibling}function gS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(gS(t,e,r),t=t.sibling;t!==null;)gS(t,e,r),t=t.sibling}var br=null,ra=!1;function qs(t,e,r){for(r=r.child;r!==null;)n4(t,e,r),r=r.sibling}function n4(t,e,r){if(Oa&&typeof Oa.onCommitFiberUnmount=="function")try{Oa.onCommitFiberUnmount(I0,r)}catch{}switch(r.tag){case 5:Er||zl(r,e);case 6:var n=br,a=ra;br=null,qs(t,e,r),br=n,ra=a,br!==null&&(ra?(t=br,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):br.removeChild(r.stateNode));break;case 18:br!==null&&(ra?(t=br,r=r.stateNode,t.nodeType===8?eN(t.parentNode,r):t.nodeType===1&&eN(t,r),lf(t)):eN(br,r.stateNode));break;case 4:n=br,a=ra,br=r.stateNode.containerInfo,ra=!0,qs(t,e,r),br=n,ra=a;break;case 0:case 11:case 14:case 15:if(!Er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mS(r,e,o),a=a.next}while(a!==n)}qs(t,e,r);break;case 1:if(!Er&&(zl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){zt(r,e,l)}qs(t,e,r);break;case 21:qs(t,e,r);break;case 22:r.mode&1?(Er=(n=Er)||r.memoizedState!==null,qs(t,e,r),Er=n):qs(t,e,r);break;default:qs(t,e,r)}}function tD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new pH),e.forEach(function(n){var a=SH.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Zn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:br=l.stateNode,ra=!1;break e;case 3:br=l.stateNode.containerInfo,ra=!0;break e;case 4:br=l.stateNode.containerInfo,ra=!0;break e}l=l.return}if(br===null)throw Error(se(160));n4(i,o,a),br=null,ra=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){zt(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)a4(e,t),e=e.sibling}function a4(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),ba(t),n&4){try{Ad(3,t,t.return),q0(3,t)}catch(y){zt(t,t.return,y)}try{Ad(5,t,t.return)}catch(y){zt(t,t.return,y)}}break;case 1:Zn(e,t),ba(t),n&512&&r!==null&&zl(r,r.return);break;case 5:if(Zn(e,t),ba(t),n&512&&r!==null&&zl(r,r.return),t.flags&32){var a=t.stateNode;try{nf(a,"")}catch(y){zt(t,t.return,y)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&A3(a,i),BC(l,o);var u=BC(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?P3(a,f):d==="dangerouslySetInnerHTML"?E3(a,f):d==="children"?nf(a,f):MT(a,d,f,u)}switch(l){case"input":$C(a,i);break;case"textarea":T3(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Xl(a,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?Xl(a,!!i.multiple,i.defaultValue,!0):Xl(a,!!i.multiple,i.multiple?[]:"",!1))}a[mf]=i}catch(y){zt(t,t.return,y)}}break;case 6:if(Zn(e,t),ba(t),n&4){if(t.stateNode===null)throw Error(se(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(y){zt(t,t.return,y)}}break;case 3:if(Zn(e,t),ba(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{lf(e.containerInfo)}catch(y){zt(t,t.return,y)}break;case 4:Zn(e,t),ba(t);break;case 13:Zn(e,t),ba(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(gk=Jt())),n&4&&tD(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Er=(u=Er)||d,Zn(e,t),Er=u):Zn(e,t),ba(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(f=ge=d;ge!==null;){switch(m=ge,h=m.child,m.tag){case 0:case 11:case 14:case 15:Ad(4,m,m.return);break;case 1:zl(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){zt(n,r,y)}}break;case 5:zl(m,m.return);break;case 22:if(m.memoizedState!==null){nD(f);continue}}h!==null?(h.return=m,ge=h):nD(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=O3("display",o))}catch(y){zt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){zt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zn(e,t),ba(t),n&4&&tD(t);break;case 21:break;default:Zn(e,t),ba(t)}}function ba(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(r4(r)){var n=r;break e}r=r.return}throw Error(se(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(nf(a,""),n.flags&=-33);var i=eD(t);gS(t,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=eD(t);pS(t,l,o);break;default:throw Error(se(161))}}catch(c){zt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yH(t,e,r){ge=t,s4(t)}function s4(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var a=ge,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||jh;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Er;l=jh;var u=Er;if(jh=o,(Er=c)&&!u)for(ge=a;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?aD(a):c!==null?(c.return=o,ge=c):aD(a);for(;i!==null;)ge=i,s4(i),i=i.sibling;ge=a,jh=l,Er=u}rD(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ge=i):rD(t)}}function rD(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Er||q0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Er)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:ta(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&BP(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}BP(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&lf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Er||e.flags&512&&hS(e)}catch(m){zt(e,e.return,m)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function nD(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function aD(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{q0(4,e)}catch(c){zt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){zt(e,a,c)}}var i=e.return;try{hS(e)}catch(c){zt(e,i,c)}break;case 5:var o=e.return;try{hS(e)}catch(c){zt(e,o,c)}}}catch(c){zt(e,e.return,c)}if(e===t){ge=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ge=l;break}ge=e.return}}var xH=Math.ceil,rb=Ds.ReactCurrentDispatcher,hk=Ds.ReactCurrentOwner,qn=Ds.ReactCurrentBatchConfig,Ke=0,hr=null,tr=null,Nr=0,ln=0,Ul=$i(0),ir=0,bf=null,Uo=0,V0=0,pk=0,Td=null,Ur=null,gk=0,Sc=1/0,Xa=null,nb=!1,yS=null,fi=null,wh=!1,ei=null,ab=0,kd=0,xS=null,Ap=-1,Tp=0;function Fr(){return Ke&6?Jt():Ap!==-1?Ap:Ap=Jt()}function mi(t){return t.mode&1?Ke&2&&Nr!==0?Nr&-Nr:tH.transition!==null?(Tp===0&&(Tp=z3()),Tp):(t=ut,t!==0||(t=window.event,t=t===void 0?16:J3(t.type)),t):1}function ca(t,e,r,n){if(50<kd)throw kd=0,xS=null,Error(se(185));Am(t,r,n),(!(Ke&2)||t!==hr)&&(t===hr&&(!(Ke&2)&&(V0|=r),ir===4&&Xs(t,Nr)),Qr(t,n),r===1&&Ke===0&&!(e.mode&1)&&(Sc=Jt()+500,L0&&Ri()))}function Qr(t,e){var r=t.callbackNode;tW(t,e);var n=qx(t,t===hr?Nr:0);if(n===0)r!==null&&mP(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&mP(r),e===1)t.tag===0?eH(sD.bind(null,t)):pF(sD.bind(null,t)),JW(function(){!(Ke&6)&&Ri()}),r=null;else{switch(U3(n)){case 1:r=VT;break;case 4:r=q3;break;case 16:r=Bx;break;case 536870912:r=V3;break;default:r=Bx}r=m4(r,i4.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function i4(t,e){if(Ap=-1,Tp=0,Ke&6)throw Error(se(327));var r=t.callbackNode;if(rc()&&t.callbackNode!==r)return null;var n=qx(t,t===hr?Nr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=sb(t,n);else{e=n;var a=Ke;Ke|=2;var i=l4();(hr!==t||Nr!==e)&&(Xa=null,Sc=Jt()+500,To(t,e));do try{jH();break}catch(l){o4(t,l)}while(!0);tk(),rb.current=i,Ke=a,tr!==null?e=0:(hr=null,Nr=0,e=ir)}if(e!==0){if(e===2&&(a=WC(t),a!==0&&(n=a,e=bS(t,a))),e===1)throw r=bf,To(t,0),Xs(t,n),Qr(t,Jt()),r;if(e===6)Xs(t,n);else{if(a=t.current.alternate,!(n&30)&&!bH(a)&&(e=sb(t,n),e===2&&(i=WC(t),i!==0&&(n=i,e=bS(t,i))),e===1))throw r=bf,To(t,0),Xs(t,n),Qr(t,Jt()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(se(345));case 2:so(t,Ur,Xa);break;case 3:if(Xs(t,n),(n&130023424)===n&&(e=gk+500-Jt(),10<e)){if(qx(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Fr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=QC(so.bind(null,t,Ur,Xa),e);break}so(t,Ur,Xa);break;case 4:if(Xs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var o=31-la(n);i=1<<o,o=e[o],o>a&&(a=o),n&=~i}if(n=a,n=Jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xH(n/1960))-n,10<n){t.timeoutHandle=QC(so.bind(null,t,Ur,Xa),n);break}so(t,Ur,Xa);break;case 5:so(t,Ur,Xa);break;default:throw Error(se(329))}}}return Qr(t,Jt()),t.callbackNode===r?i4.bind(null,t):null}function bS(t,e){var r=Td;return t.current.memoizedState.isDehydrated&&(To(t,e).flags|=256),t=sb(t,e),t!==2&&(e=Ur,Ur=r,e!==null&&vS(e)),t}function vS(t){Ur===null?Ur=t:Ur.push.apply(Ur,t)}function bH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ha(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xs(t,e){for(e&=~pk,e&=~V0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-la(e),n=1<<r;t[r]=-1,e&=~n}}function sD(t){if(Ke&6)throw Error(se(327));rc();var e=qx(t,0);if(!(e&1))return Qr(t,Jt()),null;var r=sb(t,e);if(t.tag!==0&&r===2){var n=WC(t);n!==0&&(e=n,r=bS(t,n))}if(r===1)throw r=bf,To(t,0),Xs(t,e),Qr(t,Jt()),r;if(r===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,so(t,Ur,Xa),Qr(t,Jt()),null}function yk(t,e){var r=Ke;Ke|=1;try{return t(e)}finally{Ke=r,Ke===0&&(Sc=Jt()+500,L0&&Ri())}}function Wo(t){ei!==null&&ei.tag===0&&!(Ke&6)&&rc();var e=Ke;Ke|=1;var r=qn.transition,n=ut;try{if(qn.transition=null,ut=1,t)return t()}finally{ut=n,qn.transition=r,Ke=e,!(Ke&6)&&Ri()}}function xk(){ln=Ul.current,Ot(Ul)}function To(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,KW(r)),tr!==null)for(r=tr.return;r!==null;){var n=r;switch(ZT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hx();break;case 3:Nc(),Ot(Xr),Ot(Dr),ok();break;case 5:ik(n);break;case 4:Nc();break;case 13:Ot(Ft);break;case 19:Ot(Ft);break;case 10:rk(n.type._context);break;case 22:case 23:xk()}r=r.return}if(hr=t,tr=t=hi(t.current,null),Nr=ln=e,ir=0,bf=null,pk=V0=Uo=0,Ur=Td=null,go!==null){for(e=0;e<go.length;e++)if(r=go[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}go=null}return t}function o4(t,e){do{var r=tr;try{if(tk(),Np.current=tb,eb){for(var n=Bt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}eb=!1}if(zo=0,fr=sr=Bt=null,Sd=!1,gf=0,hk.current=null,r===null||r.return===null){ir=1,bf=e,tr=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=Nr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=HP(o);if(h!==null){h.flags&=-257,GP(h,o,l,i,e),h.mode&1&&WP(i,u,e),e=h,c=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(c),e.updateQueue=y}else p.add(c);break e}else{if(!(e&1)){WP(i,u,e),bk();break e}c=Error(se(426))}}else if(It&&l.mode&1){var x=HP(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),GP(x,o,l,i,e),QT(Cc(c,l));break e}}i=c=Cc(c,l),ir!==4&&(ir=2),Td===null?Td=[i]:Td.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=UF(i,c,e);FP(i,b);break e;case 1:l=c;var g=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(fi===null||!fi.has(j)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=WF(i,l,e);FP(i,C);break e}}i=i.return}while(i!==null)}u4(r)}catch(N){e=N,tr===r&&r!==null&&(tr=r=r.return);continue}break}while(!0)}function l4(){var t=rb.current;return rb.current=tb,t===null?tb:t}function bk(){(ir===0||ir===3||ir===2)&&(ir=4),hr===null||!(Uo&268435455)&&!(V0&268435455)||Xs(hr,Nr)}function sb(t,e){var r=Ke;Ke|=2;var n=l4();(hr!==t||Nr!==e)&&(Xa=null,To(t,e));do try{vH();break}catch(a){o4(t,a)}while(!0);if(tk(),Ke=r,rb.current=n,tr!==null)throw Error(se(261));return hr=null,Nr=0,ir}function vH(){for(;tr!==null;)c4(tr)}function jH(){for(;tr!==null&&!H9();)c4(tr)}function c4(t){var e=f4(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?u4(t):tr=e,hk.current=null}function u4(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=hH(r,e),r!==null){r.flags&=32767,tr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ir=6,tr=null;return}}else if(r=mH(r,e,ln),r!==null){tr=r;return}if(e=e.sibling,e!==null){tr=e;return}tr=e=t}while(e!==null);ir===0&&(ir=5)}function so(t,e,r){var n=ut,a=qn.transition;try{qn.transition=null,ut=1,wH(t,e,r,n)}finally{qn.transition=a,ut=n}return null}function wH(t,e,r,n){do rc();while(ei!==null);if(Ke&6)throw Error(se(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(rW(t,i),t===hr&&(tr=hr=null,Nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wh||(wh=!0,m4(Bx,function(){return rc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qn.transition,qn.transition=null;var o=ut;ut=1;var l=Ke;Ke|=4,hk.current=null,gH(t,r),a4(r,t),VW(XC),Vx=!!JC,XC=JC=null,t.current=r,yH(r),G9(),Ke=l,ut=o,qn.transition=i}else t.current=r;if(wh&&(wh=!1,ei=t,ab=a),i=t.pendingLanes,i===0&&(fi=null),J9(r.stateNode),Qr(t,Jt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(nb)throw nb=!1,t=yS,yS=null,t;return ab&1&&t.tag!==0&&rc(),i=t.pendingLanes,i&1?t===xS?kd++:(kd=0,xS=t):kd=0,Ri(),null}function rc(){if(ei!==null){var t=U3(ab),e=qn.transition,r=ut;try{if(qn.transition=null,ut=16>t?16:t,ei===null)var n=!1;else{if(t=ei,ei=null,ab=0,Ke&6)throw Error(se(331));var a=Ke;for(Ke|=4,ge=t.current;ge!==null;){var i=ge,o=i.child;if(ge.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ge=u;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:Ad(8,d,i)}var f=d.child;if(f!==null)f.return=d,ge=f;else for(;ge!==null;){d=ge;var m=d.sibling,h=d.return;if(t4(d),d===u){ge=null;break}if(m!==null){m.return=h,ge=m;break}ge=h}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ge=o;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ad(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ge=b;break e}ge=i.return}}var g=t.current;for(ge=g;ge!==null;){o=ge;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,ge=j;else e:for(o=g;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:q0(9,l)}}catch(N){zt(l,l.return,N)}if(l===o){ge=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,ge=C;break e}ge=l.return}}if(Ke=a,Ri(),Oa&&typeof Oa.onPostCommitFiberRoot=="function")try{Oa.onPostCommitFiberRoot(I0,t)}catch{}n=!0}return n}finally{ut=r,qn.transition=e}}return!1}function iD(t,e,r){e=Cc(r,e),e=UF(t,e,1),t=di(t,e,1),e=Fr(),t!==null&&(Am(t,1,e),Qr(t,e))}function zt(t,e,r){if(t.tag===3)iD(t,t,r);else for(;e!==null;){if(e.tag===3){iD(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fi===null||!fi.has(n))){t=Cc(r,t),t=WF(e,t,1),e=di(e,t,1),t=Fr(),e!==null&&(Am(e,1,t),Qr(e,t));break}}e=e.return}}function NH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fr(),t.pingedLanes|=t.suspendedLanes&r,hr===t&&(Nr&r)===r&&(ir===4||ir===3&&(Nr&130023424)===Nr&&500>Jt()-gk?To(t,0):pk|=r),Qr(t,e)}function d4(t,e){e===0&&(t.mode&1?(e=fh,fh<<=1,!(fh&130023424)&&(fh=4194304)):e=1);var r=Fr();t=ws(t,e),t!==null&&(Am(t,e,r),Qr(t,r))}function CH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),d4(t,r)}function SH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(se(314))}n!==null&&n.delete(e),d4(t,r)}var f4;f4=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xr.current)Gr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Gr=!1,fH(t,e,r);Gr=!!(t.flags&131072)}else Gr=!1,It&&e.flags&1048576&&gF(e,Kx,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Sp(t,e),t=e.pendingProps;var a=vc(e,Dr.current);tc(e,r),a=ck(null,e,n,t,a,r);var i=uk();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zr(n)?(i=!0,Gx(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ak(e),a.updater=B0,e.stateNode=a,a._reactInternals=e,iS(e,n,t,r),e=cS(null,e,n,!0,i,r)):(e.tag=0,It&&i&&XT(e),$r(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Sp(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=TH(n),t=ta(n,t),a){case 0:e=lS(null,e,n,t,r);break e;case 1:e=JP(null,e,n,t,r);break e;case 11:e=YP(null,e,n,t,r);break e;case 14:e=KP(null,e,n,ta(n.type,t),r);break e}throw Error(se(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ta(n,a),lS(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ta(n,a),JP(t,e,n,a,r);case 3:e:{if(KF(e),t===null)throw Error(se(387));n=e.pendingProps,i=e.memoizedState,a=i.element,wF(t,e),Zx(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Cc(Error(se(423)),e),e=XP(t,e,n,r,a);break e}else if(n!==a){a=Cc(Error(se(424)),e),e=XP(t,e,n,r,a);break e}else for(fn=ui(e.stateNode.containerInfo.firstChild),gn=e,It=!0,na=null,r=vF(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jc(),n===a){e=Ns(t,e,r);break e}$r(t,e,n,r)}e=e.child}return e;case 5:return NF(e),t===null&&nS(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,ZC(n,a)?o=null:i!==null&&ZC(n,i)&&(e.flags|=32),YF(t,e),$r(t,e,o,r),e.child;case 6:return t===null&&nS(e),null;case 13:return JF(t,e,r);case 4:return sk(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=wc(e,null,n,r):$r(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ta(n,a),YP(t,e,n,a,r);case 7:return $r(t,e,e.pendingProps,r),e.child;case 8:return $r(t,e,e.pendingProps.children,r),e.child;case 12:return $r(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,Nt(Jx,n._currentValue),n._currentValue=o,i!==null)if(ha(i.value,o)){if(i.children===a.children&&!Xr.current){e=Ns(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=fs(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),aS(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(se(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),aS(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$r(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,tc(e,r),a=Hn(a),n=n(a),e.flags|=1,$r(t,e,n,r),e.child;case 14:return n=e.type,a=ta(n,e.pendingProps),a=ta(n.type,a),KP(t,e,n,a,r);case 15:return HF(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ta(n,a),Sp(t,e),e.tag=1,Zr(n)?(t=!0,Gx(e)):t=!1,tc(e,r),zF(e,n,a),iS(e,n,a,r),cS(null,e,n,!0,t,r);case 19:return XF(t,e,r);case 22:return GF(t,e,r)}throw Error(se(156,e.tag))};function m4(t,e){return B3(t,e)}function AH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,r,n){return new AH(t,e,r,n)}function vk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TH(t){if(typeof t=="function")return vk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===FT)return 11;if(t===BT)return 14}return 2}function hi(t,e){var r=t.alternate;return r===null?(r=Ln(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function kp(t,e,r,n,a,i){var o=2;if(n=t,typeof t=="function")vk(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _l:return ko(r.children,a,i,e);case LT:o=8,a|=8;break;case OC:return t=Ln(12,r,e,a|2),t.elementType=OC,t.lanes=i,t;case PC:return t=Ln(13,r,e,a),t.elementType=PC,t.lanes=i,t;case DC:return t=Ln(19,r,e,a),t.elementType=DC,t.lanes=i,t;case N3:return z0(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j3:o=10;break e;case w3:o=9;break e;case FT:o=11;break e;case BT:o=14;break e;case Ws:o=16,n=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=Ln(o,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function ko(t,e,r,n){return t=Ln(7,t,n,e),t.lanes=r,t}function z0(t,e,r,n){return t=Ln(22,t,n,e),t.elementType=N3,t.lanes=r,t.stateNode={isHidden:!1},t}function lN(t,e,r){return t=Ln(6,t,null,e),t.lanes=r,t}function cN(t,e,r){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kH(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zw(0),this.expirationTimes=zw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function jk(t,e,r,n,a,i,o,l,c){return t=new kH(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ln(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ak(i),t}function EH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function h4(t){if(!t)return Ai;t=t._reactInternals;e:{if(nl(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var r=t.type;if(Zr(r))return hF(t,r,e)}return e}function p4(t,e,r,n,a,i,o,l,c){return t=jk(r,n,!0,t,a,i,o,l,c),t.context=h4(null),r=t.current,n=Fr(),a=mi(r),i=fs(n,a),i.callback=e??null,di(r,i,a),t.current.lanes=a,Am(t,a,n),Qr(t,n),t}function U0(t,e,r,n){var a=e.current,i=Fr(),o=mi(a);return r=h4(r),e.context===null?e.context=r:e.pendingContext=r,e=fs(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=di(a,e,o),t!==null&&(ca(t,a,o,i),wp(t,a,o)),o}function ib(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function wk(t,e){oD(t,e),(t=t.alternate)&&oD(t,e)}function OH(){return null}var g4=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nk(t){this._internalRoot=t}W0.prototype.render=Nk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));U0(t,e,null,null)};W0.prototype.unmount=Nk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wo(function(){U0(null,t,null,null)}),e[js]=null}};function W0(t){this._internalRoot=t}W0.prototype.unstable_scheduleHydration=function(t){if(t){var e=G3();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Js.length&&e!==0&&e<Js[r].priority;r++);Js.splice(r,0,t),r===0&&K3(t)}};function Ck(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function H0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lD(){}function PH(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ib(o);i.call(u)}}var o=p4(e,n,t,0,null,!1,!1,"",lD);return t._reactRootContainer=o,t[js]=o.current,df(t.nodeType===8?t.parentNode:t),Wo(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ib(c);l.call(u)}}var c=jk(t,0,!1,null,null,!1,!1,"",lD);return t._reactRootContainer=c,t[js]=c.current,df(t.nodeType===8?t.parentNode:t),Wo(function(){U0(e,c,r,n)}),c}function G0(t,e,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ib(o);l.call(c)}}U0(e,o,t,a)}else o=PH(r,e,t,a,n);return ib(o)}W3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=id(e.pendingLanes);r!==0&&(zT(e,r|1),Qr(e,Jt()),!(Ke&6)&&(Sc=Jt()+500,Ri()))}break;case 13:Wo(function(){var n=ws(t,1);if(n!==null){var a=Fr();ca(n,t,1,a)}}),wk(t,1)}};UT=function(t){if(t.tag===13){var e=ws(t,134217728);if(e!==null){var r=Fr();ca(e,t,134217728,r)}wk(t,134217728)}};H3=function(t){if(t.tag===13){var e=mi(t),r=ws(t,e);if(r!==null){var n=Fr();ca(r,t,e,n)}wk(t,e)}};G3=function(){return ut};Y3=function(t,e){var r=ut;try{return ut=t,e()}finally{ut=r}};VC=function(t,e,r){switch(e){case"input":if($C(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=M0(n);if(!a)throw Error(se(90));S3(n),$C(n,a)}}}break;case"textarea":T3(t,r);break;case"select":e=r.value,e!=null&&Xl(t,!!r.multiple,e,!1)}};_3=yk;$3=Wo;var DH={usingClientEntryPoint:!1,Events:[km,Ll,M0,D3,I3,yk]},Iu={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IH={bundleType:Iu.bundleType,version:Iu.version,rendererPackageName:Iu.rendererPackageName,rendererConfig:Iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=L3(t),t===null?null:t.stateNode},findFiberByHostInstance:Iu.findFiberByHostInstance||OH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{I0=Nh.inject(IH),Oa=Nh}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DH;An.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ck(e))throw Error(se(200));return EH(t,e,null,r)};An.createRoot=function(t,e){if(!Ck(t))throw Error(se(299));var r=!1,n="",a=g4;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=jk(t,1,!1,null,null,r,!1,n,a),t[js]=e.current,df(t.nodeType===8?t.parentNode:t),new Nk(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=L3(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return Wo(t)};An.hydrate=function(t,e,r){if(!H0(e))throw Error(se(200));return G0(null,t,e,!0,r)};An.hydrateRoot=function(t,e,r){if(!Ck(t))throw Error(se(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=g4;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=p4(e,null,t,1,r??null,a,!1,i,o),t[js]=e.current,df(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new W0(e)};An.render=function(t,e,r){if(!H0(e))throw Error(se(200));return G0(null,t,e,!1,r)};An.unmountComponentAtNode=function(t){if(!H0(t))throw Error(se(40));return t._reactRootContainer?(Wo(function(){G0(null,null,t,!1,function(){t._reactRootContainer=null,t[js]=null})}),!0):!1};An.unstable_batchedUpdates=yk;An.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!H0(r))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return G0(t,e,r,!1,n)};An.version="18.3.1-next-f1338f8080-20240426";function y4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y4)}catch(t){console.error(t)}}y4(),y3.exports=An;var Y0=y3.exports,cD=Y0;kC.createRoot=cD.createRoot,kC.hydrateRoot=cD.hydrateRoot;var x4={exports:{}},b4={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om=v;function _H(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $H=typeof Object.is=="function"?Object.is:_H,RH=Om.useSyncExternalStore,MH=Om.useRef,LH=Om.useEffect,FH=Om.useMemo,BH=Om.useDebugValue;b4.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var i=MH(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=FH(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&o.hasValue){var p=o.value;if(a(p,h))return f=p}return f=h}if(p=f,$H(d,h))return p;var y=n(h);return a!==void 0&&a(p,y)?(d=h,p):(d=h,f=y)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,a]);var l=RH(t,i[0],i[1]);return LH(function(){o.hasValue=!0,o.value=l},[l]),BH(l),l};x4.exports=b4;var qH=x4.exports;function VH(t){t()}function zH(){let t=null,e=null;return{clear(){t=null,e=null},notify(){VH(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var uD={notify(){},get:()=>[]};function UH(t,e){let r,n=uD,a=0,i=!1;function o(y){d();const x=n.subscribe(y);let b=!1;return()=>{b||(b=!0,x(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){a++,r||(r=t.subscribe(c),n=zH())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=uD)}function m(){i||(i=!0,d())}function h(){i&&(i=!1,f())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return p}var WH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HH=WH(),GH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",YH=GH(),KH=()=>HH||YH?v.useLayoutEffect:v.useEffect,JH=KH(),uN=Symbol.for("react-redux-context"),dN=typeof globalThis<"u"?globalThis:{};function XH(){if(!v.createContext)return{};const t=dN[uN]??(dN[uN]=new Map);let e=t.get(v.createContext);return e||(e=v.createContext(null),t.set(v.createContext,e)),e}var Ti=XH();function ZH(t){const{children:e,context:r,serverState:n,store:a}=t,i=v.useMemo(()=>{const c=UH(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=v.useMemo(()=>a.getState(),[a]);JH(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||Ti;return v.createElement(l.Provider,{value:i},e)}var QH=ZH;function Sk(t=Ti){return function(){return v.useContext(t)}}var v4=Sk();function j4(t=Ti){const e=t===Ti?v4:Sk(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var eG=j4();function tG(t=Ti){const e=t===Ti?eG:j4(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var ce=tG(),rG=(t,e)=>t===e;function nG(t=Ti){const e=t===Ti?v4:Sk(t),r=(n,a={})=>{const{equalityFn:i=rG}=typeof a=="function"?{equalityFn:a}:a,o=e(),{store:l,subscription:c,getServerState:u}=o;v.useRef(!0);const d=v.useCallback({[n.name](m){return n(m)}}[n.name],[n]),f=qH.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,i);return v.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var W=nG();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vf.apply(this,arguments)}var ti;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ti||(ti={}));const dD="popstate";function aG(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:o,hash:l}=n.location;return jS("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ob(a)}return iG(e,r,null,t)}function Qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function w4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sG(){return Math.random().toString(36).substr(2,8)}function fD(t,e){return{usr:t.state,key:t.key,idx:e}}function jS(t,e,r,n){return r===void 0&&(r=null),vf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?au(e):e,{state:r,key:e&&e.key||n||sG()})}function ob(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function au(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function iG(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=ti.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(vf({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ti.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:b})}function m(x,b){l=ti.Push;let g=jS(y.location,x,b);u=d()+1;let j=fD(g,u),C=y.createHref(g);try{o.pushState(j,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(C)}i&&c&&c({action:l,location:y.location,delta:1})}function h(x,b){l=ti.Replace;let g=jS(y.location,x,b);u=d();let j=fD(g,u),C=y.createHref(g);o.replaceState(j,"",C),i&&c&&c({action:l,location:y.location,delta:0})}function p(x){let b=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof x=="string"?x:ob(x);return g=g.replace(/ $/,"%20"),Qt(b,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,b)}let y={get action(){return l},get location(){return t(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(dD,f),c=x,()=>{a.removeEventListener(dD,f),c=null}},createHref(x){return e(a,x)},createURL:p,encodeLocation(x){let b=p(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:h,go(x){return o.go(x)}};return y}var mD;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mD||(mD={}));function oG(t,e,r){return r===void 0&&(r="/"),lG(t,e,r)}function lG(t,e,r,n){let a=typeof e=="string"?au(e):e,i=Ak(a.pathname||"/",r);if(i==null)return null;let o=N4(t);cG(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=jG(i);l=xG(o[c],u)}return l}function N4(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Qt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=pi([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Qt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),N4(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:gG(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of C4(i.path))a(i,o,c)}),e}function C4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=C4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function cG(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:yG(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const uG=/^:[\w-]+$/,dG=3,fG=2,mG=1,hG=10,pG=-2,hD=t=>t==="*";function gG(t,e){let r=t.split("/"),n=r.length;return r.some(hD)&&(n+=pG),e&&(n+=fG),r.filter(a=>!hD(a)).reduce((a,i)=>a+(uG.test(i)?dG:i===""?mG:hG),n)}function yG(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function xG(t,e,r){let{routesMeta:n}=t,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=bG({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:pi([i,f.pathname]),pathnameBase:SG(pi([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=pi([i,f.pathnameBase]))}return o}function bG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=vG(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let y=l[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[f];return h&&!p?u[m]=void 0:u[m]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function vG(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),w4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function jG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return w4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ak(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function wG(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?au(t):t;return{pathname:r?r.startsWith("/")?r:NG(r,e):e,search:AG(n),hash:TG(a)}}function NG(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function fN(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CG(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Tk(t,e){let r=CG(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function kk(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=au(t):(a=vf({},t),Qt(!a.pathname||!a.pathname.includes("?"),fN("?","pathname","search",a)),Qt(!a.pathname||!a.pathname.includes("#"),fN("#","pathname","hash",a)),Qt(!a.search||!a.search.includes("#"),fN("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=wG(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const pi=t=>t.join("/").replace(/\/\/+/g,"/"),SG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const S4=["post","put","patch","delete"];new Set(S4);const EG=["get",...S4];new Set(EG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jf(){return jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jf.apply(this,arguments)}const Ek=v.createContext(null),OG=v.createContext(null),Mi=v.createContext(null),K0=v.createContext(null),Is=v.createContext({outlet:null,matches:[],isDataRoute:!1}),A4=v.createContext(null);function PG(t,e){let{relative:r}=e===void 0?{}:e;su()||Qt(!1);let{basename:n,navigator:a}=v.useContext(Mi),{hash:i,pathname:o,search:l}=k4(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:pi([n,o])),a.createHref({pathname:c,search:l,hash:i})}function su(){return v.useContext(K0)!=null}function Li(){return su()||Qt(!1),v.useContext(K0).location}function T4(t){v.useContext(Mi).static||v.useLayoutEffect(t)}function J0(){let{isDataRoute:t}=v.useContext(Is);return t?HG():DG()}function DG(){su()||Qt(!1);let t=v.useContext(Ek),{basename:e,future:r,navigator:n}=v.useContext(Mi),{matches:a}=v.useContext(Is),{pathname:i}=Li(),o=JSON.stringify(Tk(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return T4(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=kk(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:pi([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,i,t])}const IG=v.createContext(null);function _G(t){let e=v.useContext(Is).outlet;return e&&v.createElement(IG.Provider,{value:t},e)}function k4(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=v.useContext(Mi),{matches:a}=v.useContext(Is),{pathname:i}=Li(),o=JSON.stringify(Tk(a,n.v7_relativeSplatPath));return v.useMemo(()=>kk(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function $G(t,e){return RG(t,e)}function RG(t,e,r,n){su()||Qt(!1);let{navigator:a}=v.useContext(Mi),{matches:i}=v.useContext(Is),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Li(),d;if(e){var f;let x=typeof e=="string"?au(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Qt(!1),d=x}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=oG(t,{pathname:h}),y=qG(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:pi([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:pi([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return e&&y?v.createElement(K0.Provider,{value:{location:jf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ti.Pop}},y):y}function MG(){let t=WG(),e=kG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:a},r):null,null)}const LG=v.createElement(MG,null);class FG extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(Is.Provider,{value:this.props.routeContext},v.createElement(A4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BG(t){let{routeContext:e,match:r,children:n}=t,a=v.useContext(Ek);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Is.Provider,{value:e},n)}function qG(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Qt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,p=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let h,p=!1,y=null,x=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||LG,c&&(u<0&&m===0?(GG("route-fallback"),p=!0,x=null):u===m&&(p=!0,x=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,m+1)),g=()=>{let j;return h?j=y:p?j=x:f.route.Component?j=v.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,v.createElement(BG,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?v.createElement(FG,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}var E4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(E4||{}),O4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(O4||{});function VG(t){let e=v.useContext(Ek);return e||Qt(!1),e}function zG(t){let e=v.useContext(OG);return e||Qt(!1),e}function UG(t){let e=v.useContext(Is);return e||Qt(!1),e}function P4(t){let e=UG(),r=e.matches[e.matches.length-1];return r.route.id||Qt(!1),r.route.id}function WG(){var t;let e=v.useContext(A4),r=zG(),n=P4();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function HG(){let{router:t}=VG(E4.UseNavigateStable),e=P4(O4.UseNavigateStable),r=v.useRef(!1);return T4(()=>{r.current=!0}),v.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,jf({fromRouteId:e},i)))},[t,e])}const pD={};function GG(t,e,r){pD[t]||(pD[t]=!0)}function YG(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jl(t){let{to:e,replace:r,state:n,relative:a}=t;su()||Qt(!1);let{future:i,static:o}=v.useContext(Mi),{matches:l}=v.useContext(Is),{pathname:c}=Li(),u=J0(),d=kk(e,Tk(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function D4(t){return _G(t.context)}function ae(t){Qt(!1)}function KG(t){let{basename:e="/",children:r=null,location:n,navigationType:a=ti.Pop,navigator:i,static:o=!1,future:l}=t;su()&&Qt(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:o,future:jf({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=au(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:p="default"}=n,y=v.useMemo(()=>{let x=Ak(d,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:h,key:p},navigationType:a}},[c,d,f,m,h,p,a]);return y==null?null:v.createElement(Mi.Provider,{value:u},v.createElement(K0.Provider,{children:r,value:y}))}function JG(t){let{children:e,location:r}=t;return $G(wS(e),r)}new Promise(()=>{});function wS(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,a)=>{if(!v.isValidElement(n))return;let i=[...e,a];if(n.type===v.Fragment){r.push.apply(r,wS(n.props.children,i));return}n.type!==ae&&Qt(!1),!n.props.index||!n.props.children||Qt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=wS(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NS.apply(this,arguments)}function XG(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function ZG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QG(t,e){return t.button===0&&(!e||e==="_self")&&!ZG(t)}const eY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tY="6";try{window.__reactRouterVersion=tY}catch{}const rY="startTransition",gD=Ci[rY];function nY(t){let{basename:e,children:r,future:n,window:a}=t,i=v.useRef();i.current==null&&(i.current=aG({window:a,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=v.useCallback(f=>{u&&gD?gD(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>YG(n),[n]),v.createElement(KG,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const aY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nc=v.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=XG(e,eY),{basename:h}=v.useContext(Mi),p,y=!1;if(typeof u=="string"&&sY.test(u)&&(p=u,aY))try{let j=new URL(window.location.href),C=u.startsWith("//")?new URL(j.protocol+u):new URL(u),N=Ak(C.pathname,h);C.origin===j.origin&&N!=null?u=N+C.search+C.hash:y=!0}catch{}let x=PG(u,{relative:a}),b=iY(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function g(j){n&&n(j),j.defaultPrevented||b(j)}return v.createElement("a",NS({},m,{href:p||x,onClick:y||i?n:g,ref:r,target:c}))});var yD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yD||(yD={}));var xD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xD||(xD={}));function iY(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=J0(),u=Li(),d=k4(t,{relative:o});return v.useCallback(f=>{if(QG(f,r)){f.preventDefault();let m=n!==void 0?n:ob(u)===ob(d);c(t,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,t,i,o,l])}function yr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var oY=typeof Symbol=="function"&&Symbol.observable||"@@observable",bD=oY,mN=()=>Math.random().toString(36).substring(7).split("").join("."),lY={INIT:`@@redux/INIT${mN()}`,REPLACE:`@@redux/REPLACE${mN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mN()}`},lb=lY;function Ok(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function I4(t,e,r){if(typeof t!="function")throw new Error(yr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(yr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(yr(1));return r(I4)(t,e)}let n=t,a=e,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((x,b)=>{o.set(b,x)}))}function d(){if(c)throw new Error(yr(3));return a}function f(x){if(typeof x!="function")throw new Error(yr(4));if(c)throw new Error(yr(5));let b=!0;u();const g=l++;return o.set(g,x),function(){if(b){if(c)throw new Error(yr(6));b=!1,u(),o.delete(g),i=null}}}function m(x){if(!Ok(x))throw new Error(yr(7));if(typeof x.type>"u")throw new Error(yr(8));if(typeof x.type!="string")throw new Error(yr(17));if(c)throw new Error(yr(9));try{c=!0,a=n(a,x)}finally{c=!1}return(i=o).forEach(g=>{g()}),x}function h(x){if(typeof x!="function")throw new Error(yr(10));n=x,m({type:lb.REPLACE})}function p(){const x=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(yr(11));function g(){const C=b;C.next&&C.next(d())}return g(),{unsubscribe:x(g)}},[bD](){return this}}}return m({type:lb.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[bD]:p}}function cY(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:lb.INIT})>"u")throw new Error(yr(12));if(typeof r(void 0,{type:lb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yr(13))})}function uY(t){const e=Object.keys(t),r={};for(let i=0;i<e.length;i++){const o=e[i];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let a;try{cY(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=o[f],p=m(h,l);if(typeof p>"u")throw l&&l.type,new Error(yr(14));u[f]=p,c=c||p!==h}return c=c||n.length!==Object.keys(o).length,c?u:o}}function cb(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function dY(...t){return e=>(r,n)=>{const a=e(r,n);let i=()=>{throw new Error(yr(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=t.map(c=>c(o));return i=cb(...l)(a.dispatch),{...a,dispatch:i}}}function fY(t){return Ok(t)&&"type"in t&&typeof t.type=="string"}var _4=Symbol.for("immer-nothing"),vD=Symbol.for("immer-draftable"),vn=Symbol.for("immer-state");function aa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ac=Object.getPrototypeOf;function Ho(t){return!!t&&!!t[vn]}function Cs(t){var e;return t?$4(t)||Array.isArray(t)||!!t[vD]||!!((e=t.constructor)!=null&&e[vD])||Z0(t)||Q0(t):!1}var mY=Object.prototype.constructor.toString();function $4(t){if(!t||typeof t!="object")return!1;const e=Ac(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===mY}function ub(t,e){X0(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function X0(t){const e=t[vn];return e?e.type_:Array.isArray(t)?1:Z0(t)?2:Q0(t)?3:0}function CS(t,e){return X0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function R4(t,e,r){const n=X0(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function hY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Z0(t){return t instanceof Map}function Q0(t){return t instanceof Set}function io(t){return t.copy_||t.base_}function SS(t,e){if(Z0(t))return new Map(t);if(Q0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=$4(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[vn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(Ac(t),n)}else{const n=Ac(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function Pk(t,e=!1){return ev(t)||Ho(t)||!Cs(t)||(X0(t)>1&&(t.set=t.add=t.clear=t.delete=pY),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>Pk(n,!0))),t}function pY(){aa(2)}function ev(t){return Object.isFrozen(t)}var gY={};function Go(t){const e=gY[t];return e||aa(0,t),e}var wf;function M4(){return wf}function yY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jD(t,e){e&&(Go("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function AS(t){TS(t),t.drafts_.forEach(xY),t.drafts_=null}function TS(t){t===wf&&(wf=t.parent_)}function wD(t){return wf=yY(wf,t)}function xY(t){const e=t[vn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ND(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[vn].modified_&&(AS(e),aa(4)),Cs(t)&&(t=db(e,t),e.parent_||fb(e,t)),e.patches_&&Go("Patches").generateReplacementPatches_(r[vn].base_,t,e.patches_,e.inversePatches_)):t=db(e,r,[]),AS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==_4?t:void 0}function db(t,e,r){if(ev(e))return e;const n=e[vn];if(!n)return ub(e,(a,i)=>CD(t,n,e,a,i,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return fb(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),ub(i,(l,c)=>CD(t,n,a,l,c,r,o)),fb(t,a,!1),r&&t.patches_&&Go("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function CD(t,e,r,n,a,i,o){if(Ho(a)){const l=i&&e&&e.type_!==3&&!CS(e.assigned_,n)?i.concat(n):void 0,c=db(t,a,l);if(R4(r,n,c),Ho(c))t.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Cs(a)&&!ev(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;db(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&fb(t,a)}}function fb(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Pk(e,r)}function bY(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:M4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Dk;r&&(a=[n],i=Nf);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var Dk={get(t,e){if(e===vn)return t;const r=io(t);if(!CS(r,e))return vY(t,r,e);const n=r[e];return t.finalized_||!Cs(n)?n:n===hN(t.base_,e)?(pN(t),t.copy_[e]=ES(n,t)):n},has(t,e){return e in io(t)},ownKeys(t){return Reflect.ownKeys(io(t))},set(t,e,r){const n=L4(io(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=hN(io(t),e),i=a==null?void 0:a[vn];if(i&&i.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(hY(r,a)&&(r!==void 0||CS(t.base_,e)))return!0;pN(t),kS(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return hN(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,pN(t),kS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=io(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){aa(11)},getPrototypeOf(t){return Ac(t.base_)},setPrototypeOf(){aa(12)}},Nf={};ub(Dk,(t,e)=>{Nf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Nf.deleteProperty=function(t,e){return Nf.set.call(this,t,e,void 0)};Nf.set=function(t,e,r){return Dk.set.call(this,t[0],e,r,t[0])};function hN(t,e){const r=t[vn];return(r?io(r):t)[e]}function vY(t,e,r){var a;const n=L4(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function L4(t,e){if(!(e in t))return;let r=Ac(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Ac(r)}}function kS(t){t.modified_||(t.modified_=!0,t.parent_&&kS(t.parent_))}function pN(t){t.copy_||(t.copy_=SS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var jY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const i=r;r=e;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&aa(6),n!==void 0&&typeof n!="function"&&aa(7);let a;if(Cs(e)){const i=wD(this),o=ES(e,void 0);let l=!0;try{a=r(o),l=!1}finally{l?AS(i):TS(i)}return jD(i,n),ND(a,i)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===_4&&(a=void 0),this.autoFreeze_&&Pk(a,!0),n){const i=[],o=[];Go("Patches").generateReplacementPatches_(e,a,i,o),n(i,o)}return a}else aa(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let n,a;return[this.produce(e,r,(o,l)=>{n=o,a=l}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Cs(t)||aa(8),Ho(t)&&(t=wY(t));const e=wD(this),r=ES(t,void 0);return r[vn].isManual_=!0,TS(e),r}finishDraft(t,e){const r=t&&t[vn];(!r||!r.isManual_)&&aa(9);const{scope_:n}=r;return jD(n,e),ND(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=Go("Patches").applyPatches_;return Ho(t)?n(t,e):this.produce(t,a=>n(a,e))}};function ES(t,e){const r=Z0(t)?Go("MapSet").proxyMap_(t,e):Q0(t)?Go("MapSet").proxySet_(t,e):bY(t,e);return(e?e.scope_:M4()).drafts_.push(r),r}function wY(t){return Ho(t)||aa(10,t),F4(t)}function F4(t){if(!Cs(t)||ev(t))return t;const e=t[vn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=SS(t,e.scope_.immer_.useStrictShallowCopy_)}else r=SS(t,!0);return ub(r,(n,a)=>{R4(r,n,F4(a))}),e&&(e.finalized_=!1),r}var jn=new jY,B4=jn.produce;jn.produceWithPatches.bind(jn);jn.setAutoFreeze.bind(jn);jn.setUseStrictShallowCopy.bind(jn);jn.applyPatches.bind(jn);jn.createDraft.bind(jn);jn.finishDraft.bind(jn);function q4(t){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,t):a(i)}var NY=q4(),CY=q4,SY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cb:cb.apply(null,arguments)},AY=t=>t&&typeof t.match=="function";function Ed(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(ms(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>fY(n)&&n.type===t,r}var V4=class ld extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ld.prototype)}static get[Symbol.species](){return ld}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ld(...e[0].concat(this)):new ld(...e.concat(this))}};function SD(t){return Cs(t)?B4(t,()=>{}):t}function Ch(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function TY(t){return typeof t=="boolean"}var kY=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=e??{};let o=new V4;return r&&(TY(r)?o.push(NY):o.push(CY(r.extraArgument))),o},EY="RTK_autoBatch",AD=t=>e=>{setTimeout(e,t)},OY=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,i=!1,o=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:AD(10):t.type==="callback"?t.queueNotification:AD(t.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[EY]),i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},PY=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new V4(t);return n&&a.push(OY(typeof n=="object"?n:void 0)),a};function DY(t){const e=kY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(Ok(r))l=uY(r);else throw new Error(ms(1));let c;typeof n=="function"?c=n(e):c=e();let u=cb;a&&(u=SY({trace:!1,...typeof a=="object"&&a}));const d=dY(...c),f=PY(d);let m=typeof o=="function"?o(f):f();const h=u(...m);return I4(l,i,h)}function z4(t){const e={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(ms(28));if(l in e)throw new Error(ms(29));return e[l]=o,a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return t(a),[e,r,n]}function IY(t){return typeof t=="function"}function _Y(t,e){let[r,n,a]=z4(e),i;if(IY(t))i=()=>SD(t());else{const l=SD(t);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Ho(d)){const h=f(d,c);return h===void 0?d:h}else{if(Cs(d))return B4(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return o.getInitialState=i,o}var $Y=(t,e)=>AY(t)?t.match(e):t(e);function RY(...t){return e=>t.some(r=>$Y(r,e))}var MY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",LY=(t=21)=>{let e="",r=t;for(;r--;)e+=MY[Math.random()*64|0];return e},FY=["name","message","stack","code"],gN=class{constructor(t,e){de(this,"_type");this.payload=t,this.meta=e}},TD=class{constructor(t,e){de(this,"_type");this.payload=t,this.meta=e}},BY=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of FY)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},kD="External signal was aborted",L=(()=>{function t(e,r,n){const a=Ed(e+"/fulfilled",(c,u,d,f)=>({payload:c,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),i=Ed(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),o=Ed(e+"/rejected",(c,u,d,f,m)=>({payload:f,error:(n&&n.serializeError||BY)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,f,m)=>{const h=n!=null&&n.idGenerator?n.idGenerator(c):LY(),p=new AbortController;let y,x;function b(j){x=j,p.abort()}u&&(u.aborted?b(kD):u.addEventListener("abort",()=>b(kD),{once:!0}));const g=async function(){var N,w;let j;try{let S=(N=n==null?void 0:n.condition)==null?void 0:N.call(n,c,{getState:f,extra:m});if(VY(S)&&(S=await S),S===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const T=new Promise((k,E)=>{y=()=>{E({name:"AbortError",message:x||"Aborted"})},p.signal.addEventListener("abort",y)});d(i(h,c,(w=n==null?void 0:n.getPendingMeta)==null?void 0:w.call(n,{requestId:h,arg:c},{getState:f,extra:m}))),j=await Promise.race([T,Promise.resolve(r(c,{dispatch:d,getState:f,extra:m,requestId:h,signal:p.signal,abort:b,rejectWithValue:(k,E)=>new gN(k,E),fulfillWithValue:(k,E)=>new TD(k,E)})).then(k=>{if(k instanceof gN)throw k;return k instanceof TD?a(k.payload,h,c,k.meta):a(k,h,c)})])}catch(S){j=S instanceof gN?o(null,h,c,S.payload,S.meta):o(S,h,c)}finally{y&&p.signal.removeEventListener("abort",y)}return n&&!n.dispatchConditionRejection&&o.match(j)&&j.meta.condition||d(j),j}();return Object.assign(g,{abort:b,requestId:h,arg:c,unwrap(){return g.then(qY)}})}}return Object.assign(l,{pending:i,rejected:o,fulfilled:a,settled:RY(o,a),typePrefix:e})}return t.withTypes=()=>t,t})();function qY(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function VY(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var zY=Symbol.for("rtk-slice-createasyncthunk");function UY(t,e){return`${t}/${e}`}function WY({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[zY];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(ms(11));const l=(typeof a.reducers=="function"?a.reducers(GY()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(C,N){const w=typeof C=="string"?C:C.type;if(!w)throw new Error(ms(12));if(w in u.sliceCaseReducersByType)throw new Error(ms(13));return u.sliceCaseReducersByType[w]=N,d},addMatcher(C,N){return u.sliceMatchers.push({matcher:C,reducer:N}),d},exposeAction(C,N){return u.actionCreators[C]=N,d},exposeCaseReducer(C,N){return u.sliceCaseReducersByName[C]=N,d}};c.forEach(C=>{const N=l[C],w={reducerName:C,type:UY(i,C),createNotation:typeof a.reducers=="function"};KY(N)?XY(w,N,d,e):YY(w,N,d)});function f(){const[C={},N=[],w=void 0]=typeof a.extraReducers=="function"?z4(a.extraReducers):[a.extraReducers],S={...C,...u.sliceCaseReducersByType};return _Y(a.initialState,T=>{for(let k in S)T.addCase(k,S[k]);for(let k of u.sliceMatchers)T.addMatcher(k.matcher,k.reducer);for(let k of N)T.addMatcher(k.matcher,k.reducer);w&&T.addDefaultCase(w)})}const m=C=>C,h=new Map,p=new WeakMap;let y;function x(C,N){return y||(y=f()),y(C,N)}function b(){return y||(y=f()),y.getInitialState()}function g(C,N=!1){function w(T){let k=T[C];return typeof k>"u"&&N&&(k=Ch(p,w,b)),k}function S(T=m){const k=Ch(h,N,()=>new WeakMap);return Ch(k,T,()=>{const E={};for(const[O,M]of Object.entries(a.selectors??{}))E[O]=HY(M,T,()=>Ch(p,T,b),N);return E})}return{reducerPath:C,getSelectors:S,get selectors(){return S(w)},selectSlice:w}}const j={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...g(o),injectInto(C,{reducerPath:N,...w}={}){const S=N??o;return C.inject({reducerPath:S,reducer:x},w),{...j,...g(S,!0)}}};return j}}function HY(t,e,r,n){function a(i,...o){let l=e(i);return typeof l>"u"&&n&&(l=r()),t(l,...o)}return a.unwrapped=t,a}var me=WY();function GY(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function YY({type:t,reducerName:e,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!JY(n))throw new Error(ms(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,o?Ed(t,o):Ed(t))}function KY(t){return t._reducerDefinitionType==="asyncThunk"}function JY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function XY({type:t,reducerName:e},r,n,a){if(!a)throw new Error(ms(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=a(t,i,d);n.exposeAction(e,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:o||Sh,pending:l||Sh,rejected:c||Sh,settled:u||Sh})}function Sh(){}function ms(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const ZY="https://staging-engine.testthelink.online",QY=async(t,e)=>{var r;try{const n=await fetch(`${ZY}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,password:e})}),a=await n.json();if(!n.ok||!a.token)throw new Error(a.message||((r=a.errors)==null?void 0:r.general)||"Login failed");return localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),a.user}catch(n){throw new Error(n.message)}},eK=async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),null),tK=async t=>new Promise((e,r)=>{setTimeout(()=>{if(t){const n=localStorage.getItem("user");n?e(JSON.parse(n)):r(new Error("User not found"))}else r(new Error("Invalid token"))},500)}),rK=async(t,e)=>new Promise((r,n)=>{setTimeout(()=>{t==="password"?r({success:!0,message:"Password changed successfully"}):n(new Error("Current password is incorrect"))},800)}),tv={login:QY,logout:eK,fetchUserProfile:tK,changePassword:rK},nK={user:null,isAuthenticated:!1,isLoading:!1,error:null},Ep=L("auth/login",async({username:t,password:e},r)=>{try{return await tv.login(t,e)}catch(n){return r.rejectWithValue(n.message)}}),U4=L("auth/logout",async(t,e)=>{try{return await tv.logout(),null}catch(r){return e.rejectWithValue(r.message)}}),yN=L("auth/changePassword",async({currentPassword:t,newPassword:e},r)=>{try{return await tv.changePassword(t,e)}catch(n){return r.rejectWithValue(n.message)}}),Op=L("auth/fetchUserProfile",async(t,e)=>{try{return await tv.fetchUserProfile(t)}catch(r){return e.rejectWithValue(r.message)}}),W4=me({name:"auth",initialState:nK,reducers:{resetAuthState:t=>{t.error=null}},extraReducers:t=>{t.addCase(Ep.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ep.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(Ep.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(U4.fulfilled,e=>{e.user=null,e.isAuthenticated=!1}).addCase(Op.pending,e=>{e.isLoading=!0}).addCase(Op.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(Op.rejected,e=>{e.isLoading=!1,e.isAuthenticated=!1}).addCase(yN.pending,e=>{e.isLoading=!0}).addCase(yN.fulfilled,e=>{e.isLoading=!1}).addCase(yN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetAuthState:X7e}=W4.actions,aK=W4.reducer;let sK={data:""},iK=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||sK,oK=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,lK=/\/\*[^]*?\*\/|  +/g,ED=/\n+/g,Zs=(t,e)=>{let r="",n="",a="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Zs(o,i):i+"{"+Zs(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=Zs(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Zs.p?Zs.p(i,o):i+":"+o+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Wa={},H4=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+H4(t[r]);return e}return t},cK=(t,e,r,n,a)=>{let i=H4(t),o=Wa[i]||(Wa[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Wa[o]){let c=i!==t?t:(u=>{let d,f,m=[{}];for(;d=oK.exec(u.replace(lK,""));)d[4]?m.shift():d[3]?(f=d[3].replace(ED," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(ED," ").trim();return m[0]})(t);Wa[o]=Zs(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&Wa.g?Wa.g:null;return r&&(Wa.g=Wa[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Wa[o],e,n,l),o},uK=(t,e,r)=>t.reduce((n,a,i)=>{let o=e[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Zs(l,""):l===!1?"":l}return n+a+(o??"")},"");function rv(t){let e=this||{},r=t.call?t(e.p):t;return cK(r.unshift?r.raw?uK(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,iK(e.target),e.g,e.o,e.k)}let G4,OS,PS;rv.bind({g:1});let Ss=rv.bind({k:1});function dK(t,e,r,n){Zs.p=e,G4=t,OS=r,PS=n}function Fi(t,e){let r=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;r.p=Object.assign({theme:OS&&OS()},l),r.o=/ *go\d+/.test(c),l.className=rv.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),PS&&u[0]&&PS(l),G4(u,l)}return a}}var fK=t=>typeof t=="function",mb=(t,e)=>fK(t)?t(e):t,mK=(()=>{let t=0;return()=>(++t).toString()})(),Y4=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),hK=20,K4=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,hK)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:r}=e;return K4(t,{type:t.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},Pp=[],xo={toasts:[],pausedAt:void 0},al=t=>{xo=K4(xo,t),Pp.forEach(e=>{e(xo)})},pK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},gK=(t={})=>{let[e,r]=v.useState(xo),n=v.useRef(xo);v.useEffect(()=>(n.current!==xo&&r(xo),Pp.push(r),()=>{let i=Pp.indexOf(r);i>-1&&Pp.splice(i,1)}),[]);let a=e.toasts.map(i=>{var o,l,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((l=t[i.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||pK[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:a}},yK=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||mK()}),Pm=t=>(e,r)=>{let n=yK(e,t,r);return al({type:2,toast:n}),n.id},Me=(t,e)=>Pm("blank")(t,e);Me.error=Pm("error");Me.success=Pm("success");Me.loading=Pm("loading");Me.custom=Pm("custom");Me.dismiss=t=>{al({type:3,toastId:t})};Me.remove=t=>al({type:4,toastId:t});Me.promise=(t,e,r)=>{let n=Me.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?mb(e.success,a):void 0;return i?Me.success(i,{id:n,...r,...r==null?void 0:r.success}):Me.dismiss(n),a}).catch(a=>{let i=e.error?mb(e.error,a):void 0;i?Me.error(i,{id:n,...r,...r==null?void 0:r.error}):Me.dismiss(n)}),t};var xK=(t,e)=>{al({type:1,toast:{id:t,height:e}})},bK=()=>{al({type:5,time:Date.now()})},Od=new Map,vK=1e3,jK=(t,e=vK)=>{if(Od.has(t))return;let r=setTimeout(()=>{Od.delete(t),al({type:4,toastId:t})},e);Od.set(t,r)},wK=t=>{let{toasts:e,pausedAt:r}=gK(t);v.useEffect(()=>{if(r)return;let i=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&Me.dismiss(l.id);return}return setTimeout(()=>Me.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=v.useCallback(()=>{r&&al({type:6,time:Date.now()})},[r]),a=v.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=e.filter(h=>(h.position||u)===(i.position||u)&&h.height),f=d.findIndex(h=>h.id===i.id),m=d.filter((h,p)=>p<f&&h.visible).length;return d.filter(h=>h.visible).slice(...l?[m+1]:[0,m]).reduce((h,p)=>h+(p.height||0)+c,0)},[e]);return v.useEffect(()=>{e.forEach(i=>{if(i.dismissed)jK(i.id,i.removeDelay);else{let o=Od.get(i.id);o&&(clearTimeout(o),Od.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:xK,startPause:bK,endPause:n,calculateOffset:a}}},NK=Ss`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,CK=Ss`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,SK=Ss`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,AK=Fi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${NK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${CK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${SK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,TK=Ss`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,kK=Fi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${TK} 1s linear infinite;
`,EK=Ss`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,OK=Ss`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,PK=Fi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${EK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${OK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,DK=Fi("div")`
  position: absolute;
`,IK=Fi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_K=Ss`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$K=Fi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_K} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,RK=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?v.createElement($K,null,e):e:r==="blank"?null:v.createElement(IK,null,v.createElement(kK,{...n}),r!=="loading"&&v.createElement(DK,null,r==="error"?v.createElement(AK,{...n}):v.createElement(PK,{...n})))},MK=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,LK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,FK="0%{opacity:0;} 100%{opacity:1;}",BK="0%{opacity:1;} 100%{opacity:0;}",qK=Fi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,VK=Fi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,zK=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=Y4()?[FK,BK]:[MK(r),LK(r)];return{animation:e?`${Ss(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ss(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},UK=v.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?zK(t.position||e||"top-center",t.visible):{opacity:0},i=v.createElement(RK,{toast:t}),o=v.createElement(VK,{...t.ariaProps},mb(t.message,t));return v.createElement(qK,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:i,message:o}):v.createElement(v.Fragment,null,i,o))});dK(v.createElement);var WK=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let i=v.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return v.createElement("div",{ref:i,className:e,style:r},a)},HK=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Y4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},GK=rv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ah=16,YK=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=wK(r);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ah,left:Ah,right:Ah,bottom:Ah,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),m=HK(d,f);return v.createElement(WK,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?GK:"",style:m},u.type==="custom"?mb(u.message,u):a?a(u):v.createElement(UK,{toast:u,position:d}))}))},Wl=Me;function J4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=J4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Oe(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=J4(t))&&(n&&(n+=" "),n+=e);return n}function KK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const X4=v.forwardRef(KK);function JK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const pa=v.forwardRef(JK);function XK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Z4=v.forwardRef(XK);function ZK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const QK=v.forwardRef(ZK);function eJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const tJ=v.forwardRef(eJ);function rJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const nJ=v.forwardRef(rJ);function aJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Ik=v.forwardRef(aJ);function sJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const DS=v.forwardRef(sJ);function iJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Q4=v.forwardRef(iJ);function oJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const OD=v.forwardRef(oJ);function lJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const eB=v.forwardRef(lJ);function cJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const uJ=v.forwardRef(cJ);function dJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const fJ=v.forwardRef(dJ);function mJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const tB=v.forwardRef(mJ);function hJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const rB=v.forwardRef(hJ);function pJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const nB=v.forwardRef(pJ);function gJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Dm=v.forwardRef(gJ);function yJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const xJ=v.forwardRef(yJ);function bJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const vJ=v.forwardRef(bJ);function jJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const wJ=v.forwardRef(jJ);function NJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ne=v.forwardRef(NJ);function CJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Se=v.forwardRef(CJ);function SJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const Bi=v.forwardRef(SJ);function AJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const TJ=v.forwardRef(AJ);function kJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ie=v.forwardRef(kJ);function EJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const OJ=v.forwardRef(EJ);function PJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const aB=v.forwardRef(PJ);function DJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const sB=v.forwardRef(DJ),IJ=[{name:"Dashboard",href:"/dashboard",icon:vJ},{name:"Settings",icon:eB,submenu:[{name:"Departments",href:"/settings/departments"},{name:"Subdepartments",href:"/settings/subdepartments"},{name:"Modules",href:"/settings/modules"},{name:"Users",submenu:[{name:"Approval Matrix",href:"/settings/approval-matrix"},{name:"User Access",href:"/settings/user-access"},{name:"User Roles",href:"/settings/user-roles"},{name:"User",href:"/settings/users"}]},{name:"Real Property",submenu:[{name:"Tax Declaration",href:"/settings/tax-declaration"},{name:"Base Unit Value",href:"/settings/base-unit-value"},{name:"General Revision",href:"/settings/general-revision"}]},{name:"Accounting Settings",submenu:[{name:"Bank Details",submenu:[{name:"Bank",href:"/settings/bank"},{name:"Currency",href:"/settings/currency"}]},{name:"Document Details",submenu:[{name:"Document Type",href:"/settings/document-details"},{name:"Document Type Category",href:"/settings/document-type-categories"}]},{name:"Items Settings",submenu:[{name:"Item List",href:"/settings/items"},{name:"Item Units",href:"/settings/items/units"},{name:"Invoice Charge Accounts",href:"/settings/items/invoice-charge-accounts"}]},{name:"Project Settings",submenu:[{name:"Project Details",href:"/settings/project-details"},{name:"Project Type",href:"/settings/project-type"}]},{name:"Financial Statement",href:"/settings/financial-statement"},{name:"Fiscal Year",href:"/settings/fiscal-year"},{name:"Tax Code",href:"/settings/tax-code"},{name:"Mode of Payment",href:"/settings/mode-of-payment"},{name:"Payment Terms",href:"/settings/payment-terms"},{name:"Industry",href:"/settings/industry"}]},{name:"Locations",href:"/settings/locations"},{name:"Individual/Citizen",href:"/settings/customer"},{name:"Chart of Accounts Settings",submenu:[{name:"Chart of Accounts",href:"/settings/chart-of-accounts"},{name:"Account Group",href:"/settings/account-group"},{name:"Major Account Group",href:"/settings/major-account-group"},{name:"Sub Major Account Group",href:"/settings/sub-major-account-group"}]},{name:"Vendors",submenu:[{name:"Vendor Details",href:"/settings/vendors"},{name:"Vendor Customer Type",href:"/settings/vendor-customer-type"},{name:"Vendor Type",href:"/settings/vendor-type"}]},{name:"Employee",submenu:[{name:"Employee Details",href:"/settings/employees"},{name:"Employment Status",href:"/settings/employmentStatus"},{name:"Positions",href:"/settings/positions"},{name:"Nationalities",href:"/settings/nationalities"}]},{name:"PPE Settings",submenu:[{name:"PPE List",href:"/settings/ppe"},{name:"PPE Categories",href:"/settings/ppe-categories"},{name:"PPE Suppliers",href:"/settings/ppe-suppliers"}]},{name:"LGU Maintenance",href:"/settings/lgu-maintenance"}]},{name:"Disbursement",icon:uJ,submenu:[{name:"Obligation Request",href:"/disbursement/obligation-requests"},{name:"Disbursement Voucher",href:"/disbursement/vouchers"},{name:"Travel Order",href:"/disbursement/travel-orders"},{name:"Journal Entry Voucher",href:"/disbursement/journal-entry-vouchers"},{name:"Disbursement Journals",href:"/disbursement/disbursement-journals"},{name:"General Journals",href:"/disbursement/general-journals"},{name:"Beginning Balance",href:"/disbursement/beginning-balance"},{name:"Purchase Request",href:"/disbursement/purchase-requests"},{name:"Fund Utilization Requests and Status",href:"/disbursement/fund-utilization-requests"}]},{name:"Collections",icon:TJ,submenu:[{name:"Community Tax",href:"/collections/community-tax"},{name:"Community Tax Corporation",href:"/collections/community-tax-corporation"},{name:"General Service Receipt",href:"/collections/general-service-receipts"},{name:"Burial Service Receipt",href:"/collections/burial-service-receipts"},{name:"Marriage Service Receipt",href:"/collections/marriage-service-receipts"},{name:"Real Property Tax",href:"/collections/real-property-tax"},{name:"Cashbook",href:"/collections/cashbook"},{name:"Collection Report",href:"/collections/reports"},{name:"Public Market Ticket",href:"/collections/public-market-tickets"}]},{name:"Applications",icon:tB,submenu:[{name:"Business Permits",href:"/applications/business-permits"},{name:"Cheque Generator",href:"/applications/cheque-generator"}]},{name:"Budget",icon:fJ,submenu:[{name:"Budget Details",href:"/budget/details"},{name:"Budget Allotment",href:"/budget/allotment"},{name:"Budget Summary",href:"/budget/summary"},{name:"Budget Supplemental",href:"/budget/supplemental"},{name:"Budget Transfer",href:"/budget/transfer"},{name:"Budget Report",href:"/budget/report"},{name:"Funds",href:"/budget/funds"},{name:"Sub-funds",href:"/budget/sub-funds"},{name:"Fund Transfer",href:"/budget/fund-transfer"},{name:"Statement of Comparison",href:"/budget/statement-comparison"},{name:"Statement of Appropriation, Allotment, Obligation, Balances",href:"/budget/statement-appropriation"}]},{name:"Reports",icon:DS,submenu:[{name:"General Ledger",href:"/reports/general-ledger"},{name:"Subsidiary Ledger",href:"/reports/subsidiary-ledger"},{name:"Trial Balance",href:"/reports/trial-balance"},{name:"Financial Statements",href:"/reports/financial-statements"}]},{name:"BIR Reports",href:"/reports/bir",icon:DS}];function iB({items:t,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:i=0,parentPath:o=""}){return s.jsx("div",{className:Oe("space-y-1",i>0&&"ml-4 border-l-2 border-neutral-200 pl-3"),children:t.map(l=>{const c=o?`${o}.${l.name}`:l.name,u=e[c],d=a(l.submenu||[]);return s.jsx("div",{className:"relative",children:l.submenu?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:f=>{f.preventDefault(),r(c)},className:Oe("group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",d?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100",u&&"border-l-4 border-primary-500",i>0&&"pl-2"),children:[s.jsxs("div",{className:"flex items-center",children:[l.icon&&s.jsx(l.icon,{className:Oe("mr-3 h-5 w-5 flex-shrink-0",d?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),s.jsx("span",{className:"text-left",children:l.name})]}),s.jsx("div",{className:"flex items-center",children:s.jsx("svg",{className:Oe("h-5 w-5 transform transition-transform flex-shrink-0",u?"rotate-180 text-primary-500":"text-neutral-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u&&s.jsxs("div",{className:"mt-1",children:[" ",s.jsx(iB,{items:l.submenu,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:i+1,parentPath:c})]})]}):s.jsxs(nc,{to:l.href,className:Oe("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n(l.href)?"bg-primary-50 text-primary-700 border-l-4 border-primary-500":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900",i>0&&"pl-2"),children:[l.icon&&s.jsx(l.icon,{className:Oe("mr-3 h-5 w-5 flex-shrink-0",n(l.href)?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),s.jsx("span",{className:"text-left",children:l.name})]})},c)})})}function _J(){var l,c;const t=Li(),{user:e}=W(u=>u.auth),[r,n]=v.useState({}),a=u=>{n(d=>({...d,[u]:!d[u]}))},i=u=>t.pathname===u,o=u=>u.some(d=>d.href?t.pathname===d.href:d.children&&o(d.children));return s.jsxs("div",{className:"h-full flex flex-col border-r border-neutral-200 bg-white",children:[s.jsx("div",{className:"flex items-center justify-center h-16 border-b border-neutral-200 bg-primary-800",children:s.jsx("h1",{className:"text-white text-xl font-bold px-4",children:"LGU System"})}),s.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:s.jsx("nav",{className:"space-y-1 px-2",children:s.jsx(iB,{items:IJ,expandedMenus:r,toggleMenu:a,isActive:i,isSubMenuActive:o})})}),e&&s.jsxs("div",{className:"flex items-center px-4 py-3 border-t border-neutral-200 bg-white",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white font-medium text-sm",children:[((l=e.firstName)==null?void 0:l.charAt(0))||"",((c=e.lastName)==null?void 0:c.charAt(0))||""]})}),s.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[s.jsxs("p",{className:"text-sm font-medium text-neutral-700 truncate",children:[e.firstName," ",e.lastName]}),s.jsx("p",{className:"text-xs text-neutral-500 truncate",children:e.department})]})]})]})}function wl(t,e,r){let n=r.initialDeps??[],a;function i(){var o,l,c,u;let d;r.key&&((o=r.debug)!=null&&o.call(r))&&(d=Date.now());const f=t();if(!(f.length!==n.length||f.some((p,y)=>n[y]!==p)))return a;n=f;let h;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(h=Date.now()),a=e(...f),r.key&&((c=r.debug)!=null&&c.call(r))){const p=Math.round((Date.now()-d)*100)/100,y=Math.round((Date.now()-h)*100)/100,x=y/16,b=(g,j)=>{for(g=String(g);g.length<j;)g=" "+g;return g};console.info(`%c ${b(y,5)} /${b(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,a),a}return i.updateDeps=o=>{n=o},i}function PD(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const $J=(t,e)=>Math.abs(t-e)<=1,RJ=(t,e,r)=>{let n;return function(...a){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,a),r)}},DD=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},MJ=t=>t,LJ=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let a=e;a<=r;a++)n.push(a);return n},FJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const a=o=>{const{width:l,height:c}=o;e({width:Math.round(l),height:Math.round(c)})};if(a(DD(r)),!n.ResizeObserver)return()=>{};const i=new n.ResizeObserver(o=>{const l=()=>{const c=o[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){a({width:u.inlineSize,height:u.blockSize});return}}a(DD(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(r,{box:"border-box"}),()=>{i.unobserve(r)}},ID={passive:!0},_D=typeof window>"u"?!0:"onscrollend"in window,BJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let a=0;const i=t.options.useScrollendEvent&&_D?()=>{}:RJ(n,()=>{e(a,!1)},t.options.isScrollingResetDelay),o=d=>()=>{const{horizontal:f,isRtl:m}=t.options;a=f?r.scrollLeft*(m&&-1||1):r.scrollTop,i(),e(a,d)},l=o(!0),c=o(!1);c(),r.addEventListener("scroll",l,ID);const u=t.options.useScrollendEvent&&_D;return u&&r.addEventListener("scrollend",c,ID),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},qJ=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},VJ=(t,{adjustments:e=0,behavior:r},n)=>{var a,i;const o=t+e;(i=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||i.call(a,{[n.options.horizontal?"left":"top"]:o,behavior:r})};class zJ{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(i=>{const o=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var i;return(i=n())==null?void 0:i.observe(a,{box:"border-box"})},unobserve:a=>{var i;return(i=n())==null?void 0:i.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:MJ,rangeExtractor:LJ,onChange:()=>{},measureElement:qJ,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=wl(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,i=new Map;for(let o=n-1;o>=0;o--){const l=r[o];if(a.has(l.lane))continue;const c=i.get(l.lane);if(c==null||l.end>c.end?i.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=wl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,i,o)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:i,enabled:o}),{key:!1}),this.getMeasurements=wl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:i,enabled:o},l)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const f=i(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),h=m?m.end+this.options.gap:n+a,p=l.get(f),y=typeof p=="number"?p:this.options.estimateSize(d),x=h+y,b=m?m.lane:d%this.options.lanes;u[d]={index:d,start:h,size:y,end:x,key:f,lane:b}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=wl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,i)=>this.range=r.length>0&&n>0?UJ({measurements:r,outerSize:n,scrollOffset:a,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=wl(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,i,o)=>i===null||o===null?[]:r({startIndex:i,endIndex:o,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),i=this.measurementsCache[a];if(!i)return;const o=i.key,l=this.elementsCache.get(o);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(o,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const i=this.itemSizeCache.get(a.key)??a.size,o=n-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,o,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=wl(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let i=0,o=r.length;i<o;i++){const l=r[i],c=n[l];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return PD(n[oB(0,n.length-1,a=>PD(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const i=this.getSize(),o=this.getScrollOffset();n==="auto"&&(n=r>=o+i?"end":"start"),n==="center"?r+=(a-i)/2:n==="end"&&(r-=i);const l=this.getTotalSize()-i;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const i=this.getSize(),o=this.getScrollOffset();if(n==="auto")if(a.end>=o+i-this.options.scrollPaddingEnd)n="end";else if(a.start<=o+this.options.scrollPaddingStart)n="start";else return[o,n];const l=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{r=Math.max(0,Math.min(r,this.options.count-1)),this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(r,n);if(!i)return;const[o,l]=i;this._scrollToOffset(o,{adjustments:void 0,behavior:a}),a!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(r))){const u=this.getOffsetForIndex(r,l);if(!u)return;const[d]=u,f=this.getScrollOffset();$J(d,f)||this.scrollToIndex(r,{align:l,behavior:a})}else this.scrollToIndex(r,{align:l,behavior:a})}))},this.scrollBy=(r,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const i=Array(this.options.lanes).fill(null);let o=n.length-1;for(;o>=0&&i.some(l=>l===null);){const l=n[o];i[l.lane]===null&&(i[l.lane]=l.end),o--}a=Math.max(...i.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const oB=(t,e,r,n)=>{for(;t<=e;){const a=(t+e)/2|0,i=r(a);if(i<n)t=a+1;else if(i>n)e=a-1;else return a}return t>0?t-1:0};function UJ({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const a=t.length-1,i=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:a};let o=oB(0,a,i,r),l=o;if(n===1)for(;l<a&&t[l].end<r+e;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<a&&c.some(d=>d<r+e);){const d=t[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+e);for(;o>=0&&u.some(d=>d>=r);){const d=t[o];u[d.lane]=d.start,o--}o=Math.max(0,o-o%n),l=Math.min(a,l+(n-1-l%n))}return{startIndex:o,endIndex:l}}const $D=typeof document<"u"?v.useLayoutEffect:v.useEffect;function WJ(t){const e=v.useReducer(()=>({}),{})[1],r={...t,onChange:(a,i)=>{var o;i?Y0.flushSync(e):e(),(o=t.onChange)==null||o.call(t,a,i)}},[n]=v.useState(()=>new zJ(r));return n.setOptions(r),$D(()=>n._didMount(),[]),$D(()=>n._willUpdate()),n}function HJ(t){return WJ({observeElementRect:FJ,observeElementOffset:BJ,scrollToFn:VJ,...t})}var GJ=Object.defineProperty,YJ=(t,e,r)=>e in t?GJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xN=(t,e,r)=>(YJ(t,typeof e!="symbol"?e+"":e,r),r);let KJ=class{constructor(){xN(this,"current",this.detect()),xN(this,"handoffState","pending"),xN(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},hs=new KJ,pt=(t,e)=>{hs.isServer?v.useEffect(t,e):v.useLayoutEffect(t,e)};function ua(t){let e=v.useRef(t);return pt(()=>{e.current=t},[t]),e}function _k(t,e){let[r,n]=v.useState(t),a=ua(t);return pt(()=>n(a.current),[a,n,...e]),r}let be=function(t){let e=ua(t);return q.useCallback((...r)=>e.current(...r),[e])};function JJ(t,e,r){let[n,a]=v.useState(r),i=t!==void 0,o=v.useRef(i),l=v.useRef(!1),c=v.useRef(!1);return i&&!o.current&&!l.current?(l.current=!0,o.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&o.current&&!c.current&&(c.current=!0,o.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?t:n,be(u=>(i||a(u),e==null?void 0:e(u)))]}function nv(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function wn(){let t=[],e={addEventListener(r,n,a,i){return r.addEventListener(n,a,i),e.add(()=>r.removeEventListener(n,a,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return nv(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=wn();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}function qi(){let[t]=v.useState(wn);return v.useEffect(()=>()=>t.dispose(),[t]),t}function XJ(){let t=typeof document>"u";return"useSyncExternalStore"in Ci?(e=>e.useSyncExternalStore)(Ci)(()=>()=>{},()=>!1,()=>!t):!1}function iu(){let t=XJ(),[e,r]=v.useState(hs.isHandoffComplete);return e&&hs.isHandoffComplete===!1&&r(!1),v.useEffect(()=>{e!==!0&&r(!0)},[e]),v.useEffect(()=>hs.handoff(),[]),t?!1:e}var RD;let nn=(RD=q.useId)!=null?RD:function(){let t=iu(),[e,r]=q.useState(t?()=>hs.nextId():null);return pt(()=>{e===null&&r(hs.nextId())},[e]),e!=null?""+e:void 0};function $t(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$t),n}function av(t){return hs.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let IS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ns=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ns||{}),lB=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(lB||{}),ZJ=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(ZJ||{});function cB(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(IS)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var $k=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))($k||{});function Rk(t,e=0){var r;return t===((r=av(t))==null?void 0:r.body)?!1:$t(e,{0(){return t.matches(IS)},1(){let n=t;for(;n!==null;){if(n.matches(IS))return!0;n=n.parentElement}return!1}})}function uB(t){let e=av(t);wn().nextFrame(()=>{e&&!Rk(e.activeElement,0)&&gi(t)})}var QJ=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(QJ||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function gi(t){t==null||t.focus({preventScroll:!0})}let eX=["textarea","input"].join(",");function tX(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,eX))!=null?r:!1}function Mk(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),i=e(n);if(a===null||i===null)return 0;let o=a.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function rX(t,e){return Pd(cB(),e,{relativeTo:t})}function Pd(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?r?Mk(t):t:cB(t);a.length>0&&o.length>1&&(o=o.filter(h=>!a.includes(h))),n=n??i.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(n))-1;if(e&4)return Math.max(0,o.indexOf(n))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=o.length,m;do{if(d>=f||d+f<=0)return 0;let h=c+d;if(e&16)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}m=o[h],m==null||m.focus(u),d+=l}while(m!==i.activeElement);return e&6&&tX(m)&&m.select(),2}function dB(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function nX(){return/Android/gi.test(window.navigator.userAgent)}function fB(){return dB()||nX()}function Th(t,e,r){let n=ua(e);v.useEffect(()=>{function a(i){n.current(i)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[t,r])}function mB(t,e,r){let n=ua(e);v.useEffect(()=>{function a(i){n.current(i)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[t,r])}function Lk(t,e,r=!0){let n=v.useRef(!1);v.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(o,l){if(!n.current||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||o.composed&&o.composedPath().includes(f))return}return!Rk(c,$k.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let i=v.useRef(null);Th("pointerdown",o=>{var l,c;n.current&&(i.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),Th("mousedown",o=>{var l,c;n.current&&(i.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),Th("click",o=>{fB()||i.current&&(a(o,()=>i.current),i.current=null)},!0),Th("touchend",o=>a(o,()=>o.target instanceof HTMLElement?o.target:null),!0),mB("blur",o=>a(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function sl(...t){return v.useMemo(()=>av(...t),[...t])}function MD(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function hB(t,e){let[r,n]=v.useState(()=>MD(t));return pt(()=>{n(MD(t))},[t.type,t.as]),pt(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let pB=Symbol();function aX(t,e=!0){return Object.assign(t,{[pB]:e})}function nr(...t){let e=v.useRef(t);v.useEffect(()=>{e.current=t},[t]);let r=be(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||(n==null?void 0:n[pB]))?void 0:r}function LD(t){return[t.screenX,t.screenY]}function gB(){let t=v.useRef([-1,-1]);return{wasMoved(e){let r=LD(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=LD(e)}}}function yB({container:t,accept:e,walk:r,enabled:n=!0}){let a=v.useRef(e),i=v.useRef(r);v.useEffect(()=>{a.current=e,i.current=r},[e,r]),pt(()=>{if(!t||!n)return;let o=av(t);if(!o)return;let l=a.current,c=i.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,n,a,i])}function Cf(t,e){let r=v.useRef([]),n=be(t);v.useEffect(()=>{let a=[...r.current];for(let[i,o]of e.entries())if(r.current[i]!==o){let l=n(e,a);return r.current=e,l}},[n,...e])}function hb(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var ki=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(ki||{}),ri=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ri||{});function Yt({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:a,visible:i=!0,name:o,mergeRefs:l}){l=l??sX;let c=xB(e,t);if(i)return kh(c,r,n,o,l);let u=a??0;if(u&2){let{static:d=!1,...f}=c;if(d)return kh(f,r,n,o,l)}if(u&1){let{unmount:d=!0,...f}=c;return $t(d?0:1,{0(){return null},1(){return kh({...f,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return kh(c,r,n,o,l)}function kh(t,e={},r,n,a){let{as:i=r,children:o,refName:l="ref",...c}=bN(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let m=!1,h=[];for(let[p,y]of Object.entries(e))typeof y=="boolean"&&(m=!0),y===!0&&h.push(p);m&&(f["data-headlessui-state"]=h.join(" "))}if(i===v.Fragment&&Object.keys(_S(c)).length>0){if(!v.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let m=d.props,h=typeof(m==null?void 0:m.className)=="function"?(...y)=>hb(m==null?void 0:m.className(...y),c.className):hb(m==null?void 0:m.className,c.className),p=h?{className:h}:{};return v.cloneElement(d,Object.assign({},xB(d.props,_S(bN(c,["ref"]))),f,u,{ref:a(d.ref,u.ref)},p))}return v.createElement(i,Object.assign({},bN(c,["ref"]),i!==v.Fragment&&u,i!==v.Fragment&&f),d)}function sX(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function xB(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](a,...i){let o=r[n];for(let l of o){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...i)}}});return e}function Vt(t){var e;return Object.assign(v.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function _S(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function bN(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let iX="div";var Sf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Sf||{});function oX(t,e){var r;let{features:n=1,...a}=t,i={ref:e,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Yt({ourProps:i,theirProps:a,slot:{},defaultTag:iX,name:"Hidden"})}let pb=Vt(oX),Fk=v.createContext(null);Fk.displayName="OpenClosedContext";var Xt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Xt||{});function Im(){return v.useContext(Fk)}function Bk({value:t,children:e}){return q.createElement(Fk.Provider,{value:t},e)}function lX(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let ka=[];lX(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&ka[0]!==e.target&&(ka.unshift(e.target),ka=ka.filter(r=>r!=null&&r.isConnected),ka.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function qk(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&cX(r)?!1:n}function cX(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function uX(t){throw new Error("Unexpected object: "+t)}var ct=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ct||{});function $S(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),a=n??-1;switch(t.focus){case 0:{for(let i=0;i<r.length;++i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 1:{for(let i=a-1;i>=0;--i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 2:{for(let i=a+1;i<r.length;++i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 3:{for(let i=r.length-1;i>=0;--i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 4:{for(let i=0;i<r.length;++i)if(e.resolveId(r[i],i,r)===t.id)return i;return n}case 5:return null;default:uX(t)}}function bB(t={},e=null,r=[]){for(let[n,a]of Object.entries(t))jB(r,vB(e,n),a);return r}function vB(t,e){return t?t+"["+e+"]":e}function jB(t,e,r){if(Array.isArray(r))for(let[n,a]of r.entries())jB(t,vB(e,n.toString()),a);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):bB(r,e,t)}var at=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(at||{}),dX={},fX=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(fX||{}),mX=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(mX||{}),hX=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(hX||{}),pX=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(pX||{});function vN(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=e(t.options.slice()),a=n.length>0&&n[0].dataRef.current.order!==null?n.sort((o,l)=>o.dataRef.current.order-l.dataRef.current.order):Mk(n,o=>o.dataRef.current.domRef.current),i=r?a.indexOf(r):null;return i===-1&&(i=null),{options:a,activeOptionIndex:i}}let gX={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,r;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((r=t.dataRef.current)!=null&&r.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var r,n,a,i,o;if((r=t.dataRef.current)!=null&&r.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((a=t.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let d=e.focus===ct.Specific?e.idx:$S(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var m,h;return(h=(m=t.activeOptionIndex)!=null?m:t.virtual.options.findIndex(p=>!t.virtual.disabled(p)))!=null?h:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===d&&t.activationTrigger===f?t:{...t,activeOptionIndex:d,activationTrigger:f}}let l=vN(t);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=e.focus===ct.Specific?e.idx:$S(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(o=e.trigger)!=null?o:2;return t.activeOptionIndex===c&&t.activationTrigger===u?t:{...t,...l,activeOptionIndex:c,activationTrigger:u}},3:(t,e)=>{var r,n,a;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,e.payload]};let i=e.payload,o=vN(t,c=>(c.push(i),c));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.payload.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(i));let l={...t,...o,activationTrigger:2};return(a=t.dataRef.current)!=null&&a.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var r;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:t.options.filter(a=>a.id!==e.id)};let n=vN(t,a=>{let i=a.findIndex(o=>o.id===e.id);return i!==-1&&a.splice(i,1),a});return{...t,...n,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var r;if(((r=t.virtual)==null?void 0:r.options)===e.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let a=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);a!==-1?n=a:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:e.options})}}},Vk=v.createContext(null);Vk.displayName="ComboboxActionsContext";function _m(t){let e=v.useContext(Vk);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,_m),r}return e}let wB=v.createContext(null);function yX(t){var e;let r=il("VirtualProvider"),[n,a]=v.useMemo(()=>{let c=r.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[r.optionsRef.current]),i=HJ({scrollPaddingStart:n,scrollPaddingEnd:a,count:r.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=r.optionsRef.current)!=null?c:null},overscan:12}),[o,l]=v.useState(0);return pt(()=>{l(c=>c+1)},[(e=r.virtual)==null?void 0:e.options]),q.createElement(wB.Provider,{value:i},q.createElement("div",{style:{position:"relative",width:"100%",height:`${i.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&dX.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&r.virtual.options.length>r.activeOptionIndex&&i.scrollToIndex(r.activeOptionIndex)}}},i.getVirtualItems().map(c=>{var u;return q.createElement(v.Fragment,{key:c.key},q.cloneElement((u=t.children)==null?void 0:u.call(t,{option:r.virtual.options[c.index],open:r.comboboxState===0}),{key:`${o}-${c.key}`,"data-index":c.index,"aria-setsize":r.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let zk=v.createContext(null);zk.displayName="ComboboxDataContext";function il(t){let e=v.useContext(zk);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,il),r}return e}function xX(t,e){return $t(e.type,gX,t,e)}let bX=v.Fragment;function vX(t,e){let{value:r,defaultValue:n,onChange:a,form:i,name:o,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:m=!1,virtual:h=null,...p}=t,y=!1,x=null,[b=f?[]:void 0,g]=JJ(r,a,n),[j,C]=v.useReducer(xX,{dataRef:v.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),N=v.useRef(!1),w=v.useRef({static:!1,hold:!1}),S=v.useRef(null),T=v.useRef(null),k=v.useRef(null),E=v.useRef(null),O=be(typeof l=="string"?(Z,K)=>{let H=l;return(Z==null?void 0:Z[H])===(K==null?void 0:K[H])}:l??((Z,K)=>Z===K)),M=be(Z=>j.options.findIndex(K=>O(K.dataRef.current.value,Z))),I=v.useCallback(Z=>$t(P.mode,{1:()=>b.some(K=>O(K,Z)),0:()=>O(b,Z)}),[b]),V=be(Z=>j.activeOptionIndex===M(Z)),P=v.useMemo(()=>({...j,immediate:y,optionsPropsRef:w,labelRef:S,inputRef:T,buttonRef:k,optionsRef:E,value:b,defaultValue:n,disabled:c,mode:f?1:0,virtual:j.virtual,get activeOptionIndex(){if(N.current&&j.activeOptionIndex===null&&j.options.length>0){let Z=j.options.findIndex(K=>!K.dataRef.current.disabled);if(Z!==-1)return Z}return j.activeOptionIndex},calculateIndex:M,compare:O,isSelected:I,isActive:V,nullable:d,__demoMode:u}),[b,n,c,f,d,u,j,x]);pt(()=>{},[x,void 0]),pt(()=>{j.dataRef.current=P},[P]),Lk([P.buttonRef,P.inputRef,P.optionsRef],()=>xe.closeCombobox(),P.comboboxState===0);let F=v.useMemo(()=>{var Z,K,H;return{open:P.comboboxState===0,disabled:c,activeIndex:P.activeOptionIndex,activeOption:P.activeOptionIndex===null?null:P.virtual?P.virtual.options[(Z=P.activeOptionIndex)!=null?Z:0]:(H=(K=P.options[P.activeOptionIndex])==null?void 0:K.dataRef.current.value)!=null?H:null,value:b}},[P,c,b]),U=be(()=>{if(P.activeOptionIndex!==null){if(P.virtual)z(P.virtual.options[P.activeOptionIndex]);else{let{dataRef:Z}=P.options[P.activeOptionIndex];z(Z.current.value)}xe.goToOption(ct.Specific,P.activeOptionIndex)}}),R=be(()=>{C({type:0}),N.current=!0}),_=be(()=>{C({type:1}),N.current=!1}),B=be((Z,K,H)=>(N.current=!1,Z===ct.Specific?C({type:2,focus:ct.Specific,idx:K,trigger:H}):C({type:2,focus:Z,trigger:H}))),X=be((Z,K)=>(C({type:3,payload:{id:Z,dataRef:K}}),()=>{P.isActive(K.current.value)&&(N.current=!0),C({type:4,id:Z})})),$=be(Z=>(C({type:5,id:Z}),()=>C({type:5,id:null}))),z=be(Z=>$t(P.mode,{0(){return g==null?void 0:g(Z)},1(){let K=P.value.slice(),H=K.findIndex(Y=>O(Y,Z));return H===-1?K.push(Z):K.splice(H,1),g==null?void 0:g(K)}})),ne=be(Z=>{C({type:6,trigger:Z})}),xe=v.useMemo(()=>({onChange:z,registerOption:X,registerLabel:$,goToOption:B,closeCombobox:_,openCombobox:R,setActivationTrigger:ne,selectActiveOption:U}),[]),ee=e===null?{}:{ref:e},re=v.useRef(null),_e=qi();return v.useEffect(()=>{re.current&&n!==void 0&&_e.addEventListener(re.current,"reset",()=>{g==null||g(n)})},[re,g]),q.createElement(Vk.Provider,{value:xe},q.createElement(zk.Provider,{value:P},q.createElement(Bk,{value:$t(P.comboboxState,{0:Xt.Open,1:Xt.Closed})},o!=null&&b!=null&&bB({[o]:b}).map(([Z,K],H)=>q.createElement(pb,{features:Sf.Hidden,ref:H===0?Y=>{var fe;re.current=(fe=Y==null?void 0:Y.closest("form"))!=null?fe:null}:void 0,..._S({key:Z,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,disabled:c,name:Z,value:K})})),Yt({ourProps:ee,theirProps:p,slot:F,defaultTag:bX,name:"Combobox"}))))}let jX="input";function wX(t,e){var r,n,a,i,o;let l=nn(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...m}=t,h=il("Combobox.Input"),p=_m("Combobox.Input"),y=nr(h.inputRef,e),x=sl(h.inputRef),b=v.useRef(!1),g=qi(),j=be(()=>{p.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),p.goToOption(ct.Nothing)}),C=function(){var P;return typeof d=="function"&&h.value!==void 0?(P=d(h.value))!=null?P:"":typeof h.value=="string"?h.value:""}();Cf(([P,F],[U,R])=>{if(b.current)return;let _=h.inputRef.current;_&&((R===0&&F===1||P!==U)&&(_.value=P),requestAnimationFrame(()=>{if(b.current||!_||(x==null?void 0:x.activeElement)!==_)return;let{selectionStart:B,selectionEnd:X}=_;Math.abs((X??0)-(B??0))===0&&B===0&&_.setSelectionRange(_.value.length,_.value.length)}))},[C,h.comboboxState,x]),Cf(([P],[F])=>{if(P===0&&F===1){if(b.current)return;let U=h.inputRef.current;if(!U)return;let R=U.value,{selectionStart:_,selectionEnd:B,selectionDirection:X}=U;U.value="",U.value=R,X!==null?U.setSelectionRange(_,B,X):U.setSelectionRange(_,B)}},[h.comboboxState]);let N=v.useRef(!1),w=be(()=>{N.current=!0}),S=be(()=>{g.nextFrame(()=>{N.current=!1})}),T=be(P=>{switch(b.current=!0,P.key){case at.Enter:if(b.current=!1,h.comboboxState!==0||N.current)return;if(P.preventDefault(),P.stopPropagation(),h.activeOptionIndex===null){p.closeCombobox();return}p.selectActiveOption(),h.mode===0&&p.closeCombobox();break;case at.ArrowDown:return b.current=!1,P.preventDefault(),P.stopPropagation(),$t(h.comboboxState,{0:()=>p.goToOption(ct.Next),1:()=>p.openCombobox()});case at.ArrowUp:return b.current=!1,P.preventDefault(),P.stopPropagation(),$t(h.comboboxState,{0:()=>p.goToOption(ct.Previous),1:()=>{p.openCombobox(),g.nextFrame(()=>{h.value||p.goToOption(ct.Last)})}});case at.Home:if(P.shiftKey)break;return b.current=!1,P.preventDefault(),P.stopPropagation(),p.goToOption(ct.First);case at.PageUp:return b.current=!1,P.preventDefault(),P.stopPropagation(),p.goToOption(ct.First);case at.End:if(P.shiftKey)break;return b.current=!1,P.preventDefault(),P.stopPropagation(),p.goToOption(ct.Last);case at.PageDown:return b.current=!1,P.preventDefault(),P.stopPropagation(),p.goToOption(ct.Last);case at.Escape:return b.current=!1,h.comboboxState!==0?void 0:(P.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&P.stopPropagation(),h.nullable&&h.mode===0&&h.value===null&&j(),p.closeCombobox());case at.Tab:if(b.current=!1,h.comboboxState!==0)return;h.mode===0&&h.activationTrigger!==1&&p.selectActiveOption(),p.closeCombobox();break}}),k=be(P=>{u==null||u(P),h.nullable&&h.mode===0&&P.target.value===""&&j(),p.openCombobox()}),E=be(P=>{var F,U,R;let _=(F=P.relatedTarget)!=null?F:ka.find(B=>B!==P.currentTarget);if(b.current=!1,!((U=h.optionsRef.current)!=null&&U.contains(_))&&!((R=h.buttonRef.current)!=null&&R.contains(_))&&h.comboboxState===0)return P.preventDefault(),h.mode===0&&(h.nullable&&h.value===null?j():h.activationTrigger!==1&&p.selectActiveOption()),p.closeCombobox()}),O=be(P=>{var F,U,R;let _=(F=P.relatedTarget)!=null?F:ka.find(B=>B!==P.currentTarget);(U=h.buttonRef.current)!=null&&U.contains(_)||(R=h.optionsRef.current)!=null&&R.contains(_)||h.disabled||h.immediate&&h.comboboxState!==0&&(p.openCombobox(),g.nextFrame(()=>{p.setActivationTrigger(1)}))}),M=_k(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),I=v.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),V={ref:y,id:c,role:"combobox",type:f,"aria-controls":(r=h.optionsRef.current)==null?void 0:r.id,"aria-expanded":h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null?void 0:h.virtual?(n=h.options.find(P=>{var F;return!((F=h.virtual)!=null&&F.disabled(P.dataRef.current.value))&&h.compare(P.dataRef.current.value,h.virtual.options[h.activeOptionIndex])}))==null?void 0:n.id:(a=h.options[h.activeOptionIndex])==null?void 0:a.id,"aria-labelledby":M,"aria-autocomplete":"list",defaultValue:(o=(i=t.defaultValue)!=null?i:h.defaultValue!==void 0?d==null?void 0:d(h.defaultValue):null)!=null?o:h.defaultValue,disabled:h.disabled,onCompositionStart:w,onCompositionEnd:S,onKeyDown:T,onChange:k,onFocus:O,onBlur:E};return Yt({ourProps:V,theirProps:m,slot:I,defaultTag:jX,name:"Combobox.Input"})}let NX="button";function CX(t,e){var r;let n=il("Combobox.Button"),a=_m("Combobox.Button"),i=nr(n.buttonRef,e),o=nn(),{id:l=`headlessui-combobox-button-${o}`,...c}=t,u=qi(),d=be(y=>{switch(y.key){case at.ArrowDown:return y.preventDefault(),y.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case at.ArrowUp:return y.preventDefault(),y.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(ct.Last)})),u.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case at.Escape:return n.comboboxState!==0?void 0:(y.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&y.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})}));default:return}}),f=be(y=>{if(qk(y.currentTarget))return y.preventDefault();n.comboboxState===0?a.closeCombobox():(y.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})})}),m=_k(()=>{if(n.labelId)return[n.labelId,l].join(" ")},[n.labelId,l]),h=v.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),p={ref:i,id:l,type:hB(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":m,disabled:n.disabled,onClick:f,onKeyDown:d};return Yt({ourProps:p,theirProps:c,slot:h,defaultTag:NX,name:"Combobox.Button"})}let SX="label";function AX(t,e){let r=nn(),{id:n=`headlessui-combobox-label-${r}`,...a}=t,i=il("Combobox.Label"),o=_m("Combobox.Label"),l=nr(i.labelRef,e);pt(()=>o.registerLabel(n),[n]);let c=be(()=>{var d;return(d=i.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=v.useMemo(()=>({open:i.comboboxState===0,disabled:i.disabled}),[i]);return Yt({ourProps:{ref:l,id:n,onClick:c},theirProps:a,slot:u,defaultTag:SX,name:"Combobox.Label"})}let TX="ul",kX=ki.RenderStrategy|ki.Static;function EX(t,e){let r=nn(),{id:n=`headlessui-combobox-options-${r}`,hold:a=!1,...i}=t,o=il("Combobox.Options"),l=nr(o.optionsRef,e),c=Im(),u=c!==null?(c&Xt.Open)===Xt.Open:o.comboboxState===0;pt(()=>{var h;o.optionsPropsRef.current.static=(h=t.static)!=null?h:!1},[o.optionsPropsRef,t.static]),pt(()=>{o.optionsPropsRef.current.hold=a},[o.optionsPropsRef,a]),yB({container:o.optionsRef.current,enabled:o.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let d=_k(()=>{var h,p;return(p=o.labelId)!=null?p:(h=o.buttonRef.current)==null?void 0:h.id},[o.labelId,o.buttonRef.current]),f=v.useMemo(()=>({open:o.comboboxState===0,option:void 0}),[o]),m={"aria-labelledby":d,role:"listbox","aria-multiselectable":o.mode===1?!0:void 0,id:n,ref:l};return o.virtual&&o.comboboxState===0&&Object.assign(i,{children:q.createElement(yX,null,i.children)}),Yt({ourProps:m,theirProps:i,slot:f,defaultTag:TX,features:kX,visible:u,name:"Combobox.Options"})}let OX="li";function PX(t,e){var r;let n=nn(),{id:a=`headlessui-combobox-option-${n}`,disabled:i=!1,value:o,order:l=null,...c}=t,u=il("Combobox.Option"),d=_m("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(o):u.activeOptionIndex===null?!1:((r=u.options[u.activeOptionIndex])==null?void 0:r.id)===a,m=u.isSelected(o),h=v.useRef(null),p=ua({disabled:i,value:o,domRef:h,order:l}),y=v.useContext(wB),x=nr(e,h,y?y.measureElement:null),b=be(()=>d.onChange(o));pt(()=>d.registerOption(a,p),[p,a]);let g=v.useRef(!(u.virtual||u.__demoMode));pt(()=>{if(!u.virtual||!u.__demoMode)return;let E=wn();return E.requestAnimationFrame(()=>{g.current=!0}),E.dispose},[u.virtual,u.__demoMode]),pt(()=>{if(!g.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let E=wn();return E.requestAnimationFrame(()=>{var O,M;(M=(O=h.current)==null?void 0:O.scrollIntoView)==null||M.call(O,{block:"nearest"})}),E.dispose},[h,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let j=be(E=>{var O;if(i||(O=u.virtual)!=null&&O.disabled(o))return E.preventDefault();b(),fB()||requestAnimationFrame(()=>{var M;return(M=u.inputRef.current)==null?void 0:M.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),C=be(()=>{var E;if(i||(E=u.virtual)!=null&&E.disabled(o))return d.goToOption(ct.Nothing);let O=u.calculateIndex(o);d.goToOption(ct.Specific,O)}),N=gB(),w=be(E=>N.update(E)),S=be(E=>{var O;if(!N.wasMoved(E)||i||(O=u.virtual)!=null&&O.disabled(o)||f)return;let M=u.calculateIndex(o);d.goToOption(ct.Specific,M,0)}),T=be(E=>{var O;N.wasMoved(E)&&(i||(O=u.virtual)!=null&&O.disabled(o)||f&&(u.optionsPropsRef.current.hold||d.goToOption(ct.Nothing)))}),k=v.useMemo(()=>({active:f,selected:m,disabled:i}),[f,m,i]);return Yt({ourProps:{id:a,ref:x,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:j,onFocus:C,onPointerEnter:w,onMouseEnter:w,onPointerMove:S,onMouseMove:S,onPointerLeave:T,onMouseLeave:T},theirProps:c,slot:k,defaultTag:OX,name:"Combobox.Option"})}let DX=Vt(vX),IX=Vt(CX),_X=Vt(wX),$X=Vt(AX),RX=Vt(EX),MX=Vt(PX),Nl=Object.assign(DX,{Input:_X,Button:IX,Label:$X,Options:RX,Option:MX});function NB(t,e,r,n){let a=ua(r);v.useEffect(()=>{t=t??window;function i(o){a.current(o)}return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)},[t,e,n])}function $m(){let t=v.useRef(!1);return pt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function CB(t){let e=be(t),r=v.useRef(!1);v.useEffect(()=>(r.current=!1,()=>{r.current=!0,nv(()=>{r.current&&e()})}),[e])}var cd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(cd||{});function LX(){let t=v.useRef(0);return mB("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function SB(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let FX="div";var AB=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(AB||{});function BX(t,e){let r=v.useRef(null),n=nr(r,e),{initialFocus:a,containers:i,features:o=30,...l}=t;iu()||(o=1);let c=sl(r);zX({ownerDocument:c},!!(o&16));let u=UX({ownerDocument:c,container:r,initialFocus:a},!!(o&2));WX({ownerDocument:c,container:r,containers:i,previousActiveElement:u},!!(o&8));let d=LX(),f=be(y=>{let x=r.current;x&&(b=>b())(()=>{$t(d.current,{[cd.Forwards]:()=>{Pd(x,ns.First,{skipElements:[y.relatedTarget]})},[cd.Backwards]:()=>{Pd(x,ns.Last,{skipElements:[y.relatedTarget]})}})})}),m=qi(),h=v.useRef(!1),p={ref:n,onKeyDown(y){y.key=="Tab"&&(h.current=!0,m.requestAnimationFrame(()=>{h.current=!1}))},onBlur(y){let x=SB(i);r.current instanceof HTMLElement&&x.add(r.current);let b=y.relatedTarget;b instanceof HTMLElement&&b.dataset.headlessuiFocusGuard!=="true"&&(TB(x,b)||(h.current?Pd(r.current,$t(d.current,{[cd.Forwards]:()=>ns.Next,[cd.Backwards]:()=>ns.Previous})|ns.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&gi(y.target)))}};return q.createElement(q.Fragment,null,!!(o&4)&&q.createElement(pb,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Sf.Focusable}),Yt({ourProps:p,theirProps:l,defaultTag:FX,name:"FocusTrap"}),!!(o&4)&&q.createElement(pb,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Sf.Focusable}))}let qX=Vt(BX),_u=Object.assign(qX,{features:AB});function VX(t=!0){let e=v.useRef(ka.slice());return Cf(([r],[n])=>{n===!0&&r===!1&&nv(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=ka.slice())},[t,ka,e]),be(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function zX({ownerDocument:t},e){let r=VX(e);Cf(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&gi(r())},[e]),CB(()=>{e&&gi(r())})}function UX({ownerDocument:t,container:e,initialFocus:r},n){let a=v.useRef(null),i=$m();return Cf(()=>{if(!n)return;let o=e.current;o&&nv(()=>{if(!i.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(o.contains(l)){a.current=l;return}r!=null&&r.current?gi(r.current):Pd(o,ns.First)===lB.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=t==null?void 0:t.activeElement})},[n]),a}function WX({ownerDocument:t,container:e,containers:r,previousActiveElement:n},a){let i=$m();NB(t==null?void 0:t.defaultView,"focus",o=>{if(!a||!i.current)return;let l=SB(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=o.target;u&&u instanceof HTMLElement?TB(l,u)?(n.current=u,gi(u)):(o.preventDefault(),o.stopPropagation(),gi(c)):gi(n.current)},!0)}function TB(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let kB=v.createContext(!1);function HX(){return v.useContext(kB)}function RS(t){return q.createElement(kB.Provider,{value:t.force},t.children)}function GX(t){let e=HX(),r=v.useContext(EB),n=sl(t),[a,i]=v.useState(()=>{if(!e&&r!==null||hs.isServer)return null;let o=n==null?void 0:n.getElementById("headlessui-portal-root");if(o)return o;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return v.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),v.useEffect(()=>{e||r!==null&&i(r.current)},[r,i,e]),a}let YX=v.Fragment;function KX(t,e){let r=t,n=v.useRef(null),a=nr(aX(d=>{n.current=d}),e),i=sl(n),o=GX(n),[l]=v.useState(()=>{var d;return hs.isServer?null:(d=i==null?void 0:i.createElement("div"))!=null?d:null}),c=v.useContext(MS),u=iu();return pt(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),pt(()=>{if(l&&c)return c.register(l)},[c,l]),CB(()=>{var d;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!l?null:Y0.createPortal(Yt({ourProps:{ref:a},theirProps:r,defaultTag:YX,name:"Portal"}),l):null}let JX=v.Fragment,EB=v.createContext(null);function XX(t,e){let{target:r,...n}=t,a={ref:nr(e)};return q.createElement(EB.Provider,{value:r},Yt({ourProps:a,theirProps:n,defaultTag:JX,name:"Popover.Group"}))}let MS=v.createContext(null);function ZX(){let t=v.useContext(MS),e=v.useRef([]),r=be(i=>(e.current.push(i),t&&t.register(i),()=>n(i))),n=be(i=>{let o=e.current.indexOf(i);o!==-1&&e.current.splice(o,1),t&&t.unregister(i)}),a=v.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,v.useMemo(()=>function({children:i}){return q.createElement(MS.Provider,{value:a},i)},[a])]}let QX=Vt(KX),eZ=Vt(XX),LS=Object.assign(QX,{Group:eZ});function tZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const rZ=typeof Object.is=="function"?Object.is:tZ,{useState:nZ,useEffect:aZ,useLayoutEffect:sZ,useDebugValue:iZ}=Ci;function oZ(t,e,r){const n=e(),[{inst:a},i]=nZ({inst:{value:n,getSnapshot:e}});return sZ(()=>{a.value=n,a.getSnapshot=e,jN(a)&&i({inst:a})},[t,n,e]),aZ(()=>(jN(a)&&i({inst:a}),t(()=>{jN(a)&&i({inst:a})})),[t]),iZ(n),n}function jN(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!rZ(r,n)}catch{return!0}}function lZ(t,e,r){return e()}const cZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uZ=!cZ,dZ=uZ?lZ:oZ,fZ="useSyncExternalStore"in Ci?(t=>t.useSyncExternalStore)(Ci):dZ;function mZ(t){return fZ(t.subscribe,t.getSnapshot,t.getSnapshot)}function hZ(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...i){let o=e[a].call(r,...i);o&&(r=o,n.forEach(l=>l()))}}}function pZ(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,a=n.clientWidth-n.offsetWidth,i=t-a;r.style(n,"paddingRight",`${i}px`)}}}function gZ(){return dB()?{before({doc:t,d:e,meta:r}){function n(a){return r.containers.flatMap(i=>i()).some(i=>i.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=wn();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let i=(a=window.scrollY)!=null?a:window.pageYOffset,o=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function yZ(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function xZ(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let bo=hZ(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:wn(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:xZ(r)},a=[gZ(),pZ(),yZ()];a.forEach(({before:i})=>i==null?void 0:i(n)),a.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});bo.subscribe(()=>{let t=bo.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&bo.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&bo.dispatch("TEARDOWN",r)}});function bZ(t,e,r){let n=mZ(bo),a=t?n.get(t):void 0,i=a?a.count>0:!1;return pt(()=>{if(!(!t||!e))return bo.dispatch("PUSH",t,r),()=>bo.dispatch("POP",t,r)},[e,t]),i}let wN=new Map,$u=new Map;function FD(t,e=!0){pt(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function a(){var o;if(!n)return;let l=(o=$u.get(n))!=null?o:1;if(l===1?$u.delete(n):$u.set(n,l-1),l!==1)return;let c=wN.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,wN.delete(n))}let i=(r=$u.get(n))!=null?r:0;return $u.set(n,i+1),i!==0||(wN.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[t,e])}function vZ({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let a=v.useRef((n=r==null?void 0:r.current)!=null?n:null),i=sl(a),o=be(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(a.current)||f.contains((u=(c=a.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(m=>f.contains(m))||d.push(f));return d});return{resolveContainers:o,contains:be(l=>o().some(c=>c.contains(l))),mainTreeNodeRef:a,MainTreeNode:v.useMemo(()=>function(){return r!=null?null:q.createElement(pb,{features:Sf.Hidden,ref:a})},[a,r])}}let Uk=v.createContext(()=>{});Uk.displayName="StackContext";var FS=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(FS||{});function jZ(){return v.useContext(Uk)}function wZ({children:t,onUpdate:e,type:r,element:n,enabled:a}){let i=jZ(),o=be((...l)=>{e==null||e(...l),i(...l)});return pt(()=>{let l=a===void 0||a===!0;return l&&o(0,r,n),()=>{l&&o(1,r,n)}},[o,r,n,a]),q.createElement(Uk.Provider,{value:o},t)}let OB=v.createContext(null);function PB(){let t=v.useContext(OB);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,PB),e}return t}function NZ(){let[t,e]=v.useState([]);return[t.length>0?t.join(" "):void 0,v.useMemo(()=>function(r){let n=be(i=>(e(o=>[...o,i]),()=>e(o=>{let l=o.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),a=v.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return q.createElement(OB.Provider,{value:a},r.children)},[e])]}let CZ="p";function SZ(t,e){let r=nn(),{id:n=`headlessui-description-${r}`,...a}=t,i=PB(),o=nr(e);pt(()=>i.register(n),[n,i.register]);let l={ref:o,...i.props,id:n};return Yt({ourProps:l,theirProps:a,slot:i.slot||{},defaultTag:CZ,name:i.name||"Description"})}let AZ=Vt(SZ),TZ=Object.assign(AZ,{});var kZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(kZ||{}),EZ=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(EZ||{});let OZ={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},gb=v.createContext(null);gb.displayName="DialogContext";function Rm(t){let e=v.useContext(gb);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Rm),r}return e}function PZ(t,e,r=()=>[document.body]){bZ(t,e,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function DZ(t,e){return $t(e.type,OZ,t,e)}let IZ="div",_Z=ki.RenderStrategy|ki.Static;function $Z(t,e){let r=nn(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:i,initialFocus:o,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=v.useState(0),m=v.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=Im();a===void 0&&h!==null&&(a=(h&Xt.Open)===Xt.Open);let p=v.useRef(null),y=nr(p,e),x=sl(p),b=t.hasOwnProperty("open")||h!==null,g=t.hasOwnProperty("onClose");if(!b&&!g)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!g)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let j=a?0:1,[C,N]=v.useReducer(DZ,{titleId:null,descriptionId:null,panelRef:v.createRef()}),w=be(()=>i(!1)),S=be(H=>N({type:0,id:H})),T=iu()?c?!1:j===0:!1,k=d>1,E=v.useContext(gb)!==null,[O,M]=ZX(),I={get current(){var H;return(H=C.panelRef.current)!=null?H:p.current}},{resolveContainers:V,mainTreeNodeRef:P,MainTreeNode:F}=vZ({portals:O,defaultContainers:[I]}),U=k?"parent":"leaf",R=h!==null?(h&Xt.Closing)===Xt.Closing:!1,_=E||R?!1:T,B=v.useCallback(()=>{var H,Y;return(Y=Array.from((H=x==null?void 0:x.querySelectorAll("body > *"))!=null?H:[]).find(fe=>fe.id==="headlessui-portal-root"?!1:fe.contains(P.current)&&fe instanceof HTMLElement))!=null?Y:null},[P]);FD(B,_);let X=k?!0:T,$=v.useCallback(()=>{var H,Y;return(Y=Array.from((H=x==null?void 0:x.querySelectorAll("[data-headlessui-portal]"))!=null?H:[]).find(fe=>fe.contains(P.current)&&fe instanceof HTMLElement))!=null?Y:null},[P]);FD($,X),Lk(V,H=>{H.preventDefault(),w()},!(!T||k));let ne=!(k||j!==0);NB(x==null?void 0:x.defaultView,"keydown",H=>{ne&&(H.defaultPrevented||H.key===at.Escape&&(H.preventDefault(),H.stopPropagation(),w()))}),PZ(x,!(R||j!==0||E),V),v.useEffect(()=>{if(j!==0||!p.current)return;let H=new ResizeObserver(Y=>{for(let fe of Y){let je=fe.target.getBoundingClientRect();je.x===0&&je.y===0&&je.width===0&&je.height===0&&w()}});return H.observe(p.current),()=>H.disconnect()},[j,p,w]);let[ee,re]=NZ(),_e=v.useMemo(()=>[{dialogState:j,close:w,setTitleId:S},C],[j,C,w,S]),Z=v.useMemo(()=>({open:j===0}),[j]),K={ref:y,id:n,role:l,"aria-modal":j===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":ee};return q.createElement(wZ,{type:"Dialog",enabled:j===0,element:p,onUpdate:be((H,Y)=>{Y==="Dialog"&&$t(H,{[FS.Add]:()=>f(fe=>fe+1),[FS.Remove]:()=>f(fe=>fe-1)})})},q.createElement(RS,{force:!0},q.createElement(LS,null,q.createElement(gb.Provider,{value:_e},q.createElement(LS.Group,{target:p},q.createElement(RS,{force:!1},q.createElement(re,{slot:Z,name:"Dialog.Description"},q.createElement(_u,{initialFocus:o,containers:V,features:T?$t(U,{parent:_u.features.RestoreFocus,leaf:_u.features.All&~_u.features.FocusLock}):_u.features.None},q.createElement(M,null,Yt({ourProps:K,theirProps:u,slot:Z,defaultTag:IZ,features:_Z,visible:j===0,name:"Dialog"}))))))))),q.createElement(F,null))}let RZ="div";function MZ(t,e){let r=nn(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=t,[{dialogState:i,close:o}]=Rm("Dialog.Overlay"),l=nr(e),c=be(d=>{if(d.target===d.currentTarget){if(qk(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),o()}}),u=v.useMemo(()=>({open:i===0}),[i]);return Yt({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:a,slot:u,defaultTag:RZ,name:"Dialog.Overlay"})}let LZ="div";function FZ(t,e){let r=nn(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=t,[{dialogState:i},o]=Rm("Dialog.Backdrop"),l=nr(e);v.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let c=v.useMemo(()=>({open:i===0}),[i]);return q.createElement(RS,{force:!0},q.createElement(LS,null,Yt({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:a,slot:c,defaultTag:LZ,name:"Dialog.Backdrop"})))}let BZ="div";function qZ(t,e){let r=nn(),{id:n=`headlessui-dialog-panel-${r}`,...a}=t,[{dialogState:i},o]=Rm("Dialog.Panel"),l=nr(e,o.panelRef),c=v.useMemo(()=>({open:i===0}),[i]),u=be(d=>{d.stopPropagation()});return Yt({ourProps:{ref:l,id:n,onClick:u},theirProps:a,slot:c,defaultTag:BZ,name:"Dialog.Panel"})}let VZ="h2";function zZ(t,e){let r=nn(),{id:n=`headlessui-dialog-title-${r}`,...a}=t,[{dialogState:i,setTitleId:o}]=Rm("Dialog.Title"),l=nr(e);v.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=v.useMemo(()=>({open:i===0}),[i]);return Yt({ourProps:{ref:l,id:n},theirProps:a,slot:c,defaultTag:VZ,name:"Dialog.Title"})}let UZ=Vt($Z),WZ=Vt(FZ),HZ=Vt(qZ),GZ=Vt(MZ),YZ=Vt(zZ),NN=Object.assign(UZ,{Backdrop:WZ,Panel:HZ,Overlay:GZ,Title:YZ,Description:TZ}),BD=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function qD(t){var e,r;let n=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let i=!1;for(let l of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),i=!0;let o=i?(r=a.innerText)!=null?r:"":n;return BD.test(o)&&(o=o.replace(BD,"")),o}function KZ(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(a=>{let i=document.getElementById(a);if(i){let o=i.getAttribute("aria-label");return typeof o=="string"?o.trim():qD(i).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return qD(t).trim()}function JZ(t){let e=v.useRef(""),r=v.useRef("");return be(()=>{let n=t.current;if(!n)return"";let a=n.innerText;if(e.current===a)return r.current;let i=KZ(n).trim().toLowerCase();return e.current=a,r.current=i,i})}var XZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(XZ||{}),ZZ=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(ZZ||{}),QZ=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(QZ||{});function CN(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=Mk(e(t.items.slice()),i=>i.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let eQ={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=CN(t),a=$S(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),a=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(o=>{var l;return((l=o.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!o.dataRef.current.disabled}),i=a?t.items.indexOf(a):-1;return i===-1||i===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:i,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=CN(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=CN(t,n=>{let a=n.findIndex(i=>i.id===e.id);return a!==-1&&n.splice(a,1),n});return{...t,...r,activationTrigger:1}}},Wk=v.createContext(null);Wk.displayName="MenuContext";function sv(t){let e=v.useContext(Wk);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,sv),r}return e}function tQ(t,e){return $t(e.type,eQ,t,e)}let rQ=v.Fragment;function nQ(t,e){let{__demoMode:r=!1,...n}=t,a=v.useReducer(tQ,{__demoMode:r,menuState:r?0:1,buttonRef:v.createRef(),itemsRef:v.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:i,itemsRef:o,buttonRef:l},c]=a,u=nr(e);Lk([l,o],(h,p)=>{var y;c({type:1}),Rk(p,$k.Loose)||(h.preventDefault(),(y=l.current)==null||y.focus())},i===0);let d=be(()=>{c({type:1})}),f=v.useMemo(()=>({open:i===0,close:d}),[i,d]),m={ref:u};return q.createElement(Wk.Provider,{value:a},q.createElement(Bk,{value:$t(i,{0:Xt.Open,1:Xt.Closed})},Yt({ourProps:m,theirProps:n,slot:f,defaultTag:rQ,name:"Menu"})))}let aQ="button";function sQ(t,e){var r;let n=nn(),{id:a=`headlessui-menu-button-${n}`,...i}=t,[o,l]=sv("Menu.Button"),c=nr(o.buttonRef,e),u=qi(),d=be(y=>{switch(y.key){case at.Space:case at.Enter:case at.ArrowDown:y.preventDefault(),y.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ct.First}));break;case at.ArrowUp:y.preventDefault(),y.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ct.Last}));break}}),f=be(y=>{switch(y.key){case at.Space:y.preventDefault();break}}),m=be(y=>{if(qk(y.currentTarget))return y.preventDefault();t.disabled||(o.menuState===0?(l({type:1}),u.nextFrame(()=>{var x;return(x=o.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})})):(y.preventDefault(),l({type:0})))}),h=v.useMemo(()=>({open:o.menuState===0}),[o]),p={ref:c,id:a,type:hB(t,o.buttonRef),"aria-haspopup":"menu","aria-controls":(r=o.itemsRef.current)==null?void 0:r.id,"aria-expanded":o.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return Yt({ourProps:p,theirProps:i,slot:h,defaultTag:aQ,name:"Menu.Button"})}let iQ="div",oQ=ki.RenderStrategy|ki.Static;function lQ(t,e){var r,n;let a=nn(),{id:i=`headlessui-menu-items-${a}`,...o}=t,[l,c]=sv("Menu.Items"),u=nr(l.itemsRef,e),d=sl(l.itemsRef),f=qi(),m=Im(),h=m!==null?(m&Xt.Open)===Xt.Open:l.menuState===0;v.useEffect(()=>{let g=l.itemsRef.current;g&&l.menuState===0&&g!==(d==null?void 0:d.activeElement)&&g.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),yB({container:l.itemsRef.current,enabled:l.menuState===0,accept(g){return g.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:g.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(g){g.setAttribute("role","none")}});let p=be(g=>{var j,C;switch(f.dispose(),g.key){case at.Space:if(l.searchQuery!=="")return g.preventDefault(),g.stopPropagation(),c({type:3,value:g.key});case at.Enter:if(g.preventDefault(),g.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:N}=l.items[l.activeItemIndex];(C=(j=N.current)==null?void 0:j.domRef.current)==null||C.click()}uB(l.buttonRef.current);break;case at.ArrowDown:return g.preventDefault(),g.stopPropagation(),c({type:2,focus:ct.Next});case at.ArrowUp:return g.preventDefault(),g.stopPropagation(),c({type:2,focus:ct.Previous});case at.Home:case at.PageUp:return g.preventDefault(),g.stopPropagation(),c({type:2,focus:ct.First});case at.End:case at.PageDown:return g.preventDefault(),g.stopPropagation(),c({type:2,focus:ct.Last});case at.Escape:g.preventDefault(),g.stopPropagation(),c({type:1}),wn().nextFrame(()=>{var N;return(N=l.buttonRef.current)==null?void 0:N.focus({preventScroll:!0})});break;case at.Tab:g.preventDefault(),g.stopPropagation(),c({type:1}),wn().nextFrame(()=>{rX(l.buttonRef.current,g.shiftKey?ns.Previous:ns.Next)});break;default:g.key.length===1&&(c({type:3,value:g.key}),f.setTimeout(()=>c({type:4}),350));break}}),y=be(g=>{switch(g.key){case at.Space:g.preventDefault();break}}),x=v.useMemo(()=>({open:l.menuState===0}),[l]),b={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:i,onKeyDown:p,onKeyUp:y,role:"menu",tabIndex:0,ref:u};return Yt({ourProps:b,theirProps:o,slot:x,defaultTag:iQ,features:oQ,visible:h,name:"Menu.Items"})}let cQ=v.Fragment;function uQ(t,e){let r=nn(),{id:n=`headlessui-menu-item-${r}`,disabled:a=!1,...i}=t,[o,l]=sv("Menu.Item"),c=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===n:!1,u=v.useRef(null),d=nr(e,u);pt(()=>{if(o.__demoMode||o.menuState!==0||!c||o.activationTrigger===0)return;let N=wn();return N.requestAnimationFrame(()=>{var w,S;(S=(w=u.current)==null?void 0:w.scrollIntoView)==null||S.call(w,{block:"nearest"})}),N.dispose},[o.__demoMode,u,c,o.menuState,o.activationTrigger,o.activeItemIndex]);let f=JZ(u),m=v.useRef({disabled:a,domRef:u,get textValue(){return f()}});pt(()=>{m.current.disabled=a},[m,a]),pt(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let h=be(()=>{l({type:1})}),p=be(N=>{if(a)return N.preventDefault();l({type:1}),uB(o.buttonRef.current)}),y=be(()=>{if(a)return l({type:2,focus:ct.Nothing});l({type:2,focus:ct.Specific,id:n})}),x=gB(),b=be(N=>x.update(N)),g=be(N=>{x.wasMoved(N)&&(a||c||l({type:2,focus:ct.Specific,id:n,trigger:0}))}),j=be(N=>{x.wasMoved(N)&&(a||c&&l({type:2,focus:ct.Nothing}))}),C=v.useMemo(()=>({active:c,disabled:a,close:h}),[c,a,h]);return Yt({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:p,onFocus:y,onPointerEnter:b,onMouseEnter:b,onPointerMove:g,onMouseMove:g,onPointerLeave:j,onMouseLeave:j},theirProps:i,slot:C,defaultTag:cQ,name:"Menu.Item"})}let dQ=Vt(nQ),fQ=Vt(sQ),mQ=Vt(lQ),hQ=Vt(uQ),Cl=Object.assign(dQ,{Button:fQ,Items:mQ,Item:hQ});function pQ(t=0){let[e,r]=v.useState(t),n=$m(),a=v.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),i=v.useCallback(c=>!!(e&c),[e]),o=v.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=v.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:a,hasFlag:i,removeFlag:o,toggleFlag:l}}function gQ(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function SN(t,...e){t&&e.length>0&&t.classList.add(...e)}function AN(t,...e){t&&e.length>0&&t.classList.remove(...e)}function yQ(t,e){let r=wn();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(t),[i,o]=[n,a].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=i+o;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function xQ(t,e,r,n){let a=r?"enter":"leave",i=wn(),o=n!==void 0?gQ(n):()=>{};a==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=$t(a,{enter:()=>e.enter,leave:()=>e.leave}),c=$t(a,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=$t(a,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return AN(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),SN(t,...e.base,...l,...u),i.nextFrame(()=>{AN(t,...e.base,...l,...u),SN(t,...e.base,...l,...c),yQ(t,()=>(AN(t,...e.base,...l),SN(t,...e.base,...e.entered),o()))}),i.dispose}function bQ({immediate:t,container:e,direction:r,classes:n,onStart:a,onStop:i}){let o=$m(),l=qi(),c=ua(r);pt(()=>{t&&(c.current="enter")},[t]),pt(()=>{let u=wn();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&o.current)return u.dispose(),a.current(c.current),u.add(xQ(d,n.current,c.current==="enter",()=>{u.dispose(),i.current(c.current)})),u.dispose},[r])}function Vs(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let iv=v.createContext(null);iv.displayName="TransitionContext";var vQ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(vQ||{});function jQ(){let t=v.useContext(iv);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function wQ(){let t=v.useContext(ov);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let ov=v.createContext(null);ov.displayName="NestingContext";function lv(t){return"children"in t?lv(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function DB(t,e){let r=ua(t),n=v.useRef([]),a=$m(),i=qi(),o=be((h,p=ri.Hidden)=>{let y=n.current.findIndex(({el:x})=>x===h);y!==-1&&($t(p,{[ri.Unmount](){n.current.splice(y,1)},[ri.Hidden](){n.current[y].state="hidden"}}),i.microTask(()=>{var x;!lv(n)&&a.current&&((x=r.current)==null||x.call(r))}))}),l=be(h=>{let p=n.current.find(({el:y})=>y===h);return p?p.state!=="visible"&&(p.state="visible"):n.current.push({el:h,state:"visible"}),()=>o(h,ri.Unmount)}),c=v.useRef([]),u=v.useRef(Promise.resolve()),d=v.useRef({enter:[],leave:[],idle:[]}),f=be((h,p,y)=>{c.current.splice(0),e&&(e.chains.current[p]=e.chains.current[p].filter(([x])=>x!==h)),e==null||e.chains.current[p].push([h,new Promise(x=>{c.current.push(x)})]),e==null||e.chains.current[p].push([h,new Promise(x=>{Promise.all(d.current[p].map(([b,g])=>g)).then(()=>x())})]),p==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>y(p)):y(p)}),m=be((h,p,y)=>{Promise.all(d.current[p].splice(0).map(([x,b])=>b)).then(()=>{var x;(x=c.current.shift())==null||x()}).then(()=>y(p))});return v.useMemo(()=>({children:n,register:l,unregister:o,onStart:f,onStop:m,wait:u,chains:d}),[l,o,n,f,m,d,u])}function NQ(){}let CQ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function VD(t){var e;let r={};for(let n of CQ)r[n]=(e=t[n])!=null?e:NQ;return r}function SQ(t){let e=v.useRef(VD(t));return v.useEffect(()=>{e.current=VD(t)},[t]),e}let AQ="div",IB=ki.RenderStrategy;function TQ(t,e){var r,n;let{beforeEnter:a,afterEnter:i,beforeLeave:o,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:h,leaveTo:p,...y}=t,x=v.useRef(null),b=nr(x,e),g=(r=y.unmount)==null||r?ri.Unmount:ri.Hidden,{show:j,appear:C,initial:N}=jQ(),[w,S]=v.useState(j?"visible":"hidden"),T=wQ(),{register:k,unregister:E}=T;v.useEffect(()=>k(x),[k,x]),v.useEffect(()=>{if(g===ri.Hidden&&x.current){if(j&&w!=="visible"){S("visible");return}return $t(w,{hidden:()=>E(x),visible:()=>k(x)})}},[w,x,k,E,j,g]);let O=ua({base:Vs(y.className),enter:Vs(c),enterFrom:Vs(u),enterTo:Vs(d),entered:Vs(f),leave:Vs(m),leaveFrom:Vs(h),leaveTo:Vs(p)}),M=SQ({beforeEnter:a,afterEnter:i,beforeLeave:o,afterLeave:l}),I=iu();v.useEffect(()=>{if(I&&w==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,w,I]);let V=N&&!C,P=C&&j&&N,F=!I||V?"idle":j?"enter":"leave",U=pQ(0),R=be(ne=>$t(ne,{enter:()=>{U.addFlag(Xt.Opening),M.current.beforeEnter()},leave:()=>{U.addFlag(Xt.Closing),M.current.beforeLeave()},idle:()=>{}})),_=be(ne=>$t(ne,{enter:()=>{U.removeFlag(Xt.Opening),M.current.afterEnter()},leave:()=>{U.removeFlag(Xt.Closing),M.current.afterLeave()},idle:()=>{}})),B=DB(()=>{S("hidden"),E(x)},T),X=v.useRef(!1);bQ({immediate:P,container:x,classes:O,direction:F,onStart:ua(ne=>{X.current=!0,B.onStart(x,ne,R)}),onStop:ua(ne=>{X.current=!1,B.onStop(x,ne,_),ne==="leave"&&!lv(B)&&(S("hidden"),E(x))})});let $=y,z={ref:b};return P?$={...$,className:hb(y.className,...O.current.enter,...O.current.enterFrom)}:X.current&&($.className=hb(y.className,(n=x.current)==null?void 0:n.className),$.className===""&&delete $.className),q.createElement(ov.Provider,{value:B},q.createElement(Bk,{value:$t(w,{visible:Xt.Open,hidden:Xt.Closed})|U.flags},Yt({ourProps:z,theirProps:$,defaultTag:AQ,features:IB,visible:w==="visible",name:"Transition.Child"})))}function kQ(t,e){let{show:r,appear:n=!1,unmount:a=!0,...i}=t,o=v.useRef(null),l=nr(o,e);iu();let c=Im();if(r===void 0&&c!==null&&(r=(c&Xt.Open)===Xt.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=v.useState(r?"visible":"hidden"),f=DB(()=>{d("hidden")}),[m,h]=v.useState(!0),p=v.useRef([r]);pt(()=>{m!==!1&&p.current[p.current.length-1]!==r&&(p.current.push(r),h(!1))},[p,r]);let y=v.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);v.useEffect(()=>{if(r)d("visible");else if(!lv(f))d("hidden");else{let j=o.current;if(!j)return;let C=j.getBoundingClientRect();C.x===0&&C.y===0&&C.width===0&&C.height===0&&d("hidden")}},[r,f]);let x={unmount:a},b=be(()=>{var j;m&&h(!1),(j=t.beforeEnter)==null||j.call(t)}),g=be(()=>{var j;m&&h(!1),(j=t.beforeLeave)==null||j.call(t)});return q.createElement(ov.Provider,{value:f},q.createElement(iv.Provider,{value:y},Yt({ourProps:{...x,as:v.Fragment,children:q.createElement(_B,{ref:l,...x,...i,beforeEnter:b,beforeLeave:g})},theirProps:{},defaultTag:v.Fragment,features:IB,visible:u==="visible",name:"Transition"})))}function EQ(t,e){let r=v.useContext(iv)!==null,n=Im()!==null;return q.createElement(q.Fragment,null,!r&&n?q.createElement(BS,{ref:e,...t}):q.createElement(_B,{ref:e,...t}))}let BS=Vt(kQ),_B=Vt(TQ),OQ=Vt(EQ),Dp=Object.assign(BS,{Child:OQ,Root:BS});function PQ({toggleSidebar:t,isSidebarOpen:e}){var u,d;const r=ce(),{user:n}=W(f=>f.auth),[a,i]=v.useState(!1),o=v.useRef(null),l=J0();v.useEffect(()=>{if(!a)return;function f(m){o.current&&!o.current.contains(m.target)&&i(!1)}return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[a]);const c=()=>{r(U4())};return s.jsxs("header",{className:"bg-white shadow-sm z-10 relative",children:[s.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0 flex items-center lg:hidden",children:s.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:t,children:[s.jsx("span",{className:"sr-only",children:e?"Close sidebar":"Open sidebar"}),e?s.jsx(sB,{className:"block h-6 w-6","aria-hidden":"true"}):s.jsx(nJ,{className:"block h-6 w-6","aria-hidden":"true"})]})}),s.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:s.jsx("div",{className:"text-xl font-semibold text-neutral-900"})})]}),s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"ml-3 relative",children:s.jsxs(Cl,{as:"div",className:"relative",children:[s.jsxs(Cl.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[s.jsx("span",{className:"sr-only",children:"Open user menu"}),s.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:[((u=n==null?void 0:n.first_name)==null?void 0:u.charAt(0))||"",((d=n==null?void 0:n.last_name)==null?void 0:d.charAt(0))||""]})]}),s.jsx(Dp,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:s.jsxs(Cl.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-neutral-100 focus:outline-none",children:[s.jsx("div",{className:"py-1",children:s.jsxs("div",{className:"px-4 py-2",children:[s.jsxs("p",{className:"text-sm font-medium text-neutral-900 truncate",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.middle_name," ",n==null?void 0:n.last_name]}),s.jsx("p",{className:"text-xs text-neutral-500",children:n==null?void 0:n.email})]})}),s.jsx("div",{className:"py-1",children:s.jsx(Cl.Item,{children:({active:f})=>s.jsxs("button",{onClick:()=>l("/profile"),className:`${f?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[s.jsx(OJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Profile"]})})}),s.jsx("div",{className:"py-1",children:s.jsx(Cl.Item,{children:({active:f})=>s.jsxs("button",{onClick:()=>l("/change-password"),className:`${f?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[s.jsx(wJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Change Password"]})})}),s.jsx("div",{className:"py-1",children:s.jsx(Cl.Item,{children:({active:f})=>s.jsxs("button",{onClick:c,className:`${f?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[s.jsx(QK,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Sign out"]})})})]})})]})})})]})}),a&&s.jsxs("div",{ref:o,className:"absolute right-4 mt-2 w-80 sm:w-96 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[s.jsx("div",{className:"p-4 border-b border-neutral-200",children:s.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Notifications"})}),s.jsxs("div",{className:"divide-y divide-neutral-100 max-h-80 overflow-y-auto",children:[s.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:s.jsx(DQ,{className:"h-5 w-5 text-primary-600"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"New ORS needs approval"}),s.jsx("p",{className:"text-sm text-neutral-500",children:"ORS-2024-01-0023 from IT Department"}),s.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"30 minutes ago"})]})]})}),s.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-success-100 flex items-center justify-center",children:s.jsx(IQ,{className:"h-5 w-5 text-success-600"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"DV approved"}),s.jsx("p",{className:"text-sm text-neutral-500",children:"DV-2024-01-0015 has been approved"}),s.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"2 hours ago"})]})]})})]}),s.jsx("div",{className:"p-2 border-t border-neutral-200 text-center",children:s.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})}function DQ(t){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}function IQ(t){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function _Q(){const[t,e]=v.useState(!0),r=Li();v.useEffect(()=>{const a=()=>{window.innerWidth<1024?e(!1):e(!0)};return window.addEventListener("resize",a),a(),()=>window.removeEventListener("resize",a)},[]),v.useEffect(()=>{window.innerWidth<1024&&e(!1)},[r.pathname]);const n=()=>{e(!t)};return s.jsxs("div",{className:"h-screen flex overflow-hidden bg-neutral-50",children:[t&&s.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-75 z-20",onClick:()=>e(!1)}),s.jsx("div",{className:`fixed inset-y-0 left-0 flex flex-col z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${t?"translate-x-0":"-translate-x-full"}`,style:{width:"300px"},children:s.jsx(_J,{})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(PQ,{toggleSidebar:n,isSidebarOpen:t}),s.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:s.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:s.jsx(D4,{})})})]})]})}const $Q=()=>s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"w-full max-w-md space-y-8",children:s.jsx(D4,{})})});function RQ(){const[t,e]=v.useState(""),[r,n]=v.useState(""),a=ce(),{isLoading:i,error:o}=W(c=>c.auth),l=c=>{c.preventDefault(),a(Ep({username:t,password:r}))};return s.jsx("div",{className:"bg-neutral-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-neutral-900",children:"LGU Management System"}),s.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to access your account"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[s.jsxs("div",{className:"rounded-md space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-neutral-700",children:"Username"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:t,onChange:c=>e(c.target.value),className:"px-4 py-2 rounded-md border border-neutral-200 focus:ring-primary-500 focus:border-primary-500 block w-full",placeholder:"admin"})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700",children:"Password"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:c=>n(c.target.value),className:"px-4 py-2 rounded-md border border-neutral-200 focus:ring-primary-500 focus:border-primary-500 block w-full",placeholder:"*********"})})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]})})]}),o&&s.jsx("div",{className:"rounded-md bg-error-50 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(nB,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm font-medium text-error-800",children:o})})]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:i,className:`btn btn-primary w-full flex justify-center items-center ${i?"opacity-70 cursor-not-allowed":""}`,children:i?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),s.jsx("div",{className:"text-center text-sm text-neutral-500 mt-8",children:" 2025 Local Government Unit. All rights reserved."})]})})}const MQ=()=>s.jsx("div",{children:s.jsx("h1",{children:"Registration Page"})}),LQ=()=>s.jsx("div",{children:s.jsx("h1",{children:"Forgot Password Page"})}),FQ=()=>s.jsx("div",{children:s.jsx("h1",{children:"Reset Password Page"})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Mm(t){return t+.5|0}const ni=(t,e,r)=>Math.max(Math.min(t,r),e);function ud(t){return ni(Mm(t*2.55),0,255)}function yi(t){return ni(Mm(t*255),0,255)}function ts(t){return ni(Mm(t/2.55)/100,0,1)}function zD(t){return ni(Mm(t*100),0,100)}const On={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qS=[..."0123456789ABCDEF"],BQ=t=>qS[t&15],qQ=t=>qS[(t&240)>>4]+qS[t&15],Eh=t=>(t&240)>>4===(t&15),VQ=t=>Eh(t.r)&&Eh(t.g)&&Eh(t.b)&&Eh(t.a);function zQ(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&On[t[1]]*17,g:255&On[t[2]]*17,b:255&On[t[3]]*17,a:e===5?On[t[4]]*17:255}:(e===7||e===9)&&(r={r:On[t[1]]<<4|On[t[2]],g:On[t[3]]<<4|On[t[4]],b:On[t[5]]<<4|On[t[6]],a:e===9?On[t[7]]<<4|On[t[8]]:255})),r}const UQ=(t,e)=>t<255?e(t):"";function WQ(t){var e=VQ(t)?BQ:qQ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+UQ(t.a,e):void 0}const HQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $B(t,e,r){const n=e*Math.min(r,1-r),a=(i,o=(i+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function GQ(t,e,r){const n=(a,i=(a+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function YQ(t,e,r){const n=$B(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function KQ(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function Hk(t){const r=t.r/255,n=t.g/255,a=t.b/255,i=Math.max(r,n,a),o=Math.min(r,n,a),l=(i+o)/2;let c,u,d;return i!==o&&(d=i-o,u=l>.5?d/(2-i-o):d/(i+o),c=KQ(r,n,a,d,i),c=c*60+.5),[c|0,u||0,l]}function Gk(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(yi)}function Yk(t,e,r){return Gk($B,t,e,r)}function JQ(t,e,r){return Gk(YQ,t,e,r)}function XQ(t,e,r){return Gk(GQ,t,e,r)}function RB(t){return(t%360+360)%360}function ZQ(t){const e=HQ.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?ud(+e[5]):yi(+e[5]));const a=RB(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=JQ(a,i,o):e[1]==="hsv"?n=XQ(a,i,o):n=Yk(a,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function QQ(t,e){var r=Hk(t);r[0]=RB(r[0]+e),r=Yk(r),t.r=r[0],t.g=r[1],t.b=r[2]}function eee(t){if(!t)return;const e=Hk(t),r=e[0],n=zD(e[1]),a=zD(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${ts(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const UD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},WD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tee(){const t={},e=Object.keys(WD),r=Object.keys(UD);let n,a,i,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],a=0;a<r.length;a++)i=r[a],l=l.replace(i,UD[i]);i=parseInt(WD[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Oh;function ree(t){Oh||(Oh=tee(),Oh.transparent=[0,0,0,0]);const e=Oh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const nee=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aee(t){const e=nee.exec(t);let r=255,n,a,i;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?ud(o):ni(o*255,0,255)}return n=+e[1],a=+e[3],i=+e[5],n=255&(e[2]?ud(n):ni(n,0,255)),a=255&(e[4]?ud(a):ni(a,0,255)),i=255&(e[6]?ud(i):ni(i,0,255)),{r:n,g:a,b:i,a:r}}}function see(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ts(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const TN=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Sl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function iee(t,e,r){const n=Sl(ts(t.r)),a=Sl(ts(t.g)),i=Sl(ts(t.b));return{r:yi(TN(n+r*(Sl(ts(e.r))-n))),g:yi(TN(a+r*(Sl(ts(e.g))-a))),b:yi(TN(i+r*(Sl(ts(e.b))-i))),a:t.a+r*(e.a-t.a)}}function Ph(t,e,r){if(t){let n=Hk(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=Yk(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function MB(t,e){return t&&Object.assign(e||{},t)}function HD(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=yi(t[3]))):(e=MB(t,{r:0,g:0,b:0,a:1}),e.a=yi(e.a)),e}function oee(t){return t.charAt(0)==="r"?aee(t):ZQ(t)}let LB=class VS{constructor(e){if(e instanceof VS)return e;const r=typeof e;let n;r==="object"?n=HD(e):r==="string"&&(n=zQ(e)||ree(e)||oee(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=MB(this._rgb);return e&&(e.a=ts(e.a)),e}set rgb(e){this._rgb=HD(e)}rgbString(){return this._valid?see(this._rgb):void 0}hexString(){return this._valid?WQ(this._rgb):void 0}hslString(){return this._valid?eee(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let i;const o=r===i?.5:r,l=2*o-1,c=n.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,n.r=255&u*n.r+i*a.r+.5,n.g=255&u*n.g+i*a.g+.5,n.b=255&u*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=iee(this._rgb,e._rgb,r)),this}clone(){return new VS(this.rgb)}alpha(e){return this._rgb.a=yi(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Mm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ph(this._rgb,2,e),this}darken(e){return Ph(this._rgb,2,-e),this}saturate(e){return Ph(this._rgb,1,e),this}desaturate(e){return Ph(this._rgb,1,-e),this}rotate(e){return QQ(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ha(){}const lee=(()=>{let t=0;return()=>t++})();function qe(t){return t==null}function _t(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ue(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ht(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function sn(t,e){return Ht(t)?t:e}function Re(t,e){return typeof t>"u"?e:t}const cee=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,FB=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function jt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function lt(t,e,r,n){let a,i,o;if(_t(t))for(i=t.length,a=0;a<i;a++)e.call(r,t[a],a);else if(Ue(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(r,t[o[a]],o[a])}function yb(t,e){let r,n,a,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],i=e[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function xb(t){if(_t(t))return t.map(xb);if(Ue(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=xb(t[r[a]]);return e}return t}function BB(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function uee(t,e,r,n){if(!BB(t))return;const a=e[t],i=r[t];Ue(a)&&Ue(i)?Af(a,i,n):e[t]=xb(i)}function Af(t,e,r){const n=_t(e)?e:[e],a=n.length;if(!Ue(t))return t;r=r||{};const i=r.merger||uee;let o;for(let l=0;l<a;++l){if(o=n[l],!Ue(o))continue;const c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)i(c[u],t,o,r)}return t}function Dd(t,e){return Af(t,e,{merger:dee})}function dee(t,e,r){if(!BB(t))return;const n=e[t],a=r[t];Ue(n)&&Ue(a)?Dd(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=xb(a))}const GD={"":t=>t,x:t=>t.x,y:t=>t.y};function fee(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function mee(t){const e=fee(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Ei(t,e){return(GD[e]||(GD[e]=mee(e)))(t)}function Kk(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Tf=t=>typeof t<"u",Oi=t=>typeof t=="function",YD=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function hee(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Dt=Math.PI,Pt=2*Dt,pee=Pt+Dt,bb=Number.POSITIVE_INFINITY,gee=Dt/180,Zt=Dt/2,Ji=Dt/4,KD=Dt*2/3,ai=Math.log10,Da=Math.sign;function Id(t,e,r){return Math.abs(t-e)<r}function JD(t){const e=Math.round(t);t=Id(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(ai(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function yee(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,i)=>a-i).pop(),e}function xee(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Tc(t){return!xee(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function bee(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function qB(t,e,r){let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ia(t){return t*(Dt/180)}function Jk(t){return t*(180/Dt)}function XD(t){if(!Ht(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function VB(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Dt&&(i+=Pt),{angle:i,distance:a}}function zS(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vee(t,e){return(t-e+pee)%Pt-Dt}function cn(t){return(t%Pt+Pt)%Pt}function kf(t,e,r,n){const a=cn(t),i=cn(e),o=cn(r),l=cn(i-a),c=cn(o-a),u=cn(a-i),d=cn(a-o);return a===i||a===o||n&&i===o||l>c&&u<d}function mr(t,e,r){return Math.max(e,Math.min(r,t))}function jee(t){return mr(t,-32768,32767)}function is(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function Xk(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,r(i)?a=i:n=i;return{lo:a,hi:n}}const os=(t,e,r,n)=>Xk(t,r,n?a=>{const i=t[a][e];return i<r||i===r&&t[a+1][e]===r}:a=>t[a][e]<r),wee=(t,e,r)=>Xk(t,r,n=>t[n][e]>=r);function Nee(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const zB=["push","pop","shift","splice","unshift"];function Cee(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),zB.forEach(r=>{const n="_onData"+Kk(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function ZD(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(zB.forEach(i=>{delete t[i]}),delete t._chartjs)}function UB(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const WB=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function HB(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,WB.call(window,()=>{n=!1,t.apply(e,r)}))}}function See(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const Zk=t=>t==="start"?"left":t==="end"?"right":"center",kr=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,Aee=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function GB(t,e,r){const n=e.length;let a=0,i=n;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:f,max:m,minDefined:h,maxDefined:p}=o.getUserBounds();if(h){if(a=Math.min(os(c,d,f).lo,r?n:os(e,d,o.getPixelForValue(f)).lo),u){const y=c.slice(0,a+1).reverse().findIndex(x=>!qe(x[l.axis]));a-=Math.max(0,y)}a=mr(a,0,n-1)}if(p){let y=Math.max(os(c,o.axis,m,!0).hi+1,r?0:os(e,d,o.getPixelForValue(m),!0).hi+1);if(u){const x=c.slice(y-1).findIndex(b=>!qe(b[l.axis]));y+=Math.max(0,x)}i=mr(y,a,n)-a}else i=n-a}return{start:a,count:i}}function YB(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),i}const Dh=t=>t===0||t===1,QD=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Pt/r)),eI=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Pt/r)+1,_d={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Zt)+1,easeOutSine:t=>Math.sin(t*Zt),easeInOutSine:t=>-.5*(Math.cos(Dt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Dh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Dh(t)?t:QD(t,.075,.3),easeOutElastic:t=>Dh(t)?t:eI(t,.075,.3),easeInOutElastic(t){return Dh(t)?t:t<.5?.5*QD(t*2,.1125,.45):.5+.5*eI(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-_d.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?_d.easeInBounce(t*2)*.5:_d.easeOutBounce(t*2-1)*.5+.5};function Qk(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function tI(t){return Qk(t)?t:new LB(t)}function kN(t){return Qk(t)?t:new LB(t).saturate(.5).darken(.1).hexString()}const Tee=["x","y","borderWidth","radius","tension"],kee=["color","borderColor","backgroundColor"];function Eee(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:kee},numbers:{type:"number",properties:Tee}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Oee(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const rI=new Map;function Pee(t,e){e=e||{};const r=t+JSON.stringify(e);let n=rI.get(r);return n||(n=new Intl.NumberFormat(t,e),rI.set(r,n)),n}function Lm(t,e,r){return Pee(e,r).format(t)}const KB={values(t){return _t(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,i=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),i=Dee(t,r)}const o=ai(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Lm(t,n,c)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(ai(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?KB.numeric.call(this,t,e,r):""}};function Dee(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var cv={formatters:KB};function Iee(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Yo=Object.create(null),US=Object.create(null);function $d(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function EN(t,e,r){return typeof e=="string"?Af($d(t,e),r):Af($d(t,""),e)}class _ee{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>kN(a.backgroundColor),this.hoverBorderColor=(n,a)=>kN(a.borderColor),this.hoverColor=(n,a)=>kN(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return EN(this,e,r)}get(e){return $d(this,e)}describe(e,r){return EN(US,e,r)}override(e,r){return EN(Yo,e,r)}route(e,r,n,a){const i=$d(this,e),o=$d(this,n),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=o[a];return Ue(c)?Object.assign({},u,c):Re(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var Rt=new _ee({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Eee,Oee,Iee]);function $ee(t){return!t||qe(t.size)||qe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function vb(t,e,r,n,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,r.push(a)),i>n&&(n=i),n}function Ree(t,e,r,n){n=n||{};let a=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},i=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const l=r.length;let c,u,d,f,m;for(c=0;c<l;c++)if(f=r[c],f!=null&&!_t(f))o=vb(t,a,i,o,f);else if(_t(f))for(u=0,d=f.length;u<d;u++)m=f[u],m!=null&&!_t(m)&&(o=vb(t,a,i,o,m));t.restore();const h=i.length/2;if(h>r.length){for(c=0;c<h;c++)delete a[i[c]];i.splice(0,h)}return o}function Xi(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function nI(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function WS(t,e,r,n){JB(t,e,r,n,null)}function JB(t,e,r,n,a){let i,o,l,c,u,d,f,m;const h=e.pointStyle,p=e.rotation,y=e.radius;let x=(p||0)*gee;if(h&&typeof h=="object"&&(i=h.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(x),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),h){default:a?t.ellipse(r,n,a/2,y,0,0,Pt):t.arc(r,n,y,0,Pt),t.closePath();break;case"triangle":d=a?a/2:y,t.moveTo(r+Math.sin(x)*d,n-Math.cos(x)*y),x+=KD,t.lineTo(r+Math.sin(x)*d,n-Math.cos(x)*y),x+=KD,t.lineTo(r+Math.sin(x)*d,n-Math.cos(x)*y),t.closePath();break;case"rectRounded":u=y*.516,c=y-u,o=Math.cos(x+Ji)*c,f=Math.cos(x+Ji)*(a?a/2-u:c),l=Math.sin(x+Ji)*c,m=Math.sin(x+Ji)*(a?a/2-u:c),t.arc(r-f,n-l,u,x-Dt,x-Zt),t.arc(r+m,n-o,u,x-Zt,x),t.arc(r+f,n+l,u,x,x+Zt),t.arc(r-m,n+o,u,x+Zt,x+Dt),t.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*y,d=a?a/2:c,t.rect(r-d,n-c,2*d,2*c);break}x+=Ji;case"rectRot":f=Math.cos(x)*(a?a/2:y),o=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+m,n-o),t.lineTo(r+f,n+l),t.lineTo(r-m,n+o),t.closePath();break;case"crossRot":x+=Ji;case"cross":f=Math.cos(x)*(a?a/2:y),o=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-o),t.lineTo(r-m,n+o);break;case"star":f=Math.cos(x)*(a?a/2:y),o=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-o),t.lineTo(r-m,n+o),x+=Ji,f=Math.cos(x)*(a?a/2:y),o=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-o),t.lineTo(r-m,n+o);break;case"line":o=a?a/2:Math.cos(x)*y,l=Math.sin(x)*y,t.moveTo(r-o,n-l),t.lineTo(r+o,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(x)*(a?a/2:y),n+Math.sin(x)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ls(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function uv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function dv(t){t.restore()}function Mee(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Lee(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Fee(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),qe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Bee(t,e,r,n,a){if(a.strikethrough||a.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,u=r+i.actualBoundingBoxDescent,d=a.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,d),t.lineTo(l,d),t.stroke()}}function qee(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Ko(t,e,r,n,a,i={}){const o=_t(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=a.string,Fee(t,i),c=0;c<o.length;++c)u=o[c],i.backdrop&&qee(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),qe(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,r,n,i.maxWidth)),t.fillText(u,r,n,i.maxWidth),Bee(t,r,n,u,i),n+=Number(a.lineHeight);t.restore()}function Ef(t,e){const{x:r,y:n,w:a,h:i,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Dt,Dt,!0),t.lineTo(r,n+i-o.bottomLeft),t.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,Dt,Zt,!0),t.lineTo(r+a-o.bottomRight,n+i),t.arc(r+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,Zt,0,!0),t.lineTo(r+a,n+o.topRight),t.arc(r+a-o.topRight,n+o.topRight,o.topRight,0,-Zt,!0),t.lineTo(r+o.topLeft,n)}const Vee=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zee=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Uee(t,e){const r=(""+t).match(Vee);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const Wee=t=>+t||0;function eE(t,e){const r={},n=Ue(e),a=n?Object.keys(e):e,i=Ue(t)?n?o=>Re(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)r[o]=Wee(i(o));return r}function XB(t){return eE(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Eo(t){return eE(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ir(t){const e=XB(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function or(t,e){t=t||{},e=e||Rt.font;let r=Re(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Re(t.style,e.style);n&&!(""+n).match(zee)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Re(t.family,e.family),lineHeight:Uee(Re(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Re(t.weight,e.weight),string:""};return a.string=$ee(a),a}function dd(t,e,r,n){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function Hee(t,e,r){const{min:n,max:a}=t,i=FB(e,(a-n)/2),o=(l,c)=>r&&l===0?0:l+c;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function Vi(t,e){return Object.assign(Object.create(t),e)}function tE(t,e=[""],r,n,a=()=>t[0]){const i=r||t;typeof n>"u"&&(n=t6("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:a,override:l=>tE([l,...t],e,i,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return QB(l,c,()=>ete(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return sI(l).includes(c)},ownKeys(l){return sI(l)},set(l,c,u){const d=l._storage||(l._storage=a());return l[c]=d[c]=u,delete l._keys,!0}})}function kc(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:ZB(t,n),setContext:i=>kc(t,i,r,n),override:i=>kc(t.override(i),e,r,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return QB(i,o,()=>Yee(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function ZB(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:Oi(r)?r:()=>r,isIndexable:Oi(n)?n:()=>n}}const Gee=(t,e)=>t?t+Kk(e):e,rE=(t,e)=>Ue(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function QB(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function Yee(t,e,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=t;let l=n[e];return Oi(l)&&o.isScriptable(e)&&(l=Kee(e,l,t,r)),_t(l)&&l.length&&(l=Jee(e,l,t,o.isIndexable)),rE(e,l)&&(l=kc(l,a,i&&i[e],o)),l}function Kee(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||n);return l.delete(t),rE(t,c)&&(c=nE(a._scopes,a,t,c)),c}function Jee(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(Ue(e[0])){const c=e,u=a._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=nE(u,a,t,d);e.push(kc(f,i,o&&o[t],l))}}return e}function e6(t,e,r){return Oi(t)?t(e,r):t}const Xee=(t,e)=>t===!0?e:typeof t=="string"?Ei(e,t):void 0;function Zee(t,e,r,n,a){for(const i of e){const o=Xee(r,i);if(o){t.add(o);const l=e6(o._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function nE(t,e,r,n){const a=e._rootScopes,i=e6(e._fallback,r,n),o=[...t,...a],l=new Set;l.add(n);let c=aI(l,o,r,i||r,n);return c===null||typeof i<"u"&&i!==r&&(c=aI(l,o,i,c,n),c===null)?!1:tE(Array.from(l),[""],a,i,()=>Qee(e,r,n))}function aI(t,e,r,n,a){for(;r;)r=Zee(t,e,r,n,a);return r}function Qee(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return _t(a)&&Ue(r)?r:a||{}}function ete(t,e,r,n){let a;for(const i of e)if(a=t6(Gee(i,t),r),typeof a<"u")return rE(t,a)?nE(r,n,t,a):a}function t6(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function sI(t){let e=t._keys;return e||(e=t._keys=tte(t._scopes)),e}function tte(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function r6(t,e,r,n){const{iScale:a}=t,{key:i="r"}=this._parsing,o=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+r,d=e[u],o[l]={r:a.parse(Ei(d,i),u)};return o}const rte=Number.EPSILON||1e-14,Ec=(t,e)=>e<t.length&&!t[e].skip&&t[e],n6=t=>t==="x"?"y":"x";function nte(t,e,r,n){const a=t.skip?e:t,i=e,o=r.skip?e:r,l=zS(i,a),c=zS(o,i);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,m=n*d;return{previous:{x:i.x-f*(o.x-a.x),y:i.y-f*(o.y-a.y)},next:{x:i.x+m*(o.x-a.x),y:i.y+m*(o.y-a.y)}}}function ate(t,e,r){const n=t.length;let a,i,o,l,c,u=Ec(t,0);for(let d=0;d<n-1;++d)if(c=u,u=Ec(t,d+1),!(!c||!u)){if(Id(e[d],0,rte)){r[d]=r[d+1]=0;continue}a=r[d]/e[d],i=r[d+1]/e[d],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),r[d]=a*o*e[d],r[d+1]=i*o*e[d])}}function ste(t,e,r="x"){const n=n6(r),a=t.length;let i,o,l,c=Ec(t,0);for(let u=0;u<a;++u){if(o=l,l=c,c=Ec(t,u+1),!l)continue;const d=l[r],f=l[n];o&&(i=(d-o[r])/3,l[`cp1${r}`]=d-i,l[`cp1${n}`]=f-i*e[u]),c&&(i=(c[r]-d)/3,l[`cp2${r}`]=d+i,l[`cp2${n}`]=f+i*e[u])}}function ite(t,e="x"){const r=n6(e),n=t.length,a=Array(n).fill(0),i=Array(n);let o,l,c,u=Ec(t,0);for(o=0;o<n;++o)if(l=c,c=u,u=Ec(t,o+1),!!c){if(u){const d=u[e]-c[e];a[o]=d!==0?(u[r]-c[r])/d:0}i[o]=l?u?Da(a[o-1])!==Da(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}ate(t,a,i),ste(t,i,e)}function Ih(t,e,r){return Math.max(Math.min(t,r),e)}function ote(t,e){let r,n,a,i,o,l=ls(t[0],e);for(r=0,n=t.length;r<n;++r)o=i,i=l,l=r<n-1&&ls(t[r+1],e),i&&(a=t[r],o&&(a.cp1x=Ih(a.cp1x,e.left,e.right),a.cp1y=Ih(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Ih(a.cp2x,e.left,e.right),a.cp2y=Ih(a.cp2y,e.top,e.bottom)))}function lte(t,e,r,n,a){let i,o,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")ite(t,a);else{let u=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=nte(u,l,t[Math.min(i+1,o-(n?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&ote(t,r)}function aE(){return typeof window<"u"&&typeof document<"u"}function sE(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function jb(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const fv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function cte(t,e){return fv(t).getPropertyValue(e)}const ute=["top","right","bottom","left"];function Oo(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=ute[a];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const dte=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function fte(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:i}=n;let o=!1,l,c;if(dte(a,i,t.target))l=a,c=i;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,o=!0}return{x:l,y:c,box:o}}function oo(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=fv(r),i=a.boxSizing==="border-box",o=Oo(a,"padding"),l=Oo(a,"border","width"),{x:c,y:u,box:d}=fte(t,r),f=o.left+(d&&l.left),m=o.top+(d&&l.top);let{width:h,height:p}=e;return i&&(h-=o.width+l.width,p-=o.height+l.height),{x:Math.round((c-f)/h*r.width/n),y:Math.round((u-m)/p*r.height/n)}}function mte(t,e,r){let n,a;if(e===void 0||r===void 0){const i=t&&sE(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),l=fv(i),c=Oo(l,"border","width"),u=Oo(l,"padding");e=o.width-u.width-c.width,r=o.height-u.height-c.height,n=jb(l.maxWidth,i,"clientWidth"),a=jb(l.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||bb,maxHeight:a||bb}}const _h=t=>Math.round(t*10)/10;function hte(t,e,r,n){const a=fv(t),i=Oo(a,"margin"),o=jb(a.maxWidth,t,"clientWidth")||bb,l=jb(a.maxHeight,t,"clientHeight")||bb,c=mte(t,e,r);let{width:u,height:d}=c;if(a.boxSizing==="content-box"){const m=Oo(a,"border","width"),h=Oo(a,"padding");u-=h.width+m.width,d-=h.height+m.height}return u=Math.max(0,u-i.width),d=Math.max(0,n?u/n:d-i.height),u=_h(Math.min(u,o,c.maxWidth)),d=_h(Math.min(d,l,c.maxHeight)),u&&!d&&(d=_h(u/2)),(e!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=_h(Math.floor(d*n))),{width:u,height:d}}function iI(t,e,r){const n=e||1,a=Math.floor(t.height*n),i=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=n,o.height=a,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const pte=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};aE()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function oI(t,e){const r=cte(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function lo(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function gte(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function yte(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=lo(t,a,r),l=lo(a,i,r),c=lo(i,e,r),u=lo(o,l,r),d=lo(l,c,r);return lo(u,d,r)}const xte=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},bte=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ac(t,e,r){return t?xte(e,r):bte()}function a6(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function s6(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function i6(t){return t==="angle"?{between:kf,compare:vee,normalize:cn}:{between:is,compare:(e,r)=>e-r,normalize:e=>e}}function lI({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function vte(t,e,r){const{property:n,start:a,end:i}=r,{between:o,normalize:l}=i6(n),c=e.length;let{start:u,end:d,loop:f}=t,m,h;if(f){for(u+=c,d+=c,m=0,h=c;m<h&&o(l(e[u%c][n]),a,i);++m)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function o6(t,e,r){if(!r)return[t];const{property:n,start:a,end:i}=r,o=e.length,{compare:l,between:c,normalize:u}=i6(n),{start:d,end:f,loop:m,style:h}=vte(t,e,r),p=[];let y=!1,x=null,b,g,j;const C=()=>c(a,j,b)&&l(a,j)!==0,N=()=>l(i,b)===0||c(i,j,b),w=()=>y||C(),S=()=>!y||N();for(let T=d,k=d;T<=f;++T)g=e[T%o],!g.skip&&(b=u(g[n]),b!==j&&(y=c(b,a,i),x===null&&w()&&(x=l(b,a)===0?T:k),x!==null&&S()&&(p.push(lI({start:x,end:T,loop:m,count:o,style:h})),x=null),k=T,j=b));return x!==null&&p.push(lI({start:x,end:f,loop:m,count:o,style:h})),p}function l6(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const i=o6(n[a],t.points,e);i.length&&r.push(...i)}return r}function jte(t,e,r,n){let a=0,i=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(i+=a);i>a&&t[i%e].skip;)i--;return i%=e,{start:a,end:i}}function wte(t,e,r,n){const a=t.length,i=[];let o=e,l=t[e],c;for(c=e+1;c<=r;++c){const u=t[c%a];u.skip||u.stop?l.skip||(n=!1,i.push({start:e%a,end:(c-1)%a,loop:n}),e=o=u.stop?c:null):(o=c,l.skip&&(e=c)),l=u}return o!==null&&i.push({start:e%a,end:o%a,loop:n}),i}function Nte(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const i=!!t._loop,{start:o,end:l}=jte(r,a,i,n);if(n===!0)return cI(t,[{start:o,end:l,loop:i}],r,e);const c=l<o?l+a:l,u=!!t._fullLoop&&o===0&&l===a-1;return cI(t,wte(r,o,c,u),r,e)}function cI(t,e,r,n){return!n||!n.setContext||!r?e:Cte(t,e,r,n)}function Cte(t,e,r,n){const a=t._chart.getContext(),i=uI(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=r.length,u=[];let d=i,f=e[0].start,m=f;function h(p,y,x,b){const g=l?-1:1;if(p!==y){for(p+=c;r[p%c].skip;)p-=g;for(;r[y%c].skip;)y+=g;p%c!==y%c&&(u.push({start:p%c,end:y%c,loop:x,style:b}),d=b,f=y%c)}}for(const p of e){f=l?f:p.start;let y=r[f%c],x;for(m=f+1;m<=p.end;m++){const b=r[m%c];x=uI(n.setContext(Vi(a,{type:"segment",p0:y,p1:b,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:o}))),Ste(x,d)&&h(f,m-1,p.loop,d),y=b,d=x}f<m-1&&h(f,m-1,p.loop,d)}return u}function uI(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ste(t,e){if(!e)return!1;const r=[],n=function(a,i){return Qk(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function $h(t,e,r){return t.options.clip?t[r]:e[r]}function Ate(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:$h(r,e,"left"),right:$h(r,e,"right"),top:$h(n,e,"top"),bottom:$h(n,e,"bottom")}:e}function c6(t,e){const r=e._clip;if(r.disabled)return!1;const n=Ate(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Tte{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const i=r.listeners[a],o=r.duration;i.forEach(l=>l({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=WB.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ka=new Tte;const dI="transparent",kte={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=tI(t||dI),a=n.valid&&tI(e||dI);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Ete{constructor(e,r,n,a){const i=r[n];a=dd([e.to,a,i,e.from]);const o=dd([e.from,i,a]);this._active=!0,this._fn=e.fn||kte[e.type||typeof o],this._easing=_d[e.easing]||_d.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=dd([e.to,r,a,e.from]),this._from=dd([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=i;return}c=r/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class u6{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ue(e))return;const r=Object.keys(Rt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!Ue(i))return;const o={};for(const l of r)o[l]=i[l];(_t(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,r){const n=r.options,a=Pte(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&Ote(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,r));continue}const d=r[u];let f=i[u];const m=n.get(u);if(f)if(m&&f.active()){f.update(m,d,l);continue}else f.cancel();if(!m||!m.duration){e[u]=d;continue}i[u]=f=new Ete(m,e,u,d),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Ka.add(this._chart,n),!0}}function Ote(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const i=t[n[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function Pte(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function fI(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:a,end:n?a:i}}function Dte(t,e,r){if(r===!1)return!1;const n=fI(t,r),a=fI(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function Ite(t){let e,r,n,a;return Ue(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function d6(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function mI(t,e,r,n={}){const a=t.keys,i=n.mode==="single";let o,l,c,u;if(e===null)return;let d=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===r){if(d=!0,n.all)continue;break}u=t.values[c],Ht(u)&&(i||e===0||Da(e)===Da(u))&&(e+=u)}return!d&&!n.all?0:e}function _te(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,u,d;for(c=0,u=o.length;c<u;++c)d=o[c],l[c]={[a]:d,[i]:t[d]};return l}function ON(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function $te(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function Rte(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function Mte(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function hI(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const i=t[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function pI(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:l}=n,c=i.axis,u=o.axis,d=$te(i,o,n),f=e.length;let m;for(let h=0;h<f;++h){const p=e[h],{[c]:y,[u]:x}=p,b=p._stacks||(p._stacks={});m=b[u]=Mte(a,d,y),m[l]=x,m._top=hI(m,o,!0,n.type),m._bottom=hI(m,o,!1,n.type);const g=m._visualValues||(m._visualValues={});g[l]=x}}function PN(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Lte(t,e){return Vi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Fte(t,e,r){return Vi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Ru(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const DN=t=>t==="reset"||t==="none",gI=(t,e)=>e?t:Object.assign({},t),Bte=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:d6(r,!0),values:null};class da{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ON(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ru(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,m,h,p)=>f==="x"?m:f==="r"?p:h,i=r.xAxisID=Re(n.xAxisID,PN(e,"x")),o=r.yAxisID=Re(n.yAxisID,PN(e,"y")),l=r.rAxisID=Re(n.rAxisID,PN(e,"r")),c=r.indexAxis,u=r.iAxisID=a(c,i,o,l),d=r.vAxisID=a(c,o,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ZD(this._data,this),e._stacked&&Ru(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ue(r)){const a=this._cachedMeta;this._data=_te(r,a)}else if(n!==r){if(n){ZD(n,this);const a=this._cachedMeta;Ru(a),a._parsed=[]}r&&Object.isExtensible(r)&&Cee(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=ON(r.vScale,r),r.stack!==n.stack&&(a=!0,Ru(r),r.stack=n.stack),this._resyncElements(e),(a||i!==r._stacked)&&(pI(this,r._parsed),r._stacked=ON(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,l=i.axis;let c=e===0&&r===a.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{_t(a[e])?m=this.parseArrayData(n,a,e,r):Ue(a[e])?m=this.parseObjectData(n,a,e,r):m=this.parsePrimitiveData(n,a,e,r);const h=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)n._parsed[d+e]=f=m[d],c&&(h()&&(c=!1),u=f);n._sorted=c}o&&pI(this,m)}parsePrimitiveData(e,r,n,a){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,u=i.getLabels(),d=i===o,f=new Array(a);let m,h,p;for(m=0,h=a;m<h;++m)p=m+n,f[m]={[l]:d||i.parse(u[p],p),[c]:o.parse(r[p],p)};return f}parseArrayData(e,r,n,a){const{xScale:i,yScale:o}=e,l=new Array(a);let c,u,d,f;for(c=0,u=a;c<u;++c)d=c+n,f=r[d],l[c]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return l}parseObjectData(e,r,n,a){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(a);let d,f,m,h;for(d=0,f=a;d<f;++d)m=d+n,h=r[m],u[d]={x:i.parse(Ei(h,l),m),y:o.parse(Ei(h,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,i=this._cachedMeta,o=r[e.axis],l={keys:d6(a,!0),values:r._stacks[e.axis]._visualValues};return mI(l,o,i.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const i=n[r.axis];let o=i===null?NaN:i;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,o=mI(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,o=a.length,l=this._getOtherScale(e),c=Bte(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=Rte(l);let m,h;function p(){h=a[m];const y=h[l.axis];return!Ht(h[e.axis])||d>y||f<y}for(m=0;m<o&&!(!p()&&(this.updateRangeFromParsed(u,e,h,c),i));++m);if(i){for(m=o-1;m>=0;--m)if(!p()){this.updateRangeFromParsed(u,e,h,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][e.axis],Ht(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=Ite(Re(this.options.clip,Dte(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],i=r.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,i,l,c),d=l;d<l+c;++d){const f=a[d];f.hidden||(f.active&&u?o.push(f):f.draw(e,i))}for(d=0;d<o.length;++d)o[d].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=Fte(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Lte(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",i=this._cachedDataOpts,o=e+"-"+r,l=i[o],c=this.enableOptionSharing&&Tf(n);if(l)return gI(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),h=Object.keys(Rt.elements[e]),p=()=>this.getContext(n,a,r),y=u.resolveNamedOptions(m,h,p,f);return y.$shared&&(y.$shared=c,i[o]=Object.freeze(gI(y,c))),y}_resolveAnimations(e,r,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),m=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(m,this.getContext(e,n,r))}const u=new u6(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||DN(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(e,r,n,a){DN(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!DN(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const a=n.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,r,n=!0){const a=this._cachedMeta,i=a.data,o=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=o;l--)u[l]=u[l-r]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&Ru(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}de(da,"defaults",{}),de(da,"datasetElementType",null),de(da,"dataElementType",null);function qte(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,i=r.length;a<i;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=UB(n.sort((a,i)=>a-i))}return t._cache.$bar}function Vte(t){const e=t.iScale,r=qte(e,t.type);let n=e._length,a,i,o,l;const c=()=>{o===32767||o===-32768||(Tf(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(a=0,i=r.length;a<i;++a)o=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),c();return n}function zte(t,e,r,n){const a=r.barThickness;let i,o;return qe(a)?(i=e.min*r.categoryPercentage,o=r.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function Ute(t,e,r,n){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const u=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:r.barPercentage,start:u}}function Wte(t,e,r,n){const a=r.parse(t[0],n),i=r.parse(t[1],n),o=Math.min(a,i),l=Math.max(a,i);let c=o,u=l;Math.abs(o)>Math.abs(l)&&(c=l,u=o),e[r.axis]=u,e._custom={barStart:c,barEnd:u,start:a,end:i,min:o,max:l}}function f6(t,e,r,n){return _t(t)?Wte(t,e,r,n):e[r.axis]=r.parse(t,n),e}function yI(t,e,r,n){const a=t.iScale,i=t.vScale,o=a.getLabels(),l=a===i,c=[];let u,d,f,m;for(u=r,d=r+n;u<d;++u)m=e[u],f={},f[a.axis]=l||a.parse(o[u],u),c.push(f6(m,f,i,u));return c}function IN(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Hte(t,e,r){return t!==0?Da(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function Gte(t){let e,r,n,a,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",i="start"):(a="start",i="end"),{start:r,end:n,reverse:e,top:a,bottom:i}}function Yte(t,e,r,n){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:u,bottom:d}=Gte(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=u:(r._bottom||0)===n?a=d:(i[xI(d,o,l,c)]=!0,a=u)),i[xI(a,o,l,c)]=!0,t.borderSkipped=i}function xI(t,e,r,n){return n?(t=Kte(t,e,r),t=bI(t,r,e)):t=bI(t,e,r),t}function Kte(t,e,r){return t===e?r:t===r?e:t}function bI(t,e,r){return t==="start"?e:t==="end"?r:t}function Jte(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Ip extends da{parsePrimitiveData(e,r,n,a){return yI(e,r,n,a)}parseArrayData(e,r,n,a){return yI(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,d=o.axis==="x"?l:c,f=[];let m,h,p,y;for(m=n,h=n+a;m<h;++m)y=r[m],p={},p[i.axis]=i.parse(Ei(y,u),m),f.push(f6(Ei(y,d),p,o,m));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,i=this.getParsed(e),o=i._custom,l=IN(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(r,a);for(let h=r;h<r+n;h++){const p=this.getParsed(h),y=i||qe(p[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(h),x=this._calculateBarIndexPixels(h,d),b=(p._stacks||{})[l.axis],g={horizontal:u,base:y.base,enableBorderRadius:!b||IN(p._custom)||o===b._top||o===b._bottom,x:u?y.head:x.center,y:u?x.center:y.head,height:u?x.size:Math.abs(y.size),width:u?Math.abs(y.size):x.size};m&&(g.options=f||this.resolveDataElementOptions(h,e[h].active?"active":a));const j=g.options||e[h].options;Yte(g,j,b,o),Jte(g,j,d.ratio),this.updateElement(e[h],h,g,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],u=d=>{const f=d._parsed.find(h=>h[n.axis]===c),m=f&&f[d.vScale.axis];if(qe(m)||isNaN(m))return!0};for(const d of a)if(!(r!==void 0&&u(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const a=this._getStacks(e,n),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let i,o;for(i=0,o=r.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=e.barThickness;return{min:l||Vte(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),u=c._custom,d=IN(u);let f=c[r.axis],m=0,h=n?this.applyStack(r,c,n):f,p,y;h!==f&&(m=h-f,h=f),d&&(f=u.barStart,h=u.barEnd-u.barStart,f!==0&&Da(f)!==Da(u.barEnd)&&(m=0),m+=f);const x=!qe(i)&&!d?i:m;let b=r.getPixelForValue(x);if(this.chart.getDataVisibility(e)?p=r.getPixelForValue(m+h):p=b,y=p-b,Math.abs(y)<o){y=Hte(y,r,l)*o,f===l&&(b-=y/2);const g=r.getPixelForDecimal(0),j=r.getPixelForDecimal(1),C=Math.min(g,j),N=Math.max(g,j);b=Math.max(Math.min(b,N),C),p=b+y,n&&!d&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(p)-r.getValueForPixel(b))}if(b===r.getPixelForValue(l)){const g=Da(y)*r.getLineWidthForValue(l)/2;b+=g,y-=g}return{size:y,base:b,head:p,center:p+y/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,i=a.skipNull,o=Re(a.maxBarThickness,1/0);let l,c;if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,d=a.barThickness==="flex"?Ute(e,r,a,u):zte(e,r,a,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);l=d.start+d.chunk*f+d.chunk/2,c=Math.min(o,d.chunk*d.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(o,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}de(Ip,"id","bar"),de(Ip,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),de(Ip,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class _p extends da{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const i=super.parsePrimitiveData(e,r,n,a);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(e,r,n,a){const i=super.parseArrayData(e,r,n,a);for(let o=0;o<i.length;o++){const l=r[n+o];i[o]._custom=Re(l[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(e,r,n,a){const i=super.parseObjectData(e,r,n,a);for(let o=0;o<i.length;o++){const l=r[n+o];i[o]._custom=Re(l&&l.r&&+l.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=r,o=this.getParsed(e),l=a.getLabelForValue(o.x),c=i.getLabelForValue(o.y),u=o._custom;return{label:n[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const i=a==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,a),d=o.axis,f=l.axis;for(let m=r;m<r+n;m++){const h=e[m],p=!i&&this.getParsed(m),y={},x=y[d]=i?o.getPixelForDecimal(.5):o.getPixelForValue(p[d]),b=y[f]=i?l.getBasePixel():l.getPixelForValue(p[f]);y.skip=isNaN(x)||isNaN(b),u&&(y.options=c||this.resolveDataElementOptions(m,h.active?"active":a),i&&(y.options.radius=0)),this.updateElement(h,m,y,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const i=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Re(n&&n._custom,i),a}}de(_p,"id","bubble"),de(_p,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),de(_p,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Xte(t,e,r){let n=1,a=1,i=0,o=0;if(e<Pt){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),m=Math.sin(c),h=(j,C,N)=>kf(j,l,c,!0)?1:Math.max(C,C*r,N,N*r),p=(j,C,N)=>kf(j,l,c,!0)?-1:Math.min(C,C*r,N,N*r),y=h(0,u,f),x=h(Zt,d,m),b=p(Dt,u,f),g=p(Dt+Zt,d,m);n=(y-b)/2,a=(x-g)/2,i=-(y+b)/2,o=-(x+g)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class vo extends da{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=c=>+n[c];if(Ue(n[e])){const{key:c="value"}=this._parsing;i=u=>+Ei(n[u],c)}let o,l;for(o=e,l=e+r;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return ia(this.options.rotation-90)}_getCircumference(){return ia(this.options.circumference)}_getRotationExtents(){let e=Pt,r=-Pt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),r=Math.max(r,i+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(cee(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:h,offsetX:p,offsetY:y}=Xte(f,d,c),x=(n.width-o)/m,b=(n.height-o)/h,g=Math.max(Math.min(x,b)/2,0),j=FB(this.options.radius,g),C=Math.max(j*c,0),N=(j-C)/this._getVisibleDatasetWeightTotal();this.offsetX=p*j,this.offsetY=y*j,a.total=this.calculateTotal(),this.outerRadius=j-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/Pt)}updateElements(e,r,n,a){const i=a==="reset",o=this.chart,l=o.chartArea,u=o.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=i&&u.animateScale,h=m?0:this.innerRadius,p=m?0:this.outerRadius,{sharedOptions:y,includeOptions:x}=this._getSharedOptions(r,a);let b=this._getRotation(),g;for(g=0;g<r;++g)b+=this._circumference(g,i);for(g=r;g<r+n;++g){const j=this._circumference(g,i),C=e[g],N={x:d+this.offsetX,y:f+this.offsetY,startAngle:b,endAngle:b+j,circumference:j,outerRadius:p,innerRadius:h};x&&(N.options=y||this.resolveDataElementOptions(g,C.active?"active":a)),b+=j,this.updateElement(C,g,N,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Pt*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=Lm(r._parsed[e],n.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,i,o,l,c;if(!e){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Re(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}de(vo,"id","doughnut"),de(vo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),de(vo,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),de(vo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((i,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class $p extends da{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:l,count:c}=GB(r,a,o);this._drawStart=l,this._drawCount=c,YB(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:u},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,a),m=o.axis,h=l.axis,{spanGaps:p,segment:y}=this.options,x=Tc(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||a==="none",g=r+n,j=e.length;let C=r>0&&this.getParsed(r-1);for(let N=0;N<j;++N){const w=e[N],S=b?w:{};if(N<r||N>=g){S.skip=!0;continue}const T=this.getParsed(N),k=qe(T[h]),E=S[m]=o.getPixelForValue(T[m],N),O=S[h]=i||k?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[h],N);S.skip=isNaN(E)||isNaN(O)||k,S.stop=N>0&&Math.abs(T[m]-C[m])>x,y&&(S.parsed=T,S.raw=u.data[N]),f&&(S.options=d||this.resolveDataElementOptions(N,w.active?"active":a)),b||this.updateElement(w,N,S,a),C=T}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}de($p,"id","line"),de($p,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),de($p,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Rd extends da{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=Lm(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:i}}parseObjectData(e,r,n,a){return r6.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const i=this.getParsed(a).r;!isNaN(i)&&this.chart.getDataVisibility(a)&&(i<r.min&&(r.min=i),i>r.max&&(r.max=i))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),i=Math.max(a/2,0),o=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),l=(i-o)/e.getVisibleDatasetCount();this.outerRadius=i-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,n,a){const i=a==="reset",o=this.chart,c=o.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,m=u.getIndexAngle(0)-.5*Dt;let h=m,p;const y=360/this.countVisibleElements();for(p=0;p<r;++p)h+=this._computeAngle(p,a,y);for(p=r;p<r+n;p++){const x=e[p];let b=h,g=h+this._computeAngle(p,a,y),j=o.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;h=g,i&&(c.animateScale&&(j=0),c.animateRotate&&(b=g=m));const C={x:d,y:f,innerRadius:0,outerRadius:j,startAngle:b,endAngle:g,options:this.resolveDataElementOptions(p,x.active?"active":a)};this.updateElement(x,p,C,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?ia(this.resolveDataElementOptions(e,r).angle||n):0}}de(Rd,"id","polarArea"),de(Rd,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),de(Rd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((i,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class HS extends vo{}de(HS,"id","pie"),de(HS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Rp extends da{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return r6.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],i=r.iScale.getLabels();if(n.points=a,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let l=r;l<r+n;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":a),d=i.getPointPositionForValue(l,this.getParsed(l).r),f=o?i.xCenter:d.x,m=o?i.yCenter:d.y,h={x:f,y:m,angle:d.angle,skip:isNaN(f)||isNaN(m),options:u};this.updateElement(c,l,h,a)}}}de(Rp,"id","radar"),de(Rp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),de(Rp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Mp extends da{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=r,o=this.getParsed(e),l=a.getLabelForValue(o.x),c=i.getLabelForValue(o.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:i,count:o}=GB(r,n,a);if(this._drawStart=i,this._drawCount=o,YB(r)&&(i=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,i,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(d),m=this.includeOptions(a,f),h=o.axis,p=l.axis,{spanGaps:y,segment:x}=this.options,b=Tc(y)?y:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||a==="none";let j=r>0&&this.getParsed(r-1);for(let C=r;C<r+n;++C){const N=e[C],w=this.getParsed(C),S=g?N:{},T=qe(w[p]),k=S[h]=o.getPixelForValue(w[h],C),E=S[p]=i||T?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,w,c):w[p],C);S.skip=isNaN(k)||isNaN(E)||T,S.stop=C>0&&Math.abs(w[h]-j[h])>b,x&&(S.parsed=w,S.raw=u.data[C]),m&&(S.options=f||this.resolveDataElementOptions(C,N.active?"active":a)),g||this.updateElement(N,C,S,a),j=w}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,i,o)/2}}de(Mp,"id","scatter"),de(Mp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),de(Mp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Zte=Object.freeze({__proto__:null,BarController:Ip,BubbleController:_p,DoughnutController:vo,LineController:$p,PieController:HS,PolarAreaController:Rd,RadarController:Rp,ScatterController:Mp});function Zi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class iE{constructor(e){de(this,"options");this.options=e||{}}static override(e){Object.assign(iE.prototype,e)}init(){}formats(){return Zi()}parse(){return Zi()}format(){return Zi()}add(){return Zi()}diff(){return Zi()}startOf(){return Zi()}endOf(){return Zi()}}var Qte={_date:iE};function ere(t,e,r,n){const{controller:a,data:i,_sorted:o}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const u=l._reversePixels?wee:os;if(n){if(a._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const m=u(i,e,r-f),h=u(i,e,r+f);return{lo:m.lo,hi:h.hi}}}}else{const d=u(i,e,r);if(c){const{vScale:f}=a._cachedMeta,{_parsed:m}=t,h=m.slice(0,d.lo+1).reverse().findIndex(y=>!qe(y[f.axis]));d.lo-=Math.max(0,h);const p=m.slice(d.hi).findIndex(y=>!qe(y[f.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:i.length-1}}function mv(t,e,r,n,a){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let l=0,c=i.length;l<c;++l){const{index:u,data:d}=i[l],{lo:f,hi:m}=ere(i[l],e,o,a);for(let h=f;h<=m;++h){const p=d[h];p.skip||n(p,u,h)}}}function tre(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const i=e?Math.abs(n.x-a.x):0,o=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function _N(t,e,r,n,a){const i=[];return!a&&!t.isPointInArea(e)||mv(t,r,e,function(l,c,u){!a&&!ls(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function rre(t,e,r,n){let a=[];function i(o,l,c){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:f}=VB(o,{x:e.x,y:e.y});kf(f,u,d)&&a.push({element:o,datasetIndex:l,index:c})}return mv(t,r,e,i),a}function nre(t,e,r,n,a,i){let o=[];const l=tre(r);let c=Number.POSITIVE_INFINITY;function u(d,f,m){const h=d.inRange(e.x,e.y,a);if(n&&!h)return;const p=d.getCenterPoint(a);if(!(!!i||t.isPointInArea(p))&&!h)return;const x=l(e,p);x<c?(o=[{element:d,datasetIndex:f,index:m}],c=x):x===c&&o.push({element:d,datasetIndex:f,index:m})}return mv(t,r,e,u),o}function $N(t,e,r,n,a,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?rre(t,e,r,a):nre(t,e,r,n,a,i)}function vI(t,e,r,n,a){const i=[],o=r==="x"?"inXRange":"inYRange";let l=!1;return mv(t,r,e,(c,u,d)=>{c[o]&&c[o](e[r],a)&&(i.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:i}var are={modes:{index(t,e,r,n){const a=oo(e,t),i=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?_N(t,a,i,n,o):$N(t,a,i,!1,n,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,r,n){const a=oo(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let l=r.intersect?_N(t,a,i,n,o):$N(t,a,i,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,r,n){const a=oo(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return _N(t,a,i,n,o)},nearest(t,e,r,n){const a=oo(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return $N(t,a,i,r.intersect,n,o)},x(t,e,r,n){const a=oo(e,t);return vI(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=oo(e,t);return vI(t,a,"y",r.intersect,n)}}};const m6=["left","top","right","bottom"];function Mu(t,e){return t.filter(r=>r.pos===e)}function jI(t,e){return t.filter(r=>m6.indexOf(r.pos)===-1&&r.box.axis===e)}function Lu(t,e){return t.sort((r,n)=>{const a=e?n:r,i=e?r:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function sre(t){const e=[];let r,n,a,i,o,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:i,options:{stack:o,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return e}function ire(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:i}=r;if(!n||!m6.includes(a))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function ore(t,e){const r=ire(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:c&&e.availableHeight)}return r}function lre(t){const e=sre(t),r=Lu(e.filter(u=>u.box.fullSize),!0),n=Lu(Mu(e,"left"),!0),a=Lu(Mu(e,"right")),i=Lu(Mu(e,"top"),!0),o=Lu(Mu(e,"bottom")),l=jI(e,"x"),c=jI(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:Mu(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function wI(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function h6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function cre(t,e,r,n){const{pos:a,box:i}=r,o=t.maxPadding;if(!Ue(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?i.height:i.width),r.size=f.size/f.count,t[a]+=r.size}i.getPadding&&h6(o,i.getPadding());const l=Math.max(0,e.outerWidth-wI(o,t,"left","right")),c=Math.max(0,e.outerHeight-wI(o,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function ure(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function dre(t,e){const r=e.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return n(t?["left","right"]:["top","bottom"])}function fd(t,e,r,n){const a=[];let i,o,l,c,u,d;for(i=0,o=t.length,u=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,dre(l.horizontal,e));const{same:f,other:m}=cre(e,r,l,n);u|=f&&a.length,d=d||m,c.fullSize||a.push(l)}return u&&fd(a,e,r,n)||d}function Rh(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function NI(t,e,r,n){const a=r.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,m=u.size||c.height;Tf(u.start)&&(o=u.start),c.fullSize?Rh(c,a.left,o,r.outerWidth-a.right-a.left,m):Rh(c,e.left+u.placed,o,f,m),u.start=o,u.placed+=f,o=c.bottom}else{const f=e.h*d,m=u.size||c.width;Tf(u.start)&&(i=u.start),c.fullSize?Rh(c,i,a.top,m,r.outerHeight-a.bottom-a.top):Rh(c,i,e.top+u.placed,m,f),u.start=i,u.placed+=f,i=c.right}}e.x=i,e.y=o}var Pr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=Ir(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(r-a.height,0),l=lre(t.boxes),c=l.vertical,u=l.horizontal;lt(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=c.reduce((y,x)=>x.box.options&&x.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),m=Object.assign({},a);h6(m,Ir(n));const h=Object.assign({maxPadding:m,w:i,h:o,x:a.left,y:a.top},a),p=ore(c.concat(u),f);fd(l.fullSize,h,f,p),fd(c,h,f,p),fd(u,h,f,p)&&fd(c,h,f,p),ure(h),NI(l.leftAndTop,h,f,p),h.x+=h.w,h.y+=h.h,NI(l.rightAndBottom,h,f,p),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},lt(l.chartArea,y=>{const x=y.box;Object.assign(x,t.chartArea),x.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class p6{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class fre extends p6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Lp="$chartjs",mre={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},CI=t=>t===null||t==="";function hre(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[Lp]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",CI(a)){const i=oI(t,"width");i!==void 0&&(t.width=i)}if(CI(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=oI(t,"height");i!==void 0&&(t.height=i)}return t}const g6=pte?{passive:!0}:!1;function pre(t,e,r){t&&t.addEventListener(e,r,g6)}function gre(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,g6)}function yre(t,e){const r=mre[t.type]||t.type,{x:n,y:a}=oo(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function wb(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function xre(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||wb(l.addedNodes,n),o=o&&!wb(l.removedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function bre(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||wb(l.removedNodes,n),o=o&&!wb(l.addedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Of=new Map;let SI=0;function y6(){const t=window.devicePixelRatio;t!==SI&&(SI=t,Of.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function vre(t,e){Of.size||window.addEventListener("resize",y6),Of.set(t,e)}function jre(t){Of.delete(t),Of.size||window.removeEventListener("resize",y6)}function wre(t,e,r){const n=t.canvas,a=n&&sE(n);if(!a)return;const i=HB((l,c)=>{const u=a.clientWidth;r(l,c),u<a.clientWidth&&r()},window),o=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(a),vre(t,i),o}function RN(t,e,r){r&&r.disconnect(),e==="resize"&&jre(t)}function Nre(t,e,r){const n=t.canvas,a=HB(i=>{t.ctx!==null&&r(yre(i,t))},t);return pre(n,e,a),a}class Cre extends p6{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(hre(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Lp])return!1;const n=r[Lp].initial;["height","width"].forEach(i=>{const o=n[i];qe(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[Lp],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),o={attach:xre,detach:bre,resize:wre}[r]||Nre;a[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:RN,detach:RN,resize:RN}[r]||gre)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return hte(e,r,n,a)}isAttached(e){const r=e&&sE(e);return!!(r&&r.isConnected)}}function Sre(t){return!aE()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?fre:Cre}var gp;let _s=(gp=class{constructor(){de(this,"x");de(this,"y");de(this,"active",!1);de(this,"options");de(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Tc(this.x)&&Tc(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}},de(gp,"defaults",{}),de(gp,"defaultRoutes"),gp);function Are(t,e){const r=t.options.ticks,n=Tre(t),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?Ere(e):[],o=i.length,l=i[0],c=i[o-1],u=[];if(o>a)return Ore(e,u,i,o/a),u;const d=kre(i,e,a);if(o>0){let f,m;const h=o>1?Math.round((c-l)/(o-1)):null;for(Mh(e,u,d,qe(h)?0:l-h,l),f=0,m=o-1;f<m;f++)Mh(e,u,d,i[f],i[f+1]);return Mh(e,u,d,c,qe(h)?e.length:c+h),u}return Mh(e,u,d),u}function Tre(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function kre(t,e,r){const n=Pre(t),a=e.length/r;if(!n)return Math.max(a,1);const i=yee(n);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function Ere(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function Ore(t,e,r,n){let a=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=r[a*n])}function Mh(t,e,r,n,a){const i=Re(n,0),o=Math.min(Re(a,t.length),t.length);let l=0,c,u,d;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),d=i;d<0;)l++,d=Math.round(i+l*r);for(u=Math.max(i,0);u<o;u++)u===d&&(e.push(t[u]),l++,d=Math.round(i+l*r))}function Pre(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const Dre=t=>t==="left"?"right":t==="right"?"left":t,AI=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,TI=(t,e)=>Math.min(e||t,t);function kI(t,e){const r=[],n=t.length/e,a=t.length;let i=0;for(;i<a;i+=n)r.push(t[Math.floor(i)]);return r}function Ire(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),u;if(!(r&&(n===1?u=Math.max(c-i,o-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(a-1))/2,c+=a<e?u:-u,c<i-l||c>o+l)))return c}function _re(t,e){lt(t,r=>{const n=r.gc,a=n.length/2;let i;if(a>e){for(i=0;i<a;++i)delete r.data[n[i]];n.splice(0,a)}})}function Fu(t){return t.drawTicks?t.tickLength:0}function EI(t,e){if(!t.display)return 0;const r=or(t.font,e),n=Ir(t.padding);return(_t(t.text)?t.text.length:1)*r.lineHeight+n.height}function $re(t,e){return Vi(t,{scale:e,type:"scale"})}function Rre(t,e,r){return Vi(t,{tick:r,index:e,type:"tick"})}function Mre(t,e,r){let n=Zk(t);return(r&&e!=="right"||!r&&e==="right")&&(n=Dre(n)),n}function Lre(t,e,r,n){const{top:a,left:i,bottom:o,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,m,h,p;const y=o-a,x=l-i;if(t.isHorizontal()){if(h=kr(n,i,l),Ue(r)){const b=Object.keys(r)[0],g=r[b];p=d[b].getPixelForValue(g)+y-e}else r==="center"?p=(u.bottom+u.top)/2+y-e:p=AI(t,r,e);m=l-i}else{if(Ue(r)){const b=Object.keys(r)[0],g=r[b];h=d[b].getPixelForValue(g)-x+e}else r==="center"?h=(u.left+u.right)/2-x+e:h=AI(t,r,e);p=kr(n,o,a),f=r==="left"?-Zt:Zt}return{titleX:h,titleY:p,maxWidth:m,rotation:f}}class ol extends _s{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=sn(e,Number.POSITIVE_INFINITY),r=sn(r,Number.NEGATIVE_INFINITY),n=sn(n,Number.POSITIVE_INFINITY),a=sn(a,Number.NEGATIVE_INFINITY),{min:sn(e,n),max:sn(r,a),minDefined:Ht(e),maxDefined:Ht(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)o=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:sn(r,sn(n,r)),max:sn(n,sn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jt(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Hee(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?kI(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Are(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jt(this.options.afterUpdate,[this])}beforeSetDimensions(){jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),jt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=jt(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=TI(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,l,c,u;if(!this._isVisible()||!r.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,m=d.highest.height,h=mr(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:h/(n-1),f+6>l&&(l=h/(n-(e.offset?.5:1)),c=this.maxHeight-Fu(e.grid)-r.padding-EI(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),o=Jk(Math.min(Math.asin(mr((d.highest.height+6)/l,-1,1)),Math.asin(mr(c/u,-1,1))-Math.asin(mr(m/u,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=EI(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=Fu(i)+c):(e.height=this.maxHeight,e.width=Fu(i)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:m}=this._getLabelSizes(),h=n.padding*2,p=ia(this.labelRotation),y=Math.cos(p),x=Math.sin(p);if(l){const b=n.mirror?0:x*f.width+y*m.height;e.height=Math.min(this.maxHeight,e.height+b+h)}else{const b=n.mirror?0:y*f.width+x*m.height;e.width=Math.min(this.maxWidth,e.width+b+h)}this._calculatePadding(u,d,x,y)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,h=0;c?u?(m=a*e.width,h=n*r.height):(m=n*e.height,h=a*r.width):i==="start"?h=r.width:i==="end"?m=e.width:i!=="inner"&&(m=e.width/2,h=r.width/2),this.paddingLeft=Math.max((m-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-f+o)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=r.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)qe(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=kI(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(r/TI(r,n));let u=0,d=0,f,m,h,p,y,x,b,g,j,C,N;for(f=0;f<r;f+=c){if(p=e[f].label,y=this._resolveTickFontOptions(f),a.font=x=y.string,b=i[x]=i[x]||{data:{},gc:[]},g=y.lineHeight,j=C=0,!qe(p)&&!_t(p))j=vb(a,b.data,b.gc,j,p),C=g;else if(_t(p))for(m=0,h=p.length;m<h;++m)N=p[m],!qe(N)&&!_t(N)&&(j=vb(a,b.data,b.gc,j,N),C+=g);o.push(j),l.push(C),u=Math.max(j,u),d=Math.max(C,d)}_re(i,r);const w=o.indexOf(u),S=l.indexOf(d),T=k=>({width:o[k]||0,height:l[k]||0});return{first:T(0),last:T(r-1),widest:T(w),highest:T(S),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return jee(this._alignToPixels?Xi(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=Rre(this.getContext(),e,n))}return this.$context||(this.$context=$re(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ia(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=Fu(i),h=[],p=l.setContext(this.getContext()),y=p.display?p.width:0,x=y/2,b=function(F){return Xi(n,F,y)};let g,j,C,N,w,S,T,k,E,O,M,I;if(o==="top")g=b(this.bottom),S=this.bottom-m,k=g-x,O=b(e.top)+x,I=e.bottom;else if(o==="bottom")g=b(this.top),O=e.top,I=b(e.bottom)-x,S=g+x,k=this.top+m;else if(o==="left")g=b(this.right),w=this.right-m,T=g-x,E=b(e.left)+x,M=e.right;else if(o==="right")g=b(this.left),E=e.left,M=b(e.right)-x,w=g+x,T=this.left+m;else if(r==="x"){if(o==="center")g=b((e.top+e.bottom)/2+.5);else if(Ue(o)){const F=Object.keys(o)[0],U=o[F];g=b(this.chart.scales[F].getPixelForValue(U))}O=e.top,I=e.bottom,S=g+x,k=S+m}else if(r==="y"){if(o==="center")g=b((e.left+e.right)/2);else if(Ue(o)){const F=Object.keys(o)[0],U=o[F];g=b(this.chart.scales[F].getPixelForValue(U))}w=g-x,T=w-m,E=e.left,M=e.right}const V=Re(a.ticks.maxTicksLimit,f),P=Math.max(1,Math.ceil(f/V));for(j=0;j<f;j+=P){const F=this.getContext(j),U=i.setContext(F),R=l.setContext(F),_=U.lineWidth,B=U.color,X=R.dash||[],$=R.dashOffset,z=U.tickWidth,ne=U.tickColor,xe=U.tickBorderDash||[],ee=U.tickBorderDashOffset;C=Ire(this,j,c),C!==void 0&&(N=Xi(n,C,_),u?w=T=E=M=N:S=k=O=I=N,h.push({tx1:w,ty1:S,tx2:T,ty2:k,x1:E,y1:O,x2:M,y2:I,width:_,color:B,borderDash:X,borderDashOffset:$,tickWidth:z,tickColor:ne,tickBorderDash:xe,tickBorderDashOffset:ee}))}return this._ticksLength=f,this._borderValue=g,h}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=i,m=Fu(n.grid),h=m+d,p=f?-d:h,y=-ia(this.labelRotation),x=[];let b,g,j,C,N,w,S,T,k,E,O,M,I="middle";if(a==="top")w=this.bottom-p,S=this._getXAxisLabelAlignment();else if(a==="bottom")w=this.top+p,S=this._getXAxisLabelAlignment();else if(a==="left"){const P=this._getYAxisLabelAlignment(m);S=P.textAlign,N=P.x}else if(a==="right"){const P=this._getYAxisLabelAlignment(m);S=P.textAlign,N=P.x}else if(r==="x"){if(a==="center")w=(e.top+e.bottom)/2+h;else if(Ue(a)){const P=Object.keys(a)[0],F=a[P];w=this.chart.scales[P].getPixelForValue(F)+h}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")N=(e.left+e.right)/2-h;else if(Ue(a)){const P=Object.keys(a)[0],F=a[P];N=this.chart.scales[P].getPixelForValue(F)}S=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?I="top":c==="end"&&(I="bottom"));const V=this._getLabelSizes();for(b=0,g=l.length;b<g;++b){j=l[b],C=j.label;const P=i.setContext(this.getContext(b));T=this.getPixelForTick(b)+i.labelOffset,k=this._resolveTickFontOptions(b),E=k.lineHeight,O=_t(C)?C.length:1;const F=O/2,U=P.color,R=P.textStrokeColor,_=P.textStrokeWidth;let B=S;o?(N=T,S==="inner"&&(b===g-1?B=this.options.reverse?"left":"right":b===0?B=this.options.reverse?"right":"left":B="center"),a==="top"?u==="near"||y!==0?M=-O*E+E/2:u==="center"?M=-V.highest.height/2-F*E+E:M=-V.highest.height+E/2:u==="near"||y!==0?M=E/2:u==="center"?M=V.highest.height/2-F*E:M=V.highest.height-O*E,f&&(M*=-1),y!==0&&!P.showLabelBackdrop&&(N+=E/2*Math.sin(y))):(w=T,M=(1-O)*E/2);let X;if(P.showLabelBackdrop){const $=Ir(P.backdropPadding),z=V.heights[b],ne=V.widths[b];let xe=M-$.top,ee=0-$.left;switch(I){case"middle":xe-=z/2;break;case"bottom":xe-=z;break}switch(S){case"center":ee-=ne/2;break;case"right":ee-=ne;break;case"inner":b===g-1?ee-=ne:b>0&&(ee-=ne/2);break}X={left:ee,top:xe,width:ne+$.width,height:z+$.height,color:P.backdropColor}}x.push({label:C,font:k,textOffset:M,options:{rotation:y,color:U,strokeColor:R,strokeWidth:_,textAlign:B,textBaseline:I,translation:[N,w],backdrop:X}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ia(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let u,d;return r==="left"?a?(d=this.right+i,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?a?(d=this.left+i,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const c=a[i];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,m;this.isHorizontal()?(u=Xi(e,this.left,o)-o/2,d=Xi(e,this.right,l)+l/2,f=m=c):(f=Xi(e,this.top,o)-o/2,m=Xi(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&uv(n,a);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,u=o.label,d=o.textOffset;Ko(n,u,0,d,c,l)}a&&dv(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const i=or(n.font),o=Ir(n.padding),l=n.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||Ue(r)?(c+=o.bottom,_t(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:m}=Lre(this,c,r,l);Ko(e,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:m,textAlign:Mre(l,r,a),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Re(e.grid&&e.grid.z,-1),a=Re(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ol.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const l=r[i];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return or(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Lh{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;qre(r)&&(n=this.register(r));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,Fre(e,o,n),this.override&&Rt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in Rt[a]&&(delete Rt[a][n],this.override&&delete Yo[n])}}function Fre(t,e,r){const n=Af(Object.create(null),[r?Rt.get(r):{},Rt.get(e),t.defaults]);Rt.set(e,n),t.defaultRoutes&&Bre(e,t.defaultRoutes),t.descriptors&&Rt.describe(e,t.descriptors)}function Bre(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),i=[t].concat(n).join("."),o=e[r].split("."),l=o.pop(),c=o.join(".");Rt.route(i,a,c,l)})}function qre(t){return"id"in t&&"defaults"in t}class Vre{constructor(){this.controllers=new Lh(da,"datasets",!0),this.elements=new Lh(_s,"elements"),this.plugins=new Lh(Object,"plugins"),this.scales=new Lh(ol,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):lt(a,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,r,n){const a=Kk(e);jt(n["before"+a],[],n),r[e](n),jt(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Na=new Vre;class zre{constructor(){this._init=[]}notify(e,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,r,n,a){a=a||{};for(const i of e){const o=i.plugin,l=o[n],c=[r,a,i.options];if(jt(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Re(n.options&&n.options.plugins,{}),i=Ure(n);return a===!1&&!r?[]:Hre(e,i,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function Ure(t){const e={},r=[],n=Object.keys(Na.plugins.items);for(let i=0;i<n.length;i++)r.push(Na.getPlugin(n[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function Wre(t,e){return!e&&t===!1?null:t===!0?{}:t}function Hre(t,{plugins:e,localIds:r},n,a){const i=[],o=t.getContext();for(const l of e){const c=l.id,u=Wre(n[c],a);u!==null&&i.push({plugin:l,options:Gre(t.config,{plugin:l,local:r[c]},u,o)})}return i}function Gre(t,{plugin:e,local:r},n,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function GS(t,e){const r=Rt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function Yre(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function Kre(t,e){return t===e?"_index_":"_value_"}function OI(t){if(t==="x"||t==="y"||t==="r")return t}function Jre(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function YS(t,...e){if(OI(t))return t;for(const r of e){const n=r.axis||Jre(r.position)||t.length>1&&OI(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function PI(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function Xre(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return PI(t,"x",r[0])||PI(t,"y",r[0])}return{}}function Zre(t,e){const r=Yo[t.type]||{scales:{}},n=e.scales||{},a=GS(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!Ue(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=YS(o,l,Xre(o,t),Rt.scales[l.type]),u=Kre(c,a),d=r.scales||{};i[o]=Dd(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||GS(l,e),d=(Yo[l]||{}).scales||{};Object.keys(d).forEach(f=>{const m=Yre(f,c),h=o[m+"AxisID"]||m;i[h]=i[h]||Object.create(null),Dd(i[h],[{axis:m},n[h],d[f]])})}),Object.keys(i).forEach(o=>{const l=i[o];Dd(l,[Rt.scales[l.type],Rt.scale])}),i}function x6(t){const e=t.options||(t.options={});e.plugins=Re(e.plugins,{}),e.scales=Zre(t,e)}function b6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Qre(t){return t=t||{},t.data=b6(t.data),x6(t),t}const DI=new Map,v6=new Set;function Fh(t,e){let r=DI.get(t);return r||(r=e(),DI.set(t,r),v6.add(r)),r}const Bu=(t,e,r)=>{const n=Ei(e,r);n!==void 0&&t.add(n)};class ene{constructor(e){this._config=Qre(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=b6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),x6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Fh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Fh(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Fh(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Fh(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:i}=this,o=this._cachedScopes(e,n),l=o.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(f=>Bu(c,e,f))),d.forEach(f=>Bu(c,a,f)),d.forEach(f=>Bu(c,Yo[i]||{},f)),d.forEach(f=>Bu(c,Rt,f)),d.forEach(f=>Bu(c,US,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),v6.has(r)&&o.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,Yo[r]||{},Rt.datasets[r]||{},{type:r},Rt,US]}resolveNamedOptions(e,r,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=II(this._resolverCache,e,a);let c=o;if(rne(o,r)){i.$shared=!1,n=Oi(n)?n():n;const u=this.createResolver(e,n,l);c=kc(o,n,u)}for(const u of r)i[u]=c[u];return i}createResolver(e,r,n=[""],a){const{resolver:i}=II(this._resolverCache,e,n);return Ue(r)?kc(i,r,void 0,a):i}}function II(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let i=n.get(a);return i||(i={resolver:tE(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,i)),i}const tne=t=>Ue(t)&&Object.getOwnPropertyNames(t).some(e=>Oi(t[e]));function rne(t,e){const{isScriptable:r,isIndexable:n}=ZB(t);for(const a of e){const i=r(a),o=n(a),l=(o||i)&&t[a];if(i&&(Oi(l)||tne(l))||o&&_t(l))return!0}return!1}var nne="4.4.9";const ane=["top","bottom","left","right","chartArea"];function _I(t,e){return t==="top"||t==="bottom"||ane.indexOf(t)===-1&&e==="x"}function $I(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function RI(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),jt(r&&r.onComplete,[t],e)}function sne(t){const e=t.chart,r=e.options.animation;jt(r&&r.onProgress,[t],e)}function j6(t){return aE()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Fp={},MI=t=>{const e=j6(t);return Object.values(Fp).filter(r=>r.canvas===e).pop()};function ine(t,e,r){const n=Object.keys(t);for(const a of n){const i=+a;if(i>=e){const o=t[a];delete t[a],(r>0||i>e)&&(t[i+r]=o)}}}function one(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class Gs{static register(...e){Na.add(...e),LI()}static unregister(...e){Na.remove(...e),LI()}constructor(e,r){const n=this.config=new ene(r),a=j6(e),i=MI(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Sre(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=lee(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zre,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=See(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Fp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ka.listen(this,"complete",RI),Ka.listen(this,"progress",sne),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:i}=this;return qe(e)?r&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Na}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iI(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return nI(this.canvas,this.ctx),this}stop(){return Ka.stop(this),this}resize(e,r){Ka.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,r,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,iI(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),jt(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};lt(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const l=r[o],c=YS(o,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),lt(i,o=>{const l=o.options,c=l.id,u=YS(c,l),d=Re(l.type,o.dtype);(l.position===void 0||_I(l.position,u)!==_I(o.dposition))&&(l.position=o.dposition),a[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const m=Na.getScale(d);f=new m({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),lt(a,(o,l)=>{o||delete n[l]}),lt(n,o=>{Pr.configure(this,o,o.options),Pr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,i)=>a.index-i.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort($I("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const i=r[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||GS(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=Na.getController(l),{datasetElementType:u,dataElementType:d}=Rt.datasets[l];Object.assign(c,{dataElementType:Na.getElement(d),datasetElementType:u&&Na.getElement(u)}),o.controller=new c(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){lt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),m=!a&&i.indexOf(f)===-1;f.buildOrUpdateElements(m),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||lt(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($I("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){lt(this.scales,e=>{Pr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!YD(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of r){const o=n==="_removeElements"?-i:i;ine(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<r;i++)if(!YD(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pr.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],lt(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Oi(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ka.has(this)?this.attached&&!Ka.running(this)&&Ka.start(this):(this.draw(),RI({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=c6(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&uv(r,a),e.controller.draw(),a&&dv(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return ls(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const i=are.modes[r];return typeof i=="function"?i(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Vi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);Tf(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Ka.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),nI(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Fp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};lt(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},a=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():o()}unbindEvents(){lt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},lt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let i,o,l,c;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!yb(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(r,e),l=n?e:i(e,r);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:i}=this,o=r,l=this._getActiveElements(e,a,n,o),c=hee(e),u=one(e,this._lastEvent,n,c);n&&(this._lastEvent=null,jt(i.onHover,[e,l,this],this),c&&jt(i.onClick,[e,l,this],this));const d=!yb(l,a);return(d||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}}de(Gs,"defaults",Rt),de(Gs,"instances",Fp),de(Gs,"overrides",Yo),de(Gs,"registry",Na),de(Gs,"version",nne),de(Gs,"getChart",MI);function LI(){return lt(Gs.instances,t=>t._plugins.invalidate())}function lne(t,e,r){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=e;let u=a/l;t.beginPath(),t.arc(i,o,l,n-u,r+u),c>a?(u=a/c,t.arc(i,o,c,r+u,n-u,!0)):t.arc(i,o,a,r+Zt,n-Zt),t.closePath(),t.clip()}function cne(t){return eE(t,["outerStart","outerEnd","innerStart","innerEnd"])}function une(t,e,r,n){const a=cne(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,n*e/2),l=c=>{const u=(r-Math.min(i,c))*n/2;return mr(c,0,Math.min(i,u))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:mr(a.innerStart,0,o),innerEnd:mr(a.innerEnd,0,o)}}function Al(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Nb(t,e,r,n,a,i){const{x:o,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+n+r-u,0),m=d>0?d+n+r+u:0;let h=0;const p=a-c;if(n){const P=d>0?d-n:0,F=f>0?f-n:0,U=(P+F)/2,R=U!==0?p*U/(U+n):p;h=(p-R)/2}const y=Math.max(.001,p*f-r/Dt)/f,x=(p-y)/2,b=c+x+h,g=a-x-h,{outerStart:j,outerEnd:C,innerStart:N,innerEnd:w}=une(e,m,f,g-b),S=f-j,T=f-C,k=b+j/S,E=g-C/T,O=m+N,M=m+w,I=b+N/O,V=g-w/M;if(t.beginPath(),i){const P=(k+E)/2;if(t.arc(o,l,f,k,P),t.arc(o,l,f,P,E),C>0){const _=Al(T,E,o,l);t.arc(_.x,_.y,C,E,g+Zt)}const F=Al(M,g,o,l);if(t.lineTo(F.x,F.y),w>0){const _=Al(M,V,o,l);t.arc(_.x,_.y,w,g+Zt,V+Math.PI)}const U=(g-w/m+(b+N/m))/2;if(t.arc(o,l,m,g-w/m,U,!0),t.arc(o,l,m,U,b+N/m,!0),N>0){const _=Al(O,I,o,l);t.arc(_.x,_.y,N,I+Math.PI,b-Zt)}const R=Al(S,b,o,l);if(t.lineTo(R.x,R.y),j>0){const _=Al(S,k,o,l);t.arc(_.x,_.y,j,b-Zt,k)}}else{t.moveTo(o,l);const P=Math.cos(k)*f+o,F=Math.sin(k)*f+l;t.lineTo(P,F);const U=Math.cos(E)*f+o,R=Math.sin(E)*f+l;t.lineTo(U,R)}t.closePath()}function dne(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){Nb(t,e,r,n,c,a);for(let u=0;u<i;++u)t.fill();isNaN(l)||(c=o+(l%Pt||Pt))}return Nb(t,e,r,n,c,a),t.fill(),c}function fne(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:m}=c,h=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,h?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let p=e.endAngle;if(i){Nb(t,e,r,n,p,a);for(let y=0;y<i;++y)t.stroke();isNaN(l)||(p=o+(l%Pt||Pt))}h&&lne(t,e,p),i||(Nb(t,e,r,n,p,a),t.stroke())}class md extends _s{constructor(r){super();de(this,"circumference");de(this,"endAngle");de(this,"fullCircles");de(this,"innerRadius");de(this,"outerRadius");de(this,"pixelMargin");de(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.getProps(["x","y"],a),{angle:o,distance:l}=VB(i,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),h=(this.options.spacing+this.options.borderWidth)/2,p=Re(m,u-c),y=kf(o,c,u)&&c!==u,x=p>=Pt||y,b=is(l,d+h,f+h);return x&&b}getCenterPoint(r){const{x:n,y:a,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(i+o)/2,m=(l+c+d+u)/2;return{x:n+Math.cos(f)*m,y:a+Math.sin(f)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Pt?Math.floor(a/Pt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(Dt,a||0)),d=i*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,dne(r,this,d,o,l),fne(r,this,d,o,l),r.restore()}}de(md,"id","arc"),de(md,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),de(md,"defaultRoutes",{backgroundColor:"backgroundColor"}),de(md,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function w6(t,e,r=e){t.lineCap=Re(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Re(r.borderDash,e.borderDash)),t.lineDashOffset=Re(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Re(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Re(r.borderWidth,e.borderWidth),t.strokeStyle=Re(r.borderColor,e.borderColor)}function mne(t,e,r){t.lineTo(r.x,r.y)}function hne(t){return t.stepped?Mee:t.tension||t.cubicInterpolationMode==="monotone"?Lee:mne}function N6(t,e,r={}){const n=t.length,{start:a=0,end:i=n-1}=r,{start:o,end:l}=e,c=Math.max(a,o),u=Math.min(i,l),d=a<o&&i<o||a>l&&i>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!d?n+u-c:u-c}}function pne(t,e,r,n){const{points:a,options:i}=e,{count:o,start:l,loop:c,ilen:u}=N6(a,r,n),d=hne(i);let{move:f=!0,reverse:m}=n||{},h,p,y;for(h=0;h<=u;++h)p=a[(l+(m?u-h:h))%o],!p.skip&&(f?(t.moveTo(p.x,p.y),f=!1):d(t,y,p,m,i.stepped),y=p);return c&&(p=a[(l+(m?u:0))%o],d(t,y,p,m,i.stepped)),!!c}function gne(t,e,r,n){const a=e.points,{count:i,start:o,ilen:l}=N6(a,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,m,h,p,y,x,b;const g=C=>(o+(u?l-C:C))%i,j=()=>{y!==x&&(t.lineTo(d,x),t.lineTo(d,y),t.lineTo(d,b))};for(c&&(h=a[g(0)],t.moveTo(h.x,h.y)),m=0;m<=l;++m){if(h=a[g(m)],h.skip)continue;const C=h.x,N=h.y,w=C|0;w===p?(N<y?y=N:N>x&&(x=N),d=(f*d+C)/++f):(j(),t.lineTo(C,N),p=w,f=0,y=x=N),b=N}j()}function KS(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?gne:pne}function yne(t){return t.stepped?gte:t.tension||t.cubicInterpolationMode==="monotone"?yte:lo}function xne(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),w6(t,e.options),t.stroke(a)}function bne(t,e,r,n){const{segments:a,options:i}=e,o=KS(e);for(const l of a)w6(t,i,l.style),t.beginPath(),o(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const vne=typeof Path2D=="function";function jne(t,e,r,n){vne&&!e.options.segment?xne(t,e,r,n):bne(t,e,r,n)}class si extends _s{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;lte(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Nte(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],i=this.points,o=l6(this,{property:r,start:a,end:a});if(!o.length)return;const l=[],c=yne(n);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:m}=o[u],h=i[f],p=i[m];if(h===p){l.push(h);continue}const y=Math.abs((a-h[r])/(p[r]-h[r])),x=c(h,p,y,n.stepped);x[r]=e[r],l.push(x)}return l.length===1?l[0]:l}pathSegment(e,r,n){return KS(this)(e,this,r,n)}path(e,r,n){const a=this.segments,i=KS(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)o&=i(e,this,l,{start:r,end:r+n-1});return!!o}draw(e,r,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),jne(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}de(si,"id","line"),de(si,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),de(si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),de(si,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function FI(t,e,r,n){const a=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<a.radius+a.hitRadius}class Bp extends _s{constructor(r){super();de(this,"parsed");de(this,"skip");de(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],a);return Math.pow(r-o,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return FI(this,r,"x",n)}inYRange(r,n){return FI(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!ls(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,WS(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}de(Bp,"id","point"),de(Bp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),de(Bp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function C6(t,e){const{x:r,y:n,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=o/2,l=Math.min(r,a),c=Math.max(r,a),u=n-f,d=n+f):(f=i/2,l=r-f,c=r+f,u=Math.min(n,a),d=Math.max(n,a)),{left:l,top:u,right:c,bottom:d}}function ii(t,e,r,n){return t?0:mr(e,r,n)}function wne(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,i=XB(n);return{t:ii(a.top,i.top,0,r),r:ii(a.right,i.right,0,e),b:ii(a.bottom,i.bottom,0,r),l:ii(a.left,i.left,0,e)}}function Nne(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=Eo(a),o=Math.min(e,r),l=t.borderSkipped,c=n||Ue(a);return{topLeft:ii(!c||l.top||l.left,i.topLeft,0,o),topRight:ii(!c||l.top||l.right,i.topRight,0,o),bottomLeft:ii(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:ii(!c||l.bottom||l.right,i.bottomRight,0,o)}}function Cne(t){const e=C6(t),r=e.right-e.left,n=e.bottom-e.top,a=wne(t,r/2,n/2),i=Nne(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function MN(t,e,r,n){const a=e===null,i=r===null,l=t&&!(a&&i)&&C6(t,n);return l&&(a||is(e,l.left,l.right))&&(i||is(r,l.top,l.bottom))}function Sne(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Ane(t,e){t.rect(e.x,e.y,e.w,e.h)}function LN(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class qp extends _s{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=Cne(this),l=Sne(o.radius)?Ef:Ane;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,LN(o,r,i)),e.clip(),l(e,LN(i,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,LN(i,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return MN(this,e,r,n)}inXRange(e,r){return MN(this,e,null,r)}inYRange(e,r){return MN(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+a)/2:r,y:i?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}de(qp,"id","bar"),de(qp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),de(qp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Tne=Object.freeze({__proto__:null,ArcElement:md,BarElement:qp,LineElement:si,PointElement:Bp});const JS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BI=JS.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function S6(t){return JS[t%JS.length]}function A6(t){return BI[t%BI.length]}function kne(t,e){return t.borderColor=S6(e),t.backgroundColor=A6(e),++e}function Ene(t,e){return t.backgroundColor=t.data.map(()=>S6(e++)),e}function One(t,e){return t.backgroundColor=t.data.map(()=>A6(e++)),e}function Pne(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof vo?e=Ene(r,e):a instanceof Rd?e=One(r,e):a&&(e=kne(r,e))}}function qI(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Dne(t){return t&&(t.borderColor||t.backgroundColor)}function Ine(){return Rt.borderColor!=="rgba(0,0,0,0.1)"||Rt.backgroundColor!=="rgba(0,0,0,0.1)"}var _ne={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:i}=a,o=qI(n)||Dne(a)||i&&qI(i)||Ine();if(!r.forceOverride&&o)return;const l=Pne(t);n.forEach(l)}};function $ne(t,e,r,n,a){const i=a.samples||n;if(i>=r)return t.slice(e,e+r);const o=[],l=(r-2)/(i-2);let c=0;const u=e+r-1;let d=e,f,m,h,p,y;for(o[c++]=t[d],f=0;f<i-2;f++){let x=0,b=0,g;const j=Math.floor((f+1)*l)+1+e,C=Math.min(Math.floor((f+2)*l)+1,r)+e,N=C-j;for(g=j;g<C;g++)x+=t[g].x,b+=t[g].y;x/=N,b/=N;const w=Math.floor(f*l)+1+e,S=Math.min(Math.floor((f+1)*l)+1,r)+e,{x:T,y:k}=t[d];for(h=p=-1,g=w;g<S;g++)p=.5*Math.abs((T-x)*(t[g].y-k)-(T-t[g].x)*(b-k)),p>h&&(h=p,m=t[g],y=g);o[c++]=m,d=y}return o[c++]=t[u],o}function Rne(t,e,r,n){let a=0,i=0,o,l,c,u,d,f,m,h,p,y;const x=[],b=e+r-1,g=t[e].x,C=t[b].x-g;for(o=e;o<e+r;++o){l=t[o],c=(l.x-g)/C*n,u=l.y;const N=c|0;if(N===d)u<p?(p=u,f=o):u>y&&(y=u,m=o),a=(i*a+l.x)/++i;else{const w=o-1;if(!qe(f)&&!qe(m)){const S=Math.min(f,m),T=Math.max(f,m);S!==h&&S!==w&&x.push({...t[S],x:a}),T!==h&&T!==w&&x.push({...t[T],x:a})}o>0&&w!==h&&x.push(t[w]),x.push(l),d=N,i=0,p=y=u,f=m=h=o}}return x}function T6(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function VI(t){t.data.datasets.forEach(e=>{T6(e)})}function Mne(t,e){const r=e.length;let n=0,a;const{iScale:i}=t,{min:o,max:l,minDefined:c,maxDefined:u}=i.getUserBounds();return c&&(n=mr(os(e,i.axis,o).lo,0,r-1)),u?a=mr(os(e,i.axis,l).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var Lne={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){VI(t);return}const n=t.width;t.data.datasets.forEach((a,i)=>{const{_data:o,indexAxis:l}=a,c=t.getDatasetMeta(i),u=o||a.data;if(dd([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:m}=Mne(c,u);const h=r.threshold||4*n;if(m<=h){T6(a);return}qe(o)&&(a._data=u,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let p;switch(r.algorithm){case"lttb":p=$ne(u,f,m,n,r);break;case"min-max":p=Rne(u,f,m,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=p})},destroy(t){VI(t)}};function Fne(t,e,r){const n=t.segments,a=t.points,i=e.points,o=[];for(const l of n){let{start:c,end:u}=l;u=oE(c,u,a);const d=XS(r,a[c],a[u],l.loop);if(!e.segments){o.push({source:l,target:d,start:a[c],end:a[u]});continue}const f=l6(e,d);for(const m of f){const h=XS(r,i[m.start],i[m.end],m.loop),p=o6(l,a,h);for(const y of p)o.push({source:y,target:m,start:{[r]:zI(d,h,"start",Math.max)},end:{[r]:zI(d,h,"end",Math.min)}})}}return o}function XS(t,e,r,n){if(n)return;let a=e[t],i=r[t];return t==="angle"&&(a=cn(a),i=cn(i)),{property:t,start:a,end:i}}function Bne(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,i=[];return e.segments.forEach(({start:o,end:l})=>{l=oE(o,l,a);const c=a[o],u=a[l];n!==null?(i.push({x:c.x,y:n}),i.push({x:u.x,y:n})):r!==null&&(i.push({x:r,y:c.y}),i.push({x:r,y:u.y}))}),i}function oE(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function zI(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function k6(t,e){let r=[],n=!1;return _t(t)?(n=!0,r=t):r=Bne(t,e),r.length?new si({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function UI(t){return t&&t.fill!==!1}function qne(t,e,r){let a=t[e].fill;const i=[e];let o;if(!r)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!Ht(a))return a;if(o=t[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function Vne(t,e,r){const n=Hne(t);if(Ue(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Ht(a)&&Math.floor(a)===a?zne(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function zne(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function Une(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Ue(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function Wne(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Ue(t)?n=t.value:n=e.getBaseValue(),n}function Hne(t){const e=t.options,r=e.fill;let n=Re(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Gne(t){const{scale:e,index:r,line:n}=t,a=[],i=n.segments,o=n.points,l=Yne(e,r);l.push(k6({x:null,y:e.bottom},n));for(let c=0;c<i.length;c++){const u=i[c];for(let d=u.start;d<=u.end;d++)Kne(a,o[d],l)}return new si({points:a,options:{}})}function Yne(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function Kne(t,e,r){const n=[];for(let a=0;a<r.length;a++){const i=r[a],{first:o,last:l,point:c}=Jne(i,e,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function Jne(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],i=t.segments,o=t.points;let l=!1,c=!1;for(let u=0;u<i.length;u++){const d=i[u],f=o[d.start][r],m=o[d.end][r];if(is(a,f,m)){l=a===f,c=a===m;break}}return{first:l,last:c,point:n}}class E6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:i,radius:o}=this;return r=r||{start:0,end:Pt},e.arc(a,i,o,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,i=e.angle;return{x:r+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function Xne(t){const{chart:e,fill:r,line:n}=t;if(Ht(r))return Zne(e,r);if(r==="stack")return Gne(t);if(r==="shape")return!0;const a=Qne(t);return a instanceof E6?a:k6(a,n)}function Zne(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function Qne(t){return(t.scale||{}).getPointPositionForValue?tae(t):eae(t)}function eae(t){const{scale:e={},fill:r}=t,n=Une(r,e);if(Ht(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function tae(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,i=n.reverse?e.max:e.min,o=Wne(r,e,i),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,i);return new E6({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,o));return l}function FN(t,e,r){const n=Xne(e),{chart:a,index:i,line:o,scale:l,axis:c}=e,u=o.options,d=u.fill,f=u.backgroundColor,{above:m=f,below:h=f}=d||{},p=a.getDatasetMeta(i),y=c6(a,p);n&&o.points.length&&(uv(t,r),rae(t,{line:o,target:n,above:m,below:h,area:r,scale:l,axis:c,clip:y}),dv(t))}function rae(t,e){const{line:r,target:n,above:a,below:i,area:o,scale:l,clip:c}=e,u=r._loop?"angle":e.axis;t.save(),u==="x"&&i!==a&&(WI(t,n,o.top),HI(t,{line:r,target:n,color:a,scale:l,property:u,clip:c}),t.restore(),t.save(),WI(t,n,o.bottom)),HI(t,{line:r,target:n,color:i,scale:l,property:u,clip:c}),t.restore()}function WI(t,e,r){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[oE(c,u,a)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,r),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function HI(t,e){const{line:r,target:n,property:a,color:i,scale:o,clip:l}=e,c=Fne(r,n,a);for(const{source:u,target:d,start:f,end:m}of c){const{style:{backgroundColor:h=i}={}}=u,p=n!==!0;t.save(),t.fillStyle=h,nae(t,o,l,p&&XS(a,f,m)),t.beginPath();const y=!!r.pathSegment(t,u);let x;if(p){y?t.closePath():GI(t,n,m,a);const b=!!n.pathSegment(t,d,{move:y,reverse:!0});x=y&&b,x||GI(t,n,f,a)}t.closePath(),t.fill(x?"evenodd":"nonzero"),t.restore()}}function nae(t,e,r,n){const a=e.chart.chartArea,{property:i,start:o,end:l}=n||{};if(i==="x"||i==="y"){let c,u,d,f;i==="x"?(c=o,u=a.top,d=l,f=a.bottom):(c=a.left,u=o,d=a.right,f=l),t.beginPath(),r&&(c=Math.max(c,r.left),d=Math.min(d,r.right),u=Math.max(u,r.top),f=Math.min(f,r.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function GI(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var aae={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let i,o,l,c;for(o=0;o<n;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof si&&(c={visible:t.isDatasetVisible(o),index:o,fill:Vne(l,o,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,a.push(c);for(o=0;o<n;++o)c=a[o],!(!c||c.fill===!1)&&(c.fill=qne(a,o,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&FN(t.ctx,l,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;UI(i)&&FN(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!UI(n)||r.drawTime!=="beforeDatasetDraw"||FN(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const YI=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},sae=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let KI=class extends _s{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=jt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=or(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=YI(n,i);let u,d;r.font=a.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,l,c)+10):(d=this.maxHeight,u=this._fitCols(o,a,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=a+l;let f=e;i.textAlign="left",i.textBaseline="middle";let m=-1,h=-d;return this.legendItems.forEach((p,y)=>{const x=n+r/2+i.measureText(p.text).width;(y===0||u[u.length-1]+x+2*l>o)&&(f+=d,u[u.length-(y>0?0:1)]=0,h+=d,m++),c[y]={left:0,top:h,row:m,width:x,height:a},u[u.length-1]+=x+l}),f}_fitCols(e,r,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let f=l,m=0,h=0,p=0,y=0;return this.legendItems.forEach((x,b)=>{const{itemWidth:g,itemHeight:j}=iae(n,r,i,x,a);b>0&&h+j+2*l>d&&(f+=m+l,u.push({width:m,height:h}),p+=m+l,y++,m=h=0),c[b]={left:p,top:h,col:y,width:g,height:j},m=Math.max(m,g),h+=j+l}),f+=m,u.push({width:m,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:i}}=this,o=ac(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=kr(n,this.left+a,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=kr(n,this.left+a,this.right-this.lineWidths[l])),u.top+=this.top+e+a,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+a}else{let l=0,c=kr(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=kr(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+a,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;uv(e,this),this._draw(),dv(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:i,labels:o}=e,l=Rt.color,c=ac(e.rtl,this.left,this.width),u=or(o.font),{padding:d}=o,f=u.size,m=f/2;let h;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:p,boxHeight:y,itemHeight:x}=YI(o,f),b=function(w,S,T){if(isNaN(p)||p<=0||isNaN(y)||y<0)return;a.save();const k=Re(T.lineWidth,1);if(a.fillStyle=Re(T.fillStyle,l),a.lineCap=Re(T.lineCap,"butt"),a.lineDashOffset=Re(T.lineDashOffset,0),a.lineJoin=Re(T.lineJoin,"miter"),a.lineWidth=k,a.strokeStyle=Re(T.strokeStyle,l),a.setLineDash(Re(T.lineDash,[])),o.usePointStyle){const E={radius:y*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:k},O=c.xPlus(w,p/2),M=S+m;JB(a,E,O,M,o.pointStyleWidth&&p)}else{const E=S+Math.max((f-y)/2,0),O=c.leftForLtr(w,p),M=Eo(T.borderRadius);a.beginPath(),Object.values(M).some(I=>I!==0)?Ef(a,{x:O,y:E,w:p,h:y,radius:M}):a.rect(O,E,p,y),a.fill(),k!==0&&a.stroke()}a.restore()},g=function(w,S,T){Ko(a,T.text,w,S+x/2,u,{strikethrough:T.hidden,textAlign:c.textAlign(T.textAlign)})},j=this.isHorizontal(),C=this._computeTitleHeight();j?h={x:kr(i,this.left+d,this.right-n[0]),y:this.top+d+C,line:0}:h={x:this.left+d,y:kr(i,this.top+C+d,this.bottom-r[0].height),line:0},a6(this.ctx,e.textDirection);const N=x+d;this.legendItems.forEach((w,S)=>{a.strokeStyle=w.fontColor,a.fillStyle=w.fontColor;const T=a.measureText(w.text).width,k=c.textAlign(w.textAlign||(w.textAlign=o.textAlign)),E=p+m+T;let O=h.x,M=h.y;c.setWidth(this.width),j?S>0&&O+E+d>this.right&&(M=h.y+=N,h.line++,O=h.x=kr(i,this.left+d,this.right-n[h.line])):S>0&&M+N>this.bottom&&(O=h.x=O+r[h.line].width+d,h.line++,M=h.y=kr(i,this.top+C+d,this.bottom-r[h.line].height));const I=c.x(O);if(b(I,M,w),O=Aee(k,O+p+m,j?O+E:this.right,e.rtl),g(c.x(O),M,w),j)h.x+=E+d;else if(typeof w.text!="string"){const V=u.lineHeight;h.y+=O6(w,V)+d}else h.y+=N}),s6(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=or(r.font),a=Ir(r.padding);if(!r.display)return;const i=ac(e.rtl,this.left,this.width),o=this.ctx,l=r.position,c=n.size/2,u=a.top+c;let d,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,f=kr(e.align,f,this.right-m);else{const p=this.columnSizes.reduce((y,x)=>Math.max(y,x.height),0);d=u+kr(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const h=kr(l,f,f+m);o.textAlign=i.textAlign(Zk(l)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,Ko(o,r.text,h,d,n)}_computeTitleHeight(){const e=this.options.title,r=or(e.font),n=Ir(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,i;if(is(e,this.left,this.right)&&is(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],is(e,a.left,a.left+a.width)&&is(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!cae(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=sae(a,n);a&&!i&&jt(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!i&&jt(r.onHover,[e,n,this],this)}else n&&jt(r.onClick,[e,n,this],this)}};function iae(t,e,r,n,a){const i=oae(n,t,e,r),o=lae(a,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function oae(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+n.measureText(a).width}function lae(t,e,r){let n=t;return typeof e.text!="string"&&(n=O6(e,r)),n}function O6(t,e){const r=t.text?t.text.length:0;return e*r}function cae(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var uae={id:"legend",_element:KI,start(t,e,r){const n=t.legend=new KI({ctx:t.ctx,options:r,chart:t});Pr.configure(t,n,r),Pr.addBox(t,n)},stop(t){Pr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Pr.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=Ir(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:o&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class lE extends _s{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=_t(n.text)?n.text.length:1;this._padding=Ir(n.padding);const i=a*or(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:i,options:o}=this,l=o.align;let c=0,u,d,f;return this.isHorizontal()?(d=kr(l,n,i),f=r+e,u=i-n):(o.position==="left"?(d=n+e,f=kr(l,a,r),c=Dt*-.5):(d=i-e,f=kr(l,r,a),c=Dt*.5),u=a-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=or(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);Ko(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:Zk(r.align),textBaseline:"middle",translation:[o,l]})}}function dae(t,e){const r=new lE({ctx:t.ctx,options:e,chart:t});Pr.configure(t,r,e),Pr.addBox(t,r),t.titleBlock=r}var fae={id:"title",_element:lE,start(t,e,r){dae(t,r)},stop(t){const e=t.titleBlock;Pr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Pr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bh=new WeakMap;var mae={id:"subtitle",start(t,e,r){const n=new lE({ctx:t.ctx,options:r,chart:t});Pr.configure(t,n,r),Pr.addBox(t,n),Bh.set(t,n)},stop(t){Pr.removeBox(t,Bh.get(t)),Bh.delete(t)},beforeUpdate(t,e,r){const n=Bh.get(t);Pr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hd={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,i=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=zS(e,u);d<a&&(a=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function ja(t,e){return e&&(_t(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ja(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function hae(t,e){const{element:r,datasetIndex:n,index:a}=e,i=t.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function JI(t,e){const r=t.chart.ctx,{body:n,footer:a,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=or(e.bodyFont),u=or(e.titleFont),d=or(e.footerFont),f=i.length,m=a.length,h=n.length,p=Ir(e.padding);let y=p.height,x=0,b=n.reduce((C,N)=>C+N.before.length+N.lines.length+N.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,f&&(y+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),b){const C=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;y+=h*C+(b-h)*c.lineHeight+(b-1)*e.bodySpacing}m&&(y+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let g=0;const j=function(C){x=Math.max(x,r.measureText(C).width+g)};return r.save(),r.font=u.string,lt(t.title,j),r.font=c.string,lt(t.beforeBody.concat(t.afterBody),j),g=e.displayColors?o+2+e.boxPadding:0,lt(n,C=>{lt(C.before,j),lt(C.lines,j),lt(C.after,j)}),g=0,r.font=d.string,lt(t.footer,j),r.restore(),x+=p.width,{width:x,height:y}}function pae(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function gae(t,e,r,n){const{x:a,width:i}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function yae(t,e,r,n){const{x:a,width:i}=r,{width:o,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=a<=(l+c)/2?"left":"right":a<=i/2?u="left":a>=o-i/2&&(u="right"),gae(u,t,e,r)&&(u="center"),u}function XI(t,e,r){const n=r.yAlign||e.yAlign||pae(t,r);return{xAlign:r.xAlign||e.xAlign||yae(t,e,r,n),yAlign:n}}function xae(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function bae(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function ZI(t,e,r,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=r,u=a+i,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:h}=Eo(o);let p=xae(e,l);const y=bae(e,c,u);return c==="center"?l==="left"?p+=u:l==="right"&&(p-=u):l==="left"?p-=Math.max(d,m)+a:l==="right"&&(p+=Math.max(f,h)+a),{x:mr(p,0,n.width-e.width),y:mr(y,0,n.height-e.height)}}function qh(t,e,r){const n=Ir(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function QI(t){return ja([],Ja(t))}function vae(t,e,r){return Vi(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function e_(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const P6={beforeTitle:Ha,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Ha,beforeBody:Ha,beforeLabel:Ha,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return qe(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Ha,afterBody:Ha,beforeFooter:Ha,footer:Ha,afterFooter:Ha};function Vr(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?P6[e].call(r,n):a}var TC;let t_=(TC=class extends _s{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,i=new u6(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=vae(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=Vr(n,"beforeTitle",this,e),i=Vr(n,"title",this,e),o=Vr(n,"afterTitle",this,e);let l=[];return l=ja(l,Ja(a)),l=ja(l,Ja(i)),l=ja(l,Ja(o)),l}getBeforeBody(e,r){return QI(Vr(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return lt(e,i=>{const o={before:[],lines:[],after:[]},l=e_(n,i);ja(o.before,Ja(Vr(l,"beforeLabel",this,i))),ja(o.lines,Vr(l,"label",this,i)),ja(o.after,Ja(Vr(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,r){return QI(Vr(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=Vr(n,"beforeFooter",this,e),i=Vr(n,"footer",this,e),o=Vr(n,"afterFooter",this,e);let l=[];return l=ja(l,Ja(a)),l=ja(l,Ja(i)),l=ja(l,Ja(o)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],i=[],o=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(hae(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,m)=>e.filter(d,f,m,n))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,n))),lt(l,d=>{const f=e_(e.callbacks,d);a.push(Vr(f,"labelColor",this,d)),i.push(Vr(f,"labelPointStyle",this,d)),o.push(Vr(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=hd[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=JI(this,n),u=Object.assign({},l,c),d=XI(this.chart,n,u),f=ZI(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const i=this.getCaretPosition(e,n,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Eo(l),{x:m,y:h}=e,{width:p,height:y}=r;let x,b,g,j,C,N;return i==="center"?(C=h+y/2,a==="left"?(x=m,b=x-o,j=C+o,N=C-o):(x=m+p,b=x+o,j=C-o,N=C+o),g=x):(a==="left"?b=m+Math.max(c,d)+o:a==="right"?b=m+p-Math.max(u,f)-o:b=this.caretX,i==="top"?(j=h,C=j-o,x=b-o,g=b+o):(j=h+y,C=j+o,x=b+o,g=b-o),N=j),{x1:x,x2:b,x3:g,y1:j,y2:C,y3:N}}drawTitle(e,r,n){const a=this.title,i=a.length;let o,l,c;if(i){const u=ac(n.rtl,this.x,this.width);for(e.x=qh(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",o=or(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=i,d=or(i.bodyFont),f=qh(this,"left",i),m=a.x(f),h=c<d.lineHeight?(d.lineHeight-c)/2:0,p=r.y+h;if(i.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=a.leftForLtr(m,u)+u/2,b=p+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,WS(e,y,x,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,WS(e,y,x,b)}else{e.lineWidth=Ue(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=a.leftForLtr(m,u),x=a.leftForLtr(a.xPlus(m,1),u-2),b=Eo(o.borderRadius);Object.values(b).some(g=>g!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Ef(e,{x:y,y:p,w:u,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Ef(e,{x,y:p+1,w:u-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,p,u,c),e.strokeRect(y,p,u,c),e.fillStyle=o.backgroundColor,e.fillRect(x,p+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=or(n.bodyFont);let m=f.lineHeight,h=0;const p=ac(n.rtl,this.x,this.width),y=function(T){r.fillText(T,p.x(e.x+h),e.y+m/2),e.y+=m+i},x=p.textAlign(o);let b,g,j,C,N,w,S;for(r.textAlign=o,r.textBaseline="middle",r.font=f.string,e.x=qh(this,x,n),r.fillStyle=n.bodyColor,lt(this.beforeBody,y),h=l&&x!=="right"?o==="center"?u/2+d:u+2+d:0,C=0,w=a.length;C<w;++C){for(b=a[C],g=this.labelTextColors[C],r.fillStyle=g,lt(b.before,y),j=b.lines,l&&j.length&&(this._drawColorBox(r,e,C,p,n),m=Math.max(f.lineHeight,c)),N=0,S=j.length;N<S;++N)y(j[N]),m=f.lineHeight;lt(b.after,y)}h=0,m=f.lineHeight,lt(this.afterBody,y),e.y-=i}drawFooter(e,r,n){const a=this.footer,i=a.length;let o,l;if(i){const c=ac(n.rtl,this.x,this.width);for(e.x=qh(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",o=or(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,l=0;l<i;++l)r.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:u,height:d}=n,{topLeft:f,topRight:m,bottomLeft:h,bottomRight:p}=Eo(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+f,c),o==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+u-m,c),r.quadraticCurveTo(l+u,c,l+u,c+m),o==="center"&&i==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+u,c+d-p),r.quadraticCurveTo(l+u,c+d,l+u-p,c+d),o==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+h,c+d),r.quadraticCurveTo(l,c+d,l,c+d-h),o==="center"&&i==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=hd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=JI(this,e),c=Object.assign({},o,this._size),u=XI(r,e,c),d=ZI(e,c,u,r);(a._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Ir(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,r),a6(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),s6(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!yb(n,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,n),l=this._positionChanged(o,e),c=r||!yb(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:a,options:i}=this,o=hd[i.position].call(this,e,r);return o!==!1&&(n!==o.x||a!==o.y)}},de(TC,"positioners",hd),TC);var jae={id:"tooltip",_element:t_,positioners:hd,afterInit(t,e,r){r&&(t.tooltip=new t_({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:P6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},wae=Object.freeze({__proto__:null,Colors:_ne,Decimation:Lne,Filler:aae,Legend:uae,SubTitle:mae,Title:fae,Tooltip:jae});const Nae=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Cae(t,e,r,n){const a=t.indexOf(e);if(a===-1)return Nae(t,e,r,n);const i=t.lastIndexOf(e);return a!==i?r:a}const Sae=(t,e)=>t===null?null:mr(Math.round(t),0,e);function r_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ZS extends ol{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:i}of r)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(qe(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Cae(n,e,Re(r,e),this._addedLabels),Sae(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)a.push({value:o});return a}getLabelForValue(e){return r_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}de(ZS,"id","category"),de(ZS,"defaults",{ticks:{callback:r_}});function Aae(t,e){const r=[],{bounds:a,step:i,min:o,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:m}=t,h=i||1,p=d-1,{min:y,max:x}=e,b=!qe(o),g=!qe(l),j=!qe(u),C=(x-y)/(f+1);let N=JD((x-y)/p/h)*h,w,S,T,k;if(N<1e-14&&!b&&!g)return[{value:y},{value:x}];k=Math.ceil(x/N)-Math.floor(y/N),k>p&&(N=JD(k*N/p/h)*h),qe(c)||(w=Math.pow(10,c),N=Math.ceil(N*w)/w),a==="ticks"?(S=Math.floor(y/N)*N,T=Math.ceil(x/N)*N):(S=y,T=x),b&&g&&i&&bee((l-o)/i,N/1e3)?(k=Math.round(Math.min((l-o)/N,d)),N=(l-o)/k,S=o,T=l):j?(S=b?o:S,T=g?l:T,k=u-1,N=(T-S)/k):(k=(T-S)/N,Id(k,Math.round(k),N/1e3)?k=Math.round(k):k=Math.ceil(k));const E=Math.max(XD(N),XD(S));w=Math.pow(10,qe(c)?E:c),S=Math.round(S*w)/w,T=Math.round(T*w)/w;let O=0;for(b&&(m&&S!==o?(r.push({value:o}),S<o&&O++,Id(Math.round((S+O*N)*w)/w,o,n_(o,C,t))&&O++):S<o&&O++);O<k;++O){const M=Math.round((S+O*N)*w)/w;if(g&&M>l)break;r.push({value:M})}return g&&m&&T!==l?r.length&&Id(r[r.length-1].value,l,n_(l,C,t))?r[r.length-1].value=l:r.push({value:l}):(!g||T===l)&&r.push({value:T}),r}function n_(t,e,{horizontal:r,minRotation:n}){const a=ia(n),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class Cb extends ol{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return qe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=r?a:c,l=c=>i=n?i:c;if(e){const c=Da(a),u=Da(i);c<0&&u<0?l(0):c>0&&u>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(a-c)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=Aae(a,i);return e.bounds==="ticks"&&qB(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Lm(e,this.chart.options.locale,this.options.ticks.format)}}class QS extends Cb{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Ht(e)?e:0,this.max=Ht(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=ia(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}de(QS,"id","linear"),de(QS,"defaults",{ticks:{callback:cv.formatters.numeric}});const Pf=t=>Math.floor(ai(t)),Qi=(t,e)=>Math.pow(10,Pf(t)+e);function a_(t){return t/Math.pow(10,Pf(t))===1}function s_(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function Tae(t,e){const r=e-t;let n=Pf(r);for(;s_(t,e,n)>10;)n++;for(;s_(t,e,n)<10;)n--;return Math.min(n,Pf(t))}function kae(t,{min:e,max:r}){e=sn(t.min,e);const n=[],a=Pf(e);let i=Tae(e,r),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=a>i?Math.pow(10,a):0,u=Math.round((e-c)*o)/o,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,i)),m=sn(t.min,Math.round((c+d+f*Math.pow(10,i))*o)/o);for(;m<r;)n.push({value:m,major:a_(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,o=i>=0?1:o),m=Math.round((c+d+f*Math.pow(10,i))*o)/o;const h=sn(t.max,m);return n.push({value:h,major:a_(h),significand:f}),n}class e2 extends ol{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=Cb.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return Ht(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Ht(e)?Math.max(0,e):null,this.max=Ht(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ht(this._userMin)&&(this.min=e===Qi(this.min,0)?Qi(this.min,-1):Qi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const i=l=>n=e?n:l,o=l=>a=r?a:l;n===a&&(n<=0?(i(1),o(10)):(i(Qi(n,-1)),o(Qi(a,1)))),n<=0&&i(Qi(a,-1)),a<=0&&o(Qi(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=kae(r,this);return e.bounds==="ticks"&&qB(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Lm(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ai(e),this._valueRange=ai(this.max)-ai(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ai(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}de(e2,"id","logarithmic"),de(e2,"defaults",{ticks:{callback:cv.formatters.logarithmic,major:{enabled:!0}}});function t2(t){const e=t.ticks;if(e.display&&t.display){const r=Ir(e.backdropPadding);return Re(e.font&&e.font.size,Rt.font.size)+r.height}return 0}function Eae(t,e,r){return r=_t(r)?r:[r],{w:Ree(t,e.string,r),h:r.length*e.lineHeight}}function i_(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function Oae(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],i=t._pointLabels.length,o=t.options.pointLabels,l=o.centerPointLabels?Dt/i:0;for(let c=0;c<i;c++){const u=o.setContext(t.getPointLabelContext(c));a[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+a[c],l),f=or(u.font),m=Eae(t.ctx,f,t._pointLabels[c]);n[c]=m;const h=cn(t.getIndexAngle(c)+l),p=Math.round(Jk(h)),y=i_(p,d.x,m.w,0,180),x=i_(p,d.y,m.h,90,270);Pae(r,e,h,y,x)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=_ae(t,n,a)}function Pae(t,e,r,n,a){const i=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/i,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/i,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/o,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function Dae(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:i,padding:o,size:l}=r,c=t.getPointPosition(e,n+a+o,i),u=Math.round(Jk(cn(c.angle+Zt))),d=Mae(c.y,l.h,u),f=$ae(u),m=Rae(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:m,top:d,right:m+l.w,bottom:d+l.h}}function Iae(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:i}=t;return!(ls({x:r,y:n},e)||ls({x:r,y:i},e)||ls({x:a,y:n},e)||ls({x:a,y:i},e))}function _ae(t,e,r){const n=[],a=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:l}=i.pointLabels,c={extra:t2(i)/2,additionalAngle:o?Dt/a:0};let u;for(let d=0;d<a;d++){c.padding=r[d],c.size=e[d];const f=Dae(t,d,c);n.push(f),l==="auto"&&(f.visible=Iae(f,u),f.visible&&(u=f))}return n}function $ae(t){return t===0||t===180?"center":t<180?"left":"right"}function Rae(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function Mae(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function Lae(t,e,r){const{left:n,top:a,right:i,bottom:o}=r,{backdropColor:l}=e;if(!qe(l)){const c=Eo(e.borderRadius),u=Ir(e.backdropPadding);t.fillStyle=l;const d=n-u.left,f=a-u.top,m=i-n+u.width,h=o-a+u.height;Object.values(c).some(p=>p!==0)?(t.beginPath(),Ef(t,{x:d,y:f,w:m,h,radius:c}),t.fill()):t.fillRect(d,f,m,h)}}function Fae(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const i=t._pointLabelItems[a];if(!i.visible)continue;const o=n.setContext(t.getPointLabelContext(a));Lae(r,o,i);const l=or(o.font),{x:c,y:u,textAlign:d}=i;Ko(r,t._pointLabels[a],c,u+l.lineHeight/2,l,{color:o.color,textAlign:d,textBaseline:"middle"})}}function D6(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Pt);else{let i=t.getPointPosition(0,e);a.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=t.getPointPosition(o,e),a.lineTo(i.x,i.y)}}function Bae(t,e,r,n,a){const i=t.ctx,o=e.circular,{color:l,lineWidth:c}=e;!o&&!n||!l||!c||r<0||(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash(a.dash||[]),i.lineDashOffset=a.dashOffset,i.beginPath(),D6(t,r,o,n),i.closePath(),i.stroke(),i.restore())}function qae(t,e,r){return Vi(t,{label:r,index:e,type:"pointLabel"})}class pd extends Cb{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ir(t2(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Ht(e)&&!isNaN(e)?e:0,this.max=Ht(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/t2(this.options))}generateTickLabels(e){Cb.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=jt(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Oae(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Pt/(this._pointLabels.length||1),n=this.options.startAngle||0;return cn(e*r+ia(n))}getDistanceFromCenterForValue(e){if(qe(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(qe(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return qae(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-Zt+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:i}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),D6(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:i}=r,o=this._pointLabels.length;let l,c,u;if(r.pointLabels.display&&Fae(this,o),a.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(f),h=a.setContext(m),p=i.setContext(m);Bae(this,h,c,o,p)}}),n.display){for(e.save(),l=o-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=d;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(c)),d=or(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,o=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=Ir(u.backdropPadding);e.fillRect(-o/2-f.left,-i-d.size/2-f.top,o+f.width,d.size+f.height)}Ko(e,l.label,0,-i,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}de(pd,"id","radialLinear"),de(pd,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:cv.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),de(pd,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),de(pd,"descriptors",{angleLines:{_fallback:"grid"}});const hv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hr=Object.keys(hv);function o_(t,e){return t-e}function l_(t,e){if(qe(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Ht(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(Tc(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function c_(t,e,r,n){const a=Hr.length;for(let i=Hr.indexOf(t);i<a-1;++i){const o=hv[Hr[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(l*o.size))<=n)return Hr[i]}return Hr[a-1]}function Vae(t,e,r,n,a){for(let i=Hr.length-1;i>=Hr.indexOf(r);i--){const o=Hr[i];if(hv[o].common&&t._adapter.diff(a,n,o)>=e-1)return o}return Hr[r?Hr.indexOf(r):0]}function zae(t){for(let e=Hr.indexOf(t)+1,r=Hr.length;e<r;++e)if(hv[Hr[e]].common)return Hr[e]}function u_(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=Xk(r,e),i=r[n]>=e?r[n]:r[a];t[i]=!0}}function Uae(t,e,r,n){const a=t._adapter,i=+a.startOf(e[0].value,n),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function d_(t,e,r){const n=[],a={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],a[l]=o,n.push({value:l,major:!1});return i===0||!r?n:Uae(t,n,a,r)}class Df extends ol{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new Qte._date(e.adapters.date);a.init(r),Dd(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:l_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Ht(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),i=Ht(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=Nee(a,i,o);return this._unit=r.unit||(n.autoSkip?c_(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):Vae(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:zae(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),d_(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=mr(r,0,o),n=mr(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||c_(i.minUnit,r,n,this._getLabelCapacity(r)),l=Re(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,u=Tc(c)||c===!0,d={};let f=r,m,h;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":o),e.diff(n,r,o)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+o);const p=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,h=0;m<n;m=+e.add(m,l,o),h++)u_(d,m,p);return(m===n||a.bounds==="ticks"||h===1)&&u_(d,m,p),Object.keys(d).sort(o_).map(y=>+y)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,a){const i=this.options,o=i.ticks.callback;if(o)return jt(o,[e,r,n],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],m=n[r],h=u&&f&&m&&m.major;return this._adapter.format(e,a||(h?f:d))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=ia(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,d_(this,[e],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(l_(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return UB(e.sort(o_))}}de(Df,"id","time"),de(Df,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Vh(t,e,r){let n=0,a=t.length-1,i,o,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=os(t,"pos",e)),{pos:i,time:l}=t[n],{pos:o,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=os(t,"time",e)),{time:i,pos:l}=t[n],{time:o,pos:c}=t[a]);const u=o-i;return u?l+(c-l)*(e-i)/u:l}class r2 extends Df{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Vh(r,this.min),this._tableRange=Vh(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],i=[];let o,l,c,u,d;for(o=0,l=e.length;o<l;++o)u=e[o],u>=r&&u<=n&&a.push(u);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,l=a.length;o<l;++o)d=a[o+1],c=a[o-1],u=a[o],Math.round((d+c)/2)!==u&&i.push({time:u,pos:o/(l-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Vh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Vh(this._table,n*this._tableRange+this._minPos,!0)}}de(r2,"id","timeseries"),de(r2,"defaults",Df.defaults);var Wae=Object.freeze({__proto__:null,CategoryScale:ZS,LinearScale:QS,LogarithmicScale:e2,RadialLinearScale:pd,TimeScale:Df,TimeSeriesScale:r2});const Hae=[Zte,Tne,wae,Wae];Gs.register(...Hae);const Gae=[{name:"Settings",icon:s.jsx(eB,{className:"h-6 w-6"}),path:"/settings/departments"},{name:"Disbursement",icon:s.jsx(tJ,{className:"h-6 w-6"}),path:"/disbursement/obligation-requests"},{name:"Collections",icon:s.jsx(xJ,{className:"h-6 w-6"}),path:"/collections/community-tax"},{name:"Budget",icon:s.jsx(OD,{className:"h-6 w-6"}),path:"/budget/details"},{name:"Applications",icon:s.jsx(OD,{className:"h-6 w-6"}),path:"/applications/business-permits"},{name:"Reports",icon:s.jsx(DS,{className:"h-6 w-6"}),path:"/reports/general-ledger"},{name:"BIR Reports",icon:s.jsx(tB,{className:"h-6 w-6"}),path:"/reports/bir"}];function Yae(){const{user:t}=W(n=>n.auth),[e,r]=v.useState(!0);return v.useEffect(()=>{const n=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(n)},[]),s.jsxs("div",{children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),s.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Welcome back"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Gae.map(n=>s.jsxs(nc,{to:n.path,className:"bg-white hover:bg-blue-50 border border-gray-200 rounded-xl shadow-md p-5 flex items-center gap-4 transition-transform transform hover:scale-105",children:[s.jsx("div",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:n.icon}),s.jsx("span",{className:"text-lg font-medium text-gray-800",children:n.name})]},n.name))})]})}function Kae(){return s.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white py-8 px-4 shadow-md sm:rounded-lg sm:px-10 text-center",children:[s.jsx("div",{className:"text-6xl font-bold text-primary-600 mb-4",children:"404"}),s.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Page Not Found"}),s.jsx("p",{className:"text-neutral-600 mb-6",children:"The page you are looking for doesn't exist or has been moved."}),s.jsx(nc,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Return to Dashboard"})]})})})}var Jae=function(e){return Xae(e)&&!Zae(e)};function Xae(t){return!!t&&typeof t=="object"}function Zae(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||tse(t)}var Qae=typeof Symbol=="function"&&Symbol.for,ese=Qae?Symbol.for("react.element"):60103;function tse(t){return t.$$typeof===ese}function rse(t){return Array.isArray(t)?[]:{}}function Sb(t,e){return e.clone!==!1&&e.isMergeableObject(t)?If(rse(t),t,e):t}function nse(t,e,r){return t.concat(e).map(function(n){return Sb(n,r)})}function ase(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(a){n[a]=Sb(t[a],r)}),Object.keys(e).forEach(function(a){!r.isMergeableObject(e[a])||!t[a]?n[a]=Sb(e[a],r):n[a]=If(t[a],e[a],r)}),n}function If(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||nse,r.isMergeableObject=r.isMergeableObject||Jae;var n=Array.isArray(e),a=Array.isArray(t),i=n===a;return i?n?r.arrayMerge(t,e,r):ase(t,e,r):Sb(e,r)}If.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,a){return If(n,a,r)},{})};var n2=If,I6=typeof global=="object"&&global&&global.Object===Object&&global,sse=typeof self=="object"&&self&&self.Object===Object&&self,za=I6||sse||Function("return this")(),Pi=za.Symbol,_6=Object.prototype,ise=_6.hasOwnProperty,ose=_6.toString,qu=Pi?Pi.toStringTag:void 0;function lse(t){var e=ise.call(t,qu),r=t[qu];try{t[qu]=void 0;var n=!0}catch{}var a=ose.call(t);return n&&(e?t[qu]=r:delete t[qu]),a}var cse=Object.prototype,use=cse.toString;function dse(t){return use.call(t)}var fse="[object Null]",mse="[object Undefined]",f_=Pi?Pi.toStringTag:void 0;function ll(t){return t==null?t===void 0?mse:fse:f_&&f_ in Object(t)?lse(t):dse(t)}function $6(t,e){return function(r){return t(e(r))}}var cE=$6(Object.getPrototypeOf,Object);function cl(t){return t!=null&&typeof t=="object"}var hse="[object Object]",pse=Function.prototype,gse=Object.prototype,R6=pse.toString,yse=gse.hasOwnProperty,xse=R6.call(Object);function m_(t){if(!cl(t)||ll(t)!=hse)return!1;var e=cE(t);if(e===null)return!0;var r=yse.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&R6.call(r)==xse}function bse(){this.__data__=[],this.size=0}function M6(t,e){return t===e||t!==t&&e!==e}function pv(t,e){for(var r=t.length;r--;)if(M6(t[r][0],e))return r;return-1}var vse=Array.prototype,jse=vse.splice;function wse(t){var e=this.__data__,r=pv(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():jse.call(e,r,1),--this.size,!0}function Nse(t){var e=this.__data__,r=pv(e,t);return r<0?void 0:e[r][1]}function Cse(t){return pv(this.__data__,t)>-1}function Sse(t,e){var r=this.__data__,n=pv(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function $s(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$s.prototype.clear=bse;$s.prototype.delete=wse;$s.prototype.get=Nse;$s.prototype.has=Cse;$s.prototype.set=Sse;function Ase(){this.__data__=new $s,this.size=0}function Tse(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function kse(t){return this.__data__.get(t)}function Ese(t){return this.__data__.has(t)}function Fm(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ose="[object AsyncFunction]",Pse="[object Function]",Dse="[object GeneratorFunction]",Ise="[object Proxy]";function L6(t){if(!Fm(t))return!1;var e=ll(t);return e==Pse||e==Dse||e==Ose||e==Ise}var BN=za["__core-js_shared__"],h_=function(){var t=/[^.]+$/.exec(BN&&BN.keys&&BN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _se(t){return!!h_&&h_ in t}var $se=Function.prototype,Rse=$se.toString;function ul(t){if(t!=null){try{return Rse.call(t)}catch{}try{return t+""}catch{}}return""}var Mse=/[\\^$.*+?()[\]{}|]/g,Lse=/^\[object .+?Constructor\]$/,Fse=Function.prototype,Bse=Object.prototype,qse=Fse.toString,Vse=Bse.hasOwnProperty,zse=RegExp("^"+qse.call(Vse).replace(Mse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Use(t){if(!Fm(t)||_se(t))return!1;var e=L6(t)?zse:Lse;return e.test(ul(t))}function Wse(t,e){return t==null?void 0:t[e]}function dl(t,e){var r=Wse(t,e);return Use(r)?r:void 0}var _f=dl(za,"Map"),$f=dl(Object,"create");function Hse(){this.__data__=$f?$f(null):{},this.size=0}function Gse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Yse="__lodash_hash_undefined__",Kse=Object.prototype,Jse=Kse.hasOwnProperty;function Xse(t){var e=this.__data__;if($f){var r=e[t];return r===Yse?void 0:r}return Jse.call(e,t)?e[t]:void 0}var Zse=Object.prototype,Qse=Zse.hasOwnProperty;function eie(t){var e=this.__data__;return $f?e[t]!==void 0:Qse.call(e,t)}var tie="__lodash_hash_undefined__";function rie(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$f&&e===void 0?tie:e,this}function Jo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Jo.prototype.clear=Hse;Jo.prototype.delete=Gse;Jo.prototype.get=Xse;Jo.prototype.has=eie;Jo.prototype.set=rie;function nie(){this.size=0,this.__data__={hash:new Jo,map:new(_f||$s),string:new Jo}}function aie(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function gv(t,e){var r=t.__data__;return aie(e)?r[typeof e=="string"?"string":"hash"]:r.map}function sie(t){var e=gv(this,t).delete(t);return this.size-=e?1:0,e}function iie(t){return gv(this,t).get(t)}function oie(t){return gv(this,t).has(t)}function lie(t,e){var r=gv(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function zi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}zi.prototype.clear=nie;zi.prototype.delete=sie;zi.prototype.get=iie;zi.prototype.has=oie;zi.prototype.set=lie;var cie=200;function uie(t,e){var r=this.__data__;if(r instanceof $s){var n=r.__data__;if(!_f||n.length<cie-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new zi(n)}return r.set(t,e),this.size=r.size,this}function ou(t){var e=this.__data__=new $s(t);this.size=e.size}ou.prototype.clear=Ase;ou.prototype.delete=Tse;ou.prototype.get=kse;ou.prototype.has=Ese;ou.prototype.set=uie;function die(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var p_=function(){try{var t=dl(Object,"defineProperty");return t({},"",{}),t}catch{}}();function F6(t,e,r){e=="__proto__"&&p_?p_(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var fie=Object.prototype,mie=fie.hasOwnProperty;function B6(t,e,r){var n=t[e];(!(mie.call(t,e)&&M6(n,r))||r===void 0&&!(e in t))&&F6(t,e,r)}function yv(t,e,r,n){var a=!r;r||(r={});for(var i=-1,o=e.length;++i<o;){var l=e[i],c=void 0;c===void 0&&(c=t[l]),a?F6(r,l,c):B6(r,l,c)}return r}function hie(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var pie="[object Arguments]";function g_(t){return cl(t)&&ll(t)==pie}var q6=Object.prototype,gie=q6.hasOwnProperty,yie=q6.propertyIsEnumerable,xie=g_(function(){return arguments}())?g_:function(t){return cl(t)&&gie.call(t,"callee")&&!yie.call(t,"callee")},Bm=Array.isArray;function bie(){return!1}var V6=typeof hn=="object"&&hn&&!hn.nodeType&&hn,y_=V6&&typeof pn=="object"&&pn&&!pn.nodeType&&pn,vie=y_&&y_.exports===V6,x_=vie?za.Buffer:void 0,jie=x_?x_.isBuffer:void 0,z6=jie||bie,wie=9007199254740991,Nie=/^(?:0|[1-9]\d*)$/;function Cie(t,e){var r=typeof t;return e=e??wie,!!e&&(r=="number"||r!="symbol"&&Nie.test(t))&&t>-1&&t%1==0&&t<e}var Sie=9007199254740991;function U6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Sie}var Aie="[object Arguments]",Tie="[object Array]",kie="[object Boolean]",Eie="[object Date]",Oie="[object Error]",Pie="[object Function]",Die="[object Map]",Iie="[object Number]",_ie="[object Object]",$ie="[object RegExp]",Rie="[object Set]",Mie="[object String]",Lie="[object WeakMap]",Fie="[object ArrayBuffer]",Bie="[object DataView]",qie="[object Float32Array]",Vie="[object Float64Array]",zie="[object Int8Array]",Uie="[object Int16Array]",Wie="[object Int32Array]",Hie="[object Uint8Array]",Gie="[object Uint8ClampedArray]",Yie="[object Uint16Array]",Kie="[object Uint32Array]",At={};At[qie]=At[Vie]=At[zie]=At[Uie]=At[Wie]=At[Hie]=At[Gie]=At[Yie]=At[Kie]=!0;At[Aie]=At[Tie]=At[Fie]=At[kie]=At[Bie]=At[Eie]=At[Oie]=At[Pie]=At[Die]=At[Iie]=At[_ie]=At[$ie]=At[Rie]=At[Mie]=At[Lie]=!1;function Jie(t){return cl(t)&&U6(t.length)&&!!At[ll(t)]}function uE(t){return function(e){return t(e)}}var W6=typeof hn=="object"&&hn&&!hn.nodeType&&hn,Md=W6&&typeof pn=="object"&&pn&&!pn.nodeType&&pn,Xie=Md&&Md.exports===W6,qN=Xie&&I6.process,Oc=function(){try{var t=Md&&Md.require&&Md.require("util").types;return t||qN&&qN.binding&&qN.binding("util")}catch{}}(),b_=Oc&&Oc.isTypedArray,Zie=b_?uE(b_):Jie,Qie=Object.prototype,eoe=Qie.hasOwnProperty;function H6(t,e){var r=Bm(t),n=!r&&xie(t),a=!r&&!n&&z6(t),i=!r&&!n&&!a&&Zie(t),o=r||n||a||i,l=o?hie(t.length,String):[],c=l.length;for(var u in t)(e||eoe.call(t,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Cie(u,c)))&&l.push(u);return l}var toe=Object.prototype;function dE(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||toe;return t===r}var roe=$6(Object.keys,Object),noe=Object.prototype,aoe=noe.hasOwnProperty;function soe(t){if(!dE(t))return roe(t);var e=[];for(var r in Object(t))aoe.call(t,r)&&r!="constructor"&&e.push(r);return e}function G6(t){return t!=null&&U6(t.length)&&!L6(t)}function fE(t){return G6(t)?H6(t):soe(t)}function ioe(t,e){return t&&yv(e,fE(e),t)}function ooe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var loe=Object.prototype,coe=loe.hasOwnProperty;function uoe(t){if(!Fm(t))return ooe(t);var e=dE(t),r=[];for(var n in t)n=="constructor"&&(e||!coe.call(t,n))||r.push(n);return r}function mE(t){return G6(t)?H6(t,!0):uoe(t)}function doe(t,e){return t&&yv(e,mE(e),t)}var Y6=typeof hn=="object"&&hn&&!hn.nodeType&&hn,v_=Y6&&typeof pn=="object"&&pn&&!pn.nodeType&&pn,foe=v_&&v_.exports===Y6,j_=foe?za.Buffer:void 0,w_=j_?j_.allocUnsafe:void 0;function moe(t,e){if(e)return t.slice();var r=t.length,n=w_?w_(r):new t.constructor(r);return t.copy(n),n}function K6(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function hoe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[a++]=o)}return i}function J6(){return[]}var poe=Object.prototype,goe=poe.propertyIsEnumerable,N_=Object.getOwnPropertySymbols,hE=N_?function(t){return t==null?[]:(t=Object(t),hoe(N_(t),function(e){return goe.call(t,e)}))}:J6;function yoe(t,e){return yv(t,hE(t),e)}function X6(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var xoe=Object.getOwnPropertySymbols,Z6=xoe?function(t){for(var e=[];t;)X6(e,hE(t)),t=cE(t);return e}:J6;function boe(t,e){return yv(t,Z6(t),e)}function Q6(t,e,r){var n=e(t);return Bm(t)?n:X6(n,r(t))}function voe(t){return Q6(t,fE,hE)}function joe(t){return Q6(t,mE,Z6)}var a2=dl(za,"DataView"),s2=dl(za,"Promise"),i2=dl(za,"Set"),o2=dl(za,"WeakMap"),C_="[object Map]",woe="[object Object]",S_="[object Promise]",A_="[object Set]",T_="[object WeakMap]",k_="[object DataView]",Noe=ul(a2),Coe=ul(_f),Soe=ul(s2),Aoe=ul(i2),Toe=ul(o2),rs=ll;(a2&&rs(new a2(new ArrayBuffer(1)))!=k_||_f&&rs(new _f)!=C_||s2&&rs(s2.resolve())!=S_||i2&&rs(new i2)!=A_||o2&&rs(new o2)!=T_)&&(rs=function(t){var e=ll(t),r=e==woe?t.constructor:void 0,n=r?ul(r):"";if(n)switch(n){case Noe:return k_;case Coe:return C_;case Soe:return S_;case Aoe:return A_;case Toe:return T_}return e});var koe=Object.prototype,Eoe=koe.hasOwnProperty;function Ooe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Eoe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var E_=za.Uint8Array;function pE(t){var e=new t.constructor(t.byteLength);return new E_(e).set(new E_(t)),e}function Poe(t,e){var r=e?pE(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Doe=/\w*$/;function Ioe(t){var e=new t.constructor(t.source,Doe.exec(t));return e.lastIndex=t.lastIndex,e}var O_=Pi?Pi.prototype:void 0,P_=O_?O_.valueOf:void 0;function _oe(t){return P_?Object(P_.call(t)):{}}function $oe(t,e){var r=e?pE(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Roe="[object Boolean]",Moe="[object Date]",Loe="[object Map]",Foe="[object Number]",Boe="[object RegExp]",qoe="[object Set]",Voe="[object String]",zoe="[object Symbol]",Uoe="[object ArrayBuffer]",Woe="[object DataView]",Hoe="[object Float32Array]",Goe="[object Float64Array]",Yoe="[object Int8Array]",Koe="[object Int16Array]",Joe="[object Int32Array]",Xoe="[object Uint8Array]",Zoe="[object Uint8ClampedArray]",Qoe="[object Uint16Array]",ele="[object Uint32Array]";function tle(t,e,r){var n=t.constructor;switch(e){case Uoe:return pE(t);case Roe:case Moe:return new n(+t);case Woe:return Poe(t,r);case Hoe:case Goe:case Yoe:case Koe:case Joe:case Xoe:case Zoe:case Qoe:case ele:return $oe(t,r);case Loe:return new n;case Foe:case Voe:return new n(t);case Boe:return Ioe(t);case qoe:return new n;case zoe:return _oe(t)}}var D_=Object.create,rle=function(){function t(){}return function(e){if(!Fm(e))return{};if(D_)return D_(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function nle(t){return typeof t.constructor=="function"&&!dE(t)?rle(cE(t)):{}}var ale="[object Map]";function sle(t){return cl(t)&&rs(t)==ale}var I_=Oc&&Oc.isMap,ile=I_?uE(I_):sle,ole="[object Set]";function lle(t){return cl(t)&&rs(t)==ole}var __=Oc&&Oc.isSet,cle=__?uE(__):lle,ule=1,dle=2,fle=4,eq="[object Arguments]",mle="[object Array]",hle="[object Boolean]",ple="[object Date]",gle="[object Error]",tq="[object Function]",yle="[object GeneratorFunction]",xle="[object Map]",ble="[object Number]",rq="[object Object]",vle="[object RegExp]",jle="[object Set]",wle="[object String]",Nle="[object Symbol]",Cle="[object WeakMap]",Sle="[object ArrayBuffer]",Ale="[object DataView]",Tle="[object Float32Array]",kle="[object Float64Array]",Ele="[object Int8Array]",Ole="[object Int16Array]",Ple="[object Int32Array]",Dle="[object Uint8Array]",Ile="[object Uint8ClampedArray]",_le="[object Uint16Array]",$le="[object Uint32Array]",bt={};bt[eq]=bt[mle]=bt[Sle]=bt[Ale]=bt[hle]=bt[ple]=bt[Tle]=bt[kle]=bt[Ele]=bt[Ole]=bt[Ple]=bt[xle]=bt[ble]=bt[rq]=bt[vle]=bt[jle]=bt[wle]=bt[Nle]=bt[Dle]=bt[Ile]=bt[_le]=bt[$le]=!0;bt[gle]=bt[tq]=bt[Cle]=!1;function Ld(t,e,r,n,a,i){var o,l=e&ule,c=e&dle,u=e&fle;if(o!==void 0)return o;if(!Fm(t))return t;var d=Bm(t);if(d){if(o=Ooe(t),!l)return K6(t,o)}else{var f=rs(t),m=f==tq||f==yle;if(z6(t))return moe(t,l);if(f==rq||f==eq||m&&!a){if(o=c||m?{}:nle(t),!l)return c?boe(t,doe(o,t)):yoe(t,ioe(o,t))}else{if(!bt[f])return a?t:{};o=tle(t,f,l)}}i||(i=new ou);var h=i.get(t);if(h)return h;i.set(t,o),cle(t)?t.forEach(function(x){o.add(Ld(x,e,r,x,t,i))}):ile(t)&&t.forEach(function(x,b){o.set(b,Ld(x,e,r,b,t,i))});var p=u?c?joe:voe:c?mE:fE,y=d?void 0:p(t);return die(y||t,function(x,b){y&&(b=x,x=t[b]),B6(o,b,Ld(x,e,r,b,t,i))}),o}var Rle=1,Mle=4;function gd(t){return Ld(t,Rle|Mle)}var $_=Array.isArray,R_=Object.keys,Lle=Object.prototype.hasOwnProperty,Fle=typeof Element<"u";function l2(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=$_(t),n=$_(e),a,i,o;if(r&&n){if(i=t.length,i!=e.length)return!1;for(a=i;a--!==0;)if(!l2(t[a],e[a]))return!1;return!0}if(r!=n)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=R_(t);if(i=f.length,i!==R_(e).length)return!1;for(a=i;a--!==0;)if(!Lle.call(e,f[a]))return!1;if(Fle&&t instanceof Element&&e instanceof Element)return t===e;for(a=i;a--!==0;)if(o=f[a],!(o==="_owner"&&t.$$typeof)&&!l2(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var Ble=function(e,r){try{return l2(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const Ys=rt(Ble);var qle=4;function M_(t){return Ld(t,qle)}function nq(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Vle="[object Symbol]";function gE(t){return typeof t=="symbol"||cl(t)&&ll(t)==Vle}var zle="Expected a function";function yE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zle);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(yE.Cache||zi),r}yE.Cache=zi;var Ule=500;function Wle(t){var e=yE(t,function(n){return r.size===Ule&&r.clear(),n}),r=e.cache;return e}var Hle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gle=/\\(\\)?/g,Yle=Wle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Hle,function(r,n,a,i){e.push(a?i.replace(Gle,"$1"):n||r)}),e});function Kle(t){if(typeof t=="string"||gE(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var L_=Pi?Pi.prototype:void 0,F_=L_?L_.toString:void 0;function aq(t){if(typeof t=="string")return t;if(Bm(t))return nq(t,aq)+"";if(gE(t))return F_?F_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Jle(t){return t==null?"":aq(t)}function sq(t){return Bm(t)?nq(t,Kle):gE(t)?[t]:K6(Yle(Jle(t)))}var iq={exports:{}},dt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr=typeof Symbol=="function"&&Symbol.for,xE=pr?Symbol.for("react.element"):60103,bE=pr?Symbol.for("react.portal"):60106,xv=pr?Symbol.for("react.fragment"):60107,bv=pr?Symbol.for("react.strict_mode"):60108,vv=pr?Symbol.for("react.profiler"):60114,jv=pr?Symbol.for("react.provider"):60109,wv=pr?Symbol.for("react.context"):60110,vE=pr?Symbol.for("react.async_mode"):60111,Nv=pr?Symbol.for("react.concurrent_mode"):60111,Cv=pr?Symbol.for("react.forward_ref"):60112,Sv=pr?Symbol.for("react.suspense"):60113,Xle=pr?Symbol.for("react.suspense_list"):60120,Av=pr?Symbol.for("react.memo"):60115,Tv=pr?Symbol.for("react.lazy"):60116,Zle=pr?Symbol.for("react.block"):60121,Qle=pr?Symbol.for("react.fundamental"):60117,ece=pr?Symbol.for("react.responder"):60118,tce=pr?Symbol.for("react.scope"):60119;function kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case xE:switch(t=t.type,t){case vE:case Nv:case xv:case vv:case bv:case Sv:return t;default:switch(t=t&&t.$$typeof,t){case wv:case Cv:case Tv:case Av:case jv:return t;default:return e}}case bE:return e}}}function oq(t){return kn(t)===Nv}dt.AsyncMode=vE;dt.ConcurrentMode=Nv;dt.ContextConsumer=wv;dt.ContextProvider=jv;dt.Element=xE;dt.ForwardRef=Cv;dt.Fragment=xv;dt.Lazy=Tv;dt.Memo=Av;dt.Portal=bE;dt.Profiler=vv;dt.StrictMode=bv;dt.Suspense=Sv;dt.isAsyncMode=function(t){return oq(t)||kn(t)===vE};dt.isConcurrentMode=oq;dt.isContextConsumer=function(t){return kn(t)===wv};dt.isContextProvider=function(t){return kn(t)===jv};dt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xE};dt.isForwardRef=function(t){return kn(t)===Cv};dt.isFragment=function(t){return kn(t)===xv};dt.isLazy=function(t){return kn(t)===Tv};dt.isMemo=function(t){return kn(t)===Av};dt.isPortal=function(t){return kn(t)===bE};dt.isProfiler=function(t){return kn(t)===vv};dt.isStrictMode=function(t){return kn(t)===bv};dt.isSuspense=function(t){return kn(t)===Sv};dt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xv||t===Nv||t===vv||t===bv||t===Sv||t===Xle||typeof t=="object"&&t!==null&&(t.$$typeof===Tv||t.$$typeof===Av||t.$$typeof===jv||t.$$typeof===wv||t.$$typeof===Cv||t.$$typeof===Qle||t.$$typeof===ece||t.$$typeof===tce||t.$$typeof===Zle)};dt.typeOf=kn;iq.exports=dt;var rce=iq.exports,jE=rce,nce={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ace={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},sce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wE={};wE[jE.ForwardRef]=sce;wE[jE.Memo]=lq;function B_(t){return jE.isMemo(t)?lq:wE[t.$$typeof]||nce}var ice=Object.defineProperty,oce=Object.getOwnPropertyNames,q_=Object.getOwnPropertySymbols,lce=Object.getOwnPropertyDescriptor,cce=Object.getPrototypeOf,V_=Object.prototype;function cq(t,e,r){if(typeof e!="string"){if(V_){var n=cce(e);n&&n!==V_&&cq(t,n,r)}var a=oce(e);q_&&(a=a.concat(q_(e)));for(var i=B_(t),o=B_(e),l=0;l<a.length;++l){var c=a[l];if(!ace[c]&&!(r&&r[c])&&!(o&&o[c])&&!(i&&i[c])){var u=lce(e,c);try{ice(t,c,u)}catch{}}}}return t}var uce=cq;const dce=rt(uce);function ot(){return ot=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ot.apply(this,arguments)}function fce(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function jo(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function z_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var kv=v.createContext(void 0);kv.displayName="FormikContext";var NE=kv.Provider,mce=kv.Consumer;function CE(){var t=v.useContext(kv);return t}var U_=function(e){return Array.isArray(e)&&e.length===0},_r=function(e){return typeof e=="function"},lu=function(e){return e!==null&&typeof e=="object"},hce=function(e){return String(Math.floor(Number(e)))===e},VN=function(e){return Object.prototype.toString.call(e)==="[object String]"},uq=function(e){return v.Children.count(e)===0},zN=function(e){return lu(e)&&_r(e.then)};function ur(t,e,r,n){n===void 0&&(n=0);for(var a=sq(e);t&&n<a.length;)t=t[a[n++]];return n!==a.length&&!t||t===void 0?r:t}function Ia(t,e,r){for(var n=M_(t),a=n,i=0,o=sq(e);i<o.length-1;i++){var l=o[i],c=ur(t,o.slice(0,i+1));if(c&&(lu(c)||Array.isArray(c)))a=a[l]=M_(c);else{var u=o[i+1];a=a[l]=hce(u)&&Number(u)>=0?[]:{}}}return(i===0?t:a)[o[i]]===r?t:(r===void 0?delete a[o[i]]:a[o[i]]=r,i===0&&r===void 0&&delete n[o[i]],n)}function dq(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var a=0,i=Object.keys(t);a<i.length;a++){var o=i[a],l=t[o];lu(l)?r.get(l)||(r.set(l,!0),n[o]=Array.isArray(l)?[]:{},dq(l,e,r,n[o])):n[o]=e}return n}function pce(t,e){switch(e.type){case"SET_VALUES":return ot({},t,{values:e.payload});case"SET_TOUCHED":return ot({},t,{touched:e.payload});case"SET_ERRORS":return Ys(t.errors,e.payload)?t:ot({},t,{errors:e.payload});case"SET_STATUS":return ot({},t,{status:e.payload});case"SET_ISSUBMITTING":return ot({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return ot({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return ot({},t,{values:Ia(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return ot({},t,{touched:Ia(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return ot({},t,{errors:Ia(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return ot({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return ot({},t,{touched:dq(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return ot({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ot({},t,{isSubmitting:!1});default:return t}}var eo={},zh={};function Ze(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,a=n===void 0?!0:n,i=t.validateOnMount,o=i===void 0?!1:i,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=jo(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=ot({validateOnChange:r,validateOnBlur:a,validateOnMount:o,onSubmit:d},f),h=v.useRef(m.initialValues),p=v.useRef(m.initialErrors||eo),y=v.useRef(m.initialTouched||zh),x=v.useRef(m.initialStatus),b=v.useRef(!1),g=v.useRef({});v.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var j=v.useState(0),C=j[1],N=v.useRef({values:gd(m.initialValues),errors:gd(m.initialErrors)||eo,touched:gd(m.initialTouched)||zh,status:gd(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),w=N.current,S=v.useCallback(function(G){var ue=N.current;N.current=pce(ue,G),ue!==N.current&&C(function(ve){return ve+1})},[]),T=v.useCallback(function(G,ue){return new Promise(function(ve,we){var Pe=m.validate(G,ue);Pe==null?ve(eo):zN(Pe)?Pe.then(function(ze){ve(ze||eo)},function(ze){we(ze)}):ve(Pe)})},[m.validate]),k=v.useCallback(function(G,ue){var ve=m.validationSchema,we=_r(ve)?ve(ue):ve,Pe=ue&&we.validateAt?we.validateAt(ue,G):yce(G,we);return new Promise(function(ze,Kt){Pe.then(function(){ze(eo)},function(En){En.name==="ValidationError"?ze(gce(En)):Kt(En)})})},[m.validationSchema]),E=v.useCallback(function(G,ue){return new Promise(function(ve){return ve(g.current[G].validate(ue))})},[]),O=v.useCallback(function(G){var ue=Object.keys(g.current).filter(function(we){return _r(g.current[we].validate)}),ve=ue.length>0?ue.map(function(we){return E(we,ur(G,we))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ve).then(function(we){return we.reduce(function(Pe,ze,Kt){return ze==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ze&&(Pe=Ia(Pe,ue[Kt],ze)),Pe},{})})},[E]),M=v.useCallback(function(G){return Promise.all([O(G),m.validationSchema?k(G):{},m.validate?T(G):{}]).then(function(ue){var ve=ue[0],we=ue[1],Pe=ue[2],ze=n2.all([ve,we,Pe],{arrayMerge:xce});return ze})},[m.validate,m.validationSchema,O,T,k]),I=Pn(function(G){return G===void 0&&(G=w.values),S({type:"SET_ISVALIDATING",payload:!0}),M(G).then(function(ue){return b.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:ue})),ue})});v.useEffect(function(){o&&b.current===!0&&Ys(h.current,m.initialValues)&&I(h.current)},[o,I]);var V=v.useCallback(function(G){var ue=G&&G.values?G.values:h.current,ve=G&&G.errors?G.errors:p.current?p.current:m.initialErrors||{},we=G&&G.touched?G.touched:y.current?y.current:m.initialTouched||{},Pe=G&&G.status?G.status:x.current?x.current:m.initialStatus;h.current=ue,p.current=ve,y.current=we,x.current=Pe;var ze=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!G&&!!G.isSubmitting,errors:ve,touched:we,status:Pe,values:ue,isValidating:!!G&&!!G.isValidating,submitCount:G&&G.submitCount&&typeof G.submitCount=="number"?G.submitCount:0}})};if(m.onReset){var Kt=m.onReset(w.values,fe);zN(Kt)?Kt.then(ze):ze()}else ze()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);v.useEffect(function(){b.current===!0&&!Ys(h.current,m.initialValues)&&u&&(h.current=m.initialValues,V(),o&&I(h.current))},[u,m.initialValues,V,o,I]),v.useEffect(function(){u&&b.current===!0&&!Ys(p.current,m.initialErrors)&&(p.current=m.initialErrors||eo,S({type:"SET_ERRORS",payload:m.initialErrors||eo}))},[u,m.initialErrors]),v.useEffect(function(){u&&b.current===!0&&!Ys(y.current,m.initialTouched)&&(y.current=m.initialTouched||zh,S({type:"SET_TOUCHED",payload:m.initialTouched||zh}))},[u,m.initialTouched]),v.useEffect(function(){u&&b.current===!0&&!Ys(x.current,m.initialStatus)&&(x.current=m.initialStatus,S({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var P=Pn(function(G){if(g.current[G]&&_r(g.current[G].validate)){var ue=ur(w.values,G),ve=g.current[G].validate(ue);return zN(ve)?(S({type:"SET_ISVALIDATING",payload:!0}),ve.then(function(we){return we}).then(function(we){S({type:"SET_FIELD_ERROR",payload:{field:G,value:we}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:G,value:ve}}),Promise.resolve(ve))}else if(m.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),k(w.values,G).then(function(we){return we}).then(function(we){S({type:"SET_FIELD_ERROR",payload:{field:G,value:ur(we,G)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),F=v.useCallback(function(G,ue){var ve=ue.validate;g.current[G]={validate:ve}},[]),U=v.useCallback(function(G){delete g.current[G]},[]),R=Pn(function(G,ue){S({type:"SET_TOUCHED",payload:G});var ve=ue===void 0?a:ue;return ve?I(w.values):Promise.resolve()}),_=v.useCallback(function(G){S({type:"SET_ERRORS",payload:G})},[]),B=Pn(function(G,ue){var ve=_r(G)?G(w.values):G;S({type:"SET_VALUES",payload:ve});var we=ue===void 0?r:ue;return we?I(ve):Promise.resolve()}),X=v.useCallback(function(G,ue){S({type:"SET_FIELD_ERROR",payload:{field:G,value:ue}})},[]),$=Pn(function(G,ue,ve){S({type:"SET_FIELD_VALUE",payload:{field:G,value:ue}});var we=ve===void 0?r:ve;return we?I(Ia(w.values,G,ue)):Promise.resolve()}),z=v.useCallback(function(G,ue){var ve=ue,we=G,Pe;if(!VN(G)){G.persist&&G.persist();var ze=G.target?G.target:G.currentTarget,Kt=ze.type,En=ze.name,xl=ze.id,bl=ze.value,n9=ze.checked;ze.outerHTML;var eP=ze.options,a9=ze.multiple;ve=ue||En||xl,we=/number|range/.test(Kt)?(Pe=parseFloat(bl),isNaN(Pe)?"":Pe):/checkbox/.test(Kt)?vce(ur(w.values,ve),n9,bl):eP&&a9?bce(eP):bl}ve&&$(ve,we)},[$,w.values]),ne=Pn(function(G){if(VN(G))return function(ue){return z(ue,G)};z(G)}),xe=Pn(function(G,ue,ve){ue===void 0&&(ue=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:G,value:ue}});var we=ve===void 0?a:ve;return we?I(w.values):Promise.resolve()}),ee=v.useCallback(function(G,ue){G.persist&&G.persist();var ve=G.target,we=ve.name,Pe=ve.id;ve.outerHTML;var ze=ue||we||Pe;xe(ze,!0)},[xe]),re=Pn(function(G){if(VN(G))return function(ue){return ee(ue,G)};ee(G)}),_e=v.useCallback(function(G){_r(G)?S({type:"SET_FORMIK_STATE",payload:G}):S({type:"SET_FORMIK_STATE",payload:function(){return G}})},[]),Z=v.useCallback(function(G){S({type:"SET_STATUS",payload:G})},[]),K=v.useCallback(function(G){S({type:"SET_ISSUBMITTING",payload:G})},[]),H=Pn(function(){return S({type:"SUBMIT_ATTEMPT"}),I().then(function(G){var ue=G instanceof Error,ve=!ue&&Object.keys(G).length===0;if(ve){var we;try{if(we=je(),we===void 0)return}catch(Pe){throw Pe}return Promise.resolve(we).then(function(Pe){return b.current&&S({type:"SUBMIT_SUCCESS"}),Pe}).catch(function(Pe){if(b.current)throw S({type:"SUBMIT_FAILURE"}),Pe})}else if(b.current&&(S({type:"SUBMIT_FAILURE"}),ue))throw G})}),Y=Pn(function(G){G&&G.preventDefault&&_r(G.preventDefault)&&G.preventDefault(),G&&G.stopPropagation&&_r(G.stopPropagation)&&G.stopPropagation(),H().catch(function(ue){console.warn("Warning: An unhandled error was caught from submitForm()",ue)})}),fe={resetForm:V,validateForm:I,validateField:P,setErrors:_,setFieldError:X,setFieldTouched:xe,setFieldValue:$,setStatus:Z,setSubmitting:K,setTouched:R,setValues:B,setFormikState:_e,submitForm:H},je=Pn(function(){return d(w.values,fe)}),Ye=Pn(function(G){G&&G.preventDefault&&_r(G.preventDefault)&&G.preventDefault(),G&&G.stopPropagation&&_r(G.stopPropagation)&&G.stopPropagation(),V()}),xt=v.useCallback(function(G){return{value:ur(w.values,G),error:ur(w.errors,G),touched:!!ur(w.touched,G),initialValue:ur(h.current,G),initialTouched:!!ur(y.current,G),initialError:ur(p.current,G)}},[w.errors,w.touched,w.values]),ie=v.useCallback(function(G){return{setValue:function(ve,we){return $(G,ve,we)},setTouched:function(ve,we){return xe(G,ve,we)},setError:function(ve){return X(G,ve)}}},[$,xe,X]),He=v.useCallback(function(G){var ue=lu(G),ve=ue?G.name:G,we=ur(w.values,ve),Pe={name:ve,value:we,onChange:ne,onBlur:re};if(ue){var ze=G.type,Kt=G.value,En=G.as,xl=G.multiple;ze==="checkbox"?Kt===void 0?Pe.checked=!!we:(Pe.checked=!!(Array.isArray(we)&&~we.indexOf(Kt)),Pe.value=Kt):ze==="radio"?(Pe.checked=we===Kt,Pe.value=Kt):En==="select"&&xl&&(Pe.value=Pe.value||[],Pe.multiple=!0)}return Pe},[re,ne,w.values]),Ee=v.useMemo(function(){return!Ys(h.current,w.values)},[h.current,w.values]),st=v.useMemo(function(){return typeof l<"u"?Ee?w.errors&&Object.keys(w.errors).length===0:l!==!1&&_r(l)?l(m):l:w.errors&&Object.keys(w.errors).length===0},[l,Ee,w.errors,m]),gt=ot({},w,{initialValues:h.current,initialErrors:p.current,initialTouched:y.current,initialStatus:x.current,handleBlur:re,handleChange:ne,handleReset:Ye,handleSubmit:Y,resetForm:V,setErrors:_,setFormikState:_e,setFieldTouched:xe,setFieldValue:$,setFieldError:X,setStatus:Z,setSubmitting:K,setTouched:R,setValues:B,submitForm:H,validateForm:I,validateField:P,isValid:st,dirty:Ee,unregisterField:U,registerField:F,getFieldProps:He,getFieldMeta:xt,getFieldHelpers:ie,validateOnBlur:a,validateOnChange:r,validateOnMount:o});return gt}function Be(t){var e=Ze(t),r=t.component,n=t.children,a=t.render,i=t.innerRef;return v.useImperativeHandle(i,function(){return e}),v.createElement(NE,{value:e},r?v.createElement(r,e):a?a(e):n?_r(n)?n(e):uq(n)?null:v.Children.only(n):null)}function gce(t){var e={};if(t.inner){if(t.inner.length===0)return Ia(e,t.path,t.message);for(var a=t.inner,r=Array.isArray(a),n=0,a=r?a:a[Symbol.iterator]();;){var i;if(r){if(n>=a.length)break;i=a[n++]}else{if(n=a.next(),n.done)break;i=n.value}var o=i;ur(e,o.path)||(e=Ia(e,o.path,o.message))}}return e}function yce(t,e,r,n){r===void 0&&(r=!1);var a=c2(t);return e[r?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function c2(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(a){return Array.isArray(a)===!0||m_(a)?c2(a):a!==""?a:void 0}):m_(t[n])?e[n]=c2(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function xce(t,e,r){var n=t.slice();return e.forEach(function(i,o){if(typeof n[o]>"u"){var l=r.clone!==!1,c=l&&r.isMergeableObject(i);n[o]=c?n2(Array.isArray(i)?[]:{},i,r):i}else r.isMergeableObject(i)?n[o]=n2(t[o],i,r):t.indexOf(i)===-1&&n.push(i)}),n}function bce(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function vce(t,e,r){if(typeof t=="boolean")return!!e;var n=[],a=!1,i=-1;if(Array.isArray(t))n=t,i=t.indexOf(r),a=i>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!a?n.concat(r):a?n.slice(0,i).concat(n.slice(i+1)):n}var jce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect;function Pn(t){var e=v.useRef(t);return jce(function(){e.current=t}),v.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current.apply(void 0,n)},[])}function wce(t){var e=CE(),r=e.getFieldProps,n=e.getFieldMeta,a=e.getFieldHelpers,i=e.registerField,o=e.unregisterField,l=lu(t),c=l?t:{name:t},u=c.name,d=c.validate;v.useEffect(function(){return u&&i(u,{validate:d}),function(){u&&o(u)}},[i,o,u,d]);var f=v.useMemo(function(){return a(u)},[a,u]);return[r(c),n(u),f]}function Nce(t){var e=t.validate,r=t.name,n=t.render,a=t.children,i=t.as,o=t.component,l=t.className,c=jo(t,["validate","name","render","children","as","component","className"]),u=CE(),d=jo(u,["validate","validationSchema"]),f=d.registerField,m=d.unregisterField;v.useEffect(function(){return f(r,{validate:e}),function(){m(r)}},[f,m,r,e]);var h=d.getFieldProps(ot({name:r},c)),p=d.getFieldMeta(r),y={field:h,form:d};if(n)return n(ot({},y,{meta:p}));if(_r(a))return a(ot({},y,{meta:p}));if(o){if(typeof o=="string"){var x=c.innerRef,b=jo(c,["innerRef"]);return v.createElement(o,ot({ref:x},h,b,{className:l}),a)}return v.createElement(o,ot({field:h,form:d},c,{className:l}),a)}var g=i||"input";if(typeof g=="string"){var j=c.innerRef,C=jo(c,["innerRef"]);return v.createElement(g,ot({ref:j},h,C,{className:l}),a)}return v.createElement(g,ot({},h,c,{className:l}),a)}var We=v.forwardRef(function(t,e){var r=t.action,n=jo(t,["action"]),a=r??"#",i=CE(),o=i.handleReset,l=i.handleSubmit;return v.createElement("form",ot({onSubmit:l,ref:e,onReset:o,action:a},n))});We.displayName="Form";function Cce(t){var e=function(a){return v.createElement(mce,null,function(i){return v.createElement(t,ot({},a,{formik:i}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",dce(e,t)}var Sce=function(e,r,n){var a=Xo(e),i=a[r];return a.splice(r,1),a.splice(n,0,i),a},Ace=function(e,r,n){var a=Xo(e),i=a[r];return a[r]=a[n],a[n]=i,a},UN=function(e,r,n){var a=Xo(e);return a.splice(r,0,n),a},Tce=function(e,r,n){var a=Xo(e);return a[r]=n,a},Xo=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,a){return a>n?a:n},0);return Array.from(ot({},e,{length:r+1}))}else return[]},W_=function(e,r){var n=typeof e=="function"?e:r;return function(a){if(Array.isArray(a)||lu(a)){var i=Xo(a);return n(i)}return a}},fq=function(t){fce(e,t);function e(n){var a;return a=t.call(this,n)||this,a.updateArrayField=function(i,o,l){var c=a.props,u=c.name,d=c.formik.setFormikState;d(function(f){var m=W_(l,i),h=W_(o,i),p=Ia(f.values,u,i(ur(f.values,u))),y=l?m(ur(f.errors,u)):void 0,x=o?h(ur(f.touched,u)):void 0;return U_(y)&&(y=void 0),U_(x)&&(x=void 0),ot({},f,{values:p,errors:l?Ia(f.errors,u,y):f.errors,touched:o?Ia(f.touched,u,x):f.touched})})},a.push=function(i){return a.updateArrayField(function(o){return[].concat(Xo(o),[gd(i)])},!1,!1)},a.handlePush=function(i){return function(){return a.push(i)}},a.swap=function(i,o){return a.updateArrayField(function(l){return Ace(l,i,o)},!0,!0)},a.handleSwap=function(i,o){return function(){return a.swap(i,o)}},a.move=function(i,o){return a.updateArrayField(function(l){return Sce(l,i,o)},!0,!0)},a.handleMove=function(i,o){return function(){return a.move(i,o)}},a.insert=function(i,o){return a.updateArrayField(function(l){return UN(l,i,o)},function(l){return UN(l,i,null)},function(l){return UN(l,i,null)})},a.handleInsert=function(i,o){return function(){return a.insert(i,o)}},a.replace=function(i,o){return a.updateArrayField(function(l){return Tce(l,i,o)},!1,!1)},a.handleReplace=function(i,o){return function(){return a.replace(i,o)}},a.unshift=function(i){var o=-1;return a.updateArrayField(function(l){var c=l?[i].concat(l):[i];return o=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),o},a.handleUnshift=function(i){return function(){return a.unshift(i)}},a.handleRemove=function(i){return function(){return a.remove(i)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(z_(a)),a.pop=a.pop.bind(z_(a)),a}var r=e.prototype;return r.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Ys(ur(a.formik.values,a.name),ur(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(a){var i;return this.updateArrayField(function(o){var l=o?Xo(o):[];return i||(i=l[a]),_r(l.splice)&&l.splice(a,1),_r(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),i},r.pop=function(){var a;return this.updateArrayField(function(i){var o=i.slice();return a||(a=o&&o.pop&&o.pop()),o},!0,!0),a},r.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},i=this.props,o=i.component,l=i.render,c=i.children,u=i.name,d=i.formik,f=jo(d,["validate","validationSchema"]),m=ot({},a,{form:f,name:u});return o?v.createElement(o,m):l?l(m):c?typeof c=="function"?c(m):uq(c)?null:v.Children.only(c):null},e}(v.Component);fq.defaultProps={validateOnChange:!0};var Yr=Cce(fq);function fl(t){this._maxSize=t,this.clear()}fl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};fl.prototype.get=function(t){return this._values[t]};fl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var kce=/[^.^\]^[]+|(?=\[\]|\.\.)/g,mq=/^\d+$/,Ece=/^\d/,Oce=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Pce=/^\s*(['"]?)(.*?)(\1)\s*$/,SE=512,H_=new fl(SE),G_=new fl(SE),Y_=new fl(SE),Po={Cache:fl,split:u2,normalizePath:WN,setter:function(t){var e=WN(t);return G_.get(t)||G_.set(t,function(n,a){for(var i=0,o=e.length,l=n;i<o-1;){var c=e[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[e[i++]]}l[e[i]]=a})},getter:function(t,e){var r=WN(t);return Y_.get(t)||Y_.set(t,function(a){for(var i=0,o=r.length;i<o;)if(a!=null||!e)a=a[r[i++]];else return;return a})},join:function(t){return t.reduce(function(e,r){return e+(AE(r)||mq.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){Dce(Array.isArray(t)?t:u2(t),e,r)}};function WN(t){return H_.get(t)||H_.set(t,u2(t).map(function(e){return e.replace(Pce,"$2")}))}function u2(t){return t.match(kce)||[""]}function Dce(t,e,r){var n=t.length,a,i,o,l;for(i=0;i<n;i++)a=t[i],a&&($ce(a)&&(a='"'+a+'"'),l=AE(a),o=!l&&/^\d+$/.test(a),e.call(r,a,l,o,i,t))}function AE(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Ice(t){return t.match(Ece)&&!t.match(mq)}function _ce(t){return Oce.test(t)}function $ce(t){return!AE(t)&&(Ice(t)||_ce(t))}const Rce=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Ev=t=>t.match(Rce)||[],Ov=t=>t[0].toUpperCase()+t.slice(1),TE=(t,e)=>Ev(t).join(e).toLowerCase(),hq=t=>Ev(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),Mce=t=>Ov(hq(t)),Lce=t=>TE(t,"_"),Fce=t=>TE(t,"-"),Bce=t=>Ov(TE(t," ")),qce=t=>Ev(t).map(Ov).join(" ");var HN={words:Ev,upperFirst:Ov,camelCase:hq,pascalCase:Mce,snakeCase:Lce,kebabCase:Fce,sentenceCase:Bce,titleCase:qce},kE={exports:{}};kE.exports=function(t){return pq(Vce(t),t)};kE.exports.array=pq;function pq(t,e){var r=t.length,n=new Array(r),a={},i=r,o=zce(e),l=Uce(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)a[i]||c(t[i],i,new Set);return n;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!a[d]){a[d]=!0;var h=o.get(u)||new Set;if(h=Array.from(h),d=h.length){f.add(u);do{var p=h[--d];c(p,l.get(p),f)}while(d);f.delete(u)}n[--r]=u}}}function Vce(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var a=t[r];e.add(a[0]),e.add(a[1])}return Array.from(e)}function zce(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var a=t[r];e.has(a[0])||e.set(a[0],new Set),e.has(a[1])||e.set(a[1],new Set),e.get(a[0]).add(a[1])}return e}function Uce(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var Wce=kE.exports;const Hce=rt(Wce),Gce=Object.prototype.toString,Yce=Error.prototype.toString,Kce=RegExp.prototype.toString,Jce=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Xce=/^Symbol\((.*)\)(.*)$/;function Zce(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function K_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return Zce(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Jce.call(t).replace(Xce,"Symbol($1)");const n=Gce.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Yce.call(t)+"]":n==="RegExp"?Kce.call(t):null}function ps(t,e){let r=K_(t,e);return r!==null?r:JSON.stringify(t,function(n,a){let i=K_(this[n],e);return i!==null?i:a},2)}function gq(t){return t==null?[]:[].concat(t)}let yq,xq,bq,Qce=/\$\{\s*(\w+)\s*\}/g;yq=Symbol.toStringTag;class J_{constructor(e,r,n,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[yq]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],gq(e).forEach(i=>{if(Wr.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}xq=Symbol.hasInstance;bq=Symbol.toStringTag;class Wr extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(Qce,(a,i)=>ps(r[i])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,a,i){const o=new J_(e,r,n,a);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[bq]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Wr)}static[xq](e){return J_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ca={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const a=n!=null&&n!==r?` (cast from the value \`${ps(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${ps(r,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${ps(r,!0)}\``+a}},zr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Us={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},d2={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},f2={isValue:"${path} field must be ${value}"},Vp={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},zp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},eue={notType:t=>{const{path:e,value:r,spec:n}=t,a=n.types.length;if(Array.isArray(r)){if(r.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${r.length} for value: \`${ps(r,!0)}\``;if(r.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${r.length} for value: \`${ps(r,!0)}\``}return Wr.formatError(Ca.notType,t)}};Object.assign(Object.create(null),{mixed:Ca,string:zr,number:Us,date:d2,object:Vp,array:zp,boolean:f2,tuple:eue});const Pv=t=>t&&t.__isYupSchema__;class Ab{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:i}=r,o=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new Ab(e,(l,c)=>{var u;let d=o(...l)?a:i;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(i=>i.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn(n,e,r);if(a===void 0||a===e)return e;if(!Pv(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}const Uh={context:"$",value:"."};function Rf(t,e){return new Ui(t,e)}class Ui{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Uh.context,this.isValue=this.key[0]===Uh.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Uh.context:this.isValue?Uh.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Po.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let a=this.isContext?n:this.isValue?e:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ui.prototype.__isYupRef=!0;const oa=t=>t==null;function Tl(t){function e({value:r,path:n="",options:a,originalValue:i,schema:o},l,c){const{name:u,test:d,params:f,message:m,skipAbsent:h}=t;let{parent:p,context:y,abortEarly:x=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=a;function g(O){return Ui.isRef(O)?O.getValue(r,p,y):O}function j(O={}){const M=Object.assign({value:r,originalValue:i,label:o.spec.label,path:O.path||n,spec:o.spec,disableStackTrace:O.disableStackTrace||b},f,O.params);for(const V of Object.keys(M))M[V]=g(M[V]);const I=new Wr(Wr.formatError(O.message||m,M),r,M.path,O.type||u,M.disableStackTrace);return I.params=M,I}const C=x?l:c;let N={path:n,parent:p,type:u,from:a.from,createError:j,resolve:g,options:a,originalValue:i,schema:o};const w=O=>{Wr.isError(O)?C(O):O?c(null):C(j())},S=O=>{Wr.isError(O)?C(O):l(O)};if(h&&oa(r))return w(!0);let k;try{var E;if(k=d.call(N,r,N),typeof((E=k)==null?void 0:E.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${N.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(k).then(w,S)}}catch(O){S(O);return}w(k)}return e.OPTIONS=t,e}function tue(t,e,r,n=r){let a,i,o;return e?(Po.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:a,value:r});let f=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);a=r,r=r&&r[m],t=f?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);a=r,r=r&&r[d],t=t.fields[d]}i=d,o=c?"["+l+"]":"."+l}),{schema:t,parent:a,parentPath:i}):{parent:a,parentPath:e,schema:t}}class Tb extends Set{describe(){const e=[];for(const r of this.values())e.push(Ui.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Tb(this.values())}merge(e,r){const n=this.clone();return e.forEach(a=>n.add(a)),r.forEach(a=>n.delete(a)),n}}function Hl(t,e=new Map){if(Pv(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=Hl(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,a]of t.entries())r.set(n,Hl(a,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(Hl(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,a]of Object.entries(t))r[n]=Hl(a,e)}else throw Error(`Unable to clone ${t}`);return r}class Nn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Tb,this._blacklist=new Tb,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ca.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=Hl(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const a=Object.assign({},r.spec,n.spec);return n.spec=a,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,i)=>i.resolve(a,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,a,i;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),a=r.assert==="ignore-optionality",i=n._cast(e,r);if(r.assert!==!1&&!n.isType(i)){if(a&&oa(i))return i;let o=ps(e),l=ps(i);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(l!==o?`result of cast: ${l}`:""))}return i}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((a,i)=>i.call(this,a,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,a){let{path:i,originalValue:o=e,strict:l=this.spec.strict}=r,c=e;l||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:c,originalValue:o,options:r,tests:u},n,d=>{if(d.length)return a(d,c);this.runTests({path:i,value:c,originalValue:o,options:r,tests:this.tests},n,a)})}runTests(e,r,n){let a=!1,{tests:i,value:o,originalValue:l,path:c,options:u}=e,d=y=>{a||(a=!0,r(y,o))},f=y=>{a||(a=!0,n(y,o))},m=i.length,h=[];if(!m)return f([]);let p={value:o,originalValue:l,path:c,options:u,schema:this};for(let y=0;y<i.length;y++){const x=i[y];x(p,d,function(g){g&&(Array.isArray(g)?h.push(...g):h.push(g)),--m<=0&&f(h)})}}asNestedTest({key:e,index:r,parent:n,parentPath:a,originalParent:i,options:o}){const l=e??r;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=n[l];const d=Object.assign({},o,{strict:!0,parent:n,value:u,originalValue:i[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${a||""}[${c?l:`"${l}"`}]`:(a?`${a}.`:"")+e});return(f,m,h)=>this.resolve(d)._validate(u,d,m,h)}validate(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),i=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return new Promise((o,l)=>a._validate(e,r,(c,u)=>{Wr.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Wr(c,u,void 0,void 0,i)):o(u)}))}validateSync(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),i,o=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return a._validate(e,Object.assign({},r,{sync:!0}),(l,c)=>{throw Wr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Wr(l,e,void 0,void 0,o);i=c}),i}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Wr.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Wr.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):Hl(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Tl({message:r,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Tl({message:r,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Ca.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ca.notNull){return this.nullability(!1,e)}required(e=Ca.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Ca.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=Tl(r),i=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(i||o.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),a=gq(e).map(i=>new Ui(i));return a.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof r=="function"?new Ab(a,r):Ab.fromOptions(a,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Tl({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Ca.oneOf){let n=this.clone();return e.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n.internalTests.whiteList=Tl({message:r,name:"oneOf",skipAbsent:!0,test(a){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(a)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),n}notOneOf(e,r=Ca.notOneOf){let n=this.clone();return e.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n.internalTests.blacklist=Tl({message:r,name:"notOneOf",test(a){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(a)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:a,optional:i,nullable:o}=r.spec;return{meta:a,label:n,optional:i,nullable:o,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,d)=>d.findIndex(f=>f.name===c.name)===u)}}}Nn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Nn.prototype[`${t}At`]=function(e,r,n={}){const{parent:a,parentPath:i,schema:o}=tue(this,e,r,n.context);return o[t](a&&a[i],Object.assign({},n,{parent:a,path:e}))};for(const t of["equals","is"])Nn.prototype[t]=Nn.prototype.oneOf;for(const t of["not","nope"])Nn.prototype[t]=Nn.prototype.notOneOf;function Pc(){return new vq}class vq extends Nn{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=f2.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return oa(r)||r===!0}})}isFalse(e=f2.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return oa(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Pc.prototype=vq.prototype;const rue=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function nue(t){const e=m2(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function m2(t){var e,r;const n=rue.exec(t);return n?{year:Ga(n[1]),month:Ga(n[2],1)-1,day:Ga(n[3],1),hour:Ga(n[4]),minute:Ga(n[5]),second:Ga(n[6]),millisecond:n[7]?Ga(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Ga(n[10]),minuteOffset:Ga(n[11])}:null}function Ga(t,e=0){return Number(t)||e}let aue=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,sue=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,iue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,oue="^\\d{4}-\\d{2}-\\d{2}",lue="\\d{2}:\\d{2}:\\d{2}",cue="(([+-]\\d{2}(:?\\d{2})?)|Z)",uue=new RegExp(`${oue}T${lue}(\\.\\d+)?${cue}$`),due=t=>oa(t)||t===t.trim(),fue={}.toString();function D(){return new jq}class jq extends Nn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===fue?e:a})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Ca.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=zr.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=zr.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=zr.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,a,i;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:i}=r:a=r),this.test({name:i||"matches",message:a||zr.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&n||o.search(e)!==-1})}email(e=zr.email){return this.matches(aue,{name:"email",message:e,excludeEmptyString:!0})}url(e=zr.url){return this.matches(sue,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=zr.uuid){return this.matches(iue,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,a;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:a=void 0}=e:r=e),this.matches(uue,{name:"datetime",message:r||zr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||zr.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const o=m2(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:r||zr.datetime_precision,params:{precision:a},skipAbsent:!0,test:i=>{if(!i||a==null)return!0;const o=m2(i);return o?o.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=zr.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:due})}lowercase(e=zr.lowercase){return this.transform(r=>oa(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>oa(r)||r===r.toLowerCase()})}uppercase(e=zr.uppercase){return this.transform(r=>oa(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>oa(r)||r===r.toUpperCase()})}}D.prototype=jq.prototype;let mue=t=>t!=+t;function oe(){return new wq}class wq extends Nn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!mue(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return n.isType(a)||a===null?a:parseFloat(a)})})}min(e,r=Us.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=Us.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=Us.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=Us.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=Us.positive){return this.moreThan(0,e)}negative(e=Us.negative){return this.lessThan(0,e)}integer(e=Us.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>oa(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(a=>oa(a)?a:Math[e](a))}}oe.prototype=wq.prototype;let Nq=new Date(""),hue=t=>Object.prototype.toString.call(t)==="[object Date]";function De(){return new qm}class qm extends Nn{constructor(){super({type:"date",check(e){return hue(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=nue(e),isNaN(e)?qm.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Ui.isRef(e))n=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(e,r=d2.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(n)}})}max(e,r=d2.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(n)}})}}qm.INVALID_DATE=Nq;De.prototype=qm.prototype;De.INVALID_DATE=Nq;function pue(t,e=[]){let r=[],n=new Set,a=new Set(e.map(([o,l])=>`${o}-${l}`));function i(o,l){let c=Po.split(o)[0];n.add(c),a.has(`${l}-${c}`)||r.push([l,c])}for(const o of Object.keys(t)){let l=t[o];n.add(o),Ui.isRef(l)&&l.isSibling?i(l.path,o):Pv(l)&&"deps"in l&&l.deps.forEach(c=>i(c,o))}return Hce.array(Array.from(n),r).reverse()}function X_(t,e){let r=1/0;return t.some((n,a)=>{var i;if((i=e.path)!=null&&i.includes(n))return r=a,!0}),r}function Cq(t){return(e,r)=>X_(t,e)-X_(t,r)}const Sq=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function Up(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=Up(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Up(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Up)}):"optional"in t?t.optional():t}const gue=(t,e)=>{const r=[...Po.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),a=Po.getter(Po.join(r),!0)(t);return!!(a&&n in a)};let Z_=t=>Object.prototype.toString.call(t)==="[object Object]";function Q_(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const yue=Cq([]);function le(t){return new Aq(t)}class Aq extends Nn{constructor(e){super({type:"object",check(r){return Z_(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=yue,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let a=super._cast(e,r);if(a===void 0)return this.getDefault(r);if(!this._typeCheck(a))return a;let i=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(a).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const f of l){let m=i[f],h=f in a;if(m){let p,y=a[f];u.path=(r.path?`${r.path}.`:"")+f,m=m.resolve({value:y,context:r.context,parent:c});let x=m instanceof Nn?m.spec:void 0,b=x==null?void 0:x.strict;if(x!=null&&x.strip){d=d||f in a;continue}p=!r.__validating||!b?m.cast(a[f],u):a[f],p!==void 0&&(c[f]=p)}else h&&!o&&(c[f]=a[f]);(h!==f in c||c[f]!==a[f])&&(d=!0)}return d?c:a}_validate(e,r={},n,a){let{from:i=[],originalValue:o=e,recursive:l=this.spec.recursive}=r;r.from=[{schema:this,value:o},...i],r.__validating=!0,r.originalValue=o,super._validate(e,r,n,(c,u)=>{if(!l||!Z_(u)){a(c,u);return}o=o||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||Ui.isRef(m)||d.push(m.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:o}))}this.runTests({tests:d,value:u,originalValue:o,options:r},n,f=>{a(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[a,i]of Object.entries(this.fields)){const o=n[a];n[a]=o===void 0?i:o}return r.withMutation(a=>a.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var a;const i=this.fields[n];let o=e;(a=o)!=null&&a.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=i&&"getDefault"in i?i.getDefault(o):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=pue(e,r),n._sortErrors=Cq(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let a=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),a=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),a)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return Up(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,a])=>e.includes(n)&&e.includes(a)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let a=Po.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return gue(i,e)&&(o=Object.assign({},i),n||delete o[e],o[r]=a(i)),o})}json(){return this.transform(Sq)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Vp.exact,test(r){if(r==null)return!0;const n=Q_(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=Vp.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const i=Q_(this.schema,a);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=Vp.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const a of Object.keys(r))n[e(a)]=r[a];return n})}camelCase(){return this.transformKeys(HN.camelCase)}snakeCase(){return this.transformKeys(HN.snakeCase)}constantCase(){return this.transformKeys(e=>HN.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[i,o]of Object.entries(r.fields)){var a;let l=e;(a=l)!=null&&a.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),n.fields[i]=o.describe(l)}return n}}le.prototype=Aq.prototype;function Vn(t){return new Tq(t)}class Tq extends Nn{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let a=!1;const i=n.map((o,l)=>{const c=this.innerType.cast(o,Object.assign({},r,{path:`${r.path||""}[${l}]`}));return c!==o&&(a=!0),c});return a?i:n}_validate(e,r={},n,a){var i;let o=this.innerType,l=(i=r.recursive)!=null?i:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!l||!o||!this._typeCheck(u)){a(c,u);return}let f=new Array(u.length);for(let h=0;h<u.length;h++){var m;f[h]=o.asNestedTest({options:r,index:h,parent:u,parentPath:r.path,originalParent:(m=r.originalValue)!=null?m:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,h=>a(h.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(Sq)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!Pv(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+ps(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=zp.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||zp.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||zp.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,a,i)=>!e(n,a,i):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var a;let i=e;(a=i)!=null&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),n.innerType=r.innerType.describe(i)}return n}}Vn.prototype=Tq.prototype;function xue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const bue=v.forwardRef(xue);function vue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const jue=v.forwardRef(vue);function wue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const Nue=v.forwardRef(wue);function Cue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const Sue=v.forwardRef(Cue);function Aue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),v.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const Tue=v.forwardRef(Aue);function kue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const Eue=v.forwardRef(kue);function Oue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Pue=v.forwardRef(Oue);function Due({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Iue=v.forwardRef(Due);function pe({columns:t,data:e=[],pagination:r=!0,search:n=!0,actions:a=[],loading:i=!1,onRowClick:o=null,emptyMessage:l="No data available"}){const[c,u]=v.useState(1),[d,f]=v.useState(10),[m,h]=v.useState(""),[p,y]=v.useState({key:null,direction:"asc"}),x=Array.isArray(e)?e:[],g=[...x.filter(k=>Object.values(k).some(E=>E!=null&&E.toString().toLowerCase().includes(m.toLowerCase())))].sort((k,E)=>{if(!p.key)return 0;const O=k[p.key],M=E[p.key];return O==null?1:M==null?-1:typeof O=="string"&&typeof M=="string"?p.direction==="asc"?O.localeCompare(M):M.localeCompare(O):p.direction==="asc"?O-M:M-O}),j=Math.ceil(g.length/d),C=g.slice((c-1)*d,c*d),N=k=>{let E="asc";p.key===k&&p.direction==="asc"&&(E="desc"),y({key:k,direction:E})},w=k=>{u(k)},S=k=>{f(Number(k.target.value)),u(1)},T=k=>{h(k.target.value),u(1)};return i?s.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:s.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"Loading..."}),s.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Please wait while we fetch the data."})]})}):x.length===0?s.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:s.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"No data available"}),s.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:l})]})}):s.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200 overflow-hidden",children:[n&&s.jsx("div",{className:"px-4 py-3 border-b border-neutral-200 bg-neutral-50",children:s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Eue,{className:"h-5 w-5 text-neutral-400","aria-hidden":"true"})}),s.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2 sm:text-sm border-neutral-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",value:m,onChange:T})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[s.jsx("thead",{className:"bg-neutral-50",children:s.jsxs("tr",{children:[t.map(k=>s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",onClick:()=>k.sortable!==!1&&N(k.key),children:s.jsxs("div",{className:"flex items-center gap-1",children:[" ",s.jsx("span",{children:k.header}),k.sortable!==!1&&s.jsxs("span",{className:"flex flex-col shrink-0",children:[" ",s.jsx(Nue,{className:`h-3 w-3 ${p.key===k.key&&p.direction==="asc"?"text-primary-600":"text-neutral-400"}`}),s.jsx(jue,{className:`h-3 w-3 -mt-1 ${p.key===k.key&&p.direction==="desc"?"text-primary-600":"text-neutral-400"}`})]})]})},k.key)),a.length>0&&s.jsx("th",{scope:"col",className:"relative px-6 py-3 whitespace-nowrap",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:C.map((k,E)=>s.jsxs("tr",{className:o?"hover:bg-neutral-50 cursor-pointer":"",onClick:o?()=>o(k):void 0,children:[t.map(O=>s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${O.className||"text-neutral-500"}`,children:O.render?O.render(k[O.key],k):k[O.key]},`${k.id||E}-${O.key}`)),typeof a=="function"?(()=>{const O=a(k);return(O==null?void 0:O.length)>0&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:O.map((M,I)=>s.jsx("button",{onClick:V=>{V.stopPropagation(),M.onClick(k)},className:M.className||"text-primary-600 hover:text-primary-900",title:M.title,children:M.icon?s.jsx(M.icon,{className:"h-5 w-5","aria-hidden":"true"}):M.label},I))})})():a.length>0&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a.map((O,M)=>s.jsx("button",{onClick:I=>{I.stopPropagation(),O.onClick(k)},className:O.className||"text-primary-600 hover:text-primary-900",title:O.title,children:O.icon?s.jsx(O.icon,{className:"h-5 w-5","aria-hidden":"true"}):O.label},M))})]},k.id||E))})]})}),r&&j>0&&s.jsxs("div",{className:"px-2 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-neutral-200 bg-neutral-50 sm:px-6",children:[s.jsxs("div",{className:"text-sm text-neutral-700 text-center sm:text-left",children:["Showing"," ",s.jsx("span",{className:"font-medium",children:Math.min((c-1)*d+1,g.length)})," ","to"," ",s.jsx("span",{className:"font-medium",children:Math.min(c*d,g.length)})," ","of ",s.jsx("span",{className:"font-medium",children:g.length})," results"]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between sm:justify-end sm:gap-4 gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{htmlFor:"rows-per-page",className:"text-sm text-neutral-700 whitespace-nowrap",children:"Rows per page"}),s.jsx("select",{id:"rows-per-page",name:"rows-per-page",className:"block w-auto pl-3 pr-8 py-1 text-sm border border-neutral-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",value:d,onChange:S,children:[5,10,25,50].map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>w(c-1),disabled:c===1,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(_ue,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>w(c+1),disabled:c===j,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx($ue,{className:"h-5 w-5"})})]})]})]})]})}function _ue(t){return s.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}function $ue(t){return s.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}function A({label:t,name:e,type:r="text",placeholder:n="",required:a=!1,disabled:i=!1,readOnly:o=!1,className:l="",options:c=[],value:u,onChange:d,onBlur:f,error:m,touched:h,helperText:p,...y}){const x=m&&h,b=()=>{switch(r){case"textarea":return s.jsx("textarea",{id:e,name:e,placeholder:n,disabled:i,readOnly:o,value:u,onChange:d,onBlur:f,rows:y.rows||3,className:Oe("form-textarea border border-gray-300 px-4 py-2",x&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...y});case"multiselect":return s.jsx("select",{id:e,name:e,disabled:i,multiple:!0,value:u||[],onChange:g=>{const j=Array.from(g.target.selectedOptions).map(C=>C.value);d({target:{name:e,value:j}})},onBlur:f,className:Oe("form-select border border-gray-300 px-4 py-2 h-auto",x&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y,children:c.map(g=>s.jsx("option",{value:g.value,children:g.label},g.value))});case"select":return s.jsxs("select",{id:e,name:e,disabled:i,value:u,onChange:d,onBlur:f,className:Oe("form-select border border-gray-300 px-4 py-2",x&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y,children:[s.jsx("option",{value:"",children:y.defaultOption||"Select"}),c.map(g=>s.jsx("option",{value:g.value,children:g.label},g.value))]});case"checkbox":return s.jsx("div",{className:"flex items-center h-full",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:e,name:e,type:"checkbox",disabled:i,checked:u,onChange:d,onBlur:f,className:Oe("form-checkbox",x&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y}),s.jsx("label",{htmlFor:e,className:"ml-2 block text-sm text-neutral-700",children:t})]})});case"radio":return s.jsx("div",{className:"space-y-2",children:c.map(g=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:`${e}-${g.value}`,name:e,type:"radio",value:g.value,disabled:i,checked:u===g.value,onChange:d,onBlur:f,className:Oe("form-radio ",x&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y}),s.jsx("label",{htmlFor:`${e}-${g.value}`,className:"ml-2 block text-sm text-neutral-700",children:g.label})]},g.value))});case"date":case"number":case"email":case"password":case"text":default:return s.jsx("input",{id:e,name:e,type:r,placeholder:n,disabled:i,readOnly:o,value:u,onChange:d,onBlur:f,className:Oe("form-input border border-gray-300 px-4 py-2",x&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...y})}};return s.jsxs("div",{className:`form-group ${r==="checkbox"?"":"space-y-1"}`,children:[r!=="checkbox"&&s.jsxs("label",{htmlFor:e,className:"form-label",children:[t," ",a&&s.jsx("span",{className:"text-error-500",children:"*"})]}),b(),x?s.jsx("div",{className:"mt-1 text-error-600 text-sm",children:m}):p?s.jsx("div",{className:"mt-1 text-neutral-500 text-xs",children:p}):null]})}function te({isOpen:t,onClose:e,title:r,size:n="md",children:a,footer:i=null}){const o={sm:"sm:max-w-lg",md:"sm:max-w-xl",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl",xxxl:"sm:max-w-7xl",full:"sm:max-w-full sm:h-screen"};return s.jsx(Dp.Root,{show:t,as:v.Fragment,children:s.jsx(NN,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:e,children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0",children:[s.jsx(Dp.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx(NN.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),s.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:""}),s.jsx(Dp.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:s.jsxs("div",{className:`inline-block w-full align-bottom sm:align-middle bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 ${o[n]}`,children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[s.jsx(NN.Title,{as:"h3",className:"text-lg font-medium text-neutral-900",children:r}),s.jsxs("button",{type:"button",className:"rounded-md text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:e,children:[s.jsx("span",{className:"sr-only",children:"Close"}),s.jsx(sB,{className:"h-6 w-6","aria-hidden":"true"})]})]}),s.jsx("div",{className:"p-3 sm:px-6 sm:py-4",children:a}),i&&s.jsx("div",{className:"px-6 py-3 bg-neutral-50 border-t border-neutral-200",children:i})]})})]})})})}const Dv="https://staging-engine.testthelink.online",Rue=[],Mue={departments:Rue,department:null,isLoading:!1,error:null},zn=L("departments/fetchDepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Dv}/department`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Wp=L("departments/addDepartment",async(t,e)=>{try{const r=await fetch(`${Dv}/department`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Hp=L("departments/updateDepartment",async(t,e)=>{try{const r=await fetch(`${Dv}/department/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Gp=L("department/deleteDepartment",async(t,e)=>{try{const r=await fetch(`${Dv}/department/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),kq=me({name:"departments",initialState:Mue,reducers:{setDepartment:(t,e)=>{t.department=e.payload},resetDepartmentState:t=>{t.department=null,t.error=null}},extraReducers:t=>{t.addCase(zn.pending,e=>{e.isLoading=!0}).addCase(zn.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=r.payload,e.error=null}).addCase(zn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Wp.pending,e=>{e.isLoading=!0}).addCase(Wp.fulfilled,(e,r)=>{e.isLoading=!1,e.departments.push(r.payload),e.error=null}).addCase(Wp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Hp.pending,e=>{e.isLoading=!0}).addCase(Hp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.departments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.departments[n]=r.payload),e.error=null}).addCase(Hp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Gp.pending,e=>{e.isLoading=!0}).addCase(Gp.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=e.departments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Gp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setDepartment:rUe,resetDepartmentState:nUe}=kq.actions,Lue=kq.reducer;function Fue(){const t=ce(),{departments:e,isLoading:r,error:n}=W(C=>C.departments),[a,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(zn())},[t]);const m=le().shape({Code:D().required("Department code is required").max(10,"Department code must be at most 10 characters").test("unique-code","Department code already exists",function(C){return C?!e.some(w=>w.Code.trim().toLowerCase()===C.trim().toLowerCase()&&(!o||w.ID!==o.ID)):!0}),Name:D().required("Department name is required").max(100,"Department name must be at most 100 characters").test("unique-name","Department name already exists",function(C){return C?!e.some(w=>w.Name.trim().toLowerCase()===C.trim().toLowerCase()&&(!o||w.ID!==o.ID)):!0})}),h=()=>{l(null),i(!0)},p=C=>{l(C),i(!0)},y=C=>{f(C),u(!0)},x=()=>{d&&(t(Gp(d.ID)),u(!1),f(null))},b=(C,{resetForm:N})=>{t(o?Hp({...C,ID:o.ID}):Wp(C)),i(!1),N()},g=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Department Name",sortable:!0}],j=[{icon:Ne,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:y,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Departments"}),s.jsx("p",{children:"Manage LGU departments and their details"})]}),s.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Department"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:g,data:e,actions:j,loading:r})}),s.jsx(te,{isOpen:a,onClose:()=>i(!1),title:o?"Edit Department":"Add Department",children:s.jsx(Be,{initialValues:{Code:(o==null?void 0:o.Code)||"",Name:(o==null?void 0:o.Name)||""},validationSchema:m,onSubmit:b,children:({values:C,errors:N,touched:w,handleChange:S,handleBlur:T,isSubmitting:k})=>s.jsxs(We,{className:"space-y-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"Department Code",name:"Code",type:"text",required:!0,placeholder:"Enter department code",value:C.Code,onChange:S,onBlur:T,error:N.Code,touched:w.Code}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Department Name",name:"Name",type:"text",required:!0,placeholder:"Enter department name",value:C.Name,onChange:S,onBlur:T,error:N.Name,touched:w.Name}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),s.jsxs(te,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the department"," ",s.jsx("span",{className:"font-medium",children:d==null?void 0:d.departmentName}),"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const Iv="https://staging-engine.testthelink.online",Bue=[],que={currencies:Bue,currency:null,isLoading:!1,error:null},Fd=L("currencies/fetchCurrencies",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Iv}/currency`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Yp=L("currencies/addCurrency",async(t,e)=>{try{const r=await fetch(`${Iv}/currency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Kp=L("currencies/updateCurrency",async(t,e)=>{try{const r=await fetch(`${Iv}/currency/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Jp=L("currency/deleteCurrency",async(t,e)=>{try{const r=await fetch(`${Iv}/currency/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Eq=me({name:"currencies",initialState:que,reducers:{setCurrency:(t,e)=>{t.currency=e.payload},resetCurrencyState:t=>{t.currency=null,t.error=null}},extraReducers:t=>{t.addCase(Fd.pending,e=>{e.isLoading=!0}).addCase(Fd.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=r.payload,e.error=null}).addCase(Fd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Yp.pending,e=>{e.isLoading=!0}).addCase(Yp.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies.push(r.payload),e.error=null}).addCase(Yp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Kp.pending,e=>{e.isLoading=!0}).addCase(Kp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.currencies.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.currencies[n]=r.payload),e.error=null}).addCase(Kp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Jp.pending,e=>{e.isLoading=!0}).addCase(Jp.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=e.currencies.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Jp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setCurrency:aUe,resetCurrencyState:sUe}=Eq.actions,Vue=Eq.reducer,zue=le().shape({Code:D().required("Code is required").max(10,"Code must be at most 10 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters")});function Uue(){const t=ce(),{currencies:e,isLoading:r,error:n}=W(j=>j.currencies),[a,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(Fd())},[t]);const m=()=>{l(null),i(!0)},h=j=>{l(j),i(!0)},p=j=>{f(j),u(!0)},y=()=>{d&&(t(Jp(d.ID)),u(!1),f(null))},x=(j,{resetForm:C})=>{t(o?Kp({...j,ID:o.ID}):Yp(j)),i(!1),C()},b=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Currency Name",sortable:!0}],g=[{icon:Ne,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Currencies"}),s.jsx("p",{children:"Manage LGU currencies and their details"})]}),s.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Currency"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:b,data:e,actions:g,loading:r})}),s.jsx(te,{isOpen:a,onClose:()=>i(!1),title:o?"Edit Currency":"Add Currency",children:s.jsx(Be,{initialValues:{Code:(o==null?void 0:o.Code)||"",Name:(o==null?void 0:o.Name)||""},validationSchema:zue,onSubmit:x,children:({values:j,errors:C,touched:N,handleChange:w,handleBlur:S,isSubmitting:T})=>s.jsxs(We,{className:"space-y-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter currency code",value:j.Code,onChange:w,onBlur:S,error:C.Code,touched:N.Code}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter currency name",value:j.Name,onChange:w,onBlur:S,error:C.Name,touched:N.Name}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),s.jsxs(te,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the currency ",s.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}const _v="https://staging-engine.testthelink.online",Wue=[],Hue={subdepartments:Wue,subdepartment:null,isLoading:!1,error:null},Xp=L("subdepartments/fetchSubdepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_v}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch departments");return a.items}catch(r){return e.rejectWithValue(r.message)}}),Zp=L("subdepartments/addSubdepartment",async(t,e)=>{try{const r=await fetch(`${_v}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add subdepartment");return n}catch(r){return e.rejectWithValue(r.message)}}),Qp=L("subdepartments/updateSubdepartment",async(t,e)=>{try{const r=await fetch(`${_v}/subDepartment/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update department");return n}catch(r){return e.rejectWithValue(r.message)}}),eg=L("subdepartments/deleteSubdepartment",async(t,e)=>{try{const r=await fetch(`${_v}/subDepartment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete department")}return t}catch(r){return e.rejectWithValue(r.message)}}),Oq=me({name:"subdepartments",initialState:Hue,reducers:{setSubdepartment:(t,e)=>{t.subdepartment=e.payload},resetSubdepartmentState:t=>{t.subdepartment=null,t.error=null}},extraReducers:t=>{t.addCase(Xp.pending,e=>{e.isLoading=!0}).addCase(Xp.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=r.payload,e.error=null}).addCase(Xp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zp.pending,e=>{e.isLoading=!0}).addCase(Zp.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments.push(r.payload),e.error=null}).addCase(Zp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Qp.pending,e=>{e.isLoading=!0}).addCase(Qp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subdepartments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subdepartments[n]=r.payload),e.error=null}).addCase(Qp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(eg.pending,e=>{e.isLoading=!0}).addCase(eg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=e.subdepartments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubdepartment:iUe,resetSubdepartmentState:oUe}=Oq.actions,Gue=Oq.reducer;function Yue(){const t=ce(),{subdepartments:e,isLoading:r}=W(N=>N.subdepartments||{}),{departments:n}=W(N=>N.departments),[a,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(Xp()),t(zn())},[t]);const m=le().shape({Code:D().required("Subdepartment code is required").max(15,"Subdepartment code must be at most 15 characters").test("unique-code","Subdepartment code already exists in this department",function(N){if(!N||!this.parent.DepartmentID)return!0;const w=N.trim().toLowerCase();return!(e==null?void 0:e.some(T=>T.Code.trim().toLowerCase()===w&&T.DepartmentID===this.parent.DepartmentID&&(!o||T.ID!==o.ID)))}),Name:D().required("Subdepartment name is required").max(100,"Subdepartment name must be at most 100 characters").test("unique-name","Subdepartment name already exists in this department",function(N){if(!N||!this.parent.DepartmentID)return!0;const w=N.trim().toLowerCase();return!(e==null?void 0:e.some(T=>T.Name.trim().toLowerCase()===w&&T.DepartmentID===this.parent.DepartmentID&&(!o||T.ID!==o.ID)))}),DepartmentID:oe().required("Department is required")}),h=e.map(N=>{var w;return{...N,departmentName:((w=n.find(S=>S.ID===N.DepartmentID))==null?void 0:w.Name)||"N/A"}}),p=()=>{l(null),i(!0)},y=N=>{l(N),i(!0)},x=N=>{f(N),u(!0)},b=()=>{d&&(t(eg(d.ID)),u(!1),f(null))},g=(N,{resetForm:w})=>{var k;const S=((k=n.find(E=>E.ID===Number(N.DepartmentID)))==null?void 0:k.Name)||"",T={...N,departmentName:S};t(o?Qp({...T,ID:o.ID}):Zp(T)),i(!1),w()},j=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Subdepartment Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0}],C=[{icon:Ne,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Subdepartments"}),s.jsx("p",{children:"Manage LGU subdepartments and their details"})]}),s.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Subdepartment"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:j,data:h,actions:C,loading:r})}),s.jsx(te,{isOpen:a,onClose:()=>i(!1),title:o?"Edit Subdepartment":"Add Subdepartment",children:s.jsx(Be,{initialValues:{Code:(o==null?void 0:o.Code)||"",Name:(o==null?void 0:o.Name)||"",DepartmentID:(o==null?void 0:o.DepartmentID)||""},validationSchema:m,onSubmit:g,children:({values:N,errors:w,touched:S,handleChange:T,handleBlur:k,isSubmitting:E})=>s.jsxs(We,{className:"space-y-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"Subdepartment Code",name:"Code",type:"text",required:!0,placeholder:"Enter subdepartment code",value:N.Code,onChange:T,onBlur:k,error:w.Code,touched:S.Code}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Subdepartment Name",name:"Name",type:"text",required:!0,placeholder:"Enter subdepartment name",value:N.Name,onChange:T,onBlur:k,error:w.Name,touched:S.Name}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Department",name:"DepartmentID",type:"select",required:!0,value:N.DepartmentID,onChange:T,onBlur:k,error:w.DepartmentID,touched:S.DepartmentID,options:n.map(O=>({value:O.ID,label:O.Name}))}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:E,className:"btn btn-primary",children:"Save"})]})]})})}),s.jsxs(te,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the subdepartment"," ",s.jsx("span",{className:"font-medium",children:d==null?void 0:d.subdepartmentName}),"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const $v="https://staging-engine.testthelink.online",Kue=[],Jue={users:Kue,user:null,isLoading:!1,error:null},Bd=L("users/fetchUsers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$v}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a.items}catch(r){return e.rejectWithValue(r.message)}}),sc=L("users/addUser",async(t,e)=>{try{const r=await fetch(`${$v}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to add user");return n}catch(r){return e.rejectWithValue(r.message)}}),ic=L("users/updateUser",async(t,e)=>{try{const r=await fetch(`${$v}/users/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to update user");return n}catch(r){return e.rejectWithValue(r.message)}}),tg=L("users/deleteUser",async(t,e)=>{try{const r=await fetch(`${$v}/users/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Pq=me({name:"users",initialState:Jue,reducers:{setUser:(t,e)=>{t.user=e.payload},resetUserState:t=>{t.user=null,t.error=null}},extraReducers:t=>{t.addCase(Bd.pending,e=>{e.isLoading=!0}).addCase(Bd.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload,e.error=null}).addCase(Bd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sc.pending,e=>{e.isLoading=!0}).addCase(sc.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.users)||(e.users=[]),e.users.push(r.payload),e.error=null}).addCase(sc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ic.pending,e=>{e.isLoading=!0}).addCase(ic.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.users.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.users[n]=r.payload),e.error=null}).addCase(ic.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(tg.pending,e=>{e.isLoading=!0}).addCase(tg.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(n=>n.ID!==r.payload),e.error=null}).addCase(tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setUser:lUe,resetUserState:cUe}=Pq.actions,Xue=Pq.reducer,Rv="https://staging-engine.testthelink.online",Zue=[],Que={employees:Zue,employee:null,isLoading:!1,error:null},Un=L("employees/fetchEmployees",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Rv}/employee`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),rg=L("employees/addEmployee",async(t,e)=>{try{const r=await fetch(`${Rv}/employee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add employee");return n}catch(r){return e.rejectWithValue(r.message)}}),ng=L("employees/updateEmployee",async(t,e)=>{try{const r=await fetch(`${Rv}/employee/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ag=L("employees/deleteEmployee",async(t,e)=>{try{const r=await fetch(`${Rv}/employee/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Dq=me({name:"employees",initialState:Que,reducers:{setEmployee:(t,e)=>{t.employee=e.payload},resetEmployeeState:t=>{t.employee=null,t.error=null}},extraReducers:t=>{t.addCase(Un.pending,e=>{e.isLoading=!0}).addCase(Un.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=r.payload,e.error=null}).addCase(Un.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(rg.pending,e=>{e.isLoading=!0}).addCase(rg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees.push(r.payload),e.error=null}).addCase(rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ng.pending,e=>{e.isLoading=!0}).addCase(ng.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employees.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.employees[n]=r.payload),e.error=null}).addCase(ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ag.pending,e=>{e.isLoading=!0}).addCase(ag.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=e.employees.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setEmployee:uUe,resetEmployeeState:dUe}=Dq.actions,ede=Dq.reducer,Mv="https://staging-engine.testthelink.online",tde=[],oc=L("userroles/fetchUserroles",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Mv}/userAccess`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),sg=L("userroles/addUserrole",async(t,e)=>{try{const r=await fetch(`${Mv}/userAccess`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),h2=L("userroles/updateUserrole",async(t,e)=>{try{const r=await fetch(`${Mv}/userAccess/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ig=L("userroles/deleteUserrole",async(t,e)=>{try{const r=await fetch(`${Mv}/userAccess/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rde=me({name:"userroles",initialState:{userroles:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(oc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oc.fulfilled,(e,r)=>{e.isLoading=!1,e.userroles=Array.isArray(r.payload)?r.payload:[]}).addCase(oc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch user roles",console.warn("Failed to fetch user roles, using mock data.",e.error),e.userroles=tde}).addCase(sg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles.push(r.payload)}).addCase(sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add user role",console.error("Failed to add user role:",e.error)}).addCase(h2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(h2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.userroles.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.userroles)||(e.userroles=[]),e.userroles[n]=r.payload)}).addCase(ig.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ig.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles=e.userroles.filter(n=>n.ID!==r.payload)}).addCase(ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete user role",console.error("Failed to delete user role:",e.error)})}}),nde=rde.reducer,ade=le().shape({UserName:D().required("User name is required"),UserAccessID:D().required("User Access is required"),Password:D().required("Password is required").min(6,"Password must be at least 6 characters"),ConfirmPassword:D().oneOf([Rf("Password"),null],"Passwords must match").required("Confirm Password is required"),EmployeeID:D().required("Choose Employee is required")});function sde(){const t=ce(),{users:e,isLoading:r}=W(I=>I.users),{departments:n}=W(I=>I.departments),[a,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null),[m,h]=v.useState(!1),[p,y]=v.useState(null);v.useEffect(()=>{t(Bd()),t(Un()),t(oc())},[t]);const{userroles:x,isLoading:b}=W(I=>I.userroles),g=x.map(I=>({value:I.ID,label:I.Description})),{employees:j}=W(I=>I.employees),C=W(I=>I.employees.isLoading),N=j.map(I=>({value:I.ID,label:`${I.FirstName} ${I.LastName}`})),w=()=>{l(null),i(!0)},S=I=>{l(I),i(!0)},T=I=>{f(I),u(!0)},k=()=>{d&&(t(tg(d.ID)),u(!1),f(null))},E=async(I,{resetForm:V,setErrors:P,setSubmitting:F})=>{const U={...I};try{if(o){const R=await t(ic({...U,ID:o.ID})).unwrap();ic.fulfilled.match(R)?(i(!1),V()):ic.rejected.match(R)&&P({general:R.payload||"Failed to update user."})}else{const R=await t(sc(U)).unwrap();sc.fulfilled.match(R)?(i(!1),V()):sc.rejected.match(R)&&P({general:R.payload||"Failed to add user."})}}catch(R){console.log(R),P({general:"Unexpected error occurred."})}finally{F(!1)}},O=[{key:"UserName",header:"User Name",sortable:!0},{key:"UserAccessID",header:"User Access",sortable:!0}],M=[{icon:Ne,title:"Edit",onClick:S,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:T,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Users"}),s.jsx("p",{children:"Manage system users and their access rights"})]}),s.jsxs("button",{type:"button",onClick:w,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:O,data:e,actions:M,loading:r||b||C})}),s.jsx(te,{isOpen:a,onClose:()=>i(!1),title:o?"Edit User":"Add User",children:s.jsx(Be,{initialValues:{UserName:(o==null?void 0:o.UserName)||"",UserAccessID:(o==null?void 0:o.UserAccessID)||"",Password:"",ConfirmPassword:"",EmployeeID:(o==null?void 0:o.EmployeeID)||""},validationSchema:ade,onSubmit:E,children:({values:I,errors:V,touched:P,handleChange:F,handleBlur:U,isSubmitting:R})=>s.jsxs(We,{className:"space-y-4",children:[V.general&&s.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded text-sm",children:V.general}),s.jsx(A,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:I.UserName,onChange:F,onBlur:U,error:V.UserName,touched:P.UserName}),s.jsx(A,{className:"p-3 focus:outline-none",label:"User Access",name:"UserAccessID",type:"select",required:!0,value:I.UserAccessID,onChange:F,onBlur:U,error:V.UserAccessID,touched:P.UserAccessID,options:g}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:I.Password,onChange:F,onBlur:U,error:V.Password,touched:P.Password}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Confirm Password",name:"ConfirmPassword",type:"password",required:!0,placeholder:"Confirm password",value:I.ConfirmPassword,onChange:F,onBlur:U,error:V.ConfirmPassword,touched:P.ConfirmPassword}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Choose Employee",name:"EmployeeID",type:"select",required:!0,value:I.EmployeeID,onChange:F,onBlur:U,error:V.EmployeeID,touched:P.EmployeeID,options:N}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:R,className:"btn btn-primary",children:R?"Saving...":o?"Update":"Save"})]})]})})}),s.jsxs(te,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the user"," ",s.jsx("span",{className:"font-medium",children:d==null?void 0:d.UserName}),"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:k,className:"btn btn-danger",children:"Delete"})]})]})]})}const Lv="https://staging-engine.testthelink.online",ide=[],ode={accounts:ide,account:null,isLoading:!1,error:null},yn=L("chartOfAccounts/fetchAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Lv}/chartofAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),og=L("chartOfAccounts/addAccount",async(t,e)=>{try{const r=await fetch(`${Lv}/chartofAccounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),lg=L("chartOfAccounts/updateAccount",async(t,e)=>{try{const r=await fetch(`${Lv}/chartofAccounts/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),cg=L("chartOfAccounts/deleteAccount",async(t,e)=>{try{const r=await fetch(`${Lv}/chartofAccounts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Iq=me({name:"chartOfAccounts",initialState:ode,reducers:{setAccount:(t,e)=>{t.account=e.payload},resetAccountState:t=>{t.account=null,t.error=null}},extraReducers:t=>{t.addCase(yn.pending,e=>{e.isLoading=!0}).addCase(yn.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts=r.payload,e.error=null}).addCase(yn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(og.pending,e=>{e.isLoading=!0}).addCase(og.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts.push(r.payload),e.error=null}).addCase(og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lg.pending,e=>{e.isLoading=!0}).addCase(lg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accounts.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accounts[n]=r.payload),e.error=null}).addCase(lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.accounts)||(e.accounts=[]),e.accounts=e.accounts.filter(n=>n.ID!==r.payload)}).addCase(cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete account",console.error("Failed to delete account:",e.error)})}}),{setAccount:fUe,resetAccountState:mUe}=Iq.actions,lde=Iq.reducer,Fv="https://staging-engine.testthelink.online",cde=[],ude={accountGroups:cde,accountGroup:null,isLoading:!1,error:null},lc=L("accountGroups/fetchAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Fv}/accountType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ug=L("accountGroups/addAccountGroup",async(t,e)=>{try{const r=await fetch(`${Fv}/accountType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),dg=L("accountGroups/updateAccountGroup",async(t,e)=>{try{const r=await fetch(`${Fv}/accountType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),fg=L("accountGroups/deleteAccountGroup",async(t,e)=>{try{const r=await fetch(`${Fv}/accountType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),_q=me({name:"accountGroups",initialState:ude,reducers:{setAccountGroup:(t,e)=>{t.accountGroup=e.payload},resetAccountGroupState:t=>{t.accountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(lc.pending,e=>{e.isLoading=!0}).addCase(lc.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=r.payload,e.error=null}).addCase(lc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ug.pending,e=>{e.isLoading=!0}).addCase(ug.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups.push(r.payload),e.error=null}).addCase(ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dg.pending,e=>{e.isLoading=!0}).addCase(dg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accountGroups[n]=r.payload),e.error=null}).addCase(dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fg.pending,e=>{e.isLoading=!0}).addCase(fg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=e.accountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setAccountGroup:hUe,resetAccountGroupState:pUe}=_q.actions,dde=_q.reducer,Bv="https://staging-engine.testthelink.online",fde=[],mde={majorAccountGroups:fde,majorAccountGroup:null,isLoading:!1,error:null},cc=L("majorAccountGroups/fetchMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Bv}/accountSubType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),mg=L("majorAccountGroups/addMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Bv}/accountSubType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),hg=L("majorAccountGroups/updateMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Bv}/accountSubType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),pg=L("majorAccountGroups/deleteMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Bv}/accountSubType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),$q=me({name:"majorAccountGroups",initialState:mde,reducers:{setMajorAccountGroup:(t,e)=>{t.majorAccountGroup=e.payload},resetMajorAccountGroupState:t=>{t.majorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(cc.pending,e=>{e.isLoading=!0}).addCase(cc.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=r.payload,e.error=null}).addCase(cc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mg.pending,e=>{e.isLoading=!0}).addCase(mg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups.push(r.payload),e.error=null}).addCase(mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hg.pending,e=>{e.isLoading=!0}).addCase(hg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.majorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.majorAccountGroups[n]=r.payload),e.error=null}).addCase(hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pg.pending,e=>{e.isLoading=!0}).addCase(pg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=e.majorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMajorAccountGroup:gUe,resetMajorAccountGroupState:yUe}=$q.actions,hde=$q.reducer,qv="https://staging-engine.testthelink.online",pde=[],gde={subMajorAccountGroups:pde,subMajorAccountGroup:null,isLoading:!1,error:null},qd=L("subMajorAccountGroups/fetchSubMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qv}/accountCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched sub major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch sub major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),gg=L("subMajorAccountGroups/addSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${qv}/accountCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),yg=L("subMajorAccountGroups/updateSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${qv}/accountCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update sub major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),xg=L("subMajorAccountGroups/deleteSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${qv}/accountCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete sub major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),Rq=me({name:"subMajorAccountGroups",initialState:gde,reducers:{setSubMajorAccountGroup:(t,e)=>{t.subMajorAccountGroup=e.payload},resetSubMajorAccountGroupState:t=>{t.subMajorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(qd.pending,e=>{e.isLoading=!0}).addCase(qd.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=r.payload,e.error=null}).addCase(qd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gg.pending,e=>{e.isLoading=!0}).addCase(gg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups.push(r.payload),e.error=null}).addCase(gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yg.pending,e=>{e.isLoading=!0}).addCase(yg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subMajorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subMajorAccountGroups[n]=r.payload),e.error=null}).addCase(yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xg.pending,e=>{e.isLoading=!0}).addCase(xg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=e.subMajorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubMajorAccountGroup:xUe,resetSubMajorAccountGroupState:bUe}=Rq.actions,yde=Rq.reducer;var Mq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e$=q.createContext&&q.createContext(Mq),xde=["attr","size","title"];function bde(t,e){if(t==null)return{};var r=vde(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kb.apply(this,arguments)}function t$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Eb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(r),!0).forEach(function(n){jde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jde(t,e,r){return e=wde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wde(t){var e=Nde(t,"string");return typeof e=="symbol"?e:e+""}function Nde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lq(t){return t&&t.map((e,r)=>q.createElement(e.tag,Eb({key:r},e.attr),Lq(e.child)))}function Vv(t){return e=>q.createElement(Cde,kb({attr:Eb({},t.attr)},e),Lq(t.child))}function Cde(t){var e=r=>{var{attr:n,size:a,title:i}=t,o=bde(t,xde),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),q.createElement("svg",kb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Eb(Eb({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&q.createElement("title",null,i),t.children)};return e$!==void 0?q.createElement(e$.Consumer,null,r=>e(r)):e(Mq)}function Sde(t){return Vv({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function Ade(t){return Vv({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Tde(t){return Vv({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function kde(t){return Vv({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const cs=({options:t,label:e,placeholder:r="Search...",error:n,touched:a,required:i=!1,onSelect:o,selectedValue:l})=>{const[c,u]=v.useState(""),d=c===""?t:t.filter(m=>m.toLowerCase().includes(c.toLowerCase())),f=()=>{o(""),u("")};return s.jsx("div",{className:"w-full max-w-xs",children:s.jsx(Nl,{value:l,onChange:o,children:({open:m})=>s.jsxs(s.Fragment,{children:[s.jsxs(Nl.Label,{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,i&&s.jsx("span",{className:"text-red-500",children:" *"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-md bg-white text-left shadow-sm sm:text-sm transition-all duration-200 ${a&&n?"border border-red-500":"border border-gray-300"}`,children:[s.jsx(Nl.Input,{className:"w-full py-2.5 pl-3 pr-10 text-sm leading-5 focus-visible:outline-none text-gray-900",placeholder:r,displayValue:h=>h||"",onChange:h=>u(h.target.value)}),s.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[l&&s.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(kde,{className:"h-4 w-4"})}),s.jsx(Nl.Button,{className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Ade,{className:`h-5 w-5 transition-transform duration-200 ${m?"rotate-180":""}`})})]})]}),a&&n&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),s.jsx(Nl.Options,{className:"absolute z-50 mt-1.5 w-full max-h-60 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm animate-fadeIn",children:d.length===0&&c!==""?s.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-500",children:"No results found"}):d.map(h=>s.jsx(Nl.Option,{className:({active:p})=>`relative cursor-default select-none py-2 pl-10 pr-4 transition-colors ${p?"bg-blue-50 text-blue-700":"text-gray-900"}`,value:h,children:({selected:p,active:y})=>s.jsxs(s.Fragment,{children:[s.jsx("span",{className:`block truncate ${p?"font-medium":"font-normal"}`,children:h}),p?s.jsx("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${y?"text-blue-600":"text-blue-500"}`,children:s.jsx(Sde,{className:"h-5 w-5"})}):null]})},h))})]})]})})})},Ede=le().shape({AccountCode:D().required("Account no is required").max(20,"Account no must be at most 20 characters"),Code:D().required("General Ledger Code is required"),Name:D().required("Account title is required").max(100,"Account title must be at most 100 characters"),Description:D().max(250,"Description must be at most 250 characters"),AccountTypeID:D().required("Account group is required"),AccountSubTypeID:D().required("Major account group is required"),AccountCategoryID:D().required("Sub Major account group is required"),NormalBalance:D().required("Normal balance is required")});function Ode({initialData:t,onClose:e}){const r=ce(),{accountGroups:n}=W(d=>d.accountGroups),{majorAccountGroups:a}=W(d=>d.majorAccountGroups),{subMajorAccountGroups:i}=W(d=>d.subMajorAccountGroups),[o,l]=v.useState(!1);v.useEffect(()=>{r(lc()),r(cc()),r(qd())},[r]);const c=t?{...t}:{AccountCode:"",Code:"",Name:"",Description:"",AccountTypeID:"",AccountSubTypeID:"",AccountCategoryID:"",NormalBalance:""},u=d=>{l(!0);const f=t?lg({...d,ID:t.ID}):og(d);r(f).unwrap().then(()=>{e()}).catch(m=>{console.error("Error submitting account:",m)}).finally(()=>{l(!1)})};return s.jsx(Be,{initialValues:c,validationSchema:Ede,onSubmit:u,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isValid:y,setFieldValue:x})=>{var b,g,j;return s.jsxs(We,{className:"space-y-4",children:[s.jsx("div",{className:"",children:s.jsx(A,{className:"p-3 focus:outline-none",label:"Account No",name:"AccountCode",type:"text",required:!0,placeholder:"e.g., 1-01-01-010",value:d.AccountCode,onChange:h,onBlur:p,error:f.AccountCode,touched:m.AccountCode})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"General Ledger Code",name:"Code",type:"text",required:!0,placeholder:"e.g., 1-01-01-010",value:d.Code,onChange:h,onBlur:p,error:f.Code,touched:m.Code}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Account Title",name:"Name",type:"text",required:!0,placeholder:"Enter account title",value:d.Name,onChange:h,onBlur:p,error:f.Name,touched:m.Name}),s.jsx(cs,{label:"Account Group",options:n.map(C=>C.Name),placeholder:"Select Account Group",onSelect:C=>{const N=n.find(w=>w.Name===C);x("AccountTypeID",(N==null?void 0:N.ID)||"")},selectedValue:((b=n.find(C=>C.ID===d.AccountTypeID))==null?void 0:b.Name)||"",required:!0,error:f.AccountTypeID,touched:m.AccountTypeID}),s.jsx(cs,{label:"Major Account Group",options:a.map(C=>C.Name),placeholder:"Select Major Account Group",onSelect:C=>{const N=a.find(w=>w.Name===C);x("AccountSubTypeID",(N==null?void 0:N.ID)||"")},selectedValue:((g=a.find(C=>C.ID===d.AccountSubTypeID))==null?void 0:g.Name)||"",required:!0,error:f.AccountSubTypeID,touched:m.AccountSubTypeID}),s.jsx(cs,{label:"Sub Major Account Group",options:i.map(C=>C.Name),placeholder:"Select Sub Major Account Group",onSelect:C=>{const N=i.find(w=>w.Name===C);x("AccountCategoryID",(N==null?void 0:N.ID)||"")},selectedValue:((j=i.find(C=>C.ID===d.AccountCategoryID))==null?void 0:j.Name)||"",required:!0,error:f.AccountCategoryID,touched:m.AccountCategoryID})]}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"textarea",placeholder:"Enter account description",value:d.Description,onChange:h,onBlur:p,error:f.Description,touched:m.Description,rows:2}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsx(A,{className:"p-3 focus:outline-none",label:"Normal Balance",name:"NormalBalance",type:"select",required:!0,value:d.NormalBalance,onChange:h,onBlur:p,error:f.NormalBalance,touched:m.NormalBalance,options:[{value:"Debit",label:"Debit"},{value:"Credit",label:"Credit"}]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:o||!y,className:"btn btn-primary",children:o?"Saving...":t?"Update":"Save"})]})]})}})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dde=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),r$=t=>{const e=Dde(t);return e.charAt(0).toUpperCase()+e.slice(1)},Fq=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Ide=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _de={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,..._de,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Fq("lucide",a),...!i&&!Ide(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(t,e)=>{const r=v.forwardRef(({className:n,...a},i)=>v.createElement($de,{ref:i,iconNode:e,className:Fq(`lucide-${Pde(r$(t))}`,`lucide-${t}`,n),...a}));return r.displayName=r$(t),r};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],uc=Qe("arrow-right-left",Rde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Mf=Qe("building-2",Mde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Bq=Qe("building",Lde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cn=Qe("calendar",Fde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zv=Qe("chart-column",Bde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],EE=Qe("chart-pie",qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fa=Qe("check",Vde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ude=Qe("chevron-left",zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hde=Qe("chevron-right",Wde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]],Yde=Qe("circle-arrow-left",Gde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Di=Qe("circle-x",Kde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],qq=Qe("credit-card",Jde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ml=Qe("dollar-sign",Xde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vq=Qe("download",Zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],n$=Qe("ellipsis",Qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tfe=Qe("eye-off",efe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mn=Qe("eye",rfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zo=Qe("file-text",nfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],OE=Qe("funnel",afe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zq=Qe("map-pin",sfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Rr=Qe("pen",ife);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],PE=Qe("pencil",ofe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ga=Qe("plus",lfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Lf=Qe("printer",cfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cu=Qe("save",ufe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rs=Qe("search",dfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ffe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Mr=Qe("trash-2",ffe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Vm=Qe("trash",mfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],As=Qe("trending-up",hfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Uv=Qe("user",pfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],DE=Qe("users",gfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uu=Qe("x",yfe);function xfe(){const t=ce(),{accounts:e,isLoading:r}=W(g=>g.chartOfAccounts),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(yn())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(cg(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete account:",g)}},y=()=>{a(!1),o(null)},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NormalBalance",header:"Normal Balance",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Chart of Accounts"}),s.jsx("p",{children:"Manage account codes and their settings"})]}),s.jsx("div",{className:"flex gap-4 items-center ",children:s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account"]})})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r})}),s.jsx(te,{isOpen:n,onClose:y,title:i?"Edit Account":"Add Account",size:"lg",children:s.jsx(Ode,{initialData:i,onClose:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the account "',u==null?void 0:u.Name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const bfe=le().shape({Code:D().required("Code is required").max(10,"Code must be at most 10 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters")});function vfe(){const t=ce(),{accountGroups:e,isLoading:r,error:n}=W(j=>j.accountGroups),[a,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(lc())},[t]);const m=()=>{l(null),i(!0)},h=j=>{l(j),i(!0)},p=j=>{f(j),u(!0)},y=()=>{d&&(t(fg(d.ID)),u(!1),f(null))},x=(j,{resetForm:C})=>{t(o?dg({...j,ID:o.ID}):ug(j)),i(!1),C()},b=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Account Type",sortable:!0}],g=[{icon:Ne,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Account Types"}),s.jsx("p",{children:"Manage account types and their details"})]}),s.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Type"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:b,data:e,actions:g,loading:r})}),s.jsx(te,{isOpen:a,onClose:()=>i(!1),title:o?"Edit Account Type":"Add Account Type",children:s.jsx(Be,{initialValues:{Code:(o==null?void 0:o.Code)||"",Name:(o==null?void 0:o.Name)||""},validationSchema:bfe,onSubmit:x,children:({values:j,errors:C,touched:N,handleChange:w,handleBlur:S,isSubmitting:T})=>s.jsxs(We,{className:"space-y-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:j.Code,onChange:w,onBlur:S,error:C.Code,touched:N.Code}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:j.Name,onChange:w,onBlur:S,error:C.Name,touched:N.Name}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),s.jsxs(te,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete ",s.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}const jfe=le().shape({Code:D().required("Code is required").max(15,"Code must be at most 15 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters"),AccountTypeID:oe().required("Account Type is required")});function wfe(){const t=ce(),{majorAccountGroups:e,isLoading:r}=W(C=>C.majorAccountGroups),{accountGroups:n}=W(C=>C.accountGroups),[a,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(cc()),t(lc())},[t]);const m=e.map(C=>{const N=n.find(w=>w.ID===C.AccountTypeID);return{...C,accountTypeName:N?N.Name:"N/A"}}),h=()=>{l(null),i(!0)},p=C=>{l(C),i(!0)},y=C=>{f(C),u(!0)},x=()=>{d&&(t(pg(d.ID)),u(!1),f(null))},b=(C,{resetForm:N})=>{var T;const w=((T=n.find(k=>k.ID===Number(C.AccountTypeID)))==null?void 0:T.Name)||"",S={...C,accountTypeName:w};t(o?hg({...S,ID:o.ID}):mg(S)),i(!1),N()},g=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountTypeName",header:"Account Type",sortable:!0}],j=[{icon:Ne,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:y,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Account Sub-Types"}),s.jsx("p",{children:"Manage account sub-types and their details"})]}),s.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Sub-Type"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:g,data:m,actions:j,loading:r})}),s.jsx(te,{isOpen:a,onClose:()=>i(!1),title:o?"Edit Account Sub-Type":"Add Account Sub-Type",children:s.jsx(Be,{initialValues:{Code:(o==null?void 0:o.Code)||"",Name:(o==null?void 0:o.Name)||"",AccountTypeID:(o==null?void 0:o.AccountTypeID)||""},validationSchema:jfe,onSubmit:b,children:({values:C,errors:N,touched:w,handleChange:S,handleBlur:T,isSubmitting:k})=>s.jsxs(We,{className:"space-y-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:C.Code,onChange:S,onBlur:T,error:N.Code,touched:w.Code}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:C.Name,onChange:S,onBlur:T,error:N.Name,touched:w.Name}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountTypeID",type:"select",required:!0,value:C.AccountTypeID,onChange:S,onBlur:T,error:N.AccountTypeID,touched:w.AccountTypeID,options:n.map(E=>({value:E.ID,label:E.Name}))}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),s.jsxs(te,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",s.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const Nfe=le().shape({Code:D().required("Code is required").max(15,"Code must be at most 15 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters"),AccountSubTypeID:oe().required("Account Sub Type is required")});function Cfe(){const t=ce(),{subMajorAccountGroups:e,isLoading:r}=W(C=>C.subMajorAccountGroups),{majorAccountGroups:n}=W(C=>C.majorAccountGroups),[a,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(qd()),t(cc())},[t]);const m=e.map(C=>{const N=n.find(w=>w.ID===C.AccountSubTypeID);return{...C,accountSubTypeName:N?N.Name:"N/A"}}),h=()=>{l(null),i(!0)},p=C=>{l(C),i(!0)},y=C=>{f(C),u(!0)},x=()=>{d&&(t(xg(d.ID)),u(!1),f(null))},b=(C,{resetForm:N})=>{var T;const w=((T=n.find(k=>k.ID===Number(C.AccountSubTypeID)))==null?void 0:T.Name)||"",S={...C,accountSubTypeName:w};t(o?yg({...S,ID:o.ID}):gg(S)),i(!1),N()},g=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountSubTypeName",header:"Account Type",sortable:!0}],j=[{icon:Ne,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:y,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Account Category"}),s.jsx("p",{children:"Manage account categories and their details"})]}),s.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Category"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:g,data:m,actions:j,loading:r})}),s.jsx(te,{isOpen:a,onClose:()=>i(!1),title:o?"Edit Account Category":"Add Account Category",children:s.jsx(Be,{initialValues:{Code:(o==null?void 0:o.Code)||"",Name:(o==null?void 0:o.Name)||"",AccountTypeID:(o==null?void 0:o.AccountTypeID)||""},validationSchema:Nfe,onSubmit:b,children:({values:C,errors:N,touched:w,handleChange:S,handleBlur:T,isSubmitting:k})=>s.jsxs(We,{className:"space-y-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:C.Code,onChange:S,onBlur:T,error:N.Code,touched:w.Code}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:C.Name,onChange:S,onBlur:T,error:N.Name,touched:w.Name}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountSubTypeID",type:"select",required:!0,value:C.AccountSubTypeID,onChange:S,onBlur:T,error:N.AccountSubTypeID,touched:w.AccountSubTypeID,options:n.map(E=>({value:E.ID,label:E.Name}))}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),s.jsxs(te,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",s.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}function Sfe({initialData:t,onSubmit:e,onClose:r,regionOptions:n=[],provinceOptions:a=[],municipalityOptions:i=[],barangayOptions:o=[],industryOptions:l=[],taxCodeOptions:c=[],vendorTypeOptions:u=[],paymentTermsOptions:d=[],modeOfPaymentOptions:f=[]}){const m=le({Code:D().required("Code is required"),TIN:D().required("TIN is required"),Name:D().required("Name is required"),PhoneNumber:D().required("Phone number is required"),MobileNumber:D().required("Mobile number is required"),EmailAddress:D().email("Invalid email").required("Email is required"),Website:D().required("Website is required"),RegionID:D().required("Region is required"),ProvinceID:D().required("Province is required"),MunicipalityID:D().required("Municipality is required"),BarangayID:D().required("Barangay is required"),StreetAddress:D().required("Street address is required"),ZIPCode:D().required("Zip code is required"),TypeID:D().required("Vendor type is required"),RDO:D().required("Revenue District Office is required"),IndustryTypeID:D().required("Industry is required"),TaxCodeID:D().required("Tax code is required"),PaymentTermsID:D().required("Payment terms are required"),Vatable:Pc(),PaymentMethodID:D().required("Mode of payment is required"),ContactPerson:D().required("Contact person is required"),DeliveryLeadTime:oe().required("Delivery lead time is required").typeError("Must be a number")}),h=Ze({initialValues:t||{Code:"",TIN:"",Name:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",StreetAddress:"",ZIPCode:"",TypeID:"",RDO:"",IndustryTypeID:"",TaxCodeID:"",PaymentTermsID:"",Vatable:!1,PaymentMethodID:"",ContactPerson:"",DeliveryLeadTime:""},validationSchema:m,onSubmit:j=>{e(j)}}),{values:p,handleChange:y,handleBlur:x,errors:b,touched:g}=h;return s.jsxs("form",{onSubmit:h.handleSubmit,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Code",name:"Code",type:"text",value:p.Code,onChange:y,onBlur:x,error:b.Code,touched:g.Code,required:!0}),s.jsx(A,{label:"TIN",name:"TIN",type:"text",value:p.TIN,onChange:y,onBlur:x,error:b.TIN,touched:g.TIN,required:!0})]}),s.jsx(A,{label:"Name",name:"Name",type:"text",value:p.Name,onChange:y,onBlur:x,error:b.Name,touched:g.Name,required:!0}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Phone Number",name:"PhoneNumber",type:"text",value:p.PhoneNumber,onChange:y,onBlur:x,error:b.PhoneNumber,touched:g.PhoneNumber,required:!0}),s.jsx(A,{label:"Mobile Number",name:"MobileNumber",type:"text",value:p.MobileNumber,onChange:y,onBlur:x,error:b.MobileNumber,touched:g.MobileNumber,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Email",name:"EmailAddress",type:"email",value:p.EmailAddress,onChange:y,onBlur:x,error:b.EmailAddress,touched:g.EmailAddress,required:!0}),s.jsx(A,{label:"Website",name:"Website",type:"text",value:p.Website,onChange:y,onBlur:x,error:b.Website,touched:g.Website,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Region",name:"RegionID",type:"select",options:n,value:p.RegionID,onChange:y,onBlur:x,error:b.RegionID,touched:g.RegionID,required:!0}),s.jsx(A,{label:"Province",name:"ProvinceID",type:"select",options:a,value:p.ProvinceID,onChange:y,onBlur:x,error:b.ProvinceID,touched:g.ProvinceID,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Municipality",name:"MunicipalityID",type:"select",options:i,value:p.MunicipalityID,onChange:y,onBlur:x,error:b.MunicipalityID,touched:g.MunicipalityID,required:!0}),s.jsx(A,{label:"Barangay",name:"BarangayID",type:"select",options:o,value:p.BarangayID,onChange:y,onBlur:x,error:b.BarangayID,touched:g.BarangayID,required:!0})]}),s.jsx(A,{label:"Street Address",name:"StreetAddress",type:"textarea",value:p.StreetAddress,onChange:y,onBlur:x,error:b.StreetAddress,touched:g.StreetAddress,required:!0}),s.jsx(A,{label:"Zip Code",name:"ZIPCode",type:"text",value:p.ZIPCode,onChange:y,onBlur:x,error:b.ZIPCode,touched:g.ZIPCode,required:!0}),s.jsx("hr",{className:"border-t border-neutral-300 my-4"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Vendor Type",name:"TypeID",type:"select",options:u,value:p.TypeID,onChange:y,onBlur:x,error:b.TypeID,touched:g.TypeID,required:!0}),s.jsx(A,{label:"Revenue District Office",name:"RDO",type:"text",value:p.RDO,onChange:y,onBlur:x,error:b.RDO,touched:g.RDO,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Industry",name:"IndustryTypeID",type:"select",options:l,value:p.IndustryTypeID,onChange:y,onBlur:x,error:b.IndustryTypeID,touched:g.IndustryTypeID,required:!0}),s.jsx(A,{label:"Tax Code",name:"TaxCodeID",type:"select",options:c,value:p.TaxCodeID,onChange:y,onBlur:x,error:b.TaxCodeID,touched:g.TaxCodeID,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:d,value:p.PaymentTermsID,onChange:y,onBlur:x,error:b.PaymentTermsID,touched:g.PaymentTermsID,required:!0}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("input",{type:"checkbox",name:"Vatable",checked:p.Vatable,onChange:y,onBlur:x}),s.jsx("label",{htmlFor:"Vatable",children:"Vatable"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:f,value:p.PaymentMethodID,onChange:y,onBlur:x,error:b.PaymentMethodID,touched:g.PaymentMethodID,required:!0}),s.jsx(A,{label:"Contact Person",name:"ContactPerson",type:"text",value:p.ContactPerson,onChange:y,onBlur:x,error:b.ContactPerson,touched:g.ContactPerson,required:!0})]}),s.jsx(A,{label:"Delivery Lead Time (days)",name:"DeliveryLeadTime",type:"number",value:p.DeliveryLeadTime,onChange:y,onBlur:x,error:b.DeliveryLeadTime,touched:g.DeliveryLeadTime,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h.isSubmitting,children:h.isSubmitting?"Saving...":"Save"})]})]})}const Wv="https://staging-engine.testthelink.online",Afe=[],Do=L("vendorDetails/fetchVendorDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wv}/vendor`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),bg=L("vendorDetails/addVendorDetails",async(t,e)=>{try{const r=await fetch(`${Wv}/vendor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),p2=L("vendorDetails/updateVendorDetails",async(t,e)=>{try{const r=await fetch(`${Wv}/vendor/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),vg=L("vendorDetails/deleteVendorDetails",async(t,e)=>{try{const r=await fetch(`${Wv}/vendor/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Tfe=me({name:"vendorDetails",initialState:{vendorDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Do.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Do.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Do.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor details",console.warn("Failed to fetch vendor details, using mock data.",e.error),e.vendorDetails=Afe}).addCase(bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails.push(r.payload)}).addCase(bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor details",console.error("Failed to add vendor details:",e.error)}).addCase(p2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(p2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails[n]=r.payload)}).addCase(vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails=e.vendorDetails.filter(n=>n.ID!==r.payload)}).addCase(vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor details",console.error("Failed to delete vendor details:",e.error)})}}),kfe=Tfe.reducer,Hv="https://staging-engine.testthelink.online",Efe=[],Io=L("regions/fetchRegions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hv}/region`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),jg=L("regions/addRegion",async(t,e)=>{try{const r=await fetch(`${Hv}/region`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),g2=L("regions/updateRegion",async(t,e)=>{try{const r=await fetch(`${Hv}/region/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),wg=L("regions/deleteRegion",async(t,e)=>{try{const r=await fetch(`${Hv}/region/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ofe=me({name:"regions",initialState:{regions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Io.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Io.fulfilled,(e,r)=>{e.isLoading=!1,e.regions=Array.isArray(r.payload)?r.payload:[]}).addCase(Io.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch regions",console.warn("Failed to fetch regions, using mock data.",e.error),e.regions=Efe}).addCase(jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions.push(r.payload)}).addCase(jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add region",console.error("Failed to add region:",e.error)}).addCase(g2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(g2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.regions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.regions)||(e.regions=[]),e.regions[n]=r.payload)}).addCase(wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions=e.regions.filter(n=>n.ID!==r.payload)}).addCase(wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete region",console.error("Failed to delete region:",e.error)})}}),Pfe=Ofe.reducer,Gv="https://staging-engine.testthelink.online",Dfe=[],xi=L("provinces/fetchProvinces",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Gv}/province`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ng=L("provinces/addProvince",async(t,e)=>{try{const r=await fetch(`${Gv}/province`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),y2=L("provinces/updateProvince",async(t,e)=>{try{const r=await fetch(`${Gv}/province/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cg=L("provinces/deleteProvince",async(t,e)=>{try{const r=await fetch(`${Gv}/province/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ife=me({name:"provinces",initialState:{provinces:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(xi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xi.fulfilled,(e,r)=>{e.isLoading=!1,e.provinces=Array.isArray(r.payload)?r.payload:[]}).addCase(xi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch provinces",console.warn("Failed to fetch provinces, using mock data.",e.error),e.provinces=Dfe}).addCase(Ng.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ng.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces.push(r.payload)}).addCase(Ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add province",console.error("Failed to add province:",e.error)}).addCase(y2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(y2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.provinces.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.provinces)||(e.provinces=[]),e.provinces[n]=r.payload)}).addCase(Cg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces=e.provinces.filter(n=>n.ID!==r.payload)}).addCase(Cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete province",console.error("Failed to delete province:",e.error)})}}),_fe=Ife.reducer,Yv="https://staging-engine.testthelink.online",$fe=[],bi=L("municipalities/fetchMunicipalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Yv}/municipality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Sg=L("municipalities/addMunicipality",async(t,e)=>{try{const r=await fetch(`${Yv}/municipality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),x2=L("municipalities/updateMunicipality",async(t,e)=>{try{const r=await fetch(`${Yv}/municipality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ag=L("municipalities/deleteMunicipality",async(t,e)=>{try{const r=await fetch(`${Yv}/municipality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Rfe=me({name:"municipalities",initialState:{municipalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(bi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bi.fulfilled,(e,r)=>{e.isLoading=!1,e.municipalities=Array.isArray(r.payload)?r.payload:[]}).addCase(bi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch municipalities",console.warn("Failed to fetch municipalities, using mock data.",e.error),e.municipalities=$fe}).addCase(Sg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities.push(r.payload)}).addCase(Sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add municipality",console.error("Failed to add municipality:",e.error)}).addCase(x2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(x2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.municipalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities[n]=r.payload)}).addCase(Ag.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ag.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities=e.municipalities.filter(n=>n.ID!==r.payload)}).addCase(Ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete municipality",console.error("Failed to delete municipality:",e.error)})}}),Mfe=Rfe.reducer,Kv="https://staging-engine.testthelink.online",Lfe=[],_o=L("barangays/fetchBarangays",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Kv}/barangay`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Tg=L("barangays/addBarangay",async(t,e)=>{try{const r=await fetch(`${Kv}/barangay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),b2=L("barangays/updateBarangay",async(t,e)=>{try{const r=await fetch(`${Kv}/barangay/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),kg=L("barangays/deleteBarangay",async(t,e)=>{try{const r=await fetch(`${Kv}/barangay/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ffe=me({name:"barangays",initialState:{barangays:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(_o.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_o.fulfilled,(e,r)=>{e.isLoading=!1,e.barangays=Array.isArray(r.payload)?r.payload:[]}).addCase(_o.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch barangays",console.warn("Failed to fetch barangays, using mock data.",e.error),e.barangays=Lfe}).addCase(Tg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays.push(r.payload)}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add barangay",console.error("Failed to add barangay:",e.error)}).addCase(b2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(b2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.barangays.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.barangays)||(e.barangays=[]),e.barangays[n]=r.payload)}).addCase(kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays=e.barangays.filter(n=>n.ID!==r.payload)}).addCase(kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete barangay",console.error("Failed to delete barangay:",e.error)})}}),Bfe=Ffe.reducer,Jv="https://staging-engine.testthelink.online",qfe=[],Vd=L("vendorTypes/fetchVendorTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jv}/vendorType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Eg=L("vendorTypes/addVendorType",async(t,e)=>{try{const r=await fetch(`${Jv}/vendorType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),v2=L("vendorTypes/updateVendorType",async(t,e)=>{try{const r=await fetch(`${Jv}/vendorType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Og=L("vendorTypes/deleteVendorType",async(t,e)=>{try{const r=await fetch(`${Jv}/vendorType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Vfe=me({name:"vendorTypes",initialState:{vendorTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Vd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vd.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Vd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor types",console.warn("Failed to fetch vendor types, using mock data.",e.error),e.vendorTypes=qfe}).addCase(Eg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes.push(r.payload)}).addCase(Eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor type",console.error("Failed to add vendor type:",e.error)}).addCase(v2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(v2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes[n]=r.payload)}).addCase(Og.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Og.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes=e.vendorTypes.filter(n=>n.ID!==r.payload)}).addCase(Og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor type",console.error("Failed to delete vendor type:",e.error)})}}),zfe=Vfe.reducer,Xv="https://staging-engine.testthelink.online",Ufe=[],dc=L("industries/fetchIndustries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xv}/industryType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Pg=L("industries/addIndustry",async(t,e)=>{try{const r=await fetch(`${Xv}/industryType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),j2=L("industries/updateIndustry",async(t,e)=>{try{const r=await fetch(`${Xv}/industryType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dg=L("industries/deleteIndustry",async(t,e)=>{try{const r=await fetch(`${Xv}/industryType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Wfe=me({name:"industries",initialState:{industries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(dc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dc.fulfilled,(e,r)=>{e.isLoading=!1,e.industries=Array.isArray(r.payload)?r.payload:[]}).addCase(dc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch industries",console.warn("Failed to fetch industries, using mock data.",e.error),e.industries=Ufe}).addCase(Pg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries.push(r.payload)}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add industry",console.error("Failed to add industry:",e.error)}).addCase(j2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(j2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.industries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.industries)||(e.industries=[]),e.industries[n]=r.payload)}).addCase(Dg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries=e.industries.filter(n=>n.ID!==r.payload)}).addCase(Dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete industry",console.error("Failed to delete industry:",e.error)})}}),Hfe=Wfe.reducer,Zv="https://staging-engine.testthelink.online",Gfe=[],_a=L("taxCodes/fetchTaxCodes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Zv}/taxCode`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ig=L("taxCodes/addTaxCode",async(t,e)=>{try{const r=await fetch(`${Zv}/taxCode`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),w2=L("taxCodes/updateTaxCode",async(t,e)=>{try{const r=await fetch(`${Zv}/taxCode/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),_g=L("taxCodes/deleteTaxCode",async(t,e)=>{try{const r=await fetch(`${Zv}/taxCode/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Yfe=me({name:"taxCodes",initialState:{taxCodes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(_a.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_a.fulfilled,(e,r)=>{e.isLoading=!1,e.taxCodes=Array.isArray(r.payload)?r.payload:[]}).addCase(_a.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax codes",console.warn("Failed to fetch tax codes, using mock data.",e.error),e.taxCodes=Gfe}).addCase(Ig.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes.push(r.payload)}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax code",console.error("Failed to add tax code:",e.error)}).addCase(w2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(w2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxCodes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes[n]=r.payload)}).addCase(_g.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes=e.taxCodes.filter(n=>n.ID!==r.payload)}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax code",console.error("Failed to delete tax code:",e.error)})}}),Kfe=Yfe.reducer,Qv="https://staging-engine.testthelink.online",Jfe=[],fc=L("paymentTerms/fetchPaymentTerms",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Qv}/paymentTerms`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),$g=L("paymentTerms/addPaymentTerm",async(t,e)=>{try{const r=await fetch(`${Qv}/paymentTerms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),N2=L("paymentTerms/updatePaymentTerm",async(t,e)=>{try{const r=await fetch(`${Qv}/paymentTerms/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Rg=L("paymentTerms/deletePaymentTerm",async(t,e)=>{try{const r=await fetch(`${Qv}/paymentTerms/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Xfe=me({name:"paymentTerms",initialState:{paymentTerms:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(fc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fc.fulfilled,(e,r)=>{e.isLoading=!1,e.paymentTerms=Array.isArray(r.payload)?r.payload:[]}).addCase(fc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch payment terms",console.warn("Failed to fetch payment terms, using mock data.",e.error),e.paymentTerms=Jfe}).addCase($g.pending,e=>{e.isLoading=!0,e.error=null}).addCase($g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms.push(r.payload)}).addCase($g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add payment term",console.error("Failed to add payment term:",e.error)}).addCase(N2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(N2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.paymentTerms.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms[n]=r.payload)}).addCase(Rg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms=e.paymentTerms.filter(n=>n.ID!==r.payload)}).addCase(Rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete payment term",console.error("Failed to delete payment term:",e.error)})}}),Zfe=Xfe.reducer,ej="https://staging-engine.testthelink.online",Qfe=[],mc=L("modeOfPayments/fetchModeOfPayments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ej}/paymentMethod`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Mg=L("modeOfPayments/addModeOfPayment",async(t,e)=>{try{const r=await fetch(`${ej}/paymentMethod`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),C2=L("modeOfPayments/updateModeOfPayment",async(t,e)=>{try{const r=await fetch(`${ej}/paymentMethod/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Lg=L("modeOfPayments/deleteModeOfPayment",async(t,e)=>{try{const r=await fetch(`${ej}/paymentMethod/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),eme=me({name:"modeOfPayments",initialState:{modeOfPayments:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(mc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mc.fulfilled,(e,r)=>{e.isLoading=!1,e.modeOfPayments=Array.isArray(r.payload)?r.payload:[]}).addCase(mc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch mode of payments",console.warn("Failed to fetch mode of payments, using mock data.",e.error),e.modeOfPayments=Qfe}).addCase(Mg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments.push(r.payload)}).addCase(Mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add mode of payment",console.error("Failed to add mode of payment:",e.error)}).addCase(C2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(C2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modeOfPayments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments[n]=r.payload)}).addCase(Lg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments=e.modeOfPayments.filter(n=>n.ID!==r.payload)}).addCase(Lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete mode of payment",console.error("Failed to delete mode of payment:",e.error)})}}),tme=eme.reducer;function rme(){const t=ce(),{vendorDetails:e,isLoading:r}=W(B=>B.vendorDetails),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),{regions:f}=W(B=>B.regions),{provinces:m}=W(B=>B.provinces),{municipalities:h}=W(B=>B.municipalities),{barangays:p}=W(B=>B.barangays),{vendorTypes:y}=W(B=>B.vendorTypes),{industries:x}=W(B=>B.industries),{taxCodes:b}=W(B=>B.taxCodes),{paymentTerms:g}=W(B=>B.paymentTerms),{modeOfPayments:j}=W(B=>B.modeOfPayments);v.useEffect(()=>{t(Do()),t(Io()),t(xi()),t(bi()),t(_o()),t(Vd()),t(dc()),t(_a()),t(fc()),t(mc())},[t]);const C=f.map(B=>({value:B.ID,label:B.Name})),N=m.map(B=>({value:B.ID,label:B.Name})),w=h.map(B=>({value:B.ID,label:B.Name})),S=p.map(B=>({value:B.ID,label:B.Name})),T=y.map(B=>({value:B.ID,label:B.Name})),k=x.map(B=>({value:B.ID,label:B.Name})),E=b.map(B=>({value:B.ID,label:B.Code})),O=g.map(B=>({value:B.ID,label:B.Name})),M=j.map(B=>({value:B.ID,label:B.Name})),I=()=>{o(null),a(!0)},V=B=>{o(B),a(!0)},P=B=>{d(B),c(!0)},F=async()=>{if(u)try{await t(vg(u.ID)).unwrap(),c(!1),d(null)}catch(B){console.error("Failed to delete vendor details:",B)}},U=B=>{t(i?p2({...B,ID:i.ID}):bg(B)),a(!1)},R=[{key:"Name",header:"Name",sortable:!0}],_=[{icon:Ne,title:"Edit",onClick:V,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:P,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Vendor Details"}),s.jsx("p",{children:"Manage Vendor Details"})]}),s.jsxs("button",{type:"button",onClick:I,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Details"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:R,data:e,actions:_,loading:r,emptyMessage:"No vendor details found. Click 'Add Vendor Details' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Vendor Details":"Add Vendor Details",children:s.jsx(Sfe,{initialData:i,onClose:()=>a(!1),onSubmit:U,regionOptions:C,provinceOptions:N,municipalityOptions:w,barangayOptions:S,vendorTypeOptions:T,industryOptions:k,taxCodeOptions:E,paymentTermsOptions:O,modeOfPaymentOptions:M})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor details "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:F,className:"btn btn-danger",children:"Delete"})]})]})]})}function nme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Name is required")}),a=Ze({initialValues:t||{Name:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const tj="https://staging-engine.testthelink.online",ame=[],Fg=L("vendorCustomerTypes/fetchVendorCustomerTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tj}/vendorCustomerType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Bg=L("vendorCustomerTypes/addVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${tj}/vendorCustomerType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),S2=L("vendorCustomerTypes/updateVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${tj}/vendorCustomerType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),qg=L("vendorCustomerTypes/deleteVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${tj}/vendorCustomerType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),sme=me({name:"vendorCustomerTypes",initialState:{vendorCustomerTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Fg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fg.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorCustomerTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor customer types",console.warn("Failed to fetch vendor customer types, using mock data.",e.error),e.vendorCustomerTypes=ame}).addCase(Bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes.push(r.payload)}).addCase(Bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor customer type",console.error("Failed to add vendor customer type:",e.error)}).addCase(S2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(S2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorCustomerTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes[n]=r.payload)}).addCase(qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes=e.vendorCustomerTypes.filter(n=>n.ID!==r.payload)}).addCase(qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor customer type",console.error("Failed to delete vendor customer type:",e.error)})}}),ime=sme.reducer;function ome(){const t=ce(),{vendorCustomerTypes:e,isLoading:r}=W(g=>g.vendorCustomerTypes),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Fg())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(qg(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete vendor customer type:",g)}},y=g=>{t(i?S2({...g,ID:i.ID}):Bg(g)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Vendor Customer Types"}),s.jsx("p",{children:"Manage Vendor Customer Types"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Customer Type"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No vendor customer types found. Click 'Add Vendor Customer Type' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Vendor Customer Type":"Add Vendor Customer Type",children:s.jsx(nme,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor customer type "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function lme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Name is required")}),a=Ze({initialValues:t||{Name:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function cme(){const t=ce(),{vendorTypes:e,isLoading:r}=W(g=>g.vendorTypes),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Vd())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(Og(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete vendor type:",g)}},y=g=>{t(i?v2({...g,ID:i.ID}):Eg(g)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Vendor Types"}),s.jsx("p",{children:"Manage Vendor Types"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Type"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No vendor types found. Click 'Add Vendor Type' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Vendor Type":"Add Vendor Type",children:s.jsx(lme,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor type "',u==null?void 0:u.Name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function ume({initialData:t,onSubmit:e,onClose:r}){const n=le({Description:D().required("Name is required")}),a=Ze({initialValues:t||{Name:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Name",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const rj="https://staging-engine.testthelink.online",dme=[],zd=L("modules/fetchModules",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rj}/module`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Vg=L("modules/addModule",async(t,e)=>{try{const r=await fetch(`${rj}/module`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),A2=L("modules/updateModule",async(t,e)=>{try{const r=await fetch(`${rj}/module/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zg=L("modules/deleteModule",async(t,e)=>{try{const r=await fetch(`${rj}/module/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),fme=me({name:"modules",initialState:{modules:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(zd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zd.fulfilled,(e,r)=>{e.isLoading=!1,e.modules=Array.isArray(r.payload)?r.payload:[]}).addCase(zd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch modules",console.warn("Failed to fetch modules, using mock data.",e.error),e.modules=dme}).addCase(Vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules.push(r.payload)}).addCase(Vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add module",console.error("Failed to add module:",e.error)}).addCase(A2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(A2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modules.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modules)||(e.modules=[]),e.modules[n]=r.payload)}).addCase(zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules=e.modules.filter(n=>n.ID!==r.payload)}).addCase(zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete module",console.error("Failed to delete module:",e.error)})}}),mme=fme.reducer;function hme(){const t=ce(),{modules:e,isLoading:r}=W(g=>g.modules),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(zd())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(zg(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete module:",g)}},y=g=>{t(i?A2({...g,ID:i.ID}):Vg(g)),a(!1)},x=[{key:"Description",header:"Name",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Modules"}),s.jsx("p",{children:"Manage Modules"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Module"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No modules found. Click 'Add Module' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Module":"Add Module",children:s.jsx(ume,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the module "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const nj="https://staging-engine.testthelink.online",pme=[],hc=L("positions/fetchPositions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nj}/position`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ug=L("positions/addPosition",async(t,e)=>{try{const r=await fetch(`${nj}/position`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),T2=L("positions/updatePosition",async(t,e)=>{try{const r=await fetch(`${nj}/position/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Wg=L("positions/deletePosition",async(t,e)=>{try{const r=await fetch(`${nj}/position/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),gme=me({name:"positions",initialState:{positions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(hc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hc.fulfilled,(e,r)=>{e.isLoading=!1,e.positions=Array.isArray(r.payload)?r.payload:[]}).addCase(hc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch positions",console.warn("Failed to fetch positions, using mock data.",e.error),e.positions=pme}).addCase(Ug.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions.push(r.payload)}).addCase(Ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add position",console.error("Failed to add position:",e.error)}).addCase(T2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(T2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.positions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.positions)||(e.positions=[]),e.positions[n]=r.payload)}).addCase(Wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions=e.positions.filter(n=>n.ID!==r.payload)}).addCase(Wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete position",console.error("Failed to delete position:",e.error)})}}),yme=gme.reducer,aj="https://staging-engine.testthelink.online",xme=[],Ud=L("employmentStatuses/fetchEmploymentStatuses",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${aj}/employmentStatus`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Hg=L("employmentStatuses/addEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${aj}/employmentStatus`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),k2=L("employmentStatuses/updateEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${aj}/employmentStatus/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Gg=L("employmentStatuses/deleteEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${aj}/employmentStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),bme=me({name:"employmentStatuses",initialState:{employmentStatuses:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ud.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ud.fulfilled,(e,r)=>{e.isLoading=!1,e.employmentStatuses=Array.isArray(r.payload)?r.payload:[]}).addCase(Ud.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch employment statuses",console.warn("Failed to fetch employment statuses, using mock data.",e.error),e.employmentStatuses=xme}).addCase(Hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses.push(r.payload)}).addCase(Hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add employment status",console.error("Failed to add employment status:",e.error)}).addCase(k2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(k2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employmentStatuses.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses[n]=r.payload)}).addCase(Gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses=e.employmentStatuses.filter(n=>n.ID!==r.payload)}).addCase(Gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete employment status",console.error("Failed to delete employment status:",e.error)})}}),vme=bme.reducer,jme=le().shape({FirstName:D().required("First name is required").max(100,"First name must be at most 100 characters"),LastName:D().required("Last name is required").max(100,"Last name must be at most 100 characters"),MiddleName:D().max(100,"Middle name must be at most 100 characters"),Birthday:De().required("Birth date is required").max(new Date,"Birth date cannot be in the future"),Gender:D().required("Gender is required"),civilStatus:D().required("Civil status is required"),StreetAddress:D().required("Address is required").max(200,"Address must be at most 200 characters"),MobileNumber:D().required("Contact number is required"),EmailAddress:D().email("Invalid email address").required("Email is required"),DepartmentID:oe().required("Department is required"),PositionID:D().required("Position is required"),EmploymentStatusID:D().required("Employment status is required"),DateHired:De().required("Date hired is required"),TIN:D().required("TIN is required"),SSS:D().required("SSS number is required"),Philhealth:D().required("PhilHealth number is required"),Pagibig:D().required("Pag-IBIG number is required"),Active:D().required("Status is required")});function wme({initialData:t,onClose:e}){const r=ce();v.useEffect(()=>{r(zn()),r(hc()),r(Ud())},[r]);const{departments:n}=W(x=>x.departments),a=W(x=>x.departments.isLoading),i=n.map(x=>({value:x.ID,label:x.Name})),{positions:o}=W(x=>x.positions),l=W(x=>x.positions.isLoading),c=o.map(x=>({value:x.ID,label:x.Name})),{employmentStatuses:u}=W(x=>x.employmentStatuses),d=W(x=>x.employmentStatuses.isLoading),f=u.map(x=>({value:x.ID,label:x.Name})),[m,h]=v.useState(!1),p=t?{...t}:{FirstName:"",LastName:"",MiddleName:"",Birthday:"",Gender:"",civilStatus:"",StreetAddress:"",MobileNumber:"",EmailAddress:"",DepartmentID:"",PositionID:"",EmploymentStatusID:"",DateHired:new Date().toISOString().split("T")[0],TIN:"",SSS:"",Philhealth:"",Pagibig:"",Active:"Active"},y=x=>{var C;h(!0);const b=((C=n.find(N=>N.value===Number(x.DepartmentID)))==null?void 0:C.label)||"",g={...x,DepartmentID:Number(x.DepartmentID),departmentName:b},j=t?ng({...g,id:t.id,employeeCode:t.employeeCode}):rg(g);r(j).unwrap().then(()=>{e()}).catch(N=>{console.error("Error submitting employee:",N)}).finally(()=>{h(!1)})};return s.jsx(Be,{initialValues:p,validationSchema:jme,onSubmit:y,enableReinitialize:!0,children:({values:x,errors:b,touched:g,handleChange:j,handleBlur:C,isValid:N})=>s.jsxs(We,{className:"space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"I. Personal Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(A,{label:"First name",name:"FirstName",type:"text",required:!0,value:x.FirstName,onChange:j,onBlur:C,error:b.FirstName,touched:g.FirstName}),s.jsx(A,{label:"Middle name",name:"MiddleName",type:"text",value:x.MiddleName,onChange:j,onBlur:C,error:b.MiddleName,touched:g.MiddleName}),s.jsx(A,{label:"Last name",name:"LastName",type:"text",required:!0,value:x.LastName,onChange:j,onBlur:C,error:b.LastName,touched:g.LastName}),s.jsx(A,{label:"Gender",name:"Gender",type:"select",required:!0,value:x.Gender,onChange:j,onBlur:C,error:b.Gender,touched:g.Gender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}),s.jsx(A,{label:"Birthdate",name:"Birthday",type:"date",required:!0,value:x.Birthday,onChange:j,onBlur:C,error:b.Birthday,touched:g.Birthday})]})]}),s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"II. Address & Contact Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Address Information"}),s.jsx(A,{label:"Region",name:"Region",type:"select",options:[],value:x.Region||"REGION VI (WESTERN VISAYAS)",onChange:j,readOnly:!0}),s.jsx(A,{label:"Province",name:"Province",type:"select",options:[],value:x.Province||"AKLAN",onChange:j,readOnly:!0}),s.jsx(A,{label:"Municipality",name:"Municipality",type:"select",options:[],value:x.Municipality||"ALTAVAS",onChange:j,readOnly:!0}),s.jsx(A,{label:"Barangay",name:"Barangay",type:"select",options:[],value:x.Barangay||"Cabangila",onChange:j,readOnly:!0}),s.jsx(A,{label:"Street Address",name:"StreetAddress",type:"text",required:!0,value:x.StreetAddress||"242",onChange:j,onBlur:C,error:b.StreetAddress,touched:g.StreetAddress})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(A,{label:"Nationality",name:"Nationality",type:"text",value:x.Nationality||"Filipino",onChange:j,readOnly:!0}),s.jsx(A,{label:"Zip Code",name:"ZipCode",type:"text",value:x.ZipCode||"24",onChange:j,readOnly:!0})]}),s.jsx(A,{label:"Mobile Number",name:"MobileNumber",type:"text",required:!0,value:x.MobileNumber||"+639123456789",onChange:j,onBlur:C,error:b.MobileNumber,touched:g.MobileNumber}),s.jsx(A,{label:"Email",name:"EmailAddress",type:"email",required:!0,value:x.EmailAddress||"juandelacruz@gmail.com",onChange:j,onBlur:C,error:b.EmailAddress,touched:g.EmailAddress}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(A,{label:"Emergency Contact",name:"EmergencyContact",type:"text",value:x.EmergencyContact||"Maria",onChange:j,readOnly:!0}),s.jsx(A,{label:"Emergency Number",name:"EmergencyNumber",type:"text",value:x.EmergencyNumber||"+639669388800",onChange:j,readOnly:!0})]})]})]})]}),s.jsxs("div",{className:"pb-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"III. Employment and IDs"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(A,{label:"ID Number",name:"IDNumber",type:"text",value:x.IDNumber||"1",onChange:j,readOnly:!0}),s.jsx(A,{label:"TIN",name:"TIN",type:"text",required:!0,value:x.TIN||"1241",onChange:j,onBlur:C,error:b.TIN,touched:g.TIN})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(A,{label:"PAG-IBIG",name:"Pagibig",type:"text",required:!0,value:x.Pagibig||"636",onChange:j,onBlur:C,error:b.Pagibig,touched:g.Pagibig}),s.jsx(A,{label:"SSS",name:"SSS",type:"text",required:!0,value:x.SSS||"1245",onChange:j,onBlur:C,error:b.SSS,touched:g.SSS})]}),s.jsx(A,{label:"Philhealth",name:"Philhealth",type:"text",required:!0,value:x.Philhealth||"6341",onChange:j,onBlur:C,error:b.Philhealth,touched:g.Philhealth}),s.jsx(A,{label:"Department",name:"DepartmentID",type:"select",required:!0,value:x.DepartmentID||"Office of the Mayor",onChange:j,onBlur:C,error:b.DepartmentID,touched:g.DepartmentID,options:i,disabled:a})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(A,{label:"Date Hired",name:"DateHired",type:"date",required:!0,value:x.DateHired||"2024-06-10",onChange:j,onBlur:C,error:b.DateHired,touched:g.DateHired}),s.jsx(A,{label:"Employment Status",name:"EmploymentStatusID",type:"select",required:!0,value:x.EmploymentStatusID||"Active",onChange:j,onBlur:C,error:b.EmploymentStatusID,touched:g.EmploymentStatusID,options:f,disabled:d})]}),s.jsx(A,{label:"Employment Status Date",name:"EmploymentStatusDate",type:"date",value:x.EmploymentStatusDate||"2024-06-10",onChange:j,readOnly:!0}),s.jsx(A,{label:"Position",name:"PositionID",type:"select",required:!0,value:x.PositionID||"Mayor",onChange:j,onBlur:C,error:b.PositionID,touched:g.PositionID,options:c,disabled:l}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"button",className:"btn btn-outline",children:"Choose"})})}),s.jsx("div",{className:"mt-2",children:s.jsxs("p",{className:"text-sm text-gray-500",children:[x.FirstName||"Juan",","," ",x.MiddleName||"Santos",","," ",x.LastName||"Dela Cruz"," - ",x.TIN||"1241"," -"," ",x.DepartmentID||"Office of the Mayor"]})})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:m||!N,className:"btn btn-primary",children:m?"Saving...":t?"Update":"Save"})]})]})})}function Nme(){const t=ce(),{employees:e,isLoading:r}=W(j=>j.employees),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Un())},[t]);const f=()=>{o(null),a(!0)},m=j=>{o(j),a(!0)},h=j=>{d(j),c(!0)},p=()=>{u&&(t(ag(u.ID)),c(!1),d(null))},y=()=>{a(!1),o(null)},x=j=>new Date(j).toLocaleDateString(),b=[{key:"code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"LastName",header:"Last Name",sortable:!0},{key:"FirstName",header:"First Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0},{key:"position",header:"Position",sortable:!0},{key:"employmentStatus",header:"Employment Status",sortable:!0},{key:"DateHired",header:"Date Hired",sortable:!0,render:j=>x(j)},{key:"Active",header:"Status",sortable:!0,render:j=>s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${j==="1"?"bg-success-100 text-success-800":"bg-neutral-100 text-neutral-800"}`,children:j=="1"?"Active":"Inactive"})}],g=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Employees"}),s.jsx("p",{children:"Manage employee information and records"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employee"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:b,data:e,actions:g,loading:r})}),s.jsx(te,{isOpen:n,onClose:y,title:i?"Edit Employee":"Add Employee",size:"lg",children:s.jsx(wme,{initialData:i,onClose:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the employee ",s.jsxs("span",{className:"font-medium",children:[u==null?void 0:u.FirstName," ",u==null?void 0:u.LastName]}),"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Cme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Employment Status is required")}),a=Ze({initialValues:t||{Name:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Employment Status",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Sme(){const t=ce(),{employmentStatuses:e,isLoading:r}=W(g=>g.employmentStatuses),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ud())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(Gg(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete employment status:",g)}},y=g=>{t(i?k2({...g,ID:i.ID}):Hg(g)),a(!1)},x=[{key:"Name",header:"Employment Status",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Employment Status"}),s.jsx("p",{children:"Manage Employment Statuses"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employment Status"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No employment statuses found. Click 'Add Employment Status' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Employment Status":"Add Employment Status",children:s.jsx(Cme,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the employment status "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ame({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Position is required")}),a=Ze({initialValues:t||{Name:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Position Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Tme(){const t=ce(),{positions:e,isLoading:r}=W(g=>g.positions),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(hc())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(Wg(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete position:",g)}},y=g=>{t(i?T2({...g,ID:i.ID}):Ug(g)),a(!1)},x=[{key:"Name",header:"Position",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Position"}),s.jsx("p",{children:"Manage Positions"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Position"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No positions found. Click 'Add Position' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Position":"Add Position",children:s.jsx(Ame,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the position "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function kme({initialData:t,onSubmit:e,onClose:r}){const n=le({Description:D().required("User Role is required")}),a=Ze({initialValues:t||{Description:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Role",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Eme(){const t=ce(),{userroles:e,isLoading:r}=W(g=>g.userroles),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(oc())},[t]);const f=()=>{o(null),a(!0)},m=g=>{if(g.Description=="Administrator"){Wl.error("The 'Administrator' role cannot be edited.");return}o(g),a(!0)},h=g=>{if(g.Description=="Administrator"){Wl.error("The 'Administrator' role cannot be deleted.");return}d(g),c(!0)},p=async()=>{if(u)try{await t(ig(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete user role:",g)}},y=g=>{t(i?h2({...g,ID:i.ID}):sg(g)),a(!1)},x=[{key:"Description",header:"User Role",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"User Roles"}),s.jsx("p",{children:"Manage User Roles"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User Role"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No user roles found. Click 'Add User Role' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit User Role":"Add User Role",children:s.jsx(kme,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the user role "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ome({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Nationality is required")}),a=Ze({initialValues:t||{Name:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Nationality Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const sj="https://staging-engine.testthelink.online",Pme=[],Wd=L("nationalities/fetchNationalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sj}/nationality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Yg=L("nationalities/addNationality",async(t,e)=>{try{const r=await fetch(`${sj}/nationality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),E2=L("nationalities/updateNationality",async(t,e)=>{try{const r=await fetch(`${sj}/nationality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Kg=L("nationalities/deleteNationality",async(t,e)=>{try{const r=await fetch(`${sj}/nationality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Dme=me({name:"nationalities",initialState:{nationalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Wd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wd.fulfilled,(e,r)=>{e.isLoading=!1,e.nationalities=Array.isArray(r.payload)?r.payload:[]}).addCase(Wd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch nationalities",console.warn("Failed to fetch nationalities, using mock data.",e.error),e.nationalities=Pme}).addCase(Yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities.push(r.payload)}).addCase(Yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add nationality",console.error("Failed to add nationality:",e.error)}).addCase(E2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(E2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.nationalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities[n]=r.payload)}).addCase(Kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities=e.nationalities.filter(n=>n.ID!==r.payload)}).addCase(Kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete nationality",console.error("Failed to delete nationality:",e.error)})}}),Ime=Dme.reducer;function _me(){const t=ce(),{nationalities:e,isLoading:r}=W(g=>g.nationalities),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Wd())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(Kg(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete nationality:",g)}},y=g=>{t(i?E2({...g,ID:i.ID}):Yg(g)),a(!1)},x=[{key:"Name",header:"Nationality",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Nationalities"}),s.jsx("p",{children:"Manage Nationalities"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Nationality"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No nationalities found. Click 'Add Nationality' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Nationality":"Add Nationality",children:s.jsx(Ome,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the nationality "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Je={required:"This field is required",positiveNumber:"Amount must be greater than 0",futureDate:"Date cannot be in the future"};le().shape({date:De().required(Je.required).max(new Date,Je.futureDate),reference:D().max(50,"Reference number too long"),particulars:D().required(Je.required).max(500,"Particulars too long"),debitEntries:Vn().of(le().shape({accountCode:D().required("Account code is required"),amount:oe().required("Amount is required").moreThan(0,Je.positiveNumber)})).min(1,"At least one debit entry is required"),creditEntries:Vn().of(le().shape({accountCode:D().required("Account code is required"),amount:oe().required("Amount is required").moreThan(0,Je.positiveNumber)})).min(1,"At least one credit entry is required")}).test("balancedEntries","Total debits must equal total credits",function(t){if(!t.debitEntries||!t.creditEntries)return!0;const e=t.debitEntries.reduce((n,a)=>n+(Number(a.amount)||0),0),r=t.creditEntries.reduce((n,a)=>n+(Number(a.amount)||0),0);return Math.abs(e-r)<.01});const a$=le().shape({date:De().required(Je.required).max(new Date,Je.futureDate),period:D().required(Je.required),stallNumber:D().required(Je.required).matches(/^[A-Z]-\d{3}$/,"Invalid stall number format (e.g., A-101)"),stallType:D().required(Je.required),stallOwner:D().required(Je.required).max(100,"Name too long"),amount:oe().required(Je.required).moreThan(0,Je.positiveNumber)});le().shape({certificateNo:D().required("Certificate number is required").matches(/^[A-Z0-9-]+$/,"Certificate number can only contain uppercase letters, numbers, and hyphens"),date:De().required("Date is required").max(new Date,"Date cannot be in the future"),placeOfIssue:D().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters").max(100,"Place of issue must not exceed 100 characters"),name:D().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),address:D().required("Address is required").min(5,"Address must be at least 5 characters").max(200,"Address must not exceed 200 characters"),tin:D().matches(/^$|^\d{9}(\d{3})?$/,"Invalid TIN format (9 or 12 digits)").nullable(),civilStatus:D().required("Civil status is required").oneOf(["single","married","widowed","separated","divorced"],"Invalid civil status"),nationality:D().required("Nationality is required").min(2,"Nationality must be at least 2 characters").max(50,"Nationality must not exceed 50 characters"),occupation:D().required("Occupation/Business is required").min(2,"Occupation/Business must be at least 2 characters").max(100,"Occupation/Business must not exceed 100 characters"),placeOfBirth:D().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters").max(100,"Place of birth must not exceed 100 characters"),dateOfBirth:De().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future"),gender:D().required("Gender is required").oneOf(["male","female"],"Invalid gender"),height:oe().min(0,"Height cannot be negative").max(300,"Height seems too large").nullable(),weight:oe().min(0,"Weight cannot be negative").max(1e3,"Weight seems too large").nullable(),contactNumber:D().matches(/^$|^[0-9+\s-()]+$/,"Invalid contact number format").max(20,"Contact number must not exceed 20 characters").nullable(),businessGrossReceipts:oe().min(0,"Amount cannot be negative").nullable(),occupationGrossReceipts:oe().min(0,"Amount cannot be negative").nullable(),realPropertyIncome:oe().min(0,"Amount cannot be negative").nullable(),purpose:D().required("Purpose is required").min(5,"Purpose must be at least 5 characters").max(500,"Purpose must not exceed 500 characters"),amount:oe().required("Amount is required").min(0,"Amount must be greater than or equal to 0").max(1e6,"Amount must not exceed 1,000,000"),interest:oe().min(0,"Interest cannot be negative").nullable()});le().shape({date:De().required(Je.required).max(new Date,Je.futureDate),tdNumber:D().required(Je.required).matches(/^TD-\d{3}-\d{4}$/,"Invalid TD number format (e.g., TD-123-2024)"),taxpayerName:D().required(Je.required).max(100,"Name too long"),location:D().required(Je.required).max(200,"Location too long"),basicTax:oe().required(Je.required).moreThan(0,Je.positiveNumber),sef:oe().required(Je.required).moreThan(0,Je.positiveNumber),penalty:oe().min(0,"Amount cannot be negative")});const $me=le().shape({Name:D().required(Je.required).max(100,"Name too long"),MunicipalityCode:D().required(Je.required),ProvinceCode:D().required(Je.required),RegionCode:D().required(Je.required)}),Rme=le().shape({Name:D().required(Je.required).max(100,"Name too long"),ProvinceCode:D().required(Je.required),RegionCode:D().required(Je.required)}),Mme=le().shape({Name:D().required(Je.required).max(100,"Name too long"),RegionCode:D().required(Je.required)}),s$=le().shape({Name:D().required(Je.required).max(100,"Name too long")});le().shape({id:D().required("ID is required"),status:D().required("Status is required").oneOf(["posted","rejected","approved"],"Invalid status"),invoiceDate:De().required("Invoice date is required").max(new Date,"Invoice date cannot be in the future"),payorName:D().required("Payor name is required").min(2,"Payor name must be at least 2 characters").max(100,"Payor name must not exceed 100 characters"),date:De().required("Date is required").max(new Date,"Date cannot be in the future"),agency:D().required("Agency is required").min(2,"Agency must be at least 2 characters").max(100,"Agency must not exceed 100 characters"),fund:D().required("Fund is required").oneOf(["General funds","Other fund option 1","Other fund option 2"],"Invalid fund option"),taxpayerType:D().required("Taxpayer type is required").oneOf(["Individual","Corporation"],"Invalid taxpayer type")});function Lme(){const[t,e]=v.useState("region"),[r,n]=v.useState(!1),[a,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(null),d=ce(),{regions:f}=W(I=>I.regions),{provinces:m}=W(I=>I.provinces),{municipalities:h}=W(I=>I.municipalities),{barangays:p}=W(I=>I.barangays);v.useEffect(()=>{d(Io()),d(xi()),d(bi()),d(_o())},[d]);const y=()=>{switch(t){case"region":return s$;case"province":return Mme;case"municipality":return Rme;case"barangay":return $me;default:return s$}},x=()=>{switch(t){case"region":return[{key:"Name",header:"Region",sortable:!0}];case"province":return[{key:"RegionName",header:"Region",sortable:!0},{key:"Name",header:"Province",sortable:!0}];case"municipality":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"Name",header:"Municipality",sortable:!0}];case"barangay":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"MunicipalityName",header:"Municipality",sortable:!0},{key:"Name",header:"Barangay",sortable:!0}];default:return[]}},b=()=>{switch(t){case"region":return f;case"province":return m.map(I=>({...I,RegionName:O(I.RegionCode,f)}));case"municipality":return h.map(I=>({...I,RegionName:O(I.RegionCode,f),ProvinceName:O(I.ProvinceCode,m)}));case"barangay":return p.map(I=>({...I,RegionName:O(I.RegionCode,f),ProvinceName:O(I.ProvinceCode,m),MunicipalityName:O(I.MunicipalityCode,h)}));default:return[]}},g=()=>{switch(t){case"region":return jg;case"province":return Ng;case"municipality":return Sg;case"barangay":return Tg;default:return null}},j=()=>{switch(t){case"region":return g2;case"province":return y2;case"municipality":return x2;case"barangay":return b2;default:return null}},C=()=>{switch(t){case"region":return wg;case"province":return Cg;case"municipality":return Ag;case"barangay":return kg;default:return null}},N=[{icon:Ne,title:"Edit",onClick:I=>S(I),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:I=>T(I),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],w=()=>{i(null),n(!0)},S=I=>{i(I),n(!0)},T=I=>{u(I),l(!0)},k=()=>{c&&(d(C()(c.ID)),l(!1),u(null))};v.useEffect(()=>{r&&E.resetForm({values:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""}})},[r,a]);const E=Ze({initialValues:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""},enableReinitialize:!0,validationSchema:y(),onSubmit:async(I,{setSubmitting:V})=>{const P=a?j():g(),F=a?{...a,...I}:I;await d(P(F)).unwrap(),n(!1),V(!1)}}),O=(I,V)=>{const P=V.find(F=>F.ID.toString()===I.toString());return P?P.Name:""},M=()=>{const I={formik:E,onChange:E.handleChange,onBlur:E.handleBlur,required:!0};switch(t){case"region":return s.jsx(A,{label:"Region",name:"Name",type:"text",placeholder:"Enter region name",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,...I});case"province":return s.jsxs(s.Fragment,{children:[s.jsx(A,{label:"Province",name:"Name",type:"text",placeholder:"Enter province name",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,...I}),s.jsx(A,{label:"Region",name:"RegionCode",type:"select",options:f.map(V=>({value:V.ID,label:V.Name})),value:E.values.RegionCode,error:E.errors.RegionCode,touched:E.touched.RegionCode,...I})]});case"municipality":return s.jsxs(s.Fragment,{children:[s.jsx(A,{label:"Municipality",name:"Name",type:"text",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,placeholder:"Enter municipality name",...I}),s.jsx(A,{label:"Province",name:"ProvinceCode",type:"select",options:m.map(V=>({value:V.ID,label:V.Name})),value:E.values.ProvinceCode,error:E.errors.ProvinceCode,touched:E.touched.ProvinceCode,onChange:V=>{const P=V.target.value,F=m.find(U=>U.ID.toString()===P.toString());E.setFieldValue("ProvinceCode",P),F&&E.setFieldValue("RegionCode",F.RegionCode)},onBlur:E.handleBlur,required:!0}),s.jsx(A,{label:"Region",name:"RegionCode",type:"text",value:O(E.values.RegionCode,f),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});case"barangay":return s.jsxs(s.Fragment,{children:[s.jsx(A,{label:"Barangay",name:"Name",type:"text",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,placeholder:"Enter barangay name",...I}),s.jsx(A,{label:"Municipality",name:"MunicipalityCode",type:"select",options:h.map(V=>({value:V.ID,label:V.Name})),value:E.values.MunicipalityCode,error:E.errors.MunicipalityCode,touched:E.touched.MunicipalityCode,onChange:V=>{const P=V.target.value,F=h.find(U=>U.ID.toString()===P.toString());E.setFieldValue("MunicipalityCode",P),F&&(E.setFieldValue("ProvinceCode",F.ProvinceCode),E.setFieldValue("RegionCode",F.RegionCode))},onBlur:E.handleBlur,required:!0}),s.jsx(A,{label:"Province",name:"ProvinceCode",type:"text",value:O(E.values.ProvinceCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"}),s.jsx(A,{label:"Region",name:"RegionCode",type:"text",value:O(E.values.RegionCode,f),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});default:return null}};return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Locations"}),s.jsx("p",{children:"Manage regions, provinces, municipalities, and barangays"})]}),s.jsxs("button",{type:"button",onClick:w,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add ",t.charAt(0).toUpperCase()+t.slice(1)]})]})}),s.jsx("div",{className:"flex mb-6 border-b border-neutral-200",children:s.jsx("nav",{className:"-mb-px flex flex-wrap gap-x-10 gap-y-0",children:["region","province","municipality","barangay"].map(I=>s.jsxs("button",{onClick:()=>e(I),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===I?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:[I.charAt(0).toUpperCase()+I.slice(1),"s"]},I))})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x(),data:b(),actions:N,pagination:!0})}),s.jsx(te,{isOpen:r,onClose:()=>n(!1),title:a?`Edit ${t}`:`New ${t}`,children:s.jsxs("form",{onSubmit:E.handleSubmit,className:"p-4 space-y-4",children:[M(),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E.isSubmitting,children:E.isSubmitting?"Saving...":a?"Update":"Save"})]})]})}),s.jsx(te,{isOpen:o,onClose:()=>l(!1),title:"Confirm Delete",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete this ",t,"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:k,className:"btn btn-danger",children:"Delete"})]})]})})]})}const ij="https://staging-engine.testthelink.online",Fme=[],Hd=L("ppeCategories/fetchPpeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ij}/ppeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Jg=L("ppeCategories/addPpeCategory",async(t,e)=>{try{const r=await fetch(`${ij}/ppeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),O2=L("ppeCategories/updatePpeCategory",async(t,e)=>{try{const r=await fetch(`${ij}/ppeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Xg=L("ppeCategories/deletePpeCategory",async(t,e)=>{try{const r=await fetch(`${ij}/ppeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Bme=me({name:"ppeCategories",initialState:{ppeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Hd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hd.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Hd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE categories",console.warn("Failed to fetch PPE categories, using mock data.",e.error),e.ppeCategories=Fme}).addCase(Jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories.push(r.payload)}).addCase(Jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE category",console.error("Failed to add PPE category:",e.error)}).addCase(O2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(O2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories[n]=r.payload)}).addCase(Xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories=e.ppeCategories.filter(n=>n.ID!==r.payload)}).addCase(Xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE category",console.error("Failed to delete PPE category:",e.error)})}}),qme=Bme.reducer,oj="https://staging-engine.testthelink.online",Vme=[],Gd=L("ppeSuppliers/fetchPpeSuppliers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oj}/ppeSupplier`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Zg=L("ppeSuppliers/addPpeSupplier",async(t,e)=>{try{const r=await fetch(`${oj}/ppeSupplier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),P2=L("ppeSuppliers/updatePpeSupplier",async(t,e)=>{try{const r=await fetch(`${oj}/ppeSupplier/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Qg=L("ppeSuppliers/deletePpeSupplier",async(t,e)=>{try{const r=await fetch(`${oj}/ppeSupplier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),zme=me({name:"ppeSuppliers",initialState:{ppeSuppliers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Gd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gd.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeSuppliers=Array.isArray(r.payload)?r.payload:[]}).addCase(Gd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE suppliers",console.warn("Failed to fetch PPE suppliers, using mock data.",e.error),e.ppeSuppliers=Vme}).addCase(Zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers.push(r.payload)}).addCase(Zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE supplier",console.error("Failed to add PPE supplier:",e.error)}).addCase(P2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(P2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeSuppliers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers[n]=r.payload)}).addCase(Qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers=e.ppeSuppliers.filter(n=>n.ID!==r.payload)}).addCase(Qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE supplier",console.error("Failed to delete PPE supplier:",e.error)})}}),Ume=zme.reducer,lj="https://staging-engine.testthelink.online",Wme=[],Hme=[{value:"Building",label:"Building"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"}],Gme=[{value:"Supplier1",label:"Supplier 1"},{value:"Supplier2",label:"Supplier 2"}],Yme={ppes:Wme,ppe:null,isLoading:!1,error:null,categories:Hme,suppliers:Gme},ey=L("ppes/fetchPPEs",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lj}/ppe`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ty=L("ppes/addPPE",async(t,e)=>{try{const r=await fetch(`${lj}/ppe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ry=L("ppes/updatePPE",async(t,e)=>{try{const r=await fetch(`${lj}/ppe/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ny=L("ppes/deletePPE",async(t,e)=>{try{const r=await fetch(`${lj}/ppe/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Uq=me({name:"ppes",initialState:Yme,reducers:{setPPE:(t,e)=>{t.ppe=e.payload},resetPPEResource:t=>{t.ppe=null,t.error=null},addCategory:(t,e)=>{t.categories.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.categories.push({value:e.payload,label:e.payload})},addSupplier:(t,e)=>{t.suppliers.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.suppliers.push({value:e.payload,label:e.payload})}},extraReducers:t=>{t.addCase(ey.pending,e=>{e.isLoading=!0}).addCase(ey.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=r.payload,e.error=null}).addCase(ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ty.pending,e=>{e.isLoading=!0}).addCase(ty.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes.push(r.payload),e.error=null}).addCase(ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ry.pending,e=>{e.isLoading=!0}).addCase(ry.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.ppes[n]=r.payload),e.error=null}).addCase(ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ny.pending,e=>{e.isLoading=!0}).addCase(ny.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=e.ppes.filter(n=>n.id!==r.payload),e.error=null}).addCase(ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setPPE:vUe,resetPPEResource:jUe,addCategory:wUe,addSupplier:NUe}=Uq.actions,Kme=Uq.reducer,Jme=le().shape({CategoryID:D().required("Category is required"),Description:D().required("Description is required"),DepreciationRate:oe().typeError("Must be a number").required("Depreciation Rate is required"),DepreciationValue:oe().typeError("Must be a number").required("Depreciation Value is required"),NetBookValue:oe().typeError("Must be a number").required("Net Book Value is required"),SupplierID:D().required("Supplier is required"),PPENumber:D().required("PPE Number is required"),Unit:D().required("Unit is required"),Barcode:D().required("Barcode is required"),Quantity:oe().typeError("Must be a number").required("Quantity is required"),Cost:oe().typeError("Must be a number").required("Cost is required"),DateAcquired:D().required("Date acquired is required"),EstimatedUsefulLife:oe().typeError("Must be a number").required("Estimated useful life is required"),PONumber:D().required("PO Number is required"),PRNumber:D().required("PR Number is required"),InvoiceNumber:D().required("Invoice Number is required"),AIRNumber:D().required("AIR Number is required"),RISNumber:D().required("RIS Number is required"),Remarks:D()});function Xme({initialData:t,onClose:e}){const r=ce(),[n,a]=v.useState(!1),{ppeSuppliers:i}=W(u=>u.ppeSuppliers),{ppeCategories:o}=W(u=>u.ppeCategories);v.useEffect(()=>{r(Hd()),r(Gd())},[r]);const l=t?{...t}:{CategoryID:"",Description:"",DepreciationRate:"",DepreciationValue:"",NetBookValue:"",SupplierID:"",PPENumber:"",Unit:"",Barcode:"",Quantity:"",Cost:"",DateAcquired:"",EstimatedUsefulLife:1,PONumber:"",PRNumber:"",InvoiceNumber:"",AIRNumber:"",RISNumber:"",Remarks:""},c=u=>{a(!0);const d=t&&t.ID?ry({...u,ID:t.ID}):ty(u);r(d).unwrap().then(()=>{e()}).catch(f=>{console.error("Error submitting PPE:",f)}).finally(()=>{a(!1)})};return s.jsx(Be,{initialValues:l,validationSchema:Jme,onSubmit:c,enableReinitialize:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,setFieldValue:p})=>s.jsxs(We,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsx(A,{className:"p-3 focus:outline-none",label:"PPE Category",name:"CategoryID",type:"select",required:!0,value:u.CategoryID,onBlur:h,onChange:m,error:d.CategoryID,touched:f.CategoryID,options:o.map(y=>({value:y.ID,label:y.Name}))})}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"text",required:!0,value:u.Description,onChange:m,onBlur:h,error:d.Description,touched:f.Description}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Depreciation Rate (%)",name:"DepreciationRate",type:"number",required:!0,value:u.DepreciationRate,onChange:m,onBlur:h,error:d.DepreciationRate,touched:f.DepreciationRate}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Depreciation Value",name:"DepreciationValue",type:"number",required:!0,value:u.DepreciationValue,onChange:m,onBlur:h,error:d.DepreciationValue,touched:f.DepreciationValue}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Net Book Value",name:"NetBookValue",type:"number",required:!0,value:u.NetBookValue,onChange:m,onBlur:h,error:d.NetBookValue,touched:f.NetBookValue}),s.jsx("div",{children:s.jsx(A,{className:"p-3 focus:outline-none",label:"Supplier",name:"SupplierID",type:"select",required:!0,value:u.SupplierID,onBlur:h,onChange:m,error:d.SupplierID,touched:f.SupplierID,options:i.map(y=>({value:y.ID,label:y.Name}))})}),s.jsx(A,{className:"p-3 focus:outline-none",label:"PPE Number",name:"PPENumber",type:"text",required:!0,value:u.PPENumber,onChange:m,onBlur:h,error:d.PPENumber,touched:f.PPENumber}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Unit",name:"Unit",type:"text",required:!0,value:u.Unit,onChange:m,onBlur:h,error:d.Unit,touched:f.Unit}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Barcode",name:"Barcode",type:"text",required:!0,value:u.Barcode,onChange:m,onBlur:h,error:d.Barcode,touched:f.Barcode}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Quantity",name:"Quantity",type:"number",required:!0,value:u.Quantity,onChange:m,onBlur:h,error:d.Quantity,touched:f.Quantity}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Cost",name:"Cost",type:"number",required:!0,value:u.Cost,onChange:m,onBlur:h,error:d.Cost,touched:f.Cost}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Date Acquired",name:"DateAcquired",type:"date",required:!0,value:u.DateAcquired,onChange:m,onBlur:h,error:d.DateAcquired,touched:f.DateAcquired}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Estimated Useful Life (years)",name:"EstimatedUsefulLife",type:"number",required:!0,value:u.EstimatedUsefulLife,onChange:m,onBlur:h,error:d.EstimatedUsefulLife,touched:f.EstimatedUsefulLife}),s.jsx(A,{className:"p-3 focus:outline-none",label:"PO Number",name:"PONumber",type:"text",required:!0,value:u.PONumber,onChange:m,onBlur:h,error:d.PONumber,touched:f.PONumber}),s.jsx(A,{className:"p-3 focus:outline-none",label:"PR Number",name:"PRNumber",type:"text",required:!0,value:u.PRNumber,onChange:m,onBlur:h,error:d.PRNumber,touched:f.PRNumber}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,value:u.InvoiceNumber,onChange:m,onBlur:h,error:d.InvoiceNumber,touched:f.InvoiceNumber}),s.jsx(A,{className:"p-3 focus:outline-none",label:"AIR Number",name:"AIRNumber",type:"text",required:!0,value:u.AIRNumber,onChange:m,onBlur:h,error:d.AIRNumber,touched:f.AIRNumber}),s.jsx(A,{className:"p-3 focus:outline-none",label:"RIS Number",name:"RISNumber",type:"text",required:!0,value:u.RISNumber,onChange:m,onBlur:h,error:d.RISNumber,touched:f.RISNumber}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Remarks",name:"Remarks",type:"textarea",value:u.Remarks,onChange:m,onBlur:h,error:d.Remarks,touched:f.Remarks,rows:2})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[s.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:"Save"})]})]})})}const Zme=[{key:"CategoryID",header:"PPE Category"},{key:"Description",header:"Description"},{key:"DepreciationRate",header:"Depreciation Rate (%)"},{key:"DepreciationValue",header:"Depreciation Value"},{key:"NetBookValue",header:"Net Book Value"},{key:"Supplier",header:"Supplier"},{key:"PPENumber",header:"PPE Number"},{key:"Unit",header:"Unit"},{key:"Barcode",header:"Barcode"},{key:"Quantity",header:"Quantity"},{key:"Cost",header:"Cost"},{key:"DateAcquired",header:"Date Acquired"},{key:"EstimatedUsefulLife",header:"Estimated Useful Life (years)"},{key:"PONumber",header:"PO Number"},{key:"PRNumber",header:"PR Number"},{key:"InvoiceNumber",header:"Invoice Number"},{key:"AIRNumber",header:"AIR Number"},{key:"RISNumber",header:"RIS Number"},{key:"Remarks",header:"Remarks"}];function Qme(){const t=ce(),{ppes:e,isLoading:r}=W(C=>C.ppes),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null);v.useEffect(()=>{t(ey())},[t]);const u=()=>{c(null),a(!0)},d=()=>{o(!0)},f=()=>{window.print()},m=()=>{o(!1)},h=C=>{c(C),a(!0)},p=C=>{window.confirm("Are you sure you want to delete this PPE entry?")&&t(ny(C.ID))},y=()=>{a(!1),c(null)},x=Zme.map(C=>({key:C.key,header:C.header,sortable:!0,className:"text-neutral-900"})),b=[{icon:Ne,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:p,className:"text-danger-600 hover:text-danger-900 p-1 rounded-full hover:bg-danger-50"}],g=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}],j=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between gap-4 flex-col",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"PPE"}),s.jsx("p",{children:"Manage Property, Plant, and Equipment records"})]}),s.jsxs("div",{className:"flex gap-2 ml-auto max-sm:flex-col max-sm:w-full",children:[s.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE"]}),s.jsxs("button",{type:"button",onClick:d,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[s.jsx(Lf,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print Acknowledgement"]}),s.jsxs("button",{type:"button",onClick:()=>window.print(),className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[s.jsx(Lf,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r})}),s.jsx(te,{isOpen:n,onClose:y,title:l?"Edit PPE":"Add PPE",size:"lg",children:s.jsx(Xme,{initialData:l,onClose:y})}),s.jsx(te,{isOpen:i,onClose:m,title:"PPE Acknowledgement",size:"md",hideCloseButton:!0,children:s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"mb-4",children:s.jsx(A,{label:"Acknowledging No. 1",type:"select",name:"acknowledgingNo1",options:j,value:"Juan S. Dela Cruz"})}),s.jsx("div",{className:"mb-6",children:s.jsx(A,{label:"Acknowledging No. 2",type:"select",name:"acknowledgingNo1",options:g,value:"Juan S. Dela Cruz"})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:m,className:"btn btn-secondary",children:"Cancel"}),s.jsx("button",{onClick:f,className:"btn btn-primary",children:"Print"})]})]})})]})}function ehe({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Name is required")}),a=Ze({initialValues:t||{Name:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function the(){const t=ce(),{ppeCategories:e,isLoading:r}=W(g=>g.ppeCategories),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Hd())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(Xg(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete PPE category:",g)}},y=g=>{t(i?O2({...g,ID:i.ID}):Jg(g)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"PPE Categories"}),s.jsx("p",{children:"Manage PPE Categories"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Category"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No PPE categories found. Click 'Add PPE Category' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit PPE Category":"Add PPE Category",children:s.jsx(ehe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE category "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function rhe({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Name is required")}),a=Ze({initialValues:t||{Name:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function nhe(){const t=ce(),{ppeSuppliers:e,isLoading:r}=W(g=>g.ppeSuppliers),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Gd())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(Qg(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete PPE supplier:",g)}},y=g=>{t(i?P2({...g,ID:i.ID}):Zg(g)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"PPE Suppliers"}),s.jsx("p",{children:"Manage PPE Suppliers"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Supplier"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No PPE suppliers found. Click 'Add PPE Supplier' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit PPE Supplier":"Add PPE Supplier",children:s.jsx(rhe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE supplier "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const cj="https://staging-engine.testthelink.online",ahe=[],Yd=L("documentDetails/fetchDocumentDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${cj}/documentType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ay=L("documentDetails/addDocumentDetail",async(t,e)=>{try{const r=await fetch(`${cj}/documentType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),D2=L("documentDetails/updateDocumentDetail",async(t,e)=>{try{const r=await fetch(`${cj}/documentType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),sy=L("documentDetails/deleteDocumentDetail",async(t,e)=>{try{const r=await fetch(`${cj}/documentType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),she=me({name:"documentDetails",initialState:{documentDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Yd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yd.fulfilled,(e,r)=>{e.isLoading=!1,e.documentDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Yd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document details",console.warn("Failed to fetch document details, using mock data.",e.error),e.documentDetails=ahe}).addCase(ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails.push(r.payload)}).addCase(ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document detail",console.error("Failed to add document detail:",e.error)}).addCase(D2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(D2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails[n]=r.payload)}).addCase(sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails=e.documentDetails.filter(n=>n.ID!==r.payload)}).addCase(sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document detail",console.error("Failed to delete document detail:",e.error)})}}),ihe=she.reducer,ohe=[{value:"1 - First",label:"1 - First"},{value:"2 - Second",label:"2 - Second"},{value:"3 - Third",label:"3 - Third"}],lhe=le().shape({});function che({initialData:t,onClose:e,onSubmit:r}){const[n,a]=v.useState((t==null?void 0:t.AllorMajority)||"ALL"),i=ce(),{documentDetails:o}=W(y=>y.documentDetails),{positions:l}=W(y=>y.positions),{employees:c}=W(y=>y.employees);v.useEffect(()=>{i(Yd()),i(hc()),i(Un())},[i]);const u=t||{DocumentTypeID:"",SequenceLevel:"",AllorMajority:"ALL",NumberofApprover:""},[d,f]=v.useState((t==null?void 0:t.approvers)||[{type:"Position",value:"",amountFrom:"",amountTo:""}]),m=()=>{f([...d,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}])},h=y=>{const x=[...d];x.splice(y,1),f(x)},p=(y,x)=>{const b=[...d];b[y]=x,f(b)};return s.jsx(Be,{initialValues:u,validationSchema:lhe,onSubmit:(y,{setSubmitting:x})=>{const b=d.map(j=>({PositionorEmployee:j.type,PositionorEmployeeID:j.value,AmountFrom:j.amountFrom,AmountTo:j.amountTo})),g={...y,AllorMajority:n,approvers:b};r(g),x(!1)},enableReinitialize:!0,children:({values:y,errors:x,touched:b,handleChange:g,handleBlur:j,setFieldValue:C,isSubmitting:N})=>s.jsxs(We,{className:"space-y-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"Document Type",name:"DocumentTypeID",type:"select",required:!0,value:y.DocumentTypeID,onChange:g,onBlur:j,error:x.DocumentTypeID,touched:b.DocumentTypeID,options:o.map(w=>({value:w.ID,label:w.Name}))}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Sequence Level",name:"SequenceLevel",type:"select",required:!0,value:y.SequenceLevel,onChange:g,onBlur:j,error:x.SequenceLevel,touched:b.SequenceLevel,options:ohe}),s.jsxs("div",{children:[s.jsxs("label",{className:"form-label",children:["Approval Rule ",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center space-x-4 p-3",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",name:"AllorMajority",value:"ALL",checked:n==="ALL",onChange:()=>a("ALL"),className:"form-radio"}),s.jsx("span",{children:"ALL"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",name:"AllorMajority",value:"Majority",checked:n==="Majority",onChange:()=>a("Majority"),className:"form-radio"}),s.jsx("span",{children:"Majority"}),s.jsxs("select",{name:"NumberofApprover",value:y.NumberofApprover||"",onChange:g,onBlur:j,disabled:n!=="Majority",className:"ml-2 w-24 p-2 border border-neutral-300 rounded focus:outline-none",children:[s.jsx("option",{value:"",children:"Select"}),Array.from({length:10},(w,S)=>s.jsx("option",{value:S+1,children:S+1},S+1))]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"form-label mb-2",children:["Approvers ",s.jsx("span",{className:"text-error-500",children:"*"})]}),d.map((w,S)=>{var T,k,E;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col gap-4 mb-4 border p-4 rounded-md relative",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Position",checked:w.type==="Position",onChange:()=>p(S,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),s.jsx("span",{children:"Position"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Employee",checked:w.type==="Employee",onChange:()=>p(S,{type:"Employee",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),s.jsx("span",{children:"Employee"})]})]}),s.jsxs("div",{className:"w-full md:w-1/3",children:[s.jsxs("select",{className:"w-full p-2 border rounded",value:w.value,onChange:O=>p(S,{...w,value:O.target.value}),children:[s.jsx("option",{value:"",children:"Select"}),(w.type==="Position"?l:c).map(O=>s.jsx("option",{value:O.ID,children:w.type==="Position"?O.Name:`${O.FirstName} ${O.MiddleName} ${O.LastName}`},O.ID))]}),((T=w.errors)==null?void 0:T.value)&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.errors.value})]}),d.length>1&&s.jsx("button",{type:"button",onClick:()=>h(S),className:"btn btn-sm btn-error text-red-500",children:s.jsx(Ie,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"w-full md:w-1/2",children:[s.jsx("input",{type:"number",placeholder:"Amount From",className:"w-full p-2 border rounded",value:w.amountFrom,onChange:O=>p(S,{...w,amountFrom:O.target.value})}),((k=w.errors)==null?void 0:k.amountFrom)&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.errors.amountFrom})]}),s.jsxs("div",{className:"w-full md:w-1/2",children:[s.jsx("input",{type:"number",placeholder:"Amount To",className:"w-full p-2 border rounded",value:w.amountTo,onChange:O=>p(S,{...w,amountTo:O.target.value})}),((E=w.errors)==null?void 0:E.amountTo)&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.errors.amountTo})]})]})]}),S<d.length-1&&s.jsx("hr",{className:"mb-4 border-gray-300"})]},S)}),s.jsx("button",{type:"button",className:"btn btn-outline",onClick:m,children:"+ Add More"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:N,children:"Save"})]})]})})}const uj="https://staging-engine.testthelink.online",uhe=[],dhe={approvalMatrix:uhe,matrix:null,isLoading:!1,error:null},iy=L("approvalMatrix/fetchApprovalMatrix",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uj}/approvalMatrix`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),oy=L("approvalMatrix/addApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${uj}/approvalMatrix`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ly=L("approvalMatrix/updateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${uj}/approvalMatrix/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),cy=L("approvalMatrix/deleteApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${uj}/approvalMatrix/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Wq=me({name:"approvalMatrix",initialState:dhe,reducers:{setMatrix:(t,e)=>{t.matrix=e.payload},resetMatrixState:t=>{t.matrix=null,t.error=null}},extraReducers:t=>{t.addCase(iy.pending,e=>{e.isLoading=!0}).addCase(iy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=r.payload,e.error=null}).addCase(iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(oy.pending,e=>{e.isLoading=!0}).addCase(oy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix.push(r.payload),e.error=null}).addCase(oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ly.pending,e=>{e.isLoading=!0}).addCase(ly.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.approvalMatrix.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.approvalMatrix[n]=r.payload),e.error=null}).addCase(ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cy.pending,e=>{e.isLoading=!0}).addCase(cy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=e.approvalMatrix.filter(n=>n.ID!==r.payload),e.error=null}).addCase(cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMatrix:CUe,resetMatrixState:SUe}=Wq.actions,fhe=Wq.reducer;function mhe(){const t=ce(),{approvalMatrix:e,isLoading:r,error:n}=W(j=>j.approvalMatrix),[a,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(iy())},[t]);const m=()=>{l(null),i(!0)},h=j=>{var S;const C=((S=j.Approvers)==null?void 0:S.map(T=>({type:T.PositionorEmployee,value:T.PositionorEmployeeID,amountFrom:Number(T.AmountFrom),amountTo:Number(T.AmountTo)})))||[],{Approvers:N,...w}=j;l({...w,approvers:C}),i(!0)},p=j=>{f(j),u(!0)},y=async()=>{if(d)try{await t(cy(d.ID)).unwrap(),u(!1),f(null)}catch(j){console.error("Failed to delete approval matrix:",j)}},x=async j=>{try{o?await t(ly({...j,ID:o.ID})).unwrap():await t(oy(j)).unwrap(),i(!1)}catch(C){console.error("Failed to submit approval matrix:",C)}},b=[{key:"DocumentTypeName",header:"Document Type",sortable:!0},{key:"SequenceLevel",header:"Sequence Level",sortable:!0},{key:"AllorMajority",header:"All or Majority",sortable:!0},{key:"NumberofApprover",header:"No of Approvers",sortable:!0}],g=[{icon:Ne,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Approval Matrix"}),s.jsx("p",{children:"Manage approval matrix for document types"})]}),s.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Approval Matrix"]})]})}),s.jsxs("div",{className:"mt-4",children:[s.jsx(pe,{columns:b,data:e,actions:g,loading:r}),n&&s.jsx("div",{className:"text-error-600 mt-2",children:n})]}),s.jsx(te,{isOpen:a,onClose:()=>i(!1),title:o?"Edit Approval Matrix":"Add Approval Matrix",children:s.jsx(che,{initialData:o,onClose:()=>i(!1),onSubmit:x})}),s.jsxs(te,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete this approval matrix entry?"}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}function hhe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}hhe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var IE=t=>typeof t=="number"&&!isNaN(t),Ff=t=>typeof t=="string",Hq=t=>typeof t=="function",phe=t=>Ff(t)||IE(t),ghe=t=>v.isValidElement(t)||Ff(t)||Hq(t)||IE(t),yhe=1,Gq=()=>`${yhe++}`,$a=new Map,I2=[],i$=new Set,Yq=()=>$a.size>0,xhe=(t,{containerId:e})=>{var r;return(r=$a.get(e||1))==null?void 0:r.toasts.get(t)};function bhe(t,e){var r;if(e)return!!((r=$a.get(e))!=null&&r.isToastActive(t));let n=!1;return $a.forEach(a=>{a.isToastActive(t)&&(n=!0)}),n}function vhe(t){if(!Yq()){I2=I2.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||phe(t))$a.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=$a.get(t.containerId);e?e.removeToast(t.id):$a.forEach(r=>{r.removeToast(t.id)})}}var jhe=(t={})=>{$a.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function whe(t,e){ghe(t)&&(Yq()||I2.push({content:t,options:e}),$a.forEach(r=>{r.buildToast(t,e)}))}function Kq(t,e){$a.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function Nhe(t){return i$.add(t),()=>{i$.delete(t)}}function Che(t){return t&&(Ff(t.toastId)||IE(t.toastId))?t.toastId:Gq()}function zm(t,e){return whe(t,e),e.toastId}function dj(t,e){return{...e,type:e&&e.type||t,toastId:Che(e)}}function fj(t){return(e,r)=>zm(e,dj(t,r))}function Et(t,e){return zm(t,dj("default",e))}Et.loading=(t,e)=>zm(t,dj("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function She(t,{pending:e,error:r,success:n},a){let i;e&&(i=Ff(e)?Et.loading(e,a):Et.loading(e.render,{...a,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){Et.dismiss(i);return}let m={type:u,...o,...a,data:f},h=Ff(d)?{render:d}:d;return i?Et.update(i,{...m,...h}):Et(h.render,{...m,...h}),f},c=Hq(t)?t():t;return c.then(u=>l("success",n,u)).catch(u=>l("error",r,u)),c}Et.promise=She;Et.success=fj("success");Et.info=fj("info");Et.error=fj("error");Et.warning=fj("warning");Et.warn=Et.warning;Et.dark=(t,e)=>zm(t,dj("default",{theme:"dark",...e}));function Ahe(t){vhe(t)}Et.dismiss=Ahe;Et.clearWaitingQueue=jhe;Et.isActive=bhe;Et.update=(t,e={})=>{let r=xhe(t,e);if(r){let{props:n,content:a}=r,i={delay:100,...n,...e,toastId:e.toastId||t,updateId:Gq()};i.toastId!==t&&(i.staleId=t);let o=i.render||a;delete i.render,zm(o,i)}};Et.done=t=>{Et.update(t,{progress:1})};Et.onChange=Nhe;Et.play=t=>Kq(!0,t);Et.pause=t=>Kq(!1,t);const mj="https://staging-engine.testthelink.online",The=[],khe={banks:The,bank:null,isLoading:!1,error:null},uy=L("banks/fetchBanks",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mj}/bank`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),dy=L("banks/addBank",async(t,e)=>{try{const r=await fetch(`${mj}/bank`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fy=L("banks/updateBank",async(t,e)=>{try{const r=await fetch(`${mj}/bank/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),my=L("bank/deleteBank",async(t,e)=>{try{const r=await fetch(`${mj}/bank/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Jq=me({name:"banks",initialState:khe,reducers:{setBank:(t,e)=>{t.bank=e.payload},resetBankState:t=>{t.bank=null,t.error=null}},extraReducers:t=>{t.addCase(uy.pending,e=>{e.isLoading=!0}).addCase(uy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=r.payload,e.error=null}).addCase(uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dy.pending,e=>{e.isLoading=!0}).addCase(dy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks.push(r.payload),e.error=null}).addCase(dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fy.pending,e=>{e.isLoading=!0}).addCase(fy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.banks.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.banks[n]=r.payload),e.error=null}).addCase(fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(my.pending,e=>{e.isLoading=!0}).addCase(my.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=e.banks.filter(n=>n.ID!==r.payload),e.error=null}).addCase(my.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setBank:AUe,resetBankState:TUe}=Jq.actions,Ehe=Jq.reducer,Ohe=le().shape({BranchCode:D().required("Branch code is required").max(20,"Branch code must be at most 20 characters"),Branch:D().required("Branch is required").max(100,"Branch name must be at most 100 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters"),Address:D().required("Address is required").max(200,"Address must be at most 200 characters"),AccountNumber:D().required("Account number is required"),SwiftCode:D().required("Swift code is required").max(11,"SWIFT code must be at most 11 characters").matches(/^[A-Za-z0-9]+$/,"SWIFT code must contain only uppercase letters and numbers"),IBAN:D().required("IBAN is required").max(34,"IBAN must be at most 34 characters").matches(/^[A-Za-z0-9]+$/,"IBAN must contain only uppercase letters and numbers"),Balance:oe().required("Balance is required").min(0,"Balance cannot be negative"),CurrencyID:D().required("Currency is required")});function Phe({initialData:t,onClose:e}){const r=ce(),[n,a]=v.useState(!1),{currencies:i}=W(c=>c.currencies);v.useEffect(()=>{r(Fd())},[r]);const o=t?{...t}:{BranchCode:"",Branch:"",Name:"",Address:"",AccountNumber:"",SwiftCode:"",IBAN:"",Balance:"",CurrencyID:""},l=c=>{a(!0);const u={...c},d=t?fy({...u,ID:t.ID}):dy(u);r(d).unwrap().then(()=>{e()}).catch(f=>{console.error("Error submitting bank:",f)}).finally(()=>{a(!1)})};return s.jsx(Be,{initialValues:o,validationSchema:Ohe,onSubmit:l,enableReinitialize:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isValid:h,setFieldValue:p})=>s.jsxs(We,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"Branch Code",name:"BranchCode",type:"text",required:!0,placeholder:"Enter branch code",value:c.BranchCode,onChange:f,onBlur:m,error:u.BranchCode,touched:d.BranchCode}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Branch",name:"Branch",type:"text",required:!0,placeholder:"Enter branch name",value:c.Branch,onChange:f,onBlur:m,error:u.Branch,touched:d.Branch}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter bank name",value:c.Name,onChange:f,onBlur:m,error:u.Name,touched:d.Name})]}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Address",name:"Address",type:"textarea",required:!0,placeholder:"Enter complete address",value:c.Address,onChange:f,onBlur:m,error:u.Address,touched:d.Address,rows:2}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"Account Number",name:"AccountNumber",type:"text",required:!0,placeholder:"Enter account number",value:c.AccountNumber,onChange:f,onBlur:m,error:u.AccountNumber,touched:d.AccountNumber}),s.jsx(A,{className:"p-3 focus:outline-none uppercase",label:"SWIFT Code",name:"SwiftCode",type:"text",required:!0,placeholder:"Enter SWIFT code",value:c.SwiftCode,onChange:f,onBlur:m,error:u.SwiftCode,touched:d.SwiftCode}),s.jsx(A,{className:"p-3 focus:outline-none uppercase",label:"IBAN",name:"IBAN",type:"text",required:!0,placeholder:"Enter IBAN",value:c.IBAN,onChange:f,onBlur:m,error:u.IBAN,touched:d.IBAN})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"Balance",name:"Balance",type:"number",required:!0,placeholder:"Enter balance",value:c.Balance,onChange:f,onBlur:m,error:u.Balance,touched:d.Balance}),s.jsx("div",{className:"space-y-2",children:s.jsx(A,{className:"p-3 focus:outline-none",label:"Currency",name:"CurrencyID",type:"select",required:!0,value:c.CurrencyID,onChange:f,onBlur:m,error:u.CurrencyID,touched:d.CurrencyID,options:i.map(y=>({value:y.ID,label:y.Code+" - "+y.Name}))})})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n||!h,className:"btn btn-primary",children:n?"Saving...":t?"Update Bank":"Save Bank"})]})]})})}const Dhe=()=>{const t=ce(),{banks:e=[],isLoading:r}=W(j=>j.banks),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(uy())},[t]);const f=()=>{o(null),a(!0)},m=j=>{o(j),a(!0)},h=()=>{a(!1),o(null)},p=j=>{d(j),c(!0)},y=async()=>{if(u)try{await t(my(u.ID)).unwrap(),Et.success("Bank deleted successfully"),c(!1),d(null)}catch(j){Et.error(j.message||"Failed to delete bank")}},x=(j,C)=>new Intl.NumberFormat("en-US",{style:"currency",currency:C||"PHP"}).format(j),b=[{key:"BranchCode",header:"Branch Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Branch",header:"Branch",sortable:!0},{key:"Name",header:"Bank Name",sortable:!0},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"Balance",header:"Balance",sortable:!0,render:(j,C)=>x(j,C.currency)},{key:"CurrencyID",header:"Currency",sortable:!0}],g=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:p,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50"}];return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bank Details"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage bank accounts and their details"})]}),s.jsxs("button",{onClick:f,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Bank"]})]}),s.jsx(pe,{columns:b,data:e,actions:g,loading:r,emptyMessage:"No banks found. Click 'Add Bank' to create one."}),s.jsx(te,{isOpen:n,onClose:h,title:i?"Edit Bank":"Add Bank",size:"lg",children:s.jsx(Phe,{initialData:i,onClose:h})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the bank ",s.jsx("span",{className:"font-medium",children:u==null?void 0:u.name}),"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})},Ihe=({document:t,onClose:e,documentTypeCategoryOptions:r=[]})=>{const n=ce(),a=le({Name:D().required("Name is required"),Code:D().required("Code is required"),Prefix:D().required("Prefix is required"),Suffix:D().required("Suffix is required"),StartNumber:oe().required("Start number is required").min(1,"Start number must be at least 1"),CurrentNumber:oe().required("Current number is required").min(1,"Current number must be at least 1"),DocumentTypeCategoryID:D().required("Document type category is required")}),i={Name:(t==null?void 0:t.Name)||"",Code:(t==null?void 0:t.Code)||"",Prefix:(t==null?void 0:t.Prefix)||"",Suffix:(t==null?void 0:t.Suffix)||"",StartNumber:(t==null?void 0:t.StartNumber)||1,CurrentNumber:(t==null?void 0:t.CurrentNumber)||1,DocumentTypeCategoryID:(t==null?void 0:t.DocumentTypeCategoryID)||""},o=async(l,{setSubmitting:c})=>{try{t?await n(D2({...l,ID:t.ID})).unwrap():await n(ay(l)).unwrap(),e()}catch(u){console.error("Failed to save document details:",u)}finally{c(!1)}};return s.jsx(Be,{initialValues:i,validationSchema:a,onSubmit:o,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,setFieldValue:m,isSubmitting:h})=>s.jsxs(We,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Name",name:"Name",type:"text",required:!0,value:l.Name,onChange:d,onBlur:f,error:c.Name,touched:u.Name,placeholder:"Enter document name"}),s.jsx(A,{label:"Code",name:"Code",type:"text",required:!0,value:l.Code,onChange:d,onBlur:f,error:c.Code,touched:u.Code,placeholder:"Enter document code"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Prefix",name:"Prefix",type:"text",required:!0,value:l.Prefix,onChange:d,onBlur:f,error:c.Prefix,touched:u.Prefix,placeholder:"Enter document prefix"}),s.jsx(A,{label:"Suffix",name:"Suffix",type:"text",required:!0,value:l.Suffix,onChange:d,onBlur:f,error:c.Suffix,touched:u.Suffix,placeholder:"Enter document suffix"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Start Number",name:"StartNumber",type:"number",required:!0,value:l.StartNumber,onChange:d,onBlur:f,error:c.StartNumber,touched:u.StartNumber,min:"1"}),s.jsx(A,{label:"Current Number",name:"CurrentNumber",type:"number",required:!0,value:l.CurrentNumber,onChange:d,onBlur:f,error:c.CurrentNumber,touched:u.CurrentNumber,min:"1"})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(A,{label:"Document Type Category",name:"DocumentTypeCategoryID",type:"select",required:!0,value:l.DocumentTypeCategoryID,onChange:d,onBlur:f,error:c.DocumentTypeCategoryID,touched:u.DocumentTypeCategoryID,options:r})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Saving...":t?"Update":"Create"})]})]})})},hj="https://staging-engine.testthelink.online",_he=[],Kd=L("documentTypeCategories/fetchDocumentTypeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hj}/documentTypeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),hy=L("documentTypeCategories/addDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${hj}/documentTypeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),_2=L("documentTypeCategories/updateDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${hj}/documentTypeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),py=L("documentTypeCategories/deleteDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${hj}/documentTypeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$he=me({name:"documentTypeCategories",initialState:{documentTypeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Kd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kd.fulfilled,(e,r)=>{e.isLoading=!1,e.documentTypeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Kd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document type categories",console.warn("Failed to fetch document type categories, using mock data.",e.error),e.documentTypeCategories=_he}).addCase(hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories.push(r.payload)}).addCase(hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document type category",console.error("Failed to add document type category:",e.error)}).addCase(_2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentTypeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories[n]=r.payload)}).addCase(py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories=e.documentTypeCategories.filter(n=>n.ID!==r.payload)}).addCase(py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document type category",console.error("Failed to delete document type category:",e.error)})}}),Rhe=$he.reducer,Mhe=()=>{const t=ce(),{documentDetails:e,isLoading:r}=W(j=>j.documentDetails),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),{documentTypeCategories:f}=W(j=>j.documentTypeCategories),m=f.map(j=>({value:j.ID,label:j.Name}));v.useEffect(()=>{t(Yd()),t(Kd())},[t]);const h=()=>{o(null),a(!0)},p=j=>{o(j),a(!0)},y=j=>{d(j),c(!0)},x=async()=>{if(u)try{await t(sy(u.ID)).unwrap(),c(!1),d(null)}catch(j){console.error("Failed to delete document detail:",j)}},b=[{key:"Name",header:"Name",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Prefix",header:"Prefix"},{key:"Suffix",header:"Suffix"},{key:"StartNumber",header:"Start Number"},{key:"CurrentNumber",header:"Current Number"},{key:"DocumentTypeCategoryID",header:"Category",sortable:!0}],g=[{icon:Ne,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:y,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Document Details"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage document details and their numbering"})]}),s.jsxs("button",{onClick:h,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Document Detail"]})]}),s.jsx(pe,{columns:b,data:e,actions:g,loading:r,emptyMessage:"No document details found. Click 'Add Document Detail' to create one."}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Document Detail":"Add Document Detail",size:"lg",children:s.jsx(Ihe,{document:i,onClose:()=>a(!1),documentTypeCategoryOptions:m})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the document detail for ",s.jsx("span",{className:"font-medium",children:u==null?void 0:u.name}),"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})};function Lhe({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Name is required")}),a=Ze({initialValues:t||{Name:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Fhe(){const t=ce(),{documentTypeCategories:e,isLoading:r}=W(g=>g.documentTypeCategories),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Kd())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(py(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete document type category:",g)}},y=g=>{t(i?_2({...g,ID:i.ID}):hy(g)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Document Type Categories"}),s.jsx("p",{children:"Manage Document Type Categories"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Document Type Category"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No document type categories found. Click 'Add Document Type Category' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Document Type Category":"Add Document Type Category",children:s.jsx(Lhe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the document type category "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const pj="https://staging-engine.testthelink.online",Bhe=[],vi=L("items/fetchItems",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pj}/item`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),gy=L("items/addItem",async(t,e)=>{try{const r=await fetch(`${pj}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),$2=L("items/updateItem",async(t,e)=>{try{const r=await fetch(`${pj}/item/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),yy=L("items/deleteItem",async(t,e)=>{try{const r=await fetch(`${pj}/item/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),qhe=me({name:"items",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(vi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vi.fulfilled,(e,r)=>{e.isLoading=!1,e.items=Array.isArray(r.payload)?r.payload:[]}).addCase(vi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch items",console.warn("Failed to fetch items, using mock data.",e.error),e.items=Bhe}).addCase(gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items.push(r.payload)}).addCase(gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item",console.error("Failed to add item:",e.error)}).addCase($2.pending,e=>{e.isLoading=!0,e.error=null}).addCase($2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.items.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.items)||(e.items=[]),e.items[n]=r.payload)}).addCase(yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items=e.items.filter(n=>n.ID!==r.payload)}).addCase(yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item",console.error("Failed to delete item:",e.error)})}}),Vhe=qhe.reducer,gj="https://staging-engine.testthelink.online",zhe=[],Ra=L("itemUnits/fetchItemUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gj}/itemUnit`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),xy=L("itemUnits/addItemUnit",async(t,e)=>{try{const r=await fetch(`${gj}/itemUnit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),R2=L("itemUnits/updateItemUnit",async(t,e)=>{try{const r=await fetch(`${gj}/itemUnit/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),by=L("itemUnits/deleteItemUnit",async(t,e)=>{try{const r=await fetch(`${gj}/itemUnit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Uhe=me({name:"itemUnits",initialState:{itemUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ra.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ra.fulfilled,(e,r)=>{e.isLoading=!1,e.itemUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(Ra.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch item units",console.warn("Failed to fetch item units, using mock data.",e.error),e.itemUnits=zhe}).addCase(xy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits.push(r.payload)}).addCase(xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item unit",console.error("Failed to add item unit:",e.error)}).addCase(R2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(R2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.itemUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits[n]=r.payload)}).addCase(by.pending,e=>{e.isLoading=!0,e.error=null}).addCase(by.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits=e.itemUnits.filter(n=>n.ID!==r.payload)}).addCase(by.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item unit",console.error("Failed to delete item unit:",e.error)})}}),Whe=Uhe.reducer,Hhe=({item:t,onClose:e})=>{const r=ce(),{accounts:n}=W(d=>d.chartOfAccounts),{itemUnits:a}=W(d=>d.itemUnits),{taxCodes:i}=W(d=>d.taxCodes);v.useEffect(()=>{r(Ra()),r(_a()),r(yn())},[r]);const o=[{value:"Purchase",label:"Purchase"},{value:"Sales",label:"Sales"},{value:"Inventory",label:"Inventory"}],l=le({Code:D().required("Code is required"),Name:D().required("Name is required"),ChargeAccountID:D().required("Charge Account is required"),UnitID:D().required("Unit is required"),TAXCodeID:D().required("Tax Code is required"),PurchaseOrSales:D().required("Type is required"),TaxRate:oe().required("Tax Rate is required").min(0,"Tax Rate cannot be negative"),EWT:oe().required("EWT is required").min(0,"EWT cannot be negative"),Vatable:Pc().required("Vatable is required")}),c={Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",ChargeAccountID:(t==null?void 0:t.ChargeAccountID)||"",UnitID:(t==null?void 0:t.UnitID)||"",TAXCodeID:(t==null?void 0:t.TAXCodeID)||"",PurchaseOrSales:(t==null?void 0:t.PurchaseOrSales)||"",TaxRate:(t==null?void 0:t.TaxRate)||0,EWT:(t==null?void 0:t.EWT)||0,Vatable:(t==null?void 0:t.Vatable)||!1},u=async(d,{setSubmitting:f})=>{try{t?await r($2({...d,ID:t.ID})).unwrap():await r(gy(d)).unwrap(),e()}catch(m){console.error("Failed to save item:",m)}finally{f(!1)}};return s.jsx(Be,{initialValues:c,validationSchema:l,onSubmit:u,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:y})=>s.jsxs(We,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Code",name:"Code",type:"text",required:!0,value:d.Code,onChange:h,onBlur:p,error:f.Code,touched:m.Code,placeholder:"Enter item code"}),s.jsx(A,{label:"Name",name:"Name",type:"text",required:!0,value:d.Name,onChange:h,onBlur:p,error:f.Name,touched:m.Name,placeholder:"Enter item name"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Charge Account",name:"ChargeAccountID",type:"select",required:!0,value:d.ChargeAccountID,onChange:h,onBlur:p,error:f.ChargeAccountID,touched:m.ChargeAccountID,options:n.map(x=>({value:x.ID,label:x.Name}))}),s.jsx(A,{label:"Type",name:"PurchaseOrSales",type:"select",required:!0,value:d.PurchaseOrSales,onChange:h,onBlur:p,error:f.PurchaseOrSales,touched:m.PurchaseOrSales,options:o}),s.jsx(A,{label:"Unit",name:"UnitID",type:"select",required:!0,value:d.UnitID,onChange:h,onBlur:p,error:f.UnitID,touched:m.UnitID,options:a.map(x=>({value:x.ID,label:x.Code+" - "+x.Name}))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Tax Code",name:"TAXCodeID",type:"select",required:!0,value:d.TAXCodeID,onChange:h,onBlur:p,error:f.TAXCodeID,touched:m.TAXCodeID,options:i.map(x=>({value:x.ID,label:x.Code}))}),s.jsx(A,{label:"Tax Rate",name:"TaxRate",type:"number",required:!0,value:d.TaxRate,onChange:h,onBlur:p,error:f.TaxRate,touched:m.TaxRate})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"EWT",name:"EWT",type:"number",required:!0,value:d.EWT,onChange:h,onBlur:p,error:f.EWT,touched:m.EWT}),s.jsx("div",{className:"flex items-center mt-5",children:s.jsx(A,{label:"Vatable",name:"Vatable",type:"checkbox",checked:d.Vatable,onChange:h,onBlur:p,error:f.Vatable,touched:m.Vatable})})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,children:y?"Saving...":t?"Update":"Create"})]})]})})},Ghe=()=>{const t=ce(),{items:e,isLoading:r}=W(C=>C.items),{itemUnits:n,isLoading:a}=W(C=>C.itemUnits),[i,o]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,m]=v.useState(null);v.useEffect(()=>{t(vi()),t(Ra())},[t]);const h=()=>{c(null),o(!0)},p=C=>{c(C),o(!0)},y=C=>{m(C),d(!0)},x=async()=>{if(f)try{await t(yy(f.ID)).unwrap(),d(!1),m(null)}catch(C){console.error("Failed to delete item:",C)}},b=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"PurchaseOrSales",header:"Type",sortable:!0},{key:"TAXCodeID",header:"Tax Code",sortable:!0},{key:"unitName",header:"Unit Name",sortable:!0},{key:"EWT",header:"EWT",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:C=>s.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${C===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C?"Yes":"No"})}],g=e.map(C=>{var N;return{...C,unitName:((N=n==null?void 0:n.find(w=>w.ID===C.UnitID))==null?void 0:N.Name)||"N/A"}}),j=[{icon:Ne,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:y,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Item List"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, assets, and services"})]}),s.jsxs("button",{onClick:h,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}),s.jsx(pe,{columns:b,data:g,actions:j,loading:r||a,emptyMessage:"No items found. Click 'Add Item' to create one."}),s.jsx(te,{isOpen:i,onClose:()=>o(!1),title:l?"Edit Item":"Add Item",size:"lg",children:s.jsx(Hhe,{item:l,onClose:()=>o(!1)})}),s.jsxs(te,{isOpen:u,onClose:()=>d(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the item"," ",s.jsx("span",{className:"font-medium",children:f==null?void 0:f.name}),"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>d(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})},Yhe=le().shape({MarriageServiceInvoice:D().required("Marriage Service Invoice account is required"),BurialServiceInvoice:D().required("Burial Service Invoice account is required"),DueFromLGU:D().required("Due From LGU account is required"),DueFromRate:oe().required("Due From Rate is required"),DueToLGU:D().required("Due To LGU account is required"),DueToRate:oe().required("Due To Rate is required"),RealPropertyTax:D().required("Real Property Tax account is required"),RealPropertyTaxRate:oe().required("Real Property Tax Rate is required")}),Khe=({initialData:t,onClose:e,onSubmit:r,invoiceChargeAccounts:n=[]})=>{const a=ce(),i=W(l=>{var c;return((c=l.chartOfAccounts)==null?void 0:c.accounts)||[]});v.useEffect(()=>{a(yn())},[a]);const o=n.reduce((l,c)=>{switch(c.ID){case 1:l.MarriageServiceInvoice=c.ChartofAccountsID;break;case 2:l.BurialServiceInvoice=c.ChartofAccountsID;break;case 3:l.DueFromLGU=c.ChartofAccountsID,l.DueFromRate=c.Rate??0;break;case 4:l.DueToLGU=c.ChartofAccountsID,l.DueToRate=c.Rate??0;break;case 5:l.RealPropertyTax=c.ChartofAccountsID,l.RealPropertyTaxRate=c.Rate??0;break}return l},{});return!n||n.length===0?s.jsx("div",{className:"text-neutral-500",children:"Loading charge accounts..."}):s.jsx(Be,{initialValues:{MarriageServiceInvoice:o.MarriageServiceInvoice||"",BurialServiceInvoice:o.BurialServiceInvoice||"",DueFromLGU:o.DueFromLGU||"",DueFromRate:o.DueFromRate||0,DueToLGU:o.DueToLGU||"",DueToRate:o.DueToRate||0,RealPropertyTax:o.RealPropertyTax||"",RealPropertyTaxRate:o.RealPropertyTaxRate||0},validationSchema:Yhe,onSubmit:r,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>s.jsxs(We,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Charge Account of Service Invoice"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(A,{label:"Marriage Service Invoice",name:"MarriageServiceInvoice",type:"select",required:!0,value:l.MarriageServiceInvoice,onChange:d,onBlur:f,error:c.MarriageServiceInvoice,touched:u.MarriageServiceInvoice,options:(i||[]).map(h=>({value:h.ID,label:h.Name}))}),s.jsx(A,{label:"Burial Service Invoice",name:"BurialServiceInvoice",type:"select",required:!0,value:l.BurialServiceInvoice,onChange:d,onBlur:f,error:c.BurialServiceInvoice,touched:u.BurialServiceInvoice,options:(i||[]).map(h=>({value:h.ID,label:h.Name}))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Real Property Tax Shares Settings"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"bg-neutral-50 p-4 rounded-lg space-y-4",children:[s.jsx("h4",{className:"font-medium text-neutral-700",children:"Due to LGUs"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(A,{label:"Account",name:"DueToLGU",type:"select",required:!0,value:l.DueToLGU,onChange:d,onBlur:f,error:c.DueToLGU,touched:u.DueToLGU,options:(i||[]).map(h=>({value:h.ID,label:h.Name}))}),s.jsx(A,{label:"Rate",name:"DueToRate",type:"number",required:!0,value:l.DueToRate,onChange:d,onBlur:f,error:c.DueToRate,touched:u.DueToRate})]})]}),s.jsxs("div",{className:"bg-neutral-50 p-4 rounded-lg space-y-4",children:[s.jsx("h4",{className:"font-medium text-neutral-700",children:"Due From Local Government Units"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(A,{label:"Account",name:"DueFromLGU",type:"select",required:!0,value:l.DueFromLGU,onChange:d,onBlur:f,error:c.DueFromLGU,touched:u.DueFromLGU,options:(i||[]).map(h=>({value:h.ID,label:h.Name}))}),s.jsx(A,{label:"Rate",name:"DueFromRate",type:"number",required:!0,value:l.DueFromRate,onChange:d,onBlur:f,error:c.DueFromRate,touched:u.DueFromRate})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Special Education Funds"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(A,{label:"Real Property Tax",name:"RealPropertyTax",type:"select",required:!0,value:l.RealPropertyTax,onChange:d,onBlur:f,error:c.RealPropertyTax,touched:u.RealPropertyTax,options:(i||[]).map(h=>({value:h.ID,label:h.Name}))}),s.jsx(A,{label:"Rate",name:"RealPropertyTaxRate",type:"number",required:!0,value:l.RealPropertyTaxRate,onChange:d,onBlur:f,error:c.RealPropertyTaxRate,touched:u.RealPropertyTaxRate})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:m,className:"btn btn-primary",children:"Save"})]})]})})},Xq="https://staging-engine.testthelink.online",vy=L("chartOfAccounts/fetchInvoiceChargeAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xq}/serviceInvoiceAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Jhe=L("invoiceChargeAccounts/addInvoiceChargeAccount",async t=>{try{return{...t,id:Date.now(),status:"Active"}}catch(e){throw console.warn("Failed to add invoice charge account:",e),e}}),Zq=L("invoiceChargeAccounts/updateInvoiceChargeAccount",async(t,e)=>{try{const r=await fetch(`${Xq}/serviceInvoiceAccounts/1`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Xhe=L("invoiceChargeAccounts/deleteInvoiceChargeAccount",async t=>{try{return t}catch(e){throw console.warn("Failed to delete invoice charge account:",e),e}}),Zhe={invoiceChargeAccounts:[],isLoading:!1,error:null},Qhe=me({name:"invoiceChargeAccounts",initialState:Zhe,reducers:{},extraReducers:t=>{t.addCase(vy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vy.fulfilled,(e,r)=>{e.isLoading=!1,e.invoiceChargeAccounts=r.payload}).addCase(vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(Jhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts.push(r.payload)}).addCase(Zq.fulfilled,(e,r)=>{const n=e.invoiceChargeAccounts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.invoiceChargeAccounts[n]=r.payload)}).addCase(Xhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts=e.invoiceChargeAccounts.filter(n=>n.id!==r.payload)})}}),epe=Qhe.reducer;function tpe(){const t=ce(),{invoiceChargeAccounts:e}=W(n=>n.invoiceChargeAccounts);v.useEffect(()=>{t(vy())},[t]);const r=async(n,{setSubmitting:a})=>{try{await t(Zq(n)).unwrap(),a(!1)}catch(i){console.error("Failed to save invoice charge account:",i),a(!1)}};return s.jsx("div",{children:s.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:s.jsx(Khe,{onSubmit:r,invoiceChargeAccounts:e})})})}function rpe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:D().required("Code is required"),Name:D().required("Name is required")}),a=Ze({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),s.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function npe(){const t=ce(),{itemUnits:e,isLoading:r}=W(g=>g.itemUnits),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ra())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(by(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete item unit:",g)}},y=g=>{t(i?R2({...g,ID:i.ID}):xy(g)),a(!1)},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Item Units"}),s.jsx("p",{children:"Manage item units"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Item Unit"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No item units found. Click 'Add Item Unit' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Item Unit":"Add Item Unit",children:s.jsx(rpe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the item unit "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function ape({initialData:t,onSubmit:e,onClose:r}){const n=le({Type:D().required("Type is required"),Description:D().required("Description is required")});return s.jsx(Be,{initialValues:t||{Type:"",Description:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:i,touched:o,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsx(A,{label:"Type",name:"Type",type:"text",value:a.Type,onChange:l,onBlur:c,error:i.Type,touched:o.Type,required:!0}),s.jsx(A,{label:"Description",name:"Description",type:"textarea",value:a.Description,onChange:l,onBlur:c,error:i.Description,touched:o.Description,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const yj="https://staging-engine.testthelink.online",spe=[],Jd=L("projectTypes/fetchProjectTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yj}/projectType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),jy=L("projectTypes/addProjectType",async(t,e)=>{try{const r=await fetch(`${yj}/projectType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),M2=L("projectTypes/updateProjectType",async(t,e)=>{try{const r=await fetch(`${yj}/projectType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),wy=L("projectTypes/deleteProjectType",async(t,e)=>{try{const r=await fetch(`${yj}/projectType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ipe=me({name:"projectTypes",initialState:{projectTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Jd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jd.fulfilled,(e,r)=>{e.isLoading=!1,e.projectTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Jd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project types",console.warn("Failed to fetch project types, using mock data.",e.error),e.projectTypes=spe}).addCase(jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes.push(r.payload)}).addCase(jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project type",console.error("Failed to add project type:",e.error)}).addCase(M2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(M2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes[n]=r.payload)}).addCase(wy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes=e.projectTypes.filter(n=>n.ID!==r.payload)}).addCase(wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project type",console.error("Failed to delete project type:",e.error)})}}),ope=ipe.reducer;function lpe(){const t=ce(),{projectTypes:e,isLoading:r}=W(g=>g.projectTypes),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Jd())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(wy(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete project type:",g)}},y=g=>{t(i?M2({...g,ID:i.ID}):jy(g)),a(!1)},x=[{key:"Type",header:"Type",sortable:!0},{key:"Description",header:"Description",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Project Types"}),s.jsx("p",{children:"Manage project types"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Type"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No project types found. Click 'Add Project Type' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Project Type":"Add Project Type",children:s.jsx(ape,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project type "',u==null?void 0:u.Type,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function cpe({initialData:t,onSubmit:e,onClose:r}){const n=ce(),{projectTypes:a,loading:i}=W(c=>c.projectTypes);v.useEffect(()=>{n(Jd())},[n]);const o=le({Title:D().required("Title is required"),ProjectTypeID:D().required("Project Type is required"),StartDate:De().required("Start Date is required"),EndDate:De().required("End Date is required"),Description:D().required("Description is required")}),l=Ze({initialValues:t||{Title:"",ProjectTypeID:"",StartDate:"",EndDate:"",Description:""},validationSchema:o,onSubmit:c=>{e(c)}});return s.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Project Title",name:"Title",type:"text",value:l.values.Title,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Title,touched:l.touched.Title,required:!0}),s.jsx(A,{label:"Project Type",name:"ProjectTypeID",type:"select",options:a.map(c=>({label:c.Type,value:c.ID})),value:l.values.ProjectTypeID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.ProjectTypeID,touched:l.touched.ProjectTypeID,required:!0}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Start Date",name:"StartDate",type:"date",value:l.values.StartDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.StartDate,touched:l.touched.StartDate,required:!0}),s.jsx(A,{label:"End Date",name:"EndDate",type:"date",value:l.values.EndDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.EndDate,touched:l.touched.EndDate,required:!0})]}),s.jsx(A,{label:"Description",name:"Description",type:"textarea",rows:3,value:l.values.Description,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Description,touched:l.touched.Description,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>setIsModalOpen(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}const xj="https://staging-engine.testthelink.online",upe=[],$o=L("projectDetails/fetchProjectDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xj}/project`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ny=L("projectDetails/addProjectDetail",async(t,e)=>{try{const r=await fetch(`${xj}/project`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),L2=L("projectDetails/updateProjectDetail",async(t,e)=>{try{const r=await fetch(`${xj}/project/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cy=L("projectDetails/deleteProjectDetail",async(t,e)=>{try{const r=await fetch(`${xj}/project/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),dpe=me({name:"projectDetails",initialState:{projectDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase($o.pending,e=>{e.isLoading=!0,e.error=null}).addCase($o.fulfilled,(e,r)=>{e.isLoading=!1,e.projectDetails=Array.isArray(r.payload)?r.payload:[]}).addCase($o.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project details",console.warn("Failed to fetch project details, using mock data.",e.error),e.projectDetails=upe}).addCase(Ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails.push(r.payload)}).addCase(Ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project detail",console.error("Failed to add project detail:",e.error)}).addCase(L2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(L2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails[n]=r.payload)}).addCase(Cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails=e.projectDetails.filter(n=>n.ID!==r.payload)}).addCase(Cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project detail",console.error("Failed to delete project detail:",e.error)})}}),fpe=dpe.reducer;function mpe(){const t=ce(),{projectDetails:e,isLoading:r}=W(g=>g.projectDetails),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t($o())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(Cy(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete project detail:",g)}},y=g=>{t(i?L2({...g,ID:i.ID}):Ny(g)),a(!1)},x=[{key:"Title",header:"Project Title",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0},{key:"EndDate",header:"End Date",sortable:!0},{key:"ProjectTypeID",header:"Project Type",sortable:!0},{key:"Description",header:"Description",sortable:!1}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Project Details"}),s.jsx("p",{children:"Manage project details"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Detail"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No project details found. Click 'Add Project Detail' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Project Detail":"Add Project Detail",size:"lg",children:s.jsx(cpe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project "',u==null?void 0:u.projectTitle,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function hpe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:D().required("Code is required"),Name:D().required("Name is required")});return s.jsx(Be,{initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:i,touched:o,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsx(A,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:i.Code,touched:o.Code,required:!0}),s.jsx(A,{label:"Name",name:"Name",type:"text",value:a.Name,onChange:l,onBlur:c,error:i.Name,touched:o.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const bj="https://staging-engine.testthelink.online",ppe=[],gpe={financialStatements:ppe,financialStatement:null,isLoading:!1,error:null},Sy=L("financialStatements/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bj}/financialStatement`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ay=L("financialStatements/addFinancialStatement",async(t,e)=>{try{const r=await fetch(`${bj}/financialStatement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Ty=L("financialStatements/updateFinancialStatement",async(t,e)=>{try{const r=await fetch(`${bj}/financialStatement/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ky=L("financialStatements/deleteFinancialStatement",async(t,e)=>{try{const r=await fetch(`${bj}/financialStatement/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Qq=me({name:"financialStatements",initialState:gpe,reducers:{setFinancialStatement:(t,e)=>{t.financialStatement=e.payload},resetFinancialStatementState:t=>{t.financialStatement=null,t.error=null}},extraReducers:t=>{t.addCase(Sy.pending,e=>{e.isLoading=!0}).addCase(Sy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload,e.error=null}).addCase(Sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ay.pending,e=>{e.isLoading=!0}).addCase(Ay.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements.push(r.payload),e.error=null}).addCase(Ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ty.pending,e=>{e.isLoading=!0}).addCase(Ty.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.financialStatements.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.financialStatements[n]=r.payload),e.error=null}).addCase(Ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ky.pending,e=>{e.isLoading=!0}).addCase(ky.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=e.financialStatements.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFinancialStatement:kUe,resetFinancialStatementState:EUe}=Qq.actions,ype=Qq.reducer;function xpe(){const t=ce(),{financialStatements:e,isLoading:r}=W(g=>g.financialStatements),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Sy())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(ky(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete financial statement:",g)}},y=g=>{t(i?Ty({...g,ID:i.ID}):Ay(g)),a(!1)},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Financial Statements"}),s.jsx("p",{children:"Manage financial statements"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Financial Statement"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No financial statements found. Click 'Add Financial Statement' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Financial Statement":"Add Financial Statement",children:s.jsx(hpe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the financial statement "',u==null?void 0:u.Name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function bpe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:D().required("Code is required"),Name:D().required("Name is required"),Year:oe().required("Year is required").min(2e3,"Year must be 2000 or later"),MonthStart:D().required("Month Start is required"),MonthEnd:D().required("Month End is required")}),a=[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}];return s.jsx(Be,{initialValues:t||{Code:"",Name:"",Year:new Date().getFullYear(),MonthStart:"",MonthEnd:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:i,errors:o,touched:l,handleChange:c,handleBlur:u,handleSubmit:d,isSubmitting:f})=>s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsx(A,{label:"Code",name:"Code",type:"text",value:i.Code,onChange:c,onBlur:u,error:o.Code,touched:l.Code,required:!0}),s.jsx(A,{label:"Name",name:"Name",type:"text",value:i.Name,onChange:c,onBlur:u,error:o.Name,touched:l.Name,required:!0}),s.jsx(A,{label:"Year",name:"Year",type:"number",value:i.Year,onChange:c,onBlur:u,error:o.Year,touched:l.Year,required:!0}),s.jsx(A,{label:"Month Start",name:"MonthStart",type:"select",value:i.MonthStart,onChange:c,onBlur:u,error:o.MonthStart,touched:l.MonthStart,options:a,required:!0}),s.jsx(A,{label:"Month End",name:"MonthEnd",type:"select",value:i.MonthEnd,onChange:c,onBlur:u,error:o.MonthEnd,touched:l.MonthEnd,options:a,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":"Save"})]})]})})}const vj="https://staging-engine.testthelink.online",vpe=[],ji=L("fiscalYears/fetchFiscalYears",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${vj}/fiscalYear`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ey=L("fiscalYears/addFiscalYear",async(t,e)=>{try{const r=await fetch(`${vj}/fiscalYear`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),F2=L("fiscalYears/updateFiscalYear",async(t,e)=>{try{const r=await fetch(`${vj}/fiscalYear/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Oy=L("fiscalYears/deleteFiscalYear",async(t,e)=>{try{const r=await fetch(`${vj}/fiscalYear/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),jpe=me({name:"fiscalYears",initialState:{fiscalYears:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ji.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ji.fulfilled,(e,r)=>{e.isLoading=!1,e.fiscalYears=Array.isArray(r.payload)?r.payload:[]}).addCase(ji.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch fiscal years",console.warn("Failed to fetch fiscal years, using mock data.",e.error),e.fiscalYears=vpe}).addCase(Ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears.push(r.payload)}).addCase(Ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fiscal year",console.error("Failed to add fiscal year:",e.error)}).addCase(F2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(F2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fiscalYears.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears[n]=r.payload)}).addCase(Oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears=e.fiscalYears.filter(n=>n.ID!==r.payload)}).addCase(Oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fiscal year",console.error("Failed to delete fiscal year:",e.error)})}}),wpe=jpe.reducer;function Npe(){const t=ce(),{fiscalYears:e,isLoading:r}=W(g=>g.fiscalYears),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ji())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(Oy(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete fiscal year:",g)}},y=g=>{t(i?F2({...g,id:i.ID}):Ey(g)),a(!1)},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Year",header:"Year",sortable:!0},{key:"MonthStart",header:"Month Start",sortable:!0},{key:"MonthEnd",header:"Month End",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Fiscal Years"}),s.jsx("p",{children:"Manage fiscal years"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fiscal Year"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No fiscal years found. Click 'Add Fiscal Year' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Fiscal Year":"Add Fiscal Year",children:s.jsx(bpe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the fiscal year "',u==null?void 0:u.Name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Cpe=[{value:"Individual",label:"Individual"},{value:"Corporate",label:"Corporate"}];function Spe({initialData:t,onSubmit:e,onClose:r}){const n=le({Type:D().required("Type is required"),Code:D().required("Code is required"),Name:D().required("Nature of Payment is required"),Rate:oe().required("Rate is required").min(0,"Rate cannot be negative").max(100,"Rate cannot exceed 100%")});return s.jsx(Be,{initialValues:t||{Type:"",Code:"",Name:"",Rate:0},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:i,touched:o,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsx(A,{label:"Type",name:"Type",type:"select",options:Cpe,value:a.Type,onChange:l,onBlur:c,error:i.Type,touched:o.Type,required:!0}),s.jsx(A,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:i.Code,touched:o.Code,required:!0}),s.jsx(A,{label:"Rate (%)",name:"Rate",type:"number",step:"0.01",value:a.Rate,onChange:l,onBlur:c,error:i.Rate,touched:o.Rate,required:!0}),s.jsx(A,{label:"Nature of Payment",name:"Name",type:"textarea",value:a.Name,onChange:l,onBlur:c,error:i.Name,touched:o.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}function Ape(){const t=ce(),{taxCodes:e,isLoading:r}=W(g=>g.taxCodes),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(_a())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(_g(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete tax code:",g)}},y=g=>{t(i?w2({...g,ID:i.ID}):Ig(g)),a(!1)},x=[{key:"Type",header:"Type",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Nature of Payment",sortable:!0},{key:"Rate",header:"Rate (%)",sortable:!0,render:g=>`${g} %`}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Tax Codes"}),s.jsx("p",{children:"Manage tax codes"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Code"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No tax codes found. Click 'Add Tax Code' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Tax Code":"Add Tax Code",children:s.jsx(Spe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax code "',u==null?void 0:u.code,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Tpe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:D().required("Code is required"),Name:D().required("Name is required")}),a=Ze({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),s.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function kpe(){const t=ce(),{modeOfPayments:e,isLoading:r}=W(g=>g.modeOfPayments),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(mc())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(Lg(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete mode of payment:",g)}},y=g=>{t(i?C2({...g,ID:i.ID}):Mg(g)),a(!1)},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Mode of Payments"}),s.jsx("p",{children:"Manage mode of payments"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Mode of Payment"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No mode of payments found. Click 'Add Mode of Payment' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Mode of Payment":"Add Mode of Payment",children:s.jsx(Tpe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the mode of payment "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Epe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:D().required("Code is required"),Name:D().required("Name is required"),NumberOfDays:oe().required("Number of Days is required").integer("Number of Days must be an integer").min(0,"Number of Days cannot be negative")}),a=Ze({initialValues:t||{Code:"",Name:"",NumberOfDays:0},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),s.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),s.jsx(A,{label:"Number of Days",name:"NumberOfDays",type:"number",value:a.values.NumberOfDays,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NumberOfDays,touched:a.touched.NumberOfDays,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Ope(){const t=ce(),{paymentTerms:e,isLoading:r}=W(g=>g.paymentTerms),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(fc())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(Rg(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete payment term:",g)}},y=g=>{t(i?N2({...g,ID:i.ID}):$g(g)),a(!1)},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NumberOfDays",header:"Number of Days",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Payment Terms"}),s.jsx("p",{children:"Manage payment terms"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Payment Term"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No payment terms found. Click 'Add Payment Term' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Payment Term":"Add Payment Term",children:s.jsx(Epe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the payment term "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ppe({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Name is required")}),a=Ze({initialValues:t||{Name:""},validationSchema:n,onSubmit:i=>{e(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Dpe(){const t=ce(),{industries:e,isLoading:r}=W(g=>g.industries),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(dc())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(Dg(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete industry:",g)}},y=g=>{t(i?j2({...g,ID:i.ID}):Pg(g)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Industries"}),s.jsx("p",{children:"Manage industries"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Industry"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No industries found. Click 'Add Industry' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Industry":"Add Industry",children:s.jsx(Ppe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the industry "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ipe({initialData:t,onSubmit:e,onClose:r}){const n=ce();v.useEffect(()=>{n(Io()),n(xi()),n(bi()),n(_o()),n(dc()),n(_a()),n(fc()),n(mc())},[n]);const{regions:a}=W(j=>j.regions),{provinces:i}=W(j=>j.provinces),{municipalities:o}=W(j=>j.municipalities),{barangays:l}=W(j=>j.barangays),{industries:c}=W(j=>j.industries),{taxCodes:u}=W(j=>j.taxCodes),{paymentTerms:d}=W(j=>j.paymentTerms),{modeOfPayments:f}=W(j=>j.modeOfPayments),m=le({Code:D().required("Code is required"),Name:D().required("Name is required"),TIN:D().required("TIN is required"),PhoneNumber:D().required("Phone Number is required"),MobileNumber:D().required("Mobile Number is required"),EmailAddress:D().email().required("Email is required"),Website:D().required("Website is required"),RegionID:D().required("Region is required"),ProvinceID:D().required("Province is required"),MunicipalityID:D().required("Municipality is required"),BarangayID:D().required("Barangay is required"),ZIPCode:D().required("ZIP Code is required"),StreetAddress:D().required("Street Address is required"),RDO:D().required("RDO is required"),PlaceofIncorporation:D().required("Place of Incorporation is required"),TaxCodeID:D().required("Tax Code is required"),IndustryTypeID:D().required("Industry is required"),PaymentTermsID:D().required("Payment Terms is required"),PaymentMethodID:D().required("Payment Method is required"),ContactPerson:D().required("Contact Person is required"),DateofRegistration:De().required("Date of Registration is required"),KindofOrganization:D().required("Kind of Organization is required")}),h=Ze({initialValues:t||{Code:"",Name:"",TIN:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",ZIPCode:"",StreetAddress:"",RDO:"",PlaceofIncorporation:"",TaxCodeID:"",IndustryTypeID:"",PaymentTermsID:"",PaymentMethodID:"",ContactPerson:"",DateofRegistration:"",KindofOrganization:""},validationSchema:m,onSubmit:e}),{values:p,handleChange:y,handleBlur:x,errors:b,touched:g}=h;return s.jsxs("form",{onSubmit:h.handleSubmit,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Code",name:"Code",value:p.Code,onChange:y,onBlur:x,error:b.Code,touched:g.Code,required:!0}),s.jsx(A,{label:"TIN",name:"TIN",value:p.TIN,onChange:y,onBlur:x,error:b.TIN,touched:g.TIN,required:!0}),s.jsx(A,{label:"Phone Number",name:"PhoneNumber",value:p.PhoneNumber,onChange:y,onBlur:x,error:b.PhoneNumber,touched:g.PhoneNumber,required:!0}),s.jsx(A,{label:"Mobile Number",name:"MobileNumber",value:p.MobileNumber,onChange:y,onBlur:x,error:b.MobileNumber,touched:g.MobileNumber,required:!0}),s.jsx(A,{label:"Name",name:"Name",value:p.Name,onChange:y,onBlur:x,error:b.Name,touched:g.Name,required:!0}),s.jsx(A,{label:"Email",name:"EmailAddress",type:"email",value:p.EmailAddress,onChange:y,onBlur:x,error:b.EmailAddress,touched:g.EmailAddress,required:!0}),s.jsx(A,{label:"Website",name:"Website",value:p.Website,onChange:y,onBlur:x,error:b.Website,touched:g.Website,required:!0}),s.jsx(A,{label:"Region",name:"RegionID",type:"select",options:a.map(j=>({value:j.ID,label:j.Name})),value:p.RegionID,onChange:y,onBlur:x,error:b.RegionID,touched:g.RegionID,required:!0}),s.jsx(A,{label:"Province",name:"ProvinceID",type:"select",options:i.map(j=>({value:j.ID,label:j.Name})),value:p.ProvinceID,onChange:y,onBlur:x,error:b.ProvinceID,touched:g.ProvinceID,required:!0}),s.jsx(A,{label:"Municipality",name:"MunicipalityID",type:"select",options:o.map(j=>({value:j.ID,label:j.Name})),value:p.MunicipalityID,onChange:y,onBlur:x,error:b.MunicipalityID,touched:g.MunicipalityID,required:!0}),s.jsx(A,{label:"Barangay",name:"BarangayID",type:"select",options:l.map(j=>({value:j.ID,label:j.Name})),value:p.BarangayID,onChange:y,onBlur:x,error:b.BarangayID,touched:g.BarangayID,required:!0}),s.jsx(A,{label:"ZIP Code",name:"ZIPCode",value:p.ZIPCode,onChange:y,onBlur:x,error:b.ZIPCode,touched:g.ZIPCode,required:!0}),s.jsx(A,{label:"Street Address",name:"StreetAddress",type:"textarea",rows:2,value:p.StreetAddress,onChange:y,onBlur:x,error:b.StreetAddress,touched:g.StreetAddress,required:!0}),s.jsx(A,{label:"Revenue District Office",name:"RDO",value:p.RDO,onChange:y,onBlur:x,error:b.RDO,touched:g.RDO,required:!0}),s.jsx(A,{label:"Place of Incorporation",name:"PlaceofIncorporation",value:p.PlaceofIncorporation,onChange:y,onBlur:x,error:b.PlaceofIncorporation,touched:g.PlaceofIncorporation,required:!0}),s.jsx(A,{label:"Tax Code",name:"TaxCodeID",type:"select",options:u.map(j=>({value:j.ID,label:j.Name})),value:p.TaxCodeID,onChange:y,onBlur:x,error:b.TaxCodeID,touched:g.TaxCodeID,required:!0}),s.jsx(A,{label:"Industry",name:"IndustryTypeID",type:"select",options:c.map(j=>({value:j.ID,label:j.Name})),value:p.IndustryTypeID,onChange:y,onBlur:x,error:b.IndustryTypeID,touched:g.IndustryTypeID,required:!0}),s.jsx(A,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:d.map(j=>({value:j.ID,label:j.Name})),value:p.PaymentTermsID,onChange:y,onBlur:x,error:b.PaymentTermsID,touched:g.PaymentTermsID,required:!0}),s.jsx(A,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:f.map(j=>({value:j.ID,label:j.Name})),value:p.PaymentMethodID,onChange:y,onBlur:x,error:b.PaymentMethodID,touched:g.PaymentMethodID,required:!0}),s.jsx(A,{label:"Contact Person",name:"ContactPerson",value:p.ContactPerson,onChange:y,onBlur:x,error:b.ContactPerson,touched:g.ContactPerson,required:!0}),s.jsx(A,{label:"Date of Registration",name:"DateofRegistration",type:"date",value:p.DateofRegistration,onChange:y,onBlur:x,error:b.DateofRegistration,touched:g.DateofRegistration,required:!0}),s.jsx(A,{label:"Kind of Organization",name:"KindofOrganization",type:"select",options:[{value:"Association",label:"Association"},{value:"Partnership",label:"Partnership"},{value:"Corporation",label:"Corporation"}],value:p.KindofOrganization,onChange:y,onBlur:x,error:b.KindofOrganization,touched:g.KindofOrganization,required:!0})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const jj="https://staging-engine.testthelink.online",_pe=[],wi=L("customers/fetchCustomers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${jj}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Py=L("customers/addCustomer",async(t,e)=>{try{const r=await fetch(`${jj}/customer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),B2=L("customers/updateCustomer",async(t,e)=>{try{const r=await fetch(`${jj}/customer/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dy=L("customers/deleteCustomer",async(t,e)=>{try{const r=await fetch(`${jj}/customer/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$pe=me({name:"customers",initialState:{customers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(wi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wi.fulfilled,(e,r)=>{e.isLoading=!1,e.customers=Array.isArray(r.payload)?r.payload:[]}).addCase(wi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch customers",console.warn("Failed to fetch customer details, using mock data.",e.error),e.customers=_pe}).addCase(Py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers.push(r.payload)}).addCase(Py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add customer",console.error("Failed to add customer:",e.error)}).addCase(B2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(B2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.customers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.customers)||(e.customers=[]),e.customers[n]=r.payload)}).addCase(Dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers=e.customers.filter(n=>n.ID!==r.payload)}).addCase(Dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete customer",console.error("Failed to delete customer:",e.error)})}}),Rpe=$pe.reducer;function Mpe(){const t=ce(),{customers:e,isLoading:r}=W(g=>g.customers),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(wi())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{console.log("Delete customer:",g),d(g),c(!0)},p=async()=>{if(u)try{await t(Dy(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete Individual/Citizen:",g)}},y=g=>{t(i?B2({...g,ID:i.ID}):Py(g)),a(!1)},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"TIN",header:"TIN",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0},{key:"PaymentMethodID",header:"Payment Method",sortable:!0},{key:"TaxCodeID",header:"Tax Code",sortable:!0},{key:"IndustryTypeID",header:"Industry Type",sortable:!0},{key:"ZIPCode",header:"ZIP Code",sortable:!0},{key:"PlaceofIncorporation",header:"Place of Incorporation",sortable:!0},{key:"KindofOrganization",header:"Kind of Organization",sortable:!0},{key:"DateofRegistration",header:"Date of Registration",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Individuals/Citizens"}),s.jsx("p",{children:"Manage Individuals/Citizens"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Individual/Citizen"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No individuals/citizens found. Click 'Add Individual/Citizen' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Individual/Citizen":"Add Individual/Citizen",children:s.jsx(Ipe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the individual/citizen "',u==null?void 0:u.Name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Lpe={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",info:"bg-info-600 text-white hover:bg-info-700 focus:ring-info-500"},Fpe={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function mt({children:t,variant:e="primary",size:r="md",className:n="",disabled:a=!1,type:i="button",onClick:o,...l}){return s.jsx("button",{type:i,className:Oe("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",Lpe[e],Fpe[r],a&&"opacity-50 cursor-not-allowed",n),disabled:a,onClick:o,...l,children:t})}function Bpe({initialData:t,onSubmit:e,onClose:r}){const n=ce(),{customers:a}=W(g=>g.customers);v.useEffect(()=>{n(wi())},[n]);const i=Ze({initialValues:{T_D_No:"",PropertyID:"",OwnerID:"",OwnerTIN:"",OwnerTelephoneNumber:"",OwnerAddress:"",BeneficialorAdminUserID:"",BeneficialorAdminTIN:"",BeneficialorAdminAddress:"",BeneficialorAdminTelephoneNumber:"",OCT_TCT_CLOA_Number:"",SurveyNumber:"",LotNumber:"",CCT:"",BlockNumber:"",Dated:"",North:"",South:"",East:"",West:"",Taxable:!1,CancelTDNumber:"",PreviousAssessedValue:"",KindofProperty:"",Storeys:"",Description:"",ActualUse:"",Classification:"",AssessmentLevel:"",MarketValue:"",AmountInWords:"",Memoranda:"",...t||{}},validationSchema:le({T_D_No:oe().required("TD No. is required"),PropertyID:oe().required("Property ID is required")}),onSubmit:g=>{e({...g,assessmentRows:o})}}),[o,l]=v.useState(()=>{var g;return(g=t==null?void 0:t.AssessmentRows)!=null&&g.length?t.AssessmentRows.map(j=>({...j})):[{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}]}),{values:c,handleChange:u,handleBlur:d,errors:f,touched:m,handleSubmit:h,isSubmitting:p}=i,y=()=>{l([...o,{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}])},x=g=>{if(o.length===1)return;const j=[...o];j.splice(g,1),l(j)},b=(g,j,C)=>{const N=[...o];N[g][j]=C,l(N)};return s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{required:!0,label:"TD No.",name:"T_D_No",type:"number",value:c.T_D_No,onChange:u,onBlur:d,error:f.T_D_No,touched:m.T_D_No}),s.jsx(A,{required:!0,label:"Property Identification No.",name:"PropertyID",type:"number",value:c.PropertyID,onChange:u,onBlur:d,error:f.PropertyID,touched:m.PropertyID})]}),s.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[s.jsx(A,{label:"Owner",name:"OwnerID",type:"select",options:a.map(g=>({value:g.ID,label:g.Name})),value:c.OwnerID,onChange:u,onBlur:d,error:f.OwnerID,touched:m.OwnerID}),s.jsx(A,{label:"TIN",name:"OwnerTIN",type:"number",value:c.OwnerTIN,onChange:u,onBlur:d,error:f.OwnerTIN,touched:m.OwnerTIN}),s.jsx(A,{label:"Owner Telephone No.",name:"OwnerTelephoneNumber",type:"number",value:c.OwnerTelephoneNumber,onChange:u,onBlur:d,error:f.OwnerTelephoneNumber,touched:m.OwnerTelephoneNumber}),s.jsx(A,{label:"Address",name:"OwnerAddress",type:"text",value:c.OwnerAddress,onChange:u,onBlur:d,error:f.OwnerAddress,touched:m.OwnerAddress})]}),s.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[s.jsx(A,{label:"Beneficial/Administrator User",options:a.map(g=>({value:g.ID,label:g.Name})),name:"BeneficialorAdminUserID",type:"select",value:c.BeneficialorAdminUserID,onChange:u,onBlur:d,error:f.BeneficialorAdminUserID,touched:m.BeneficialorAdminUserID}),s.jsx(A,{label:"Beneficial/Admin User TIN",name:"BeneficialorAdminTIN",type:"number",value:c.BeneficialorAdminTIN,onChange:u,onBlur:d,error:f.BeneficialorAdminTIN,touched:m.BeneficialorAdminTIN}),s.jsx(A,{label:"Beneficial/Administrator Telephone No.",name:"BeneficialorAdminTelephoneNumber",type:"number",value:c.BeneficialorAdminTelephoneNumber,onChange:u,onBlur:d,error:f.BeneficialorAdminTelephoneNumber,touched:m.BeneficialorAdminTelephoneNumber}),s.jsx(A,{label:"Beneficial/Administrator Address",name:"BeneficialorAdminAddress",type:"text",value:c.BeneficialorAdminAddress,onChange:u,onBlur:d,error:f.BeneficialorAdminAddress,touched:m.BeneficialorAdminAddress})]}),s.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-300",children:[s.jsx(A,{label:"OCT/TCTCLOA No.",name:"OCT_TCT_CLOA_Number",type:"number",value:c.OCT_TCT_CLOA_Number,onChange:u,onBlur:d,error:f.OCT_TCT_CLOA_Number,touched:m.OCT_TCT_CLOA_Number}),s.jsx(A,{label:"Survey No.",name:"SurveyNumber",type:"number",value:c.SurveyNumber,onChange:u,onBlur:d,error:f.SurveyNumber,touched:m.SurveyNumber}),s.jsx(A,{label:"Lot No.",name:"LotNumber",type:"text",value:c.LotNumber,onChange:u,onBlur:d,error:f.LotNumber,touched:m.LotNumber}),s.jsx(A,{label:"CCT",name:"CCT",type:"text",value:c.CCT,onChange:u,onBlur:d,error:f.CCT,touched:m.CCT}),s.jsx(A,{label:"Block No.",name:"BlockNumber",type:"text",value:c.BlockNumber,onChange:u,onBlur:d,error:f.BlockNumber,touched:m.BlockNumber}),s.jsx(A,{label:"Dated",name:"Dated",type:"date",value:c.Dated,onChange:u,onBlur:d,error:f.Dated,touched:m.Dated})]}),s.jsxs("div",{className:"p-4 border border-gray-300",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Boundaries:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"North",name:"North",type:"text",value:c.North,onChange:u,onBlur:d,error:f.North,touched:m.North}),s.jsx(A,{label:"South",name:"South",type:"text",value:c.South,onChange:u,onBlur:d,error:f.South,touched:m.South}),s.jsx(A,{label:"East",name:"East",type:"text",value:c.East,onChange:u,onBlur:d,error:f.East,touched:m.East}),s.jsx(A,{label:"West",name:"West",type:"text",value:c.West,onChange:u,onBlur:d,error:f.West,touched:m.West})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"Taxable",checked:c.Taxable,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm",children:"Taxable"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"This Declaration cancels TD No."}),s.jsx("select",{name:"CancelTDNumber",value:c.CancelTDNumber,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:s.jsx("option",{value:"",children:"Select TD No."})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Effectivity of Assessment/Reassessment"}),s.jsx("input",{type:"text",name:"Effectivity",value:c.Effectivity,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Owner:"}),s.jsx("input",{type:"text",name:"ownerPrevious",value:c.ownerPrevious,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Previous Assessed Value:"}),s.jsx("input",{type:"number",name:"PreviousAssessedValue",value:c.PreviousAssessedValue,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"p-4 border border-gray-300 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Kind",name:"KindofProperty",type:"text",value:c.KindofProperty,onChange:u,onBlur:d,error:f.KindofProperty,touched:m.KindofProperty}),s.jsx(A,{label:"Number of Storeys",name:"Storeys",type:"number",value:c.Storeys,onChange:u,onBlur:d,error:f.Storeys,touched:m.Storeys})]}),s.jsx(A,{label:"Description",name:"Description",type:"textarea",value:c.Description,onChange:u,onBlur:d,error:f.Description,touched:m.Description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kind:"}),s.jsxs("select",{name:"kind",value:c.kind,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select Kind"}),s.jsx("option",{value:"LAND",children:"LAND"}),s.jsx("option",{value:"BUILDING",children:"BUILDING"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Use:"}),s.jsxs("select",{name:"ActualUse",value:c.ActualUse,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select Use"}),s.jsx("option",{value:"RESIDENTIAL",children:"RESIDENTIAL"}),s.jsx("option",{value:"COMMERCIAL",children:"COMMERCIAL"}),s.jsx("option",{value:"INDUSTRIAL",children:"INDUSTRIAL"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Classification:"}),s.jsxs("select",{name:"Classification",value:c.Classification,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select Classification"}),s.jsx("option",{value:"A",children:"A"}),s.jsx("option",{value:"B",children:"B"}),s.jsx("option",{value:"C",children:"C"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Area Size:"}),s.jsx("input",{type:"text",name:"AreaSize",value:c.AreaSize,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Assessment Level:"}),s.jsx("input",{type:"number",name:"AssessmentLevel",value:c.AssessmentLevel,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Market Value:"}),s.jsx("input",{type:"number",name:"MarketValue",value:c.MarketValue,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"p-4 border border-gray-300",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Details"}),s.jsxs(mt,{type:"button",onClick:y,className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(ga,{className:"w-4 h-4 mr-1"}),"ADD"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsx("tr",{children:["Kind","Classification","Area","Market Value","Actual Use","Assessment Level","Assessment Value","Actions"].map(g=>s.jsx("th",{className:"border border-gray-300 p-2 text-sm",children:g},g))})}),s.jsx("tbody",{children:o.map((g,j)=>s.jsxs("tr",{children:[["Kind","Classification","Area","MarketValue","ActualUse","AssessmentLevel","AssessmentValue"].map(C=>s.jsx("td",{className:"border border-gray-300 p-1",children:s.jsx("input",{type:"text",value:g[C],onChange:N=>b(j,C,N.target.value),className:"w-full p-1 border-0 focus:ring-1 focus:ring-blue-500"})},C)),s.jsx("td",{className:"border border-gray-300 p-1 text-center",children:s.jsx(mt,{type:"button",onClick:()=>x(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:o.length===1,children:s.jsx(Mr,{className:"w-4 h-4"})})})]},j))})]})})]}),s.jsxs("div",{className:"p-4 border border-gray-300",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amounts in Words:"}),s.jsx("textarea",{name:"AmountInWords",value:c.AmountInWords,onChange:u,onBlur:d,rows:"2",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"p-4 border border-gray-300",children:[s.jsx("label",{className:"block text-sm font-medium mb-1 bg-red-100 p-2",children:"Memoranda:"}),s.jsx("textarea",{name:"Memoranda",value:c.Memoranda,onChange:u,onBlur:d,rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":"Save"})]})]})}const wj="https://staging-engine.testthelink.online",qpe=[],Iy=L("taxDeclarations/fetchTaxDeclarations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${wj}/propertyTaxDeclaration`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),_y=L("taxDeclarations/addTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${wj}/propertyTaxDeclaration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),q2=L("taxDeclarations/updateTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${wj}/propertyTaxDeclaration/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),$y=L("taxDeclarations/deleteTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${wj}/propertyTaxDeclaration/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Vpe=me({name:"taxDeclarations",initialState:{taxDeclarations:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Iy.fulfilled,(e,r)=>{e.isLoading=!1,e.taxDeclarations=Array.isArray(r.payload)?r.payload:[]}).addCase(Iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax declarations",console.warn("Failed to fetch tax declarations, using mock data.",e.error),e.taxDeclarations=qpe}).addCase(_y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations.push(r.payload)}).addCase(_y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax declaration",console.error("Failed to add tax declaration:",e.error)}).addCase(q2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(q2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxDeclarations.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations[n]=r.payload)}).addCase($y.pending,e=>{e.isLoading=!0,e.error=null}).addCase($y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations=e.taxDeclarations.filter(n=>n.ID!==r.payload)}).addCase($y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax declaration",console.error("Failed to delete tax declaration:",e.error)})}}),zpe=Vpe.reducer;function Upe(){const t=ce(),{taxDeclarations:e,isLoading:r}=W(g=>g.taxDeclarations),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Iy())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t($y(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete tax declaration:",g)}},y=g=>{t(i?q2({...g,ID:i.ID}):_y(g)),a(!1)},x=[{key:"T_D_No",header:"Tax Declaration No.",sortable:!0},{key:"PropertyID",header:"Property ID",sortable:!0},{key:"OwnerID",header:"Owner ID",sortable:!0},{key:"OwnerTIN",header:"Owner TIN",sortable:!0},{key:"OwnerAddress",header:"Owner Address",sortable:!0},{key:"OwnerTelephoneNumber",header:"Owner Telephone No.",sortable:!0},{key:"BeneficialorAdminUserID",header:"Beneficial/Administrator User",sortable:!0},{key:"BeneficialorAdminTIN",header:"Beneficial/Administrator TIN",sortable:!0},{key:"BeneficialorAdminAddress",header:"Beneficial/Administrator Address",sortable:!0},{key:"BeneficialorAdminTelephoneNumber",header:"Beneficial/Administrator Telephone No.",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Tax Declarations"}),s.jsx("p",{children:"Manage Tax Declarations"})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Declaration"]}),s.jsx(A,{type:"select",name:"year",label:"Year",placeholder:"Select a year",options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"}]})]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No tax declarations found. Click 'Add Tax Declaration' to create one."})}),s.jsx(te,{size:"xl",isOpen:n,onClose:()=>a(!1),title:i?"Edit Tax Declaration":"Add Tax Declaration",children:s.jsx(Bpe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax declaration "',u==null?void 0:u.T_D_No,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Nj="https://staging-engine.testthelink.online",Wpe=[],Ry=L("generalRevisions/fetchGeneralRevisions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Nj}/generalRevision`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),My=L("generalRevisions/addGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Nj}/generalRevision`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),V2=L("generalRevisions/updateGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Nj}/generalRevision/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ly=L("generalRevisions/deleteGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Nj}/generalRevision/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Hpe=me({name:"generalRevisions",initialState:{generalRevisions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ry.fulfilled,(e,r)=>{e.isLoading=!1,e.generalRevisions=Array.isArray(r.payload)?r.payload:[]}).addCase(Ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch general revisions",console.warn("Failed to fetch general revisions, using mock data.",e.error),e.generalRevisions=Wpe}).addCase(My.pending,e=>{e.isLoading=!0,e.error=null}).addCase(My.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions.push(r.payload)}).addCase(My.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add general revision",console.error("Failed to add general revision:",e.error)}).addCase(V2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(V2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalRevisions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions[n]=r.payload)}).addCase(Ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions=e.generalRevisions.filter(n=>n.ID!==r.payload)}).addCase(Ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete general revision",console.error("Failed to delete general revision:",e.error)})}}),Gpe=Hpe.reducer,Ype=({initialData:t,onSubmit:e,onCancel:r,isEdit:n})=>{var u,d,f,m;const a=ce(),{employees:i}=W(h=>h.employees);v.useEffect(()=>{a(Un())},[a]);const o=le().shape({General_Revision_Date_Year:D().required("Required"),GeneralRevisionCode:D().required("Required"),TaxDeclarationCode:D().required("Required")}),l=Ze({initialValues:t||{General_Revision_Date_Year:"",GeneralRevisionCode:"",TaxDeclarationCode:"",CityorMunicipalityAssessor:"",CityorMunicipalityAssistantAssessor:"",ProvincialAssessor:"",ProvincialAssistantAssessor:""},validationSchema:o,onSubmit:h=>{e(h)}}),c=i.map(h=>({id:h.ID,name:`${h.LastName}, ${h.FirstName}`}));return s.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"General Revision Date (Year)",name:"General_Revision_Date_Year",type:"number",value:l.values.General_Revision_Date_Year,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.General_Revision_Date_Year,touched:l.touched.General_Revision_Date_Year,required:!0}),s.jsx(A,{label:"General Revision Code",name:"GeneralRevisionCode",type:"text",value:l.values.GeneralRevisionCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.GeneralRevisionCode,touched:l.touched.GeneralRevisionCode,required:!0})]}),s.jsx(A,{label:"General Revision Tax Declaration Code",name:"TaxDeclarationCode",type:"text",value:l.values.TaxDeclarationCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.TaxDeclarationCode,touched:l.touched.TaxDeclarationCode,required:!0}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(cs,{label:"City Or Municipality Assessor",options:c.map(h=>h.name),placeholder:"Select Assessor",onSelect:h=>{const p=c.find(y=>y.name===h);l.setFieldValue("CityorMunicipalityAssessor",(p==null?void 0:p.id)||"")},selectedValue:((u=c.find(h=>h.id===l.values.CityorMunicipalityAssessor))==null?void 0:u.name)||"",error:l.errors.CityorMunicipalityAssessor,touched:l.touched.CityorMunicipalityAssessor}),s.jsx(cs,{label:"Assistant City Or Municipality Assessor",options:c.map(h=>h.name),placeholder:"Select Assistant Assessor",onSelect:h=>{const p=c.find(y=>y.name===h);l.setFieldValue("CityorMunicipalityAssistantAssessor",(p==null?void 0:p.id)||"")},selectedValue:((d=c.find(h=>h.id===l.values.CityorMunicipalityAssistantAssessor))==null?void 0:d.name)||"",error:l.errors.CityorMunicipalityAssistantAssessor,touched:l.touched.CityorMunicipalityAssistantAssessor}),s.jsx(cs,{label:"Provincial Assessor",options:c.map(h=>h.name),placeholder:"Select Provincial Assessor",onSelect:h=>{const p=c.find(y=>y.name===h);l.setFieldValue("ProvincialAssessor",(p==null?void 0:p.id)||"")},selectedValue:((f=c.find(h=>h.id===l.values.ProvincialAssessor))==null?void 0:f.name)||"",error:l.errors.ProvincialAssessor,touched:l.touched.ProvincialAssessor}),s.jsx(cs,{label:"Assistant Provincial Assessor",options:c.map(h=>h.name),placeholder:"Select Assistant Provincial Assessor",onSelect:h=>{const p=c.find(y=>y.name===h);l.setFieldValue("ProvincialAssistantAssessor",(p==null?void 0:p.id)||"")},selectedValue:((m=c.find(h=>h.id===l.values.ProvincialAssistantAssessor))==null?void 0:m.name)||"",error:l.errors.ProvincialAssistantAssessor,touched:l.touched.ProvincialAssistantAssessor})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})},Kpe=()=>{const t=ce(),{generalRevisions:e,isLoading:r}=W(g=>g.generalRevisions),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState(null);v.useEffect(()=>{t(Ry())},[t]);const f=()=>{c(null),a(!0)},m=g=>{c(g),a(!0)},h=g=>{t(l?V2({...g,ID:l.ID}):My(g)),a(!1)},p=g=>{d(g),o(!0)},y=()=>{u&&(t(Ly(u.ID)),o(!1))},x=[{key:"General_Revision_Date_Year",header:"General Revision Date (Year)",sortable:!0},{key:"GeneralRevisionCode",header:"General Revision Code",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"General Revisions"}),s.jsx("p",{children:"Manage General Revision Records"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Revision"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,actions:b,data:e,loading:r,emptyMessage:"No general revisions found. Click 'Add Revision' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:l?"Edit General Revision":"Add General Revision",size:"lg",children:s.jsx(Ype,{initialData:l,onClose:()=>a(!1),onSubmit:h})}),s.jsxs(te,{isOpen:i,onClose:()=>o(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the revision"," ",s.jsx("strong",{children:u==null?void 0:u.revisionYear}),"?"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})};function Jpe({initialData:t,onSubmit:e,onClose:r}){const n=new Date().getFullYear(),a=le({GeneralRevisionYear:oe().required("General Revision Year is required"),Classification:D().required("Classification is required"),Unit:D().required("Unit is required"),ActualUse:D().required("Actual Use is required"),SubClassification:D().required("Sub Class No is required"),Price:oe().required("Unit Value is required"),Location:D().required("Location or Description is required")}),i=Ze({initialValues:t||{GeneralRevisionYear:n,Classification:"",Unit:"",ActualUse:"",SubClassification:"",Price:"",Location:""},validationSchema:a,onSubmit:c=>{e(c)}}),o=[{value:"AGRICULTURAL",label:"AGRICULTURAL"},{value:"BUILDING",label:"BUILDING"},{value:"COMMERCIAL",label:"COMMERCIAL"},{value:"INDUSTRIAL",label:"INDUSTRIAL"},{value:"RESIDENTIAL",label:"RESIDENTIAL"}],l=()=>{if(!i.values.Classification)return[];const u={AGRICULTURAL:"A",BUILDING:"B",COMMERCIAL:"C",INDUSTRIAL:"I",RESIDENTIAL:"R"}[i.values.Classification];return u?Array.from({length:6},(d,f)=>({value:`${u}${f+1}`,label:`${u}${f+1}`})):[]};return v.useEffect(()=>{if(i.values.Classification&&i.values.SubClassification){const c=i.values.SubClassification.charAt(0),u=i.values.Classification.charAt(0);c!==u&&i.setFieldValue("SubClassification","")}},[i.values.Classification]),s.jsxs("form",{onSubmit:i.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"General Revision Year",name:"GeneralRevisionYear",type:"number",value:i.values.GeneralRevisionYear,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.GeneralRevisionYear,touched:i.touched.GeneralRevisionYear,required:!0}),s.jsx(A,{label:"Classification",name:"Classification",type:"select",options:o,value:i.values.Classification,onChange:c=>{i.handleChange(c),i.setFieldValue("SubClassification","")},onBlur:i.handleBlur,error:i.errors.Classification,touched:i.touched.Classification,required:!0}),s.jsx(A,{label:"Sub Class No.",name:"SubClassification",type:"select",options:l(),value:i.values.SubClassification,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.SubClassification,touched:i.touched.SubClassification,required:!0,disabled:!i.values.Classification}),s.jsx(A,{label:"Unit",name:"Unit",type:"select",options:[{value:"sqm",label:"Square Meter"},{value:"hec",label:"Hectare"}],value:i.values.Unit,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.Unit,touched:i.touched.Unit,required:!0}),s.jsx(A,{label:"Actual Use",name:"ActualUse",type:"text",value:i.values.ActualUse,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.ActualUse,touched:i.touched.ActualUse,required:!0}),s.jsx(A,{label:"Unit Value",name:"Price",type:"number",value:i.values.Price,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.Price,touched:i.touched.Price,required:!0}),s.jsx(A,{label:"Location or Description",name:"Location",type:"textarea",value:i.values.Location,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.Location,touched:i.touched.Location,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i.isSubmitting,children:i.isSubmitting?"Saving...":"Save"})]})]})}const Cj="https://staging-engine.testthelink.online",Xpe=[],Fy=L("baseUnits/fetchBaseUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Cj}/scheduleofBaseunitMarketValue`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),By=L("baseUnits/addBaseUnit",async(t,e)=>{try{const r=await fetch(`${Cj}/scheduleofBaseunitMarketValue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),z2=L("baseUnits/updateBaseUnit",async(t,e)=>{try{const r=await fetch(`${Cj}/scheduleofBaseunitMarketValue/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),qy=L("baseUnits/deleteBaseUnit",async(t,e)=>{try{const r=await fetch(`${Cj}/scheduleofBaseunitMarketValue/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Zpe=me({name:"baseUnits",initialState:{baseUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fy.fulfilled,(e,r)=>{e.isLoading=!1,e.baseUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(Fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch base units",console.warn("Failed to fetch base units, using mock data.",e.error),e.baseUnits=Xpe}).addCase(By.pending,e=>{e.isLoading=!0,e.error=null}).addCase(By.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits.push(r.payload)}).addCase(By.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add base unit",console.error("Failed to add base unit:",e.error)}).addCase(z2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(z2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.baseUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits[n]=r.payload)}).addCase(qy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits=e.baseUnits.filter(n=>n.ID!==r.payload)}).addCase(qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete base unit",console.error("Failed to delete base unit:",e.error)})}}),Qpe=Zpe.reducer;function ege(){const t=ce(),{baseUnits:e,isLoading:r}=W(g=>g.baseUnits),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Fy())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(qy(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete base unit:",g)}},y=g=>{t(i?z2({...g,ID:i.ID}):By(g)),a(!1)},x=[{key:"GeneralRevisionYear",header:"General Revision Year",sortable:!0},{key:"Classification",header:"Classification",sortable:!0},{key:"Location",header:"Location",sortable:!0},{key:"Unit",header:"Unit",sortable:!0},{key:"ActualUse",header:"Actual Use",sortable:!0},{key:"SubClassification",header:"Sub Classification",sortable:!0},{key:"Price",header:"Sub Classification",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Base Units"}),s.jsx("p",{children:"Manage Base Units"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Base Unit"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No base units found. Click 'Add Base Unit' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Base Unit":"Add Base Unit",children:s.jsx(Jpe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the base unit "',u==null?void 0:u.Name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Qo(t){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(t)}function tge(t,e){if(Qo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eV(t){var e=tge(t,"string");return Qo(e)=="symbol"?e:e+""}function yd(t,e,r){return(e=eV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o$(Object(r),!0).forEach(function(n){yd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rge(t){if(Array.isArray(t))return t}function nge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function U2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tV(t,e){if(t){if(typeof t=="string")return U2(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U2(t,e):void 0}}function age(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gs(t,e){return rge(t)||nge(t,e)||tV(t,e)||age()}function sge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ms(t,e){if(t==null)return{};var r,n,a=sge(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var ige=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function oge(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,i=t.defaultValue,o=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,m=t.onMenuOpen,h=t.value,p=Ms(t,ige),y=v.useState(l!==void 0?l:r),x=gs(y,2),b=x[0],g=x[1],j=v.useState(c!==void 0?c:a),C=gs(j,2),N=C[0],w=C[1],S=v.useState(h!==void 0?h:o),T=gs(S,2),k=T[0],E=T[1],O=v.useCallback(function(R,_){typeof u=="function"&&u(R,_),E(R)},[u]),M=v.useCallback(function(R,_){var B;typeof d=="function"&&(B=d(R,_)),g(B!==void 0?B:R)},[d]),I=v.useCallback(function(){typeof m=="function"&&m(),w(!0)},[m]),V=v.useCallback(function(){typeof f=="function"&&f(),w(!1)},[f]),P=l!==void 0?l:b,F=c!==void 0?c:N,U=h!==void 0?h:k;return Ae(Ae({},p),{},{inputValue:P,menuIsOpen:F,onChange:O,onInputChange:M,onMenuClose:V,onMenuOpen:I,value:U})}function ke(){return ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ke.apply(null,arguments)}function lge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eV(n.key),n)}}function cge(t,e,r){return e&&l$(t.prototype,e),r&&l$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function W2(t,e){return W2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},W2(t,e)}function uge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W2(t,e)}function Ob(t){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ob(t)}function rV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!t})()}function dge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fge(t,e){if(e&&(Qo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dge(t)}function mge(t){var e=rV();return function(){var r,n=Ob(t);if(e){var a=Ob(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return fge(this,r)}}function hge(t){if(Array.isArray(t))return U2(t)}function pge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _E(t){return hge(t)||pge(t)||tV(t)||gge()}function yge(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function xge(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var bge=function(){function t(r){var n=this;this._insertTag=function(a){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,i),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(xge(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=yge(a);try{i.insertRule(n,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Tr="-ms-",Pb="-moz-",et="-webkit-",nV="comm",$E="rule",RE="decl",vge="@import",aV="@keyframes",jge="@layer",wge=Math.abs,Sj=String.fromCharCode,Nge=Object.assign;function Cge(t,e){return vr(t,0)^45?(((e<<2^vr(t,0))<<2^vr(t,1))<<2^vr(t,2))<<2^vr(t,3):0}function sV(t){return t.trim()}function Sge(t,e){return(t=e.exec(t))?t[0]:t}function tt(t,e,r){return t.replace(e,r)}function H2(t,e){return t.indexOf(e)}function vr(t,e){return t.charCodeAt(e)|0}function Bf(t,e,r){return t.slice(e,r)}function Sa(t){return t.length}function ME(t){return t.length}function Wh(t,e){return e.push(t),t}function Age(t,e){return t.map(e).join("")}var Aj=1,Dc=1,iV=0,rn=0,er=0,du="";function Tj(t,e,r,n,a,i,o){return{value:t,root:e,parent:r,type:n,props:a,children:i,line:Aj,column:Dc,length:o,return:""}}function Vu(t,e){return Nge(Tj("",null,null,"",null,null,0),t,{length:-t.length},e)}function Tge(){return er}function kge(){return er=rn>0?vr(du,--rn):0,Dc--,er===10&&(Dc=1,Aj--),er}function xn(){return er=rn<iV?vr(du,rn++):0,Dc++,er===10&&(Dc=1,Aj++),er}function Ma(){return vr(du,rn)}function Vy(){return rn}function Um(t,e){return Bf(du,t,e)}function qf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oV(t){return Aj=Dc=1,iV=Sa(du=t),rn=0,[]}function lV(t){return du="",t}function zy(t){return sV(Um(rn-1,G2(t===91?t+2:t===40?t+1:t)))}function Ege(t){for(;(er=Ma())&&er<33;)xn();return qf(t)>2||qf(er)>3?"":" "}function Oge(t,e){for(;--e&&xn()&&!(er<48||er>102||er>57&&er<65||er>70&&er<97););return Um(t,Vy()+(e<6&&Ma()==32&&xn()==32))}function G2(t){for(;xn();)switch(er){case t:return rn;case 34:case 39:t!==34&&t!==39&&G2(er);break;case 40:t===41&&G2(t);break;case 92:xn();break}return rn}function Pge(t,e){for(;xn()&&t+er!==57;)if(t+er===84&&Ma()===47)break;return"/*"+Um(e,rn-1)+"*"+Sj(t===47?t:xn())}function Dge(t){for(;!qf(Ma());)xn();return Um(t,rn)}function Ige(t){return lV(Uy("",null,null,null,[""],t=oV(t),0,[0],t))}function Uy(t,e,r,n,a,i,o,l,c){for(var u=0,d=0,f=o,m=0,h=0,p=0,y=1,x=1,b=1,g=0,j="",C=a,N=i,w=n,S=j;x;)switch(p=g,g=xn()){case 40:if(p!=108&&vr(S,f-1)==58){H2(S+=tt(zy(g),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:S+=zy(g);break;case 9:case 10:case 13:case 32:S+=Ege(p);break;case 92:S+=Oge(Vy()-1,7);continue;case 47:switch(Ma()){case 42:case 47:Wh(_ge(Pge(xn(),Vy()),e,r),c);break;default:S+="/"}break;case 123*y:l[u++]=Sa(S)*b;case 125*y:case 59:case 0:switch(g){case 0:case 125:x=0;case 59+d:b==-1&&(S=tt(S,/\f/g,"")),h>0&&Sa(S)-f&&Wh(h>32?u$(S+";",n,r,f-1):u$(tt(S," ","")+";",n,r,f-2),c);break;case 59:S+=";";default:if(Wh(w=c$(S,e,r,u,d,a,l,j,C=[],N=[],f),i),g===123)if(d===0)Uy(S,e,w,w,C,i,f,l,N);else switch(m===99&&vr(S,3)===110?100:m){case 100:case 108:case 109:case 115:Uy(t,w,w,n&&Wh(c$(t,w,w,0,0,a,l,j,a,C=[],f),N),a,N,f,l,n?C:N);break;default:Uy(S,w,w,w,[""],N,0,l,N)}}u=d=h=0,y=b=1,j=S="",f=o;break;case 58:f=1+Sa(S),h=p;default:if(y<1){if(g==123)--y;else if(g==125&&y++==0&&kge()==125)continue}switch(S+=Sj(g),g*y){case 38:b=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(Sa(S)-1)*b,b=1;break;case 64:Ma()===45&&(S+=zy(xn())),m=Ma(),d=f=Sa(j=S+=Dge(Vy())),g++;break;case 45:p===45&&Sa(S)==2&&(y=0)}}return i}function c$(t,e,r,n,a,i,o,l,c,u,d){for(var f=a-1,m=a===0?i:[""],h=ME(m),p=0,y=0,x=0;p<n;++p)for(var b=0,g=Bf(t,f+1,f=wge(y=o[p])),j=t;b<h;++b)(j=sV(y>0?m[b]+" "+g:tt(g,/&\f/g,m[b])))&&(c[x++]=j);return Tj(t,e,r,a===0?$E:l,c,u,d)}function _ge(t,e,r){return Tj(t,e,r,nV,Sj(Tge()),Bf(t,2,-2),0)}function u$(t,e,r,n){return Tj(t,e,r,RE,Bf(t,0,n),Bf(t,n+1,-1),n)}function pc(t,e){for(var r="",n=ME(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function $ge(t,e,r,n){switch(t.type){case jge:if(t.children.length)break;case vge:case RE:return t.return=t.return||t.value;case nV:return"";case aV:return t.return=t.value+"{"+pc(t.children,n)+"}";case $E:t.value=t.props.join(",")}return Sa(r=pc(t.children,n))?t.return=t.value+"{"+r+"}":""}function Rge(t){var e=ME(t);return function(r,n,a,i){for(var o="",l=0;l<e;l++)o+=t[l](r,n,a,i)||"";return o}}function Mge(t){return function(e){e.root||(e=e.return)&&t(e)}}function Lge(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Fge=function(e,r,n){for(var a=0,i=0;a=i,i=Ma(),a===38&&i===12&&(r[n]=1),!qf(i);)xn();return Um(e,rn)},Bge=function(e,r){var n=-1,a=44;do switch(qf(a)){case 0:a===38&&Ma()===12&&(r[n]=1),e[n]+=Fge(rn-1,r,n);break;case 2:e[n]+=zy(a);break;case 4:if(a===44){e[++n]=Ma()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Sj(a)}while(a=xn());return e},qge=function(e,r){return lV(Bge(oV(e),r))},d$=new WeakMap,Vge=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!d$.get(n))&&!a){d$.set(e,!0);for(var i=[],o=qge(r,i),l=n.props,c=0,u=0;c<o.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=i[c]?o[c].replace(/&\f/g,l[d]):l[d]+" "+o[c]}}},zge=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function cV(t,e){switch(Cge(t,e)){case 5103:return et+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return et+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return et+t+Pb+t+Tr+t+t;case 6828:case 4268:return et+t+Tr+t+t;case 6165:return et+t+Tr+"flex-"+t+t;case 5187:return et+t+tt(t,/(\w+).+(:[^]+)/,et+"box-$1$2"+Tr+"flex-$1$2")+t;case 5443:return et+t+Tr+"flex-item-"+tt(t,/flex-|-self/,"")+t;case 4675:return et+t+Tr+"flex-line-pack"+tt(t,/align-content|flex-|-self/,"")+t;case 5548:return et+t+Tr+tt(t,"shrink","negative")+t;case 5292:return et+t+Tr+tt(t,"basis","preferred-size")+t;case 6060:return et+"box-"+tt(t,"-grow","")+et+t+Tr+tt(t,"grow","positive")+t;case 4554:return et+tt(t,/([^-])(transform)/g,"$1"+et+"$2")+t;case 6187:return tt(tt(tt(t,/(zoom-|grab)/,et+"$1"),/(image-set)/,et+"$1"),t,"")+t;case 5495:case 3959:return tt(t,/(image-set\([^]*)/,et+"$1$`$1");case 4968:return tt(tt(t,/(.+:)(flex-)?(.*)/,et+"box-pack:$3"+Tr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+et+t+t;case 4095:case 3583:case 4068:case 2532:return tt(t,/(.+)-inline(.+)/,et+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sa(t)-1-e>6)switch(vr(t,e+1)){case 109:if(vr(t,e+4)!==45)break;case 102:return tt(t,/(.+:)(.+)-([^]+)/,"$1"+et+"$2-$3$1"+Pb+(vr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~H2(t,"stretch")?cV(tt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(vr(t,e+1)!==115)break;case 6444:switch(vr(t,Sa(t)-3-(~H2(t,"!important")&&10))){case 107:return tt(t,":",":"+et)+t;case 101:return tt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+et+(vr(t,14)===45?"inline-":"")+"box$3$1"+et+"$2$3$1"+Tr+"$2box$3")+t}break;case 5936:switch(vr(t,e+11)){case 114:return et+t+Tr+tt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return et+t+Tr+tt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return et+t+Tr+tt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return et+t+Tr+t+t}return t}var Uge=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case RE:e.return=cV(e.value,e.length);break;case aV:return pc([Vu(e,{value:tt(e.value,"@","@"+et)})],a);case $E:if(e.length)return Age(e.props,function(i){switch(Sge(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return pc([Vu(e,{props:[tt(i,/:(read-\w+)/,":"+Pb+"$1")]})],a);case"::placeholder":return pc([Vu(e,{props:[tt(i,/:(plac\w+)/,":"+et+"input-$1")]}),Vu(e,{props:[tt(i,/:(plac\w+)/,":"+Pb+"$1")]}),Vu(e,{props:[tt(i,/:(plac\w+)/,Tr+"input-$1")]})],a)}return""})}},Wge=[Uge],Hge=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var a=e.stylisPlugins||Wge,i={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),b=1;b<x.length;b++)i[x[b]]=!0;l.push(y)});var c,u=[Vge,zge];{var d,f=[$ge,Mge(function(y){d.insert(y)})],m=Rge(u.concat(a,f)),h=function(x){return pc(Ige(x),m)};c=function(x,b,g,j){d=g,h(x?x+"{"+b.styles+"}":b.styles),j&&(p.inserted[b.name]=!0)}}var p={key:r,sheet:new bge({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return p.sheet.hydrate(l),p},Gge=!0;function Yge(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var uV=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||Gge===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},Kge=function(e,r,n){uV(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var i=r;do e.insert(r===i?"."+a:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Jge(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Xge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zge=/[A-Z]|^ms/g,Qge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dV=function(e){return e.charCodeAt(1)===45},f$=function(e){return e!=null&&typeof e!="boolean"},GN=Lge(function(t){return dV(t)?t:t.replace(Zge,"-$&").toLowerCase()}),m$=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Qge,function(n,a,i){return Aa={name:a,styles:i,next:Aa},a})}return Xge[e]!==1&&!dV(e)&&typeof r=="number"&&r!==0?r+"px":r};function Vf(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Aa={name:a.name,styles:a.styles,next:Aa},a.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Aa={name:o.name,styles:o.styles,next:Aa},o=o.next;var l=i.styles+";";return l}return eye(t,e,r)}case"function":{if(t!==void 0){var c=Aa,u=r(t);return Aa=c,Vf(t,e,u)}break}}var d=r;return d}function eye(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Vf(t,e,r[a])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;f$(l)&&(n+=GN(i)+":"+m$(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var c=0;c<o.length;c++)f$(o[c])&&(n+=GN(i)+":"+m$(i,o[c])+";");else{var u=Vf(t,e,o);switch(i){case"animation":case"animationName":{n+=GN(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}return n}var h$=/label:\s*([^\s;{]+)\s*(;|$)/g,Aa;function fV(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";Aa=void 0;var i=t[0];if(i==null||i.raw===void 0)n=!1,a+=Vf(r,e,i);else{var o=i;a+=o[0]}for(var l=1;l<t.length;l++)if(a+=Vf(r,e,t[l]),n){var c=i;a+=c[l]}h$.lastIndex=0;for(var u="",d;(d=h$.exec(a))!==null;)u+="-"+d[1];var f=Jge(a)+u;return{name:f,styles:a,next:Aa}}var tye=function(e){return e()},rye=Ci.useInsertionEffect?Ci.useInsertionEffect:!1,nye=rye||tye,mV=v.createContext(typeof HTMLElement<"u"?Hge({key:"css"}):null);mV.Provider;var aye=function(e){return v.forwardRef(function(r,n){var a=v.useContext(mV);return e(r,a,n)})},sye=v.createContext({}),LE={}.hasOwnProperty,Y2="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",iye=function(e,r){var n={};for(var a in r)LE.call(r,a)&&(n[a]=r[a]);return n[Y2]=e,n},oye=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return uV(r,n,a),nye(function(){return Kge(r,n,a)}),null},lye=aye(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[Y2],i=[n],o="";typeof t.className=="string"?o=Yge(e.registered,i,t.className):t.className!=null&&(o=t.className+" ");var l=fV(i,void 0,v.useContext(sye));o+=e.key+"-"+l.name;var c={};for(var u in t)LE.call(t,u)&&u!=="css"&&u!==Y2&&(c[u]=t[u]);return c.className=o,r&&(c.ref=r),v.createElement(v.Fragment,null,v.createElement(oye,{cache:e,serialized:l,isStringTag:typeof a=="string"}),v.createElement(a,c))}),cye=lye,Ce=function(e,r){var n=arguments;if(r==null||!LE.call(r,"css"))return v.createElement.apply(void 0,n);var a=n.length,i=new Array(a);i[0]=cye,i[1]=iye(e,r);for(var o=2;o<a;o++)i[o]=n[o];return v.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ce||(Ce={}));function FE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return fV(e)}function uye(){var t=FE.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function dye(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const fye=Math.min,mye=Math.max,Db=Math.round,Hh=Math.floor,Ib=t=>({x:t,y:t});function hye(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function kj(){return typeof window<"u"}function hV(t){return gV(t)?(t.nodeName||"").toLowerCase():"#document"}function Ts(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pV(t){var e;return(e=(gV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function gV(t){return kj()?t instanceof Node||t instanceof Ts(t).Node:!1}function pye(t){return kj()?t instanceof Element||t instanceof Ts(t).Element:!1}function BE(t){return kj()?t instanceof HTMLElement||t instanceof Ts(t).HTMLElement:!1}function p$(t){return!kj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ts(t).ShadowRoot}function yV(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=qE(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function gye(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yye(t){return["html","body","#document"].includes(hV(t))}function qE(t){return Ts(t).getComputedStyle(t)}function xye(t){if(hV(t)==="html")return t;const e=t.assignedSlot||t.parentNode||p$(t)&&t.host||pV(t);return p$(e)?e.host:e}function xV(t){const e=xye(t);return yye(e)?t.ownerDocument?t.ownerDocument.body:t.body:BE(e)&&yV(e)?e:xV(e)}function _b(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=xV(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),o=Ts(a);if(i){const l=K2(o);return e.concat(o,o.visualViewport||[],yV(a)?a:[],l&&r?_b(l):[])}return e.concat(a,_b(a,[],r))}function K2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bye(t){const e=qE(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=BE(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:n,l=Db(r)!==i||Db(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function VE(t){return pye(t)?t:t.contextElement}function g$(t){const e=VE(t);if(!BE(e))return Ib(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=bye(e);let o=(i?Db(r.width):r.width)/n,l=(i?Db(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vye=Ib(0);function jye(t){const e=Ts(t);return!gye()||!e.visualViewport?vye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wye(t,e,r){return!1}function y$(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),i=VE(t);let o=Ib(1);e&&(o=g$(t));const l=wye()?jye(i):Ib(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const m=Ts(i),h=n;let p=m,y=K2(p);for(;y&&n&&h!==p;){const x=g$(y),b=y.getBoundingClientRect(),g=qE(y),j=b.left+(y.clientLeft+parseFloat(g.paddingLeft))*x.x,C=b.top+(y.clientTop+parseFloat(g.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=j,u+=C,p=Ts(y),y=K2(p)}}return hye({width:d,height:f,x:c,y:u})}function bV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Nye(t,e){let r=null,n;const a=pV(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||e(),!m||!h)return;const p=Hh(f),y=Hh(a.clientWidth-(d+m)),x=Hh(a.clientHeight-(f+h)),b=Hh(d),j={rootMargin:-p+"px "+-y+"px "+-x+"px "+-b+"px",threshold:mye(0,fye(1,c))||1};let C=!0;function N(w){const S=w[0].intersectionRatio;if(S!==c){if(!C)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!bV(u,t.getBoundingClientRect())&&o(),C=!1}try{r=new IntersectionObserver(N,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,j)}r.observe(t)}return o(!0),i}function Cye(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=VE(t),d=a||i?[...u?_b(u):[],..._b(e)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?Nye(u,r):null;let m=-1,h=null;o&&(h=new ResizeObserver(b=>{let[g]=b;g&&g.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=h)==null||j.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let p,y=c?y$(t):null;c&&x();function x(){const b=y$(t);y&&!bV(y,b)&&r(),y=b,p=requestAnimationFrame(x)}return r(),()=>{var b;d.forEach(g=>{a&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),f==null||f(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(p)}}var J2=v.useLayoutEffect,Sye=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],$b=function(){};function Aye(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Tye(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var i=[].concat(n);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&i.push("".concat(Aye(t,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var x$=function(e){return Rye(e)?e.filter(Boolean):Qo(e)==="object"&&e!==null?[e]:[]},vV=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Ms(e,Sye);return Ae({},r)},Gt=function(e,r,n){var a=e.cx,i=e.getStyles,o=e.getClassNames,l=e.className;return{css:i(r,e),className:a(n??{},o(r,e),l)}};function Ej(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function kye(t){return Ej(t)?window.innerHeight:t.clientHeight}function jV(t){return Ej(t)?window.pageYOffset:t.scrollTop}function Rb(t,e){if(Ej(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Eye(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function Oye(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function Gh(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$b,a=jV(t),i=e-a,o=10,l=0;function c(){l+=o;var u=Oye(l,a,i,r);Rb(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function b$(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?Rb(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&Rb(t,Math.max(e.offsetTop-a,0))}function Pye(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function v$(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Dye(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var wV=!1,Iye={get passive(){return wV=!0}},Yh=typeof window<"u"?window:{};Yh.addEventListener&&Yh.removeEventListener&&(Yh.addEventListener("p",$b,Iye),Yh.removeEventListener("p",$b,!1));var _ye=wV;function $ye(t){return t!=null}function Rye(t){return Array.isArray(t)}function Kh(t,e,r){return t?e:r}var Mye=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i=Object.entries(e).filter(function(o){var l=gs(o,1),c=l[0];return!n.includes(c)});return i.reduce(function(o,l){var c=gs(l,2),u=c[0],d=c[1];return o[u]=d,o},{})},Lye=["children","innerProps"],Fye=["children","innerProps"];function Bye(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,i=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,c=Eye(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,m=r.getBoundingClientRect(),h=m.bottom,p=m.height,y=m.top,x=r.offsetParent.getBoundingClientRect(),b=x.top,g=o?window.innerHeight:kye(c),j=jV(c),C=parseInt(getComputedStyle(r).marginBottom,10),N=parseInt(getComputedStyle(r).marginTop,10),w=b-N,S=g-y,T=w+j,k=f-j-y,E=h-g+j+C,O=j+y-N,M=160;switch(a){case"auto":case"bottom":if(S>=p)return{placement:"bottom",maxHeight:e};if(k>=p&&!o)return i&&Gh(c,E,M),{placement:"bottom",maxHeight:e};if(!o&&k>=n||o&&S>=n){i&&Gh(c,E,M);var I=o?S-C:k-C;return{placement:"bottom",maxHeight:I}}if(a==="auto"||o){var V=e,P=o?w:T;return P>=n&&(V=Math.min(P-C-l,e)),{placement:"top",maxHeight:V}}if(a==="bottom")return i&&Rb(c,E),{placement:"bottom",maxHeight:e};break;case"top":if(w>=p)return{placement:"top",maxHeight:e};if(T>=p&&!o)return i&&Gh(c,O,M),{placement:"top",maxHeight:e};if(!o&&T>=n||o&&w>=n){var F=e;return(!o&&T>=n||o&&w>=n)&&(F=o?w-N:T-N),i&&Gh(c,O,M),{placement:"top",maxHeight:F}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function qye(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var NV=function(e){return e==="auto"?"bottom":e},Vye=function(e,r){var n,a=e.placement,i=e.theme,o=i.borderRadius,l=i.spacing,c=i.colors;return Ae((n={label:"menu"},yd(n,qye(a),"100%"),yd(n,"position","absolute"),yd(n,"width","100%"),yd(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},CV=v.createContext(null),zye=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=v.useContext(CV)||{},d=u.setPortalPlacement,f=v.useRef(null),m=v.useState(a),h=gs(m,2),p=h[0],y=h[1],x=v.useState(null),b=gs(x,2),g=b[0],j=b[1],C=c.spacing.controlHeight;return J2(function(){var N=f.current;if(N){var w=o==="fixed",S=l&&!w,T=Bye({maxHeight:a,menuEl:N,minHeight:n,placement:i,shouldScroll:S,isFixedPosition:w,controlHeight:C});y(T.maxHeight),j(T.placement),d==null||d(T.placement)}},[a,i,o,l,n,d,C]),r({ref:f,placerProps:Ae(Ae({},e),{},{placement:g||NV(i),maxHeight:p})})},Uye=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return Ce("div",ke({},Gt(e,"menu",{menu:!0}),{ref:n},a),r)},Wye=Uye,Hye=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Ae({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},Gye=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,i=e.isMulti;return Ce("div",ke({},Gt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:a},n),r)},SV=function(e,r){var n=e.theme,a=n.spacing.baseUnit,i=n.colors;return Ae({textAlign:"center"},r?{}:{color:i.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},Yye=SV,Kye=SV,Jye=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,i=Ms(e,Lye);return Ce("div",ke({},Gt(Ae(Ae({},i),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},Xye=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,i=Ms(e,Fye);return Ce("div",ke({},Gt(Ae(Ae({},i),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},Zye=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},Qye=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,i=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=v.useRef(null),u=v.useRef(null),d=v.useState(NV(o)),f=gs(d,2),m=f[0],h=f[1],p=v.useMemo(function(){return{setPortalPlacement:h}},[]),y=v.useState(null),x=gs(y,2),b=x[0],g=x[1],j=v.useCallback(function(){if(a){var S=Pye(a),T=l==="fixed"?0:window.pageYOffset,k=S[m]+T;(k!==(b==null?void 0:b.offset)||S.left!==(b==null?void 0:b.rect.left)||S.width!==(b==null?void 0:b.rect.width))&&g({offset:k,rect:S})}},[a,l,m,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);J2(function(){j()},[j]);var C=v.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=Cye(a,c.current,j,{elementResize:"ResizeObserver"in window}))},[a,j]);J2(function(){C()},[C]);var N=v.useCallback(function(S){c.current=S,C()},[C]);if(!r&&l!=="fixed"||!b)return null;var w=Ce("div",ke({ref:N},Gt(Ae(Ae({},e),{},{offset:b.offset,position:l,rect:b.rect}),"menuPortal",{"menu-portal":!0}),i),n);return Ce(CV.Provider,{value:p},r?Y0.createPortal(w,r):w)},exe=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},txe=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,i=e.isRtl;return Ce("div",ke({},Gt(e,"container",{"--is-disabled":a,"--is-rtl":i}),n),r)},rxe=function(e,r){var n=e.theme.spacing,a=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Ae({alignItems:"center",display:a&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},nxe=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,i=e.hasValue;return Ce("div",ke({},Gt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":i}),n),r)},axe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},sxe=function(e){var r=e.children,n=e.innerProps;return Ce("div",ke({},Gt(e,"indicatorsContainer",{indicators:!0}),n),r)},j$,ixe=["size"],oxe=["innerProps","isRtl","size"],lxe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},AV=function(e){var r=e.size,n=Ms(e,ixe);return Ce("svg",ke({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:lxe},n))},zE=function(e){return Ce(AV,ke({size:20},e),Ce("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},TV=function(e){return Ce(AV,ke({size:20},e),Ce("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},kV=function(e,r){var n=e.isFocused,a=e.theme,i=a.spacing.baseUnit,o=a.colors;return Ae({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:i*2,":hover":{color:n?o.neutral80:o.neutral40}})},cxe=kV,uxe=function(e){var r=e.children,n=e.innerProps;return Ce("div",ke({},Gt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Ce(TV,null))},dxe=kV,fxe=function(e){var r=e.children,n=e.innerProps;return Ce("div",ke({},Gt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Ce(zE,null))},mxe=function(e,r){var n=e.isDisabled,a=e.theme,i=a.spacing.baseUnit,o=a.colors;return Ae({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},hxe=function(e){var r=e.innerProps;return Ce("span",ke({},r,Gt(e,"indicatorSeparator",{"indicator-separator":!0})))},pxe=uye(j$||(j$=dye([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),gxe=function(e,r){var n=e.isFocused,a=e.size,i=e.theme,o=i.colors,l=i.spacing.baseUnit;return Ae({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},YN=function(e){var r=e.delay,n=e.offset;return Ce("span",{css:FE({animation:"".concat(pxe," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},yxe=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,i=a===void 0?4:a,o=Ms(e,oxe);return Ce("div",ke({},Gt(Ae(Ae({},o),{},{innerProps:r,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Ce(YN,{delay:0,offset:n}),Ce(YN,{delay:160,offset:!0}),Ce(YN,{delay:320,offset:!n}))},xxe=function(e,r){var n=e.isDisabled,a=e.isFocused,i=e.theme,o=i.colors,l=i.borderRadius,c=i.spacing;return Ae({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:a?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:a?o.primary:o.neutral30}})},bxe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,i=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return Ce("div",ke({ref:i},Gt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},vxe=bxe,jxe=["data"],wxe=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},Nxe=function(e){var r=e.children,n=e.cx,a=e.getStyles,i=e.getClassNames,o=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Ce("div",ke({},Gt(e,"group",{group:!0}),c),Ce(o,ke({},l,{selectProps:f,theme:d,getStyles:a,getClassNames:i,cx:n}),u),Ce("div",null,r))},Cxe=function(e,r){var n=e.theme,a=n.colors,i=n.spacing;return Ae({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},Sxe=function(e){var r=vV(e);r.data;var n=Ms(r,jxe);return Ce("div",ke({},Gt(e,"groupHeading",{"group-heading":!0}),n))},Axe=Nxe,Txe=["innerRef","isDisabled","isHidden","inputClassName"],kxe=function(e,r){var n=e.isDisabled,a=e.value,i=e.theme,o=i.spacing,l=i.colors;return Ae(Ae({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},Exe),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},EV={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Exe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ae({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},EV)},Oxe=function(e){return Ae({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},EV)},Pxe=function(e){var r=e.cx,n=e.value,a=vV(e),i=a.innerRef,o=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=Ms(a,Txe);return Ce("div",ke({},Gt(e,"input",{"input-container":!0}),{"data-value":n||""}),Ce("input",ke({className:r({input:!0},c),ref:i,style:Oxe(l),disabled:o},u)))},Dxe=Pxe,Ixe=function(e,r){var n=e.theme,a=n.spacing,i=n.borderRadius,o=n.colors;return Ae({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:a.baseUnit/2})},_xe=function(e,r){var n=e.theme,a=n.borderRadius,i=n.colors,o=e.cropWithEllipsis;return Ae({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},$xe=function(e,r){var n=e.theme,a=n.spacing,i=n.borderRadius,o=n.colors,l=e.isFocused;return Ae({alignItems:"center",display:"flex"},r?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},OV=function(e){var r=e.children,n=e.innerProps;return Ce("div",n,r)},Rxe=OV,Mxe=OV;function Lxe(t){var e=t.children,r=t.innerProps;return Ce("div",ke({role:"button"},r),e||Ce(zE,{size:14}))}var Fxe=function(e){var r=e.children,n=e.components,a=e.data,i=e.innerProps,o=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,d=n.Label,f=n.Remove;return Ce(u,{data:a,innerProps:Ae(Ae({},Gt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:c},Ce(d,{data:a,innerProps:Ae({},Gt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Ce(f,{data:a,innerProps:Ae(Ae({},Gt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},Bxe=Fxe,qxe=function(e,r){var n=e.isDisabled,a=e.isFocused,i=e.isSelected,o=e.theme,l=o.spacing,c=o.colors;return Ae({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:i?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:i?c.primary:c.primary50}})},Vxe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,i=e.isSelected,o=e.innerRef,l=e.innerProps;return Ce("div",ke({},Gt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":i}),{ref:o,"aria-disabled":n},l),r)},zxe=Vxe,Uxe=function(e,r){var n=e.theme,a=n.spacing,i=n.colors;return Ae({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:i.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},Wxe=function(e){var r=e.children,n=e.innerProps;return Ce("div",ke({},Gt(e,"placeholder",{placeholder:!0}),n),r)},Hxe=Wxe,Gxe=function(e,r){var n=e.isDisabled,a=e.theme,i=a.spacing,o=a.colors;return Ae({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Yxe=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return Ce("div",ke({},Gt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},Kxe=Yxe,Jxe={ClearIndicator:fxe,Control:vxe,DropdownIndicator:uxe,DownChevron:TV,CrossIcon:zE,Group:Axe,GroupHeading:Sxe,IndicatorsContainer:sxe,IndicatorSeparator:hxe,Input:Dxe,LoadingIndicator:yxe,Menu:Wye,MenuList:Gye,MenuPortal:Qye,LoadingMessage:Xye,NoOptionsMessage:Jye,MultiValue:Bxe,MultiValueContainer:Rxe,MultiValueLabel:Mxe,MultiValueRemove:Lxe,Option:zxe,Placeholder:Hxe,SelectContainer:txe,SingleValue:Kxe,ValueContainer:nxe},Xxe=function(e){return Ae(Ae({},Jxe),e.components)},w$=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Zxe(t,e){return!!(t===e||w$(t)&&w$(e))}function Qxe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Zxe(t[r],e[r]))return!1;return!0}function ebe(t,e){e===void 0&&(e=Qxe);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var o=t.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}var tbe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},rbe=function(e){return Ce("span",ke({css:tbe},e))},N$=rbe,nbe={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,i=e.labels,o=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,i=e.label,o=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(y,x){return y&&y.length?"".concat(y.indexOf(x)+1," of ").concat(y.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(f(l,n),".");if(r==="menu"&&d){var m=c?" disabled":"",h="".concat(u?" selected":"").concat(m);return"".concat(o).concat(h,", ").concat(f(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},abe=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,i=e.focusableOptions,o=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,m=c.getOptionLabel,h=c.inputValue,p=c.isMulti,y=c.isOptionDisabled,x=c.isSearchable,b=c.menuIsOpen,g=c.options,j=c.screenReaderStatus,C=c.tabSelectsValue,N=c.isLoading,w=c["aria-label"],S=c["aria-live"],T=v.useMemo(function(){return Ae(Ae({},nbe),f||{})},[f]),k=v.useMemo(function(){var P="";if(r&&T.onChange){var F=r.option,U=r.options,R=r.removedValue,_=r.removedValues,B=r.value,X=function(_e){return Array.isArray(_e)?null:_e},$=R||F||X(B),z=$?m($):"",ne=U||_||void 0,xe=ne?ne.map(m):[],ee=Ae({isDisabled:$&&y($,l),label:z,labels:xe},r);P=T.onChange(ee)}return P},[r,T,y,l,m]),E=v.useMemo(function(){var P="",F=n||a,U=!!(n&&l&&l.includes(n));if(F&&T.onFocus){var R={focused:F,label:m(F),isDisabled:y(F,l),isSelected:U,options:i,context:F===n?"menu":"value",selectValue:l,isAppleDevice:d};P=T.onFocus(R)}return P},[n,a,m,y,T,i,l,d]),O=v.useMemo(function(){var P="";if(b&&g.length&&!N&&T.onFilter){var F=j({count:i.length});P=T.onFilter({inputValue:h,resultsMessage:F})}return P},[i,h,b,T,g,j,N]),M=(r==null?void 0:r.action)==="initial-input-focus",I=v.useMemo(function(){var P="";if(T.guidance){var F=a?"value":b?"menu":"input";P=T.guidance({"aria-label":w,context:F,isDisabled:n&&y(n,l),isMulti:p,isSearchable:x,tabSelectsValue:C,isInitialFocus:M})}return P},[w,n,a,p,y,x,b,T,l,C,M]),V=Ce(v.Fragment,null,Ce("span",{id:"aria-selection"},k),Ce("span",{id:"aria-focused"},E),Ce("span",{id:"aria-results"},O),Ce("span",{id:"aria-guidance"},I));return Ce(v.Fragment,null,Ce(N$,{id:u},M&&V),Ce(N$,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!M&&V))},sbe=abe,X2=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],ibe=new RegExp("["+X2.map(function(t){return t.letters}).join("")+"]","g"),PV={};for(var KN=0;KN<X2.length;KN++)for(var JN=X2[KN],XN=0;XN<JN.letters.length;XN++)PV[JN.letters[XN]]=JN.base;var DV=function(e){return e.replace(ibe,function(r){return PV[r]})},obe=ebe(DV),C$=function(e){return e.replace(/^\s+|\s+$/g,"")},lbe=function(e){return"".concat(e.label," ").concat(e.value)},cbe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Ae({ignoreCase:!0,ignoreAccents:!0,stringify:lbe,trim:!0,matchFrom:"any"},e),i=a.ignoreCase,o=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,d=c?C$(n):n,f=c?C$(l(r)):l(r);return i&&(d=d.toLowerCase(),f=f.toLowerCase()),o&&(d=obe(d),f=DV(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},ube=["innerRef"];function dbe(t){var e=t.innerRef,r=Ms(t,ube),n=Mye(r,"onExited","in","enter","exit","appear");return Ce("input",ke({ref:e},n,{css:FE({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var fbe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function mbe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,i=t.onTopLeave,o=v.useRef(!1),l=v.useRef(!1),c=v.useRef(0),u=v.useRef(null),d=v.useCallback(function(x,b){if(u.current!==null){var g=u.current,j=g.scrollTop,C=g.scrollHeight,N=g.clientHeight,w=u.current,S=b>0,T=C-N-j,k=!1;T>b&&o.current&&(n&&n(x),o.current=!1),S&&l.current&&(i&&i(x),l.current=!1),S&&b>T?(r&&!o.current&&r(x),w.scrollTop=C,k=!0,o.current=!0):!S&&-b>j&&(a&&!l.current&&a(x),w.scrollTop=0,k=!0,l.current=!0),k&&fbe(x)}},[r,n,a,i]),f=v.useCallback(function(x){d(x,x.deltaY)},[d]),m=v.useCallback(function(x){c.current=x.changedTouches[0].clientY},[]),h=v.useCallback(function(x){var b=c.current-x.changedTouches[0].clientY;d(x,b)},[d]),p=v.useCallback(function(x){if(x){var b=_ye?{passive:!1}:!1;x.addEventListener("wheel",f,b),x.addEventListener("touchstart",m,b),x.addEventListener("touchmove",h,b)}},[h,m,f]),y=v.useCallback(function(x){x&&(x.removeEventListener("wheel",f,!1),x.removeEventListener("touchstart",m,!1),x.removeEventListener("touchmove",h,!1))},[h,m,f]);return v.useEffect(function(){if(e){var x=u.current;return p(x),function(){y(x)}}},[e,p,y]),function(x){u.current=x}}var S$=["boxSizing","height","overflow","paddingRight","position"],A$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function T$(t){t.cancelable&&t.preventDefault()}function k$(t){t.stopPropagation()}function E$(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function O$(){return"ontouchstart"in window||navigator.maxTouchPoints}var P$=!!(typeof window<"u"&&window.document&&window.document.createElement),zu=0,kl={capture:!1,passive:!1};function hbe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=v.useRef({}),i=v.useRef(null),o=v.useCallback(function(c){if(P$){var u=document.body,d=u&&u.style;if(n&&S$.forEach(function(p){var y=d&&d[p];a.current[p]=y}),n&&zu<1){var f=parseInt(a.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,h=window.innerWidth-m+f||0;Object.keys(A$).forEach(function(p){var y=A$[p];d&&(d[p]=y)}),d&&(d.paddingRight="".concat(h,"px"))}u&&O$()&&(u.addEventListener("touchmove",T$,kl),c&&(c.addEventListener("touchstart",E$,kl),c.addEventListener("touchmove",k$,kl))),zu+=1}},[n]),l=v.useCallback(function(c){if(P$){var u=document.body,d=u&&u.style;zu=Math.max(zu-1,0),n&&zu<1&&S$.forEach(function(f){var m=a.current[f];d&&(d[f]=m)}),u&&O$()&&(u.removeEventListener("touchmove",T$,kl),c&&(c.removeEventListener("touchstart",E$,kl),c.removeEventListener("touchmove",k$,kl)))}},[n]);return v.useEffect(function(){if(e){var c=i.current;return o(c),function(){l(c)}}},[e,o,l]),function(c){i.current=c}}var pbe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},gbe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function ybe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,i=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=mbe({isEnabled:a,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),d=hbe({isEnabled:r}),f=function(h){u(h),d(h)};return Ce(v.Fragment,null,r&&Ce("div",{onClick:pbe,css:gbe}),e(f))}var xbe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},bbe=function(e){var r=e.name,n=e.onFocus;return Ce("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:xbe,value:"",onChange:function(){}})},vbe=bbe;function UE(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function jbe(){return UE(/^iPhone/i)}function IV(){return UE(/^Mac/i)}function wbe(){return UE(/^iPad/i)||IV()&&navigator.maxTouchPoints>1}function Nbe(){return jbe()||wbe()}function Cbe(){return IV()||Nbe()}var Sbe=function(e){return e.label},Abe=function(e){return e.label},Tbe=function(e){return e.value},kbe=function(e){return!!e.isDisabled},Ebe={clearIndicator:dxe,container:exe,control:xxe,dropdownIndicator:cxe,group:wxe,groupHeading:Cxe,indicatorsContainer:axe,indicatorSeparator:mxe,input:kxe,loadingIndicator:gxe,loadingMessage:Kye,menu:Vye,menuList:Hye,menuPortal:Zye,multiValue:Ixe,multiValueLabel:_xe,multiValueRemove:$xe,noOptionsMessage:Yye,option:qxe,placeholder:Uxe,singleValue:Gxe,valueContainer:rxe},Obe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Pbe=4,_V=4,Dbe=38,Ibe=_V*2,_be={baseUnit:_V,controlHeight:Dbe,menuGutter:Ibe},ZN={borderRadius:Pbe,colors:Obe,spacing:_be},$be={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:v$(),captureMenuScroll:!v$(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:cbe(),formatGroupLabel:Sbe,getOptionLabel:Abe,getOptionValue:Tbe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:kbe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Dye(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function D$(t,e,r,n){var a=MV(t,e,r),i=LV(t,e,r),o=RV(t,e),l=Mb(t,e);return{type:"option",data:e,isDisabled:a,isSelected:i,label:o,value:l,index:n}}function Wy(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(o,l){return D$(t,o,e,l)}).filter(function(o){return _$(t,o)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var i=D$(t,r,e,n);return _$(t,i)?i:void 0}).filter($ye)}function $V(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,_E(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function I$(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,_E(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function Rbe(t,e){return $V(Wy(t,e))}function _$(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,i=e.isSelected,o=e.label,l=e.value;return(!BV(t)||!i)&&FV(t,{label:o,value:l,data:a},n)}function Mbe(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var i=e.indexOf(r);if(i>-1)return r;if(a<e.length)return e[a]}return null}function Lbe(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var QN=function(e,r){var n,a=(n=e.find(function(i){return i.data===r}))===null||n===void 0?void 0:n.id;return a||null},RV=function(e,r){return e.getOptionLabel(r)},Mb=function(e,r){return e.getOptionValue(r)};function MV(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function LV(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Mb(t,e);return r.some(function(a){return Mb(t,a)===n})}function FV(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var BV=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},Fbe=1,qV=function(t){uge(r,t);var e=mge(r);function r(n){var a;if(lge(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=Cbe(),a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var d=a.props,f=d.onChange,m=d.name;u.name=m,a.ariaOnChange(c,u),f(c,u)},a.setValue=function(c,u,d){var f=a.props,m=f.closeMenuOnSelect,h=f.isMulti,p=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:p}),m&&(a.setState({inputIsHiddenAfterUpdate:!h}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:d})},a.selectOption=function(c){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,h=a.state.selectValue,p=f&&a.isOptionSelected(c,h),y=a.isOptionDisabled(c,h);if(p){var x=a.getOptionValue(c);a.setValue(h.filter(function(b){return a.getOptionValue(b)!==x}),"deselect-option",c)}else if(!y)f?a.setValue([].concat(_E(h),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(c),m=d.filter(function(p){return a.getOptionValue(p)!==f}),h=Kh(u,m,m[0]||null);a.onChange(h,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(Kh(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=Kh(c,f,f[0]||null);d&&a.onChange(m,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(c){return QN(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return I$(Wy(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return Tye.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return RV(a.props,c)},a.getOptionValue=function(c){return Mb(a.props,c)},a.getStyles=function(c,u){var d=a.props.unstyled,f=Ebe[c](u,d);f.boxSizing="border-box";var m=a.props.styles[c];return m?m(f,u):f},a.getClassNames=function(c,u){var d,f;return(d=(f=a.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return Xxe(a.props)},a.buildCategorizedOptions=function(){return Wy(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return $V(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Ae({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Ej(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),m=Math.abs(d.clientY-a.initialTouchY),h=5;a.userIsDragging=f>h||m>h}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,d=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),d=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:d>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return BV(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,h=u.inputValue,p=u.isClearable,y=u.isDisabled,x=u.menuIsOpen,b=u.onKeyDown,g=u.tabSelectsValue,j=u.openMenuOnFocus,C=a.state,N=C.focusedOption,w=C.focusedValue,S=C.selectValue;if(!y&&!(typeof b=="function"&&(b(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||h)return;a.focusValue("previous");break;case"ArrowRight":if(!d||h)return;a.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(w)a.removeValue(w);else{if(!f)return;d?a.popValue():p&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!x||!g||!N||j&&a.isOptionSelected(N,S))return;a.selectOption(N);break;case"Enter":if(c.keyCode===229)break;if(x){if(!N||a.isComposing)return;a.selectOption(N);break}return;case"Escape":x?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:h}),a.onMenuClose()):p&&m&&a.clearValue();break;case" ":if(h)return;if(!x){a.openMenu("first");break}if(!N)return;a.selectOption(N);break;case"ArrowUp":x?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":x?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!x)return;a.focusOption("pageup");break;case"PageDown":if(!x)return;a.focusOption("pagedown");break;case"Home":if(!x)return;a.focusOption("first");break;case"End":if(!x)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++Fbe),a.state.selectValue=x$(n.value),n.menuIsOpen&&a.state.selectValue.length){var i=a.getFocusableOptionsWithIds(),o=a.buildFocusableOptions(),l=o.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=i,a.state.focusedOption=o[l],a.state.focusedOptionId=QN(i,o[l])}return a}return cge(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&b$(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!o&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&o&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(b$(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,i){this.props.onInputChange(a,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var i=this,o=this.state,l=o.selectValue,c=o.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(a){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var u=o.length-1,d=-1;if(o.length){switch(a){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(o);o||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-i,c<0&&(c=0)):a==="pagedown"?(c=u+i,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(ZN):Ae(Ae({},ZN),this.props.theme):ZN}},{key:"getCommonProps",value:function(){var a=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,h=f.isRtl,p=f.options,y=this.hasValue();return{clearValue:a,cx:i,getStyles:o,getClassNames:l,getValue:c,hasValue:y,isMulti:m,isRtl:h,options:p,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,i=a.isClearable,o=a.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(a,i){return MV(this.props,a,i)}},{key:"isOptionSelected",value:function(a,i){return LV(this.props,a,i)}},{key:"filterOption",value:function(a,i){return FV(this.props,a,i)}},{key:"formatOptionLabel",value:function(a,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,i=a.isDisabled,o=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,m=a.required,h=this.getComponents(),p=h.Input,y=this.state,x=y.inputIsHidden,b=y.ariaSelection,g=this.commonProps,j=l||this.getElementId("input"),C=Ae(Ae(Ae({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?v.createElement(p,ke({},g,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:j,innerRef:this.getInputRef,isDisabled:i,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},C)):v.createElement(dbe,ke({id:j,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:$b,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:d,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,u=i.MultiValueRemove,d=i.SingleValue,f=i.Placeholder,m=this.commonProps,h=this.props,p=h.controlShouldRenderValue,y=h.isDisabled,x=h.isMulti,b=h.inputValue,g=h.placeholder,j=this.state,C=j.selectValue,N=j.focusedValue,w=j.isFocused;if(!this.hasValue()||!p)return b?null:v.createElement(f,ke({},m,{key:"placeholder",isDisabled:y,isFocused:w,innerProps:{id:this.getElementId("placeholder")}}),g);if(x)return C.map(function(T,k){var E=T===N,O="".concat(a.getOptionLabel(T),"-").concat(a.getOptionValue(T));return v.createElement(o,ke({},m,{components:{Container:l,Label:c,Remove:u},isFocused:E,isDisabled:y,key:O,index:k,removeProps:{onClick:function(){return a.removeValue(T)},onTouchEnd:function(){return a.removeValue(T)},onMouseDown:function(I){I.preventDefault()}},data:T}),a.formatOptionLabel(T,"value"))});if(b)return null;var S=C[0];return v.createElement(d,ke({},m,{data:S,isDisabled:y}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),i=a.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return v.createElement(i,ke({},o,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),i=a.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!i||!u)return null;var f={"aria-hidden":"true"};return v.createElement(i,ke({},o,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),i=a.DropdownIndicator,o=a.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return v.createElement(o,ke({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),i=a.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return v.createElement(i,ke({},o,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,c=i.Menu,u=i.MenuList,d=i.MenuPortal,f=i.LoadingMessage,m=i.NoOptionsMessage,h=i.Option,p=this.commonProps,y=this.state.focusedOption,x=this.props,b=x.captureMenuScroll,g=x.inputValue,j=x.isLoading,C=x.loadingMessage,N=x.minMenuHeight,w=x.maxMenuHeight,S=x.menuIsOpen,T=x.menuPlacement,k=x.menuPosition,E=x.menuPortalTarget,O=x.menuShouldBlockScroll,M=x.menuShouldScrollIntoView,I=x.noOptionsMessage,V=x.onMenuScrollToTop,P=x.onMenuScrollToBottom;if(!S)return null;var F=function(z,ne){var xe=z.type,ee=z.data,re=z.isDisabled,_e=z.isSelected,Z=z.label,K=z.value,H=y===ee,Y=re?void 0:function(){return a.onOptionHover(ee)},fe=re?void 0:function(){return a.selectOption(ee)},je="".concat(a.getElementId("option"),"-").concat(ne),Ye={id:je,onClick:fe,onMouseMove:Y,onMouseOver:Y,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:_e};return v.createElement(h,ke({},p,{innerProps:Ye,data:ee,isDisabled:re,isSelected:_e,key:je,label:Z,type:xe,value:K,isFocused:H,innerRef:H?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(z.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function($){if($.type==="group"){var z=$.data,ne=$.options,xe=$.index,ee="".concat(a.getElementId("group"),"-").concat(xe),re="".concat(ee,"-heading");return v.createElement(o,ke({},p,{key:ee,data:z,options:ne,Heading:l,headingProps:{id:re,data:$.data},label:a.formatGroupLabel($.data)}),$.options.map(function(_e){return F(_e,"".concat(xe,"-").concat(_e.index))}))}else if($.type==="option")return F($,"".concat($.index))});else if(j){var R=C({inputValue:g});if(R===null)return null;U=v.createElement(f,p,R)}else{var _=I({inputValue:g});if(_===null)return null;U=v.createElement(m,p,_)}var B={minMenuHeight:N,maxMenuHeight:w,menuPlacement:T,menuPosition:k,menuShouldScrollIntoView:M},X=v.createElement(zye,ke({},p,B),function($){var z=$.ref,ne=$.placerProps,xe=ne.placement,ee=ne.maxHeight;return v.createElement(c,ke({},p,B,{innerRef:z,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:j,placement:xe}),v.createElement(ybe,{captureEnabled:b,onTopArrive:V,onBottomArrive:P,lockEnabled:O},function(re){return v.createElement(u,ke({},p,{innerRef:function(Z){a.getMenuListRef(Z),re(Z)},innerProps:{role:"listbox","aria-multiselectable":p.isMulti,id:a.getElementId("listbox")},isLoading:j,maxHeight:ee,focusedOption:y}),U)}))});return E||k==="fixed"?v.createElement(d,ke({},p,{appendTo:E,controlElement:this.controlRef,menuPlacement:T,menuPosition:k}),X):X}},{key:"renderFormField",value:function(){var a=this,i=this.props,o=i.delimiter,l=i.isDisabled,c=i.isMulti,u=i.name,d=i.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return v.createElement(vbe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(o){var m=f.map(function(y){return a.getOptionValue(y)}).join(o);return v.createElement("input",{name:u,type:"hidden",value:m})}else{var h=f.length>0?f.map(function(y,x){return v.createElement("input",{key:"i-".concat(x),name:u,type:"hidden",value:a.getOptionValue(y)})}):v.createElement("input",{name:u,type:"hidden",value:""});return v.createElement("div",null,h)}else{var p=f[0]?this.getOptionValue(f[0]):"";return v.createElement("input",{name:u,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,u=i.isFocused,d=i.selectValue,f=this.getFocusableOptions();return v.createElement(sbe,ke({},a,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),i=a.Control,o=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,h=u.menuIsOpen,p=this.state.isFocused,y=this.commonProps=this.getCommonProps();return v.createElement(l,ke({},y,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:p}),this.renderLiveRegion(),v.createElement(i,ke({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:p,menuIsOpen:h}),v.createElement(c,ke({},y,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),v.createElement(o,ke({},y,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,d=i.isFocused,f=i.prevWasFocused,m=i.instancePrefix,h=a.options,p=a.value,y=a.menuIsOpen,x=a.inputValue,b=a.isMulti,g=x$(p),j={};if(o&&(p!==o.value||h!==o.options||y!==o.menuIsOpen||x!==o.inputValue)){var C=y?Rbe(a,g):[],N=y?I$(Wy(a,g),"".concat(m,"-option")):[],w=l?Mbe(i,g):null,S=Lbe(i,C),T=QN(N,S);j={selectValue:g,focusedOption:S,focusedOptionId:T,focusableOptionsWithIds:N,focusedValue:w,clearFocusValueOnUpdate:!1}}var k=c!=null&&a!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},E=u,O=d&&f;return d&&!O&&(E={value:Kh(b,g,g[0]||null),options:g,action:"initial-input-focus"},O=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(E=null),Ae(Ae(Ae({},j),k),{},{prevProps:a,ariaSelection:E,prevWasFocused:O})}}]),r}(v.Component);qV.defaultProps=$be;var Bbe=v.forwardRef(function(t,e){var r=oge(t);return v.createElement(qV,ke({ref:e},r))}),wr=Bbe;function zf({price:t="",quantity:e="",taxRate:r="",discountPercent:n="",vatable:a=!1,ewtRate:i=0,vatRate:o=12}){const l=parseFloat(t)||0,c=parseFloat(e)||0,u=parseFloat(r)||0,d=(parseFloat(n)||0)/100,f=parseFloat(i)||0;let m=0,h=0,p=0,y=0,x=0,b=0,g=0,j=0,C=0;return a?(m=l*c,h=+(m*d).toFixed(2),y=+(m-h).toFixed(2),p=+(y*o/(100+o)).toFixed(2),x=+(y-p).toFixed(2)):(m=l*c,h=+(m*d).toFixed(2),p=+(m*o/100).toFixed(2),x=+(m-h).toFixed(2),y=+(x+p).toFixed(2)),b=+(x*u/100*-1).toFixed(2),g=+(x*f/100*-1).toFixed(2),j=+(b+g).toFixed(2),C=a?+(y+j).toFixed(2):+(x+j).toFixed(2),{subtotalBeforeDiscount:m,discount:h,vat:p,subtotalTaxIncluded:y,subtotalTaxExcluded:x,withheld:b,ewt:g,ewtrate:f,totalDeduction:j,subtotal:C}}function VV({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:i=[],taxCodeFull:o=[],budgetOptions:l=[],initialData:c}){var h;const u=le({ResponsibilityCenter:D().required("Required"),ChargeAccountID:D().required("Required"),ItemID:D().required("Required"),Remarks:D().required("Required"),FPP:D().required("Required"),Price:oe().required("Required"),Quantity:oe().required("Required"),ItemUnitID:D().required("Required"),TAXCodeID:D().required("Required"),DiscountRate:oe().required("Required")}),d=Ze({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,DiscountRate:0,subtotal:0},validationSchema:u,onSubmit:p=>{const y=o.find(C=>String(C.ID)===String(p.TAXCodeID)),x=zf({price:p.Price,quantity:p.Quantity,taxRate:(y==null?void 0:y.Rate)||0,discountPercent:p.DiscountRate,vatable:p.Vatable,ewtRate:p.withheldEWT}),b=r.find(C=>String(C.value)===String(p.ResponsibilityCenter)),g=l.find(C=>String(C.value)===String(p.ChargeAccountID)),j=n.find(C=>String(C.value)===String(p.ItemID));t({...p,...x,responsibilityCenterName:b?b.label:"",chargeAccountName:g?g.label:"",itemName:j?j.label:""}),e()}}),f=v.useRef({...d.values});v.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(b=>d.values[b]!==f.current[b]))return;f.current={...d.values};const y=o.find(b=>String(b.ID)===String(d.values.TAXCodeID)),x=zf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(y==null?void 0:y.Rate)||0,discountPercent:d.values.DiscountRate,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});x.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",x.subtotal,!1),x.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",x.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.DiscountRate,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,o]);const m=((h=o.find(p=>String(p.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return s.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(A,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0}),d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ResponsibilityCenter})]}),s.jsxs("div",{children:[s.jsx(A,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0}),d.touched.ChargeAccountID&&d.errors.ChargeAccountID&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ChargeAccountID})]}),s.jsxs("div",{children:[s.jsx(A,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0}),d.touched.ItemID&&d.errors.ItemID&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemID})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(A,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0}),d.touched.Remarks&&d.errors.Remarks&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Remarks})]}),s.jsxs("div",{children:[s.jsx(A,{type:"text",label:"FPP",name:"FPP",...d.getFieldProps("FPP"),required:!0}),d.touched.FPP&&d.errors.FPP&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.FPP})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(A,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0}),d.touched.Price&&d.errors.Price&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Price})]}),s.jsxs("div",{children:[s.jsx(A,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0}),d.touched.Quantity&&d.errors.Quantity&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Quantity})]}),s.jsxs("div",{children:[s.jsx(A,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0}),d.touched.ItemUnitID&&d.errors.ItemUnitID&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemUnitID})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(A,{type:"select",label:"Tax Code",name:"TAXCodeID",options:i,...d.getFieldProps("TAXCodeID"),required:!0}),d.touched.TAXCodeID&&d.errors.TAXCodeID&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.TAXCodeID})]}),s.jsx("div",{children:s.jsx(A,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),s.jsxs("div",{children:[s.jsx(A,{type:"number",label:"Discount %",name:"DiscountRate",...d.getFieldProps("DiscountRate"),required:!0}),d.touched.DiscountRate&&d.errors.DiscountRate&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.DiscountRate})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:s.jsx(A,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})}),s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),s.jsx("span",{className:"text-sm",children:"Vatable"})]}),s.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),s.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[s.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const zV="https://staging-engine.testthelink.online",qbe={obligationRequests:[],obligationRequest:null,isLoading:!1,error:null},Hy=L("obligationRequests/fetchObligationRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${zV}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),e1=L("obligationRequests/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const i=e.getState().obligationRequests.obligationRequests.find(o=>o.id===t);i?r(i):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Gy=L("obligationRequests/create",async(t,e)=>{try{const r=await fetch(`${zV}/obligationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Yy=L("obligationRequests/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),UV=me({name:"obligationRequests",initialState:qbe,reducers:{resetObligationRequestState:t=>{t.obligationRequest=null,t.error=null}},extraReducers:t=>{t.addCase(Hy.pending,e=>{e.isLoading=!0}).addCase(Hy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests=r.payload}).addCase(Hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(e1.pending,e=>{e.isLoading=!0}).addCase(e1.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequest=r.payload}).addCase(e1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Gy.pending,e=>{e.isLoading=!0}).addCase(Gy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests.push(r.payload)}).addCase(Gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Yy.pending,e=>{e.isLoading=!0}).addCase(Yy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.obligationRequests.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.obligationRequests[n]=r.payload)}).addCase(Yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetObligationRequestState:OUe}=UV.actions,Vbe=UV.reducer,$$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],zbe=le().shape({obrNo:D().required("OBR No. is required"),obrDate:De().required("Date is required"),payeeType:D().required("Payee type is required"),payeeId:D().required("Payee selection is required"),responsibilityCenter:D().required("Responsibility Center is required"),fund:D().required("Fund is required"),fiscalYear:D().required("Fiscal Year is required"),project:D().required("Project is required"),accountingEntries:Vn().min(1,"At least one item is required")});function Ube({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:i=[],vendorData:o=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:p=[],budgetOptions:y=[],taxCodeFull:x=[]}){const b=ce(),g=v.useRef(null),[j,C]=v.useState(!1),[N,w]=v.useState(null),[S,T]=v.useState(null),[k,E]=v.useState(!1),[O,M]=v.useState([]),I=(R,_)=>{const B=R.reduce((z,ne)=>z+Number(ne.amount||0),0),X=_.reduce((z,ne)=>z+Number(ne.amount||0),0),$=B-X;return{grossAmount:B,totalTaxes:X,netAmount:$}},V={description:"",amount:"",accountCode:""},P={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[V],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},F=R=>{C(!0),I(R.items,R.taxes);const _=new FormData;R.payeeType==="Employee"?(_.append("EmployeeID",R.payeeId),_.append("VendorID",""),_.append("CustomerID","")):R.payeeType==="Vendor"?(_.append("EmployeeID",""),_.append("VendorID",R.payeeId),_.append("CustomerID","")):R.payeeType==="Individual"&&(_.append("EmployeeID",""),_.append("VendorID",""),_.append("CustomerID",R.payeeId)),_.append("PayeeType",R.payeeType),_.append("Payee",(N==null?void 0:N.Name)||(N==null?void 0:N.FirstName)+" "+(N==null?void 0:N.MiddleName)+" "+(N==null?void 0:N.LastName)||""),_.append("Address",(N==null?void 0:N.StreetAddress)||""),_.append("InvoiceNumber",R.obrNo),_.append("InvoiceDate",R.obrDate),_.append("ResponsibilityCenter",R.responsibilityCenter);const B=R.accountingEntries.reduce((ee,re)=>ee+Number(re.subtotal||0),0),X=R.accountingEntries.reduce((ee,re)=>ee+Number(re.ewt||0),0),$=R.accountingEntries.reduce((ee,re)=>ee+Number(re.withheld||0),0),z=R.accountingEntries.reduce((ee,re)=>ee+Number(re.vat||0),0),ne=R.accountingEntries.reduce((ee,re)=>ee+Number(re.discount||0),0);_.append("Total",B.toFixed(2)),_.append("EWT",X.toFixed(2)),_.append("WithheldAmount",$.toFixed(2)),_.append("Vat_Total",z.toFixed(2)),_.append("Discounts",ne.toFixed(2)),_.append("FundsID",R.fund),_.append("FiscalYearID",R.fiscalYear),_.append("ProjectID",R.project),_.append("TravelID",""),_.append("Items",JSON.stringify(R.accountingEntries)),R.Attachments.forEach((ee,re)=>{ee.File?_.append(`Attachments[${re}].File`,ee.File):ee.ID&&_.append(`Attachments[${re}].ID`,ee.ID)});const xe=t?Yy({formData:_,id:t.ID}):Gy(_);b(xe).unwrap().then(()=>{Me.success("Success"),e()}).catch(ee=>{Me.error((ee==null?void 0:ee.message)||"Failed to submit")}).finally(()=>{C(!1)})},U=({type:R})=>{switch(R){case"Employee":return s.jsx(DE,{className:"w-5 h-5"});case"Vendor":return s.jsx(Ik,{className:"w-5 h-5"});case"Individual":return s.jsx(Uv,{className:"w-5 h-5"});default:return null}};return s.jsx("div",{children:s.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:s.jsx(Be,{innerRef:g,initialValues:P,validationSchema:zbe,onSubmit:F,enableReinitialize:!0,children:({values:R,errors:_,touched:B,handleChange:X,handleBlur:$,setFieldValue:z,setFieldTouched:ne,isValid:xe})=>{I(R.items,R.taxes);const re=$$.map(H=>({value:H.value,label:H.label})).find(H=>H.value===R.payeeType),_e=H=>{w(null),z("payeeType",H),z("payeeName",""),z("payeeId",""),z("payeeAddress",""),z("officeUnitProject",""),z("orsNumber","")},Z=H=>{let Y=null;switch(R.payeeType){case"Employee":Y=i.find(fe=>fe.ID===H);break;case"Vendor":Y=o.find(fe=>fe.ID===H);break;case"Individual":Y=l.find(fe=>fe.ID===H);break}w(Y),z("payeeName",Y==null?void 0:Y.Name),z("payeeId",Y==null?void 0:Y.ID)},K=H=>{switch(H){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return s.jsxs(We,{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"space-y-2",children:$$.map(H=>s.jsxs("button",{type:"button",onClick:()=>_e(H.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${R.payeeType===H.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[s.jsx(U,{type:H.value}),s.jsx("span",{className:"ml-3 font-medium",children:H.label})]},H.value))}),_.payeeType&&B.payeeType&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),R.payeeType&&s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",re==null?void 0:re.label," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:K(R.payeeType),value:K(R.payeeType).find(H=>H.value===R.payeeId)||null,onChange:H=>Z(H.value),className:"react-select-container",classNamePrefix:"react-select"}),_.payeeType&&B.payeeType&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),N&&s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),s.jsx("div",{className:"text-sm text-gray-900",children:(re==null?void 0:re.label)==="Employee"?`${N.FirstName||""} ${N.MiddleName||""} ${N.LastName||""}`.trim():((re==null?void 0:re.label)==="Vendor"||(re==null?void 0:re.label)==="Individual",N.Name)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),s.jsx("div",{className:"text-sm text-gray-900",children:((re==null?void 0:re.label)==="Employee"||(re==null?void 0:re.label)==="Vendor"||(re==null?void 0:re.label)==="Individual",N.StreetAddress)})]})]})})})})]})]}),s.jsx("hr",{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[s.jsx(A,{type:"text",label:"OBR No.",name:"obrNo",value:R.obrNo,onChange:X,onBlur:$,error:_.obrNo,touched:B.obrNo,required:!0}),s.jsx(A,{type:"date",label:"Date",name:"obrDate",value:R.obrDate,onChange:X,onBlur:$,error:_.obrDate,touched:B.obrDate,required:!0})]}),s.jsx("hr",{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:c,value:c.find(H=>H.value===R.responsibilityCenter)||null,onChange:H=>z("responsibilityCenter",H.value),onBlur:()=>ne("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),_.responsibilityCenter&&B.responsibilityCenter&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.responsibilityCenter})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:u,value:u.find(H=>H.value===R.fund)||null,onChange:H=>z("fund",H.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fund&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fund})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:f,value:f.find(H=>H.value===R.fiscalYear)||null,onChange:H=>z("fiscalYear",H.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fiscalYear&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fiscalYear})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:d,value:d.find(H=>H.value===R.project)||null,onChange:H=>z("project",H.value),className:"react-select-container",classNamePrefix:"react-select"}),_.project&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.project})]})]}),s.jsx(Yr,{name:"accountingEntries",children:({push:H,remove:Y})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Items"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>E(!0),children:"+ Item"})]}),R.accountingEntries.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[s.jsx("span",{children:"RC"}),s.jsx("span",{children:"REMARKS"}),s.jsx("span",{children:"PARTICULARS"}),s.jsx("span",{children:"FPP"}),s.jsx("span",{children:"ACCOUNT CODE"}),s.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),R.accountingEntries.map((fe,je)=>s.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[s.jsx("span",{children:fe.responsibilityCenterName}),s.jsx("span",{children:fe.Remarks}),s.jsx("span",{children:fe.itemName}),s.jsx("span",{children:fe.FPP}),s.jsx("span",{children:fe.chargeAccountName}),s.jsx("span",{className:"text-right",children:parseFloat(fe.subtotal).toFixed(2)}),s.jsx("div",{className:"col-span-6 text-right",children:s.jsx("button",{type:"button",onClick:()=>Y(je),className:"text-red-600 text-xs",children:""})})]},je)),s.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[s.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),s.jsx("div",{className:"text-right",children:R.accountingEntries.reduce((fe,je)=>fe+Number(je.subtotal),0).toFixed(2)})]})]}),s.jsx(te,{isOpen:k,onClose:()=>E(!1),title:"Add Accounting Entry",size:"xl",children:s.jsx(VV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:p,budgetOptions:y,taxCodeFull:x,onClose:()=>E(!1),onSubmit:fe=>{H(fe),E(!1)}})})]})}),_.accountingEntries&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.accountingEntries}),s.jsx("hr",{}),s.jsx(Yr,{name:"Attachments",render:({remove:H,push:Y})=>{var fe;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>Y({File:null}),children:"+ Attachment"})]}),(fe=R.Attachments)==null?void 0:fe.map((je,Ye)=>s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[je.ID?s.jsxs("div",{className:"flex-1",children:[s.jsx("a",{href:`${API_URL}/uploads/${je.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:je.DataName}),s.jsx("input",{type:"hidden",name:`Attachments[${Ye}].ID`,value:je.ID})]}):s.jsxs("div",{className:"flex-1 min-w-[300px]",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Ye+1}`}),s.jsx("input",{type:"file",name:`Attachments[${Ye}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:xt=>z(`Attachments[${Ye}].File`,xt.currentTarget.files[0]),onBlur:$,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),s.jsx(mt,{type:"button",onClick:()=>H(Ye),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:s.jsx(Mr,{className:"w-4 h-4"})})]},Ye))]})}}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function Wbe({dv:t,onClose:e,onEdit:r}){const n=o=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(o),a=o=>new Date(o).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),i=o=>{let l="bg-neutral-100 text-neutral-800";switch(o){case"Pending Certification":l="bg-warning-100 text-warning-800";break;case"Pending Approval":l="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":l="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":l="bg-error-100 text-error-800";break}return l};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${i(t.status)}`,children:t.status}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[s.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[s.jsx(Bi,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"DV Details"}),s.jsxs("dl",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"DV Number"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.dvNumber})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dvDate)})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"ORS Number"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.orsNumber||"N/A"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.modeOfPayment})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),s.jsxs("dl",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeName})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeAddress||"N/A"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Particulars"}),s.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:s.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-line",children:t.particulars})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Gross Amount"}),s.jsx("dd",{className:"mt-1 text-2xl font-semibold text-neutral-900",children:n(t.grossAmount)})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Total Deductions"}),s.jsx("dd",{className:"mt-1 text-2xl font-semibold text-error-600",children:n(t.totalDeductions)})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[s.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Net Amount"}),s.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.netAmount)})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),s.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[s.jsxs("li",{className:"mb-6 ml-6",children:[s.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:s.jsx(Q4,{className:"w-5 h-5 text-success-600"})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),s.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),s.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),s.jsxs("li",{className:"mb-6 ml-6",children:[s.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:s.jsx(Z4,{className:"w-5 h-5 text-warning-600"})}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),s.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),s.jsxs("li",{className:"mb-6 ml-6",children:[s.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:s.jsx(aB,{className:"w-5 h-5 text-neutral-400"})}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),s.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for certification"})]})})]})]})})})]}),s.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:s.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const Oj="https://staging-engine.testthelink.online",Hbe=[{ID:1,Name:"Fund A",Code:101},{ID:2,Name:"Fund B",Code:102},{ID:3,Name:"Fund C",Code:103}],Wn=L("funds/fetchFunds",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Oj}/fundsss`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),t1=L("funds/addFund",async(t,e)=>{try{const r=await fetch(`${Oj}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),R$=L("funds/updateFund",async(t,e)=>{try{const r=await fetch(`${Oj}/funds/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(subFund)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),r1=L("funds/deleteFund",async(t,e)=>{try{const r=await fetch(`${Oj}/funds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Gbe=me({name:"funds",initialState:{funds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Wn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wn.fulfilled,(e,r)=>{e.isLoading=!1,e.funds=Array.isArray(r.payload)?r.payload:[]}).addCase(Wn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch funds",console.warn("Failed to fetch funds, using mock data.",e.error),e.funds=Hbe}).addCase(t1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(t1.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.funds)||(e.funds=[]),e.funds.push(r.payload)}).addCase(t1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fund",console.error("Failed to add fund:",e.error)}).addCase(R$.pending,e=>{e.isLoading=!0,e.error=null}).addCase(R$.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.funds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.funds)||(e.funds=[]),e.funds[n]=r.payload)}).addCase(r1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(r1.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.funds)||(e.funds=[]),e.funds=e.funds.filter(n=>n.ID!==r.payload)}).addCase(r1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fund",console.error("Failed to delete fund:",e.error)})}}),Ybe=Gbe.reducer,Ro=L("budget/fetchBudgets",async()=>(await new Promise(e=>{setTimeout(()=>{e({data:[{ID:1,Name:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{ID:2,Name:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}]})},1e3)})).data),n1=L("budget/createBudget",async t=>(await new Promise(r=>{setTimeout(()=>{r({data:{id:Date.now(),...t,status:"active"}})},1e3)})).data),a1=L("budget/updateBudget",async({id:t,budgetData:e})=>(await new Promise(n=>{setTimeout(()=>{n({data:{id:t,...e}})},1e3)})).data),s1=L("budget/deleteBudget",async t=>(await new Promise(e=>{setTimeout(()=>{e()},1e3)}),t)),Kbe={budgets:[],isLoading:!1,error:null},Jbe=me({name:"budget",initialState:Kbe,reducers:{},extraReducers:t=>{t.addCase(Ro.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ro.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=r.payload}).addCase(Ro.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(n1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets.push(r.payload)}).addCase(n1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(a1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(a1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.budgets.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.budgets[n]=r.payload)}).addCase(a1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(s1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=e.budgets.filter(n=>n.id!==r.payload)}).addCase(s1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),Xbe=Jbe.reducer;function Zbe(){const t=ce(),{obligationRequests:e,isLoading:r}=W(w=>w.obligationRequests),{employees:n}=W(w=>w.employees),{customers:a}=W(w=>w.customers),{vendorDetails:i}=W(w=>w.vendorDetails),{departments:o}=W(w=>w.departments),{projectDetails:l}=W(w=>w.projectDetails),{funds:c}=W(w=>w.funds),{fiscalYears:u}=W(w=>w.fiscalYears),{items:d}=W(w=>w.items),{taxCodes:f}=W(w=>w.taxCodes),{itemUnits:m}=W(w=>w.itemUnits),{budgets:h}=W(w=>w.budget),[p,y]=v.useState("list"),[x,b]=v.useState(null);v.useEffect(()=>{t(Hy()),t(Un()),t(wi()),t(Do()),t(zn()),t($o()),t(Wn()),t(ji()),t(vi()),t(_a()),t(Ra()),t(Ro())},[t]);const g=()=>{b(null),y("form")},j=w=>{b(w),y("form")},C=()=>{y("list"),b(null)},N=[{key:"Status",header:"Status",sortable:!0,render:w=>{let S="bg-neutral-100 text-neutral-800";switch(w){case"Requested":S="bg-warning-100 text-warning-800";break;case"Pending Approval":S="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":S="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":S="bg-error-100 text-error-800";break}return s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S}`,children:w})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:w=>new Date(w).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return s.jsxs("div",{children:[p==="list"&&s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Obligation Requests"}),s.jsx("p",{children:"Manage obligation requests"})]}),s.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create OR"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:N,data:e,actions:w=>{var T;const S=[];return((T=w.Transaction)==null?void 0:T.Status)==="Rejected"&&S.push({icon:Ne,title:"Edit",onClick:()=>j(w),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),S},loading:r})})]}),p==="form"&&s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:s.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),s.jsxs("div",{children:[s.jsx("h1",{children:x?"Edit Obligation Request":"Create Obligation Request"}),s.jsxs("p",{children:["Fill out the form to"," ",x?"update":"create"," an obligation request"]})]})]})})}),s.jsx("div",{className:"mt-4",children:s.jsx(Ube,{initialData:x,employeeOptions:n.map(w=>({value:w.ID,label:w.FirstName+" "+w.MiddleName+" "+w.LastName})),vendorOptions:i.map(w=>({value:w.ID,label:w.Name})),individualOptions:a.map(w=>({value:w.ID,label:w.Name})),employeeData:n,vendorData:i,individualData:a,departmentOptions:o.map(w=>({value:w.ID,label:w.Name})),fundOptions:c.map(w=>({value:w.ID,label:w.Name})),projectOptions:l.map(w=>({value:w.ID,label:w.Title})),fiscalYearOptions:u.map(w=>({value:w.ID,label:w.Name})),particularsOptions:d.map(w=>({value:w.ID,label:w.Name})),unitOptions:m.map(w=>({value:w.ID,label:w.Name})),taxCodeOptions:f.map(w=>({value:w.ID,label:w.Name})),budgetOptions:h.map(w=>({value:w.ID,label:w.Name})),taxCodeFull:f,onCancel:C,onSubmitSuccess:C,onClose:C})})]}),p==="details"&&x&&s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:s.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),s.jsxs("div",{children:[s.jsx("h1",{children:"Obligation Request Details"}),s.jsx("p",{children:"View and manage obligation request details"})]})]}),s.jsxs("button",{type:"button",onClick:()=>j(x),className:"btn btn-primary flex items-center",children:[s.jsx(Ne,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit OR"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(Wbe,{or:x,onBack:C})})]})]})}function Qbe(t){const e=Number(t);if(Number.isNaN(e))return"";const r=Math.floor(e),n=Math.round((e-r)*100);let a=`${Z2(r)} PESOS`;return n>0&&(a+=` AND ${n.toString().padStart(2,"0")}/100`),a.trim()}function Z2(t){if(t===0)return"ZERO";if(t<0)return`MINUS ${Z2(Math.abs(t))}`;const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],r=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];let n="";const a=(i,o)=>{i>0&&(n+=`${Z2(i)} ${o} `)};return a(Math.floor(t/1e12),"TRILLION"),t%=1e12,a(Math.floor(t/1e9),"BILLION"),t%=1e9,a(Math.floor(t/1e6),"MILLION"),t%=1e6,a(Math.floor(t/1e3),"THOUSAND"),t%=1e3,a(Math.floor(t/100),"HUNDRED"),t%=100,t>0&&(n&&(n+="AND "),t<20?n+=e[t]:(n+=r[Math.floor(t/10)],t%10&&(n+=`-${e[t%10]}`))),n.trim()}const WE="https://staging-engine.testthelink.online",e0e={disbursementVouchers:[],disbursementVoucher:null,isLoading:!1,error:null,requestOptions:[],requestOptionsLoading:!1,requestOptionsError:null},Ky=L("disbursementVouchers/fetchRequestOptions",async({requestType:t,payeeType:e,payeeId:r},n)=>{try{const a=localStorage.getItem("token"),i=`${WE}/disbursementVoucher/selectListForDV?type=${encodeURIComponent(e)}&requestType=${encodeURIComponent(t)}&id=${r}`,o=await fetch(i,{headers:{Authorization:`Bearer ${a}`}}),l=await o.json();if(!o.ok)throw new Error(l.error||l.message||"Failed to fetch request options");return l}catch(a){return n.rejectWithValue(a.message)}}),Jy=L("disbursementVouchers/fetchDisbursementVouchers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${WE}/disbursementVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),i1=L("disbursementVouchers/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const i=e.getState().disbursementVouchers.disbursementVouchers.find(o=>o.id===t);i?r(i):n(new Error("Disbursement voucher not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Xy=L("disbursementVouchers/create",async(t,e)=>{try{const r=await fetch(`${WE}/disbursementVoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Zy=L("disbursementVouchers/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),WV=me({name:"disbursementVouchers",initialState:e0e,reducers:{resetDisbursementVoucherState:t=>{t.disbursementVoucher=null,t.error=null}},extraReducers:t=>{t.addCase(Jy.pending,e=>{e.isLoading=!0}).addCase(Jy.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers=r.payload}).addCase(Jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(i1.pending,e=>{e.isLoading=!0}).addCase(i1.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVoucher=r.payload}).addCase(i1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Xy.pending,e=>{e.isLoading=!0}).addCase(Xy.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers.push(r.payload)}).addCase(Xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zy.pending,e=>{e.isLoading=!0}).addCase(Zy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.disbursementVouchers.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.disbursementVouchers[n]=r.payload)}).addCase(Zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ky.pending,e=>{e.requestOptionsLoading=!0,e.requestOptionsError=null}).addCase(Ky.fulfilled,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptions=r.payload}).addCase(Ky.rejected,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptionsError=r.payload})}}),{resetDisbursementVoucherState:PUe}=WV.actions,t0e=WV.reducer,M$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],r0e=[{value:"Obligation Request",label:"Obligation Request"},{value:"FURS",label:"FURS"},{value:"Standalone Request",label:"Standalone Request"}],n0e=le().shape({payeeType:D().required("Payee type is required"),payeeId:D().required("Payee selection is required"),accountingEntries:Vn().min(1,"At least one item is required"),contraAccount:D().required("Contra Account is required"),modeOfPayment:D().required("Mode of Payment is required"),bank:D().required("Bank is required"),checkNumber:D().required("Check Number is required"),receivedPaymentBy:D().required("Received Payment By is required")});function a0e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:i=[],vendorData:o=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:p=[],budgetOptions:y=[],taxCodeFull:x=[],chartOfAccountsOptions:b=[]}){const g=ce(),j=v.useRef(null),[C,N]=v.useState(!1),[w,S]=v.useState(null),[T,k]=v.useState(null),[E,O]=v.useState(!1),[M,I]=v.useState([]),{requestOptions:V,requestOptionsLoading:P,requestOptionsError:F}=W($=>$.disbursementVouchers),U=($,z)=>{const ne=$.reduce((re,_e)=>re+Number(_e.amount||0),0),xe=z.reduce((re,_e)=>re+Number(_e.amount||0),0),ee=ne-xe;return{grossAmount:ne,totalTaxes:xe,netAmount:ee}},R={description:"",amount:"",accountCode:""},_={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[R],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[],OBR_LinkID:(t==null?void 0:t.OBR_LinkID)||"",contraAccount:(t==null?void 0:t.contraAccount)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",bank:(t==null?void 0:t.bank)||"",checkNumber:(t==null?void 0:t.checkNumber)||"",receivedPaymentBy:(t==null?void 0:t.receivedPaymentBy)||""},B=$=>{N(!0),U($.items,$.taxes);const z=new FormData;$.payeeType==="Employee"?(z.append("EmployeeID",$.payeeId),z.append("VendorID",""),z.append("CustomerID","")):$.payeeType==="Vendor"?(z.append("EmployeeID",""),z.append("VendorID",$.payeeId),z.append("CustomerID","")):$.payeeType==="Individual"&&(z.append("EmployeeID",""),z.append("VendorID",""),z.append("CustomerID",$.payeeId)),z.append("PayeeType",$.payeeType),z.append("Payee",(w==null?void 0:w.Name)||(w==null?void 0:w.FirstName)+" "+(w==null?void 0:w.MiddleName)+" "+(w==null?void 0:w.LastName)||""),z.append("Address",(w==null?void 0:w.StreetAddress)||""),z.append("InvoiceNumber",$.obrNo),z.append("InvoiceDate",$.obrDate),z.append("ResponsibilityCenter",$.responsibilityCenter);const ne=$.accountingEntries.reduce((K,H)=>K+Number(H.subtotal||0),0),xe=$.accountingEntries.reduce((K,H)=>K+Number(H.ewt||0),0),ee=$.accountingEntries.reduce((K,H)=>K+Number(H.withheld||0),0),re=$.accountingEntries.reduce((K,H)=>K+Number(H.vat||0),0),_e=$.accountingEntries.reduce((K,H)=>K+Number(H.discount||0),0);z.append("Total",ne.toFixed(2)),z.append("EWT",xe.toFixed(2)),z.append("WithheldAmount",ee.toFixed(2)),z.append("Vat_Total",re.toFixed(2)),z.append("Discounts",_e.toFixed(2)),z.append("FundsID",$.fund),z.append("FiscalYearID",$.fiscalYear),z.append("ProjectID",$.project),z.append("TravelID",""),z.append("Items",JSON.stringify($.accountingEntries)),$.Attachments.forEach((K,H)=>{K.File?z.append(`Attachments[${H}].File`,K.File):K.ID&&z.append(`Attachments[${H}].ID`,K.ID)}),z.append("OBR_LinkID",$.OBR_LinkID||""),z.append("ContraAccountID",$.contraAccount),z.append("ModeOfPayment",$.modeOfPayment),z.append("BankID",$.bank),z.append("CheckNumber",$.checkNumber),z.append("ReceivedPaymentBy",$.receivedPaymentBy);const Z=t?Zy({formData:z,id:t.ID}):Xy(z);g(Z).unwrap().then(()=>{Me.success("Success"),e()}).catch(K=>{Me.error((K==null?void 0:K.message)||"Failed to submit")}).finally(()=>{N(!1)})},X=({type:$})=>{switch($){case"Employee":return s.jsx(DE,{className:"w-5 h-5"});case"Vendor":return s.jsx(Ik,{className:"w-5 h-5"});case"Individual":return s.jsx(Uv,{className:"w-5 h-5"});default:return null}};return s.jsx("div",{children:s.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:s.jsx(Be,{innerRef:j,initialValues:_,validationSchema:n0e,onSubmit:B,enableReinitialize:!0,children:({values:$,errors:z,touched:ne,handleChange:xe,handleBlur:ee,setFieldValue:re,setFieldTouched:_e,isValid:Z})=>{U($.items,$.taxes);const H=M$.map(ie=>({value:ie.value,label:ie.label})).find(ie=>ie.value===$.payeeType),Y=ie=>{S(null),re("payeeType",ie),re("payeeName",""),re("payeeId",""),re("payeeAddress",""),re("officeUnitProject",""),re("orsNumber","")},fe=ie=>{k(null),re("requestType",ie),$.payeeType&&$.payeeId&&ie&&g(Ky({requestType:ie,payeeType:$.payeeType,payeeId:$.payeeId}))},je=ie=>{var st,gt;k(ie);const Ee=(((st=ie==null?void 0:ie.raw)==null?void 0:st.TransactionItemsAll)||[]).map(G=>{var we,Pe,ze,Kt,En,xl,bl;const ue={Price:G.Price??0,Quantity:G.Quantity??1,DiscountRate:G.DiscountRate??0,Vatable:G.Vatable,withheldEWT:G.EWTRate??0},ve=zf({price:ue.Price,quantity:ue.Quantity,taxRate:G.TaxRate||0,discountPercent:ue.DiscountRate,vatable:ue.Vatable,ewtRate:ue.withheldEWT});return{...G,...ve,itemName:((we=G.Item)==null?void 0:we.Name)||"",subtotal:G.AmountDue||0,Remarks:G.Remarks||"",FPP:G.FPP||"",accountCode:((ze=(Pe=G.ChargeAccount)==null?void 0:Pe.ChartofAccounts)==null?void 0:ze.AccountCode)||"",accountName:((En=(Kt=G.ChargeAccount)==null?void 0:Kt.ChartofAccounts)==null?void 0:En.Name)||"",fundCode:((bl=(xl=ie==null?void 0:ie.raw)==null?void 0:xl.sourceFunds)==null?void 0:bl.Code)||""}});j.current&&(j.current.setFieldValue("accountingEntries",Ee),j.current.setFieldValue("OBR_LinkID",((gt=ie==null?void 0:ie.raw)==null?void 0:gt.LinkID)||""))},Ye=ie=>{let He=null;switch($.payeeType){case"Employee":He=i.find(Ee=>Ee.ID===ie);break;case"Vendor":He=o.find(Ee=>Ee.ID===ie);break;case"Individual":He=l.find(Ee=>Ee.ID===ie);break}S(He),re("payeeName",He==null?void 0:He.Name),re("payeeId",He==null?void 0:He.ID)},xt=ie=>{switch(ie){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return s.jsxs(We,{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"space-y-2",children:M$.map(ie=>s.jsxs("button",{type:"button",onClick:()=>Y(ie.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${$.payeeType===ie.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[s.jsx(X,{type:ie.value}),s.jsx("span",{className:"ml-3 font-medium",children:ie.label})]},ie.value))}),z.payeeType&&ne.payeeType&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.payeeType})]}),$.payeeType&&s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",H==null?void 0:H.label," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:xt($.payeeType),onChange:ie=>Ye(ie.value),value:xt($.payeeType).find(ie=>ie.value===$.payeeId)||null,className:"react-select-container",classNamePrefix:"react-select"}),z.payeeType&&ne.payeeType&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.payeeType})]}),w&&s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),s.jsx("div",{className:"text-sm text-gray-900",children:(H==null?void 0:H.label)==="Employee"?`${w.FirstName||""} ${w.MiddleName||""} ${w.LastName||""}`.trim():((H==null?void 0:H.label)==="Vendor"||(H==null?void 0:H.label)==="Individual",w.Name)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),s.jsx("div",{className:"text-sm text-gray-900",children:((H==null?void 0:H.label)==="Employee"||(H==null?void 0:H.label)==="Vendor"||(H==null?void 0:H.label)==="Individual",w.StreetAddress)})]})]})})})})]})]}),s.jsx("hr",{}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request for Payment"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Request Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"space-y-2",children:r0e.map(ie=>s.jsx("button",{type:"button",onClick:()=>fe(ie.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${$.requestType===ie.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:s.jsx("span",{className:"ml-3 font-medium",children:ie.label})},ie.value))}),z.requestType&&ne.requestType&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.requestType})]}),$.requestType&&s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Request ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:V.map(ie=>{var Ee,st,gt,G,ue,ve,we,Pe,ze,Kt;let He="";return $.payeeType==="Employee"?He=`${((Ee=ie.Employee)==null?void 0:Ee.FirstName)||""} ${((st=ie.Employee)==null?void 0:st.MiddleName)||""} ${((gt=ie.Employee)==null?void 0:gt.LastName)||""}`.trim():$.payeeType==="Individual"?!((G=ie.Employee)!=null&&G.FirstName)&&!((ue=ie.Employee)!=null&&ue.MiddleName)&&!((ve=ie.Employee)!=null&&ve.LastName)?He=ie.Name||"N/A":He=`${((we=ie.Employee)==null?void 0:we.FirstName)||""} ${((Pe=ie.Employee)==null?void 0:Pe.MiddleName)||""} ${((ze=ie.Employee)==null?void 0:ze.LastName)||""}`.trim():$.payeeType==="Vendor"&&(He=ie.Name||"N/A"),{value:ie.ID,label:`${ie.InvoiceNumber||""}  ${He}  ${ie.TIN||""}  ${ie.InvoiceDate}  ${((Kt=ie.sourceFunds)==null?void 0:Kt.Code)||""}`,raw:ie}}),isLoading:P,value:T,onChange:je,placeholder:P?"Loading":F?`Error: ${F}`:"Select request",className:"react-select-container",classNamePrefix:"react-select"}),z.requestType&&ne.requestType&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.requestType})]})]})]}),s.jsx("hr",{}),s.jsx(Yr,{name:"accountingEntries",children:({push:ie,remove:He})=>s.jsxs(s.Fragment,{children:[$.accountingEntries.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold text-sm",children:[s.jsx("span",{children:"ITEM"}),s.jsx("span",{children:"AMOUNT"}),s.jsx("span",{children:"AMOUNT DUE"}),s.jsx("span",{children:"REMARKS"}),s.jsx("span",{children:"FPP"}),s.jsx("span",{children:"ACCOUNT"}),s.jsx("span",{children:"ACCOUNT CODE"}),s.jsx("span",{children:"FUND CODE"})]}),$.accountingEntries.map((Ee,st)=>s.jsxs("div",{className:"grid grid-cols-8 gap-2 text-sm items-center border p-2 rounded",children:[s.jsx("span",{children:Ee.itemName}),s.jsx("span",{children:parseFloat(Ee.subtotal).toFixed(2)}),s.jsx("span",{children:parseFloat(Ee.subtotal).toFixed(2)}),s.jsx("span",{children:Ee.Remarks}),s.jsx("span",{children:Ee.FPP}),s.jsx("span",{children:Ee.accountCode}),s.jsx("span",{children:Ee.accountName}),s.jsx("span",{children:Ee.fundCode}),s.jsx("div",{className:"col-span-8 text-right",children:s.jsx("button",{type:"button",onClick:()=>He(st),className:"text-red-600 text-xs",children:""})})]},st)),s.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold pt-2 border-t",children:[s.jsx("div",{className:"col-span-7 text-right",children:"Total:"}),s.jsx("div",{className:"text-right",children:$.accountingEntries.reduce((Ee,st)=>Ee+Number(st.subtotal||0),0).toFixed(2)})]}),s.jsx("div",{className:"grid grid-cols-1 gap-2 font-semibold pt-2 border-t",children:s.jsx("div",{className:"text-right",children:Qbe($.accountingEntries.reduce((Ee,st)=>Ee+Number(st.subtotal||0),0).toFixed(2))})})]}),s.jsx(te,{isOpen:E,onClose:()=>O(!1),title:"Add Accounting Entry",size:"xl",children:s.jsx(VV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:p,budgetOptions:y,taxCodeFull:x,onClose:()=>O(!1),onSubmit:Ee=>{ie(Ee),O(!1)}})})]})}),z.accountingEntries&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.accountingEntries}),s.jsx("hr",{}),(()=>{const ie={};$.accountingEntries.forEach(Ee=>{console.log("entry",Ee);const st=Ee.TaxName||"N/A",gt=Ee.TaxRate||0,G=Number(Ee.WithheldAmount||0),ue=`${st}-${gt}`;ie[ue]||(ie[ue]={taxName:st,taxRate:gt,withheld:0}),ie[ue].withheld+=G});const He=Object.values(ie);return He.length?s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Taxes"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm font-semibold",children:[s.jsx("span",{children:"Tax Name"}),s.jsx("span",{className:"text-right",children:"TaxRate%"}),s.jsx("span",{className:"text-right",children:"TotalWithheld"})]}),He.map(({taxName:Ee,taxRate:st,withheld:gt},G)=>s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm border p-2 rounded",children:[s.jsx("span",{children:Ee}),s.jsx("span",{className:"text-right",children:parseFloat(st).toFixed(2)}),s.jsx("span",{className:"text-right",children:gt.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]},G))]}):null})(),s.jsx("hr",{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Payment Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contra Account"}),s.jsx(wr,{name:"contraAccount",options:b,onChange:ie=>re("contraAccount",ie==null?void 0:ie.value),value:b.find(ie=>ie.value===$.contraAccount)||null,classNamePrefix:"react-select"}),z.contraAccount&&ne.contraAccount&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.contraAccount})]}),s.jsx("div",{children:s.jsx(A,{type:"select",label:"Mode of Payment",name:"modeOfPayment",options:[{value:"Cash",label:"Cash"},{value:"Check",label:"Check"},{value:"Others",label:"Others"}],value:$.modeOfPayment,onChange:xe,onBlur:ee,error:z.modeOfPayment,touched:ne.modeOfPayment,required:!0})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{children:s.jsx(A,{type:"text",label:"Bank",name:"bank",value:$.bank,onChange:xe,onBlur:ee,error:z.bank,touched:ne.bank,required:!0})}),s.jsx("div",{children:s.jsx(A,{type:"text",label:"Check No.",name:"checkNumber",value:$.checkNumber,onChange:xe,onBlur:ee,error:z.checkNumber,touched:ne.checkNumber,required:!0})}),s.jsx("div",{children:s.jsx(A,{type:"text",label:"Received Payment By",name:"receivedPaymentBy",value:$.receivedPaymentBy,onChange:xe,onBlur:ee,error:z.receivedPaymentBy,touched:ne.receivedPaymentBy,required:!0})})]})]}),s.jsx("hr",{}),s.jsx(Yr,{name:"Attachments",render:({remove:ie,push:He})=>{var Ee;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>He({File:null}),children:"+ Attachment"})]}),(Ee=$.Attachments)==null?void 0:Ee.map((st,gt)=>s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[st.ID?s.jsxs("div",{className:"flex-1",children:[s.jsx("a",{href:`${API_URL}/uploads/${st.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:st.DataName}),s.jsx("input",{type:"hidden",name:`Attachments[${gt}].ID`,value:st.ID})]}):s.jsxs("div",{className:"flex-1 min-w-[300px]",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${gt+1}`}),s.jsx("input",{type:"file",name:`Attachments[${gt}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:G=>re(`Attachments[${gt}].File`,G.currentTarget.files[0]),onBlur:ee,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),s.jsx(mt,{type:"button",onClick:()=>ie(gt),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:s.jsx(Mr,{className:"w-4 h-4"})})]},gt))]})}}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function s0e(){const t=ce(),{disbursementVouchers:e,isLoading:r}=W(S=>S.disbursementVouchers),{employees:n}=W(S=>S.employees),{customers:a}=W(S=>S.customers),{vendorDetails:i}=W(S=>S.vendorDetails),{departments:o}=W(S=>S.departments),{projectDetails:l}=W(S=>S.projectDetails),{funds:c}=W(S=>S.funds),{fiscalYears:u}=W(S=>S.fiscalYears),{items:d}=W(S=>S.items),{taxCodes:f}=W(S=>S.taxCodes),{itemUnits:m}=W(S=>S.itemUnits),{budgets:h}=W(S=>S.budget),p=W(S=>{var T;return((T=S.chartOfAccounts)==null?void 0:T.accounts)||[]}),[y,x]=v.useState("list"),[b,g]=v.useState(null);v.useEffect(()=>{t(Jy()),t(Un()),t(wi()),t(Do()),t(zn()),t($o()),t(Wn()),t(ji()),t(vi()),t(_a()),t(Ra()),t(Ro()),t(yn())},[t]);const j=()=>{g(null),x("form")},C=S=>{g(S),x("form")},N=()=>{x("list"),g(null)},w=[{key:"Status",header:"Status",sortable:!0,render:S=>{let T="bg-neutral-100 text-neutral-800";switch(S){case"Requested":T="bg-warning-100 text-warning-800";break;case"Pending Approval":T="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":T="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":T="bg-error-100 text-error-800";break}return s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T}`,children:S})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:S=>new Date(S).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return s.jsxs("div",{children:[y==="list"&&s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Disbursement Vouchers"}),s.jsx("p",{children:"Manage disbursement vouchers"})]}),s.jsxs("button",{type:"button",onClick:j,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create DV"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:w,data:e,actions:S=>{var k;const T=[];return((k=S.Transaction)==null?void 0:k.Status)==="Rejected"&&T.push({icon:Ne,title:"Edit",onClick:()=>handleEditOR(S),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),T},loading:r})})]}),y==="form"&&s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:s.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),s.jsxs("div",{children:[s.jsx("h1",{children:b?"Edit Disbursement Voucher":"Create Disbursement Voucher"}),s.jsxs("p",{children:["Fill out the form to"," ",b?"update":"create"," a disbursement voucher"]})]})]})})}),s.jsx("div",{className:"mt-4",children:s.jsx(a0e,{initialData:b,employeeOptions:n.map(S=>({value:S.ID,label:S.FirstName+" "+S.MiddleName+" "+S.LastName})),vendorOptions:i.map(S=>({value:S.ID,label:S.Name})),individualOptions:a.map(S=>({value:S.ID,label:S.Name})),chartOfAccountsOptions:(p||[]).map(S=>({value:S.ID,label:S.AccountCode+" - "+S.Name})),employeeData:n,vendorData:i,individualData:a,departmentOptions:o.map(S=>({value:S.ID,label:S.Name})),fundOptions:c.map(S=>({value:S.ID,label:S.Name})),projectOptions:l.map(S=>({value:S.ID,label:S.Title})),fiscalYearOptions:u.map(S=>({value:S.ID,label:S.Name})),particularsOptions:d.map(S=>({value:S.ID,label:S.Name})),unitOptions:m.map(S=>({value:S.ID,label:S.Name})),taxCodeOptions:f.map(S=>({value:S.ID,label:S.Name})),budgetOptions:h.map(S=>({value:S.ID,label:S.Name})),taxCodeFull:f,onCancel:N,onSubmitSuccess:N,onClose:N})})]}),y==="details"&&b&&s.jsx("div",{children:s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:s.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),s.jsxs("div",{children:[s.jsx("h1",{children:"Disbursement Voucher Details"}),s.jsx("p",{children:"View and manage disbursement voucher details"})]})]}),s.jsxs("button",{type:"button",onClick:()=>C(b),className:"btn btn-primary flex items-center",children:[s.jsx(Ne,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit DV"]})]})})})]})}function i0e({initialData:t,onSubmit:e,onClose:r,officeOptions:n,employeeOptions:a}){const i="https://staging-engine.testthelink.online",{departments:o}=W(g=>g.departments),{employees:l}=W(g=>g.employees),{budgets:c}=W(g=>g.budget),u=ce();v.useEffect(()=>{u(zn()),u(Un()),u(Ro())},[u]);const d=le({BudgetID:D().required("Office is required"),DateStart:De().required("Start Date is required"),DateEnd:De().required("End Date is required"),Place:D().required("Place/Office to be visited is required"),Venue:D().required("Venue/Destination is required"),Remarks:D(),Purpose:D().required("Purpose of Travel is required"),Travelers:Vn().of(le({TravelerID:D().required("Employee is required")})).min(1,"At least one traveler is required"),TravelPayments:Vn().of(le({Amount:oe().required("Amount is required"),BudgetID:D().required("Budget of Fund is required"),Type:D().required("Type is required")})).min(1,"At least one expense is required"),TravelDocuments:Vn().of(le({Name:D().required("Document name is required")})).min(1,"At least one document is required")}),f=Ze({initialValues:t||{BudgetID:"",DateStart:"",DateEnd:"",Place:"",Venue:"",Remarks:"",Purpose:"",Plane:!1,Vessels:!1,PUV:!1,ServiceVehicle:!1,RentedVehicle:!1,Travelers:[{TravelerID:""}],TravelPayments:[{Amount:"",BudgetID:"",Type:""}],TravelDocuments:[{Name:""}],Attachments:[]},validationSchema:d,onSubmit:async(g,j)=>{const C=new FormData;for(const N in g)N==="Attachments"?g.Attachments.forEach((w,S)=>{w.File?C.append(`Attachments[${S}].File`,w.File):w.ID&&C.append(`Attachments[${S}].ID`,w.ID)}):C.append(N,JSON.stringify(g[N]));try{await e(C)}catch(N){console.error(N)}finally{j(!1)}}}),{values:m,handleChange:h,handleBlur:p,errors:y,touched:x,isSubmitting:b}=f;return s.jsx(NE,{value:f,children:s.jsxs("form",{onSubmit:f.handleSubmit,className:"space-y-4",children:[s.jsx(A,{type:"select",label:"Office",name:"BudgetID",options:o.map(g=>({value:g.ID,label:g.Name})),value:m.BudgetID,onChange:h,onBlur:p,error:y.BudgetID,touched:x.BudgetID,required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(A,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:h,onBlur:p,error:y.DateStart,touched:x.DateStart,required:!0}),s.jsx(A,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:h,onBlur:p,error:y.DateEnd,touched:x.DateEnd,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(A,{label:"Place/Office to be visited",name:"Place",type:"text",value:m.Place,onChange:h,onBlur:p,error:y.Place,touched:x.Place,required:!0}),s.jsx(A,{label:"Venue/Destination",name:"Venue",type:"text",value:m.Venue,onChange:h,onBlur:p,error:y.Venue,touched:x.Venue,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(A,{type:"textarea",label:"Remarks",name:"Remarks",value:m.Remarks,onChange:h,onBlur:p,error:y.Remarks,touched:x.Remarks}),s.jsx(A,{type:"textarea",label:"Purpose of Travel",name:"Purpose",value:m.Purpose,onChange:h,onBlur:p,error:y.Purpose,touched:x.Purpose,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-medium block mb-2",children:"Means of Transportation"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"Plane",checked:m.Plane,onChange:h,onBlur:p}),s.jsx("span",{children:"Plane"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"Vessels",checked:m.Vessels,onChange:h,onBlur:p}),s.jsx("span",{children:"Ship/Boat"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"PUV",checked:m.PUV,onChange:h,onBlur:p}),s.jsx("span",{children:"PUV"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"ServiceVehicle",checked:m.ServiceVehicle,onChange:h,onBlur:p}),s.jsx("span",{children:"LGU Service Vehicle"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"RentedVehicle",checked:m.RentedVehicle,onChange:h,onBlur:p}),s.jsx("span",{children:"Vehicle for Rent"})]})]})]}),s.jsx("hr",{}),s.jsx(Yr,{name:"Travelers",render:({remove:g,push:j})=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"font-medium",children:"Travelers"}),s.jsx(mt,{type:"button",onClick:()=>j({TravelerID:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),m.Travelers.map((C,N)=>{var w,S,T,k;return s.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[s.jsx(A,{type:"select",label:`Employee ${N+1}`,name:`Travelers[${N}].TravelerID`,options:l.map(E=>({value:E.ID,label:E.FirstName+" "+E.MiddleName+" "+E.LastName})),value:C.TravelerID,onChange:h,onBlur:p,error:(S=(w=y.Travelers)==null?void 0:w[N])==null?void 0:S.TravelerID,touched:(k=(T=x.Travelers)==null?void 0:T[N])==null?void 0:k.TravelerID,className:"min-w-[300px]",required:!0}),s.jsx(mt,{type:"button",onClick:()=>g(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:m.Travelers.length===1,children:s.jsx(Mr,{className:"w-4 h-4"})})]},N)})]})}),s.jsx("hr",{}),s.jsx(Yr,{name:"TravelPayments",render:({remove:g,push:j})=>{var C,N;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"font-medium",children:"Expenses"}),s.jsx(mt,{type:"button",onClick:()=>j({Amount:"",BudgetID:"",Type:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(C=m.TravelPayments)==null?void 0:C.map((w,S)=>{var T,k,E,O,M,I,V,P,F,U,R,_;return s.jsxs("div",{className:"flex flex-wrap items-center items-end gap-4 mb-2",children:[s.jsx(A,{type:"number",label:"Amount",name:`TravelPayments[${S}].Amount`,value:w.Amount,onChange:h,onBlur:p,error:(k=(T=y.TravelPayments)==null?void 0:T[S])==null?void 0:k.Amount,touched:(O=(E=x.TravelPayments)==null?void 0:E[S])==null?void 0:O.Amount,className:"max-w-[180px] flex-1",required:!0}),s.jsx(A,{type:"select",label:"Source of Fund",name:`TravelPayments[${S}].BudgetID`,options:c.map(B=>({value:B.id,label:B.budgetName})),value:w.BudgetID,onChange:h,onBlur:p,error:(I=(M=y.TravelPayments)==null?void 0:M[S])==null?void 0:I.BudgetID,touched:(P=(V=x.TravelPayments)==null?void 0:V[S])==null?void 0:P.BudgetID,className:"min-w-[200px] flex-1",required:!0}),s.jsx(A,{type:"select",label:"Type",name:`TravelPayments[${S}].Type`,options:[{label:"One Time Payment",value:"1"},{label:"Per Day",value:"2"}],value:w.Type,onChange:h,onBlur:p,error:(U=(F=y.TravelPayments)==null?void 0:F[S])==null?void 0:U.Type,touched:(_=(R=x.TravelPayments)==null?void 0:R[S])==null?void 0:_.Type,className:"min-w-[100px] flex-1",required:!0}),s.jsx(mt,{type:"button",onClick:()=>g(S),className:"bg-red-600 hover:bg-red-700 text-white p-1 mt-2",disabled:m.TravelPayments.length===1,children:s.jsx(Mr,{className:"w-4 h-4"})})]},S)}),s.jsxs("div",{className:"flex justify-end text-right mt-4",children:[s.jsx("label",{className:"font-semibold mr-2",children:"Total:"}),s.jsx("span",{className:"",children:(N=m.TravelPayments)==null?void 0:N.reduce((w,S)=>{const T=parseFloat(S.Amount);return w+(isNaN(T)?0:T)},0).toFixed(2)})]})]})}}),s.jsx("hr",{}),s.jsx(Yr,{name:"TravelDocuments",render:({remove:g,push:j})=>{var C;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"font-medium",children:"Documents Required"}),s.jsx(mt,{type:"button",onClick:()=>j({Name:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(C=m.TravelDocuments)==null?void 0:C.map((N,w)=>{var S,T,k,E;return s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx(A,{type:"text",label:`Document ${w+1}`,name:`TravelDocuments[${w}].Name`,value:N.Name,onChange:h,onBlur:p,error:(T=(S=y.TravelDocuments)==null?void 0:S[w])==null?void 0:T.Name,touched:(E=(k=x.TravelDocuments)==null?void 0:k[w])==null?void 0:E.Name,className:"flex-1 min-w-[300px]",required:!0}),s.jsx(mt,{type:"button",onClick:()=>g(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:m.TravelDocuments.length===1,children:s.jsx(Mr,{className:"w-4 h-4"})})]},w)})]})}}),s.jsx("hr",{}),s.jsx(Yr,{name:"Attachments",render:({remove:g,push:j})=>{var C;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"font-medium",children:"Attachments"}),s.jsx(mt,{type:"button",onClick:()=>j({File:null}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(C=m.Attachments)==null?void 0:C.map((N,w)=>s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[N.ID?s.jsxs("div",{className:"flex-1",children:[s.jsx("a",{href:`${i}/uploads/${N.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:N.DataName}),s.jsx("input",{type:"hidden",name:`Attachments[${w}].ID`,value:N.ID})]}):s.jsxs("div",{className:"flex-1 min-w-[300px]",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${w+1}`}),s.jsx("input",{type:"file",name:`Attachments[${w}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:S=>f.setFieldValue(`Attachments[${w}].File`,S.currentTarget.files[0]),onBlur:p,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),s.jsx(mt,{type:"button",onClick:()=>g(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:s.jsx(Mr,{className:"w-4 h-4"})})]},w))]})}}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx(mt,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx(mt,{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":"Save"})]})]})})}function o0e({to:t,onClose:e,onEdit:r}){const n=l=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l),a=l=>new Date(l).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),i=l=>new Date(l).toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),o=l=>{let c="bg-neutral-100 text-neutral-800";switch(l){case"Pending Recommendation":c="bg-warning-100 text-warning-800";break;case"Pending Approval":c="bg-primary-100 text-primary-800";break;case"Approved":case"Liquidated":c="bg-success-100 text-success-800";break;case"Cancelled":c="bg-error-100 text-error-800";break}return c};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${o(t.status)}`,children:t.status}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[s.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[s.jsx(Bi,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Travel Order Details"}),s.jsxs("dl",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"TO Number"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.toNumber})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.toDate)})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Employee Information"}),s.jsxs("dl",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Employee Name"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.employeeName})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Position"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.position})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Travel Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:s.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Destination"}),s.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.destination})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Means of Travel"}),s.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.meansOfTravel||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Departure"}),s.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:i(t.departureDate)})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Return"}),s.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:i(t.returnDate)})]})]})}),s.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Purpose"}),s.jsx("dd",{className:"mt-1 text-sm text-neutral-900 whitespace-pre-line",children:t.purpose})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[s.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Estimated Expenses"}),s.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.estimatedExpenses)})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),s.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[s.jsxs("li",{className:"mb-6 ml-6",children:[s.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:s.jsx(Q4,{className:"w-5 h-5 text-success-600"})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),s.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),s.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),s.jsxs("li",{className:"mb-6 ml-6",children:[s.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:s.jsx(Z4,{className:"w-5 h-5 text-warning-600"})}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Recommendation"}),s.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),s.jsxs("li",{className:"mb-6 ml-6",children:[s.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:s.jsx(aB,{className:"w-5 h-5 text-neutral-400"})}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),s.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for recommendation"})]})})]})]})})})]}),s.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:s.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const Pj="https://staging-engine.testthelink.online",l0e=[],Qy=L("travelOrders/fetchTravelOrders",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Pj}/travelOrder`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ex=L("travelOrders/addTravelOrder",async(t,e)=>{try{const r=await fetch(`${Pj}/travelOrder`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Q2=L("travelOrders/updateTravelOrder",async(t,e)=>{try{let r,n={method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:null};t instanceof FormData?(r=t.get("ID"),t.delete("ID"),n.body=t):(r=t.ID,n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t));const a=await fetch(`${Pj}/travelOrder/${r}`,n),i=await a.json();if(!a.ok)throw new Error(i.error||i.message||"Failed to update");return i}catch(r){return e.rejectWithValue(r.message)}}),tx=L("travelOrders/deleteTravelOrder",async(t,e)=>{try{const r=await fetch(`${Pj}/travelOrder/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),c0e=me({name:"travelOrders",initialState:{travelOrders:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Qy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qy.fulfilled,(e,r)=>{e.isLoading=!1,e.travelOrders=Array.isArray(r.payload)?r.payload:[]}).addCase(Qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch travel orders",console.warn("Failed to fetch travel orders, using mock data.",e.error),e.travelOrders=l0e}).addCase(ex.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ex.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders.push(r.payload)}).addCase(ex.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add travel order",console.error("Failed to add travel order:",e.error)}).addCase(Q2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Q2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.travelOrders.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders[n]=r.payload)}).addCase(tx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders=e.travelOrders.filter(n=>n.ID!==r.payload)}).addCase(tx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete travel order",console.error("Failed to delete travel order:",e.error)})}}),u0e=c0e.reducer;function d0e(){const t=ce(),{travelOrders:e,isLoading:r}=W(b=>b.travelOrders),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Qy())},[t]);const f=async b=>{try{u?await t(Q2({...b,ID:u.ID})).unwrap():await t(ex(b)).unwrap(),o(!1),d(null),Me.success("Success")}catch(g){throw Me.error(g||"Failed"),g}},m=()=>{d(null),o(!0)},h=async()=>{if(u)try{await t(tx(u.ID)).unwrap(),a(!1),d(null)}catch(b){console.error("Failed to delete travel order:",b)}},p=()=>{o(!1),d(null)},y=()=>{c(!1),d(null)},x=[{key:"TransactionStatus",header:"Status",sortable:!0,render:b=>{let g="bg-neutral-100 text-neutral-800";switch(b){case"Requested":g="bg-warning-100 text-warning-800";break;case"Approval Progress":g="bg-primary-100 text-primary-800";break;case"Rejected":g="bg-error-100 text-error-800";break}return s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${g}`,children:b})}},{key:"BudgetDepartmentName",header:"Office",sortable:!0},{key:"DateCreated",header:"Date of Filing",sortable:!0},{key:"InvoiceNumber",header:"Travel Order No.",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position/Designation",header:"Position/Designation",sortable:!0},{key:"No_of_Days",header:"No. of Days",sortable:!0}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Travel Orders"}),s.jsx("p",{children:"Manage travel orders and authorizations"})]}),s.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create Travel Order"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b=>[],loading:r})}),s.jsx(te,{isOpen:i,onClose:p,title:u?"Edit Travel Order":"Create Travel Order",size:"xl",children:s.jsx(i0e,{initialData:u,onSubmit:f,onClose:p})}),s.jsx(te,{isOpen:l,onClose:y,title:"Travel Order Details",size:"lg",children:u&&s.jsx(o0e,{to:u,onClose:y,onEdit:()=>{c(!1),o(!0)},officeOptions:[],employeeOptions:[]})}),s.jsxs(te,{isOpen:n,onClose:()=>a(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the travel order "',u==null?void 0:u.TravelOrderNumber,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function f0e({initialData:t,onSubmit:e,onClose:r,typeOptions:n,fundOptions:a,centerOptions:i,accountOptions:o}){const l="https://staging-engine.testthelink.online",c=le({JEVType:D().required("Type is required"),FundsID:D().required("Fund is required"),InvoiceDate:De().required("Date is required"),SAI_No:D().required("DV No is required"),Remarks:D().required("Particulars are required"),ObligationRequestNumber:D().required("OBR No is required"),CheckNumber:D().required("Check No is required"),CheckDate:De().required("Check Date is required"),AccountingEntries:Vn().of(le({ResponsibilityCenter:D().required("Required"),AccountExplanation:D().required("Required"),PR:D().required("Required"),Debit:oe().nullable().typeError("Must be a number").required("Debit is required"),Credit:oe().nullable().typeError("Must be a number").required("Credit is required")})).min(1,"At least one entry is required")}),[u,d]=v.useState(""),f=Ze({initialValues:t||{JEVType:"",FundsID:"",InvoiceDate:"",SAI_No:"",Remarks:"",Payee:"",ObligationRequestNumber:"",CheckNumber:"",CheckDate:"",AccountingEntries:[{ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}],Attachments:[]},validationSchema:c,onSubmit:async(b,g)=>{const j=b.AccountingEntries.reduce((w,S)=>w+(parseFloat(S.Debit)||0),0),C=b.AccountingEntries.reduce((w,S)=>w+(parseFloat(S.Credit)||0),0);if(j!==C){d("Total Debit must be equal to Total Credit.");return}else d("");const N=new FormData;for(const w in b)w==="Attachments"?b.Attachments.forEach((S,T)=>{S.File?N.append(`Attachments[${T}].File`,S.File):S.ID&&N.append(`Attachments[${T}].ID`,S.ID)}):N.append(w,JSON.stringify(b[w]));try{await e(N)}catch(w){console.error(w)}finally{g(!1)}}}),{values:m,handleChange:h,handleBlur:p,errors:y,touched:x}=f;return s.jsx(NE,{value:f,children:s.jsxs("form",{onSubmit:f.handleSubmit,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(A,{type:"select",label:"Type",name:"JEVType",options:n,value:m.JEVType,onChange:h,onBlur:p,error:y.JEVType,touched:x.JEVType,required:!0}),s.jsx(A,{type:"select",label:"Fund",name:"FundsID",options:a,value:m.FundsID,onChange:h,onBlur:p,error:y.FundsID,touched:x.FundsID,required:!0}),s.jsx(A,{type:"date",label:"Invoice Date",name:"InvoiceDate",value:m.InvoiceDate,onChange:h,onBlur:p,error:y.InvoiceDate,touched:x.InvoiceDate,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(A,{type:"text",label:"DV No",name:"SAI_No",value:m.SAI_No,onChange:h,onBlur:p,error:y.SAI_No,touched:x.SAI_No,required:!0}),s.jsx(A,{type:"text",label:"Remarks",name:"Remarks",value:m.Remarks,onChange:h,onBlur:p,error:y.Remarks,touched:x.Remarks,required:!0}),s.jsx(A,{type:"text",label:"Payee",name:"Payee",value:m.Payee,onChange:h,onBlur:p,error:y.Payee,touched:x.Payee})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(A,{type:"text",label:"OBR No",name:"ObligationRequestNumber",value:m.ObligationRequestNumber,onChange:h,onBlur:p,error:y.ObligationRequestNumber,touched:x.ObligationRequestNumber,required:!0}),s.jsx(A,{type:"text",label:"Check No",name:"CheckNumber",value:m.CheckNumber,onChange:h,onBlur:p,error:y.CheckNumber,touched:x.CheckNumber,required:!0}),s.jsx(A,{type:"date",label:"Check Date",name:"CheckDate",value:m.CheckDate,onChange:h,onBlur:p,error:y.CheckDate,touched:x.CheckDate,required:!0})]}),s.jsx("hr",{}),s.jsx(Yr,{name:"AccountingEntries",render:({remove:b,push:g})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"font-medium",children:"Accounting Entries"}),s.jsx(mt,{type:"button",onClick:()=>g({ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),m.AccountingEntries.map((j,C)=>{var N,w,S,T,k,E,O,M,I,V,P,F,U,R,_,B,X,$;return s.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 w-full",children:[s.jsx(A,{className:"flex-1 min-w-[200px]",type:"select",label:"Responsibility Center",name:`AccountingEntries[${C}].ResponsibilityCenter`,options:i,value:j.ResponsibilityCenter,onChange:h,onBlur:p,error:(w=(N=y.AccountingEntries)==null?void 0:N[C])==null?void 0:w.ResponsibilityCenter,touched:(T=(S=x.AccountingEntries)==null?void 0:S[C])==null?void 0:T.ResponsibilityCenter,required:!0}),s.jsxs("div",{className:"flex-1 min-w-[200px]",children:[s.jsx("div",{children:s.jsxs("label",{className:"form-label",children:["Accounts and Explanation ",s.jsx("span",{className:"text-error-500",children:"*"})]})}),s.jsx(wr,{label:"Accounts and Explanation",options:o,placeholder:"Select an account...",isSearchable:!0,onChange:z=>f.setFieldValue(`AccountingEntries[${C}].AccountExplanation`,(z==null?void 0:z.value)||""),name:`AccountingEntries[${C}].AccountExplanation`,value:o.find(z=>z.value===j.AccountExplanation)||null,onBlur:p,required:!0}),((E=(k=y.AccountingEntries)==null?void 0:k[C])==null?void 0:E.AccountExplanation)&&s.jsx("div",{className:"text-sm text-red-600 mt-1",children:y.AccountingEntries[C].AccountExplanation})]}),s.jsx(A,{className:"flex-1 max-w-[150px]",type:"text",label:"PR",name:`AccountingEntries[${C}].PR`,value:j.PR,onChange:h,onBlur:p,error:(M=(O=y.AccountingEntries)==null?void 0:O[C])==null?void 0:M.PR,touched:(V=(I=x.AccountingEntries)==null?void 0:I[C])==null?void 0:V.PR,required:!0}),s.jsx(A,{className:"flex-1 max-w-[150px]",type:"number",label:"Debit",name:`AccountingEntries[${C}].Debit`,value:j.Debit,onChange:h,onBlur:p,error:(F=(P=y.AccountingEntries)==null?void 0:P[C])==null?void 0:F.Debit,touched:(R=(U=x.AccountingEntries)==null?void 0:U[C])==null?void 0:R.Debit,required:!0}),s.jsx(A,{className:"flex-1 max-w-[150px]",type:"number",label:"Credit",name:`AccountingEntries[${C}].Credit`,value:j.Credit,onChange:h,onBlur:p,error:(B=(_=y.AccountingEntries)==null?void 0:_[C])==null?void 0:B.Credit,touched:($=(X=x.AccountingEntries)==null?void 0:X[C])==null?void 0:$.Credit,required:!0})]}),s.jsx("div",{className:"flex justify-end pt-0",children:s.jsx(mt,{type:"button",onClick:()=>b(C),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:m.AccountingEntries.length===1,children:s.jsx(Mr,{className:"w-4 h-4"})})})]},C)}),s.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[s.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),s.jsx("div",{className:"col-span-2 text-right",children:s.jsxs("div",{className:"text-green-600 font-bold",children:[m.AccountingEntries.reduce((j,C)=>j+(parseFloat(C.Debit)||0),0).toFixed(2)," ",s.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(debit)"})]})}),s.jsx("div",{className:"col-span-2 text-right",children:s.jsxs("div",{className:"text-red-600 font-bold",children:[m.AccountingEntries.reduce((j,C)=>j+(parseFloat(C.Credit)||0),0).toFixed(2)," ",s.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(credit)"})]})})]})]})}),s.jsx("hr",{}),s.jsx(Yr,{name:"Attachments",render:({remove:b,push:g})=>{var j;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"mb-2 mt-10",children:[s.jsx("label",{className:"font-medium",children:"Attachments"}),s.jsx(mt,{type:"button",onClick:()=>g({File:null}),className:"btn btn-sm btn-primary ml-5",children:"+ Add"})]}),(j=m.Attachments)==null?void 0:j.map((C,N)=>s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[C.ID?s.jsxs("div",{className:"flex-1",children:[s.jsx("a",{href:`${l}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:C.DataName}),s.jsx("input",{type:"hidden",name:`Attachments[${N}].ID`,value:C.ID})]}):s.jsxs("div",{className:"flex-1 min-w-[300px]",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${N+1}`}),s.jsx("input",{type:"file",name:`Attachments[${N}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:w=>f.setFieldValue(`Attachments[${N}].File`,w.currentTarget.files[0]),onBlur:p,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),s.jsx(mt,{type:"button",onClick:()=>b(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:s.jsx(Mr,{className:"w-4 h-4"})})]},N))]})}}),u&&s.jsx("div",{className:"text-red-600 text-sm font-medium text-right",children:u}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx(mt,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx(mt,{type:"submit",className:"btn btn-primary",disabled:f.isSubmitting,children:f.isSubmitting?"Saving...":"Save"})]})]})})}const Dj="https://staging-engine.testthelink.online",m0e=[],rx=L("journalEntries/fetchJournalEntries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Dj}/journalEntryVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),nx=L("journalEntries/addJournalEntry",async(t,e)=>{try{const r=await fetch(`${Dj}/journalEntryVoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),eA=L("journalEntries/updateJournalEntry",async(t,e)=>{try{const r=await fetch(`${Dj}/journalEntryVoucher/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ax=L("journalEntries/deleteJournalEntry",async(t,e)=>{try{const r=await fetch(`${Dj}/journalEntryVoucher/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),h0e=me({name:"journalEntries",initialState:{journalEntries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(rx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rx.fulfilled,(e,r)=>{e.isLoading=!1,e.journalEntries=Array.isArray(r.payload)?r.payload:[]}).addCase(rx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch journal entries",console.warn("Failed to fetch journal entries, using mock data.",e.error),e.journalEntries=m0e}).addCase(nx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries.push(r.payload)}).addCase(nx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add journal entry",console.error("Failed to add journal entry:",e.error)}).addCase(eA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries[n]=r.payload)}).addCase(ax.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ax.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries=e.journalEntries.filter(n=>n.ID!==r.payload)}).addCase(ax.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete journal entry",console.error("Failed to delete journal entry:",e.error)})}}),p0e=h0e.reducer;function g0e(){var j;const{departments:t}=W(C=>C.departments),{accounts:e}=W(C=>C.chartOfAccounts),r=[{label:"Cash Disbursement",value:"Cash Disbursement"},{label:"Check Disbursement",value:"Check Disbursement"},{label:"Collection",value:"Collection"},{label:"Others",value:"Others"}],n=[{label:"General Fund",value:"1"},{label:"Trust Fund",value:"2"},{label:"Special Education Fund",value:"3"}],a=ce(),{journalEntries:i,isLoading:o}=W(C=>C.journalEntries),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,p]=v.useState(null);v.useEffect(()=>{a(rx()),a(zn()),a(yn())},[a]);const y=()=>{d(null),c(!0)},x=async()=>{if(h)try{await a(ax(h.ID)).unwrap(),m(!1),p(null)}catch(C){console.error("Failed to delete journal entry:",C)}},b=async C=>{try{u?await a(eA({...C,ID:u.ID})).unwrap():await a(nx(C)).unwrap(),c(!1),d(null),Me.success("Success")}catch(N){throw Me.error(N||"Failed"),N}},g=[{key:"Status",header:"Status",sortable:!0,render:C=>{let N="bg-neutral-100 text-neutral-800";switch(C){case"Requested":N="bg-warning-100 text-warning-800";break;case"Posted":N="bg-primary-100 text-primary-800";break;case"Rejected":N="bg-error-100 text-error-800";break}return s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:C})}},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"InvoiceNumber",header:"Invoice No.",sortable:!0},{key:"JEVType",header:"Jev Type",sortable:!0},{key:"FundsName",header:"Fund",sortable:!0},{key:"ObligationRequestNumber",header:"OBR No.",sortable:!0},{key:"SAI_No",header:"DV No.",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"CheckDate",header:"Check Date",sortable:!0},{key:"Total",header:"Total",sortable:!0}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Journal Entries"}),s.jsx("p",{children:"Manage Journal Entries"})]}),s.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Journal Entry"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:g,data:i,actions:C=>[],loading:o,emptyMessage:"No journal entries found. Click 'Add Journal Entry' to create one."})}),s.jsx(te,{size:"xxxl",isOpen:l,onClose:()=>c(!1),title:u?"Edit Journal Entry":"Add Journal Entry",children:s.jsx(f0e,{typeOptions:r,fundOptions:n,centerOptions:t.filter(C=>C.Active).map(C=>({label:C.Name,value:C.ID})),accountOptions:e.filter(C=>C.Active).map(C=>({label:C.AccountCode+" "+C.Name,value:C.ID})),initialData:u?{...u,AccountingEntries:((j=u.JournalEntries)==null?void 0:j.map(C=>{const N=e.find(w=>w.AccountCode===C.AccountCode&&w.Name===C.AccountName);return{ResponsibilityCenter:C.ResponsibilityCenter||"",AccountExplanation:(N==null?void 0:N.ID)||"",PR:C.PR||"",Debit:C.Debit||0,Credit:C.Credit||0}}))||[]}:null,onClose:()=>c(!1),onSubmit:b})}),s.jsxs(te,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the journal entry "',h==null?void 0:h.Name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}function y0e({chartOfAccounts:t=[],funds:e=[],disbursementTypes:r=[],onView:n,onGenerateJournal:a,onExportExcel:i}){const o=v.useRef(null),l=le({DateStart:D().required("Start Date is required"),DateEnd:D().required("End Date is required"),ChartOfAccountID:D().required("Chart of Accounts is required"),FundID:D().required("Fund is required"),DisbursementType:D().required("Disbursement Type is required")}),c={DateStart:"",DateEnd:"",ChartOfAccountID:"",FundID:"",DisbursementType:""},u=(d,{setSubmitting:f})=>{const m=o.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&i(d),f(!1),o.current=null};return s.jsx(Be,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:y})=>s.jsxs(We,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:[s.jsx(A,{label:"Start Date",name:"DateStart",type:"date",value:d.DateStart,onChange:h,onBlur:p,error:f.DateStart,touched:m.DateStart,required:!0}),s.jsx(A,{label:"End Date",name:"DateEnd",type:"date",value:d.DateEnd,onChange:h,onBlur:p,error:f.DateEnd,touched:m.DateEnd,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(A,{type:"select",label:"Chart of Accounts",name:"ChartOfAccountID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.ChartOfAccountID,onChange:h,onBlur:p,error:f.ChartOfAccountID,touched:m.ChartOfAccountID,required:!0}),s.jsx(A,{type:"select",label:"Fund",name:"FundID",options:e.map(x=>({value:x.ID,label:x.Name})),value:d.FundID,onChange:h,onBlur:p,error:f.FundID,touched:m.FundID,required:!0}),s.jsx(A,{type:"select",label:"Disbursement Type",name:"DisbursementType",options:r.map(x=>({value:x.value,label:x.label})),value:d.DisbursementType,onChange:h,onBlur:p,error:f.DisbursementType,touched:m.DisbursementType,required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>o.current="view",children:"View"}),s.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Journal"}),s.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>o.current="export",children:"Export to Excel"})]})]})})}const x0e="https://staging-engine.testthelink.online",b0e={disbursementJournals:[],isLoading:!1,error:null},sx=L("disbursementJournal/fetchJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${x0e}/disbursementJournals/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),o1=L("disbursementJournal/exportJournals",async t=>(console.log("Exporting journals with filters:",t),!0)),HV=me({name:"disbursementJournal",initialState:b0e,reducers:{resetDisbursementJournalState:t=>{t.disbursementJournals=[],t.error=null}},extraReducers:t=>{t.addCase(sx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sx.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementJournals=r.payload}).addCase(sx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(o1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(o1.fulfilled,e=>{e.isLoading=!1}).addCase(o1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetDisbursementJournalState:v0e}=HV.actions,j0e=HV.reducer;function w0e(){const t="https://staging-engine.testthelink.online",e=ce(),{disbursementJournals:r,isLoading:n,error:a}=W(m=>m.disbursementJournal),i=W(m=>{var h;return((h=m.chartOfAccounts)==null?void 0:h.accounts)||[]}),{funds:o}=W(m=>m.funds),l=[{value:"Check",label:"Check"},{value:"Collection",label:"Collection"},{value:"Cash",label:"Cash"},{value:"General",label:"General"}];v.useEffect(()=>{e(v0e()),e(yn()),e(Wn())},[e]);const c=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),u=[{key:"Municipality",header:"Municipality",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"CheckNo",header:"Check No.",sortable:!0},{key:"VoucherNo",header:"Voucher No.",sortable:!0},{key:"JEVNo",header:"JEV No.",sortable:!0},{key:"Claimant",header:"Claimant",sortable:!0},{key:"Particulars",header:"Particulars",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"EndDate",header:"End Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()}],d=async m=>{try{const h=await fetch(`${t}/disbursementJournals/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({DisbursementType:m.DisbursementType,modeOfPayment:m.modeOfPayment,startDate:m.startDate,endDate:m.endDate,fundID:m.fundID,code:m.code})});if(!h.ok)throw new Error("Server response was not ok");const p=await h.blob(),y=h.headers.get("Content-Disposition");let x=`Disbursement_Journals_${m.DisbursementType}.xlsx`;y&&y.includes("filename=")&&(x=y.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(p),g=document.createElement("a");g.href=b,g.download=x,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(b)}catch(h){console.error("Export failed:",h),alert(h.message||"Failed to export disbursement journal")}},f=m=>{e(sx(m))};return s.jsxs("div",{children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{children:"Disbursement Journal"}),s.jsx("p",{children:"Generate disbursement journal reports."})]}),s.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:s.jsx(y0e,{chartOfAccounts:i,funds:o,disbursementTypes:l,onExportExcel:d,onView:f,onClose:()=>{}})}),a&&s.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:s.jsx("p",{className:"text-error-700",children:a})}),s.jsx("div",{className:"mt-6",children:s.jsx(pe,{columns:u,data:r,loading:n,pagination:!0})})]})}function N0e({funds:t=[],onView:e,onGenerateJournal:r,onExportExcel:n}){const a=v.useRef(null),i=le({DateStart:D().required("Start Date is required"),DateEnd:D().required("End Date is required"),FundID:D().required("Fund is required")}),o={DateStart:"",DateEnd:"",FundID:""},l=(c,{setSubmitting:u})=>{const d=a.current;d==="view"?e(c):d==="generate"?r(c):d==="export"&&n(c),u(!1),a.current=null};return s.jsx(Be,{initialValues:o,validationSchema:i,onSubmit:l,validateOnMount:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isSubmitting:h})=>s.jsxs(We,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[s.jsx(A,{label:"Start Date",name:"DateStart",type:"date",value:c.DateStart,onChange:f,onBlur:m,error:u.DateStart,touched:d.DateStart,required:!0}),s.jsx(A,{label:"End Date",name:"DateEnd",type:"date",value:c.DateEnd,onChange:f,onBlur:m,error:u.DateEnd,touched:d.DateEnd,required:!0}),s.jsx(A,{type:"select",label:"Fund",name:"FundID",options:t.map(p=>({value:p.ID,label:p.Name})),value:c.FundID,onChange:f,onBlur:m,error:u.FundID,touched:d.FundID,required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,onClick:()=>a.current="view",children:"View"}),s.jsx("button",{type:"button",className:"btn btn-secondary",disabled:h,children:"Generate Journal"}),s.jsx("button",{type:"submit",className:"btn btn-outline",disabled:h,onClick:()=>a.current="export",children:"Export to Excel"})]})]})})}const C0e="https://staging-engine.testthelink.online",S0e={generalJournals:[],isLoading:!1,error:null},ix=L("generalJournal/fetchGeneralJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${C0e}/generalJournal/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general journals:",r),e.rejectWithValue(r.message)}}),l1=L("generalJournal/exportGeneralJournals",async t=>!0),GV=me({name:"generalJournal",initialState:S0e,reducers:{resetGeneralJournalState:t=>{t.generalJournals=[],t.error=null}},extraReducers:t=>{t.addCase(ix.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ix.fulfilled,(e,r)=>{e.isLoading=!1,e.generalJournals=r.payload}).addCase(ix.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(l1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l1.fulfilled,e=>{e.isLoading=!1}).addCase(l1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralJournalState:A0e}=GV.actions,T0e=GV.reducer;function k0e(){const t="https://staging-engine.testthelink.online",e=ce(),{generalJournals:r,isLoading:n,error:a}=W(d=>d.generalJournal),{funds:i}=W(d=>d.funds),o=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);v.useEffect(()=>{e(A0e()),e(Wn())},[e]);const l=[{key:"Date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"VoucherNo",header:"Voucher No",sortable:!0},{key:"Remarks",header:"Remarks",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"S/L",header:"S/L",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:d=>o(d),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:d=>o(d),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0}],c=async d=>{try{const f=await fetch(`${t}/generalJournal/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:d.startDate,endDate:d.endDate,fundID:d.fundID})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let p="General_Journal.xlsx";h&&h.includes("filename=")&&(p=h.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(m),x=document.createElement("a");x.href=y,x.download=p,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(y)}catch(f){console.error("Export failed:",f),alert(f.message||"Failed to export general journal")}},u=d=>{e(ix(d))};return s.jsxs("div",{children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{children:"General Journal"}),s.jsx("p",{children:"Generate general journal reports."})]}),s.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:s.jsx(N0e,{funds:i,onExportExcel:c,onView:u,onClose:()=>{}})}),a&&s.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:s.jsx("p",{className:"text-error-700",children:a})}),s.jsx("div",{className:"mt-6",children:s.jsx(pe,{columns:l,data:r,loading:n,pagination:!0})})]})}function E0e({fiscalYears:t=[],onSubmit:e,onAddClick:r,onTransferClick:n}){const a=le({FiscalYearID:D().required("Fiscal Year is required")}),i={FiscalYearID:""};return s.jsx(Be,{initialValues:i,validationSchema:a,validateOnMount:!0,onSubmit:e,children:({values:o,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>s.jsx(We,{children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsx("div",{className:"w-auto sm:w-auto",children:s.jsx(A,{type:"select",label:"Fiscal Year",name:"FiscalYearID",options:t,value:o.FiscalYearID,onChange:u,onBlur:d,error:l.FiscalYearID,touched:c.FiscalYearID,required:!0})}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:"Search"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:r,children:"Add"}),s.jsx("button",{type:"button",className:"btn btn-outline",onClick:n,children:"Transfer"})]})]})})})}const Wm="https://staging-engine.testthelink.online",O0e={beginningBalance:[],isLoading:!1,error:null},wo=L("beginningBalance/fetchBalance",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/beginningBalance/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.log("Error fetching beginning balance:",r),e.rejectWithValue(r.message)}}),ox=L("beginningBalance/addBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Wm}/beginningBalance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),lx=L("beginningBalance/updateBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Wm}/beginningBalance/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),cx=L("beginningBalance/transferBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Wm}/beginningBalance/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ux=L("beginningBalance/deleteBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Wm}/beginningBalance/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),YV=me({name:"beginningBalance",initialState:O0e,reducers:{resetBeginningBalanceState:t=>{t.beginningBalance=[],t.error=null}},extraReducers:t=>{t.addCase(wo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wo.fulfilled,(e,r)=>{e.isLoading=!1,e.beginningBalance=r.payload}).addCase(wo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(ox.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ox.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(ox.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(lx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lx.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.beginningBalance.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance[n]=r.payload)}).addCase(lx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to update beginning balance"}).addCase(cx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cx.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(cx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(ux.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ux.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance=e.beginningBalance.filter(n=>n.ID!==r.payload)}).addCase(ux.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete beginning balance",console.error("Failed to delete beginning balance:",e.error)})}}),{resetBeginningBalanceState:L$}=YV.actions,P0e=YV.reducer;function D0e({initialData:t,onSubmit:e,onClose:r,fiscalYears:n=[],fundsOptions:a=[],chartOfAccountsOptions:i=[]}){const o=le({FiscalYearID:D().required("Fiscal Year is required"),FundsID:D().required("Funds are required"),BeginningBalance:oe().typeError("Must be a number").required("Beginning Balance is required"),ChartofAccountsCode:D().required("Chart of Accounts is required")}),l=Ze({initialValues:t||{FiscalYearID:"",FundsID:"",BeginningBalance:"",ChartofAccountsCode:""},validationSchema:o,onSubmit:c=>{e(c)}});return s.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(A,{label:"Fiscal Year",name:"FiscalYearID",type:"select",options:n,value:l.values.FiscalYearID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FiscalYearID,touched:l.touched.FiscalYearID,required:!0,className:"w-full"}),s.jsx(A,{label:"Funds",name:"FundsID",type:"select",options:a,value:l.values.FundsID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FundsID,touched:l.touched.FundsID,required:!0,className:"w-full"}),s.jsx(A,{label:"Beginning Balance",name:"BeginningBalance",type:"number",value:l.values.BeginningBalance,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.BeginningBalance,touched:l.touched.BeginningBalance,required:!0,className:"w-full"})]}),s.jsxs("div",{children:[s.jsx("div",{children:s.jsxs("label",{className:"form-label",children:["Chart of Accounts ",s.jsx("span",{className:"text-error-500",children:"*"})]})}),s.jsx(wr,{options:i,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsCode",value:i.find(c=>String(c.value)===String(l.values.ChartofAccountsCode))||null,onChange:c=>l.setFieldValue("ChartofAccountsCode",(c==null?void 0:c.value)||""),onBlur:l.handleBlur}),l.touched.ChartofAccountsCode&&l.errors.ChartofAccountsCode&&s.jsx("div",{className:"text-sm text-red-600 mt-1",children:l.errors.ChartofAccountsCode})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}function I0e({onSubmit:t,onClose:e,fiscalYears:r=[]}){const n=le({PreviousFiscalYearID:D().required("Previous Fiscal Year is required"),NextFiscalYearID:D().required("Next Fiscal Year is required").test("not-same","Previous and Next Fiscal Years cannot be the same",function(i){return i!==this.parent.PreviousFiscalYearID})}),a=Ze({initialValues:{PreviousFiscalYearID:"",NextFiscalYearID:""},validationSchema:n,onSubmit:i=>{t(i)}});return s.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Previous Fiscal Year",name:"PreviousFiscalYearID",type:"select",options:r,value:a.values.PreviousFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.PreviousFiscalYearID,touched:a.touched.PreviousFiscalYearID,required:!0}),s.jsx(A,{label:"Next Fiscal Year",name:"NextFiscalYearID",type:"select",options:r,value:a.values.NextFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NextFiscalYearID,touched:a.touched.NextFiscalYearID,required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Transferring...":"Transfer"})]})]})}function _0e(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}function $0e(){const t=W(M=>{var I;return((I=M.chartOfAccounts)==null?void 0:I.accounts)||[]}),{funds:e}=W(M=>M.funds),r=ce(),{fiscalYears:n}=W(M=>M.fiscalYears),{beginningBalance:a,isLoading:i,error:o}=W(M=>M.beginningBalance),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState(null),[h,p]=v.useState(!1),[y,x]=v.useState(null),[b,g]=v.useState(null);v.useEffect(()=>{r(L$()),r(ji()),r(Wn()),r(yn())},[r]);const j=async M=>{try{f?await r(lx(M)).unwrap():await r(ox(M)).unwrap(),Me.success("Success"),b&&await r(wo(b)).unwrap()}catch(I){Me.error(I||"Failed")}finally{c(!1)}},C=async M=>{try{await r(cx(M)).unwrap(),r(L$()),await r(wo({FiscalYearID:M.NextFiscalYearID})).unwrap(),b&&await r(wo(b)).unwrap(),Me.success("Success")}catch(I){Me.error(I||"Transfer failed")}finally{d(!1)}},N=()=>{m(null),c(!0)},w=M=>{m(M),c(!0)},S=M=>{x(M),p(!0)},T=async()=>{if(y)try{await r(ux(y.ID)).unwrap(),p(!1),x(null),Me.success("Deleted")}catch(M){Me.error(M||"Failed")}},k=[{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"FundName",header:"Funds",sortable:!0},{key:"AccountName",header:"Account",sortable:!0},{key:"BeginningBalance",header:"Beginning Balance",sortable:!0}],E=[{icon:Ne,title:"Edit",onClick:w,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:S,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],O=async(M,{setSubmitting:I})=>{try{g(M),await r(wo(M)).unwrap()}catch(V){console.error("Fetch failed:",V)}finally{I(!1)}};return s.jsxs("div",{children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{children:"Beginning Balance"}),s.jsx("p",{children:"Generate beginning balance reports."})]}),s.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:s.jsx(E0e,{fiscalYears:n.map(M=>({value:M.ID,label:M.Name})),onSubmit:O,onAddClick:N,onTransferClick:()=>d(!0),onClose:()=>{}})}),s.jsx(te,{isOpen:l,onClose:()=>c(!1),title:f?"Edit Beginning Balance":"Add Beginning Balance",size:"xl",children:s.jsx(D0e,{onSubmit:j,initialData:f,fiscalYears:n.map(M=>({value:M.ID,label:M.Name})),fundsOptions:e.map(M=>({value:M.ID,label:M.Name})),onClose:()=>c(!1),chartOfAccountsOptions:t.map(M=>({value:M.ID,label:`${M.AccountCode} - ${M.Name} - [${_0e(M.Description,50)}]`}))})}),s.jsx(te,{isOpen:u,onClose:()=>d(!1),title:"Transfer Beginning Balance",size:"lg",children:s.jsx(I0e,{onSubmit:C,fiscalYears:n.map(M=>({value:M.ID,label:M.Name})),onClose:()=>d(!1)})}),s.jsxs(te,{isOpen:h,onClose:()=>p(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the beginning balance "',y==null?void 0:y.Name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:T,className:"btn btn-danger",children:"Delete"})]})]}),o&&s.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:s.jsx("p",{className:"text-error-700",children:o})}),s.jsx("div",{className:"mt-6",children:s.jsx(pe,{columns:k,actions:E,data:a,loading:i,pagination:!0})})]})}const R0e=le().shape({ResponsibilityCenter:D().required("Department is required"),OfficeUnitProject:D().required("Section is required"),ContraAccountID:D().required("Charge Account is required"),InvoiceNumber:D().required("PR Number is required"),SAI_No:D().required("SAI No. is required"),ObligationRequestNumber:D().required("ALOBS No. is required"),InvoiceDate:De().required("PR Date is required"),SAIDate:De().required("SAI Date is required"),ALOBSDate:De().required("ALOBS Date is required"),Remarks:D().required("Purpose is required"),Items:Vn().of(le({ItemID:D().required("Required"),Quantity:D().required("Required"),Unit:D().required("Required"),Cost:oe().nullable().typeError("Must be a number").required("Cost is required")})).min(1,"At least one entry is required")});function M0e({initialData:t,onSubmit:e,onClose:r,departmentsOptions:n=[],chartOfAccountsOptions:a=[],itemsOptions:i=[],itemsUnitsOptions:o=[]}){const[l,c]=v.useState(!1),u=t?{...t,Items:t.PurchaseItems||[]}:{ResponsibilityCenter:"",OfficeUnitProject:"",InvoiceNumber:"",ContraAccountID:"",SAI_No:"",ObligationRequestNumber:"",InvoiceDate:"",SAIDate:"",ALOBSDate:"",Remarks:"",Items:[{ItemID:"",Quantity:0,Unit:"",Cost:0}]};return s.jsx(Be,{initialValues:u,validationSchema:R0e,onSubmit:e,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,setFieldValue:y})=>s.jsxs(We,{className:"space-y-1",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"Department",name:"ResponsibilityCenter",type:"select",required:!0,value:d.ResponsibilityCenter,onChange:h,onBlur:p,error:f.ResponsibilityCenter,touched:m.ResponsibilityCenter,options:n}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Section",name:"OfficeUnitProject",type:"text",required:!0,value:d.OfficeUnitProject,onChange:h,onBlur:p,error:f.OfficeUnitProject,touched:m.OfficeUnitProject}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Charge Account",name:"ContraAccountID",type:"select",required:!0,value:d.ContraAccountID,onChange:h,onBlur:p,error:f.ContraAccountID,touched:m.ContraAccountID,options:a})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"PR No.",name:"InvoiceNumber",type:"text",required:!0,value:d.InvoiceNumber,onChange:h,onBlur:p,error:f.InvoiceNumber,touched:m.InvoiceNumber}),s.jsx(A,{className:"p-3 focus:outline-none",label:"SAI No.",name:"SAI_No",type:"text",required:!0,value:d.SAI_No,onChange:h,onBlur:p,error:f.SAI_No,touched:m.SAI_No}),s.jsx(A,{className:"p-3 focus:outline-none",label:"ALOBS No.",name:"ObligationRequestNumber",type:"text",required:!0,value:d.ObligationRequestNumber,onChange:h,onBlur:p,error:f.ObligationRequestNumber,touched:m.ObligationRequestNumber})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(A,{className:"p-3 focus:outline-none",label:"PR Date",name:"InvoiceDate",type:"date",required:!0,value:d.InvoiceDate,onChange:h,onBlur:p,error:f.InvoiceDate,touched:m.InvoiceDate}),s.jsx(A,{className:"p-3 focus:outline-none",label:"SAI Date",name:"SAIDate",type:"date",required:!0,value:d.SAIDate,onChange:h,onBlur:p,error:f.SAIDate,touched:m.SAIDate}),s.jsx(A,{className:"p-3 focus:outline-none",label:"ALOBS Date",name:"ALOBSDate",type:"date",required:!0,value:d.ALOBSDate,onChange:h,onBlur:p,error:f.ALOBSDate,touched:m.ALOBSDate})]}),s.jsx(A,{className:"p-3 focus:outline-none",label:"Purpose",name:"Remarks",type:"text",required:!0,value:d.Remarks,onChange:h,onBlur:p,error:f.Remarks,touched:m.Remarks}),s.jsx("hr",{className:"!mt-5 !mb-5"}),s.jsx(Yr,{name:"Items",render:({remove:x,push:b})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"font-medium",children:"Items"}),s.jsx(mt,{type:"button",onClick:()=>b({ItemID:"",Quantity:0,Unit:"",Cost:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),d.Items.map((g,j)=>{var C,N,w,S,T,k,E,O,M,I,V,P,F,U;return s.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 w-full",children:[s.jsxs("div",{className:"flex-1 min-w-[200px]",children:[s.jsx("div",{children:s.jsxs("label",{className:"form-label",children:["Item ",s.jsx("span",{className:"text-error-500",children:"*"})]})}),s.jsx(wr,{label:"Item",options:i,placeholder:"Select item...",isSearchable:!0,onChange:R=>y(`Items[${j}].ItemID`,(R==null?void 0:R.value)||""),name:`Items[${j}].ItemID`,value:i.find(R=>R.value===g.ItemID)||null,onBlur:p,required:!0}),((N=(C=f.Items)==null?void 0:C[j])==null?void 0:N.ItemID)&&s.jsx("div",{className:"text-sm text-red-600 mt-1",children:f.Items[j].ItemID})]}),s.jsx(A,{className:"flex-1 max-w-[180px]",type:"number",label:"Quantity",name:`Items[${j}].Quantity`,value:g.Quantity,onChange:h,onBlur:p,error:(S=(w=f.Items)==null?void 0:w[j])==null?void 0:S.Quantity,touched:(k=(T=m.Items)==null?void 0:T[j])==null?void 0:k.Quantity,required:!0}),s.jsx(A,{className:"flex-1 max-w-[150px]",type:"select",label:"Unit",name:`Items[${j}].Unit`,value:g.Unit,onChange:h,onBlur:p,options:o,error:(O=(E=f.Items)==null?void 0:E[j])==null?void 0:O.Unit,touched:(I=(M=m.Items)==null?void 0:M[j])==null?void 0:I.Unit,required:!0}),s.jsx(A,{className:"flex-1 max-w-[200px]",type:"number",label:"Cost",name:`Items[${j}].Cost`,value:g.Cost,onChange:h,onBlur:p,error:(P=(V=f.Items)==null?void 0:V[j])==null?void 0:P.Cost,touched:(U=(F=m.Items)==null?void 0:F[j])==null?void 0:U.Cost,required:!0})]}),s.jsx("div",{className:"flex justify-end pt-0",children:s.jsx(mt,{type:"button",onClick:()=>x(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:d.Items.length===1,children:s.jsx(Mr,{className:"w-4 h-4"})})})]},j)}),s.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[s.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),s.jsx("div",{className:"col-span-2 text-right",children:s.jsxs("div",{className:"font-bold",children:[d.Items.reduce((g,j)=>g+(parseFloat(j.Cost)||0),0).toFixed(2)," ",s.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Estimated Cost)"})]})}),s.jsx("div",{className:"col-span-2 text-right",children:s.jsxs("div",{className:"font-bold",children:[d.Items.reduce((g,j)=>g+(parseFloat(j.Cost)||0)*(parseFloat(j.Quantity)||0),0).toFixed(2)," ",s.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Cost)"})]})})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 !mt-5",children:[s.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:"Save"})]})]})})}const Ij="https://staging-engine.testthelink.online",L0e=[],F0e={purchaseRequests:L0e,isLoading:!1,error:null},dx=L("purchaseRequests/fetchPurchaseRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ij}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),fx=L("purchaseRequests/addPurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Ij}/purchaseRequest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),mx=L("purchaseRequests/updatePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Ij}/purchaseRequest/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),hx=L("purchaseRequests/deletePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Ij}/purchaseRequest/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),B0e=me({name:"purchaseRequests",initialState:F0e,reducers:{},extraReducers:t=>{t.addCase(dx.pending,e=>{e.isLoading=!0}).addCase(dx.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=r.payload,e.error=null}).addCase(dx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fx.pending,e=>{e.isLoading=!0}).addCase(fx.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests.push(r.payload),e.error=null}).addCase(fx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mx.pending,e=>{e.isLoading=!0}).addCase(mx.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.purchaseRequests.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.purchaseRequests[n]=r.payload),e.error=null}).addCase(mx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hx.pending,e=>{e.isLoading=!0}).addCase(hx.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=e.purchaseRequests.filter(n=>n.ID!==r.payload),e.error=null}).addCase(hx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),q0e=B0e.reducer;function V0e(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),{departments:a}=W(N=>N.departments),i=W(N=>{var w;return((w=N.chartOfAccounts)==null?void 0:w.accounts)||[]}),{items:o}=W(N=>N.items),{itemUnits:l}=W(N=>N.itemUnits),{purchaseRequests:c,isLoading:u}=W(N=>N.purchaseRequests),[d,f]=v.useState(!1),[m,h]=v.useState(null),p=ce();v.useEffect(()=>{p(zn()),p(yn()),p(vi()),p(Ra()),p(dx())},[]);const y=()=>{n(null),e(!0)},x=()=>{e(!1),n(null)},b=async()=>{if(m)try{await p(hx(m.ID)).unwrap(),f(!1),h(null),Me.success("Deleted")}catch(N){Me.error(N||"Failed")}},g=async N=>{try{const w=N.Items.reduce((k,E)=>k+(parseFloat(E.Cost)||0),0),S=N.Items.reduce((k,E)=>k+(parseFloat(E.Cost)||0)*(parseFloat(E.Quantity)||0),0),T={...N,Total:w.toFixed(2),AmountReceived:S.toFixed(2)};r?await p(mx(T)).unwrap():await p(fx(T)).unwrap(),Me.success("Success")}catch(w){Me.error(w||"Failed")}finally{e(!1)}},j=[{key:"ChartOfAccountsName",header:"Charge Account",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"DepartmentName",header:"Department",sortable:!0},{key:"Remarks",header:"Purpose",sortable:!0},{key:"OfficeUnitProject",header:"Section",sortable:!0},{key:"InvoiceNumber",header:"PR No.",sortable:!0},{key:"InvoiceDate",header:"PR Date",sortable:!0},{key:"SAI_No",header:"SAI No.",sortable:!0},{key:"SAIDate",header:"SAI Date",sortable:!0},{key:"ObligationRequestNumber",header:"ALOBS No.",sortable:!0},{key:"ALOBSDate",header:"ALOBS Date",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"AmountReceived",header:"Estimated Total",sortable:!0}],C=[];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Purchase Requests"}),s.jsx("p",{children:"Manage purchase requests and authorizations"})]}),s.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Purchase Request"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:j,actions:C,data:c,loading:u})}),s.jsx(te,{isOpen:t,onClose:x,title:r?"Edit Purchase Request":"Add Purchase Request",size:"xxxl",children:s.jsx(M0e,{initialData:r,departmentsOptions:a.map(N=>({value:N.ID,label:N.Name})),chartOfAccountsOptions:i.map(N=>({value:N.ID,label:N.Name})),itemsOptions:o.map(N=>({value:N.ID,label:N.Name})),itemsUnitsOptions:l.map(N=>({value:N.ID,label:N.Name})),onSubmit:g,onClose:x})}),s.jsxs(te,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the purchase request "',m==null?void 0:m.Name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}le({number:D().required("Number is required"),date:De().required("Date is required"),payee:D().required("Payee is required"),address:D().required("Address is required"),fund:D().required("Fund is required"),fiscalYear:D().required("Fiscal Year is required"),project:D().required("Project is required")});function z0e({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:i=[],taxCodeFull:o=[],budgetOptions:l=[],initialData:c}){var h;const u=le({ResponsibilityCenter:D().required("Required"),ChargeAccountID:D().required("Required"),ItemID:D().required("Required"),Remarks:D().required("Required"),FPP:D().required("Required"),Price:oe().required("Required"),Quantity:oe().required("Required"),ItemUnitID:D().required("Required"),TAXCodeID:D().required("Required"),DiscountRate:oe().required("Required")}),d=Ze({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,DiscountRate:0,subtotal:0},validationSchema:u,onSubmit:p=>{const y=o.find(C=>String(C.ID)===String(p.TAXCodeID)),x=zf({price:p.Price,quantity:p.Quantity,taxRate:(y==null?void 0:y.Rate)||0,discountPercent:p.DiscountRate,vatable:p.Vatable,ewtRate:p.withheldEWT}),b=r.find(C=>String(C.value)===String(p.ResponsibilityCenter)),g=l.find(C=>String(C.value)===String(p.ChargeAccountID)),j=n.find(C=>String(C.value)===String(p.ItemID));t({...p,...x,responsibilityCenterName:b?b.label:"",chargeAccountName:g?g.label:"",itemName:j?j.label:""}),e()}}),f=v.useRef({...d.values});v.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(b=>d.values[b]!==f.current[b]))return;f.current={...d.values};const y=o.find(b=>String(b.ID)===String(d.values.TAXCodeID)),x=zf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(y==null?void 0:y.Rate)||0,discountPercent:d.values.DiscountRate,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});x.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",x.subtotal,!1),x.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",x.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.DiscountRate,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,o]);const m=((h=o.find(p=>String(p.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return s.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(A,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0}),d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ResponsibilityCenter})]}),s.jsxs("div",{children:[s.jsx(A,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0}),d.touched.ChargeAccountID&&d.errors.ChargeAccountID&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ChargeAccountID})]}),s.jsxs("div",{children:[s.jsx(A,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0}),d.touched.ItemID&&d.errors.ItemID&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemID})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(A,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0}),d.touched.Remarks&&d.errors.Remarks&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Remarks})]}),s.jsxs("div",{children:[s.jsx(A,{type:"text",label:"FPP",name:"FPP",...d.getFieldProps("FPP"),required:!0}),d.touched.FPP&&d.errors.FPP&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.FPP})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(A,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0}),d.touched.Price&&d.errors.Price&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Price})]}),s.jsxs("div",{children:[s.jsx(A,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0}),d.touched.Quantity&&d.errors.Quantity&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Quantity})]}),s.jsxs("div",{children:[s.jsx(A,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0}),d.touched.ItemUnitID&&d.errors.ItemUnitID&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemUnitID})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(A,{type:"select",label:"Tax Code",name:"TAXCodeID",options:i,...d.getFieldProps("TAXCodeID"),required:!0}),d.touched.TAXCodeID&&d.errors.TAXCodeID&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.TAXCodeID})]}),s.jsx("div",{children:s.jsx(A,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),s.jsxs("div",{children:[s.jsx(A,{type:"number",label:"Discount %",name:"DiscountRate",...d.getFieldProps("DiscountRate"),required:!0}),d.touched.DiscountRate&&d.errors.DiscountRate&&s.jsx("p",{className:"text-red-500 text-sm",children:d.errors.DiscountRate})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:s.jsx(A,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})}),s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),s.jsx("span",{className:"text-sm",children:"Vatable"})]}),s.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),s.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[s.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const KV="https://staging-engine.testthelink.online",U0e={fundUtilizations:[],fundUtilization:null,isLoading:!1,error:null},px=L("fundUtilizations/fetchFundUtilizations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${KV}/fundUtilizationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),c1=L("fundUtilizations/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const i=e.getState().obligationRequests.obligationRequests.find(o=>o.id===t);i?r(i):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),gx=L("fundUtilizations/create",async(t,e)=>{try{const r=await fetch(`${KV}/fundUtilizationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),yx=L("fundUtilizations/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),JV=me({name:"fundUtilizations",initialState:U0e,reducers:{resetFundUtilizationState:t=>{t.fundUtilization=null,t.error=null}},extraReducers:t=>{t.addCase(px.pending,e=>{e.isLoading=!0}).addCase(px.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations=r.payload}).addCase(px.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(c1.pending,e=>{e.isLoading=!0}).addCase(c1.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilization=r.payload}).addCase(c1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gx.pending,e=>{e.isLoading=!0}).addCase(gx.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations.push(r.payload)}).addCase(gx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yx.pending,e=>{e.isLoading=!0}).addCase(yx.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fundUtilizations.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.fundUtilizations[n]=r.payload)}).addCase(yx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetFundUtilizationState:DUe}=JV.actions,W0e=JV.reducer,F$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],H0e=le().shape({obrNo:D().required("OBR No. is required"),obrDate:De().required("Date is required"),payeeType:D().required("Payee type is required"),payeeId:D().required("Payee selection is required"),fund:D().required("Fund is required"),fiscalYear:D().required("Fiscal Year is required"),project:D().required("Project is required"),accountingEntries:Vn().min(1,"At least one item is required")});function G0e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:i=[],vendorData:o=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:p=[],budgetOptions:y=[],taxCodeFull:x=[]}){const b=ce(),g=v.useRef(null),[j,C]=v.useState(!1),[N,w]=v.useState(null),[S,T]=v.useState(null),[k,E]=v.useState(!1),[O,M]=v.useState([]),I=(R,_)=>{const B=R.reduce((z,ne)=>z+Number(ne.amount||0),0),X=_.reduce((z,ne)=>z+Number(ne.amount||0),0),$=B-X;return{grossAmount:B,totalTaxes:X,netAmount:$}},V={description:"",amount:"",accountCode:""},P={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[V],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},F=R=>{C(!0),I(R.items,R.taxes);const _=new FormData;R.payeeType==="Employee"?(_.append("EmployeeID",R.payeeId),_.append("VendorID",""),_.append("CustomerID","")):R.payeeType==="Vendor"?(_.append("EmployeeID",""),_.append("VendorID",R.payeeId),_.append("CustomerID","")):R.payeeType==="Individual"&&(_.append("EmployeeID",""),_.append("VendorID",""),_.append("CustomerID",R.payeeId)),_.append("PayeeType",R.payeeType),_.append("Payee",(N==null?void 0:N.Name)||(N==null?void 0:N.FirstName)+" "+(N==null?void 0:N.MiddleName)+" "+(N==null?void 0:N.LastName)||""),_.append("Address",(N==null?void 0:N.StreetAddress)||""),_.append("InvoiceNumber",R.obrNo),_.append("InvoiceDate",R.obrDate);const B=R.accountingEntries.reduce((ee,re)=>ee+Number(re.subtotal||0),0),X=R.accountingEntries.reduce((ee,re)=>ee+Number(re.ewt||0),0),$=R.accountingEntries.reduce((ee,re)=>ee+Number(re.withheld||0),0),z=R.accountingEntries.reduce((ee,re)=>ee+Number(re.vat||0),0),ne=R.accountingEntries.reduce((ee,re)=>ee+Number(re.discount||0),0);_.append("Total",B.toFixed(2)),_.append("EWT",X.toFixed(2)),_.append("WithheldAmount",$.toFixed(2)),_.append("Vat_Total",z.toFixed(2)),_.append("Discounts",ne.toFixed(2)),_.append("FundsID",R.fund),_.append("FiscalYearID",R.fiscalYear),_.append("ProjectID",R.project),_.append("TravelID",""),_.append("Items",JSON.stringify(R.accountingEntries)),R.Attachments.forEach((ee,re)=>{ee.File?_.append(`Attachments[${re}].File`,ee.File):ee.ID&&_.append(`Attachments[${re}].ID`,ee.ID)});const xe=t?yx({formData:_,id:t.ID}):gx(_);b(xe).unwrap().then(()=>{Me.success("Success"),e()}).catch(ee=>{Me.error((ee==null?void 0:ee.message)||"Failed to submit"),console.error("Error submitting DV:",ee)}).finally(()=>{C(!1)})},U=({type:R})=>{switch(R){case"Employee":return s.jsx(DE,{className:"w-5 h-5"});case"Vendor":return s.jsx(Ik,{className:"w-5 h-5"});case"Individual":return s.jsx(Uv,{className:"w-5 h-5"});default:return null}};return s.jsx("div",{children:s.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:s.jsx(Be,{innerRef:g,initialValues:P,validationSchema:H0e,onSubmit:F,enableReinitialize:!0,children:({values:R,errors:_,touched:B,handleChange:X,handleBlur:$,setFieldValue:z,isValid:ne})=>{I(R.items,R.taxes);const ee=F$.map(K=>({value:K.value,label:K.label})).find(K=>K.value===R.payeeType),re=K=>{w(null),z("payeeType",K),z("payeeName",""),z("payeeId",""),z("payeeAddress",""),z("officeUnitProject",""),z("orsNumber","")},_e=K=>{let H=null;switch(R.payeeType){case"Employee":H=i.find(Y=>Y.ID===K);break;case"Vendor":H=o.find(Y=>Y.ID===K);break;case"Individual":H=l.find(Y=>Y.ID===K);break}w(H),z("payeeName",H==null?void 0:H.Name),z("payeeId",H==null?void 0:H.ID)},Z=K=>{switch(K){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return s.jsxs(We,{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"space-y-2",children:F$.map(K=>s.jsxs("button",{type:"button",onClick:()=>re(K.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${R.payeeType===K.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[s.jsx(U,{type:K.value}),s.jsx("span",{className:"ml-3 font-medium",children:K.label})]},K.value))}),_.payeeType&&B.payeeType&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),R.payeeType&&s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",ee==null?void 0:ee.label," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:Z(R.payeeType),value:Z(R.payeeType).find(K=>K.value===R.payeeId)||null,onChange:K=>_e(K.value),className:"react-select-container",classNamePrefix:"react-select"}),_.payeeType&&B.payeeType&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),N&&s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),s.jsx("div",{className:"text-sm text-gray-900",children:(ee==null?void 0:ee.label)==="Employee"?`${N.FirstName||""} ${N.MiddleName||""} ${N.LastName||""}`.trim():((ee==null?void 0:ee.label)==="Vendor"||(ee==null?void 0:ee.label)==="Individual",N.Name)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),s.jsx("div",{className:"text-sm text-gray-900",children:((ee==null?void 0:ee.label)==="Employee"||(ee==null?void 0:ee.label)==="Vendor"||(ee==null?void 0:ee.label)==="Individual",N.StreetAddress)})]})]})})})})]})]}),s.jsx("hr",{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[s.jsx(A,{type:"text",label:"OBR No.",name:"obrNo",value:R.obrNo,onChange:X,onBlur:$,error:_.obrNo,touched:B.obrNo,required:!0}),s.jsx(A,{type:"date",label:"Date",name:"obrDate",value:R.obrDate,onChange:X,onBlur:$,error:_.obrDate,touched:B.obrDate,required:!0})]}),s.jsx("hr",{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:u,value:u.find(K=>K.value===R.fund)||null,onChange:K=>z("fund",K.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fund&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fund})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:f,value:f.find(K=>K.value===R.fiscalYear)||null,onChange:K=>z("fiscalYear",K.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fiscalYear&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fiscalYear})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:d,value:d.find(K=>K.value===R.project)||null,onChange:K=>z("project",K.value),className:"react-select-container",classNamePrefix:"react-select"}),_.project&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.project})]})]}),s.jsx(Yr,{name:"accountingEntries",children:({push:K,remove:H})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Items"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>E(!0),children:"+ Item"})]}),R.accountingEntries.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[s.jsx("span",{children:"RC"}),s.jsx("span",{children:"REMARKS"}),s.jsx("span",{children:"ITEM"}),s.jsx("span",{children:"FPP"}),s.jsx("span",{children:"ACCOUNT CODE"}),s.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),R.accountingEntries.map((Y,fe)=>s.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[s.jsx("span",{children:Y.responsibilityCenterName}),s.jsx("span",{children:Y.Remarks}),s.jsx("span",{children:Y.itemName}),s.jsx("span",{children:Y.FPP}),s.jsx("span",{children:Y.chargeAccountName}),s.jsx("span",{className:"text-right",children:parseFloat(Y.subtotal).toFixed(2)}),s.jsx("div",{className:"col-span-6 text-right",children:s.jsx("button",{type:"button",onClick:()=>H(fe),className:"text-red-600 text-xs",children:""})})]},fe)),s.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[s.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),s.jsx("div",{className:"text-right",children:R.accountingEntries.reduce((Y,fe)=>Y+Number(fe.subtotal),0).toFixed(2)})]})]}),s.jsx(te,{isOpen:k,onClose:()=>E(!1),title:"Add Accounting Entry",size:"xl",children:s.jsx(z0e,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:p,budgetOptions:y,taxCodeFull:x,onClose:()=>E(!1),onSubmit:Y=>{K(Y),E(!1)}})})]})}),_.accountingEntries&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.accountingEntries}),s.jsx("hr",{}),s.jsx(Yr,{name:"Attachments",render:({remove:K,push:H})=>{var Y;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>H({File:null}),children:"+ Attachment"})]}),(Y=R.Attachments)==null?void 0:Y.map((fe,je)=>s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[fe.ID?s.jsxs("div",{className:"flex-1",children:[s.jsx("a",{href:`${API_URL}/uploads/${fe.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:fe.DataName}),s.jsx("input",{type:"hidden",name:`Attachments[${je}].ID`,value:fe.ID})]}):s.jsxs("div",{className:"flex-1 min-w-[300px]",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${je+1}`}),s.jsx("input",{type:"file",name:`Attachments[${je}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ye=>z(`Attachments[${je}].File`,Ye.currentTarget.files[0]),onBlur:$,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),s.jsx(mt,{type:"button",onClick:()=>K(je),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:s.jsx(Mr,{className:"w-4 h-4"})})]},je))]})}}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function Y0e(){const t=ce(),{fundUtilizations:e,isLoading:r}=W(w=>w.fundUtilizations),{employees:n}=W(w=>w.employees),{customers:a}=W(w=>w.customers),{vendorDetails:i}=W(w=>w.vendorDetails),{departments:o}=W(w=>w.departments),{projectDetails:l}=W(w=>w.projectDetails),{funds:c}=W(w=>w.funds),{fiscalYears:u}=W(w=>w.fiscalYears),{items:d}=W(w=>w.items),{taxCodes:f}=W(w=>w.taxCodes),{itemUnits:m}=W(w=>w.itemUnits),{budgets:h}=W(w=>w.budget),[p,y]=v.useState("list"),[x,b]=v.useState(null);v.useEffect(()=>{t(px()),t(Un()),t(wi()),t(Do()),t(zn()),t($o()),t(Wn()),t(ji()),t(vi()),t(_a()),t(Ra()),t(Ro())},[t]);const g=()=>{b(null),y("form")},j=w=>{b(w),y("form")},C=()=>{y("list"),b(null)},N=[{key:"Status",header:"Status",sortable:!0,render:w=>{let S="bg-neutral-100 text-neutral-800";switch(w){case"Requested":S="bg-warning-100 text-warning-800";break;case"Pending Approval":S="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":S="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":S="bg-error-100 text-error-800";break}return s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S}`,children:w})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:w=>new Date(w).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return s.jsxs("div",{children:[p==="list"&&s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{children:s.jsx("h1",{children:"Fund Utilization Request & Status"})}),s.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create OR"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:N,data:e,actions:w=>{var T;const S=[];return((T=w.Transaction)==null?void 0:T.Status)==="Rejected"&&S.push({icon:Ne,title:"Edit",onClick:()=>j(w),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),S},loading:r})})]}),p==="form"&&s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:s.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),s.jsxs("div",{children:[s.jsx("h1",{children:x?"Edit Fund Utilization Request":"Create Fund Utilization Request"}),s.jsxs("p",{children:["Fill out the form to"," ",x?"update":"create"," a fund utilization request."]})]})]})})}),s.jsx("div",{className:"mt-4",children:s.jsx(G0e,{initialData:x,employeeOptions:n.map(w=>({value:w.ID,label:w.FirstName+" "+w.MiddleName+" "+w.LastName})),vendorOptions:i.map(w=>({value:w.ID,label:w.Name})),individualOptions:a.map(w=>({value:w.ID,label:w.Name})),employeeData:n,vendorData:i,individualData:a,departmentOptions:o.map(w=>({value:w.ID,label:w.Name})),fundOptions:c.map(w=>({value:w.ID,label:w.Name})),projectOptions:l.map(w=>({value:w.ID,label:w.Title})),fiscalYearOptions:u.map(w=>({value:w.ID,label:w.Name})),particularsOptions:d.map(w=>({value:w.ID,label:w.Name})),unitOptions:m.map(w=>({value:w.ID,label:w.Name})),taxCodeOptions:f.map(w=>({value:w.ID,label:w.Name})),budgetOptions:h.map(w=>({value:w.ID,label:w.Name})),taxCodeFull:f,onCancel:C,onSubmitSuccess:C,onClose:C})})]})]})}const XV=t=>{const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE"],r=["TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],n=["","TEN","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];if(t===0)return"ZERO";let a="";const i=t.toString().split(".");let o=parseInt(i[0]);return o>=1e3&&(a+=e[Math.floor(o/1e3)]+" THOUSAND ",o%=1e3),o>=100&&(a+=e[Math.floor(o/100)]+" HUNDRED ",o%=100),o>=20?(a+=n[Math.floor(o/10)]+" ",o%=10):o>=10&&(a+=r[o-10]+" ",o=0),o>0&&(a+=e[o]+" "),i.length>1&&parseInt(i[1])&&(a+="AND "+parseInt(i[1])+"/100"),a.trim()},K0e=le({Year:oe().typeError("Year must be a number").required("Year is required").min(1900,"Year must be after 1900").max(new Date().getFullYear(),"Year cannot be in the future"),PlaceIssued:D().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters"),DateIssued:De().required("Date issued is required").max(new Date,"Date issued cannot be in the future"),CCNumber:D().required("Certificate number is required").min(3,"Certificate number must be at least 3 characters"),TIN:D().matches(/^[0-9-]*$/,"TIN must contain only numbers and dashes").nullable(),LastName:D().required("LastName is required").min(2,"LastName must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"LastName can only contain letters, spaces, hyphens, and apostrophes"),FirstName:D().required("First name is required").min(2,"First name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"First name can only contain letters, spaces, hyphens, and apostrophes"),MiddleName:D().matches(/^[a-zA-Z\s-']*$/,"Middle name can only contain letters, spaces, hyphens, and apostrophes").nullable(),Address:D().required("Address is required").min(10,"Address must be at least 10 characters"),Citizenship:D().required("Citizenship is required"),ICRNo:D().matches(/^[0-9-]*$/,"ICR number must contain only numbers and dashes").nullable(),PlaceOfBirth:D().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters"),BirthDate:De().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future").test("age","Must be at least 18 years old",function(t){if(!t)return!1;const e=new Date,r=new Date(t),n=e.getFullYear()-r.getFullYear(),a=e.getMonth()-r.getMonth();return a<0||a===0&&e.getDate()<r.getDate()?n-1>=18:n>=18}),CivilStatus:D().required("Civil status is required"),Occupation:D().required("Profession/Occupation is required").min(2,"Profession must be at least 2 characters"),Gender:D().required("Sex is required"),Height:oe().typeError("Height must be a number").required("Height is required").min(100,"Height must be at least 100 cm").max(250,"Height must not exceed 250 cm"),Weight:oe().typeError("Weight must be a number").required("Weight is required").min(30,"Weight must be at least 30 kg").max(300,"Weight must not exceed 300 kg"),BasicTax:oe().required("Basic tax is required").min(0,"Basic tax cannot be negative").max(1e4,"Basic tax cannot exceed 10,000"),BusinessEarnings:oe().min(0,"Gross receipts cannot be negative").nullable(),BusinessTaxDue:oe().min(0,"Gross receipts tax cannot be negative").nullable(),OccupationEarnings:oe().min(0,"Salaries cannot be negative").nullable(),OccupationTaxDue:oe().min(0,"Salaries tax cannot be negative").nullable(),IncomeProperty:oe().min(0,"Real property income cannot be negative").nullable(),PropertyTaxDue:oe().min(0,"Real property tax cannot be negative").nullable(),Total:oe().required("Total tax is required").min(0,"Total tax cannot be negative").max(1e4,"Total tax cannot exceed 10,000"),Interest:oe().min(0,"Interest cannot be negative").max(100,"Interest cannot exceed 100%").nullable(),AmountReceived:oe().required("Total amount paid is required").min(0,"Total amount paid cannot be negative"),Remarks:D().max(500,"Remarks cannot exceed 500 characters").nullable(),AmountinWords:D().max(500,"Amount in words cannot exceed 500 characters")}),B$=({initialData:t=null,onCancel:e,onSubmitForm:r,isReadOnly:n=!1})=>{const a=[{value:"Afghan",label:"Afghan"},{value:"Filipino",label:"Filipino"},{value:"American",label:"American"},{value:"Other",label:"Other"}],i=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],o=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],c=Ze({initialValues:(()=>{var h,p,y,x,b,g,j,C,N,w,S,T,k;return{Year:(t==null?void 0:t.Year)||"",PlaceIssued:(t==null?void 0:t.PlaceIssued)||"",DateIssued:(t==null?void 0:t.InvoiceDate)||"",CCNumber:(t==null?void 0:t.InvoiceNumber)||"",TIN:(t==null?void 0:t.TIN)||"",LastName:((h=t==null?void 0:t.Customer)==null?void 0:h.LastName)||"",FirstName:((p=t==null?void 0:t.Customer)==null?void 0:p.FirstName)||"",MiddleName:((y=t==null?void 0:t.Customer)==null?void 0:y.MiddleName)||"",Address:((x=t==null?void 0:t.Customer)==null?void 0:x.StreetAddress)||"",Citizenship:((b=t==null?void 0:t.Customer)==null?void 0:b.Citizenship)||"",ICRNo:((g=t==null?void 0:t.Customer)==null?void 0:g.ICRNumber)||"",PlaceOfBirth:((j=t==null?void 0:t.Customer)==null?void 0:j.PlaceofBirth)||"",CivilStatus:((C=t==null?void 0:t.Customer)==null?void 0:C.CivilStatus)||"",Occupation:((N=t==null?void 0:t.Customer)==null?void 0:N.Occupation)||"",Gender:((w=t==null?void 0:t.Customer)==null?void 0:w.Gender)||"",Height:((S=t==null?void 0:t.Customer)==null?void 0:S.Height)||"",Weight:((T=t==null?void 0:t.Customer)==null?void 0:T.Weight)||"",BirthDate:((k=t==null?void 0:t.Customer)==null?void 0:k.Birthdates)||"",BasicTax:(t==null?void 0:t.BasicTax)||"",BusinessEarnings:(t==null?void 0:t.BusinessEarnings)||"",BusinessTaxDue:(t==null?void 0:t.BusinessTaxDue)||"",OccupationEarnings:(t==null?void 0:t.OccupationEarnings)||"",OccupationTaxDue:(t==null?void 0:t.OccupationTaxDue)||"",IncomeProperty:(t==null?void 0:t.IncomeProperty)||"",PropertyTaxDue:(t==null?void 0:t.PropertyTaxDue)||"",Total:(t==null?void 0:t.Total)||"",Interest:(t==null?void 0:t.Interest)||"",AmountReceived:(t==null?void 0:t.AmountReceived)||"",Remarks:(t==null?void 0:t.Remarks)||"",AmountinWords:(t==null?void 0:t.AmountinWords)||""}})(),validationSchema:K0e,onSubmit:m=>{const p=!!t?{LinkID:t.LinkID,User:"admin",IsNew:"false",IsSelectedFromIndividual:"False",EmployeeID:1,ID:t.ID,customerID:t.Customer.ID,...u(m)}:{IsNew:"true",User:"admin",IsSelectedFromIndividual:"False",EmployeeID:1,...u(m)};console.log("Form submitted:",p),r(p)}}),u=m=>{const h={...m,Year:String(m.Year),Height:String(m.Height),Weight:String(m.Weight),InputOne:Number(m.BusinessEarnings),InputTwo:Number(m.OccupationEarnings),InputThree:Number(m.IncomeProperty),OutputOne:Number(m.BusinessTaxDue),OutputTwo:Number(m.OccupationTaxDue),OutputThree:Number(m.PropertyTaxDue),Municipality:m.PlaceIssued,AmountPaid:Number(m.AmountReceived),Words:m.AmountinWords,Profession:m.Occupation};return delete h.BusinessEarnings,delete h.OccupationEarnings,delete h.IncomeProperty,delete h.BusinessTaxDue,delete h.OccupationTaxDue,delete h.PropertyTaxDue,delete h.PlaceIssued,delete h.AmountReceived,delete h.AmountinWords,delete h.Occupation,h},d=m=>({name:m,value:c.values[m]||"",onChange:c.handleChange,onBlur:c.handleBlur,error:c.touched[m]&&c.errors[m],disabled:n});v.useEffect(()=>{f()},[c.values.AmountReceived]);const f=()=>{const m=c.values.Total,h=XV(m);c.setFieldValue("AmountinWords",h)};return s.jsx("div",{className:"min-h-screen",children:s.jsxs("form",{onSubmit:c.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[s.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:s.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[s.jsx(Cn,{className:"h-5 w-5"}),"Certificate Information"]})}),s.jsxs("div",{className:"p-6 pt-2",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx(A,{label:"Year",...d("Year"),type:"number",disabled:n,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.Year&&c.errors.Year&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.Year})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Place of Issue",...d("PlaceIssued"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.PlaceIssued&&c.errors.PlaceIssued&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.PlaceIssued})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Date Issued",...d("DateIssued"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.DateIssued&&c.errors.DateIssued&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.DateIssued})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Certificate No.",...d("CCNumber"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600"}),c.touched.CCNumber&&c.errors.CCNumber&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.CCNumber})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx(A,{label:"TIN (if Any)",...d("TIN"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"000-000-000-000"}),c.touched.TIN&&c.errors.TIN&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.TIN})]}),s.jsx("div",{className:"hidden md:block"}),s.jsx("div",{className:"hidden lg:block"}),s.jsx("div",{className:"bg-gray-100 text-center px-3 py-1 text-sm font-medium flex items-center justify-center",children:"TAXPAYER'S COPY"})]})]})]}),s.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[s.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:s.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[s.jsx(Uv,{className:"h-5 w-5"}),"Personal Information"]})}),s.jsxs("div",{className:"p-6 pt-2",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx(A,{label:"Last Name",...d("LastName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.LastName&&c.errors.LastName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.LastName})]}),s.jsxs("div",{children:[s.jsx(A,{label:"First Name",...d("FirstName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.FirstName&&c.errors.FirstName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.FirstName})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Middle Name",...d("MiddleName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.MiddleName&&c.errors.MiddleName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.MiddleName})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(A,{label:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(zq,{className:"h-4 w-4"}),"Address"]}),...d("Address"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.Address&&c.errors.Address&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.Address})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx(A,{label:"Citizenship",...d("Citizenship"),type:"select",options:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.Citizenship&&c.errors.Citizenship&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.Citizenship})]}),s.jsxs("div",{children:[s.jsx(A,{label:"ICR No.",...d("ICRNo"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.ICRNo&&c.errors.ICRNo&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.ICRNo})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Place of Birth",...d("PlaceOfBirth"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.PlaceOfBirth&&c.errors.PlaceOfBirth&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.PlaceOfBirth})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Date of Birth",...d("BirthDate"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.BirthDate&&c.errors.BirthDate&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.BirthDate})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx(A,{label:"Civil Status",...d("CivilStatus"),type:"radio",options:i}),c.touched.CivilStatus&&c.errors.CivilStatus&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.CivilStatus})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Profession/Occupation",...d("Occupation"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.Occupation&&c.errors.Occupation&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.Occupation})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Sex",...d("Gender"),type:"radio",options:o}),c.touched.Gender&&c.errors.Gender&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.Gender})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(A,{label:"Height (cm)",...d("Height"),type:"number",min:"100",max:"250",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.Height&&c.errors.Height&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.Height})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Weight (kg)",...d("Weight"),type:"number",min:"30",max:"300",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),c.touched.Weight&&c.errors.Weight&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.errors.Weight})]})]})]})]})]})]}),s.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[s.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:s.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[s.jsx(qq,{className:"h-5 w-5"}),"Tax Assessment"]})}),s.jsx("div",{className:"p-6 pt-2",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. Basic Community Tax (5.00) or Exempted (1.00)"}),s.jsx("div",{className:"flex justify-end gap-3",children:s.jsxs("div",{children:[s.jsx(A,{label:"Taxable Amount:",...d("BasicTax"),type:"number",min:"0",step:"0.01",className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500"}),c.touched.BasicTax&&c.errors.BasicTax&&s.jsx("p",{className:"text-red-300 text-sm",children:c.errors.BasicTax})]})})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. Additional Community Tax (tax not exceed 5,000.00)"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx("p",{className:"text-sm text-gray-700",children:"1. Gross receipts or earnings derived from business during the preceding year (1.00 for every 1,000)"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{children:[s.jsx(A,{label:"Taxable Amount:",...d("BusinessEarnings"),type:"number",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount"}),c.touched.BusinessEarnings&&c.errors.BusinessEarnings&&s.jsx("p",{className:"text-red-300 text-sm",children:c.errors.BusinessEarnings})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Community Due Amount:",...d("BusinessTaxDue"),type:"number",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax"}),c.touched.BusinessTaxDue&&c.errors.BusinessTaxDue&&s.jsx("p",{className:"text-red-300 text-sm",children:c.errors.BusinessTaxDue})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx("p",{className:"text-sm text-gray-700",children:"2. Salaries or gross receipt or earnings derived from exercise of Occupation or pursuit of any occupation (1.00 for every 1,000)"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{children:[s.jsx(A,{label:"Taxable Amount:",...d("OccupationEarnings"),type:"number",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount"}),c.touched.OccupationEarnings&&c.errors.OccupationEarnings&&s.jsx("p",{className:"text-red-300 text-sm",children:c.errors.OccupationEarnings})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Community Due Amount:",...d("OccupationTaxDue"),type:"number",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax"}),c.touched.OccupationTaxDue&&c.errors.OccupationTaxDue&&s.jsx("p",{className:"text-red-300 text-sm",children:c.errors.OccupationTaxDue})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx("p",{className:"text-sm text-gray-700",children:"3. Income from real property (1.00 for every 1,000)"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{children:[s.jsx(A,{label:"Taxable Amount:",...d("IncomeProperty"),type:"number",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount"}),c.touched.IncomeProperty&&c.errors.IncomeProperty&&s.jsx("p",{className:"text-red-300 text-sm",children:c.errors.IncomeProperty})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Community Due Amount:",...d("PropertyTaxDue"),type:"number",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax"}),c.touched.PropertyTaxDue&&c.errors.PropertyTaxDue&&s.jsx("p",{className:"text-red-300 text-sm",children:c.errors.PropertyTaxDue})]})]})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"font-medium block",children:"Total"}),s.jsx(A,{...d("Total"),type:"number",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50"}),c.touched.Total&&c.errors.Total&&s.jsx("p",{className:"text-red-300 text-sm",children:c.errors.Total})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"font-medium block",children:"Interest %"}),s.jsx(A,{...d("Interest"),type:"number",min:"0",max:"100",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50"}),c.touched.Interest&&c.errors.Interest&&s.jsx("p",{className:"text-red-300 text-sm",children:c.errors.Interest})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"font-bold text-lg block",children:"Total Amount Paid"}),s.jsx(A,{...d("AmountReceived"),type:"number",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 font-bold text-lg px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50"}),c.touched.AmountReceived&&c.errors.AmountReceived&&s.jsx("p",{className:"text-red-300 text-sm",children:c.errors.AmountReceived})]}),s.jsx("div",{className:"flex items-end md:items-center justify-center md:justify-end",children:s.jsxs("div",{className:"text-center md:text-right",children:[s.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),s.jsxs("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:[c.values.AmountinWords||"ZERO"," PESOS"]})]})})]})}),s.jsx(A,{label:"Remarks",...d("Remarks"),type:"textarea",className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[s.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"}),s.jsx(mt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:!c.isValid||c.isSubmitting,children:c.isSubmitting?"Generating...":"Generate Certificate"})]}),Object.keys(c.errors).length>0&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(nB,{className:"h-5 w-5 text-red-500"})}),s.jsx("div",{className:"ml-3",children:s.jsxs("h3",{className:"text-sm font-medium text-red-800",children:["There ",Object.keys(c.errors).length===1?"is":"are"," ",Object.keys(c.errors).length," error",Object.keys(c.errors).length===1?"":"s"," in your form"]})})]})})]})})},Hm="https://staging-engine.testthelink.online",J0e=[],gc=L("communityTax/fetchCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/community-tax/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community taxes");return a.data}catch(r){return e.rejectWithValue(r.message)}}),u1=L("communityTax/fetchCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/community-tax/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),xx=L("communityTax/addCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/community-tax/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),d1=L("communityTax/updateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/community-tax/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),bx=L("communityTax/deleteCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/community-tax/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),ZV=me({name:"communityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(gc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(gc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community taxes",console.warn("Failed to fetch community taxes, using mock data.",e.error),e.records=J0e}).addCase(u1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(u1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(u1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax record"}).addCase(xx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(xx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add community tax record",console.error("Failed to add community tax record:",e.error)}).addCase(d1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(d1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update community tax record",console.error("Failed to update community tax record:",e.error)}).addCase(bx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(bx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete community tax record",console.error("Failed to delete community tax record:",e.error)})}}),{clearCurrentCommunityTax:IUe}=ZV.actions,X0e=ZV.reducer;function Z0e(){const t=ce(),{records:e,isLoading:r}=W(E=>E.communityTax);console.log({certificates:e});const[n,a]=v.useState("list"),[i,o]=v.useState(null),[l,c]=v.useState(""),[u,d]=v.useState(!1);v.useEffect(()=>{t(gc())},[t]);const f=()=>{o(null),a("form")},m=E=>{o(E),a("details")},h=E=>{o(E),a("form")},p=E=>{console.log("Print certificate:",E)},y=()=>{a("list"),o(null)},x=async E=>{try{await t(bx(E.ID)).unwrap(),t(gc()),console.log("Certificate deleted and data reFetched")}catch(O){console.error("Error deleting certificate:",O)}},b=e==null?void 0:e.filter(E=>{var M,I,V,P;const O=l.toLowerCase();return((M=E==null?void 0:E.LinkID)==null?void 0:M.toLowerCase().includes(O))||((I=E==null?void 0:E.CustomerName)==null?void 0:I.toLowerCase().includes(O))||((P=(V=E==null?void 0:E.Customer)==null?void 0:V.StreetAddress)==null?void 0:P.toLowerCase().includes(O))}),g=[{key:"LinkID",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Taxpayer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total Amount",sortable:!0,render:E=>j(E),className:"text-right"},{key:"AmountReceived",header:"Received Amount",sortable:!0,render:E=>j(E),className:"text-right"},{key:"InvoiceDate",header:"Date",sortable:!0,render:E=>new Date(E).toLocaleDateString()},{key:"Employee",header:"Employee",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:E=>C(E)}],j=E=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(E||0),C=E=>{let O="bg-neutral-100 text-neutral-800";switch(E){case"Requested":O="bg-success-100 text-success-800";break;case"Posted":O="bg-warning-100 text-warning-800";break;case"Cancelled":O="bg-error-100 text-error-800";break}return s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${O}`,children:E})},N=[{icon:Dm,title:"View",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ne,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Vm,title:"Delete",onClick:x,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],w=["Apple","Banana","Cherry","Date","Elderberry","Fig","Grape","Honeydew","Kiwi","Lemon"],S=()=>{d(!0)},T=()=>{d(!1)},k=async E=>{try{console.log("Form data to save:",E),await t(xx(E)).unwrap(),t(gc()),y()}catch(O){console.error("Error saving certificate:",O),alert("Failed to save certificate. Please try again.")}};return s.jsxs("div",{className:"container mx-auto p-2 sm:px-4 sm:py-8",children:[n==="list"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate"}),s.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("div",{className:"flex flex-wrap items-start gap-4 mb-4",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search by certificate no., name, or address...",value:l,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"}),s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})}),s.jsx(pe,{columns:g,data:b,actions:N,loading:r,onRowClick:m})]})]}),n==="form"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:y,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:s.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:i?"Edit Community Tax Certificate (INDIVIDUAL)":"Community Tax Certificate (INDIVIDUAL)"}),s.jsx("p",{className:"text-gray-600",children:i?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),s.jsxs("div",{className:"flex items-end gap-2 justify-end w-full",children:[s.jsx(cs,{options:w,placeholder:"Choose Citizen"}),s.jsx("button",{type:"button",onClick:S,className:"btn btn-secondary flex-initial",children:"Show List"}),s.jsx("button",{className:"btn btn-primary flex-initial",children:"Add Attachments"}),s.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:s.jsx(B$,{initialData:i,onCancel:y,onSubmitForm:k})})]}),n==="details"&&i&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6  gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:y,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:s.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),s.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>h(i),className:"btn btn-primary flex items-center",children:[s.jsx(Ne,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),s.jsxs("button",{type:"button",onClick:()=>p(i),className:"btn btn-outline flex items-center",children:[s.jsx(Bi,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:s.jsx(B$,{initialData:i,onCancel:y,isReadOnly:!0})})]}),s.jsx(te,{isOpen:u,onClose:T,title:"General Ledger View",size:"lg",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}const Q0e=le().shape({Year:D().required("Year is required").matches(/^\d{4}$/,"Year must be 4 digits"),Municipality:D().required("Place of issue is required").max(100,"Place of issue must be less than 100 characters"),DateIssued:De().required("Date issued is required").max(new Date,"Date cannot be in the future"),InvoiceNumber:D().required("Certificate number is required").matches(/^[A-Za-z0-9-]+$/,"Only letters, numbers and hyphens allowed"),Vendor:D().required("Company name is required").max(200,"Company name must be less than 200 characters"),TIN:D().matches(/^\d{3}-\d{3}-\d{3}-\d{3}$|^\d{9}$|^$/,"TIN must be 9 digits or in XXX-XXX-XXX-XXX format"),Address:D().required("Business address is required").max(300,"Address must be less than 300 characters"),dateOfRegistration:De().required("Registration date is required"),OrgType:D().required("Organization type is required").oneOf(["corporation","partnership","association"],"Invalid organization type"),PlaceOfIncorporation:D().required("Place of incorporation is required"),KindOfOrganization:D().required("Business nature is required"),basicCommunityTax:oe().typeError("Must be a number").min(0,"Cannot be negative").required("Basic community tax is required"),BasicTax:oe().typeError("Must be a number").min(0,"Cannot be negative").required("Basic tax is required"),assessedValueRealProperty:oe().typeError("Must be a number").min(0,"Cannot be negative"),assessedValueTax:oe().typeError("Must be a number").min(0,"Cannot be negative"),grossReceipts:oe().typeError("Must be a number").min(0,"Cannot be negative"),grossReceiptsTax:oe().typeError("Must be a number").min(0,"Cannot be negative"),Total:oe().typeError("Must be a number").min(0,"Cannot be negative").required("Total is required"),Interest:oe().typeError("Must be a number").min(0,"Cannot be negative"),AmountPaid:oe().typeError("Must be a number").min(0,"Cannot be negative").required("Total amount paid is required"),Remarks:D().max(500,"Remarks must be less than 500 characters"),AmountinWords:D().max(500,"Amount in words cannot exceed 500 characters")}),q$=({initialData:t=null,onBack:e,onSubmitSuccess:r,readOnly:n})=>{const a=[{value:"corporation",label:"Corporation"},{value:"partnership",label:"Partnership"},{value:"association",label:"Association"}],i=Ze({initialValues:{Year:(t==null?void 0:t.Year)||"",Municipality:(t==null?void 0:t.Municipality)||"",DateIssued:(t==null?void 0:t.DateIssued)||"",InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"",Vendor:(t==null?void 0:t.Vendor)||"",TIN:(t==null?void 0:t.TIN)||"",Address:(t==null?void 0:t.Address)||"",dateOfRegistration:(t==null?void 0:t.dateOfRegistration)||"",OrgType:(t==null?void 0:t.OrgType)||"corporation",PlaceOfIncorporation:(t==null?void 0:t.PlaceOfIncorporation)||"",KindOfOrganization:(t==null?void 0:t.KindOfOrganization)||"",BasicTax:(t==null?void 0:t.BasicTax)||0,assessedValueRealProperty:(t==null?void 0:t.assessedValueRealProperty)||"",assessedValueTax:(t==null?void 0:t.assessedValueTax)||"",grossReceipts:(t==null?void 0:t.grossReceipts)||"",grossReceiptsTax:(t==null?void 0:t.grossReceiptsTax)||"",Total:(t==null?void 0:t.Total)||"",Interest:(t==null?void 0:t.Interest)||"",AmountPaid:(t==null?void 0:t.AmountPaid)||"",Remarks:(t==null?void 0:t.Remarks)||"",AmountinWords:(t==null?void 0:t.AmountinWords)||""},validationSchema:Q0e,onSubmit:c=>{const d=!!t?{LinkID:t.LinkID,IsNew:"false",ID:t.ID,...o(c)}:{IsNew:"true",...o(c)};console.log("Submitted values:",d),r(d)}}),o=c=>{const u={...c,InputOne:c.assessedValueRealProperty,InputTwo:c.grossReceipts,OutputOne:c.assessedValueTax,OutputTwo:c.grossReceiptsTax};return delete u.assessedValueRealProperty,delete u.assessedValueTax,delete u.grossReceipts,delete u.grossReceiptsTax,u};v.useEffect(()=>{l()},[i.values.AmountPaid]);const l=()=>{const c=i.values.Total,u=XV(c);i.setFieldValue("AmountinWords",u)};return s.jsx("div",{className:"min-h-screen",children:s.jsxs("form",{onSubmit:i.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[s.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:s.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[s.jsx(Cn,{className:"h-5 w-5"}),"Certificate Information"]})}),s.jsxs("div",{className:"p-2 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx(A,{label:"Year",name:"Year",value:i.values.Year,onChange:i.handleChange,disabled:n,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),i.touched.Year&&i.errors.Year?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.Year}):null]}),s.jsxs("div",{children:[s.jsx(A,{label:"Place of Issue (City/Mun/Province)",name:"Municipality",value:i.values.Municipality,onChange:i.handleChange,disabled:n,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),i.touched.Municipality&&i.errors.Municipality?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.Municipality}):null]}),s.jsxs("div",{children:[s.jsx(A,{label:"Date Issued",name:"DateIssued",type:"date",value:i.values.DateIssued,onChange:i.handleChange,disabled:n,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),i.touched.DateIssued&&i.errors.DateIssued?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.DateIssued}):null]}),s.jsxs("div",{children:[s.jsx(A,{label:"Certificate No.",name:"InvoiceNumber",value:i.values.InvoiceNumber,onChange:i.handleChange,disabled:n,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600"}),i.touched.InvoiceNumber&&i.errors.InvoiceNumber?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.InvoiceNumber}):null]})]}),s.jsx("div",{className:"text-right mb-4",children:s.jsx("span",{className:"bg-gray-100 px-3 py-1 text-sm font-medium",children:"TAXPAYER'S COPY"})})]})]}),s.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[s.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:s.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[s.jsx(Bq,{className:"h-5 w-5"}),"Company Information"]})}),s.jsx("div",{className:"p-2 sm:p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(A,{label:"Company's Full Name",name:"Vendor",value:i.values.Vendor,onChange:i.handleChange,disabled:n,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),i.touched.Vendor&&i.errors.Vendor?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.Vendor}):null]}),s.jsxs("div",{children:[s.jsx(A,{label:"TIN (if Any)",name:"TIN",value:i.values.TIN,onChange:i.handleChange,disabled:n,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),i.touched.TIN&&i.errors.TIN?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.TIN}):null]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(A,{label:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(zq,{className:"h-4 w-4"}),"Address of Principal Place of Business"]}),name:"Address",value:i.values.Address,onChange:i.handleChange,disabled:n,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),i.touched.Address&&i.errors.Address?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.Address}):null]}),s.jsxs("div",{children:[s.jsx(A,{label:"Date of Registration/Incorporation",name:"dateOfRegistration",type:"date",value:i.values.dateOfRegistration,onChange:i.handleChange,disabled:n,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),i.touched.dateOfRegistration&&i.errors.dateOfRegistration?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.dateOfRegistration}):null]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(A,{label:"Kind of Organization",name:"OrgType",type:"radio",value:i.values.OrgType,onChange:i.handleChange,options:a,disabled:n}),i.touched.OrgType&&i.errors.OrgType?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.OrgType}):null]}),s.jsxs("div",{children:[s.jsx(A,{label:"Place of Incorporation",name:"PlaceOfIncorporation",value:i.values.PlaceOfIncorporation,onChange:i.handleChange,disabled:n,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),i.touched.PlaceOfIncorporation&&i.errors.PlaceOfIncorporation?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.PlaceOfIncorporation}):null]})]}),s.jsxs("div",{children:[s.jsx(A,{label:"Kind/Nature of Business",name:"KindOfOrganization",value:i.values.KindOfOrganization,onChange:i.handleChange,disabled:n,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),i.touched.KindOfOrganization&&i.errors.KindOfOrganization?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.KindOfOrganization}):null]})]})})]}),s.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[s.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:s.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[s.jsx(qq,{className:"h-5 w-5"}),"Tax Assessment"]})}),s.jsx("div",{className:"p-2 sm:p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. BASIC COMMUNITY TAX ( 500.00)"}),s.jsx("div",{className:"flex justify-end gap-3",children:s.jsxs("div",{children:[s.jsx(A,{name:"BasicTax",label:"Community Due Amount:",value:i.values.BasicTax,onChange:i.handleChange,disabled:n,className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500"}),i.touched.BasicTax&&i.errors.BasicTax?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.BasicTax}):null]})})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. ADDITIONAL COMMUNITY TAX (tax not exceed 10,000.00)"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx("p",{className:"text-sm text-gray-700",children:"1. ASSESSED VALUE OF REAL PROPERTY OWNED IN THE PHILIPPINES (2.00 FOR EVERY 5,000.00)"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{children:[s.jsx(A,{name:"assessedValueRealProperty",value:i.values.assessedValueRealProperty,onChange:i.handleChange,label:"Taxable Amount:",disabled:n,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount"}),i.touched.assessedValueRealProperty&&i.errors.assessedValueRealProperty?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.assessedValueRealProperty}):null]}),s.jsxs("div",{children:[s.jsx(A,{name:"assessedValueTax",value:i.values.assessedValueTax,onChange:i.handleChange,label:"Community Due Amount:",disabled:n,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax"}),i.touched.assessedValueTax&&i.errors.assessedValueTax?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.assessedValueTax}):null]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx("p",{className:"text-sm text-gray-700",children:"2. GROSS RECEIPTS, INCLUDING DIVIDENDS/EARNINGS DERIVED FROM BUSINESS IN THE PHIL. DURING THE PRECEDING YEAR (2.00 FOR EVERY 5,000.00)"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{children:[s.jsx(A,{name:"grossReceipts",value:i.values.grossReceipts,onChange:i.handleChange,label:"Taxable Amount:",disabled:n,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount"}),i.touched.grossReceipts&&i.errors.grossReceipts?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.grossReceipts}):null]}),s.jsxs("div",{children:[s.jsx(A,{name:"grossReceiptsTax",value:i.values.grossReceiptsTax,onChange:i.handleChange,label:"Community Due Amount:",disabled:n,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax"}),i.touched.grossReceiptsTax&&i.errors.grossReceiptsTax?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.grossReceiptsTax}):null]})]})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[s.jsx("div",{className:"md:w-1/3 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"font-medium block",children:"TOTAL"}),s.jsx(A,{name:"Total",value:i.values.Total,onChange:i.handleChange,disabled:n,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none"}),i.touched.Total&&i.errors.Total?s.jsx("div",{className:"text-red-300 text-sm mt-1",children:i.errors.Total}):null]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"font-medium block",children:"INTEREST %"}),s.jsx(A,{name:"Interest",value:i.values.Interest,onChange:i.handleChange,disabled:n,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none"}),i.touched.Interest&&i.errors.Interest?s.jsx("div",{className:"text-red-300 text-sm mt-1",children:i.errors.Interest}):null]})]})}),s.jsx("div",{className:"md:w-1/3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"font-bold text-lg block",children:"TOTAL AMOUNT PAID"}),s.jsx(A,{name:"AmountPaid",value:i.values.AmountPaid,onChange:i.handleChange,disabled:n,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono font-bold text-lg text-white focus:ring-2 focus:ring-white/50 focus:outline-none"}),i.touched.AmountPaid&&i.errors.AmountPaid?s.jsx("div",{className:"text-red-300 text-sm mt-1",children:i.errors.AmountPaid}):null]})}),s.jsx("div",{className:"md:w-1/3 flex justify-center md:justify-end",children:s.jsxs("div",{className:"text-center md:text-right w-full md:w-auto",children:[s.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),s.jsxs("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:[i.values.AmountinWords||"ZERO"," PESOS"]})]})})]})}),s.jsxs("div",{children:[s.jsx(A,{label:"Remarks",name:"Remarks",type:"textarea",value:i.values.Remarks,onChange:i.handleChange,disabled:n,className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3}),i.touched.Remarks&&i.errors.Remarks?s.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.errors.Remarks}):null]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[s.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"}),s.jsx(mt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",children:"Generate Certificate"})]})]})})},eve=[{id:1,customerId:"CAC",customerName:"aera sc",total:540,amountReceived:50,earnings:5e5,taxDue:200,year:"2024",issuedBy:"Treasury SH.",status:"Posted"},{id:2,customerId:"10015",customerName:"LBM Enterprises",total:0,amountReceived:0,earnings:5e4,taxDue:0,year:"2024",issuedBy:"Treasury SH.",status:"Requested"}];function tve(){const[t,e]=v.useState("list"),[r,n]=v.useState(null),[a,i]=v.useState(""),[o,l]=v.useState(!1),c=eve,u=()=>{n(null),e("form")},d=S=>{n(S),e("details")},f=S=>{n(S),e("form")},m=S=>{console.log("Print certificate:",S)},h=()=>{e("list"),n(null)},p=c==null?void 0:c.filter(S=>{const T=a.toLowerCase();return S.customerId.toLowerCase().includes(T)||S.customerName.toLowerCase().includes(T)||S.issuedBy.toLowerCase().includes(T)}),y=[{key:"customerId",header:"Customer ID",sortable:!0,className:"font-medium text-neutral-900"},{key:"customerName",header:"Customer Name",sortable:!0},{key:"total",header:"Total",sortable:!0,render:S=>x(S),className:"text-right"},{key:"amountReceived",header:"Amount Received",sortable:!0,render:S=>x(S),className:"text-right"},{key:"earnings",header:"Earnings",sortable:!0,render:S=>x(S),className:"text-right"},{key:"taxDue",header:"Tax Due",sortable:!0,render:S=>x(S),className:"text-right"},{key:"year",header:"Year",sortable:!0},{key:"issuedBy",header:"Issued By",sortable:!0},{key:"status",header:"Status",render:S=>b(S)}],x=S=>S>=1e6?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(S):new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(S),b=S=>{let T="bg-neutral-100 text-neutral-800";switch(S){case"Posted":T="bg-green-100 text-green-800";break;case"Requested":T="bg-yellow-100 text-yellow-800";break;case"Cancelled":T="bg-red-100 text-red-800";break}return s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T}`,children:S})},g=[{icon:Dm,title:"View",onClick:d,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ne,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],j=["Apple","Banana","Cherry","Date","Elderberry","Fig","Grape","Honeydew","Kiwi","Lemon"],C=()=>{l(!0)},N=()=>{l(!1)},w=()=>{console.log("Form submitted successfully"),h()};return s.jsxs("div",{className:"container mx-auto  sm:px-4 sm:py-8",children:[t==="list"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Corporation Tax Certificate"}),s.jsx("p",{className:"text-gray-600",children:"Manage corporation tax certificates"})]}),s.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("div",{className:"flex flex-wrap items-start gap-4 mb-4",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search by certificate no., corporation name, or TIN...",value:a,onChange:S=>i(S.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"}),s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})}),s.jsx(pe,{columns:y,data:p,actions:g,loading:!1,onRowClick:d})]})]}),t==="form"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:s.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Community Tax Certificate (CORPORATE)":"Community Tax Certificate (CORPORATE)"}),s.jsx("p",{className:"text-gray-600",children:r?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),s.jsxs("div",{className:"flex items-end gap-2 justify-end w-full",children:[s.jsx(cs,{options:j,placeholder:"Choose Vendors"}),s.jsx("button",{type:"button",onClick:C,className:"btn btn-secondary flex-initial",children:"Show List"}),s.jsx("button",{className:"btn btn-primary flex-initial",children:"Add Attachments"}),s.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:s.jsx(q$,{initialData:r,onCancel:h,onSubmitSuccess:w,readOnly:!1})})]}),t==="details"&&r&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:s.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),s.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>f(r),className:"btn btn-primary flex items-center",children:[s.jsx(Ne,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),s.jsxs("button",{type:"button",onClick:()=>m(r),className:"btn btn-outline flex items-center",children:[s.jsx(Bi,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:s.jsx(q$,{initialData:r,readOnly:!0,onBack:h})})]}),s.jsx(te,{isOpen:o,onClose:N,title:"General Ledger View",size:"lg",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}function rve(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),a=[{id:1,receiptNumber:"MC-2024-01-0001",date:"2024-01-15",stallNumber:"A-101",stallType:"Dry Goods",stallOwner:"John Smith",period:"January 2024",amount:1500,status:"Paid"},{id:2,receiptNumber:"MC-2024-01-0002",date:"2024-01-15",stallNumber:"B-203",stallType:"Wet Market",stallOwner:"Jane Doe",period:"January 2024",amount:2e3,status:"Paid"}],i=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),o=[{key:"receiptNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"stallNumber",header:"Stall No.",sortable:!0},{key:"stallType",header:"Type",sortable:!0},{key:"stallOwner",header:"Owner",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"amount",header:"Amount",sortable:!0,render:m=>i(m),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:m=>s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m==="Paid"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:m})}],l=[{icon:Dm,title:"View",onClick:m=>u(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ne,title:"Edit",onClick:m=>d(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{n(m),e(!0)},f=async(m,{setSubmitting:h})=>{try{await a$.validate(m,{abortEarly:!1}),console.log("Form data:",m),e(!1)}catch(p){console.error("Validation errors:",p.errors)}finally{h(!1)}};return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Market Collections"}),s.jsx("p",{children:"Manage market stall rental collections"})]}),s.jsxs("button",{type:"button",onClick:c,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2"}),"New Collection"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:o,data:a,actions:l,pagination:!0})}),s.jsx(te,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Collection":"New Collection",size:"lg",children:s.jsx(Be,{initialValues:{date:new Date().toISOString().split("T")[0],stallNumber:"",stallType:"",stallOwner:"",period:"",amount:"",...r},validationSchema:a$,onSubmit:f,children:({values:m,errors:h,touched:p,handleChange:y,handleBlur:x,isSubmitting:b})=>s.jsxs(We,{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Date",name:"date",type:"date",required:!0,value:m.date,onChange:y,onBlur:x,error:h.date,touched:p.date}),s.jsx(A,{label:"Period",name:"period",type:"select",required:!0,value:m.period,onChange:y,onBlur:x,error:h.period,touched:p.period,options:[{value:"January 2024",label:"January 2024"},{value:"February 2024",label:"February 2024"},{value:"March 2024",label:"March 2024"}]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Stall Number",name:"stallNumber",type:"text",required:!0,placeholder:"Enter stall number",value:m.stallNumber,onChange:y,onBlur:x,error:h.stallNumber,touched:p.stallNumber}),s.jsx(A,{label:"Stall Type",name:"stallType",type:"select",required:!0,value:m.stallType,onChange:y,onBlur:x,error:h.stallType,touched:p.stallType,options:[{value:"Dry Goods",label:"Dry Goods"},{value:"Wet Market",label:"Wet Market"},{value:"Food Stall",label:"Food Stall"}]})]}),s.jsx(A,{label:"Stall Owner",name:"stallOwner",type:"text",required:!0,placeholder:"Enter stall owner name",value:m.stallOwner,onChange:y,onBlur:x,error:h.stallOwner,touched:p.stallOwner}),s.jsx(A,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",value:m.amount,onChange:y,onBlur:x,error:h.amount,touched:p.amount,min:"0",step:"0.01"}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:b,className:"btn btn-primary",children:b?"Saving...":r?"Update":"Save"})]})]})})})]})}function QV(t,e){return function(){return t.apply(e,arguments)}}const{toString:nve}=Object.prototype,{getPrototypeOf:HE}=Object,{iterator:_j,toStringTag:e8}=Symbol,$j=(t=>e=>{const r=nve.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ya=t=>(t=t.toLowerCase(),e=>$j(e)===t),Rj=t=>e=>typeof e===t,{isArray:fu}=Array,Uf=Rj("undefined");function ave(t){return t!==null&&!Uf(t)&&t.constructor!==null&&!Uf(t.constructor)&&en(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const t8=ya("ArrayBuffer");function sve(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t8(t.buffer),e}const ive=Rj("string"),en=Rj("function"),r8=Rj("number"),Mj=t=>t!==null&&typeof t=="object",ove=t=>t===!0||t===!1,vx=t=>{if($j(t)!=="object")return!1;const e=HE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(e8 in t)&&!(_j in t)},lve=ya("Date"),cve=ya("File"),uve=ya("Blob"),dve=ya("FileList"),fve=t=>Mj(t)&&en(t.pipe),mve=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||en(t.append)&&((e=$j(t))==="formdata"||e==="object"&&en(t.toString)&&t.toString()==="[object FormData]"))},hve=ya("URLSearchParams"),[pve,gve,yve,xve]=["ReadableStream","Request","Response","Headers"].map(ya),bve=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gm(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),fu(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(n=0;n<o;n++)l=i[n],e.call(null,t[l],l,t)}}function n8(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const No=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,a8=t=>!Uf(t)&&t!==No;function tA(){const{caseless:t}=a8(this)&&this||{},e={},r=(n,a)=>{const i=t&&n8(e,a)||a;vx(e[i])&&vx(n)?e[i]=tA(e[i],n):vx(n)?e[i]=tA({},n):fu(n)?e[i]=n.slice():e[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Gm(arguments[n],r);return e}const vve=(t,e,r,{allOwnKeys:n}={})=>(Gm(e,(a,i)=>{r&&en(a)?t[i]=QV(a,r):t[i]=a},{allOwnKeys:n}),t),jve=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),wve=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Nve=(t,e,r,n)=>{let a,i,o;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!n||n(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=r!==!1&&HE(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Cve=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Sve=t=>{if(!t)return null;if(fu(t))return t;let e=t.length;if(!r8(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Ave=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&HE(Uint8Array)),Tve=(t,e)=>{const n=(t&&t[_j]).call(t);let a;for(;(a=n.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},kve=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Eve=ya("HTMLFormElement"),Ove=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),V$=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Pve=ya("RegExp"),s8=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Gm(r,(a,i)=>{let o;(o=e(a,i,t))!==!1&&(n[i]=o||a)}),Object.defineProperties(t,n)},Dve=t=>{s8(t,(e,r)=>{if(en(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(en(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ive=(t,e)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return fu(t)?n(t):n(String(t).split(e)),r},_ve=()=>{},$ve=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Rve(t){return!!(t&&en(t.append)&&t[e8]==="FormData"&&t[_j])}const Mve=t=>{const e=new Array(10),r=(n,a)=>{if(Mj(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const i=fu(n)?[]:{};return Gm(n,(o,l)=>{const c=r(o,a+1);!Uf(c)&&(i[l]=c)}),e[a]=void 0,i}}return n};return r(t,0)},Lve=ya("AsyncFunction"),Fve=t=>t&&(Mj(t)||en(t))&&en(t.then)&&en(t.catch),i8=((t,e)=>t?setImmediate:e?((r,n)=>(No.addEventListener("message",({source:a,data:i})=>{a===No&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),No.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",en(No.postMessage)),Bve=typeof queueMicrotask<"u"?queueMicrotask.bind(No):typeof process<"u"&&process.nextTick||i8,qve=t=>t!=null&&en(t[_j]),J={isArray:fu,isArrayBuffer:t8,isBuffer:ave,isFormData:mve,isArrayBufferView:sve,isString:ive,isNumber:r8,isBoolean:ove,isObject:Mj,isPlainObject:vx,isReadableStream:pve,isRequest:gve,isResponse:yve,isHeaders:xve,isUndefined:Uf,isDate:lve,isFile:cve,isBlob:uve,isRegExp:Pve,isFunction:en,isStream:fve,isURLSearchParams:hve,isTypedArray:Ave,isFileList:dve,forEach:Gm,merge:tA,extend:vve,trim:bve,stripBOM:jve,inherits:wve,toFlatObject:Nve,kindOf:$j,kindOfTest:ya,endsWith:Cve,toArray:Sve,forEachEntry:Tve,matchAll:kve,isHTMLForm:Eve,hasOwnProperty:V$,hasOwnProp:V$,reduceDescriptors:s8,freezeMethods:Dve,toObjectSet:Ive,toCamelCase:Ove,noop:_ve,toFiniteNumber:$ve,findKey:n8,global:No,isContextDefined:a8,isSpecCompliantForm:Rve,toJSONObject:Mve,isAsyncFn:Lve,isThenable:Fve,setImmediate:i8,asap:Bve,isIterable:qve};function $e(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}J.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const o8=$e.prototype,l8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{l8[t]={value:t}});Object.defineProperties($e,l8);Object.defineProperty(o8,"isAxiosError",{value:!0});$e.from=(t,e,r,n,a,i)=>{const o=Object.create(o8);return J.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),$e.call(o,t.message,e,r,n,a),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Vve=null;function rA(t){return J.isPlainObject(t)||J.isArray(t)}function c8(t){return J.endsWith(t,"[]")?t.slice(0,-2):t}function z$(t,e,r){return t?t.concat(e).map(function(a,i){return a=c8(a),!r&&i?"["+a+"]":a}).join(r?".":""):e}function zve(t){return J.isArray(t)&&!t.some(rA)}const Uve=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function Lj(t,e,r){if(!J.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=J.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!J.isUndefined(x[y])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(J.isDate(p))return p.toISOString();if(!c&&J.isBlob(p))throw new $e("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(p)||J.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,x){let b=p;if(p&&!x&&typeof p=="object"){if(J.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if(J.isArray(p)&&zve(p)||(J.isFileList(p)||J.endsWith(y,"[]"))&&(b=J.toArray(p)))return y=c8(y),b.forEach(function(j,C){!(J.isUndefined(j)||j===null)&&e.append(o===!0?z$([y],C,i):o===null?y:y+"[]",u(j))}),!1}return rA(p)?!0:(e.append(z$(x,y,i),u(p)),!1)}const f=[],m=Object.assign(Uve,{defaultVisitor:d,convertValue:u,isVisitable:rA});function h(p,y){if(!J.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(p),J.forEach(p,function(b,g){(!(J.isUndefined(b)||b===null)&&a.call(e,b,J.isString(g)?g.trim():g,y,m))===!0&&h(b,y?y.concat(g):[g])}),f.pop()}}if(!J.isObject(t))throw new TypeError("data must be an object");return h(t),e}function U$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function GE(t,e){this._pairs=[],t&&Lj(t,this,e)}const u8=GE.prototype;u8.append=function(e,r){this._pairs.push([e,r])};u8.toString=function(e){const r=e?function(n){return e.call(this,n,U$)}:U$;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Wve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function d8(t,e,r){if(!e)return t;const n=r&&r.encode||Wve;J.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(e,r):i=J.isURLSearchParams(e)?e.toString():new GE(e,r).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class W${constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(n){n!==null&&e(n)})}}const f8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hve=typeof URLSearchParams<"u"?URLSearchParams:GE,Gve=typeof FormData<"u"?FormData:null,Yve=typeof Blob<"u"?Blob:null,Kve={isBrowser:!0,classes:{URLSearchParams:Hve,FormData:Gve,Blob:Yve},protocols:["http","https","file","blob","url","data"]},YE=typeof window<"u"&&typeof document<"u",nA=typeof navigator=="object"&&navigator||void 0,Jve=YE&&(!nA||["ReactNative","NativeScript","NS"].indexOf(nA.product)<0),Xve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zve=YE&&window.location.href||"http://localhost",Qve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:YE,hasStandardBrowserEnv:Jve,hasStandardBrowserWebWorkerEnv:Xve,navigator:nA,origin:Zve},Symbol.toStringTag,{value:"Module"})),Or={...Qve,...Kve};function eje(t,e){return Lj(t,new Or.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return Or.isNode&&J.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function tje(t){return J.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rje(t){const e={},r=Object.keys(t);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],e[i]=t[i];return e}function m8(t){function e(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&J.isArray(a)?a.length:o,c?(J.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!J.isObject(a[o]))&&(a[o]=[]),e(r,n,a[o],i)&&J.isArray(a[o])&&(a[o]=rje(a[o])),!l)}if(J.isFormData(t)&&J.isFunction(t.entries)){const r={};return J.forEachEntry(t,(n,a)=>{e(tje(n),a,r,0)}),r}return null}function nje(t,e,r){if(J.isString(t))try{return(e||JSON.parse)(t),J.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Ym={transitional:f8,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=J.isObject(e);if(i&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return a?JSON.stringify(m8(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return eje(e,this.formSerializer).toString();if((l=J.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Lj(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),nje(e)):e}],transformResponse:[function(e){const r=this.transitional||Ym.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?$e.from(l,$e.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Or.classes.FormData,Blob:Or.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],t=>{Ym.headers[t]={}});const aje=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sje=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||e[r]&&aje[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},H$=Symbol("internals");function Uu(t){return t&&String(t).trim().toLowerCase()}function jx(t){return t===!1||t==null?t:J.isArray(t)?t.map(jx):String(t)}function ije(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const oje=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function f1(t,e,r,n,a){if(J.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!J.isString(e)){if(J.isString(n))return e.indexOf(n)!==-1;if(J.isRegExp(n))return n.test(e)}}function lje(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function cje(t,e){const r=J.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,i,o){return this[n].call(this,e,a,i,o)},configurable:!0})})}let tn=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function i(l,c,u){const d=Uu(c);if(!d)throw new Error("header name must be a non-empty string");const f=J.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=jx(l))}const o=(l,c)=>J.forEach(l,(u,d)=>i(u,d,c));if(J.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(J.isString(e)&&(e=e.trim())&&!oje(e))o(sje(e),r);else if(J.isObject(e)&&J.isIterable(e)){let l={},c,u;for(const d of e){if(!J.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?J.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=Uu(e),e){const n=J.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return ije(a);if(J.isFunction(r))return r.call(this,a,n);if(J.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Uu(e),e){const n=J.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||f1(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function i(o){if(o=Uu(o),o){const l=J.findKey(n,o);l&&(!r||f1(n,n[l],l,r))&&(delete n[l],a=!0)}}return J.isArray(e)?e.forEach(i):i(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!e||f1(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const r=this,n={};return J.forEach(this,(a,i)=>{const o=J.findKey(n,i);if(o){r[o]=jx(a),delete r[i];return}const l=e?lje(i):String(i).trim();l!==i&&delete r[i],r[l]=jx(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return J.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&J.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[H$]=this[H$]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Uu(o);n[l]||(cje(a,o),n[l]=!0)}return J.isArray(e)?e.forEach(i):i(e),this}};tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(tn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});J.freezeMethods(tn);function m1(t,e){const r=this||Ym,n=e||r,a=tn.from(n.headers);let i=n.data;return J.forEach(t,function(l){i=l.call(r,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function h8(t){return!!(t&&t.__CANCEL__)}function mu(t,e,r){$e.call(this,t??"canceled",$e.ERR_CANCELED,e,r),this.name="CanceledError"}J.inherits(mu,$e,{__CANCEL__:!0});function p8(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new $e("Request failed with status code "+r.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uje(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function dje(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[a]=c,n[a]=u;let f=i,m=0;for(;f!==a;)m+=r[f++],f=f%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),u-o<e)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function fje(t,e){let r=0,n=1e3/e,a,i;const o=(u,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},n-f)))},()=>a&&o(a)]}const Lb=(t,e,r=3)=>{let n=0;const a=dje(50,250);return fje(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},G$=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Y$=t=>(...e)=>J.asap(()=>t(...e)),mje=Or.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Or.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Or.origin),Or.navigator&&/(msie|trident)/i.test(Or.navigator.userAgent)):()=>!0,hje=Or.hasStandardBrowserEnv?{write(t,e,r,n,a,i){const o=[t+"="+encodeURIComponent(e)];J.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),J.isString(n)&&o.push("path="+n),J.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pje(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function gje(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function g8(t,e,r){let n=!pje(e);return t&&(n||r==!1)?gje(t,e):e}const K$=t=>t instanceof tn?{...t}:t;function el(t,e){e=e||{};const r={};function n(u,d,f,m){return J.isPlainObject(u)&&J.isPlainObject(d)?J.merge.call({caseless:m},u,d):J.isPlainObject(d)?J.merge({},d):J.isArray(d)?d.slice():d}function a(u,d,f,m){if(J.isUndefined(d)){if(!J.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function i(u,d){if(!J.isUndefined(d))return n(void 0,d)}function o(u,d){if(J.isUndefined(d)){if(!J.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>a(K$(u),K$(d),f,!0)};return J.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=c[d]||a,m=f(t[d],e[d],d);J.isUndefined(m)&&f!==l||(r[d]=m)}),r}const y8=t=>{const e=el({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=tn.from(o),e.url=d8(g8(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(J.isFormData(r)){if(Or.hasStandardBrowserEnv||Or.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Or.hasStandardBrowserEnv&&(n&&J.isFunction(n)&&(n=n(e)),n||n!==!1&&mje(e.url))){const u=a&&i&&hje.read(i);u&&o.set(a,u)}return e},yje=typeof XMLHttpRequest<"u",xje=yje&&function(t){return new Promise(function(r,n){const a=y8(t);let i=a.data;const o=tn.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,h,p;function y(){h&&h(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function b(){if(!x)return;const j=tn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:j,config:t,request:x};p8(function(S){r(S),y()},function(S){n(S),y()},N),x=null}"onloadend"in x?x.onloadend=b:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(b)},x.onabort=function(){x&&(n(new $e("Request aborted",$e.ECONNABORTED,t,x)),x=null)},x.onerror=function(){n(new $e("Network Error",$e.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||f8;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),n(new $e(C,N.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,t,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&J.forEach(o.toJSON(),function(C,N){x.setRequestHeader(N,C)}),J.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),u&&([m,p]=Lb(u,!0),x.addEventListener("progress",m)),c&&x.upload&&([f,h]=Lb(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=j=>{x&&(n(!j||j.type?new mu(null,t,x):j),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const g=uje(a.url);if(g&&Or.protocols.indexOf(g)===-1){n(new $e("Unsupported protocol "+g+":",$e.ERR_BAD_REQUEST,t));return}x.send(i||null)})},bje=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof $e?d:new mu(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new $e(`timeout ${e} of ms exceeded`,$e.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>J.asap(l),c}},vje=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},jje=async function*(t,e){for await(const r of wje(t))yield*vje(r,e)},wje=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},J$=(t,e,r,n)=>{const a=jje(t,e);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=i+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Fj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",x8=Fj&&typeof ReadableStream=="function",Nje=Fj&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),b8=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Cje=x8&&b8(()=>{let t=!1;const e=new Request(Or.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),X$=64*1024,aA=x8&&b8(()=>J.isReadableStream(new Response("").body)),Fb={stream:aA&&(t=>t.body)};Fj&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Fb[e]&&(Fb[e]=J.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new $e(`Response type '${e}' is not supported`,$e.ERR_NOT_SUPPORT,n)})})})(new Response);const Sje=async t=>{if(t==null)return 0;if(J.isBlob(t))return t.size;if(J.isSpecCompliantForm(t))return(await new Request(Or.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(J.isArrayBufferView(t)||J.isArrayBuffer(t))return t.byteLength;if(J.isURLSearchParams(t)&&(t=t+""),J.isString(t))return(await Nje(t)).byteLength},Aje=async(t,e)=>{const r=J.toFiniteNumber(t.getContentLength());return r??Sje(e)},Tje=Fj&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=y8(t);u=u?(u+"").toLowerCase():"text";let h=bje([a,i&&i.toAbortSignal()],o),p;const y=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let x;try{if(c&&Cje&&r!=="get"&&r!=="head"&&(x=await Aje(d,n))!==0){let N=new Request(e,{method:"POST",body:n,duplex:"half"}),w;if(J.isFormData(n)&&(w=N.headers.get("content-type"))&&d.setContentType(w),N.body){const[S,T]=G$(x,Lb(Y$(c)));n=J$(N.body,X$,S,T)}}J.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;p=new Request(e,{...m,signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:b?f:void 0});let g=await fetch(p);const j=aA&&(u==="stream"||u==="response");if(aA&&(l||j&&y)){const N={};["status","statusText","headers"].forEach(k=>{N[k]=g[k]});const w=J.toFiniteNumber(g.headers.get("content-length")),[S,T]=l&&G$(w,Lb(Y$(l),!0))||[];g=new Response(J$(g.body,X$,S,()=>{T&&T(),y&&y()}),N)}u=u||"text";let C=await Fb[J.findKey(Fb,u)||"text"](g,t);return!j&&y&&y(),await new Promise((N,w)=>{p8(N,w,{data:C,headers:tn.from(g.headers),status:g.status,statusText:g.statusText,config:t,request:p})})}catch(b){throw y&&y(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,t,p),{cause:b.cause||b}):$e.from(b,b&&b.code,t,p)}}),sA={http:Vve,xhr:xje,fetch:Tje};J.forEach(sA,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Z$=t=>`- ${t}`,kje=t=>J.isFunction(t)||t===null||t===!1,v8={getAdapter:t=>{t=J.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let i=0;i<e;i++){r=t[i];let o;if(n=r,!kje(r)&&(n=sA[(o=String(r)).toLowerCase()],n===void 0))throw new $e(`Unknown adapter '${o}'`);if(n)break;a[o||"#"+i]=n}if(!n){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(Z$).join(`
`):" "+Z$(i[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:sA};function h1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new mu(null,t)}function Q$(t){return h1(t),t.headers=tn.from(t.headers),t.data=m1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),v8.getAdapter(t.adapter||Ym.adapter)(t).then(function(n){return h1(t),n.data=m1.call(t,t.transformResponse,n),n.headers=tn.from(n.headers),n},function(n){return h8(n)||(h1(t),n&&n.response&&(n.response.data=m1.call(t,t.transformResponse,n.response),n.response.headers=tn.from(n.response.headers))),Promise.reject(n)})}const j8="1.9.0",Bj={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Bj[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const eR={};Bj.transitional=function(e,r,n){function a(i,o){return"[Axios v"+j8+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(e===!1)throw new $e(a(o," has been removed"+(r?" in "+r:"")),$e.ERR_DEPRECATED);return r&&!eR[o]&&(eR[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,l):!0}};Bj.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Eje(t,e,r){if(typeof t!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const i=n[a],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new $e("option "+i+" must be "+c,$e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new $e("Unknown option "+i,$e.ERR_BAD_OPTION)}}const wx={assertOptions:Eje,validators:Bj},va=wx.validators;let Mo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new W$,response:new W$}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=el(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&wx.assertOptions(n,{silentJSONParsing:va.transitional(va.boolean),forcedJSONParsing:va.transitional(va.boolean),clarifyTimeoutError:va.transitional(va.boolean)},!1),a!=null&&(J.isFunction(a)?r.paramsSerializer={serialize:a}:wx.assertOptions(a,{encode:va.function,serialize:va.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),wx.assertOptions(r,{baseUrl:va.spelling("baseURL"),withXsrfToken:va.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&J.merge(i.common,i[r.method]);i&&J.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=tn.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,m;if(!c){const p=[Q$.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,u),m=p.length,d=Promise.resolve(r);f<m;)d=d.then(p[f++],p[f++]);return d}m=l.length;let h=r;for(f=0;f<m;){const p=l[f++],y=l[f++];try{h=p(h)}catch(x){y.call(this,x);break}}try{d=Q$.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=el(this.defaults,e);const r=g8(e.baseURL,e.url,e.allowAbsoluteUrls);return d8(r,e.params,e.paramsSerializer)}};J.forEach(["delete","get","head","options"],function(e){Mo.prototype[e]=function(r,n){return this.request(el(n||{},{method:e,url:r,data:(n||{}).data}))}});J.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,l){return this.request(el(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Mo.prototype[e]=r(),Mo.prototype[e+"Form"]=r(!0)});let Oje=class w8{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,l){n.reason||(n.reason=new mu(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new w8(function(a){e=a}),cancel:e}}};function Pje(t){return function(r){return t.apply(null,r)}}function Dje(t){return J.isObject(t)&&t.isAxiosError===!0}const iA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iA).forEach(([t,e])=>{iA[e]=t});function N8(t){const e=new Mo(t),r=QV(Mo.prototype.request,e);return J.extend(r,Mo.prototype,e,{allOwnKeys:!0}),J.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return N8(el(t,a))},r}const Lt=N8(Ym);Lt.Axios=Mo;Lt.CanceledError=mu;Lt.CancelToken=Oje;Lt.isCancel=h8;Lt.VERSION=j8;Lt.toFormData=Lj;Lt.AxiosError=$e;Lt.Cancel=Lt.CanceledError;Lt.all=function(e){return Promise.all(e)};Lt.spread=Pje;Lt.isAxiosError=Dje;Lt.mergeConfig=el;Lt.AxiosHeaders=tn;Lt.formToJSON=t=>m8(J.isHTMLForm(t)?new FormData(t):t);Lt.getAdapter=v8.getAdapter;Lt.HttpStatusCode=iA;Lt.default=Lt;const{Axios:RUe,AxiosError:MUe,CanceledError:LUe,isCancel:FUe,CancelToken:BUe,VERSION:qUe,all:VUe,Cancel:zUe,isAxiosError:UUe,spread:WUe,toFormData:HUe,AxiosHeaders:GUe,HttpStatusCode:YUe,formToJSON:KUe,getAdapter:JUe,mergeConfig:XUe}=Lt,p1=L("generalServiceReceipts/fetchGeneralServiceReceipts",async()=>(await Lt.get("/api/general-service-receipts")).data),g1=L("generalServiceReceipts/createGeneralServiceReceipt",async t=>(await Lt.post("/api/general-service-receipts",t)).data),y1=L("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e})=>(await Lt.put(`/api/general-service-receipts/${t}`,e)).data),x1=L("generalServiceReceipts/deleteGeneralServiceReceipt",async t=>(await Lt.delete(`/api/general-service-receipts/${t}`),t)),Ije={receipts:[],loading:!1,error:null},C8=me({name:"generalServiceReceipts",initialState:Ije,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(p1.pending,e=>{e.loading=!0,e.error=null}).addCase(p1.fulfilled,(e,r)=>{e.loading=!1,e.receipts=r.payload}).addCase(p1.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(g1.pending,e=>{e.loading=!0,e.error=null}).addCase(g1.fulfilled,(e,r)=>{e.loading=!1,e.receipts.push(r.payload)}).addCase(g1.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(y1.pending,e=>{e.loading=!0,e.error=null}).addCase(y1.fulfilled,(e,r)=>{e.loading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.receipts[n]=r.payload)}).addCase(y1.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(x1.pending,e=>{e.loading=!0,e.error=null}).addCase(x1.fulfilled,(e,r)=>{e.loading=!1,e.receipts=e.receipts.filter(n=>n.id!==r.payload)}).addCase(x1.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{clearError:ZUe}=C8.actions,_je=C8.reducer,$je=le().shape({title:D().required("Title is required"),name:D().required("Name is required"),deceasedName:D().required("Deceased name is required"),nationality:D().required("Nationality is required"),age:oe().required("Age is required").min(0,"Age must be positive"),dateOfDeath:De().required("Date of death is required"),causeOfDeath:D().required("Cause of death is required"),cemeteryName:D().required("Cemetery name is required"),serviceType:D().required("Service type is required"),isInfectious:Pc(),isEmbalmed:Pc(),dispositionRemarks:D().when("serviceType",{is:t=>["disinter","remove"].includes(t),then:D().required("Disposition remarks are required")}),invoiceDate:De().required("Invoice date is required"),paymentMethod:D().required("Payment method is required"),amountReceived:oe().required("Amount received is required").min(0,"Amount must be positive"),referenceNumber:D(),remarks:D()});function Rje({initialData:t,onClose:e,onSubmit:r}){const[n,a]=v.useState(!1),[i,o]=v.useState([]),[l,c]=v.useState(null),u=t||{title:"mr",name:"",deceasedName:"",nationality:"",age:"",dateOfDeath:"",causeOfDeath:"",cemeteryName:"",serviceType:"inter",isInfectious:!1,isEmbalmed:!1,dispositionRemarks:"",invoiceDate:new Date().toISOString().split("T")[0],paymentMethod:"",amountReceived:"",referenceNumber:"",remarks:""},d=(y,x)=>{const b=y.target.value;x("serviceType",b),a(b!=="inter")},f=[{value:"shewin_pua_ola",label:"Shewin, Pua, Ola"},{value:"john_doe",label:"Doe, John"},{value:"jane_smith",label:"Smith, Jane"}],m=y=>{if(y.target.files){const x=Array.from(y.target.files).map(b=>({file:b,id:Math.random().toString(36).substring(2,9),name:b.name,size:b.size,type:b.type}));o(b=>[...b,...x])}},h=y=>{o(x=>x.filter(b=>b.id!==y))},p=async(y,{setSubmitting:x})=>{try{c(null);const b={...y,attachments:i};await r(b),e()}catch(b){c(b.message||"Submission failed. Please try again.")}finally{x(!1)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[s.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),s.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),s.jsx(Be,{initialValues:u,validationSchema:$je,onSubmit:p,enableReinitialize:!0,children:({values:y,errors:x,touched:b,handleChange:g,setFieldValue:j,isSubmitting:C})=>s.jsxs(We,{className:"space-y-4 p-4 bg-white rounded-lg",children:[l&&s.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg",children:l}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),s.jsx("input",{type:"file",multiple:!0,onChange:m,className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),i.length>0&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Selected Files:"}),s.jsx("ul",{className:"divide-y divide-gray-200",children:i.map(N=>s.jsxs("li",{className:"py-2 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(rB,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600 truncate max-w-xs",children:N.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",Mje(N.size),")"]})]}),s.jsx("button",{type:"button",onClick:()=>h(N.id),className:"text-red-500 hover:text-red-700",children:s.jsx(Vm,{className:"h-5 w-5"})})]},N.id))})]})]}),s.jsx("div",{className:"text-center",children:s.jsx(A,{name:"receiptNumber",type:"text",value:"BU-RE-36AL-CEIPT",readOnly:!0,className:"font-bold text-center"})}),s.jsx("div",{children:s.jsx(A,{label:"MR. / MRS.",name:"name",type:"select",options:f,placeholder:"Select name",required:!0,error:b.name&&x.name})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(A,{label:"Name",name:"deceasedName",type:"select",options:f,required:!0,error:b.deceasedName&&x.deceasedName}),s.jsx(A,{label:"Nationality",name:"nationality",type:"select",options:[{value:"filipino",label:"Filipino"},{value:"non-filipino",label:"Non-Filipino"}],required:!0,error:b.nationality&&x.nationality}),s.jsx(A,{label:"Age",name:"age",type:"number",required:!0,error:b.age&&x.age}),s.jsx(A,{label:"Sex",name:"sex",type:"select",options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],required:!0,error:b.sex&&x.sex}),s.jsx(A,{label:"Date of Death",name:"dateOfDeath",type:"date",required:!0,error:b.dateOfDeath&&x.dateOfDeath}),s.jsx(A,{label:"Cause of Death",name:"causeOfDeath",type:"text",required:!0,error:b.causeOfDeath&&x.causeOfDeath}),s.jsx(A,{label:"Name of Cemetery",name:"cemeteryName",type:"text",required:!0,error:b.cemeteryName&&x.cemeteryName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block font-medium",children:"Service Type"}),s.jsx("div",{className:"flex space-x-4",children:["inter","disinter","remove"].map(N=>s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"radio",name:"serviceType",value:N,checked:y.serviceType===N,onChange:w=>d(w,j),className:"form-radio"}),s.jsx("span",{className:"ml-2",children:N.toUpperCase()})]},N))}),b.serviceType&&x.serviceType&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:x.serviceType})]}),n&&s.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"checkbox",name:"isInfectious",checked:y.isInfectious,onChange:g,className:"form-checkbox"}),s.jsx("span",{className:"ml-2",children:"Infectious"})]}),s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"checkbox",name:"isEmbalmed",checked:y.isEmbalmed,onChange:g,className:"form-checkbox"}),s.jsx("span",{className:"ml-2",children:"Embalmed"})]})]}),s.jsx(A,{label:"Disposition of Remains",name:"dispositionRemarks",type:"textarea",rows:2,required:y.serviceType!=="inter",error:b.dispositionRemarks&&x.dispositionRemarks})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Invoice Date",name:"invoiceDate",type:"date",required:!0,error:b.invoiceDate&&x.invoiceDate}),s.jsx(A,{label:"Payment Method",name:"paymentMethod",type:"select",options:[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"card",label:"Credit Card"}],required:!0,error:b.paymentMethod&&x.paymentMethod}),s.jsx(A,{label:"Amount Received",name:"amountReceived",type:"number",required:!0,min:"0",error:b.amountReceived&&x.amountReceived}),s.jsx(A,{label:"Reference Number",name:"referenceNumber",type:"text",error:b.referenceNumber&&x.referenceNumber})]}),s.jsx(A,{label:"Remarks",name:"remarks",type:"textarea",rows:2,error:b.remarks&&x.remarks}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:C,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:C?"Submitting...":"Submit"})]})]})})]})}function Mje(t){if(t===0)return"0 Bytes";const e=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,n)).toFixed(2))+" "+r[n]}const Km="https://staging-engine.testthelink.online",Lje=[],Nx=L("burialRecords/fetchBurialRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Km}/burialRecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial records");return a}catch(r){return e.rejectWithValue(r.message)}}),b1=L("burialRecords/fetchBurialRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Km}/burialRecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),v1=L("burialRecords/addBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Km}/burialRecord`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),j1=L("burialRecords/updateBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Km}/burialRecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),w1=L("burialRecords/deleteBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Km}/burialRecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete burial record")}return t}catch(r){return e.rejectWithValue(r.message)}}),S8=me({name:"burialRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Nx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nx.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Nx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial records",console.warn("Failed to fetch burial records, using mock data.",e.error),e.records=Lje}).addCase(b1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(b1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(b1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial record"}).addCase(v1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(v1.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(v1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add burial record",console.error("Failed to add burial record:",e.error)}).addCase(j1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(j1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(j1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update burial record",console.error("Failed to update burial record:",e.error)}).addCase(w1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(w1.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(w1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete burial record",console.error("Failed to delete burial record:",e.error)})}}),{clearCurrentRecord:QUe}=S8.actions,Fje=S8.reducer;function Bje(){const t=ce(),{nationalities:e,isLoading:r}=W(N=>N.nationalities),{users:n,isLoading:a}=W(N=>N.users),{municipalities:i,isLoading:o}=W(N=>N.municipalities),{provinces:l,isLoading:c}=W(N=>N.provinces),{records:u,isLoading:d}=W(N=>N.burialRecords),[f,m]=v.useState(!1),[h,p]=v.useState(null);v.useEffect(()=>{t(Wd()),t(Bd()),t(bi()),t(xi()),t(Nx())},[t]);const y=[{header:"Receipt No",accessor:"receiptNo"},{header:"Name",accessor:"name"},{header:"Deceased Name",accessor:"deceasedName"},{header:"Date of Death",accessor:"dateOfDeath"},{header:"Service Type",accessor:"serviceType"},{header:"Actions",accessor:"actions",cell:N=>s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>b(N),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),s.jsx("button",{onClick:()=>g(N.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})}],x=()=>{p(null),m(!0)},b=N=>{p(N),m(!0)},g=N=>{setReceipts(receipts.filter(w=>w.id!==N))},j=()=>{m(!1),p(null)},C=N=>{if(h)setReceipts(receipts.map(w=>w.id===h.id?{...N,id:w.id}:w));else{const w={...N,id:Date.now()};setReceipts([...receipts,w])}j()};return console.log({burialRecord:u}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Burial Service Receipts"}),s.jsxs("button",{onClick:x,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add New Receipt"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:s.jsx(pe,{columns:y,data:u,className:"min-w-full divide-y divide-gray-200"})}),s.jsx(te,{isOpen:f,onClose:j,title:h?"Edit Burial Service Receipt":"New Burial Service Receipt",children:s.jsx(Rje,{initialData:h,onClose:j,onSubmit:C,nationalities:e,municipalities:i,provinces:l,users:n})})]})}const qje=le().shape({invoiceNumber:D().required("Invoice number is required"),customer:D().required("Customer is required"),customerAge:oe().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),remarks:D().required("Remarks are required"),invoiceDate:De().required("Invoice date is required"),cenomar:D().required("CENOMAR is required"),marryTo:D().required('"Marry to" is required'),marryToAge:oe().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),registerNumber:D().required("Register number is required"),price:oe().required("Price is required").min(0,"Price cannot be negative"),remainingBalance:oe().required("Balance is required").min(0,"Balance cannot be negative"),amountReceived:oe().required("Amount received is required").min(0,"Amount cannot be negative")});function Vje({initialData:t,onClose:e,onSubmit:r}){const[n,a]=v.useState(!1),[i,o]=v.useState([]),l=t||{invoiceNumber:"MA-RE-30GE-CEIPT",customer:"",customerAge:"",remarks:"",invoiceDate:new Date().toISOString().split("T")[0],cenomar:"",marryTo:"",marryToAge:"",registerNumber:"",price:1002,remainingBalance:0,amountReceived:0},c=async h=>{a(!0);try{await r(h),e()}catch(p){console.error("Error submitting form:",p)}finally{a(!1)}},u=h=>{if(h.target.files){const p=Array.from(h.target.files).map(y=>({file:y,id:Math.random().toString(36).substring(2,9),name:y.name,size:y.size,type:y.type}));o(y=>[...y,...p])}},d=h=>{o(p=>p.filter(y=>y.id!==h))};function f(h){if(h===0)return"0 Bytes";const p=1024,y=["Bytes","KB","MB","GB"],x=Math.floor(Math.log(h)/Math.log(p));return parseFloat((h/Math.pow(p,x)).toFixed(2))+" "+y[x]}const m=[{label:"Marry to 1",value:"Marry to 1"},{label:"Marry to 2",value:"Marry to 2"},{label:"Marry to 3",value:"Marry to 3"},{label:"Marry to 4",value:"Marry to 4"},{label:"Marry to 5",value:"Marry to 5"}];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[s.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),s.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),s.jsx(Be,{initialValues:l,validationSchema:qje,onSubmit:c,enableReinitialize:!0,children:({values:h,errors:p,touched:y,handleChange:x,handleBlur:b})=>s.jsxs(We,{className:"space-y-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),s.jsx("input",{type:"file",multiple:!0,onChange:u,className:`block w-full text-sm text-gray-500\r
                file:mr-4 file:py-2 file:px-4\r
                file:rounded-md file:border-0\r
                file:text-sm file:font-medium\r
                file:bg-blue-50 file:text-blue-700\r
                hover:file:bg-blue-100`})]}),i.length>0&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Selected Files:"}),s.jsx("ul",{className:"divide-y divide-gray-200",children:i.map(g=>s.jsxs("li",{className:"py-2 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(rB,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600 truncate max-w-xs",children:g.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",f(g.size),")"]})]}),s.jsx("button",{type:"button",onClick:()=>d(g.id),className:"text-red-500 hover:text-red-700",children:s.jsx(Vm,{className:"h-5 w-5"})})]},g.id))})]})]}),s.jsx(A,{label:"Invoice Number",name:"invoiceNumber",type:"text",required:!0,value:h.invoiceNumber,onChange:x,onBlur:b,error:p.invoiceNumber,touched:y.invoiceNumber}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Customer",name:"customer",type:"text",required:!0,value:h.customer,onChange:x,onBlur:b,error:p.customer,touched:y.customer}),s.jsx(A,{label:"Age",name:"customerAge",type:"number",required:!0,value:h.customerAge,onChange:x,onBlur:b,error:p.customerAge,touched:y.customerAge,min:"1"})]}),s.jsx(A,{label:"Remarks",name:"remarks",type:"textarea",rows:3,required:!0,value:h.remarks,onChange:x,onBlur:b,error:p.remarks,touched:y.remarks}),s.jsx(A,{label:"Invoice Date",name:"invoiceDate",type:"date",required:!0,value:h.invoiceDate,onChange:x,onBlur:b,error:p.invoiceDate,touched:y.invoiceDate}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"CENOMAR",name:"cenomar",type:"text",required:!0,value:h.cenomar,onChange:x,onBlur:b,error:p.cenomar,touched:y.cenomar}),s.jsx(A,{label:"Marry to",name:"marryTo",type:"select",required:!0,options:m,value:h.marryTo,onChange:x,onBlur:b,error:p.marryTo,touched:y.marryTo})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Age",name:"marryToAge",type:"number",required:!0,value:h.marryToAge,onChange:x,onBlur:b,error:p.marryToAge,touched:y.marryToAge,min:"1"}),s.jsx(A,{label:"Register Number",name:"registerNumber",type:"text",required:!0,value:h.registerNumber,onChange:x,onBlur:b,error:p.registerNumber,touched:y.registerNumber})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(A,{label:"Price",name:"price",type:"number",required:!0,value:h.price,onChange:x,onBlur:b,error:p.price,touched:y.price,min:"0"}),s.jsx(A,{label:"Remaining Balance",name:"remainingBalance",type:"number",required:!0,value:h.remainingBalance,onChange:x,onBlur:b,error:p.remainingBalance,touched:y.remainingBalance,min:"0"}),s.jsx(A,{label:"Amount Received",name:"amountReceived",type:"number",required:!0,value:h.amountReceived,onChange:x,onBlur:b,error:p.amountReceived,touched:y.amountReceived,min:"0"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:n,children:t?"Update":"Create"})]})]})})]})}function zje(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),[a,i]=v.useState([]),o=m=>{const h={id:Date.now(),...m};i([...a,h])},l=m=>{i(a.map(h=>h.id===r.id?{...h,...m}:h))},c=m=>{i(a.filter(h=>h.id!==m))},u=m=>{n(m),e(!0)},d=()=>{n(null),e(!1)},f=[{header:"Status",accessor:"status"},{header:"AP/AR",accessor:"apAr"},{header:"Customer",accessor:"customer"},{header:"Total Amount",accessor:"totalAmount"},{header:"Amount Received",accessor:"amountReceived"},{header:"Credit",accessor:"credit"},{header:"Debit",accessor:"debit"},{header:"EWT",accessor:"ewt"},{header:"Withheld Amount",accessor:"withheldAmount"},{header:"Total",accessor:"total"},{header:"Discount (%)",accessor:"discountPercent"},{header:"Amount Due",accessor:"amountDue"},{header:"Actions",accessor:"actions",cell:({row:m})=>s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>u(m.original),className:"text-blue-600 hover:text-blue-800",children:s.jsx(Ne,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>c(m.original.id),className:"text-red-600 hover:text-red-800",children:s.jsx(Ie,{className:"h-5 w-5"})})]})}];return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriage Service Receipts"}),s.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Receipt"]})]}),s.jsx(pe,{columns:f,data:a,className:"bg-white rounded-lg shadow"}),s.jsx(te,{isOpen:t,onClose:d,title:r?"Edit Receipt":"Add Receipt",children:s.jsx(Vje,{initialData:r,onClose:d,onSubmit:r?l:o})})]})}const Uje=le().shape({fromDate:De().required("From Date is required").max(Rf("toDate"),"From Date must be before or equal to To Date"),toDate:De().required("To Date is required").min(Rf("fromDate"),"To Date must be after or equal to From Date"),fund:D().required("Fund is required")});function Wje({onSubmit:t}){const e={fromDate:"",toDate:"",fund:"general"};return s.jsx(Be,{initialValues:e,validationSchema:Uje,onSubmit:t,children:({values:r,errors:n,touched:a,handleChange:i,handleBlur:o})=>s.jsxs(We,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"From Date",name:"fromDate",type:"date",required:!0,value:r.fromDate,onChange:i,onBlur:o,error:n.fromDate,touched:a.fromDate}),s.jsx(A,{label:"To Date",name:"toDate",type:"date",required:!0,value:r.toDate,onChange:i,onBlur:o,error:n.toDate,touched:a.toDate})]}),s.jsx(A,{label:"Fund",name:"fund",type:"select",required:!0,value:r.fund,onChange:i,onBlur:o,error:n.fund,touched:a.fund,options:[{value:"general",label:"General Fund"}]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>t({...r,action:"view"}),className:"btn btn-primary",children:"View"}),s.jsx("button",{type:"button",onClick:()=>t({...r,action:"generate"}),className:"btn btn-secondary",children:"Generate Cashbook"}),s.jsx("button",{type:"button",onClick:()=>t({...r,action:"export"}),className:"btn btn-outline",children:"Export to Excel"})]})]})})}const Jh=[{id:1,date:"2024-03-01",reference:"OR-2024-001",description:"Collection - Community Tax",debit:5e3,credit:0,balance:5e3},{id:2,date:"2024-03-02",reference:"DV-2024-001",description:"Payment - Office Supplies",debit:0,credit:2500,balance:2500},{id:3,date:"2024-03-03",reference:"OR-2024-002",description:"Collection - Burial Service",debit:3e3,credit:0,balance:5500},{id:4,date:"2024-03-04",reference:"DV-2024-002",description:"Payment - Utility Bills",debit:0,credit:1500,balance:4e3},{id:5,date:"2024-03-05",reference:"OR-2024-003",description:"Collection - Marriage Service",debit:2e3,credit:0,balance:6e3}];function Hje(){const[t,e]=v.useState(Jh),[r,n]=v.useState(!1),a=async o=>{n(!0);try{switch(o.action){case"view":e(Jh);break;case"generate":e(Jh);break;case"export":e(Jh);break;default:break}}catch(l){console.error("Error handling cashbook action:",l)}finally{n(!1)}},i=[{header:"Year",accessor:"year"},{header:"Officer",accessor:"officer"},{header:"Fund",accessor:"fund"},{header:"Invoice Date",accessor:"invoiceDate",cell:({value:o})=>new Date(o).toLocaleDateString()},{header:"AP AR",accessor:"apAr"},{header:"Invoice number",accessor:"invoiceNumber"},{header:"Debit",accessor:"debit",cell:({value:o})=>o.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{header:"Credit",accessor:"credit",cell:({value:o})=>o.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{header:"Balance",accessor:"balance",cell:({value:o})=>o.toLocaleString("en-US",{style:"currency",currency:"PHP"})}];return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cashbook"})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:s.jsx(Wje,{onSubmit:a})}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:s.jsx(pe,{columns:i,data:t,loading:r,emptyMessage:"No cashbook entries found for the selected date range."})})]})}const Gje=le().shape({reportType:D().required("Report type is required"),date:De().when("reportType",{is:"daily",then:De().required("Date is required")}),month:oe().when("reportType",{is:"monthly",then:oe().required("Month is required").min(1).max(12)}),year:oe().when("reportType",{is:t=>["monthly","quarterly"].includes(t),then:oe().required("Year is required").min(2e3).max(2100)}),quarter:oe().when("reportType",{is:"quarterly",then:oe().required("Quarter is required").min(1).max(4)}),fromDate:De().when("reportType",{is:"flexible",then:De().required("From date is required")}),toDate:De().when("reportType",{is:"flexible",then:De().required("To date is required").min(Rf("fromDate"),"To date must be after from date")}),notedBy:D().when("reportType",{is:"flexible",then:D().required("Noted by is required")})});function Yje({onSubmit:t}){const[e,r]=v.useState("daily"),n={reportType:"daily",date:"",month:"",year:new Date().getFullYear(),quarter:"",fromDate:"",toDate:"",notedBy:"",documentTypes:{communityTax:!1,marriageCert:!1,burialCert:!1,generalService:!1,propertyTax:!1,marketTicketing:!1}},a=[{value:"daily",label:"Daily Report"},{value:"monthly",label:"Monthly Report"},{value:"quarterly",label:"Quarterly Report"},{value:"flexible",label:"Flexible Report"}],i=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],o=[{value:1,label:"Q1 (Jan - Mar)"},{value:2,label:"Q2 (Apr - Jun)"},{value:3,label:"Q3 (Jul - Sep)"},{value:4,label:"Q4 (Oct - Dec)"}],l=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"auditor",label:"Auditor"},{value:"clerk",label:"Clerk"}],c=()=>{switch(e){case"daily":return s.jsx(A,{label:"Date",name:"date",type:"date",required:!0,className:"w-full"});case"monthly":return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Month",name:"month",type:"select",options:i,required:!0}),s.jsx(A,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100})]});case"quarterly":return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Quarter",name:"quarter",type:"select",options:o,required:!0}),s.jsx(A,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100})]});case"flexible":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"From Date",name:"fromDate",type:"date",required:!0}),s.jsx(A,{label:"To Date",name:"toDate",type:"date",required:!0})]}),s.jsx(A,{label:"Noted By",name:"notedBy",type:"select",options:l,required:!0})]});default:return null}};return s.jsx(Be,{initialValues:n,validationSchema:Gje,onSubmit:u=>{t(u)},children:({values:u,setFieldValue:d})=>s.jsxs(We,{className:"space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.map(f=>s.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors sm:w-auto w-full ${e===f.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{r(f.value),d("reportType",f.value)},children:f.label},f.value))}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:c()}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Types"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{name:"communityTax",label:"Community Tax Certificate"},{name:"marriageCert",label:"Marriage Certificate"},{name:"burialCert",label:"Burial Certificate"},{name:"generalService",label:"General Service Invoice"},{name:"propertyTax",label:"Real Property Tax invoice"},{name:"marketTicketing",label:"Public Market Ticketing"}].map(f=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:`document-${f.name}`,name:`documentTypes.${f.name}`,checked:u.documentTypes[f.name],onChange:m=>{d(`documentTypes.${f.name}`,m.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:`document-${f.name}`,className:"ml-2 block text-sm text-gray-700",children:f.label})]},f.name))})]}),s.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 gap-4 sm:flex-row flex-col",children:[s.jsx("button",{type:"button",onClick:()=>t({...u,action:"view"}),className:"btn btn-primary sm:w-auto w-full",children:"View"}),s.jsx("button",{type:"button",onClick:()=>t({...u,action:"generate"}),className:"btn btn-secondary sm:w-auto w-full",children:"Generate Journal"}),s.jsx("button",{type:"button",onClick:()=>t({...u,action:"export"}),className:"btn btn-outline sm:w-auto w-full",children:"Export to Excel"})]})]})})}const Xh=[{id:1,chargeAccountId:"CA-2023-001",fundsId:"FUND-001",name:"Office Supplies",account:"General Expenses",subTotal:12500.75,date:"2023-05-15",fullName:"Juan Dela Cruz",position:"Administrative Officer"}];function Kje(){const[t,e]=v.useState(Xh),[r,n]=v.useState(!1),a=async l=>{n(!0);try{switch(l.action){case"view":e(Xh);break;case"generate":e(Xh);break;case"export":e(Xh);break;default:break}}catch(c){console.error("Error handling collection report action:",c)}finally{n(!1)}},i=[{icon:mn,title:"View",onClick:()=>{},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:PE,title:"Edit",onClick:()=>{},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],o=[{key:"chargeAccountId",header:"Charge Account ID",accessor:"chargeAccountId",cell:({value:l})=>l||"-"},{key:"fundsId",header:"Funds ID",accessor:"fundsId",cell:({value:l})=>l||"-"},{key:"name",header:"Name",accessor:"name",cell:({value:l})=>l||"-"},{key:"account",header:"Account",accessor:"account",cell:({value:l})=>l||"-"},{key:"subTotal",header:"Sub-Total",accessor:"subTotal",cell:({value:l})=>l.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{key:"date",header:"Date",accessor:"date",cell:({value:l})=>new Date(l).toLocaleDateString()},{key:"fullName",header:"Full Name",accessor:"fullName",cell:({value:l})=>l||"-"},{key:"position",header:"Position",accessor:"position",cell:({value:l})=>l||"-"}];return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Collection Report"})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:s.jsx(Yje,{onSubmit:a})}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:s.jsx(pe,{columns:o,data:t,loading:r,actions:i,emptyMessage:"No collection entries found for the selected date."})})]})}const A8=6048e5,Jje=864e5,T8=6e4,k8=36e5,tR=Symbol.for("constructDateFrom");function ks(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&tR in t?t[tR](e):t instanceof Date?new t.constructor(e):new Date(e)}function Sn(t,e){return ks(e||t,t)}let Xje={};function qj(){return Xje}function Wf(t,e){var l,c,u,d;const r=qj(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Sn(t,e==null?void 0:e.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Bb(t,e){return Wf(t,{...e,weekStartsOn:1})}function E8(t,e){const r=Sn(t,e==null?void 0:e.in),n=r.getFullYear(),a=ks(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Bb(a),o=ks(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Bb(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function rR(t){const e=Sn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Zje(t,...e){const r=ks.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function nR(t,e){const r=Sn(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Qje(t,e,r){const[n,a]=Zje(r==null?void 0:r.in,t,e),i=nR(n),o=nR(a),l=+i-rR(i),c=+o-rR(o);return Math.round((l-c)/Jje)}function ewe(t,e){const r=E8(t,e),n=ks(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Bb(n)}function twe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function rwe(t){return!(!twe(t)&&typeof t!="number"||isNaN(+Sn(t)))}function nwe(t,e){const r=Sn(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const awe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},swe=(t,e,r)=>{let n;const a=awe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function N1(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const iwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},owe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lwe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cwe={date:N1({formats:iwe,defaultWidth:"full"}),time:N1({formats:owe,defaultWidth:"full"}),dateTime:N1({formats:lwe,defaultWidth:"full"})},uwe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dwe=(t,e,r,n)=>uwe[t];function Wu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const fwe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ywe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xwe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bwe={ordinalNumber:xwe,era:Wu({values:fwe,defaultWidth:"wide"}),quarter:Wu({values:mwe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Wu({values:hwe,defaultWidth:"wide"}),day:Wu({values:pwe,defaultWidth:"wide"}),dayPeriod:Wu({values:gwe,defaultWidth:"wide",formattingValues:ywe,defaultFormattingWidth:"wide"})};function Hu(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?jwe(l,f=>f.test(o)):vwe(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function vwe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function jwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function wwe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const Nwe=/^(\d+)(th|st|nd|rd)?/i,Cwe=/\d+/i,Swe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Awe={any:[/^b/i,/^(a|c)/i]},Twe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kwe={any:[/1/i,/2/i,/3/i,/4/i]},Ewe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Owe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Dwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Iwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_we={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$we={ordinalNumber:wwe({matchPattern:Nwe,parsePattern:Cwe,valueCallback:t=>parseInt(t,10)}),era:Hu({matchPatterns:Swe,defaultMatchWidth:"wide",parsePatterns:Awe,defaultParseWidth:"any"}),quarter:Hu({matchPatterns:Twe,defaultMatchWidth:"wide",parsePatterns:kwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hu({matchPatterns:Ewe,defaultMatchWidth:"wide",parsePatterns:Owe,defaultParseWidth:"any"}),day:Hu({matchPatterns:Pwe,defaultMatchWidth:"wide",parsePatterns:Dwe,defaultParseWidth:"any"}),dayPeriod:Hu({matchPatterns:Iwe,defaultMatchWidth:"any",parsePatterns:_we,defaultParseWidth:"any"})},Rwe={code:"en-US",formatDistance:swe,formatLong:cwe,formatRelative:dwe,localize:bwe,match:$we,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mwe(t,e){const r=Sn(t,e==null?void 0:e.in);return Qje(r,nwe(r))+1}function Lwe(t,e){const r=Sn(t,e==null?void 0:e.in),n=+Bb(r)-+ewe(r);return Math.round(n/A8)+1}function O8(t,e){var d,f,m,h;const r=Sn(t,e==null?void 0:e.in),n=r.getFullYear(),a=qj(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=ks((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Wf(o,e),c=ks((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Wf(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function Fwe(t,e){var l,c,u,d;const r=qj(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=O8(t,e),i=ks((e==null?void 0:e.in)||t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Wf(i,e)}function Bwe(t,e){const r=Sn(t,e==null?void 0:e.in),n=+Wf(r,e)-+Fwe(r,e);return Math.round(n/A8)+1}function it(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const zs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return it(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):it(r+1,2)},d(t,e){return it(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return it(t.getHours()%12||12,e.length)},H(t,e){return it(t.getHours(),e.length)},m(t,e){return it(t.getMinutes(),e.length)},s(t,e){return it(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return it(a,e.length)}},El={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return zs.y(t,e)},Y:function(t,e,r,n){const a=O8(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return it(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):it(i,e.length)},R:function(t,e){const r=E8(t);return it(r,e.length)},u:function(t,e){const r=t.getFullYear();return it(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return it(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return it(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return zs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return it(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=Bwe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):it(a,e.length)},I:function(t,e,r){const n=Lwe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):it(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):zs.d(t,e)},D:function(t,e,r){const n=Mwe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):it(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return it(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return it(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return it(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=El.noon:n===0?a=El.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=El.evening:n>=12?a=El.afternoon:n>=4?a=El.morning:a=El.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return zs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):zs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):zs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):zs.s(t,e)},S:function(t,e){return zs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return iR(n);case"XXXX":case"XX":return co(n);case"XXXXX":case"XXX":default:return co(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return iR(n);case"xxxx":case"xx":return co(n);case"xxxxx":case"xxx":default:return co(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sR(n,":");case"OOOO":default:return"GMT"+co(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sR(n,":");case"zzzz":default:return"GMT"+co(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return it(n,e.length)},T:function(t,e,r){return it(+t,e.length)}};function sR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+it(i,2)}function iR(t,e){return t%60===0?(t>0?"-":"+")+it(Math.abs(t)/60,2):co(t,e)}function co(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=it(Math.trunc(n/60),2),i=it(n%60,2);return r+a+e+i}const oR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},P8=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},qwe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return oR(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",oR(n,e)).replace("{{time}}",P8(a,e))},Vwe={p:P8,P:qwe},zwe=/^D+$/,Uwe=/^Y+$/,Wwe=["D","DD","YY","YYYY"];function Hwe(t){return zwe.test(t)}function Gwe(t){return Uwe.test(t)}function Ywe(t,e,r){const n=Kwe(t,e,r);if(console.warn(n),Wwe.includes(t))throw new RangeError(n)}function Kwe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zwe=/^'([^]*?)'?$/,Qwe=/''/g,eNe=/[a-zA-Z]/;function lR(t,e,r){var d,f,m,h;const n=qj(),a=n.locale??Rwe,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,l=Sn(t,r==null?void 0:r.in);if(!rwe(l))throw new RangeError("Invalid time value");let c=e.match(Xwe).map(p=>{const y=p[0];if(y==="p"||y==="P"){const x=Vwe[y];return x(p,a.formatLong)}return p}).join("").match(Jwe).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const y=p[0];if(y==="'")return{isToken:!1,value:tNe(p)};if(aR[y])return{isToken:!0,value:p};if(y.match(eNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(p=>{if(!p.isToken)return p.value;const y=p.value;(Gwe(y)||Hwe(y))&&Ywe(y,e,String(t));const x=aR[y[0]];return x(l,y,a.localize,u)}).join("")}function tNe(t){const e=t.match(Zwe);return e?e[1].replace(Qwe,"'"):t}function cR(t,e){const r=()=>ks(e==null?void 0:e.in,NaN),a=sNe(t);let i;if(a.date){const u=iNe(a.date,2);i=oNe(u.restDateString,u.year)}if(!i||isNaN(+i))return r();const o=+i;let l=0,c;if(a.time&&(l=lNe(a.time),isNaN(l)))return r();if(a.timezone){if(c=cNe(a.timezone),isNaN(c))return r()}else{const u=new Date(o+l),d=Sn(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Sn(o+l+c,e==null?void 0:e.in)}const Zh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rNe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nNe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,aNe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function sNe(t){const e={},r=t.split(Zh.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Zh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Zh.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=Zh.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function iNe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function oNe(t,e){if(e===null)return new Date(NaN);const r=t.match(rNe);if(!r)return new Date(NaN);const n=!!r[4],a=Gu(r[1]),i=Gu(r[2])-1,o=Gu(r[3]),l=Gu(r[4]),c=Gu(r[5])-1;if(n)return hNe(e,l,c)?uNe(e,l,c):new Date(NaN);{const u=new Date(0);return!fNe(e,i,o)||!mNe(e,a)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(a,o)),u)}}function Gu(t){return t?parseInt(t):1}function lNe(t){const e=t.match(nNe);if(!e)return NaN;const r=C1(e[1]),n=C1(e[2]),a=C1(e[3]);return pNe(r,n,a)?r*k8+n*T8+a*1e3:NaN}function C1(t){return t&&parseFloat(t.replace(",","."))||0}function cNe(t){if(t==="Z")return 0;const e=t.match(aNe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return gNe(n,a)?r*(n*k8+a*T8):NaN}function uNe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,i=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const dNe=[31,null,31,30,31,30,31,31,30,31,30,31];function D8(t){return t%400===0||t%4===0&&t%100!==0}function fNe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(dNe[e]||(D8(t)?29:28))}function mNe(t,e){return e>=1&&e<=(D8(t)?366:365)}function hNe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function pNe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function gNe(t,e){return e>=0&&e<=59}const Jm="https://staging-engine.testthelink.online",yNe=[],Cx=L("publicMarketTicketing/fetchPublicMarketTickets",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jm}/publicMarketTicketing`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market tickets");return a}catch(r){return e.rejectWithValue(r.message)}}),S1=L("publicMarketTicketing/fetchPublicMarketTicketById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jm}/publicMarketTicketing/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),Sx=L("publicMarketTicketing/addPublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jm}/publicMarketTicketing`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),Ax=L("publicMarketTicketing/updatePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jm}/publicMarketTicketing/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),Tx=L("publicMarketTicketing/deletePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jm}/publicMarketTicketing/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete public market ticket")}return t}catch(r){return e.rejectWithValue(r.message)}}),I8=me({name:"publicMarketTicketing",initialState:{tickets:[],currentTicket:null,isLoading:!1,error:null},reducers:{clearCurrentTicket:t=>{t.currentTicket=null}},extraReducers:t=>{t.addCase(Cx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cx.fulfilled,(e,r)=>{e.isLoading=!1,e.tickets=Array.isArray(r.payload)?r.payload:[]}).addCase(Cx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market tickets",console.warn("Failed to fetch tickets, using mock data.",e.error),e.tickets=yNe}).addCase(S1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(S1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentTicket=r.payload}).addCase(S1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market ticket"}).addCase(Sx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets.push(r.payload)}).addCase(Sx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add public market ticket",console.error("Failed to add ticket:",e.error)}).addCase(Ax.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ax.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.tickets)||(e.tickets=[]),e.tickets[n]=r.payload),e.currentTicket&&e.currentTicket.ID===r.payload.ID&&(e.currentTicket=r.payload)}).addCase(Ax.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update public market ticket",console.error("Failed to update ticket:",e.error)}).addCase(Tx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets=e.tickets.filter(n=>n.ID!==r.payload),e.currentTicket&&e.currentTicket.ID===r.payload&&(e.currentTicket=null)}).addCase(Tx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete public market ticket",console.error("Failed to delete ticket:",e.error)})}}),{clearCurrentTicket:e9e}=I8.actions,xNe=I8.reducer,bNe=le().shape({items:D().required("Items type is required"),startTime:De().required("Start time is required"),endTime:De().required("End time is required").min(Rf("startTime"),"End time must be after start time"),issuedBy:D().required("Issued by is required"),dateIssued:De().required("Date issued is required"),postingPeriod:De().required("Posting period is required"),amountIssued:oe().required("Amount issued is required").min(0,"Amount must be greater than or equal to 0"),remarks:D().required("Remarks are required")}),vNe={items:"",startTime:"",endTime:"",issuedBy:"",dateIssued:"",postingPeriod:"",amountIssued:"",remarks:""},jNe=({ticket:t,onClose:e})=>{const r=ce(),[n,a]=v.useState(!1),i=c=>c?(console.log(c),{...c,items:c.Items||"",startTime:c.StartTime?lR(cR(c.StartTime),"yyyy-MM-dd'T'HH:mm"):"",endTime:c.EndTime?lR(cR(c.EndTime),"yyyy-MM-dd'T'HH:mm"):"",issuedBy:c.IssuedBy||"",dateIssued:c.DateIssued||"",postingPeriod:c.PostingPeriod||"",amountIssued:c.AmountIssued||"",remarks:c.Remarks||""}):vNe,o=async c=>{try{a(!0);const u={Items:c.items,StartTime:new Date(c.startTime).toISOString(),EndTime:new Date(c.endTime).toISOString(),IssuedBy:c.issuedBy,DateIssued:c.dateIssued,PostingPeriod:c.postingPeriod,AmountIssued:c.amountIssued,Remarks:c.remarks};t?(await r(Ax({ID:t.ID,LinkID:t.LinkID,...u})).unwrap(),Me.success("Ticket updated successfully")):(await r(Sx(u)).unwrap(),Me.success("Ticket added successfully")),e()}catch(u){Me.error(u.message||"Something went wrong")}finally{a(!1)}},l=({label:c,name:u,type:d="text",...f})=>{const[m,h]=wce(u);return s.jsxs("div",{className:"space-y-1",children:[c&&s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:c}),s.jsx(A,{...m,...f,type:d,value:m.value||"",onChange:m.onChange,onBlur:m.onBlur,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${h.touched&&h.error?"border-red-500":"border-gray-300"}`}),h.touched&&h.error&&s.jsx("div",{className:"text-red-500 text-xs mt-1",children:h.error})]})};return s.jsx(Be,{initialValues:i(t),validationSchema:bNe,onSubmit:o,enableReinitialize:!0,children:({isSubmitting:c,isValid:u,dirty:d,values:f})=>s.jsxs(We,{className:"space-y-6",children:[s.jsx(l,{label:"Items:",name:"items",type:"text",placeholder:"Enter items"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(l,{label:"Date Issued:",name:"dateIssued",type:"date",max:new Date().toISOString().split("T")[0]}),s.jsx(l,{label:"Posting Period:",name:"postingPeriod",type:"date",min:f.dateIssued})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(l,{label:"Start Time:",name:"startTime",type:"datetime-local"}),s.jsx(l,{label:"End Time:",name:"endTime",type:"datetime-local",min:f.startTime})]}),s.jsx(l,{label:"Issued By:",name:"issuedBy",type:"text",placeholder:"Enter issuer name"}),s.jsx(l,{label:"Amount Issued:",name:"amountIssued",type:"number",placeholder:"0.00",min:"0",step:"0.01"}),s.jsx(l,{label:"Remarks:",name:"remarks",type:"textarea",placeholder:"Enter remarks",rows:4}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[s.jsx("button",{type:"button",onClick:e,disabled:c,className:"px-6 py-2 rounded-md border border-gray-300 shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:c||!u||!d,className:"px-6 py-2 rounded-md border border-transparent shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?"Saving...":t?"Update Ticket":"Add Ticket"})]})]})})},wNe=()=>{const t=ce(),[e,r]=v.useState(!1),[n,a]=v.useState(null),{tickets:i,isLoading:o,error:l}=W(h=>h.publicMarketTicketing);v.useEffect(()=>{t(Cx())},[t]),v.useEffect(()=>{l&&Me.error(l)},[l]);const c=()=>{a(null),r(!0)},u=async h=>{if(console.log("Deleting ticket:",h),window.confirm("Are you sure you want to delete this ticket?"))try{await t(Tx(h)).unwrap(),Me.success("Ticket deleted successfully")}catch(p){Me.error(p.message||"Failed to delete ticket")}},d=[{key:"Items",header:"Items",accessorKey:"items"},{key:"StartTime",header:"Start Time",accessorKey:"startTime",cell:({row:h})=>new Date(h.original.startTime).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"EndTime",header:"End Time",accessorKey:"endTime",cell:({row:h})=>new Date(h.original.endTime).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"IssuedBy",header:"Issued By",accessorKey:"issuedBy"},{key:"DateIssued",header:"Date Issued",accessorKey:"dateIssued",cell:({row:h})=>new Date(h.original.dateIssued).toLocaleDateString()},{key:"PostingPeriod",header:"Posting Period",accessorKey:"postingPeriod",cell:({row:h})=>new Date(h.original.postingPeriod).toLocaleDateString()},{key:"AmountIssued",header:"Amount Issued",accessorKey:"amountIssued",cell:({row:h})=>{var p;return`${(p=h.original.amountIssued)==null?void 0:p.toLocaleString()}`}},{key:"Remarks",header:"Remarks",accessorKey:"remarks"}],m=[{icon:PE,title:"Edit",onClick:h=>{console.log("Edit ticket:",h),a(h),r(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Vm,title:"Delete",onClick:u,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}];return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Public Market Tickets"}),s.jsxs(mt,{onClick:c,disabled:o,children:[s.jsx(Tde,{className:"w-5 h-5 mr-2"}),"Add Ticket"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:s.jsx(pe,{columns:d,data:i,isLoading:o,actions:m})}),s.jsx(te,{isOpen:e,onClose:()=>r(!1),title:n?"Edit Ticket":"Add Ticket",children:s.jsx(jNe,{ticket:n,onClose:()=>r(!1)})})]})},NNe=()=>{const[t,e]=v.useState(null),[r,n]=v.useState(!1),[a,i]=v.useState(""),[o,l]=v.useState("all"),[c,u]=v.useState("all"),[d,f]=v.useState("all"),[m,h]=v.useState("all"),[p,y]=v.useState("grid"),x=[{id:"1",invoiceNumber:"ARO-75-2025",budgetName:"Affiliation Fees",fiscalYear:"January to December",department:"Administration",subDepartment:"General Services",chartOfAccounts:"Affiliation Fees",fund:"General Fund",project:"No Project",allotment:1e5,remarks:"Initial budget allocation for professional memberships",appropriation:10011e6,releasedAllotments:1e5,balance:100009e5,status:"rejected",invoiceDate:"2024-01-15",requestedBy:"John Smith",priority:"medium"},{id:"2",invoiceNumber:"ARO-76-2025",budgetName:"Petty Cash",fiscalYear:"January to December",department:"Finance",subDepartment:"Accounting",chartOfAccounts:"Petty Cash Fund",fund:"General Fund",project:"No Project",allotment:5e4,remarks:"Monthly petty cash replenishment",appropriation:5e5,releasedAllotments:15e4,balance:35e4,status:"posted",invoiceDate:"2024-01-14",requestedBy:"Maria Garcia",priority:"high"},{id:"3",invoiceNumber:"ARO-77-2025",budgetName:"Office Equipment",fiscalYear:"January to December",department:"IT Department",subDepartment:"Infrastructure",chartOfAccounts:"Office Equipment",fund:"Capital Fund",project:"Office Modernization",allotment:25e4,remarks:"New computers and peripherals for staff",appropriation:2e6,releasedAllotments:75e4,balance:125e4,status:"approved",invoiceDate:"2024-01-13",requestedBy:"David Wilson",priority:"urgent"},{id:"4",invoiceNumber:"ARO-78-2025",budgetName:"Training Programs",fiscalYear:"January to December",department:"Human Resources",subDepartment:"Development",chartOfAccounts:"Training and Development",fund:"Special Fund",project:"Skills Enhancement",allotment:12e4,remarks:"Professional development workshops",appropriation:8e5,releasedAllotments:2e5,balance:6e5,status:"pending",invoiceDate:"2024-01-12",requestedBy:"Sarah Johnson",priority:"low"}],b=["all","Administration","Finance","IT Department","Human Resources"],g=["all","General Services","Accounting","Infrastructure","Development"],j=["all","Affiliation Fees","Petty Cash Fund","Office Equipment","Training and Development"],C=["all","pending","approved","rejected","posted"],N=P=>{switch(P){case"approved":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"posted":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=P=>{switch(P){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},S=P=>{switch(P){case"approved":return s.jsx(fa,{className:"w-4 h-4"});case"rejected":return s.jsx(Di,{className:"w-4 h-4"});case"posted":return s.jsx(Zo,{className:"w-4 h-4"});default:return s.jsx(Cn,{className:"w-4 h-4"})}},T=x.filter(P=>{const F=P.invoiceNumber.toLowerCase().includes(a.toLowerCase())||P.budgetName.toLowerCase().includes(a.toLowerCase())||P.requestedBy.toLowerCase().includes(a.toLowerCase()),U=o==="all"||P.department===o,R=c==="all"||P.subDepartment===c,_=d==="all"||P.chartOfAccounts===d,B=m==="all"||P.status===m;return F&&U&&R&&_&&B}),k=t||x[0],E={totalOrders:x.length,totalAllotment:x.reduce((P,F)=>P+F.allotment,0),totalAppropriation:x.reduce((P,F)=>P+F.appropriation,0),totalBalance:x.reduce((P,F)=>P+F.balance,0),pendingCount:x.filter(P=>P.status==="pending").length},O=()=>{t&&console.log("Approving order:",t.invoiceNumber)},M=()=>{t&&console.log("Rejecting order:",t.invoiceNumber)},I=()=>{r&&(n(!1),console.log("Saving changes..."))},V=()=>{n(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Allotment Release Orders"}),s.jsx("p",{className:"text-gray-600",children:"Manage and approve budget allotment release orders"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>y("grid"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p==="grid"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Grid"}),s.jsx("button",{onClick:()=>y("table"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p==="table"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Table"})]}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"New Order"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.totalOrders}),s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[s.jsx(As,{className:"w-3 h-3 inline mr-1"}),T.filter(P=>P.status==="approved"||P.status==="posted").length," ","approved"]})]}),s.jsx(Zo,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Allotment"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",E.totalAllotment.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Requested amount"})]}),s.jsx(ml,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Appropriation"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",E.totalAppropriation.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Available budget"})]}),s.jsx(Mf,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Remaining Balance"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",E.totalBalance.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"After allocation"})]}),s.jsx(As,{className:"w-8 h-8 text-purple-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:E.pendingCount}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Awaiting review"})]}),s.jsx(Cn,{className:"w-8 h-8 text-yellow-600"})]})})]}),k&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Featured Order: ",k.invoiceNumber]}),s.jsxs("p",{className:"text-gray-600",children:[k.budgetName,"  ",k.department]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:space-x-2",children:[s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${N(k.status)}`,children:[S(k.status),s.jsx("span",{className:"ml-1 capitalize",children:k.status})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${w(k.priority)}`,children:k.priority.toUpperCase()}),k.status==="pending"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:O,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[s.jsx(fa,{className:"w-4 h-4 mr-1"}),"Approve"]}),s.jsxs("button",{onClick:M,className:"flex items-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[s.jsx(Di,{className:"w-4 h-4 mr-1"}),"Reject"]})]}),r?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:I,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[s.jsx(cu,{className:"w-4 h-4 mr-1"}),"Save"]}),s.jsxs("button",{onClick:V,className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(uu,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}):s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Order Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Name"}),s.jsx("input",{type:"text",value:k.budgetName,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allotment Amount"}),s.jsx("input",{type:"number",value:k.allotment,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),s.jsx("select",{value:k.department,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:b.filter(P=>P!=="all").map(P=>s.jsx("option",{value:P,children:P},P))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub Department"}),s.jsx("select",{value:k.subDepartment,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:g.filter(P=>P!=="all").map(P=>s.jsx("option",{value:P,children:P},P))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart of Accounts"}),s.jsx("select",{value:k.chartOfAccounts,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:j.filter(P=>P!=="all").map(P=>s.jsx("option",{value:P,children:P},P))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund"}),s.jsxs("select",{value:k.fund,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[s.jsx("option",{value:"General Fund",children:"General Fund"}),s.jsx("option",{value:"Capital Fund",children:"Capital Fund"}),s.jsx("option",{value:"Special Fund",children:"Special Fund"}),s.jsx("option",{value:"Trust Fund",children:"Trust Fund"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),s.jsx("input",{type:"text",value:k.project,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),s.jsx("textarea",{value:k.remarks,disabled:!r,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Financial Summary"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Appropriation:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",k.appropriation.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Released Allotments:"}),s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["$",k.releasedAllotments.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Current Request:"}),s.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["$",k.allotment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Remaining Balance:"}),s.jsxs("span",{className:"text-sm font-bold text-green-600",children:["$",k.balance.toLocaleString()]})]})]})}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Request Details"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Requested by:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:k.requestedBy})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Date:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:k.invoiceDate})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Priority:"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${w(k.priority)}`,children:k.priority})]})]})]})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search by invoice number, budget name, or requester...",value:a,onChange:P=>i(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx("select",{value:o,onChange:P=>l(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:b.map(P=>s.jsx("option",{value:P,children:P==="all"?"All Departments":P},P))}),s.jsx("select",{value:c,onChange:P=>u(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:g.map(P=>s.jsx("option",{value:P,children:P==="all"?"All Sub Departments":P},P))}),s.jsx("select",{value:d,onChange:P=>f(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:j.map(P=>s.jsx("option",{value:P,children:P==="all"?"All Accounts":P},P))}),s.jsx("select",{value:m,onChange:P=>h(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:C.map(P=>s.jsx("option",{value:P,children:P==="all"?"All Statuses":P.charAt(0).toUpperCase()+P.slice(1)},P))}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(OE,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[T.length," results"]})]})]})]})}),p==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:T.map(P=>s.jsxs("div",{onClick:()=>e(P),className:`bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-md transition-all ${(t==null?void 0:t.id)===P.id?"ring-2 ring-blue-500 border-blue-500":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:P.invoiceNumber}),s.jsx("p",{className:"text-sm text-gray-600",children:P.budgetName}),s.jsx("p",{className:"text-sm text-gray-500",children:P.department})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${N(P.status)}`,children:P.status}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${w(P.priority)}`,children:P.priority})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Allotment"}),s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["$",P.allotment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Appropriation"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",P.appropriation.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Balance"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["$",P.balance.toLocaleString()]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["By ",P.requestedBy]}),s.jsx("span",{className:"text-xs text-gray-500",children:P.invoiceDate})]})]},P.id))}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allotment"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(P=>s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${(t==null?void 0:t.id)===P.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>e(P),children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.invoiceNumber}),s.jsx("div",{className:"text-sm text-gray-500",children:P.budgetName})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm text-gray-900",children:P.department}),s.jsx("div",{className:"text-sm text-gray-500",children:P.subDepartment})]}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-blue-600",children:["$",P.allotment.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-green-600",children:["$",P.balance.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${w(P.priority)}`,children:P.priority})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${N(P.status)}`,children:P.status})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(mn,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-800 transition-colors",children:s.jsx(Rr,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-800 transition-colors",children:s.jsx(Lf,{className:"w-4 h-4"})})]})})]},P.id))})]})})})]})},CNe=()=>{const[t,e]=v.useState("2025-05-30"),[r,n]=v.useState("2025-05-30"),[a,i]=v.useState("General Fund"),[o,l]=v.useState("feb aug"),[c,u]=v.useState("Accounting"),[d,f]=v.useState(""),[m,h]=v.useState("summary"),p=[{id:"1",name:"Petty Cash",accountCode:"101010020",appropriated:4e4,adjustments:0,allotments:0,obligations:0,appropriationBalance:4e4,allotmentBalance:0,fund:"General Fund",department:"Accounting",fiscalYear:"feb aug",utilizationRate:0},{id:"2",name:"Petty Cash",accountCode:"101010020",appropriated:1e6,adjustments:0,allotments:0,obligations:0,appropriationBalance:1e6,allotmentBalance:0,fund:"General Fund",department:"Accounting",fiscalYear:"feb aug",utilizationRate:0},{id:"3",name:"Treasury Bills",accountCode:"102010030",appropriated:2820001,adjustments:0,allotments:0,obligations:0,appropriationBalance:2820001,allotmentBalance:0,fund:"General Fund",department:"Accounting",fiscalYear:"feb aug",utilizationRate:0},{id:"4",name:"Investments in Bonds - Long Term",accountCode:"102030020",appropriated:6e4,adjustments:0,allotments:0,obligations:0,appropriationBalance:6e4,allotmentBalance:0,fund:"General Fund",department:"Accounting",fiscalYear:"feb aug",utilizationRate:0},{id:"5",name:"Guaranty Deposits",accountCode:"102050020",appropriated:4e4,adjustments:0,allotments:0,obligations:0,appropriationBalance:4e4,allotmentBalance:0,fund:"General Fund",department:"Accounting",fiscalYear:"feb aug",utilizationRate:0},{id:"6",name:"Real Property Tax Receivable",accountCode:"103010020",appropriated:3e4,adjustments:0,allotments:0,obligations:0,appropriationBalance:3e4,allotmentBalance:0,fund:"General Fund",department:"Accounting",fiscalYear:"feb aug",utilizationRate:0},{id:"7",name:"Notes Receivable",accountCode:"103010040",appropriated:48e4,adjustments:0,allotments:0,obligations:0,appropriationBalance:48e4,allotmentBalance:0,fund:"General Fund",department:"Accounting",fiscalYear:"feb aug",utilizationRate:0},{id:"8",name:"Investment Property, Land",accountCode:"106010010",appropriated:50,adjustments:0,allotments:0,obligations:0,appropriationBalance:50,allotmentBalance:0,fund:"General Fund",department:"Accounting",fiscalYear:"feb aug",utilizationRate:0},{id:"9",name:"Due to LGUs",accountCode:"202010070",appropriated:0,adjustments:0,allotments:0,obligations:0,appropriationBalance:0,allotmentBalance:0,fund:"General Fund",department:"Accounting",fiscalYear:"feb aug",utilizationRate:0}],y=["General Fund","Special Fund","Trust Fund","Capital Fund"],x=["feb aug","January to December","April to March"],b=["Accounting","Administration","Finance","IT Department","Human Resources"],g=p.filter(S=>{const T=S.name.toLowerCase().includes(d.toLowerCase())||S.accountCode.includes(d),k=a==="All Funds"||S.fund===a,E=o==="All Years"||S.fiscalYear===o,O=c==="All Departments"||S.department===c;return T&&k&&E&&O}),j=g.reduce((S,T)=>({appropriated:S.appropriated+T.appropriated,adjustments:S.adjustments+T.adjustments,allotments:S.allotments+T.allotments,obligations:S.obligations+T.obligations,appropriationBalance:S.appropriationBalance+T.appropriationBalance,allotmentBalance:S.allotmentBalance+T.allotmentBalance}),{appropriated:0,adjustments:0,allotments:0,obligations:0,appropriationBalance:0,allotmentBalance:0}),C=()=>{console.log("Exporting to Excel...")},N=()=>{console.log("Viewing report...")},w=()=>{window.print()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Budget Reports"}),s.jsx("p",{className:"text-gray-600",children:"Comprehensive budget analysis and reporting dashboard"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-y-2 sm:gap-x-3 w-full sm:w-auto",children:[s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1 w-full sm:w-auto",children:[s.jsx("button",{onClick:()=>h("summary"),className:`w-1/2 px-3 py-1 rounded-md text-sm font-medium transition-colors ${m==="summary"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Summary"}),s.jsx("button",{onClick:()=>h("detailed"),className:`w-1/2 px-3 py-1 rounded-md text-sm font-medium transition-colors ${m==="detailed"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Detailed"})]}),s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto mt-2 sm:mt-0",children:[s.jsxs("button",{onClick:w,className:"flex-1 sm:flex-initial flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(Lf,{className:"w-4 h-4 mr-2"}),"Print"]}),s.jsxs("button",{onClick:C,className:"flex-1 sm:flex-initial flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Vq,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Appropriated"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",j.appropriated.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[s.jsx(As,{className:"w-3 h-3 inline mr-1"}),g.length," accounts"]})]}),s.jsx(ml,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Allotments"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",j.allotments.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[j.appropriated>0?(j.allotments/j.appropriated*100).toFixed(1):0,"% allocated"]})]}),s.jsx(EE,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Obligations"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",j.obligations.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[j.allotments>0?(j.obligations/j.allotments*100).toFixed(1):0,"% utilized"]})]}),s.jsx(zv,{className:"w-8 h-8 text-purple-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Balance"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",j.appropriationBalance.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Remaining funds"})]}),s.jsx(As,{className:"w-8 h-8 text-green-600"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:t,onChange:S=>e(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx(Cn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:r,onChange:S=>n(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx(Cn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund"}),s.jsx("select",{value:a,onChange:S=>i(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:y.map(S=>s.jsx("option",{value:S,children:S},S))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiscal Year"}),s.jsx("select",{value:o,onChange:S=>l(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:x.map(S=>s.jsx("option",{value:S,children:S},S))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),s.jsx("select",{value:c,onChange:S=>u(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:b.map(S=>s.jsx("option",{value:S,children:S},S))})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{onClick:N,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Generate"]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search by account name or code...",value:d,onChange:S=>f(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),m==="summary"?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Budget Distribution by Account"}),s.jsx("div",{className:"space-y-4",children:g.slice(0,6).map(S=>{const T=j.appropriated>0?S.appropriated/j.appropriated*100:0;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:S.name}),s.jsxs("span",{className:"text-sm text-gray-500",children:[T.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${T}%`}})}),s.jsxs("div",{className:"text-xs text-gray-500",children:["$",S.appropriated.toLocaleString()]})]},S.id)})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Budget Accounts"}),s.jsx("div",{className:"space-y-4",children:g.sort((S,T)=>T.appropriated-S.appropriated).slice(0,6).map(S=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.name}),s.jsx("p",{className:"text-xs text-gray-500",children:S.accountCode})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["$",S.appropriated.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Balance: $",S.appropriationBalance.toLocaleString()]})]})]},S.id))})]})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-green-700 text-white",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Account Code"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Appropriated"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Adjustments"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Allotments"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Obligations"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Appropriation Balance"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Allotment Balance"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[g.map((S,T)=>s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${T%2===0?"bg-white":"bg-gray-50"}`,children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:S.name}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:S.accountCode}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-medium",children:S.appropriated.toLocaleString("en-US",{minimumFractionDigits:2})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:S.adjustments.toLocaleString("en-US",{minimumFractionDigits:2})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:S.allotments.toLocaleString("en-US",{minimumFractionDigits:2})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:S.obligations.toLocaleString("en-US",{minimumFractionDigits:2})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-medium",children:S.appropriationBalance.toLocaleString("en-US",{minimumFractionDigits:2})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:S.allotmentBalance.toLocaleString("en-US",{minimumFractionDigits:2})})]},S.id)),s.jsxs("tr",{className:"bg-green-100 border-t-2 border-green-700 font-semibold",children:[s.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-bold",colSpan:2,children:["TOTAL (",g.length," items)"]}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-bold",children:j.appropriated.toLocaleString("en-US",{minimumFractionDigits:2})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-bold",children:j.adjustments.toLocaleString("en-US",{minimumFractionDigits:2})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-bold",children:j.allotments.toLocaleString("en-US",{minimumFractionDigits:2})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-bold",children:j.obligations.toLocaleString("en-US",{minimumFractionDigits:2})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-bold",children:j.appropriationBalance.toLocaleString("en-US",{minimumFractionDigits:2})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-bold",children:j.allotmentBalance.toLocaleString("en-US",{minimumFractionDigits:2})})]})]})]})})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between text-sm text-gray-600 gap-y-4 sm:items-center",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-y-2 sm:gap-x-4",children:[s.jsxs("span",{children:["Report for ",c," - ",o]}),s.jsxs("span",{children:["Period: ",t," to ",r]}),s.jsxs("span",{children:["Fund: ",a]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-y-2 sm:gap-x-4",children:[s.jsxs("span",{children:["Showing ",g.length," accounts"]}),s.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()]})]})]})})]})},SNe=()=>{const[t,e]=v.useState(null),[r,n]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState("all"),[d,f]=v.useState("all"),[m,h]=v.useState("source"),p=[{id:"1",invoiceNumber:"BT-18-2025",sourceBudget:"Travelling Expenses",targetBudget:"Office Supplies",fiscalYear:"January to December",department:"Budget",subDepartment:"No Subdepartment",chartOfAccounts:"Travelling Expenses - Local",fund:"General Fund",project:"No Project",transferAmount:5e3,remarks:"Transfer to cover additional travel requirements",sourceAppropriation:205e3,sourceBalance:2e5,targetAppropriation:15e4,targetBalance:145e3,status:"pending",requestDate:"2025-03-03",requestedBy:"John Smith"},{id:"2",invoiceNumber:"BT-17-2025",sourceBudget:"Electricity Expenses",targetBudget:"Maintenance Fund",fiscalYear:"January to December",department:"Administration",subDepartment:"Facilities",chartOfAccounts:"Utilities - Electricity",fund:"General Fund",project:"No Project",transferAmount:15e3,remarks:"Transfer excess budget to maintenance fund",sourceAppropriation:5e5,sourceBalance:485e3,targetAppropriation:2e5,targetBalance:185e3,status:"approved",requestDate:"2025-02-25",requestedBy:"Maria Garcia",approvedBy:"David Wilson",approvedDate:"2025-02-26"},{id:"3",invoiceNumber:"BT-16-2025",sourceBudget:"Electricity Expenses",targetBudget:"Office Equipment",fiscalYear:"January to December",department:"Administration",subDepartment:"Facilities",chartOfAccounts:"Utilities - Electricity",fund:"General Fund",project:"No Project",transferAmount:8e3,remarks:"Monthly budget reallocation",sourceAppropriation:5e5,sourceBalance:492e3,targetAppropriation:3e5,targetBalance:292e3,status:"posted",requestDate:"2025-02-23",requestedBy:"Sarah Johnson",approvedBy:"David Wilson",approvedDate:"2025-02-24"},{id:"4",invoiceNumber:"BT-15-2025",sourceBudget:"Allowance for Bad Debts",targetBudget:"Contingency Fund",fiscalYear:"January to December",department:"Finance",subDepartment:"Accounting",chartOfAccounts:"Allowance - Bad Debts",fund:"General Fund",project:"No Project",transferAmount:12e3,remarks:"Quarterly adjustment transfer",sourceAppropriation:3e5,sourceBalance:288e3,targetAppropriation:1e5,targetBalance:88e3,status:"rejected",requestDate:"2025-02-20",requestedBy:"Michael Brown"}],y=["all","Budget","Administration","Finance","IT Department"],x=["all","pending","approved","rejected","posted"],b=k=>{switch(k){case"approved":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"posted":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=k=>{switch(k){case"approved":return s.jsx(fa,{className:"w-4 h-4"});case"rejected":return s.jsx(Di,{className:"w-4 h-4"});case"posted":return s.jsx(Zo,{className:"w-4 h-4"});default:return s.jsx(Cn,{className:"w-4 h-4"})}},j=p.filter(k=>{const E=k.invoiceNumber.toLowerCase().includes(o.toLowerCase())||k.sourceBudget.toLowerCase().includes(o.toLowerCase())||k.targetBudget.toLowerCase().includes(o.toLowerCase())||k.requestedBy.toLowerCase().includes(o.toLowerCase()),O=c==="all"||k.status===c,M=d==="all"||k.department===d;return E&&O&&M}),C=t||p[0],N=()=>{t&&console.log("Approving transfer:",t.invoiceNumber)},w=()=>{t&&console.log("Rejecting transfer:",t.invoiceNumber)},S=()=>{r&&(n(!1),console.log("Saving changes..."))},T=()=>{n(!1),i(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Budget Transfer Requests"}),s.jsx("p",{className:"text-gray-600",children:"Manage budget transfers between accounts and departments"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"New Transfer"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Transfers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.length})]}),s.jsx(uc,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:p.filter(k=>k.status==="pending").length})]}),s.jsx(Cn,{className:"w-8 h-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.filter(k=>k.status==="approved"||k.status==="posted").length})]}),s.jsx(fa,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",p.reduce((k,E)=>k+E.transferAmount,0).toLocaleString()]})]}),s.jsx(ml,{className:"w-8 h-8 text-purple-600"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"xl:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C?`Transfer ${C.invoiceNumber}`:"Select a Transfer"}),C&&s.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${b(C.status)}`,children:[g(C.status),s.jsx("span",{className:"ml-1 capitalize",children:C.status})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Requested by ",C.requestedBy," on"," ",C.requestDate]})]})]}),C&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-y-2 sm:space-x-2 w-full sm:w-auto",children:[C.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:N,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[s.jsx(fa,{className:"w-4 h-4 mr-1"}),"Approve"]}),s.jsxs("button",{onClick:w,className:"flex items-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[s.jsx(Di,{className:"w-4 h-4 mr-1"}),"Reject"]})]}),r?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:S,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[s.jsx(cu,{className:"w-4 h-4 mr-1"}),"Save"]}),s.jsxs("button",{onClick:T,className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(uu,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}):s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("div",{className:"flex",children:[s.jsx("button",{onClick:()=>h("source"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${m==="source"?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Source Account"}),s.jsx("button",{onClick:()=>h("target"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${m==="target"?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Target Account"})]})}),C&&s.jsxs("div",{className:"p-2 sm:p-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-0 sm:p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transfer Overview"}),s.jsxs("div",{className:"flex items-center justify-between gap-1",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"From"}),s.jsx("p",{className:"text-md sm:text-lg font-semibold text-red-600",children:C.sourceBudget}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Balance: $",C.sourceBalance.toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(uc,{className:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600"}),s.jsxs("div",{className:"ml-2 sm:ml-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Amount"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:["$",C.transferAmount.toLocaleString()]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"To"}),s.jsx("p",{className:"text-md sm:text-lg font-semibold text-green-600",children:C.targetBudget}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Balance: $",C.targetBalance.toLocaleString()]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m==="source"?"Source Account Details":"Target Account Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Name"}),s.jsx("input",{type:"text",value:m==="source"?C.sourceBudget:C.targetBudget,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:m==="source"?"Transfer Amount":"Receive Amount"}),s.jsx("input",{type:"number",value:C.transferAmount,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),s.jsx("select",{value:C.department,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:y.filter(k=>k!=="all").map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund"}),s.jsxs("select",{value:C.fund,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[s.jsx("option",{value:"General Fund",children:"General Fund"}),s.jsx("option",{value:"Capital Fund",children:"Capital Fund"}),s.jsx("option",{value:"Special Fund",children:"Special Fund"}),s.jsx("option",{value:"Trust Fund",children:"Trust Fund"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart of Accounts"}),s.jsx("input",{type:"text",value:C.chartOfAccounts,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),s.jsx("input",{type:"text",value:C.project,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),s.jsx("textarea",{value:C.remarks,disabled:!r,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Financial Impact"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Source Account"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Current Balance:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",C.sourceBalance.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Transfer Amount:"}),s.jsxs("span",{className:"text-sm font-medium text-red-600",children:["-$",C.transferAmount.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New Balance:"}),s.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",(C.sourceBalance-C.transferAmount).toLocaleString()]})]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Target Account"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Current Balance:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",C.targetBalance.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Transfer Amount:"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+$",C.transferAmount.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New Balance:"}),s.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",(C.targetBalance+C.transferAmount).toLocaleString()]})]})]})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200 p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search transfers...",value:o,onChange:k=>l(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("div",{className:"relative",children:s.jsx("select",{value:c,onChange:k=>u(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:x.map(k=>s.jsx("option",{value:k,children:k==="all"?"All Status":k.charAt(0).toUpperCase()+k.slice(1)},k))})}),s.jsx("div",{className:"relative",children:s.jsx("select",{value:d,onChange:k=>f(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:y.map(k=>s.jsx("option",{value:k,children:k==="all"?"All Departments":k},k))})})]})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.jsx("div",{className:"divide-y divide-gray-200",children:j.map(k=>s.jsxs("div",{onClick:()=>e(k),className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${(t==null?void 0:t.id)===k.id?"bg-blue-50 border-l-4 border-blue-500":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:k.invoiceNumber}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b(k.status)}`,children:k.status})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[s.jsx("span",{className:"truncate",children:k.sourceBudget}),s.jsx(uc,{className:"w-3 h-3 mx-2 text-gray-400"}),s.jsx("span",{className:"truncate",children:k.targetBudget})]}),s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:k.department}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["$",k.transferAmount.toLocaleString()]}),s.jsx("span",{className:"text-xs text-gray-500",children:k.requestDate})]})]},k.id))})})]})]})]})},ANe=le().shape({budgetName:D().required("Budget Name is required"),fiscalYear:D().required("Fiscal Year is required"),department:D().required("Department is required"),subDepartment:D().required("Sub-Department is required"),chartOfAccounts:D().required("Chart of Accounts is required"),fund:D().required("Fund is required"),project:D().required("Project is required"),january:D().required("January is required"),february:D().required("February is required"),march:D().required("March is required"),april:D().required("April is required"),may:D().required("May is required"),june:D().required("June is required"),july:D().required("July is required"),august:D().required("August is required"),september:D().required("September is required"),october:D().required("October is required"),november:D().required("November is required"),december:D().required("December is required")}),TNe={budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccounts:"",fund:"General Fund",project:"",appropriation:"",charges:"",totalAmount:"",balance:"",january:"",february:"",march:"",april:"",may:"",june:"",july:"",august:"",september:"",october:"",november:"",december:""},kNe=[{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],ENe=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"},{value:"dept3",label:"Department 3"}],ONe=[{value:"subdept1",label:"Sub-Department 1"},{value:"subdept2",label:"Sub-Department 2"},{value:"subdept3",label:"Sub-Department 3"}],PNe=[{value:"coa1",label:"Chart of Accounts 1"},{value:"coa2",label:"Chart of Accounts 2"},{value:"coa3",label:"Chart of Accounts 3"}],DNe=[{value:"proj1",label:"Project 1"},{value:"proj2",label:"Project 2"},{value:"proj3",label:"Project 3"}];function _8({initialData:t,onSubmit:e,onClose:r}){const n=(a,{setSubmitting:i})=>{e(a),i(!1),console.log("Form submitted with values:",a)};return s.jsx(Be,{initialValues:t||TNe,validationSchema:ANe,onSubmit:n,children:({values:a,errors:i,touched:o,handleChange:l,handleBlur:c,isSubmitting:u})=>s.jsxs(We,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(A,{label:"Budget Name",name:"budgetName",type:"text",onChange:l,onBlur:c,value:a.budgetName,error:i.budgetName,touched:o.budgetName,required:!0}),s.jsx(A,{label:"Fiscal Year",name:"fiscalYear",type:"select",onChange:l,onBlur:c,value:a.fiscalYear,error:i.fiscalYear,touched:o.fiscalYear,options:kNe,required:!0}),s.jsx(A,{label:"Department",name:"department",type:"select",onChange:l,onBlur:c,value:a.department,error:i.department,touched:o.department,options:ENe,required:!0}),s.jsx(A,{label:"Sub-Department",name:"subDepartment",type:"select",onChange:l,onBlur:c,value:a.subDepartment,error:i.subDepartment,touched:o.subDepartment,options:ONe,required:!0}),s.jsx(A,{label:"Chart of Accounts",name:"chartOfAccounts",type:"select",onChange:l,onBlur:c,value:a.chartOfAccounts,error:i.chartOfAccounts,touched:o.chartOfAccounts,options:PNe,required:!0}),s.jsx(A,{label:"Fund",name:"fund",type:"select",onChange:l,onBlur:c,value:a.fund,error:i.fund,touched:o.fund,options:[{value:"General Fund",label:"General Fund"}],required:!0}),s.jsx(A,{label:"Project",name:"project",type:"select",onChange:l,onBlur:c,value:a.project,error:i.project,touched:o.project,options:DNe,required:!0})]})]}),s.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(A,{label:"Appropriation",name:"appropriation",type:"number",className:"bg-gray-100 text-gray-500",required:!0,readOnly:!0}),s.jsx(A,{label:"Charges",name:"charges",type:"number",className:"bg-gray-100 text-gray-500",required:!0,readOnly:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[s.jsx(A,{label:"Total Amount",name:"totalAmount",type:"number",className:"bg-gray-100 text-gray-500",required:!0,readOnly:!0}),s.jsx(A,{label:"Balance",name:"balance",type:"number",className:"bg-gray-100 text-gray-500",required:!0,readOnly:!0})]})]}),s.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(A,{label:"January",name:"january",type:"number",onChange:l,onBlur:c,value:a.january,error:i.january,touched:o.january}),s.jsx(A,{label:"February",name:"february",type:"number",onChange:l,onBlur:c,value:a.february,error:i.february,touched:o.february}),s.jsx(A,{label:"March",name:"march",type:"number",onChange:l,onBlur:c,value:a.march,error:i.march,touched:o.march}),s.jsx(A,{label:"April",name:"april",type:"number",onChange:l,onBlur:c,value:a.april,error:i.april,touched:o.april}),s.jsx(A,{label:"May",name:"may",type:"number",onChange:l,onBlur:c,value:a.may,error:i.may,touched:o.may}),s.jsx(A,{label:"June",name:"june",type:"number",onChange:l,onBlur:c,value:a.june,error:i.june,touched:o.june}),s.jsx(A,{label:"July",name:"july",type:"number",onChange:l,onBlur:c,value:a.july,error:i.july,touched:o.july}),s.jsx(A,{label:"August",name:"august",type:"number",onChange:l,onBlur:c,value:a.august,error:i.august,touched:o.august}),s.jsx(A,{label:"September",name:"september",type:"number",onChange:l,onBlur:c,value:a.september,error:i.september,touched:o.september}),s.jsx(A,{label:"October",name:"october",type:"number",onChange:l,onBlur:c,value:a.october,error:i.october,touched:o.october}),s.jsx(A,{label:"November",name:"november",type:"number",onChange:l,onBlur:c,value:a.november,error:i.november,touched:o.november}),s.jsx(A,{label:"December",name:"december",type:"number",onChange:l,onBlur:c,value:a.december,error:i.december,touched:o.december})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Create"})]})]})})}const INe=()=>{const[t,e]=v.useState(null),[r,n]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState("all"),[d,f]=v.useState("all"),[m,h]=v.useState("all"),[p,y]=v.useState("all"),[x,b]=v.useState("grid"),[g,j]=v.useState(!1),[C,N]=v.useState(!1),[w,S]=v.useState(null),T=async $=>{try{console.log(w?"Update record:":"Create record:",$),j(!1)}catch(z){console.error("Error saving record:",z)}},k=[{id:"1",code:"CASH-001",name:"Cash - Local Treasury",fiscalYear:"January to December",department:"Office of the Mayor",subDepartment:"Network Operations",chartOfAccounts:"Cash - Local Treasury",fund:"General Fund",project:"No Project",appropriation:0,appropriationBalance:0,totalAmount:1e4,allotment:0,allotmentBalance:0,charges:0,preEncumbrance:0,encumbrance:0,monthlyAllocations:[0,0,0,0,0,0,0,0,0,0,0,0],status:"active",lastModified:"2024-01-15"},{id:"2",code:"INV-001",name:"Investments",fiscalYear:"Feb Aug",department:"Accounting",subDepartment:"Payroll",chartOfAccounts:"Investments",fund:"General Fund",project:"No Project",appropriation:8e7,appropriationBalance:8e7,totalAmount:8e7,allotment:0,allotmentBalance:0,charges:0,preEncumbrance:0,encumbrance:0,monthlyAllocations:[0,666666667e-2,666666667e-2,666666667e-2,666666667e-2,666666667e-2,666666667e-2,0,0,0,0,0],status:"active",lastModified:"2024-01-14"},{id:"3",code:"ALL-001",name:"Allowance for Bad Debts",fiscalYear:"Fiscal Year",department:"Office of the Mayor",subDepartment:"Network Operations",chartOfAccounts:"Allowance for Bad Debts",fund:"Trust Fund",project:"No Project",appropriation:124141240,appropriationBalance:123021240,totalAmount:123141240,allotment:12e7,allotmentBalance:12e7,charges:0,preEncumbrance:0,encumbrance:0,monthlyAllocations:[1034510333e-2,1034510333e-2,1034510333e-2,1034510333e-2,1034510333e-2,1034510333e-2,1034510333e-2,1034510333e-2,1034510333e-2,1034510333e-2,1034510333e-2,1034510333e-2],status:"active",lastModified:"2024-01-13"},{id:"4",code:"PREP-001",name:"Prepaid Registration",fiscalYear:"January to December",department:"Treasury",subDepartment:"No Subdepartments",chartOfAccounts:"Prepaid Registration",fund:"General Fund",project:"No Project",appropriation:1e7,appropriationBalance:0,totalAmount:1e7,allotment:1e7,allotmentBalance:99999998e-1,charges:9.8,preEncumbrance:0,encumbrance:.2,monthlyAllocations:[833333.33,833333.33,833333.33,833333.33,833333.33,833333.33,833333.33,833333.33,833333.33,833333.33,833333.33,833333.33],status:"active",lastModified:"2024-01-12"},{id:"5",code:"WEL-001",name:"Welfare Goods",fiscalYear:"January to December",department:"Municipal Social Welfare",subDepartment:"No Subdepartments",chartOfAccounts:"Welfare Goods",fund:"General Fund",project:"No Project",appropriation:1e6,appropriationBalance:72e4,totalAmount:97e4,allotment:25e4,allotmentBalance:25e4,charges:0,preEncumbrance:0,encumbrance:0,monthlyAllocations:[83333.33,83333.33,83333.33,83333.33,83333.33,83333.33,83333.33,83333.33,83333.33,83333.33,83333.33,83333.33],status:"active",lastModified:"2024-01-11"},{id:"6",code:"OFF-001",name:"Office Equipment",fiscalYear:"January to December",department:"Municipal Engineering",subDepartment:"Network Operations",chartOfAccounts:"Office Equipment",fund:"General Fund",project:"No Project",appropriation:1e6,appropriationBalance:75e4,totalAmount:1e6,allotment:25e4,allotmentBalance:25e4,charges:0,preEncumbrance:0,encumbrance:0,monthlyAllocations:[83333.33,83333.33,83333.33,83333.33,83333.33,83333.33,83333.33,83333.33,83333.33,83333.33,83333.33,83333.33],status:"active",lastModified:"2024-01-10"},{id:"7",code:"OFC-001",name:"Office Equipment",fiscalYear:"January to December",department:"Accounting",subDepartment:"No Subdepartments",chartOfAccounts:"Office Equipment",fund:"General Fund",project:"No Project",appropriation:1e5,appropriationBalance:0,totalAmount:1e5,allotment:1e5,allotmentBalance:1e5,charges:967172.07,preEncumbrance:1e3,encumbrance:73926.93,monthlyAllocations:[8333.33,8333.33,8333.33,8333.33,8333.33,8333.33,8333.33,8333.33,8333.33,8333.33,8333.33,8333.33],status:"active",lastModified:"2024-01-09"},{id:"8",code:"DUE-001",name:"Due to LGUs",fiscalYear:"Feb Aug",department:"Accounting",subDepartment:"Payroll",chartOfAccounts:"Due to LGUs",fund:"General Fund",project:"No Project",appropriation:0,appropriationBalance:0,totalAmount:0,allotment:0,allotmentBalance:0,charges:0,preEncumbrance:0,encumbrance:0,monthlyAllocations:[0,0,0,0,0,0,0,0,0,0,0,0],status:"inactive",lastModified:"2024-01-08"}],E=["all","Office of the Mayor","Accounting","Treasury","Municipal Social Welfare","Municipal Engineering"],O=["all","Network Operations","Payroll","No Subdepartments"],M=["all","Cash - Local Treasury","Investments","Allowance for Bad Debts","Prepaid Registration","Welfare Goods","Office Equipment","Due to LGUs"],I=["all","General Fund","Trust Fund","Special Fund","Capital Fund"],V=["all","January to December","Feb Aug","Fiscal Year"],P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],F=$=>{switch($){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},U=k.filter($=>{const z=$.name.toLowerCase().includes(o.toLowerCase())||$.code.toLowerCase().includes(o.toLowerCase())||$.department.toLowerCase().includes(o.toLowerCase()),ne=c==="all"||$.department===c,xe=d==="all"||$.subDepartment===d,ee=m==="all"||$.chartOfAccounts===m,re=p==="all"||$.fund===p;return z&&ne&&xe&&ee&&re}),R=t||k[0],_={totalBudgets:k.length,totalAppropriation:k.reduce(($,z)=>$+z.appropriation,0),totalUtilized:k.reduce(($,z)=>$+z.charges,0),totalBalance:k.reduce(($,z)=>$+z.appropriationBalance,0),totalAllotment:k.reduce(($,z)=>$+z.allotment,0)},B=()=>{r&&(n(!1),console.log("Saving changes..."))},X=()=>{n(!1),i(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Budget Details Management"}),s.jsx("p",{className:"text-gray-600",children:"Comprehensive budget planning and allocation tracking"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>b("grid"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${x==="grid"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Grid"}),s.jsx("button",{onClick:()=>b("table"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${x==="table"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Table"})]}),s.jsxs("button",{onClick:()=>j(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"New Budget"]}),s.jsxs("button",{onClick:()=>N(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"Upload Excel"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Budgets"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_.totalBudgets}),s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[s.jsx(As,{className:"w-3 h-3 inline mr-1"}),U.filter($=>$.status==="active").length," ","active"]})]}),s.jsx(zv,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Charges"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",_.totalUtilized.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[_.totalAllotment>0?(_.totalUtilized/_.totalAllotment*100).toFixed(1):0,"% utilized"]})]}),s.jsx(As,{className:"w-8 h-8 text-purple-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Balance"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",_.totalBalance.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Remaining funds"})]}),s.jsx(Mf,{className:"w-8 h-8 text-green-600"})]})})]}),R&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Featured Budget: ",R.name]}),s.jsxs("p",{className:"text-gray-600",children:[R.department,"  ",R.fiscalYear]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${F(R.status)}`,children:R.status}),r?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:B,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[s.jsx(cu,{className:"w-4 h-4 mr-1"}),"Save"]}),s.jsxs("button",{onClick:X,className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(uu,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}):s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Budget Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Name"}),s.jsx("input",{type:"text",value:R.name,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiscal Year"}),s.jsx("select",{value:R.fiscalYear,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:V.filter($=>$!=="all").map($=>s.jsx("option",{value:$,children:$},$))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),s.jsx("select",{value:R.department,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:E.filter($=>$!=="all").map($=>s.jsx("option",{value:$,children:$},$))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub Department"}),s.jsx("select",{value:R.subDepartment,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:O.filter($=>$!=="all").map($=>s.jsx("option",{value:$,children:$},$))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart of Accounts"}),s.jsx("select",{value:R.chartOfAccounts,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:M.filter($=>$!=="all").map($=>s.jsx("option",{value:$,children:$},$))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund"}),s.jsx("select",{value:R.fund,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:I.filter($=>$!=="all").map($=>s.jsx("option",{value:$,children:$},$))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),s.jsx("input",{type:"text",value:R.project,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Financial Summary"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Appropriation"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",R.appropriation.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Total Amount"}),s.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:["$",R.totalAmount.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Allotment"}),s.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["$",R.allotment.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Charges"}),s.jsxs("p",{className:"text-lg font-semibold text-purple-600",children:["$",R.charges.toLocaleString()]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Monthly Allocation Distribution"}),s.jsx("div",{className:"flex items-end justify-between h-32 space-x-1 mb-4",children:R.monthlyAllocations.map(($,z)=>{const ne=Math.max(...R.monthlyAllocations),xe=ne>0?$/ne*100:0;return s.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[s.jsx("div",{className:"w-full bg-blue-600 rounded-t hover:bg-blue-700 transition-colors cursor-pointer relative",style:{height:`${xe}%`,minHeight:$>0?"4px":"0px"},title:`${P[z]}: $${$.toLocaleString()}`,children:s.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:["$",$.toLocaleString()]})}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:P[z]})]},z)})}),s.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Annual Total: $",R.monthlyAllocations.reduce(($,z)=>$+z,0).toLocaleString()]})]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"flex-1 pb-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search by name, code, department...",value:o,onChange:$=>l($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 pt-1",children:[s.jsx("select",{value:c,onChange:$=>u($.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:E.map($=>s.jsx("option",{value:$,children:$==="all"?"All Departments":$},$))}),s.jsx("select",{value:d,onChange:$=>f($.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:O.map($=>s.jsx("option",{value:$,children:$==="all"?"All Sub Departments":$},$))}),s.jsx("select",{value:m,onChange:$=>h($.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:M.map($=>s.jsx("option",{value:$,children:$==="all"?"All Accounts":$},$))}),s.jsx("select",{value:p,onChange:$=>y($.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:I.map($=>s.jsx("option",{value:$,children:$==="all"?"All Funds":$},$))}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(OE,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[U.length," results"]})]})]})]})}),x==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:U.map($=>s.jsxs("div",{onClick:()=>e($),className:`bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-md transition-all ${(t==null?void 0:t.id)===$.id?"ring-2 ring-blue-500 border-blue-500":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:$.name}),s.jsx("p",{className:"text-sm text-gray-600",children:$.code}),s.jsx("p",{className:"text-sm text-gray-500",children:$.department})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${F($.status)}`,children:$.status})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Appropriation"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",$.appropriation.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Allotment"}),s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["$",$.allotment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Charges"}),s.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["$",$.charges.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Balance"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["$",$.appropriationBalance.toLocaleString()]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["Updated ",$.lastModified]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(mn,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-800 transition-colors",children:s.jsx(Rr,{className:"w-4 h-4"})})]})]})]},$.id))}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Appropriation"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allotment"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Charges"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map($=>s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${(t==null?void 0:t.id)===$.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>e($),children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name}),s.jsx("div",{className:"text-sm text-gray-500",children:$.code})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm text-gray-900",children:$.department}),s.jsx("div",{className:"text-sm text-gray-500",children:$.subDepartment})]}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:["$",$.appropriation.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-blue-600",children:["$",$.allotment.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-purple-600",children:["$",$.charges.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-green-600",children:["$",$.appropriationBalance.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${F($.status)}`,children:$.status})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(mn,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-800 transition-colors",children:s.jsx(Rr,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-800 transition-colors",children:s.jsx(Mr,{className:"w-4 h-4"})})]})})]},$.id))})]})})}),s.jsx(te,{className:"w-full",isOpen:g,onClose:()=>j(!1),title:w?"Edit Budget":"Add New Budget",size:"xl",children:s.jsx(_8,{initialData:w,onSubmit:T,onClose:()=>j(!1)})}),s.jsx(te,{className:"w-full max-w-md",isOpen:C,onClose:()=>N(!1),title:"Excel Tool",size:"xl",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between mb-6",children:[s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Excel"}),s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Start Upload"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload File:"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[s.jsx("input",{type:"file",accept:".xlsx,.xls",className:"hidden",id:"excel-upload"}),s.jsx("label",{htmlFor:"excel-upload",className:"cursor-pointer text-gray-500 hover:text-gray-700",children:"Drag and drop your Excel file here or click to browse"})]})]}),s.jsx("div",{className:"text-center py-4"})]})})]})},_Ne=[{value:"2024",label:"2024"},{value:"2025",label:"2025"}],$Ne=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"}],RNe=[{value:"sub1",label:"Sub-Department 1"},{value:"sub2",label:"Sub-Department 2"}],MNe=[{value:"coa1",label:"Chart 1"},{value:"coa2",label:"Chart 2"}],LNe=[{value:"fund1",label:"Fund 1"},{value:"fund2",label:"Fund 2"}],uR=[{value:"proj1",label:"Project A",appropriation:"A1",charges:"C1",total:"10000",balance:"5000"},{value:"proj2",label:"Project B",appropriation:"A2",charges:"C2",total:"20000",balance:"15000"}],oA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],FNe=le().shape({budgetName:D().required("Required"),fiscalYear:D().required("Required"),department:D().required("Required"),subDepartment:D().required("Required"),chartOfAccount:D().required("Required"),fund:D().required("Required"),project:D().required("Required"),monthlyAmounts:le().shape(oA.reduce((t,e)=>(t[e]=oe().min(0,"Must be >= 0").required("Required"),t),{}))});function BNe(){const[t,e]=v.useState({});return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"New Budget"}),s.jsx(Be,{initialValues:{budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccount:"",fund:"",project:"",monthlyAmounts:oA.reduce((r,n)=>({...r,[n]:""}),{})},validationSchema:FNe,onSubmit:r=>{console.log("Submitted:",r)},children:({values:r,handleChange:n,setFieldValue:a})=>(v.useEffect(()=>{const i=uR.find(o=>o.value===r.project);i&&e(i)},[r.project]),s.jsxs(We,{className:"space-y-4",children:[s.jsx(A,{name:"budgetName",label:"Budget Name",type:"text",required:!0,value:r.budgetName,onChange:n}),s.jsx(A,{name:"fiscalYear",label:"Fiscal Year",type:"select",required:!0,options:_Ne,value:r.fiscalYear,onChange:n}),s.jsx(A,{name:"department",label:"Department",type:"select",required:!0,options:$Ne,value:r.department,onChange:n}),s.jsx(A,{name:"subDepartment",label:"Sub-Department",type:"select",required:!0,options:RNe,value:r.subDepartment,onChange:n}),s.jsx(A,{name:"chartOfAccount",label:"Chart of Accounts",type:"select",required:!0,options:MNe,value:r.chartOfAccount,onChange:n}),s.jsx(A,{name:"fund",label:"Fund",type:"select",required:!0,options:LNe,value:r.fund,onChange:n}),s.jsx(A,{name:"project",label:"Project",type:"select",required:!0,options:uR.map(i=>({value:i.value,label:i.label})),value:r.project,onChange:n}),r.project&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-neutral-50 p-4 rounded-lg border",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Appropriation:"})," ",t.appropriation]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Charges:"})," ",t.charges]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Total Amount:"})," ",t.total]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Balance:"})," ",t.balance]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:oA.map(i=>s.jsx(A,{name:`monthlyAmounts.${i}`,label:i,type:"number",value:r.monthlyAmounts[i],onChange:n,min:"0",step:"0.01"},i))}),s.jsx("div",{className:"pt-6",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Budget"})})]}))})]})}const qNe=()=>{const[t,e]=v.useState(null),[r,n]=v.useState(""),[a,i]=v.useState("all"),[o,l]=v.useState("all"),[c,u]=v.useState("all"),[d,f]=v.useState(1),[m,h]=v.useState("name"),[p,y]=v.useState("asc"),[x,b]=v.useState("grid"),g=[{id:"1",name:"Transportation System Fees",department:"Municipal Transportation Management",fiscalYear:"January to December",account:"Transportation System Fees",fund:"General Fund",project:"No Project",originalAppropriation:1e6,adjustments:-500,adjustedAppropriation:999500,releasedAllotted:1e5,charges:0,appropriationBalance:599500,status:"active",monthlyAllocations:[85e3,82e3,88e3,75e3,9e4,85e3,78e3,82e3,88e3,92e3,85e3,89e3],utilizationRate:40,lastUpdated:"2025-01-15"},{id:"2",name:"Electricity Expenses",department:"General Fund",fiscalYear:"January to December",account:"Utilities and Communications",fund:"General Fund",project:"No Project",originalAppropriation:1e6,adjustments:0,adjustedAppropriation:1e6,releasedAllotted:1e5,charges:0,appropriationBalance:9e5,status:"active",monthlyAllocations:[95e3,88e3,92e3,85e3,98e3,102e3,105e3,108e3,95e3,88e3,82e3,85e3],utilizationRate:10,lastUpdated:"2025-01-14"},{id:"3",name:"Petty Cash",department:"Accounting",fiscalYear:"Feb to Aug",account:"Petty Cash Fund",fund:"General Fund",project:"No Project",originalAppropriation:105e4,adjustments:0,adjustedAppropriation:105e4,releasedAllotted:0,charges:0,appropriationBalance:105e4,status:"active",monthlyAllocations:[0,15e4,15e4,15e4,15e4,15e4,15e4,15e4,0,0,0,0],utilizationRate:0,lastUpdated:"2025-01-13"},{id:"4",name:"Office Supplies",department:"Administration",fiscalYear:"January to December",account:"Office Supplies",fund:"General Fund",project:"Office Operations",originalAppropriation:5e5,adjustments:25e3,adjustedAppropriation:525e3,releasedAllotted:15e4,charges:75e3,appropriationBalance:3e5,status:"active",monthlyAllocations:[45e3,42e3,48e3,4e4,5e4,45e3,38e3,42e3,48e3,52e3,45e3,49e3],utilizationRate:42.9,lastUpdated:"2025-01-12"}],j=["all","Municipal Transportation Management","General Fund","Accounting","Administration"],C=["all","January to December","Feb to Aug"],N=["all","active","inactive","suspended"],w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],S=_=>{switch(_){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},T=_=>_>=80?"text-red-600":_>=60?"text-yellow-600":"text-green-600",k=g.filter(_=>{const B=_.name.toLowerCase().includes(r.toLowerCase())||_.department.toLowerCase().includes(r.toLowerCase())||_.project.toLowerCase().includes(r.toLowerCase()),X=a==="all"||_.fiscalYear===a,$=o==="all"||_.department===o,z=c==="all"||_.status===c;return B&&X&&$&&z}),E=[...k].sort((_,B)=>{const X=_[m],$=B[m];return typeof X=="string"&&typeof $=="string"?p==="asc"?X.localeCompare($):$.localeCompare(X):typeof X=="number"&&typeof $=="number"?p==="asc"?X-$:$-X:0}),O=8,M=Math.ceil(E.length/O),I=(d-1)*O,V=E.slice(I,I+O),P=_=>{m===_?y(p==="asc"?"desc":"asc"):(h(_),y("asc"))},F=t||g[0],U=F.releasedAllotted+F.charges,R={totalBudgets:g.length,totalAppropriation:g.reduce((_,B)=>_+B.adjustedAppropriation,0),totalUtilized:g.reduce((_,B)=>_+B.releasedAllotted+B.charges,0),totalBalance:g.reduce((_,B)=>_+B.appropriationBalance,0),avgUtilization:g.reduce((_,B)=>_+B.utilizationRate,0)/g.length};return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-y-4 gap-x-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Budget Summary"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Comprehensive budget overview and management dashboard"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-y-3 sm:gap-x-3 w-full sm:w-auto",children:[s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>b("grid"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${x==="grid"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Grid"}),s.jsx("button",{onClick:()=>b("table"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${x==="table"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Table"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"New Budget"}),s.jsx("span",{className:"sm:hidden",children:"New"})]}),s.jsxs("button",{className:"flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[s.jsx(Vq,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Export Report"}),s.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 sm:gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Budgets"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:R.totalBudgets}),s.jsxs("p",{className:"text-xs sm:text-sm text-green-600 mt-1",children:[s.jsx(As,{className:"w-3 h-3 inline mr-1"}),k.filter(_=>_.status==="active").length," ","active"]})]}),s.jsx(zv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Appropriation"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["$",R.totalAppropriation.toLocaleString()]}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Across all budgets"})]}),s.jsx(ml,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Utilized"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:["$",R.totalUtilized.toLocaleString()]}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:[(R.totalUtilized/R.totalAppropriation*100).toFixed(1),"% of total"]})]}),s.jsx(EE,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Balance"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:["$",R.totalBalance.toLocaleString()]}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Avg. utilization: ",R.avgUtilization.toFixed(1),"%"]})]}),s.jsx(As,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"})]})})]}),F&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:["Featured Budget: ",F.name]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[F.department,"  ",F.fiscalYear]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${S(F.status)}`,children:F.status}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s.jsx(n$,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Financial Overview"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[s.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Original"}),s.jsxs("p",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:["$",F.originalAppropriation.toLocaleString()]})]}),s.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Adjustments"}),s.jsxs("p",{className:`text-sm sm:text-lg font-semibold ${F.adjustments>=0?"text-green-600":"text-red-600"}`,children:[F.adjustments>=0?"+":"","$",F.adjustments.toLocaleString()]})]}),s.jsxs("div",{className:"text-center p-3 sm:p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Utilized"}),s.jsxs("p",{className:"text-sm sm:text-lg font-semibold text-blue-600",children:["$",U.toLocaleString()]})]}),s.jsxs("div",{className:"text-center p-3 sm:p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Balance"}),s.jsxs("p",{className:"text-sm sm:text-lg font-semibold text-green-600",children:["$",F.appropriationBalance.toLocaleString()]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Budget Utilization"}),s.jsxs("span",{className:`text-sm font-medium ${T(F.utilizationRate)}`,children:[F.utilizationRate.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${F.utilizationRate>=80?"bg-red-500":F.utilizationRate>=60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(F.utilizationRate,100)}%`}})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Monthly Allocation Trend"}),s.jsx("div",{className:"flex items-end justify-between h-24 sm:h-32 space-x-1",children:F.monthlyAllocations.map((_,B)=>{const X=Math.max(...F.monthlyAllocations),$=X>0?_/X*100:0;return s.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[s.jsx("div",{className:"w-full bg-blue-600 rounded-t hover:bg-blue-700 transition-colors cursor-pointer relative",style:{height:`${$}%`,minHeight:_>0?"4px":"0px"},title:`${w[B]}: $${_.toLocaleString()}`,children:s.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:["$",_.toLocaleString()]})}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:w[B]})]},B)})}),s.jsxs("div",{className:"text-center text-xs sm:text-sm text-gray-600 mt-2",children:["Annual Total: $",F.monthlyAllocations.reduce((_,B)=>_+B,0).toLocaleString()]})]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search by name, department, project...",value:r,onChange:_=>n(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-4",children:[s.jsx("select",{value:a,onChange:_=>i(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:C.map(_=>s.jsx("option",{value:_,children:_==="all"?"All Fiscal Years":_},_))}),s.jsx("select",{value:o,onChange:_=>l(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:j.map(_=>s.jsx("option",{value:_,children:_==="all"?"All Departments":_},_))}),s.jsx("select",{value:c,onChange:_=>u(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:N.map(_=>s.jsx("option",{value:_,children:_==="all"?"All Statuses":_.charAt(0).toUpperCase()+_.slice(1)},_))})]})]})}),x==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:V.map(_=>s.jsxs("div",{onClick:()=>e(_),className:`bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 cursor-pointer hover:shadow-md transition-all ${(t==null?void 0:t.id)===_.id?"ring-2 ring-blue-500 border-blue-500":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-1 truncate",children:_.name}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:_.department})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full flex-shrink-0 ml-2 ${S(_.status)}`,children:_.status})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Appropriation"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",_.adjustedAppropriation.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Balance"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["$",_.appropriationBalance.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Utilization"}),s.jsxs("span",{className:`text-sm font-medium ${T(_.utilizationRate)}`,children:[_.utilizationRate.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${_.utilizationRate>=80?"bg-red-500":_.utilizationRate>=60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(_.utilizationRate,100)}%`}})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["Updated ",_.lastUpdated]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(mn,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-800 transition-colors",children:s.jsx(Rr,{className:"w-4 h-4"})})]})]})]},_.id))}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>P("name"),children:s.jsxs("div",{className:"flex items-center",children:["Budget Name",m==="name"&&s.jsx("span",{className:"ml-1",children:p==="asc"?"":""})]})}),s.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 hidden sm:table-cell",onClick:()=>P("department"),children:s.jsxs("div",{className:"flex items-center",children:["Department",m==="department"&&s.jsx("span",{className:"ml-1",children:p==="asc"?"":""})]})}),s.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>P("adjustedAppropriation"),children:s.jsxs("div",{className:"flex items-center justify-end",children:["Appropriation",m==="adjustedAppropriation"&&s.jsx("span",{className:"ml-1",children:p==="asc"?"":""})]})}),s.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 hidden md:table-cell",onClick:()=>P("appropriationBalance"),children:s.jsxs("div",{className:"flex items-center justify-end",children:["Balance",m==="appropriationBalance"&&s.jsx("span",{className:"ml-1",children:p==="asc"?"":""})]})}),s.jsx("th",{className:"px-4 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>P("utilizationRate"),children:s.jsxs("div",{className:"flex items-center justify-center",children:["Utilization",m==="utilizationRate"&&s.jsx("span",{className:"ml-1",children:p==="asc"?"":""})]})}),s.jsx("th",{className:"px-4 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 hidden lg:table-cell",onClick:()=>P("status"),children:s.jsxs("div",{className:"flex items-center justify-center",children:["Status",m==="status"&&s.jsx("span",{className:"ml-1",children:p==="asc"?"":""})]})}),s.jsx("th",{className:"px-4 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(_=>s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${(t==null?void 0:t.id)===_.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>e(_),children:[s.jsxs("td",{className:"px-4 sm:px-6 py-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:_.name}),s.jsx("div",{className:"text-sm text-gray-500 truncate sm:hidden",children:_.department}),s.jsx("div",{className:"text-sm text-gray-500 truncate",children:_.account})]}),s.jsx("td",{className:"px-4 sm:px-6 py-4 text-sm text-gray-900 hidden sm:table-cell",children:s.jsx("div",{className:"truncate",children:_.department.length>25?`${_.department.substring(0,25)}...`:_.department})}),s.jsxs("td",{className:"px-4 sm:px-6 py-4 text-right text-sm font-medium text-gray-900",children:["$",_.adjustedAppropriation.toLocaleString()]}),s.jsxs("td",{className:"px-4 sm:px-6 py-4 text-right text-sm font-medium text-green-600 hidden md:table-cell",children:["$",_.appropriationBalance.toLocaleString()]}),s.jsx("td",{className:"px-4 sm:px-6 py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{className:"w-full max-w-20",children:[s.jsx("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-1",children:s.jsxs("span",{className:T(_.utilizationRate),children:[_.utilizationRate.toFixed(1),"%"]})}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${_.utilizationRate>=80?"bg-red-500":_.utilizationRate>=60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(_.utilizationRate,100)}%`}})})]})})}),s.jsx("td",{className:"px-4 sm:px-6 py-4 text-center hidden lg:table-cell",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${S(_.status)}`,children:_.status})}),s.jsx("td",{className:"px-4 sm:px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(mn,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-800 transition-colors",children:s.jsx(Rr,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600 transition-colors hidden sm:block",children:s.jsx(n$,{className:"w-4 h-4"})})]})})]},_.id))})]})})}),M>1&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 px-4 sm:px-6 py-3 flex flex-col sm:flex-row items-center justify-between gap-3",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",I+1," to"," ",Math.min(I+O,E.length)," of"," ",E.length," results"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>f(Math.max(1,d-1)),disabled:d===1,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Ude,{className:"w-4 h-4"})}),Array.from({length:Math.min(5,M)},(_,B)=>{const X=B+1;return s.jsx("button",{onClick:()=>f(X),className:`px-3 py-1 border rounded-lg text-sm ${d===X?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:X},X)}),M>5&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-500",children:"..."}),s.jsx("button",{onClick:()=>f(M),className:`px-3 py-1 border rounded-lg text-sm ${d===M?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:M})]}),s.jsx("button",{onClick:()=>f(Math.min(M,d+1)),disabled:d===M,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Hde,{className:"w-4 h-4"})})]})]})]})},VNe=()=>{const[t,e]=v.useState(null),[r,n]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState("all"),[d,f]=v.useState("all"),m=[{id:"1",invoiceNumber:"BS-26-2025",budgetName:"Work/Zoo Animals",fiscalYear:"January to December",department:"Treasury",subDepartment:"No Subdepartments",chartOfAccounts:"Work/Zoo Animals",fund:"General Fund",project:"No Project",supplemental:1e6,remarks:"Additional funding required for animal care and maintenance",appropriation:21111200,balance:1e6,releasedAllotments:21111200,finalBalance:2000010,status:"pending",invoiceDate:"2/26/2025",totalAmount:1e6,requestedBy:"John Smith",requestDate:"2025-02-20"},{id:"2",invoiceNumber:"BS-25-2025",budgetName:"Cash - Local Treasury",fiscalYear:"January to December",department:"Treasury",subDepartment:"No Subdepartments",chartOfAccounts:"Cash - Local Treasury",fund:"General Fund",project:"No Project",supplemental:1e4,remarks:"Emergency cash flow supplemental request",appropriation:5e6,balance:45e5,releasedAllotments:5e5,finalBalance:451e4,status:"approved",invoiceDate:"2/23/2025",totalAmount:1e4,requestedBy:"Maria Garcia",requestDate:"2025-02-18"},{id:"3",invoiceNumber:"BS-24-2025",budgetName:"Affiliation Fees",fiscalYear:"January to December",department:"Administration",subDepartment:"General Services",chartOfAccounts:"Affiliation Fees",fund:"General Fund",project:"No Project",supplemental:1e4,remarks:"Additional professional membership fees",appropriation:15e4,balance:12e4,releasedAllotments:3e4,finalBalance:13e4,status:"posted",invoiceDate:"2/20/2025",totalAmount:1e4,requestedBy:"David Wilson",requestDate:"2025-02-15"},{id:"4",invoiceNumber:"BS-23-2025",budgetName:"Office Equipment",fiscalYear:"January to December",department:"IT Department",subDepartment:"Infrastructure",chartOfAccounts:"Office Equipment",fund:"Capital Fund",project:"Office Modernization",supplemental:1e6,remarks:"Urgent equipment replacement and upgrades",appropriation:3e6,balance:25e5,releasedAllotments:5e5,finalBalance:35e5,status:"rejected",invoiceDate:"2/20/2025",totalAmount:1e6,requestedBy:"Sarah Johnson",requestDate:"2025-02-12"}],h=["all","Treasury","Administration","IT Department","Finance"],p=["all","pending","approved","rejected","posted"],y=S=>{switch(S){case"approved":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"posted":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},x=S=>{switch(S){case"approved":return s.jsx(fa,{className:"w-4 h-4"});case"rejected":return s.jsx(Di,{className:"w-4 h-4"});case"posted":return s.jsx(Zo,{className:"w-4 h-4"});default:return s.jsx(Cn,{className:"w-4 h-4"})}},b=m.filter(S=>{const T=S.invoiceNumber.toLowerCase().includes(o.toLowerCase())||S.budgetName.toLowerCase().includes(o.toLowerCase())||S.requestedBy.toLowerCase().includes(o.toLowerCase()),k=c==="all"||S.status===c,E=d==="all"||S.department===d;return T&&k&&E}),g=t||m[0],j=()=>{t&&console.log("Approving request:",t.invoiceNumber)},C=()=>{t&&console.log("Rejecting request:",t.invoiceNumber)},N=()=>{r&&(n(!1),console.log("Saving changes..."))},w=()=>{n(!1),i(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Budget Supplemental Requests"}),s.jsx("p",{className:"text-gray-600",children:"Manage and approve supplemental budget requests"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"New Request"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.length})]}),s.jsx(Zo,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:m.filter(S=>S.status==="pending").length})]}),s.jsx(Cn,{className:"w-8 h-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.filter(S=>S.status==="approved").length})]}),s.jsx(fa,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",m.reduce((S,T)=>S+T.supplemental,0).toLocaleString()]})]}),s.jsx(ml,{className:"w-8 h-8 text-purple-600"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"xl:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g?`Request ${g.invoiceNumber}`:"Select a Request"}),g&&s.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${y(g.status)}`,children:[x(g.status),s.jsx("span",{className:"ml-1 capitalize",children:g.status})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Requested by ",g.requestedBy," on"," ",g.requestDate]})]})]}),g&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-y-2 sm:space-x-2 w-full sm:w-auto",children:[g.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:j,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[s.jsx(fa,{className:"w-4 h-4 mr-1"}),"Approve"]}),s.jsxs("button",{onClick:C,className:"flex items-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[s.jsx(Di,{className:"w-4 h-4 mr-1"}),"Reject"]})]}),r?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:N,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[s.jsx(cu,{className:"w-4 h-4 mr-1"}),"Save"]}),s.jsxs("button",{onClick:w,className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(uu,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}):s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})}),g&&s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Name"}),s.jsx("input",{type:"text",value:g.budgetName,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplemental Amount"}),s.jsx("input",{type:"number",value:g.supplemental,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),s.jsx("select",{value:g.department,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:h.filter(S=>S!=="all").map(S=>s.jsx("option",{value:S,children:S},S))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund"}),s.jsxs("select",{value:g.fund,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[s.jsx("option",{value:"General Fund",children:"General Fund"}),s.jsx("option",{value:"Capital Fund",children:"Capital Fund"}),s.jsx("option",{value:"Special Fund",children:"Special Fund"}),s.jsx("option",{value:"Trust Fund",children:"Trust Fund"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart of Accounts"}),s.jsx("input",{type:"text",value:g.chartOfAccounts,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),s.jsx("input",{type:"text",value:g.project,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),s.jsx("textarea",{value:g.remarks,disabled:!r,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]})]}),s.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Financial Summary"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Current Appropriation"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",g.appropriation.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Current Balance"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",g.balance.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Supplemental Request"}),s.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:["$",g.supplemental.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"New Balance"}),s.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["$",g.finalBalance.toLocaleString()]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200 p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search requests...",value:o,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("select",{value:c,onChange:S=>u(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map(S=>s.jsx("option",{value:S,children:S==="all"?"All Status":S.charAt(0).toUpperCase()+S.slice(1)},S))}),s.jsx("select",{value:d,onChange:S=>f(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:h.map(S=>s.jsx("option",{value:S,children:S==="all"?"All Departments":S},S))})]})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.jsx("div",{className:"divide-y divide-gray-200",children:b.map(S=>s.jsxs("div",{onClick:()=>e(S),className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${(t==null?void 0:t.id)===S.id?"bg-blue-50 border-l-4 border-blue-500":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.invoiceNumber}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${y(S.status)}`,children:S.status})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:S.budgetName}),s.jsx("p",{className:"text-sm text-gray-500",children:S.department}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["$",S.supplemental.toLocaleString()]}),s.jsx("span",{className:"text-xs text-gray-500",children:S.invoiceDate})]})]},S.id))})})]})]})]})},zNe=()=>{const[t,e]=v.useState(null),[r,n]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState("all"),[d,f]=v.useState("all"),[m,h]=v.useState("grid"),[p,y]=v.useState("funds"),x=[{id:"1",code:"100",name:"General Fund",description:"The general fund for all basic operations and administrative expenses",amount:50100000050,type:"general",balance:525e4,allocated:48e5,utilized:32e5,subFunds:[],status:"active",createdDate:"2024-01-01"},{id:"2",code:"200",name:"Special Education Fund",description:"The special education fund for educational programs and initiatives",amount:2e5,type:"special",balance:185e4,allocated:16e5,utilized:98e4,subFunds:[],status:"active",createdDate:"2024-01-02"},{id:"3",code:"300",name:"Trust Fund",description:"The trust fund for long-term investments and special projects",amount:199950,type:"trust",balance:32e5,allocated:28e5,utilized:175e4,subFunds:[],status:"active",createdDate:"2024-01-03"}],b=[{id:"1",code:"20%",name:"20% Fund",parentFundId:"1",parentFundName:"General Fund",description:"The twenty percent fund for special allocations",amount:12e3,balance:65e4,allocated:55e4,utilized:32e4,status:"active",createdDate:"2024-01-15"},{id:"2",code:"GF",name:"General Fund",parentFundId:"1",parentFundName:"General Fund",description:"The main general fund subdivision",amount:2e4,balance:12e5,allocated:11e5,utilized:65e4,status:"active",createdDate:"2024-01-16"},{id:"3",code:"SEF",name:"Special Education Fund",parentFundId:"2",parentFundName:"Special Education Fund",description:"The main special education fund subdivision",amount:35e3,balance:8e5,allocated:75e4,utilized:45e4,status:"active",createdDate:"2024-01-17"},{id:"4",code:"TF",name:"Trust Fund",parentFundId:"3",parentFundName:"Trust Fund",description:"The main trust fund subdivision",amount:25e3,balance:9e5,allocated:85e4,utilized:5e5,status:"active",createdDate:"2024-01-18"}],g=["all","general","special","trust","capital"],j=["all","active","inactive"],C=I=>{switch(I){case"general":return"bg-blue-100 text-blue-800";case"special":return"bg-green-100 text-green-800";case"trust":return"bg-purple-100 text-purple-800";case"capital":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},N=I=>{switch(I){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},w=(I,V)=>I>0?(V/I*100).toFixed(1):"0",S=x.filter(I=>{const V=I.name.toLowerCase().includes(o.toLowerCase())||I.code.toLowerCase().includes(o.toLowerCase())||I.description.toLowerCase().includes(o.toLowerCase()),P=c==="all"||I.type===c,F=d==="all"||I.status===d;return V&&P&&F}),T=b.filter(I=>{const V=I.name.toLowerCase().includes(o.toLowerCase())||I.code.toLowerCase().includes(o.toLowerCase())||I.description.toLowerCase().includes(o.toLowerCase())||I.parentFundName.toLowerCase().includes(o.toLowerCase()),P=d==="all"||I.status===d;return V&&P}),k=t||x[0],E={totalFunds:x.length,totalSubFunds:b.length,totalAmount:x.reduce((I,V)=>I+V.amount,0),totalBalance:x.reduce((I,V)=>I+V.balance,0),totalAllocated:x.reduce((I,V)=>I+V.allocated,0),totalUtilized:x.reduce((I,V)=>I+V.utilized,0)},O=()=>{r&&(n(!1),console.log("Saving changes..."))},M=()=>{n(!1),i(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Funds & Sub-Funds Management"}),s.jsx("p",{className:"text-gray-600",children:"Comprehensive fund hierarchy and allocation management"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>y("funds"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p==="funds"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Funds"}),s.jsx("button",{onClick:()=>y("subfunds"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p==="subfunds"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Sub-Funds"})]}),s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>h("grid"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${m==="grid"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Grid"}),s.jsx("button",{onClick:()=>h("table"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${m==="table"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Table"})]}),s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"New ",p==="funds"?"Fund":"Sub-Fund"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Funds"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.totalFunds}),s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[s.jsx(As,{className:"w-3 h-3 inline mr-1"}),E.totalSubFunds," sub-funds"]})]}),s.jsx(Mf,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",E.totalAmount.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Across all funds"})]}),s.jsx(ml,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Allocated"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",E.totalAllocated.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[E.totalAmount>0?(E.totalAllocated/E.totalAmount*100).toFixed(1):0,"% of total"]})]}),s.jsx(EE,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Utilized"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",E.totalUtilized.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[E.totalAllocated>0?(E.totalUtilized/E.totalAllocated*100).toFixed(1):0,"% utilized"]})]}),s.jsx(zv,{className:"w-8 h-8 text-purple-600"})]})})]}),p==="funds"&&k&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Featured Fund: ",k.name]}),s.jsxs("p",{className:"text-gray-600",children:[k.code," "," ",k.type.charAt(0).toUpperCase()+k.type.slice(1)," ","Fund"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${C(k.type)}`,children:k.type}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${N(k.status)}`,children:k.status}),r?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:O,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[s.jsx(cu,{className:"w-4 h-4 mr-1"}),"Save"]}),s.jsxs("button",{onClick:M,className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(uu,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}):s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Fund Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code"}),s.jsx("input",{type:"text",value:k.code,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount"}),s.jsx("input",{type:"number",value:k.amount,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),s.jsx("input",{type:"text",value:k.name,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:k.description,disabled:!r,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Financial Summary"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Amount:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",k.amount.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Balance:"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["$",k.balance.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Allocated:"}),s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["$",k.allocated.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Utilized:"}),s.jsxs("span",{className:"text-sm font-bold text-purple-600",children:["$",k.utilized.toLocaleString()]})]})]})}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Utilization Rate"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Progress:"}),s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[w(k.allocated,k.utilized),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${w(k.allocated,k.utilized)}%`}})})]})]})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:`Search ${p}...`,value:o,onChange:I=>l(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-1 sm:mt-0",children:[p==="funds"&&s.jsx("select",{value:c,onChange:I=>u(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:g.map(I=>s.jsx("option",{value:I,children:I==="all"?"All Types":I.charAt(0).toUpperCase()+I.slice(1)},I))}),s.jsx("select",{value:d,onChange:I=>f(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:j.map(I=>s.jsx("option",{value:I,children:I==="all"?"All Statuses":I.charAt(0).toUpperCase()+I.slice(1)},I))}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(OE,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[p==="funds"?S.length:T.length," ","results"]})]})]})]})}),p==="funds"?m==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:S.map(I=>s.jsxs("div",{onClick:()=>e(I),className:`bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-md transition-all ${(t==null?void 0:t.id)===I.id?"ring-2 ring-blue-500 border-blue-500":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:I.name}),s.jsx("p",{className:"text-sm text-gray-600",children:I.code}),s.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:I.description})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${C(I.type)}`,children:I.type}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${N(I.status)}`,children:I.status})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Amount"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",I.amount.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Balance"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["$",I.balance.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Utilized"}),s.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["$",I.utilized.toLocaleString()]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",I.createdDate]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(mn,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-800 transition-colors",children:s.jsx(Rr,{className:"w-4 h-4"})})]})]})]},I.id))}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilized"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(I=>s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${(t==null?void 0:t.id)===I.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>e(I),children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.name}),s.jsx("div",{className:"text-sm text-gray-500",children:I.code}),s.jsx("div",{className:"text-xs text-gray-400 mt-1 line-clamp-1",children:I.description})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${C(I.type)}`,children:I.type})}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:["$",I.amount.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-green-600",children:["$",I.balance.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-purple-600",children:["$",I.utilized.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${N(I.status)}`,children:I.status})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(mn,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-800 transition-colors",children:s.jsx(Rr,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-800 transition-colors",children:s.jsx(Mr,{className:"w-4 h-4"})})]})})]},I.id))})]})})}):m==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:T.map(I=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:I.name}),s.jsx("p",{className:"text-sm text-gray-600",children:I.code}),s.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Parent: ",I.parentFundName]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:I.description})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${N(I.status)}`,children:I.status})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Amount"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",I.amount.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Balance"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["$",I.balance.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Utilized"}),s.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["$",I.utilized.toLocaleString()]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",I.createdDate]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(mn,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-800 transition-colors",children:s.jsx(Rr,{className:"w-4 h-4"})})]})]})]},I.id))}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sub-Fund Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent Fund"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilized"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(I=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.name}),s.jsx("div",{className:"text-sm text-gray-500",children:I.code}),s.jsx("div",{className:"text-xs text-gray-400 mt-1 line-clamp-1",children:I.description})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-blue-600 font-medium",children:I.parentFundName})}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:["$",I.amount.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-green-600",children:["$",I.balance.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-purple-600",children:["$",I.utilized.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${N(I.status)}`,children:I.status})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(mn,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-800 transition-colors",children:s.jsx(Rr,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-800 transition-colors",children:s.jsx(Mr,{className:"w-4 h-4"})})]})})]},I.id))})]})})})]})};function UNe({initialData:t,onSubmit:e,onClose:r,fundOptions:n=[]}){const a=le({Code:D().required("Code is required"),Amount:oe().required("Amount is required").typeError("Amount must be a number"),Name:D().required("Name is required"),Fund:D().required("Fund is required"),Description:D().required("Description is required")}),i=Ze({initialValues:t||{Code:"",Amount:"",Name:"",Fund:"",Description:""},validationSchema:a,onSubmit:f=>{e(f)}}),{values:o,handleChange:l,handleBlur:c,errors:u,touched:d}=i;return s.jsxs("form",{onSubmit:i.handleSubmit,className:"space-y-4",children:[s.jsx(A,{label:"Code",name:"Code",type:"text",value:o.Code,onChange:l,onBlur:c,error:u.Code,touched:d.Code,required:!0}),s.jsx(A,{label:"Amount",name:"Amount",type:"number",value:o.Amount,onChange:l,onBlur:c,error:u.Amount,touched:d.Amount,required:!0}),s.jsx(A,{label:"Name",name:"Name",type:"text",value:o.Name,onChange:l,onBlur:c,error:u.Name,touched:d.Name,required:!0}),s.jsx(A,{label:"Fund",name:"Fund",type:"select",value:o.Fund,onChange:l,onBlur:c,error:u.Fund,touched:d.Fund,required:!0,options:n.map(f=>({value:f.ID,label:f.Name}))}),s.jsx(A,{label:"Description",name:"Description",type:"textarea",value:o.Description,onChange:l,onBlur:c,error:u.Description,touched:d.Description,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i.isSubmitting,children:i.isSubmitting?"Saving...":"Save"})]})]})}const Vj="https://staging-engine.testthelink.online",WNe=[],kx=L("subFunds/fetchSubFunds",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vj}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ex=L("subFunds/addSubFund",async(t,e)=>{try{const r=await fetch(`${Vj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),lA=L("subFunds/updateSubFund",async(t,e)=>{try{const r=await fetch(`${Vj}/subFunds/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ox=L("subFunds/deleteSubFund",async(t,e)=>{try{const r=await fetch(`${Vj}/subFunds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),HNe=me({name:"subFunds",initialState:{subFunds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(kx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kx.fulfilled,(e,r)=>{e.isLoading=!1,e.subFunds=Array.isArray(r.payload)?r.payload:[]}).addCase(kx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch sub funds",console.warn("Failed to fetch sub funds, using mock data.",e.error),e.subFunds=WNe}).addCase(Ex.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ex.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds.push(r.payload)}).addCase(Ex.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add sub fund",console.error("Failed to add sub fund:",e.error)}).addCase(lA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subFunds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds[n]=r.payload)}).addCase(Ox.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ox.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds=e.subFunds.filter(n=>n.ID!==r.payload)}).addCase(Ox.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete sub fund",console.error("Failed to delete sub fund:",e.error)})}}),GNe=HNe.reducer;function YNe(){const t=ce(),{subFunds:e,isLoading:r}=W(g=>g.subFunds),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(kx())},[t]);const f=()=>{o(null),a(!0)},m=g=>{o(g),a(!0)},h=g=>{d(g),c(!0)},p=async()=>{if(u)try{await t(Ox(u.ID)).unwrap(),c(!1),d(null)}catch(g){console.error("Failed to delete sub fund:",g)}},y=g=>{t(i?lA({...g,ID:i.ID}):Ex(g)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],b=[{icon:Ne,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Sub Funds"}),s.jsx("p",{children:"Manage Sub Funds"})]}),s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Sub Fund"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No sub funds found. Click 'Add Sub Fund' to create one."})}),s.jsx(te,{isOpen:n,onClose:()=>a(!1),title:i?"Edit Sub Fund":"Add Sub Fund",children:s.jsx(UNe,{initialData:i,onClose:()=>a(!1),onSubmit:y})}),s.jsxs(te,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[s.jsxs("div",{className:"py-3",children:[s.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the sub fund "',u==null?void 0:u.name,'"?']}),s.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const KNe=()=>{const[t,e]=v.useState(null),[r,n]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState("all"),[d,f]=v.useState("all"),[m,h]=v.useState("all"),p=[{id:"1",transferNumber:"FT-2025-001",sourceFund:"General Fund",targetFund:"Capital Fund",sourceSubFund:"Operations Sub-Fund",targetSubFund:"Infrastructure Projects",transferAmount:25e4,purpose:"Infrastructure Development",remarks:"Transfer for urgent infrastructure projects as approved by the board",sourceBalance:18e5,targetBalance:28e5,status:"pending",requestDate:"2025-01-15",requestedBy:"John Smith",transferType:"subfund-to-subfund",priority:"high"},{id:"2",transferNumber:"FT-2025-002",sourceFund:"Special Fund",targetFund:"General Fund",transferAmount:1e5,purpose:"Emergency Operations",remarks:"Emergency transfer to cover unexpected operational costs",sourceBalance:185e4,targetBalance:525e4,status:"approved",requestDate:"2025-01-12",requestedBy:"Maria Garcia",approvedBy:"David Wilson",approvedDate:"2025-01-13",transferType:"fund-to-fund",priority:"urgent"},{id:"3",transferNumber:"FT-2025-003",sourceFund:"Trust Fund",targetFund:"Special Fund",sourceSubFund:void 0,targetSubFund:"Training Programs",transferAmount:75e3,purpose:"Staff Development",remarks:"Quarterly transfer for staff training and development programs",sourceBalance:32e5,targetBalance:65e4,status:"completed",requestDate:"2025-01-10",requestedBy:"Sarah Johnson",approvedBy:"David Wilson",approvedDate:"2025-01-11",transferType:"fund-to-subfund",priority:"medium"},{id:"4",transferNumber:"FT-2025-004",sourceFund:"Capital Fund",targetFund:"General Fund",sourceSubFund:"Equipment Acquisition",targetSubFund:"Personnel Sub-Fund",transferAmount:15e4,purpose:"Personnel Costs",remarks:"Transfer to cover additional personnel costs for Q1",sourceBalance:12e5,targetBalance:245e4,status:"rejected",requestDate:"2025-01-08",requestedBy:"Michael Brown",transferType:"subfund-to-subfund",priority:"low"}],y=["all","pending","approved","rejected","completed"],x=["all","fund-to-fund","subfund-to-subfund","fund-to-subfund"],b=["all","low","medium","high","urgent"],g=O=>{switch(O){case"approved":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=O=>{switch(O){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=O=>{switch(O){case"approved":return s.jsx(fa,{className:"w-4 h-4"});case"rejected":return s.jsx(Di,{className:"w-4 h-4"});case"completed":return s.jsx(Zo,{className:"w-4 h-4"});default:return s.jsx(Cn,{className:"w-4 h-4"})}},N=p.filter(O=>{const M=O.transferNumber.toLowerCase().includes(o.toLowerCase())||O.sourceFund.toLowerCase().includes(o.toLowerCase())||O.targetFund.toLowerCase().includes(o.toLowerCase())||O.purpose.toLowerCase().includes(o.toLowerCase())||O.requestedBy.toLowerCase().includes(o.toLowerCase()),I=c==="all"||O.status===c,V=d==="all"||O.transferType===d,P=m==="all"||O.priority===m;return M&&I&&V&&P}),w=t||p[0],S=()=>{t&&console.log("Approving fund transfer:",t.transferNumber)},T=()=>{t&&console.log("Rejecting fund transfer:",t.transferNumber)},k=()=>{r&&(n(!1),console.log("Saving changes..."))},E=()=>{n(!1),i(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Fund Transfer Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage transfers between funds and sub-funds"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"New Transfer"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Transfers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.length})]}),s.jsx(uc,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:p.filter(O=>O.status==="pending").length})]}),s.jsx(Cn,{className:"w-8 h-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.filter(O=>O.status==="completed").length})]}),s.jsx(fa,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",p.reduce((O,M)=>O+M.transferAmount,0).toLocaleString()]})]}),s.jsx(ml,{className:"w-8 h-8 text-purple-600"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"xl:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 sm:gap-0",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w?`Transfer ${w.transferNumber}`:"Select a Transfer"}),w&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center mt-2 space-x-4 space-y-2 sm:space-y-0",children:[s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${g(w.status)}`,children:[C(w.status),s.jsx("span",{className:"ml-1 capitalize",children:w.status})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${j(w.priority)}`,children:w.priority.toUpperCase()}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Requested by ",w.requestedBy," on"," ",w.requestDate]})]})]}),w&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-2 sm:gap-0 mt-4 sm:mt-0",children:[w.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:S,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[s.jsx(fa,{className:"w-4 h-4 mr-1"}),"Approve"]}),s.jsxs("button",{onClick:T,className:"flex items-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[s.jsx(Di,{className:"w-4 h-4 mr-1"}),"Reject"]})]}),r?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:k,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[s.jsx(cu,{className:"w-4 h-4 mr-1"}),"Save"]}),s.jsxs("button",{onClick:E,className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(uu,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}):s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})}),w&&s.jsxs("div",{className:"p-2 sm:p-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-2 sm:p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Fund Transfer Overview"}),s.jsxs("div",{className:"flex items-center justify-between gap-1 sm:gap-0",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mb-2",children:s.jsx(Mf,{className:"w-6 h-6 text-red-600"})}),s.jsx("p",{className:"text-sm text-gray-600",children:"From"}),s.jsx("p",{className:"text-md sm:text-lg font-semibold text-red-600",children:w.sourceFund}),w.sourceSubFund&&s.jsx("p",{className:"text-sm text-gray-500",children:w.sourceSubFund}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Balance: $",w.sourceBalance.toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(uc,{className:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600"}),s.jsxs("div",{className:"ml-0 sm:ml-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Amount"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:["$",w.transferAmount.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500",children:w.transferType.replace("-"," ")})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mb-2",children:s.jsx(Mf,{className:"w-6 h-6 text-green-600"})}),s.jsx("p",{className:"text-sm text-gray-600",children:"To"}),s.jsx("p",{className:"text-md sm:text-lg font-semibold text-green-600",children:w.targetFund}),w.targetSubFund&&s.jsx("p",{className:"text-sm text-gray-500",children:w.targetSubFund}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Balance: $",w.targetBalance.toLocaleString()]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Transfer Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source Fund"}),s.jsx("input",{type:"text",value:w.sourceFund,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Fund"}),s.jsx("input",{type:"text",value:w.targetFund,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source Sub-Fund"}),s.jsx("input",{type:"text",value:w.sourceSubFund||"N/A",disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Sub-Fund"}),s.jsx("input",{type:"text",value:w.targetSubFund||"N/A",disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Amount"}),s.jsx("input",{type:"number",value:w.transferAmount,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),s.jsxs("select",{value:w.priority,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose"}),s.jsx("input",{type:"text",value:w.purpose,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),s.jsx("textarea",{value:w.remarks,disabled:!r,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Financial Impact Analysis"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Source Fund Impact"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Current Balance:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",w.sourceBalance.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Transfer Amount:"}),s.jsxs("span",{className:"text-sm font-medium text-red-600",children:["-$",w.transferAmount.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New Balance:"}),s.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",(w.sourceBalance-w.transferAmount).toLocaleString()]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(w.transferAmount/w.sourceBalance*100,100)}%`}})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(w.transferAmount/w.sourceBalance*100).toFixed(1),"% of current balance"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Target Fund Impact"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Current Balance:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",w.targetBalance.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Transfer Amount:"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+$",w.transferAmount.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New Balance:"}),s.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",(w.targetBalance+w.transferAmount).toLocaleString()]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(w.transferAmount/w.targetBalance*100,100)}%`}})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(w.transferAmount/w.targetBalance*100).toFixed(1),"% increase"]})]})]})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200 p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search transfers...",value:o,onChange:O=>l(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("select",{value:c,onChange:O=>u(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:y.map(O=>s.jsx("option",{value:O,children:O==="all"?"All Status":O.charAt(0).toUpperCase()+O.slice(1)},O))}),s.jsx("select",{value:d,onChange:O=>f(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:x.map(O=>s.jsx("option",{value:O,children:O==="all"?"All Types":O.replace("-"," ").replace(/\b\w/g,M=>M.toUpperCase())},O))}),s.jsx("select",{value:m,onChange:O=>h(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:b.map(O=>s.jsx("option",{value:O,children:O==="all"?"All Priorities":O.charAt(0).toUpperCase()+O.slice(1)},O))})]})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.jsx("div",{className:"divide-y divide-gray-200",children:N.map(O=>s.jsxs("div",{onClick:()=>e(O),className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${(t==null?void 0:t.id)===O.id?"bg-blue-50 border-l-4 border-blue-500":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:O.transferNumber}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${j(O.priority)}`,children:O.priority}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${g(O.status)}`,children:O.status})]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[s.jsx("span",{className:"truncate",children:O.sourceFund}),s.jsx(uc,{className:"w-3 h-3 mx-2 text-gray-400"}),s.jsx("span",{className:"truncate",children:O.targetFund})]}),s.jsx("p",{className:"text-sm text-gray-500 mb-2 truncate",children:O.purpose}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["$",O.transferAmount.toLocaleString()]}),s.jsx("span",{className:"text-xs text-gray-500",children:O.requestDate})]})]},O.id))})})]})]})]})};function JNe(){ce();const[t,e]=v.useState(!1),[r,n]=v.useState(null),{budgets:a,isLoading:i}=W(m=>m.budget),o=[{id:1,budgetName:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{id:2,budgetName:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}],l=[{header:"Budget Name",accessorKey:"budgetName",enableSorting:!0},{header:"Fiscal Year",accessorKey:"fiscalYear",enableSorting:!0},{header:"Department",accessorKey:"department",enableSorting:!0},{header:"Sub-Department",accessorKey:"subDepartment"},{header:"Project",accessorKey:"project"},{header:"Total Amount",accessorKey:"totalAmount",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.totalAmount)},{header:"Balance",accessorKey:"balance",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.balance)},{header:"Status",accessorKey:"status",cell:({row:m})=>s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.original.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.original.status})}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{console.log("Delete record:",m)},f=async m=>{try{console.log(r?"Update record:":"Create record:",m),e(!1)}catch(h){console.error("Error saving record:",h)}};return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Budget Management"}),s.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(Se,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Budget"]})]}),s.jsx("div",{className:"bg-white shadow rounded-lg",children:s.jsx(pe,{columns:l,data:o,isLoading:i,onEdit:u,onDelete:d})}),s.jsx(te,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:s.jsx(_8,{initialData:r,onSubmit:f,onClose:()=>e(!1)})})]})}const XNe=()=>{const[t,e]=v.useState("Test");return s.jsx("div",{className:" bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto bg-white shadow rounded-xl p-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Summary of Comparison of Budget and Actual Amount"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Fiscal Year"}),s.jsxs("select",{value:t,onChange:r=>e(r.target.value),className:"w-full rounded-md border-gray-300 shadow-sm",children:[s.jsx("option",{children:"Test"}),s.jsx("option",{children:"2025"}),s.jsx("option",{children:"2024"}),s.jsx("option",{children:"2023"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 md:col-span-2",children:[s.jsx("button",{className:"bg-blue-600 mt-2 sm:mt-0 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"View"}),s.jsx("button",{className:"bg-green-600 mt-2 sm:mt-0 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Generate Journal"}),s.jsx("button",{className:"bg-gray-700 mt-2 sm:mt-0 text-white px-4 py-2 rounded-md hover:bg-gray-800",children:"Export to Excel"})]})]}),s.jsx("div",{className:"overflow-x-auto bg-white border rounded-lg",children:s.jsxs("table",{className:"min-w-full text-sm text-left text-gray-600",children:[s.jsx("thead",{className:"bg-gray-100 text-gray-700 uppercase text-xs",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2",children:"Department"}),s.jsx("th",{className:"px-4 py-2",children:"Budget"}),s.jsx("th",{className:"px-4 py-2",children:"Actual"}),s.jsx("th",{className:"px-4 py-2",children:"Difference"})]})}),s.jsx("tbody",{children:s.jsx("tr",{className:"bg-white border-t",children:s.jsx("td",{className:"px-4 py-2",colSpan:4,children:"No data available"})})})]})})]})})},ZNe=()=>{const[t,e]=v.useState("2025-06-01"),[r,n]=v.useState("2025-06-09"),[a,i]=v.useState("Trust Fund"),[o,l]=v.useState("Test"),[c,u]=v.useState("Municipal Social Welfare and Development");return s.jsx("div",{className:"bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto bg-white shadow rounded-xl p-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Statement of Appropriations, Allotment, Obligations and Balances"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Start Date"}),s.jsx("input",{type:"date",value:t,onChange:d=>e(d.target.value),className:"mt-1 w-full rounded-md border-gray-300 shadow-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"End Date"}),s.jsx("input",{type:"date",value:r,onChange:d=>n(d.target.value),className:"mt-1 w-full rounded-md border-gray-300 shadow-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Fund"}),s.jsxs("select",{value:a,onChange:d=>i(d.target.value),className:"mt-1 w-full rounded-md border-gray-300 shadow-sm",children:[s.jsx("option",{children:"Trust Fund"}),s.jsx("option",{children:"General Fund"}),s.jsx("option",{children:"Special Fund"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Fiscal Year"}),s.jsxs("select",{value:o,onChange:d=>l(d.target.value),className:"mt-1 w-full rounded-md border-gray-300 shadow-sm",children:[s.jsx("option",{children:"Test"}),s.jsx("option",{children:"2024"}),s.jsx("option",{children:"2023"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Department"}),s.jsxs("select",{value:c,onChange:d=>u(d.target.value),className:"mt-1 w-full rounded-md border-gray-300 shadow-sm",children:[s.jsx("option",{children:"Municipal Social Welfare and Development"}),s.jsx("option",{children:"Engineering Department"}),s.jsx("option",{children:"Health Services"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"View"}),s.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Generate SAAOB"}),s.jsx("button",{className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"View SAO"}),s.jsx("button",{className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700",children:"Generate SAO"}),s.jsx("button",{className:"ml-auto bg-gray-700 text-white px-4 py-2 rounded-md hover:bg-gray-800",children:"Export to Excel"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-600",children:[s.jsx("thead",{className:"bg-gray-100 text-gray-700 uppercase text-xs",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2",children:"Fund"}),s.jsx("th",{className:"px-4 py-2",children:"Year"}),s.jsx("th",{className:"px-4 py-2",children:"Month End"}),s.jsx("th",{className:"px-4 py-2",children:"Account Code"}),s.jsx("th",{className:"px-4 py-2",children:"ID"}),s.jsx("th",{className:"px-4 py-2",children:"Category"}),s.jsx("th",{className:"px-4 py-2",children:"Name"}),s.jsx("th",{className:"px-4 py-2",children:"Appropriation"}),s.jsx("th",{className:"px-4 py-2",children:"Allotment"}),s.jsx("th",{className:"px-4 py-2",children:"Obligation"}),s.jsx("th",{className:"px-4 py-2",children:"Unobligated Appropriation"}),s.jsx("th",{className:"px-4 py-2",children:"Unobligated Allotment"}),s.jsx("th",{className:"px-4 py-2",children:"Municipality"}),s.jsx("th",{className:"px-4 py-2",children:"Province"}),s.jsx("th",{className:"px-4 py-2",children:"Requested By"}),s.jsx("th",{className:"px-4 py-2",children:"Position"})]})}),s.jsx("tbody",{children:s.jsx("tr",{className:"bg-white",children:s.jsx("td",{className:"px-4 py-2",colSpan:16,children:"No data available"})})})]})})]})})},QNe=()=>{const t=ce(),[e,r]=v.useState(null);v.useEffect(()=>{t(_o()),t(bi()),t(xi()),t(Io()),a()},[t]);const n="https://staging-engine.testthelink.online",a=async()=>{try{const C=localStorage.getItem("token"),N=await fetch(`${n}/lgu`,{headers:{Authorization:`Bearer ${C}`}});if(!N.ok)throw new Error("Failed to fetch LGU data");const w=await N.json();f(w),h(w.Logo||"https://placehold.co/150x150?text=LGU+Logo")}catch(C){console.error("Error loading LGU data:",C)}},i=async(C,N)=>{try{const w=localStorage.getItem("token"),S=new FormData;Object.entries(C).forEach(([E,O])=>{S.append(E,O)}),N&&S.append("Logo",N);const T=await fetch(`${n}/lgu/${C.ID}`,{method:"PUT",headers:{Authorization:`Bearer ${w}`},body:S});if(!T.ok)throw new Error("Failed to update LGU");const k=await T.json();return f(k),h(k.Logo||"https://placehold.co/150x150?text=LGU+Logo"),!0}catch(w){return console.error("Update error:",w),!1}},{barangays:o}=W(C=>C.barangays),{municipalities:l}=W(C=>C.municipalities),{provinces:c}=W(C=>C.provinces),{regions:u}=W(C=>C.regions),[d,f]=v.useState({ID:"1",Code:"",Name:"",TIN:"",RDO:"",StreetAddress:"",BarangayName:"",MunicipalityName:"",ProvinceName:"",RegionName:"",ZIPCode:"",PhoneNumber:"",EmailAddress:"",Website:""}),[m,h]=v.useState("https://placehold.co/150x150?text=LGU+Logo"),[p,y]=v.useState(!1),x=le({Code:D().required("Code is required"),Name:D().required("Name is required"),TIN:D().required("TIN is required"),RDO:D().required("RDO is required"),StreetAddress:D().required("Street Address is required"),BarangayID:D().required("Barangay is required"),MunicipalityID:D().required("Municipality is required"),ProvinceID:D().required("Province is required"),RegionID:D().required("Region is required"),ZIPCode:D().required("Zip Code is required"),PhoneNumber:D().required("Phone Number is required"),EmailAddress:D().email("Invalid email").required("Email is required"),Website:D().required("Website is required")}),b=Ze({initialValues:d,validationSchema:x,enableReinitialize:!0,onSubmit:async(C,{setSubmitting:N})=>{await i(C,e)&&y(!1),N(!1)}}),g=C=>{var w;const N=(w=C.target.files)==null?void 0:w[0];if(N){r(N);const S=new FileReader;S.onloadend=()=>{h(S.result)},S.readAsDataURL(N)}},j=[{ID:1,Name:"RDO 1"},{ID:2,Name:"RDO 2"},{ID:3,Name:"RDO 3"},{ID:4,Name:"RDO 4"},{ID:5,Name:"RDO 5"}];return s.jsxs("div",{className:"py-6 px-4",children:[s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"LGU Maintenance"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Manage Local Government Unit information"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Bq,{className:"h-5 w-5 mr-2 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold",children:"LGU Information"})]}),!p&&s.jsx("button",{onClick:()=>y(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors w-full sm:w-auto text-center",children:"Edit Information"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col items-center mb-6",children:[s.jsx("img",{src:m,className:"h-[150px] w-[150px] rounded-full object-cover",alt:"LGU Logo"}),p&&s.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"mt-2"})]}),p?s.jsxs("form",{onSubmit:b.handleSubmit,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"LGU Code",name:"Code",value:b.values.Code,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.Code,touched:b.touched.Code,required:!0}),s.jsx(A,{label:"LGU Name",name:"Name",value:b.values.Name,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.Name,touched:b.touched.Name,required:!0}),s.jsx(A,{label:"TIN",name:"TIN",value:b.values.TIN,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.TIN,touched:b.touched.TIN,required:!0}),s.jsx(A,{label:"RDO",name:"RDO",type:"select",options:j.map(C=>({value:C.ID,label:C.Name})),value:b.values.RDO,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.RDO,touched:b.touched.RDO,required:!0}),s.jsx(A,{label:"Street Address",name:"StreetAddress",value:b.values.StreetAddress,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.StreetAddress,touched:b.touched.StreetAddress,required:!0}),s.jsx(A,{label:"Barangay",name:"BarangayID",type:"select",value:b.values.BarangayID,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.BarangayID,touched:b.touched.BarangayID,options:o.map(C=>({value:C.ID,label:C.Name})),required:!0}),s.jsx(A,{label:"Municipality",name:"MunicipalityID",type:"select",value:b.values.MunicipalityID,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.MunicipalityID,touched:b.touched.MunicipalityID,options:l.map(C=>({value:C.ID,label:C.Name})),required:!0}),s.jsx(A,{label:"Province",name:"ProvinceID",type:"select",value:b.values.ProvinceID,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.ProvinceID,touched:b.touched.ProvinceID,options:c.map(C=>({value:C.ID,label:C.Name})),required:!0}),s.jsx(A,{label:"Region",name:"RegionID",type:"select",value:b.values.RegionID,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.RegionID,touched:b.touched.RegionID,options:u.map(C=>({value:C.ID,label:C.Name})),required:!0}),s.jsx(A,{label:"Zip Code",name:"ZIPCode",value:b.values.ZIPCode,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.ZIPCode,touched:b.touched.ZIPCode,required:!0}),s.jsx(A,{label:"Mobile Number",name:"PhoneNumber",value:b.values.PhoneNumber,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.PhoneNumber,touched:b.touched.PhoneNumber,required:!0}),s.jsx(A,{label:"Email",name:"EmailAddress",type:"email",value:b.values.EmailAddress,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.EmailAddress,touched:b.touched.EmailAddress,required:!0}),s.jsx(A,{label:"Website",name:"Website",value:b.values.Website,onChange:b.handleChange,onBlur:b.handleBlur,error:b.errors.Website,touched:b.touched.Website,required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>{b.resetForm(),y(!1)},className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b.isSubmitting,children:b.isSubmitting?"Saving...":"Save"})]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({Code:"LGU Code",Name:"LGU Name",TIN:"TIN",RDO:"RDO",StreetAddress:"Street Address",BarangayName:"Barangay",MunicipalityName:"Municipality",ProvinceName:"Province",RegionName:"Region",ZIPCode:"ZIP Code",PhoneNumber:"Phone Number",EmailAddress:"Email Address",Website:"Website"}).map(([C,N])=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:N}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d[C]})]},C))})]})]})]})},e1e=({formData:t,handleInputChange:e,handleSave:r,onCancel:n,isEdit:a,handleFileUpload:i,handleRemoveAttachment:o})=>s.jsxs("div",{className:" sm:p-4 space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"I. Applicant Session"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx(A,{label:"Applicant Type",name:"applicantType",type:"radio-group",options:[{value:"new",label:"New"},{value:"renewal",label:"Renewal"}],value:t.applicantType,onChange:l=>e("applicantType",l)}),s.jsx(A,{label:"Mode of Payment",name:"modeOfPayment",type:"radio-group",options:[{value:"annually",label:"Annually"},{value:"semi-annually",label:"Semi-Annually"},{value:"quarterly",label:"Quarterly"}],value:t.modeOfPayment,onChange:l=>e("modeOfPayment",l)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx(A,{label:"Date of Application",name:"dateOfApplication",type:"date",value:t.dateOfApplication,onChange:l=>e("dateOfApplication",l)}),s.jsx(A,{label:"DTI/SEC/CDA Registration No.",name:"dtiSecCdaRegistrationNo",type:"text",value:t.dtiSecCdaRegistrationNo,onChange:l=>e("dtiSecCdaRegistrationNo",l),placeholder:"Enter registration number"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx(A,{label:"TIN No.",name:"tinNo",type:"text",value:t.tinNo,onChange:l=>e("tinNo",l),placeholder:"Enter TIN number"}),s.jsx(A,{label:"DTI/SEC/CDA Registration Date",name:"dtiSecCdaRegistrationDate",type:"date",value:t.dtiSecCdaRegistrationDate,onChange:l=>e("dtiSecCdaRegistrationDate",l)})]}),s.jsx(A,{label:"Type of Business",name:"typeOfBusiness",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"cooperative",label:"Cooperative"}],value:t.typeOfBusiness,onChange:l=>e("typeOfBusiness",l)}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Amendment"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"From",name:"amendmentFrom",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentFrom,onChange:l=>e("amendmentFrom",l)}),s.jsx(A,{label:"To",name:"amendmentTo",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentTo,onChange:l=>e("amendmentTo",l)})]})]}),s.jsx(A,{label:"Are you enjoying tax incentive from any Government Entity?",name:"taxIncentiveFromGovEntity",type:"radio-group",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:t.taxIncentiveFromGovEntity,onChange:l=>e("taxIncentiveFromGovEntity",l),className:"mt-4"})]}),s.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Name of Taxpayer/Registrant"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsx(A,{label:"Last Name",name:"lastName",type:"text",value:t.lastName,onChange:l=>e("lastName",l),placeholder:"Enter last name"}),s.jsx(A,{label:"First Name",name:"firstName",type:"text",value:t.firstName,onChange:l=>e("firstName",l),placeholder:"Enter first name"}),s.jsx(A,{label:"Middle Name",name:"middleName",type:"text",value:t.middleName,onChange:l=>e("middleName",l),placeholder:"Enter middle name"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(A,{label:"Business Name",name:"businessName",type:"text",value:t.businessName,onChange:l=>e("businessName",l),placeholder:"Enter business name"}),s.jsx(A,{label:"Trade Name/Franchise",name:"tradeNameFranchise",type:"text",value:t.tradeNameFranchise,onChange:l=>e("tradeNameFranchise",l),placeholder:"Enter trade name or franchise"})]})]}),s.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"II. Other Information"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsx(A,{label:"Region",name:"businessRegion",type:"select",value:t.businessRegion,onChange:l=>e("businessRegion",l),options:[{value:"",label:"Select Region"},{value:"REGION II (CAGAYAN VALLEY)",label:"REGION II (CAGAYAN VALLEY)"},{value:"REGION I (ILOCOS REGION)",label:"REGION I (ILOCOS REGION)"},{value:"REGION III (CENTRAL LUZON)",label:"REGION III (CENTRAL LUZON)"},{value:"NCR",label:"NCR"}]}),s.jsx(A,{label:"Province",name:"businessProvince",type:"select",value:t.businessProvince,onChange:l=>e("businessProvince",l),options:[{value:"",label:"Select Province"},{value:"BATANES",label:"BATANES"},{value:"CAGAYAN",label:"CAGAYAN"},{value:"ISABELA",label:"ISABELA"},{value:"NUEVA VIZCAYA",label:"NUEVA VIZCAYA"}]}),s.jsx(A,{label:"Municipality",name:"businessMunicipality",type:"select",value:t.businessMunicipality,onChange:l=>e("businessMunicipality",l),options:[{value:"",label:"Select Municipality"},{value:"BASCO (Capital)",label:"BASCO (Capital)"},{value:"ITBAYAT",label:"ITBAYAT"},{value:"IVANA",label:"IVANA"},{value:"MAHATAO",label:"MAHATAO"}]}),s.jsx(A,{label:"Barangay",name:"businessBarangay",type:"select",value:t.businessBarangay,onChange:l=>e("businessBarangay",l),options:[{value:"",label:"Select Barangay"},{value:"San Antonio",label:"San Antonio"},{value:"Kayhuvokan",label:"Kayhuvokan"},{value:"Nakanmuan",label:"Nakanmuan"},{value:"Chanarian",label:"Chanarian"}]})]}),s.jsx(A,{label:"Street Address",name:"businessStreetAddress",type:"text",value:t.businessStreetAddress,onChange:l=>e("businessStreetAddress",l),placeholder:"Enter street address"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx(A,{label:"Postal Code",name:"postalCode",type:"text",value:t.postalCode,onChange:l=>e("postalCode",l),placeholder:"Enter postal code"}),s.jsx(A,{label:"Email Address",name:"emailAddress",type:"email",value:t.emailAddress,onChange:l=>e("emailAddress",l),placeholder:"Enter email address"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsx(A,{label:"Telephone No.",name:"telephoneNo",type:"text",value:t.telephoneNo,onChange:l=>e("telephoneNo",l),placeholder:"Enter telephone number"}),s.jsx(A,{label:"Mobile No.",name:"mobileNo",type:"text",value:t.mobileNo,onChange:l=>e("mobileNo",l),placeholder:"Enter mobile number"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Owner's Address"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsx(A,{label:"Street Address",name:"ownerStreetAddress",type:"text",value:t.ownerStreetAddress,onChange:l=>e("ownerStreetAddress",l),placeholder:"Street address"}),s.jsx(A,{label:"Barangay",name:"ownerBarangay",type:"text",value:t.ownerBarangay,onChange:l=>e("ownerBarangay",l),placeholder:"Barangay"}),s.jsx(A,{label:"Municipality",name:"ownerMunicipality",type:"text",value:t.ownerMunicipality,onChange:l=>e("ownerMunicipality",l),placeholder:"Municipality"}),s.jsx(A,{label:"Region",name:"ownerRegion",type:"text",value:t.ownerRegion,onChange:l=>e("ownerRegion",l),placeholder:"Region"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx(A,{label:"Postal Code",name:"ownerPostalCode",type:"text",value:t.ownerPostalCode,onChange:l=>e("ownerPostalCode",l),placeholder:"Enter postal code"}),s.jsx(A,{label:"Email Address",name:"ownerEmailAddress",type:"email",value:t.ownerEmailAddress,onChange:l=>e("ownerEmailAddress",l),placeholder:"Enter email address"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx(A,{label:"Telephone No.",name:"ownerTelephoneNo",type:"text",value:t.ownerTelephoneNo,onChange:l=>e("ownerTelephoneNo",l),placeholder:"Enter telephone number"}),s.jsx(A,{label:"Mobile No.",name:"ownerMobileNo",type:"text",value:t.ownerMobileNo,onChange:l=>e("ownerMobileNo",l),placeholder:"Enter mobile number"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"In Case of emergency, provide name of contact person"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsx(A,{label:"Contact Person",name:"emergencyContactPerson",type:"text",value:t.emergencyContactPerson,onChange:l=>e("emergencyContactPerson",l),placeholder:"Enter contact person name"}),s.jsx(A,{label:"Telephone/Mobile No.",name:"emergencyContactNumber",type:"text",value:t.emergencyContactNumber,onChange:l=>e("emergencyContactNumber",l),placeholder:"Enter contact number"}),s.jsx(A,{label:"Email Address",name:"emergencyContactEmail",type:"email",value:t.emergencyContactEmail,onChange:l=>e("emergencyContactEmail",l),placeholder:"Enter email address"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx(A,{label:"Business Area (in sqm)",name:"businessArea",type:"number",value:t.businessArea,onChange:l=>e("businessArea",l),placeholder:"Enter business area"}),s.jsx(A,{label:"Total Employees in Establishment",name:"totalEmployees",type:"number",value:t.totalEmployees,onChange:l=>e("totalEmployees",l),placeholder:"Enter total employees"}),s.jsx(A,{label:"No. of Employees Residing with LGLI",name:"employeesResidingWithLgli",type:"number",value:t.employeesResidingWithLgli,onChange:l=>e("employeesResidingWithLgli",l),placeholder:"Enter number"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Note: Fill up Only if Business Place is Rented"}),s.jsx(A,{label:"Lessor's Full Name",name:"lessorFullName",type:"text",value:t.lessorFullName,onChange:l=>e("lessorFullName",l),placeholder:"Enter lessor's full name"}),s.jsx(A,{label:"Lessor's Full Address",name:"lessorAddress",type:"text",value:t.lessorAddress,onChange:l=>e("lessorAddress",l),placeholder:"Enter lessor's address",className:"mt-4"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsx(A,{label:"Lessor's Telephone/Mobile No.",name:"lessorContactNumber",type:"text",value:t.lessorContactNumber,onChange:l=>e("lessorContactNumber",l),placeholder:"Enter contact number"}),s.jsx(A,{label:"Lessor's Email Address",name:"lessorEmail",type:"email",value:t.lessorEmail,onChange:l=>e("lessorEmail",l),placeholder:"Enter email address"})]}),s.jsx(A,{label:"Monthly Rental",name:"monthlyRental",type:"number",value:t.monthlyRental,onChange:l=>e("monthlyRental",l),placeholder:"Enter monthly rental amount",className:"mt-4"})]})]}),s.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"III. Business Activity"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(A,{label:"Line of Business",name:"lineOfBusiness",type:"text",value:t.lineOfBusiness,onChange:l=>e("lineOfBusiness",l),placeholder:"Enter line of business"}),s.jsx(A,{label:"No. Units",name:"numberOfUnits",type:"number",value:t.numberOfUnits,onChange:l=>e("numberOfUnits",l),placeholder:"Enter number of units"}),s.jsx(A,{label:"Capitalization",name:"capitalization",type:"number",value:t.capitalization,onChange:l=>e("capitalization",l),placeholder:"Enter capitalization"}),s.jsx(A,{label:"Gross Sales",name:"grossSales",type:"number",value:t.grossSales,onChange:l=>e("grossSales",l),placeholder:"Enter gross sales"})]})]}),s.jsxs("div",{className:"pb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"IV. Attachments"}),s.jsxs("div",{className:"flex items-center mb-4 gap-4 justify-between",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Add Attachment"}),s.jsx("input",{type:"file",onChange:i,className:"hidden",id:"fileUpload",multiple:!0}),s.jsx("button",{type:"button",onClick:()=>document.getElementById("fileUpload").click(),className:"btn btn-outline",children:"Add"})]}),s.jsx("div",{className:"space-y-2",children:t.attachments&&t.attachments.length>0?t.attachments.map((l,c)=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{className:"text-sm truncate",children:l.name}),s.jsx("button",{type:"button",onClick:()=>o(c),className:"text-red-500 hover:text-red-700",children:"Delete"})]},c)):s.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"button",onClick:r,className:"btn btn-primary",children:a?"Update Application":"Create Application"})]})]});function t1e(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),[a,i]=v.useState(""),o=[{id:1,applicantType:"Renewal",modeOfPayment:"Annually",applicationDate:"1/13/2025",dtiSecCdaRegistration:"21447756",dtiRegistrationDate:"1/13/2025",businessName:"ABC Store",ownerName:"John Smith",status:"Active"},{id:2,applicantType:"New",modeOfPayment:"Semi-Annually",applicationDate:"1/14/2025",dtiSecCdaRegistration:"21447757",dtiRegistrationDate:"1/14/2025",businessName:"XYZ Restaurant",ownerName:"Jane Doe",status:"Pending"}],[l,c]=v.useState({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),u=[{key:"applicantType",header:"Applicant Type",sortable:!0},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"applicationDate",header:"Application Date",sortable:!0},{key:"dtiSecCdaRegistration",header:"DTI/SEC/CDA Registration",sortable:!0},{key:"status",header:"Status",sortable:!0,render:g=>s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${g==="Active"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:g})}],d=[{icon:mn,title:"View",onClick:g=>h(g)},{icon:PE,title:"Edit",onClick:g=>p(g)},{icon:Vm,title:"Delete",onClick:g=>y(g)}],f=(g,j)=>{c(C=>({...C,[g]:j}))},m=()=>{n(null),c({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),e(!0)},h=g=>{n(g),e(!0)},p=g=>{n(g),e(!0)},y=g=>{window.confirm("Are you sure you want to delete this permit?")&&console.log("Deleting permit:",g)},x=()=>{console.log("Saving form data:",l),e(!1)},b=o.filter(g=>g.businessName.toLowerCase().includes(a.toLowerCase())||g.ownerName.toLowerCase().includes(a.toLowerCase())||g.dtiSecCdaRegistration.includes(a));return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Business Permit Applications"}),s.jsx("p",{children:"Manage business permit applications and registrations"})]}),s.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[s.jsx(ga,{className:"h-5 w-5 mr-2"}),"New Application"]})]})}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"text",value:a,onChange:g=>i(g.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Search applications..."})}),s.jsx(pe,{columns:u,data:b,actions:d,pagination:!0})]})}),s.jsx(te,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Business Application":"New Business Application",size:"xl",children:s.jsx(e1e,{formData:l,handleInputChange:f,handleSave:x,onCancel:()=>e(!1),isEdit:!!r})})]})}function r1e(){var j;const[t,e]=v.useState({payee:"",amount:"",date:new Date().toISOString().split("T")[0],bank:"",accountNumber:"",particulars:"",checkNumber:"",brstn:"",dv:""}),[r,n]=v.useState({type:"Double",bank:"BDO-MSL - BDO Makati",dv:"10420252213355100"}),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(""),d=[{value:"LBP",label:"Land Bank of the Philippines"},{value:"DBP",label:"Development Bank of the Philippines"},{value:"PNB",label:"Philippine National Bank"},{value:"BDO",label:"BDO-MSL - BDO Makati"}],f=[{id:1,name:"Leah, Bugarin, Marquez - 00000"},{id:2,name:"MElvin, Alvarez - 00001"},{id:3,name:"John, Doe - 00002"}],[m,h]=v.useState([{id:1,status:"Cheq...",linkId:"1112...",disbursementId:"8",bankType:"",signalType:"123",accountNumber:"Pedro",accountName:"456",checkNumber:"789",brstn:"1...",chP:"J.S.f.",pA:"1",vS:"6",sR:"1",aFP:"1"},{id:3,status:"Posted",linkId:"1102...",disbursementId:"1042025...",bankType:"2",signalType:"Dou...",accountNumber:"1231...",accountName:"YES",checkNumber:"0000...",brstn:"112",chP:"1...",pA:"M.I.E.",vS:"6",sR:"1",aFP:"1"},{id:4,status:"Posted",linkId:"1212...",disbursementId:"2",bankType:"Sin...",signalType:"3860...",accountNumber:"BLS IN...",accountName:"0002...",checkNumber:"010...",brstn:"2...",chP:"M.5.F.",pA:"1",vS:"2",sR:"",aFP:""},{id:5,status:"Posted",linkId:"1242...",disbursementId:"2",bankType:"Dou...",signalType:"3860...",accountNumber:"BLS IN...",accountName:"0002...",checkNumber:"010...",brstn:"2...",chP:"D.T.T.",pA:"1",vS:"2",sR:"",aFP:""},{id:6,status:"Posted",linkId:"2252...",disbursementId:"2252025...",bankType:"6",signalType:"Dou...",accountNumber:"3971...",accountName:"TESTI...",checkNumber:"0000...",brstn:"201",chP:"1...",pA:"C.9.N.",vS:"1",sR:"1",aFP:"2"},{id:7,status:"Posted",linkId:"2252...",disbursementId:"2252025...",bankType:"8",signalType:"Dou...",accountNumber:"1005...",accountName:"test",checkNumber:"2132...",brstn:"1231",chP:"2...",pA:"C.1.N.",vS:"4",sR:"1",aFP:"2"},{id:8,status:"Posted",linkId:"2262...",disbursementId:"2262025...",bankType:"5",signalType:"Dou...",accountNumber:"1202...",accountName:"PNB",checkNumber:"1221...",brstn:"121",chP:"2...",pA:"C.7.S.",vS:"1",sR:"1",aFP:"2"},{id:9,status:"Posted",linkId:"2262...",disbursementId:"2262025...",bankType:"6",signalType:"Dou...",accountNumber:"3123...",accountName:"wewe",checkNumber:"2312...",brstn:"121",chP:"1...",pA:"C.6.S.",vS:"2",sR:"3",aFP:"2"},{id:10,status:"Posted",linkId:"3042...",disbursementId:"3042025...",bankType:"6",signalType:"Dou...",accountNumber:"2132...",accountName:"cedric",checkNumber:"1231...",brstn:"213",chP:"0...",pA:"C.9.N.",vS:"6",sR:"1",aFP:"2"},{id:11,status:"Posted",linkId:"3052...",disbursementId:"3052025...",bankType:"5",signalType:"Dou...",accountNumber:"2131...",accountName:"test",checkNumber:"2132...",brstn:"1332",chP:"0...",pA:"C.1.O.",vS:"1",sR:"1",aFP:"2"}]),p=C=>{const{name:N,value:w}=C.target;e(S=>({...S,[N]:w}))},y=(C,N)=>{n(w=>({...w,[C]:N}))},x=()=>{window.print()},b=C=>C?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C)+" ONLY":"Enter Amount",g=m.filter(C=>Object.values(C).some(N=>N.toString().toLowerCase().includes(a.toLowerCase())));return s.jsxs("div",{className:"md:p-6 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Cheque Generator"}),s.jsx("p",{className:"text-gray-600",children:"Generate and print cheques"})]}),s.jsxs("button",{type:"button",onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center hover:bg-blue-700",children:[s.jsx(Lf,{className:"h-5 w-5 mr-2"}),"Print Cheque"]})]}),s.jsxs("div",{className:"grid grid-cols-1  xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Cheque Template"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bank:"}),s.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:r.bank})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"chequeType",value:"Single",checked:r.type==="Single",onChange:C=>y("type",C.target.value),className:"mr-2"}),"Single"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"chequeType",value:"Double",checked:r.type==="Double",onChange:C=>y("type",C.target.value),className:"mr-2"}),"Double"]})]})}),s.jsx("button",{className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300",children:"Choose Bank"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"DV:"}),s.jsx("input",{type:"text",value:r.dv,onChange:C=>y("dv",C.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Cheque Details"}),s.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:"Status: Posted"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Number:"}),s.jsx("input",{type:"text",name:"accountNumber",value:"1231312123",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Name:"}),s.jsx("input",{type:"text",value:"YES",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Check Number:"}),s.jsx("input",{type:"text",name:"checkNumber",value:"00007111",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"BRSTN:"}),s.jsx("input",{type:"text",name:"brstn",value:"112",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date:"}),s.jsx("input",{type:"date",name:"date",value:"2024-11-11",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Pay to the order of:"}),s.jsx("input",{type:"text",name:"payee",value:"MElvin Alvarez",onChange:p,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount:"}),s.jsx("input",{type:"number",name:"amount",value:"18600.00",onChange:p,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount in Words:"}),s.jsx("input",{type:"text",value:"EIGHTEEN THOUSAND SIX HUNDRED PESOS",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Signatories"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("button",{className:"w-full bg-blue-100 text-blue-800 py-2 px-4 rounded hover:bg-blue-200",children:"Choose number 1"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Signatory 1:"}),s.jsxs("select",{value:o,onChange:C=>l(C.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"Select signatory"}),f.map(C=>s.jsx("option",{value:C.name,children:C.name},C.id))]})]})]}),s.jsxs("div",{children:[s.jsx("button",{className:"w-full bg-blue-100 text-blue-800 py-2 px-4 rounded hover:bg-blue-200",children:"Choose number 2"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Signatory 2:"}),s.jsxs("select",{value:c,onChange:C=>u(C.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"Select signatory"}),f.map(C=>s.jsx("option",{value:C.name,children:C.name},C.id))]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-700",children:"Additional Info"}),s.jsx("textarea",{placeholder:"Additional information...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"})]})]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Check List"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:C=>i(C.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-xs border-collapse border border-gray-300",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"ID"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Status"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Link ID"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Disbursement ID"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Bank Type"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Signal Type"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Account Number"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Account Name"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Check Number"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"BRSTN"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Ch P"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"P A"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"V S"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"S R"}),s.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"A FP"})]})}),s.jsx("tbody",{children:g.map((C,N)=>s.jsxs("tr",{className:N%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"border border-gray-300 p-2",children:C.id}),s.jsx("td",{className:"border border-gray-300 p-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${C.status==="Posted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:C.status})}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.linkId}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.disbursementId}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.bankType}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.signalType}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.accountNumber}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.accountName}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.checkNumber}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.brstn}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.chP}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.pA}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.vS}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.sR}),s.jsx("td",{className:"border border-gray-300 p-2",children:C.aFP})]},C.id))})]})})]}),s.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow border",children:[s.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cheque Preview"}),s.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),s.jsx("p",{className:"font-medium",children:((j=d.find(C=>C.value===t.bank))==null?void 0:j.label)||"BDO-MSL - BDO Makati"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),s.jsx("p",{className:"font-medium",children:t.date?new Date(t.date).toLocaleDateString():new Date().toLocaleDateString()})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),s.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:t.payee||"MElvin Alvarez"})]}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),s.jsx("p",{className:"font-medium",children:t.amount?b(t.amount):"EIGHTEEN THOUSAND SIX HUNDRED PESOS ONLY"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),s.jsx("p",{className:"font-medium text-lg",children:t.amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(t.amount):"18,600.00"})]})]}),s.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Authorized Signature"})})})]})})]})]})}function n1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:i}){const o=v.useRef(null),l=le({ChartofAccountsID:D().required("Chart of Accounts is required"),CutOffDate:D().required("Cut Off Date is required"),FundID:D().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=o.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&i(d),f(!1),o.current=null};return s.jsx(Be,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:y,setFieldValue:x})=>s.jsxs(We,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"form-label",children:["Chart of Accounts",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:e,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsID",value:e.find(b=>String(b.value)===String(d.ChartofAccountsID))||null,onChange:b=>x("ChartofAccountsID",(b==null?void 0:b.value)||""),onBlur:p}),f.ChartofAccountsID&&m.ChartofAccountsID&&s.jsx("p",{className:"mt-1 text-sm text-error-600",children:f.ChartofAccountsID})]}),s.jsx(A,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:p,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),s.jsx(A,{type:"select",label:"Fund",name:"FundID",options:t.map(b=>({value:b.ID,label:b.Name})),value:d.FundID,onChange:h,onBlur:p,error:f.FundID,touched:m.FundID,required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>o.current="view",children:"View"}),s.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Ledger"}),s.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>o.current="export",children:"Export to Excel"})]})]})})}const a1e="https://staging-engine.testthelink.online",s1e={generalLedgers:[],isLoading:!1,error:null},Px=L("generalLedger/fetchGeneralLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${a1e}/generalLedger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general ledgers:",r),e.rejectWithValue(r.message)}}),A1=L("generalLedger/exportGeneralLedgers",async t=>!0),$8=me({name:"generalLedger",initialState:s1e,reducers:{resetGeneralLedgerState:t=>{t.generalLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Px.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Px.fulfilled,(e,r)=>{e.isLoading=!1,e.generalLedgers=r.payload}).addCase(Px.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(A1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(A1.fulfilled,e=>{e.isLoading=!1}).addCase(A1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralLedgerState:i1e}=$8.actions,o1e=$8.reducer;function l1e(){const t="https://staging-engine.testthelink.online",e=ce(),{generalLedgers:r,isLoading:n,error:a}=W(f=>f.generalLedger),{funds:i}=W(f=>f.funds),{accounts:o}=W(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e(i1e()),e(Wn()),e(yn())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"ap_ar",header:"AP AR",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"invoice_number",header:"Invoice Number",sortable:!0},{key:"account_code_display",header:"Account Code Display",sortable:!0},{key:"account_name_display",header:"Account Name Display",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/generalLedger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:f.startDate,endDate:f.endDate,fundID:f.fundID})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),p=m.headers.get("Content-Disposition");let y="General_Ledger.xlsx";p&&p.includes("filename=")&&(y=p.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(h),b=document.createElement("a");b.href=x,b.download=y,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(x)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export general ledger")}},d=f=>{e(Px(f))};return s.jsxs("div",{children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{children:"General Ledger"}),s.jsx("p",{children:"Generate general ledger reports."})]}),s.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:s.jsx(n1e,{funds:i,accountOptions:o.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&s.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:s.jsx("p",{className:"text-error-700",children:a})}),s.jsx("div",{className:"mt-6",children:s.jsx(pe,{columns:c,data:r,loading:n,pagination:!0})})]})}function c1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:i}){const o=v.useRef(null),l=le({ChartofAccountsID:D().required("Chart of Accounts is required"),CutOffDate:D().required("Cut Off Date is required"),FundID:D().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=o.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&i(d),f(!1),o.current=null};return s.jsx(Be,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:y,setFieldValue:x})=>s.jsxs(We,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"form-label",children:["Chart of Accounts",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wr,{options:e,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsID",value:e.find(b=>String(b.value)===String(d.ChartofAccountsID))||null,onChange:b=>x("ChartofAccountsID",(b==null?void 0:b.value)||""),onBlur:p}),f.ChartofAccountsID&&m.ChartofAccountsID&&s.jsx("p",{className:"mt-1 text-sm text-error-600",children:f.ChartofAccountsID})]}),s.jsx(A,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:p,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),s.jsx(A,{type:"select",label:"Fund",name:"FundID",options:t.map(b=>({value:b.ID,label:b.Name})),value:d.FundID,onChange:h,onBlur:p,error:f.FundID,touched:m.FundID,required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>o.current="view",children:"View"}),s.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Ledger"}),s.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>o.current="export",children:"Export to Excel"})]})]})})}const u1e="https://staging-engine.testthelink.online",d1e={subsidiaryLedgers:[],isLoading:!1,error:null},Dx=L("subsidiaryLedger/fetchSubsidiaryLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${u1e}/subsidiaryLeadger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching subsidiary ledger:",r),e.rejectWithValue(r.message)}}),T1=L("subsidiaryLedger/exportSubsidiaryLedgers",async t=>!0),R8=me({name:"subsidiaryLedger",initialState:d1e,reducers:{resetSubsidiaryLedgerState:t=>{t.subsidiaryLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Dx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dx.fulfilled,(e,r)=>{e.isLoading=!1,e.subsidiaryLedgers=r.payload}).addCase(Dx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(T1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(T1.fulfilled,e=>{e.isLoading=!1}).addCase(T1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetSubsidiaryLedgerState:f1e}=R8.actions,m1e=R8.reducer;function h1e(){const t="https://staging-engine.testthelink.online",e=ce(),{subsidiaryLedgers:r,isLoading:n,error:a}=W(f=>f.subsidiaryLedger),{funds:i}=W(f=>f.funds),{accounts:o}=W(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e(f1e()),e(Wn()),e(yn())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/subsidiaryLeadger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:f.startDate,endDate:f.endDate,fundID:f.fundID})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),p=m.headers.get("Content-Disposition");let y="Subsidiary_Ledger.xlsx";p&&p.includes("filename=")&&(y=p.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(h),b=document.createElement("a");b.href=x,b.download=y,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(x)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export subsidiary ledger")}},d=f=>{e(Dx(f))};return s.jsxs("div",{children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{children:"Subsidiary Ledger"}),s.jsx("p",{children:"Generate subsidiary ledger reports."})]}),s.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:s.jsx(c1e,{funds:i,accountOptions:o.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&s.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:s.jsx("p",{className:"text-error-700",children:a})}),s.jsx("div",{className:"mt-6",children:s.jsx(pe,{columns:c,data:r,loading:n,pagination:!0})})]})}function p1e({onView:t,onGenerateJournal:e,onExportExcel:r}){const n=v.useRef(null),a=le({year:D().required("Year is required")}),i={year:new Date().getFullYear()-1},o=(l,{setSubmitting:c})=>{const u=n.current;u==="view"?t(l):u==="generate"?e(l):u==="export"&&r(l),c(!1),n.current=null};return s.jsx(Be,{initialValues:i,validationSchema:a,onSubmit:o,validateOnMount:!0,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m,setFieldValue:h})=>s.jsxs(We,{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:s.jsx(A,{label:"Year",name:"year",type:"number",value:l.year,onChange:d,onBlur:f,error:c.year,touched:u.year,required:!0})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,onClick:()=>n.current="view",children:"View"}),s.jsx("button",{type:"button",className:"btn btn-secondary",disabled:m,children:"Generate FSP"}),s.jsx("button",{type:"submit",className:"btn btn-outline",disabled:m,onClick:()=>n.current="export",children:"Export to Excel"})]})]})})}const g1e="https://staging-engine.testthelink.online",y1e={financialStatements:[],isLoading:!1,error:null},Ix=L("financialStatement/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${g1e}/financialStatementsReports/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching financial statements:",r),e.rejectWithValue(r.message)}}),k1=L("financialStatement/exportFinancialStatements",async t=>!0),M8=me({name:"financialStatement",initialState:y1e,reducers:{resetFinancialStatementState:t=>{t.financialStatements=[],t.error=null}},extraReducers:t=>{t.addCase(Ix.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ix.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload}).addCase(Ix.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(k1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(k1.fulfilled,e=>{e.isLoading=!1}).addCase(k1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetFinancialStatementState:x1e}=M8.actions,b1e=M8.reducer;function v1e(){const t="https://staging-engine.testthelink.online",e=ce(),{financialStatements:r,isLoading:n,error:a}=W(u=>u.financialStatementsReports);v.useEffect(()=>{e(x1e())},[e]);const i=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),o=[{key:"Type",header:"Type",sortable:!0},{key:"Term",header:"Term",sortable:!0},{key:"SubType",header:"Sub Type",sortable:!0},{key:"Notes",header:"Notes",sortable:!0},{key:"Values",header:"Values",sortable:!0,render:u=>i(u),className:"text-right"},{key:"Comparison",header:"Comparison",sortable:!0,render:u=>i(u),className:"text-right"}],l=async u=>{try{const d=await fetch(`${t}/financialStatementsReports/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({year:u.year})});if(!d.ok)throw new Error("Server response was not ok");const f=await d.blob(),m=d.headers.get("Content-Disposition");let h="Consolidated_Statement_of_Financial_Position.xlsx";m&&m.includes("filename=")&&(h=m.split("filename=")[1].replace(/['"]/g,""));const p=window.URL.createObjectURL(f),y=document.createElement("a");y.href=p,y.download=h,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(p)}catch(d){console.error("Export failed:",d),alert(d.message||"Failed to export")}},c=u=>{e(Ix(u))};return s.jsxs("div",{children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{children:"Consolidated Comparison"}),s.jsx("p",{children:"Generate reports."})]}),s.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:s.jsx(p1e,{onExportExcel:l,onView:c,onClose:()=>{}})}),a&&s.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:s.jsx("p",{className:"text-error-700",children:a})}),s.jsx("div",{className:"mt-6",children:s.jsx(pe,{columns:o,data:r,loading:n,pagination:!0})})]})}function j1e(){const[t,e]=v.useState({year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),reportType:"summary",fund:""}),r=[{value:"General Fund",label:"General Fund"},{value:"Special Education Fund",label:"Special Education Fund"},{value:"Trust Fund",label:"Trust Fund"}],n=[{value:"summary",label:"Budget Summary"},{value:"saaob",label:"Statement of Appropriations, Allotments and Obligations"},{value:"scba",label:"Statement of Comparison of Budget and Actual Amounts"}],a=c=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(c),i=c=>new Intl.NumberFormat("en-PH",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(c),o=[{id:1,accountCode:"5-01-01-010",accountTitle:"Personal Services - Regular",appropriation:5e6,allotment:45e5,obligation:35e5,balance:1e6,utilizationRate:.78},{id:2,accountCode:"5-02-01-010",accountTitle:"Traveling Expenses - Local",appropriation:1e6,allotment:8e5,obligation:6e5,balance:2e5,utilizationRate:.75}],l=[{key:"accountCode",header:"Account Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"accountTitle",header:"Account Title",sortable:!0},{key:"appropriation",header:"Appropriation",sortable:!0,render:c=>a(c),className:"text-right"},{key:"allotment",header:"Allotment",sortable:!0,render:c=>a(c),className:"text-right"},{key:"obligation",header:"Obligation",sortable:!0,render:c=>a(c),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:c=>a(c),className:"text-right"},{key:"utilizationRate",header:"Utilization",sortable:!0,render:c=>i(c),className:"text-right"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Budget Reports"}),s.jsx("p",{children:"View and generate budget utilization reports"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[s.jsx(X4,{className:"h-5 w-5 mr-2"}),"Export"]}),s.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[s.jsx(Bi,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),s.jsxs("div",{className:"mt-4 card p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(A,{label:"Year",name:"year",type:"number",value:t.year,onChange:c=>e({...t,year:c.target.value}),min:"2000",max:"2100"}),s.jsx(A,{label:"Month",name:"month",type:"select",value:t.month,onChange:c=>e({...t,month:c.target.value}),options:[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}]}),s.jsx(A,{label:"Report Type",name:"reportType",type:"select",value:t.reportType,onChange:c=>e({...t,reportType:c.target.value}),options:n}),s.jsx(A,{label:"Fund",name:"fund",type:"select",value:t.fund,onChange:c=>e({...t,fund:c.target.value}),options:r})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{},children:"Generate Report"})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"text-center space-y-2 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Local Government Unit"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Statement of Appropriations, Allotments and Obligations"}),s.jsxs("p",{className:"text-sm text-neutral-600",children:["For the Month Ended ",new Date(t.year,t.month-1).toLocaleDateString("en-PH",{month:"long",year:"numeric"})]})]}),s.jsx(pe,{columns:l,data:o,pagination:!0}),s.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-600",children:"Total Appropriation"}),s.jsx("p",{className:"text-lg font-semibold",children:a(o.reduce((c,u)=>c+u.appropriation,0))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-600",children:"Total Allotment"}),s.jsx("p",{className:"text-lg font-semibold",children:a(o.reduce((c,u)=>c+u.allotment,0))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-600",children:"Total Obligation"}),s.jsx("p",{className:"text-lg font-semibold",children:a(o.reduce((c,u)=>c+u.obligation,0))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-600",children:"Overall Utilization"}),s.jsx("p",{className:"text-lg font-semibold",children:i(o.reduce((c,u)=>c+u.obligation,0)/o.reduce((c,u)=>c+u.appropriation,0))})]})]})})]})]})}function w1e(){const[t,e]=v.useState({startDate:"2024-01-01",endDate:"2024-01-31",year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),formType:"2307",payeeType:"vendor",vendor:"1"}),r=[{value:"1",label:"ABC Office Supplies"},{value:"2",label:"XYZ Construction"},{value:"3",label:"Tech Solutions Inc."},{value:"4",label:"Global Logistics"},{value:"5",label:"Premium Services Co."}],n=[{value:"101",label:"Juan Dela Cruz"},{value:"102",label:"Maria Santos"},{value:"103",label:"Pedro Reyes"},{value:"104",label:"Ana Lopez"},{value:"105",label:"Luis Garcia"}],a=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),i=[{id:1,date:"2024-01-15",reference:"DV-2024-01-0015",description:"Payment for office supplies",grossAmount:5e4,taxRate:.02,taxWithheld:1e3,netAmount:49e3},{id:2,date:"2024-01-20",reference:"DV-2024-01-0023",description:"Payment for IT equipment",grossAmount:1e5,taxRate:.02,taxWithheld:2e3,netAmount:98e3},{id:3,date:"2024-01-25",reference:"DV-2024-01-0032",description:"Payment for maintenance services",grossAmount:75e3,taxRate:.02,taxWithheld:1500,netAmount:73500},{id:4,date:"2024-01-28",reference:"DV-2024-01-0041",description:"Payment for office furniture",grossAmount:12e4,taxRate:.02,taxWithheld:2400,netAmount:117600}],o=[{key:"date",header:"Date",sortable:!0,render:u=>new Date(u).toLocaleDateString()},{key:"reference",header:"Reference",sortable:!0,className:"font-medium text-neutral-900"},{key:"description",header:"Description",sortable:!0},{key:"grossAmount",header:"Gross Amount",sortable:!0,render:u=>a(u),className:"text-right"},{key:"taxRate",header:"Tax Rate",sortable:!0,render:u=>`${(u*100).toFixed(2)}%`,className:"text-right"},{key:"taxWithheld",header:"Tax Withheld",sortable:!0,render:u=>a(u),className:"text-right"},{key:"netAmount",header:"Net Amount",sortable:!0,render:u=>a(u),className:"text-right"}],c=(()=>{if(t.payeeType==="employee")return{tin:"987-654-321-000",name:(n.find(d=>d.value===t.vendor)||n[0]).label,address:"Employee Address, City",zipCode:"1000"};{const u=r.find(d=>d.value===t.vendor)||r[0];return{tin:"123-456-789-000",name:u.label,address:`${u.label} Street, Business District`,zipCode:"2000"}}})();return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-[200px]",children:[s.jsx("h1",{className:"text-lg font-semibold",children:"BIR Reports"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Generate BIR forms and reports"})]}),s.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap w-full sm:w-auto gap-2 sm:justify-end",children:[s.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[s.jsx(X4,{className:"h-5 w-5 mr-2"}),"Export"]}),s.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[s.jsx(Bi,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),s.jsxs("div",{className:"mt-4 card p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(A,{label:"From Date",name:"startDate",type:"date",value:t.startDate,onChange:u=>e({...t,startDate:u.target.value})}),s.jsx(A,{label:"To Date",name:"endDate",type:"date",value:t.endDate,onChange:u=>e({...t,endDate:u.target.value})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payee Type"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"employee",checked:t.payeeType==="employee",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),s.jsx("span",{className:"ml-2",children:"Employee"})]}),s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"vendor",checked:t.payeeType==="vendor",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),s.jsx("span",{className:"ml-2",children:"Vendor"})]})]})]}),s.jsx(A,{label:t.payeeType==="employee"?"Employee":"Vendor",name:"vendor",type:"select",value:t.vendor,onChange:u=>e({...t,vendor:u.target.value}),options:t.payeeType==="employee"?n:r})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Generating report with filters:",t)},children:"Generate Report"})})]}),t.formType==="2307"&&s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"text-center space-y-2 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Certificate of Creditable Tax Withheld at Source"}),s.jsx("h3",{className:"text-lg font-semibold",children:"BIR Form No. 2307"}),s.jsxs("p",{className:"text-sm text-neutral-600",children:["For the period from"," ",new Date(t.startDate).toLocaleDateString()," to"," ",new Date(t.endDate).toLocaleDateString()]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"card p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Payor Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-neutral-500",children:"TIN:"})," 000-123-456-789"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-neutral-500",children:"Name:"})," Local Government Unit of Sample City"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-neutral-500",children:"Address:"})," City Hall Building, Main Street"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," 4100"]})]})]}),s.jsxs("div",{className:"card p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Payee Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-neutral-500",children:"TIN:"})," ",c.tin]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-neutral-500",children:"Name:"})," ",c.name]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-neutral-500",children:"Address:"})," ",c.address]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," ",c.zipCode]})]})]})]}),s.jsx(pe,{columns:o,data:i,pagination:!0}),s.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-600",children:"Total Gross Amount"}),s.jsx("p",{className:"text-lg font-semibold",children:a(i.reduce((u,d)=>u+d.grossAmount,0))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-600",children:"Total Tax Withheld"}),s.jsx("p",{className:"text-lg font-semibold",children:a(i.reduce((u,d)=>u+d.taxWithheld,0))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-600",children:"Total Net Amount"}),s.jsx("p",{className:"text-lg font-semibold",children:a(i.reduce((u,d)=>u+d.netAmount,0))})]})]})}),s.jsxs("div",{className:"mt-6 card p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Certification"}),s.jsx("p",{className:"text-sm mb-4",children:"I/We certify under penalty of perjury that this certificate has been made in good faith, verified by me/us, and to the best of my/our knowledge and belief, is true and correct."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-500",children:"Prepared by:"}),s.jsx("p",{className:"font-medium",children:"Juan Dela Cruz"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Accounting Staff"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-500",children:"Certified correct by:"}),s.jsx("p",{className:"font-medium",children:"Maria Santos"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Treasurer"})]})]})]})]})]})}const dR="https://staging-engine.testthelink.online",E1={view:!1,add:!1,edit:!1,delete:!1,print:!1,mayor:!1};function N1e(){const t=ce(),{userroles:e,isLoading:r,error:n}=W(h=>h.userroles),a=W(h=>h.modules.modules),[i,o]=v.useState(null),[l,c]=v.useState({});v.useEffect(()=>{t(oc()),t(zd())},[t]),v.useEffect(()=>{e.length>0&&!i&&o(e[0])},[e]),v.useEffect(()=>{if(!(i!=null&&i.ID)||a.length===0)return;(async()=>{try{const p=await fetch(`${dR}/moduleAccess/${i.ID}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),y=await p.json();if(!p.ok)throw new Error(y.message||"Failed to fetch access");const x={};y.forEach(g=>{x[g.ModuleID]={id:g.ID,view:!!g.View,add:!!g.Add,edit:!!g.Edit,delete:!!g.Delete,print:!!g.Print,mayor:!!g.Mayor}});const b={};a.forEach(g=>{b[g.ID]=x[g.ID]||{...E1}}),c(b)}catch(p){console.error("Error loading module access:",p.message)}})()},[i,a]);const u=(h,p)=>{c(y=>({...y,[h]:{...y[h],[p]:!y[h][p]}}))},d=h=>{const p={};a.forEach(y=>{p[y.ID]={...l[y.ID]||E1,view:h,add:h,edit:h,delete:h,print:h,mayor:h}}),c(p)},f=(h,p)=>{const y={...l};a.forEach(x=>{y[x.ID]={...y[x.ID]||E1,[h]:p}}),c(y)},m=async()=>{if(!(i!=null&&i.ID))return;const h=Object.entries(l).map(([p,y])=>({id:y.id||null,ModuleID:parseInt(p),View:y.view?1:0,Add:y.add?1:0,Edit:y.edit?1:0,Delete:y.delete?1:0,Print:y.print?1:0,Mayor:y.mayor?1:0}));try{const p=await fetch(`${dR}/moduleAccess`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({UserAccessID:i.ID,modules:h})});if(!p.ok){const y=await p.json();throw new Error(y.message||"Failed to save permissions")}alert("Permissions saved successfully!")}catch(p){console.error("Save failed:",p.message),alert("Error saving permissions.")}};return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("header",{className:"page-header space-y-2",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Access"}),s.jsx("p",{className:"text-gray-600",children:"Manage user roles and module access."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsx("input",{type:"text",placeholder:"Search role...",className:"border px-3 py-2 rounded-md w-full sm:w-60"}),s.jsx("button",{className:"btn btn-primary flex items-center",onClick:m,children:"Save"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[s.jsxs("div",{className:"lg:col-span-3 bg-white border rounded shadow",children:[s.jsx("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:"Roles"}),r?s.jsx("div",{className:"p-4 text-center",children:"Loading roles..."}):n?s.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No roles found."}):s.jsx("ul",{children:e.map(h=>s.jsx("li",{onClick:()=>o(h),className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${(i==null?void 0:i.ID)===h.ID?"bg-blue-200 font-semibold":""}`,children:h.Description},h.ID))})]}),s.jsxs("div",{className:"lg:col-span-9 bg-white border rounded shadow overflow-x-auto",children:[s.jsxs("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:["Permissions for: ",(i==null?void 0:i.Description)||""]}),s.jsxs("table",{className:"min-w-[700px] w-full text-sm text-left",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2",children:"Module"}),["view","add","edit","delete","print","mayor"].map(h=>s.jsx("th",{className:"px-2 capitalize text-center",children:s.jsx("div",{className:"flex flex-col items-center",children:s.jsx("span",{children:h})})},h))]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"px-4 py-1 font-medium",children:"Select All"}),["view","add","edit","delete","print","mayor"].map(h=>s.jsx("td",{className:"text-center",children:s.jsx("input",{type:"checkbox",checked:a.every(p=>{var y;return(y=l[p.ID])==null?void 0:y[h]}),onChange:p=>f(h,p.target.checked),className:"accent-blue-600"})},`select-all-${h}`))]}),a.map(h=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-1",children:h.Description}),["view","add","edit","delete","print","mayor"].map(p=>{var y;return s.jsx("td",{className:"text-center",children:s.jsx("input",{type:"checkbox",checked:((y=l[h.ID])==null?void 0:y[p])||!1,onChange:()=>u(h.ID,p),className:"accent-blue-600"})},p)})]},h.ID))]})]}),s.jsxs("div",{className:"p-2 border-t space-x-2",children:[s.jsx("button",{onClick:()=>d(!0),className:"btn btn-outline",children:"Select All"}),s.jsx("button",{onClick:()=>d(!1),className:"btn btn-outline",children:"Deselect All"})]})]})]})]})}const C1e=()=>{const t=J0(),[e,r]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""});ce();const[n,a]=v.useState({current:!1,new:!1,confirm:!1}),i=u=>{r(d=>({...d,[u.target.name]:u.target.value}))},o=u=>{a(d=>({...d,[u]:!d[u]}))},l=async u=>{if(u.preventDefault(),!e.currentPassword||!e.newPassword||!e.confirmPassword){Wl.error("Please fill out all fields");return}if(e.newPassword!==e.confirmPassword){Wl.error("New passwords do not match");return}try{await new Promise(d=>setTimeout(d,1e3)),Wl.success("Password updated successfully!"),t("/dashboard")}catch(d){Wl.error(d.message)}finally{r({currentPassword:"",newPassword:"",confirmPassword:""})}},c=(u,d,f)=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:n[f]?"text":"password",name:d,value:e[d],onChange:i,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 pr-10"}),s.jsx("button",{type:"button",onClick:()=>o(f),className:"absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-gray-700",children:n[f]?s.jsx(tfe,{size:18}):s.jsx(mn,{size:18})})]})]});return s.jsxs("div",{className:"p-6 max-w-3xl mx-auto animate-fade-in bg-white rounded-lg shadow-sm border border-gray-100",children:[s.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition",children:[s.jsx(Yde,{className:"h-5 w-5 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),s.jsx("h1",{className:"text-3xl font-bold text-blue-800 mb-4",children:"Change Password"}),s.jsxs("form",{className:"space-y-4",onSubmit:l,children:[c("Current Password","currentPassword","current"),c("New Password","newPassword","new"),c("Confirm New Password","confirmPassword","confirm"),s.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Update Password"})]})]})},S1e={approved:"bg-green-100 text-green-700",requested:"bg-blue-100 text-blue-700",pending:"bg-yellow-100 text-yellow-700",rejected:"bg-red-100 text-red-700"},A1e=({documents:t})=>s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white rounded shadow",children:[s.jsx("thead",{className:"bg-gray-100 text-left text-sm font-medium text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3",children:"Status"}),s.jsx("th",{className:"px-4 py-3",children:"AP AR"}),s.jsx("th",{className:"px-4 py-3",children:"Invoice Date"}),s.jsx("th",{className:"px-4 py-3",children:"Invoice #"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Total"}),s.jsx("th",{className:"px-4 py-3",children:"Funds"})]})}),s.jsx("tbody",{className:"text-sm text-gray-700 divide-y divide-gray-200",children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"flex gap-2 flex-wrap",children:e.status.map(r=>s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S1e[r]}`,children:r},r))})}),s.jsx("td",{className:"px-4 py-3",children:e.apar}),s.jsx("td",{className:"px-4 py-3",children:e.invoiceDate}),s.jsx("td",{className:"px-4 py-3",children:e.invoiceNumber}),s.jsx("td",{className:"px-4 py-3 text-right",children:e.total}),s.jsx("td",{className:"px-4 py-3",children:e.funds})]},e.id))})]})}),Yu=[{id:1,status:["approved"],apar:"Disbursement Voucher",invoiceDate:"2024-06-01",invoiceNumber:"INV-001",total:"$15,000.00",funds:"General Fund",owner:"Me"},{id:2,status:["requested","pending"],apar:"Obligation Request",invoiceDate:"2024-06-03",invoiceNumber:"INV-002",total:"$25,000.00",funds:"Special Fund",owner:"Department"},{id:3,status:["rejected"],apar:"Disbursement Voucher",invoiceDate:"2024-06-05",invoiceNumber:"INV-003",total:"$5,000.00",funds:"General Fund",owner:"All"}],T1e=()=>{const[t,e]=v.useState("Me"),r=Yu.filter(a=>t==="All"?!0:a.owner===t),n={total:Yu.length,approved:Yu.filter(a=>a.status.includes("approved")).length,requested:Yu.filter(a=>a.status.includes("requested")).length,rejected:Yu.filter(a=>a.status.includes("rejected")).length};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Pue,{className:"w-20 h-20 text-gray-400"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome, John Doe"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Position: Accountant"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Department: Finance"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(nc,{to:"/budget-dashboard",children:s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Budget"})}),s.jsx(nc,{to:"/disbursement-dashboard",children:s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Disbursement"})}),s.jsx(nc,{to:"/collection-dashboard",children:s.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Collection"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Qh,{title:"Total Documents",value:n.total,icon:Tue}),s.jsx(Qh,{title:"Approved",value:n.approved,icon:bue}),s.jsx(Qh,{title:"Requested",value:n.requested,icon:Sue}),s.jsx(Qh,{title:"Rejected",value:n.rejected,icon:Iue})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner:"}),["Me","Department","All"].map(a=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"owner",value:a,checked:t===a,onChange:()=>e(a),className:"text-blue-600"}),s.jsx("span",{className:"text-sm",children:a})]},a))]}),s.jsx(A1e,{documents:r})]})},Qh=({title:t,value:e,icon:r})=>s.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:s.jsx(r,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm text-gray-500",children:t}),s.jsx("p",{className:"text-xl font-semibold text-gray-800",children:e})]})]}),k1e="https://staging-engine.testthelink.online",E1e={chart1:{title:"Budget vs Charges",data:[{name:"Budget Amount",value:5e5},{name:"Charges",value:3e5}]},chart2:{title:"PreEncumbrance, Encumbrance & Charges",data:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:15e4},{name:"Charges",value:5e4}]},table:[{label:"Accounts Payable (AP)",total:25e4},{label:"Accounts Receivable (AR)",total:18e4}]},O1=L("budgetDashboard/fetchBudgetData",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${k1e}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),O1e=me({name:"budgetDashboard",initialState:{budgetData:{chart1:null,chart2:null,table:[]},isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(O1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(O1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgetData={chart1:r.payload.chart1,chart2:r.payload.chart2,table:Array.isArray(r.payload.table)?r.payload.table:[]}}).addCase(O1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to fetch budget data",console.warn("Failed to fetch budget data, using mock data.",e.error),e.budgetData=E1e})}}),P1e=O1e.reducer;var D1e=Array.isArray,an=D1e,I1e=typeof ih=="object"&&ih&&ih.Object===Object&&ih,L8=I1e,_1e=L8,$1e=typeof self=="object"&&self&&self.Object===Object&&self,R1e=_1e||$1e||Function("return this")(),Ua=R1e,M1e=Ua,L1e=M1e.Symbol,Xm=L1e,fR=Xm,F8=Object.prototype,F1e=F8.hasOwnProperty,B1e=F8.toString,Ku=fR?fR.toStringTag:void 0;function q1e(t){var e=F1e.call(t,Ku),r=t[Ku];try{t[Ku]=void 0;var n=!0}catch{}var a=B1e.call(t);return n&&(e?t[Ku]=r:delete t[Ku]),a}var V1e=q1e,z1e=Object.prototype,U1e=z1e.toString;function W1e(t){return U1e.call(t)}var H1e=W1e,mR=Xm,G1e=V1e,Y1e=H1e,K1e="[object Null]",J1e="[object Undefined]",hR=mR?mR.toStringTag:void 0;function X1e(t){return t==null?t===void 0?J1e:K1e:hR&&hR in Object(t)?G1e(t):Y1e(t)}var Ls=X1e;function Z1e(t){return t!=null&&typeof t=="object"}var Fs=Z1e,Q1e=Ls,eCe=Fs,tCe="[object Symbol]";function rCe(t){return typeof t=="symbol"||eCe(t)&&Q1e(t)==tCe}var hu=rCe,nCe=an,aCe=hu,sCe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iCe=/^\w*$/;function oCe(t,e){if(nCe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||aCe(t)?!0:iCe.test(t)||!sCe.test(t)||e!=null&&t in Object(e)}var KE=oCe;function lCe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Wi=lCe;const pu=rt(Wi);var cCe=Ls,uCe=Wi,dCe="[object AsyncFunction]",fCe="[object Function]",mCe="[object GeneratorFunction]",hCe="[object Proxy]";function pCe(t){if(!uCe(t))return!1;var e=cCe(t);return e==fCe||e==mCe||e==dCe||e==hCe}var JE=pCe;const Fe=rt(JE);var gCe=Ua,yCe=gCe["__core-js_shared__"],xCe=yCe,P1=xCe,pR=function(){var t=/[^.]+$/.exec(P1&&P1.keys&&P1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function bCe(t){return!!pR&&pR in t}var vCe=bCe,jCe=Function.prototype,wCe=jCe.toString;function NCe(t){if(t!=null){try{return wCe.call(t)}catch{}try{return t+""}catch{}}return""}var B8=NCe,CCe=JE,SCe=vCe,ACe=Wi,TCe=B8,kCe=/[\\^$.*+?()[\]{}|]/g,ECe=/^\[object .+?Constructor\]$/,OCe=Function.prototype,PCe=Object.prototype,DCe=OCe.toString,ICe=PCe.hasOwnProperty,_Ce=RegExp("^"+DCe.call(ICe).replace(kCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $Ce(t){if(!ACe(t)||SCe(t))return!1;var e=CCe(t)?_Ce:ECe;return e.test(TCe(t))}var RCe=$Ce;function MCe(t,e){return t==null?void 0:t[e]}var LCe=MCe,FCe=RCe,BCe=LCe;function qCe(t,e){var r=BCe(t,e);return FCe(r)?r:void 0}var hl=qCe,VCe=hl,zCe=VCe(Object,"create"),zj=zCe,gR=zj;function UCe(){this.__data__=gR?gR(null):{},this.size=0}var WCe=UCe;function HCe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var GCe=HCe,YCe=zj,KCe="__lodash_hash_undefined__",JCe=Object.prototype,XCe=JCe.hasOwnProperty;function ZCe(t){var e=this.__data__;if(YCe){var r=e[t];return r===KCe?void 0:r}return XCe.call(e,t)?e[t]:void 0}var QCe=ZCe,eSe=zj,tSe=Object.prototype,rSe=tSe.hasOwnProperty;function nSe(t){var e=this.__data__;return eSe?e[t]!==void 0:rSe.call(e,t)}var aSe=nSe,sSe=zj,iSe="__lodash_hash_undefined__";function oSe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=sSe&&e===void 0?iSe:e,this}var lSe=oSe,cSe=WCe,uSe=GCe,dSe=QCe,fSe=aSe,mSe=lSe;function gu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}gu.prototype.clear=cSe;gu.prototype.delete=uSe;gu.prototype.get=dSe;gu.prototype.has=fSe;gu.prototype.set=mSe;var hSe=gu;function pSe(){this.__data__=[],this.size=0}var gSe=pSe;function ySe(t,e){return t===e||t!==t&&e!==e}var XE=ySe,xSe=XE;function bSe(t,e){for(var r=t.length;r--;)if(xSe(t[r][0],e))return r;return-1}var Uj=bSe,vSe=Uj,jSe=Array.prototype,wSe=jSe.splice;function NSe(t){var e=this.__data__,r=vSe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():wSe.call(e,r,1),--this.size,!0}var CSe=NSe,SSe=Uj;function ASe(t){var e=this.__data__,r=SSe(e,t);return r<0?void 0:e[r][1]}var TSe=ASe,kSe=Uj;function ESe(t){return kSe(this.__data__,t)>-1}var OSe=ESe,PSe=Uj;function DSe(t,e){var r=this.__data__,n=PSe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var ISe=DSe,_Se=gSe,$Se=CSe,RSe=TSe,MSe=OSe,LSe=ISe;function yu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yu.prototype.clear=_Se;yu.prototype.delete=$Se;yu.prototype.get=RSe;yu.prototype.has=MSe;yu.prototype.set=LSe;var Wj=yu,FSe=hl,BSe=Ua,qSe=FSe(BSe,"Map"),ZE=qSe,yR=hSe,VSe=Wj,zSe=ZE;function USe(){this.size=0,this.__data__={hash:new yR,map:new(zSe||VSe),string:new yR}}var WSe=USe;function HSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var GSe=HSe,YSe=GSe;function KSe(t,e){var r=t.__data__;return YSe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Hj=KSe,JSe=Hj;function XSe(t){var e=JSe(this,t).delete(t);return this.size-=e?1:0,e}var ZSe=XSe,QSe=Hj;function e2e(t){return QSe(this,t).get(t)}var t2e=e2e,r2e=Hj;function n2e(t){return r2e(this,t).has(t)}var a2e=n2e,s2e=Hj;function i2e(t,e){var r=s2e(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var o2e=i2e,l2e=WSe,c2e=ZSe,u2e=t2e,d2e=a2e,f2e=o2e;function xu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xu.prototype.clear=l2e;xu.prototype.delete=c2e;xu.prototype.get=u2e;xu.prototype.has=d2e;xu.prototype.set=f2e;var QE=xu,q8=QE,m2e="Expected a function";function eO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(m2e);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(eO.Cache||q8),r}eO.Cache=q8;var V8=eO;const h2e=rt(V8);var p2e=V8,g2e=500;function y2e(t){var e=p2e(t,function(n){return r.size===g2e&&r.clear(),n}),r=e.cache;return e}var x2e=y2e,b2e=x2e,v2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,j2e=/\\(\\)?/g,w2e=b2e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(v2e,function(r,n,a,i){e.push(a?i.replace(j2e,"$1"):n||r)}),e}),N2e=w2e;function C2e(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var tO=C2e,xR=Xm,S2e=tO,A2e=an,T2e=hu,bR=xR?xR.prototype:void 0,vR=bR?bR.toString:void 0;function z8(t){if(typeof t=="string")return t;if(A2e(t))return S2e(t,z8)+"";if(T2e(t))return vR?vR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var k2e=z8,E2e=k2e;function O2e(t){return t==null?"":E2e(t)}var U8=O2e,P2e=an,D2e=KE,I2e=N2e,_2e=U8;function $2e(t,e){return P2e(t)?t:D2e(t,e)?[t]:I2e(_2e(t))}var W8=$2e,R2e=hu;function M2e(t){if(typeof t=="string"||R2e(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Gj=M2e,L2e=W8,F2e=Gj;function B2e(t,e){e=L2e(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[F2e(e[r++])];return r&&r==n?t:void 0}var rO=B2e,q2e=rO;function V2e(t,e,r){var n=t==null?void 0:q2e(t,e);return n===void 0?r:n}var H8=V2e;const ma=rt(H8);function z2e(t){return t==null}var U2e=z2e;const Ge=rt(U2e);var W2e=Ls,H2e=an,G2e=Fs,Y2e="[object String]";function K2e(t){return typeof t=="string"||!H2e(t)&&G2e(t)&&W2e(t)==Y2e}var J2e=K2e;const Zm=rt(J2e);var G8={exports:{}},ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nO=Symbol.for("react.element"),aO=Symbol.for("react.portal"),Yj=Symbol.for("react.fragment"),Kj=Symbol.for("react.strict_mode"),Jj=Symbol.for("react.profiler"),Xj=Symbol.for("react.provider"),Zj=Symbol.for("react.context"),X2e=Symbol.for("react.server_context"),Qj=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),nw=Symbol.for("react.lazy"),Z2e=Symbol.for("react.offscreen"),Y8;Y8=Symbol.for("react.module.reference");function Kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case nO:switch(t=t.type,t){case Yj:case Jj:case Kj:case ew:case tw:return t;default:switch(t=t&&t.$$typeof,t){case X2e:case Zj:case Qj:case nw:case rw:case Xj:return t;default:return e}}case aO:return e}}}ft.ContextConsumer=Zj;ft.ContextProvider=Xj;ft.Element=nO;ft.ForwardRef=Qj;ft.Fragment=Yj;ft.Lazy=nw;ft.Memo=rw;ft.Portal=aO;ft.Profiler=Jj;ft.StrictMode=Kj;ft.Suspense=ew;ft.SuspenseList=tw;ft.isAsyncMode=function(){return!1};ft.isConcurrentMode=function(){return!1};ft.isContextConsumer=function(t){return Kn(t)===Zj};ft.isContextProvider=function(t){return Kn(t)===Xj};ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===nO};ft.isForwardRef=function(t){return Kn(t)===Qj};ft.isFragment=function(t){return Kn(t)===Yj};ft.isLazy=function(t){return Kn(t)===nw};ft.isMemo=function(t){return Kn(t)===rw};ft.isPortal=function(t){return Kn(t)===aO};ft.isProfiler=function(t){return Kn(t)===Jj};ft.isStrictMode=function(t){return Kn(t)===Kj};ft.isSuspense=function(t){return Kn(t)===ew};ft.isSuspenseList=function(t){return Kn(t)===tw};ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yj||t===Jj||t===Kj||t===ew||t===tw||t===Z2e||typeof t=="object"&&t!==null&&(t.$$typeof===nw||t.$$typeof===rw||t.$$typeof===Xj||t.$$typeof===Zj||t.$$typeof===Qj||t.$$typeof===Y8||t.getModuleId!==void 0)};ft.typeOf=Kn;G8.exports=ft;var Q2e=G8.exports,eAe=Ls,tAe=Fs,rAe="[object Number]";function nAe(t){return typeof t=="number"||tAe(t)&&eAe(t)==rAe}var K8=nAe;const aAe=rt(K8);var sAe=K8;function iAe(t){return sAe(t)&&t!=+t}var oAe=iAe;const Qm=rt(oAe);var Fn=function(e){return e===0?0:e>0?1:-1},Co=function(e){return Zm(e)&&e.indexOf("%")===e.length-1},he=function(e){return aAe(e)&&!Qm(e)},lr=function(e){return he(e)||Zm(e)},lAe=0,aw=function(e){var r=++lAe;return"".concat(e||"").concat(r)},Kr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(e)&&!Zm(e))return n;var i;if(Co(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return Qm(i)&&(i=n),a&&i>r&&(i=r),i},Dl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},cAe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},jR=function(e,r){return he(e)&&he(r)?function(n){return e+n*(r-e)}:function(){return r}};function cA(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ma(n,e))===r})}function uA(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function dA(t){"@babel/helpers - typeof";return dA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dA(t)}var uAe=["viewBox","children"],dAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wR=["points","pathLength"],D1={svg:uAe,polygon:wR,polyline:wR},sO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qb=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),!pu(n))return null;var a={};return Object.keys(n).forEach(function(i){sO.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},fAe=function(e,r,n){return function(a){return e(r,n,a),null}},sw=function(e,r,n){if(!pu(e)||dA(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];sO.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=fAe(o,r,n))}),a},mAe=["children"],hAe=["children"];function NR(t,e){if(t==null)return{};var r=pAe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var CR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ys=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},SR=null,I1=null,iO=function t(e){if(e===SR&&Array.isArray(I1))return I1;var r=[];return v.Children.forEach(e,function(n){Ge(n)||(Q2e.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),I1=r,SR=e,r};function La(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return ys(a)}):n=[ys(e)],iO(t).forEach(function(a){var i=ma(a,"type.displayName")||ma(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function _n(t,e){var r=La(t,e);return r&&r[0]}var AR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!he(n)||n<=0||!he(a)||a<=0)},gAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yAe=function(e){return e&&e.type&&Zm(e.type)&&gAe.indexOf(e.type)>=0},xAe=function(e,r,n,a){var i,o=(i=D1==null?void 0:D1[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Fe(e)&&(a&&o.includes(r)||dAe.includes(r))||n&&sO.includes(r)},Le=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(v.isValidElement(e)&&(a=e.props),!pu(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;xAe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},fA=function t(e,r){if(e===r)return!0;var n=v.Children.count(e);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return TR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!TR(i,o))return!1}return!0},TR=function(e,r){if(Ge(e)&&Ge(r))return!0;if(!Ge(e)&&!Ge(r)){var n=e.props||{},a=n.children,i=NR(n,mAe),o=r.props||{},l=o.children,c=NR(o,hAe);return a&&l?uA(i,c)&&fA(a,l):!a&&!l?uA(i,c):!1}return!1},kR=function(e,r){var n=[],a={};return iO(e).forEach(function(i,o){if(yAe(i))n.push(i);else if(i){var l=ys(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},bAe=function(e){var r=e&&e.type;return r&&CR[r]?CR[r]:null},vAe=function(e,r){return iO(r).indexOf(e)},jAe=["children","width","height","viewBox","className","style","title","desc"];function mA(){return mA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mA.apply(this,arguments)}function wAe(t,e){if(t==null)return{};var r=NAe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hA(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,u=wAe(t,jAe),d=a||{width:r,height:n,x:0,y:0},f=Oe("recharts-surface",i);return q.createElement("svg",mA({},Le(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,l),q.createElement("desc",null,c),e)}var CAe=["children","className"];function pA(){return pA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pA.apply(this,arguments)}function SAe(t,e){if(t==null)return{};var r=AAe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Wt=q.forwardRef(function(t,e){var r=t.children,n=t.className,a=SAe(t,CAe),i=Oe("recharts-layer",n);return q.createElement("g",pA({className:i},Le(a,!0),{ref:e}),r)}),xs=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function TAe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var kAe=TAe,EAe=kAe;function OAe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:EAe(t,e,r)}var PAe=OAe,DAe="\\ud800-\\udfff",IAe="\\u0300-\\u036f",_Ae="\\ufe20-\\ufe2f",$Ae="\\u20d0-\\u20ff",RAe=IAe+_Ae+$Ae,MAe="\\ufe0e\\ufe0f",LAe="\\u200d",FAe=RegExp("["+LAe+DAe+RAe+MAe+"]");function BAe(t){return FAe.test(t)}var J8=BAe;function qAe(t){return t.split("")}var VAe=qAe,X8="\\ud800-\\udfff",zAe="\\u0300-\\u036f",UAe="\\ufe20-\\ufe2f",WAe="\\u20d0-\\u20ff",HAe=zAe+UAe+WAe,GAe="\\ufe0e\\ufe0f",YAe="["+X8+"]",gA="["+HAe+"]",yA="\\ud83c[\\udffb-\\udfff]",KAe="(?:"+gA+"|"+yA+")",Z8="[^"+X8+"]",Q8="(?:\\ud83c[\\udde6-\\uddff]){2}",ez="[\\ud800-\\udbff][\\udc00-\\udfff]",JAe="\\u200d",tz=KAe+"?",rz="["+GAe+"]?",XAe="(?:"+JAe+"(?:"+[Z8,Q8,ez].join("|")+")"+rz+tz+")*",ZAe=rz+tz+XAe,QAe="(?:"+[Z8+gA+"?",gA,Q8,ez,YAe].join("|")+")",eTe=RegExp(yA+"(?="+yA+")|"+QAe+ZAe,"g");function tTe(t){return t.match(eTe)||[]}var rTe=tTe,nTe=VAe,aTe=J8,sTe=rTe;function iTe(t){return aTe(t)?sTe(t):nTe(t)}var oTe=iTe,lTe=PAe,cTe=J8,uTe=oTe,dTe=U8;function fTe(t){return function(e){e=dTe(e);var r=cTe(e)?uTe(e):void 0,n=r?r[0]:e.charAt(0),a=r?lTe(r,1).join(""):e.slice(1);return n[t]()+a}}var mTe=fTe,hTe=mTe,pTe=hTe("toUpperCase"),gTe=pTe;const iw=rt(gTe);function wt(t){return function(){return t}}const nz=Math.cos,Vb=Math.sin,xa=Math.sqrt,zb=Math.PI,ow=2*zb,xA=Math.PI,bA=2*xA,uo=1e-6,yTe=bA-uo;function az(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function xTe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return az;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class bTe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?az:xTe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,u=a-r,d=o-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>uo)if(!(Math.abs(f*c-u*d)>uo)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-o,p=a-l,y=c*c+u*u,x=h*h+p*p,b=Math.sqrt(y),g=Math.sqrt(m),j=i*Math.tan((xA-Math.acos((y+m-x)/(2*b*g)))/2),C=j/g,N=j/b;Math.abs(C-1)>uo&&this._append`L${e+C*d},${r+C*f}`,this._append`A${i},${i},0,0,${+(f*h>d*p)},${this._x1=e+N*c},${this._y1=r+N*u}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>uo||Math.abs(this._y1-d)>uo)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%bA+bA),m>yTe?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>uo&&this._append`A${n},${n},0,${+(m>=xA)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function oO(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new bTe(e)}function lO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sz(t){this._context=t}sz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lw(t){return new sz(t)}function iz(t){return t[0]}function oz(t){return t[1]}function lz(t,e){var r=wt(!0),n=null,a=lw,i=null,o=oO(l);t=typeof t=="function"?t:t===void 0?iz:wt(t),e=typeof e=="function"?e:e===void 0?oz:wt(e);function l(c){var u,d=(c=lO(c)).length,f,m=!1,h;for(n==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+t(f,u,c),+e(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:wt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:wt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:wt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function ep(t,e,r){var n=null,a=wt(!0),i=null,o=lw,l=null,c=oO(u);t=typeof t=="function"?t:t===void 0?iz:wt(+t),e=typeof e=="function"?e:wt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?oz:wt(+r);function u(f){var m,h,p,y=(f=lO(f)).length,x,b=!1,g,j=new Array(y),C=new Array(y);for(i==null&&(l=o(g=c())),m=0;m<=y;++m){if(!(m<y&&a(x=f[m],m,f))===b)if(b=!b)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=h;--p)l.point(j[p],C[p]);l.lineEnd(),l.areaEnd()}b&&(j[m]=+t(x,m,f),C[m]=+e(x,m,f),l.point(n?+n(x,m,f):j[m],r?+r(x,m,f):C[m]))}if(g)return l=null,g+""||null}function d(){return lz().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:wt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:wt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:wt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class cz{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function vTe(t){return new cz(t,!0)}function jTe(t){return new cz(t,!1)}const cO={draw(t,e){const r=xa(e/zb);t.moveTo(r,0),t.arc(0,0,r,0,ow)}},wTe={draw(t,e){const r=xa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},uz=xa(1/3),NTe=uz*2,CTe={draw(t,e){const r=xa(e/NTe),n=r*uz;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},STe={draw(t,e){const r=xa(e),n=-r/2;t.rect(n,n,r,r)}},ATe=.8908130915292852,dz=Vb(zb/10)/Vb(7*zb/10),TTe=Vb(ow/10)*dz,kTe=-nz(ow/10)*dz,ETe={draw(t,e){const r=xa(e*ATe),n=TTe*r,a=kTe*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=ow*i/5,l=nz(o),c=Vb(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},_1=xa(3),OTe={draw(t,e){const r=-xa(e/(_1*3));t.moveTo(0,r*2),t.lineTo(-_1*r,-r),t.lineTo(_1*r,-r),t.closePath()}},Dn=-.5,In=xa(3)/2,vA=1/xa(12),PTe=(vA/2+1)*3,DTe={draw(t,e){const r=xa(e/PTe),n=r/2,a=r*vA,i=n,o=r*vA+r,l=-i,c=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(Dn*n-In*a,In*n+Dn*a),t.lineTo(Dn*i-In*o,In*i+Dn*o),t.lineTo(Dn*l-In*c,In*l+Dn*c),t.lineTo(Dn*n+In*a,Dn*a-In*n),t.lineTo(Dn*i+In*o,Dn*o-In*i),t.lineTo(Dn*l+In*c,Dn*c-In*l),t.closePath()}};function ITe(t,e){let r=null,n=oO(a);t=typeof t=="function"?t:wt(t||cO),e=typeof e=="function"?e:wt(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:wt(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:wt(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ub(){}function Wb(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function fz(t){this._context=t}fz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _Te(t){return new fz(t)}function mz(t){this._context=t}mz.prototype={areaStart:Ub,areaEnd:Ub,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Te(t){return new mz(t)}function hz(t){this._context=t}hz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RTe(t){return new hz(t)}function pz(t){this._context=t}pz.prototype={areaStart:Ub,areaEnd:Ub,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function MTe(t){return new pz(t)}function ER(t){return t<0?-1:1}function OR(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(ER(i)+ER(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function PR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function $1(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,o-l*r,i,o)}function Hb(t){this._context=t}Hb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$1(this,this._t0,PR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$1(this,PR(this,r=OR(this,t,e)),r);break;default:$1(this,this._t0,r=OR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function gz(t){this._context=new yz(t)}(gz.prototype=Object.create(Hb.prototype)).point=function(t,e){Hb.prototype.point.call(this,e,t)};function yz(t){this._context=t}yz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function LTe(t){return new Hb(t)}function FTe(t){return new gz(t)}function xz(t){this._context=t}xz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=DR(t),a=DR(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function DR(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function BTe(t){return new xz(t)}function cw(t,e){this._context=t,this._t=e}cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function qTe(t){return new cw(t,.5)}function VTe(t){return new cw(t,0)}function zTe(t){return new cw(t,1)}function Ic(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function jA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function UTe(t,e){return t[e]}function WTe(t){const e=[];return e.key=t,e}function HTe(){var t=wt([]),e=jA,r=Ic,n=UTe;function a(i){var o=Array.from(t.apply(this,arguments),WTe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=lO(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:wt(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:wt(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?jA:typeof i=="function"?i:wt(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Ic,a):r},a}function GTe(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}Ic(t,e)}}function YTe(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ic(t,e)}}function KTe(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,p=0;p<l;++p){var y=t[e[p]],x=y[n][1]||0,b=y[n-1][1]||0;h+=x-b}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ic(t,e)}}function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}var JTe=["type","size","sizeType"];function wA(){return wA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wA.apply(this,arguments)}function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){XTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XTe(t,e,r){return e=ZTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZTe(t){var e=QTe(t,"string");return Hf(e)=="symbol"?e:e+""}function QTe(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eke(t,e){if(t==null)return{};var r=tke(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bz={symbolCircle:cO,symbolCross:wTe,symbolDiamond:CTe,symbolSquare:STe,symbolStar:ETe,symbolTriangle:OTe,symbolWye:DTe},rke=Math.PI/180,nke=function(e){var r="symbol".concat(iw(e));return bz[r]||cO},ake=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*rke;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ske=function(e,r){bz["symbol".concat(iw(e))]=r},uO=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=eke(e,JTe),u=_R(_R({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=nke(n),b=ITe().type(x).size(ake(i,l,n));return b()},f=u.className,m=u.cx,h=u.cy,p=Le(u,!0);return m===+m&&h===+h&&i===+i?q.createElement("path",wA({},p,{className:Oe("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};uO.registerSymbol=ske;function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function NA(){return NA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NA.apply(this,arguments)}function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ike(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){Gf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jz(n.key),n)}}function cke(t,e,r){return e&&lke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uke(t,e,r){return e=Gb(e),dke(t,vz()?Reflect.construct(e,r||[],Gb(t).constructor):e.apply(t,r))}function dke(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fke(t)}function fke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vz=function(){return!!t})()}function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(t)}function mke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CA(t,e)}function CA(t,e){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CA(t,e)}function Gf(t,e,r){return e=jz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jz(t){var e=hke(t,"string");return _c(e)=="symbol"?e:e+""}function hke(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qn=32,dO=function(t){function e(){return oke(this,e),uke(this,e,arguments)}return mke(e,t),cke(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Qn/2,o=Qn/6,l=Qn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Qn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Qn,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Qn/8,"h").concat(Qn,"v").concat(Qn*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(q.isValidElement(n.legendIcon)){var u=ike({},n);return delete u.legendIcon,q.cloneElement(n.legendIcon,u)}return q.createElement(uO,{fill:c,cx:i,cy:i,size:Qn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Qn,height:Qn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,p){var y=h.formatter||c,x=Oe(Gf(Gf({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=Fe(h.value)?null:h.value;xs(!Fe(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=h.inactive?u:h.color;return q.createElement("li",NA({className:x,style:f,key:"legend-item-".concat(p)},sw(n.props,h,p)),q.createElement(hA,{width:o,height:o,viewBox:d,style:m},n.renderIcon(h)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y?y(b,h,p):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);Gf(dO,"displayName","Legend");Gf(dO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pke=Wj;function gke(){this.__data__=new pke,this.size=0}var yke=gke;function xke(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var bke=xke;function vke(t){return this.__data__.get(t)}var jke=vke;function wke(t){return this.__data__.has(t)}var Nke=wke,Cke=Wj,Ske=ZE,Ake=QE,Tke=200;function kke(t,e){var r=this.__data__;if(r instanceof Cke){var n=r.__data__;if(!Ske||n.length<Tke-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ake(n)}return r.set(t,e),this.size=r.size,this}var Eke=kke,Oke=Wj,Pke=yke,Dke=bke,Ike=jke,_ke=Nke,$ke=Eke;function bu(t){var e=this.__data__=new Oke(t);this.size=e.size}bu.prototype.clear=Pke;bu.prototype.delete=Dke;bu.prototype.get=Ike;bu.prototype.has=_ke;bu.prototype.set=$ke;var wz=bu,Rke="__lodash_hash_undefined__";function Mke(t){return this.__data__.set(t,Rke),this}var Lke=Mke;function Fke(t){return this.__data__.has(t)}var Bke=Fke,qke=QE,Vke=Lke,zke=Bke;function Yb(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new qke;++e<r;)this.add(t[e])}Yb.prototype.add=Yb.prototype.push=Vke;Yb.prototype.has=zke;var Nz=Yb;function Uke(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Cz=Uke;function Wke(t,e){return t.has(e)}var Sz=Wke,Hke=Nz,Gke=Cz,Yke=Sz,Kke=1,Jke=2;function Xke(t,e,r,n,a,i){var o=r&Kke,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(t),d=i.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,h=r&Jke?new Hke:void 0;for(i.set(t,e),i.set(e,t);++f<l;){var p=t[f],y=e[f];if(n)var x=o?n(y,p,f,e,t,i):n(p,y,f,t,e,i);if(x!==void 0){if(x)continue;m=!1;break}if(h){if(!Gke(e,function(b,g){if(!Yke(h,g)&&(p===b||a(p,b,r,n,i)))return h.push(g)})){m=!1;break}}else if(!(p===y||a(p,y,r,n,i))){m=!1;break}}return i.delete(t),i.delete(e),m}var Az=Xke,Zke=Ua,Qke=Zke.Uint8Array,eEe=Qke;function tEe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var rEe=tEe;function nEe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var fO=nEe,RR=Xm,MR=eEe,aEe=XE,sEe=Az,iEe=rEe,oEe=fO,lEe=1,cEe=2,uEe="[object Boolean]",dEe="[object Date]",fEe="[object Error]",mEe="[object Map]",hEe="[object Number]",pEe="[object RegExp]",gEe="[object Set]",yEe="[object String]",xEe="[object Symbol]",bEe="[object ArrayBuffer]",vEe="[object DataView]",LR=RR?RR.prototype:void 0,R1=LR?LR.valueOf:void 0;function jEe(t,e,r,n,a,i,o){switch(r){case vEe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case bEe:return!(t.byteLength!=e.byteLength||!i(new MR(t),new MR(e)));case uEe:case dEe:case hEe:return aEe(+t,+e);case fEe:return t.name==e.name&&t.message==e.message;case pEe:case yEe:return t==e+"";case mEe:var l=iEe;case gEe:var c=n&lEe;if(l||(l=oEe),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=cEe,o.set(t,e);var d=sEe(l(t),l(e),n,a,i,o);return o.delete(t),d;case xEe:if(R1)return R1.call(t)==R1.call(e)}return!1}var wEe=jEe;function NEe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var Tz=NEe,CEe=Tz,SEe=an;function AEe(t,e,r){var n=e(t);return SEe(t)?n:CEe(n,r(t))}var TEe=AEe;function kEe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[a++]=o)}return i}var EEe=kEe;function OEe(){return[]}var PEe=OEe,DEe=EEe,IEe=PEe,_Ee=Object.prototype,$Ee=_Ee.propertyIsEnumerable,FR=Object.getOwnPropertySymbols,REe=FR?function(t){return t==null?[]:(t=Object(t),DEe(FR(t),function(e){return $Ee.call(t,e)}))}:IEe,MEe=REe;function LEe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var FEe=LEe,BEe=Ls,qEe=Fs,VEe="[object Arguments]";function zEe(t){return qEe(t)&&BEe(t)==VEe}var UEe=zEe,BR=UEe,WEe=Fs,kz=Object.prototype,HEe=kz.hasOwnProperty,GEe=kz.propertyIsEnumerable,YEe=BR(function(){return arguments}())?BR:function(t){return WEe(t)&&HEe.call(t,"callee")&&!GEe.call(t,"callee")},mO=YEe,Kb={exports:{}};function KEe(){return!1}var JEe=KEe;Kb.exports;(function(t,e){var r=Ua,n=JEe,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(Kb,Kb.exports);var Ez=Kb.exports,XEe=9007199254740991,ZEe=/^(?:0|[1-9]\d*)$/;function QEe(t,e){var r=typeof t;return e=e??XEe,!!e&&(r=="number"||r!="symbol"&&ZEe.test(t))&&t>-1&&t%1==0&&t<e}var hO=QEe,eOe=9007199254740991;function tOe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=eOe}var pO=tOe,rOe=Ls,nOe=pO,aOe=Fs,sOe="[object Arguments]",iOe="[object Array]",oOe="[object Boolean]",lOe="[object Date]",cOe="[object Error]",uOe="[object Function]",dOe="[object Map]",fOe="[object Number]",mOe="[object Object]",hOe="[object RegExp]",pOe="[object Set]",gOe="[object String]",yOe="[object WeakMap]",xOe="[object ArrayBuffer]",bOe="[object DataView]",vOe="[object Float32Array]",jOe="[object Float64Array]",wOe="[object Int8Array]",NOe="[object Int16Array]",COe="[object Int32Array]",SOe="[object Uint8Array]",AOe="[object Uint8ClampedArray]",TOe="[object Uint16Array]",kOe="[object Uint32Array]",Tt={};Tt[vOe]=Tt[jOe]=Tt[wOe]=Tt[NOe]=Tt[COe]=Tt[SOe]=Tt[AOe]=Tt[TOe]=Tt[kOe]=!0;Tt[sOe]=Tt[iOe]=Tt[xOe]=Tt[oOe]=Tt[bOe]=Tt[lOe]=Tt[cOe]=Tt[uOe]=Tt[dOe]=Tt[fOe]=Tt[mOe]=Tt[hOe]=Tt[pOe]=Tt[gOe]=Tt[yOe]=!1;function EOe(t){return aOe(t)&&nOe(t.length)&&!!Tt[rOe(t)]}var OOe=EOe;function POe(t){return function(e){return t(e)}}var Oz=POe,Jb={exports:{}};Jb.exports;(function(t,e){var r=L8,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Jb,Jb.exports);var DOe=Jb.exports,IOe=OOe,_Oe=Oz,qR=DOe,VR=qR&&qR.isTypedArray,$Oe=VR?_Oe(VR):IOe,Pz=$Oe,ROe=FEe,MOe=mO,LOe=an,FOe=Ez,BOe=hO,qOe=Pz,VOe=Object.prototype,zOe=VOe.hasOwnProperty;function UOe(t,e){var r=LOe(t),n=!r&&MOe(t),a=!r&&!n&&FOe(t),i=!r&&!n&&!a&&qOe(t),o=r||n||a||i,l=o?ROe(t.length,String):[],c=l.length;for(var u in t)(e||zOe.call(t,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||BOe(u,c)))&&l.push(u);return l}var WOe=UOe,HOe=Object.prototype;function GOe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||HOe;return t===r}var YOe=GOe;function KOe(t,e){return function(r){return t(e(r))}}var Dz=KOe,JOe=Dz,XOe=JOe(Object.keys,Object),ZOe=XOe,QOe=YOe,ePe=ZOe,tPe=Object.prototype,rPe=tPe.hasOwnProperty;function nPe(t){if(!QOe(t))return ePe(t);var e=[];for(var r in Object(t))rPe.call(t,r)&&r!="constructor"&&e.push(r);return e}var aPe=nPe,sPe=JE,iPe=pO;function oPe(t){return t!=null&&iPe(t.length)&&!sPe(t)}var uw=oPe,lPe=WOe,cPe=aPe,uPe=uw;function dPe(t){return uPe(t)?lPe(t):cPe(t)}var gO=dPe,fPe=TEe,mPe=MEe,hPe=gO;function pPe(t){return fPe(t,hPe,mPe)}var gPe=pPe,zR=gPe,yPe=1,xPe=Object.prototype,bPe=xPe.hasOwnProperty;function vPe(t,e,r,n,a,i){var o=r&yPe,l=zR(t),c=l.length,u=zR(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in e:bPe.call(e,m)))return!1}var h=i.get(t),p=i.get(e);if(h&&p)return h==e&&p==t;var y=!0;i.set(t,e),i.set(e,t);for(var x=o;++f<c;){m=l[f];var b=t[m],g=e[m];if(n)var j=o?n(g,b,m,e,t,i):n(b,g,m,t,e,i);if(!(j===void 0?b===g||a(b,g,r,n,i):j)){y=!1;break}x||(x=m=="constructor")}if(y&&!x){var C=t.constructor,N=e.constructor;C!=N&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof N=="function"&&N instanceof N)&&(y=!1)}return i.delete(t),i.delete(e),y}var jPe=vPe,wPe=hl,NPe=Ua,CPe=wPe(NPe,"DataView"),SPe=CPe,APe=hl,TPe=Ua,kPe=APe(TPe,"Promise"),EPe=kPe,OPe=hl,PPe=Ua,DPe=OPe(PPe,"Set"),Iz=DPe,IPe=hl,_Pe=Ua,$Pe=IPe(_Pe,"WeakMap"),RPe=$Pe,SA=SPe,AA=ZE,TA=EPe,kA=Iz,EA=RPe,_z=Ls,vu=B8,UR="[object Map]",MPe="[object Object]",WR="[object Promise]",HR="[object Set]",GR="[object WeakMap]",YR="[object DataView]",LPe=vu(SA),FPe=vu(AA),BPe=vu(TA),qPe=vu(kA),VPe=vu(EA),fo=_z;(SA&&fo(new SA(new ArrayBuffer(1)))!=YR||AA&&fo(new AA)!=UR||TA&&fo(TA.resolve())!=WR||kA&&fo(new kA)!=HR||EA&&fo(new EA)!=GR)&&(fo=function(t){var e=_z(t),r=e==MPe?t.constructor:void 0,n=r?vu(r):"";if(n)switch(n){case LPe:return YR;case FPe:return UR;case BPe:return WR;case qPe:return HR;case VPe:return GR}return e});var zPe=fo,M1=wz,UPe=Az,WPe=wEe,HPe=jPe,KR=zPe,JR=an,XR=Ez,GPe=Pz,YPe=1,ZR="[object Arguments]",QR="[object Array]",tp="[object Object]",KPe=Object.prototype,e5=KPe.hasOwnProperty;function JPe(t,e,r,n,a,i){var o=JR(t),l=JR(e),c=o?QR:KR(t),u=l?QR:KR(e);c=c==ZR?tp:c,u=u==ZR?tp:u;var d=c==tp,f=u==tp,m=c==u;if(m&&XR(t)){if(!XR(e))return!1;o=!0,d=!1}if(m&&!d)return i||(i=new M1),o||GPe(t)?UPe(t,e,r,n,a,i):WPe(t,e,c,r,n,a,i);if(!(r&YPe)){var h=d&&e5.call(t,"__wrapped__"),p=f&&e5.call(e,"__wrapped__");if(h||p){var y=h?t.value():t,x=p?e.value():e;return i||(i=new M1),a(y,x,r,n,i)}}return m?(i||(i=new M1),HPe(t,e,r,n,a,i)):!1}var XPe=JPe,ZPe=XPe,t5=Fs;function $z(t,e,r,n,a){return t===e?!0:t==null||e==null||!t5(t)&&!t5(e)?t!==t&&e!==e:ZPe(t,e,r,n,$z,a)}var yO=$z,QPe=wz,eDe=yO,tDe=1,rDe=2;function nDe(t,e,r,n){var a=r.length,i=a,o=!n;if(t==null)return!i;for(t=Object(t);a--;){var l=r[a];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<i;){l=r[a];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new QPe;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?eDe(d,u,tDe|rDe,n,f):m))return!1}}return!0}var aDe=nDe,sDe=Wi;function iDe(t){return t===t&&!sDe(t)}var Rz=iDe,oDe=Rz,lDe=gO;function cDe(t){for(var e=lDe(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,oDe(a)]}return e}var uDe=cDe;function dDe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Mz=dDe,fDe=aDe,mDe=uDe,hDe=Mz;function pDe(t){var e=mDe(t);return e.length==1&&e[0][2]?hDe(e[0][0],e[0][1]):function(r){return r===t||fDe(r,t,e)}}var gDe=pDe;function yDe(t,e){return t!=null&&e in Object(t)}var xDe=yDe,bDe=W8,vDe=mO,jDe=an,wDe=hO,NDe=pO,CDe=Gj;function SDe(t,e,r){e=bDe(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var o=CDe(e[n]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&NDe(a)&&wDe(o,a)&&(jDe(t)||vDe(t)))}var ADe=SDe,TDe=xDe,kDe=ADe;function EDe(t,e){return t!=null&&kDe(t,e,TDe)}var ODe=EDe,PDe=yO,DDe=H8,IDe=ODe,_De=KE,$De=Rz,RDe=Mz,MDe=Gj,LDe=1,FDe=2;function BDe(t,e){return _De(t)&&$De(e)?RDe(MDe(t),e):function(r){var n=DDe(r,t);return n===void 0&&n===e?IDe(r,t):PDe(e,n,LDe|FDe)}}var qDe=BDe;function VDe(t){return t}var ju=VDe;function zDe(t){return function(e){return e==null?void 0:e[t]}}var UDe=zDe,WDe=rO;function HDe(t){return function(e){return WDe(e,t)}}var GDe=HDe,YDe=UDe,KDe=GDe,JDe=KE,XDe=Gj;function ZDe(t){return JDe(t)?YDe(XDe(t)):KDe(t)}var QDe=ZDe,eIe=gDe,tIe=qDe,rIe=ju,nIe=an,aIe=QDe;function sIe(t){return typeof t=="function"?t:t==null?rIe:typeof t=="object"?nIe(t)?tIe(t[0],t[1]):eIe(t):aIe(t)}var Hi=sIe;function iIe(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var oIe=iIe;function lIe(t){return t!==t}var cIe=lIe;function uIe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var dIe=uIe,fIe=oIe,mIe=cIe,hIe=dIe;function pIe(t,e,r){return e===e?hIe(t,e,r):fIe(t,mIe,r)}var gIe=pIe,yIe=gIe;function xIe(t,e){var r=t==null?0:t.length;return!!r&&yIe(t,e,0)>-1}var bIe=xIe;function vIe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var jIe=vIe;function wIe(){}var NIe=wIe,L1=Iz,CIe=NIe,SIe=fO,AIe=1/0,TIe=L1&&1/SIe(new L1([,-0]))[1]==AIe?function(t){return new L1(t)}:CIe,kIe=TIe,EIe=Nz,OIe=bIe,PIe=jIe,DIe=Sz,IIe=kIe,_Ie=fO,$Ie=200;function RIe(t,e,r){var n=-1,a=OIe,i=t.length,o=!0,l=[],c=l;if(r)o=!1,a=PIe;else if(i>=$Ie){var u=e?null:IIe(t);if(u)return _Ie(u);o=!1,a=DIe,c=new EIe}else c=e?[]:l;e:for(;++n<i;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var MIe=RIe,LIe=Hi,FIe=MIe;function BIe(t,e){return t&&t.length?FIe(t,LIe(e)):[]}var qIe=BIe;const r5=rt(qIe);function Lz(t,e,r){return e===!0?r5(t,r):Fe(e)?r5(t,e):t}function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}var VIe=["ref"];function n5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(r),!0).forEach(function(n){dw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bz(n.key),n)}}function UIe(t,e,r){return e&&a5(t.prototype,e),r&&a5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WIe(t,e,r){return e=Xb(e),HIe(t,Fz()?Reflect.construct(e,r||[],Xb(t).constructor):e.apply(t,r))}function HIe(t,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GIe(t)}function GIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fz=function(){return!!t})()}function Xb(t){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xb(t)}function YIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OA(t,e)}function OA(t,e){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OA(t,e)}function dw(t,e,r){return e=Bz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bz(t){var e=KIe(t,"string");return $c(e)=="symbol"?e:e+""}function KIe(t,e){if($c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function JIe(t,e){if(t==null)return{};var r=XIe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZIe(t){return t.value}function QIe(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var r=JIe(e,VIe);return q.createElement(dO,r)}var s5=1,Fa=function(t){function e(){var r;zIe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=WIe(this,e,[].concat(a)),dw(r,"lastBoundingBox",{width:-1,height:-1}),r}return YIe(e,t),UIe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>s5||Math.abs(a.height-this.lastBoundingBox.height)>s5)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ya({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();m={top:((d||0)-p.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ya(Ya({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ya(Ya({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},QIe(i,Ya(Ya({},this.props),{},{payload:Lz(d,u,ZIe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Ya(Ya({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&he(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);dw(Fa,"displayName","Legend");dw(Fa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var i5=Xm,e_e=mO,t_e=an,o5=i5?i5.isConcatSpreadable:void 0;function r_e(t){return t_e(t)||e_e(t)||!!(o5&&t&&t[o5])}var n_e=r_e,a_e=Tz,s_e=n_e;function qz(t,e,r,n,a){var i=-1,o=t.length;for(r||(r=s_e),a||(a=[]);++i<o;){var l=t[i];e>0&&r(l)?e>1?qz(l,e-1,r,n,a):a_e(a,l):n||(a[a.length]=l)}return a}var Vz=qz;function i_e(t){return function(e,r,n){for(var a=-1,i=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++a];if(r(i[c],c,i)===!1)break}return e}}var o_e=i_e,l_e=o_e,c_e=l_e(),u_e=c_e,d_e=u_e,f_e=gO;function m_e(t,e){return t&&d_e(t,e,f_e)}var zz=m_e,h_e=uw;function p_e(t,e){return function(r,n){if(r==null)return r;if(!h_e(r))return t(r,n);for(var a=r.length,i=e?a:-1,o=Object(r);(e?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var g_e=p_e,y_e=zz,x_e=g_e,b_e=x_e(y_e),xO=b_e,v_e=xO,j_e=uw;function w_e(t,e){var r=-1,n=j_e(t)?Array(t.length):[];return v_e(t,function(a,i,o){n[++r]=e(a,i,o)}),n}var Uz=w_e;function N_e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var C_e=N_e,l5=hu;function S_e(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,i=l5(t),o=e!==void 0,l=e===null,c=e===e,u=l5(e);if(!l&&!u&&!i&&t>e||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&t<e||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var A_e=S_e,T_e=A_e;function k_e(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,o=a.length,l=r.length;++n<o;){var c=T_e(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var E_e=k_e,F1=tO,O_e=rO,P_e=Hi,D_e=Uz,I_e=C_e,__e=Oz,$_e=E_e,R_e=ju,M_e=an;function L_e(t,e,r){e.length?e=F1(e,function(i){return M_e(i)?function(o){return O_e(o,i.length===1?i[0]:i)}:i}):e=[R_e];var n=-1;e=F1(e,__e(P_e));var a=D_e(t,function(i,o,l){var c=F1(e,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return I_e(a,function(i,o){return $_e(i,o,r)})}var F_e=L_e;function B_e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var q_e=B_e,V_e=q_e,c5=Math.max;function z_e(t,e,r){return e=c5(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=c5(n.length-e,0),o=Array(i);++a<i;)o[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(o),V_e(t,this,l)}}var U_e=z_e;function W_e(t){return function(){return t}}var H_e=W_e,G_e=hl,Y_e=function(){try{var t=G_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Wz=Y_e,K_e=H_e,u5=Wz,J_e=ju,X_e=u5?function(t,e){return u5(t,"toString",{configurable:!0,enumerable:!1,value:K_e(e),writable:!0})}:J_e,Z_e=X_e,Q_e=800,e$e=16,t$e=Date.now;function r$e(t){var e=0,r=0;return function(){var n=t$e(),a=e$e-(n-r);if(r=n,a>0){if(++e>=Q_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var n$e=r$e,a$e=Z_e,s$e=n$e,i$e=s$e(a$e),o$e=i$e,l$e=ju,c$e=U_e,u$e=o$e;function d$e(t,e){return u$e(c$e(t,e,l$e),t+"")}var f$e=d$e,m$e=XE,h$e=uw,p$e=hO,g$e=Wi;function y$e(t,e,r){if(!g$e(r))return!1;var n=typeof e;return(n=="number"?h$e(r)&&p$e(e,r.length):n=="string"&&e in r)?m$e(r[e],t):!1}var fw=y$e,x$e=Vz,b$e=F_e,v$e=f$e,d5=fw,j$e=v$e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&d5(t,e[0],e[1])?e=[]:r>2&&d5(e[0],e[1],e[2])&&(e=[e[0]]),b$e(t,x$e(e,1),[])}),w$e=j$e;const bO=rt(w$e);function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PA.apply(this,arguments)}function N$e(t,e){return T$e(t)||A$e(t,e)||S$e(t,e)||C$e()}function C$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S$e(t,e){if(t){if(typeof t=="string")return f5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f5(t,e)}}function f5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function T$e(t){if(Array.isArray(t))return t}function m5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function B1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(r),!0).forEach(function(n){k$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k$e(t,e,r){return e=E$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E$e(t){var e=O$e(t,"string");return Yf(e)=="symbol"?e:e+""}function O$e(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P$e(t){return Array.isArray(t)&&lr(t[0])&&lr(t[1])?t.join(" ~ "):t}var D$e=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,y=e.label,x=e.labelFormatter,b=e.accessibilityLayer,g=b===void 0?!1:b,j=function(){if(d&&d.length){var M={padding:0,margin:0},I=(m?bO(d,m):d).map(function(V,P){if(V.type==="none")return null;var F=B1({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},l),U=V.formatter||f||P$e,R=V.value,_=V.name,B=R,X=_;if(U&&B!=null&&X!=null){var $=U(R,_,V,P,d);if(Array.isArray($)){var z=N$e($,2);B=z[0],X=z[1]}else B=$}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:F},lr(X)?q.createElement("span",{className:"recharts-tooltip-item-name"},X):null,lr(X)?q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,q.createElement("span",{className:"recharts-tooltip-item-value"},B),q.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:M},I)}return null},C=B1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=B1({margin:0},u),w=!Ge(y),S=w?y:"",T=Oe("recharts-default-tooltip",h),k=Oe("recharts-tooltip-label",p);w&&x&&d!==void 0&&d!==null&&(S=x(y,d));var E=g?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",PA({className:T,style:C},E),q.createElement("p",{className:k,style:N},q.isValidElement(S)?S:"".concat(S)),j())};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function rp(t,e,r){return e=I$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I$e(t){var e=_$e(t,"string");return Kf(e)=="symbol"?e:e+""}function _$e(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ju="recharts-tooltip-wrapper",$$e={visibility:"hidden"};function R$e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Oe(Ju,rp(rp(rp(rp({},"".concat(Ju,"-right"),he(r)&&e&&he(e.x)&&r>=e.x),"".concat(Ju,"-left"),he(r)&&e&&he(e.x)&&r<e.x),"".concat(Ju,"-bottom"),he(n)&&e&&he(e.y)&&n>=e.y),"".concat(Ju,"-top"),he(n)&&e&&he(e.y)&&n<e.y))}function h5(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&he(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return o[n]?d:f;if(o[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,y=c[n]+u;return p>y?Math.max(d,c[n]):Math.max(f,c[n])}function M$e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function L$e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=h5({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=h5({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=M$e({translateX:d,translateY:f,useTranslate3d:l})):u=$$e,{cssProperties:u,cssClasses:R$e({translateX:d,translateY:f,coordinate:r})}}function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function p5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function g5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p5(Object(r),!0).forEach(function(n){IA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gz(n.key),n)}}function q$e(t,e,r){return e&&B$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V$e(t,e,r){return e=Zb(e),z$e(t,Hz()?Reflect.construct(e,r||[],Zb(t).constructor):e.apply(t,r))}function z$e(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U$e(t)}function U$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hz=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(t)}function W$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DA(t,e)}function IA(t,e,r){return e=Gz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gz(t){var e=H$e(t,"string");return Rc(e)=="symbol"?e:e+""}function H$e(t,e){if(Rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var y5=1,G$e=function(t){function e(){var r;F$e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=V$e(this,e,[].concat(a)),IA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),IA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return W$e(e,t),q$e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>y5||Math.abs(n.height-this.state.lastBoundingBox.height)>y5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,p=a.position,y=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,g=a.wrapperStyle,j=L$e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:p,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),C=j.cssClasses,N=j.cssProperties,w=g5(g5({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return q.createElement("div",{tabIndex:-1,className:C,style:w,ref:function(T){n.wrapperNode=T}},u)}}])}(v.PureComponent),Y$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mw={isSsr:Y$e()};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function x5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function b5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x5(Object(r),!0).forEach(function(n){vO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kz(n.key),n)}}function X$e(t,e,r){return e&&J$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z$e(t,e,r){return e=Qb(e),Q$e(t,Yz()?Reflect.construct(e,r||[],Qb(t).constructor):e.apply(t,r))}function Q$e(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eRe(t)}function eRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yz=function(){return!!t})()}function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qb(t)}function tRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_A(t,e)}function _A(t,e){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_A(t,e)}function vO(t,e,r){return e=Kz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kz(t){var e=rRe(t,"string");return Mc(e)=="symbol"?e:e+""}function rRe(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nRe(t){return t.dataKey}function aRe(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(D$e,e)}var Za=function(t){function e(){return K$e(this,e),Z$e(this,e,arguments)}return tRe(e,t),X$e(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,p=a.payload,y=a.payloadUniqBy,x=a.position,b=a.reverseDirection,g=a.useTranslate3d,j=a.viewBox,C=a.wrapperStyle,N=p??[];f&&N.length&&(N=Lz(p.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),y,nRe));var w=N.length>0;return q.createElement(G$e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:d,hasPayload:w,offset:h,position:x,reverseDirection:b,useTranslate3d:g,viewBox:j,wrapperStyle:C},aRe(u,b5(b5({},this.props),{},{payload:N})))}}])}(v.PureComponent);vO(Za,"displayName","Tooltip");vO(Za,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var sRe=Ua,iRe=function(){return sRe.Date.now()},oRe=iRe,lRe=/\s/;function cRe(t){for(var e=t.length;e--&&lRe.test(t.charAt(e)););return e}var uRe=cRe,dRe=uRe,fRe=/^\s+/;function mRe(t){return t&&t.slice(0,dRe(t)+1).replace(fRe,"")}var hRe=mRe,pRe=hRe,v5=Wi,gRe=hu,j5=NaN,yRe=/^[-+]0x[0-9a-f]+$/i,xRe=/^0b[01]+$/i,bRe=/^0o[0-7]+$/i,vRe=parseInt;function jRe(t){if(typeof t=="number")return t;if(gRe(t))return j5;if(v5(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=v5(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=pRe(t);var r=xRe.test(t);return r||bRe.test(t)?vRe(t.slice(2),r?2:8):yRe.test(t)?j5:+t}var Jz=jRe,wRe=Wi,q1=oRe,w5=Jz,NRe="Expected a function",CRe=Math.max,SRe=Math.min;function ARe(t,e,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(NRe);e=w5(e)||0,wRe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?CRe(w5(r.maxWait)||0,e):i,m="trailing"in r?!!r.trailing:m);function h(w){var S=n,T=a;return n=a=void 0,u=w,o=t.apply(T,S),o}function p(w){return u=w,l=setTimeout(b,e),d?h(w):o}function y(w){var S=w-c,T=w-u,k=e-S;return f?SRe(k,i-T):k}function x(w){var S=w-c,T=w-u;return c===void 0||S>=e||S<0||f&&T>=i}function b(){var w=q1();if(x(w))return g(w);l=setTimeout(b,y(w))}function g(w){return l=void 0,m&&n?h(w):(n=a=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function C(){return l===void 0?o:g(q1())}function N(){var w=q1(),S=x(w);if(n=arguments,a=this,c=w,S){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(b,e),h(c)}return l===void 0&&(l=setTimeout(b,e)),o}return N.cancel=j,N.flush=C,N}var TRe=ARe,kRe=TRe,ERe=Wi,ORe="Expected a function";function PRe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(ORe);return ERe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),kRe(t,e,{leading:n,maxWait:e,trailing:a})}var DRe=PRe;const Xz=rt(DRe);function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function N5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function np(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N5(Object(r),!0).forEach(function(n){IRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IRe(t,e,r){return e=_Re(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Re(t){var e=$Re(t,"string");return Jf(e)=="symbol"?e:e+""}function $Re(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RRe(t,e){return BRe(t)||FRe(t,e)||LRe(t,e)||MRe()}function MRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LRe(t,e){if(t){if(typeof t=="string")return C5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C5(t,e)}}function C5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function BRe(t){if(Array.isArray(t))return t}var hw=v.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,h=t.children,p=t.debounce,y=p===void 0?0:p,x=t.id,b=t.className,g=t.onResize,j=t.style,C=j===void 0?{}:j,N=v.useRef(null),w=v.useRef();w.current=g,v.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var S=v.useState({containerWidth:a.width,containerHeight:a.height}),T=RRe(S,2),k=T[0],E=T[1],O=v.useCallback(function(I,V){E(function(P){var F=Math.round(I),U=Math.round(V);return P.containerWidth===F&&P.containerHeight===U?P:{containerWidth:F,containerHeight:U}})},[]);v.useEffect(function(){var I=function(_){var B,X=_[0].contentRect,$=X.width,z=X.height;O($,z),(B=w.current)===null||B===void 0||B.call(w,$,z)};y>0&&(I=Xz(I,y,{trailing:!0,leading:!1}));var V=new ResizeObserver(I),P=N.current.getBoundingClientRect(),F=P.width,U=P.height;return O(F,U),V.observe(N.current),function(){V.disconnect()}},[O,y]);var M=v.useMemo(function(){var I=k.containerWidth,V=k.containerHeight;if(I<0||V<0)return null;xs(Co(o)||Co(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),xs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=Co(o)?I:o,F=Co(c)?V:c;r&&r>0&&(P?F=P/r:F&&(P=F*r),m&&F>m&&(F=m)),xs(P>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,F,o,c,d,f,r);var U=!Array.isArray(h)&&ys(h.type).endsWith("Chart");return q.Children.map(h,function(R){return q.isValidElement(R)?v.cloneElement(R,np({width:P,height:F},U?{style:np({height:"100%",width:"100%",maxHeight:F,maxWidth:P},R.props.style)}:{})):R})},[r,h,c,m,f,d,k,o]);return q.createElement("div",{id:x?"".concat(x):void 0,className:Oe("recharts-responsive-container",b),style:np(np({},C),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:N},M)}),wu=function(e){return null};wu.displayName="Cell";function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function S5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $A(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(r),!0).forEach(function(n){qRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qRe(t,e,r){return e=VRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VRe(t){var e=zRe(t,"string");return Xf(e)=="symbol"?e:e+""}function zRe(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ol={widthCache:{},cacheCount:0},URe=2e3,WRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},A5="recharts_measurement_span";function HRe(t){var e=$A({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var T5=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||mw.isSsr)return{width:0,height:0};var n=HRe(r),a=JSON.stringify({text:e,copyStyle:n});if(Ol.widthCache[a])return Ol.widthCache[a];try{var i=document.getElementById(A5);i||(i=document.createElement("span"),i.setAttribute("id",A5),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=$A($A({},WRe),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Ol.widthCache[a]=c,++Ol.cacheCount>URe&&(Ol.cacheCount=0,Ol.widthCache={}),c}catch{return{width:0,height:0}}},GRe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function e0(t,e){return XRe(t)||JRe(t,e)||KRe(t,e)||YRe()}function YRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KRe(t,e){if(t){if(typeof t=="string")return k5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k5(t,e)}}function k5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XRe(t){if(Array.isArray(t))return t}function ZRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e5e(n.key),n)}}function QRe(t,e,r){return e&&E5(t.prototype,e),r&&E5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function e5e(t){var e=t5e(t,"string");return Zf(e)=="symbol"?e:e+""}function t5e(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,P5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,n5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},a5e=Object.keys(Zz),Gl="NaN";function s5e(t,e){return t*Zz[e]}var ap=function(){function t(e,r){ZRe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!r5e.test(r)&&(this.num=NaN,this.unit=""),a5e.includes(r)&&(this.num=s5e(e,r),this.unit="px")}return QRe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=n5e.exec(r))!==null&&n!==void 0?n:[],i=e0(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])}();function Qz(t){if(t.includes(Gl))return Gl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=O5.exec(e))!==null&&r!==void 0?r:[],a=e0(n,4),i=a[1],o=a[2],l=a[3],c=ap.parse(i??""),u=ap.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Gl;e=e.replace(O5,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=P5.exec(e))!==null&&f!==void 0?f:[],h=e0(m,4),p=h[1],y=h[2],x=h[3],b=ap.parse(p??""),g=ap.parse(x??""),j=y==="+"?b.add(g):b.subtract(g);if(j.isNaN())return Gl;e=e.replace(P5,j.toString())}return e}var D5=/\(([^()]*)\)/;function i5e(t){for(var e=t;e.includes("(");){var r=D5.exec(e),n=e0(r,2),a=n[1];e=e.replace(D5,Qz(a))}return e}function o5e(t){var e=t.replace(/\s+/g,"");return e=i5e(e),e=Qz(e),e}function l5e(t){try{return o5e(t)}catch{return Gl}}function V1(t){var e=l5e(t.slice(5,-1));return e===Gl?"":e}var c5e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],u5e=["dx","dy","angle","className","breakAll"];function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RA.apply(this,arguments)}function I5(t,e){if(t==null)return{};var r=d5e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function d5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _5(t,e){return p5e(t)||h5e(t,e)||m5e(t,e)||f5e()}function f5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m5e(t,e){if(t){if(typeof t=="string")return $5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $5(t,e)}}function $5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function p5e(t){if(Array.isArray(t))return t}var e7=/[ \f\n\r\t\v\u2028\u2029]+/,t7=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Ge(r)||(n?i=r.toString().split(""):i=r.toString().split(e7));var o=i.map(function(c){return{word:c,width:T5(c,a).width}}),l=n?0:T5("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},g5e=function(e,r,n,a,i){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=he(o),f=l,m=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce(function(F,U){var R=U.word,_=U.width,B=F[F.length-1];if(B&&(a==null||i||B.width+_+n<Number(a)))B.words.push(R),B.width+=_+n;else{var X={words:[R],width:_};F.push(X)}return F},[])},h=m(r),p=function(P){return P.reduce(function(F,U){return F.width>U.width?F:U})};if(!d)return h;for(var y="",x=function(P){var F=f.slice(0,P),U=t7({breakAll:u,style:c,children:F+y}).wordsWithComputedWidth,R=m(U),_=R.length>o||p(R).width>Number(a);return[_,R]},b=0,g=f.length-1,j=0,C;b<=g&&j<=f.length-1;){var N=Math.floor((b+g)/2),w=N-1,S=x(w),T=_5(S,2),k=T[0],E=T[1],O=x(N),M=_5(O,1),I=M[0];if(!k&&!I&&(b=N+1),k&&I&&(g=N-1),!k&&I){C=E;break}j++}return C||h},R5=function(e){var r=Ge(e)?[]:e.toString().split(e7);return[{words:r}]},y5e=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!mw.isSsr){var c,u,d=t7({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return R5(a);return g5e({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return R5(a)},M5="#808080",Lc=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,h=m===void 0?"start":m,p=e.verticalAnchor,y=p===void 0?"end":p,x=e.fill,b=x===void 0?M5:x,g=I5(e,c5e),j=v.useMemo(function(){return y5e({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),C=g.dx,N=g.dy,w=g.angle,S=g.className,T=g.breakAll,k=I5(g,u5e);if(!lr(n)||!lr(i))return null;var E=n+(he(C)?C:0),O=i+(he(N)?N:0),M;switch(y){case"start":M=V1("calc(".concat(u,")"));break;case"middle":M=V1("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=V1("calc(".concat(j.length-1," * -").concat(l,")"));break}var I=[];if(f){var V=j[0].width,P=g.width;I.push("scale(".concat((he(P)?P/V:1)/V,")"))}return w&&I.push("rotate(".concat(w,", ").concat(E,", ").concat(O,")")),I.length&&(k.transform=I.join(" ")),q.createElement("text",RA({},Le(k,!0),{x:E,y:O,className:Oe("recharts-text",S),textAnchor:h,fill:b.includes("url")?M5:b}),j.map(function(F,U){var R=F.words.join(T?"":" ");return q.createElement("tspan",{x:E,dy:U===0?M:l,key:"".concat(R,"-").concat(U)},R)}))};function Ni(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function x5e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jO(t){let e,r,n;t.length!==2?(e=Ni,r=(l,c)=>Ni(t(l),c),n=(l,c)=>t(l)-c):(e=t===Ni||t===x5e?t:b5e,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function b5e(){return 0}function r7(t){return t===null?NaN:+t}function*v5e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const j5e=jO(Ni),eh=j5e.right;jO(r7).center;class L5 extends Map{constructor(e,r=C5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(F5(this,e))}has(e){return super.has(F5(this,e))}set(e,r){return super.set(w5e(this,e),r)}delete(e){return super.delete(N5e(this,e))}}function F5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function w5e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function N5e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function C5e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function S5e(t=Ni){if(t===Ni)return n7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function n7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const A5e=Math.sqrt(50),T5e=Math.sqrt(10),k5e=Math.sqrt(2);function t0(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=A5e?10:i>=T5e?5:i>=k5e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?t0(t,e,r*2):[l,c,u]}function MA(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?t0(e,t,r):t0(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function LA(t,e,r){return e=+e,t=+t,r=+r,t0(t,e,r)[2]}function FA(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?LA(e,t,r):LA(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function B5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function q5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function a7(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?n7:S5e(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+m)),p=Math.min(n,Math.floor(e+(c-u)*f/c+m));a7(t,e,h,p,a)}const i=t[e];let o=r,l=n;for(Xu(t,r,e),a(t[n],i)>0&&Xu(t,r,n);o<l;){for(Xu(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?Xu(t,r,l):(++l,Xu(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Xu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function E5e(t,e,r){if(t=Float64Array.from(v5e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return q5(t);if(e>=1)return B5(t);var n,a=(n-1)*e,i=Math.floor(a),o=B5(a7(t,i).subarray(0,i+1)),l=q5(t.subarray(i+1));return o+(l-o)*(a-i)}}function O5e(t,e,r=r7){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function P5e(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function Jn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const BA=Symbol("implicit");function wO(){var t=new L5,e=[],r=[],n=BA;function a(i){let o=t.get(i);if(o===void 0){if(n!==BA)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new L5;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return wO(e,r).unknown(n)},Jn.apply(a,arguments),a}function Qf(){var t=wO().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,h=a<n,p=h?a:n,y=h?n:a;i=(y-p)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),p+=(y-p-i*(m-c))*d,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var x=P5e(m).map(function(b){return p+i*b});return r(h?x.reverse():x)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return Qf(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Jn.apply(f(),arguments)}function s7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return s7(e())},t}function Xd(){return s7(Qf.apply(null,arguments).paddingInner(1))}function NO(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function i7(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function th(){}var em=.7,r0=1/em,yc="\\s*([+-]?\\d+)\\s*",tm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D5e=/^#([0-9a-f]{3,8})$/,I5e=new RegExp(`^rgb\\(${yc},${yc},${yc}\\)$`),_5e=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),$5e=new RegExp(`^rgba\\(${yc},${yc},${yc},${tm}\\)$`),R5e=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${tm}\\)$`),M5e=new RegExp(`^hsl\\(${tm},${Ba},${Ba}\\)$`),L5e=new RegExp(`^hsla\\(${tm},${Ba},${Ba},${tm}\\)$`),V5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NO(th,rm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:z5,formatHex:z5,formatHex8:F5e,formatHsl:B5e,formatRgb:U5,toString:U5});function z5(){return this.rgb().formatHex()}function F5e(){return this.rgb().formatHex8()}function B5e(){return o7(this).formatHsl()}function U5(){return this.rgb().formatRgb()}function rm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=D5e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?W5(e):r===3?new Jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?sp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?sp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=I5e.exec(t))?new Jr(e[1],e[2],e[3],1):(e=_5e.exec(t))?new Jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$5e.exec(t))?sp(e[1],e[2],e[3],e[4]):(e=R5e.exec(t))?sp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=M5e.exec(t))?Y5(e[1],e[2]/100,e[3]/100,1):(e=L5e.exec(t))?Y5(e[1],e[2]/100,e[3]/100,e[4]):V5.hasOwnProperty(t)?W5(V5[t]):t==="transparent"?new Jr(NaN,NaN,NaN,0):null}function W5(t){return new Jr(t>>16&255,t>>8&255,t&255,1)}function sp(t,e,r,n){return n<=0&&(t=e=r=NaN),new Jr(t,e,r,n)}function q5e(t){return t instanceof th||(t=rm(t)),t?(t=t.rgb(),new Jr(t.r,t.g,t.b,t.opacity)):new Jr}function qA(t,e,r,n){return arguments.length===1?q5e(t):new Jr(t,e,r,n??1)}function Jr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}NO(Jr,qA,i7(th,{brighter(t){return t=t==null?r0:Math.pow(r0,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?em:Math.pow(em,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jr(Lo(this.r),Lo(this.g),Lo(this.b),n0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:H5,formatHex:H5,formatHex8:V5e,formatRgb:G5,toString:G5}));function H5(){return`#${So(this.r)}${So(this.g)}${So(this.b)}`}function V5e(){return`#${So(this.r)}${So(this.g)}${So(this.b)}${So((isNaN(this.opacity)?1:this.opacity)*255)}`}function G5(){const t=n0(this.opacity);return`${t===1?"rgb(":"rgba("}${Lo(this.r)}, ${Lo(this.g)}, ${Lo(this.b)}${t===1?")":`, ${t})`}`}function n0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function So(t){return t=Lo(t),(t<16?"0":"")+t.toString(16)}function Y5(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new sa(t,e,r,n)}function o7(t){if(t instanceof sa)return new sa(t.h,t.s,t.l,t.opacity);if(t instanceof th||(t=rm(t)),!t)return new sa;if(t instanceof sa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new sa(o,l,c,t.opacity)}function z5e(t,e,r,n){return arguments.length===1?o7(t):new sa(t,e,r,n??1)}function sa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}NO(sa,z5e,i7(th,{brighter(t){return t=t==null?r0:Math.pow(r0,t),new sa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?em:Math.pow(em,t),new sa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Jr(z1(t>=240?t-240:t+120,a,n),z1(t,a,n),z1(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new sa(K5(this.h),ip(this.s),ip(this.l),n0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=n0(this.opacity);return`${t===1?"hsl(":"hsla("}${K5(this.h)}, ${ip(this.s)*100}%, ${ip(this.l)*100}%${t===1?")":`, ${t})`}`}}));function K5(t){return t=(t||0)%360,t<0?t+360:t}function ip(t){return Math.max(0,Math.min(1,t||0))}function z1(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const CO=t=>()=>t;function U5e(t,e){return function(r){return t+r*e}}function W5e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function H5e(t){return(t=+t)==1?l7:function(e,r){return r-e?W5e(e,r,t):CO(isNaN(e)?r:e)}}function l7(t,e){var r=e-t;return r?U5e(t,r):CO(isNaN(t)?e:t)}const J5=function t(e){var r=H5e(e);function n(a,i){var o=r((a=qA(a)).r,(i=qA(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=l7(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function G5e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function Y5e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function K5e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Nu(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function J5e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function a0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function X5e(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Nu(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var VA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,U1=new RegExp(VA.source,"g");function Z5e(t){return function(){return t}}function Q5e(t){return function(e){return t(e)+""}}function eMe(t,e){var r=VA.lastIndex=U1.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=VA.exec(t))&&(a=U1.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:a0(n,a)})),r=U1.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Q5e(c[0].x):Z5e(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Nu(t,e){var r=typeof e,n;return e==null||r==="boolean"?CO(e):(r==="number"?a0:r==="string"?(n=rm(e))?(e=n,J5):eMe:e instanceof rm?J5:e instanceof Date?J5e:Y5e(e)?G5e:Array.isArray(e)?K5e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?X5e:a0)(t,e)}function SO(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function tMe(t,e){e===void 0&&(e=t,t=Nu);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function rMe(t){return function(){return t}}function s0(t){return+t}var X5=[0,1];function Lr(t){return t}function zA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:rMe(isNaN(e)?NaN:.5)}function nMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function aMe(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=zA(a,n),i=r(o,i)):(n=zA(n,a),i=r(i,o)),function(l){return i(n(l))}}function sMe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=zA(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=eh(t,l,1,n)-1;return i[c](a[c](l))}}function rh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pw(){var t=X5,e=X5,r=Nu,n,a,i,o=Lr,l,c,u;function d(){var m=Math.min(t.length,e.length);return o!==Lr&&(o=nMe(t[0],t[m-1])),l=m>2?sMe:aMe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(t.map(n),e,r)))(n(o(m)))}return f.invert=function(m){return o(a((u||(u=l(e,t.map(n),a0)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,s0),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=SO,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Lr,d()):o!==Lr},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return n=m,a=h,d()}}function AO(){return pw()(Lr,Lr)}function iMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function i0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Fc(t){return t=i0(Math.abs(t)),t?t[1]:NaN}function oMe(t,e){return function(r,n){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function lMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var cMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nm(t){if(!(e=cMe.exec(t)))throw new Error("invalid format: "+t);var e;return new TO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nm.prototype=TO.prototype;function TO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uMe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var c7;function dMe(t,e){var r=i0(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(c7=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+i0(t,Math.max(0,e+i-1))[0]}function Z5(t,e){var r=i0(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Q5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:iMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Z5(t*100,e),r:Z5,s:dMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function eM(t){return t}var tM=Array.prototype.map,rM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fMe(t){var e=t.grouping===void 0||t.thousands===void 0?eM:oMe(tM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?eM:lMe(tM.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=nm(f);var m=f.fill,h=f.align,p=f.sign,y=f.symbol,x=f.zero,b=f.width,g=f.comma,j=f.precision,C=f.trim,N=f.type;N==="n"?(g=!0,N="g"):Q5[N]||(j===void 0&&(j=12),C=!0,N="g"),(x||m==="0"&&h==="=")&&(x=!0,m="0",h="=");var w=y==="$"?r:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",S=y==="$"?n:/[%p]/.test(N)?o:"",T=Q5[N],k=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function E(O){var M=w,I=S,V,P,F;if(N==="c")I=T(O)+I,O="";else{O=+O;var U=O<0||1/O<0;if(O=isNaN(O)?c:T(Math.abs(O),j),C&&(O=uMe(O)),U&&+O==0&&p!=="+"&&(U=!1),M=(U?p==="("?p:l:p==="-"||p==="("?"":p)+M,I=(N==="s"?rM[8+c7/3]:"")+I+(U&&p==="("?")":""),k){for(V=-1,P=O.length;++V<P;)if(F=O.charCodeAt(V),48>F||F>57){I=(F===46?a+O.slice(V+1):O.slice(V))+I,O=O.slice(0,V);break}}}g&&!x&&(O=e(O,1/0));var R=M.length+O.length+I.length,_=R<b?new Array(b-R+1).join(m):"";switch(g&&x&&(O=e(_+O,_.length?b-I.length:1/0),_=""),h){case"<":O=M+O+I+_;break;case"=":O=M+_+O+I;break;case"^":O=_.slice(0,R=_.length>>1)+M+O+I+_.slice(R);break;default:O=_+M+O+I;break}return i(O)}return E.toString=function(){return f+""},E}function d(f,m){var h=u((f=nm(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Fc(m)/3)))*3,y=Math.pow(10,-p),x=rM[8+p/3];return function(b){return h(y*b)+x}}return{format:u,formatPrefix:d}}var op,kO,u7;mMe({thousands:",",grouping:[3],currency:["$",""]});function mMe(t){return op=fMe(t),kO=op.format,u7=op.formatPrefix,op}function hMe(t){return Math.max(0,-Fc(Math.abs(t)))}function pMe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fc(e)/3)))*3-Fc(Math.abs(t)))}function gMe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fc(e)-Fc(t))+1}function d7(t,e,r,n){var a=FA(t,e,r),i;switch(n=nm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=pMe(a,o))&&(n.precision=i),u7(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=gMe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=hMe(a))&&(n.precision=i-(n.type==="%")*2);break}}return kO(n)}function Gi(t){var e=t.domain;return t.ticks=function(r){var n=e();return MA(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return d7(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=LA(o,l,r),u===c)return n[a]=o,n[i]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function o0(){var t=AO();return t.copy=function(){return rh(t,o0())},Jn.apply(t,arguments),Gi(t)}function f7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,s0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return f7(t).unknown(e)},t=arguments.length?Array.from(t,s0):[0,1],Gi(r)}function m7(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function nM(t){return Math.log(t)}function aM(t){return Math.exp(t)}function yMe(t){return-Math.log(-t)}function xMe(t){return-Math.exp(-t)}function bMe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vMe(t){return t===10?bMe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jMe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function sM(t){return(e,r)=>-t(-e,r)}function EO(t){const e=t(nM,aM),r=e.domain;let n=10,a,i;function o(){return a=jMe(n),i=vMe(n),r()[0]<0?(a=sM(a),i=sM(i),t(yMe,xMe)):t(nM,aM),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),p,y;const x=l==null?10:+l;let b=[];if(!(n%1)&&h-m<x){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(p=1;p<n;++p)if(y=m<0?p/i(-m):p*i(m),!(y<u)){if(y>d)break;b.push(y)}}else for(;m<=h;++m)for(p=n-1;p>=1;--p)if(y=m>0?p/i(-m):p*i(m),!(y<u)){if(y>d)break;b.push(y)}b.length*2<x&&(b=MA(u,d,x))}else b=MA(m,h,Math.min(h-m,x)).map(i);return f?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=nm(c)).precision==null&&(c.trim=!0),c=kO(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(m7(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function h7(){const t=EO(pw()).domain([1,10]);return t.copy=()=>rh(t,h7()).base(t.base()),Jn.apply(t,arguments),t}function iM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function oM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function OO(t){var e=1,r=t(iM(e),oM(e));return r.constant=function(n){return arguments.length?t(iM(e=+n),oM(e)):e},Gi(r)}function p7(){var t=OO(pw());return t.copy=function(){return rh(t,p7()).constant(t.constant())},Jn.apply(t,arguments)}function lM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wMe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function NMe(t){return t<0?-t*t:t*t}function PO(t){var e=t(Lr,Lr),r=1;function n(){return r===1?t(Lr,Lr):r===.5?t(wMe,NMe):t(lM(r),lM(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Gi(e)}function DO(){var t=PO(pw());return t.copy=function(){return rh(t,DO()).exponent(t.exponent())},Jn.apply(t,arguments),t}function CMe(){return DO.apply(null,arguments).exponent(.5)}function cM(t){return Math.sign(t)*t*t}function SMe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function g7(){var t=AO(),e=[0,1],r=!1,n;function a(i){var o=SMe(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(cM(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,s0)).map(cM)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return g7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Jn.apply(a,arguments),Gi(a)}function y7(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=O5e(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[eh(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ni),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return y7().domain(t).range(e).unknown(n)},Jn.apply(i,arguments)}function x7(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[eh(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return x7().domain([t,e]).range(a).unknown(i)},Jn.apply(Gi(o),arguments)}function b7(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[eh(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return b7().domain(t).range(e).unknown(r)},Jn.apply(a,arguments)}const W1=new Date,H1=new Date;function cr(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<o);return c},a.filter=i=>cr(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(W1.setTime(+i),H1.setTime(+o),t(W1),t(H1),Math.floor(r(W1,H1))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const l0=cr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);l0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?cr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):l0);l0.range;const us=1e3,Bn=us*60,ds=Bn*60,Es=ds*24,IO=Es*7,uM=Es*30,G1=Es*365,Ao=cr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCSeconds());Ao.range;const _O=cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*us)},(t,e)=>{t.setTime(+t+e*Bn)},(t,e)=>(e-t)/Bn,t=>t.getMinutes());_O.range;const $O=cr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Bn)},(t,e)=>(e-t)/Bn,t=>t.getUTCMinutes());$O.range;const RO=cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*us-t.getMinutes()*Bn)},(t,e)=>{t.setTime(+t+e*ds)},(t,e)=>(e-t)/ds,t=>t.getHours());RO.range;const MO=cr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ds)},(t,e)=>(e-t)/ds,t=>t.getUTCHours());MO.range;const nh=cr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bn)/Es,t=>t.getDate()-1);nh.range;const gw=cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Es,t=>t.getUTCDate()-1);gw.range;const v7=cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Es,t=>Math.floor(t/Es));v7.range;function pl(t){return cr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Bn)/IO)}const yw=pl(0),c0=pl(1),AMe=pl(2),TMe=pl(3),Bc=pl(4),kMe=pl(5),EMe=pl(6);yw.range;c0.range;AMe.range;TMe.range;Bc.range;kMe.range;EMe.range;function gl(t){return cr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/IO)}const xw=gl(0),u0=gl(1),OMe=gl(2),PMe=gl(3),qc=gl(4),DMe=gl(5),IMe=gl(6);xw.range;u0.range;OMe.range;PMe.range;qc.range;DMe.range;IMe.range;const LO=cr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LO.range;const FO=cr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());FO.range;const Os=cr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Os.range;const Ps=cr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ps.range;function j7(t,e,r,n,a,i){const o=[[Ao,1,us],[Ao,5,5*us],[Ao,15,15*us],[Ao,30,30*us],[i,1,Bn],[i,5,5*Bn],[i,15,15*Bn],[i,30,30*Bn],[a,1,ds],[a,3,3*ds],[a,6,6*ds],[a,12,12*ds],[n,1,Es],[n,2,2*Es],[r,1,IO],[e,1,uM],[e,3,3*uM],[t,1,G1]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),p=h?h.range(u,+d+1):[];return m?p.reverse():p}function c(u,d,f){const m=Math.abs(d-u)/f,h=jO(([,,x])=>x).right(o,m);if(h===o.length)return t.every(FA(u/G1,d/G1,f));if(h===0)return l0.every(Math.max(FA(u,d,f),1));const[p,y]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return p.every(y)}return[l,c]}const[_Me,$Me]=j7(Ps,FO,xw,v7,MO,$O),[RMe,MMe]=j7(Os,LO,yw,nh,RO,_O);function Y1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function K1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function LMe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Qu(a),d=ed(a),f=Qu(i),m=ed(i),h=Qu(o),p=ed(o),y=Qu(l),x=ed(l),b=Qu(c),g=ed(c),j={a:U,A:R,b:_,B,c:null,d:gM,e:gM,f:oLe,g:yLe,G:bLe,H:aLe,I:sLe,j:iLe,L:w7,m:lLe,M:cLe,p:X,q:$,Q:bM,s:vM,S:uLe,u:dLe,U:fLe,V:mLe,w:hLe,W:pLe,x:null,X:null,y:gLe,Y:xLe,Z:vLe,"%":xM},C={a:z,A:ne,b:xe,B:ee,c:null,d:yM,e:yM,f:CLe,g:_Le,G:RLe,H:jLe,I:wLe,j:NLe,L:C7,m:SLe,M:ALe,p:re,q:_e,Q:bM,s:vM,S:TLe,u:kLe,U:ELe,V:OLe,w:PLe,W:DLe,x:null,X:null,y:ILe,Y:$Le,Z:MLe,"%":xM},N={a:E,A:O,b:M,B:I,c:V,d:hM,e:hM,f:eLe,g:mM,G:fM,H:pM,I:pM,j:JMe,L:QMe,m:KMe,M:XMe,p:k,q:YMe,Q:rLe,s:nLe,S:ZMe,u:zMe,U:UMe,V:WMe,w:VMe,W:HMe,x:P,X:F,y:mM,Y:fM,Z:GMe,"%":tLe};j.x=w(r,j),j.X=w(n,j),j.c=w(e,j),C.x=w(r,C),C.X=w(n,C),C.c=w(e,C);function w(Z,K){return function(H){var Y=[],fe=-1,je=0,Ye=Z.length,xt,ie,He;for(H instanceof Date||(H=new Date(+H));++fe<Ye;)Z.charCodeAt(fe)===37&&(Y.push(Z.slice(je,fe)),(ie=dM[xt=Z.charAt(++fe)])!=null?xt=Z.charAt(++fe):ie=xt==="e"?" ":"0",(He=K[xt])&&(xt=He(H,ie)),Y.push(xt),je=fe+1);return Y.push(Z.slice(je,fe)),Y.join("")}}function S(Z,K){return function(H){var Y=Zu(1900,void 0,1),fe=T(Y,Z,H+="",0),je,Ye;if(fe!=H.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(K&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(je=K1(Zu(Y.y,0,1)),Ye=je.getUTCDay(),je=Ye>4||Ye===0?u0.ceil(je):u0(je),je=gw.offset(je,(Y.V-1)*7),Y.y=je.getUTCFullYear(),Y.m=je.getUTCMonth(),Y.d=je.getUTCDate()+(Y.w+6)%7):(je=Y1(Zu(Y.y,0,1)),Ye=je.getDay(),je=Ye>4||Ye===0?c0.ceil(je):c0(je),je=nh.offset(je,(Y.V-1)*7),Y.y=je.getFullYear(),Y.m=je.getMonth(),Y.d=je.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Ye="Z"in Y?K1(Zu(Y.y,0,1)).getUTCDay():Y1(Zu(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Ye+5)%7:Y.w+Y.U*7-(Ye+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,K1(Y)):Y1(Y)}}function T(Z,K,H,Y){for(var fe=0,je=K.length,Ye=H.length,xt,ie;fe<je;){if(Y>=Ye)return-1;if(xt=K.charCodeAt(fe++),xt===37){if(xt=K.charAt(fe++),ie=N[xt in dM?K.charAt(fe++):xt],!ie||(Y=ie(Z,H,Y))<0)return-1}else if(xt!=H.charCodeAt(Y++))return-1}return Y}function k(Z,K,H){var Y=u.exec(K.slice(H));return Y?(Z.p=d.get(Y[0].toLowerCase()),H+Y[0].length):-1}function E(Z,K,H){var Y=h.exec(K.slice(H));return Y?(Z.w=p.get(Y[0].toLowerCase()),H+Y[0].length):-1}function O(Z,K,H){var Y=f.exec(K.slice(H));return Y?(Z.w=m.get(Y[0].toLowerCase()),H+Y[0].length):-1}function M(Z,K,H){var Y=b.exec(K.slice(H));return Y?(Z.m=g.get(Y[0].toLowerCase()),H+Y[0].length):-1}function I(Z,K,H){var Y=y.exec(K.slice(H));return Y?(Z.m=x.get(Y[0].toLowerCase()),H+Y[0].length):-1}function V(Z,K,H){return T(Z,e,K,H)}function P(Z,K,H){return T(Z,r,K,H)}function F(Z,K,H){return T(Z,n,K,H)}function U(Z){return o[Z.getDay()]}function R(Z){return i[Z.getDay()]}function _(Z){return c[Z.getMonth()]}function B(Z){return l[Z.getMonth()]}function X(Z){return a[+(Z.getHours()>=12)]}function $(Z){return 1+~~(Z.getMonth()/3)}function z(Z){return o[Z.getUTCDay()]}function ne(Z){return i[Z.getUTCDay()]}function xe(Z){return c[Z.getUTCMonth()]}function ee(Z){return l[Z.getUTCMonth()]}function re(Z){return a[+(Z.getUTCHours()>=12)]}function _e(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var K=w(Z+="",j);return K.toString=function(){return Z},K},parse:function(Z){var K=S(Z+="",!1);return K.toString=function(){return Z},K},utcFormat:function(Z){var K=w(Z+="",C);return K.toString=function(){return Z},K},utcParse:function(Z){var K=S(Z+="",!0);return K.toString=function(){return Z},K}}}var dM={"-":"",_:" ",0:"0"},gr=/^\s*\d+/,FMe=/^%/,BMe=/[\\^$*+?|[\]().{}]/g;function Xe(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function qMe(t){return t.replace(BMe,"\\$&")}function Qu(t){return new RegExp("^(?:"+t.map(qMe).join("|")+")","i")}function ed(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function VMe(t,e,r){var n=gr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function zMe(t,e,r){var n=gr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function UMe(t,e,r){var n=gr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function WMe(t,e,r){var n=gr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function HMe(t,e,r){var n=gr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function fM(t,e,r){var n=gr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function mM(t,e,r){var n=gr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GMe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function YMe(t,e,r){var n=gr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function KMe(t,e,r){var n=gr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function hM(t,e,r){var n=gr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function JMe(t,e,r){var n=gr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function pM(t,e,r){var n=gr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function XMe(t,e,r){var n=gr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function ZMe(t,e,r){var n=gr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function QMe(t,e,r){var n=gr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function eLe(t,e,r){var n=gr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tLe(t,e,r){var n=FMe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function rLe(t,e,r){var n=gr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function nLe(t,e,r){var n=gr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function gM(t,e){return Xe(t.getDate(),e,2)}function aLe(t,e){return Xe(t.getHours(),e,2)}function sLe(t,e){return Xe(t.getHours()%12||12,e,2)}function iLe(t,e){return Xe(1+nh.count(Os(t),t),e,3)}function w7(t,e){return Xe(t.getMilliseconds(),e,3)}function oLe(t,e){return w7(t,e)+"000"}function lLe(t,e){return Xe(t.getMonth()+1,e,2)}function cLe(t,e){return Xe(t.getMinutes(),e,2)}function uLe(t,e){return Xe(t.getSeconds(),e,2)}function dLe(t){var e=t.getDay();return e===0?7:e}function fLe(t,e){return Xe(yw.count(Os(t)-1,t),e,2)}function N7(t){var e=t.getDay();return e>=4||e===0?Bc(t):Bc.ceil(t)}function mLe(t,e){return t=N7(t),Xe(Bc.count(Os(t),t)+(Os(t).getDay()===4),e,2)}function hLe(t){return t.getDay()}function pLe(t,e){return Xe(c0.count(Os(t)-1,t),e,2)}function gLe(t,e){return Xe(t.getFullYear()%100,e,2)}function yLe(t,e){return t=N7(t),Xe(t.getFullYear()%100,e,2)}function xLe(t,e){return Xe(t.getFullYear()%1e4,e,4)}function bLe(t,e){var r=t.getDay();return t=r>=4||r===0?Bc(t):Bc.ceil(t),Xe(t.getFullYear()%1e4,e,4)}function vLe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xe(e/60|0,"0",2)+Xe(e%60,"0",2)}function yM(t,e){return Xe(t.getUTCDate(),e,2)}function jLe(t,e){return Xe(t.getUTCHours(),e,2)}function wLe(t,e){return Xe(t.getUTCHours()%12||12,e,2)}function NLe(t,e){return Xe(1+gw.count(Ps(t),t),e,3)}function C7(t,e){return Xe(t.getUTCMilliseconds(),e,3)}function CLe(t,e){return C7(t,e)+"000"}function SLe(t,e){return Xe(t.getUTCMonth()+1,e,2)}function ALe(t,e){return Xe(t.getUTCMinutes(),e,2)}function TLe(t,e){return Xe(t.getUTCSeconds(),e,2)}function kLe(t){var e=t.getUTCDay();return e===0?7:e}function ELe(t,e){return Xe(xw.count(Ps(t)-1,t),e,2)}function S7(t){var e=t.getUTCDay();return e>=4||e===0?qc(t):qc.ceil(t)}function OLe(t,e){return t=S7(t),Xe(qc.count(Ps(t),t)+(Ps(t).getUTCDay()===4),e,2)}function PLe(t){return t.getUTCDay()}function DLe(t,e){return Xe(u0.count(Ps(t)-1,t),e,2)}function ILe(t,e){return Xe(t.getUTCFullYear()%100,e,2)}function _Le(t,e){return t=S7(t),Xe(t.getUTCFullYear()%100,e,2)}function $Le(t,e){return Xe(t.getUTCFullYear()%1e4,e,4)}function RLe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?qc(t):qc.ceil(t),Xe(t.getUTCFullYear()%1e4,e,4)}function MLe(){return"+0000"}function xM(){return"%"}function bM(t){return+t}function vM(t){return Math.floor(+t/1e3)}var Pl,A7,T7;LLe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LLe(t){return Pl=LMe(t),A7=Pl.format,Pl.parse,T7=Pl.utcFormat,Pl.utcParse,Pl}function FLe(t){return new Date(t)}function BLe(t){return t instanceof Date?+t:+new Date(+t)}function BO(t,e,r,n,a,i,o,l,c,u){var d=AO(),f=d.invert,m=d.domain,h=u(".%L"),p=u(":%S"),y=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),g=u("%b %d"),j=u("%B"),C=u("%Y");function N(w){return(c(w)<w?h:l(w)<w?p:o(w)<w?y:i(w)<w?x:n(w)<w?a(w)<w?b:g:r(w)<w?j:C)(w)}return d.invert=function(w){return new Date(f(w))},d.domain=function(w){return arguments.length?m(Array.from(w,BLe)):m().map(FLe)},d.ticks=function(w){var S=m();return t(S[0],S[S.length-1],w??10)},d.tickFormat=function(w,S){return S==null?N:u(S)},d.nice=function(w){var S=m();return(!w||typeof w.range!="function")&&(w=e(S[0],S[S.length-1],w??10)),w?m(m7(S,w)):d},d.copy=function(){return rh(d,BO(t,e,r,n,a,i,o,l,c,u))},d}function qLe(){return Jn.apply(BO(RMe,MMe,Os,LO,yw,nh,RO,_O,Ao,A7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VLe(){return Jn.apply(BO(_Me,$Me,Ps,FO,xw,gw,MO,$O,Ao,T7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bw(){var t=0,e=1,r,n,a,i,o=Lr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,p;return arguments.length?([h,p]=m,o=f(h,p),u):[o(0),o(1)]}}return u.range=d(Nu),u.rangeRound=d(SO),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function Yi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function k7(){var t=Gi(bw()(Lr));return t.copy=function(){return Yi(t,k7())},Bs.apply(t,arguments)}function E7(){var t=EO(bw()).domain([1,10]);return t.copy=function(){return Yi(t,E7()).base(t.base())},Bs.apply(t,arguments)}function O7(){var t=OO(bw());return t.copy=function(){return Yi(t,O7()).constant(t.constant())},Bs.apply(t,arguments)}function qO(){var t=PO(bw());return t.copy=function(){return Yi(t,qO()).exponent(t.exponent())},Bs.apply(t,arguments)}function zLe(){return qO.apply(null,arguments).exponent(.5)}function P7(){var t=[],e=Lr;function r(n){if(n!=null&&!isNaN(n=+n))return e((eh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ni),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>E5e(t,i/n))},r.copy=function(){return P7(e).domain(t)},Bs.apply(r,arguments)}function vw(){var t=0,e=.5,r=1,n=1,a,i,o,l,c,u=Lr,d,f=!1,m;function h(y){return isNaN(y=+y)?m:(y=.5+((y=+d(y))-i)*(n*y<n*i?l:c),u(f?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([t,e,r]=y,a=d(t=+t),i=d(e=+e),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h):[t,e,r]},h.clamp=function(y){return arguments.length?(f=!!y,h):f},h.interpolator=function(y){return arguments.length?(u=y,h):u};function p(y){return function(x){var b,g,j;return arguments.length?([b,g,j]=x,u=tMe(y,[b,g,j]),h):[u(0),u(.5),u(1)]}}return h.range=p(Nu),h.rangeRound=p(SO),h.unknown=function(y){return arguments.length?(m=y,h):m},function(y){return d=y,a=y(t),i=y(e),o=y(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function D7(){var t=Gi(vw()(Lr));return t.copy=function(){return Yi(t,D7())},Bs.apply(t,arguments)}function I7(){var t=EO(vw()).domain([.1,1,10]);return t.copy=function(){return Yi(t,I7()).base(t.base())},Bs.apply(t,arguments)}function _7(){var t=OO(vw());return t.copy=function(){return Yi(t,_7()).constant(t.constant())},Bs.apply(t,arguments)}function VO(){var t=PO(vw());return t.copy=function(){return Yi(t,VO()).exponent(t.exponent())},Bs.apply(t,arguments)}function ULe(){return VO.apply(null,arguments).exponent(.5)}const jM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qf,scaleDiverging:D7,scaleDivergingLog:I7,scaleDivergingPow:VO,scaleDivergingSqrt:ULe,scaleDivergingSymlog:_7,scaleIdentity:f7,scaleImplicit:BA,scaleLinear:o0,scaleLog:h7,scaleOrdinal:wO,scalePoint:Xd,scalePow:DO,scaleQuantile:y7,scaleQuantize:x7,scaleRadial:g7,scaleSequential:k7,scaleSequentialLog:E7,scaleSequentialPow:qO,scaleSequentialQuantile:P7,scaleSequentialSqrt:zLe,scaleSequentialSymlog:O7,scaleSqrt:CMe,scaleSymlog:p7,scaleThreshold:b7,scaleTime:qLe,scaleUtc:VLe,tickFormat:d7},Symbol.toStringTag,{value:"Module"}));var WLe=hu;function HLe(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],o=e(i);if(o!=null&&(l===void 0?o===o&&!WLe(o):r(o,l)))var l=o,c=i}return c}var jw=HLe;function GLe(t,e){return t>e}var $7=GLe,YLe=jw,KLe=$7,JLe=ju;function XLe(t){return t&&t.length?YLe(t,JLe,KLe):void 0}var ZLe=XLe;const ww=rt(ZLe);function QLe(t,e){return t<e}var R7=QLe,e3e=jw,t3e=R7,r3e=ju;function n3e(t){return t&&t.length?e3e(t,r3e,t3e):void 0}var a3e=n3e;const Nw=rt(a3e);var s3e=tO,i3e=Hi,o3e=Uz,l3e=an;function c3e(t,e){var r=l3e(t)?s3e:o3e;return r(t,i3e(e))}var u3e=c3e,d3e=Vz,f3e=u3e;function m3e(t,e){return d3e(f3e(t,e),1)}var h3e=m3e;const p3e=rt(h3e);var g3e=yO;function y3e(t,e){return g3e(t,e)}var x3e=y3e;const zO=rt(x3e);var Cu=1e9,b3e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WO,Mt=!0,Yn="[DecimalError] ",Fo=Yn+"Invalid argument: ",UO=Yn+"Exponent out of range: ",Su=Math.floor,mo=Math.pow,v3e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,un,dr=1e7,kt=7,M7=9007199254740991,d0=Su(M7/kt),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*kt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ye.dividedBy=ye.div=function(t){return bs(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,r=e.constructor;return yt(bs(e,new r(t),0,1),r.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return rr(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(un))throw Error(Yn+"NaN");if(r.s<1)throw Error(Yn+(r.s?"NaN":"-Infinity"));return r.eq(un)?new n(0):(Mt=!1,e=bs(am(r,i),am(t,i),i),Mt=!0,yt(e,a))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?B7(e,t):L7(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Yn+"NaN");return r.s?(Mt=!1,e=bs(r,t,0,1).times(t),Mt=!0,r.minus(e)):yt(new n(r),a)};ye.naturalExponential=ye.exp=function(){return F7(this)};ye.naturalLogarithm=ye.ln=function(){return am(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?L7(e,t):B7(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fo+t);if(e=rr(a)+1,n=a.d.length-1,r=n*kt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ye.squareRoot=ye.sqrt=function(){var t,e,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Yn+"NaN")}for(t=rr(l),Mt=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Ea(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Su((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(bs(l,i,o+2)).times(.5),Ea(i.d).slice(0,o)===(e=Ea(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(yt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return Mt=!0,yt(n,r)};ye.times=ye.mul=function(t){var e,r,n,a,i,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=h.length,c<u&&(i=m,m=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+h[n]*m[a-n-1]+e,i[a--]=l%dr|0,e=l/dr|0;i[a]=(i[a]+e)%dr|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Mt?yt(t,f.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Va(t,0,Cu),e===void 0?e=n.rounding:Va(e,0,8),yt(r,t+rr(r)+1,e))};ye.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=tl(n,!0):(Va(t,0,Cu),e===void 0?e=a.rounding:Va(e,0,8),n=yt(new a(n),t+1,e),r=tl(n,!0,t+1)),r};ye.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?tl(a):(Va(t,0,Cu),e===void 0?e=i.rounding:Va(e,0,8),n=yt(new i(a),t+rr(a)+1,e),r=tl(n.abs(),!1,t+rr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return yt(new e(t),rr(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(un);if(l=new c(l),!l.s){if(t.s<1)throw Error(Yn+"Infinity");return l}if(l.eq(un))return l;if(n=c.precision,t.eq(un))return yt(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=d<0?-d:d)<=M7){for(a=new c(un),e=Math.ceil(n/kt+4),Mt=!1;r%2&&(a=a.times(l),NM(a.d,e)),r=Su(r/2),r!==0;)l=l.times(l),NM(l.d,e);return Mt=!0,t.s<0?new c(un).div(a):yt(a,n)}}else if(i<0)throw Error(Yn+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Mt=!1,a=t.times(am(l,n+u)),Mt=!0,a=F7(a),a.s=i,a};ye.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=rr(a),n=tl(a,r<=i.toExpNeg||r>=i.toExpPos)):(Va(t,1,Cu),e===void 0?e=i.rounding:Va(e,0,8),a=yt(new i(a),t,e),r=rr(a),n=tl(a,t<=r||r<=i.toExpNeg,t)),n};ye.toSignificantDigits=ye.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Va(t,1,Cu),e===void 0?e=n.rounding:Va(e,0,8)),yt(new n(r),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=rr(t),r=t.constructor;return tl(t,e<=r.toExpNeg||e>=r.toExpPos)};function L7(t,e){var r,n,a,i,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Mt?yt(e,f):e;if(c=t.d,u=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/kt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/dr|0,c[i]%=dr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Mt?yt(e,f):e}function Va(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Fo+t)}function Ea(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=kt-n.length,r&&(i+=Ks(r)),i+=n;o=t[e],n=o+"",r=kt-n.length,r&&(i+=Ks(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var bs=function(){function t(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%dr|0,o=i/dr|0;return o&&n.unshift(o),n}function e(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*dr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,m,h,p,y,x,b,g,j,C,N,w,S,T,k=n.constructor,E=n.s==a.s?1:-1,O=n.d,M=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Yn+"Division by zero");for(c=n.e-a.e,S=M.length,N=O.length,h=new k(E),p=h.d=[],u=0;M[u]==(O[u]||0);)++u;if(M[u]>(O[u]||0)&&--c,i==null?g=i=k.precision:o?g=i+(rr(n)-rr(a))+1:g=i,g<0)return new k(0);if(g=g/kt+2|0,u=0,S==1)for(d=0,M=M[0],g++;(u<N||d)&&g--;u++)j=d*dr+(O[u]||0),p[u]=j/M|0,d=j%M|0;else{for(d=dr/(M[0]+1)|0,d>1&&(M=t(M,d),O=t(O,d),S=M.length,N=O.length),C=S,y=O.slice(0,S),x=y.length;x<S;)y[x++]=0;T=M.slice(),T.unshift(0),w=M[0],M[1]>=dr/2&&++w;do d=0,l=e(M,y,S,x),l<0?(b=y[0],S!=x&&(b=b*dr+(y[1]||0)),d=b/w|0,d>1?(d>=dr&&(d=dr-1),f=t(M,d),m=f.length,x=y.length,l=e(f,y,m,x),l==1&&(d--,r(f,S<m?T:M,m))):(d==0&&(l=d=1),f=M.slice()),m=f.length,m<x&&f.unshift(0),r(y,f,x),l==-1&&(x=y.length,l=e(M,y,S,x),l<1&&(d++,r(y,S<x?T:M,x))),x=y.length):l===0&&(d++,y=[0]),p[u++]=d,l&&y[0]?y[x++]=O[C]||0:(y=[O[C]],x=1);while((C++<N||y[0]!==void 0)&&g--)}return p[0]||p.shift(),h.e=c,yt(h,o?i+rr(h)+1:i)}}();function F7(t,e){var r,n,a,i,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(rr(t)>16)throw Error(UO+rr(t));if(!t.s)return new d(un);for(Mt=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(mo(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(un),d.precision=l;;){if(a=yt(a.times(t),l),r=r.times(++c),o=i.plus(bs(a,r,l)),Ea(o.d).slice(0,l)===Ea(i.d).slice(0,l)){for(;u--;)i=yt(i.times(i),l);return d.precision=f,e==null?(Mt=!0,yt(i,f)):i}i=o}}function rr(t){for(var e=t.e*kt,r=t.d[0];r>=10;r/=10)e++;return e}function J1(t,e,r){if(e>t.LN10.sd())throw Mt=!0,r&&(t.precision=r),Error(Yn+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function Ks(t){for(var e="";t--;)e+="0";return e}function am(t,e){var r,n,a,i,o,l,c,u,d,f=1,m=10,h=t,p=h.d,y=h.constructor,x=y.precision;if(h.s<1)throw Error(Yn+(h.s?"NaN":"-Infinity"));if(h.eq(un))return new y(0);if(e==null?(Mt=!1,u=x):u=e,h.eq(10))return e==null&&(Mt=!0),J1(y,u);if(u+=m,y.precision=u,r=Ea(p),n=r.charAt(0),i=rr(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Ea(h.d),n=r.charAt(0),f++;i=rr(h),n>1?(h=new y("0."+r),i++):h=new y(n+"."+r.slice(1))}else return c=J1(y,u+2,x).times(i+""),h=am(new y(n+"."+r.slice(1)),u-m).plus(c),y.precision=x,e==null?(Mt=!0,yt(h,x)):h;for(l=o=h=bs(h.minus(un),h.plus(un),u),d=yt(h.times(h),u),a=3;;){if(o=yt(o.times(d),u),c=l.plus(bs(o,new y(a),u)),Ea(c.d).slice(0,u)===Ea(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(J1(y,u+2,x).times(i+""))),l=bs(l,new y(f),u),y.precision=x,e==null?(Mt=!0,yt(l,x)):l;l=c,a+=2}}function wM(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Su(r/kt),t.d=[],n=(r+1)%kt,r<0&&(n+=kt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=kt;n<a;)t.d.push(+e.slice(n,n+=kt));e=e.slice(n),n=kt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Mt&&(t.e>d0||t.e<-d0))throw Error(UO+r)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,r){var n,a,i,o,l,c,u,d,f=t.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=kt,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/kt),i=f.length,d>=i)return t;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=kt,a=n-kt+o}if(r!==void 0&&(i=mo(10,o-a-1),l=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/mo(10,o-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(i=rr(t),f.length=1,e=e-i-1,f[0]=mo(10,(kt-e%kt)%kt),t.e=Su(-e/kt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=mo(10,kt-n),f[d]=a>0?(u/mo(10,o-a)%mo(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==dr&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=dr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Mt&&(t.e>d0||t.e<-d0))throw Error(UO+rr(t));return t}function B7(t,e){var r,n,a,i,o,l,c,u,d,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Mt?yt(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/kt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=dr-1;--c[i],c[a]+=dr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Mt?yt(e,h):e):new m(0)}function tl(t,e,r){var n,a=rr(t),i=Ea(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ks(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ks(-a-1)+i,r&&(n=r-o)>0&&(i+=Ks(n))):a>=o?(i+=Ks(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Ks(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Ks(n))),t.s<0?"-"+i:i}function NM(t,e){if(t.length>e)return t.length=e,!0}function q7(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Fo+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return wM(o,i.toString())}else if(typeof i!="string")throw Error(Fo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,v3e.test(i))wM(o,i);else throw Error(Fo+i)}if(a.prototype=ye,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=q7,a.config=a.set=j3e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function j3e(t){if(!t||typeof t!="object")throw Error(Yn+"Object expected");var e,r,n,a=["precision",1,Cu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Su(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Fo+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fo+r+": "+n);return this}var WO=q7(b3e);un=new WO(1);const ht=WO;function w3e(t){return A3e(t)||S3e(t)||C3e(t)||N3e()}function N3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C3e(t,e){if(t){if(typeof t=="string")return UA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UA(t,e)}}function S3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function A3e(t){if(Array.isArray(t))return UA(t)}function UA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var T3e=function(e){return e},V7={},z7=function(e){return e===V7},CM=function(e){return function r(){return arguments.length===0||arguments.length===1&&z7(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},k3e=function t(e,r){return e===1?r:CM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==V7}).length;return o>=e?r.apply(void 0,a):t(e-o,CM(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return z7(f)?c.shift():f});return r.apply(void 0,w3e(d).concat(c))}))})},Cw=function(e){return k3e(e.length,e)},WA=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},E3e=Cw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),O3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return T3e;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},HA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},U7=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function P3e(t){var e;return t===0?e=1:e=Math.floor(new ht(t).abs().log(10).toNumber())+1,e}function D3e(t,e,r){for(var n=new ht(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var I3e=Cw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),_3e=Cw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),$3e=Cw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Sw={rangeStep:D3e,getDigitCount:P3e,interpolateNumber:I3e,uninterpolateNumber:_3e,uninterpolateTruncation:$3e};function GA(t){return L3e(t)||M3e(t)||W7(t)||R3e()}function R3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function L3e(t){if(Array.isArray(t))return YA(t)}function sm(t,e){return q3e(t)||B3e(t,e)||W7(t,e)||F3e()}function F3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W7(t,e){if(t){if(typeof t=="string")return YA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YA(t,e)}}function YA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B3e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function q3e(t){if(Array.isArray(t))return t}function H7(t){var e=sm(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function G7(t,e,r){if(t.lte(0))return new ht(0);var n=Sw.getDigitCount(t.toNumber()),a=new ht(10).pow(n),i=t.div(a),o=n!==1?.05:.1,l=new ht(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new ht(Math.ceil(c))}function V3e(t,e,r){var n=1,a=new ht(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new ht(10).pow(Sw.getDigitCount(t)-1),a=new ht(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ht(Math.floor(t)))}else t===0?a=new ht(Math.floor((e-1)/2)):r||(a=new ht(Math.floor(t)));var o=Math.floor((e-1)/2),l=O3e(E3e(function(c){return a.add(new ht(c-o).mul(n)).toNumber()}),WA);return l(0,e)}function Y7(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ht(0),tickMin:new ht(0),tickMax:new ht(0)};var i=G7(new ht(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new ht(0):(o=new ht(t).add(e).div(2),o=o.sub(new ht(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new ht(e).sub(o).div(i).toNumber()),u=l+c+1;return u>r?Y7(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:i,tickMin:o.sub(new ht(l).mul(i)),tickMax:o.add(new ht(c).mul(i))})}function z3e(t){var e=sm(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=H7([r,n]),c=sm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(GA(WA(0,a-1).map(function(){return 1/0}))):[].concat(GA(WA(0,a-1).map(function(){return-1/0})),[d]);return r>n?HA(f):f}if(u===d)return V3e(u,a,i);var m=Y7(u,d,o,i),h=m.step,p=m.tickMin,y=m.tickMax,x=Sw.rangeStep(p,y.add(new ht(.1).mul(h)),h);return r>n?HA(x):x}function U3e(t,e){var r=sm(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=H7([n,a]),l=sm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=G7(new ht(u).sub(c).div(d-1),i,0),m=[].concat(GA(Sw.rangeStep(new ht(c),new ht(u).sub(new ht(.99).mul(f)),f)),[u]);return n>a?HA(m):m}var W3e=U7(z3e),H3e=U7(U3e),G3e="Invariant failed";function Vc(t,e){throw new Error(G3e)}var Y3e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f0.apply(this,arguments)}function K3e(t,e){return Q3e(t)||Z3e(t,e)||X3e(t,e)||J3e()}function J3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X3e(t,e){if(t){if(typeof t=="string")return SM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SM(t,e)}}function SM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Q3e(t){if(Array.isArray(t))return t}function eFe(t,e){if(t==null)return{};var r=tFe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X7(n.key),n)}}function aFe(t,e,r){return e&&nFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sFe(t,e,r){return e=m0(e),iFe(t,K7()?Reflect.construct(e,r||[],m0(t).constructor):e.apply(t,r))}function iFe(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oFe(t)}function oFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K7=function(){return!!t})()}function m0(t){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m0(t)}function lFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KA(t,e)}function KA(t,e){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KA(t,e)}function J7(t,e,r){return e=X7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X7(t){var e=cFe(t,"string");return zc(e)=="symbol"?e:e+""}function cFe(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HO=function(t){function e(){return rFe(this,e),sFe(this,e,arguments)}return lFe(e,t),aFe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=eFe(n,Y3e),h=Le(m,!1);this.props.direction==="x"&&d.type!=="number"&&Vc();var p=c.map(function(y){var x=u(y,l),b=x.x,g=x.y,j=x.value,C=x.errorVal;if(!C)return null;var N=[],w,S;if(Array.isArray(C)){var T=K3e(C,2);w=T[0],S=T[1]}else w=S=C;if(i==="vertical"){var k=d.scale,E=g+a,O=E+o,M=E-o,I=k(j-w),V=k(j+S);N.push({x1:V,y1:O,x2:V,y2:M}),N.push({x1:I,y1:E,x2:V,y2:E}),N.push({x1:I,y1:O,x2:I,y2:M})}else if(i==="horizontal"){var P=f.scale,F=b+a,U=F-o,R=F+o,_=P(j-w),B=P(j+S);N.push({x1:U,y1:B,x2:R,y2:B}),N.push({x1:F,y1:_,x2:F,y2:B}),N.push({x1:U,y1:_,x2:R,y2:_})}return q.createElement(Wt,f0({className:"recharts-errorBar",key:"bar-".concat(N.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},h),N.map(function(X){return q.createElement("line",f0({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return q.createElement(Wt,{className:"recharts-errorBars"},p)}}])}(q.Component);J7(HO,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});J7(HO,"displayName","ErrorBar");function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function AM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function to(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(r),!0).forEach(function(n){uFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uFe(t,e,r){return e=dFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dFe(t){var e=fFe(t,"string");return im(e)=="symbol"?e:e+""}function fFe(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z7=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=_n(r,Fa);if(!o)return null;var l=Fa.defaultProps,c=l!==void 0?to(to({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,p=h.sectors||h.data||[];return d.concat(p.map(function(y){return{type:o.props.iconType||m.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?to(to({},m),f.props):{},p=h.dataKey,y=h.name,x=h.legendType,b=h.hide;return{inactive:b,dataKey:p,type:c.iconType||x||"square",color:GO(f),value:y||p,payload:h}}),to(to(to({},c),Fa.getWithHeight(o,a)),{},{payload:u,item:o})};function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function TM(t){return gFe(t)||pFe(t)||hFe(t)||mFe()}function mFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hFe(t,e){if(t){if(typeof t=="string")return JA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JA(t,e)}}function pFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gFe(t){if(Array.isArray(t))return JA(t)}function JA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(r),!0).forEach(function(n){xc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xc(t,e,r){return e=yFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yFe(t){var e=xFe(t,"string");return om(e)=="symbol"?e:e+""}function xFe(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dn(t,e,r){return Ge(t)||Ge(e)?r:lr(e)?ma(t,e,r):Fe(e)?e(t):r}function Zd(t,e,r,n){var a=p3e(t,function(l){return dn(l,e)});if(r==="number"){var i=a.filter(function(l){return he(l)||parseFloat(l)});return i.length?[Nw(i),ww(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Ge(l)}):a;return o.map(function(l){return lr(l)||l instanceof Date?l:""})}var bFe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(Fn(f-d)!==Fn(m-f)){var p=[];if(Fn(m-f)===Fn(c[1]-c[0])){h=m;var y=f+c[1]-c[0];p[0]=Math.min(y,(y+d)/2),p[1]=Math.max(y,(y+d)/2)}else{h=d;var x=m+c[1]-c[0];p[0]=Math.min(f,(x+f)/2),p[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>b[0]&&e<=b[1]||e>=p[0]&&e<=p[1]){o=a[u].index;break}}else{var g=Math.min(d,m),j=Math.max(d,m);if(e>(g+f)/2&&e<=(j+f)/2){o=a[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},GO=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},vFe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var p=d[f[m]],y=p.items,x=p.cateAxisId,b=y.filter(function(S){return ys(S.type).indexOf("Bar")>=0});if(b&&b.length){var g=b[0].type.defaultProps,j=g!==void 0?Ut(Ut({},g),b[0].props):b[0].props,C=j.barSize,N=j[x];o[N]||(o[N]=[]);var w=Ge(C)?r:C;o[N].push({item:b[0],stackList:b.slice(1),barSize:Ge(w)?void 0:Kr(w,n,0)})}}return o},jFe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Kr(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=a/c,p=o.reduce(function(C,N){return C+N.barSize||0},0);p+=(c-1)*u,p>=a&&(p-=(c-1)*u,u=0),p>=a&&h>0&&(m=!0,h*=.9,p=c*h);var y=(a-p)/2>>0,x={offset:y-u,size:0};d=o.reduce(function(C,N){var w={item:N.item,position:{offset:x.offset+x.size+u,size:m?h:N.barSize}},S=[].concat(TM(C),[w]);return x=S[S.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(T){S.push({item:T,position:x})}),S},f)}else{var b=Kr(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var g=(a-2*b-(c-1)*u)/c;g>1&&(g>>=0);var j=l===+l?Math.min(g,l):g;d=o.reduce(function(C,N,w){var S=[].concat(TM(C),[{item:N.item,position:{offset:b+(g+u)*w+(g-j)/2,size:j}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},f)}return d},wFe=function(e,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Z7({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,h=u.align,p=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&p==="middle")&&h!=="center"&&he(e[h]))return Ut(Ut({},e),{},xc({},h,e[h]+(f||0)));if((y==="horizontal"||y==="vertical"&&h==="center")&&p!=="middle"&&he(e[p]))return Ut(Ut({},e),{},xc({},p,e[p]+(m||0)))}return e},NFe=function(e,r,n){return Ge(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Q7=function(e,r,n,a,i){var o=r.props.children,l=La(o,HO).filter(function(u){return NFe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=dn(d,n);if(Ge(f))return u;var m=Array.isArray(f)?[Nw(f),ww(f)]:[f,f],h=c.reduce(function(p,y){var x=dn(d,y,0),b=m[0]-Math.abs(Array.isArray(x)?x[0]:x),g=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,p[0]),Math.max(g,p[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},CFe=function(e,r,n,a,i){var o=r.map(function(l){return Q7(e,l,n,i,a)}).filter(function(l){return!Ge(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},eU=function(e,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Q7(e,c,u,a)||Zd(e,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},tU=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},xd=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Fn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!Qm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:i?i[f]:f,index:m,offset:u}})},X1=new WeakMap,lp=function(e,r){if(typeof r!="function")return e;X1.has(e)||X1.set(e,new WeakMap);var n=X1.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},SFe=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Qf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:o0(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:Xd(),realScaleType:"point"}:i==="category"?{scale:Qf(),realScaleType:"band"}:{scale:o0(),realScaleType:"linear"};if(Zm(a)){var c="scale".concat(iw(a));return{scale:(jM[c]||Xd)(),realScaleType:jM[c]?c:"point"}}return Fe(a)?{scale:a}:{scale:Xd(),realScaleType:"point"}},EM=1e-4,AFe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-EM,o=Math.max(a[0],a[1])+EM,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},TFe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Qm(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},kFe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Qm(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},EFe={sign:TFe,expand:GTe,none:Ic,silhouette:YTe,wiggle:KTe,positive:kFe},OFe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=EFe[n],o=HTe().keys(a).value(function(l,c){return+dn(l,c,0)}).order(jA).offset(i);return o(e)},PFe=function(e,r,n,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,m){var h,p=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Ut(Ut({},m.type.defaultProps),m.props):m.props,y=p.stackId,x=p.hide;if(x)return f;var b=p[n],g=f[b]||{hasStack:!1,stackGroups:{}};if(lr(y)){var j=g.stackGroups[y]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(m),g.hasStack=!0,g.stackGroups[y]=j}else g.stackGroups[aw("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Ut(Ut({},f),{},xc({},b,g))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(y,x){var b=h.stackGroups[x];return Ut(Ut({},y),{},xc({},x,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:OFe(e,b.items,i)}))},p)}return Ut(Ut({},f),{},xc({},m,h))},d)},DFe=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=W3e(u,i,l);return e.domain([Nw(d),ww(d)]),{niceTicks:d}}if(i&&a==="number"){var f=e.domain(),m=H3e(f,i,l);return{niceTicks:m}}return null},IFe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(lr(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},_Fe=function(e){return e.reduce(function(r,n){return[Nw(n.concat([r[0]]).filter(he)),ww(n.concat([r[1]]).filter(he))]},[1/0,-1/0])},rU=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(u,d){var f=_Fe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},OM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XA=function(e,r,n){if(Fe(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(he(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(OM.test(e[0])){var i=+OM.exec(e[0])[1];a[0]=r[0]-i}else Fe(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(he(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(PM.test(e[1])){var o=+PM.exec(e[1])[1];a[1]=r[1]+o}else Fe(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},ZA=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=bO(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},DM=function(e,r,n){return!e||!e.length||zO(e,ma(n,"type.defaultProps.domain"))?r:e},$Fe=function(e,r){var n=e.type.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ut(Ut({},Le(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:GO(e),value:dn(r,a),type:c,payload:r,chartType:u,hide:d})};function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function IM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(r),!0).forEach(function(n){nU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nU(t,e,r){return e=RFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RFe(t){var e=MFe(t,"string");return lm(e)=="symbol"?e:e+""}function MFe(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LFe(t,e){return VFe(t)||qFe(t,e)||BFe(t,e)||FFe()}function FFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BFe(t,e){if(t){if(typeof t=="string")return _M(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _M(t,e)}}function _M(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function VFe(t){if(Array.isArray(t))return t}var h0=Math.PI/180,zFe=function(e){return e*180/Math.PI},Ct=function(e,r,n,a){return{x:e+Math.cos(-h0*a)*n,y:r+Math.sin(-h0*a)*n}},aU=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},UFe=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Kr(e.cx,o,o/2),f=Kr(e.cy,l,l/2),m=aU(o,l,n),h=Kr(e.innerRadius,m,0),p=Kr(e.outerRadius,m,m*.8),y=Object.keys(r);return y.reduce(function(x,b){var g=r[b],j=g.domain,C=g.reversed,N;if(Ge(g.range))a==="angleAxis"?N=[c,u]:a==="radiusAxis"&&(N=[h,p]),C&&(N=[N[1],N[0]]);else{N=g.range;var w=N,S=LFe(w,2);c=S[0],u=S[1]}var T=SFe(g,i),k=T.realScaleType,E=T.scale;E.domain(j).range(N),AFe(E);var O=DFe(E,Qa(Qa({},g),{},{realScaleType:k})),M=Qa(Qa(Qa({},g),O),{},{range:N,radius:p,realScaleType:k,scale:E,cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:c,endAngle:u});return Qa(Qa({},x),{},nU({},b,M))},{})},WFe=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},HFe=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,l=WFe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:zFe(u),angleInRadian:u}},GFe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},YFe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},$M=function(e,r){var n=e.x,a=e.y,i=HFe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=GFe(r),f=d.startAngle,m=d.endAngle,h=l,p;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;p=h>=m&&h<=f}return p?Qa(Qa({},r),{},{radius:o,angle:YFe(h,r)}):null},sU=function(e){return!v.isValidElement(e)&&!Fe(e)&&typeof e!="boolean"?e.className:""};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}var KFe=["offset"];function JFe(t){return e4e(t)||QFe(t)||ZFe(t)||XFe()}function XFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZFe(t,e){if(t){if(typeof t=="string")return QA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QA(t,e)}}function QFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e4e(t){if(Array.isArray(t))return QA(t)}function QA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t4e(t,e){if(t==null)return{};var r=r4e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(r),!0).forEach(function(n){n4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n4e(t,e,r){return e=a4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a4e(t){var e=s4e(t,"string");return cm(e)=="symbol"?e:e+""}function s4e(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},um.apply(this,arguments)}var i4e=function(e){var r=e.value,n=e.formatter,a=Ge(e.children)?r:e.children;return Fe(n)?n(a):a},o4e=function(e,r){var n=Fn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},l4e=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,p=c.endAngle,y=c.clockWise,x=(f+m)/2,b=o4e(h,p),g=b>=0?1:-1,j,C;a==="insideStart"?(j=h+g*o,C=y):a==="insideEnd"?(j=p-g*o,C=!y):a==="end"&&(j=p+g*o,C=y),C=b<=0?C:!C;var N=Ct(u,d,x,j),w=Ct(u,d,x,j+(C?1:-1)*359),S="M".concat(N.x,",").concat(N.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(w.x,",").concat(w.y),T=Ge(e.id)?aw("recharts-radial-line-"):e.id;return q.createElement("text",um({},n,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:T,d:S})),q.createElement("textPath",{xlinkHref:"#".concat(T)},r))},c4e=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,m=(d+f)/2;if(a==="outside"){var h=Ct(o,l,u+n,m),p=h.x,y=h.y;return{x:p,y,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=Ct(o,l,x,m),g=b.x,j=b.y;return{x:g,y:j,textAnchor:"middle",verticalAnchor:"middle"}},u4e=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*a,h=f>0?"end":"start",p=f>0?"start":"end",y=u>=0?1:-1,x=y*a,b=y>0?"end":"start",g=y>0?"start":"end";if(i==="top"){var j={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return ar(ar({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var C={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:p};return ar(ar({},C),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return ar(ar({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(i==="right"){var w={x:l+u+x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return ar(ar({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?ar({x:l+x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):i==="insideRight"?ar({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):i==="insideTop"?ar({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:p},S):i==="insideBottom"?ar({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},S):i==="insideTopLeft"?ar({x:l+x,y:c+m,textAnchor:g,verticalAnchor:p},S):i==="insideTopRight"?ar({x:l+u-x,y:c+m,textAnchor:b,verticalAnchor:p},S):i==="insideBottomLeft"?ar({x:l+x,y:c+d-m,textAnchor:g,verticalAnchor:h},S):i==="insideBottomRight"?ar({x:l+u-x,y:c+d-m,textAnchor:b,verticalAnchor:h},S):pu(i)&&(he(i.x)||Co(i.x))&&(he(i.y)||Co(i.y))?ar({x:l+Kr(i.x,u),y:c+Kr(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):ar({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},d4e=function(e){return"cx"in e&&he(e.cx)};function jr(t){var e=t.offset,r=e===void 0?5:e,n=t4e(t,KFe),a=ar({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!i||Ge(l)&&Ge(c)&&!v.isValidElement(u)&&!Fe(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var h;if(Fe(u)){if(h=v.createElement(u,a),v.isValidElement(h))return h}else h=i4e(a);var p=d4e(i),y=Le(a,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return l4e(a,h,y);var x=p?c4e(a):u4e(a);return q.createElement(Lc,um({className:Oe("recharts-label",f)},y,x,{breakAll:m}),h)}jr.displayName="Label";var iU=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,h=e.top,p=e.left,y=e.width,x=e.height,b=e.clockWise,g=e.labelViewBox;if(g)return g;if(he(y)&&he(x)){if(he(f)&&he(m))return{x:f,y:m,width:y,height:x};if(he(h)&&he(p))return{x:h,y:p,width:y,height:x}}return he(f)&&he(m)?{x:f,y:m,width:0,height:0}:he(r)&&he(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},f4e=function(e,r){return e?e===!0?q.createElement(jr,{key:"label-implicit",viewBox:r}):lr(e)?q.createElement(jr,{key:"label-implicit",viewBox:r,value:e}):v.isValidElement(e)?e.type===jr?v.cloneElement(e,{key:"label-implicit",viewBox:r}):q.createElement(jr,{key:"label-implicit",content:e,viewBox:r}):Fe(e)?q.createElement(jr,{key:"label-implicit",content:e,viewBox:r}):pu(e)?q.createElement(jr,um({viewBox:r},e,{key:"label-implicit"})):null:null},m4e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=iU(e),o=La(a,jr).map(function(c,u){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=f4e(e.label,r||i);return[l].concat(JFe(o))};jr.parseViewBox=iU;jr.renderCallByParent=m4e;function h4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var p4e=h4e;const g4e=rt(p4e);function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}var y4e=["valueAccessor"],x4e=["data","dataKey","clockWise","id","textBreakAll"];function b4e(t){return N4e(t)||w4e(t)||j4e(t)||v4e()}function v4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j4e(t,e){if(t){if(typeof t=="string")return eT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eT(t,e)}}function w4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N4e(t){if(Array.isArray(t))return eT(t)}function eT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p0.apply(this,arguments)}function MM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(r),!0).forEach(function(n){C4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C4e(t,e,r){return e=S4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S4e(t){var e=A4e(t,"string");return dm(e)=="symbol"?e:e+""}function A4e(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FM(t,e){if(t==null)return{};var r=T4e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var k4e=function(e){return Array.isArray(e.value)?g4e(e.value):e.value};function Bo(t){var e=t.valueAccessor,r=e===void 0?k4e:e,n=FM(t,y4e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=FM(n,x4e);return!a||!a.length?null:q.createElement(Wt,{className:"recharts-label-list"},a.map(function(d,f){var m=Ge(i)?r(d,f):dn(d&&d.payload,i),h=Ge(l)?{}:{id:"".concat(l,"-").concat(f)};return q.createElement(jr,p0({},Le(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:jr.parseViewBox(Ge(o)?d:LM(LM({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Bo.displayName="LabelList";function E4e(t,e){return t?t===!0?q.createElement(Bo,{key:"labelList-implicit",data:e}):q.isValidElement(t)||Fe(t)?q.createElement(Bo,{key:"labelList-implicit",data:e,content:t}):pu(t)?q.createElement(Bo,p0({data:e},t,{key:"labelList-implicit"})):null:null}function O4e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=La(n,Bo).map(function(o,l){return v.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=E4e(t.label,e);return[i].concat(b4e(a))}Bo.renderCallByParent=O4e;function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tT.apply(this,arguments)}function BM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(r),!0).forEach(function(n){P4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P4e(t,e,r){return e=D4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D4e(t){var e=I4e(t,"string");return fm(e)=="symbol"?e:e+""}function I4e(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _4e=function(e,r){var n=Fn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},cp=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/h0,m=u?i:i+o*f,h=Ct(r,n,d,m),p=Ct(r,n,a,m),y=u?i-o*f:i,x=Ct(r,n,d*Math.cos(f*h0),y);return{center:h,circleTangency:p,lineTangency:x,theta:f}},oU=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=_4e(o,l),u=o+c,d=Ct(r,n,i,o),f=Ct(r,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Ct(r,n,a,o),p=Ct(r,n,a,u);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},$4e=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Fn(d-u),m=cp({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,p=m.lineTangency,y=m.theta,x=cp({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,g=x.lineTangency,j=x.theta,C=c?Math.abs(u-d):Math.abs(u-d)-y-j;if(C<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):oU({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var w=cp({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=w.circleTangency,T=w.lineTangency,k=w.theta,E=cp({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=E.circleTangency,M=E.lineTangency,I=E.theta,V=c?Math.abs(u-d):Math.abs(u-d)-k-I;if(V<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},R4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lU=function(e){var r=qM(qM({},R4e),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(o<i||d===f)return null;var h=Oe("recharts-sector",m),p=o-i,y=Kr(l,p,0,!0),x;return y>0&&Math.abs(d-f)<360?x=$4e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=oU({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),q.createElement("path",tT({},Le(r,!0),{className:h,d:x,role:"img"}))};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rT.apply(this,arguments)}function VM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(r),!0).forEach(function(n){M4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M4e(t,e,r){return e=L4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L4e(t){var e=F4e(t,"string");return mm(e)=="symbol"?e:e+""}function F4e(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UM={curveBasisClosed:$Te,curveBasisOpen:RTe,curveBasis:_Te,curveBumpX:vTe,curveBumpY:jTe,curveLinearClosed:MTe,curveLinear:lw,curveMonotoneX:LTe,curveMonotoneY:FTe,curveNatural:BTe,curveStep:qTe,curveStepAfter:zTe,curveStepBefore:VTe},up=function(e){return e.x===+e.x&&e.y===+e.y},td=function(e){return e.x},rd=function(e){return e.y},B4e=function(e,r){if(Fe(e))return e;var n="curve".concat(iw(e));return(n==="curveMonotone"||n==="curveBump")&&r?UM["".concat(n).concat(r==="vertical"?"Y":"X")]:UM[n]||lw},q4e=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=B4e(n,l),f=u?i.filter(function(y){return up(y)}):i,m;if(Array.isArray(o)){var h=u?o.filter(function(y){return up(y)}):o,p=f.map(function(y,x){return zM(zM({},y),{},{base:h[x]})});return l==="vertical"?m=ep().y(rd).x1(td).x0(function(y){return y.base.x}):m=ep().x(td).y1(rd).y0(function(y){return y.base.y}),m.defined(up).curve(d),m(p)}return l==="vertical"&&he(o)?m=ep().y(rd).x1(td).x0(o):he(o)?m=ep().x(td).y1(rd).y0(o):m=lz().x(td).y(rd),m.defined(up).curve(d),m(f)},nT=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?q4e(e):a;return q.createElement("path",rT({},Le(e,!1),qb(e),{className:Oe("recharts-curve",r),d:o,ref:i}))},cU={exports:{}},V4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",z4e=V4e,U4e=z4e;function uU(){}function dU(){}dU.resetWarningCache=uU;var W4e=function(){function t(n,a,i,o,l,c){if(c!==U4e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dU,resetWarningCache:uU};return r.PropTypes=r,r};cU.exports=W4e();var H4e=cU.exports;const nt=rt(H4e);var G4e=Object.getOwnPropertyNames,Y4e=Object.getOwnPropertySymbols,K4e=Object.prototype.hasOwnProperty;function WM(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function dp(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function HM(t){return G4e(t).concat(Y4e(t))}var J4e=Object.hasOwn||function(t,e){return K4e.call(t,e)};function yl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var X4e="__v",Z4e="__o",Q4e="_owner",GM=Object.getOwnPropertyDescriptor,YM=Object.keys;function eBe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function tBe(t,e){return yl(t.getTime(),e.getTime())}function rBe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function nBe(t,e){return t===e}function KM(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=o.value,h=l.value;if(r.equals(m[0],h[0],c,f,t,e,r)&&r.equals(m[1],h[1],m[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var aBe=yl;function sBe(t,e,r){var n=YM(t),a=n.length;if(YM(e).length!==a)return!1;for(;a-- >0;)if(!fU(t,e,r,n[a]))return!1;return!0}function nd(t,e,r){var n=HM(t),a=n.length;if(HM(e).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!fU(t,e,r,i)||(o=GM(t,i),l=GM(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function iBe(t,e){return yl(t.valueOf(),e.valueOf())}function oBe(t,e){return t.source===e.source&&t.flags===e.flags}function JM(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function lBe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function cBe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function fU(t,e,r,n){return(n===Q4e||n===Z4e||n===X4e)&&(t.$$typeof||e.$$typeof)?!0:J4e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var uBe="[object Arguments]",dBe="[object Boolean]",fBe="[object Date]",mBe="[object Error]",hBe="[object Map]",pBe="[object Number]",gBe="[object Object]",yBe="[object RegExp]",xBe="[object Set]",bBe="[object String]",vBe="[object URL]",jBe=Array.isArray,XM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ZM=Object.assign,wBe=Object.prototype.toString.call.bind(Object.prototype.toString);function NBe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(p,y,x){if(p===y)return!0;if(p==null||y==null)return!1;var b=typeof p;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?o(p,y,x):b==="function"?a(p,y,x):!1;var g=p.constructor;if(g!==y.constructor)return!1;if(g===Object)return l(p,y,x);if(jBe(p))return e(p,y,x);if(XM!=null&&XM(p))return f(p,y,x);if(g===Date)return r(p,y,x);if(g===RegExp)return u(p,y,x);if(g===Map)return i(p,y,x);if(g===Set)return d(p,y,x);var j=wBe(p);return j===fBe?r(p,y,x):j===yBe?u(p,y,x):j===hBe?i(p,y,x):j===xBe?d(p,y,x):j===gBe?typeof p.then!="function"&&typeof y.then!="function"&&l(p,y,x):j===vBe?m(p,y,x):j===mBe?n(p,y,x):j===uBe?l(p,y,x):j===dBe||j===pBe||j===bBe?c(p,y,x):!1}}function CBe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?nd:eBe,areDatesEqual:tBe,areErrorsEqual:rBe,areFunctionsEqual:nBe,areMapsEqual:n?WM(KM,nd):KM,areNumbersEqual:aBe,areObjectsEqual:n?nd:sBe,arePrimitiveWrappersEqual:iBe,areRegExpsEqual:oBe,areSetsEqual:n?WM(JM,nd):JM,areTypedArraysEqual:n?nd:lBe,areUrlsEqual:cBe};if(r&&(a=ZM({},a,r(a))),e){var i=dp(a.areArraysEqual),o=dp(a.areMapsEqual),l=dp(a.areObjectsEqual),c=dp(a.areSetsEqual);a=ZM({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function SBe(t){return function(e,r,n,a,i,o,l){return t(e,r,l)}}function ABe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:a,meta:h,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var TBe=Ki();Ki({strict:!0});Ki({circular:!0});Ki({circular:!0,strict:!0});Ki({createInternalComparator:function(){return yl}});Ki({strict:!0,createInternalComparator:function(){return yl}});Ki({circular:!0,createInternalComparator:function(){return yl}});Ki({circular:!0,createInternalComparator:function(){return yl},strict:!0});function Ki(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=CBe(t),c=NBe(l),u=n?n(c):SBe(c);return ABe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function kBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function QM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):kBe(a)};requestAnimationFrame(n)}function aT(t){"@babel/helpers - typeof";return aT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aT(t)}function EBe(t){return IBe(t)||DBe(t)||PBe(t)||OBe()}function OBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PBe(t,e){if(t){if(typeof t=="string")return eL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eL(t,e)}}function eL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IBe(t){if(Array.isArray(t))return t}function _Be(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=EBe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){QM(a.bind(null,u),c);return}a(c),QM(a.bind(null,u));return}aT(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function tL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(r),!0).forEach(function(n){mU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mU(t,e,r){return e=$Be(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Be(t){var e=RBe(t,"string");return hm(e)==="symbol"?e:String(e)}function RBe(t,e){if(hm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MBe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},LBe=function(e){return e},FBe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Qd=function(e,r){return Object.keys(r).reduce(function(n,a){return rL(rL({},n),{},mU({},a,e(a,r[a])))},{})},nL=function(e,r,n){return e.map(function(a){return"".concat(FBe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function BBe(t,e){return zBe(t)||VBe(t,e)||hU(t,e)||qBe()}function qBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zBe(t){if(Array.isArray(t))return t}function UBe(t){return GBe(t)||HBe(t)||hU(t)||WBe()}function WBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hU(t,e){if(t){if(typeof t=="string")return sT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sT(t,e)}}function HBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GBe(t){if(Array.isArray(t))return sT(t)}function sT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g0=1e-4,pU=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},gU=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},aL=function(e,r){return function(n){var a=pU(e,r);return gU(a,n)}},YBe=function(e,r){return function(n){var a=pU(e,r),i=[].concat(UBe(a.map(function(o,l){return o*l}).slice(1)),[0]);return gU(i,n)}},sL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=BBe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=aL(a,o),m=aL(i,l),h=YBe(a,o),p=function(b){return b>1?1:b<0?0:b},y=function(b){for(var g=b>1?1:b,j=g,C=0;C<8;++C){var N=f(j)-g,w=h(j);if(Math.abs(N-g)<g0||w<g0)return m(j);j=p(j-N/w)}return m(j)};return y.isStepper=!1,y},KBe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(d,f,m){var h=-(d-f)*n,p=m*i,y=m+(h-p)*l/1e3,x=m*l/1e3+d;return Math.abs(x-f)<g0&&Math.abs(y)<g0?[f,0]:[x,y]};return c.isStepper=!0,c.dt=l,c},JBe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sL(a);case"spring":return KBe();default:if(a.split("(")[0]==="cubic-bezier")return sL(a)}return typeof a=="function"?a:null};function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function iL(t){return QBe(t)||ZBe(t)||yU(t)||XBe()}function XBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QBe(t){if(Array.isArray(t))return oT(t)}function oL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(r),!0).forEach(function(n){iT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iT(t,e,r){return e=e6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e6e(t){var e=t6e(t,"string");return pm(e)==="symbol"?e:String(e)}function t6e(t,e){if(pm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r6e(t,e){return s6e(t)||a6e(t,e)||yU(t,e)||n6e()}function n6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yU(t,e){if(t){if(typeof t=="string")return oT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oT(t,e)}}function oT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function s6e(t){if(Array.isArray(t))return t}var y0=function(e,r,n){return e+(r-e)*n},lT=function(e){var r=e.from,n=e.to;return r!==n},i6e=function t(e,r,n){var a=Qd(function(i,o){if(lT(o)){var l=e(o.from,o.to,o.velocity),c=r6e(l,2),u=c[0],d=c[1];return xr(xr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Qd(function(i,o){return lT(o)?xr(xr({},o),{},{velocity:y0(o.velocity,a[i].velocity,n),from:y0(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const o6e=function(t,e,r,n,a){var i=MBe(t,e),o=i.reduce(function(x,b){return xr(xr({},x),{},iT({},b,[t[b],e[b]]))},{}),l=i.reduce(function(x,b){return xr(xr({},x),{},iT({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Qd(function(b,g){return g.from},l)},h=function(){return!Object.values(l).filter(lT).length},p=function(b){u||(u=b);var g=b-u,j=g/r.dt;l=i6e(r,l,j),a(xr(xr(xr({},t),e),m())),u=b,h()||(c=requestAnimationFrame(f))},y=function(b){d||(d=b);var g=(b-d)/n,j=Qd(function(N,w){return y0.apply(void 0,iL(w).concat([r(g)]))},o);if(a(xr(xr(xr({},t),e),j)),g<1)c=requestAnimationFrame(f);else{var C=Qd(function(N,w){return y0.apply(void 0,iL(w).concat([r(1)]))},o);a(xr(xr(xr({},t),e),C))}};return f=r.isStepper?p:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}var l6e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function c6e(t,e){if(t==null)return{};var r=u6e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u6e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Z1(t){return h6e(t)||m6e(t)||f6e(t)||d6e()}function d6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f6e(t,e){if(t){if(typeof t=="string")return cT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cT(t,e)}}function m6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h6e(t){if(Array.isArray(t))return cT(t)}function cT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ea(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(r),!0).forEach(function(n){bd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bd(t,e,r){return e=xU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xU(n.key),n)}}function y6e(t,e,r){return e&&g6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xU(t){var e=x6e(t,"string");return Uc(e)==="symbol"?e:String(e)}function x6e(t,e){if(Uc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uT(t,e)}function uT(t,e){return uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uT(t,e)}function v6e(t){var e=j6e();return function(){var n=x0(t),a;if(e){var i=x0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return dT(this,a)}}function dT(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fT(t)}function fT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x0(t)}var Ii=function(t){b6e(r,t);var e=v6e(r);function r(n,a){var i;p6e(this,r),i=e.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(fT(i)),i.changeStyle=i.changeStyle.bind(fT(i)),!l||h<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:d}),dT(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof m=="function")return i.state={style:u},dT(i);i.state={style:c?bd({},c,u):u}}else i.state={style:{}};return i}return y6e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,m=this.state.style;if(l){if(!o){var h={style:c?bd({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(TBe(a.to,d)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=p||u?f:a.to;if(this.state&&m){var x={style:c?bd({},c,y):y};(c&&m[c]!==y||!c&&m!==y)&&this.setState(x)}this.runAnimation(ea(ea({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=o6e(o,l,JBe(u),c,this.changeStyle),p=function(){i.stopJSAnimation=h()};this.manager.start([m,d,p,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(y,x,b){if(b===0)return y;var g=x.duration,j=x.easing,C=j===void 0?"ease":j,N=x.style,w=x.properties,S=x.onAnimationEnd,T=b>0?o[b-1]:x,k=w||Object.keys(N);if(typeof C=="function"||C==="spring")return[].concat(Z1(y),[i.runJSAnimation.bind(i,{from:T.style,to:N,duration:g,easing:C}),g]);var E=nL(k,g,C),O=ea(ea(ea({},T.style),N),{},{transition:E});return[].concat(Z1(y),[O,g,S]).filter(LBe)};return this.manager.start([c].concat(Z1(o.reduce(h,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=_Be());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var y=l?bd({},l,c):c,x=nL(Object.keys(y),o,u);p.start([d,i,ea(ea({},y),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=c6e(a,l6e),u=v.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(h){var p=h.props,y=p.style,x=y===void 0?{}:y,b=p.className,g=v.cloneElement(h,ea(ea({},c),{},{style:ea(ea({},x),d),className:b}));return g};return u===1?f(v.Children.only(i)):q.createElement("div",null,v.Children.map(i,function(m){return f(m)}))}}]),r}(v.PureComponent);Ii.displayName="Animate";Ii.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ii.propTypes={from:nt.oneOfType([nt.object,nt.string]),to:nt.oneOfType([nt.object,nt.string]),attributeName:nt.string,duration:nt.number,begin:nt.number,easing:nt.oneOfType([nt.string,nt.func]),steps:nt.arrayOf(nt.shape({duration:nt.number.isRequired,style:nt.object.isRequired,easing:nt.oneOfType([nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nt.func]),properties:nt.arrayOf("string"),onAnimationEnd:nt.func})),children:nt.oneOfType([nt.node,nt.func]),isActive:nt.bool,canBegin:nt.bool,onAnimationEnd:nt.func,shouldReAnimate:nt.bool,onAnimationStart:nt.func,onAnimationReStart:nt.func};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b0.apply(this,arguments)}function w6e(t,e){return A6e(t)||S6e(t,e)||C6e(t,e)||N6e()}function N6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6e(t,e){if(t){if(typeof t=="string")return cL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cL(t,e)}}function cL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function A6e(t){if(Array.isArray(t))return t}function uL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(r),!0).forEach(function(n){T6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T6e(t,e,r){return e=k6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k6e(t){var e=E6e(t,"string");return gm(e)=="symbol"?e:e+""}function E6e(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fL=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=i[m]>o?o:i[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);d="M ".concat(e,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+c*p,",").concat(r,`
            L `).concat(e+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*p,`
            L `).concat(e+n,",").concat(r+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-c*p,",").concat(r+a,`
            L `).concat(e+c*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*p," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},O6e=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},P6e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YO=function(e){var r=dL(dL({},P6e),e),n=v.useRef(),a=v.useState(-1),i=w6e(a,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,p=r.animationEasing,y=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=Oe("recharts-rectangle",h);return g?q.createElement(Ii,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:p,isActive:g},function(C){var N=C.width,w=C.height,S=C.x,T=C.y;return q.createElement(Ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,isActive:b,easing:p},q.createElement("path",b0({},Le(r,!0),{className:j,d:fL(S,T,N,w,m),ref:n})))}):q.createElement("path",b0({},Le(r,!0),{className:j,d:fL(c,u,d,f,m)}))},D6e=["points","className","baseLinePoints","connectNulls"];function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yl.apply(this,arguments)}function I6e(t,e){if(t==null)return{};var r=_6e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mL(t){return L6e(t)||M6e(t)||R6e(t)||$6e()}function $6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R6e(t,e){if(t){if(typeof t=="string")return mT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mT(t,e)}}function M6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L6e(t){if(Array.isArray(t))return mT(t)}function mT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hL=function(e){return e&&e.x===+e.x&&e.y===+e.y},F6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){hL(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),hL(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ef=function(e,r){var n=F6e(e);r&&(n=[n.reduce(function(i,o){return[].concat(mL(i),mL(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},B6e=function(e,r,n){var a=ef(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ef(r.reverse(),n).slice(1))},q6e=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=I6e(e,D6e);if(!r||!r.length)return null;var l=Oe("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=B6e(r,a,i);return q.createElement("g",{className:l},q.createElement("path",Yl({},Le(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?q.createElement("path",Yl({},Le(o,!0),{fill:"none",d:ef(r,i)})):null,c?q.createElement("path",Yl({},Le(o,!0),{fill:"none",d:ef(a,i)})):null)}var d=ef(r,i);return q.createElement("path",Yl({},Le(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function hT(){return hT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hT.apply(this,arguments)}var KO=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=Oe("recharts-dot",i);return r===+r&&n===+n&&a===+a?q.createElement("circle",hT({},Le(e,!1),qb(e),{className:o,cx:r,cy:n,r:a})):null};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}var V6e=["x","y","top","left","width","height","className"];function pT(){return pT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pT.apply(this,arguments)}function pL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function z6e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(r),!0).forEach(function(n){U6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U6e(t,e,r){return e=W6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W6e(t){var e=H6e(t,"string");return ym(e)=="symbol"?e:e+""}function H6e(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G6e(t,e){if(t==null)return{};var r=Y6e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Y6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var K6e=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},J6e=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,h=m===void 0?0:m,p=e.className,y=G6e(e,V6e),x=z6e({x:n,y:i,top:l,left:u,width:f,height:h},y);return!he(n)||!he(i)||!he(f)||!he(h)||!he(l)||!he(u)?null:q.createElement("path",pT({},Le(x,!0),{className:Oe("recharts-cross",p),d:K6e(n,i,f,h,l,u)}))},X6e=jw,Z6e=$7,Q6e=Hi;function eqe(t,e){return t&&t.length?X6e(t,Q6e(e),Z6e):void 0}var tqe=eqe;const rqe=rt(tqe);var nqe=jw,aqe=Hi,sqe=R7;function iqe(t,e){return t&&t.length?nqe(t,aqe(e),sqe):void 0}var oqe=iqe;const lqe=rt(oqe);var cqe=["cx","cy","angle","ticks","axisLine"],uqe=["ticks","tick","angle","tickFormatter","stroke"];function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function tf(){return tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tf.apply(this,arguments)}function gL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ro(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(r),!0).forEach(function(n){Aw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yL(t,e){if(t==null)return{};var r=dqe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vU(n.key),n)}}function mqe(t,e,r){return e&&xL(t.prototype,e),r&&xL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hqe(t,e,r){return e=v0(e),pqe(t,bU()?Reflect.construct(e,r||[],v0(t).constructor):e.apply(t,r))}function pqe(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gqe(t)}function gqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bU=function(){return!!t})()}function v0(t){return v0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v0(t)}function yqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gT(t,e)}function gT(t,e){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gT(t,e)}function Aw(t,e,r){return e=vU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vU(t){var e=xqe(t,"string");return Wc(e)=="symbol"?e:e+""}function xqe(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tw=function(t){function e(){return fqe(this,e),hqe(this,e,arguments)}return yqe(e,t),mqe(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Ct(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=rqe(l,function(d){return d.coordinate||0}),u=lqe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=yL(n,cqe),d=l.reduce(function(p,y){return[Math.min(p[0],y.coordinate),Math.max(p[1],y.coordinate)]},[1/0,-1/0]),f=Ct(a,i,d[0],o),m=Ct(a,i,d[1],o),h=ro(ro(ro({},Le(u,!1)),{},{fill:"none"},Le(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return q.createElement("line",tf({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=yL(a,uqe),f=this.getTickTextAnchor(),m=Le(d,!1),h=Le(o,!1),p=i.map(function(y,x){var b=n.getTickValueCoord(y),g=ro(ro(ro(ro({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:x},b),{},{payload:y});return q.createElement(Wt,tf({className:Oe("recharts-polar-radius-axis-tick",sU(o)),key:"tick-".concat(y.coordinate)},sw(n.props,y,x)),e.renderTickItem(o,g,c?c(y.value,x):y.value))});return q.createElement(Wt,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:q.createElement(Wt,{className:Oe("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),jr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return q.isValidElement(n)?o=q.cloneElement(n,a):Fe(n)?o=n(a):o=q.createElement(Lc,tf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(v.PureComponent);Aw(Tw,"displayName","PolarRadiusAxis");Aw(Tw,"axisType","radiusAxis");Aw(Tw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function ho(){return ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ho.apply(this,arguments)}function bL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function no(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(r),!0).forEach(function(n){kw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wU(n.key),n)}}function vqe(t,e,r){return e&&vL(t.prototype,e),r&&vL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jqe(t,e,r){return e=j0(e),wqe(t,jU()?Reflect.construct(e,r||[],j0(t).constructor):e.apply(t,r))}function wqe(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nqe(t)}function Nqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jU=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j0(t)}function Cqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yT(t,e)}function yT(t,e){return yT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yT(t,e)}function kw(t,e,r){return e=wU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wU(t){var e=Sqe(t,"string");return Hc(e)=="symbol"?e:e+""}function Sqe(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aqe=Math.PI/180,Tqe=1e-5,Ew=function(t){function e(){return bqe(this,e),jqe(this,e,arguments)}return Cqe(e,t),vqe(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Ct(i,o,l,n.coordinate),m=Ct(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Aqe),o;return i>Tqe?o=a==="outer"?"start":"end":i<-1e-5?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=no(no({},Le(this.props,!1)),{},{fill:"none"},Le(l,!1));if(c==="circle")return q.createElement(KO,ho({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(m){return Ct(a,i,o,m.coordinate)});return q.createElement(q6e,ho({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Le(this.props,!1),f=Le(o,!1),m=no(no({},d),{},{fill:"none"},Le(l,!1)),h=i.map(function(p,y){var x=n.getTickLineCoord(p),b=n.getTickTextAnchor(p),g=no(no(no({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:p,x:x.x2,y:x.y2});return q.createElement(Wt,ho({className:Oe("recharts-polar-angle-axis-tick",sU(o)),key:"tick-".concat(p.coordinate)},sw(n.props,p,y)),l&&q.createElement("line",ho({className:"recharts-polar-angle-axis-tick-line"},m,x)),o&&e.renderTickItem(o,g,c?c(p.value,y):p.value))});return q.createElement(Wt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:q.createElement(Wt,{className:Oe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return q.isValidElement(n)?o=q.cloneElement(n,a):Fe(n)?o=n(a):o=q.createElement(Lc,ho({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(v.PureComponent);kw(Ew,"displayName","PolarAngleAxis");kw(Ew,"axisType","angleAxis");kw(Ew,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var kqe=Dz,Eqe=kqe(Object.getPrototypeOf,Object),Oqe=Eqe,Pqe=Ls,Dqe=Oqe,Iqe=Fs,_qe="[object Object]",$qe=Function.prototype,Rqe=Object.prototype,NU=$qe.toString,Mqe=Rqe.hasOwnProperty,Lqe=NU.call(Object);function Fqe(t){if(!Iqe(t)||Pqe(t)!=_qe)return!1;var e=Dqe(t);if(e===null)return!0;var r=Mqe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&NU.call(r)==Lqe}var Bqe=Fqe;const qqe=rt(Bqe);var Vqe=Ls,zqe=Fs,Uqe="[object Boolean]";function Wqe(t){return t===!0||t===!1||zqe(t)&&Vqe(t)==Uqe}var Hqe=Wqe;const Gqe=rt(Hqe);function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w0.apply(this,arguments)}function Yqe(t,e){return Zqe(t)||Xqe(t,e)||Jqe(t,e)||Kqe()}function Kqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jqe(t,e){if(t){if(typeof t=="string")return jL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jL(t,e)}}function jL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Zqe(t){if(Array.isArray(t))return t}function wL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function NL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(r),!0).forEach(function(n){Qqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qqe(t,e,r){return e=eVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eVe(t){var e=tVe(t,"string");return xm(e)=="symbol"?e:e+""}function tVe(t,e){if(xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CL=function(e,r,n,a,i){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},rVe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nVe=function(e){var r=NL(NL({},rVe),e),n=v.useRef(),a=v.useState(-1),i=Yqe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,p=r.animationEasing,y=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var g=Oe("recharts-trapezoid",h);return b?q.createElement(Ii,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:y,animationEasing:p,isActive:b},function(j){var C=j.upperWidth,N=j.lowerWidth,w=j.height,S=j.x,T=j.y;return q.createElement(Ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,easing:p},q.createElement("path",w0({},Le(r,!0),{className:g,d:CL(S,T,C,N,w),ref:n})))}):q.createElement("g",null,q.createElement("path",w0({},Le(r,!0),{className:g,d:CL(c,u,d,f,m)})))},aVe=["option","shapeType","propTransformer","activeClassName","isActive"];function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function sVe(t,e){if(t==null)return{};var r=iVe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function N0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(r),!0).forEach(function(n){oVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oVe(t,e,r){return e=lVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lVe(t){var e=cVe(t,"string");return bm(e)=="symbol"?e:e+""}function cVe(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uVe(t,e){return N0(N0({},e),t)}function dVe(t,e){return t==="symbols"}function AL(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return q.createElement(YO,r);case"trapezoid":return q.createElement(nVe,r);case"sector":return q.createElement(lU,r);case"symbols":if(dVe(e))return q.createElement(uO,r);break;default:return null}}function fVe(t){return v.isValidElement(t)?t.props:t}function mVe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?uVe:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=sVe(t,aVe),u;if(v.isValidElement(e))u=v.cloneElement(e,N0(N0({},c),fVe(e)));else if(Fe(e))u=e(c);else if(qqe(e)&&!Gqe(e)){var d=a(e,c);u=q.createElement(AL,{shapeType:r,elementProps:d})}else{var f=c;u=q.createElement(AL,{shapeType:r,elementProps:f})}return l?q.createElement(Wt,{className:o},u):u}function Ow(t,e){return e!=null&&"trapezoids"in t.props}function Pw(t,e){return e!=null&&"sectors"in t.props}function vm(t,e){return e!=null&&"points"in t.props}function hVe(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function pVe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function gVe(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function yVe(t,e){var r;return Ow(t,e)?r=hVe:Pw(t,e)?r=pVe:vm(t,e)&&(r=gVe),r}function xVe(t,e){var r;return Ow(t,e)?r="trapezoids":Pw(t,e)?r="sectors":vm(t,e)&&(r="points"),r}function bVe(t,e){if(Ow(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Pw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return vm(t,e)?e.payload:{}}function vVe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=xVe(r,e),i=bVe(r,e),o=n.filter(function(c,u){var d=zO(i,c),f=r.props[a].filter(function(p){var y=yVe(r,e);return y(p,e)}),m=r.props[a].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(o[o.length-1]);return l}var _x;function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kl.apply(this,arguments)}function TL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(r),!0).forEach(function(n){Mn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SU(n.key),n)}}function wVe(t,e,r){return e&&kL(t.prototype,e),r&&kL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NVe(t,e,r){return e=C0(e),CVe(t,CU()?Reflect.construct(e,r||[],C0(t).constructor):e.apply(t,r))}function CVe(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SVe(t)}function SVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CU=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C0(t)}function AVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xT(t,e)}function xT(t,e){return xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xT(t,e)}function Mn(t,e,r){return e=SU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SU(t){var e=TVe(t,"string");return Gc(e)=="symbol"?e:e+""}function TVe(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xn=function(t){function e(r){var n;return jVe(this,e),n=NVe(this,e,[r]),Mn(n,"pieRef",null),Mn(n,"sectorRefs",[]),Mn(n,"id",aw("recharts-pie-")),Mn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Fe(a)&&a()}),Mn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Fe(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return AVe(e,t),wVe(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Le(this.props,!1),f=Le(o,!1),m=Le(l,!1),h=o&&o.offsetRadius||20,p=n.map(function(y,x){var b=(y.startAngle+y.endAngle)/2,g=Ct(y.cx,y.cy,y.outerRadius+h,b),j=vt(vt(vt(vt({},d),y),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(g.x,y.cx)},g),C=vt(vt(vt(vt({},d),y),{},{fill:"none",stroke:y.fill},m),{},{index:x,points:[Ct(y.cx,y.cy,y.outerRadius,b),g]}),N=c;return Ge(c)&&Ge(u)?N="value":Ge(c)&&(N=u),q.createElement(Wt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(o,j,dn(y,N)))});return q.createElement(Wt,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,h=f?o:m,p=vt(vt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return q.createElement(Wt,Kl({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},sw(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),q.createElement(mVe,Kl({option:h,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return q.createElement(Ii,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var y=p.t,x=[],b=i&&i[0],g=b.startAngle;return i.forEach(function(j,C){var N=m&&m[C],w=C>0?ma(j,"paddingAngle",0):0;if(N){var S=jR(N.endAngle-N.startAngle,j.endAngle-j.startAngle),T=vt(vt({},j),{},{startAngle:g+w,endAngle:g+S(y)+w});x.push(T),g=T.endAngle}else{var k=j.endAngle,E=j.startAngle,O=jR(0,k-E),M=O(y),I=vt(vt({},j),{},{startAngle:g+w,endAngle:g+M+w});x.push(I),g=I.endAngle}}),q.createElement(Wt,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!zO(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,p=this.state.isAnimationFinished;if(i||!o||!o.length||!he(u)||!he(d)||!he(f)||!he(m))return null;var y=Oe("recharts-pie",l);return q.createElement(Wt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),jr.renderCallByParent(this.props,null,!1),(!h||p)&&Bo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(q.isValidElement(n))return q.cloneElement(n,a);if(Fe(n))return n(a);var o=Oe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return q.createElement(nT,Kl({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(q.isValidElement(n))return q.cloneElement(n,a);var o=i;if(Fe(n)&&(o=n(a),q.isValidElement(o)))return o;var l=Oe("recharts-pie-label-text",typeof n!="boolean"&&!Fe(n)?n.className:"");return q.createElement(Lc,Kl({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(v.PureComponent);_x=Xn;Mn(Xn,"displayName","Pie");Mn(Xn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Mn(Xn,"parseDeltaAngle",function(t,e){var r=Fn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Mn(Xn,"getRealPieData",function(t){var e=t.data,r=t.children,n=Le(t,!1),a=La(r,wu);return e&&e.length?e.map(function(i,o){return vt(vt(vt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return vt(vt({},n),i.props)}):[]});Mn(Xn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,o=aU(a,i),l=n+Kr(t.cx,a,a/2),c=r+Kr(t.cy,i,i/2),u=Kr(t.innerRadius,o,0),d=Kr(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Mn(Xn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?vt(vt({},e.type.defaultProps),e.props):e.props,a=_x.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),p=_x.parseCoordinateOfPie(n,r),y=_x.parseDeltaAngle(o,l),x=Math.abs(y),b=u;Ge(u)&&Ge(f)?(xs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Ge(u)&&(xs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var g=a.filter(function(T){return dn(T,b,0)!==0}).length,j=(x>=360?g:g-1)*c,C=x-g*h-j,N=a.reduce(function(T,k){var E=dn(k,b,0);return T+(he(E)?E:0)},0),w;if(N>0){var S;w=a.map(function(T,k){var E=dn(T,b,0),O=dn(T,d,k),M=(he(E)?E:0)/N,I;k?I=S.endAngle+Fn(y)*c*(E!==0?1:0):I=o;var V=I+Fn(y)*((E!==0?h:0)+M*C),P=(I+V)/2,F=(p.innerRadius+p.outerRadius)/2,U=[{name:O,value:E,payload:T,dataKey:b,type:m}],R=Ct(p.cx,p.cy,F,P);return S=vt(vt(vt({percent:M,cornerRadius:i,name:O,tooltipPayload:U,midAngle:P,middleRadius:F,tooltipPosition:R},T),p),{},{value:dn(T,b),startAngle:I,endAngle:V,payload:T,paddingAngle:Fn(y)*c}),S})}return vt(vt({},p),{},{sectors:w,data:a})});var kVe=Math.ceil,EVe=Math.max;function OVe(t,e,r,n){for(var a=-1,i=EVe(kVe((e-t)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=t,t+=r;return o}var PVe=OVe,DVe=Jz,IVe=1/0,_Ve=17976931348623157e292;function $Ve(t){if(!t)return t===0?t:0;if(t=DVe(t),t===IVe||t===-1/0){var e=t<0?-1:1;return e*_Ve}return t===t?t:0}var RVe=$Ve,MVe=PVe,LVe=fw,Q1=RVe;function FVe(t){return function(e,r,n){return n&&typeof n!="number"&&LVe(e,r,n)&&(r=n=void 0),e=Q1(e),r===void 0?(r=e,e=0):r=Q1(r),n=n===void 0?e<r?1:-1:Q1(n),MVe(e,r,n,t)}}var BVe=FVe,qVe=BVe,VVe=qVe(),zVe=VVe;const S0=rt(zVe);function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function EL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(r),!0).forEach(function(n){AU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AU(t,e,r){return e=UVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UVe(t){var e=WVe(t,"string");return jm(e)=="symbol"?e:e+""}function WVe(t,e){if(jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HVe=["Webkit","Moz","O","ms"],GVe=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=HVe.reduce(function(i,o){return OL(OL({},i),{},AU({},o+n,r))},{});return a[e]=r,a};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A0.apply(this,arguments)}function PL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(r),!0).forEach(function(n){on(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kU(n.key),n)}}function KVe(t,e,r){return e&&DL(t.prototype,e),r&&DL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JVe(t,e,r){return e=T0(e),XVe(t,TU()?Reflect.construct(e,r||[],T0(t).constructor):e.apply(t,r))}function XVe(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZVe(t)}function ZVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TU=function(){return!!t})()}function T0(t){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T0(t)}function QVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bT(t,e)}function bT(t,e){return bT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bT(t,e)}function on(t,e,r){return e=kU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kU(t){var e=e8e(t,"string");return Yc(e)=="symbol"?e:e+""}function e8e(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t8e=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Xd().domain(S0(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},IL=function(e){return e.changedTouches&&!!e.changedTouches.length},Kc=function(t){function e(r){var n;return YVe(this,e),n=JVe(this,e,[r]),on(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),on(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),on(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),on(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),on(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),on(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),on(n,"handleSlideDragStart",function(a){var i=IL(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return QVe(e,t),KVe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),m=Math.max(a,i),h=e.getIndexInRange(o,f),p=e.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=dn(i[n],l,n);return Fe(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,p=c.onChange,y=n.pageX-i;y>0?y=Math.min(y,u+d-f-l,u+d-f-o):y<0&&(y=Math.max(y,u-o,u-l));var x=this.getIndex({startX:o+y,endX:l+y});(x.startIndex!==m||x.endIndex!==h)&&p&&p(x),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=IL(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,p=d.onChange,y=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},g=n.pageX-i;g>0?g=Math.min(g,f+m-h-u):g<0&&(g=Math.max(g,f-u)),b[o]=u+g;var j=this.getIndex(b),C=j.startIndex,N=j.endIndex,w=function(){var T=x.length-1;return o==="startX"&&(l>c?C%y===0:N%y===0)||l<c&&N===T||o==="endX"&&(l>c?N%y===0:C%y===0)||l>c&&N===T};this.setState(on(on({},o,u+g),"brushMoveStartX",n.pageX),function(){p&&w()&&p(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(on({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return q.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?q.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,p=c.data,y=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),g=eC(eC({},Le(this.props,!1)),{},{x:b,y:u,width:d,height:f}),j=h||"Min value: ".concat((i=p[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=p[x])===null||o===void 0?void 0:o.name);return q.createElement(Wt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,g))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,p={pointerEvents:"none",fill:u};return q.createElement(Wt,{className:"recharts-brush-texts"},q.createElement(Lc,A0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:o+l/2},p),this.getTextOfTick(a)),q.createElement(Lc,A0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:o+l/2},p),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,p=m.endX,y=m.isTextActive,x=m.isSlideMoving,b=m.isTravellerMoving,g=m.isTravellerFocused;if(!a||!a.length||!he(l)||!he(c)||!he(u)||!he(d)||u<=0||d<=0)return null;var j=Oe("recharts-brush",i),C=q.Children.count(o)===1,N=GVe("userSelect","none");return q.createElement(Wt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(y||x||b||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),q.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return q.isValidElement(n)?i=q.cloneElement(n,a):Fe(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return eC({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?t8e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(v.PureComponent);on(Kc,"displayName","Brush");on(Kc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var r8e=xO;function n8e(t,e){var r;return r8e(t,function(n,a,i){return r=e(n,a,i),!r}),!!r}var a8e=n8e,s8e=Cz,i8e=Hi,o8e=a8e,l8e=an,c8e=fw;function u8e(t,e,r){var n=l8e(t)?s8e:o8e;return r&&c8e(t,e,r)&&(e=void 0),n(t,i8e(e))}var d8e=u8e;const f8e=rt(d8e);var qa=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},_L=Wz;function m8e(t,e,r){e=="__proto__"&&_L?_L(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var h8e=m8e,p8e=h8e,g8e=zz,y8e=Hi;function x8e(t,e){var r={};return e=y8e(e),g8e(t,function(n,a,i){p8e(r,a,e(n,a,i))}),r}var b8e=x8e;const v8e=rt(b8e);function j8e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var w8e=j8e,N8e=xO;function C8e(t,e){var r=!0;return N8e(t,function(n,a,i){return r=!!e(n,a,i),r}),r}var S8e=C8e,A8e=w8e,T8e=S8e,k8e=Hi,E8e=an,O8e=fw;function P8e(t,e,r){var n=E8e(t)?A8e:T8e;return r&&O8e(t,e,r)&&(e=void 0),n(t,k8e(e))}var D8e=P8e;const I8e=rt(D8e);function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function _8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EU(n.key),n)}}function $8e(t,e,r){return e&&$L(t.prototype,e),r&&$L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(r),!0).forEach(function(n){JO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JO(t,e,r){return e=EU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EU(t){var e=R8e(t,"string");return wm(e)=="symbol"?e:e+""}function R8e(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OU=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},M8e=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return OU({x:r,y:n},{x:a,y:i})},PU=function(){function t(e){_8e(this,t),this.scale=e}return $8e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();JO(PU,"EPS",1e-4);var XO=function(e){var r=Object.keys(e).reduce(function(n,a){return fp(fp({},n),{},JO({},a,PU.create(e[a])))},{});return fp(fp({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return v8e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return I8e(a,function(i,o){return r[o].isInRange(i)})}})},L8e=h2e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),DU=v.createContext(void 0),IU=v.createContext(void 0),_U=v.createContext(void 0),F8e=v.createContext({}),$U=v.createContext(void 0),B8e=v.createContext(0),q8e=v.createContext(0),ML=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=L8e(i);return q.createElement(DU.Provider,{value:n},q.createElement(IU.Provider,{value:a},q.createElement(F8e.Provider,{value:i},q.createElement(_U.Provider,{value:d},q.createElement($U.Provider,{value:o},q.createElement(B8e.Provider,{value:u},q.createElement(q8e.Provider,{value:c},l)))))))},V8e=function(){return v.useContext($U)},z8e=function(e){var r=v.useContext(DU);r==null&&Vc();var n=r[e];return n==null&&Vc(),n},U8e=function(e){var r=v.useContext(IU);r==null&&Vc();var n=r[e];return n==null&&Vc(),n},W8e=function(){var e=v.useContext(_U);return e};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function H8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MU(n.key),n)}}function Y8e(t,e,r){return e&&G8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K8e(t,e,r){return e=k0(e),J8e(t,RU()?Reflect.construct(e,r||[],k0(t).constructor):e.apply(t,r))}function J8e(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X8e(t)}function X8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RU=function(){return!!t})()}function k0(t){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k0(t)}function Z8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vT(t,e)}function vT(t,e){return vT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vT(t,e)}function LL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(r),!0).forEach(function(n){ZO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZO(t,e,r){return e=MU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MU(t){var e=Q8e(t,"string");return Jc(e)=="symbol"?e:e+""}function Q8e(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eze(t,e){return aze(t)||nze(t,e)||rze(t,e)||tze()}function tze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rze(t,e){if(t){if(typeof t=="string")return BL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BL(t,e)}}function BL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aze(t){if(Array.isArray(t))return t}function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jT.apply(this,arguments)}var sze=function(e,r){var n;return q.isValidElement(e)?n=q.cloneElement(e,r):Fe(e)?n=e(r):n=q.createElement("line",jT({},r,{className:"recharts-reference-line-line"})),n},ize=function(e,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,m=i.width,h=i.height;if(n){var p=u.y,y=e.y.apply(p,{position:o});if(qa(u,"discard")&&!e.y.isInRange(y))return null;var x=[{x:d+m,y},{x:d,y}];return c==="left"?x.reverse():x}if(r){var b=u.x,g=e.x.apply(b,{position:o});if(qa(u,"discard")&&!e.x.isInRange(g))return null;var j=[{x:g,y:f+h},{x:g,y:f}];return l==="top"?j.reverse():j}if(a){var C=u.segment,N=C.map(function(w){return e.apply(w,{position:o})});return qa(u,"discard")&&f8e(N,function(w){return!e.isInRange(w)})?null:N}return null};function oze(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=V8e(),d=z8e(a),f=U8e(i),m=W8e();if(!u||!m)return null;xs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=XO({x:d.scale,y:f.scale}),p=lr(e),y=lr(r),x=n&&n.length===2,b=ize(h,p,y,x,m,t.position,d.orientation,f.orientation,t);if(!b)return null;var g=eze(b,2),j=g[0],C=j.x,N=j.y,w=g[1],S=w.x,T=w.y,k=qa(t,"hidden")?"url(#".concat(u,")"):void 0,E=FL(FL({clipPath:k},Le(t,!0)),{},{x1:C,y1:N,x2:S,y2:T});return q.createElement(Wt,{className:Oe("recharts-reference-line",l)},sze(o,E),jr.renderCallByParent(t,M8e({x1:C,y1:N,x2:S,y2:T})))}var QO=function(t){function e(){return H8e(this,e),K8e(this,e,arguments)}return Z8e(e,t),Y8e(e,[{key:"render",value:function(){return q.createElement(oze,this.props)}}])}(q.Component);ZO(QO,"displayName","ReferenceLine");ZO(QO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function wT(){return wT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wT.apply(this,arguments)}function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function VL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(n){Dw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FU(n.key),n)}}function uze(t,e,r){return e&&cze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dze(t,e,r){return e=E0(e),fze(t,LU()?Reflect.construct(e,r||[],E0(t).constructor):e.apply(t,r))}function fze(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mze(t)}function mze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LU=function(){return!!t})()}function E0(t){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E0(t)}function hze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NT(t,e)}function NT(t,e){return NT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NT(t,e)}function Dw(t,e,r){return e=FU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FU(t){var e=pze(t,"string");return Xc(e)=="symbol"?e:e+""}function pze(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gze=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=XO({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return qa(e,"discard")&&!o.isInRange(l)?null:l},Iw=function(t){function e(){return lze(this,e),dze(this,e,arguments)}return hze(e,t),uze(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=lr(a),d=lr(i);if(xs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=gze(this.props);if(!f)return null;var m=f.x,h=f.y,p=this.props,y=p.shape,x=p.className,b=qa(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=VL(VL({clipPath:b},Le(this.props,!0)),{},{cx:m,cy:h});return q.createElement(Wt,{className:Oe("recharts-reference-dot",x)},e.renderDot(y,g),jr.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])}(q.Component);Dw(Iw,"displayName","ReferenceDot");Dw(Iw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Dw(Iw,"renderDot",function(t,e){var r;return q.isValidElement(t)?r=q.cloneElement(t,e):Fe(t)?r=t(e):r=q.createElement(KO,wT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CT.apply(this,arguments)}function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function zL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function UL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(r),!0).forEach(function(n){_w(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qU(n.key),n)}}function bze(t,e,r){return e&&xze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vze(t,e,r){return e=O0(e),jze(t,BU()?Reflect.construct(e,r||[],O0(t).constructor):e.apply(t,r))}function jze(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wze(t)}function wze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BU=function(){return!!t})()}function O0(t){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O0(t)}function Nze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ST(t,e)}function ST(t,e){return ST=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ST(t,e)}function _w(t,e,r){return e=qU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qU(t){var e=Cze(t,"string");return Zc(e)=="symbol"?e:e+""}function Cze(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sze=function(e,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var m=XO({x:d.scale,y:f.scale}),h={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},p={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return qa(i,"discard")&&(!m.isInRange(h)||!m.isInRange(p))?null:OU(h,p)},$w=function(t){function e(){return yze(this,e),vze(this,e,arguments)}return Nze(e,t),bze(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;xs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=lr(a),m=lr(i),h=lr(o),p=lr(l),y=this.props.shape;if(!f&&!m&&!h&&!p&&!y)return null;var x=Sze(f,m,h,p,this.props);if(!x&&!y)return null;var b=qa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(Wt,{className:Oe("recharts-reference-area",c)},e.renderRect(y,UL(UL({clipPath:b},Le(this.props,!0)),x)),jr.renderCallByParent(this.props,x))}}])}(q.Component);_w($w,"displayName","ReferenceArea");_w($w,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_w($w,"renderRect",function(t,e){var r;return q.isValidElement(t)?r=q.cloneElement(t,e):Fe(t)?r=t(e):r=q.createElement(YO,CT({},e,{className:"recharts-reference-area-rect"})),r});function WL(t){return Eze(t)||kze(t)||Tze(t)||Aze()}function Aze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tze(t,e){if(t){if(typeof t=="string")return AT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AT(t,e)}}function kze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eze(t){if(Array.isArray(t))return AT(t)}function AT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var TT=function(e,r,n,a,i){var o=La(e,QO),l=La(e,Iw),c=[].concat(WL(o),WL(l)),u=La(e,$w),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(y,x){if(x.props[d]===n&&qa(x.props,"extendDomain")&&he(x.props[f])){var b=x.props[f];return[Math.min(y[0],b),Math.max(y[1],b)]}return y},m)),u.length){var h="".concat(f,"1"),p="".concat(f,"2");m=u.reduce(function(y,x){if(x.props[d]===n&&qa(x.props,"extendDomain")&&he(x.props[h])&&he(x.props[p])){var b=x.props[h],g=x.props[p];return[Math.min(y[0],b,g),Math.max(y[1],b,g)]}return y},m)}return i&&i.length&&(m=i.reduce(function(y,x){return he(x)?[Math.min(y[0],x),Math.max(y[1],x)]:y},m)),m},VU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,p=new Array(h);m<h;m++)p[m]=f[m].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,p){var y=r?r+u:u;if(!this._events[y])return!1;var x=this._events[y],b=arguments.length,g,j;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,m),!0;case 5:return x.fn.call(x.context,d,f,m,h),!0;case 6:return x.fn.call(x.context,d,f,m,h,p),!0}for(j=1,g=new Array(b-1);j<b;j++)g[j-1]=arguments[j];x.fn.apply(x.context,g)}else{var C=x.length,N;for(j=0;j<C;j++)switch(x[j].once&&this.removeListener(u,x[j].fn,void 0,!0),b){case 1:x[j].fn.call(x[j].context);break;case 2:x[j].fn.call(x[j].context,d);break;case 3:x[j].fn.call(x[j].context,d,f);break;case 4:x[j].fn.call(x[j].context,d,f,m);break;default:if(!g)for(N=1,g=new Array(b-1);N<b;N++)g[N-1]=arguments[N];x[j].fn.apply(x[j].context,g)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!m||p.once)&&(!f||p.context===f)&&o(this,h);else{for(var y=0,x=[],b=p.length;y<b;y++)(p[y].fn!==d||m&&!p[y].once||f&&p[y].context!==f)&&x.push(p[y]);x.length?this._events[h]=x.length===1?x[0]:x:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(VU);var Oze=VU.exports;const Pze=rt(Oze);var tC=new Pze,rC="recharts.syncMouseEvents";function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function Dze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ize(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zU(n.key),n)}}function _ze(t,e,r){return e&&Ize(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nC(t,e,r){return e=zU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zU(t){var e=$ze(t,"string");return Nm(e)=="symbol"?e:e+""}function $ze(t,e){if(Nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rze=function(){function t(){Dze(this,t),nC(this,"activeIndex",0),nC(this,"coordinateList",[]),nC(this,"layout","horizontal")}return _ze(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function Mze(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&he(n)&&he(a))return!0}return!1}function Lze(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function UU(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=Ct(e,r,n,a),l=Ct(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Fze(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=Ct(l,c,u,f),h=Ct(l,c,d,f);n=m.x,a=m.y,i=h.x,o=h.y}else return UU(e);return[{x:n,y:a},{x:i,y:o}]}function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(r),!0).forEach(function(n){Bze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bze(t,e,r){return e=qze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qze(t){var e=Vze(t,"string");return Cm(e)=="symbol"?e:e+""}function Vze(t,e){if(Cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zze(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var p,y=nT;if(m==="ScatterChart")p=o,y=J6e;else if(m==="BarChart")p=Lze(f,o,c,d),y=YO;else if(f==="radial"){var x=UU(o),b=x.cx,g=x.cy,j=x.radius,C=x.startAngle,N=x.endAngle;p={cx:b,cy:g,startAngle:C,endAngle:N,innerRadius:j,outerRadius:j},y=lU}else p={points:Fze(f,o,c)},y=nT;var w=mp(mp(mp(mp({stroke:"#ccc",pointerEvents:"none"},c),p),Le(h,!1)),{},{payload:l,payloadIndex:u,className:Oe("recharts-tooltip-cursor",h.className)});return v.isValidElement(h)?v.cloneElement(h,w):v.createElement(y,w)}var Uze=["item"],Wze=["children","className","width","height","style","compact","title","desc"];function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jl.apply(this,arguments)}function GL(t,e){return Yze(t)||Gze(t,e)||HU(t,e)||Hze()}function Hze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Yze(t){if(Array.isArray(t))return t}function YL(t,e){if(t==null)return{};var r=Kze(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GU(n.key),n)}}function Zze(t,e,r){return e&&Xze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qze(t,e,r){return e=P0(e),e7e(t,WU()?Reflect.construct(e,r||[],P0(t).constructor):e.apply(t,r))}function e7e(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t7e(t)}function t7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WU=function(){return!!t})()}function P0(t){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P0(t)}function r7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kT(t,e)}function kT(t,e){return kT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kT(t,e)}function eu(t){return s7e(t)||a7e(t)||HU(t)||n7e()}function n7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HU(t,e){if(t){if(typeof t=="string")return ET(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ET(t,e)}}function a7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s7e(t){if(Array.isArray(t))return ET(t)}function ET(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){Te(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Te(t,e,r){return e=GU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GU(t){var e=i7e(t,"string");return Qc(e)=="symbol"?e:e+""}function i7e(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o7e={xAxis:["bottom","top"],yAxis:["left","right"]},l7e={width:"100%",height:"100%"},YU={x:0,y:0};function hp(t){return t}var c7e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},u7e=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return Q(Q(Q({},a),Ct(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Q(Q(Q({},a),Ct(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return YU},Rw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(eu(l),eu(u)):l},[]);return o.length>0?o:e&&e.length&&he(a)&&he(i)?e.slice(a,i+1):[]};function KU(t){return t==="number"?[0,"auto"]:void 0}var OT=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,l=Rw(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;m=cA(h,o.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(eu(c),[$Fe(u,m)]):c},[])},JL=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=c7e(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=bFe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=OT(e,r,d,f),h=u7e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},d7e=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,h=tU(d,i);return n.reduce(function(p,y){var x,b=y.type.defaultProps!==void 0?Q(Q({},y.type.defaultProps),y.props):y.props,g=b.type,j=b.dataKey,C=b.allowDataOverflow,N=b.allowDuplicatedCategory,w=b.scale,S=b.ticks,T=b.includeHidden,k=b[o];if(p[k])return p;var E=Rw(e.data,{graphicalItems:a.filter(function($){var z,ne=o in $.props?$.props[o]:(z=$.type.defaultProps)===null||z===void 0?void 0:z[o];return ne===k}),dataStartIndex:c,dataEndIndex:u}),O=E.length,M,I,V;Mze(b.domain,C,g)&&(M=XA(b.domain,null,C),h&&(g==="number"||w!=="auto")&&(V=Zd(E,j,"category")));var P=KU(g);if(!M||M.length===0){var F,U=(F=b.domain)!==null&&F!==void 0?F:P;if(j){if(M=Zd(E,j,g),g==="category"&&h){var R=cAe(M);N&&R?(I=M,M=S0(0,O)):N||(M=DM(U,M,y).reduce(function($,z){return $.indexOf(z)>=0?$:[].concat(eu($),[z])},[]))}else if(g==="category")N?M=M.filter(function($){return $!==""&&!Ge($)}):M=DM(U,M,y).reduce(function($,z){return $.indexOf(z)>=0||z===""||Ge(z)?$:[].concat(eu($),[z])},[]);else if(g==="number"){var _=CFe(E,a.filter(function($){var z,ne,xe=o in $.props?$.props[o]:(z=$.type.defaultProps)===null||z===void 0?void 0:z[o],ee="hide"in $.props?$.props.hide:(ne=$.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return xe===k&&(T||!ee)}),j,i,d);_&&(M=_)}h&&(g==="number"||w!=="auto")&&(V=Zd(E,j,"category"))}else h?M=S0(0,O):l&&l[k]&&l[k].hasStack&&g==="number"?M=m==="expand"?[0,1]:rU(l[k].stackGroups,c,u):M=eU(E,a.filter(function($){var z=o in $.props?$.props[o]:$.type.defaultProps[o],ne="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return z===k&&(T||!ne)}),g,d,!0);if(g==="number")M=TT(f,M,k,i,S),U&&(M=XA(U,M,C));else if(g==="category"&&U){var B=U,X=M.every(function($){return B.indexOf($)>=0});X&&(M=B)}}return Q(Q({},p),{},Te({},k,Q(Q({},b),{},{axisType:i,domain:M,categoricalDomain:V,duplicateDomain:I,originalDomain:(x=b.domain)!==null&&x!==void 0?x:P,isCategorical:h,layout:d})))},{})},f7e=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=Rw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,p=tU(d,i),y=-1;return n.reduce(function(x,b){var g=b.type.defaultProps!==void 0?Q(Q({},b.type.defaultProps),b.props):b.props,j=g[o],C=KU("number");if(!x[j]){y++;var N;return p?N=S0(0,h):l&&l[j]&&l[j].hasStack?(N=rU(l[j].stackGroups,c,u),N=TT(f,N,j,i)):(N=XA(C,eU(m,n.filter(function(w){var S,T,k=o in w.props?w.props[o]:(S=w.type.defaultProps)===null||S===void 0?void 0:S[o],E="hide"in w.props?w.props.hide:(T=w.type.defaultProps)===null||T===void 0?void 0:T.hide;return k===j&&!E}),"number",d),a.defaultProps.allowDataOverflow),N=TT(f,N,j,i)),Q(Q({},x),{},Te({},j,Q(Q({axisType:i},a.defaultProps),{},{hide:!0,orientation:ma(o7e,"".concat(i,".").concat(y%2),null),domain:N,originalDomain:C,isCategorical:p,layout:d})))}return x},{})},m7e=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=La(d,i),h={};return m&&m.length?h=d7e(e,{axes:m,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=f7e(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},h7e=function(e){var r=Dl(e),n=xd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:bO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ZA(r,n)}},XL=function(e){var r=e.children,n=e.defaultShowTooltip,a=_n(r,Kc),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},p7e=function(e){return!e||!e.length?!1:e.some(function(r){var n=ys(r&&r.type);return n&&n.indexOf("Bar")>=0})},ZL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},g7e=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=_n(f,Kc),p=_n(f,Fa),y=Object.keys(c).reduce(function(N,w){var S=c[w],T=S.orientation;return!S.mirror&&!S.hide?Q(Q({},N),{},Te({},T,N[T]+S.width)):N},{left:m.left||0,right:m.right||0}),x=Object.keys(o).reduce(function(N,w){var S=o[w],T=S.orientation;return!S.mirror&&!S.hide?Q(Q({},N),{},Te({},T,ma(N,"".concat(T))+S.height)):N},{top:m.top||0,bottom:m.bottom||0}),b=Q(Q({},x),y),g=b.bottom;h&&(b.bottom+=h.props.height||Kc.defaultProps.height),p&&r&&(b=wFe(b,a,n,r));var j=u-b.left-b.right,C=d-b.top-b.bottom;return Q(Q({brushBottom:g},b),{},{width:Math.max(j,0),height:Math.max(C,0)})},y7e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},x7e=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(b,g){var j=g.graphicalItems,C=g.stackGroups,N=g.offset,w=g.updateId,S=g.dataStartIndex,T=g.dataEndIndex,k=b.barSize,E=b.layout,O=b.barGap,M=b.barCategoryGap,I=b.maxBarSize,V=ZL(E),P=V.numericAxisName,F=V.cateAxisName,U=p7e(j),R=[];return j.forEach(function(_,B){var X=Rw(b.data,{graphicalItems:[_],dataStartIndex:S,dataEndIndex:T}),$=_.type.defaultProps!==void 0?Q(Q({},_.type.defaultProps),_.props):_.props,z=$.dataKey,ne=$.maxBarSize,xe=$["".concat(P,"Id")],ee=$["".concat(F,"Id")],re={},_e=c.reduce(function(gt,G){var ue=g["".concat(G.axisType,"Map")],ve=$["".concat(G.axisType,"Id")];ue&&ue[ve]||G.axisType==="zAxis"||Vc();var we=ue[ve];return Q(Q({},gt),{},Te(Te({},G.axisType,we),"".concat(G.axisType,"Ticks"),xd(we)))},re),Z=_e[F],K=_e["".concat(F,"Ticks")],H=C&&C[xe]&&C[xe].hasStack&&IFe(_,C[xe].stackGroups),Y=ys(_.type).indexOf("Bar")>=0,fe=ZA(Z,K),je=[],Ye=U&&vFe({barSize:k,stackGroups:C,totalSize:y7e(_e,F)});if(Y){var xt,ie,He=Ge(ne)?I:ne,Ee=(xt=(ie=ZA(Z,K,!0))!==null&&ie!==void 0?ie:He)!==null&&xt!==void 0?xt:0;je=jFe({barGap:O,barCategoryGap:M,bandSize:Ee!==fe?Ee:fe,sizeList:Ye[ee],maxBarSize:He}),Ee!==fe&&(je=je.map(function(gt){return Q(Q({},gt),{},{position:Q(Q({},gt.position),{},{offset:gt.position.offset-Ee/2})})}))}var st=_&&_.type&&_.type.getComposedData;st&&R.push({props:Q(Q({},st(Q(Q({},_e),{},{displayedData:X,props:b,dataKey:z,item:_,bandSize:fe,barPosition:je,offset:N,stackedData:H,layout:E,dataStartIndex:S,dataEndIndex:T}))),{},Te(Te(Te({key:_.key||"item-".concat(B)},P,_e[P]),F,_e[F]),"animationId",w)),childIndex:vAe(_,b.children),item:_})}),R},h=function(b,g){var j=b.props,C=b.dataStartIndex,N=b.dataEndIndex,w=b.updateId;if(!AR({props:j}))return null;var S=j.children,T=j.layout,k=j.stackOffset,E=j.data,O=j.reverseStackOrder,M=ZL(T),I=M.numericAxisName,V=M.cateAxisName,P=La(S,n),F=PFe(E,P,"".concat(I,"Id"),"".concat(V,"Id"),k,O),U=c.reduce(function($,z){var ne="".concat(z.axisType,"Map");return Q(Q({},$),{},Te({},ne,m7e(j,Q(Q({},z),{},{graphicalItems:P,stackGroups:z.axisType===I&&F,dataStartIndex:C,dataEndIndex:N}))))},{}),R=g7e(Q(Q({},U),{},{props:j,graphicalItems:P}),g==null?void 0:g.legendBBox);Object.keys(U).forEach(function($){U[$]=d(j,U[$],R,$.replace("Map",""),r)});var _=U["".concat(V,"Map")],B=h7e(_),X=m(j,Q(Q({},U),{},{dataStartIndex:C,dataEndIndex:N,updateId:w,graphicalItems:P,stackGroups:F,offset:R}));return Q(Q({formattedGraphicalItems:X,graphicalItems:P,offset:R,stackGroups:F},B),U)},p=function(x){function b(g){var j,C,N;return Jze(this,b),N=Qze(this,b,[g]),Te(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(N,"accessibilityManager",new Rze),Te(N,"handleLegendBBoxUpdate",function(w){if(w){var S=N.state,T=S.dataStartIndex,k=S.dataEndIndex,E=S.updateId;N.setState(Q({legendBBox:w},h({props:N.props,dataStartIndex:T,dataEndIndex:k,updateId:E},Q(Q({},N.state),{},{legendBBox:w}))))}}),Te(N,"handleReceiveSyncEvent",function(w,S,T){if(N.props.syncId===w){if(T===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(S)}}),Te(N,"handleBrushChange",function(w){var S=w.startIndex,T=w.endIndex;if(S!==N.state.dataStartIndex||T!==N.state.dataEndIndex){var k=N.state.updateId;N.setState(function(){return Q({dataStartIndex:S,dataEndIndex:T},h({props:N.props,dataStartIndex:S,dataEndIndex:T,updateId:k},N.state))}),N.triggerSyncEvent({dataStartIndex:S,dataEndIndex:T})}}),Te(N,"handleMouseEnter",function(w){var S=N.getMouseInfo(w);if(S){var T=Q(Q({},S),{},{isTooltipActive:!0});N.setState(T),N.triggerSyncEvent(T);var k=N.props.onMouseEnter;Fe(k)&&k(T,w)}}),Te(N,"triggeredAfterMouseMove",function(w){var S=N.getMouseInfo(w),T=S?Q(Q({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T);var k=N.props.onMouseMove;Fe(k)&&k(T,w)}),Te(N,"handleItemMouseEnter",function(w){N.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),Te(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Te(N,"handleMouseMove",function(w){w.persist(),N.throttleTriggeredAfterMouseMove(w)}),Te(N,"handleMouseLeave",function(w){N.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};N.setState(S),N.triggerSyncEvent(S);var T=N.props.onMouseLeave;Fe(T)&&T(S,w)}),Te(N,"handleOuterEvent",function(w){var S=bAe(w),T=ma(N.props,"".concat(S));if(S&&Fe(T)){var k,E;/.*touch.*/i.test(S)?E=N.getMouseInfo(w.changedTouches[0]):E=N.getMouseInfo(w),T((k=E)!==null&&k!==void 0?k:{},w)}}),Te(N,"handleClick",function(w){var S=N.getMouseInfo(w);if(S){var T=Q(Q({},S),{},{isTooltipActive:!0});N.setState(T),N.triggerSyncEvent(T);var k=N.props.onClick;Fe(k)&&k(T,w)}}),Te(N,"handleMouseDown",function(w){var S=N.props.onMouseDown;if(Fe(S)){var T=N.getMouseInfo(w);S(T,w)}}),Te(N,"handleMouseUp",function(w){var S=N.props.onMouseUp;if(Fe(S)){var T=N.getMouseInfo(w);S(T,w)}}),Te(N,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),Te(N,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&N.handleMouseDown(w.changedTouches[0])}),Te(N,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&N.handleMouseUp(w.changedTouches[0])}),Te(N,"handleDoubleClick",function(w){var S=N.props.onDoubleClick;if(Fe(S)){var T=N.getMouseInfo(w);S(T,w)}}),Te(N,"handleContextMenu",function(w){var S=N.props.onContextMenu;if(Fe(S)){var T=N.getMouseInfo(w);S(T,w)}}),Te(N,"triggerSyncEvent",function(w){N.props.syncId!==void 0&&tC.emit(rC,N.props.syncId,w,N.eventEmitterSymbol)}),Te(N,"applySyncEvent",function(w){var S=N.props,T=S.layout,k=S.syncMethod,E=N.state.updateId,O=w.dataStartIndex,M=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)N.setState(Q({dataStartIndex:O,dataEndIndex:M},h({props:N.props,dataStartIndex:O,dataEndIndex:M,updateId:E},N.state)));else if(w.activeTooltipIndex!==void 0){var I=w.chartX,V=w.chartY,P=w.activeTooltipIndex,F=N.state,U=F.offset,R=F.tooltipTicks;if(!U)return;if(typeof k=="function")P=k(R,w);else if(k==="value"){P=-1;for(var _=0;_<R.length;_++)if(R[_].value===w.activeLabel){P=_;break}}var B=Q(Q({},U),{},{x:U.left,y:U.top}),X=Math.min(I,B.x+B.width),$=Math.min(V,B.y+B.height),z=R[P]&&R[P].value,ne=OT(N.state,N.props.data,P),xe=R[P]?{x:T==="horizontal"?R[P].coordinate:X,y:T==="horizontal"?$:R[P].coordinate}:YU;N.setState(Q(Q({},w),{},{activeLabel:z,activeCoordinate:xe,activePayload:ne,activeTooltipIndex:P}))}else N.setState(w)}),Te(N,"renderCursor",function(w){var S,T=N.state,k=T.isTooltipActive,E=T.activeCoordinate,O=T.activePayload,M=T.offset,I=T.activeTooltipIndex,V=T.tooltipAxisBandSize,P=N.getTooltipEventType(),F=(S=w.props.active)!==null&&S!==void 0?S:k,U=N.props.layout,R=w.key||"_recharts-cursor";return q.createElement(zze,{key:R,activeCoordinate:E,activePayload:O,activeTooltipIndex:I,chartName:r,element:w,isActive:F,layout:U,offset:M,tooltipAxisBandSize:V,tooltipEventType:P})}),Te(N,"renderPolarAxis",function(w,S,T){var k=ma(w,"type.axisType"),E=ma(N.state,"".concat(k,"Map")),O=w.type.defaultProps,M=O!==void 0?Q(Q({},O),w.props):w.props,I=E&&E[M["".concat(k,"Id")]];return v.cloneElement(w,Q(Q({},I),{},{className:Oe(k,I.className),key:w.key||"".concat(S,"-").concat(T),ticks:xd(I,!0)}))}),Te(N,"renderPolarGrid",function(w){var S=w.props,T=S.radialLines,k=S.polarAngles,E=S.polarRadius,O=N.state,M=O.radiusAxisMap,I=O.angleAxisMap,V=Dl(M),P=Dl(I),F=P.cx,U=P.cy,R=P.innerRadius,_=P.outerRadius;return v.cloneElement(w,{polarAngles:Array.isArray(k)?k:xd(P,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(E)?E:xd(V,!0).map(function(B){return B.coordinate}),cx:F,cy:U,innerRadius:R,outerRadius:_,key:w.key||"polar-grid",radialLines:T})}),Te(N,"renderLegend",function(){var w=N.state.formattedGraphicalItems,S=N.props,T=S.children,k=S.width,E=S.height,O=N.props.margin||{},M=k-(O.left||0)-(O.right||0),I=Z7({children:T,formattedGraphicalItems:w,legendWidth:M,legendContent:u});if(!I)return null;var V=I.item,P=YL(I,Uze);return v.cloneElement(V,Q(Q({},P),{},{chartWidth:k,chartHeight:E,margin:O,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Te(N,"renderTooltip",function(){var w,S=N.props,T=S.children,k=S.accessibilityLayer,E=_n(T,Za);if(!E)return null;var O=N.state,M=O.isTooltipActive,I=O.activeCoordinate,V=O.activePayload,P=O.activeLabel,F=O.offset,U=(w=E.props.active)!==null&&w!==void 0?w:M;return v.cloneElement(E,{viewBox:Q(Q({},F),{},{x:F.left,y:F.top}),active:U,label:P,payload:U?V:[],coordinate:I,accessibilityLayer:k})}),Te(N,"renderBrush",function(w){var S=N.props,T=S.margin,k=S.data,E=N.state,O=E.offset,M=E.dataStartIndex,I=E.dataEndIndex,V=E.updateId;return v.cloneElement(w,{key:w.key||"_recharts-brush",onChange:lp(N.handleBrushChange,w.props.onChange),data:k,x:he(w.props.x)?w.props.x:O.left,y:he(w.props.y)?w.props.y:O.top+O.height+O.brushBottom-(T.bottom||0),width:he(w.props.width)?w.props.width:O.width,startIndex:M,endIndex:I,updateId:"brush-".concat(V)})}),Te(N,"renderReferenceElement",function(w,S,T){if(!w)return null;var k=N,E=k.clipPathId,O=N.state,M=O.xAxisMap,I=O.yAxisMap,V=O.offset,P=w.type.defaultProps||{},F=w.props,U=F.xAxisId,R=U===void 0?P.xAxisId:U,_=F.yAxisId,B=_===void 0?P.yAxisId:_;return v.cloneElement(w,{key:w.key||"".concat(S,"-").concat(T),xAxis:M[R],yAxis:I[B],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:E})}),Te(N,"renderActivePoints",function(w){var S=w.item,T=w.activePoint,k=w.basePoint,E=w.childIndex,O=w.isRange,M=[],I=S.props.key,V=S.item.type.defaultProps!==void 0?Q(Q({},S.item.type.defaultProps),S.item.props):S.item.props,P=V.activeDot,F=V.dataKey,U=Q(Q({index:E,dataKey:F,cx:T.x,cy:T.y,r:4,fill:GO(S.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Le(P,!1)),qb(P));return M.push(b.renderActiveDot(P,U,"".concat(I,"-activePoint-").concat(E))),k?M.push(b.renderActiveDot(P,Q(Q({},U),{},{cx:k.x,cy:k.y}),"".concat(I,"-basePoint-").concat(E))):O&&M.push(null),M}),Te(N,"renderGraphicChild",function(w,S,T){var k=N.filterFormatItem(w,S,T);if(!k)return null;var E=N.getTooltipEventType(),O=N.state,M=O.isTooltipActive,I=O.tooltipAxis,V=O.activeTooltipIndex,P=O.activeLabel,F=N.props.children,U=_n(F,Za),R=k.props,_=R.points,B=R.isRange,X=R.baseLine,$=k.item.type.defaultProps!==void 0?Q(Q({},k.item.type.defaultProps),k.item.props):k.item.props,z=$.activeDot,ne=$.hide,xe=$.activeBar,ee=$.activeShape,re=!!(!ne&&M&&U&&(z||xe||ee)),_e={};E!=="axis"&&U&&U.props.trigger==="click"?_e={onClick:lp(N.handleItemMouseEnter,w.props.onClick)}:E!=="axis"&&(_e={onMouseLeave:lp(N.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:lp(N.handleItemMouseEnter,w.props.onMouseEnter)});var Z=v.cloneElement(w,Q(Q({},k.props),_e));function K(G){return typeof I.dataKey=="function"?I.dataKey(G.payload):null}if(re)if(V>=0){var H,Y;if(I.dataKey&&!I.allowDuplicatedCategory){var fe=typeof I.dataKey=="function"?K:"payload.".concat(I.dataKey.toString());H=cA(_,fe,P),Y=B&&X&&cA(X,fe,P)}else H=_==null?void 0:_[V],Y=B&&X&&X[V];if(ee||xe){var je=w.props.activeIndex!==void 0?w.props.activeIndex:V;return[v.cloneElement(w,Q(Q(Q({},k.props),_e),{},{activeIndex:je})),null,null]}if(!Ge(H))return[Z].concat(eu(N.renderActivePoints({item:k,activePoint:H,basePoint:Y,childIndex:V,isRange:B})))}else{var Ye,xt=(Ye=N.getItemByXY(N.state.activeCoordinate))!==null&&Ye!==void 0?Ye:{graphicalItem:Z},ie=xt.graphicalItem,He=ie.item,Ee=He===void 0?w:He,st=ie.childIndex,gt=Q(Q(Q({},k.props),_e),{},{activeIndex:st});return[v.cloneElement(Ee,gt),null,null]}return B?[Z,null,null]:[Z,null]}),Te(N,"renderCustomized",function(w,S,T){return v.cloneElement(w,Q(Q({key:"recharts-customized-".concat(T)},N.props),N.state))}),Te(N,"renderMap",{CartesianGrid:{handler:hp,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:hp},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:hp},YAxis:{handler:hp},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((j=g.id)!==null&&j!==void 0?j:aw("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=Xz(N.triggeredAfterMouseMove,(C=g.throttleDelay)!==null&&C!==void 0?C:1e3/60),N.state={},N}return r7e(b,x),Zze(b,[{key:"componentDidMount",value:function(){var j,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,C=j.children,N=j.data,w=j.height,S=j.layout,T=_n(C,Za);if(T){var k=T.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=OT(this.state,N,k,E),M=this.state.tooltipTicks[k].coordinate,I=(this.state.offset.top+w)/2,V=S==="horizontal",P=V?{x:M,y:I}:{y:M,x:I},F=this.state.formattedGraphicalItems.find(function(R){var _=R.item;return _.type.name==="Scatter"});F&&(P=Q(Q({},P),F.props.points[k].tooltipPosition),O=F.props.points[k].tooltipPayload);var U={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:E,activePayload:O,activeCoordinate:P};this.setState(U),this.renderCursor(T),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var N,w;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(j){fA([_n(j.children,Za)],[_n(this.props.children,Za)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=_n(this.props.children,Za);if(j&&typeof j.props.shared=="boolean"){var C=j.props.shared?"axis":"item";return l.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var C=this.container,N=C.getBoundingClientRect(),w=GRe(N),S={chartX:Math.round(j.pageX-w.left),chartY:Math.round(j.pageY-w.top)},T=N.width/C.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,T);if(!k)return null;var E=this.state,O=E.xAxisMap,M=E.yAxisMap,I=this.getTooltipEventType(),V=JL(this.state,this.props.data,this.props.layout,k);if(I!=="axis"&&O&&M){var P=Dl(O).scale,F=Dl(M).scale,U=P&&P.invert?P.invert(S.chartX):null,R=F&&F.invert?F.invert(S.chartY):null;return Q(Q({},S),{},{xValue:U,yValue:R},V)}return V?Q(Q({},S),V):null}},{key:"inRange",value:function(j,C){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,S=j/N,T=C/N;if(w==="horizontal"||w==="vertical"){var k=this.state.offset,E=S>=k.left&&S<=k.left+k.width&&T>=k.top&&T<=k.top+k.height;return E?{x:S,y:T}:null}var O=this.state,M=O.angleAxisMap,I=O.radiusAxisMap;if(M&&I){var V=Dl(M);return $M({x:S,y:T},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,C=this.getTooltipEventType(),N=_n(j,Za),w={};N&&C==="axis"&&(N.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=qb(this.props,this.handleOuterEvent);return Q(Q({},S),w)}},{key:"addListener",value:function(){tC.on(rC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){tC.removeListener(rC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,C,N){for(var w=this.state.formattedGraphicalItems,S=0,T=w.length;S<T;S++){var k=w[S];if(k.item===j||k.props.key===j.key||C===ys(k.item.type)&&N===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,C=this.state.offset,N=C.left,w=C.top,S=C.height,T=C.width;return q.createElement("defs",null,q.createElement("clipPath",{id:j},q.createElement("rect",{x:N,y:w,height:S,width:T})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(C,N){var w=GL(N,2),S=w[0],T=w[1];return Q(Q({},C),{},Te({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(C,N){var w=GL(N,2),S=w[0],T=w[1];return Q(Q({},C),{},Te({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[j])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(j){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[j])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(j){var C=this.state,N=C.formattedGraphicalItems,w=C.activeItem;if(N&&N.length)for(var S=0,T=N.length;S<T;S++){var k=N[S],E=k.props,O=k.item,M=O.type.defaultProps!==void 0?Q(Q({},O.type.defaultProps),O.props):O.props,I=ys(O.type);if(I==="Bar"){var V=(E.data||[]).find(function(R){return O6e(j,R)});if(V)return{graphicalItem:k,payload:V}}else if(I==="RadialBar"){var P=(E.data||[]).find(function(R){return $M(j,R)});if(P)return{graphicalItem:k,payload:P}}else if(Ow(k,w)||Pw(k,w)||vm(k,w)){var F=vVe({graphicalItem:k,activeTooltipItem:w,itemData:M.data}),U=M.activeIndex===void 0?F:M.activeIndex;return{graphicalItem:Q(Q({},k),{},{childIndex:U}),payload:vm(k,w)?M.data[F]:k.props.data[F]}}}return null}},{key:"render",value:function(){var j=this;if(!AR(this))return null;var C=this.props,N=C.children,w=C.className,S=C.width,T=C.height,k=C.style,E=C.compact,O=C.title,M=C.desc,I=YL(C,Wze),V=Le(I,!1);if(E)return q.createElement(ML,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(hA,Jl({},V,{width:S,height:T,title:O,desc:M}),this.renderClipPath(),kR(N,this.renderMap)));if(this.props.accessibilityLayer){var P,F;V.tabIndex=(P=this.props.tabIndex)!==null&&P!==void 0?P:0,V.role=(F=this.props.role)!==null&&F!==void 0?F:"application",V.onKeyDown=function(R){j.accessibilityManager.keyboardEvent(R)},V.onFocus=function(){j.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return q.createElement(ML,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",Jl({className:Oe("recharts-wrapper",w),style:Q({position:"relative",cursor:"default",width:S,height:T},k)},U,{ref:function(_){j.container=_}}),q.createElement(hA,Jl({},V,{width:S,height:T,title:O,desc:M,style:l7e}),this.renderClipPath(),kR(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Te(p,"displayName",r),Te(p,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Te(p,"getDerivedStateFromProps",function(x,b){var g=x.dataKey,j=x.data,C=x.children,N=x.width,w=x.height,S=x.layout,T=x.stackOffset,k=x.margin,E=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var M=XL(x);return Q(Q(Q({},M),{},{updateId:0},h(Q(Q({props:x},M),{},{updateId:0}),b)),{},{prevDataKey:g,prevData:j,prevWidth:N,prevHeight:w,prevLayout:S,prevStackOffset:T,prevMargin:k,prevChildren:C})}if(g!==b.prevDataKey||j!==b.prevData||N!==b.prevWidth||w!==b.prevHeight||S!==b.prevLayout||T!==b.prevStackOffset||!uA(k,b.prevMargin)){var I=XL(x),V={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},P=Q(Q({},JL(b,j,S)),{},{updateId:b.updateId+1}),F=Q(Q(Q({},I),V),P);return Q(Q(Q({},F),h(Q({props:x},F),b)),{},{prevDataKey:g,prevData:j,prevWidth:N,prevHeight:w,prevLayout:S,prevStackOffset:T,prevMargin:k,prevChildren:C})}if(!fA(C,b.prevChildren)){var U,R,_,B,X=_n(C,Kc),$=X&&(U=(R=X.props)===null||R===void 0?void 0:R.startIndex)!==null&&U!==void 0?U:E,z=X&&(_=(B=X.props)===null||B===void 0?void 0:B.endIndex)!==null&&_!==void 0?_:O,ne=$!==E||z!==O,xe=!Ge(j),ee=xe&&!ne?b.updateId:b.updateId+1;return Q(Q({updateId:ee},h(Q(Q({props:x},b),{},{updateId:ee,dataStartIndex:$,dataEndIndex:z}),b)),{},{prevChildren:C,dataStartIndex:$,dataEndIndex:z})}return null}),Te(p,"renderActiveDot",function(x,b,g){var j;return v.isValidElement(x)?j=v.cloneElement(x,b):Fe(x)?j=x(b):j=q.createElement(KO,b),q.createElement(Wt,{className:"recharts-active-dot",key:g},j)});var y=v.forwardRef(function(b,g){return q.createElement(p,Jl({},b,{ref:g}))});return y.displayName=p.displayName,y},Mw=x7e({chartName:"PieChart",GraphicalChild:Xn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ew},{axisType:"radiusAxis",AxisComp:Tw}],formatAxisMap:UFe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const QL=["#0088FE","#FF8042"];function b7e({data:t}){return!t||t.length===0?s.jsx("div",{className:"text-center text-gray-500",children:"No data"}):s.jsxs("div",{className:"card p-4 h-full",children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Budget vs Charges"}),s.jsxs("div",{className:"w-full h-72",children:[" ",s.jsx(hw,{width:"100%",height:"100%",children:s.jsxs(Mw,{margin:{top:20,right:20,bottom:20,left:20},children:[s.jsx(Xn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"70%",label:!0,children:t.map((e,r)=>s.jsx(wu,{fill:QL[r%QL.length]},`cell-${r}`))}),s.jsx(Fa,{})]})})]})]})}const e3=["#0088FE","#FF8042","#00C49F"];function v7e({data:t}){return!t||t.length===0?s.jsx("div",{className:"text-center text-gray-500",children:"No data"}):s.jsxs("div",{className:"card p-4 h-full",children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Encumbrance vs Charges"}),s.jsxs("div",{className:"w-full h-64",children:[" ",s.jsx(hw,{width:"100%",height:"100%",children:s.jsxs(Mw,{children:[s.jsx(Xn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:t.map((e,r)=>s.jsx(wu,{fill:e3[r%e3.length]},`cell-${r}`))}),s.jsx(Fa,{})]})})]})]})}function j7e(){ce();const[t,e]=v.useState(""),[r,n]=v.useState(""),[a,i]=v.useState([]),[o,l]=v.useState([]),[c,u]=v.useState({chart1:[],chart2:[],table:[]}),[d,f]=v.useState(!1),m=[{ID:"dept1",Name:"Finance"},{ID:"dept2",Name:"Operations"}],h={dept1:[{ID:"sub1",Name:"Accounts Payable"},{ID:"sub2",Name:"Budgeting"}],dept2:[{ID:"sub3",Name:"Logistics"},{ID:"sub4",Name:"Maintenance"}]},p={chart1:[{name:"Budget Amount",value:6e5},{name:"Charges",value:45e4}],chart2:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:2e5},{name:"Charges",value:15e4}],table:[{name:"Accounts Payable",total:"250,000"},{name:"Accounts Receivable",total:"300,000"}]};v.useEffect(()=>{i(m)},[]),v.useEffect(()=>{t&&(l(h[t]||[]),n(""),u({chart1:[],chart2:[],table:[]}))},[t]),v.useEffect(()=>{r&&(f(!0),setTimeout(()=>{u(p),f(!1)},800))},[r]);const y=[{key:"name",header:"AP AR",sortable:!1},{key:"total",header:"Total",sortable:!1}];return s.jsxs("div",{children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{children:"Budget Dashboard"}),s.jsx("p",{children:"Analyze department-wise budget allocations and expenses."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsx(A,{label:"Department",name:"Department",type:"select",value:t,onChange:x=>e(x.target.value),options:a.map(x=>({value:x.ID,label:x.Name})),required:!0}),s.jsx(A,{label:"Sub-Department",name:"SubDepartment",type:"select",value:r,onChange:x=>n(x.target.value),options:o.map(x=>({value:x.ID,label:x.Name})),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[s.jsx(b7e,{data:c==null?void 0:c.chart1,loading:d}),s.jsx(v7e,{data:c==null?void 0:c.chart2,loading:d})]}),s.jsx("div",{className:"mt-6",children:s.jsx(pe,{columns:y,data:(c==null?void 0:c.table)||[],loading:d,emptyMessage:"No budget data found for selected sub-department."})})]})}const t3=["#0088FE","#00C49F","#FF8042"],r3={year:{disbursed:"PHP 10,00,00,000",obligated:"PHP 8,50,00,000"},month:{disbursed:"PHP 2,50,00,000",obligated:"PHP 2,00,00,000"},day:{disbursed:"PHP 10,00,000",obligated:"PHP 8,00,000"}},w7e={year:{disbursement:[{name:"Posted",value:80},{name:"Rejected",value:20}],obligation:[{name:"Posted",value:60},{name:"Requested",value:30},{name:"Rejected",value:10}],travel:[{name:"Posted",value:40},{name:"Requested",value:40},{name:"Rejected",value:20}]},month:{disbursement:[{name:"Posted",value:70},{name:"Rejected",value:30}],obligation:[{name:"Posted",value:50},{name:"Requested",value:40},{name:"Rejected",value:10}],travel:[{name:"Posted",value:60},{name:"Requested",value:30},{name:"Rejected",value:10}]},day:{disbursement:[{name:"Posted",value:90},{name:"Rejected",value:10}],obligation:[{name:"Posted",value:55},{name:"Requested",value:35},{name:"Rejected",value:10}],travel:[{name:"Posted",value:65},{name:"Requested",value:25},{name:"Rejected",value:10}]}};function N7e(){var p,y;const[t,e]=v.useState("year"),[r,n]=v.useState(""),[a,i]=v.useState("year"),[o,l]=v.useState(""),c=((p=r3[t])==null?void 0:p.disbursed)||"",u=((y=r3[t])==null?void 0:y.obligated)||"",d=w7e[a],f=[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}],m=[{value:"dept1",label:"Department A"},{value:"dept2",label:"Department B"}],h=(x,b)=>s.jsxs("div",{className:"card p-4 h-full",children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:x}),s.jsx("div",{className:"w-full h-64",children:s.jsx(hw,{width:"100%",height:"100%",children:s.jsxs(Mw,{children:[s.jsx(Xn,{data:b,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:b.map((g,j)=>s.jsx(wu,{fill:t3[j%t3.length]},j))}),s.jsx(Fa,{})]})})})]});return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsx("h1",{children:"Disbursement Dashboard"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsx(A,{label:"Timeframe",type:"select",value:t,onChange:x=>e(x.target.value),options:f}),s.jsx(A,{label:"Department",type:"select",value:r,onChange:x=>n(x.target.value),options:m})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[s.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-primary-700",children:["Disbursed Amount: ",c]}),s.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-amber-700",children:["Obligated Amount: ",u]})]}),s.jsx("hr",{className:"my-8 border-t"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Timeframe",type:"select",value:a,onChange:x=>i(x.target.value),options:f}),s.jsx(A,{label:"Department",type:"select",value:o,onChange:x=>l(x.target.value),options:m})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[h("Disbursement",d.disbursement),h("Obligation",d.obligation),h("Travel",d.travel)]})]})}const n3=["#0088FE","#FF8042","#00C49F"],pp={general:0,marriage:0,burial:0,cedula:0},aC={general:[{name:"Paid",value:60},{name:"Unpaid",value:40}],marriage:[{name:"Paid",value:80},{name:"Unpaid",value:20}],burial:[{name:"Paid",value:70},{name:"Unpaid",value:30}]};function sC({title:t,data:e}){return s.jsxs("div",{className:"card p-4 h-full",children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),s.jsx("div",{className:"w-full h-64",children:s.jsx(hw,{width:"100%",height:"100%",children:s.jsxs(Mw,{children:[s.jsx(Xn,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e.map((r,n)=>s.jsx(wu,{fill:n3[n%n3.length]},n))}),s.jsx(Fa,{})]})})})]})}function C7e(){return s.jsxs("div",{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 items-start",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cedula"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"font-semibold text-xl",children:"Revenue"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.jsx(A,{label:"Select View",type:"select",options:[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"General Service Invoice"}),s.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",pp.general.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Marriage Service Invoice"}),s.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",pp.marriage.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Burial Service Invoice"}),s.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",pp.burial.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Cedula"}),s.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",pp.cedula.toFixed(2)]})]})]})]})]}),s.jsx("hr",{className:"my-6 border-gray-300"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[s.jsx(sC,{title:"General Service Invoice",data:aC.general}),s.jsx(sC,{title:"Marriage Service Invoice",data:aC.marriage}),s.jsx(sC,{title:"Burial Service Invoice",data:aC.burial})]})]})}const JU=()=>{const t=["Valid","Cancelled"],e=["Office of the Mayor","Accounting Department","Treasury Department","IT Department"],r=["Cash","Cheque","Bank Transfer"],n=["General Fund","Special Education Fund","Trust Fund"];return Array.from({length:5},(a,i)=>({id:i+1,receiptNumber:`OR-2024-01-${String(i+1).padStart(4,"0")}`,receiptDate:new Date(2024,0,Math.floor(Math.random()*28)+1).toISOString().split("T")[0],payorName:`Payor ${i+1}`,payorAddress:"Sample Address, Municipality",fund:n[Math.floor(Math.random()*n.length)],modeOfPayment:r[Math.floor(Math.random()*r.length)],department:e[Math.floor(Math.random()*e.length)],totalAmount:Math.floor(Math.random()*5e4)+1e3,status:t[Math.floor(Math.random()*t.length)],collectedBy:"Jane Doe",dateCreated:new Date(2024,0,Math.floor(Math.random()*28)+1).toISOString(),chequeNumber:null,chequeDate:null,draweeBank:null,ePaymentReference:null}))},S7e={generalReceipts:JU(),generalReceipt:null,isLoading:!1,error:null},$x=L("generalReceipts/fetchAll",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(JU())},500)})}catch(r){return e.rejectWithValue(r.message)}}),iC=L("generalReceipts/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const i=e.getState().generalReceipts.generalReceipts.find(o=>o.id===t);i?r(i):n(new Error("General receipt not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),oC=L("generalReceipts/create",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),receiptNumber:`OR-2024-01-${String(Math.floor(Math.random()*9e3)+1e3)}`,dateCreated:new Date().toISOString(),status:"Valid"};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),lC=L("generalReceipts/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),XU=me({name:"generalReceipts",initialState:S7e,reducers:{resetGeneralReceiptState:t=>{t.generalReceipt=null,t.error=null}},extraReducers:t=>{t.addCase($x.pending,e=>{e.isLoading=!0}).addCase($x.fulfilled,(e,r)=>{e.isLoading=!1,e.generalReceipts=r.payload}).addCase($x.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(iC.pending,e=>{e.isLoading=!0}).addCase(iC.fulfilled,(e,r)=>{e.isLoading=!1,e.generalReceipt=r.payload}).addCase(iC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(oC.pending,e=>{e.isLoading=!0}).addCase(oC.fulfilled,(e,r)=>{e.isLoading=!1,e.generalReceipts.push(r.payload)}).addCase(oC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lC.pending,e=>{e.isLoading=!0}).addCase(lC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalReceipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.generalReceipts[n]=r.payload)}).addCase(lC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetGeneralReceiptState:t9e}=XU.actions,A7e=XU.reducer,T7e=le().shape({status:D().required("Status is required"),pgiNumber:D().required("PGI number is required"),date:De().required("Date is required"),agency:D().required("Agency is required"),fund:D().required("Fund is required"),payorType:D().required("Payor type is required"),payorName:D().required("Payor name is required"),paymentMethod:D().required("Payment method is required"),items:Vn().of(le().shape({name:D().required("Item name is required"),chargesAccount:D().required("Charges account is required"),quantity:oe().required("Quantity is required").min(1,"Quantity must be at least 1"),price:oe().required("Price is required").min(0,"Price cannot be negative"),vatable:Pc().required("VAT status is required")})).min(1,"At least one item is required"),remarks:D()});function k7e({isOpen:t,onClose:e,selectedReceipt:r,onSubmit:n}){const[a,i]=v.useState("Individual"),o={Individual:[{value:"jeric_morning_star",label:"Jeric Morning Star"},{value:"john_doe",label:"John Doe"},{value:"jane_smith",label:"Jane Smith"}],Corporation:[{value:"abc_corp",label:"ABC Corporation"},{value:"xyz_inc",label:"XYZ Inc."},{value:"sample_co",label:"Sample Company"}]},l=r||{status:"posted",pgiNumber:"",date:new Date().toISOString().split("T")[0],agency:"",fund:"Special Education Fund",payorType:"Individual",payorName:"",paymentMethod:"cash",bank:"",number:"",paymentDate:"1900-01-01",documentNumber:"",remarks:"",items:[{name:"",chargesAccount:"Traffic Violation",quantity:1,price:0,vatable:!1}]};return s.jsxs(te,{isOpen:t,onClose:e,title:r?"Edit General Service Receipt":"New General Service Receipt",size:"xl",children:[s.jsxs("div",{className:"w-full py-4 flex justify-end gap-4 items-center",children:[s.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),s.jsx("button",{className:"btn btn-primary flex-initial",children:"Add Attachments"}),s.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),s.jsx(Be,{initialValues:l,validationSchema:T7e,onSubmit:n,enableReinitialize:!0,children:({values:c,setFieldValue:u,isSubmitting:d})=>s.jsxs(We,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[s.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),s.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:c.status.toUpperCase()})]}),s.jsx(A,{label:"No. PGI",name:"pgiNumber",type:"text",required:!0})]}),s.jsx(A,{label:"Date",name:"date",type:"date",required:!0}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Agency",name:"agency",type:"text",required:!0}),s.jsx(A,{label:"Fund",name:"fund",type:"text",required:!0})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[s.jsx("h3",{className:"font-medium text-lg",children:"Payor Information"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxpayer Type"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>{i("Individual"),u("payorType","Individual"),u("payorName","")},className:`px-4 py-2 rounded-md ${c.payorType==="Individual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Individual"}),s.jsx("button",{type:"button",onClick:()=>{i("Corporation"),u("payorType","Corporation"),u("payorName","")},className:`px-4 py-2 rounded-md ${c.payorType==="Corporation"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Corporation"})]})]}),s.jsx(A,{label:"Payor",name:"payorName",type:"select",options:o[c.payorType],required:!0})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[s.jsx("h3",{className:"font-medium text-lg",children:"Items"}),s.jsx(Yr,{name:"items",children:({push:f,remove:m})=>s.jsxs("div",{className:"space-y-4",children:[c.items.map((h,p)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end",children:[s.jsx(A,{label:"Item",name:`items.${p}.name`,type:"text",required:!0,className:"md:col-span-2"}),s.jsx(A,{label:"Charges Account",name:`items.${p}.chargesAccount`,type:"text",required:!0,className:"md:col-span-1"}),s.jsx(A,{label:"Qty",name:`items.${p}.quantity`,type:"number",required:!0,min:"1",className:"md:col-span-1"}),s.jsx(A,{label:"Price",name:`items.${p}.price`,type:"number",required:!0,min:"0",className:"md:col-span-1"}),s.jsxs("div",{className:"flex items-center space-x-2 md:col-span-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Nce,{type:"checkbox",name:`items.${p}.vatable`,id:`items.${p}.vatable`,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:`items.${p}.vatable`,className:"ml-2 block text-sm text-gray-700",children:"VATable"})]}),s.jsxs("div",{className:"text-sm font-medium",children:["Subtotal: ",(h.quantity*h.price).toFixed(2)]}),p>0&&s.jsx("button",{type:"button",onClick:()=>m(p),className:"text-red-500 hover:text-red-700",children:""})]})]},p)),s.jsx("button",{type:"button",onClick:()=>f({name:"",chargesAccount:"Traffic Violation",quantity:1,price:0,vatable:!1}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ Add Item"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),s.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:c.items.reduce((f,m)=>f+m.quantity*m.price,0).toFixed(2)})]}),s.jsx(A,{label:"Amount in Words",name:"amountInWords",type:"text",value:`${E7e(c.items.reduce((f,m)=>f+m.quantity*m.price,0))} PESOS`,readOnly:!0})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[s.jsx("h3",{className:"font-medium text-lg",children:"Payment Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"space-y-2",children:s.jsx("button",{type:"button",onClick:()=>u("paymentMethod","cash"),className:`w-full text-left px-4 py-2 rounded-md ${c.paymentMethod==="cash"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Cash"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block font-medium",children:"Drawee"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("button",{type:"button",onClick:()=>u("paymentMethod","treasury"),className:`px-3 py-1 rounded-md text-sm ${c.paymentMethod==="treasury"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Treasury Warrant"}),s.jsx("button",{type:"button",onClick:()=>u("paymentMethod","check"),className:`px-3 py-1 rounded-md text-sm ${c.paymentMethod==="check"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Check"}),s.jsx("button",{type:"button",onClick:()=>u("paymentMethod","moneyOrder"),className:`px-3 py-1 rounded-md text-sm ${c.paymentMethod==="moneyOrder"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Money Order"})]})]})]})]}),c.paymentMethod!=="cash"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(A,{label:"Bank",name:"bank",type:"text"}),s.jsx(A,{label:"Number",name:"number",type:"text"}),s.jsx(A,{label:"Date",name:"paymentDate",type:"date"})]}),s.jsx(A,{label:`${c.paymentMethod==="treasury"?"Treasury Warrant":c.paymentMethod==="check"?"Check":"Money Order"} Number`,name:"documentNumber",type:"text"}),s.jsx(A,{label:`Date of ${c.paymentMethod==="treasury"?"Treasury Warrant":c.paymentMethod==="check"?"Check":"Money Order"}`,name:"paymentDate",type:"date"})]}),s.jsx(A,{label:"Remarks",name:"remarks",type:"textarea",rows:2})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:d?"Saving...":"Save"})]})]})})]})}function E7e(t){return"ZERO"}function a3(){const t=ce(),{generalReceipts:e,isLoading:r}=W(C=>C.generalReceipts),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t($x())},[t]);const f=()=>{d(null),c(!0)},m=C=>{d(C),o(!0)},h=C=>{d(C),a(!0)},p=()=>{a(!1),d(null)},y=()=>{o(!1),d(null)},x=()=>{c(!1),d(null)},b=C=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C),g=[{key:"receiptNumber",header:"OR Number",sortable:!0,className:"font-medium text-neutral-900"},{key:"receiptDate",header:"Date",sortable:!0,render:C=>new Date(C).toLocaleDateString()},{key:"payorName",header:"Payor",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"totalAmount",header:"Amount",sortable:!0,render:C=>b(C),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:C=>s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${C==="Valid"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:C})}],j=[{icon:Dm,title:"View",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ne,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Bi,title:"Print",onClick:C=>console.log("Print receipt:",C),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"General Service Receipt"}),s.jsx("p",{children:"Manage official receipts and collections"})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Service Receipt"]})})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{columns:g,data:e,actions:j,loading:r,onRowClick:m})}),s.jsx(te,{isOpen:n,onClose:p,title:u?"Edit General Receipt":"Create General Receipt",size:"lg",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Receipt Date",name:"receiptDate",type:"date",required:!0}),s.jsx(A,{label:"Fund",name:"fund",type:"select",required:!0,options:[{value:"General Fund",label:"General Fund"},{value:"Special Education Fund",label:"Special Education Fund"},{value:"Trust Fund",label:"Trust Fund"}]})]}),s.jsx(A,{label:"Payor Name",name:"payorName",type:"text",required:!0,placeholder:"Enter payor name"}),s.jsx(A,{label:"Payor Address",name:"payorAddress",type:"textarea",placeholder:"Enter payor address",rows:2}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(A,{label:"Mode of Payment",name:"modeOfPayment",type:"select",required:!0,options:[{value:"Cash",label:"Cash"},{value:"Cheque",label:"Cheque"},{value:"Bank Transfer",label:"Bank Transfer"}]}),s.jsx(A,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",min:"0",step:"0.01"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:p,className:"btn btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:u?"Update":"Create"})]})]})}),s.jsx(k7e,{isOpen:l,onClose:x,selectedReceipt:u,onSubmit:C=>{console.log("Submit service receipt:",C),x()}}),s.jsx(te,{isOpen:i,onClose:y,title:"General Receipt Details",size:"lg",children:u&&s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Receipt Details"}),s.jsxs("dl",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OR Number"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.receiptNumber})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:new Date(u.receiptDate).toLocaleDateString()})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.fund})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.modeOfPayment})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payor Information"}),s.jsxs("dl",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Name"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorName})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),s.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorAddress||"N/A"})]})]})]})]}),s.jsx("div",{className:"p-4 bg-success-50 rounded-lg border border-success-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-success-700",children:"Total Amount"}),s.jsx("span",{className:"text-2xl font-bold text-success-700",children:b(u.totalAmount)})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"button",onClick:y,className:"btn btn-outline",children:"Close"}),s.jsx("button",{type:"button",onClick:()=>h(u),className:"btn btn-primary",children:"Edit"})]})]})})]})}const s3=()=>{const[t,e]=v.useState({owner:"",municipality:"MAKATI",checkNumber:"0",previousPayment:"0",receivedFrom:"CEDRIC",taxDeclarationNumber:"",address:"",block:"",lot:"",amountReceived:"",remainingBalance:"0",receivedFrom2:"",advancePayment:!1,year:"2025",until:"2025",amountInWords:"",basicFund:!0,specialEducationFund:!1,previousLandValues:"0",previousImprovement:"0",previousTotalAssessed:"0",previousTotal:"0",presentLandValues:"0",presentImprovement:"0",presentTotalAssessed:"0",discountRate:"0",penaltyRate:"0",payment:"0",dueDateYear:"",installmentPayment:!1,fullPayment:!0}),[r,n]=v.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),[a,i]=v.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),o=(f,m)=>{e(h=>({...h,[f]:m}))},l=(f,m)=>{const h={id:Date.now().toString(),ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""};m([...f,h])},c=(f,m,h)=>{m.length>1&&h(m.filter(p=>p.id!==f))},u=(f,m,h,p,y)=>{y(p.map(x=>x.id===f?{...x,[m]:h}:x))},d=({entries:f,setEntries:m,title:h})=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[s.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:h}),s.jsx("div",{className:"flex gap-2",children:s.jsx(mt,{type:"button",onClick:()=>l(f,m),className:"bg-green-600 hover:bg-green-700 text-white p-2 h-8 w-8",children:s.jsx(ga,{className:"h-4 w-4"})})})]}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner ID"}),s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner Address"}),s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Lot Number"}),s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Block Number"}),s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"T.D No"}),s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Land"}),s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Improvement"}),s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Total Assessed"}),s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Tax Due"}),s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Payment"}),s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Full Payment"}),s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Penalty"}),s.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:f.map((p,y)=>s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 p-1",children:s.jsx("input",{type:"text",value:y+1,readOnly:!0,className:"w-full p-1 text-sm bg-gray-50 border-none text-center"})}),s.jsx("td",{className:"border border-gray-300 p-1",children:s.jsx("input",{type:"text",value:p.ownerAddress,onChange:x=>u(p.id,"ownerAddress",x.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),s.jsx("td",{className:"border border-gray-300 p-1",children:s.jsx("input",{type:"text",value:p.lotNumber,onChange:x=>u(p.id,"lotNumber",x.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),s.jsx("td",{className:"border border-gray-300 p-1",children:s.jsx("input",{type:"text",value:p.blockNumber,onChange:x=>u(p.id,"blockNumber",x.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),s.jsx("td",{className:"border border-gray-300 p-1",children:s.jsx("input",{type:"text",value:p.tdNo,onChange:x=>u(p.id,"tdNo",x.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),s.jsx("td",{className:"border border-gray-300 p-1",children:s.jsx("input",{type:"text",value:p.land,onChange:x=>u(p.id,"land",x.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),s.jsx("td",{className:"border border-gray-300 p-1",children:s.jsx("input",{type:"text",value:p.improvement,onChange:x=>u(p.id,"improvement",x.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),s.jsx("td",{className:"border border-gray-300 p-1",children:s.jsx("input",{type:"text",value:p.totalAssessed,onChange:x=>u(p.id,"totalAssessed",x.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),s.jsx("td",{className:"border border-gray-300 p-1",children:s.jsx("input",{type:"text",value:p.taxDue,onChange:x=>u(p.id,"taxDue",x.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),s.jsx("td",{className:"border border-gray-300 p-1",children:s.jsx("input",{type:"text",value:p.payment,onChange:x=>u(p.id,"payment",x.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),s.jsx("td",{className:"border border-gray-300 p-1 text-center",children:s.jsx("button",{type:"button",onClick:()=>c(p.id,f,m),className:"btn btn-danger ",disabled:f.length===1,children:s.jsx(Mr,{className:"h-3 w-3"})})})]},p.id))})]})})})]});return s.jsx("div",{className:"min-h-screen bg-white md:p-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:s.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[s.jsx(Zo,{className:"h-5 w-5"}),"Basic Information"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[s.jsx(A,{label:"Owner",name:"owner",type:"select",options:[{value:"owner1",label:"Owner 1"},{value:"owner2",label:"Owner 2"}],value:t.owner,onChange:f=>o("owner",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Municipality",name:"municipality",value:t.municipality,onChange:f=>o("municipality",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Check Number",name:"checkNumber",value:t.checkNumber,onChange:f=>o("checkNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Previous Payment",name:"previousPayment",value:t.previousPayment,onChange:f=>o("previousPayment",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Received From",name:"receivedFrom",value:t.receivedFrom,onChange:f=>o("receivedFrom",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[s.jsx(A,{label:"Tax Declaration Number",name:"taxDeclarationNumber",type:"select",options:[{value:"taxDeclarationNumber1",label:"Tax Declaration Number 1"},{value:"taxDeclarationNumber2",label:"Tax Declaration Number 2"}],value:t.taxDeclarationNumber,onChange:f=>o("taxDeclarationNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Address",name:"address",value:t.address,onChange:f=>o("address",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Block",name:"block",value:t.block,onChange:f=>o("block",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Lot",name:"lot",value:t.lot,onChange:f=>o("lot",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[s.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Previous Balance Land Values"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsx(A,{label:"Land Values",name:"previousLandValues",value:t.previousLandValues,onChange:f=>o("previousLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Improvement",name:"previousImprovement",value:t.previousImprovement,onChange:f=>o("previousImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Total Assessed Value",name:"previousTotalAssessed",value:t.previousTotalAssessed,onChange:f=>o("previousTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>o("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"General Revision (Year)",name:"dueDateYear",type:"select",options:[{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],value:t.dueDateYear,onChange:f=>o("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>o("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Payment",name:"payment",value:t.payment,onChange:f=>o("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary ",children:"Add"}),s.jsx("button",{className:"btn btn-outline",children:"Remove"})]})]})})]}),s.jsx(d,{entries:r,setEntries:n,title:"Previous Year Balance - Detailed Property List"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[s.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Present Year Balance"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsx(A,{label:"Land Values",name:"presentLandValues",value:t.presentLandValues,onChange:f=>o("presentLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Improvement",name:"presentImprovement",value:t.presentImprovement,onChange:f=>o("presentImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Total Assessed Value",name:"presentTotalAssessed",value:t.presentTotalAssessed,onChange:f=>o("presentTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Label10"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsx(A,{label:"Discount Rate",name:"discountRate",value:t.discountRate,onChange:f=>o("discountRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Penalty Rate",name:"penaltyRate",value:t.penaltyRate,onChange:f=>o("penaltyRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Payment",name:"payment",value:t.payment,onChange:f=>o("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>o("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsx(A,{label:"Payment",name:"payment",value:t.payment,onChange:f=>o("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsx(A,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>o("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"paymentType",checked:t.installmentPayment,onChange:()=>{o("installmentPayment",!0),o("fullPayment",!1)},className:"text-green-600 focus:ring-green-500"}),s.jsx("span",{className:"text-sm",children:"Installment Payment"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"paymentType",checked:t.fullPayment,onChange:()=>{o("fullPayment",!0),o("installmentPayment",!1)},className:"text-green-600 focus:ring-green-500"}),s.jsx("span",{className:"text-sm",children:"Full Payment"})]})]})]})]})]})]}),s.jsx(d,{entries:a,setEntries:i,title:"Present Year Balance - Detailed Property List"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:s.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[s.jsx(Cn,{className:"h-5 w-5"}),"Payment Summary"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsx(A,{label:"Amount Received",name:"amountReceived",value:t.amountReceived,onChange:f=>o("amountReceived",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"}),s.jsx(A,{label:"Remaining Balance",name:"remainingBalance",value:t.remainingBalance,onChange:f=>o("remainingBalance",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsx(A,{label:"Received From",name:"receivedFrom2",value:t.receivedFrom2,onChange:f=>o("receivedFrom2",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:t.advancePayment,onChange:f=>o("advancePayment",f.target.checked),className:"text-green-600 focus:ring-green-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Advance Payment"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(A,{label:"Year",name:"year",value:t.year,onChange:f=>o("year",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Until"}),s.jsx(A,{label:"",name:"until",value:t.until,onChange:f=>o("until",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund Type"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"fundType",checked:t.basicFund,onChange:()=>{o("basicFund",!0),o("specialEducationFund",!1)},className:"text-green-600 focus:ring-green-500"}),s.jsx("span",{className:"text-sm",children:"Basic Fund"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"fundType",checked:t.specialEducationFund,onChange:()=>{o("specialEducationFund",!0),o("basicFund",!1)},className:"text-green-600 focus:ring-green-500"}),s.jsx("span",{className:"text-sm",children:"Special Education Fund"})]})]})]})]}),s.jsx(A,{label:"Amount In Words",name:"amountInWords",value:t.amountInWords,onChange:f=>o("amountInWords",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500",placeholder:"Enter amount in words..."})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[s.jsx("button",{variant:"outline",className:"btn btn-outline",children:"Cancel"}),s.jsx(mt,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:"Save Draft"})]})]})})},O7e=[{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"Active"},{id:2,tdNo:"TD-002",owner:"Maria Santos",address:"456 Pine St",beneficialUser:"Carlos Santos",beneficialAddress:"456 Pine St",octTctCloaNo:"OCT-456",cct:"CCT-789",dated:"2024-02-15",propertyIdentificationNo:"67890",tin:"456-789-012",ownerTelephoneNo:"9876543210",beneficialTin:"456-789-012",beneficialTelephoneNo:"9876543210",surveyNo:"S-002",lotNo:"L-002",blockNo:"B-002",boundaries:{taxable:!0,north:"Street E",south:"Street F",east:"Street G",west:"Street H"},cancelledTdNo:"",cancelledOwner:"",effectivityOfAssessment:"2024-01-01",previousOwner:"",previousAssessedValue:"0",propertyDetails:{kind:"Land",numberOf:"1",description:"Commercial lot"},assessmentDetails:{kind:"Land",actualUse:"Commercial",classification:"Class 2",areaSize:"Large",assessmentLevel:"30%",marketValue:"2500000"},status:"Active"}];function P7e(){ce();const{realPropertyTaxes:t,isLoading:e}=W(g=>g.realPropertyTax),[r,n]=v.useState("list"),[a,i]=v.useState(null),[o,l]=v.useState(""),c=t&&t.length>0?t:O7e,u=()=>{i(null),n("form")},d=g=>{i(g),n("details")},f=g=>{i(g),n("form")},m=g=>{console.log("Print property:",g)},h=()=>{n("list"),i(null)},p=c==null?void 0:c.filter(g=>{const j=o.toLowerCase();return g.tdNo.toLowerCase().includes(j)||g.owner.toLowerCase().includes(j)||g.address.toLowerCase().includes(j)||g.propertyIdentificationNo.toLowerCase().includes(j)}),y=[{key:"tdNo",header:"TD No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"owner",header:"Owner",sortable:!0},{key:"address",header:"Address",sortable:!0},{key:"propertyIdentificationNo",header:"Property ID",sortable:!0},{key:"dated",header:"Date",sortable:!0,render:g=>new Date(g).toLocaleDateString()},{key:"status",header:"Status",sortable:!0,render:g=>x(g)}],x=g=>{let j="bg-neutral-100 text-neutral-800";switch(g){case"Active":j="bg-success-100 text-success-800";break;case"Inactive":j="bg-warning-100 text-warning-800";break;case"Cancelled":j="bg-error-100 text-error-800";break}return s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${j}`,children:g})},b=[{icon:Dm,title:"View",onClick:d,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ne,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return s.jsxs("div",{className:"container mx-auto  md:px-4 md:py-8",children:[r==="list"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Property Tax Records"}),s.jsx("p",{className:"text-gray-600",children:"Manage real property tax assessments"})]}),s.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center",children:[s.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Property"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("div",{className:"flex flex-wrap items-start gap-4 mb-4",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search by TD No., owner, address, or property ID...",value:o,onChange:g=>l(g.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"}),s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})}),s.jsx(pe,{columns:y,data:p,actions:b,loading:e,onRowClick:d})]})]}),r==="form"&&s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:s.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:a?"Edit Real Property Tax Record":"Create New Real Property Tax Record"}),s.jsx("p",{className:"text-gray-600",children:a?"Update the property details":"Fill out the form to create a new property record"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:s.jsx(s3,{initialData:a,onCancel:h,onSubmitSuccess:h})})]}),r==="details"&&a&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:s.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Details"}),s.jsx("p",{className:"text-gray-600",children:"View and manage property tax details"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>f(a),className:"btn btn-primary flex items-center",children:[s.jsx(Ne,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),s.jsxs("button",{type:"button",onClick:()=>m(a),className:"btn btn-outline flex items-center",children:[s.jsx(Bi,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:s.jsx(s3,{initialData:a,readOnly:!0,onBack:h})})]})]})}function D7e({funds:t=[],employees:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:i}){const o=v.useRef(null),l=le({endDate:D().required("Date End is required"),fundID:D().required("Fund is required"),approverID:D().required("Approver is required"),ledger:D().required("Ledger is required")}),c={endDate:"",fundID:"",approverID:"",ledger:""},u=(d,{setSubmitting:f})=>{const m=o.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&i(d),f(!1),o.current=null};return s.jsx(Be,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:y,setFieldValue:x})=>s.jsxs(We,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsx(A,{label:"Date End",name:"endDate",type:"date",value:d.endDate,onChange:h,onBlur:p,error:f.endDate,touched:m.endDate,required:!0}),s.jsx(A,{type:"select",label:"Fund",name:"fundID",options:t.map(b=>({value:b.ID,label:b.Name})),value:d.fundID,onChange:h,onBlur:p,error:f.fundID,touched:m.fundID,required:!0}),s.jsx(A,{label:"Ledger",name:"ledger",type:"select",value:d.ledger,onChange:h,onBlur:p,options:[{value:"General Ledger",label:"General Ledger"},{value:"Subsidiary Ledger",label:"Subsidiary Ledger"}],error:f.ledger,touched:m.ledger,required:!0}),s.jsx(A,{label:"Approver",name:"approverID",type:"select",options:e.map(b=>{var g;return{value:b.ID,label:b.FirstName+" "+b.MiddleName+" "+b.LastName+" - "+((g=b==null?void 0:b.Department)==null?void 0:g.Name)}}),value:d.approverID,onChange:h,onBlur:p,error:f.approverID,touched:m.approverID,required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>o.current="view",children:"View"}),s.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Cashbook"}),s.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>o.current="export",children:"Export to Excel"})]})]})})}const I7e="https://staging-engine.testthelink.online",_7e={trialBalances:[],isLoading:!1,error:null},Rx=L("trialBalance/fetchTrialBalances",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${I7e}/trialBalanceReport/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),cC=L("trialBalance/exportTrialBalances",async t=>!0),ZU=me({name:"trialBalance",initialState:_7e,reducers:{resetTrialBalanceState:t=>{t.trialBalances=[],t.error=null}},extraReducers:t=>{t.addCase(Rx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rx.fulfilled,(e,r)=>{e.isLoading=!1,e.trialBalances=r.payload}).addCase(Rx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(cC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cC.fulfilled,e=>{e.isLoading=!1}).addCase(cC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetTrialBalanceState:$7e}=ZU.actions,R7e=ZU.reducer;function M7e(){const t="https://staging-engine.testthelink.online",e=ce(),{trialBalances:r,isLoading:n,error:a}=W(f=>f.trialBalance),{funds:i}=W(f=>f.funds),{employees:o}=W(f=>f.employees),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e($7e()),e(Wn()),e(Un())},[e]);const c=[{key:"AccountCode",header:"Account Code",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"EndDate",header:"End Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/trialBalanceReport/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endDate:f.endDate,fundID:f.fundID,approverID:f.approverID,ledger:f.ledger})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),p=m.headers.get("Content-Disposition");let y="Trial_Balance.xlsx";p&&p.includes("filename=")&&(y=p.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(h),b=document.createElement("a");b.href=x,b.download=y,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(x)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export trial balance")}},d=f=>{e(Rx(f))};return s.jsxs("div",{children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{children:"Trial Balance"}),s.jsx("p",{children:"Generate trial balance reports."})]}),s.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:s.jsx(D7e,{funds:i,employees:o,onExportExcel:u,onView:d,onClose:()=>{}})}),a&&s.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:s.jsx("p",{className:"text-error-700",children:a})}),s.jsx("div",{className:"mt-6",children:s.jsx(pe,{columns:c,data:r,loading:n,pagination:!0})})]})}function L7e(){const{isAuthenticated:t,isLoading:e}=W(a=>a.auth),r=ce(),n=Li();return v.useEffect(()=>{const a=localStorage.getItem("token");a&&r(Op(a))},[r]),v.useEffect(()=>{},[n.pathname]),e?s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(YK,{position:"top-right"}),s.jsxs(JG,{children:[s.jsxs(ae,{element:s.jsx($Q,{}),children:[s.jsx(ae,{path:"/login",element:t?s.jsx(jl,{to:"/",replace:!0}):s.jsx(RQ,{})}),s.jsx(ae,{path:"/register",element:t?s.jsx(jl,{to:"/",replace:!0}):s.jsx(MQ,{})}),s.jsx(ae,{path:"/forgot-password",element:t?s.jsx(jl,{to:"/",replace:!0}):s.jsx(LQ,{})}),s.jsx(ae,{path:"/reset-password",element:t?s.jsx(jl,{to:"/",replace:!0}):s.jsx(FQ,{})})]}),s.jsxs(ae,{element:t?s.jsx(_Q,{}):s.jsx(jl,{to:"/login",replace:!0}),children:[s.jsx(ae,{path:"/dashboard",element:s.jsx(Yae,{})}),s.jsx(ae,{path:"/profile",element:s.jsx(T1e,{})}),s.jsx(ae,{path:"/budget-dashboard",element:s.jsx(j7e,{})}),s.jsx(ae,{path:"/disbursement-dashboard",element:s.jsx(N7e,{})}),s.jsx(ae,{path:"/collection-dashboard",element:s.jsx(C7e,{})}),s.jsx(ae,{path:"/settings/departments",element:s.jsx(Fue,{})}),s.jsx(ae,{path:"/settings/customer",element:s.jsx(Mpe,{})}),s.jsx(ae,{path:"/settings/lgu-maintenance",element:s.jsx(QNe,{})}),s.jsx(ae,{path:"/settings/subdepartments",element:s.jsx(Yue,{})}),s.jsx(ae,{path:"/settings/modules",element:s.jsx(hme,{})}),s.jsx(ae,{path:"/settings/users",element:s.jsx(sde,{})}),s.jsx(ae,{path:"/settings/user-roles",element:s.jsx(Eme,{})}),s.jsx(ae,{path:"/settings/user-access",element:s.jsx(N1e,{})}),s.jsx(ae,{path:"/settings/chart-of-accounts",element:s.jsx(xfe,{})}),s.jsx(ae,{path:"/settings/account-group",element:s.jsx(vfe,{})}),s.jsx(ae,{path:"/settings/major-account-group",element:s.jsx(wfe,{})}),s.jsx(ae,{path:"/settings/sub-major-account-group",element:s.jsx(Cfe,{})}),s.jsx(ae,{path:"/settings/vendors",element:s.jsx(rme,{})}),s.jsx(ae,{path:"/settings/vendor-customer-type",element:s.jsx(ome,{})}),s.jsx(ae,{path:"/settings/vendor-type",element:s.jsx(cme,{})}),s.jsx(ae,{path:"/settings/employees",element:s.jsx(Nme,{})}),s.jsx(ae,{path:"/settings/employmentStatus",element:s.jsx(Sme,{})}),s.jsx(ae,{path:"/settings/positions",element:s.jsx(Tme,{})}),s.jsx(ae,{path:"/settings/nationalities",element:s.jsx(_me,{})}),s.jsx(ae,{path:"/settings/locations",element:s.jsx(Lme,{})}),s.jsx(ae,{path:"/settings/ppe",element:s.jsx(Qme,{})}),s.jsx(ae,{path:"/settings/ppe-categories",element:s.jsx(the,{})}),s.jsx(ae,{path:"/settings/ppe-suppliers",element:s.jsx(nhe,{})}),s.jsx(ae,{path:"/settings/approval-matrix",element:s.jsx(mhe,{})}),s.jsx(ae,{path:"/settings/bank",element:s.jsx(Dhe,{})}),s.jsx(ae,{path:"/settings/currency",element:s.jsx(Uue,{})}),s.jsx(ae,{path:"/settings/document-details",element:s.jsx(Mhe,{})}),s.jsx(ae,{path:"/settings/document-type-categories",element:s.jsx(Fhe,{})}),s.jsx(ae,{path:"/settings/items",element:s.jsx(Ghe,{})}),s.jsx(ae,{path:"/settings/items/invoice-charge-accounts",element:s.jsx(tpe,{})}),s.jsx(ae,{path:"/settings/items/units",element:s.jsx(npe,{})}),s.jsx(ae,{path:"/settings/project-type",element:s.jsx(lpe,{})}),s.jsx(ae,{path:"/settings/financial-statement",element:s.jsx(xpe,{})}),s.jsx(ae,{path:"/settings/fiscal-year",element:s.jsx(Npe,{})}),s.jsx(ae,{path:"/settings/tax-code",element:s.jsx(Ape,{})}),s.jsx(ae,{path:"/settings/mode-of-payment",element:s.jsx(kpe,{})}),s.jsx(ae,{path:"/settings/payment-terms",element:s.jsx(Ope,{})}),s.jsx(ae,{path:"/settings/industry",element:s.jsx(Dpe,{})}),s.jsx(ae,{path:"/settings/project-details",element:s.jsx(mpe,{})}),s.jsx(ae,{path:"/settings/tax-declaration",element:s.jsx(Upe,{})}),s.jsx(ae,{path:"/settings/base-unit-value",element:s.jsx(ege,{})}),s.jsx(ae,{path:"/settings/general-revision",element:s.jsx(Kpe,{})}),s.jsx(ae,{path:"/disbursement/obligation-requests",element:s.jsx(Zbe,{})}),s.jsx(ae,{path:"/disbursement/vouchers",element:s.jsx(s0e,{})}),s.jsx(ae,{path:"/disbursement/travel-orders",element:s.jsx(d0e,{})}),s.jsx(ae,{path:"/disbursement/journal-entry-vouchers",element:s.jsx(g0e,{})}),s.jsx(ae,{path:"/disbursement/disbursement-journals",element:s.jsx(w0e,{})}),s.jsx(ae,{path:"/disbursement/general-journals",element:s.jsx(k0e,{})}),s.jsx(ae,{path:"/disbursement/beginning-balance",element:s.jsx($0e,{})}),s.jsx(ae,{path:"/disbursement/purchase-requests",element:s.jsx(V0e,{})}),s.jsx(ae,{path:"/disbursement/fund-utilization-requests",element:s.jsx(Y0e,{})}),s.jsx(ae,{path:"/collections/receipts",element:s.jsx(a3,{})}),s.jsx(ae,{path:"/collections/community-tax",element:s.jsx(Z0e,{})}),s.jsx(ae,{path:"/collections/community-tax-corporation",element:s.jsx(tve,{})}),s.jsx(ae,{path:"/collections/real-property-tax",element:s.jsx(P7e,{})}),s.jsx(ae,{path:"/collections/market",element:s.jsx(rve,{})}),s.jsx(ae,{path:"/collections/general-service-receipts",element:s.jsx(a3,{})}),s.jsx(ae,{path:"/collections/burial-service-receipts",element:s.jsx(Bje,{})}),s.jsx(ae,{path:"/collections/marriage-service-receipts",element:s.jsx(zje,{})}),s.jsx(ae,{path:"/collections/cashbook",element:s.jsx(Hje,{})}),s.jsx(ae,{path:"/collections/reports",element:s.jsx(Kje,{})}),s.jsx(ae,{path:"/collections/public-market-tickets",element:s.jsx(wNe,{})}),s.jsx(ae,{path:"/budget",element:s.jsx(JNe,{})}),s.jsx(ae,{path:"/budget/allotment",element:s.jsx(NNe,{})}),s.jsx(ae,{path:"/budget/details",element:s.jsx(INe,{})}),s.jsx(ae,{path:"/budget/new",element:s.jsx(BNe,{})}),s.jsx(ae,{path:"/budget/summary",element:s.jsx(qNe,{})}),s.jsx(ae,{path:"/budget/supplemental",element:s.jsx(VNe,{})}),s.jsx(ae,{path:"/budget/transfer",element:s.jsx(SNe,{})}),s.jsx(ae,{path:"/budget/report",element:s.jsx(CNe,{})}),s.jsx(ae,{path:"/budget/funds",element:s.jsx(zNe,{})}),s.jsx(ae,{path:"/budget/sub-funds",element:s.jsx(YNe,{})}),s.jsx(ae,{path:"/budget/fund-transfer",element:s.jsx(KNe,{})}),s.jsx(ae,{path:"/budget/statement-comparison",element:s.jsx(XNe,{})}),s.jsx(ae,{path:"/budget/statement-appropriation",element:s.jsx(ZNe,{})}),s.jsx(ae,{path:"/applications/business-permits",element:s.jsx(t1e,{})}),s.jsx(ae,{path:"/applications/cheque-generator",element:s.jsx(r1e,{})}),s.jsx(ae,{path:"/reports/general-ledger",element:s.jsx(l1e,{})}),s.jsx(ae,{path:"/reports/subsidiary-ledger",element:s.jsx(h1e,{})}),s.jsx(ae,{path:"/reports/financial-statements",element:s.jsx(v1e,{})}),s.jsx(ae,{path:"/reports/budget",element:s.jsx(j1e,{})}),s.jsx(ae,{path:"/reports/bir",element:s.jsx(w1e,{})}),s.jsx(ae,{path:"/reports/trial-balance",element:s.jsx(M7e,{})}),s.jsx(ae,{path:"/change-password",element:s.jsx(C1e,{})})]}),s.jsx(ae,{path:"/",element:s.jsx(jl,{to:"/dashboard\\",replace:!0})}),s.jsx(ae,{path:"*",element:s.jsx(Kae,{})})]})]})}const QU=[{id:1,vendorCode:"V001",vendorName:"ABC Office Supplies",address:"123 Main St., City",contactPerson:"John Smith",contactNumber:"09123456789",email:"abc@example.com",tin:"123-456-789-000",category:"Office Supplies",accreditationDate:"2024-01-01",accreditationExpiry:"2025-01-01",bankAccount:"1234-5678-9012",bankName:"Sample Bank",status:"Active"}],F7e={vendors:QU,vendor:null,isLoading:!1,error:null},uC=L("vendors/fetchVendors",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(QU)},500)})}catch(r){return e.rejectWithValue(r.message)}}),dC=L("vendors/addVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),vendorCode:`V${String(Math.floor(Math.random()*900)+100)}`};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),fC=L("vendors/updateVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),e9=me({name:"vendors",initialState:F7e,reducers:{setVendor:(t,e)=>{t.vendor=e.payload},resetVendorState:t=>{t.vendor=null,t.error=null}},extraReducers:t=>{t.addCase(uC.pending,e=>{e.isLoading=!0}).addCase(uC.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors=r.payload,e.error=null}).addCase(uC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dC.pending,e=>{e.isLoading=!0}).addCase(dC.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors.push(r.payload),e.error=null}).addCase(dC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fC.pending,e=>{e.isLoading=!0}).addCase(fC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendors.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.vendors[n]=r.payload),e.error=null}).addCase(fC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setVendor:r9e,resetVendorState:n9e}=e9.actions,B7e=e9.reducer,mC=L("realPropertyTax/fetchRealPropertyTaxes",async()=>new Promise(t=>{setTimeout(()=>{t([{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"active"}])},1e3)})),hC=L("realPropertyTax/createRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e({id:Date.now(),...t})},1e3)})),pC=L("realPropertyTax/updateRealPropertyTax",async({id:t,data:e})=>new Promise(r=>{setTimeout(()=>{r({id:t,...e})},1e3)})),gC=L("realPropertyTax/deleteRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e(t)},1e3)})),q7e={realPropertyTaxes:[],isLoading:!1,error:null},V7e=me({name:"realPropertyTax",initialState:q7e,reducers:{},extraReducers:t=>{t.addCase(mC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mC.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=r.payload}).addCase(mC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(hC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hC.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes.push(r.payload)}).addCase(hC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(pC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.realPropertyTaxes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.realPropertyTaxes[n]=r.payload)}).addCase(pC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(gC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gC.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=e.realPropertyTaxes.filter(n=>n.id!==r.payload)}).addCase(gC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),z7e=V7e.reducer,ah="https://staging-engine.testthelink.online",U7e=[],yC=L("marriageRecords/fetchMarriageRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ah}/marriageRecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage records");return a}catch(r){return e.rejectWithValue(r.message)}}),xC=L("marriageRecords/fetchMarriageRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ah}/marriageRecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),bC=L("marriageRecords/addMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ah}/marriageRecord`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),vC=L("marriageRecords/updateMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ah}/marriageRecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),jC=L("marriageRecords/deleteMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ah}/marriageRecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete marriage record")}return t}catch(r){return e.rejectWithValue(r.message)}}),t9=me({name:"marriageRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(yC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yC.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(yC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage records",console.warn("Failed to fetch marriage records, using mock data.",e.error),e.records=U7e}).addCase(xC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(xC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage record"}).addCase(bC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bC.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(bC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add marriage record",console.error("Failed to add marriage record:",e.error)}).addCase(vC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(vC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update marriage record",console.error("Failed to update marriage record:",e.error)}).addCase(jC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jC.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(jC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete marriage record",console.error("Failed to delete marriage record:",e.error)})}}),{clearCurrentRecord:a9e}=t9.actions,W7e=t9.reducer,sh="https://staging-engine.testthelink.online",H7e=[],wC=L("corporateCommunityTax/fetchCorporateCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sh}/corporate-ctc/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),NC=L("corporateCommunityTax/fetchCorporateCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sh}/corporate-ctc/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),CC=L("corporateCommunityTax/addCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sh}/corporate-ctc/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),SC=L("corporateCommunityTax/updateCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sh}/corporate-ctc/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),AC=L("corporateCommunityTax/deleteCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sh}/corporate-ctc/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete corporate community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),r9=me({name:"corporateCommunityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCorporateCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(wC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wC.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(wC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community taxes",console.warn("Failed to fetch corporate community taxes, using mock data.",e.error),e.records=H7e}).addCase(NC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(NC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community tax record"}).addCase(CC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CC.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(CC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add corporate community tax record",console.error("Failed to add corporate community tax record:",e.error)}).addCase(SC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(SC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(SC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update corporate community tax record",console.error("Failed to update corporate community tax record:",e.error)}).addCase(AC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AC.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(AC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete corporate community tax record",console.error("Failed to delete corporate community tax record:",e.error)})}}),{clearCurrentCorporateCommunityTax:s9e}=r9.actions,G7e=r9.reducer,Y7e=DY({reducer:{auth:aK,departments:Lue,currencies:Vue,subdepartments:Gue,users:Xue,chartOfAccounts:lde,accountGroups:dde,majorAccountGroups:hde,subMajorAccountGroups:yde,vendors:B7e,employees:ede,obligationRequests:Vbe,fundUtilizations:W0e,disbursementVouchers:t0e,travelOrders:u0e,ppes:Kme,ppeCategories:qme,ppeSuppliers:Ume,approvalMatrix:fhe,banks:Ehe,documentDetails:ihe,documentTypeCategories:Rhe,items:Vhe,invoiceChargeAccounts:epe,itemUnits:Whe,projectDetails:fpe,projectTypes:ope,financialStatements:ype,fiscalYears:wpe,taxCodes:Kfe,modeOfPayments:tme,paymentTerms:Zfe,industries:Hfe,employmentStatuses:vme,positions:yme,userroles:nde,nationalities:Ime,vendorCustomerTypes:ime,vendorTypes:zfe,journalEntries:p0e,purchaseRequests:q0e,taxDeclarations:zpe,baseUnits:Qpe,regions:Pfe,provinces:_fe,municipalities:Mfe,barangays:Bfe,generalRevisions:Gpe,modules:mme,generalServiceReceipts:_je,disbursementJournal:j0e,beginningBalance:P0e,generalJournal:T0e,generalLedger:o1e,trialBalance:R7e,subsidiaryLedger:m1e,financialStatementsReports:b1e,budget:Xbe,subFunds:GNe,funds:Ybe,budgetDashboard:P1e,vendorDetails:kfe,burialRecords:Fje,marriageRecords:W7e,publicMarketTicketing:xNe,communityTax:X0e,corporateCommunityTax:G7e,generalReceipts:A7e,realPropertyTax:z7e,customers:Rpe},middleware:t=>t({serializableCheck:!1})});kC.createRoot(document.getElementById("root")).render(s.jsx(q.StrictMode,{children:s.jsx(QH,{store:Y7e,children:s.jsx(nY,{children:s.jsx(L7e,{})})})}))});export default K7e();
