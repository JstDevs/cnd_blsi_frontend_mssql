var y9=Object.defineProperty;var b9=(t,e,r)=>e in t?y9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var x9=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var pe=(t,e,r)=>b9(t,typeof e!="symbol"?e+"":e,r);var m8e=x9((Nn,Cn)=>{function v9(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function it(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j5={exports:{}},Gv={},w5={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm=Symbol.for("react.element"),j9=Symbol.for("react.portal"),w9=Symbol.for("react.fragment"),N9=Symbol.for("react.strict_mode"),C9=Symbol.for("react.profiler"),S9=Symbol.for("react.provider"),A9=Symbol.for("react.context"),I9=Symbol.for("react.forward_ref"),k9=Symbol.for("react.suspense"),T9=Symbol.for("react.memo"),E9=Symbol.for("react.lazy"),cD=Symbol.iterator;function D9(t){return t===null||typeof t!="object"?null:(t=cD&&t[cD]||t["@@iterator"],typeof t=="function"?t:null)}var N5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C5=Object.assign,S5={};function hu(t,e,r){this.props=t,this.context=e,this.refs=S5,this.updater=r||N5}hu.prototype.isReactComponent={};hu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A5(){}A5.prototype=hu.prototype;function Lk(t,e,r){this.props=t,this.context=e,this.refs=S5,this.updater=r||N5}var Fk=Lk.prototype=new A5;Fk.constructor=Lk;C5(Fk,hu.prototype);Fk.isPureReactComponent=!0;var uD=Array.isArray,I5=Object.prototype.hasOwnProperty,Bk={current:null},k5={key:!0,ref:!0,__self:!0,__source:!0};function T5(t,e,r){var n,a={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)I5.call(e,n)&&!k5.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Fm,type:t,key:s,ref:i,props:a,_owner:Bk.current}}function P9(t,e){return{$$typeof:Fm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qk(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fm}function O9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var dD=/\/+/g;function Yw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?O9(""+t.key):e.toString(36)}function Op(t,e,r,n,a){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Fm:case j9:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+Yw(i,0):n,uD(a)?(r="",t!=null&&(r=t.replace(dD,"$&/")+"/"),Op(a,e,r,"",function(u){return u})):a!=null&&(qk(a)&&(a=P9(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(dD,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",uD(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+Yw(s,l);i+=Op(s,e,r,c,a)}else if(c=D9(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+Yw(s,l++),i+=Op(s,e,r,c,a);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Nh(t,e,r){if(t==null)return t;var n=[],a=0;return Op(t,n,"","",function(s){return e.call(r,s,a++)}),n}function _9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yr={current:null},_p={transition:null},$9={ReactCurrentDispatcher:Yr,ReactCurrentBatchConfig:_p,ReactCurrentOwner:Bk};function E5(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Nh,forEach:function(t,e,r){Nh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Nh(t,function(){e++}),e},toArray:function(t){return Nh(t,function(e){return e})||[]},only:function(t){if(!qk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=hu;Ye.Fragment=w9;Ye.Profiler=C9;Ye.PureComponent=Lk;Ye.StrictMode=N9;Ye.Suspense=k9;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$9;Ye.act=E5;Ye.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=C5({},t.props),a=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=Bk.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)I5.call(e,c)&&!k5.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Fm,type:t.type,key:a,ref:s,props:n,_owner:i}};Ye.createContext=function(t){return t={$$typeof:A9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:S9,_context:t},t.Consumer=t};Ye.createElement=T5;Ye.createFactory=function(t){var e=T5.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:I9,render:t}};Ye.isValidElement=qk;Ye.lazy=function(t){return{$$typeof:E9,_payload:{_status:-1,_result:t},_init:_9}};Ye.memo=function(t,e){return{$$typeof:T9,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=_p.transition;_p.transition={};try{t()}finally{_p.transition=e}};Ye.unstable_act=E5;Ye.useCallback=function(t,e){return Yr.current.useCallback(t,e)};Ye.useContext=function(t){return Yr.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return Yr.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return Yr.current.useEffect(t,e)};Ye.useId=function(){return Yr.current.useId()};Ye.useImperativeHandle=function(t,e,r){return Yr.current.useImperativeHandle(t,e,r)};Ye.useInsertionEffect=function(t,e){return Yr.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return Yr.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return Yr.current.useMemo(t,e)};Ye.useReducer=function(t,e,r){return Yr.current.useReducer(t,e,r)};Ye.useRef=function(t){return Yr.current.useRef(t)};Ye.useState=function(t){return Yr.current.useState(t)};Ye.useSyncExternalStore=function(t,e,r){return Yr.current.useSyncExternalStore(t,e,r)};Ye.useTransition=function(){return Yr.current.useTransition()};Ye.version="18.3.1";w5.exports=Ye;var w=w5.exports;const W=it(w),xf=v9({__proto__:null,default:W},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R9=w,M9=Symbol.for("react.element"),L9=Symbol.for("react.fragment"),F9=Object.prototype.hasOwnProperty,B9=R9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q9={key:!0,ref:!0,__self:!0,__source:!0};function D5(t,e,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)F9.call(e,n)&&!q9.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:M9,type:t,key:s,ref:i,props:a,_owner:B9.current}}Gv.Fragment=L9;Gv.jsx=D5;Gv.jsxs=D5;j5.exports=Gv;var o=j5.exports,_C={},P5={exports:{}},_n={},O5={exports:{}},_5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,O){var U=$.length;$.push(O);e:for(;0<U;){var K=U-1>>>1,G=$[K];if(0<a(G,O))$[K]=O,$[U]=G,U=K;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var O=$[0],U=$.pop();if(U!==O){$[0]=U;e:for(var K=0,G=$.length,z=G>>>1;K<z;){var ae=2*(K+1)-1,xe=$[ae],se=ae+1,J=$[se];if(0>a(xe,U))se<G&&0>a(J,xe)?($[K]=J,$[se]=U,K=se):($[K]=xe,$[ae]=U,K=ae);else if(se<G&&0>a(J,U))$[K]=J,$[se]=U,K=se;else break e}}return O}function a($,O){var U=$.sortIndex-O.sortIndex;return U!==0?U:$.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,y=!1,g=!1,p=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j($){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=$)n(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=r(u)}}function C($){if(g=!1,j($),!y)if(r(c)!==null)y=!0,L(x);else{var O=r(u);O!==null&&F(C,O.startTime-$)}}function x($,O){y=!1,g&&(g=!1,b(A),A=-1),h=!0;var U=m;try{for(j(O),f=r(c);f!==null&&(!(f.expirationTime>O)||$&&!k());){var K=f.callback;if(typeof K=="function"){f.callback=null,m=f.priorityLevel;var G=K(f.expirationTime<=O);O=t.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),j(O)}else n(c);f=r(c)}if(f!==null)var z=!0;else{var ae=r(u);ae!==null&&F(C,ae.startTime-O),z=!1}return z}finally{f=null,m=U,h=!1}}var N=!1,S=null,A=-1,I=5,E=-1;function k(){return!(t.unstable_now()-E<I)}function P(){if(S!==null){var $=t.unstable_now();E=$;var O=!0;try{O=S(!0,$)}finally{O?R():(N=!1,S=null)}}else N=!1}var R;if(typeof v=="function")R=function(){v(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,_=M.port2;M.port1.onmessage=P,R=function(){_.postMessage(null)}}else R=function(){p(P,0)};function L($){S=$,N||(N=!0,R())}function F($,O){A=p(function(){$(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,L(x))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var U=m;m=O;try{return $()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,O){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var U=m;m=$;try{return O()}finally{m=U}},t.unstable_scheduleCallback=function($,O,U){var K=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,$){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,$={id:d++,callback:O,priorityLevel:$,startTime:U,expirationTime:G,sortIndex:-1},U>K?($.sortIndex=U,e(u,$),r(c)===null&&$===r(u)&&(g?(b(A),A=-1):g=!0,F(C,U-K))):($.sortIndex=G,e(c,$),y||h||(y=!0,L(x))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var O=m;return function(){var U=m;m=O;try{return $.apply(this,arguments)}finally{m=U}}}})(_5);O5.exports=_5;var V9=O5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U9=w,kn=V9;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $5=new Set,vf={};function bl(t,e){Oc(t,e),Oc(t+"Capture",e)}function Oc(t,e){for(vf[t]=e,t=0;t<e.length;t++)$5.add(e[t])}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$C=Object.prototype.hasOwnProperty,z9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fD={},mD={};function W9(t){return $C.call(mD,t)?!0:$C.call(fD,t)?!1:z9.test(t)?mD[t]=!0:(fD[t]=!0,!1)}function H9(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G9(t,e,r,n){if(e===null||typeof e>"u"||H9(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kr(t,e,r,n,a,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tr[t]=new Kr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tr[e]=new Kr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tr[t]=new Kr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tr[t]=new Kr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tr[t]=new Kr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tr[t]=new Kr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tr[t]=new Kr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tr[t]=new Kr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tr[t]=new Kr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vk=/[\-:]([a-z])/g;function Uk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vk,Uk);Tr[e]=new Kr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vk,Uk);Tr[e]=new Kr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vk,Uk);Tr[e]=new Kr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tr[t]=new Kr(t,1,!1,t.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new Kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tr[t]=new Kr(t,1,!1,t.toLowerCase(),null,!0,!0)});function zk(t,e,r,n){var a=Tr.hasOwnProperty(e)?Tr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(G9(e,r,a,n)&&(r=null),n||a===null?W9(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ms=U9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ch=Symbol.for("react.element"),Wl=Symbol.for("react.portal"),Hl=Symbol.for("react.fragment"),Wk=Symbol.for("react.strict_mode"),RC=Symbol.for("react.profiler"),R5=Symbol.for("react.provider"),M5=Symbol.for("react.context"),Hk=Symbol.for("react.forward_ref"),MC=Symbol.for("react.suspense"),LC=Symbol.for("react.suspense_list"),Gk=Symbol.for("react.memo"),Xs=Symbol.for("react.lazy"),L5=Symbol.for("react.offscreen"),hD=Symbol.iterator;function Bu(t){return t===null||typeof t!="object"?null:(t=hD&&t[hD]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,Kw;function bd(t){if(Kw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Kw=e&&e[1]||""}return`
`+Kw+t}var Jw=!1;function Xw(t,e){if(!t||Jw)return"";Jw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Jw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?bd(t):""}function Y9(t){switch(t.tag){case 5:return bd(t.type);case 16:return bd("Lazy");case 13:return bd("Suspense");case 19:return bd("SuspenseList");case 0:case 2:case 15:return t=Xw(t.type,!1),t;case 11:return t=Xw(t.type.render,!1),t;case 1:return t=Xw(t.type,!0),t;default:return""}}function FC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hl:return"Fragment";case Wl:return"Portal";case RC:return"Profiler";case Wk:return"StrictMode";case MC:return"Suspense";case LC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M5:return(t.displayName||"Context")+".Consumer";case R5:return(t._context.displayName||"Context")+".Provider";case Hk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gk:return e=t.displayName||null,e!==null?e:FC(t.type)||"Memo";case Xs:e=t._payload,t=t._init;try{return FC(t(e))}catch{}}return null}function K9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FC(e);case 8:return e===Wk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function F5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J9(t){var e=F5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sh(t){t._valueTracker||(t._valueTracker=J9(t))}function B5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=F5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Qb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function BC(t,e){var r=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function pD(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Oo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function q5(t,e){e=e.checked,e!=null&&zk(t,"checked",e,!1)}function qC(t,e){q5(t,e);var r=Oo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?VC(t,e.type,r):e.hasOwnProperty("defaultValue")&&VC(t,e.type,Oo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gD(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function VC(t,e,r){(e!=="number"||Qb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var xd=Array.isArray;function lc(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Oo(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function UC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yD(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(fe(92));if(xd(r)){if(1<r.length)throw Error(fe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Oo(r)}}function V5(t,e){var r=Oo(e.value),n=Oo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function bD(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ah,z5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ah=Ah||document.createElement("div"),Ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ah.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var _d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X9=["Webkit","ms","Moz","O"];Object.keys(_d).forEach(function(t){X9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_d[e]=_d[t]})});function W5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||_d.hasOwnProperty(t)&&_d[t]?(""+e).trim():e+"px"}function H5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=W5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var Q9=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function WC(t,e){if(e){if(Q9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function HC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GC=null;function Yk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var YC=null,cc=null,uc=null;function xD(t){if(t=Vm(t)){if(typeof YC!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=Qv(e),YC(t.stateNode,t.type,e))}}function G5(t){cc?uc?uc.push(t):uc=[t]:cc=t}function Y5(){if(cc){var t=cc,e=uc;if(uc=cc=null,xD(t),e)for(t=0;t<e.length;t++)xD(e[t])}}function K5(t,e){return t(e)}function J5(){}var Qw=!1;function X5(t,e,r){if(Qw)return t(e,r);Qw=!0;try{return K5(t,e,r)}finally{Qw=!1,(cc!==null||uc!==null)&&(J5(),Y5())}}function wf(t,e){var r=t.stateNode;if(r===null)return null;var n=Qv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(fe(231,e,typeof r));return r}var KC=!1;if(Ss)try{var qu={};Object.defineProperty(qu,"passive",{get:function(){KC=!0}}),window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{KC=!1}function Z9(t,e,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var $d=!1,Zb=null,ex=!1,JC=null,eW={onError:function(t){$d=!0,Zb=t}};function tW(t,e,r,n,a,s,i,l,c){$d=!1,Zb=null,Z9.apply(eW,arguments)}function rW(t,e,r,n,a,s,i,l,c){if(tW.apply(this,arguments),$d){if($d){var u=Zb;$d=!1,Zb=null}else throw Error(fe(198));ex||(ex=!0,JC=u)}}function xl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Q5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vD(t){if(xl(t)!==t)throw Error(fe(188))}function nW(t){var e=t.alternate;if(!e){if(e=xl(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return vD(a),t;if(s===n)return vD(a),e;s=s.sibling}throw Error(fe(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?t:e}function Z5(t){return t=nW(t),t!==null?e4(t):null}function e4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=e4(t);if(e!==null)return e;t=t.sibling}return null}var t4=kn.unstable_scheduleCallback,jD=kn.unstable_cancelCallback,aW=kn.unstable_shouldYield,sW=kn.unstable_requestPaint,Qt=kn.unstable_now,oW=kn.unstable_getCurrentPriorityLevel,Kk=kn.unstable_ImmediatePriority,r4=kn.unstable_UserBlockingPriority,tx=kn.unstable_NormalPriority,iW=kn.unstable_LowPriority,n4=kn.unstable_IdlePriority,Yv=null,$a=null;function lW(t){if($a&&typeof $a.onCommitFiberRoot=="function")try{$a.onCommitFiberRoot(Yv,t,void 0,(t.current.flags&128)===128)}catch{}}var ma=Math.clz32?Math.clz32:dW,cW=Math.log,uW=Math.LN2;function dW(t){return t>>>=0,t===0?32:31-(cW(t)/uW|0)|0}var Ih=64,kh=4194304;function vd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rx(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=vd(l):(s&=i,s!==0&&(n=vd(s)))}else i=r&~a,i!==0?n=vd(i):s!==0&&(n=vd(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,s=e&-e,a>=s||a===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ma(e),a=1<<r,n|=t[r],e&=~a;return n}function fW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mW(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-ma(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=fW(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function XC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function a4(){var t=Ih;return Ih<<=1,!(Ih&4194240)&&(Ih=64),t}function Zw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Bm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ma(e),t[e]=r}function hW(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-ma(r),s=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~s}}function Jk(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ma(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var mt=0;function s4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var o4,Xk,i4,l4,c4,QC=!1,Th=[],ho=null,po=null,go=null,Nf=new Map,Cf=new Map,ro=[],pW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wD(t,e){switch(t){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Nf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cf.delete(e.pointerId)}}function Vu(t,e,r,n,a,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},e!==null&&(e=Vm(e),e!==null&&Xk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function gW(t,e,r,n,a){switch(e){case"focusin":return ho=Vu(ho,t,e,r,n,a),!0;case"dragenter":return po=Vu(po,t,e,r,n,a),!0;case"mouseover":return go=Vu(go,t,e,r,n,a),!0;case"pointerover":var s=a.pointerId;return Nf.set(s,Vu(Nf.get(s)||null,t,e,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Cf.set(s,Vu(Cf.get(s)||null,t,e,r,n,a)),!0}return!1}function u4(t){var e=Ni(t.target);if(e!==null){var r=xl(e);if(r!==null){if(e=r.tag,e===13){if(e=Q5(r),e!==null){t.blockedOn=e,c4(t.priority,function(){i4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $p(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ZC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);GC=n,r.target.dispatchEvent(n),GC=null}else return e=Vm(r),e!==null&&Xk(e),t.blockedOn=r,!1;e.shift()}return!0}function ND(t,e,r){$p(t)&&r.delete(e)}function yW(){QC=!1,ho!==null&&$p(ho)&&(ho=null),po!==null&&$p(po)&&(po=null),go!==null&&$p(go)&&(go=null),Nf.forEach(ND),Cf.forEach(ND)}function Uu(t,e){t.blockedOn===e&&(t.blockedOn=null,QC||(QC=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,yW)))}function Sf(t){function e(a){return Uu(a,t)}if(0<Th.length){Uu(Th[0],t);for(var r=1;r<Th.length;r++){var n=Th[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ho!==null&&Uu(ho,t),po!==null&&Uu(po,t),go!==null&&Uu(go,t),Nf.forEach(e),Cf.forEach(e),r=0;r<ro.length;r++)n=ro[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ro.length&&(r=ro[0],r.blockedOn===null);)u4(r),r.blockedOn===null&&ro.shift()}var dc=Ms.ReactCurrentBatchConfig,nx=!0;function bW(t,e,r,n){var a=mt,s=dc.transition;dc.transition=null;try{mt=1,Qk(t,e,r,n)}finally{mt=a,dc.transition=s}}function xW(t,e,r,n){var a=mt,s=dc.transition;dc.transition=null;try{mt=4,Qk(t,e,r,n)}finally{mt=a,dc.transition=s}}function Qk(t,e,r,n){if(nx){var a=ZC(t,e,r,n);if(a===null)cN(t,e,n,ax,r),wD(t,n);else if(gW(a,t,e,r,n))n.stopPropagation();else if(wD(t,n),e&4&&-1<pW.indexOf(t)){for(;a!==null;){var s=Vm(a);if(s!==null&&o4(s),s=ZC(t,e,r,n),s===null&&cN(t,e,n,ax,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else cN(t,e,n,null,r)}}var ax=null;function ZC(t,e,r,n){if(ax=null,t=Yk(n),t=Ni(t),t!==null)if(e=xl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Q5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ax=t,null}function d4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oW()){case Kk:return 1;case r4:return 4;case tx:case iW:return 16;case n4:return 536870912;default:return 16}default:return 16}}var so=null,Zk=null,Rp=null;function f4(){if(Rp)return Rp;var t,e=Zk,r=e.length,n,a="value"in so?so.value:so.textContent,s=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[s-n];n++);return Rp=a.slice(t,1<n?1-n:void 0)}function Mp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eh(){return!0}function CD(){return!1}function $n(t){function e(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Eh:CD,this.isPropagationStopped=CD,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Eh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Eh)},persist:function(){},isPersistent:Eh}),e}var pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eT=$n(pu),qm=qt({},pu,{view:0,detail:0}),vW=$n(qm),eN,tN,zu,Kv=qt({},qm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zu&&(zu&&t.type==="mousemove"?(eN=t.screenX-zu.screenX,tN=t.screenY-zu.screenY):tN=eN=0,zu=t),eN)},movementY:function(t){return"movementY"in t?t.movementY:tN}}),SD=$n(Kv),jW=qt({},Kv,{dataTransfer:0}),wW=$n(jW),NW=qt({},qm,{relatedTarget:0}),rN=$n(NW),CW=qt({},pu,{animationName:0,elapsedTime:0,pseudoElement:0}),SW=$n(CW),AW=qt({},pu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IW=$n(AW),kW=qt({},pu,{data:0}),AD=$n(kW),TW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DW[t])?!!e[t]:!1}function tT(){return PW}var OW=qt({},qm,{key:function(t){if(t.key){var e=TW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tT,charCode:function(t){return t.type==="keypress"?Mp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_W=$n(OW),$W=qt({},Kv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ID=$n($W),RW=qt({},qm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tT}),MW=$n(RW),LW=qt({},pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),FW=$n(LW),BW=qt({},Kv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qW=$n(BW),VW=[9,13,27,32],rT=Ss&&"CompositionEvent"in window,Rd=null;Ss&&"documentMode"in document&&(Rd=document.documentMode);var UW=Ss&&"TextEvent"in window&&!Rd,m4=Ss&&(!rT||Rd&&8<Rd&&11>=Rd),kD=" ",TD=!1;function h4(t,e){switch(t){case"keyup":return VW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gl=!1;function zW(t,e){switch(t){case"compositionend":return p4(e);case"keypress":return e.which!==32?null:(TD=!0,kD);case"textInput":return t=e.data,t===kD&&TD?null:t;default:return null}}function WW(t,e){if(Gl)return t==="compositionend"||!rT&&h4(t,e)?(t=f4(),Rp=Zk=so=null,Gl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m4&&e.locale!=="ko"?null:e.data;default:return null}}var HW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ED(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HW[t.type]:e==="textarea"}function g4(t,e,r,n){G5(n),e=sx(e,"onChange"),0<e.length&&(r=new eT("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Md=null,Af=null;function GW(t){I4(t,0)}function Jv(t){var e=Jl(t);if(B5(e))return t}function YW(t,e){if(t==="change")return e}var y4=!1;if(Ss){var nN;if(Ss){var aN="oninput"in document;if(!aN){var DD=document.createElement("div");DD.setAttribute("oninput","return;"),aN=typeof DD.oninput=="function"}nN=aN}else nN=!1;y4=nN&&(!document.documentMode||9<document.documentMode)}function PD(){Md&&(Md.detachEvent("onpropertychange",b4),Af=Md=null)}function b4(t){if(t.propertyName==="value"&&Jv(Af)){var e=[];g4(e,Af,t,Yk(t)),X5(GW,e)}}function KW(t,e,r){t==="focusin"?(PD(),Md=e,Af=r,Md.attachEvent("onpropertychange",b4)):t==="focusout"&&PD()}function JW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jv(Af)}function XW(t,e){if(t==="click")return Jv(e)}function QW(t,e){if(t==="input"||t==="change")return Jv(e)}function ZW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xa=typeof Object.is=="function"?Object.is:ZW;function If(t,e){if(xa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!$C.call(e,a)||!xa(t[a],e[a]))return!1}return!0}function OD(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _D(t,e){var r=OD(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=OD(r)}}function x4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?x4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v4(){for(var t=window,e=Qb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Qb(t.document)}return e}function nT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eH(t){var e=v4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&x4(r.ownerDocument.documentElement,r)){if(n!==null&&nT(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!t.extend&&s>n&&(a=n,n=s,s=a),a=_D(r,s);var i=_D(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tH=Ss&&"documentMode"in document&&11>=document.documentMode,Yl=null,eS=null,Ld=null,tS=!1;function $D(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tS||Yl==null||Yl!==Qb(n)||(n=Yl,"selectionStart"in n&&nT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ld&&If(Ld,n)||(Ld=n,n=sx(eS,"onSelect"),0<n.length&&(e=new eT("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Yl)))}function Dh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Kl={animationend:Dh("Animation","AnimationEnd"),animationiteration:Dh("Animation","AnimationIteration"),animationstart:Dh("Animation","AnimationStart"),transitionend:Dh("Transition","TransitionEnd")},sN={},j4={};Ss&&(j4=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function Xv(t){if(sN[t])return sN[t];if(!Kl[t])return t;var e=Kl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in j4)return sN[t]=e[r];return t}var w4=Xv("animationend"),N4=Xv("animationiteration"),C4=Xv("animationstart"),S4=Xv("transitionend"),A4=new Map,RD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){A4.set(t,e),bl(e,[t])}for(var oN=0;oN<RD.length;oN++){var iN=RD[oN],rH=iN.toLowerCase(),nH=iN[0].toUpperCase()+iN.slice(1);Vo(rH,"on"+nH)}Vo(w4,"onAnimationEnd");Vo(N4,"onAnimationIteration");Vo(C4,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(S4,"onTransitionEnd");Oc("onMouseEnter",["mouseout","mouseover"]);Oc("onMouseLeave",["mouseout","mouseover"]);Oc("onPointerEnter",["pointerout","pointerover"]);Oc("onPointerLeave",["pointerout","pointerover"]);bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aH=new Set("cancel close invalid load scroll toggle".split(" ").concat(jd));function MD(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,rW(n,e,void 0,t),t.currentTarget=null}function I4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;MD(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;MD(a,l,u),s=c}}}if(ex)throw t=JC,ex=!1,JC=null,t}function kt(t,e){var r=e[oS];r===void 0&&(r=e[oS]=new Set);var n=t+"__bubble";r.has(n)||(k4(e,t,2,!1),r.add(n))}function lN(t,e,r){var n=0;e&&(n|=4),k4(r,t,n,e)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function kf(t){if(!t[Ph]){t[Ph]=!0,$5.forEach(function(r){r!=="selectionchange"&&(aH.has(r)||lN(r,!1,t),lN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ph]||(e[Ph]=!0,lN("selectionchange",!1,e))}}function k4(t,e,r,n){switch(d4(e)){case 1:var a=bW;break;case 4:a=xW;break;default:a=Qk}r=a.bind(null,e,r,t),a=void 0,!KC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function cN(t,e,r,n,a){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Ni(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}X5(function(){var u=s,d=Yk(r),f=[];e:{var m=A4.get(t);if(m!==void 0){var h=eT,y=t;switch(t){case"keypress":if(Mp(r)===0)break e;case"keydown":case"keyup":h=_W;break;case"focusin":y="focus",h=rN;break;case"focusout":y="blur",h=rN;break;case"beforeblur":case"afterblur":h=rN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=SD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=wW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=MW;break;case w4:case N4:case C4:h=SW;break;case S4:h=FW;break;case"scroll":h=vW;break;case"wheel":h=qW;break;case"copy":case"cut":case"paste":h=IW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=ID}var g=(e&4)!==0,p=!g&&t==="scroll",b=g?m!==null?m+"Capture":null:m;g=[];for(var v=u,j;v!==null;){j=v;var C=j.stateNode;if(j.tag===5&&C!==null&&(j=C,b!==null&&(C=wf(v,b),C!=null&&g.push(Tf(v,C,j)))),p)break;v=v.return}0<g.length&&(m=new h(m,y,null,r,d),f.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&r!==GC&&(y=r.relatedTarget||r.fromElement)&&(Ni(y)||y[As]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=u,y=y?Ni(y):null,y!==null&&(p=xl(y),y!==p||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(g=SD,C="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=ID,C="onPointerLeave",b="onPointerEnter",v="pointer"),p=h==null?m:Jl(h),j=y==null?m:Jl(y),m=new g(C,v+"leave",h,r,d),m.target=p,m.relatedTarget=j,C=null,Ni(d)===u&&(g=new g(b,v+"enter",y,r,d),g.target=j,g.relatedTarget=p,C=g),p=C,h&&y)t:{for(g=h,b=y,v=0,j=g;j;j=Ol(j))v++;for(j=0,C=b;C;C=Ol(C))j++;for(;0<v-j;)g=Ol(g),v--;for(;0<j-v;)b=Ol(b),j--;for(;v--;){if(g===b||b!==null&&g===b.alternate)break t;g=Ol(g),b=Ol(b)}g=null}else g=null;h!==null&&LD(f,m,h,g,!1),y!==null&&p!==null&&LD(f,p,y,g,!0)}}e:{if(m=u?Jl(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var x=YW;else if(ED(m))if(y4)x=QW;else{x=JW;var N=KW}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=XW);if(x&&(x=x(t,u))){g4(f,x,r,d);break e}N&&N(t,m,u),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&VC(m,"number",m.value)}switch(N=u?Jl(u):window,t){case"focusin":(ED(N)||N.contentEditable==="true")&&(Yl=N,eS=u,Ld=null);break;case"focusout":Ld=eS=Yl=null;break;case"mousedown":tS=!0;break;case"contextmenu":case"mouseup":case"dragend":tS=!1,$D(f,r,d);break;case"selectionchange":if(tH)break;case"keydown":case"keyup":$D(f,r,d)}var S;if(rT)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Gl?h4(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(m4&&r.locale!=="ko"&&(Gl||A!=="onCompositionStart"?A==="onCompositionEnd"&&Gl&&(S=f4()):(so=d,Zk="value"in so?so.value:so.textContent,Gl=!0)),N=sx(u,A),0<N.length&&(A=new AD(A,t,null,r,d),f.push({event:A,listeners:N}),S?A.data=S:(S=p4(r),S!==null&&(A.data=S)))),(S=UW?zW(t,r):WW(t,r))&&(u=sx(u,"onBeforeInput"),0<u.length&&(d=new AD("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}I4(f,e)})}function Tf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function sx(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=wf(t,r),s!=null&&n.unshift(Tf(t,s,a)),s=wf(t,e),s!=null&&n.push(Tf(t,s,a))),t=t.return}return n}function Ol(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function LD(t,e,r,n,a){for(var s=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=wf(r,s),c!=null&&i.unshift(Tf(r,c,l))):a||(c=wf(r,s),c!=null&&i.push(Tf(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var sH=/\r\n?/g,oH=/\u0000|\uFFFD/g;function FD(t){return(typeof t=="string"?t:""+t).replace(sH,`
`).replace(oH,"")}function Oh(t,e,r){if(e=FD(e),FD(t)!==e&&r)throw Error(fe(425))}function ox(){}var rS=null,nS=null;function aS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sS=typeof setTimeout=="function"?setTimeout:void 0,iH=typeof clearTimeout=="function"?clearTimeout:void 0,BD=typeof Promise=="function"?Promise:void 0,lH=typeof queueMicrotask=="function"?queueMicrotask:typeof BD<"u"?function(t){return BD.resolve(null).then(t).catch(cH)}:sS;function cH(t){setTimeout(function(){throw t})}function uN(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Sf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Sf(e)}function yo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var gu=Math.random().toString(36).slice(2),Pa="__reactFiber$"+gu,Ef="__reactProps$"+gu,As="__reactContainer$"+gu,oS="__reactEvents$"+gu,uH="__reactListeners$"+gu,dH="__reactHandles$"+gu;function Ni(t){var e=t[Pa];if(e)return e;for(var r=t.parentNode;r;){if(e=r[As]||r[Pa]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=qD(t);t!==null;){if(r=t[Pa])return r;t=qD(t)}return e}t=r,r=t.parentNode}return null}function Vm(t){return t=t[Pa]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function Qv(t){return t[Ef]||null}var iS=[],Xl=-1;function Uo(t){return{current:t}}function Pt(t){0>Xl||(t.current=iS[Xl],iS[Xl]=null,Xl--)}function At(t,e){Xl++,iS[Xl]=t.current,t.current=e}var _o={},Fr=Uo(_o),on=Uo(!1),rl=_o;function _c(t,e){var r=t.type.contextTypes;if(!r)return _o;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function ln(t){return t=t.childContextTypes,t!=null}function ix(){Pt(on),Pt(Fr)}function VD(t,e,r){if(Fr.current!==_o)throw Error(fe(168));At(Fr,e),At(on,r)}function T4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(fe(108,K9(t)||"Unknown",a));return qt({},r,n)}function lx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_o,rl=Fr.current,At(Fr,t),At(on,on.current),!0}function UD(t,e,r){var n=t.stateNode;if(!n)throw Error(fe(169));r?(t=T4(t,e,rl),n.__reactInternalMemoizedMergedChildContext=t,Pt(on),Pt(Fr),At(Fr,t)):Pt(on),At(on,r)}var os=null,Zv=!1,dN=!1;function E4(t){os===null?os=[t]:os.push(t)}function fH(t){Zv=!0,E4(t)}function zo(){if(!dN&&os!==null){dN=!0;var t=0,e=mt;try{var r=os;for(mt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}os=null,Zv=!1}catch(a){throw os!==null&&(os=os.slice(t+1)),t4(Kk,zo),a}finally{mt=e,dN=!1}}return null}var Ql=[],Zl=0,cx=null,ux=0,Un=[],zn=0,nl=null,us=1,ds="";function mi(t,e){Ql[Zl++]=ux,Ql[Zl++]=cx,cx=t,ux=e}function D4(t,e,r){Un[zn++]=us,Un[zn++]=ds,Un[zn++]=nl,nl=t;var n=us;t=ds;var a=32-ma(n)-1;n&=~(1<<a),r+=1;var s=32-ma(e)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,us=1<<32-ma(e)+a|r<<a|n,ds=s+t}else us=1<<s|r<<a|n,ds=t}function aT(t){t.return!==null&&(mi(t,1),D4(t,1,0))}function sT(t){for(;t===cx;)cx=Ql[--Zl],Ql[Zl]=null,ux=Ql[--Zl],Ql[Zl]=null;for(;t===nl;)nl=Un[--zn],Un[zn]=null,ds=Un[--zn],Un[zn]=null,us=Un[--zn],Un[zn]=null}var Sn=null,wn=null,_t=!1,la=null;function P4(t,e){var r=Hn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function zD(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,wn=yo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=nl!==null?{id:us,overflow:ds}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Hn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Sn=t,wn=null,!0):!1;default:return!1}}function lS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cS(t){if(_t){var e=wn;if(e){var r=e;if(!zD(t,e)){if(lS(t))throw Error(fe(418));e=yo(r.nextSibling);var n=Sn;e&&zD(t,e)?P4(n,r):(t.flags=t.flags&-4097|2,_t=!1,Sn=t)}}else{if(lS(t))throw Error(fe(418));t.flags=t.flags&-4097|2,_t=!1,Sn=t}}}function WD(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function _h(t){if(t!==Sn)return!1;if(!_t)return WD(t),_t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!aS(t.type,t.memoizedProps)),e&&(e=wn)){if(lS(t))throw O4(),Error(fe(418));for(;e;)P4(t,e),e=yo(e.nextSibling)}if(WD(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){wn=yo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=Sn?yo(t.stateNode.nextSibling):null;return!0}function O4(){for(var t=wn;t;)t=yo(t.nextSibling)}function $c(){wn=Sn=null,_t=!1}function oT(t){la===null?la=[t]:la.push(t)}var mH=Ms.ReactCurrentBatchConfig;function Wu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,t));var a=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,t))}return t}function $h(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function HD(t){var e=t._init;return e(t._payload)}function _4(t){function e(b,v){if(t){var j=b.deletions;j===null?(b.deletions=[v],b.flags|=16):j.push(v)}}function r(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function a(b,v){return b=jo(b,v),b.index=0,b.sibling=null,b}function s(b,v,j){return b.index=j,t?(j=b.alternate,j!==null?(j=j.index,j<v?(b.flags|=2,v):j):(b.flags|=2,v)):(b.flags|=1048576,v)}function i(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,v,j,C){return v===null||v.tag!==6?(v=bN(j,b.mode,C),v.return=b,v):(v=a(v,j),v.return=b,v)}function c(b,v,j,C){var x=j.type;return x===Hl?d(b,v,j.props.children,C,j.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Xs&&HD(x)===v.type)?(C=a(v,j.props),C.ref=Wu(b,v,j),C.return=b,C):(C=zp(j.type,j.key,j.props,null,b.mode,C),C.ref=Wu(b,v,j),C.return=b,C)}function u(b,v,j,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=xN(j,b.mode,C),v.return=b,v):(v=a(v,j.children||[]),v.return=b,v)}function d(b,v,j,C,x){return v===null||v.tag!==7?(v=Li(j,b.mode,C,x),v.return=b,v):(v=a(v,j),v.return=b,v)}function f(b,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=bN(""+v,b.mode,j),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ch:return j=zp(v.type,v.key,v.props,null,b.mode,j),j.ref=Wu(b,null,v),j.return=b,j;case Wl:return v=xN(v,b.mode,j),v.return=b,v;case Xs:var C=v._init;return f(b,C(v._payload),j)}if(xd(v)||Bu(v))return v=Li(v,b.mode,j,null),v.return=b,v;$h(b,v)}return null}function m(b,v,j,C){var x=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return x!==null?null:l(b,v,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ch:return j.key===x?c(b,v,j,C):null;case Wl:return j.key===x?u(b,v,j,C):null;case Xs:return x=j._init,m(b,v,x(j._payload),C)}if(xd(j)||Bu(j))return x!==null?null:d(b,v,j,C,null);$h(b,j)}return null}function h(b,v,j,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(j)||null,l(v,b,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ch:return b=b.get(C.key===null?j:C.key)||null,c(v,b,C,x);case Wl:return b=b.get(C.key===null?j:C.key)||null,u(v,b,C,x);case Xs:var N=C._init;return h(b,v,j,N(C._payload),x)}if(xd(C)||Bu(C))return b=b.get(j)||null,d(v,b,C,x,null);$h(v,C)}return null}function y(b,v,j,C){for(var x=null,N=null,S=v,A=v=0,I=null;S!==null&&A<j.length;A++){S.index>A?(I=S,S=null):I=S.sibling;var E=m(b,S,j[A],C);if(E===null){S===null&&(S=I);break}t&&S&&E.alternate===null&&e(b,S),v=s(E,v,A),N===null?x=E:N.sibling=E,N=E,S=I}if(A===j.length)return r(b,S),_t&&mi(b,A),x;if(S===null){for(;A<j.length;A++)S=f(b,j[A],C),S!==null&&(v=s(S,v,A),N===null?x=S:N.sibling=S,N=S);return _t&&mi(b,A),x}for(S=n(b,S);A<j.length;A++)I=h(S,b,A,j[A],C),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?A:I.key),v=s(I,v,A),N===null?x=I:N.sibling=I,N=I);return t&&S.forEach(function(k){return e(b,k)}),_t&&mi(b,A),x}function g(b,v,j,C){var x=Bu(j);if(typeof x!="function")throw Error(fe(150));if(j=x.call(j),j==null)throw Error(fe(151));for(var N=x=null,S=v,A=v=0,I=null,E=j.next();S!==null&&!E.done;A++,E=j.next()){S.index>A?(I=S,S=null):I=S.sibling;var k=m(b,S,E.value,C);if(k===null){S===null&&(S=I);break}t&&S&&k.alternate===null&&e(b,S),v=s(k,v,A),N===null?x=k:N.sibling=k,N=k,S=I}if(E.done)return r(b,S),_t&&mi(b,A),x;if(S===null){for(;!E.done;A++,E=j.next())E=f(b,E.value,C),E!==null&&(v=s(E,v,A),N===null?x=E:N.sibling=E,N=E);return _t&&mi(b,A),x}for(S=n(b,S);!E.done;A++,E=j.next())E=h(S,b,A,E.value,C),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?A:E.key),v=s(E,v,A),N===null?x=E:N.sibling=E,N=E);return t&&S.forEach(function(P){return e(b,P)}),_t&&mi(b,A),x}function p(b,v,j,C){if(typeof j=="object"&&j!==null&&j.type===Hl&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ch:e:{for(var x=j.key,N=v;N!==null;){if(N.key===x){if(x=j.type,x===Hl){if(N.tag===7){r(b,N.sibling),v=a(N,j.props.children),v.return=b,b=v;break e}}else if(N.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Xs&&HD(x)===N.type){r(b,N.sibling),v=a(N,j.props),v.ref=Wu(b,N,j),v.return=b,b=v;break e}r(b,N);break}else e(b,N);N=N.sibling}j.type===Hl?(v=Li(j.props.children,b.mode,C,j.key),v.return=b,b=v):(C=zp(j.type,j.key,j.props,null,b.mode,C),C.ref=Wu(b,v,j),C.return=b,b=C)}return i(b);case Wl:e:{for(N=j.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){r(b,v.sibling),v=a(v,j.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else e(b,v);v=v.sibling}v=xN(j,b.mode,C),v.return=b,b=v}return i(b);case Xs:return N=j._init,p(b,v,N(j._payload),C)}if(xd(j))return y(b,v,j,C);if(Bu(j))return g(b,v,j,C);$h(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(r(b,v.sibling),v=a(v,j),v.return=b,b=v):(r(b,v),v=bN(j,b.mode,C),v.return=b,b=v),i(b)):r(b,v)}return p}var Rc=_4(!0),$4=_4(!1),dx=Uo(null),fx=null,ec=null,iT=null;function lT(){iT=ec=fx=null}function cT(t){var e=dx.current;Pt(dx),t._currentValue=e}function uS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function fc(t,e){fx=t,iT=ec=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(iT!==t)if(t={context:t,memoizedValue:e,next:null},ec===null){if(fx===null)throw Error(fe(308));ec=t,fx.dependencies={lanes:0,firstContext:t}}else ec=ec.next=t;return e}var Ci=null;function uT(t){Ci===null?Ci=[t]:Ci.push(t)}function R4(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,uT(e)):(r.next=a.next,a.next=r),e.interleaved=r,Is(t,n)}function Is(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Qs=!1;function dT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ze&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Is(t,r)}return a=n.interleaved,a===null?(e.next=e,uT(n)):(e.next=a.next,a.next=e),n.interleaved=e,Is(t,r)}function Lp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jk(t,r)}}function GD(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=e:s=s.next=e}else a=s=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function mx(t,e,r,n){var a=t.updateQueue;Qs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,g=l;switch(m=e,h=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(h,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,m=typeof y=="function"?y.call(h,f,m):y,m==null)break e;f=qt({},f,m);break e;case 2:Qs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else s===null&&(a.shared.lanes=0);sl|=i,t.lanes=i,t.memoizedState=f}}function YD(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(fe(191,a));a.call(n)}}}var Um={},Ra=Uo(Um),Df=Uo(Um),Pf=Uo(Um);function Si(t){if(t===Um)throw Error(fe(174));return t}function fT(t,e){switch(At(Pf,e),At(Df,t),At(Ra,Um),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zC(e,t)}Pt(Ra),At(Ra,e)}function Mc(){Pt(Ra),Pt(Df),Pt(Pf)}function L4(t){Si(Pf.current);var e=Si(Ra.current),r=zC(e,t.type);e!==r&&(At(Df,t),At(Ra,r))}function mT(t){Df.current===t&&(Pt(Ra),Pt(Df))}var Ft=Uo(0);function hx(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fN=[];function hT(){for(var t=0;t<fN.length;t++)fN[t]._workInProgressVersionPrimary=null;fN.length=0}var Fp=Ms.ReactCurrentDispatcher,mN=Ms.ReactCurrentBatchConfig,al=0,Bt=null,ur=null,yr=null,px=!1,Fd=!1,Of=0,hH=0;function Dr(){throw Error(fe(321))}function pT(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!xa(t[r],e[r]))return!1;return!0}function gT(t,e,r,n,a,s){if(al=s,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fp.current=t===null||t.memoizedState===null?bH:xH,t=r(n,a),Fd){s=0;do{if(Fd=!1,Of=0,25<=s)throw Error(fe(301));s+=1,yr=ur=null,e.updateQueue=null,Fp.current=vH,t=r(n,a)}while(Fd)}if(Fp.current=gx,e=ur!==null&&ur.next!==null,al=0,yr=ur=Bt=null,px=!1,e)throw Error(fe(300));return t}function yT(){var t=Of!==0;return Of=0,t}function Ia(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Bt.memoizedState=yr=t:yr=yr.next=t,yr}function Qn(){if(ur===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=ur.next;var e=yr===null?Bt.memoizedState:yr.next;if(e!==null)yr=e,ur=t;else{if(t===null)throw Error(fe(310));ur=t,t={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},yr===null?Bt.memoizedState=yr=t:yr=yr.next=t}return yr}function _f(t,e){return typeof e=="function"?e(t):e}function hN(t){var e=Qn(),r=e.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=t;var n=ur,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((al&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Bt.lanes|=d,sl|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,xa(n,e.memoizedState)||(rn=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do s=a.lane,Bt.lanes|=s,sl|=s,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function pN(t){var e=Qn(),r=e.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,s=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=t(s,i.action),i=i.next;while(i!==a);xa(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function F4(){}function B4(t,e){var r=Bt,n=Qn(),a=e(),s=!xa(n.memoizedState,a);if(s&&(n.memoizedState=a,rn=!0),n=n.queue,bT(U4.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||yr!==null&&yr.memoizedState.tag&1){if(r.flags|=2048,$f(9,V4.bind(null,r,n,a,e),void 0,null),xr===null)throw Error(fe(349));al&30||q4(r,e,a)}return a}function q4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function V4(t,e,r,n){e.value=r,e.getSnapshot=n,z4(e)&&W4(t)}function U4(t,e,r){return r(function(){z4(e)&&W4(t)})}function z4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xa(t,r)}catch{return!0}}function W4(t){var e=Is(t,1);e!==null&&ha(e,t,1,-1)}function KD(t){var e=Ia();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_f,lastRenderedState:t},e.queue=t,t=t.dispatch=yH.bind(null,Bt,t),[e.memoizedState,t]}function $f(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function H4(){return Qn().memoizedState}function Bp(t,e,r,n){var a=Ia();Bt.flags|=t,a.memoizedState=$f(1|e,r,void 0,n===void 0?null:n)}function e0(t,e,r,n){var a=Qn();n=n===void 0?null:n;var s=void 0;if(ur!==null){var i=ur.memoizedState;if(s=i.destroy,n!==null&&pT(n,i.deps)){a.memoizedState=$f(e,r,s,n);return}}Bt.flags|=t,a.memoizedState=$f(1|e,r,s,n)}function JD(t,e){return Bp(8390656,8,t,e)}function bT(t,e){return e0(2048,8,t,e)}function G4(t,e){return e0(4,2,t,e)}function Y4(t,e){return e0(4,4,t,e)}function K4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function J4(t,e,r){return r=r!=null?r.concat([t]):null,e0(4,4,K4.bind(null,e,t),r)}function xT(){}function X4(t,e){var r=Qn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&pT(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Q4(t,e){var r=Qn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&pT(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Z4(t,e,r){return al&21?(xa(r,e)||(r=a4(),Bt.lanes|=r,sl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=r)}function pH(t,e){var r=mt;mt=r!==0&&4>r?r:4,t(!0);var n=mN.transition;mN.transition={};try{t(!1),e()}finally{mt=r,mN.transition=n}}function eB(){return Qn().memoizedState}function gH(t,e,r){var n=vo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},tB(t))rB(e,r);else if(r=R4(t,e,r,n),r!==null){var a=Gr();ha(r,t,n,a),nB(r,e,n)}}function yH(t,e,r){var n=vo(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(tB(t))rB(e,a);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,xa(l,i)){var c=e.interleaved;c===null?(a.next=a,uT(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=R4(t,e,a,n),r!==null&&(a=Gr(),ha(r,t,n,a),nB(r,e,n))}}function tB(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function rB(t,e){Fd=px=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function nB(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jk(t,r)}}var gx={readContext:Xn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},bH={readContext:Xn,useCallback:function(t,e){return Ia().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:JD,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Bp(4194308,4,K4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Bp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bp(4,2,t,e)},useMemo:function(t,e){var r=Ia();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ia();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=gH.bind(null,Bt,t),[n.memoizedState,t]},useRef:function(t){var e=Ia();return t={current:t},e.memoizedState=t},useState:KD,useDebugValue:xT,useDeferredValue:function(t){return Ia().memoizedState=t},useTransition:function(){var t=KD(!1),e=t[0];return t=pH.bind(null,t[1]),Ia().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Bt,a=Ia();if(_t){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=e(),xr===null)throw Error(fe(349));al&30||q4(n,e,r)}a.memoizedState=r;var s={value:r,getSnapshot:e};return a.queue=s,JD(U4.bind(null,n,s,t),[t]),n.flags|=2048,$f(9,V4.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ia(),e=xr.identifierPrefix;if(_t){var r=ds,n=us;r=(n&~(1<<32-ma(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Of++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=hH++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xH={readContext:Xn,useCallback:X4,useContext:Xn,useEffect:bT,useImperativeHandle:J4,useInsertionEffect:G4,useLayoutEffect:Y4,useMemo:Q4,useReducer:hN,useRef:H4,useState:function(){return hN(_f)},useDebugValue:xT,useDeferredValue:function(t){var e=Qn();return Z4(e,ur.memoizedState,t)},useTransition:function(){var t=hN(_f)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:F4,useSyncExternalStore:B4,useId:eB,unstable_isNewReconciler:!1},vH={readContext:Xn,useCallback:X4,useContext:Xn,useEffect:bT,useImperativeHandle:J4,useInsertionEffect:G4,useLayoutEffect:Y4,useMemo:Q4,useReducer:pN,useRef:H4,useState:function(){return pN(_f)},useDebugValue:xT,useDeferredValue:function(t){var e=Qn();return ur===null?e.memoizedState=t:Z4(e,ur.memoizedState,t)},useTransition:function(){var t=pN(_f)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:F4,useSyncExternalStore:B4,useId:eB,unstable_isNewReconciler:!1};function oa(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function dS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:qt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var t0={isMounted:function(t){return(t=t._reactInternals)?xl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Gr(),a=vo(t),s=ys(n,a);s.payload=e,r!=null&&(s.callback=r),e=bo(t,s,a),e!==null&&(ha(e,t,a,n),Lp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Gr(),a=vo(t),s=ys(n,a);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=bo(t,s,a),e!==null&&(ha(e,t,a,n),Lp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Gr(),n=vo(t),a=ys(r,n);a.tag=2,e!=null&&(a.callback=e),e=bo(t,a,n),e!==null&&(ha(e,t,n,r),Lp(e,t,n))}};function XD(t,e,r,n,a,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!If(r,n)||!If(a,s):!0}function aB(t,e,r){var n=!1,a=_o,s=e.contextType;return typeof s=="object"&&s!==null?s=Xn(s):(a=ln(e)?rl:Fr.current,n=e.contextTypes,s=(n=n!=null)?_c(t,a):_o),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=t0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=s),e}function QD(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&t0.enqueueReplaceState(e,e.state,null)}function fS(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},dT(t);var s=e.contextType;typeof s=="object"&&s!==null?a.context=Xn(s):(s=ln(e)?rl:Fr.current,a.context=_c(t,s)),a.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dS(t,e,s,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&t0.enqueueReplaceState(a,a.state,null),mx(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Lc(t,e){try{var r="",n=e;do r+=Y9(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:a,digest:null}}function gN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function mS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jH=typeof WeakMap=="function"?WeakMap:Map;function sB(t,e,r){r=ys(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){bx||(bx=!0,NS=n),mS(t,e)},r}function oB(t,e,r){r=ys(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){mS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){mS(t,e),typeof n!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function ZD(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jH;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=$H.bind(null,t,e,r),e.then(t,t))}function eP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tP(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ys(-1,1),e.tag=2,bo(r,e,1))),r.lanes|=1),t)}var wH=Ms.ReactCurrentOwner,rn=!1;function Ur(t,e,r,n){e.child=t===null?$4(e,null,r,n):Rc(e,t.child,r,n)}function rP(t,e,r,n,a){r=r.render;var s=e.ref;return fc(e,a),n=gT(t,e,r,n,s,a),r=yT(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ks(t,e,a)):(_t&&r&&aT(e),e.flags|=1,Ur(t,e,n,a),e.child)}function nP(t,e,r,n,a){if(t===null){var s=r.type;return typeof s=="function"&&!IT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,iB(t,e,s,n,a)):(t=zp(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:If,r(i,n)&&t.ref===e.ref)return ks(t,e,a)}return e.flags|=1,t=jo(s,n),t.ref=e.ref,t.return=e,e.child=t}function iB(t,e,r,n,a){if(t!==null){var s=t.memoizedProps;if(If(s,n)&&t.ref===e.ref)if(rn=!1,e.pendingProps=n=s,(t.lanes&a)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,ks(t,e,a)}return hS(t,e,r,n,a)}function lB(t,e,r){var n=e.pendingProps,a=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(rc,xn),xn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,At(rc,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,At(rc,xn),xn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,At(rc,xn),xn|=n;return Ur(t,e,a,r),e.child}function cB(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function hS(t,e,r,n,a){var s=ln(r)?rl:Fr.current;return s=_c(e,s),fc(e,a),r=gT(t,e,r,n,s,a),n=yT(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ks(t,e,a)):(_t&&n&&aT(e),e.flags|=1,Ur(t,e,r,a),e.child)}function aP(t,e,r,n,a){if(ln(r)){var s=!0;lx(e)}else s=!1;if(fc(e,a),e.stateNode===null)qp(t,e),aB(e,r,n),fS(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=ln(r)?rl:Fr.current,u=_c(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&QD(e,i,n,u),Qs=!1;var m=e.memoizedState;i.state=m,mx(e,n,i,a),c=e.memoizedState,l!==n||m!==c||on.current||Qs?(typeof d=="function"&&(dS(e,r,d,n),c=e.memoizedState),(l=Qs||XD(e,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,M4(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:oa(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Xn(c):(c=ln(r)?rl:Fr.current,c=_c(e,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&QD(e,i,n,c),Qs=!1,m=e.memoizedState,i.state=m,mx(e,n,i,a);var y=e.memoizedState;l!==f||m!==y||on.current||Qs?(typeof h=="function"&&(dS(e,r,h,n),y=e.memoizedState),(u=Qs||XD(e,r,u,n,m,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),i.props=n,i.state=y,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return pS(t,e,r,n,s,a)}function pS(t,e,r,n,a,s){cB(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&UD(e,r,!1),ks(t,e,s);n=e.stateNode,wH.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=Rc(e,t.child,null,s),e.child=Rc(e,null,l,s)):Ur(t,e,l,s),e.memoizedState=n.state,a&&UD(e,r,!0),e.child}function uB(t){var e=t.stateNode;e.pendingContext?VD(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VD(t,e.context,!1),fT(t,e.containerInfo)}function sP(t,e,r,n,a){return $c(),oT(a),e.flags|=256,Ur(t,e,r,n),e.child}var gS={dehydrated:null,treeContext:null,retryLane:0};function yS(t){return{baseLanes:t,cachePool:null,transitions:null}}function dB(t,e,r){var n=e.pendingProps,a=Ft.current,s=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),At(Ft,a&1),t===null)return cS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=a0(i,n,0,null),t=Li(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yS(r),e.memoizedState=gS,t):vT(e,i));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return NH(t,e,i,n,l,a,r);if(s){s=n.fallback,i=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=jo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=jo(l,s):(s=Li(s,i,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?yS(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=gS,n}return s=t.child,t=s.sibling,n=jo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function vT(t,e){return e=a0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rh(t,e,r,n){return n!==null&&oT(n),Rc(e,t.child,null,r),t=vT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NH(t,e,r,n,a,s,i){if(r)return e.flags&256?(e.flags&=-257,n=gN(Error(fe(422))),Rh(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,a=e.mode,n=a0({mode:"visible",children:n.children},a,0,null),s=Li(s,a,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Rc(e,t.child,null,i),e.child.memoizedState=yS(i),e.memoizedState=gS,s);if(!(e.mode&1))return Rh(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(fe(419)),n=gN(s,n,void 0),Rh(t,e,i,n)}if(l=(i&t.childLanes)!==0,rn||l){if(n=xr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Is(t,a),ha(n,t,a,-1))}return AT(),n=gN(Error(fe(421))),Rh(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=RH.bind(null,t),a._reactRetry=e,null):(t=s.treeContext,wn=yo(a.nextSibling),Sn=e,_t=!0,la=null,t!==null&&(Un[zn++]=us,Un[zn++]=ds,Un[zn++]=nl,us=t.id,ds=t.overflow,nl=e),e=vT(e,n.children),e.flags|=4096,e)}function oP(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),uS(t.return,e,r)}function yN(t,e,r,n,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function fB(t,e,r){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if(Ur(t,e,n.children,r),n=Ft.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oP(t,r,e);else if(t.tag===19)oP(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(At(Ft,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&hx(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),yN(e,!1,a,r,s);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&hx(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}yN(e,!0,r,null,s);break;case"together":yN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ks(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),sl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,r=jo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=jo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function CH(t,e,r){switch(e.tag){case 3:uB(e),$c();break;case 5:L4(e);break;case 1:ln(e.type)&&lx(e);break;case 4:fT(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;At(dx,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(At(Ft,Ft.current&1),e.flags|=128,null):r&e.child.childLanes?dB(t,e,r):(At(Ft,Ft.current&1),t=ks(t,e,r),t!==null?t.sibling:null);At(Ft,Ft.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return fB(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),At(Ft,Ft.current),n)break;return null;case 22:case 23:return e.lanes=0,lB(t,e,r)}return ks(t,e,r)}var mB,bS,hB,pB;mB=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bS=function(){};hB=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Si(Ra.current);var s=null;switch(r){case"input":a=BC(t,a),n=BC(t,n),s=[];break;case"select":a=qt({},a,{value:void 0}),n=qt({},n,{value:void 0}),s=[];break;case"textarea":a=UC(t,a),n=UC(t,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ox)}WC(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&kt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};pB=function(t,e,r,n){r!==n&&(e.flags|=4)};function Hu(t,e){if(!_t)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Pr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function SH(t,e,r){var n=e.pendingProps;switch(sT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(e),null;case 1:return ln(e.type)&&ix(),Pr(e),null;case 3:return n=e.stateNode,Mc(),Pt(on),Pt(Fr),hT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(_h(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,la!==null&&(AS(la),la=null))),bS(t,e),Pr(e),null;case 5:mT(e);var a=Si(Pf.current);if(r=e.type,t!==null&&e.stateNode!=null)hB(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(fe(166));return Pr(e),null}if(t=Si(Ra.current),_h(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Pa]=e,n[Ef]=s,t=(e.mode&1)!==0,r){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(a=0;a<jd.length;a++)kt(jd[a],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":pD(n,s),kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},kt("invalid",n);break;case"textarea":yD(n,s),kt("invalid",n)}WC(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Oh(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Oh(n.textContent,l,t),a=["children",""+l]):vf.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&kt("scroll",n)}switch(r){case"input":Sh(n),gD(n,s,!0);break;case"textarea":Sh(n),bD(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ox)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Pa]=e,t[Ef]=n,mB(t,e,!1,!1),e.stateNode=t;e:{switch(i=HC(r,n),r){case"dialog":kt("cancel",t),kt("close",t),a=n;break;case"iframe":case"object":case"embed":kt("load",t),a=n;break;case"video":case"audio":for(a=0;a<jd.length;a++)kt(jd[a],t);a=n;break;case"source":kt("error",t),a=n;break;case"img":case"image":case"link":kt("error",t),kt("load",t),a=n;break;case"details":kt("toggle",t),a=n;break;case"input":pD(t,n),a=BC(t,n),kt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=qt({},n,{value:void 0}),kt("invalid",t);break;case"textarea":yD(t,n),a=UC(t,n),kt("invalid",t);break;default:a=n}WC(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?H5(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&z5(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&jf(t,c):typeof c=="number"&&jf(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&kt("scroll",t):c!=null&&zk(t,s,c,i))}switch(r){case"input":Sh(t),gD(t,n,!1);break;case"textarea":Sh(t),bD(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Oo(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?lc(t,!!n.multiple,s,!1):n.defaultValue!=null&&lc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=ox)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pr(e),null;case 6:if(t&&e.stateNode!=null)pB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(fe(166));if(r=Si(Pf.current),Si(Ra.current),_h(e)){if(n=e.stateNode,r=e.memoizedProps,n[Pa]=e,(s=n.nodeValue!==r)&&(t=Sn,t!==null))switch(t.tag){case 3:Oh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pa]=e,e.stateNode=n}return Pr(e),null;case 13:if(Pt(Ft),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_t&&wn!==null&&e.mode&1&&!(e.flags&128))O4(),$c(),e.flags|=98560,s=!1;else if(s=_h(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[Pa]=e}else $c(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pr(e),s=!1}else la!==null&&(AS(la),la=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ft.current&1?dr===0&&(dr=3):AT())),e.updateQueue!==null&&(e.flags|=4),Pr(e),null);case 4:return Mc(),bS(t,e),t===null&&kf(e.stateNode.containerInfo),Pr(e),null;case 10:return cT(e.type._context),Pr(e),null;case 17:return ln(e.type)&&ix(),Pr(e),null;case 19:if(Pt(Ft),s=e.memoizedState,s===null)return Pr(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)Hu(s,!1);else{if(dr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=hx(t),i!==null){for(e.flags|=128,Hu(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return At(Ft,Ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qt()>Fc&&(e.flags|=128,n=!0,Hu(s,!1),e.lanes=4194304)}else{if(!n)if(t=hx(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Hu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!_t)return Pr(e),null}else 2*Qt()-s.renderingStartTime>Fc&&r!==1073741824&&(e.flags|=128,n=!0,Hu(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qt(),e.sibling=null,r=Ft.current,At(Ft,n?r&1|2:r&1),e):(Pr(e),null);case 22:case 23:return ST(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?xn&1073741824&&(Pr(e),e.subtreeFlags&6&&(e.flags|=8192)):Pr(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function AH(t,e){switch(sT(e),e.tag){case 1:return ln(e.type)&&ix(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mc(),Pt(on),Pt(Fr),hT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mT(e),null;case 13:if(Pt(Ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));$c()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pt(Ft),null;case 4:return Mc(),null;case 10:return cT(e.type._context),null;case 22:case 23:return ST(),null;case 24:return null;default:return null}}var Mh=!1,Rr=!1,IH=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function tc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){zt(t,e,n)}else r.current=null}function xS(t,e,r){try{r()}catch(n){zt(t,e,n)}}var iP=!1;function kH(t,e){if(rS=nx,t=v4(),nT(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===t)break t;if(m===r&&++u===a&&(l=i),m===s&&++d===n&&(c=i),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(nS={focusedElem:t,selectionRange:r},nx=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,p=y.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:oa(e.type,g),p);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(C){zt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return y=iP,iP=!1,y}function Bd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var s=a.destroy;a.destroy=void 0,s!==void 0&&xS(e,r,s)}a=a.next}while(a!==n)}}function r0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function vS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function gB(t){var e=t.alternate;e!==null&&(t.alternate=null,gB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pa],delete e[Ef],delete e[oS],delete e[uH],delete e[dH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yB(t){return t.tag===5||t.tag===3||t.tag===4}function lP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ox));else if(n!==4&&(t=t.child,t!==null))for(jS(t,e,r),t=t.sibling;t!==null;)jS(t,e,r),t=t.sibling}function wS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(wS(t,e,r),t=t.sibling;t!==null;)wS(t,e,r),t=t.sibling}var Cr=null,ia=!1;function Gs(t,e,r){for(r=r.child;r!==null;)bB(t,e,r),r=r.sibling}function bB(t,e,r){if($a&&typeof $a.onCommitFiberUnmount=="function")try{$a.onCommitFiberUnmount(Yv,r)}catch{}switch(r.tag){case 5:Rr||tc(r,e);case 6:var n=Cr,a=ia;Cr=null,Gs(t,e,r),Cr=n,ia=a,Cr!==null&&(ia?(t=Cr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Cr.removeChild(r.stateNode));break;case 18:Cr!==null&&(ia?(t=Cr,r=r.stateNode,t.nodeType===8?uN(t.parentNode,r):t.nodeType===1&&uN(t,r),Sf(t)):uN(Cr,r.stateNode));break;case 4:n=Cr,a=ia,Cr=r.stateNode.containerInfo,ia=!0,Gs(t,e,r),Cr=n,ia=a;break;case 0:case 11:case 14:case 15:if(!Rr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&xS(r,e,i),a=a.next}while(a!==n)}Gs(t,e,r);break;case 1:if(!Rr&&(tc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){zt(r,e,l)}Gs(t,e,r);break;case 21:Gs(t,e,r);break;case 22:r.mode&1?(Rr=(n=Rr)||r.memoizedState!==null,Gs(t,e,r),Rr=n):Gs(t,e,r);break;default:Gs(t,e,r)}}function cP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new IH),e.forEach(function(n){var a=MH.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function aa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:Cr=l.stateNode,ia=!1;break e;case 3:Cr=l.stateNode.containerInfo,ia=!0;break e;case 4:Cr=l.stateNode.containerInfo,ia=!0;break e}l=l.return}if(Cr===null)throw Error(fe(160));bB(s,i,a),Cr=null,ia=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){zt(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xB(e,t),e=e.sibling}function xB(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(aa(e,t),Ca(t),n&4){try{Bd(3,t,t.return),r0(3,t)}catch(g){zt(t,t.return,g)}try{Bd(5,t,t.return)}catch(g){zt(t,t.return,g)}}break;case 1:aa(e,t),Ca(t),n&512&&r!==null&&tc(r,r.return);break;case 5:if(aa(e,t),Ca(t),n&512&&r!==null&&tc(r,r.return),t.flags&32){var a=t.stateNode;try{jf(a,"")}catch(g){zt(t,t.return,g)}}if(n&4&&(a=t.stateNode,a!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&q5(a,s),HC(l,i);var u=HC(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?H5(a,f):d==="dangerouslySetInnerHTML"?z5(a,f):d==="children"?jf(a,f):zk(a,d,f,u)}switch(l){case"input":qC(a,s);break;case"textarea":V5(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?lc(a,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?lc(a,!!s.multiple,s.defaultValue,!0):lc(a,!!s.multiple,s.multiple?[]:"",!1))}a[Ef]=s}catch(g){zt(t,t.return,g)}}break;case 6:if(aa(e,t),Ca(t),n&4){if(t.stateNode===null)throw Error(fe(162));a=t.stateNode,s=t.memoizedProps;try{a.nodeValue=s}catch(g){zt(t,t.return,g)}}break;case 3:if(aa(e,t),Ca(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sf(e.containerInfo)}catch(g){zt(t,t.return,g)}break;case 4:aa(e,t),Ca(t);break;case 13:aa(e,t),Ca(t),a=t.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(NT=Qt())),n&4&&cP(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Rr=(u=Rr)||d,aa(e,t),Rr=u):aa(e,t),Ca(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ce=t,d=t.child;d!==null;){for(f=Ce=d;Ce!==null;){switch(m=Ce,h=m.child,m.tag){case 0:case 11:case 14:case 15:Bd(4,m,m.return);break;case 1:tc(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){zt(n,r,g)}}break;case 5:tc(m,m.return);break;case 22:if(m.memoizedState!==null){dP(f);continue}}h!==null?(h.return=m,Ce=h):dP(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=W5("display",i))}catch(g){zt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){zt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:aa(e,t),Ca(t),n&4&&cP(t);break;case 21:break;default:aa(e,t),Ca(t)}}function Ca(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(yB(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(jf(a,""),n.flags&=-33);var s=lP(t);wS(t,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=lP(t);jS(t,l,i);break;default:throw Error(fe(161))}}catch(c){zt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TH(t,e,r){Ce=t,vB(t)}function vB(t,e,r){for(var n=(t.mode&1)!==0;Ce!==null;){var a=Ce,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Mh;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Rr;l=Mh;var u=Rr;if(Mh=i,(Rr=c)&&!u)for(Ce=a;Ce!==null;)i=Ce,c=i.child,i.tag===22&&i.memoizedState!==null?fP(a):c!==null?(c.return=i,Ce=c):fP(a);for(;s!==null;)Ce=s,vB(s),s=s.sibling;Ce=a,Mh=l,Rr=u}uP(t)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Ce=s):uP(t)}}function uP(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rr||r0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Rr)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:oa(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&YD(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}YD(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Sf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Rr||e.flags&512&&vS(e)}catch(m){zt(e,e.return,m)}}if(e===t){Ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function dP(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function fP(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{r0(4,e)}catch(c){zt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){zt(e,a,c)}}var s=e.return;try{vS(e)}catch(c){zt(e,s,c)}break;case 5:var i=e.return;try{vS(e)}catch(c){zt(e,i,c)}}}catch(c){zt(e,e.return,c)}if(e===t){Ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ce=l;break}Ce=e.return}}var EH=Math.ceil,yx=Ms.ReactCurrentDispatcher,jT=Ms.ReactCurrentOwner,Kn=Ms.ReactCurrentBatchConfig,Ze=0,xr=null,sr=null,Ir=0,xn=0,rc=Uo(0),dr=0,Rf=null,sl=0,n0=0,wT=0,qd=null,en=null,NT=0,Fc=1/0,ns=null,bx=!1,NS=null,xo=null,Lh=!1,oo=null,xx=0,Vd=0,CS=null,Vp=-1,Up=0;function Gr(){return Ze&6?Qt():Vp!==-1?Vp:Vp=Qt()}function vo(t){return t.mode&1?Ze&2&&Ir!==0?Ir&-Ir:mH.transition!==null?(Up===0&&(Up=a4()),Up):(t=mt,t!==0||(t=window.event,t=t===void 0?16:d4(t.type)),t):1}function ha(t,e,r,n){if(50<Vd)throw Vd=0,CS=null,Error(fe(185));Bm(t,r,n),(!(Ze&2)||t!==xr)&&(t===xr&&(!(Ze&2)&&(n0|=r),dr===4&&no(t,Ir)),cn(t,n),r===1&&Ze===0&&!(e.mode&1)&&(Fc=Qt()+500,Zv&&zo()))}function cn(t,e){var r=t.callbackNode;mW(t,e);var n=rx(t,t===xr?Ir:0);if(n===0)r!==null&&jD(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&jD(r),e===1)t.tag===0?fH(mP.bind(null,t)):E4(mP.bind(null,t)),lH(function(){!(Ze&6)&&zo()}),r=null;else{switch(s4(n)){case 1:r=Kk;break;case 4:r=r4;break;case 16:r=tx;break;case 536870912:r=n4;break;default:r=tx}r=kB(r,jB.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function jB(t,e){if(Vp=-1,Up=0,Ze&6)throw Error(fe(327));var r=t.callbackNode;if(mc()&&t.callbackNode!==r)return null;var n=rx(t,t===xr?Ir:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=vx(t,n);else{e=n;var a=Ze;Ze|=2;var s=NB();(xr!==t||Ir!==e)&&(ns=null,Fc=Qt()+500,Mi(t,e));do try{OH();break}catch(l){wB(t,l)}while(!0);lT(),yx.current=s,Ze=a,sr!==null?e=0:(xr=null,Ir=0,e=dr)}if(e!==0){if(e===2&&(a=XC(t),a!==0&&(n=a,e=SS(t,a))),e===1)throw r=Rf,Mi(t,0),no(t,n),cn(t,Qt()),r;if(e===6)no(t,n);else{if(a=t.current.alternate,!(n&30)&&!DH(a)&&(e=vx(t,n),e===2&&(s=XC(t),s!==0&&(n=s,e=SS(t,s))),e===1))throw r=Rf,Mi(t,0),no(t,n),cn(t,Qt()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(fe(345));case 2:hi(t,en,ns);break;case 3:if(no(t,n),(n&130023424)===n&&(e=NT+500-Qt(),10<e)){if(rx(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Gr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=sS(hi.bind(null,t,en,ns),e);break}hi(t,en,ns);break;case 4:if(no(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-ma(n);s=1<<i,i=e[i],i>a&&(a=i),n&=~s}if(n=a,n=Qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*EH(n/1960))-n,10<n){t.timeoutHandle=sS(hi.bind(null,t,en,ns),n);break}hi(t,en,ns);break;case 5:hi(t,en,ns);break;default:throw Error(fe(329))}}}return cn(t,Qt()),t.callbackNode===r?jB.bind(null,t):null}function SS(t,e){var r=qd;return t.current.memoizedState.isDehydrated&&(Mi(t,e).flags|=256),t=vx(t,e),t!==2&&(e=en,en=r,e!==null&&AS(e)),t}function AS(t){en===null?en=t:en.push.apply(en,t)}function DH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!xa(s(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function no(t,e){for(e&=~wT,e&=~n0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ma(e),n=1<<r;t[r]=-1,e&=~n}}function mP(t){if(Ze&6)throw Error(fe(327));mc();var e=rx(t,0);if(!(e&1))return cn(t,Qt()),null;var r=vx(t,e);if(t.tag!==0&&r===2){var n=XC(t);n!==0&&(e=n,r=SS(t,n))}if(r===1)throw r=Rf,Mi(t,0),no(t,e),cn(t,Qt()),r;if(r===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hi(t,en,ns),cn(t,Qt()),null}function CT(t,e){var r=Ze;Ze|=1;try{return t(e)}finally{Ze=r,Ze===0&&(Fc=Qt()+500,Zv&&zo())}}function ol(t){oo!==null&&oo.tag===0&&!(Ze&6)&&mc();var e=Ze;Ze|=1;var r=Kn.transition,n=mt;try{if(Kn.transition=null,mt=1,t)return t()}finally{mt=n,Kn.transition=r,Ze=e,!(Ze&6)&&zo()}}function ST(){xn=rc.current,Pt(rc)}function Mi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,iH(r)),sr!==null)for(r=sr.return;r!==null;){var n=r;switch(sT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ix();break;case 3:Mc(),Pt(on),Pt(Fr),hT();break;case 5:mT(n);break;case 4:Mc();break;case 13:Pt(Ft);break;case 19:Pt(Ft);break;case 10:cT(n.type._context);break;case 22:case 23:ST()}r=r.return}if(xr=t,sr=t=jo(t.current,null),Ir=xn=e,dr=0,Rf=null,wT=n0=sl=0,en=qd=null,Ci!==null){for(e=0;e<Ci.length;e++)if(r=Ci[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Ci=null}return t}function wB(t,e){do{var r=sr;try{if(lT(),Fp.current=gx,px){for(var n=Bt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}px=!1}if(al=0,yr=ur=Bt=null,Fd=!1,Of=0,jT.current=null,r===null||r.return===null){dr=1,Rf=e,sr=null;break}e:{var s=t,i=r.return,l=r,c=e;if(e=Ir,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=eP(i);if(h!==null){h.flags&=-257,tP(h,i,l,s,e),h.mode&1&&ZD(s,u,e),e=h,c=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(c),e.updateQueue=g}else y.add(c);break e}else{if(!(e&1)){ZD(s,u,e),AT();break e}c=Error(fe(426))}}else if(_t&&l.mode&1){var p=eP(i);if(p!==null){!(p.flags&65536)&&(p.flags|=256),tP(p,i,l,s,e),oT(Lc(c,l));break e}}s=c=Lc(c,l),dr!==4&&(dr=2),qd===null?qd=[s]:qd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=sB(s,c,e);GD(s,b);break e;case 1:l=c;var v=s.type,j=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(xo===null||!xo.has(j)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=oB(s,l,e);GD(s,C);break e}}s=s.return}while(s!==null)}SB(r)}catch(x){e=x,sr===r&&r!==null&&(sr=r=r.return);continue}break}while(!0)}function NB(){var t=yx.current;return yx.current=gx,t===null?gx:t}function AT(){(dr===0||dr===3||dr===2)&&(dr=4),xr===null||!(sl&268435455)&&!(n0&268435455)||no(xr,Ir)}function vx(t,e){var r=Ze;Ze|=2;var n=NB();(xr!==t||Ir!==e)&&(ns=null,Mi(t,e));do try{PH();break}catch(a){wB(t,a)}while(!0);if(lT(),Ze=r,yx.current=n,sr!==null)throw Error(fe(261));return xr=null,Ir=0,dr}function PH(){for(;sr!==null;)CB(sr)}function OH(){for(;sr!==null&&!aW();)CB(sr)}function CB(t){var e=IB(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?SB(t):sr=e,jT.current=null}function SB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=AH(r,e),r!==null){r.flags&=32767,sr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dr=6,sr=null;return}}else if(r=SH(r,e,xn),r!==null){sr=r;return}if(e=e.sibling,e!==null){sr=e;return}sr=e=t}while(e!==null);dr===0&&(dr=5)}function hi(t,e,r){var n=mt,a=Kn.transition;try{Kn.transition=null,mt=1,_H(t,e,r,n)}finally{Kn.transition=a,mt=n}return null}function _H(t,e,r,n){do mc();while(oo!==null);if(Ze&6)throw Error(fe(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(hW(t,s),t===xr&&(sr=xr=null,Ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Lh||(Lh=!0,kB(tx,function(){return mc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Kn.transition,Kn.transition=null;var i=mt;mt=1;var l=Ze;Ze|=4,jT.current=null,kH(t,r),xB(r,t),eH(nS),nx=!!rS,nS=rS=null,t.current=r,TH(r),sW(),Ze=l,mt=i,Kn.transition=s}else t.current=r;if(Lh&&(Lh=!1,oo=t,xx=a),s=t.pendingLanes,s===0&&(xo=null),lW(r.stateNode),cn(t,Qt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(bx)throw bx=!1,t=NS,NS=null,t;return xx&1&&t.tag!==0&&mc(),s=t.pendingLanes,s&1?t===CS?Vd++:(Vd=0,CS=t):Vd=0,zo(),null}function mc(){if(oo!==null){var t=s4(xx),e=Kn.transition,r=mt;try{if(Kn.transition=null,mt=16>t?16:t,oo===null)var n=!1;else{if(t=oo,oo=null,xx=0,Ze&6)throw Error(fe(331));var a=Ze;for(Ze|=4,Ce=t.current;Ce!==null;){var s=Ce,i=s.child;if(Ce.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ce=u;Ce!==null;){var d=Ce;switch(d.tag){case 0:case 11:case 15:Bd(8,d,s)}var f=d.child;if(f!==null)f.return=d,Ce=f;else for(;Ce!==null;){d=Ce;var m=d.sibling,h=d.return;if(gB(d),d===u){Ce=null;break}if(m!==null){m.return=h,Ce=m;break}Ce=h}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var p=g.sibling;g.sibling=null,g=p}while(g!==null)}}Ce=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Ce=i;else e:for(;Ce!==null;){if(s=Ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bd(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Ce=b;break e}Ce=s.return}}var v=t.current;for(Ce=v;Ce!==null;){i=Ce;var j=i.child;if(i.subtreeFlags&2064&&j!==null)j.return=i,Ce=j;else e:for(i=v;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:r0(9,l)}}catch(x){zt(l,l.return,x)}if(l===i){Ce=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Ce=C;break e}Ce=l.return}}if(Ze=a,zo(),$a&&typeof $a.onPostCommitFiberRoot=="function")try{$a.onPostCommitFiberRoot(Yv,t)}catch{}n=!0}return n}finally{mt=r,Kn.transition=e}}return!1}function hP(t,e,r){e=Lc(r,e),e=sB(t,e,1),t=bo(t,e,1),e=Gr(),t!==null&&(Bm(t,1,e),cn(t,e))}function zt(t,e,r){if(t.tag===3)hP(t,t,r);else for(;e!==null;){if(e.tag===3){hP(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xo===null||!xo.has(n))){t=Lc(r,t),t=oB(e,t,1),e=bo(e,t,1),t=Gr(),e!==null&&(Bm(e,1,t),cn(e,t));break}}e=e.return}}function $H(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Gr(),t.pingedLanes|=t.suspendedLanes&r,xr===t&&(Ir&r)===r&&(dr===4||dr===3&&(Ir&130023424)===Ir&&500>Qt()-NT?Mi(t,0):wT|=r),cn(t,e)}function AB(t,e){e===0&&(t.mode&1?(e=kh,kh<<=1,!(kh&130023424)&&(kh=4194304)):e=1);var r=Gr();t=Is(t,e),t!==null&&(Bm(t,e,r),cn(t,r))}function RH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),AB(t,r)}function MH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(e),AB(t,r)}var IB;IB=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)rn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return rn=!1,CH(t,e,r);rn=!!(t.flags&131072)}else rn=!1,_t&&e.flags&1048576&&D4(e,ux,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;qp(t,e),t=e.pendingProps;var a=_c(e,Fr.current);fc(e,r),a=gT(null,e,n,t,a,r);var s=yT();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ln(n)?(s=!0,lx(e)):s=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,dT(e),a.updater=t0,e.stateNode=a,a._reactInternals=e,fS(e,n,t,r),e=pS(null,e,n,!0,s,r)):(e.tag=0,_t&&s&&aT(e),Ur(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(qp(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=FH(n),t=oa(n,t),a){case 0:e=hS(null,e,n,t,r);break e;case 1:e=aP(null,e,n,t,r);break e;case 11:e=rP(null,e,n,t,r);break e;case 14:e=nP(null,e,n,oa(n.type,t),r);break e}throw Error(fe(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:oa(n,a),hS(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:oa(n,a),aP(t,e,n,a,r);case 3:e:{if(uB(e),t===null)throw Error(fe(387));n=e.pendingProps,s=e.memoizedState,a=s.element,M4(t,e),mx(e,n,null,r);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){a=Lc(Error(fe(423)),e),e=sP(t,e,n,r,a);break e}else if(n!==a){a=Lc(Error(fe(424)),e),e=sP(t,e,n,r,a);break e}else for(wn=yo(e.stateNode.containerInfo.firstChild),Sn=e,_t=!0,la=null,r=$4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($c(),n===a){e=ks(t,e,r);break e}Ur(t,e,n,r)}e=e.child}return e;case 5:return L4(e),t===null&&cS(e),n=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,aS(n,a)?i=null:s!==null&&aS(n,s)&&(e.flags|=32),cB(t,e),Ur(t,e,i,r),e.child;case 6:return t===null&&cS(e),null;case 13:return dB(t,e,r);case 4:return fT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Rc(e,null,n,r):Ur(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:oa(n,a),rP(t,e,n,a,r);case 7:return Ur(t,e,e.pendingProps,r),e.child;case 8:return Ur(t,e,e.pendingProps.children,r),e.child;case 12:return Ur(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,s=e.memoizedProps,i=a.value,At(dx,n._currentValue),n._currentValue=i,s!==null)if(xa(s.value,i)){if(s.children===a.children&&!on.current){e=ks(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ys(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),uS(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(fe(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),uS(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Ur(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,fc(e,r),a=Xn(a),n=n(a),e.flags|=1,Ur(t,e,n,r),e.child;case 14:return n=e.type,a=oa(n,e.pendingProps),a=oa(n.type,a),nP(t,e,n,a,r);case 15:return iB(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:oa(n,a),qp(t,e),e.tag=1,ln(n)?(t=!0,lx(e)):t=!1,fc(e,r),aB(e,n,a),fS(e,n,a,r),pS(null,e,n,!0,t,r);case 19:return fB(t,e,r);case 22:return lB(t,e,r)}throw Error(fe(156,e.tag))};function kB(t,e){return t4(t,e)}function LH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,r,n){return new LH(t,e,r,n)}function IT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FH(t){if(typeof t=="function")return IT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hk)return 11;if(t===Gk)return 14}return 2}function jo(t,e){var r=t.alternate;return r===null?(r=Hn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function zp(t,e,r,n,a,s){var i=2;if(n=t,typeof t=="function")IT(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Hl:return Li(r.children,a,s,e);case Wk:i=8,a|=8;break;case RC:return t=Hn(12,r,e,a|2),t.elementType=RC,t.lanes=s,t;case MC:return t=Hn(13,r,e,a),t.elementType=MC,t.lanes=s,t;case LC:return t=Hn(19,r,e,a),t.elementType=LC,t.lanes=s,t;case L5:return a0(r,a,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R5:i=10;break e;case M5:i=9;break e;case Hk:i=11;break e;case Gk:i=14;break e;case Xs:i=16,n=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Hn(i,r,e,a),e.elementType=t,e.type=n,e.lanes=s,e}function Li(t,e,r,n){return t=Hn(7,t,n,e),t.lanes=r,t}function a0(t,e,r,n){return t=Hn(22,t,n,e),t.elementType=L5,t.lanes=r,t.stateNode={isHidden:!1},t}function bN(t,e,r){return t=Hn(6,t,null,e),t.lanes=r,t}function xN(t,e,r){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BH(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zw(0),this.expirationTimes=Zw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function kT(t,e,r,n,a,s,i,l,c){return t=new BH(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dT(s),t}function qH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function TB(t){if(!t)return _o;t=t._reactInternals;e:{if(xl(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var r=t.type;if(ln(r))return T4(t,r,e)}return e}function EB(t,e,r,n,a,s,i,l,c){return t=kT(r,n,!0,t,a,s,i,l,c),t.context=TB(null),r=t.current,n=Gr(),a=vo(r),s=ys(n,a),s.callback=e??null,bo(r,s,a),t.current.lanes=a,Bm(t,a,n),cn(t,n),t}function s0(t,e,r,n){var a=e.current,s=Gr(),i=vo(a);return r=TB(r),e.context===null?e.context=r:e.pendingContext=r,e=ys(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=bo(a,e,i),t!==null&&(ha(t,a,i,s),Lp(t,a,i)),i}function jx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function TT(t,e){pP(t,e),(t=t.alternate)&&pP(t,e)}function VH(){return null}var DB=typeof reportError=="function"?reportError:function(t){console.error(t)};function ET(t){this._internalRoot=t}o0.prototype.render=ET.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));s0(t,e,null,null)};o0.prototype.unmount=ET.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ol(function(){s0(null,t,null,null)}),e[As]=null}};function o0(t){this._internalRoot=t}o0.prototype.unstable_scheduleHydration=function(t){if(t){var e=l4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ro.length&&e!==0&&e<ro[r].priority;r++);ro.splice(r,0,t),r===0&&u4(t)}};function DT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function i0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gP(){}function UH(t,e,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=jx(i);s.call(u)}}var i=EB(e,n,t,0,null,!1,!1,"",gP);return t._reactRootContainer=i,t[As]=i.current,kf(t.nodeType===8?t.parentNode:t),ol(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=jx(c);l.call(u)}}var c=kT(t,0,!1,null,null,!1,!1,"",gP);return t._reactRootContainer=c,t[As]=c.current,kf(t.nodeType===8?t.parentNode:t),ol(function(){s0(e,c,r,n)}),c}function l0(t,e,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=jx(i);l.call(c)}}s0(e,i,t,a)}else i=UH(r,e,t,a,n);return jx(i)}o4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=vd(e.pendingLanes);r!==0&&(Jk(e,r|1),cn(e,Qt()),!(Ze&6)&&(Fc=Qt()+500,zo()))}break;case 13:ol(function(){var n=Is(t,1);if(n!==null){var a=Gr();ha(n,t,1,a)}}),TT(t,1)}};Xk=function(t){if(t.tag===13){var e=Is(t,134217728);if(e!==null){var r=Gr();ha(e,t,134217728,r)}TT(t,134217728)}};i4=function(t){if(t.tag===13){var e=vo(t),r=Is(t,e);if(r!==null){var n=Gr();ha(r,t,e,n)}TT(t,e)}};l4=function(){return mt};c4=function(t,e){var r=mt;try{return mt=t,e()}finally{mt=r}};YC=function(t,e,r){switch(e){case"input":if(qC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Qv(n);if(!a)throw Error(fe(90));B5(n),qC(n,a)}}}break;case"textarea":V5(t,r);break;case"select":e=r.value,e!=null&&lc(t,!!r.multiple,e,!1)}};K5=CT;J5=ol;var zH={usingClientEntryPoint:!1,Events:[Vm,Jl,Qv,G5,Y5,CT]},Gu={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WH={bundleType:Gu.bundleType,version:Gu.version,rendererPackageName:Gu.rendererPackageName,rendererConfig:Gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Z5(t),t===null?null:t.stateNode},findFiberByHostInstance:Gu.findFiberByHostInstance||VH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Yv=Fh.inject(WH),$a=Fh}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zH;_n.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DT(e))throw Error(fe(200));return qH(t,e,null,r)};_n.createRoot=function(t,e){if(!DT(t))throw Error(fe(299));var r=!1,n="",a=DB;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=kT(t,1,!1,null,null,r,!1,n,a),t[As]=e.current,kf(t.nodeType===8?t.parentNode:t),new ET(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=Z5(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return ol(t)};_n.hydrate=function(t,e,r){if(!i0(e))throw Error(fe(200));return l0(null,t,e,!0,r)};_n.hydrateRoot=function(t,e,r){if(!DT(t))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=DB;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=EB(e,null,t,1,r??null,a,!1,s,i),t[As]=e.current,kf(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new o0(e)};_n.render=function(t,e,r){if(!i0(e))throw Error(fe(200));return l0(null,t,e,!1,r)};_n.unmountComponentAtNode=function(t){if(!i0(t))throw Error(fe(40));return t._reactRootContainer?(ol(function(){l0(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1};_n.unstable_batchedUpdates=CT;_n.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!i0(r))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return l0(t,e,r,!1,n)};_n.version="18.3.1-next-f1338f8080-20240426";function PB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PB)}catch(t){console.error(t)}}PB(),P5.exports=_n;var c0=P5.exports,yP=c0;_C.createRoot=yP.createRoot,_C.hydrateRoot=yP.hydrateRoot;var OB={exports:{}},_B={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=w;function HH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var GH=typeof Object.is=="function"?Object.is:HH,YH=zm.useSyncExternalStore,KH=zm.useRef,JH=zm.useEffect,XH=zm.useMemo,QH=zm.useDebugValue;_B.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var s=KH(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=XH(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&i.hasValue){var y=i.value;if(a(y,h))return f=y}return f=h}if(y=f,GH(d,h))return y;var g=n(h);return a!==void 0&&a(y,g)?(d=h,y):(d=h,f=g)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,a]);var l=YH(t,s[0],s[1]);return JH(function(){i.hasValue=!0,i.value=l},[l]),QH(l),l};OB.exports=_B;var ZH=OB.exports;function eG(t){t()}function tG(){let t=null,e=null;return{clear(){t=null,e=null},notify(){eG(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var bP={notify(){},get:()=>[]};function rG(t,e){let r,n=bP,a=0,s=!1;function i(g){d();const p=n.subscribe(g);let b=!1;return()=>{b||(b=!0,p(),f())}}function l(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return s}function d(){a++,r||(r=t.subscribe(c),n=tG())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=bP)}function m(){s||(s=!0,d())}function h(){s&&(s=!1,f())}const y={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return y}var nG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aG=nG(),sG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",oG=sG(),iG=()=>aG||oG?w.useLayoutEffect:w.useEffect,lG=iG(),vN=Symbol.for("react-redux-context"),jN=typeof globalThis<"u"?globalThis:{};function cG(){if(!w.createContext)return{};const t=jN[vN]??(jN[vN]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var $o=cG();function uG(t){const{children:e,context:r,serverState:n,store:a}=t,s=w.useMemo(()=>{const c=rG(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=w.useMemo(()=>a.getState(),[a]);lG(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||$o;return w.createElement(l.Provider,{value:s},e)}var dG=uG;function PT(t=$o){return function(){return w.useContext(t)}}var $B=PT();function RB(t=$o){const e=t===$o?$B:PT(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var fG=RB();function mG(t=$o){const e=t===$o?fG:RB(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var ue=mG(),hG=(t,e)=>t===e;function pG(t=$o){const e=t===$o?$B:PT(t),r=(n,a={})=>{const{equalityFn:s=hG}=typeof a=="function"?{equalityFn:a}:a,i=e(),{store:l,subscription:c,getServerState:u}=i;w.useRef(!0);const d=w.useCallback({[n.name](m){return n(m)}}[n.name],[n]),f=ZH.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,s);return w.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var V=pG();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mf.apply(this,arguments)}var io;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(io||(io={}));const xP="popstate";function gG(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return IS("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:wx(a)}return bG(e,r,null,t)}function rr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yG(){return Math.random().toString(36).substr(2,8)}function vP(t,e){return{usr:t.state,key:t.key,idx:e}}function IS(t,e,r,n){return r===void 0&&(r=null),Mf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yu(e):e,{state:r,key:e&&e.key||n||yG()})}function wx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function bG(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=io.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Mf({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=io.Pop;let p=d(),b=p==null?null:p-u;u=p,c&&c({action:l,location:g.location,delta:b})}function m(p,b){l=io.Push;let v=IS(g.location,p,b);u=d()+1;let j=vP(v,u),C=g.createHref(v);try{i.pushState(j,"",C)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;a.location.assign(C)}s&&c&&c({action:l,location:g.location,delta:1})}function h(p,b){l=io.Replace;let v=IS(g.location,p,b);u=d();let j=vP(v,u),C=g.createHref(v);i.replaceState(j,"",C),s&&c&&c({action:l,location:g.location,delta:0})}function y(p){let b=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof p=="string"?p:wx(p);return v=v.replace(/ $/,"%20"),rr(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let g={get action(){return l},get location(){return t(a,i)},listen(p){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(xP,f),c=p,()=>{a.removeEventListener(xP,f),c=null}},createHref(p){return e(a,p)},createURL:y,encodeLocation(p){let b=y(p);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:h,go(p){return i.go(p)}};return g}var jP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jP||(jP={}));function xG(t,e,r){return r===void 0&&(r="/"),vG(t,e,r)}function vG(t,e,r,n){let a=typeof e=="string"?yu(e):e,s=OT(a.pathname||"/",r);if(s==null)return null;let i=LB(t);jG(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=OG(s);l=EG(i[c],u)}return l}function LB(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(rr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=wo([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(rr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),LB(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:kG(u,s.index),routesMeta:d})};return t.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of FB(s.path))a(s,i,c)}),e}function FB(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=FB(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function jG(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:TG(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const wG=/^:[\w-]+$/,NG=3,CG=2,SG=1,AG=10,IG=-2,wP=t=>t==="*";function kG(t,e){let r=t.split("/"),n=r.length;return r.some(wP)&&(n+=IG),e&&(n+=CG),r.filter(a=>!wP(a)).reduce((a,s)=>a+(wG.test(s)?NG:s===""?SG:AG),n)}function TG(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function EG(t,e,r){let{routesMeta:n}=t,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=DG({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:wo([s,f.pathname]),pathnameBase:MG(wo([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=wo([s,f.pathnameBase]))}return i}function DG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=PG(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let g=l[f]||"";i=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return h&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function PG(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),MB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function OG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function OT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function _G(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?yu(t):t;return{pathname:r?r.startsWith("/")?r:$G(r,e):e,search:LG(n),hash:FG(a)}}function $G(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function wN(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RG(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function _T(t,e){let r=RG(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function $T(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=yu(t):(a=Mf({},t),rr(!a.pathname||!a.pathname.includes("?"),wN("?","pathname","search",a)),rr(!a.pathname||!a.pathname.includes("#"),wN("#","pathname","hash",a)),rr(!a.search||!a.search.includes("#"),wN("#","search","hash",a)));let s=t===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=e.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=_G(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const wo=t=>t.join("/").replace(/\/\/+/g,"/"),MG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BB=["post","put","patch","delete"];new Set(BB);const qG=["get",...BB];new Set(qG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lf.apply(this,arguments)}const RT=w.createContext(null),VG=w.createContext(null),Wo=w.createContext(null),u0=w.createContext(null),Ls=w.createContext({outlet:null,matches:[],isDataRoute:!1}),qB=w.createContext(null);function UG(t,e){let{relative:r}=e===void 0?{}:e;bu()||rr(!1);let{basename:n,navigator:a}=w.useContext(Wo),{hash:s,pathname:i,search:l}=UB(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:wo([n,i])),a.createHref({pathname:c,search:l,hash:s})}function bu(){return w.useContext(u0)!=null}function Ho(){return bu()||rr(!1),w.useContext(u0).location}function VB(t){w.useContext(Wo).static||w.useLayoutEffect(t)}function Wm(){let{isDataRoute:t}=w.useContext(Ls);return t?aY():zG()}function zG(){bu()||rr(!1);let t=w.useContext(RT),{basename:e,future:r,navigator:n}=w.useContext(Wo),{matches:a}=w.useContext(Ls),{pathname:s}=Ho(),i=JSON.stringify(_T(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return VB(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=$T(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:wo([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}const WG=w.createContext(null);function HG(t){let e=w.useContext(Ls).outlet;return e&&w.createElement(WG.Provider,{value:t},e)}function UB(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(Wo),{matches:a}=w.useContext(Ls),{pathname:s}=Ho(),i=JSON.stringify(_T(a,n.v7_relativeSplatPath));return w.useMemo(()=>$T(t,JSON.parse(i),s,r==="path"),[t,i,s,r])}function GG(t,e){return YG(t,e)}function YG(t,e,r,n){bu()||rr(!1);let{navigator:a}=w.useContext(Wo),{matches:s}=w.useContext(Ls),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ho(),d;if(e){var f;let p=typeof e=="string"?yu(e):e;c==="/"||(f=p.pathname)!=null&&f.startsWith(c)||rr(!1),d=p}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let p=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(p.length).join("/")}let y=xG(t,{pathname:h}),g=ZG(y&&y.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:wo([c,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:wo([c,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,r,n);return e&&g?w.createElement(u0.Provider,{value:{location:Lf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:io.Pop}},g):g}function KG(){let t=nY(),e=BG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:a},r):null,null)}const JG=w.createElement(KG,null);class XG extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(Ls.Provider,{value:this.props.routeContext},w.createElement(qB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QG(t){let{routeContext:e,match:r,children:n}=t,a=w.useContext(RT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Ls.Provider,{value:e},n)}function ZG(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||rr(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,y=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let h,y=!1,g=null,p=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||JG,c&&(u<0&&m===0?(sY("route-fallback"),y=!0,p=null):u===m&&(y=!0,p=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,m+1)),v=()=>{let j;return h?j=g:y?j=p:f.route.Component?j=w.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,w.createElement(QG,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(XG,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var zB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zB||{}),WB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(WB||{});function eY(t){let e=w.useContext(RT);return e||rr(!1),e}function tY(t){let e=w.useContext(VG);return e||rr(!1),e}function rY(t){let e=w.useContext(Ls);return e||rr(!1),e}function HB(t){let e=rY(),r=e.matches[e.matches.length-1];return r.route.id||rr(!1),r.route.id}function nY(){var t;let e=w.useContext(qB),r=tY(),n=HB();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function aY(){let{router:t}=eY(zB.UseNavigateStable),e=HB(WB.UseNavigateStable),r=w.useRef(!1);return VB(()=>{r.current=!0}),w.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Lf({fromRouteId:e},s)))},[t,e])}const NP={};function sY(t,e,r){NP[t]||(NP[t]=!0)}function oY(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Yu(t){let{to:e,replace:r,state:n,relative:a}=t;bu()||rr(!1);let{future:s,static:i}=w.useContext(Wo),{matches:l}=w.useContext(Ls),{pathname:c}=Ho(),u=Wm(),d=$T(e,_T(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function GB(t){return HG(t.context)}function de(t){rr(!1)}function iY(t){let{basename:e="/",children:r=null,location:n,navigationType:a=io.Pop,navigator:s,static:i=!1,future:l}=t;bu()&&rr(!1);let c=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:s,static:i,future:Lf({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=yu(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:y="default"}=n,g=w.useMemo(()=>{let p=OT(d,c);return p==null?null:{location:{pathname:p,search:f,hash:m,state:h,key:y},navigationType:a}},[c,d,f,m,h,y,a]);return g==null?null:w.createElement(Wo.Provider,{value:u},w.createElement(u0.Provider,{children:r,value:g}))}function lY(t){let{children:e,location:r}=t;return GG(kS(e),r)}new Promise(()=>{});function kS(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,a)=>{if(!w.isValidElement(n))return;let s=[...e,a];if(n.type===w.Fragment){r.push.apply(r,kS(n.props.children,s));return}n.type!==de&&rr(!1),!n.props.index||!n.props.children||rr(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=kS(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TS.apply(this,arguments)}function cY(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function uY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dY(t,e){return t.button===0&&(!e||e==="_self")&&!uY(t)}const fY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mY="6";try{window.__reactRouterVersion=mY}catch{}const hY="startTransition",CP=xf[hY];function pY(t){let{basename:e,children:r,future:n,window:a}=t,s=w.useRef();s.current==null&&(s.current=gG({window:a,v5Compat:!0}));let i=s.current,[l,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&CP?CP(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.useEffect(()=>oY(n),[n]),w.createElement(iY,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const gY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hc=w.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=cY(e,fY),{basename:h}=w.useContext(Wo),y,g=!1;if(typeof u=="string"&&yY.test(u)&&(y=u,gY))try{let j=new URL(window.location.href),C=u.startsWith("//")?new URL(j.protocol+u):new URL(u),x=OT(C.pathname,h);C.origin===j.origin&&x!=null?u=x+C.search+C.hash:g=!0}catch{}let p=UG(u,{relative:a}),b=bY(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function v(j){n&&n(j),j.defaultPrevented||b(j)}return w.createElement("a",TS({},m,{href:y||p,onClick:g||s?n:v,ref:r,target:c}))});var SP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(SP||(SP={}));var AP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(AP||(AP={}));function bY(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=e===void 0?{}:e,c=Wm(),u=Ho(),d=UB(t,{relative:i});return w.useCallback(f=>{if(dY(f,r)){f.preventDefault();let m=n!==void 0?n:wx(u)===wx(d);c(t,{replace:m,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,t,s,i,l])}function wr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xY=typeof Symbol=="function"&&Symbol.observable||"@@observable",IP=xY,NN=()=>Math.random().toString(36).substring(7).split("").join("."),vY={INIT:`@@redux/INIT${NN()}`,REPLACE:`@@redux/REPLACE${NN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${NN()}`},Nx=vY;function MT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function YB(t,e,r){if(typeof t!="function")throw new Error(wr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(wr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(wr(1));return r(YB)(t,e)}let n=t,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((p,b)=>{i.set(b,p)}))}function d(){if(c)throw new Error(wr(3));return a}function f(p){if(typeof p!="function")throw new Error(wr(4));if(c)throw new Error(wr(5));let b=!0;u();const v=l++;return i.set(v,p),function(){if(b){if(c)throw new Error(wr(6));b=!1,u(),i.delete(v),s=null}}}function m(p){if(!MT(p))throw new Error(wr(7));if(typeof p.type>"u")throw new Error(wr(8));if(typeof p.type!="string")throw new Error(wr(17));if(c)throw new Error(wr(9));try{c=!0,a=n(a,p)}finally{c=!1}return(s=i).forEach(v=>{v()}),p}function h(p){if(typeof p!="function")throw new Error(wr(10));n=p,m({type:Nx.REPLACE})}function y(){const p=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(wr(11));function v(){const C=b;C.next&&C.next(d())}return v(),{unsubscribe:p(v)}},[IP](){return this}}}return m({type:Nx.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[IP]:y}}function jY(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Nx.INIT})>"u")throw new Error(wr(12));if(typeof r(void 0,{type:Nx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wr(13))})}function wY(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const i=e[s];typeof t[i]=="function"&&(r[i]=t[i])}const n=Object.keys(r);let a;try{jY(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=i[f],y=m(h,l);if(typeof y>"u")throw l&&l.type,new Error(wr(14));u[f]=y,c=c||y!==h}return c=c||n.length!==Object.keys(i).length,c?u:i}}function Cx(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function NY(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(wr(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(i));return s=Cx(...l)(a.dispatch),{...a,dispatch:s}}}function CY(t){return MT(t)&&"type"in t&&typeof t.type=="string"}var KB=Symbol.for("immer-nothing"),kP=Symbol.for("immer-draftable"),Tn=Symbol.for("immer-state");function ca(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bc=Object.getPrototypeOf;function il(t){return!!t&&!!t[Tn]}function Ts(t){var e;return t?JB(t)||Array.isArray(t)||!!t[kP]||!!((e=t.constructor)!=null&&e[kP])||f0(t)||m0(t):!1}var SY=Object.prototype.constructor.toString();function JB(t){if(!t||typeof t!="object")return!1;const e=Bc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===SY}function Sx(t,e){d0(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function d0(t){const e=t[Tn];return e?e.type_:Array.isArray(t)?1:f0(t)?2:m0(t)?3:0}function ES(t,e){return d0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function XB(t,e,r){const n=d0(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function AY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function f0(t){return t instanceof Map}function m0(t){return t instanceof Set}function pi(t){return t.copy_||t.base_}function DS(t,e){if(f0(t))return new Map(t);if(m0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=JB(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Tn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(Bc(t),n)}else{const n=Bc(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function LT(t,e=!1){return h0(t)||il(t)||!Ts(t)||(d0(t)>1&&(t.set=t.add=t.clear=t.delete=IY),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>LT(n,!0))),t}function IY(){ca(2)}function h0(t){return Object.isFrozen(t)}var kY={};function ll(t){const e=kY[t];return e||ca(0,t),e}var Ff;function QB(){return Ff}function TY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TP(t,e){e&&(ll("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function PS(t){OS(t),t.drafts_.forEach(EY),t.drafts_=null}function OS(t){t===Ff&&(Ff=t.parent_)}function EP(t){return Ff=TY(Ff,t)}function EY(t){const e=t[Tn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Tn].modified_&&(PS(e),ca(4)),Ts(t)&&(t=Ax(e,t),e.parent_||Ix(e,t)),e.patches_&&ll("Patches").generateReplacementPatches_(r[Tn].base_,t,e.patches_,e.inversePatches_)):t=Ax(e,r,[]),PS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==KB?t:void 0}function Ax(t,e,r){if(h0(e))return e;const n=e[Tn];if(!n)return Sx(e,(a,s)=>PP(t,n,e,a,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Ix(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),Sx(s,(l,c)=>PP(t,n,a,l,c,r,i)),Ix(t,a,!1),r&&t.patches_&&ll("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function PP(t,e,r,n,a,s,i){if(il(a)){const l=s&&e&&e.type_!==3&&!ES(e.assigned_,n)?s.concat(n):void 0,c=Ax(t,a,l);if(XB(r,n,c),il(c))t.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Ts(a)&&!h0(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Ax(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ix(t,a)}}function Ix(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&LT(e,r)}function DY(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:QB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=FT;r&&(a=[n],s=Bf);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var FT={get(t,e){if(e===Tn)return t;const r=pi(t);if(!ES(r,e))return PY(t,r,e);const n=r[e];return t.finalized_||!Ts(n)?n:n===CN(t.base_,e)?(SN(t),t.copy_[e]=$S(n,t)):n},has(t,e){return e in pi(t)},ownKeys(t){return Reflect.ownKeys(pi(t))},set(t,e,r){const n=ZB(pi(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=CN(pi(t),e),s=a==null?void 0:a[Tn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(AY(r,a)&&(r!==void 0||ES(t.base_,e)))return!0;SN(t),_S(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return CN(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,SN(t),_S(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=pi(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){ca(11)},getPrototypeOf(t){return Bc(t.base_)},setPrototypeOf(){ca(12)}},Bf={};Sx(FT,(t,e)=>{Bf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Bf.deleteProperty=function(t,e){return Bf.set.call(this,t,e,void 0)};Bf.set=function(t,e,r){return FT.set.call(this,t[0],e,r,t[0])};function CN(t,e){const r=t[Tn];return(r?pi(r):t)[e]}function PY(t,e,r){var a;const n=ZB(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function ZB(t,e){if(!(e in t))return;let r=Bc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Bc(r)}}function _S(t){t.modified_||(t.modified_=!0,t.parent_&&_S(t.parent_))}function SN(t){t.copy_||(t.copy_=DS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var OY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&ca(6),n!==void 0&&typeof n!="function"&&ca(7);let a;if(Ts(e)){const s=EP(this),i=$S(e,void 0);let l=!0;try{a=r(i),l=!1}finally{l?PS(s):OS(s)}return TP(s,n),DP(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===KB&&(a=void 0),this.autoFreeze_&&LT(a,!0),n){const s=[],i=[];ll("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else ca(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,r,(i,l)=>{n=i,a=l}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ts(t)||ca(8),il(t)&&(t=_Y(t));const e=EP(this),r=$S(t,void 0);return r[Tn].isManual_=!0,OS(e),r}finishDraft(t,e){const r=t&&t[Tn];(!r||!r.isManual_)&&ca(9);const{scope_:n}=r;return TP(n,e),DP(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=ll("Patches").applyPatches_;return il(t)?n(t,e):this.produce(t,a=>n(a,e))}};function $S(t,e){const r=f0(t)?ll("MapSet").proxyMap_(t,e):m0(t)?ll("MapSet").proxySet_(t,e):DY(t,e);return(e?e.scope_:QB()).drafts_.push(r),r}function _Y(t){return il(t)||ca(10,t),e3(t)}function e3(t){if(!Ts(t)||h0(t))return t;const e=t[Tn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=DS(t,e.scope_.immer_.useStrictShallowCopy_)}else r=DS(t,!0);return Sx(r,(n,a)=>{XB(r,n,e3(a))}),e&&(e.finalized_=!1),r}var En=new OY,t3=En.produce;En.produceWithPatches.bind(En);En.setAutoFreeze.bind(En);En.setUseStrictShallowCopy.bind(En);En.applyPatches.bind(En);En.createDraft.bind(En);En.finishDraft.bind(En);function r3(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var $Y=r3(),RY=r3,MY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cx:Cx.apply(null,arguments)},LY=t=>t&&typeof t.match=="function";function Ud(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(bs(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>CY(n)&&n.type===t,r}var n3=class wd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,wd.prototype)}static get[Symbol.species](){return wd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new wd(...e[0].concat(this)):new wd(...e.concat(this))}};function OP(t){return Ts(t)?t3(t,()=>{}):t}function Bh(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function FY(t){return typeof t=="boolean"}var BY=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new n3;return r&&(FY(r)?i.push($Y):i.push(RY(r.extraArgument))),i},qY="RTK_autoBatch",_P=t=>e=>{setTimeout(e,t)},VY=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,i=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_P(10):t.type==="callback"?t.queueNotification:_P(t.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[qY]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},UY=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new n3(t);return n&&a.push(VY(typeof n=="object"?n:void 0)),a};function zY(t){const e=BY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(MT(r))l=wY(r);else throw new Error(bs(1));let c;typeof n=="function"?c=n(e):c=e();let u=Cx;a&&(u=MY({trace:!1,...typeof a=="object"&&a}));const d=NY(...c),f=UY(d);let m=typeof i=="function"?i(f):f();const h=u(...m);return YB(l,s,h)}function a3(t){const e={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(bs(28));if(l in e)throw new Error(bs(29));return e[l]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function WY(t){return typeof t=="function"}function HY(t,e){let[r,n,a]=a3(e),s;if(WY(t))s=()=>OP(t());else{const l=OP(t);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(il(d)){const h=f(d,c);return h===void 0?d:h}else{if(Ts(d))return t3(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=s,i}var GY=(t,e)=>LY(t)?t.match(e):t(e);function YY(...t){return e=>t.some(r=>GY(r,e))}var KY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",JY=(t=21)=>{let e="",r=t;for(;r--;)e+=KY[Math.random()*64|0];return e},XY=["name","message","stack","code"],AN=class{constructor(t,e){pe(this,"_type");this.payload=t,this.meta=e}},$P=class{constructor(t,e){pe(this,"_type");this.payload=t,this.meta=e}},QY=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of XY)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},RP="External signal was aborted",B=(()=>{function t(e,r,n){const a=Ud(e+"/fulfilled",(c,u,d,f)=>({payload:c,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=Ud(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),i=Ud(e+"/rejected",(c,u,d,f,m)=>({payload:f,error:(n&&n.serializeError||QY)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,f,m)=>{const h=n!=null&&n.idGenerator?n.idGenerator(c):JY(),y=new AbortController;let g,p;function b(j){p=j,y.abort()}u&&(u.aborted?b(RP):u.addEventListener("abort",()=>b(RP),{once:!0}));const v=async function(){var x,N;let j;try{let S=(x=n==null?void 0:n.condition)==null?void 0:x.call(n,c,{getState:f,extra:m});if(eK(S)&&(S=await S),S===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((I,E)=>{g=()=>{E({name:"AbortError",message:p||"Aborted"})},y.signal.addEventListener("abort",g)});d(s(h,c,(N=n==null?void 0:n.getPendingMeta)==null?void 0:N.call(n,{requestId:h,arg:c},{getState:f,extra:m}))),j=await Promise.race([A,Promise.resolve(r(c,{dispatch:d,getState:f,extra:m,requestId:h,signal:y.signal,abort:b,rejectWithValue:(I,E)=>new AN(I,E),fulfillWithValue:(I,E)=>new $P(I,E)})).then(I=>{if(I instanceof AN)throw I;return I instanceof $P?a(I.payload,h,c,I.meta):a(I,h,c)})])}catch(S){j=S instanceof AN?i(null,h,c,S.payload,S.meta):i(S,h,c)}finally{g&&y.signal.removeEventListener("abort",g)}return n&&!n.dispatchConditionRejection&&i.match(j)&&j.meta.condition||d(j),j}();return Object.assign(v,{abort:b,requestId:h,arg:c,unwrap(){return v.then(ZY)}})}}return Object.assign(l,{pending:s,rejected:i,fulfilled:a,settled:YY(i,a),typePrefix:e})}return t.withTypes=()=>t,t})();function ZY(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function eK(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var tK=Symbol.for("rtk-slice-createasyncthunk");function rK(t,e){return`${t}/${e}`}function nK({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[tK];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(bs(11));const l=(typeof a.reducers=="function"?a.reducers(sK()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(C,x){const N=typeof C=="string"?C:C.type;if(!N)throw new Error(bs(12));if(N in u.sliceCaseReducersByType)throw new Error(bs(13));return u.sliceCaseReducersByType[N]=x,d},addMatcher(C,x){return u.sliceMatchers.push({matcher:C,reducer:x}),d},exposeAction(C,x){return u.actionCreators[C]=x,d},exposeCaseReducer(C,x){return u.sliceCaseReducersByName[C]=x,d}};c.forEach(C=>{const x=l[C],N={reducerName:C,type:rK(s,C),createNotation:typeof a.reducers=="function"};iK(x)?cK(N,x,d,e):oK(N,x,d)});function f(){const[C={},x=[],N=void 0]=typeof a.extraReducers=="function"?a3(a.extraReducers):[a.extraReducers],S={...C,...u.sliceCaseReducersByType};return HY(a.initialState,A=>{for(let I in S)A.addCase(I,S[I]);for(let I of u.sliceMatchers)A.addMatcher(I.matcher,I.reducer);for(let I of x)A.addMatcher(I.matcher,I.reducer);N&&A.addDefaultCase(N)})}const m=C=>C,h=new Map,y=new WeakMap;let g;function p(C,x){return g||(g=f()),g(C,x)}function b(){return g||(g=f()),g.getInitialState()}function v(C,x=!1){function N(A){let I=A[C];return typeof I>"u"&&x&&(I=Bh(y,N,b)),I}function S(A=m){const I=Bh(h,x,()=>new WeakMap);return Bh(I,A,()=>{const E={};for(const[k,P]of Object.entries(a.selectors??{}))E[k]=aK(P,A,()=>Bh(y,A,b),x);return E})}return{reducerPath:C,getSelectors:S,get selectors(){return S(N)},selectSlice:N}}const j={name:s,reducer:p,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...v(i),injectInto(C,{reducerPath:x,...N}={}){const S=x??i;return C.inject({reducerPath:S,reducer:p},N),{...j,...v(S,!0)}}};return j}}function aK(t,e,r,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=r()),t(l,...i)}return a.unwrapped=t,a}var ve=nK();function sK(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function oK({type:t,reducerName:e,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!lK(n))throw new Error(bs(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,i?Ud(t,i):Ud(t))}function iK(t){return t._reducerDefinitionType==="asyncThunk"}function lK(t){return t._reducerDefinitionType==="reducerWithPrepare"}function cK({type:t,reducerName:e},r,n,a){if(!a)throw new Error(bs(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(t,s,d);n.exposeAction(e,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:i||qh,pending:l||qh,rejected:c||qh,settled:u||qh})}function qh(){}function bs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const uK="https://staging-engine.testthelink.online",dK=async(t,e)=>{var r,n;try{const a=await fetch(`${uK}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,password:e})}),s=await a.json();if(!a.ok||!s.token)throw new Error(s.message||((r=s.errors)==null?void 0:r.general)||"Login failed");if(((n=s.user.accessList)==null?void 0:n.length)>0){const i=s.user.accessList.length>=2?s.user.accessList[1]:s.user.accessList[0];localStorage.setItem("selectedRole",JSON.stringify(i))}return localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),s.user}catch(a){throw new Error(a.message)}},fK=async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("selectedRole"),null),mK=async t=>new Promise((e,r)=>{setTimeout(()=>{if(t){const n=localStorage.getItem("user");n?e(JSON.parse(n)):r(new Error("User not found"))}else r(new Error("Invalid token"))},500)}),hK=async(t,e)=>new Promise((r,n)=>{setTimeout(()=>{t==="password"?r({success:!0,message:"Password changed successfully"}):n(new Error("Current password is incorrect"))},800)}),p0={login:dK,logout:fK,fetchUserProfile:mK,changePassword:hK},pK={user:null,isAuthenticated:!1,isLoading:!1,error:null,selectedRole:null},Wp=B("auth/login",async({username:t,password:e},r)=>{try{return await p0.login(t,e)}catch(n){return r.rejectWithValue(n.message)}}),s3=B("auth/logout",async(t,e)=>{try{return await p0.logout(),null}catch(r){return e.rejectWithValue(r.message)}}),IN=B("auth/changePassword",async({currentPassword:t,newPassword:e},r)=>{try{return await p0.changePassword(t,e)}catch(n){return r.rejectWithValue(n.message)}}),Hp=B("auth/fetchUserProfile",async(t,e)=>{try{return await p0.fetchUserProfile(t)}catch(r){return e.rejectWithValue(r.message)}}),o3=B("auth/updateSelectedRole",async(t,e)=>{try{return localStorage.setItem("selectedRole",JSON.stringify(t)),t}catch(r){return e.rejectWithValue(r.message)}}),i3=ve({name:"auth",initialState:pK,reducers:{resetAuthState:t=>{t.error=null}},extraReducers:t=>{t.addCase(Wp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wp.fulfilled,(e,r)=>{var n;if(e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload,((n=r.payload.accessList)==null?void 0:n.length)>0){const a=r.payload.accessList.length>=2?r.payload.accessList[1]:r.payload.accessList[0];e.selectedRole=a,localStorage.setItem("selectedRole",JSON.stringify(a))}}).addCase(Wp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(s3.fulfilled,e=>{e.user=null,e.isAuthenticated=!1,e.selectedRole=null}).addCase(Hp.pending,e=>{e.isLoading=!0}).addCase(Hp.fulfilled,(e,r)=>{var a;e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload;const n=localStorage.getItem("selectedRole");if(n)e.selectedRole=JSON.parse(n);else if(((a=r.payload.accessList)==null?void 0:a.length)>0){const s=r.payload.accessList.length>=2?r.payload.accessList[1]:r.payload.accessList[0];e.selectedRole=s}}).addCase(Hp.rejected,e=>{e.isLoading=!1,e.isAuthenticated=!1}).addCase(IN.pending,e=>{e.isLoading=!0}).addCase(IN.fulfilled,e=>{e.isLoading=!1}).addCase(IN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(o3.fulfilled,(e,r)=>{e.selectedRole=r.payload})}}),{resetAuthState:p8e}=i3.actions,gK=i3.reducer;let yK={data:""},bK=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||yK,xK=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vK=/\/\*[^]*?\*\/|  +/g,MP=/\n+/g,ao=(t,e)=>{let r="",n="",a="";for(let s in t){let i=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+i+";":n+=s[1]=="f"?ao(i,s):s+"{"+ao(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=ao(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ao.p?ao.p(s,i):s+":"+i+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Xa={},l3=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+l3(t[r]);return e}return t},jK=(t,e,r,n,a)=>{let s=l3(t),i=Xa[s]||(Xa[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Xa[i]){let c=s!==t?t:(u=>{let d,f,m=[{}];for(;d=xK.exec(u.replace(vK,""));)d[4]?m.shift():d[3]?(f=d[3].replace(MP," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(MP," ").trim();return m[0]})(t);Xa[i]=ao(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Xa.g?Xa.g:null;return r&&(Xa.g=Xa[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Xa[i],e,n,l),i},wK=(t,e,r)=>t.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":ao(l,""):l===!1?"":l}return n+a+(i??"")},"");function g0(t){let e=this||{},r=t.call?t(e.p):t;return jK(r.unshift?r.raw?wK(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,bK(e.target),e.g,e.o,e.k)}let c3,RS,MS;g0.bind({g:1});let Es=g0.bind({k:1});function NK(t,e,r,n){ao.p=e,c3=t,RS=r,MS=n}function Go(t,e){let r=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:RS&&RS()},l),r.o=/ *go\d+/.test(c),l.className=g0.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),MS&&u[0]&&MS(l),c3(u,l)}return a}}var CK=t=>typeof t=="function",kx=(t,e)=>CK(t)?t(e):t,SK=(()=>{let t=0;return()=>(++t).toString()})(),u3=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),AK=20,d3=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,AK)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return d3(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},Gp=[],Ai={toasts:[],pausedAt:void 0},vl=t=>{Ai=d3(Ai,t),Gp.forEach(e=>{e(Ai)})},IK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},kK=(t={})=>{let[e,r]=w.useState(Ai),n=w.useRef(Ai);w.useEffect(()=>(n.current!==Ai&&r(Ai),Gp.push(r),()=>{let s=Gp.indexOf(r);s>-1&&Gp.splice(s,1)}),[]);let a=e.toasts.map(s=>{var i,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||IK[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:a}},TK=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||SK()}),Hm=t=>(e,r)=>{let n=TK(e,t,r);return vl({type:2,toast:n}),n.id},ie=(t,e)=>Hm("blank")(t,e);ie.error=Hm("error");ie.success=Hm("success");ie.loading=Hm("loading");ie.custom=Hm("custom");ie.dismiss=t=>{vl({type:3,toastId:t})};ie.remove=t=>vl({type:4,toastId:t});ie.promise=(t,e,r)=>{let n=ie.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let s=e.success?kx(e.success,a):void 0;return s?ie.success(s,{id:n,...r,...r==null?void 0:r.success}):ie.dismiss(n),a}).catch(a=>{let s=e.error?kx(e.error,a):void 0;s?ie.error(s,{id:n,...r,...r==null?void 0:r.error}):ie.dismiss(n)}),t};var EK=(t,e)=>{vl({type:1,toast:{id:t,height:e}})},DK=()=>{vl({type:5,time:Date.now()})},zd=new Map,PK=1e3,OK=(t,e=PK)=>{if(zd.has(t))return;let r=setTimeout(()=>{zd.delete(t),vl({type:4,toastId:t})},e);zd.set(t,r)},_K=t=>{let{toasts:e,pausedAt:r}=kK(t);w.useEffect(()=>{if(r)return;let s=Date.now(),i=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&ie.dismiss(l.id);return}return setTimeout(()=>ie.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=w.useCallback(()=>{r&&vl({type:6,time:Date.now()})},[r]),a=w.useCallback((s,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},d=e.filter(h=>(h.position||u)===(s.position||u)&&h.height),f=d.findIndex(h=>h.id===s.id),m=d.filter((h,y)=>y<f&&h.visible).length;return d.filter(h=>h.visible).slice(...l?[m+1]:[0,m]).reduce((h,y)=>h+(y.height||0)+c,0)},[e]);return w.useEffect(()=>{e.forEach(s=>{if(s.dismissed)OK(s.id,s.removeDelay);else{let i=zd.get(s.id);i&&(clearTimeout(i),zd.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:EK,startPause:DK,endPause:n,calculateOffset:a}}},$K=Es`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,RK=Es`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MK=Es`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,LK=Go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$K} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${RK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${MK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,FK=Es`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,BK=Go("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${FK} 1s linear infinite;
`,qK=Es`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,VK=Es`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,UK=Go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${VK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zK=Go("div")`
  position: absolute;
`,WK=Go("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,HK=Es`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,GK=Go("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${HK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,YK=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?w.createElement(GK,null,e):e:r==="blank"?null:w.createElement(WK,null,w.createElement(BK,{...n}),r!=="loading"&&w.createElement(zK,null,r==="error"?w.createElement(LK,{...n}):w.createElement(UK,{...n})))},KK=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,JK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,XK="0%{opacity:0;} 100%{opacity:1;}",QK="0%{opacity:1;} 100%{opacity:0;}",ZK=Go("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eJ=Go("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tJ=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=u3()?[XK,QK]:[KK(r),JK(r)];return{animation:e?`${Es(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Es(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rJ=w.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?tJ(t.position||e||"top-center",t.visible):{opacity:0},s=w.createElement(YK,{toast:t}),i=w.createElement(eJ,{...t.ariaProps},kx(t.message,t));return w.createElement(ZK,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:s,message:i}):w.createElement(w.Fragment,null,s,i))});NK(w.createElement);var nJ=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let s=w.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return w.createElement("div",{ref:s,className:e,style:r},a)},aJ=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:u3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},sJ=g0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vh=16,oJ=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:s,containerClassName:i})=>{let{toasts:l,handlers:c}=_K(r);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Vh,left:Vh,right:Vh,bottom:Vh,pointerEvents:"none",...s},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),m=aJ(d,f);return w.createElement(nJ,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?sJ:"",style:m},u.type==="custom"?kx(u.message,u):a?a(u):w.createElement(rJ,{toast:u,position:d}))}))},q=ie;function f3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=f3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $e(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=f3(t))&&(n&&(n+=" "),n+=e);return n}function iJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const m3=w.forwardRef(iJ);function lJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const va=w.forwardRef(lJ);function cJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const h3=w.forwardRef(cJ);function uJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const dJ=w.forwardRef(uJ);function fJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const mJ=w.forwardRef(fJ);function hJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const pJ=w.forwardRef(hJ);function gJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const BT=w.forwardRef(gJ);function yJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const LS=w.forwardRef(yJ);function bJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const p3=w.forwardRef(bJ);function xJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const LP=w.forwardRef(xJ);function vJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const g3=w.forwardRef(vJ);function jJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const wJ=w.forwardRef(jJ);function NJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const CJ=w.forwardRef(NJ);function SJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const y3=w.forwardRef(SJ);function AJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const IJ=w.forwardRef(AJ);function kJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const TJ=w.forwardRef(kJ);function EJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Gm=w.forwardRef(EJ);function DJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const PJ=w.forwardRef(DJ);function OJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const _J=w.forwardRef(OJ);function $J({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const RJ=w.forwardRef($J);function MJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ie=w.forwardRef(MJ);function LJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ke=w.forwardRef(LJ);function FJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const cl=w.forwardRef(FJ);function BJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const qJ=w.forwardRef(BJ);function VJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Fe=w.forwardRef(VJ);function UJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const zJ=w.forwardRef(UJ);function WJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const b3=w.forwardRef(WJ);function HJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const x3=w.forwardRef(HJ),GJ=[{name:"Dashboard",href:"/dashboard",icon:_J},{name:"Settings",icon:g3,submenu:[{name:"Departments",href:"/settings/departments",moduleId:39},{name:"Subdepartments",href:"/settings/subdepartments",moduleId:76},{name:"Users",submenu:[{name:"Approval Matrix",href:"/settings/approval-matrix",moduleId:17},{name:"User Access",href:"/settings/user-access",moduleId:83},{name:"User Roles",href:"/settings/user-roles",moduleId:84},{name:"User",href:"/settings/users",moduleId:82}]},{name:"Locations",href:"/settings/locations"},{name:"Accounting Settings",submenu:[{name:"Bank Details",submenu:[{name:"Bank",href:"/settings/bank",moduleId:18},{name:"Currency",href:"/settings/currency",moduleId:37}]},{name:"Document Details",submenu:[{name:"Document Type",href:"/settings/document-details",moduleId:41},{name:"Document Type Category",href:"/settings/document-type-categories",moduleId:42}]},{name:"Items Settings",submenu:[{name:"Item List",href:"/settings/items",moduleId:55},{name:"Item Units",href:"/settings/items/units",moduleId:56}]},{name:"Project Settings",submenu:[{name:"Project Details",href:"/settings/project-details",moduleId:65},{name:"Project Type",href:"/settings/project-type",moduleId:87}]},{name:"Financial Statement",href:"/settings/financial-statement",moduleId:44},{name:"Fiscal Year",href:"/settings/fiscal-year",moduleId:45},{name:"Tax Code",href:"/settings/tax-code",moduleId:78},{name:"Mode of Payment",href:"/settings/mode-of-payment",moduleId:60},{name:"Payment Terms",href:"/settings/payment-terms",moduleId:63},{name:"Industry",href:"/settings/industry",moduleId:53}]},{name:"Real Property",submenu:[{name:"Tax Declaration",href:"/settings/tax-declaration",moduleId:79},{name:"Base Unit Value",href:"/settings/base-unit-value",moduleId:20},{name:"General Revision",href:"/settings/general-revision",moduleId:51}]},{name:"LGU Maintenance",href:"/settings/lgu-maintenance",moduleId:58},{name:"Chart of Accounts Settings",submenu:[{name:"Chart of Accounts",href:"/settings/chart-of-accounts",moduleId:31},{name:"Account Group",href:"/settings/account-group",moduleId:88},{name:"Major Account Group",href:"/settings/major-account-group",moduleId:89},{name:"Sub Major Account Group",href:"/settings/sub-major-account-group",moduleId:90}]},{name:"Vendors",submenu:[{name:"Vendor Details",href:"/settings/vendors",moduleId:86},{name:"Vendor Customer Type",href:"/settings/vendor-customer-type",moduleId:91},{name:"Vendor Type",href:"/settings/vendor-type",moduleId:92}]},{name:"Employee",submenu:[{name:"Employee Details",href:"/settings/employees",moduleId:43},{name:"Employment Status",href:"/settings/employmentStatus",moduleId:93},{name:"Positions",href:"/settings/positions",moduleId:36},{name:"Nationalities",href:"/settings/nationalities",moduleId:94}]},{name:"Individual/Citizen",href:"/settings/customer",moduleId:38},{name:"PPE Settings",submenu:[{name:"PPE List",href:"/settings/ppe",moduleId:64},{name:"PPE Categories",href:"/settings/ppe-categories",moduleId:95},{name:"PPE Suppliers",href:"/settings/ppe-suppliers",moduleId:96}]}]},{name:"Disbursement",icon:wJ,submenu:[{name:"Obligation Request",href:"/disbursement/obligation-requests",moduleId:62},{name:"Disbursement Voucher",href:"/disbursement/vouchers",moduleId:40},{name:"Travel Order",href:"/disbursement/travel-orders",moduleId:80},{name:"Journal Entry Voucher",href:"/disbursement/journal-entry-vouchers",moduleId:57},{name:"Disbursement Journals",href:"/disbursement/disbursement-journals",moduleId:32},{name:"General Journals",href:"/disbursement/general-journals",moduleId:49},{name:"Beginning Balance",href:"/disbursement/beginning-balance",moduleId:21},{name:"Purchase Request",href:"/disbursement/purchase-requests",moduleId:69},{name:"Fund Utilization Requests and Status",href:"/disbursement/fund-utilization-requests",moduleId:47}]},{name:"Collections",icon:qJ,submenu:[{name:"Community Tax",href:"/collections/community-tax",moduleId:34},{name:"Community Tax Corporation",href:"/collections/community-tax-corporation",moduleId:35},{name:"General Service Receipt",href:"/collections/general-service-receipts",moduleId:52},{name:"Burial Service Receipt",href:"/collections/burial-service-receipts",moduleId:28},{name:"Marriage Service Receipt",href:"/collections/marriage-service-receipts",moduleId:59},{name:"Real Property Tax",href:"/collections/real-property-tax",moduleId:70},{name:"Cashbook",href:"/collections/cashbook",moduleId:30},{name:"Collection Report",href:"/collections/reports"},{name:"Public Market Ticket",href:"/collections/public-market-tickets",moduleId:68}]},{name:"Applications",icon:y3,submenu:[{name:"Business Permits",href:"/applications/business-permits",moduleId:29},{name:"Cheque Generator",href:"/applications/cheque-generator",moduleId:33}]},{name:"Budget",icon:CJ,submenu:[{name:"Budget Details",href:"/budget/details",moduleId:22},{name:"Budget Allotment",href:"/budget/allotment",moduleId:23},{name:"Budget Summary",href:"/budget/summary",moduleId:25},{name:"Budget Supplemental",href:"/budget/supplemental",moduleId:26},{name:"Budget Transfer",href:"/budget/transfer",moduleId:27},{name:"Budget Report",href:"/budget/report",moduleId:24},{name:"Funds",href:"/budget/funds",moduleId:48},{name:"Sub-funds",href:"/budget/sub-funds",moduleId:97},{name:"Fund Transfer",href:"/budget/fund-transfer",moduleId:46},{name:"Statement of Comparison",href:"/budget/statement-comparison",moduleId:73},{name:"Statement of Appropriation, Allotment, Obligation, Balances",href:"/budget/statement-appropriation",moduleId:72}]},{name:"Reports",icon:LS,submenu:[{name:"General Ledger",href:"/reports/general-ledger",moduleId:50},{name:"Subsidiary Ledger",href:"/reports/subsidiary-ledger",moduleId:77},{name:"Trial Balance",href:"/reports/trial-balance",moduleId:81},{name:"Financial Statements",href:"/reports/financial-statements"}]},{name:"BIR Reports",href:"/reports/bir",icon:LS,moduleId:16}];function v3({items:t,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s=0,parentPath:i="",hasViewPermission:l}){return o.jsx("div",{className:$e("space-y-1",s>0&&"ml-4 border-l-2 border-neutral-200 pl-3"),children:t.map(c=>{const u=i?`${i}.${c.name}`:c.name,d=e[u],f=a(c.submenu||[]);return l(c.moduleId)?o.jsx("div",{className:"relative",children:c.submenu?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:m=>{m.preventDefault(),r(u)},className:$e("group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",f?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100",d&&"border-l-4 border-primary-500",s>0&&"pl-2"),children:[o.jsxs("div",{className:"flex items-center",children:[c.icon&&o.jsx(c.icon,{className:$e("mr-3 h-5 w-5 flex-shrink-0",f?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:c.name})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("svg",{className:$e("h-5 w-5 transform transition-transform flex-shrink-0",d?"rotate-180 text-primary-500":"text-neutral-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),d&&o.jsxs("div",{className:"mt-1",children:[" ",o.jsx(v3,{items:c.submenu,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s+1,parentPath:u,hasViewPermission:l})]})]}):o.jsxs(hc,{to:c.href,className:$e("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n(c.href)?"bg-primary-50 text-primary-700 border-l-4 border-primary-500":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900",s>0&&"pl-2"),children:[c.icon&&o.jsx(c.icon,{className:$e("mr-3 h-5 w-5 flex-shrink-0",n(c.href)?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:c.name})]})},u):null})})}function YJ(){var f,m;const t=Ho(),{user:e,selectedRole:r}=V(h=>h.auth),[n,a]=w.useState({}),s=h=>{a(y=>({...y,[h]:!y[h]}))},i=h=>t.pathname===h||t.pathname===h+"/",l=h=>h.some(y=>y.href?t.pathname===y.href:y.children&&l(y.children)),c=(r==null?void 0:r.Description)==="Administrator";function u(h){if(c||!h)return!0;if(!(r!=null&&r.ModuleAccesses))return!1;const y=r.ModuleAccesses.find(g=>g.ModuleID===h);return y==null?void 0:y.View}const d=GJ.map(h=>{if(h.submenu){const y=h.submenu.filter(g=>g.submenu?g.submenu.filter(b=>u(b.moduleId)).length>0:u(g.moduleId));return y.length>0?{...h,submenu:y}:null}return u(h.moduleId)?h:null}).filter(Boolean);return o.jsxs("div",{className:"h-full flex flex-col border-r border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex items-center justify-center h-16 border-b border-neutral-200 bg-primary-800",children:o.jsx("h1",{className:"text-white text-xl font-bold px-4",children:"LGU System"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:o.jsx("nav",{className:"space-y-1 px-2",children:o.jsx(v3,{items:d,expandedMenus:n,toggleMenu:s,isActive:i,isSubMenuActive:l,hasViewPermission:u})})}),e&&o.jsxs("div",{className:"flex items-center px-4 py-3 border-t border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white font-medium text-sm",children:[((f=e.firstName)==null?void 0:f.charAt(0))||"",((m=e.lastName)==null?void 0:m.charAt(0))||""]})}),o.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-700 truncate",children:e.UserName||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500 truncate",children:e.department})]})]})]})}function _l(t,e,r){let n=r.initialDeps??[],a;function s(){var i,l,c,u;let d;r.key&&((i=r.debug)!=null&&i.call(r))&&(d=Date.now());const f=t();if(!(f.length!==n.length||f.some((y,g)=>n[g]!==y)))return a;n=f;let h;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(h=Date.now()),a=e(...f),r.key&&((c=r.debug)!=null&&c.call(r))){const y=Math.round((Date.now()-d)*100)/100,g=Math.round((Date.now()-h)*100)/100,p=g/16,b=(v,j)=>{for(v=String(v);v.length<j;)v=" "+v;return v};console.info(`%c ${b(g,5)} /${b(y,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,a),a}return s.updateDeps=i=>{n=i},s}function FP(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const KJ=(t,e)=>Math.abs(t-e)<1.01,JJ=(t,e,r)=>{let n;return function(...a){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,a),r)}},BP=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},XJ=t=>t,QJ=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let a=e;a<=r;a++)n.push(a);return n},ZJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const a=i=>{const{width:l,height:c}=i;e({width:Math.round(l),height:Math.round(c)})};if(a(BP(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(i=>{const l=()=>{const c=i[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){a({width:u.inlineSize,height:u.blockSize});return}}a(BP(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},qP={passive:!0},VP=typeof window>"u"?!0:"onscrollend"in window,eX=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let a=0;const s=t.options.useScrollendEvent&&VP?()=>{}:JJ(n,()=>{e(a,!1)},t.options.isScrollingResetDelay),i=d=>()=>{const{horizontal:f,isRtl:m}=t.options;a=f?r.scrollLeft*(m&&-1||1):r.scrollTop,s(),e(a,d)},l=i(!0),c=i(!1);c(),r.addEventListener("scroll",l,qP);const u=t.options.useScrollendEvent&&VP;return u&&r.addEventListener("scrollend",c,qP),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},tX=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},rX=(t,{adjustments:e=0,behavior:r},n)=>{var a,s;const i=t+e;(s=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class nX{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const i=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var s;return(s=n())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=n())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:XJ,rangeExtractor:QJ,onChange:()=>{},measureElement:tX,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=_l(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,s=new Map;for(let i=n-1;i>=0;i--){const l=r[i];if(a.has(l.lane))continue;const c=s.get(l.lane);if(c==null||l.end>c.end?s.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=_l(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i}),{key:!1}),this.getMeasurements=_l(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const f=s(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),h=m?m.end+this.options.gap:n+a,y=l.get(f),g=typeof y=="number"?y:this.options.estimateSize(d),p=h+g,b=m?m.lane:d%this.options.lanes;u[d]={index:d,start:h,size:g,end:p,key:f,lane:b}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=_l(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,s)=>this.range=r.length>0&&n>0?aX({measurements:r,outerSize:n,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=_l(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,s,i)=>s===null||i===null?[]:r({startIndex:s,endIndex:i,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),s=this.measurementsCache[a];if(!s)return;const i=s.key,l=this.elementsCache.get(i);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(i,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,i=n-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,i,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=_l(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let s=0,i=r.length;s<i;s++){const l=r[s],c=n[l];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return FP(n[j3(0,n.length-1,a=>FP(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const s=this.getSize(),i=this.getScrollOffset();n==="auto"&&(n=r>=i+s?"end":"start"),n==="center"?r+=(a-s)/2:n==="end"&&(r-=s);const l=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const s=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(a.end>=i+s-this.options.scrollPaddingEnd)n="end";else if(a.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const l=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let s=0;const i=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(r,u);if(!d){console.warn("Failed to get offset for index:",r);return}const[f,m]=d;this._scrollToOffset(f,{adjustments:void 0,behavior:a}),this.targetWindow.requestAnimationFrame(()=>{const h=this.getScrollOffset(),y=this.getOffsetForIndex(r,m);if(!y){console.warn("Failed to get offset for index:",r);return}KJ(y[0],h)||c(m)})},c=u=>{this.targetWindow&&(s++,s<i?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${r} after ${i} attempts.`))};l(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let i=n.length-1;for(;i>=0&&s.some(l=>l===null);){const l=n[i];s[l.lane]===null&&(s[l.lane]=l.end),i--}a=Math.max(...s.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const j3=(t,e,r,n)=>{for(;t<=e;){const a=(t+e)/2|0,s=r(a);if(s<n)t=a+1;else if(s>n)e=a-1;else return a}return t>0?t-1:0};function aX({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const a=t.length-1,s=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:a};let i=j3(0,a,s,r),l=i;if(n===1)for(;l<a&&t[l].end<r+e;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<a&&c.some(d=>d<r+e);){const d=t[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+e);for(;i>=0&&u.some(d=>d>=r);){const d=t[i];u[d.lane]=d.start,i--}i=Math.max(0,i-i%n),l=Math.min(a,l+(n-1-l%n))}return{startIndex:i,endIndex:l}}const UP=typeof document<"u"?w.useLayoutEffect:w.useEffect;function sX(t){const e=w.useReducer(()=>({}),{})[1],r={...t,onChange:(a,s)=>{var i;s?c0.flushSync(e):e(),(i=t.onChange)==null||i.call(t,a,s)}},[n]=w.useState(()=>new nX(r));return n.setOptions(r),UP(()=>n._didMount(),[]),UP(()=>n._willUpdate()),n}function oX(t){return sX({observeElementRect:ZJ,observeElementOffset:eX,scrollToFn:rX,...t})}var iX=Object.defineProperty,lX=(t,e,r)=>e in t?iX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kN=(t,e,r)=>(lX(t,typeof e!="symbol"?e+"":e,r),r);let cX=class{constructor(){kN(this,"current",this.detect()),kN(this,"handoffState","pending"),kN(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},xs=new cX,bt=(t,e)=>{xs.isServer?w.useEffect(t,e):w.useLayoutEffect(t,e)};function pa(t){let e=w.useRef(t);return bt(()=>{e.current=t},[t]),e}function qT(t,e){let[r,n]=w.useState(t),a=pa(t);return bt(()=>n(a.current),[a,n,...e]),r}let Ae=function(t){let e=pa(t);return W.useCallback((...r)=>e.current(...r),[e])};function uX(t,e,r){let[n,a]=w.useState(r),s=t!==void 0,i=w.useRef(s),l=w.useRef(!1),c=w.useRef(!1);return s&&!i.current&&!l.current?(l.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:n,Ae(u=>(s||a(u),e==null?void 0:e(u)))]}function y0(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Dn(){let t=[],e={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),e.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return y0(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Dn();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}function Yo(){let[t]=w.useState(Dn);return w.useEffect(()=>()=>t.dispose(),[t]),t}function dX(){let t=typeof document>"u";return(e=>e.useSyncExternalStore)(xf)(()=>()=>{},()=>!1,()=>!t)}function xu(){let t=dX(),[e,r]=w.useState(xs.isHandoffComplete);return e&&xs.isHandoffComplete===!1&&r(!1),w.useEffect(()=>{e!==!0&&r(!0)},[e]),w.useEffect(()=>xs.handoff(),[]),t?!1:e}var zP;let pn=(zP=W.useId)!=null?zP:function(){let t=xu(),[e,r]=W.useState(t?()=>xs.nextId():null);return bt(()=>{e===null&&r(xs.nextId())},[e]),e!=null?""+e:void 0};function Rt(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Rt),n}function b0(t){return xs.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let FS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var cs=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(cs||{}),w3=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(w3||{}),fX=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(fX||{});function N3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(FS)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var VT=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(VT||{});function UT(t,e=0){var r;return t===((r=b0(t))==null?void 0:r.body)?!1:Rt(e,{0(){return t.matches(FS)},1(){let n=t;for(;n!==null;){if(n.matches(FS))return!0;n=n.parentElement}return!1}})}function C3(t){let e=b0(t);Dn().nextFrame(()=>{e&&!UT(e.activeElement,0)&&No(t)})}var mX=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(mX||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function No(t){t==null||t.focus({preventScroll:!0})}let hX=["textarea","input"].join(",");function pX(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,hX))!=null?r:!1}function zT(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),s=e(n);if(a===null||s===null)return 0;let i=a.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function gX(t,e){return Wd(N3(),e,{relativeTo:t})}function Wd(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,i=Array.isArray(t)?r?zT(t):t:N3(t);a.length>0&&i.length>1&&(i=i.filter(h=>!a.includes(h))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,i.indexOf(n))-1;if(e&4)return Math.max(0,i.indexOf(n))+1;if(e&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=i.length,m;do{if(d>=f||d+f<=0)return 0;let h=c+d;if(e&16)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}m=i[h],m==null||m.focus(u),d+=l}while(m!==s.activeElement);return e&6&&pX(m)&&m.select(),2}function S3(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function yX(){return/Android/gi.test(window.navigator.userAgent)}function A3(){return S3()||yX()}function Uh(t,e,r){let n=pa(e);w.useEffect(()=>{function a(s){n.current(s)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[t,r])}function I3(t,e,r){let n=pa(e);w.useEffect(()=>{function a(s){n.current(s)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[t,r])}function WT(t,e,r=!0){let n=w.useRef(!1);w.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(i,l){if(!n.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!UT(c,VT.Loose)&&c.tabIndex!==-1&&i.preventDefault(),e(i,c)}let s=w.useRef(null);Uh("pointerdown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Uh("mousedown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Uh("click",i=>{A3()||s.current&&(a(i,()=>s.current),s.current=null)},!0),Uh("touchend",i=>a(i,()=>i.target instanceof HTMLElement?i.target:null),!0),I3("blur",i=>a(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function jl(...t){return w.useMemo(()=>b0(...t),[...t])}function WP(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function k3(t,e){let[r,n]=w.useState(()=>WP(t));return bt(()=>{n(WP(t))},[t.type,t.as]),bt(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let T3=Symbol();function bX(t,e=!0){return Object.assign(t,{[T3]:e})}function lr(...t){let e=w.useRef(t);w.useEffect(()=>{e.current=t},[t]);let r=Ae(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||(n==null?void 0:n[T3]))?void 0:r}function HP(t){return[t.screenX,t.screenY]}function E3(){let t=w.useRef([-1,-1]);return{wasMoved(e){let r=HP(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=HP(e)}}}function D3({container:t,accept:e,walk:r,enabled:n=!0}){let a=w.useRef(e),s=w.useRef(r);w.useEffect(()=>{a.current=e,s.current=r},[e,r]),bt(()=>{if(!t||!n)return;let i=b0(t);if(!i)return;let l=a.current,c=s.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,n,a,s])}function qf(t,e){let r=w.useRef([]),n=Ae(t);w.useEffect(()=>{let a=[...r.current];for(let[s,i]of e.entries())if(r.current[s]!==i){let l=n(e,a);return r.current=e,l}},[n,...e])}function Tx(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Ro=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Ro||{}),lo=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(lo||{});function Xt({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:a,visible:s=!0,name:i,mergeRefs:l}){l=l??xX;let c=P3(e,t);if(s)return zh(c,r,n,i,l);let u=a??0;if(u&2){let{static:d=!1,...f}=c;if(d)return zh(f,r,n,i,l)}if(u&1){let{unmount:d=!0,...f}=c;return Rt(d?0:1,{0(){return null},1(){return zh({...f,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return zh(c,r,n,i,l)}function zh(t,e={},r,n,a){let{as:s=r,children:i,refName:l="ref",...c}=TN(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof i=="function"?i(e):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let m=!1,h=[];for(let[y,g]of Object.entries(e))typeof g=="boolean"&&(m=!0),g===!0&&h.push(y);m&&(f["data-headlessui-state"]=h.join(" "))}if(s===w.Fragment&&Object.keys(BS(c)).length>0){if(!w.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let m=d.props,h=typeof(m==null?void 0:m.className)=="function"?(...g)=>Tx(m==null?void 0:m.className(...g),c.className):Tx(m==null?void 0:m.className,c.className),y=h?{className:h}:{};return w.cloneElement(d,Object.assign({},P3(d.props,BS(TN(c,["ref"]))),f,u,{ref:a(d.ref,u.ref)},y))}return w.createElement(s,Object.assign({},TN(c,["ref"]),s!==w.Fragment&&u,s!==w.Fragment&&f),d)}function xX(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function P3(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](a,...s){let i=r[n];for(let l of i){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...s)}}});return e}function Vt(t){var e;return Object.assign(w.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function BS(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function TN(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let vX="div";var Vf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Vf||{});function jX(t,e){var r;let{features:n=1,...a}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Xt({ourProps:s,theirProps:a,slot:{},defaultTag:vX,name:"Hidden"})}let Ex=Vt(jX),HT=w.createContext(null);HT.displayName="OpenClosedContext";var Zt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Zt||{});function Ym(){return w.useContext(HT)}function GT({value:t,children:e}){return W.createElement(HT.Provider,{value:t},e)}function wX(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Oa=[];wX(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Oa[0]!==e.target&&(Oa.unshift(e.target),Oa=Oa.filter(r=>r!=null&&r.isConnected),Oa.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function YT(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&NX(r)?!1:n}function NX(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function CX(t){throw new Error("Unexpected object: "+t)}var ft=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ft||{});function qS(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),a=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{for(let s=a-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=a+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:CX(t)}}function O3(t={},e=null,r=[]){for(let[n,a]of Object.entries(t))$3(r,_3(e,n),a);return r}function _3(t,e){return t?t+"["+e+"]":e}function $3(t,e,r){if(Array.isArray(r))for(let[n,a]of r.entries())$3(t,_3(e,n.toString()),a);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):O3(r,e,t)}var ct=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ct||{}),SX={},AX=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(AX||{}),IX=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(IX||{}),kX=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(kX||{}),TX=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(TX||{});function EN(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=e(t.options.slice()),a=n.length>0&&n[0].dataRef.current.order!==null?n.sort((i,l)=>i.dataRef.current.order-l.dataRef.current.order):zT(n,i=>i.dataRef.current.domRef.current),s=r?a.indexOf(r):null;return s===-1&&(s=null),{options:a,activeOptionIndex:s}}let EX={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,r;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((r=t.dataRef.current)!=null&&r.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var r,n,a,s,i;if((r=t.dataRef.current)!=null&&r.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((a=t.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let d=e.focus===ft.Specific?e.idx:qS(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var m,h;return(h=(m=t.activeOptionIndex)!=null?m:t.virtual.options.findIndex(y=>!t.virtual.disabled(y)))!=null?h:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(s=e.trigger)!=null?s:2;return t.activeOptionIndex===d&&t.activationTrigger===f?t:{...t,activeOptionIndex:d,activationTrigger:f}}let l=EN(t);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=e.focus===ft.Specific?e.idx:qS(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===c&&t.activationTrigger===u?t:{...t,...l,activeOptionIndex:c,activationTrigger:u}},3:(t,e)=>{var r,n,a;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,e.payload]};let s=e.payload,i=EN(t,c=>(c.push(s),c));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(s));let l={...t,...i,activationTrigger:2};return(a=t.dataRef.current)!=null&&a.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var r;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:t.options.filter(a=>a.id!==e.id)};let n=EN(t,a=>{let s=a.findIndex(i=>i.id===e.id);return s!==-1&&a.splice(s,1),a});return{...t,...n,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var r;if(((r=t.virtual)==null?void 0:r.options)===e.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let a=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);a!==-1?n=a:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:e.options})}}},KT=w.createContext(null);KT.displayName="ComboboxActionsContext";function Km(t){let e=w.useContext(KT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Km),r}return e}let R3=w.createContext(null);function DX(t){var e;let r=wl("VirtualProvider"),[n,a]=w.useMemo(()=>{let c=r.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[r.optionsRef.current]),s=oX({scrollPaddingStart:n,scrollPaddingEnd:a,count:r.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=r.optionsRef.current)!=null?c:null},overscan:12}),[i,l]=w.useState(0);return bt(()=>{l(c=>c+1)},[(e=r.virtual)==null?void 0:e.options]),W.createElement(R3.Provider,{value:s},W.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&SX.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&r.virtual.options.length>r.activeOptionIndex&&s.scrollToIndex(r.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return W.createElement(w.Fragment,{key:c.key},W.cloneElement((u=t.children)==null?void 0:u.call(t,{option:r.virtual.options[c.index],open:r.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":r.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let JT=w.createContext(null);JT.displayName="ComboboxDataContext";function wl(t){let e=w.useContext(JT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,wl),r}return e}function PX(t,e){return Rt(e.type,EX,t,e)}let OX=w.Fragment;function _X(t,e){let{value:r,defaultValue:n,onChange:a,form:s,name:i,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:m=!1,virtual:h=null,...y}=t,g=!1,p=null,[b=f?[]:void 0,v]=uX(r,a,n),[j,C]=w.useReducer(PX,{dataRef:w.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),x=w.useRef(!1),N=w.useRef({static:!1,hold:!1}),S=w.useRef(null),A=w.useRef(null),I=w.useRef(null),E=w.useRef(null),k=Ae(typeof l=="string"?(ee,re)=>{let X=l;return(ee==null?void 0:ee[X])===(re==null?void 0:re[X])}:l??((ee,re)=>ee===re)),P=Ae(ee=>j.options.findIndex(re=>k(re.dataRef.current.value,ee))),R=w.useCallback(ee=>Rt(_.mode,{1:()=>b.some(re=>k(re,ee)),0:()=>k(b,ee)}),[b]),M=Ae(ee=>j.activeOptionIndex===P(ee)),_=w.useMemo(()=>({...j,immediate:g,optionsPropsRef:N,labelRef:S,inputRef:A,buttonRef:I,optionsRef:E,value:b,defaultValue:n,disabled:c,mode:f?1:0,virtual:j.virtual,get activeOptionIndex(){if(x.current&&j.activeOptionIndex===null&&j.options.length>0){let ee=j.options.findIndex(re=>!re.dataRef.current.disabled);if(ee!==-1)return ee}return j.activeOptionIndex},calculateIndex:P,compare:k,isSelected:R,isActive:M,nullable:d,__demoMode:u}),[b,n,c,f,d,u,j,p]);bt(()=>{},[p,void 0]),bt(()=>{j.dataRef.current=_},[_]),WT([_.buttonRef,_.inputRef,_.optionsRef],()=>xe.closeCombobox(),_.comboboxState===0);let L=w.useMemo(()=>{var ee,re,X;return{open:_.comboboxState===0,disabled:c,activeIndex:_.activeOptionIndex,activeOption:_.activeOptionIndex===null?null:_.virtual?_.virtual.options[(ee=_.activeOptionIndex)!=null?ee:0]:(X=(re=_.options[_.activeOptionIndex])==null?void 0:re.dataRef.current.value)!=null?X:null,value:b}},[_,c,b]),F=Ae(()=>{if(_.activeOptionIndex!==null){if(_.virtual)z(_.virtual.options[_.activeOptionIndex]);else{let{dataRef:ee}=_.options[_.activeOptionIndex];z(ee.current.value)}xe.goToOption(ft.Specific,_.activeOptionIndex)}}),$=Ae(()=>{C({type:0}),x.current=!0}),O=Ae(()=>{C({type:1}),x.current=!1}),U=Ae((ee,re,X)=>(x.current=!1,ee===ft.Specific?C({type:2,focus:ft.Specific,idx:re,trigger:X}):C({type:2,focus:ee,trigger:X}))),K=Ae((ee,re)=>(C({type:3,payload:{id:ee,dataRef:re}}),()=>{_.isActive(re.current.value)&&(x.current=!0),C({type:4,id:ee})})),G=Ae(ee=>(C({type:5,id:ee}),()=>C({type:5,id:null}))),z=Ae(ee=>Rt(_.mode,{0(){return v==null?void 0:v(ee)},1(){let re=_.value.slice(),X=re.findIndex(H=>k(H,ee));return X===-1?re.push(ee):re.splice(X,1),v==null?void 0:v(re)}})),ae=Ae(ee=>{C({type:6,trigger:ee})}),xe=w.useMemo(()=>({onChange:z,registerOption:K,registerLabel:G,goToOption:U,closeCombobox:O,openCombobox:$,setActivationTrigger:ae,selectActiveOption:F}),[]),se=e===null?{}:{ref:e},J=w.useRef(null),ce=Yo();return w.useEffect(()=>{J.current&&n!==void 0&&ce.addEventListener(J.current,"reset",()=>{v==null||v(n)})},[J,v]),W.createElement(KT.Provider,{value:xe},W.createElement(JT.Provider,{value:_},W.createElement(GT,{value:Rt(_.comboboxState,{0:Zt.Open,1:Zt.Closed})},i!=null&&b!=null&&O3({[i]:b}).map(([ee,re],X)=>W.createElement(Ex,{features:Vf.Hidden,ref:X===0?H=>{var me;J.current=(me=H==null?void 0:H.closest("form"))!=null?me:null}:void 0,...BS({key:ee,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:ee,value:re})})),Xt({ourProps:se,theirProps:y,slot:L,defaultTag:OX,name:"Combobox"}))))}let $X="input";function RX(t,e){var r,n,a,s,i;let l=pn(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...m}=t,h=wl("Combobox.Input"),y=Km("Combobox.Input"),g=lr(h.inputRef,e),p=jl(h.inputRef),b=w.useRef(!1),v=Yo(),j=Ae(()=>{y.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),y.goToOption(ft.Nothing)}),C=function(){var _;return typeof d=="function"&&h.value!==void 0?(_=d(h.value))!=null?_:"":typeof h.value=="string"?h.value:""}();qf(([_,L],[F,$])=>{if(b.current)return;let O=h.inputRef.current;O&&(($===0&&L===1||_!==F)&&(O.value=_),requestAnimationFrame(()=>{if(b.current||!O||(p==null?void 0:p.activeElement)!==O)return;let{selectionStart:U,selectionEnd:K}=O;Math.abs((K??0)-(U??0))===0&&U===0&&O.setSelectionRange(O.value.length,O.value.length)}))},[C,h.comboboxState,p]),qf(([_],[L])=>{if(_===0&&L===1){if(b.current)return;let F=h.inputRef.current;if(!F)return;let $=F.value,{selectionStart:O,selectionEnd:U,selectionDirection:K}=F;F.value="",F.value=$,K!==null?F.setSelectionRange(O,U,K):F.setSelectionRange(O,U)}},[h.comboboxState]);let x=w.useRef(!1),N=Ae(()=>{x.current=!0}),S=Ae(()=>{v.nextFrame(()=>{x.current=!1})}),A=Ae(_=>{switch(b.current=!0,_.key){case ct.Enter:if(b.current=!1,h.comboboxState!==0||x.current)return;if(_.preventDefault(),_.stopPropagation(),h.activeOptionIndex===null){y.closeCombobox();return}y.selectActiveOption(),h.mode===0&&y.closeCombobox();break;case ct.ArrowDown:return b.current=!1,_.preventDefault(),_.stopPropagation(),Rt(h.comboboxState,{0:()=>y.goToOption(ft.Next),1:()=>y.openCombobox()});case ct.ArrowUp:return b.current=!1,_.preventDefault(),_.stopPropagation(),Rt(h.comboboxState,{0:()=>y.goToOption(ft.Previous),1:()=>{y.openCombobox(),v.nextFrame(()=>{h.value||y.goToOption(ft.Last)})}});case ct.Home:if(_.shiftKey)break;return b.current=!1,_.preventDefault(),_.stopPropagation(),y.goToOption(ft.First);case ct.PageUp:return b.current=!1,_.preventDefault(),_.stopPropagation(),y.goToOption(ft.First);case ct.End:if(_.shiftKey)break;return b.current=!1,_.preventDefault(),_.stopPropagation(),y.goToOption(ft.Last);case ct.PageDown:return b.current=!1,_.preventDefault(),_.stopPropagation(),y.goToOption(ft.Last);case ct.Escape:return b.current=!1,h.comboboxState!==0?void 0:(_.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&_.stopPropagation(),h.nullable&&h.mode===0&&h.value===null&&j(),y.closeCombobox());case ct.Tab:if(b.current=!1,h.comboboxState!==0)return;h.mode===0&&h.activationTrigger!==1&&y.selectActiveOption(),y.closeCombobox();break}}),I=Ae(_=>{u==null||u(_),h.nullable&&h.mode===0&&_.target.value===""&&j(),y.openCombobox()}),E=Ae(_=>{var L,F,$;let O=(L=_.relatedTarget)!=null?L:Oa.find(U=>U!==_.currentTarget);if(b.current=!1,!((F=h.optionsRef.current)!=null&&F.contains(O))&&!(($=h.buttonRef.current)!=null&&$.contains(O))&&h.comboboxState===0)return _.preventDefault(),h.mode===0&&(h.nullable&&h.value===null?j():h.activationTrigger!==1&&y.selectActiveOption()),y.closeCombobox()}),k=Ae(_=>{var L,F,$;let O=(L=_.relatedTarget)!=null?L:Oa.find(U=>U!==_.currentTarget);(F=h.buttonRef.current)!=null&&F.contains(O)||($=h.optionsRef.current)!=null&&$.contains(O)||h.disabled||h.immediate&&h.comboboxState!==0&&(y.openCombobox(),v.nextFrame(()=>{y.setActivationTrigger(1)}))}),P=qT(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),R=w.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),M={ref:g,id:c,role:"combobox",type:f,"aria-controls":(r=h.optionsRef.current)==null?void 0:r.id,"aria-expanded":h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null?void 0:h.virtual?(n=h.options.find(_=>{var L;return!((L=h.virtual)!=null&&L.disabled(_.dataRef.current.value))&&h.compare(_.dataRef.current.value,h.virtual.options[h.activeOptionIndex])}))==null?void 0:n.id:(a=h.options[h.activeOptionIndex])==null?void 0:a.id,"aria-labelledby":P,"aria-autocomplete":"list",defaultValue:(i=(s=t.defaultValue)!=null?s:h.defaultValue!==void 0?d==null?void 0:d(h.defaultValue):null)!=null?i:h.defaultValue,disabled:h.disabled,onCompositionStart:N,onCompositionEnd:S,onKeyDown:A,onChange:I,onFocus:k,onBlur:E};return Xt({ourProps:M,theirProps:m,slot:R,defaultTag:$X,name:"Combobox.Input"})}let MX="button";function LX(t,e){var r;let n=wl("Combobox.Button"),a=Km("Combobox.Button"),s=lr(n.buttonRef,e),i=pn(),{id:l=`headlessui-combobox-button-${i}`,...c}=t,u=Yo(),d=Ae(g=>{switch(g.key){case ct.ArrowDown:return g.preventDefault(),g.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var p;return(p=n.inputRef.current)==null?void 0:p.focus({preventScroll:!0})});case ct.ArrowUp:return g.preventDefault(),g.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(ft.Last)})),u.nextFrame(()=>{var p;return(p=n.inputRef.current)==null?void 0:p.focus({preventScroll:!0})});case ct.Escape:return n.comboboxState!==0?void 0:(g.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&g.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var p;return(p=n.inputRef.current)==null?void 0:p.focus({preventScroll:!0})}));default:return}}),f=Ae(g=>{if(YT(g.currentTarget))return g.preventDefault();n.comboboxState===0?a.closeCombobox():(g.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var p;return(p=n.inputRef.current)==null?void 0:p.focus({preventScroll:!0})})}),m=qT(()=>{if(n.labelId)return[n.labelId,l].join(" ")},[n.labelId,l]),h=w.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),y={ref:s,id:l,type:k3(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":m,disabled:n.disabled,onClick:f,onKeyDown:d};return Xt({ourProps:y,theirProps:c,slot:h,defaultTag:MX,name:"Combobox.Button"})}let FX="label";function BX(t,e){let r=pn(),{id:n=`headlessui-combobox-label-${r}`,...a}=t,s=wl("Combobox.Label"),i=Km("Combobox.Label"),l=lr(s.labelRef,e);bt(()=>i.registerLabel(n),[n]);let c=Ae(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=w.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return Xt({ourProps:{ref:l,id:n,onClick:c},theirProps:a,slot:u,defaultTag:FX,name:"Combobox.Label"})}let qX="ul",VX=Ro.RenderStrategy|Ro.Static;function UX(t,e){let r=pn(),{id:n=`headlessui-combobox-options-${r}`,hold:a=!1,...s}=t,i=wl("Combobox.Options"),l=lr(i.optionsRef,e),c=Ym(),u=c!==null?(c&Zt.Open)===Zt.Open:i.comboboxState===0;bt(()=>{var h;i.optionsPropsRef.current.static=(h=t.static)!=null?h:!1},[i.optionsPropsRef,t.static]),bt(()=>{i.optionsPropsRef.current.hold=a},[i.optionsPropsRef,a]),D3({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let d=qT(()=>{var h,y;return(y=i.labelId)!=null?y:(h=i.buttonRef.current)==null?void 0:h.id},[i.labelId,i.buttonRef.current]),f=w.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),m={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:n,ref:l};return i.virtual&&i.comboboxState===0&&Object.assign(s,{children:W.createElement(DX,null,s.children)}),Xt({ourProps:m,theirProps:s,slot:f,defaultTag:qX,features:VX,visible:u,name:"Combobox.Options"})}let zX="li";function WX(t,e){var r;let n=pn(),{id:a=`headlessui-combobox-option-${n}`,disabled:s=!1,value:i,order:l=null,...c}=t,u=wl("Combobox.Option"),d=Km("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((r=u.options[u.activeOptionIndex])==null?void 0:r.id)===a,m=u.isSelected(i),h=w.useRef(null),y=pa({disabled:s,value:i,domRef:h,order:l}),g=w.useContext(R3),p=lr(e,h,g?g.measureElement:null),b=Ae(()=>d.onChange(i));bt(()=>d.registerOption(a,y),[y,a]);let v=w.useRef(!(u.virtual||u.__demoMode));bt(()=>{if(!u.virtual||!u.__demoMode)return;let E=Dn();return E.requestAnimationFrame(()=>{v.current=!0}),E.dispose},[u.virtual,u.__demoMode]),bt(()=>{if(!v.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let E=Dn();return E.requestAnimationFrame(()=>{var k,P;(P=(k=h.current)==null?void 0:k.scrollIntoView)==null||P.call(k,{block:"nearest"})}),E.dispose},[h,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let j=Ae(E=>{var k;if(s||(k=u.virtual)!=null&&k.disabled(i))return E.preventDefault();b(),A3()||requestAnimationFrame(()=>{var P;return(P=u.inputRef.current)==null?void 0:P.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),C=Ae(()=>{var E;if(s||(E=u.virtual)!=null&&E.disabled(i))return d.goToOption(ft.Nothing);let k=u.calculateIndex(i);d.goToOption(ft.Specific,k)}),x=E3(),N=Ae(E=>x.update(E)),S=Ae(E=>{var k;if(!x.wasMoved(E)||s||(k=u.virtual)!=null&&k.disabled(i)||f)return;let P=u.calculateIndex(i);d.goToOption(ft.Specific,P,0)}),A=Ae(E=>{var k;x.wasMoved(E)&&(s||(k=u.virtual)!=null&&k.disabled(i)||f&&(u.optionsPropsRef.current.hold||d.goToOption(ft.Nothing)))}),I=w.useMemo(()=>({active:f,selected:m,disabled:s}),[f,m,s]);return Xt({ourProps:{id:a,ref:p,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:j,onFocus:C,onPointerEnter:N,onMouseEnter:N,onPointerMove:S,onMouseMove:S,onPointerLeave:A,onMouseLeave:A},theirProps:c,slot:I,defaultTag:zX,name:"Combobox.Option"})}let HX=Vt(_X),GX=Vt(LX),YX=Vt(RX),KX=Vt(BX),JX=Vt(UX),XX=Vt(WX),$l=Object.assign(HX,{Input:YX,Button:GX,Label:KX,Options:JX,Option:XX});function M3(t,e,r,n){let a=pa(r);w.useEffect(()=>{t=t??window;function s(i){a.current(i)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function Jm(){let t=w.useRef(!1);return bt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function L3(t){let e=Ae(t),r=w.useRef(!1);w.useEffect(()=>(r.current=!1,()=>{r.current=!0,y0(()=>{r.current&&e()})}),[e])}var Nd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Nd||{});function QX(){let t=w.useRef(0);return I3("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function F3(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let ZX="div";var B3=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(B3||{});function eQ(t,e){let r=w.useRef(null),n=lr(r,e),{initialFocus:a,containers:s,features:i=30,...l}=t;xu()||(i=1);let c=jl(r);nQ({ownerDocument:c},!!(i&16));let u=aQ({ownerDocument:c,container:r,initialFocus:a},!!(i&2));sQ({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(i&8));let d=QX(),f=Ae(g=>{let p=r.current;p&&(b=>b())(()=>{Rt(d.current,{[Nd.Forwards]:()=>{Wd(p,cs.First,{skipElements:[g.relatedTarget]})},[Nd.Backwards]:()=>{Wd(p,cs.Last,{skipElements:[g.relatedTarget]})}})})}),m=Yo(),h=w.useRef(!1),y={ref:n,onKeyDown(g){g.key=="Tab"&&(h.current=!0,m.requestAnimationFrame(()=>{h.current=!1}))},onBlur(g){let p=F3(s);r.current instanceof HTMLElement&&p.add(r.current);let b=g.relatedTarget;b instanceof HTMLElement&&b.dataset.headlessuiFocusGuard!=="true"&&(q3(p,b)||(h.current?Wd(r.current,Rt(d.current,{[Nd.Forwards]:()=>cs.Next,[Nd.Backwards]:()=>cs.Previous})|cs.WrapAround,{relativeTo:g.target}):g.target instanceof HTMLElement&&No(g.target)))}};return W.createElement(W.Fragment,null,!!(i&4)&&W.createElement(Ex,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Vf.Focusable}),Xt({ourProps:y,theirProps:l,defaultTag:ZX,name:"FocusTrap"}),!!(i&4)&&W.createElement(Ex,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Vf.Focusable}))}let tQ=Vt(eQ),Ku=Object.assign(tQ,{features:B3});function rQ(t=!0){let e=w.useRef(Oa.slice());return qf(([r],[n])=>{n===!0&&r===!1&&y0(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Oa.slice())},[t,Oa,e]),Ae(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function nQ({ownerDocument:t},e){let r=rQ(e);qf(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&No(r())},[e]),L3(()=>{e&&No(r())})}function aQ({ownerDocument:t,container:e,initialFocus:r},n){let a=w.useRef(null),s=Jm();return qf(()=>{if(!n)return;let i=e.current;i&&y0(()=>{if(!s.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(i.contains(l)){a.current=l;return}r!=null&&r.current?No(r.current):Wd(i,cs.First)===w3.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=t==null?void 0:t.activeElement})},[n]),a}function sQ({ownerDocument:t,container:e,containers:r,previousActiveElement:n},a){let s=Jm();M3(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!s.current)return;let l=F3(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?q3(l,u)?(n.current=u,No(u)):(i.preventDefault(),i.stopPropagation(),No(c)):No(n.current)},!0)}function q3(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let V3=w.createContext(!1);function oQ(){return w.useContext(V3)}function VS(t){return W.createElement(V3.Provider,{value:t.force},t.children)}function iQ(t){let e=oQ(),r=w.useContext(U3),n=jl(t),[a,s]=w.useState(()=>{if(!e&&r!==null||xs.isServer)return null;let i=n==null?void 0:n.getElementById("headlessui-portal-root");if(i)return i;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return w.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),w.useEffect(()=>{e||r!==null&&s(r.current)},[r,s,e]),a}let lQ=w.Fragment;function cQ(t,e){let r=t,n=w.useRef(null),a=lr(bX(d=>{n.current=d}),e),s=jl(n),i=iQ(n),[l]=w.useState(()=>{var d;return xs.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=w.useContext(US),u=xu();return bt(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),bt(()=>{if(l&&c)return c.register(l)},[c,l]),L3(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:c0.createPortal(Xt({ourProps:{ref:a},theirProps:r,defaultTag:lQ,name:"Portal"}),l):null}let uQ=w.Fragment,U3=w.createContext(null);function dQ(t,e){let{target:r,...n}=t,a={ref:lr(e)};return W.createElement(U3.Provider,{value:r},Xt({ourProps:a,theirProps:n,defaultTag:uQ,name:"Popover.Group"}))}let US=w.createContext(null);function fQ(){let t=w.useContext(US),e=w.useRef([]),r=Ae(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=Ae(s=>{let i=e.current.indexOf(s);i!==-1&&e.current.splice(i,1),t&&t.unregister(s)}),a=w.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,w.useMemo(()=>function({children:s}){return W.createElement(US.Provider,{value:a},s)},[a])]}let mQ=Vt(cQ),hQ=Vt(dQ),zS=Object.assign(mQ,{Group:hQ});const pQ=(t=>t.useSyncExternalStore)(xf);function gQ(t){return pQ(t.subscribe,t.getSnapshot,t.getSnapshot)}function yQ(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let i=e[a].call(r,...s);i&&(r=i,n.forEach(l=>l()))}}}function bQ(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,a=n.clientWidth-n.offsetWidth,s=t-a;r.style(n,"paddingRight",`${s}px`)}}}function xQ(){return S3()?{before({doc:t,d:e,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=Dn();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,i=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(i=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function vQ(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function jQ(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Ii=yQ(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Dn(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:jQ(r)},a=[xQ(),bQ(),vQ()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ii.subscribe(()=>{let t=Ii.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Ii.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ii.dispatch("TEARDOWN",r)}});function wQ(t,e,r){let n=gQ(Ii),a=t?n.get(t):void 0,s=a?a.count>0:!1;return bt(()=>{if(!(!t||!e))return Ii.dispatch("PUSH",t,r),()=>Ii.dispatch("POP",t,r)},[e,t]),s}let DN=new Map,Ju=new Map;function GP(t,e=!0){bt(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function a(){var i;if(!n)return;let l=(i=Ju.get(n))!=null?i:1;if(l===1?Ju.delete(n):Ju.set(n,l-1),l!==1)return;let c=DN.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,DN.delete(n))}let s=(r=Ju.get(n))!=null?r:0;return Ju.set(n,s+1),s!==0||(DN.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[t,e])}function NQ({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let a=w.useRef((n=r==null?void 0:r.current)!=null?n:null),s=jl(a),i=Ae(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(a.current)||f.contains((u=(c=a.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(m=>f.contains(m))||d.push(f));return d});return{resolveContainers:i,contains:Ae(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:a,MainTreeNode:w.useMemo(()=>function(){return r!=null?null:W.createElement(Ex,{features:Vf.Hidden,ref:a})},[a,r])}}let XT=w.createContext(()=>{});XT.displayName="StackContext";var WS=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(WS||{});function CQ(){return w.useContext(XT)}function SQ({children:t,onUpdate:e,type:r,element:n,enabled:a}){let s=CQ(),i=Ae((...l)=>{e==null||e(...l),s(...l)});return bt(()=>{let l=a===void 0||a===!0;return l&&i(0,r,n),()=>{l&&i(1,r,n)}},[i,r,n,a]),W.createElement(XT.Provider,{value:i},t)}let z3=w.createContext(null);function W3(){let t=w.useContext(z3);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,W3),e}return t}function AQ(){let[t,e]=w.useState([]);return[t.length>0?t.join(" "):void 0,w.useMemo(()=>function(r){let n=Ae(s=>(e(i=>[...i,s]),()=>e(i=>{let l=i.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),a=w.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return W.createElement(z3.Provider,{value:a},r.children)},[e])]}let IQ="p";function kQ(t,e){let r=pn(),{id:n=`headlessui-description-${r}`,...a}=t,s=W3(),i=lr(e);bt(()=>s.register(n),[n,s.register]);let l={ref:i,...s.props,id:n};return Xt({ourProps:l,theirProps:a,slot:s.slot||{},defaultTag:IQ,name:s.name||"Description"})}let TQ=Vt(kQ),EQ=Object.assign(TQ,{});var DQ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(DQ||{}),PQ=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(PQ||{});let OQ={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Dx=w.createContext(null);Dx.displayName="DialogContext";function Xm(t){let e=w.useContext(Dx);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Xm),r}return e}function _Q(t,e,r=()=>[document.body]){wQ(t,e,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function $Q(t,e){return Rt(e.type,OQ,t,e)}let RQ="div",MQ=Ro.RenderStrategy|Ro.Static;function LQ(t,e){let r=pn(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:i,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=w.useState(0),m=w.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=Ym();a===void 0&&h!==null&&(a=(h&Zt.Open)===Zt.Open);let y=w.useRef(null),g=lr(y,e),p=jl(y),b=t.hasOwnProperty("open")||h!==null,v=t.hasOwnProperty("onClose");if(!b&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let j=a?0:1,[C,x]=w.useReducer($Q,{titleId:null,descriptionId:null,panelRef:w.createRef()}),N=Ae(()=>s(!1)),S=Ae(X=>x({type:0,id:X})),A=xu()?c?!1:j===0:!1,I=d>1,E=w.useContext(Dx)!==null,[k,P]=fQ(),R={get current(){var X;return(X=C.panelRef.current)!=null?X:y.current}},{resolveContainers:M,mainTreeNodeRef:_,MainTreeNode:L}=NQ({portals:k,defaultContainers:[R]}),F=I?"parent":"leaf",$=h!==null?(h&Zt.Closing)===Zt.Closing:!1,O=E||$?!1:A,U=w.useCallback(()=>{var X,H;return(H=Array.from((X=p==null?void 0:p.querySelectorAll("body > *"))!=null?X:[]).find(me=>me.id==="headlessui-portal-root"?!1:me.contains(_.current)&&me instanceof HTMLElement))!=null?H:null},[_]);GP(U,O);let K=I?!0:A,G=w.useCallback(()=>{var X,H;return(H=Array.from((X=p==null?void 0:p.querySelectorAll("[data-headlessui-portal]"))!=null?X:[]).find(me=>me.contains(_.current)&&me instanceof HTMLElement))!=null?H:null},[_]);GP(G,K),WT(M,X=>{X.preventDefault(),N()},!(!A||I));let ae=!(I||j!==0);M3(p==null?void 0:p.defaultView,"keydown",X=>{ae&&(X.defaultPrevented||X.key===ct.Escape&&(X.preventDefault(),X.stopPropagation(),N()))}),_Q(p,!($||j!==0||E),M),w.useEffect(()=>{if(j!==0||!y.current)return;let X=new ResizeObserver(H=>{for(let me of H){let Ne=me.target.getBoundingClientRect();Ne.x===0&&Ne.y===0&&Ne.width===0&&Ne.height===0&&N()}});return X.observe(y.current),()=>X.disconnect()},[j,y,N]);let[se,J]=AQ(),ce=w.useMemo(()=>[{dialogState:j,close:N,setTitleId:S},C],[j,C,N,S]),ee=w.useMemo(()=>({open:j===0}),[j]),re={ref:g,id:n,role:l,"aria-modal":j===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":se};return W.createElement(SQ,{type:"Dialog",enabled:j===0,element:y,onUpdate:Ae((X,H)=>{H==="Dialog"&&Rt(X,{[WS.Add]:()=>f(me=>me+1),[WS.Remove]:()=>f(me=>me-1)})})},W.createElement(VS,{force:!0},W.createElement(zS,null,W.createElement(Dx.Provider,{value:ce},W.createElement(zS.Group,{target:y},W.createElement(VS,{force:!1},W.createElement(J,{slot:ee,name:"Dialog.Description"},W.createElement(Ku,{initialFocus:i,containers:M,features:A?Rt(F,{parent:Ku.features.RestoreFocus,leaf:Ku.features.All&~Ku.features.FocusLock}):Ku.features.None},W.createElement(P,null,Xt({ourProps:re,theirProps:u,slot:ee,defaultTag:RQ,features:MQ,visible:j===0,name:"Dialog"}))))))))),W.createElement(L,null))}let FQ="div";function BQ(t,e){let r=pn(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=t,[{dialogState:s,close:i}]=Xm("Dialog.Overlay"),l=lr(e),c=Ae(d=>{if(d.target===d.currentTarget){if(YT(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=w.useMemo(()=>({open:s===0}),[s]);return Xt({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:a,slot:u,defaultTag:FQ,name:"Dialog.Overlay"})}let qQ="div";function VQ(t,e){let r=pn(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=t,[{dialogState:s},i]=Xm("Dialog.Backdrop"),l=lr(e);w.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=w.useMemo(()=>({open:s===0}),[s]);return W.createElement(VS,{force:!0},W.createElement(zS,null,Xt({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:a,slot:c,defaultTag:qQ,name:"Dialog.Backdrop"})))}let UQ="div";function zQ(t,e){let r=pn(),{id:n=`headlessui-dialog-panel-${r}`,...a}=t,[{dialogState:s},i]=Xm("Dialog.Panel"),l=lr(e,i.panelRef),c=w.useMemo(()=>({open:s===0}),[s]),u=Ae(d=>{d.stopPropagation()});return Xt({ourProps:{ref:l,id:n,onClick:u},theirProps:a,slot:c,defaultTag:UQ,name:"Dialog.Panel"})}let WQ="h2";function HQ(t,e){let r=pn(),{id:n=`headlessui-dialog-title-${r}`,...a}=t,[{dialogState:s,setTitleId:i}]=Xm("Dialog.Title"),l=lr(e);w.useEffect(()=>(i(n),()=>i(null)),[n,i]);let c=w.useMemo(()=>({open:s===0}),[s]);return Xt({ourProps:{ref:l,id:n},theirProps:a,slot:c,defaultTag:WQ,name:"Dialog.Title"})}let GQ=Vt(LQ),YQ=Vt(VQ),KQ=Vt(zQ),JQ=Vt(BQ),XQ=Vt(HQ),PN=Object.assign(GQ,{Backdrop:YQ,Panel:KQ,Overlay:JQ,Title:XQ,Description:EQ}),YP=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function KP(t){var e,r;let n=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let s=!1;for(let l of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let i=s?(r=a.innerText)!=null?r:"":n;return YP.test(i)&&(i=i.replace(YP,"")),i}function QQ(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(a=>{let s=document.getElementById(a);if(s){let i=s.getAttribute("aria-label");return typeof i=="string"?i.trim():KP(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return KP(t).trim()}function ZQ(t){let e=w.useRef(""),r=w.useRef("");return Ae(()=>{let n=t.current;if(!n)return"";let a=n.innerText;if(e.current===a)return r.current;let s=QQ(n).trim().toLowerCase();return e.current=a,r.current=s,s})}var eZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(eZ||{}),tZ=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(tZ||{}),rZ=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(rZ||{});function ON(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=zT(e(t.items.slice()),s=>s.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let nZ={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=ON(t),a=qS(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),a=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!i.dataRef.current.disabled}),s=a?t.items.indexOf(a):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=ON(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=ON(t,n=>{let a=n.findIndex(s=>s.id===e.id);return a!==-1&&n.splice(a,1),n});return{...t,...r,activationTrigger:1}}},QT=w.createContext(null);QT.displayName="MenuContext";function x0(t){let e=w.useContext(QT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,x0),r}return e}function aZ(t,e){return Rt(e.type,nZ,t,e)}let sZ=w.Fragment;function oZ(t,e){let{__demoMode:r=!1,...n}=t,a=w.useReducer(aZ,{__demoMode:r,menuState:r?0:1,buttonRef:w.createRef(),itemsRef:w.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:i,buttonRef:l},c]=a,u=lr(e);WT([l,i],(h,y)=>{var g;c({type:1}),UT(y,VT.Loose)||(h.preventDefault(),(g=l.current)==null||g.focus())},s===0);let d=Ae(()=>{c({type:1})}),f=w.useMemo(()=>({open:s===0,close:d}),[s,d]),m={ref:u};return W.createElement(QT.Provider,{value:a},W.createElement(GT,{value:Rt(s,{0:Zt.Open,1:Zt.Closed})},Xt({ourProps:m,theirProps:n,slot:f,defaultTag:sZ,name:"Menu"})))}let iZ="button";function lZ(t,e){var r;let n=pn(),{id:a=`headlessui-menu-button-${n}`,...s}=t,[i,l]=x0("Menu.Button"),c=lr(i.buttonRef,e),u=Yo(),d=Ae(g=>{switch(g.key){case ct.Space:case ct.Enter:case ct.ArrowDown:g.preventDefault(),g.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ft.First}));break;case ct.ArrowUp:g.preventDefault(),g.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ft.Last}));break}}),f=Ae(g=>{switch(g.key){case ct.Space:g.preventDefault();break}}),m=Ae(g=>{if(YT(g.currentTarget))return g.preventDefault();t.disabled||(i.menuState===0?(l({type:1}),u.nextFrame(()=>{var p;return(p=i.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})})):(g.preventDefault(),l({type:0})))}),h=w.useMemo(()=>({open:i.menuState===0}),[i]),y={ref:c,id:a,type:k3(t,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return Xt({ourProps:y,theirProps:s,slot:h,defaultTag:iZ,name:"Menu.Button"})}let cZ="div",uZ=Ro.RenderStrategy|Ro.Static;function dZ(t,e){var r,n;let a=pn(),{id:s=`headlessui-menu-items-${a}`,...i}=t,[l,c]=x0("Menu.Items"),u=lr(l.itemsRef,e),d=jl(l.itemsRef),f=Yo(),m=Ym(),h=m!==null?(m&Zt.Open)===Zt.Open:l.menuState===0;w.useEffect(()=>{let v=l.itemsRef.current;v&&l.menuState===0&&v!==(d==null?void 0:d.activeElement)&&v.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),D3({container:l.itemsRef.current,enabled:l.menuState===0,accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let y=Ae(v=>{var j,C;switch(f.dispose(),v.key){case ct.Space:if(l.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),c({type:3,value:v.key});case ct.Enter:if(v.preventDefault(),v.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:x}=l.items[l.activeItemIndex];(C=(j=x.current)==null?void 0:j.domRef.current)==null||C.click()}C3(l.buttonRef.current);break;case ct.ArrowDown:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:ft.Next});case ct.ArrowUp:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:ft.Previous});case ct.Home:case ct.PageUp:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:ft.First});case ct.End:case ct.PageDown:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:ft.Last});case ct.Escape:v.preventDefault(),v.stopPropagation(),c({type:1}),Dn().nextFrame(()=>{var x;return(x=l.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})});break;case ct.Tab:v.preventDefault(),v.stopPropagation(),c({type:1}),Dn().nextFrame(()=>{gX(l.buttonRef.current,v.shiftKey?cs.Previous:cs.Next)});break;default:v.key.length===1&&(c({type:3,value:v.key}),f.setTimeout(()=>c({type:4}),350));break}}),g=Ae(v=>{switch(v.key){case ct.Space:v.preventDefault();break}}),p=w.useMemo(()=>({open:l.menuState===0}),[l]),b={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:y,onKeyUp:g,role:"menu",tabIndex:0,ref:u};return Xt({ourProps:b,theirProps:i,slot:p,defaultTag:cZ,features:uZ,visible:h,name:"Menu.Items"})}let fZ=w.Fragment;function mZ(t,e){let r=pn(),{id:n=`headlessui-menu-item-${r}`,disabled:a=!1,...s}=t,[i,l]=x0("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,u=w.useRef(null),d=lr(e,u);bt(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let x=Dn();return x.requestAnimationFrame(()=>{var N,S;(S=(N=u.current)==null?void 0:N.scrollIntoView)==null||S.call(N,{block:"nearest"})}),x.dispose},[i.__demoMode,u,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let f=ZQ(u),m=w.useRef({disabled:a,domRef:u,get textValue(){return f()}});bt(()=>{m.current.disabled=a},[m,a]),bt(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let h=Ae(()=>{l({type:1})}),y=Ae(x=>{if(a)return x.preventDefault();l({type:1}),C3(i.buttonRef.current)}),g=Ae(()=>{if(a)return l({type:2,focus:ft.Nothing});l({type:2,focus:ft.Specific,id:n})}),p=E3(),b=Ae(x=>p.update(x)),v=Ae(x=>{p.wasMoved(x)&&(a||c||l({type:2,focus:ft.Specific,id:n,trigger:0}))}),j=Ae(x=>{p.wasMoved(x)&&(a||c&&l({type:2,focus:ft.Nothing}))}),C=w.useMemo(()=>({active:c,disabled:a,close:h}),[c,a,h]);return Xt({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:y,onFocus:g,onPointerEnter:b,onMouseEnter:b,onPointerMove:v,onMouseMove:v,onPointerLeave:j,onMouseLeave:j},theirProps:s,slot:C,defaultTag:fZ,name:"Menu.Item"})}let hZ=Vt(oZ),pZ=Vt(lZ),gZ=Vt(dZ),yZ=Vt(mZ),Rl=Object.assign(hZ,{Button:pZ,Items:gZ,Item:yZ});function bZ(t=0){let[e,r]=w.useState(t),n=Jm(),a=w.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),s=w.useCallback(c=>!!(e&c),[e]),i=w.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=w.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:a,hasFlag:s,removeFlag:i,toggleFlag:l}}function xZ(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function _N(t,...e){t&&e.length>0&&t.classList.add(...e)}function $N(t,...e){t&&e.length>0&&t.classList.remove(...e)}function vZ(t,e){let r=Dn();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(t),[s,i]=[n,a].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=s+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function jZ(t,e,r,n){let a=r?"enter":"leave",s=Dn(),i=n!==void 0?xZ(n):()=>{};a==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=Rt(a,{enter:()=>e.enter,leave:()=>e.leave}),c=Rt(a,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=Rt(a,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return $N(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),_N(t,...e.base,...l,...u),s.nextFrame(()=>{$N(t,...e.base,...l,...u),_N(t,...e.base,...l,...c),vZ(t,()=>($N(t,...e.base,...l),_N(t,...e.base,...e.entered),i()))}),s.dispose}function wZ({immediate:t,container:e,direction:r,classes:n,onStart:a,onStop:s}){let i=Jm(),l=Yo(),c=pa(r);bt(()=>{t&&(c.current="enter")},[t]),bt(()=>{let u=Dn();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),a.current(c.current),u.add(jZ(d,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Ys(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let v0=w.createContext(null);v0.displayName="TransitionContext";var NZ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(NZ||{});function CZ(){let t=w.useContext(v0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function SZ(){let t=w.useContext(j0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let j0=w.createContext(null);j0.displayName="NestingContext";function w0(t){return"children"in t?w0(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function H3(t,e){let r=pa(t),n=w.useRef([]),a=Jm(),s=Yo(),i=Ae((h,y=lo.Hidden)=>{let g=n.current.findIndex(({el:p})=>p===h);g!==-1&&(Rt(y,{[lo.Unmount](){n.current.splice(g,1)},[lo.Hidden](){n.current[g].state="hidden"}}),s.microTask(()=>{var p;!w0(n)&&a.current&&((p=r.current)==null||p.call(r))}))}),l=Ae(h=>{let y=n.current.find(({el:g})=>g===h);return y?y.state!=="visible"&&(y.state="visible"):n.current.push({el:h,state:"visible"}),()=>i(h,lo.Unmount)}),c=w.useRef([]),u=w.useRef(Promise.resolve()),d=w.useRef({enter:[],leave:[],idle:[]}),f=Ae((h,y,g)=>{c.current.splice(0),e&&(e.chains.current[y]=e.chains.current[y].filter(([p])=>p!==h)),e==null||e.chains.current[y].push([h,new Promise(p=>{c.current.push(p)})]),e==null||e.chains.current[y].push([h,new Promise(p=>{Promise.all(d.current[y].map(([b,v])=>v)).then(()=>p())})]),y==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>g(y)):g(y)}),m=Ae((h,y,g)=>{Promise.all(d.current[y].splice(0).map(([p,b])=>b)).then(()=>{var p;(p=c.current.shift())==null||p()}).then(()=>g(y))});return w.useMemo(()=>({children:n,register:l,unregister:i,onStart:f,onStop:m,wait:u,chains:d}),[l,i,n,f,m,d,u])}function AZ(){}let IZ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function JP(t){var e;let r={};for(let n of IZ)r[n]=(e=t[n])!=null?e:AZ;return r}function kZ(t){let e=w.useRef(JP(t));return w.useEffect(()=>{e.current=JP(t)},[t]),e}let TZ="div",G3=Ro.RenderStrategy;function EZ(t,e){var r,n;let{beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:h,leaveTo:y,...g}=t,p=w.useRef(null),b=lr(p,e),v=(r=g.unmount)==null||r?lo.Unmount:lo.Hidden,{show:j,appear:C,initial:x}=CZ(),[N,S]=w.useState(j?"visible":"hidden"),A=SZ(),{register:I,unregister:E}=A;w.useEffect(()=>I(p),[I,p]),w.useEffect(()=>{if(v===lo.Hidden&&p.current){if(j&&N!=="visible"){S("visible");return}return Rt(N,{hidden:()=>E(p),visible:()=>I(p)})}},[N,p,I,E,j,v]);let k=pa({base:Ys(g.className),enter:Ys(c),enterFrom:Ys(u),enterTo:Ys(d),entered:Ys(f),leave:Ys(m),leaveFrom:Ys(h),leaveTo:Ys(y)}),P=kZ({beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l}),R=xu();w.useEffect(()=>{if(R&&N==="visible"&&p.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[p,N,R]);let M=x&&!C,_=C&&j&&x,L=!R||M?"idle":j?"enter":"leave",F=bZ(0),$=Ae(ae=>Rt(ae,{enter:()=>{F.addFlag(Zt.Opening),P.current.beforeEnter()},leave:()=>{F.addFlag(Zt.Closing),P.current.beforeLeave()},idle:()=>{}})),O=Ae(ae=>Rt(ae,{enter:()=>{F.removeFlag(Zt.Opening),P.current.afterEnter()},leave:()=>{F.removeFlag(Zt.Closing),P.current.afterLeave()},idle:()=>{}})),U=H3(()=>{S("hidden"),E(p)},A),K=w.useRef(!1);wZ({immediate:_,container:p,classes:k,direction:L,onStart:pa(ae=>{K.current=!0,U.onStart(p,ae,$)}),onStop:pa(ae=>{K.current=!1,U.onStop(p,ae,O),ae==="leave"&&!w0(U)&&(S("hidden"),E(p))})});let G=g,z={ref:b};return _?G={...G,className:Tx(g.className,...k.current.enter,...k.current.enterFrom)}:K.current&&(G.className=Tx(g.className,(n=p.current)==null?void 0:n.className),G.className===""&&delete G.className),W.createElement(j0.Provider,{value:U},W.createElement(GT,{value:Rt(N,{visible:Zt.Open,hidden:Zt.Closed})|F.flags},Xt({ourProps:z,theirProps:G,defaultTag:TZ,features:G3,visible:N==="visible",name:"Transition.Child"})))}function DZ(t,e){let{show:r,appear:n=!1,unmount:a=!0,...s}=t,i=w.useRef(null),l=lr(i,e);xu();let c=Ym();if(r===void 0&&c!==null&&(r=(c&Zt.Open)===Zt.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=w.useState(r?"visible":"hidden"),f=H3(()=>{d("hidden")}),[m,h]=w.useState(!0),y=w.useRef([r]);bt(()=>{m!==!1&&y.current[y.current.length-1]!==r&&(y.current.push(r),h(!1))},[y,r]);let g=w.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);w.useEffect(()=>{if(r)d("visible");else if(!w0(f))d("hidden");else{let j=i.current;if(!j)return;let C=j.getBoundingClientRect();C.x===0&&C.y===0&&C.width===0&&C.height===0&&d("hidden")}},[r,f]);let p={unmount:a},b=Ae(()=>{var j;m&&h(!1),(j=t.beforeEnter)==null||j.call(t)}),v=Ae(()=>{var j;m&&h(!1),(j=t.beforeLeave)==null||j.call(t)});return W.createElement(j0.Provider,{value:f},W.createElement(v0.Provider,{value:g},Xt({ourProps:{...p,as:w.Fragment,children:W.createElement(Y3,{ref:l,...p,...s,beforeEnter:b,beforeLeave:v})},theirProps:{},defaultTag:w.Fragment,features:G3,visible:u==="visible",name:"Transition"})))}function PZ(t,e){let r=w.useContext(v0)!==null,n=Ym()!==null;return W.createElement(W.Fragment,null,!r&&n?W.createElement(HS,{ref:e,...t}):W.createElement(Y3,{ref:e,...t}))}let HS=Vt(DZ),Y3=Vt(EZ),OZ=Vt(PZ),Yp=Object.assign(HS,{Child:OZ,Root:HS});function _Z({toggleSidebar:t,isSidebarOpen:e}){var f,m;const r=ue(),{user:n,selectedRole:a}=V(h=>h.auth),[s,i]=w.useState(!1),l=w.useRef(null),c=Wm();w.useEffect(()=>{if(!s)return;function h(y){l.current&&!l.current.contains(y.target)&&i(!1)}return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[s]);const u=()=>{r(s3()),c("/login")},d=h=>{const y=h.target.value,g=n.accessList.find(p=>p.ID===y);g&&r(o3(g))};return o.jsxs("header",{className:"bg-white shadow-sm z-10 relative",children:[o.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0 flex items-center lg:hidden",children:o.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:t,children:[o.jsx("span",{className:"sr-only",children:e?"Close sidebar":"Open sidebar"}),e?o.jsx(x3,{className:"block h-6 w-6","aria-hidden":"true"}):o.jsx(pJ,{className:"block h-6 w-6","aria-hidden":"true"})]})}),o.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:o.jsx("div",{className:"text-xl font-semibold text-neutral-900"})})]}),o.jsxs("div",{className:"flex items-center",children:[n&&((f=n==null?void 0:n.accessList)==null?void 0:f.length)>1&&o.jsxs("select",{value:(a==null?void 0:a.ID)||"",onChange:d,className:"text-sm border border-gray-300 rounded-md px-2 py-1 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",hidden:!0,children:"Select Role"}),n.accessList.map(h=>o.jsx("option",{value:h.ID,children:h.Description},h.ID))]}),o.jsx("div",{className:"ml-3 relative",children:o.jsxs(Rl,{as:"div",className:"relative",children:[o.jsxs(Rl.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[o.jsx("span",{className:"sr-only",children:"Open user menu"}),o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:((m=n==null?void 0:n.UserName)==null?void 0:m.charAt(0))||"U"})]}),o.jsx(Yp,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:o.jsxs(Rl.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-neutral-100 focus:outline-none",children:[o.jsx("div",{className:"py-1",children:o.jsxs("div",{className:"px-4 py-2",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:(n==null?void 0:n.UserName)||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500",children:n==null?void 0:n.email})]})}),o.jsx("div",{className:"py-1",children:o.jsx(Rl.Item,{children:({active:h})=>o.jsxs("button",{onClick:()=>c("/profile"),className:`${h?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(zJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Profile"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(Rl.Item,{children:({active:h})=>o.jsxs("button",{onClick:()=>c("/change-password"),className:`${h?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(RJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Change Password"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(Rl.Item,{children:({active:h})=>o.jsxs("button",{onClick:u,className:`${h?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(dJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Sign out"]})})})]})})]})})]})]})}),s&&o.jsxs("div",{ref:l,className:"absolute right-4 mt-2 w-80 sm:w-96 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[o.jsx("div",{className:"p-4 border-b border-neutral-200",children:o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Notifications"})}),o.jsxs("div",{className:"divide-y divide-neutral-100 max-h-80 overflow-y-auto",children:[o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:o.jsx($Z,{className:"h-5 w-5 text-primary-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"New ORS needs approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"ORS-2024-01-0023 from IT Department"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"30 minutes ago"})]})]})}),o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-success-100 flex items-center justify-center",children:o.jsx(RZ,{className:"h-5 w-5 text-success-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"DV approved"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"DV-2024-01-0015 has been approved"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"2 hours ago"})]})]})})]}),o.jsx("div",{className:"p-2 border-t border-neutral-200 text-center",children:o.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})}function $Z(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}function RZ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function MZ(){const t=Wm(),e=Ho(),[r,n]=w.useState(!0);w.useEffect(()=>{const s=()=>{window.innerWidth<1024?n(!1):n(!0)};return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[]),w.useEffect(()=>{window.innerWidth<1024&&n(!1)},[e.pathname]);const a=()=>{n(!r)};return w.useEffect(()=>{localStorage.getItem("token")||t("/login")},[t]),o.jsxs("div",{className:"h-screen flex overflow-hidden bg-neutral-50",children:[r&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-75 z-20",onClick:()=>n(!1)}),o.jsx("div",{className:`fixed inset-y-0 left-0 flex flex-col z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${r?"translate-x-0":"-translate-x-full"}`,style:{width:"300px"},children:o.jsx(YJ,{})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(_Z,{toggleSidebar:a,isSidebarOpen:r}),o.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:o.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(GB,{})})})]})]})}const LZ=()=>o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-md space-y-8",children:o.jsx(GB,{})})});var FZ=function(e){return BZ(e)&&!qZ(e)};function BZ(t){return!!t&&typeof t=="object"}function qZ(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||zZ(t)}var VZ=typeof Symbol=="function"&&Symbol.for,UZ=VZ?Symbol.for("react.element"):60103;function zZ(t){return t.$$typeof===UZ}function WZ(t){return Array.isArray(t)?[]:{}}function Px(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Uf(WZ(t),t,e):t}function HZ(t,e,r){return t.concat(e).map(function(n){return Px(n,r)})}function GZ(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(a){n[a]=Px(t[a],r)}),Object.keys(e).forEach(function(a){!r.isMergeableObject(e[a])||!t[a]?n[a]=Px(e[a],r):n[a]=Uf(t[a],e[a],r)}),n}function Uf(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||HZ,r.isMergeableObject=r.isMergeableObject||FZ;var n=Array.isArray(e),a=Array.isArray(t),s=n===a;return s?n?r.arrayMerge(t,e,r):GZ(t,e,r):Px(e,r)}Uf.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,a){return Uf(n,a,r)},{})};var GS=Uf,K3=typeof global=="object"&&global&&global.Object===Object&&global,YZ=typeof self=="object"&&self&&self.Object===Object&&self,Ya=K3||YZ||Function("return this")(),Mo=Ya.Symbol,J3=Object.prototype,KZ=J3.hasOwnProperty,JZ=J3.toString,Xu=Mo?Mo.toStringTag:void 0;function XZ(t){var e=KZ.call(t,Xu),r=t[Xu];try{t[Xu]=void 0;var n=!0}catch{}var a=JZ.call(t);return n&&(e?t[Xu]=r:delete t[Xu]),a}var QZ=Object.prototype,ZZ=QZ.toString;function eee(t){return ZZ.call(t)}var tee="[object Null]",ree="[object Undefined]",XP=Mo?Mo.toStringTag:void 0;function Nl(t){return t==null?t===void 0?ree:tee:XP&&XP in Object(t)?XZ(t):eee(t)}function X3(t,e){return function(r){return t(e(r))}}var ZT=X3(Object.getPrototypeOf,Object);function Cl(t){return t!=null&&typeof t=="object"}var nee="[object Object]",aee=Function.prototype,see=Object.prototype,Q3=aee.toString,oee=see.hasOwnProperty,iee=Q3.call(Object);function QP(t){if(!Cl(t)||Nl(t)!=nee)return!1;var e=ZT(t);if(e===null)return!0;var r=oee.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Q3.call(r)==iee}function lee(){this.__data__=[],this.size=0}function Z3(t,e){return t===e||t!==t&&e!==e}function N0(t,e){for(var r=t.length;r--;)if(Z3(t[r][0],e))return r;return-1}var cee=Array.prototype,uee=cee.splice;function dee(t){var e=this.__data__,r=N0(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():uee.call(e,r,1),--this.size,!0}function fee(t){var e=this.__data__,r=N0(e,t);return r<0?void 0:e[r][1]}function mee(t){return N0(this.__data__,t)>-1}function hee(t,e){var r=this.__data__,n=N0(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Fs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fs.prototype.clear=lee;Fs.prototype.delete=dee;Fs.prototype.get=fee;Fs.prototype.has=mee;Fs.prototype.set=hee;function pee(){this.__data__=new Fs,this.size=0}function gee(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function yee(t){return this.__data__.get(t)}function bee(t){return this.__data__.has(t)}function Qm(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xee="[object AsyncFunction]",vee="[object Function]",jee="[object GeneratorFunction]",wee="[object Proxy]";function eq(t){if(!Qm(t))return!1;var e=Nl(t);return e==vee||e==jee||e==xee||e==wee}var RN=Ya["__core-js_shared__"],ZP=function(){var t=/[^.]+$/.exec(RN&&RN.keys&&RN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Nee(t){return!!ZP&&ZP in t}var Cee=Function.prototype,See=Cee.toString;function Sl(t){if(t!=null){try{return See.call(t)}catch{}try{return t+""}catch{}}return""}var Aee=/[\\^$.*+?()[\]{}|]/g,Iee=/^\[object .+?Constructor\]$/,kee=Function.prototype,Tee=Object.prototype,Eee=kee.toString,Dee=Tee.hasOwnProperty,Pee=RegExp("^"+Eee.call(Dee).replace(Aee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Oee(t){if(!Qm(t)||Nee(t))return!1;var e=eq(t)?Pee:Iee;return e.test(Sl(t))}function _ee(t,e){return t==null?void 0:t[e]}function Al(t,e){var r=_ee(t,e);return Oee(r)?r:void 0}var zf=Al(Ya,"Map"),Wf=Al(Object,"create");function $ee(){this.__data__=Wf?Wf(null):{},this.size=0}function Ree(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Mee="__lodash_hash_undefined__",Lee=Object.prototype,Fee=Lee.hasOwnProperty;function Bee(t){var e=this.__data__;if(Wf){var r=e[t];return r===Mee?void 0:r}return Fee.call(e,t)?e[t]:void 0}var qee=Object.prototype,Vee=qee.hasOwnProperty;function Uee(t){var e=this.__data__;return Wf?e[t]!==void 0:Vee.call(e,t)}var zee="__lodash_hash_undefined__";function Wee(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Wf&&e===void 0?zee:e,this}function ul(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ul.prototype.clear=$ee;ul.prototype.delete=Ree;ul.prototype.get=Bee;ul.prototype.has=Uee;ul.prototype.set=Wee;function Hee(){this.size=0,this.__data__={hash:new ul,map:new(zf||Fs),string:new ul}}function Gee(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function C0(t,e){var r=t.__data__;return Gee(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Yee(t){var e=C0(this,t).delete(t);return this.size-=e?1:0,e}function Kee(t){return C0(this,t).get(t)}function Jee(t){return C0(this,t).has(t)}function Xee(t,e){var r=C0(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Ko(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ko.prototype.clear=Hee;Ko.prototype.delete=Yee;Ko.prototype.get=Kee;Ko.prototype.has=Jee;Ko.prototype.set=Xee;var Qee=200;function Zee(t,e){var r=this.__data__;if(r instanceof Fs){var n=r.__data__;if(!zf||n.length<Qee-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ko(n)}return r.set(t,e),this.size=r.size,this}function vu(t){var e=this.__data__=new Fs(t);this.size=e.size}vu.prototype.clear=pee;vu.prototype.delete=gee;vu.prototype.get=yee;vu.prototype.has=bee;vu.prototype.set=Zee;function ete(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var eO=function(){try{var t=Al(Object,"defineProperty");return t({},"",{}),t}catch{}}();function tq(t,e,r){e=="__proto__"&&eO?eO(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var tte=Object.prototype,rte=tte.hasOwnProperty;function rq(t,e,r){var n=t[e];(!(rte.call(t,e)&&Z3(n,r))||r===void 0&&!(e in t))&&tq(t,e,r)}function S0(t,e,r,n){var a=!r;r||(r={});for(var s=-1,i=e.length;++s<i;){var l=e[s],c=void 0;c===void 0&&(c=t[l]),a?tq(r,l,c):rq(r,l,c)}return r}function nte(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var ate="[object Arguments]";function tO(t){return Cl(t)&&Nl(t)==ate}var nq=Object.prototype,ste=nq.hasOwnProperty,ote=nq.propertyIsEnumerable,ite=tO(function(){return arguments}())?tO:function(t){return Cl(t)&&ste.call(t,"callee")&&!ote.call(t,"callee")},Zm=Array.isArray;function lte(){return!1}var aq=typeof Nn=="object"&&Nn&&!Nn.nodeType&&Nn,rO=aq&&typeof Cn=="object"&&Cn&&!Cn.nodeType&&Cn,cte=rO&&rO.exports===aq,nO=cte?Ya.Buffer:void 0,ute=nO?nO.isBuffer:void 0,sq=ute||lte,dte=9007199254740991,fte=/^(?:0|[1-9]\d*)$/;function mte(t,e){var r=typeof t;return e=e??dte,!!e&&(r=="number"||r!="symbol"&&fte.test(t))&&t>-1&&t%1==0&&t<e}var hte=9007199254740991;function oq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=hte}var pte="[object Arguments]",gte="[object Array]",yte="[object Boolean]",bte="[object Date]",xte="[object Error]",vte="[object Function]",jte="[object Map]",wte="[object Number]",Nte="[object Object]",Cte="[object RegExp]",Ste="[object Set]",Ate="[object String]",Ite="[object WeakMap]",kte="[object ArrayBuffer]",Tte="[object DataView]",Ete="[object Float32Array]",Dte="[object Float64Array]",Pte="[object Int8Array]",Ote="[object Int16Array]",_te="[object Int32Array]",$te="[object Uint8Array]",Rte="[object Uint8ClampedArray]",Mte="[object Uint16Array]",Lte="[object Uint32Array]",Tt={};Tt[Ete]=Tt[Dte]=Tt[Pte]=Tt[Ote]=Tt[_te]=Tt[$te]=Tt[Rte]=Tt[Mte]=Tt[Lte]=!0;Tt[pte]=Tt[gte]=Tt[kte]=Tt[yte]=Tt[Tte]=Tt[bte]=Tt[xte]=Tt[vte]=Tt[jte]=Tt[wte]=Tt[Nte]=Tt[Cte]=Tt[Ste]=Tt[Ate]=Tt[Ite]=!1;function Fte(t){return Cl(t)&&oq(t.length)&&!!Tt[Nl(t)]}function eE(t){return function(e){return t(e)}}var iq=typeof Nn=="object"&&Nn&&!Nn.nodeType&&Nn,Hd=iq&&typeof Cn=="object"&&Cn&&!Cn.nodeType&&Cn,Bte=Hd&&Hd.exports===iq,MN=Bte&&K3.process,qc=function(){try{var t=Hd&&Hd.require&&Hd.require("util").types;return t||MN&&MN.binding&&MN.binding("util")}catch{}}(),aO=qc&&qc.isTypedArray,qte=aO?eE(aO):Fte,Vte=Object.prototype,Ute=Vte.hasOwnProperty;function lq(t,e){var r=Zm(t),n=!r&&ite(t),a=!r&&!n&&sq(t),s=!r&&!n&&!a&&qte(t),i=r||n||a||s,l=i?nte(t.length,String):[],c=l.length;for(var u in t)(e||Ute.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||mte(u,c)))&&l.push(u);return l}var zte=Object.prototype;function tE(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||zte;return t===r}var Wte=X3(Object.keys,Object),Hte=Object.prototype,Gte=Hte.hasOwnProperty;function Yte(t){if(!tE(t))return Wte(t);var e=[];for(var r in Object(t))Gte.call(t,r)&&r!="constructor"&&e.push(r);return e}function cq(t){return t!=null&&oq(t.length)&&!eq(t)}function rE(t){return cq(t)?lq(t):Yte(t)}function Kte(t,e){return t&&S0(e,rE(e),t)}function Jte(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Xte=Object.prototype,Qte=Xte.hasOwnProperty;function Zte(t){if(!Qm(t))return Jte(t);var e=tE(t),r=[];for(var n in t)n=="constructor"&&(e||!Qte.call(t,n))||r.push(n);return r}function nE(t){return cq(t)?lq(t,!0):Zte(t)}function ere(t,e){return t&&S0(e,nE(e),t)}var uq=typeof Nn=="object"&&Nn&&!Nn.nodeType&&Nn,sO=uq&&typeof Cn=="object"&&Cn&&!Cn.nodeType&&Cn,tre=sO&&sO.exports===uq,oO=tre?Ya.Buffer:void 0,iO=oO?oO.allocUnsafe:void 0;function rre(t,e){if(e)return t.slice();var r=t.length,n=iO?iO(r):new t.constructor(r);return t.copy(n),n}function dq(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function nre(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}function fq(){return[]}var are=Object.prototype,sre=are.propertyIsEnumerable,lO=Object.getOwnPropertySymbols,aE=lO?function(t){return t==null?[]:(t=Object(t),nre(lO(t),function(e){return sre.call(t,e)}))}:fq;function ore(t,e){return S0(t,aE(t),e)}function mq(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var ire=Object.getOwnPropertySymbols,hq=ire?function(t){for(var e=[];t;)mq(e,aE(t)),t=ZT(t);return e}:fq;function lre(t,e){return S0(t,hq(t),e)}function pq(t,e,r){var n=e(t);return Zm(t)?n:mq(n,r(t))}function cre(t){return pq(t,rE,aE)}function ure(t){return pq(t,nE,hq)}var YS=Al(Ya,"DataView"),KS=Al(Ya,"Promise"),JS=Al(Ya,"Set"),XS=Al(Ya,"WeakMap"),cO="[object Map]",dre="[object Object]",uO="[object Promise]",dO="[object Set]",fO="[object WeakMap]",mO="[object DataView]",fre=Sl(YS),mre=Sl(zf),hre=Sl(KS),pre=Sl(JS),gre=Sl(XS),is=Nl;(YS&&is(new YS(new ArrayBuffer(1)))!=mO||zf&&is(new zf)!=cO||KS&&is(KS.resolve())!=uO||JS&&is(new JS)!=dO||XS&&is(new XS)!=fO)&&(is=function(t){var e=Nl(t),r=e==dre?t.constructor:void 0,n=r?Sl(r):"";if(n)switch(n){case fre:return mO;case mre:return cO;case hre:return uO;case pre:return dO;case gre:return fO}return e});var yre=Object.prototype,bre=yre.hasOwnProperty;function xre(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&bre.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var hO=Ya.Uint8Array;function sE(t){var e=new t.constructor(t.byteLength);return new hO(e).set(new hO(t)),e}function vre(t,e){var r=e?sE(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var jre=/\w*$/;function wre(t){var e=new t.constructor(t.source,jre.exec(t));return e.lastIndex=t.lastIndex,e}var pO=Mo?Mo.prototype:void 0,gO=pO?pO.valueOf:void 0;function Nre(t){return gO?Object(gO.call(t)):{}}function Cre(t,e){var r=e?sE(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Sre="[object Boolean]",Are="[object Date]",Ire="[object Map]",kre="[object Number]",Tre="[object RegExp]",Ere="[object Set]",Dre="[object String]",Pre="[object Symbol]",Ore="[object ArrayBuffer]",_re="[object DataView]",$re="[object Float32Array]",Rre="[object Float64Array]",Mre="[object Int8Array]",Lre="[object Int16Array]",Fre="[object Int32Array]",Bre="[object Uint8Array]",qre="[object Uint8ClampedArray]",Vre="[object Uint16Array]",Ure="[object Uint32Array]";function zre(t,e,r){var n=t.constructor;switch(e){case Ore:return sE(t);case Sre:case Are:return new n(+t);case _re:return vre(t,r);case $re:case Rre:case Mre:case Lre:case Fre:case Bre:case qre:case Vre:case Ure:return Cre(t,r);case Ire:return new n;case kre:case Dre:return new n(t);case Tre:return wre(t);case Ere:return new n;case Pre:return Nre(t)}}var yO=Object.create,Wre=function(){function t(){}return function(e){if(!Qm(e))return{};if(yO)return yO(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function Hre(t){return typeof t.constructor=="function"&&!tE(t)?Wre(ZT(t)):{}}var Gre="[object Map]";function Yre(t){return Cl(t)&&is(t)==Gre}var bO=qc&&qc.isMap,Kre=bO?eE(bO):Yre,Jre="[object Set]";function Xre(t){return Cl(t)&&is(t)==Jre}var xO=qc&&qc.isSet,Qre=xO?eE(xO):Xre,Zre=1,ene=2,tne=4,gq="[object Arguments]",rne="[object Array]",nne="[object Boolean]",ane="[object Date]",sne="[object Error]",yq="[object Function]",one="[object GeneratorFunction]",ine="[object Map]",lne="[object Number]",bq="[object Object]",cne="[object RegExp]",une="[object Set]",dne="[object String]",fne="[object Symbol]",mne="[object WeakMap]",hne="[object ArrayBuffer]",pne="[object DataView]",gne="[object Float32Array]",yne="[object Float64Array]",bne="[object Int8Array]",xne="[object Int16Array]",vne="[object Int32Array]",jne="[object Uint8Array]",wne="[object Uint8ClampedArray]",Nne="[object Uint16Array]",Cne="[object Uint32Array]",jt={};jt[gq]=jt[rne]=jt[hne]=jt[pne]=jt[nne]=jt[ane]=jt[gne]=jt[yne]=jt[bne]=jt[xne]=jt[vne]=jt[ine]=jt[lne]=jt[bq]=jt[cne]=jt[une]=jt[dne]=jt[fne]=jt[jne]=jt[wne]=jt[Nne]=jt[Cne]=!0;jt[sne]=jt[yq]=jt[mne]=!1;function Gd(t,e,r,n,a,s){var i,l=e&Zre,c=e&ene,u=e&tne;if(i!==void 0)return i;if(!Qm(t))return t;var d=Zm(t);if(d){if(i=xre(t),!l)return dq(t,i)}else{var f=is(t),m=f==yq||f==one;if(sq(t))return rre(t,l);if(f==bq||f==gq||m&&!a){if(i=c||m?{}:Hre(t),!l)return c?lre(t,ere(i,t)):ore(t,Kte(i,t))}else{if(!jt[f])return a?t:{};i=zre(t,f,l)}}s||(s=new vu);var h=s.get(t);if(h)return h;s.set(t,i),Qre(t)?t.forEach(function(p){i.add(Gd(p,e,r,p,t,s))}):Kre(t)&&t.forEach(function(p,b){i.set(b,Gd(p,e,r,b,t,s))});var y=u?c?ure:cre:c?nE:rE,g=d?void 0:y(t);return ete(g||t,function(p,b){g&&(b=p,p=t[b]),rq(i,b,Gd(p,e,r,b,t,s))}),i}var Sne=1,Ane=4;function Cd(t){return Gd(t,Sne|Ane)}var vO=Array.isArray,jO=Object.keys,Ine=Object.prototype.hasOwnProperty,kne=typeof Element<"u";function QS(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=vO(t),n=vO(e),a,s,i;if(r&&n){if(s=t.length,s!=e.length)return!1;for(a=s;a--!==0;)if(!QS(t[a],e[a]))return!1;return!0}if(r!=n)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=jO(t);if(s=f.length,s!==jO(e).length)return!1;for(a=s;a--!==0;)if(!Ine.call(e,f[a]))return!1;if(kne&&t instanceof Element&&e instanceof Element)return t===e;for(a=s;a--!==0;)if(i=f[a],!(i==="_owner"&&t.$$typeof)&&!QS(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var Tne=function(e,r){try{return QS(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const Zs=it(Tne);var Ene=4;function wO(t){return Gd(t,Ene)}function xq(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Dne="[object Symbol]";function oE(t){return typeof t=="symbol"||Cl(t)&&Nl(t)==Dne}var Pne="Expected a function";function iE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Pne);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(iE.Cache||Ko),r}iE.Cache=Ko;var One=500;function _ne(t){var e=iE(t,function(n){return r.size===One&&r.clear(),n}),r=e.cache;return e}var $ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rne=/\\(\\)?/g,Mne=_ne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($ne,function(r,n,a,s){e.push(a?s.replace(Rne,"$1"):n||r)}),e});function Lne(t){if(typeof t=="string"||oE(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var NO=Mo?Mo.prototype:void 0,CO=NO?NO.toString:void 0;function vq(t){if(typeof t=="string")return t;if(Zm(t))return xq(t,vq)+"";if(oE(t))return CO?CO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Fne(t){return t==null?"":vq(t)}function jq(t){return Zm(t)?xq(t,Lne):oE(t)?[t]:dq(Mne(Fne(t)))}var wq={exports:{}},ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=typeof Symbol=="function"&&Symbol.for,lE=vr?Symbol.for("react.element"):60103,cE=vr?Symbol.for("react.portal"):60106,A0=vr?Symbol.for("react.fragment"):60107,I0=vr?Symbol.for("react.strict_mode"):60108,k0=vr?Symbol.for("react.profiler"):60114,T0=vr?Symbol.for("react.provider"):60109,E0=vr?Symbol.for("react.context"):60110,uE=vr?Symbol.for("react.async_mode"):60111,D0=vr?Symbol.for("react.concurrent_mode"):60111,P0=vr?Symbol.for("react.forward_ref"):60112,O0=vr?Symbol.for("react.suspense"):60113,Bne=vr?Symbol.for("react.suspense_list"):60120,_0=vr?Symbol.for("react.memo"):60115,$0=vr?Symbol.for("react.lazy"):60116,qne=vr?Symbol.for("react.block"):60121,Vne=vr?Symbol.for("react.fundamental"):60117,Une=vr?Symbol.for("react.responder"):60118,zne=vr?Symbol.for("react.scope"):60119;function Rn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lE:switch(t=t.type,t){case uE:case D0:case A0:case k0:case I0:case O0:return t;default:switch(t=t&&t.$$typeof,t){case E0:case P0:case $0:case _0:case T0:return t;default:return e}}case cE:return e}}}function Nq(t){return Rn(t)===D0}ht.AsyncMode=uE;ht.ConcurrentMode=D0;ht.ContextConsumer=E0;ht.ContextProvider=T0;ht.Element=lE;ht.ForwardRef=P0;ht.Fragment=A0;ht.Lazy=$0;ht.Memo=_0;ht.Portal=cE;ht.Profiler=k0;ht.StrictMode=I0;ht.Suspense=O0;ht.isAsyncMode=function(t){return Nq(t)||Rn(t)===uE};ht.isConcurrentMode=Nq;ht.isContextConsumer=function(t){return Rn(t)===E0};ht.isContextProvider=function(t){return Rn(t)===T0};ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lE};ht.isForwardRef=function(t){return Rn(t)===P0};ht.isFragment=function(t){return Rn(t)===A0};ht.isLazy=function(t){return Rn(t)===$0};ht.isMemo=function(t){return Rn(t)===_0};ht.isPortal=function(t){return Rn(t)===cE};ht.isProfiler=function(t){return Rn(t)===k0};ht.isStrictMode=function(t){return Rn(t)===I0};ht.isSuspense=function(t){return Rn(t)===O0};ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===A0||t===D0||t===k0||t===I0||t===O0||t===Bne||typeof t=="object"&&t!==null&&(t.$$typeof===$0||t.$$typeof===_0||t.$$typeof===T0||t.$$typeof===E0||t.$$typeof===P0||t.$$typeof===Vne||t.$$typeof===Une||t.$$typeof===zne||t.$$typeof===qne)};ht.typeOf=Rn;wq.exports=ht;var Wne=wq.exports,dE=Wne,Hne={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Gne={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Yne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Cq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fE={};fE[dE.ForwardRef]=Yne;fE[dE.Memo]=Cq;function SO(t){return dE.isMemo(t)?Cq:fE[t.$$typeof]||Hne}var Kne=Object.defineProperty,Jne=Object.getOwnPropertyNames,AO=Object.getOwnPropertySymbols,Xne=Object.getOwnPropertyDescriptor,Qne=Object.getPrototypeOf,IO=Object.prototype;function Sq(t,e,r){if(typeof e!="string"){if(IO){var n=Qne(e);n&&n!==IO&&Sq(t,n,r)}var a=Jne(e);AO&&(a=a.concat(AO(e)));for(var s=SO(t),i=SO(e),l=0;l<a.length;++l){var c=a[l];if(!Gne[c]&&!(r&&r[c])&&!(i&&i[c])&&!(s&&s[c])){var u=Xne(e,c);try{Kne(t,c,u)}catch{}}}}return t}var Zne=Sq;const eae=it(Zne);function Ut(){return Ut=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ut.apply(this,arguments)}function tae(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function mE(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function kO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var R0=w.createContext(void 0);R0.displayName="FormikContext";var hE=R0.Provider,rae=R0.Consumer;function Aq(){var t=w.useContext(R0);return t}var TO=function(e){return Array.isArray(e)&&e.length===0},Zr=function(e){return typeof e=="function"},eh=function(e){return e!==null&&typeof e=="object"},nae=function(e){return String(Math.floor(Number(e)))===e},LN=function(e){return Object.prototype.toString.call(e)==="[object String]"},Iq=function(e){return w.Children.count(e)===0},FN=function(e){return eh(e)&&Zr(e.then)};function pr(t,e,r,n){n===void 0&&(n=0);for(var a=jq(e);t&&n<a.length;)t=t[a[n++]];return n!==a.length&&!t||t===void 0?r:t}function Ma(t,e,r){for(var n=wO(t),a=n,s=0,i=jq(e);s<i.length-1;s++){var l=i[s],c=pr(t,i.slice(0,s+1));if(c&&(eh(c)||Array.isArray(c)))a=a[l]=wO(c);else{var u=i[s+1];a=a[l]=nae(u)&&Number(u)>=0?[]:{}}}return(s===0?t:a)[i[s]]===r?t:(r===void 0?delete a[i[s]]:a[i[s]]=r,s===0&&r===void 0&&delete n[i[s]],n)}function kq(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var a=0,s=Object.keys(t);a<s.length;a++){var i=s[a],l=t[i];eh(l)?r.get(l)||(r.set(l,!0),n[i]=Array.isArray(l)?[]:{},kq(l,e,r,n[i])):n[i]=e}return n}function aae(t,e){switch(e.type){case"SET_VALUES":return Ut({},t,{values:e.payload});case"SET_TOUCHED":return Ut({},t,{touched:e.payload});case"SET_ERRORS":return Zs(t.errors,e.payload)?t:Ut({},t,{errors:e.payload});case"SET_STATUS":return Ut({},t,{status:e.payload});case"SET_ISSUBMITTING":return Ut({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Ut({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Ut({},t,{values:Ma(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Ut({},t,{touched:Ma(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Ut({},t,{errors:Ma(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Ut({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Ut({},t,{touched:kq(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Ut({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Ut({},t,{isSubmitting:!1});default:return t}}var si={},Wh={};function at(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,a=n===void 0?!0:n,s=t.validateOnMount,i=s===void 0?!1:s,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=mE(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=Ut({validateOnChange:r,validateOnBlur:a,validateOnMount:i,onSubmit:d},f),h=w.useRef(m.initialValues),y=w.useRef(m.initialErrors||si),g=w.useRef(m.initialTouched||Wh),p=w.useRef(m.initialStatus),b=w.useRef(!1),v=w.useRef({});w.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var j=w.useState(0),C=j[1],x=w.useRef({values:Cd(m.initialValues),errors:Cd(m.initialErrors)||si,touched:Cd(m.initialTouched)||Wh,status:Cd(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),N=x.current,S=w.useCallback(function(Q){var be=x.current;x.current=aae(be,Q),be!==x.current&&C(function(Z){return Z+1})},[]),A=w.useCallback(function(Q,be){return new Promise(function(Z,he){var ge=m.validate(Q,be);ge==null?Z(si):FN(ge)?ge.then(function(De){Z(De||si)},function(De){he(De)}):Z(ge)})},[m.validate]),I=w.useCallback(function(Q,be){var Z=m.validationSchema,he=Zr(Z)?Z(be):Z,ge=be&&he.validateAt?he.validateAt(be,Q):oae(Q,he);return new Promise(function(De,Qe){ge.then(function(){De(si)},function(et){et.name==="ValidationError"?De(sae(et)):Qe(et)})})},[m.validationSchema]),E=w.useCallback(function(Q,be){return new Promise(function(Z){return Z(v.current[Q].validate(be))})},[]),k=w.useCallback(function(Q){var be=Object.keys(v.current).filter(function(he){return Zr(v.current[he].validate)}),Z=be.length>0?be.map(function(he){return E(he,pr(Q,he))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Z).then(function(he){return he.reduce(function(ge,De,Qe){return De==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||De&&(ge=Ma(ge,be[Qe],De)),ge},{})})},[E]),P=w.useCallback(function(Q){return Promise.all([k(Q),m.validationSchema?I(Q):{},m.validate?A(Q):{}]).then(function(be){var Z=be[0],he=be[1],ge=be[2],De=GS.all([Z,he,ge],{arrayMerge:iae});return De})},[m.validate,m.validationSchema,k,A,I]),R=Mn(function(Q){return Q===void 0&&(Q=N.values),S({type:"SET_ISVALIDATING",payload:!0}),P(Q).then(function(be){return b.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:be})),be})});w.useEffect(function(){i&&b.current===!0&&Zs(h.current,m.initialValues)&&R(h.current)},[i,R]);var M=w.useCallback(function(Q){var be=Q&&Q.values?Q.values:h.current,Z=Q&&Q.errors?Q.errors:y.current?y.current:m.initialErrors||{},he=Q&&Q.touched?Q.touched:g.current?g.current:m.initialTouched||{},ge=Q&&Q.status?Q.status:p.current?p.current:m.initialStatus;h.current=be,y.current=Z,g.current=he,p.current=ge;var De=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!Q&&!!Q.isSubmitting,errors:Z,touched:he,status:ge,values:be,isValidating:!!Q&&!!Q.isValidating,submitCount:Q&&Q.submitCount&&typeof Q.submitCount=="number"?Q.submitCount:0}})};if(m.onReset){var Qe=m.onReset(N.values,me);FN(Qe)?Qe.then(De):De()}else De()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);w.useEffect(function(){b.current===!0&&!Zs(h.current,m.initialValues)&&u&&(h.current=m.initialValues,M(),i&&R(h.current))},[u,m.initialValues,M,i,R]),w.useEffect(function(){u&&b.current===!0&&!Zs(y.current,m.initialErrors)&&(y.current=m.initialErrors||si,S({type:"SET_ERRORS",payload:m.initialErrors||si}))},[u,m.initialErrors]),w.useEffect(function(){u&&b.current===!0&&!Zs(g.current,m.initialTouched)&&(g.current=m.initialTouched||Wh,S({type:"SET_TOUCHED",payload:m.initialTouched||Wh}))},[u,m.initialTouched]),w.useEffect(function(){u&&b.current===!0&&!Zs(p.current,m.initialStatus)&&(p.current=m.initialStatus,S({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var _=Mn(function(Q){if(v.current[Q]&&Zr(v.current[Q].validate)){var be=pr(N.values,Q),Z=v.current[Q].validate(be);return FN(Z)?(S({type:"SET_ISVALIDATING",payload:!0}),Z.then(function(he){return he}).then(function(he){S({type:"SET_FIELD_ERROR",payload:{field:Q,value:he}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:Q,value:Z}}),Promise.resolve(Z))}else if(m.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),I(N.values,Q).then(function(he){return he}).then(function(he){S({type:"SET_FIELD_ERROR",payload:{field:Q,value:pr(he,Q)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),L=w.useCallback(function(Q,be){var Z=be.validate;v.current[Q]={validate:Z}},[]),F=w.useCallback(function(Q){delete v.current[Q]},[]),$=Mn(function(Q,be){S({type:"SET_TOUCHED",payload:Q});var Z=be===void 0?a:be;return Z?R(N.values):Promise.resolve()}),O=w.useCallback(function(Q){S({type:"SET_ERRORS",payload:Q})},[]),U=Mn(function(Q,be){var Z=Zr(Q)?Q(N.values):Q;S({type:"SET_VALUES",payload:Z});var he=be===void 0?r:be;return he?R(Z):Promise.resolve()}),K=w.useCallback(function(Q,be){S({type:"SET_FIELD_ERROR",payload:{field:Q,value:be}})},[]),G=Mn(function(Q,be,Z){S({type:"SET_FIELD_VALUE",payload:{field:Q,value:be}});var he=Z===void 0?r:Z;return he?R(Ma(N.values,Q,be)):Promise.resolve()}),z=w.useCallback(function(Q,be){var Z=be,he=Q,ge;if(!LN(Q)){Q.persist&&Q.persist();var De=Q.target?Q.target:Q.currentTarget,Qe=De.type,et=De.name,Er=De.id,Ws=De.value,ni=De.checked;De.outerHTML;var Hs=De.options,ai=De.multiple;Z=be||et||Er,he=/number|range/.test(Qe)?(ge=parseFloat(Ws),isNaN(ge)?"":ge):/checkbox/.test(Qe)?cae(pr(N.values,Z),ni,Ws):Hs&&ai?lae(Hs):Ws}Z&&G(Z,he)},[G,N.values]),ae=Mn(function(Q){if(LN(Q))return function(be){return z(be,Q)};z(Q)}),xe=Mn(function(Q,be,Z){be===void 0&&(be=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:Q,value:be}});var he=Z===void 0?a:Z;return he?R(N.values):Promise.resolve()}),se=w.useCallback(function(Q,be){Q.persist&&Q.persist();var Z=Q.target,he=Z.name,ge=Z.id;Z.outerHTML;var De=be||he||ge;xe(De,!0)},[xe]),J=Mn(function(Q){if(LN(Q))return function(be){return se(be,Q)};se(Q)}),ce=w.useCallback(function(Q){Zr(Q)?S({type:"SET_FORMIK_STATE",payload:Q}):S({type:"SET_FORMIK_STATE",payload:function(){return Q}})},[]),ee=w.useCallback(function(Q){S({type:"SET_STATUS",payload:Q})},[]),re=w.useCallback(function(Q){S({type:"SET_ISSUBMITTING",payload:Q})},[]),X=Mn(function(){return S({type:"SUBMIT_ATTEMPT"}),R().then(function(Q){var be=Q instanceof Error,Z=!be&&Object.keys(Q).length===0;if(Z){var he;try{if(he=Ne(),he===void 0)return}catch(ge){throw ge}return Promise.resolve(he).then(function(ge){return b.current&&S({type:"SUBMIT_SUCCESS"}),ge}).catch(function(ge){if(b.current)throw S({type:"SUBMIT_FAILURE"}),ge})}else if(b.current&&(S({type:"SUBMIT_FAILURE"}),be))throw Q})}),H=Mn(function(Q){Q&&Q.preventDefault&&Zr(Q.preventDefault)&&Q.preventDefault(),Q&&Q.stopPropagation&&Zr(Q.stopPropagation)&&Q.stopPropagation(),X().catch(function(be){console.warn("Warning: An unhandled error was caught from submitForm()",be)})}),me={resetForm:M,validateForm:R,validateField:_,setErrors:O,setFieldError:K,setFieldTouched:xe,setFieldValue:G,setStatus:ee,setSubmitting:re,setTouched:$,setValues:U,setFormikState:ce,submitForm:X},Ne=Mn(function(){return d(N.values,me)}),Ee=Mn(function(Q){Q&&Q.preventDefault&&Zr(Q.preventDefault)&&Q.preventDefault(),Q&&Q.stopPropagation&&Zr(Q.stopPropagation)&&Q.stopPropagation(),M()}),Ue=w.useCallback(function(Q){return{value:pr(N.values,Q),error:pr(N.errors,Q),touched:!!pr(N.touched,Q),initialValue:pr(h.current,Q),initialTouched:!!pr(g.current,Q),initialError:pr(y.current,Q)}},[N.errors,N.touched,N.values]),Ve=w.useCallback(function(Q){return{setValue:function(Z,he){return G(Q,Z,he)},setTouched:function(Z,he){return xe(Q,Z,he)},setError:function(Z){return K(Q,Z)}}},[G,xe,K]),qr=w.useCallback(function(Q){var be=eh(Q),Z=be?Q.name:Q,he=pr(N.values,Z),ge={name:Z,value:he,onChange:ae,onBlur:J};if(be){var De=Q.type,Qe=Q.value,et=Q.as,Er=Q.multiple;De==="checkbox"?Qe===void 0?ge.checked=!!he:(ge.checked=!!(Array.isArray(he)&&~he.indexOf(Qe)),ge.value=Qe):De==="radio"?(ge.checked=he===Qe,ge.value=Qe):et==="select"&&Er&&(ge.value=ge.value||[],ge.multiple=!0)}return ge},[J,ae,N.values]),Vr=w.useMemo(function(){return!Zs(h.current,N.values)},[h.current,N.values]),na=w.useMemo(function(){return typeof l<"u"?Vr?N.errors&&Object.keys(N.errors).length===0:l!==!1&&Zr(l)?l(m):l:N.errors&&Object.keys(N.errors).length===0},[l,Vr,N.errors,m]),Jr=Ut({},N,{initialValues:h.current,initialErrors:y.current,initialTouched:g.current,initialStatus:p.current,handleBlur:J,handleChange:ae,handleReset:Ee,handleSubmit:H,resetForm:M,setErrors:O,setFormikState:ce,setFieldTouched:xe,setFieldValue:G,setFieldError:K,setStatus:ee,setSubmitting:re,setTouched:$,setValues:U,submitForm:X,validateForm:R,validateField:_,isValid:na,dirty:Vr,unregisterField:F,registerField:L,getFieldProps:qr,getFieldMeta:Ue,getFieldHelpers:Ve,validateOnBlur:a,validateOnChange:r,validateOnMount:i});return Jr}function Re(t){var e=at(t),r=t.component,n=t.children,a=t.render,s=t.innerRef;return w.useImperativeHandle(s,function(){return e}),w.createElement(hE,{value:e},r?w.createElement(r,e):a?a(e):n?Zr(n)?n(e):Iq(n)?null:w.Children.only(n):null)}function sae(t){var e={};if(t.inner){if(t.inner.length===0)return Ma(e,t.path,t.message);for(var a=t.inner,r=Array.isArray(a),n=0,a=r?a:a[Symbol.iterator]();;){var s;if(r){if(n>=a.length)break;s=a[n++]}else{if(n=a.next(),n.done)break;s=n.value}var i=s;pr(e,i.path)||(e=Ma(e,i.path,i.message))}}return e}function oae(t,e,r,n){r===void 0&&(r=!1);var a=ZS(t);return e[r?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function ZS(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(a){return Array.isArray(a)===!0||QP(a)?ZS(a):a!==""?a:void 0}):QP(t[n])?e[n]=ZS(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function iae(t,e,r){var n=t.slice();return e.forEach(function(s,i){if(typeof n[i]>"u"){var l=r.clone!==!1,c=l&&r.isMergeableObject(s);n[i]=c?GS(Array.isArray(s)?[]:{},s,r):s}else r.isMergeableObject(s)?n[i]=GS(t[i],s,r):t.indexOf(s)===-1&&n.push(s)}),n}function lae(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function cae(t,e,r){if(typeof t=="boolean")return!!e;var n=[],a=!1,s=-1;if(Array.isArray(t))n=t,s=t.indexOf(r),a=s>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!a?n.concat(r):a?n.slice(0,s).concat(n.slice(s+1)):n}var uae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function Mn(t){var e=w.useRef(t);return uae(function(){e.current=t}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current.apply(void 0,n)},[])}var qe=w.forwardRef(function(t,e){var r=t.action,n=mE(t,["action"]),a=r??"#",s=Aq(),i=s.handleReset,l=s.handleSubmit;return w.createElement("form",Ut({onSubmit:l,ref:e,onReset:i,action:a},n))});qe.displayName="Form";function dae(t){var e=function(a){return w.createElement(rae,null,function(s){return w.createElement(t,Ut({},a,{formik:s}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",eae(e,t)}var fae=function(e,r,n){var a=dl(e),s=a[r];return a.splice(r,1),a.splice(n,0,s),a},mae=function(e,r,n){var a=dl(e),s=a[r];return a[r]=a[n],a[n]=s,a},BN=function(e,r,n){var a=dl(e);return a.splice(r,0,n),a},hae=function(e,r,n){var a=dl(e);return a[r]=n,a},dl=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,a){return a>n?a:n},0);return Array.from(Ut({},e,{length:r+1}))}else return[]},EO=function(e,r){var n=typeof e=="function"?e:r;return function(a){if(Array.isArray(a)||eh(a)){var s=dl(a);return n(s)}return a}},Tq=function(t){tae(e,t);function e(n){var a;return a=t.call(this,n)||this,a.updateArrayField=function(s,i,l){var c=a.props,u=c.name,d=c.formik.setFormikState;d(function(f){var m=EO(l,s),h=EO(i,s),y=Ma(f.values,u,s(pr(f.values,u))),g=l?m(pr(f.errors,u)):void 0,p=i?h(pr(f.touched,u)):void 0;return TO(g)&&(g=void 0),TO(p)&&(p=void 0),Ut({},f,{values:y,errors:l?Ma(f.errors,u,g):f.errors,touched:i?Ma(f.touched,u,p):f.touched})})},a.push=function(s){return a.updateArrayField(function(i){return[].concat(dl(i),[Cd(s)])},!1,!1)},a.handlePush=function(s){return function(){return a.push(s)}},a.swap=function(s,i){return a.updateArrayField(function(l){return mae(l,s,i)},!0,!0)},a.handleSwap=function(s,i){return function(){return a.swap(s,i)}},a.move=function(s,i){return a.updateArrayField(function(l){return fae(l,s,i)},!0,!0)},a.handleMove=function(s,i){return function(){return a.move(s,i)}},a.insert=function(s,i){return a.updateArrayField(function(l){return BN(l,s,i)},function(l){return BN(l,s,null)},function(l){return BN(l,s,null)})},a.handleInsert=function(s,i){return function(){return a.insert(s,i)}},a.replace=function(s,i){return a.updateArrayField(function(l){return hae(l,s,i)},!1,!1)},a.handleReplace=function(s,i){return function(){return a.replace(s,i)}},a.unshift=function(s){var i=-1;return a.updateArrayField(function(l){var c=l?[s].concat(l):[s];return i=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),i},a.handleUnshift=function(s){return function(){return a.unshift(s)}},a.handleRemove=function(s){return function(){return a.remove(s)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(kO(a)),a.pop=a.pop.bind(kO(a)),a}var r=e.prototype;return r.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Zs(pr(a.formik.values,a.name),pr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(a){var s;return this.updateArrayField(function(i){var l=i?dl(i):[];return s||(s=l[a]),Zr(l.splice)&&l.splice(a,1),Zr(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),s},r.pop=function(){var a;return this.updateArrayField(function(s){var i=s.slice();return a||(a=i&&i.pop&&i.pop()),i},!0,!0),a},r.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,i=s.component,l=s.render,c=s.children,u=s.name,d=s.formik,f=mE(d,["validate","validationSchema"]),m=Ut({},a,{form:f,name:u});return i?w.createElement(i,m):l?l(m):c?typeof c=="function"?c(m):Iq(c)?null:w.Children.only(c):null},e}(w.Component);Tq.defaultProps={validateOnChange:!0};var nn=dae(Tq);function T({label:t,name:e,type:r="text",placeholder:n="",required:a=!1,disabled:s=!1,readOnly:i=!1,className:l="",options:c=[],value:u,onChange:d,onBlur:f,error:m,touched:h,helperText:y,...g}){const p=m&&h,[b,v]=w.useState(!1),j=()=>{switch(r){case"textarea":return o.jsx("textarea",{id:e,name:e,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,rows:g.rows||3,className:$e("form-textarea border border-gray-300 px-4 py-2",p&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...g});case"multiselect":return o.jsx("select",{id:e,name:e,disabled:s,multiple:!0,value:u||[],onChange:C=>{const x=Array.from(C.target.selectedOptions).map(N=>N.value);d({target:{name:e,value:x}})},onBlur:f,className:$e("form-select border border-gray-300 px-4 py-2 h-auto",p&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...g,children:c.map(C=>o.jsx("option",{value:C.value,children:C.label},C.value))});case"select":return o.jsxs("select",{id:e,name:e,disabled:s,value:u,onChange:d,onBlur:f,className:$e("form-select border border-gray-300 px-4 py-2 pr-10",p&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...g,children:[o.jsx("option",{value:"",children:g.defaultOption||"Select"}),c.map(C=>o.jsx("option",{value:C.value,children:C.label},C.value))]});case"checkbox":return o.jsx("div",{className:"flex items-center h-full",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:e,name:e,type:"checkbox",disabled:s,checked:u,onChange:d,onBlur:f,className:$e("form-checkbox",p&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...g}),o.jsx("label",{htmlFor:e,className:"ml-2 block text-sm text-neutral-700",children:t})]})});case"radio":return o.jsx("div",{className:"space-y-2",children:c.map(C=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:`${e}-${C.value}`,name:e,type:"radio",value:C.value,disabled:s,checked:u===C.value,onChange:d,onBlur:f,className:$e("form-radio ",p&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...g}),o.jsx("label",{htmlFor:`${e}-${C.value}`,className:"ml-2 block text-sm text-neutral-700",children:C.label})]},C.value))});case"password":return o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:e,name:e,type:b?"text":"password",placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:$e("form-input border border-gray-300 h-[42px] px-4 py-2 pr-10 w-full",p&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...g}),o.jsx("button",{type:"button",onClick:()=>v(C=>!C),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",tabIndex:-1,children:b?o.jsx(TJ,{className:"h-5 w-5"}):o.jsx(Gm,{className:"h-5 w-5"})})]});case"date":case"number":case"email":case"text":default:return o.jsx("input",{id:e,name:e,type:r,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:$e("form-input border border-gray-300 h-[42px] px-4 py-2",p&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...g})}};return o.jsxs("div",{className:`form-group ${r==="checkbox"?"":"space-y-1"}`,children:[r!=="checkbox"&&o.jsxs("label",{htmlFor:e,className:"form-label",children:[t," ",a&&o.jsx("span",{className:"text-error-500",children:"*"})]}),j(),p?o.jsx("div",{className:"mt-1 text-error-600 text-sm",children:m}):y?o.jsx("div",{className:"mt-1 text-neutral-500 text-xs",children:y}):null]})}function pae(){const[t,e]=w.useState(""),[r,n]=w.useState(""),a=ue(),{isLoading:s,error:i}=V(c=>c.auth),l=c=>{if(c.preventDefault(),!t||!r){q.error("Please fill out all fields.");return}a(Wp({username:t,password:r}))};return o.jsx("div",{className:"bg-neutral-100 flex items-center justify-center  sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-4 sm:p-8 rounded-lg shadow-md",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-neutral-900",children:"LGU Management System"}),o.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to access your account"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[o.jsxs("div",{className:"rounded-md space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:t,onChange:c=>e(c.target.value)}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:r,onChange:c=>n(c.target.value)}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]})})]}),i&&o.jsx("div",{className:"rounded-md bg-error-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(IJ,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm font-medium text-error-800",children:i})})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:`btn btn-primary w-full flex justify-center items-center ${s?"opacity-70 cursor-not-allowed":""}`,children:s?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),o.jsx("div",{className:"text-center text-sm text-neutral-500 mt-8",children:" 2025 Local Government Unit. All rights reserved."})]})})}const gae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Registration Page"})}),yae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Forgot Password Page"})}),bae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Reset Password Page"})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function th(t){return t+.5|0}const co=(t,e,r)=>Math.max(Math.min(t,r),e);function Sd(t){return co(th(t*2.55),0,255)}function Co(t){return co(th(t*255),0,255)}function ls(t){return co(th(t/2.55)/100,0,1)}function DO(t){return co(th(t*100),0,100)}const Ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},eA=[..."0123456789ABCDEF"],xae=t=>eA[t&15],vae=t=>eA[(t&240)>>4]+eA[t&15],Hh=t=>(t&240)>>4===(t&15),jae=t=>Hh(t.r)&&Hh(t.g)&&Hh(t.b)&&Hh(t.a);function wae(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Ln[t[1]]*17,g:255&Ln[t[2]]*17,b:255&Ln[t[3]]*17,a:e===5?Ln[t[4]]*17:255}:(e===7||e===9)&&(r={r:Ln[t[1]]<<4|Ln[t[2]],g:Ln[t[3]]<<4|Ln[t[4]],b:Ln[t[5]]<<4|Ln[t[6]],a:e===9?Ln[t[7]]<<4|Ln[t[8]]:255})),r}const Nae=(t,e)=>t<255?e(t):"";function Cae(t){var e=jae(t)?xae:vae;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Nae(t.a,e):void 0}const Sae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Eq(t,e,r){const n=e*Math.min(r,1-r),a=(s,i=(s+t/30)%12)=>r-n*Math.max(Math.min(i-3,9-i,1),-1);return[a(0),a(8),a(4)]}function Aae(t,e,r){const n=(a,s=(a+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function Iae(t,e,r){const n=Eq(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function kae(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function pE(t){const r=t.r/255,n=t.g/255,a=t.b/255,s=Math.max(r,n,a),i=Math.min(r,n,a),l=(s+i)/2;let c,u,d;return s!==i&&(d=s-i,u=l>.5?d/(2-s-i):d/(s+i),c=kae(r,n,a,d,s),c=c*60+.5),[c|0,u||0,l]}function gE(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Co)}function yE(t,e,r){return gE(Eq,t,e,r)}function Tae(t,e,r){return gE(Iae,t,e,r)}function Eae(t,e,r){return gE(Aae,t,e,r)}function Dq(t){return(t%360+360)%360}function Dae(t){const e=Sae.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Sd(+e[5]):Co(+e[5]));const a=Dq(+e[2]),s=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?n=Tae(a,s,i):e[1]==="hsv"?n=Eae(a,s,i):n=yE(a,s,i),{r:n[0],g:n[1],b:n[2],a:r}}function Pae(t,e){var r=pE(t);r[0]=Dq(r[0]+e),r=yE(r),t.r=r[0],t.g=r[1],t.b=r[2]}function Oae(t){if(!t)return;const e=pE(t),r=e[0],n=DO(e[1]),a=DO(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${ls(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const PO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},OO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _ae(){const t={},e=Object.keys(OO),r=Object.keys(PO);let n,a,s,i,l;for(n=0;n<e.length;n++){for(i=l=e[n],a=0;a<r.length;a++)s=r[a],l=l.replace(s,PO[s]);s=parseInt(OO[i],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Gh;function $ae(t){Gh||(Gh=_ae(),Gh.transparent=[0,0,0,0]);const e=Gh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Rae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Mae(t){const e=Rae.exec(t);let r=255,n,a,s;if(e){if(e[7]!==n){const i=+e[7];r=e[8]?Sd(i):co(i*255,0,255)}return n=+e[1],a=+e[3],s=+e[5],n=255&(e[2]?Sd(n):co(n,0,255)),a=255&(e[4]?Sd(a):co(a,0,255)),s=255&(e[6]?Sd(s):co(s,0,255)),{r:n,g:a,b:s,a:r}}}function Lae(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ls(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const qN=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ml=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Fae(t,e,r){const n=Ml(ls(t.r)),a=Ml(ls(t.g)),s=Ml(ls(t.b));return{r:Co(qN(n+r*(Ml(ls(e.r))-n))),g:Co(qN(a+r*(Ml(ls(e.g))-a))),b:Co(qN(s+r*(Ml(ls(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Yh(t,e,r){if(t){let n=pE(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=yE(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Pq(t,e){return t&&Object.assign(e||{},t)}function _O(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Co(t[3]))):(e=Pq(t,{r:0,g:0,b:0,a:1}),e.a=Co(e.a)),e}function Bae(t){return t.charAt(0)==="r"?Mae(t):Dae(t)}let Oq=class tA{constructor(e){if(e instanceof tA)return e;const r=typeof e;let n;r==="object"?n=_O(e):r==="string"&&(n=wae(e)||$ae(e)||Bae(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Pq(this._rgb);return e&&(e.a=ls(e.a)),e}set rgb(e){this._rgb=_O(e)}rgbString(){return this._valid?Lae(this._rgb):void 0}hexString(){return this._valid?Cae(this._rgb):void 0}hslString(){return this._valid?Oae(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let s;const i=r===s?.5:r,l=2*i-1,c=n.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-u,n.r=255&u*n.r+s*a.r+.5,n.g=255&u*n.g+s*a.g+.5,n.b=255&u*n.b+s*a.b+.5,n.a=i*n.a+(1-i)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=Fae(this._rgb,e._rgb,r)),this}clone(){return new tA(this.rgb)}alpha(e){return this._rgb.a=Co(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=th(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Yh(this._rgb,2,e),this}darken(e){return Yh(this._rgb,2,-e),this}saturate(e){return Yh(this._rgb,1,e),this}desaturate(e){return Yh(this._rgb,1,-e),this}rotate(e){return Pae(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Qa(){}const qae=(()=>{let t=0;return()=>t++})();function Ge(t){return t==null}function $t(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ke(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Gt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function yn(t,e){return Gt(t)?t:e}function Me(t,e){return typeof t>"u"?e:t}const Vae=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,_q=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Nt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function dt(t,e,r,n){let a,s,i;if($t(t))for(s=t.length,a=0;a<s;a++)e.call(r,t[a],a);else if(Ke(t))for(i=Object.keys(t),s=i.length,a=0;a<s;a++)e.call(r,t[i[a]],i[a])}function Ox(t,e){let r,n,a,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],s=e[r],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function _x(t){if($t(t))return t.map(_x);if(Ke(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=_x(t[r[a]]);return e}return t}function $q(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Uae(t,e,r,n){if(!$q(t))return;const a=e[t],s=r[t];Ke(a)&&Ke(s)?Hf(a,s,n):e[t]=_x(s)}function Hf(t,e,r){const n=$t(e)?e:[e],a=n.length;if(!Ke(t))return t;r=r||{};const s=r.merger||Uae;let i;for(let l=0;l<a;++l){if(i=n[l],!Ke(i))continue;const c=Object.keys(i);for(let u=0,d=c.length;u<d;++u)s(c[u],t,i,r)}return t}function Yd(t,e){return Hf(t,e,{merger:zae})}function zae(t,e,r){if(!$q(t))return;const n=e[t],a=r[t];Ke(n)&&Ke(a)?Yd(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=_x(a))}const $O={"":t=>t,x:t=>t.x,y:t=>t.y};function Wae(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function Hae(t){const e=Wae(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Lo(t,e){return($O[e]||($O[e]=Hae(e)))(t)}function bE(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Gf=t=>typeof t<"u",Fo=t=>typeof t=="function",RO=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function Gae(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const rt=Math.PI,Ot=2*rt,Yae=Ot+rt,$x=Number.POSITIVE_INFINITY,Kae=rt/180,er=rt/2,oi=rt/4,MO=rt*2/3,uo=Math.log10,La=Math.sign;function Kd(t,e,r){return Math.abs(t-e)<r}function LO(t){const e=Math.round(t);t=Kd(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(uo(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function Jae(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,s)=>a-s).pop(),e}function Xae(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Vc(t){return!Xae(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Qae(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function Rq(t,e,r){let n,a,s;for(n=0,a=t.length;n<a;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function da(t){return t*(rt/180)}function xE(t){return t*(180/rt)}function FO(t){if(!Gt(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Mq(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*rt&&(s+=Ot),{angle:s,distance:a}}function rA(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Zae(t,e){return(t-e+Yae)%Ot-rt}function $r(t){return(t%Ot+Ot)%Ot}function Yf(t,e,r,n){const a=$r(t),s=$r(e),i=$r(r),l=$r(s-a),c=$r(i-a),u=$r(a-s),d=$r(a-i);return a===s||a===i||n&&s===i||l>c&&u<d}function br(t,e,r){return Math.max(e,Math.min(r,t))}function ese(t){return br(t,-32768,32767)}function fs(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function vE(t,e,r){r=r||(i=>t[i]<e);let n=t.length-1,a=0,s;for(;n-a>1;)s=a+n>>1,r(s)?a=s:n=s;return{lo:a,hi:n}}const ms=(t,e,r,n)=>vE(t,r,n?a=>{const s=t[a][e];return s<r||s===r&&t[a+1][e]===r}:a=>t[a][e]<r),tse=(t,e,r)=>vE(t,r,n=>t[n][e]>=r);function rse(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const Lq=["push","pop","shift","splice","unshift"];function nse(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Lq.forEach(r=>{const n="_onData"+bE(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const i=a.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...s)}),i}})})}function BO(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(Lq.forEach(s=>{delete t[s]}),delete t._chartjs)}function Fq(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Bq=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function qq(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,Bq.call(window,()=>{n=!1,t.apply(e,r)}))}}function ase(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const jE=t=>t==="start"?"left":t==="end"?"right":"center",_r=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,sse=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function Vq(t,e,r){const n=e.length;let a=0,s=n;if(t._sorted){const{iScale:i,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=i.axis,{min:f,max:m,minDefined:h,maxDefined:y}=i.getUserBounds();if(h){if(a=Math.min(ms(c,d,f).lo,r?n:ms(e,d,i.getPixelForValue(f)).lo),u){const g=c.slice(0,a+1).reverse().findIndex(p=>!Ge(p[l.axis]));a-=Math.max(0,g)}a=br(a,0,n-1)}if(y){let g=Math.max(ms(c,i.axis,m,!0).hi+1,r?0:ms(e,d,i.getPixelForValue(m),!0).hi+1);if(u){const p=c.slice(g-1).findIndex(b=>!Ge(b[l.axis]));g+=Math.max(0,p)}s=br(g,a,n)-a}else s=n-a}return{start:a,count:s}}function Uq(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),s}const Kh=t=>t===0||t===1,qO=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ot/r)),VO=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ot/r)+1,Jd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*er)+1,easeOutSine:t=>Math.sin(t*er),easeInOutSine:t=>-.5*(Math.cos(rt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Kh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Kh(t)?t:qO(t,.075,.3),easeOutElastic:t=>Kh(t)?t:VO(t,.075,.3),easeInOutElastic(t){return Kh(t)?t:t<.5?.5*qO(t*2,.1125,.45):.5+.5*VO(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Jd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Jd.easeInBounce(t*2)*.5:Jd.easeOutBounce(t*2-1)*.5+.5};function wE(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function UO(t){return wE(t)?t:new Oq(t)}function VN(t){return wE(t)?t:new Oq(t).saturate(.5).darken(.1).hexString()}const ose=["x","y","borderWidth","radius","tension"],ise=["color","borderColor","backgroundColor"];function lse(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:ise},numbers:{type:"number",properties:ose}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function cse(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zO=new Map;function use(t,e){e=e||{};const r=t+JSON.stringify(e);let n=zO.get(r);return n||(n=new Intl.NumberFormat(t,e),zO.set(r,n)),n}function rh(t,e,r){return use(e,r).format(t)}const zq={values(t){return $t(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),s=dse(t,r)}const i=uo(Math.abs(s)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),rh(t,n,c)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(uo(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?zq.numeric.call(this,t,e,r):""}};function dse(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var M0={formatters:zq};function fse(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:M0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const fl=Object.create(null),nA=Object.create(null);function Xd(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function UN(t,e,r){return typeof e=="string"?Hf(Xd(t,e),r):Hf(Xd(t,""),e)}class mse{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>VN(a.backgroundColor),this.hoverBorderColor=(n,a)=>VN(a.borderColor),this.hoverColor=(n,a)=>VN(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return UN(this,e,r)}get(e){return Xd(this,e)}describe(e,r){return UN(nA,e,r)}override(e,r){return UN(fl,e,r)}route(e,r,n,a){const s=Xd(this,e),i=Xd(this,n),l="_"+r;Object.defineProperties(s,{[l]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=i[a];return Ke(c)?Object.assign({},u,c):Me(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var Mt=new mse({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[lse,cse,fse]);function hse(t){return!t||Ge(t.size)||Ge(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Rx(t,e,r,n,a){let s=e[a];return s||(s=e[a]=t.measureText(a).width,r.push(a)),s>n&&(n=s),n}function pse(t,e,r,n){n=n||{};let a=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let i=0;const l=r.length;let c,u,d,f,m;for(c=0;c<l;c++)if(f=r[c],f!=null&&!$t(f))i=Rx(t,a,s,i,f);else if($t(f))for(u=0,d=f.length;u<d;u++)m=f[u],m!=null&&!$t(m)&&(i=Rx(t,a,s,i,m));t.restore();const h=s.length/2;if(h>r.length){for(c=0;c<h;c++)delete a[s[c]];s.splice(0,h)}return i}function ii(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function WO(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function aA(t,e,r,n){Wq(t,e,r,n,null)}function Wq(t,e,r,n,a){let s,i,l,c,u,d,f,m;const h=e.pointStyle,y=e.rotation,g=e.radius;let p=(y||0)*Kae;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(p),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),h){default:a?t.ellipse(r,n,a/2,g,0,0,Ot):t.arc(r,n,g,0,Ot),t.closePath();break;case"triangle":d=a?a/2:g,t.moveTo(r+Math.sin(p)*d,n-Math.cos(p)*g),p+=MO,t.lineTo(r+Math.sin(p)*d,n-Math.cos(p)*g),p+=MO,t.lineTo(r+Math.sin(p)*d,n-Math.cos(p)*g),t.closePath();break;case"rectRounded":u=g*.516,c=g-u,i=Math.cos(p+oi)*c,f=Math.cos(p+oi)*(a?a/2-u:c),l=Math.sin(p+oi)*c,m=Math.sin(p+oi)*(a?a/2-u:c),t.arc(r-f,n-l,u,p-rt,p-er),t.arc(r+m,n-i,u,p-er,p),t.arc(r+f,n+l,u,p,p+er),t.arc(r-m,n+i,u,p+er,p+rt),t.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*g,d=a?a/2:c,t.rect(r-d,n-c,2*d,2*c);break}p+=oi;case"rectRot":f=Math.cos(p)*(a?a/2:g),i=Math.cos(p)*g,l=Math.sin(p)*g,m=Math.sin(p)*(a?a/2:g),t.moveTo(r-f,n-l),t.lineTo(r+m,n-i),t.lineTo(r+f,n+l),t.lineTo(r-m,n+i),t.closePath();break;case"crossRot":p+=oi;case"cross":f=Math.cos(p)*(a?a/2:g),i=Math.cos(p)*g,l=Math.sin(p)*g,m=Math.sin(p)*(a?a/2:g),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"star":f=Math.cos(p)*(a?a/2:g),i=Math.cos(p)*g,l=Math.sin(p)*g,m=Math.sin(p)*(a?a/2:g),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i),p+=oi,f=Math.cos(p)*(a?a/2:g),i=Math.cos(p)*g,l=Math.sin(p)*g,m=Math.sin(p)*(a?a/2:g),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"line":i=a?a/2:Math.cos(p)*g,l=Math.sin(p)*g,t.moveTo(r-i,n-l),t.lineTo(r+i,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(p)*(a?a/2:g),n+Math.sin(p)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function hs(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function L0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function F0(t){t.restore()}function gse(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function yse(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function bse(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ge(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function xse(t,e,r,n,a){if(a.strikethrough||a.underline){const s=t.measureText(n),i=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=a.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(i,d),t.lineTo(l,d),t.stroke()}}function vse(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function ml(t,e,r,n,a,s={}){const i=$t(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,u;for(t.save(),t.font=a.string,bse(t,s),c=0;c<i.length;++c)u=i[c],s.backdrop&&vse(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Ge(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),xse(t,r,n,u,s),n+=Number(a.lineHeight);t.restore()}function Kf(t,e){const{x:r,y:n,w:a,h:s,radius:i}=e;t.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*rt,rt,!0),t.lineTo(r,n+s-i.bottomLeft),t.arc(r+i.bottomLeft,n+s-i.bottomLeft,i.bottomLeft,rt,er,!0),t.lineTo(r+a-i.bottomRight,n+s),t.arc(r+a-i.bottomRight,n+s-i.bottomRight,i.bottomRight,er,0,!0),t.lineTo(r+a,n+i.topRight),t.arc(r+a-i.topRight,n+i.topRight,i.topRight,0,-er,!0),t.lineTo(r+i.topLeft,n)}const jse=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,wse=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Nse(t,e){const r=(""+t).match(jse);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const Cse=t=>+t||0;function NE(t,e){const r={},n=Ke(e),a=n?Object.keys(e):e,s=Ke(t)?n?i=>Me(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of a)r[i]=Cse(s(i));return r}function Hq(t){return NE(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Fi(t){return NE(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Br(t){const e=Hq(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function fr(t,e){t=t||{},e=e||Mt.font;let r=Me(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Me(t.style,e.style);n&&!(""+n).match(wse)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Me(t.family,e.family),lineHeight:Nse(Me(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Me(t.weight,e.weight),string:""};return a.string=hse(a),a}function Ad(t,e,r,n){let a,s,i;for(a=0,s=t.length;a<s;++a)if(i=t[a],i!==void 0&&i!==void 0)return i}function Sse(t,e,r){const{min:n,max:a}=t,s=_q(e,(a-n)/2),i=(l,c)=>r&&l===0?0:l+c;return{min:i(n,-Math.abs(s)),max:i(a,s)}}function Jo(t,e){return Object.assign(Object.create(t),e)}function CE(t,e=[""],r,n,a=()=>t[0]){const s=r||t;typeof n>"u"&&(n=Jq("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:a,override:l=>CE([l,...t],e,s,n)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Yq(l,c,()=>Ose(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return GO(l).includes(c)},ownKeys(l){return GO(l)},set(l,c,u){const d=l._storage||(l._storage=a());return l[c]=d[c]=u,delete l._keys,!0}})}function Uc(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Gq(t,n),setContext:s=>Uc(t,s,r,n),override:s=>Uc(t.override(s),e,r,n)};return new Proxy(a,{deleteProperty(s,i){return delete s[i],delete t[i],!0},get(s,i,l){return Yq(s,i,()=>Ise(s,i,l))},getOwnPropertyDescriptor(s,i){return s._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(s,i,l){return t[i]=l,delete s[i],!0}})}function Gq(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:Fo(r)?r:()=>r,isIndexable:Fo(n)?n:()=>n}}const Ase=(t,e)=>t?t+bE(e):e,SE=(t,e)=>Ke(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Yq(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function Ise(t,e,r){const{_proxy:n,_context:a,_subProxy:s,_descriptors:i}=t;let l=n[e];return Fo(l)&&i.isScriptable(e)&&(l=kse(e,l,t,r)),$t(l)&&l.length&&(l=Tse(e,l,t,i.isIndexable)),SE(e,l)&&(l=Uc(l,a,s&&s[e],i)),l}function kse(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(s,i||n);return l.delete(t),SE(t,c)&&(c=AE(a._scopes,a,t,c)),c}function Tse(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_descriptors:l}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Ke(e[0])){const c=e,u=a._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=AE(u,a,t,d);e.push(Uc(f,s,i&&i[t],l))}}return e}function Kq(t,e,r){return Fo(t)?t(e,r):t}const Ese=(t,e)=>t===!0?e:typeof t=="string"?Lo(e,t):void 0;function Dse(t,e,r,n,a){for(const s of e){const i=Ese(r,s);if(i){t.add(i);const l=Kq(i._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(i===!1&&typeof n<"u"&&r!==n)return null}return!1}function AE(t,e,r,n){const a=e._rootScopes,s=Kq(e._fallback,r,n),i=[...t,...a],l=new Set;l.add(n);let c=HO(l,i,r,s||r,n);return c===null||typeof s<"u"&&s!==r&&(c=HO(l,i,s,c,n),c===null)?!1:CE(Array.from(l),[""],a,s,()=>Pse(e,r,n))}function HO(t,e,r,n,a){for(;r;)r=Dse(t,e,r,n,a);return r}function Pse(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return $t(a)&&Ke(r)?r:a||{}}function Ose(t,e,r,n){let a;for(const s of e)if(a=Jq(Ase(s,t),r),typeof a<"u")return SE(t,a)?AE(r,n,t,a):a}function Jq(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function GO(t){let e=t._keys;return e||(e=t._keys=_se(t._scopes)),e}function _se(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function Xq(t,e,r,n){const{iScale:a}=t,{key:s="r"}=this._parsing,i=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+r,d=e[u],i[l]={r:a.parse(Lo(d,s),u)};return i}const $se=Number.EPSILON||1e-14,zc=(t,e)=>e<t.length&&!t[e].skip&&t[e],Qq=t=>t==="x"?"y":"x";function Rse(t,e,r,n){const a=t.skip?e:t,s=e,i=r.skip?e:r,l=rA(s,a),c=rA(i,s);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,m=n*d;return{previous:{x:s.x-f*(i.x-a.x),y:s.y-f*(i.y-a.y)},next:{x:s.x+m*(i.x-a.x),y:s.y+m*(i.y-a.y)}}}function Mse(t,e,r){const n=t.length;let a,s,i,l,c,u=zc(t,0);for(let d=0;d<n-1;++d)if(c=u,u=zc(t,d+1),!(!c||!u)){if(Kd(e[d],0,$se)){r[d]=r[d+1]=0;continue}a=r[d]/e[d],s=r[d+1]/e[d],l=Math.pow(a,2)+Math.pow(s,2),!(l<=9)&&(i=3/Math.sqrt(l),r[d]=a*i*e[d],r[d+1]=s*i*e[d])}}function Lse(t,e,r="x"){const n=Qq(r),a=t.length;let s,i,l,c=zc(t,0);for(let u=0;u<a;++u){if(i=l,l=c,c=zc(t,u+1),!l)continue;const d=l[r],f=l[n];i&&(s=(d-i[r])/3,l[`cp1${r}`]=d-s,l[`cp1${n}`]=f-s*e[u]),c&&(s=(c[r]-d)/3,l[`cp2${r}`]=d+s,l[`cp2${n}`]=f+s*e[u])}}function Fse(t,e="x"){const r=Qq(e),n=t.length,a=Array(n).fill(0),s=Array(n);let i,l,c,u=zc(t,0);for(i=0;i<n;++i)if(l=c,c=u,u=zc(t,i+1),!!c){if(u){const d=u[e]-c[e];a[i]=d!==0?(u[r]-c[r])/d:0}s[i]=l?u?La(a[i-1])!==La(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}Mse(t,a,s),Lse(t,s,e)}function Jh(t,e,r){return Math.max(Math.min(t,r),e)}function Bse(t,e){let r,n,a,s,i,l=hs(t[0],e);for(r=0,n=t.length;r<n;++r)i=s,s=l,l=r<n-1&&hs(t[r+1],e),s&&(a=t[r],i&&(a.cp1x=Jh(a.cp1x,e.left,e.right),a.cp1y=Jh(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Jh(a.cp2x,e.left,e.right),a.cp2y=Jh(a.cp2y,e.top,e.bottom)))}function qse(t,e,r,n,a){let s,i,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Fse(t,a);else{let u=n?t[t.length-1]:t[0];for(s=0,i=t.length;s<i;++s)l=t[s],c=Rse(u,l,t[Math.min(s+1,i-(n?0:1))%i],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&Bse(t,r)}function IE(){return typeof window<"u"&&typeof document<"u"}function kE(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Mx(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const B0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Vse(t,e){return B0(t).getPropertyValue(e)}const Use=["top","right","bottom","left"];function Bi(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const s=Use[a];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const zse=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function Wse(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:s}=n;let i=!1,l,c;if(zse(a,s,t.target))l=a,c=s;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,i=!0}return{x:l,y:c,box:i}}function gi(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=B0(r),s=a.boxSizing==="border-box",i=Bi(a,"padding"),l=Bi(a,"border","width"),{x:c,y:u,box:d}=Wse(t,r),f=i.left+(d&&l.left),m=i.top+(d&&l.top);let{width:h,height:y}=e;return s&&(h-=i.width+l.width,y-=i.height+l.height),{x:Math.round((c-f)/h*r.width/n),y:Math.round((u-m)/y*r.height/n)}}function Hse(t,e,r){let n,a;if(e===void 0||r===void 0){const s=t&&kE(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const i=s.getBoundingClientRect(),l=B0(s),c=Bi(l,"border","width"),u=Bi(l,"padding");e=i.width-u.width-c.width,r=i.height-u.height-c.height,n=Mx(l.maxWidth,s,"clientWidth"),a=Mx(l.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||$x,maxHeight:a||$x}}const Xh=t=>Math.round(t*10)/10;function Gse(t,e,r,n){const a=B0(t),s=Bi(a,"margin"),i=Mx(a.maxWidth,t,"clientWidth")||$x,l=Mx(a.maxHeight,t,"clientHeight")||$x,c=Hse(t,e,r);let{width:u,height:d}=c;if(a.boxSizing==="content-box"){const m=Bi(a,"border","width"),h=Bi(a,"padding");u-=h.width+m.width,d-=h.height+m.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=Xh(Math.min(u,i,c.maxWidth)),d=Xh(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Xh(u/2)),(e!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=Xh(Math.floor(d*n))),{width:u,height:d}}function YO(t,e,r){const n=e||1,a=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const i=t.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||i.height!==a||i.width!==s?(t.currentDevicePixelRatio=n,i.height=a,i.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Yse=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};IE()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function KO(t,e){const r=Vse(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function yi(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function Kse(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function Jse(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},i=yi(t,a,r),l=yi(a,s,r),c=yi(s,e,r),u=yi(i,l,r),d=yi(l,c,r);return yi(u,d,r)}const Xse=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Qse=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function pc(t,e,r){return t?Xse(e,r):Qse()}function Zq(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function e6(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function t6(t){return t==="angle"?{between:Yf,compare:Zae,normalize:$r}:{between:fs,compare:(e,r)=>e-r,normalize:e=>e}}function JO({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function Zse(t,e,r){const{property:n,start:a,end:s}=r,{between:i,normalize:l}=t6(n),c=e.length;let{start:u,end:d,loop:f}=t,m,h;if(f){for(u+=c,d+=c,m=0,h=c;m<h&&i(l(e[u%c][n]),a,s);++m)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function r6(t,e,r){if(!r)return[t];const{property:n,start:a,end:s}=r,i=e.length,{compare:l,between:c,normalize:u}=t6(n),{start:d,end:f,loop:m,style:h}=Zse(t,e,r),y=[];let g=!1,p=null,b,v,j;const C=()=>c(a,j,b)&&l(a,j)!==0,x=()=>l(s,b)===0||c(s,j,b),N=()=>g||C(),S=()=>!g||x();for(let A=d,I=d;A<=f;++A)v=e[A%i],!v.skip&&(b=u(v[n]),b!==j&&(g=c(b,a,s),p===null&&N()&&(p=l(b,a)===0?A:I),p!==null&&S()&&(y.push(JO({start:p,end:A,loop:m,count:i,style:h})),p=null),I=A,j=b));return p!==null&&y.push(JO({start:p,end:f,loop:m,count:i,style:h})),y}function n6(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const s=r6(n[a],t.points,e);s.length&&r.push(...s)}return r}function eoe(t,e,r,n){let a=0,s=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(s+=a);s>a&&t[s%e].skip;)s--;return s%=e,{start:a,end:s}}function toe(t,e,r,n){const a=t.length,s=[];let i=e,l=t[e],c;for(c=e+1;c<=r;++c){const u=t[c%a];u.skip||u.stop?l.skip||(n=!1,s.push({start:e%a,end:(c-1)%a,loop:n}),e=i=u.stop?c:null):(i=c,l.skip&&(e=c)),l=u}return i!==null&&s.push({start:e%a,end:i%a,loop:n}),s}function roe(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const s=!!t._loop,{start:i,end:l}=eoe(r,a,s,n);if(n===!0)return XO(t,[{start:i,end:l,loop:s}],r,e);const c=l<i?l+a:l,u=!!t._fullLoop&&i===0&&l===a-1;return XO(t,toe(r,i,c,u),r,e)}function XO(t,e,r,n){return!n||!n.setContext||!r?e:noe(t,e,r,n)}function noe(t,e,r,n){const a=t._chart.getContext(),s=QO(t.options),{_datasetIndex:i,options:{spanGaps:l}}=t,c=r.length,u=[];let d=s,f=e[0].start,m=f;function h(y,g,p,b){const v=l?-1:1;if(y!==g){for(y+=c;r[y%c].skip;)y-=v;for(;r[g%c].skip;)g+=v;y%c!==g%c&&(u.push({start:y%c,end:g%c,loop:p,style:b}),d=b,f=g%c)}}for(const y of e){f=l?f:y.start;let g=r[f%c],p;for(m=f+1;m<=y.end;m++){const b=r[m%c];p=QO(n.setContext(Jo(a,{type:"segment",p0:g,p1:b,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:i}))),aoe(p,d)&&h(f,m-1,y.loop,d),g=b,d=p}f<m-1&&h(f,m-1,y.loop,d)}return u}function QO(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function aoe(t,e){if(!e)return!1;const r=[],n=function(a,s){return wE(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Qh(t,e,r){return t.options.clip?t[r]:e[r]}function soe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Qh(r,e,"left"),right:Qh(r,e,"right"),top:Qh(n,e,"top"),bottom:Qh(n,e,"bottom")}:e}function a6(t,e){const r=e._clip;if(r.disabled)return!1;const n=soe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ooe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const s=r.listeners[a],i=r.duration;s.forEach(l=>l({chart:e,initial:r.initial,numSteps:i,currentStep:Math.min(n-r.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=Bq.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const s=n.items;let i=s.length-1,l=!1,c;for(;i>=0;--i)c=s[i],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(s[i]=s[s.length-1],s.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ts=new ooe;const ZO="transparent",ioe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=UO(t||ZO),a=n.valid&&UO(e||ZO);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class loe{constructor(e,r,n,a){const s=r[n];a=Ad([e.to,a,s,e.from]);const i=Ad([e.from,s,a]);this._active=!0,this._fn=e.fn||ioe[e.type||typeof i],this._easing=Jd[e.easing]||Jd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=i,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ad([e.to,r,a,e.from]),this._from=Ad([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,s=this._from,i=this._loop,l=this._to;let c;if(this._active=s!==l&&(i||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=s;return}c=r/n%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class s6{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ke(e))return;const r=Object.keys(Mt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!Ke(s))return;const i={};for(const l of r)i[l]=s[l];($t(s.properties)&&s.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,i)})})}_animateOptions(e,r){const n=r.options,a=uoe(e,n);if(!a)return[];const s=this._createAnimations(a,n);return n.$shared&&coe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,a=[],s=e.$animations||(e.$animations={}),i=Object.keys(r),l=Date.now();let c;for(c=i.length-1;c>=0;--c){const u=i[c];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,r));continue}const d=r[u];let f=s[u];const m=n.get(u);if(f)if(m&&f.active()){f.update(m,d,l);continue}else f.cancel();if(!m||!m.duration){e[u]=d;continue}s[u]=f=new loe(m,e,u,d),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return ts.add(this._chart,n),!0}}function coe(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const s=t[n[a]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function uoe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function e_(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:a,end:n?a:s}}function doe(t,e,r){if(r===!1)return!1;const n=e_(t,r),a=e_(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function foe(t){let e,r,n,a;return Ke(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function o6(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,s;for(a=0,s=n.length;a<s;++a)r.push(n[a].index);return r}function t_(t,e,r,n={}){const a=t.keys,s=n.mode==="single";let i,l,c,u;if(e===null)return;let d=!1;for(i=0,l=a.length;i<l;++i){if(c=+a[i],c===r){if(d=!0,n.all)continue;break}u=t.values[c],Gt(u)&&(s||e===0||La(e)===La(u))&&(e+=u)}return!d&&!n.all?0:e}function moe(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",i=Object.keys(t),l=new Array(i.length);let c,u,d;for(c=0,u=i.length;c<u;++c)d=i[c],l[c]={[a]:d,[s]:t[d]};return l}function zN(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function hoe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function poe(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function goe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function r_(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const s=t[a.index];if(r&&s>0||!r&&s<0)return a.index}return null}function n_(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:s,vScale:i,index:l}=n,c=s.axis,u=i.axis,d=hoe(s,i,n),f=e.length;let m;for(let h=0;h<f;++h){const y=e[h],{[c]:g,[u]:p}=y,b=y._stacks||(y._stacks={});m=b[u]=goe(a,d,g),m[l]=p,m._top=r_(m,i,!0,n.type),m._bottom=r_(m,i,!1,n.type);const v=m._visualValues||(m._visualValues={});v[l]=p}}function WN(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function yoe(t,e){return Jo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function boe(t,e,r){return Jo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Qu(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const s=a._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const HN=t=>t==="reset"||t==="none",a_=(t,e)=>e?t:Object.assign({},t),xoe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:o6(r,!0),values:null};class ga{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=zN(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Qu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,m,h,y)=>f==="x"?m:f==="r"?y:h,s=r.xAxisID=Me(n.xAxisID,WN(e,"x")),i=r.yAxisID=Me(n.yAxisID,WN(e,"y")),l=r.rAxisID=Me(n.rAxisID,WN(e,"r")),c=r.indexAxis,u=r.iAxisID=a(c,s,i,l),d=r.vAxisID=a(c,i,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(i),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&BO(this._data,this),e._stacked&&Qu(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ke(r)){const a=this._cachedMeta;this._data=moe(r,a)}else if(n!==r){if(n){BO(n,this);const a=this._cachedMeta;Qu(a),a._parsed=[]}r&&Object.isExtensible(r)&&nse(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=r._stacked;r._stacked=zN(r.vScale,r),r.stack!==n.stack&&(a=!0,Qu(r),r.stack=n.stack),this._resyncElements(e),(a||s!==r._stacked)&&(n_(this,r._parsed),r._stacked=zN(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:i}=n,l=s.axis;let c=e===0&&r===a.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{$t(a[e])?m=this.parseArrayData(n,a,e,r):Ke(a[e])?m=this.parseObjectData(n,a,e,r):m=this.parsePrimitiveData(n,a,e,r);const h=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)n._parsed[d+e]=f=m[d],c&&(h()&&(c=!1),u=f);n._sorted=c}i&&n_(this,m)}parsePrimitiveData(e,r,n,a){const{iScale:s,vScale:i}=e,l=s.axis,c=i.axis,u=s.getLabels(),d=s===i,f=new Array(a);let m,h,y;for(m=0,h=a;m<h;++m)y=m+n,f[m]={[l]:d||s.parse(u[y],y),[c]:i.parse(r[y],y)};return f}parseArrayData(e,r,n,a){const{xScale:s,yScale:i}=e,l=new Array(a);let c,u,d,f;for(c=0,u=a;c<u;++c)d=c+n,f=r[d],l[c]={x:s.parse(f[0],d),y:i.parse(f[1],d)};return l}parseObjectData(e,r,n,a){const{xScale:s,yScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(a);let d,f,m,h;for(d=0,f=a;d<f;++d)m=d+n,h=r[m],u[d]={x:s.parse(Lo(h,l),m),y:i.parse(Lo(h,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,s=this._cachedMeta,i=r[e.axis],l={keys:o6(a,!0),values:r._stacks[e.axis]._visualValues};return t_(l,i,s.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const s=n[r.axis];let i=s===null?NaN:s;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,i=t_(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,i=a.length,l=this._getOtherScale(e),c=xoe(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=poe(l);let m,h;function y(){h=a[m];const g=h[l.axis];return!Gt(h[e.axis])||d>g||f<g}for(m=0;m<i&&!(!y()&&(this.updateRangeFromParsed(u,e,h,c),s));++m);if(s){for(m=i-1;m>=0;--m)if(!y()){this.updateRangeFromParsed(u,e,h,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,s,i;for(a=0,s=r.length;a<s;++a)i=r[a][e.axis],Gt(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=foe(Me(this.options.clip,doe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],s=r.chartArea,i=[],l=this._drawStart||0,c=this._drawCount||a.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,l,c),d=l;d<l+c;++d){const f=a[d];f.hidden||(f.active&&u?i.push(f):f.draw(e,s))}for(d=0;d<i.length;++d)i[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];s=i.$context||(i.$context=boe(this.getContext(),e,i)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=yoe(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",s=this._cachedDataOpts,i=e+"-"+r,l=s[i],c=this.enableOptionSharing&&Gf(n);if(l)return a_(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),h=Object.keys(Mt.elements[e]),y=()=>this.getContext(n,a,r),g=u.resolveNamedOptions(m,h,y,f);return g.$shared&&(g.$shared=c,s[i]=Object.freeze(a_(g,c))),g}_resolveAnimations(e,r,n){const a=this.chart,s=this._cachedDataOpts,i=`animation-${r}`,l=s[i];if(l)return l;let c;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),m=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(m,this.getContext(e,n,r))}const u=new s6(a,c&&c.animations);return c&&c._cacheable&&(s[i]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||HN(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(r,s)||s!==a;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:i}}updateElement(e,r,n,a){HN(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!HN(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const s=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const a=n.length,s=r.length,i=Math.min(s,a);i&&this.parse(0,i),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,r,n=!0){const a=this._cachedMeta,s=a.data,i=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=i;l--)u[l]=u[l-r]};for(c(s),l=e;l<i;++l)s[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&Qu(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}pe(ga,"defaults",{}),pe(ga,"datasetElementType",null),pe(ga,"dataElementType",null);function voe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,s=r.length;a<s;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=Fq(n.sort((a,s)=>a-s))}return t._cache.$bar}function joe(t){const e=t.iScale,r=voe(e,t.type);let n=e._length,a,s,i,l;const c=()=>{i===32767||i===-32768||(Gf(l)&&(n=Math.min(n,Math.abs(i-l)||n)),l=i)};for(a=0,s=r.length;a<s;++a)i=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,s=e.ticks.length;a<s;++a)i=e.getPixelForTick(a),c();return n}function woe(t,e,r,n){const a=r.barThickness;let s,i;return Ge(a)?(s=e.min*r.categoryPercentage,i=r.barPercentage):(s=a*n,i=1),{chunk:s/n,ratio:i,start:e.pixels[t]-s/2}}function Noe(t,e,r,n){const a=e.pixels,s=a[t];let i=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;i===null&&(i=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-i);const u=s-(s-Math.min(i,l))/2*c;return{chunk:Math.abs(l-i)/2*c/n,ratio:r.barPercentage,start:u}}function Coe(t,e,r,n){const a=r.parse(t[0],n),s=r.parse(t[1],n),i=Math.min(a,s),l=Math.max(a,s);let c=i,u=l;Math.abs(i)>Math.abs(l)&&(c=l,u=i),e[r.axis]=u,e._custom={barStart:c,barEnd:u,start:a,end:s,min:i,max:l}}function i6(t,e,r,n){return $t(t)?Coe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function s_(t,e,r,n){const a=t.iScale,s=t.vScale,i=a.getLabels(),l=a===s,c=[];let u,d,f,m;for(u=r,d=r+n;u<d;++u)m=e[u],f={},f[a.axis]=l||a.parse(i[u],u),c.push(i6(m,f,s,u));return c}function GN(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Soe(t,e,r){return t!==0?La(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function Aoe(t){let e,r,n,a,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",s="start"):(a="start",s="end"),{start:r,end:n,reverse:e,top:a,bottom:s}}function Ioe(t,e,r,n){let a=e.borderSkipped;const s={};if(!a){t.borderSkipped=s;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:c,top:u,bottom:d}=Aoe(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=u:(r._bottom||0)===n?a=d:(s[o_(d,i,l,c)]=!0,a=u)),s[o_(a,i,l,c)]=!0,t.borderSkipped=s}function o_(t,e,r,n){return n?(t=koe(t,e,r),t=i_(t,r,e)):t=i_(t,e,r),t}function koe(t,e,r){return t===e?r:t===r?e:t}function i_(t,e,r){return t==="start"?e:t==="end"?r:t}function Toe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Kp extends ga{parsePrimitiveData(e,r,n,a){return s_(e,r,n,a)}parseArrayData(e,r,n,a){return s_(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:s,vScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=i.axis==="x"?l:c,f=[];let m,h,y,g;for(m=n,h=n+a;m<h;++m)g=r[m],y={},y[s.axis]=s.parse(Lo(g,u),m),f.push(i6(Lo(g,d),y,i,m));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,s=this.getParsed(e),i=s._custom,l=GN(i)?"["+i.start+", "+i.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const s=a==="reset",{index:i,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(r,a);for(let h=r;h<r+n;h++){const y=this.getParsed(h),g=s||Ge(y[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,d),b=(y._stacks||{})[l.axis],v={horizontal:u,base:g.base,enableBorderRadius:!b||GN(y._custom)||i===b._top||i===b._bottom,x:u?g.head:p.center,y:u?p.center:g.head,height:u?p.size:Math.abs(g.size),width:u?Math.abs(g.size):p.size};m&&(v.options=f||this.resolveDataElementOptions(h,e[h].active?"active":a));const j=v.options||e[h].options;Ioe(v,j,b,i),Toe(v,j,d.ratio),this.updateElement(e[h],h,v,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=n.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],u=d=>{const f=d._parsed.find(h=>h[n.axis]===c),m=f&&f[d.vScale.axis];if(Ge(m)||isNaN(m))return!0};for(const d of a)if(!(r!==void 0&&u(d))&&((s===!1||i.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&i.push(d.stack),d.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Me(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const a=this._getStacks(e,n),s=r!==void 0?a.indexOf(r):-1;return s===-1?a.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let s,i;for(s=0,i=r.data.length;s<i;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const l=e.barThickness;return{min:l||joe(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:s,minBarLength:i}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=GN(u);let f=c[r.axis],m=0,h=n?this.applyStack(r,c,n):f,y,g;h!==f&&(m=h-f,h=f),d&&(f=u.barStart,h=u.barEnd-u.barStart,f!==0&&La(f)!==La(u.barEnd)&&(m=0),m+=f);const p=!Ge(s)&&!d?s:m;let b=r.getPixelForValue(p);if(this.chart.getDataVisibility(e)?y=r.getPixelForValue(m+h):y=b,g=y-b,Math.abs(g)<i){g=Soe(g,r,l)*i,f===l&&(b-=g/2);const v=r.getPixelForDecimal(0),j=r.getPixelForDecimal(1),C=Math.min(v,j),x=Math.max(v,j);b=Math.max(Math.min(b,x),C),y=b+g,n&&!d&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(y)-r.getValueForPixel(b))}if(b===r.getPixelForValue(l)){const v=La(g)*r.getLineWidthForValue(l)/2;b+=v,g-=v}return{size:g,base:b,head:y,center:y+g/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,s=a.skipNull,i=Me(a.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(r.grouped){const d=s?this._getStackCount(e):r.stackCount,f=a.barThickness==="flex"?Noe(e,r,a,d*u):woe(e,r,a,d*u),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(Me(m,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+h;l=f.start+f.chunk*y+f.chunk/2,c=Math.min(i,f.chunk*f.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(i,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let s=0;for(;s<a;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}pe(Kp,"id","bar"),pe(Kp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),pe(Kp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Jp extends ga{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const s=super.parsePrimitiveData(e,r,n,a);for(let i=0;i<s.length;i++)s[i]._custom=this.resolveDataElementOptions(i+n).radius;return s}parseArrayData(e,r,n,a){const s=super.parseArrayData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Me(l[2],this.resolveDataElementOptions(i+n).radius)}return s}parseObjectData(e,r,n,a){const s=super.parseObjectData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Me(l&&l.r&&+l.r,this.resolveDataElementOptions(i+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y),u=i._custom;return{label:n[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,a),d=i.axis,f=l.axis;for(let m=r;m<r+n;m++){const h=e[m],y=!s&&this.getParsed(m),g={},p=g[d]=s?i.getPixelForDecimal(.5):i.getPixelForValue(y[d]),b=g[f]=s?l.getBasePixel():l.getPixelForValue(y[f]);g.skip=isNaN(p)||isNaN(b),u&&(g.options=c||this.resolveDataElementOptions(m,h.active?"active":a),s&&(g.options.radius=0)),this.updateElement(h,m,g,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Me(n&&n._custom,s),a}}pe(Jp,"id","bubble"),pe(Jp,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),pe(Jp,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Eoe(t,e,r){let n=1,a=1,s=0,i=0;if(e<Ot){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),m=Math.sin(c),h=(j,C,x)=>Yf(j,l,c,!0)?1:Math.max(C,C*r,x,x*r),y=(j,C,x)=>Yf(j,l,c,!0)?-1:Math.min(C,C*r,x,x*r),g=h(0,u,f),p=h(er,d,m),b=y(rt,u,f),v=y(rt+er,d,m);n=(g-b)/2,a=(p-v)/2,s=-(g+b)/2,i=-(p+v)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:i}}class ki extends ga{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let s=c=>+n[c];if(Ke(n[e])){const{key:c="value"}=this._parsing;s=u=>+Lo(n[u],c)}let i,l;for(i=e,l=e+r;i<l;++i)a._parsed[i]=s(i)}}_getRotation(){return da(this.options.rotation-90)}_getCircumference(){return da(this.options.circumference)}_getRotationExtents(){let e=Ot,r=-Ot;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),i=a._getCircumference();e=Math.min(e,s),r=Math.max(r,s+i)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,s=a.data,i=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-i)/2,0),c=Math.min(Vae(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:h,offsetX:y,offsetY:g}=Eoe(f,d,c),p=(n.width-i)/m,b=(n.height-i)/h,v=Math.max(Math.min(p,b)/2,0),j=_q(this.options.radius,v),C=Math.max(j*c,0),x=(j-C)/this._getVisibleDatasetWeightTotal();this.offsetX=y*j,this.offsetY=g*j,a.total=this.calculateTotal(),this.outerRadius=j-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/Ot)}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,l=i.chartArea,u=i.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=s&&u.animateScale,h=m?0:this.innerRadius,y=m?0:this.outerRadius,{sharedOptions:g,includeOptions:p}=this._getSharedOptions(r,a);let b=this._getRotation(),v;for(v=0;v<r;++v)b+=this._circumference(v,s);for(v=r;v<r+n;++v){const j=this._circumference(v,s),C=e[v],x={x:d+this.offsetX,y:f+this.offsetY,startAngle:b,endAngle:b+j,circumference:j,outerRadius:y,innerRadius:h};p&&(x.options=g||this.resolveDataElementOptions(v,C.active?"active":a)),b+=j,this.updateElement(C,v,x,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const s=e._parsed[a];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Ot*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=rh(r._parsed[e],n.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,s,i,l,c;if(!e){for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){i=n.getDatasetMeta(a),e=i.data,l=i.controller;break}}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Me(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}pe(ki,"id","doughnut"),pe(ki,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),pe(ki,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),pe(ki,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class Xp extends ga{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=r,i=this.chart._animationsDisabled;let{start:l,count:c}=Vq(r,a,i);this._drawStart=l,this._drawCount=c,Uq(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:u},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,a),m=i.axis,h=l.axis,{spanGaps:y,segment:g}=this.options,p=Vc(y)?y:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||a==="none",v=r+n,j=e.length;let C=r>0&&this.getParsed(r-1);for(let x=0;x<j;++x){const N=e[x],S=b?N:{};if(x<r||x>=v){S.skip=!0;continue}const A=this.getParsed(x),I=Ge(A[h]),E=S[m]=i.getPixelForValue(A[m],x),k=S[h]=s||I?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[h],x);S.skip=isNaN(E)||isNaN(k)||I,S.stop=x>0&&Math.abs(A[m]-C[m])>p,g&&(S.parsed=A,S.raw=u.data[x]),f&&(S.options=d||this.resolveDataElementOptions(x,N.active?"active":a)),b||this.updateElement(N,x,S,a),C=A}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const s=a[0].size(this.resolveDataElementOptions(0)),i=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}pe(Xp,"id","line"),pe(Xp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),pe(Xp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Qd extends ga{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=rh(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,r,n,a){return Xq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(a/2,0),i=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),l=(s-i)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,c=i.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,m=u.getIndexAngle(0)-.5*rt;let h=m,y;const g=360/this.countVisibleElements();for(y=0;y<r;++y)h+=this._computeAngle(y,a,g);for(y=r;y<r+n;y++){const p=e[y];let b=h,v=h+this._computeAngle(y,a,g),j=i.getDataVisibility(y)?u.getDistanceFromCenterForValue(this.getParsed(y).r):0;h=v,s&&(c.animateScale&&(j=0),c.animateRotate&&(b=v=m));const C={x:d,y:f,innerRadius:0,outerRadius:j,startAngle:b,endAngle:v,options:this.resolveDataElementOptions(y,p.active?"active":a)};this.updateElement(p,y,C,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?da(this.resolveDataElementOptions(e,r).angle||n):0}}pe(Qd,"id","polarArea"),pe(Qd,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),pe(Qd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class sA extends ki{}pe(sA,"id","pie"),pe(sA,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Qp extends ga{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return Xq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],s=r.iScale.getLabels();if(n.points=a,e!=="resize"){const i=this.resolveDatasetElementOptions(e);this.options.showLine||(i.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===a.length,options:i};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const s=this._cachedMeta.rScale,i=a==="reset";for(let l=r;l<r+n;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":a),d=s.getPointPositionForValue(l,this.getParsed(l).r),f=i?s.xCenter:d.x,m=i?s.yCenter:d.y,h={x:f,y:m,angle:d.angle,skip:isNaN(f)||isNaN(m),options:u};this.updateElement(c,l,h,a)}}}pe(Qp,"id","radar"),pe(Qp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),pe(Qp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Zp extends ga{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:s,count:i}=Vq(r,n,a);if(this._drawStart=s,this._drawCount=i,Uq(r)&&(s=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(d),m=this.includeOptions(a,f),h=i.axis,y=l.axis,{spanGaps:g,segment:p}=this.options,b=Vc(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||a==="none";let j=r>0&&this.getParsed(r-1);for(let C=r;C<r+n;++C){const x=e[C],N=this.getParsed(C),S=v?x:{},A=Ge(N[y]),I=S[h]=i.getPixelForValue(N[h],C),E=S[y]=s||A?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,N,c):N[y],C);S.skip=isNaN(I)||isNaN(E)||A,S.stop=C>0&&Math.abs(N[h]-j[h])>b,p&&(S.parsed=N,S.raw=u.data[C]),m&&(S.options=f||this.resolveDataElementOptions(C,x.active?"active":a)),v||this.updateElement(x,C,S,a),j=N}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const s=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,s,i)/2}}pe(Zp,"id","scatter"),pe(Zp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),pe(Zp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Doe=Object.freeze({__proto__:null,BarController:Kp,BubbleController:Jp,DoughnutController:ki,LineController:Xp,PieController:sA,PolarAreaController:Qd,RadarController:Qp,ScatterController:Zp});function li(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class TE{constructor(e){pe(this,"options");this.options=e||{}}static override(e){Object.assign(TE.prototype,e)}init(){}formats(){return li()}parse(){return li()}format(){return li()}add(){return li()}diff(){return li()}startOf(){return li()}endOf(){return li()}}var Poe={_date:TE};function Ooe(t,e,r,n){const{controller:a,data:s,_sorted:i}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&i&&s.length){const u=l._reversePixels?tse:ms;if(n){if(a._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const m=u(s,e,r-f),h=u(s,e,r+f);return{lo:m.lo,hi:h.hi}}}}else{const d=u(s,e,r);if(c){const{vScale:f}=a._cachedMeta,{_parsed:m}=t,h=m.slice(0,d.lo+1).reverse().findIndex(g=>!Ge(g[f.axis]));d.lo-=Math.max(0,h);const y=m.slice(d.hi).findIndex(g=>!Ge(g[f.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:s.length-1}}function q0(t,e,r,n,a){const s=t.getSortedVisibleDatasetMetas(),i=r[e];for(let l=0,c=s.length;l<c;++l){const{index:u,data:d}=s[l],{lo:f,hi:m}=Ooe(s[l],e,i,a);for(let h=f;h<=m;++h){const y=d[h];y.skip||n(y,u,h)}}}function _oe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const s=e?Math.abs(n.x-a.x):0,i=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}function YN(t,e,r,n,a){const s=[];return!a&&!t.isPointInArea(e)||q0(t,r,e,function(l,c,u){!a&&!hs(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&s.push({element:l,datasetIndex:c,index:u})},!0),s}function $oe(t,e,r,n){let a=[];function s(i,l,c){const{startAngle:u,endAngle:d}=i.getProps(["startAngle","endAngle"],n),{angle:f}=Mq(i,{x:e.x,y:e.y});Yf(f,u,d)&&a.push({element:i,datasetIndex:l,index:c})}return q0(t,r,e,s),a}function Roe(t,e,r,n,a,s){let i=[];const l=_oe(r);let c=Number.POSITIVE_INFINITY;function u(d,f,m){const h=d.inRange(e.x,e.y,a);if(n&&!h)return;const y=d.getCenterPoint(a);if(!(!!s||t.isPointInArea(y))&&!h)return;const p=l(e,y);p<c?(i=[{element:d,datasetIndex:f,index:m}],c=p):p===c&&i.push({element:d,datasetIndex:f,index:m})}return q0(t,r,e,u),i}function KN(t,e,r,n,a,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?$oe(t,e,r,a):Roe(t,e,r,n,a,s)}function l_(t,e,r,n,a){const s=[],i=r==="x"?"inXRange":"inYRange";let l=!1;return q0(t,r,e,(c,u,d)=>{c[i]&&c[i](e[r],a)&&(s.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:s}var Moe={modes:{index(t,e,r,n){const a=gi(e,t),s=r.axis||"x",i=r.includeInvisible||!1,l=r.intersect?YN(t,a,s,n,i):KN(t,a,s,!1,n,i),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,r,n){const a=gi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;let l=r.intersect?YN(t,a,s,n,i):KN(t,a,s,!1,n,i);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,r,n){const a=gi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return YN(t,a,s,n,i)},nearest(t,e,r,n){const a=gi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return KN(t,a,s,r.intersect,n,i)},x(t,e,r,n){const a=gi(e,t);return l_(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=gi(e,t);return l_(t,a,"y",r.intersect,n)}}};const l6=["left","top","right","bottom"];function Zu(t,e){return t.filter(r=>r.pos===e)}function c_(t,e){return t.filter(r=>l6.indexOf(r.pos)===-1&&r.box.axis===e)}function ed(t,e){return t.sort((r,n)=>{const a=e?n:r,s=e?r:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function Loe(t){const e=[];let r,n,a,s,i,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:s,options:{stack:i,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&s+i,stackWeight:l});return e}function Foe(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:s}=r;if(!n||!l6.includes(a))continue;const i=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return e}function Boe(t,e){const r=Foe(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let s,i,l;for(s=0,i=t.length;s<i;++s){l=t[s];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:c&&e.availableHeight)}return r}function qoe(t){const e=Loe(t),r=ed(e.filter(u=>u.box.fullSize),!0),n=ed(Zu(e,"left"),!0),a=ed(Zu(e,"right")),s=ed(Zu(e,"top"),!0),i=ed(Zu(e,"bottom")),l=c_(e,"x"),c=c_(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:a.concat(c).concat(i).concat(l),chartArea:Zu(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:s.concat(i).concat(l)}}function u_(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function c6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Voe(t,e,r,n){const{pos:a,box:s}=r,i=t.maxPadding;if(!Ke(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[a]+=r.size}s.getPadding&&c6(i,s.getPadding());const l=Math.max(0,e.outerWidth-u_(i,t,"left","right")),c=Math.max(0,e.outerHeight-u_(i,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function Uoe(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function zoe(t,e){const r=e.maxPadding;function n(a){const s={left:0,top:0,right:0,bottom:0};return a.forEach(i=>{s[i]=Math.max(e[i],r[i])}),s}return n(t?["left","right"]:["top","bottom"])}function Id(t,e,r,n){const a=[];let s,i,l,c,u,d;for(s=0,i=t.length,u=0;s<i;++s){l=t[s],c=l.box,c.update(l.width||e.w,l.height||e.h,zoe(l.horizontal,e));const{same:f,other:m}=Voe(e,r,l,n);u|=f&&a.length,d=d||m,c.fullSize||a.push(l)}return u&&Id(a,e,r,n)||d}function Zh(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function d_(t,e,r,n){const a=r.padding;let{x:s,y:i}=e;for(const l of t){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,m=u.size||c.height;Gf(u.start)&&(i=u.start),c.fullSize?Zh(c,a.left,i,r.outerWidth-a.right-a.left,m):Zh(c,e.left+u.placed,i,f,m),u.start=i,u.placed+=f,i=c.bottom}else{const f=e.h*d,m=u.size||c.width;Gf(u.start)&&(s=u.start),c.fullSize?Zh(c,s,a.top,m,r.outerHeight-a.bottom-a.top):Zh(c,s,e.top+u.placed,m,f),u.start=s,u.placed+=f,s=c.right}}e.x=s,e.y=i}var Lr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=Br(t.options.layout.padding),s=Math.max(e-a.width,0),i=Math.max(r-a.height,0),l=qoe(t.boxes),c=l.vertical,u=l.horizontal;dt(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=c.reduce((g,p)=>p.box.options&&p.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:s,availableHeight:i,vBoxMaxWidth:s/2/d,hBoxMaxHeight:i/2}),m=Object.assign({},a);c6(m,Br(n));const h=Object.assign({maxPadding:m,w:s,h:i,x:a.left,y:a.top},a),y=Boe(c.concat(u),f);Id(l.fullSize,h,f,y),Id(c,h,f,y),Id(u,h,f,y)&&Id(c,h,f,y),Uoe(h),d_(l.leftAndTop,h,f,y),h.x+=h.w,h.y+=h.h,d_(l.rightAndBottom,h,f,y),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},dt(l.chartArea,g=>{const p=g.box;Object.assign(p,t.chartArea),p.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class u6{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class Woe extends u6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const eg="$chartjs",Hoe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},f_=t=>t===null||t==="";function Goe(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[eg]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",f_(a)){const s=KO(t,"width");s!==void 0&&(t.width=s)}if(f_(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=KO(t,"height");s!==void 0&&(t.height=s)}return t}const d6=Yse?{passive:!0}:!1;function Yoe(t,e,r){t&&t.addEventListener(e,r,d6)}function Koe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,d6)}function Joe(t,e){const r=Hoe[t.type]||t.type,{x:n,y:a}=gi(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Lx(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Xoe(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Lx(l.addedNodes,n),i=i&&!Lx(l.removedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Qoe(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Lx(l.removedNodes,n),i=i&&!Lx(l.addedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Jf=new Map;let m_=0;function f6(){const t=window.devicePixelRatio;t!==m_&&(m_=t,Jf.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function Zoe(t,e){Jf.size||window.addEventListener("resize",f6),Jf.set(t,e)}function eie(t){Jf.delete(t),Jf.size||window.removeEventListener("resize",f6)}function tie(t,e,r){const n=t.canvas,a=n&&kE(n);if(!a)return;const s=qq((l,c)=>{const u=a.clientWidth;r(l,c),u<a.clientWidth&&r()},window),i=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||s(u,d)});return i.observe(a),Zoe(t,s),i}function JN(t,e,r){r&&r.disconnect(),e==="resize"&&eie(t)}function rie(t,e,r){const n=t.canvas,a=qq(s=>{t.ctx!==null&&r(Joe(s,t))},t);return Yoe(n,e,a),a}class nie extends u6{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Goe(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[eg])return!1;const n=r[eg].initial;["height","width"].forEach(s=>{const i=n[s];Ge(i)?r.removeAttribute(s):r.setAttribute(s,i)});const a=n.style||{};return Object.keys(a).forEach(s=>{r.style[s]=a[s]}),r.width=r.width,delete r[eg],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),i={attach:Xoe,detach:Qoe,resize:tie}[r]||rie;a[r]=i(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:JN,detach:JN,resize:JN}[r]||Koe)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return Gse(e,r,n,a)}isAttached(e){const r=e&&kE(e);return!!(r&&r.isConnected)}}function aie(t){return!IE()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Woe:nie}var Pp;let Bs=(Pp=class{constructor(){pe(this,"x");pe(this,"y");pe(this,"active",!1);pe(this,"options");pe(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Vc(this.x)&&Vc(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(s=>{a[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),a}},pe(Pp,"defaults",{}),pe(Pp,"defaultRoutes"),Pp);function sie(t,e){const r=t.options.ticks,n=oie(t),a=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?lie(e):[],i=s.length,l=s[0],c=s[i-1],u=[];if(i>a)return cie(e,u,s,i/a),u;const d=iie(s,e,a);if(i>0){let f,m;const h=i>1?Math.round((c-l)/(i-1)):null;for(ep(e,u,d,Ge(h)?0:l-h,l),f=0,m=i-1;f<m;f++)ep(e,u,d,s[f],s[f+1]);return ep(e,u,d,c,Ge(h)?e.length:c+h),u}return ep(e,u,d),u}function oie(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function iie(t,e,r){const n=uie(t),a=e.length/r;if(!n)return Math.max(a,1);const s=Jae(n);for(let i=0,l=s.length-1;i<l;i++){const c=s[i];if(c>a)return c}return Math.max(a,1)}function lie(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function cie(t,e,r,n){let a=0,s=r[0],i;for(n=Math.ceil(n),i=0;i<t.length;i++)i===s&&(e.push(t[i]),a++,s=r[a*n])}function ep(t,e,r,n,a){const s=Me(n,0),i=Math.min(Me(a,t.length),t.length);let l=0,c,u,d;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),d=s;d<0;)l++,d=Math.round(s+l*r);for(u=Math.max(s,0);u<i;u++)u===d&&(e.push(t[u]),l++,d=Math.round(s+l*r))}function uie(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const die=t=>t==="left"?"right":t==="right"?"left":t,h_=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,p_=(t,e)=>Math.min(e||t,t);function g_(t,e){const r=[],n=t.length/e,a=t.length;let s=0;for(;s<a;s+=n)r.push(t[Math.floor(s)]);return r}function fie(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),s=t._startPixel,i=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),u;if(!(r&&(n===1?u=Math.max(c-s,i-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(a-1))/2,c+=a<e?u:-u,c<s-l||c>i+l)))return c}function mie(t,e){dt(t,r=>{const n=r.gc,a=n.length/2;let s;if(a>e){for(s=0;s<a;++s)delete r.data[n[s]];n.splice(0,a)}})}function td(t){return t.drawTicks?t.tickLength:0}function y_(t,e){if(!t.display)return 0;const r=fr(t.font,e),n=Br(t.padding);return($t(t.text)?t.text.length:1)*r.lineHeight+n.height}function hie(t,e){return Jo(t,{scale:e,type:"scale"})}function pie(t,e,r){return Jo(t,{tick:r,index:e,type:"tick"})}function gie(t,e,r){let n=jE(t);return(r&&e!=="right"||!r&&e==="right")&&(n=die(n)),n}function yie(t,e,r,n){const{top:a,left:s,bottom:i,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,m,h,y;const g=i-a,p=l-s;if(t.isHorizontal()){if(h=_r(n,s,l),Ke(r)){const b=Object.keys(r)[0],v=r[b];y=d[b].getPixelForValue(v)+g-e}else r==="center"?y=(u.bottom+u.top)/2+g-e:y=h_(t,r,e);m=l-s}else{if(Ke(r)){const b=Object.keys(r)[0],v=r[b];h=d[b].getPixelForValue(v)-p+e}else r==="center"?h=(u.left+u.right)/2-p+e:h=h_(t,r,e);y=_r(n,i,a),f=r==="left"?-er:er}return{titleX:h,titleY:y,maxWidth:m,rotation:f}}class Il extends Bs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=yn(e,Number.POSITIVE_INFINITY),r=yn(r,Number.NEGATIVE_INFINITY),n=yn(n,Number.POSITIVE_INFINITY),a=yn(a,Number.NEGATIVE_INFINITY),{min:yn(e,n),max:yn(r,a),minDefined:Gt(e),maxDefined:Gt(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:s}=this.getUserBounds(),i;if(a&&s)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)i=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,i.min)),s||(n=Math.max(n,i.max));return r=s&&r>n?n:r,n=a&&r>n?r:n,{min:yn(r,yn(n,r)),max:yn(n,yn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Nt(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:s,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Sse(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?g_(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=sie(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Nt(this.options.afterUpdate,[this])}beforeSetDimensions(){Nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Nt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Nt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=Nt(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){Nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=p_(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,s=r.maxRotation;let i=a,l,c,u;if(!this._isVisible()||!r.display||a>=s||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,m=d.highest.height,h=br(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:h/(n-1),f+6>l&&(l=h/(n-(e.offset?.5:1)),c=this.maxHeight-td(e.grid)-r.padding-y_(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),i=xE(Math.min(Math.asin(br((d.highest.height+6)/l,-1,1)),Math.asin(br(c/u,-1,1))-Math.asin(br(m/u,-1,1)))),i=Math.max(a,Math.min(s,i))),this.labelRotation=i}afterCalculateLabelRotation(){Nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Nt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:s}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const c=y_(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=td(s)+c):(e.height=this.maxHeight,e.width=td(s)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:m}=this._getLabelSizes(),h=n.padding*2,y=da(this.labelRotation),g=Math.cos(y),p=Math.sin(y);if(l){const b=n.mirror?0:p*f.width+g*m.height;e.height=Math.min(this.maxHeight,e.height+b+h)}else{const b=n.mirror?0:g*f.width+p*m.height;e.width=Math.min(this.maxWidth,e.width+b+h)}this._calculatePadding(u,d,p,g)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:s,padding:i},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,h=0;c?u?(m=a*e.width,h=n*r.height):(m=n*e.height,h=a*r.width):s==="start"?h=r.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,h=r.width/2),this.paddingLeft=Math.max((m-d+i)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-f+i)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=r.height,f=0),this.paddingTop=d+i,this.paddingBottom=f+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Nt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)Ge(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=g_(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:s}=this,i=[],l=[],c=Math.floor(r/p_(r,n));let u=0,d=0,f,m,h,y,g,p,b,v,j,C,x;for(f=0;f<r;f+=c){if(y=e[f].label,g=this._resolveTickFontOptions(f),a.font=p=g.string,b=s[p]=s[p]||{data:{},gc:[]},v=g.lineHeight,j=C=0,!Ge(y)&&!$t(y))j=Rx(a,b.data,b.gc,j,y),C=v;else if($t(y))for(m=0,h=y.length;m<h;++m)x=y[m],!Ge(x)&&!$t(x)&&(j=Rx(a,b.data,b.gc,j,x),C+=v);i.push(j),l.push(C),u=Math.max(j,u),d=Math.max(C,d)}mie(s,r);const N=i.indexOf(u),S=l.indexOf(d),A=I=>({width:i[I]||0,height:l[I]||0});return{first:A(0),last:A(r-1),widest:A(N),highest:A(S),widths:i,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return ese(this._alignToPixels?ii(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=pie(this.getContext(),e,n))}return this.$context||(this.$context=hie(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=da(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,l=s?s.widest.width+i:0,c=s?s.highest.height+i:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:s,position:i,border:l}=a,c=s.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=td(s),h=[],y=l.setContext(this.getContext()),g=y.display?y.width:0,p=g/2,b=function(L){return ii(n,L,g)};let v,j,C,x,N,S,A,I,E,k,P,R;if(i==="top")v=b(this.bottom),S=this.bottom-m,I=v-p,k=b(e.top)+p,R=e.bottom;else if(i==="bottom")v=b(this.top),k=e.top,R=b(e.bottom)-p,S=v+p,I=this.top+m;else if(i==="left")v=b(this.right),N=this.right-m,A=v-p,E=b(e.left)+p,P=e.right;else if(i==="right")v=b(this.left),E=e.left,P=b(e.right)-p,N=v+p,A=this.left+m;else if(r==="x"){if(i==="center")v=b((e.top+e.bottom)/2+.5);else if(Ke(i)){const L=Object.keys(i)[0],F=i[L];v=b(this.chart.scales[L].getPixelForValue(F))}k=e.top,R=e.bottom,S=v+p,I=S+m}else if(r==="y"){if(i==="center")v=b((e.left+e.right)/2);else if(Ke(i)){const L=Object.keys(i)[0],F=i[L];v=b(this.chart.scales[L].getPixelForValue(F))}N=v-p,A=N-m,E=e.left,P=e.right}const M=Me(a.ticks.maxTicksLimit,f),_=Math.max(1,Math.ceil(f/M));for(j=0;j<f;j+=_){const L=this.getContext(j),F=s.setContext(L),$=l.setContext(L),O=F.lineWidth,U=F.color,K=$.dash||[],G=$.dashOffset,z=F.tickWidth,ae=F.tickColor,xe=F.tickBorderDash||[],se=F.tickBorderDashOffset;C=fie(this,j,c),C!==void 0&&(x=ii(n,C,O),u?N=A=E=P=x:S=I=k=R=x,h.push({tx1:N,ty1:S,tx2:A,ty2:I,x1:E,y1:k,x2:P,y2:R,width:O,color:U,borderDash:K,borderDashOffset:G,tickWidth:z,tickColor:ae,tickBorderDash:xe,tickBorderDashOffset:se}))}return this._ticksLength=f,this._borderValue=v,h}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:s}=n,i=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=s,m=td(n.grid),h=m+d,y=f?-d:h,g=-da(this.labelRotation),p=[];let b,v,j,C,x,N,S,A,I,E,k,P,R="middle";if(a==="top")N=this.bottom-y,S=this._getXAxisLabelAlignment();else if(a==="bottom")N=this.top+y,S=this._getXAxisLabelAlignment();else if(a==="left"){const _=this._getYAxisLabelAlignment(m);S=_.textAlign,x=_.x}else if(a==="right"){const _=this._getYAxisLabelAlignment(m);S=_.textAlign,x=_.x}else if(r==="x"){if(a==="center")N=(e.top+e.bottom)/2+h;else if(Ke(a)){const _=Object.keys(a)[0],L=a[_];N=this.chart.scales[_].getPixelForValue(L)+h}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")x=(e.left+e.right)/2-h;else if(Ke(a)){const _=Object.keys(a)[0],L=a[_];x=this.chart.scales[_].getPixelForValue(L)}S=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?R="top":c==="end"&&(R="bottom"));const M=this._getLabelSizes();for(b=0,v=l.length;b<v;++b){j=l[b],C=j.label;const _=s.setContext(this.getContext(b));A=this.getPixelForTick(b)+s.labelOffset,I=this._resolveTickFontOptions(b),E=I.lineHeight,k=$t(C)?C.length:1;const L=k/2,F=_.color,$=_.textStrokeColor,O=_.textStrokeWidth;let U=S;i?(x=A,S==="inner"&&(b===v-1?U=this.options.reverse?"left":"right":b===0?U=this.options.reverse?"right":"left":U="center"),a==="top"?u==="near"||g!==0?P=-k*E+E/2:u==="center"?P=-M.highest.height/2-L*E+E:P=-M.highest.height+E/2:u==="near"||g!==0?P=E/2:u==="center"?P=M.highest.height/2-L*E:P=M.highest.height-k*E,f&&(P*=-1),g!==0&&!_.showLabelBackdrop&&(x+=E/2*Math.sin(g))):(N=A,P=(1-k)*E/2);let K;if(_.showLabelBackdrop){const G=Br(_.backdropPadding),z=M.heights[b],ae=M.widths[b];let xe=P-G.top,se=0-G.left;switch(R){case"middle":xe-=z/2;break;case"bottom":xe-=z;break}switch(S){case"center":se-=ae/2;break;case"right":se-=ae;break;case"inner":b===v-1?se-=ae:b>0&&(se-=ae/2);break}K={left:se,top:xe,width:ae+G.width,height:z+G.height,color:_.backdropColor}}p.push({label:C,font:I,textOffset:P,options:{rotation:g,color:F,strokeColor:$,strokeWidth:O,textAlign:U,textBaseline:R,translation:[x,N],backdrop:K}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-da(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,i=this._getLabelSizes(),l=e+s,c=i.widest.width;let u,d;return r==="left"?a?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?a?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:s,height:i}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,s,i),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(s=>s.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,i=a.length;s<i;++s){const c=a[s];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,m;this.isHorizontal()?(u=ii(e,this.left,i)-i/2,d=ii(e,this.right,l)+l/2,f=m=c):(f=ii(e,this.top,i)-i/2,m=ii(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&L0(n,a);const s=this.getLabelItems(e);for(const i of s){const l=i.options,c=i.font,u=i.label,d=i.textOffset;ml(n,u,0,d,c,l)}a&&F0(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const s=fr(n.font),i=Br(n.padding),l=n.align;let c=s.lineHeight/2;r==="bottom"||r==="center"||Ke(r)?(c+=i.bottom,$t(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=i.top;const{titleX:u,titleY:d,maxWidth:f,rotation:m}=yie(this,c,r,l);ml(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:gie(l,r,a),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Me(e.grid&&e.grid.z,-1),a=Me(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Il.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let s,i;for(s=0,i=r.length;s<i;++s){const l=r[s];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return fr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class tp{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;vie(r)&&(n=this.register(r));const a=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,bie(e,i,n),this.override&&Mt.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in Mt[a]&&(delete Mt[a][n],this.override&&delete fl[n])}}function bie(t,e,r){const n=Hf(Object.create(null),[r?Mt.get(r):{},Mt.get(e),t.defaults]);Mt.set(e,n),t.defaultRoutes&&xie(e,t.defaultRoutes),t.descriptors&&Mt.describe(e,t.descriptors)}function xie(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),s=[t].concat(n).join("."),i=e[r].split("."),l=i.pop(),c=i.join(".");Mt.route(s,a,c,l)})}function vie(t){return"id"in t&&"defaults"in t}class jie{constructor(){this.controllers=new tp(ga,"datasets",!0),this.elements=new tp(Bs,"elements"),this.plugins=new tp(Object,"plugins"),this.scales=new tp(Il,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const s=n||this._getRegistryForType(a);n||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):dt(a,i=>{const l=n||this._getRegistryForType(i);this._exec(e,l,i)})})}_exec(e,r,n){const a=bE(e);Nt(n["before"+a],[],n),r[e](n),Nt(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var ka=new jie;class wie{constructor(){this._init=[]}notify(e,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),i=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,r,n,a){a=a||{};for(const s of e){const i=s.plugin,l=i[n],c=[r,a,s.options];if(Nt(l,c,i)===!1&&a.cancelable)return!1}return!0}invalidate(){Ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Me(n.options&&n.options.plugins,{}),s=Nie(n);return a===!1&&!r?[]:Sie(e,s,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(s,i)=>s.filter(l=>!i.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function Nie(t){const e={},r=[],n=Object.keys(ka.plugins.items);for(let s=0;s<n.length;s++)r.push(ka.getPlugin(n[s]));const a=t.plugins||[];for(let s=0;s<a.length;s++){const i=a[s];r.indexOf(i)===-1&&(r.push(i),e[i.id]=!0)}return{plugins:r,localIds:e}}function Cie(t,e){return!e&&t===!1?null:t===!0?{}:t}function Sie(t,{plugins:e,localIds:r},n,a){const s=[],i=t.getContext();for(const l of e){const c=l.id,u=Cie(n[c],a);u!==null&&s.push({plugin:l,options:Aie(t.config,{plugin:l,local:r[c]},u,i)})}return s}function Aie(t,{plugin:e,local:r},n,a){const s=t.pluginScopeKeys(e),i=t.getOptionScopes(n,s);return r&&e.defaults&&i.push(e.defaults),t.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function oA(t,e){const r=Mt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function Iie(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function kie(t,e){return t===e?"_index_":"_value_"}function b_(t){if(t==="x"||t==="y"||t==="r")return t}function Tie(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function iA(t,...e){if(b_(t))return t;for(const r of e){const n=r.axis||Tie(r.position)||t.length>1&&b_(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function x_(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function Eie(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return x_(t,"x",r[0])||x_(t,"y",r[0])}return{}}function Die(t,e){const r=fl[t.type]||{scales:{}},n=e.scales||{},a=oA(t.type,e),s=Object.create(null);return Object.keys(n).forEach(i=>{const l=n[i];if(!Ke(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=iA(i,l,Eie(i,t),Mt.scales[l.type]),u=kie(c,a),d=r.scales||{};s[i]=Yd(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(i=>{const l=i.type||t.type,c=i.indexAxis||oA(l,e),d=(fl[l]||{}).scales||{};Object.keys(d).forEach(f=>{const m=Iie(f,c),h=i[m+"AxisID"]||m;s[h]=s[h]||Object.create(null),Yd(s[h],[{axis:m},n[h],d[f]])})}),Object.keys(s).forEach(i=>{const l=s[i];Yd(l,[Mt.scales[l.type],Mt.scale])}),s}function m6(t){const e=t.options||(t.options={});e.plugins=Me(e.plugins,{}),e.scales=Die(t,e)}function h6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Pie(t){return t=t||{},t.data=h6(t.data),m6(t),t}const v_=new Map,p6=new Set;function rp(t,e){let r=v_.get(t);return r||(r=e(),v_.set(t,r),p6.add(r)),r}const rd=(t,e,r)=>{const n=Lo(e,r);n!==void 0&&t.add(n)};class Oie{constructor(e){this._config=Pie(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=h6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),m6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return rp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return rp(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return rp(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return rp(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:s}=this,i=this._cachedScopes(e,n),l=i.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(f=>rd(c,e,f))),d.forEach(f=>rd(c,a,f)),d.forEach(f=>rd(c,fl[s]||{},f)),d.forEach(f=>rd(c,Mt,f)),d.forEach(f=>rd(c,nA,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),p6.has(r)&&i.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,fl[r]||{},Mt.datasets[r]||{},{type:r},Mt,nA]}resolveNamedOptions(e,r,n,a=[""]){const s={$shared:!0},{resolver:i,subPrefixes:l}=j_(this._resolverCache,e,a);let c=i;if($ie(i,r)){s.$shared=!1,n=Fo(n)?n():n;const u=this.createResolver(e,n,l);c=Uc(i,n,u)}for(const u of r)s[u]=c[u];return s}createResolver(e,r,n=[""],a){const{resolver:s}=j_(this._resolverCache,e,n);return Ke(r)?Uc(s,r,void 0,a):s}}function j_(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let s=n.get(a);return s||(s={resolver:CE(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,s)),s}const _ie=t=>Ke(t)&&Object.getOwnPropertyNames(t).some(e=>Fo(t[e]));function $ie(t,e){const{isScriptable:r,isIndexable:n}=Gq(t);for(const a of e){const s=r(a),i=n(a),l=(i||s)&&t[a];if(s&&(Fo(l)||_ie(l))||i&&$t(l))return!0}return!1}var Rie="4.5.0";const Mie=["top","bottom","left","right","chartArea"];function w_(t,e){return t==="top"||t==="bottom"||Mie.indexOf(t)===-1&&e==="x"}function N_(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function C_(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Nt(r&&r.onComplete,[t],e)}function Lie(t){const e=t.chart,r=e.options.animation;Nt(r&&r.onProgress,[t],e)}function g6(t){return IE()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const tg={},S_=t=>{const e=g6(t);return Object.values(tg).filter(r=>r.canvas===e).pop()};function Fie(t,e,r){const n=Object.keys(t);for(const a of n){const s=+a;if(s>=e){const i=t[a];delete t[a],(r>0||s>e)&&(t[s+r]=i)}}}function Bie(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class eo{static register(...e){ka.add(...e),A_()}static unregister(...e){ka.remove(...e),A_()}constructor(e,r){const n=this.config=new Oie(r),a=g6(e),s=S_(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||aie(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,i.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=qae(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ase(f=>this.update(f),i.resizeDelay||0),this._dataChanges=[],tg[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ts.listen(this,"complete",C_),ts.listen(this,"progress",Lie),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:s}=this;return Ge(e)?r&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ka}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():YO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return WO(this.canvas,this.ctx),this}stop(){return ts.stop(this),this}resize(e,r){ts.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(a,e,r,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,YO(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),Nt(n.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};dt(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((i,l)=>(i[l]=!1,i),{});let s=[];r&&(s=s.concat(Object.keys(r).map(i=>{const l=r[i],c=iA(i,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),dt(s,i=>{const l=i.options,c=l.id,u=iA(c,l),d=Me(l.type,i.dtype);(l.position===void 0||w_(l.position,u)!==w_(i.dposition))&&(l.position=i.dposition),a[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const m=ka.getScale(d);f=new m({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),dt(a,(i,l)=>{i||delete n[l]}),dt(n,i=>{Lr.configure(this,i,i.options),Lr.addBox(this,i)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,s)=>a.index-s.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(N_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const s=r[n];let i=this.getDatasetMeta(n);const l=s.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=l,i.indexAxis=s.indexAxis||oA(l,this.options),i.order=s.order||0,i.index=n,i.label=""+s.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const c=ka.getController(l),{datasetElementType:u,dataElementType:d}=Mt.datasets[l];Object.assign(c,{dataElementType:ka.getElement(d),datasetElementType:u&&ka.getElement(u)}),i.controller=new c(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){dt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),m=!a&&s.indexOf(f)===-1;f.buildOrUpdateElements(m),i=Math.max(+f.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),a||dt(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(N_("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){dt(this.scales,e=>{Lr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!RO(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:s}of r){const i=n==="_removeElements"?-s:s;Fie(e,a,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(i=>i[0]===s).map((i,l)=>l+","+i.splice(1).join(","))),a=n(0);for(let s=1;s<r;s++)if(!RO(a,n(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Lr.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],dt(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Fo(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ts.has(this)?this.attached&&!ts.running(this)&&ts.start(this):(this.draw(),C_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,s;for(a=0,s=r.length;a<s;++a){const i=r[a];(!e||i.visible)&&n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=a6(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&L0(r,a),e.controller.draw(),a&&F0(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return hs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const s=Moe.modes[r];return typeof s=="function"?s(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(s=>s&&s._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Jo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,a);Gf(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),ts.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),WO(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete tg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,i)=>{r.addEventListener(this,s,i),e[s]=i},a=(s,i,l)=>{s.offsetX=i,s.offsetY=l,this._eventHandler(s)};dt(this.options.events,s=>n(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},a=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)};let i;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():i()}unbindEvents(){dt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},dt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let s,i,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){i=e[l];const u=i&&this.getDatasetMeta(i.datasetIndex).controller;u&&u[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:i})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[i],index:i}});!Ox(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),i=s(r,e),l=n?e:s(e,r);i.length&&this.updateHoverStyle(i,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:s}=this,i=r,l=this._getActiveElements(e,a,n,i),c=Gae(e),u=Bie(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Nt(s.onHover,[e,l,this],this),c&&Nt(s.onClick,[e,l,this],this));const d=!Ox(l,a);return(d||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}pe(eo,"defaults",Mt),pe(eo,"instances",tg),pe(eo,"overrides",fl),pe(eo,"registry",ka),pe(eo,"version",Rie),pe(eo,"getChart",S_);function A_(){return dt(eo.instances,t=>t._plugins.invalidate())}function qie(t,e,r){const{startAngle:n,x:a,y:s,outerRadius:i,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/i,$r(n-r));if(t.beginPath(),t.arc(a,s,i-u/2,n+f/2,r-f/2),l>0){const m=Math.min(u/l,$r(n-r));t.arc(a,s,l+u/2,r-m/2,n+m/2,!0)}else{const m=Math.min(u/2,i*$r(n-r));if(d==="round")t.arc(a,s,m,r-rt/2,n+rt/2,!0);else if(d==="bevel"){const h=2*m*m,y=-h*Math.cos(r+rt/2)+a,g=-h*Math.sin(r+rt/2)+s,p=h*Math.cos(n+rt/2)+a,b=h*Math.sin(n+rt/2)+s;t.lineTo(y,g),t.lineTo(p,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Vie(t,e,r){const{startAngle:n,pixelMargin:a,x:s,y:i,outerRadius:l,innerRadius:c}=e;let u=a/l;t.beginPath(),t.arc(s,i,l,n-u,r+u),c>a?(u=a/c,t.arc(s,i,c,r+u,n-u,!0)):t.arc(s,i,a,r+er,n-er),t.closePath(),t.clip()}function Uie(t){return NE(t,["outerStart","outerEnd","innerStart","innerEnd"])}function zie(t,e,r,n){const a=Uie(t.options.borderRadius),s=(r-e)/2,i=Math.min(s,n*e/2),l=c=>{const u=(r-Math.min(s,c))*n/2;return br(c,0,Math.min(s,u))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:br(a.innerStart,0,i),innerEnd:br(a.innerEnd,0,i)}}function Ll(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Fx(t,e,r,n,a,s){const{x:i,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+n+r-u,0),m=d>0?d+n+r+u:0;let h=0;const y=a-c;if(n){const _=d>0?d-n:0,L=f>0?f-n:0,F=(_+L)/2,$=F!==0?y*F/(F+n):y;h=(y-$)/2}const g=Math.max(.001,y*f-r/rt)/f,p=(y-g)/2,b=c+p+h,v=a-p-h,{outerStart:j,outerEnd:C,innerStart:x,innerEnd:N}=zie(e,m,f,v-b),S=f-j,A=f-C,I=b+j/S,E=v-C/A,k=m+x,P=m+N,R=b+x/k,M=v-N/P;if(t.beginPath(),s){const _=(I+E)/2;if(t.arc(i,l,f,I,_),t.arc(i,l,f,_,E),C>0){const O=Ll(A,E,i,l);t.arc(O.x,O.y,C,E,v+er)}const L=Ll(P,v,i,l);if(t.lineTo(L.x,L.y),N>0){const O=Ll(P,M,i,l);t.arc(O.x,O.y,N,v+er,M+Math.PI)}const F=(v-N/m+(b+x/m))/2;if(t.arc(i,l,m,v-N/m,F,!0),t.arc(i,l,m,F,b+x/m,!0),x>0){const O=Ll(k,R,i,l);t.arc(O.x,O.y,x,R+Math.PI,b-er)}const $=Ll(S,b,i,l);if(t.lineTo($.x,$.y),j>0){const O=Ll(S,I,i,l);t.arc(O.x,O.y,j,b-er,I)}}else{t.moveTo(i,l);const _=Math.cos(I)*f+i,L=Math.sin(I)*f+l;t.lineTo(_,L);const F=Math.cos(E)*f+i,$=Math.sin(E)*f+l;t.lineTo(F,$)}t.closePath()}function Wie(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l}=e;let c=e.endAngle;if(s){Fx(t,e,r,n,c,a);for(let u=0;u<s;++u)t.fill();isNaN(l)||(c=i+(l%Ot||Ot))}return Fx(t,e,r,n,c,a),t.fill(),c}function Hie(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:m,borderRadius:h}=c,y=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,y?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let g=e.endAngle;if(s){Fx(t,e,r,n,g,a);for(let p=0;p<s;++p)t.stroke();isNaN(l)||(g=i+(l%Ot||Ot))}y&&Vie(t,e,g),c.selfJoin&&g-i>=rt&&h===0&&d!=="miter"&&qie(t,e,g),s||(Fx(t,e,r,n,g,a),t.stroke())}class kd extends Bs{constructor(r){super();pe(this,"circumference");pe(this,"endAngle");pe(this,"fullCircles");pe(this,"innerRadius");pe(this,"outerRadius");pe(this,"pixelMargin");pe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.getProps(["x","y"],a),{angle:i,distance:l}=Mq(s,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),h=(this.options.spacing+this.options.borderWidth)/2,y=Me(m,u-c),g=Yf(i,c,u)&&c!==u,p=y>=Ot||g,b=fs(l,d+h,f+h);return p&&b}getCenterPoint(r){const{x:n,y:a,startAngle:s,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(s+i)/2,m=(l+c+d+u)/2;return{x:n+Math.cos(f)*m,y:a+Math.sin(f)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Ot?Math.floor(a/Ot):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(rt,a||0)),d=s*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,Wie(r,this,d,i,l),Hie(r,this,d,i,l),r.restore()}}pe(kd,"id","arc"),pe(kd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),pe(kd,"defaultRoutes",{backgroundColor:"backgroundColor"}),pe(kd,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function y6(t,e,r=e){t.lineCap=Me(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Me(r.borderDash,e.borderDash)),t.lineDashOffset=Me(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Me(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Me(r.borderWidth,e.borderWidth),t.strokeStyle=Me(r.borderColor,e.borderColor)}function Gie(t,e,r){t.lineTo(r.x,r.y)}function Yie(t){return t.stepped?gse:t.tension||t.cubicInterpolationMode==="monotone"?yse:Gie}function b6(t,e,r={}){const n=t.length,{start:a=0,end:s=n-1}=r,{start:i,end:l}=e,c=Math.max(a,i),u=Math.min(s,l),d=a<i&&s<i||a>l&&s>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!d?n+u-c:u-c}}function Kie(t,e,r,n){const{points:a,options:s}=e,{count:i,start:l,loop:c,ilen:u}=b6(a,r,n),d=Yie(s);let{move:f=!0,reverse:m}=n||{},h,y,g;for(h=0;h<=u;++h)y=a[(l+(m?u-h:h))%i],!y.skip&&(f?(t.moveTo(y.x,y.y),f=!1):d(t,g,y,m,s.stepped),g=y);return c&&(y=a[(l+(m?u:0))%i],d(t,g,y,m,s.stepped)),!!c}function Jie(t,e,r,n){const a=e.points,{count:s,start:i,ilen:l}=b6(a,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,m,h,y,g,p,b;const v=C=>(i+(u?l-C:C))%s,j=()=>{g!==p&&(t.lineTo(d,p),t.lineTo(d,g),t.lineTo(d,b))};for(c&&(h=a[v(0)],t.moveTo(h.x,h.y)),m=0;m<=l;++m){if(h=a[v(m)],h.skip)continue;const C=h.x,x=h.y,N=C|0;N===y?(x<g?g=x:x>p&&(p=x),d=(f*d+C)/++f):(j(),t.lineTo(C,x),y=N,f=0,g=p=x),b=x}j()}function lA(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Jie:Kie}function Xie(t){return t.stepped?Kse:t.tension||t.cubicInterpolationMode==="monotone"?Jse:yi}function Qie(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),y6(t,e.options),t.stroke(a)}function Zie(t,e,r,n){const{segments:a,options:s}=e,i=lA(e);for(const l of a)y6(t,s,l.style),t.beginPath(),i(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const ele=typeof Path2D=="function";function tle(t,e,r,n){ele&&!e.options.segment?Qie(t,e,r,n):Zie(t,e,r,n)}class fo extends Bs{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;qse(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=roe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],s=this.points,i=n6(this,{property:r,start:a,end:a});if(!i.length)return;const l=[],c=Xie(n);let u,d;for(u=0,d=i.length;u<d;++u){const{start:f,end:m}=i[u],h=s[f],y=s[m];if(h===y){l.push(h);continue}const g=Math.abs((a-h[r])/(y[r]-h[r])),p=c(h,y,g,n.stepped);p[r]=e[r],l.push(p)}return l.length===1?l[0]:l}pathSegment(e,r,n){return lA(this)(e,this,r,n)}path(e,r,n){const a=this.segments,s=lA(this);let i=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)i&=s(e,this,l,{start:r,end:r+n-1});return!!i}draw(e,r,n,a){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),tle(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}pe(fo,"id","line"),pe(fo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),pe(fo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),pe(fo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function I_(t,e,r,n){const a=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<a.radius+a.hitRadius}class rg extends Bs{constructor(r){super();pe(this,"parsed");pe(this,"skip");pe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.options,{x:i,y:l}=this.getProps(["x","y"],a);return Math.pow(r-i,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return I_(this,r,"x",n)}inYRange(r,n){return I_(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!hs(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,aA(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}pe(rg,"id","point"),pe(rg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),pe(rg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function x6(t,e){const{x:r,y:n,base:a,width:s,height:i}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=i/2,l=Math.min(r,a),c=Math.max(r,a),u=n-f,d=n+f):(f=s/2,l=r-f,c=r+f,u=Math.min(n,a),d=Math.max(n,a)),{left:l,top:u,right:c,bottom:d}}function mo(t,e,r,n){return t?0:br(e,r,n)}function rle(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,s=Hq(n);return{t:mo(a.top,s.top,0,r),r:mo(a.right,s.right,0,e),b:mo(a.bottom,s.bottom,0,r),l:mo(a.left,s.left,0,e)}}function nle(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,s=Fi(a),i=Math.min(e,r),l=t.borderSkipped,c=n||Ke(a);return{topLeft:mo(!c||l.top||l.left,s.topLeft,0,i),topRight:mo(!c||l.top||l.right,s.topRight,0,i),bottomLeft:mo(!c||l.bottom||l.left,s.bottomLeft,0,i),bottomRight:mo(!c||l.bottom||l.right,s.bottomRight,0,i)}}function ale(t){const e=x6(t),r=e.right-e.left,n=e.bottom-e.top,a=rle(t,r/2,n/2),s=nle(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function XN(t,e,r,n){const a=e===null,s=r===null,l=t&&!(a&&s)&&x6(t,n);return l&&(a||fs(e,l.left,l.right))&&(s||fs(r,l.top,l.bottom))}function sle(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function ole(t,e){t.rect(e.x,e.y,e.w,e.h)}function QN(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,i=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+s,h:t.h+i,radius:t.radius}}class ng extends Bs{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:i}=ale(this),l=sle(i.radius)?Kf:ole;e.save(),(i.w!==s.w||i.h!==s.h)&&(e.beginPath(),l(e,QN(i,r,s)),e.clip(),l(e,QN(s,-r,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,QN(s,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return XN(this,e,r,n)}inXRange(e,r){return XN(this,e,null,r)}inYRange(e,r){return XN(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+a)/2:r,y:s?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}pe(ng,"id","bar"),pe(ng,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),pe(ng,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var ile=Object.freeze({__proto__:null,ArcElement:kd,BarElement:ng,LineElement:fo,PointElement:rg});const cA=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],k_=cA.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function v6(t){return cA[t%cA.length]}function j6(t){return k_[t%k_.length]}function lle(t,e){return t.borderColor=v6(e),t.backgroundColor=j6(e),++e}function cle(t,e){return t.backgroundColor=t.data.map(()=>v6(e++)),e}function ule(t,e){return t.backgroundColor=t.data.map(()=>j6(e++)),e}function dle(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof ki?e=cle(r,e):a instanceof Qd?e=ule(r,e):a&&(e=lle(r,e))}}function T_(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function fle(t){return t&&(t.borderColor||t.backgroundColor)}function mle(){return Mt.borderColor!=="rgba(0,0,0,0.1)"||Mt.backgroundColor!=="rgba(0,0,0,0.1)"}var hle={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:s}=a,i=T_(n)||fle(a)||s&&T_(s)||mle();if(!r.forceOverride&&i)return;const l=dle(t);n.forEach(l)}};function ple(t,e,r,n,a){const s=a.samples||n;if(s>=r)return t.slice(e,e+r);const i=[],l=(r-2)/(s-2);let c=0;const u=e+r-1;let d=e,f,m,h,y,g;for(i[c++]=t[d],f=0;f<s-2;f++){let p=0,b=0,v;const j=Math.floor((f+1)*l)+1+e,C=Math.min(Math.floor((f+2)*l)+1,r)+e,x=C-j;for(v=j;v<C;v++)p+=t[v].x,b+=t[v].y;p/=x,b/=x;const N=Math.floor(f*l)+1+e,S=Math.min(Math.floor((f+1)*l)+1,r)+e,{x:A,y:I}=t[d];for(h=y=-1,v=N;v<S;v++)y=.5*Math.abs((A-p)*(t[v].y-I)-(A-t[v].x)*(b-I)),y>h&&(h=y,m=t[v],g=v);i[c++]=m,d=g}return i[c++]=t[u],i}function gle(t,e,r,n){let a=0,s=0,i,l,c,u,d,f,m,h,y,g;const p=[],b=e+r-1,v=t[e].x,C=t[b].x-v;for(i=e;i<e+r;++i){l=t[i],c=(l.x-v)/C*n,u=l.y;const x=c|0;if(x===d)u<y?(y=u,f=i):u>g&&(g=u,m=i),a=(s*a+l.x)/++s;else{const N=i-1;if(!Ge(f)&&!Ge(m)){const S=Math.min(f,m),A=Math.max(f,m);S!==h&&S!==N&&p.push({...t[S],x:a}),A!==h&&A!==N&&p.push({...t[A],x:a})}i>0&&N!==h&&p.push(t[N]),p.push(l),d=x,s=0,y=g=u,f=m=h=i}}return p}function w6(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function E_(t){t.data.datasets.forEach(e=>{w6(e)})}function yle(t,e){const r=e.length;let n=0,a;const{iScale:s}=t,{min:i,max:l,minDefined:c,maxDefined:u}=s.getUserBounds();return c&&(n=br(ms(e,s.axis,i).lo,0,r-1)),u?a=br(ms(e,s.axis,l).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var ble={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){E_(t);return}const n=t.width;t.data.datasets.forEach((a,s)=>{const{_data:i,indexAxis:l}=a,c=t.getDatasetMeta(s),u=i||a.data;if(Ad([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:m}=yle(c,u);const h=r.threshold||4*n;if(m<=h){w6(a);return}Ge(i)&&(a._data=u,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let y;switch(r.algorithm){case"lttb":y=ple(u,f,m,n,r);break;case"min-max":y=gle(u,f,m,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=y})},destroy(t){E_(t)}};function xle(t,e,r){const n=t.segments,a=t.points,s=e.points,i=[];for(const l of n){let{start:c,end:u}=l;u=V0(c,u,a);const d=uA(r,a[c],a[u],l.loop);if(!e.segments){i.push({source:l,target:d,start:a[c],end:a[u]});continue}const f=n6(e,d);for(const m of f){const h=uA(r,s[m.start],s[m.end],m.loop),y=r6(l,a,h);for(const g of y)i.push({source:g,target:m,start:{[r]:D_(d,h,"start",Math.max)},end:{[r]:D_(d,h,"end",Math.min)}})}}return i}function uA(t,e,r,n){if(n)return;let a=e[t],s=r[t];return t==="angle"&&(a=$r(a),s=$r(s)),{property:t,start:a,end:s}}function vle(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,s=[];return e.segments.forEach(({start:i,end:l})=>{l=V0(i,l,a);const c=a[i],u=a[l];n!==null?(s.push({x:c.x,y:n}),s.push({x:u.x,y:n})):r!==null&&(s.push({x:r,y:c.y}),s.push({x:r,y:u.y}))}),s}function V0(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function D_(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function N6(t,e){let r=[],n=!1;return $t(t)?(n=!0,r=t):r=vle(t,e),r.length?new fo({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function P_(t){return t&&t.fill!==!1}function jle(t,e,r){let a=t[e].fill;const s=[e];let i;if(!r)return a;for(;a!==!1&&s.indexOf(a)===-1;){if(!Gt(a))return a;if(i=t[a],!i)return!1;if(i.visible)return a;s.push(a),a=i.fill}return!1}function wle(t,e,r){const n=Ale(t);if(Ke(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Gt(a)&&Math.floor(a)===a?Nle(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Nle(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function Cle(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Ke(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function Sle(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Ke(t)?n=t.value:n=e.getBaseValue(),n}function Ale(t){const e=t.options,r=e.fill;let n=Me(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Ile(t){const{scale:e,index:r,line:n}=t,a=[],s=n.segments,i=n.points,l=kle(e,r);l.push(N6({x:null,y:e.bottom},n));for(let c=0;c<s.length;c++){const u=s[c];for(let d=u.start;d<=u.end;d++)Tle(a,i[d],l)}return new fo({points:a,options:{}})}function kle(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const s=n[a];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function Tle(t,e,r){const n=[];for(let a=0;a<r.length;a++){const s=r[a],{first:i,last:l,point:c}=Ele(s,e,"x");if(!(!c||i&&l)){if(i)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function Ele(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],s=t.segments,i=t.points;let l=!1,c=!1;for(let u=0;u<s.length;u++){const d=s[u],f=i[d.start][r],m=i[d.end][r];if(fs(a,f,m)){l=a===f,c=a===m;break}}return{first:l,last:c,point:n}}class C6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:s,radius:i}=this;return r=r||{start:0,end:Ot},e.arc(a,s,i,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,s=e.angle;return{x:r+Math.cos(s)*a,y:n+Math.sin(s)*a,angle:s}}}function Dle(t){const{chart:e,fill:r,line:n}=t;if(Gt(r))return Ple(e,r);if(r==="stack")return Ile(t);if(r==="shape")return!0;const a=Ole(t);return a instanceof C6?a:N6(a,n)}function Ple(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function Ole(t){return(t.scale||{}).getPointPositionForValue?$le(t):_le(t)}function _le(t){const{scale:e={},fill:r}=t,n=Cle(r,e);if(Gt(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function $le(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,s=n.reverse?e.max:e.min,i=Sle(r,e,s),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,s);return new C6({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(i)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,i));return l}function ZN(t,e,r){const n=Dle(e),{chart:a,index:s,line:i,scale:l,axis:c}=e,u=i.options,d=u.fill,f=u.backgroundColor,{above:m=f,below:h=f}=d||{},y=a.getDatasetMeta(s),g=a6(a,y);n&&i.points.length&&(L0(t,r),Rle(t,{line:i,target:n,above:m,below:h,area:r,scale:l,axis:c,clip:g}),F0(t))}function Rle(t,e){const{line:r,target:n,above:a,below:s,area:i,scale:l,clip:c}=e,u=r._loop?"angle":e.axis;t.save();let d=s;s!==a&&(u==="x"?(O_(t,n,i.top),e1(t,{line:r,target:n,color:a,scale:l,property:u,clip:c}),t.restore(),t.save(),O_(t,n,i.bottom)):u==="y"&&(__(t,n,i.left),e1(t,{line:r,target:n,color:s,scale:l,property:u,clip:c}),t.restore(),t.save(),__(t,n,i.right),d=a)),e1(t,{line:r,target:n,color:d,scale:l,property:u,clip:c}),t.restore()}function O_(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[V0(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,r),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function __(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[V0(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(r,d.y),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(r,f.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function e1(t,e){const{line:r,target:n,property:a,color:s,scale:i,clip:l}=e,c=xle(r,n,a);for(const{source:u,target:d,start:f,end:m}of c){const{style:{backgroundColor:h=s}={}}=u,y=n!==!0;t.save(),t.fillStyle=h,Mle(t,i,l,y&&uA(a,f,m)),t.beginPath();const g=!!r.pathSegment(t,u);let p;if(y){g?t.closePath():$_(t,n,m,a);const b=!!n.pathSegment(t,d,{move:g,reverse:!0});p=g&&b,p||$_(t,n,f,a)}t.closePath(),t.fill(p?"evenodd":"nonzero"),t.restore()}}function Mle(t,e,r,n){const a=e.chart.chartArea,{property:s,start:i,end:l}=n||{};if(s==="x"||s==="y"){let c,u,d,f;s==="x"?(c=i,u=a.top,d=l,f=a.bottom):(c=a.left,u=i,d=a.right,f=l),t.beginPath(),r&&(c=Math.max(c,r.left),d=Math.min(d,r.right),u=Math.max(u,r.top),f=Math.min(f,r.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function $_(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var Lle={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let s,i,l,c;for(i=0;i<n;++i)s=t.getDatasetMeta(i),l=s.dataset,c=null,l&&l.options&&l instanceof fo&&(c={visible:t.isDatasetVisible(i),index:i,fill:wle(l,i,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,a.push(c);for(i=0;i<n;++i)c=a[i],!(!c||c.fill===!1)&&(c.fill=jle(a,i,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let i=a.length-1;i>=0;--i){const l=a[i].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&ZN(t.ctx,l,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const s=n[a].$filler;P_(s)&&ZN(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!P_(n)||r.drawTime!=="beforeDatasetDraw"||ZN(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const R_=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Fle=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let M_=class extends Bs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Nt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=fr(n.font),s=a.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=R_(n,s);let u,d;r.font=a.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(i,s,l,c)+10):(d=this.maxHeight,u=this._fitCols(i,a,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:s,maxWidth:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=a+l;let f=e;s.textAlign="left",s.textBaseline="middle";let m=-1,h=-d;return this.legendItems.forEach((y,g)=>{const p=n+r/2+s.measureText(y.text).width;(g===0||u[u.length-1]+p+2*l>i)&&(f+=d,u[u.length-(g>0?0:1)]=0,h+=d,m++),c[g]={left:0,top:h,row:m,width:p,height:a},u[u.length-1]+=p+l}),f}_fitCols(e,r,n,a){const{ctx:s,maxHeight:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=i-e;let f=l,m=0,h=0,y=0,g=0;return this.legendItems.forEach((p,b)=>{const{itemWidth:v,itemHeight:j}=Ble(n,r,s,p,a);b>0&&h+j+2*l>d&&(f+=m+l,u.push({width:m,height:h}),y+=m+l,g++,m=h=0),c[b]={left:y,top:h,col:g,width:v,height:j},m=Math.max(m,v),h+=j+l}),f+=m,u.push({width:m,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:s}}=this,i=pc(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=_r(n,this.left+a,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=_r(n,this.left+a,this.right-this.lineWidths[l])),u.top+=this.top+e+a,u.left=i.leftForLtr(i.x(c),u.width),c+=u.width+a}else{let l=0,c=_r(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=_r(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+a,u.left=i.leftForLtr(i.x(u.left),u.width),c+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;L0(e,this),this._draw(),F0(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:s,labels:i}=e,l=Mt.color,c=pc(e.rtl,this.left,this.width),u=fr(i.font),{padding:d}=i,f=u.size,m=f/2;let h;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:y,boxHeight:g,itemHeight:p}=R_(i,f),b=function(N,S,A){if(isNaN(y)||y<=0||isNaN(g)||g<0)return;a.save();const I=Me(A.lineWidth,1);if(a.fillStyle=Me(A.fillStyle,l),a.lineCap=Me(A.lineCap,"butt"),a.lineDashOffset=Me(A.lineDashOffset,0),a.lineJoin=Me(A.lineJoin,"miter"),a.lineWidth=I,a.strokeStyle=Me(A.strokeStyle,l),a.setLineDash(Me(A.lineDash,[])),i.usePointStyle){const E={radius:g*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:I},k=c.xPlus(N,y/2),P=S+m;Wq(a,E,k,P,i.pointStyleWidth&&y)}else{const E=S+Math.max((f-g)/2,0),k=c.leftForLtr(N,y),P=Fi(A.borderRadius);a.beginPath(),Object.values(P).some(R=>R!==0)?Kf(a,{x:k,y:E,w:y,h:g,radius:P}):a.rect(k,E,y,g),a.fill(),I!==0&&a.stroke()}a.restore()},v=function(N,S,A){ml(a,A.text,N,S+p/2,u,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},j=this.isHorizontal(),C=this._computeTitleHeight();j?h={x:_r(s,this.left+d,this.right-n[0]),y:this.top+d+C,line:0}:h={x:this.left+d,y:_r(s,this.top+C+d,this.bottom-r[0].height),line:0},Zq(this.ctx,e.textDirection);const x=p+d;this.legendItems.forEach((N,S)=>{a.strokeStyle=N.fontColor,a.fillStyle=N.fontColor;const A=a.measureText(N.text).width,I=c.textAlign(N.textAlign||(N.textAlign=i.textAlign)),E=y+m+A;let k=h.x,P=h.y;c.setWidth(this.width),j?S>0&&k+E+d>this.right&&(P=h.y+=x,h.line++,k=h.x=_r(s,this.left+d,this.right-n[h.line])):S>0&&P+x>this.bottom&&(k=h.x=k+r[h.line].width+d,h.line++,P=h.y=_r(s,this.top+C+d,this.bottom-r[h.line].height));const R=c.x(k);if(b(R,P,N),k=sse(I,k+y+m,j?k+E:this.right,e.rtl),v(c.x(k),P,N),j)h.x+=E+d;else if(typeof N.text!="string"){const M=u.lineHeight;h.y+=S6(N,M)+d}else h.y+=x}),e6(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=fr(r.font),a=Br(r.padding);if(!r.display)return;const s=pc(e.rtl,this.left,this.width),i=this.ctx,l=r.position,c=n.size/2,u=a.top+c;let d,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,f=_r(e.align,f,this.right-m);else{const y=this.columnSizes.reduce((g,p)=>Math.max(g,p.height),0);d=u+_r(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const h=_r(l,f,f+m);i.textAlign=s.textAlign(jE(l)),i.textBaseline="middle",i.strokeStyle=r.color,i.fillStyle=r.color,i.font=n.string,ml(i,r.text,h,d,n)}_computeTitleHeight(){const e=this.options.title,r=fr(e.font),n=Br(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,s;if(fs(e,this.left,this.right)&&fs(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],fs(e,a.left,a.left+a.width)&&fs(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!Ule(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,s=Fle(a,n);a&&!s&&Nt(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&Nt(r.onHover,[e,n,this],this)}else n&&Nt(r.onClick,[e,n,this],this)}};function Ble(t,e,r,n,a){const s=qle(n,t,e,r),i=Vle(a,n,e.lineHeight);return{itemWidth:s,itemHeight:i}}function qle(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((s,i)=>s.length>i.length?s:i)),e+r.size/2+n.measureText(a).width}function Vle(t,e,r){let n=t;return typeof e.text!="string"&&(n=S6(e,r)),n}function S6(t,e){const r=t.text?t.text.length:0;return e*r}function Ule(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var zle={id:"legend",_element:M_,start(t,e,r){const n=t.legend=new M_({ctx:t.ctx,options:r,chart:t});Lr.configure(t,n,r),Lr.addBox(t,n)},stop(t){Lr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Lr.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:s,useBorderRadius:i,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=Br(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:i&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class EE extends Bs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=$t(n.text)?n.text.length:1;this._padding=Br(n.padding);const s=a*fr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:s,options:i}=this,l=i.align;let c=0,u,d,f;return this.isHorizontal()?(d=_r(l,n,s),f=r+e,u=s-n):(i.position==="left"?(d=n+e,f=_r(l,a,r),c=rt*-.5):(d=s-e,f=_r(l,r,a),c=rt*.5),u=a-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=fr(r.font),s=n.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(s);ml(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:jE(r.align),textBaseline:"middle",translation:[i,l]})}}function Wle(t,e){const r=new EE({ctx:t.ctx,options:e,chart:t});Lr.configure(t,r,e),Lr.addBox(t,r),t.titleBlock=r}var Hle={id:"title",_element:EE,start(t,e,r){Wle(t,r)},stop(t){const e=t.titleBlock;Lr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Lr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const np=new WeakMap;var Gle={id:"subtitle",start(t,e,r){const n=new EE({ctx:t.ctx,options:r,chart:t});Lr.configure(t,n,r),Lr.addBox(t,n),np.set(t,n)},stop(t){Lr.removeBox(t,np.get(t)),np.delete(t)},beforeUpdate(t,e,r){const n=np.get(t);Lr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Td={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,s=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,s,i,l;for(s=0,i=t.length;s<i;++s){const c=t[s].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=rA(e,u);d<a&&(a=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function Aa(t,e){return e&&($t(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function rs(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Yle(t,e){const{element:r,datasetIndex:n,index:a}=e,s=t.getDatasetMeta(n).controller,{label:i,value:l}=s.getLabelAndValue(a);return{chart:t,label:i,parsed:s.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function L_(t,e){const r=t.chart.ctx,{body:n,footer:a,title:s}=t,{boxWidth:i,boxHeight:l}=e,c=fr(e.bodyFont),u=fr(e.titleFont),d=fr(e.footerFont),f=s.length,m=a.length,h=n.length,y=Br(e.padding);let g=y.height,p=0,b=n.reduce((C,x)=>C+x.before.length+x.lines.length+x.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,f&&(g+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),b){const C=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;g+=h*C+(b-h)*c.lineHeight+(b-1)*e.bodySpacing}m&&(g+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let v=0;const j=function(C){p=Math.max(p,r.measureText(C).width+v)};return r.save(),r.font=u.string,dt(t.title,j),r.font=c.string,dt(t.beforeBody.concat(t.afterBody),j),v=e.displayColors?i+2+e.boxPadding:0,dt(n,C=>{dt(C.before,j),dt(C.lines,j),dt(C.after,j)}),v=0,r.font=d.string,dt(t.footer,j),r.restore(),p+=y.width,{width:p,height:g}}function Kle(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function Jle(t,e,r,n){const{x:a,width:s}=n,i=r.caretSize+r.caretPadding;if(t==="left"&&a+s+i>e.width||t==="right"&&a-s-i<0)return!0}function Xle(t,e,r,n){const{x:a,width:s}=r,{width:i,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=a<=(l+c)/2?"left":"right":a<=s/2?u="left":a>=i-s/2&&(u="right"),Jle(u,t,e,r)&&(u="center"),u}function F_(t,e,r){const n=r.yAlign||e.yAlign||Kle(t,r);return{xAlign:r.xAlign||e.xAlign||Xle(t,e,r,n),yAlign:n}}function Qle(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Zle(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function B_(t,e,r,n){const{caretSize:a,caretPadding:s,cornerRadius:i}=t,{xAlign:l,yAlign:c}=r,u=a+s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:h}=Fi(i);let y=Qle(e,l);const g=Zle(e,c,u);return c==="center"?l==="left"?y+=u:l==="right"&&(y-=u):l==="left"?y-=Math.max(d,m)+a:l==="right"&&(y+=Math.max(f,h)+a),{x:br(y,0,n.width-e.width),y:br(g,0,n.height-e.height)}}function ap(t,e,r){const n=Br(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function q_(t){return Aa([],rs(t))}function ece(t,e,r){return Jo(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function V_(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const A6={beforeTitle:Qa,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Qa,beforeBody:Qa,beforeLabel:Qa,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return Ge(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Qa,afterBody:Qa,beforeFooter:Qa,footer:Qa,afterFooter:Qa};function Xr(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?A6[e].call(r,n):a}var OC;let U_=(OC=class extends Bs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,s=new s6(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=ece(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=Xr(n,"beforeTitle",this,e),s=Xr(n,"title",this,e),i=Xr(n,"afterTitle",this,e);let l=[];return l=Aa(l,rs(a)),l=Aa(l,rs(s)),l=Aa(l,rs(i)),l}getBeforeBody(e,r){return q_(Xr(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return dt(e,s=>{const i={before:[],lines:[],after:[]},l=V_(n,s);Aa(i.before,rs(Xr(l,"beforeLabel",this,s))),Aa(i.lines,Xr(l,"label",this,s)),Aa(i.after,rs(Xr(l,"afterLabel",this,s))),a.push(i)}),a}getAfterBody(e,r){return q_(Xr(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=Xr(n,"beforeFooter",this,e),s=Xr(n,"footer",this,e),i=Xr(n,"afterFooter",this,e);let l=[];return l=Aa(l,rs(a)),l=Aa(l,rs(s)),l=Aa(l,rs(i)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],s=[],i=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(Yle(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,m)=>e.filter(d,f,m,n))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,n))),dt(l,d=>{const f=V_(e.callbacks,d);a.push(Xr(f,"labelColor",this,d)),s.push(Xr(f,"labelPointStyle",this,d)),i.push(Xr(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let s,i=[];if(!a.length)this.opacity!==0&&(s={opacity:0});else{const l=Td[n.position].call(this,a,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const c=this._size=L_(this,n),u=Object.assign({},l,c),d=F_(this.chart,n,u),f=B_(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const s=this.getCaretPosition(e,n,a);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:s}=this,{caretSize:i,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Fi(l),{x:m,y:h}=e,{width:y,height:g}=r;let p,b,v,j,C,x;return s==="center"?(C=h+g/2,a==="left"?(p=m,b=p-i,j=C+i,x=C-i):(p=m+y,b=p+i,j=C-i,x=C+i),v=p):(a==="left"?b=m+Math.max(c,d)+i:a==="right"?b=m+y-Math.max(u,f)-i:b=this.caretX,s==="top"?(j=h,C=j-i,p=b-i,v=b+i):(j=h+g,C=j+i,p=b+i,v=b-i),x=j),{x1:p,x2:b,x3:v,y1:j,y2:C,y3:x}}drawTitle(e,r,n){const a=this.title,s=a.length;let i,l,c;if(s){const u=pc(n.rtl,this.x,this.width);for(e.x=ap(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",i=fr(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=i.string,c=0;c<s;++c)r.fillText(a[c],u.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+l,c+1===s&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,s){const i=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=s,d=fr(s.bodyFont),f=ap(this,"left",s),m=a.x(f),h=c<d.lineHeight?(d.lineHeight-c)/2:0,y=r.y+h;if(s.usePointStyle){const g={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},p=a.leftForLtr(m,u)+u/2,b=y+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,aA(e,g,p,b),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,aA(e,g,p,b)}else{e.lineWidth=Ke(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const g=a.leftForLtr(m,u),p=a.leftForLtr(a.xPlus(m,1),u-2),b=Fi(i.borderRadius);Object.values(b).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Kf(e,{x:g,y,w:u,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),Kf(e,{x:p,y:y+1,w:u-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,y,u,c),e.strokeRect(g,y,u,c),e.fillStyle=i.backgroundColor,e.fillRect(p,y+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:s,bodyAlign:i,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=fr(n.bodyFont);let m=f.lineHeight,h=0;const y=pc(n.rtl,this.x,this.width),g=function(A){r.fillText(A,y.x(e.x+h),e.y+m/2),e.y+=m+s},p=y.textAlign(i);let b,v,j,C,x,N,S;for(r.textAlign=i,r.textBaseline="middle",r.font=f.string,e.x=ap(this,p,n),r.fillStyle=n.bodyColor,dt(this.beforeBody,g),h=l&&p!=="right"?i==="center"?u/2+d:u+2+d:0,C=0,N=a.length;C<N;++C){for(b=a[C],v=this.labelTextColors[C],r.fillStyle=v,dt(b.before,g),j=b.lines,l&&j.length&&(this._drawColorBox(r,e,C,y,n),m=Math.max(f.lineHeight,c)),x=0,S=j.length;x<S;++x)g(j[x]),m=f.lineHeight;dt(b.after,g)}h=0,m=f.lineHeight,dt(this.afterBody,g),e.y-=s}drawFooter(e,r,n){const a=this.footer,s=a.length;let i,l;if(s){const c=pc(n.rtl,this.x,this.width);for(e.x=ap(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",i=fr(n.footerFont),r.fillStyle=n.footerColor,r.font=i.string,l=0;l<s;++l)r.fillText(a[l],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:s,yAlign:i}=this,{x:l,y:c}=e,{width:u,height:d}=n,{topLeft:f,topRight:m,bottomLeft:h,bottomRight:y}=Fi(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+f,c),i==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+u-m,c),r.quadraticCurveTo(l+u,c,l+u,c+m),i==="center"&&s==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+u,c+d-y),r.quadraticCurveTo(l+u,c+d,l+u-y,c+d),i==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+h,c+d),r.quadraticCurveTo(l,c+d,l,c+d-h),i==="center"&&s==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const i=Td[e.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=L_(this,e),c=Object.assign({},i,this._size),u=F_(r,e,c),d=B_(e,c,u,r);(a._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=Br(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,r),Zq(e,r.textDirection),s.y+=i.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),e6(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!Ox(n,a),i=this._positionChanged(a,r);(s||i)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],i=this._getActiveElements(e,s,r,n),l=this._positionChanged(i,e),c=r||!Ox(i,s)||l;return c&&(this._active=i,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const s=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,r){const{caretX:n,caretY:a,options:s}=this,i=Td[s.position].call(this,e,r);return i!==!1&&(n!==i.x||a!==i.y)}},pe(OC,"positioners",Td),OC);var tce={id:"tooltip",_element:U_,positioners:Td,afterInit(t,e,r){r&&(t.tooltip=new U_({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:A6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},rce=Object.freeze({__proto__:null,Colors:hle,Decimation:ble,Filler:Lle,Legend:zle,SubTitle:Gle,Title:Hle,Tooltip:tce});const nce=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function ace(t,e,r,n){const a=t.indexOf(e);if(a===-1)return nce(t,e,r,n);const s=t.lastIndexOf(e);return a!==s?r:a}const sce=(t,e)=>t===null?null:br(Math.round(t),0,e);function z_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class dA extends Il{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:s}of r)n[a]===s&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Ge(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:ace(n,e,Me(r,e),this._addedLabels),sce(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=r;i++)a.push({value:i});return a}getLabelForValue(e){return z_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}pe(dA,"id","category"),pe(dA,"defaults",{ticks:{callback:z_}});function oce(t,e){const r=[],{bounds:a,step:s,min:i,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:m}=t,h=s||1,y=d-1,{min:g,max:p}=e,b=!Ge(i),v=!Ge(l),j=!Ge(u),C=(p-g)/(f+1);let x=LO((p-g)/y/h)*h,N,S,A,I;if(x<1e-14&&!b&&!v)return[{value:g},{value:p}];I=Math.ceil(p/x)-Math.floor(g/x),I>y&&(x=LO(I*x/y/h)*h),Ge(c)||(N=Math.pow(10,c),x=Math.ceil(x*N)/N),a==="ticks"?(S=Math.floor(g/x)*x,A=Math.ceil(p/x)*x):(S=g,A=p),b&&v&&s&&Qae((l-i)/s,x/1e3)?(I=Math.round(Math.min((l-i)/x,d)),x=(l-i)/I,S=i,A=l):j?(S=b?i:S,A=v?l:A,I=u-1,x=(A-S)/I):(I=(A-S)/x,Kd(I,Math.round(I),x/1e3)?I=Math.round(I):I=Math.ceil(I));const E=Math.max(FO(x),FO(S));N=Math.pow(10,Ge(c)?E:c),S=Math.round(S*N)/N,A=Math.round(A*N)/N;let k=0;for(b&&(m&&S!==i?(r.push({value:i}),S<i&&k++,Kd(Math.round((S+k*x)*N)/N,i,W_(i,C,t))&&k++):S<i&&k++);k<I;++k){const P=Math.round((S+k*x)*N)/N;if(v&&P>l)break;r.push({value:P})}return v&&m&&A!==l?r.length&&Kd(r[r.length-1].value,l,W_(l,C,t))?r[r.length-1].value=l:r.push({value:l}):(!v||A===l)&&r.push({value:A}),r}function W_(t,e,{horizontal:r,minRotation:n}){const a=da(n),s=(r?Math.sin(a):Math.cos(a))||.001,i=.75*e*(""+t).length;return Math.min(e/s,i)}class Bx extends Il{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Ge(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:s}=this;const i=c=>a=r?a:c,l=c=>s=n?s:c;if(e){const c=La(a),u=La(s);c<0&&u<0?l(0):c>0&&u>0&&i(0)}if(a===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||i(a-c)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,i=oce(a,s);return e.bounds==="ticks"&&Rq(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return rh(e,this.chart.options.locale,this.options.ticks.format)}}class fA extends Bx{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Gt(e)?e:0,this.max=Gt(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=da(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}pe(fA,"id","linear"),pe(fA,"defaults",{ticks:{callback:M0.formatters.numeric}});const Xf=t=>Math.floor(uo(t)),ci=(t,e)=>Math.pow(10,Xf(t)+e);function H_(t){return t/Math.pow(10,Xf(t))===1}function G_(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function ice(t,e){const r=e-t;let n=Xf(r);for(;G_(t,e,n)>10;)n++;for(;G_(t,e,n)<10;)n--;return Math.min(n,Xf(t))}function lce(t,{min:e,max:r}){e=yn(t.min,e);const n=[],a=Xf(e);let s=ice(e,r),i=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,u=Math.round((e-c)*i)/i,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,s)),m=yn(t.min,Math.round((c+d+f*Math.pow(10,s))*i)/i);for(;m<r;)n.push({value:m,major:H_(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,i=s>=0?1:i),m=Math.round((c+d+f*Math.pow(10,s))*i)/i;const h=yn(t.max,m);return n.push({value:h,major:H_(h),significand:f}),n}class mA extends Il{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=Bx.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return Gt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Gt(e)?Math.max(0,e):null,this.max=Gt(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Gt(this._userMin)&&(this.min=e===ci(this.min,0)?ci(this.min,-1):ci(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const s=l=>n=e?n:l,i=l=>a=r?a:l;n===a&&(n<=0?(s(1),i(10)):(s(ci(n,-1)),i(ci(a,1)))),n<=0&&s(ci(a,-1)),a<=0&&i(ci(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=lce(r,this);return e.bounds==="ticks"&&Rq(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":rh(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=uo(e),this._valueRange=uo(this.max)-uo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(uo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}pe(mA,"id","logarithmic"),pe(mA,"defaults",{ticks:{callback:M0.formatters.logarithmic,major:{enabled:!0}}});function hA(t){const e=t.ticks;if(e.display&&t.display){const r=Br(e.backdropPadding);return Me(e.font&&e.font.size,Mt.font.size)+r.height}return 0}function cce(t,e,r){return r=$t(r)?r:[r],{w:pse(t,e.string,r),h:r.length*e.lineHeight}}function Y_(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function uce(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],s=t._pointLabels.length,i=t.options.pointLabels,l=i.centerPointLabels?rt/s:0;for(let c=0;c<s;c++){const u=i.setContext(t.getPointLabelContext(c));a[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+a[c],l),f=fr(u.font),m=cce(t.ctx,f,t._pointLabels[c]);n[c]=m;const h=$r(t.getIndexAngle(c)+l),y=Math.round(xE(h)),g=Y_(y,d.x,m.w,0,180),p=Y_(y,d.y,m.h,90,270);dce(r,e,h,g,p)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=hce(t,n,a)}function dce(t,e,r,n,a){const s=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/i,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/i,t.b=Math.max(t.b,e.b+c))}function fce(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:s,padding:i,size:l}=r,c=t.getPointPosition(e,n+a+i,s),u=Math.round(xE($r(c.angle+er))),d=yce(c.y,l.h,u),f=pce(u),m=gce(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:m,top:d,right:m+l.w,bottom:d+l.h}}function mce(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:s}=t;return!(hs({x:r,y:n},e)||hs({x:r,y:s},e)||hs({x:a,y:n},e)||hs({x:a,y:s},e))}function hce(t,e,r){const n=[],a=t._pointLabels.length,s=t.options,{centerPointLabels:i,display:l}=s.pointLabels,c={extra:hA(s)/2,additionalAngle:i?rt/a:0};let u;for(let d=0;d<a;d++){c.padding=r[d],c.size=e[d];const f=fce(t,d,c);n.push(f),l==="auto"&&(f.visible=mce(f,u),f.visible&&(u=f))}return n}function pce(t){return t===0||t===180?"center":t<180?"left":"right"}function gce(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function yce(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function bce(t,e,r){const{left:n,top:a,right:s,bottom:i}=r,{backdropColor:l}=e;if(!Ge(l)){const c=Fi(e.borderRadius),u=Br(e.backdropPadding);t.fillStyle=l;const d=n-u.left,f=a-u.top,m=s-n+u.width,h=i-a+u.height;Object.values(c).some(y=>y!==0)?(t.beginPath(),Kf(t,{x:d,y:f,w:m,h,radius:c}),t.fill()):t.fillRect(d,f,m,h)}}function xce(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const s=t._pointLabelItems[a];if(!s.visible)continue;const i=n.setContext(t.getPointLabelContext(a));bce(r,i,s);const l=fr(i.font),{x:c,y:u,textAlign:d}=s;ml(r,t._pointLabels[a],c,u+l.lineHeight/2,l,{color:i.color,textAlign:d,textBaseline:"middle"})}}function I6(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Ot);else{let s=t.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let i=1;i<n;i++)s=t.getPointPosition(i,e),a.lineTo(s.x,s.y)}}function vce(t,e,r,n,a){const s=t.ctx,i=e.circular,{color:l,lineWidth:c}=e;!i&&!n||!l||!c||r<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),I6(t,r,i,n),s.closePath(),s.stroke(),s.restore())}function jce(t,e,r){return Jo(t,{label:r,index:e,type:"pointLabel"})}class Ed extends Bx{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Br(hA(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Gt(e)&&!isNaN(e)?e:0,this.max=Gt(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/hA(this.options))}generateTickLabels(e){Bx.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=Nt(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?uce(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Ot/(this._pointLabels.length||1),n=this.options.startAngle||0;return $r(e*r+da(n))}getDistanceFromCenterForValue(e){if(Ge(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(Ge(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return jce(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-er+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),I6(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:s}=r,i=this._pointLabels.length;let l,c,u;if(r.pointLabels.display&&xce(this,i),a.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(f),h=a.setContext(m),y=s.setContext(m);vce(this,h,c,i,y)}}),n.display){for(e.save(),l=i-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=d;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let s,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(c)),d=fr(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,i=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=Br(u.backdropPadding);e.fillRect(-i/2-f.left,-s-d.size/2-f.top,i+f.width,d.size+f.height)}ml(e,l.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}pe(Ed,"id","radialLinear"),pe(Ed,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:M0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),pe(Ed,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),pe(Ed,"descriptors",{angleLines:{_fallback:"grid"}});const U0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},tn=Object.keys(U0);function K_(t,e){return t-e}function J_(t,e){if(Ge(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:s}=t._parseOpts;let i=e;return typeof n=="function"&&(i=n(i)),Gt(i)||(i=typeof n=="string"?r.parse(i,n):r.parse(i)),i===null?null:(a&&(i=a==="week"&&(Vc(s)||s===!0)?r.startOf(i,"isoWeek",s):r.startOf(i,a)),+i)}function X_(t,e,r,n){const a=tn.length;for(let s=tn.indexOf(t);s<a-1;++s){const i=U0[tn[s]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((r-e)/(l*i.size))<=n)return tn[s]}return tn[a-1]}function wce(t,e,r,n,a){for(let s=tn.length-1;s>=tn.indexOf(r);s--){const i=tn[s];if(U0[i].common&&t._adapter.diff(a,n,i)>=e-1)return i}return tn[r?tn.indexOf(r):0]}function Nce(t){for(let e=tn.indexOf(t)+1,r=tn.length;e<r;++e)if(U0[tn[e]].common)return tn[e]}function Q_(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=vE(r,e),s=r[n]>=e?r[n]:r[a];t[s]=!0}}function Cce(t,e,r,n){const a=t._adapter,s=+a.startOf(e[0].value,n),i=e[e.length-1].value;let l,c;for(l=s;l<=i;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function Z_(t,e,r){const n=[],a={},s=e.length;let i,l;for(i=0;i<s;++i)l=e[i],a[l]=i,n.push({value:l,major:!1});return s===0||!r?n:Cce(t,n,a,r)}class Qf extends Il{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new Poe._date(e.adapters.date);a.init(r),Yd(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:J_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:s,minDefined:i,maxDefined:l}=this.getUserBounds();function c(u){!i&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!i||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Gt(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),s=Gt(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,i=this.max,l=rse(a,s,i);return this._unit=r.unit||(n.autoSkip?X_(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):wce(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Nce(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),Z_(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,s;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;r=br(r,0,i),n=br(n,0,i),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,s=a.time,i=s.unit||X_(s.minUnit,r,n,this._getLabelCapacity(r)),l=Me(a.ticks.stepSize,1),c=i==="week"?s.isoWeekday:!1,u=Vc(c)||c===!0,d={};let f=r,m,h;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":i),e.diff(n,r,i)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+i);const y=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,h=0;m<n;m=+e.add(m,l,i),h++)Q_(d,m,y);return(m===n||a.bounds==="ticks"||h===1)&&Q_(d,m,y),Object.keys(d).sort(K_).map(g=>+g)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,s=this._unit,i=r||a[s];return this._adapter.format(e,i)}_tickFormatFunction(e,r,n,a){const s=this.options,i=s.ticks.callback;if(i)return Nt(i,[e,r,n],this);const l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],m=n[r],h=u&&f&&m&&m.major;return this._adapter.format(e,a||(h?f:d))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=da(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(a),i=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*i,h:n*i+l*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,Z_(this,[e],this._majorUnit),a),i=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(J_(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Fq(e.sort(K_))}}pe(Qf,"id","time"),pe(Qf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function sp(t,e,r){let n=0,a=t.length-1,s,i,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=ms(t,"pos",e)),{pos:s,time:l}=t[n],{pos:i,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=ms(t,"time",e)),{time:s,pos:l}=t[n],{time:i,pos:c}=t[a]);const u=i-s;return u?l+(c-l)*(e-s)/u:l}class pA extends Qf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=sp(r,this.min),this._tableRange=sp(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],s=[];let i,l,c,u,d;for(i=0,l=e.length;i<l;++i)u=e[i],u>=r&&u<=n&&a.push(u);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(i=0,l=a.length;i<l;++i)d=a[i+1],c=a[i-1],u=a[i],Math.round((d+c)/2)!==u&&s.push({time:u,pos:i/(l-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(sp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return sp(this._table,n*this._tableRange+this._minPos,!0)}}pe(pA,"id","timeseries"),pe(pA,"defaults",Qf.defaults);var Sce=Object.freeze({__proto__:null,CategoryScale:dA,LinearScale:fA,LogarithmicScale:mA,RadialLinearScale:Ed,TimeScale:Qf,TimeSeriesScale:pA});const Ace=[Doe,ile,rce,Sce];eo.register(...Ace);const Ice=[{name:"Settings",icon:o.jsx(g3,{className:"h-6 w-6"}),path:"/settings/departments"},{name:"Disbursement",icon:o.jsx(mJ,{className:"h-6 w-6"}),path:"/disbursement/obligation-requests"},{name:"Collections",icon:o.jsx(PJ,{className:"h-6 w-6"}),path:"/collections/community-tax"},{name:"Budget",icon:o.jsx(LP,{className:"h-6 w-6"}),path:"/budget/details"},{name:"Applications",icon:o.jsx(LP,{className:"h-6 w-6"}),path:"/applications/business-permits"},{name:"Reports",icon:o.jsx(LS,{className:"h-6 w-6"}),path:"/reports/general-ledger"},{name:"BIR Reports",icon:o.jsx(y3,{className:"h-6 w-6"}),path:"/reports/bir"}];function kce(){const{user:t}=V(n=>n.auth),[e,r]=w.useState(!0);return w.useEffect(()=>{const n=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(n)},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Welcome back"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Ice.map(n=>o.jsxs(hc,{to:n.path,className:"bg-white hover:bg-blue-50 border border-gray-200 rounded-xl shadow-md p-5 flex items-center gap-4 transition-transform transform hover:scale-105",children:[o.jsx("div",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:n.icon}),o.jsx("span",{className:"text-lg font-medium text-gray-800",children:n.name})]},n.name))})]})}function Tce(){return o.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-white py-8 px-4 shadow-md sm:rounded-lg sm:px-10 text-center",children:[o.jsx("div",{className:"text-6xl font-bold text-primary-600 mb-4",children:"404"}),o.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Page Not Found"}),o.jsx("p",{className:"text-neutral-600 mb-6",children:"The page you are looking for doesn't exist or has been moved."}),o.jsx(hc,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Return to Dashboard"})]})})})}function kl(t){this._maxSize=t,this.clear()}kl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};kl.prototype.get=function(t){return this._values[t]};kl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Ece=/[^.^\]^[]+|(?=\[\]|\.\.)/g,k6=/^\d+$/,Dce=/^\d/,Pce=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Oce=/^\s*(['"]?)(.*?)(\1)\s*$/,DE=512,e$=new kl(DE),t$=new kl(DE),r$=new kl(DE),qi={Cache:kl,split:gA,normalizePath:t1,setter:function(t){var e=t1(t);return t$.get(t)||t$.set(t,function(n,a){for(var s=0,i=e.length,l=n;s<i-1;){var c=e[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[e[s++]]}l[e[s]]=a})},getter:function(t,e){var r=t1(t);return r$.get(t)||r$.set(t,function(a){for(var s=0,i=r.length;s<i;)if(a!=null||!e)a=a[r[s++]];else return;return a})},join:function(t){return t.reduce(function(e,r){return e+(PE(r)||k6.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){_ce(Array.isArray(t)?t:gA(t),e,r)}};function t1(t){return e$.get(t)||e$.set(t,gA(t).map(function(e){return e.replace(Oce,"$2")}))}function gA(t){return t.match(Ece)||[""]}function _ce(t,e,r){var n=t.length,a,s,i,l;for(s=0;s<n;s++)a=t[s],a&&(Mce(a)&&(a='"'+a+'"'),l=PE(a),i=!l&&/^\d+$/.test(a),e.call(r,a,l,i,s,t))}function PE(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function $ce(t){return t.match(Dce)&&!t.match(k6)}function Rce(t){return Pce.test(t)}function Mce(t){return!PE(t)&&($ce(t)||Rce(t))}const Lce=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,z0=t=>t.match(Lce)||[],W0=t=>t[0].toUpperCase()+t.slice(1),OE=(t,e)=>z0(t).join(e).toLowerCase(),T6=t=>z0(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),Fce=t=>W0(T6(t)),Bce=t=>OE(t,"_"),qce=t=>OE(t,"-"),Vce=t=>W0(OE(t," ")),Uce=t=>z0(t).map(W0).join(" ");var r1={words:z0,upperFirst:W0,camelCase:T6,pascalCase:Fce,snakeCase:Bce,kebabCase:qce,sentenceCase:Vce,titleCase:Uce},_E={exports:{}};_E.exports=function(t){return E6(zce(t),t)};_E.exports.array=E6;function E6(t,e){var r=t.length,n=new Array(r),a={},s=r,i=Wce(e),l=Hce(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(t[s],s,new Set);return n;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!a[d]){a[d]=!0;var h=i.get(u)||new Set;if(h=Array.from(h),d=h.length){f.add(u);do{var y=h[--d];c(y,l.get(y),f)}while(d);f.delete(u)}n[--r]=u}}}function zce(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var a=t[r];e.add(a[0]),e.add(a[1])}return Array.from(e)}function Wce(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var a=t[r];e.has(a[0])||e.set(a[0],new Set),e.has(a[1])||e.set(a[1],new Set),e.get(a[0]).add(a[1])}return e}function Hce(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var Gce=_E.exports;const Yce=it(Gce),Kce=Object.prototype.toString,Jce=Error.prototype.toString,Xce=RegExp.prototype.toString,Qce=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Zce=/^Symbol\((.*)\)(.*)$/;function eue(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function n$(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return eue(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Qce.call(t).replace(Zce,"Symbol($1)");const n=Kce.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Jce.call(t)+"]":n==="RegExp"?Xce.call(t):null}function vs(t,e){let r=n$(t,e);return r!==null?r:JSON.stringify(t,function(n,a){let s=n$(this[n],e);return s!==null?s:a},2)}function D6(t){return t==null?[]:[].concat(t)}let P6,O6,_6,tue=/\$\{\s*(\w+)\s*\}/g;P6=Symbol.toStringTag;class a${constructor(e,r,n,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[P6]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],D6(e).forEach(s=>{if(zr.isError(s)){this.errors.push(...s.errors);const i=s.inner.length?s.inner:[s];this.inner.push(...i)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}O6=Symbol.hasInstance;_6=Symbol.toStringTag;class zr extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(tue,(a,s)=>vs(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,a,s){const i=new a$(e,r,n,a);if(s)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[_6]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,zr)}static[O6](e){return a$[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ta={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const a=n!=null&&n!==r?` (cast from the value \`${vs(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${vs(r,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${vs(r,!0)}\``+a}},Qr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Js={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},yA={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},bA={isValue:"${path} field must be ${value}"},ag={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},sg={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},rue={notType:t=>{const{path:e,value:r,spec:n}=t,a=n.types.length;if(Array.isArray(r)){if(r.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${r.length} for value: \`${vs(r,!0)}\``;if(r.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${r.length} for value: \`${vs(r,!0)}\``}return zr.formatError(Ta.notType,t)}};Object.assign(Object.create(null),{mixed:Ta,string:Qr,number:Js,date:yA,object:ag,array:sg,boolean:bA,tuple:rue});const H0=t=>t&&t.__isYupSchema__;class qx{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,i=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new qx(e,(l,c)=>{var u;let d=i(...l)?a:s;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn(n,e,r);if(a===void 0||a===e)return e;if(!H0(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}const op={context:"$",value:"."};function hl(t,e){return new Xo(t,e)}class Xo{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===op.context,this.isValue=this.key[0]===op.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?op.context:this.isValue?op.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&qi.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let a=this.isContext?n:this.isValue?e:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Xo.prototype.__isYupRef=!0;const fa=t=>t==null;function Fl(t){function e({value:r,path:n="",options:a,originalValue:s,schema:i},l,c){const{name:u,test:d,params:f,message:m,skipAbsent:h}=t;let{parent:y,context:g,abortEarly:p=i.spec.abortEarly,disableStackTrace:b=i.spec.disableStackTrace}=a;const v={value:r,parent:y,context:g};function j(k={}){const P=$6(Object.assign({value:r,originalValue:s,label:i.spec.label,path:k.path||n,spec:i.spec,disableStackTrace:k.disableStackTrace||b},f,k.params),v),R=new zr(zr.formatError(k.message||m,P),r,P.path,k.type||u,P.disableStackTrace);return R.params=P,R}const C=p?l:c;let x={path:n,parent:y,type:u,from:a.from,createError:j,resolve(k){return R6(k,v)},options:a,originalValue:s,schema:i};const N=k=>{zr.isError(k)?C(k):k?c(null):C(j())},S=k=>{zr.isError(k)?C(k):l(k)};if(h&&fa(r))return N(!0);let I;try{var E;if(I=d.call(x,r,x),typeof((E=I)==null?void 0:E.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${x.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(I).then(N,S)}}catch(k){S(k);return}N(I)}return e.OPTIONS=t,e}function $6(t,e){if(!t)return t;for(const r of Object.keys(t))t[r]=R6(t[r],e);return t}function R6(t,e){return Xo.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function nue(t,e,r,n=r){let a,s,i;return e?(qi.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:a,value:r});let f=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);a=r,r=r&&r[m],t=f?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${i} which is a type: "${t.type}")`);a=r,r=r&&r[d],t=t.fields[d]}s=d,i=c?"["+l+"]":"."+l}),{schema:t,parent:a,parentPath:s}):{parent:a,parentPath:e,schema:t}}class Vx extends Set{describe(){const e=[];for(const r of this.values())e.push(Xo.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Vx(this.values())}merge(e,r){const n=this.clone();return e.forEach(a=>n.add(a)),r.forEach(a=>n.delete(a)),n}}function nc(t,e=new Map){if(H0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=nc(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,a]of t.entries())r.set(n,nc(a,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(nc(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,a]of Object.entries(t))r[n]=nc(a,e)}else throw Error(`Unable to clone ${t}`);return r}function aue(t){if(!(t!=null&&t.length))return;const e=[];let r="",n=!1,a=!1;for(let s=0;s<t.length;s++){const i=t[s];if(i==="["&&!a){r&&(e.push(...r.split(".").filter(Boolean)),r=""),n=!0;continue}if(i==="]"&&!a){r&&(/^\d+$/.test(r)?e.push(r):e.push(r.replace(/^"|"$/g,"")),r=""),n=!1;continue}if(i==='"'){a=!a;continue}if(i==="."&&!n&&!a){r&&(e.push(r),r="");continue}r+=i}return r&&e.push(...r.split(".").filter(Boolean)),e}function sue(t,e){const r=e?`${e}.${t.path}`:t.path;return t.errors.map(n=>({message:n,path:aue(r)}))}function M6(t,e){var r;if(!((r=t.inner)!=null&&r.length)&&t.errors.length)return sue(t,e);const n=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(a=>M6(a,n))}class Pn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Vx,this._blacklist=new Vx,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ta.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=nc(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const a=Object.assign({},r.spec,n.spec);return n.spec=a,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(i=>{s.test(i.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,a,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),a=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(a&&fa(s))return s;let i=vs(e),l=vs(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(l!==i?`result of cast: ${l}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((a,s)=>s.call(this,a,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,a){let{path:s,originalValue:i=e,strict:l=this.spec.strict}=r,c=e;l||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:c,originalValue:i,options:r,tests:u},n,d=>{if(d.length)return a(d,c);this.runTests({path:s,value:c,originalValue:i,options:r,tests:this.tests},n,a)})}runTests(e,r,n){let a=!1,{tests:s,value:i,originalValue:l,path:c,options:u}=e,d=g=>{a||(a=!0,r(g,i))},f=g=>{a||(a=!0,n(g,i))},m=s.length,h=[];if(!m)return f([]);let y={value:i,originalValue:l,path:c,options:u,schema:this};for(let g=0;g<s.length;g++){const p=s[g];p(y,d,function(v){v&&(Array.isArray(v)?h.push(...v):h.push(v)),--m<=0&&f(h)})}}asNestedTest({key:e,index:r,parent:n,parentPath:a,originalParent:s,options:i}){const l=e??r;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=n[l];const d=Object.assign({},i,{strict:!0,parent:n,value:u,originalValue:s[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${a||""}[${c?l:`"${l}"`}]`:(a?`${a}.`:"")+e});return(f,m,h)=>this.resolve(d)._validate(u,d,m,h)}validate(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return new Promise((i,l)=>a._validate(e,r,(c,u)=>{zr.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new zr(c,u,void 0,void 0,s)):i(u)}))}validateSync(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s,i=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return a._validate(e,Object.assign({},r,{sync:!0}),(l,c)=>{throw zr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new zr(l,e,void 0,void 0,i);s=c}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(zr.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(zr.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):nc(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Fl({message:r,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Fl({message:r,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Ta.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ta.notNull){return this.nullability(!1,e)}required(e=Ta.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Ta.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=Fl(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===r.name&&(s||i.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),a=D6(e).map(s=>new Xo(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new qx(a,r):qx.fromOptions(a,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Fl({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Ta.oneOf){let n=this.clone();return e.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n.internalTests.whiteList=Fl({message:r,name:"oneOf",skipAbsent:!0,test(a){let s=this.schema._whitelist,i=s.resolveAll(this.resolve);return i.includes(a)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:i}})}}),n}notOneOf(e,r=Ta.notOneOf){let n=this.clone();return e.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n.internalTests.blacklist=Fl({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,i=s.resolveAll(this.resolve);return i.includes(a)?this.createError({params:{values:Array.from(s).join(", "),resolved:i}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:a,optional:s,nullable:i}=r.spec;return{meta:a,label:n,optional:s,nullable:i,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.filter((c,u,d)=>d.findIndex(f=>f.OPTIONS.name===c.OPTIONS.name)===u).map(c=>{const u=c.OPTIONS.params&&e?$6(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:u}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await e.validate(n,{abortEarly:!1})}}catch(a){if(a instanceof zr)return{issues:M6(a)};throw a}}}}}Pn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Pn.prototype[`${t}At`]=function(e,r,n={}){const{parent:a,parentPath:s,schema:i}=nue(this,e,r,n.context);return i[t](a&&a[s],Object.assign({},n,{parent:a,path:e}))};for(const t of["equals","is"])Pn.prototype[t]=Pn.prototype.oneOf;for(const t of["not","nope"])Pn.prototype[t]=Pn.prototype.notOneOf;function Bo(){return new L6}class L6 extends Pn{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=bA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return fa(r)||r===!0}})}isFalse(e=bA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return fa(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Bo.prototype=L6.prototype;const oue=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function iue(t){const e=xA(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function xA(t){var e,r;const n=oue.exec(t);return n?{year:Za(n[1]),month:Za(n[2],1)-1,day:Za(n[3],1),hour:Za(n[4]),minute:Za(n[5]),second:Za(n[6]),millisecond:n[7]?Za(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Za(n[10]),minuteOffset:Za(n[11])}:null}function Za(t,e=0){return Number(t)||e}let lue=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,cue=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,uue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,due="^\\d{4}-\\d{2}-\\d{2}",fue="\\d{2}:\\d{2}:\\d{2}",mue="(([+-]\\d{2}(:?\\d{2})?)|Z)",hue=new RegExp(`${due}T${fue}(\\.\\d+)?${mue}$`),pue=t=>fa(t)||t===t.trim(),gue={}.toString();function D(){return new F6}class F6 extends Pn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===gue?e:a})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Ta.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=Qr.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=Qr.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=Qr.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||Qr.matches,params:{regex:e},skipAbsent:!0,test:i=>i===""&&n||i.search(e)!==-1})}email(e=Qr.email){return this.matches(lue,{name:"email",message:e,excludeEmptyString:!0})}url(e=Qr.url){return this.matches(cue,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Qr.uuid){return this.matches(uue,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,a;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:a=void 0}=e:r=e),this.matches(hue,{name:"datetime",message:r||Qr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Qr.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const i=xA(s);return i?!!i.z:!1}}).test({name:"datetime_precision",message:r||Qr.datetime_precision,params:{precision:a},skipAbsent:!0,test:s=>{if(!s||a==null)return!0;const i=xA(s);return i?i.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Qr.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:pue})}lowercase(e=Qr.lowercase){return this.transform(r=>fa(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>fa(r)||r===r.toLowerCase()})}uppercase(e=Qr.uppercase){return this.transform(r=>fa(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>fa(r)||r===r.toUpperCase()})}}D.prototype=F6.prototype;let yue=t=>t!=+t;function Y(){return new B6}class B6 extends Pn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!yue(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return n.isType(a)||a===null?a:parseFloat(a)})})}min(e,r=Js.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=Js.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=Js.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=Js.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=Js.positive){return this.moreThan(0,e)}negative(e=Js.negative){return this.lessThan(0,e)}integer(e=Js.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>fa(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(a=>fa(a)?a:Math[e](a))}}Y.prototype=B6.prototype;let q6=new Date(""),bue=t=>Object.prototype.toString.call(t)==="[object Date]";function Le(){return new nh}class nh extends Pn{constructor(){super({type:"date",check(e){return bue(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=iue(e),isNaN(e)?nh.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Xo.isRef(e))n=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(e,r=yA.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(n)}})}max(e,r=yA.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(n)}})}}nh.INVALID_DATE=q6;Le.prototype=nh.prototype;Le.INVALID_DATE=q6;function xue(t,e=[]){let r=[],n=new Set,a=new Set(e.map(([i,l])=>`${i}-${l}`));function s(i,l){let c=qi.split(i)[0];n.add(c),a.has(`${l}-${c}`)||r.push([l,c])}for(const i of Object.keys(t)){let l=t[i];n.add(i),Xo.isRef(l)&&l.isSibling?s(l.path,i):H0(l)&&"deps"in l&&l.deps.forEach(c=>s(c,i))}return Yce.array(Array.from(n),r).reverse()}function s$(t,e){let r=1/0;return t.some((n,a)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=a,!0}),r}function V6(t){return(e,r)=>s$(t,e)-s$(t,r)}const U6=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function og(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=og(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=og(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(og)}):"optional"in t?t.optional():t}const vue=(t,e)=>{const r=[...qi.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),a=qi.getter(qi.join(r),!0)(t);return!!(a&&n in a)};let o$=t=>Object.prototype.toString.call(t)==="[object Object]";function i$(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const jue=V6([]);function le(t){return new z6(t)}class z6 extends Pn{constructor(e){super({type:"object",check(r){return o$(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=jue,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let a=super._cast(e,r);if(a===void 0)return this.getDefault(r);if(!this._typeCheck(a))return a;let s=this.fields,i=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(a).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const f of l){let m=s[f],h=f in a;if(m){let y,g=a[f];u.path=(r.path?`${r.path}.`:"")+f,m=m.resolve({value:g,context:r.context,parent:c});let p=m instanceof Pn?m.spec:void 0,b=p==null?void 0:p.strict;if(p!=null&&p.strip){d=d||f in a;continue}y=!r.__validating||!b?m.cast(a[f],u):a[f],y!==void 0&&(c[f]=y)}else h&&!i&&(c[f]=a[f]);(h!==f in c||c[f]!==a[f])&&(d=!0)}return d?c:a}_validate(e,r={},n,a){let{from:s=[],originalValue:i=e,recursive:l=this.spec.recursive}=r;r.from=[{schema:this,value:i},...s],r.__validating=!0,r.originalValue=i,super._validate(e,r,n,(c,u)=>{if(!l||!o$(u)){a(c,u);return}i=i||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||Xo.isRef(m)||d.push(m.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:i}))}this.runTests({tests:d,value:u,originalValue:i,options:r},n,f=>{a(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const i=n[a];n[a]=i===void 0?s:i}return r.withMutation(a=>a.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var a;const s=this.fields[n];let i=e;(a=i)!=null&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(i):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=xue(e,r),n._sortErrors=V6(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let a=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),a=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),a)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return og(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,a])=>e.includes(n)&&e.includes(a)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let a=qi.getter(e,!0);return this.transform(s=>{if(!s)return s;let i=s;return vue(s,e)&&(i=Object.assign({},s),n||delete i[e],i[r]=a(s)),i})}json(){return this.transform(U6)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||ag.exact,test(r){if(r==null)return!0;const n=i$(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=ag.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=i$(this.schema,a);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=ag.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const a of Object.keys(r))n[e(a)]=r[a];return n})}camelCase(){return this.transformKeys(r1.camelCase)}snakeCase(){return this.transformKeys(r1.snakeCase)}constantCase(){return this.transformKeys(e=>r1.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,i]of Object.entries(r.fields)){var a;let l=e;(a=l)!=null&&a.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),n.fields[s]=i.describe(l)}return n}}le.prototype=z6.prototype;function Yt(t){return new W6(t)}class W6 extends Pn{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let a=!1;const s=n.map((i,l)=>{const c=this.innerType.cast(i,Object.assign({},r,{path:`${r.path||""}[${l}]`}));return c!==i&&(a=!0),c});return a?s:n}_validate(e,r={},n,a){var s;let i=this.innerType,l=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!l||!i||!this._typeCheck(u)){a(c,u);return}let f=new Array(u.length);for(let h=0;h<u.length;h++){var m;f[h]=i.asNestedTest({options:r,index:h,parent:u,parentPath:r.path,originalParent:(m=r.originalValue)!=null?m:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,h=>a(h.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(U6)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!H0(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+vs(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=sg.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||sg.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||sg.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,a,s)=>!e(n,a,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var a;let s=e;(a=s)!=null&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}Yt.prototype=W6.prototype;function wue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Nue=w.forwardRef(wue);function Cue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Sue=w.forwardRef(Cue);function Aue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const Iue=w.forwardRef(Aue);function kue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const Tue=w.forwardRef(kue);function Eue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),w.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const Due=w.forwardRef(Eue);function Pue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const Oue=w.forwardRef(Pue);function _ue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const $ue=w.forwardRef(_ue);function Rue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Mue=w.forwardRef(Rue);function Lue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Fue=w.forwardRef(Lue);function ye({columns:t,data:e=[],pagination:r=!0,search:n=!0,actions:a=[],loading:s=!1,onRowClick:i=null,emptyMessage:l="No data available"}){const[c,u]=w.useState(1),[d,f]=w.useState(10),[m,h]=w.useState(""),[y,g]=w.useState({key:null,direction:"asc"}),p=Array.isArray(e)?e:[],v=[...p.filter(I=>Object.values(I).some(E=>E!=null&&E.toString().toLowerCase().includes(m.toLowerCase())))].sort((I,E)=>{if(!y.key)return 0;const k=I[y.key],P=E[y.key];return k==null?1:P==null?-1:typeof k=="string"&&typeof P=="string"?y.direction==="asc"?k.localeCompare(P):P.localeCompare(k):y.direction==="asc"?k-P:P-k}),j=Math.ceil(v.length/d),C=v.slice((c-1)*d,c*d),x=I=>{let E="asc";y.key===I&&y.direction==="asc"&&(E="desc"),g({key:I,direction:E})},N=I=>{u(I)},S=I=>{f(Number(I.target.value)),u(1)},A=I=>{h(I.target.value),u(1)};return s?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"Loading..."}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Please wait while we fetch the data."})]})}):p.length===0?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"No data available"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:l})]})}):o.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200 overflow-hidden",children:[n&&o.jsx("div",{className:"px-4 py-3 border-b border-neutral-200 bg-neutral-50",children:o.jsxs("div",{className:"relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Oue,{className:"h-5 w-5 text-neutral-400","aria-hidden":"true"})}),o.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2 sm:text-sm border-neutral-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",value:m,onChange:A})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[o.jsx("thead",{className:"bg-neutral-50",children:o.jsxs("tr",{children:[t.map(I=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",onClick:()=>I.sortable!==!1&&x(I.key),children:o.jsxs("div",{className:"flex items-center gap-1",children:[" ",o.jsx("span",{children:I.header}),I.sortable!==!1&&o.jsxs("span",{className:"flex flex-col shrink-0",children:[" ",o.jsx(Iue,{className:`h-3 w-3 ${y.key===I.key&&y.direction==="asc"?"text-primary-600":"text-neutral-400"}`}),o.jsx(Sue,{className:`h-3 w-3 -mt-1 ${y.key===I.key&&y.direction==="desc"?"text-primary-600":"text-neutral-400"}`})]})]})},I.key)),a.length>0&&o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",children:o.jsx("span",{children:"Actions"})})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:C.map((I,E)=>o.jsxs("tr",{className:i?"hover:bg-neutral-50 cursor-pointer":"",onClick:i?()=>i(I):void 0,children:[t.map(k=>o.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${k.className||"text-neutral-500"}`,children:k.render?k.render(I[k.key],I):I[k.key]},`${I.id||E}-${k.key}`)),typeof a=="function"?(()=>{const k=a(I);return(k==null?void 0:k.length)>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:k.map((P,R)=>o.jsx("button",{onClick:M=>{M.stopPropagation(),P.onClick(I)},className:P.className||"text-primary-600 hover:text-primary-900",title:P.title,children:P.icon?o.jsx(P.icon,{className:"h-5 w-5","aria-hidden":"true"}):P.label},R))})})():a.length>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a.map((k,P)=>o.jsx("button",{onClick:R=>{R.stopPropagation(),k.onClick(I)},className:(k==null?void 0:k.className)||"text-primary-600 hover:text-primary-900",title:k==null?void 0:k.title,children:k!=null&&k.icon?o.jsx(k.icon,{className:"h-5 w-5","aria-hidden":"true"}):k==null?void 0:k.label},P))})]},I.id||E))})]})}),r&&j>0&&o.jsxs("div",{className:"px-2 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-neutral-200 bg-neutral-50 sm:px-6",children:[o.jsxs("div",{className:"text-sm text-neutral-700 text-center sm:text-left",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:Math.min((c-1)*d+1,v.length)})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(c*d,v.length)})," ","of ",o.jsx("span",{className:"font-medium",children:v.length})," results"]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between sm:justify-end sm:gap-4 gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{htmlFor:"rows-per-page",className:"text-sm text-neutral-700 whitespace-nowrap",children:"Rows per page"}),o.jsx("select",{id:"rows-per-page",name:"rows-per-page",className:"block w-auto pl-3 pr-8 py-1 text-sm border border-neutral-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",value:d,onChange:S,children:[5,10,25,50].map(I=>o.jsx("option",{value:I,children:I},I))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>N(c-1),disabled:c===1,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Bue,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>N(c+1),disabled:c===j,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(que,{className:"h-5 w-5"})})]})]})]})]})}function Bue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}function que(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}function oe({isOpen:t,onClose:e,title:r,size:n="md",children:a,footer:s=null}){const i={sm:"sm:max-w-lg",md:"sm:max-w-xl",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl",xxxl:"sm:max-w-7xl",full:"sm:max-w-full sm:h-screen"};return o.jsx(Yp.Root,{show:t,as:w.Fragment,children:o.jsx(PN,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:e,children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-2",children:[o.jsx(Yp.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx(PN.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),o.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:""}),o.jsx(Yp.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:o.jsxs("div",{className:`inline-block w-full align-bottom sm:align-middle bg-white rounded-lg text-left  shadow-xl transform transition-all sm:my-8 ${i[n]}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[o.jsx(PN.Title,{as:"h3",className:"text-lg font-medium text-neutral-900",children:r}),o.jsxs("button",{type:"button",className:"rounded-md text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:e,children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(x3,{className:"h-6 w-6","aria-hidden":"true"})]})]}),o.jsx("div",{className:"p-3 sm:px-6 sm:py-4",children:a}),s&&o.jsx("div",{className:"px-6 py-3 bg-neutral-50 border-t border-neutral-200",children:s})]})})]})})})}const G0="https://staging-engine.testthelink.online",Vue=[],Uue={departments:Vue,department:null,isLoading:!1,error:null},or=B("departments/fetchDepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${G0}/department`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ig=B("departments/addDepartment",async(t,e)=>{try{const r=await fetch(`${G0}/department`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),lg=B("departments/updateDepartment",async(t,e)=>{try{const r=await fetch(`${G0}/department/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),cg=B("department/deleteDepartment",async(t,e)=>{try{const r=await fetch(`${G0}/department/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),H6=ve({name:"departments",initialState:Uue,reducers:{setDepartment:(t,e)=>{t.department=e.payload},resetDepartmentState:t=>{t.department=null,t.error=null}},extraReducers:t=>{t.addCase(or.pending,e=>{e.isLoading=!0}).addCase(or.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=r.payload,e.error=null}).addCase(or.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ig.pending,e=>{e.isLoading=!0}).addCase(ig.fulfilled,(e,r)=>{e.isLoading=!1,e.departments.push(r.payload),e.error=null}).addCase(ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lg.pending,e=>{e.isLoading=!0}).addCase(lg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.departments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.departments[n]=r.payload),e.error=null}).addCase(lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cg.pending,e=>{e.isLoading=!0}).addCase(cg.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=e.departments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setDepartment:v8e,resetDepartmentState:j8e}=H6.actions,zue=H6.reducer;function we(t){const{selectedRole:e}=V(n=>n.auth);return w.useMemo(()=>!e||e.Description==="Administration"?{View:!0,Add:!0,Edit:!0,Delete:!0,Print:!0,Mayor:!0}:e.ModuleAccesses?e.ModuleAccesses.find(a=>a.ModuleID===t)||{}:{},[e,t])}function Wue(){const t=ue(),{departments:e,isLoading:r,error:n}=V(S=>S.departments),{Add:a,Edit:s,Delete:i}=we(39),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(or())},[t]);const g=le().shape({Code:D().required("Department code is required").max(10,"Department code must be at most 10 characters").test("unique-code","Department code already exists",function(S){return S?!e.some(I=>I.Code.trim().toLowerCase()===S.trim().toLowerCase()&&(!u||I.ID!==u.ID)):!0}),Name:D().required("Department name is required").max(100,"Department name must be at most 100 characters").test("unique-name","Department name already exists",function(S){return S?!e.some(I=>I.Name.trim().toLowerCase()===S.trim().toLowerCase()&&(!u||I.ID!==u.ID)):!0})}),p=()=>{d(null),c(!0)},b=S=>{d(S),c(!0)},v=S=>{y(S),m(!0)},j=()=>{h&&(t(cg(h.ID)),m(!1),y(null))},C=(S,{resetForm:A})=>{t(u?lg({...S,ID:u.ID}):ig(S)),c(!1),A()},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Department Name",sortable:!0}],N=S=>{const A=[];return s&&A.push({icon:Ie,title:"Edit",onClick:()=>b(S),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),i&&S.ID>4&&A.push({icon:Fe,title:"Delete",onClick:()=>v(S),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),A};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Departments"}),o.jsx("p",{children:"Manage LGU departments and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Department"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:N,loading:r})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Department":"Add Department",children:o.jsx(Re,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:g,onSubmit:C,children:({values:S,errors:A,touched:I,handleChange:E,handleBlur:k,isSubmitting:P})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Department Code",name:"Code",type:"text",required:!0,placeholder:"Enter department code",value:S.Code,onChange:E,onBlur:k,error:A.Code,touched:I.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Department Name",name:"Name",type:"text",required:!0,placeholder:"Enter department name",value:S.Name,onChange:E,onBlur:k,error:A.Name,touched:I.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:P,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the department"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.departmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}const Y0="https://staging-engine.testthelink.online",Hue=[],Gue={currencies:Hue,currency:null,isLoading:!1,error:null},ug=B("currencies/fetchCurrencies",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Y0}/currency`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),dg=B("currencies/addCurrency",async(t,e)=>{try{const r=await fetch(`${Y0}/currency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fg=B("currencies/updateCurrency",async(t,e)=>{try{const r=await fetch(`${Y0}/currency/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),mg=B("currency/deleteCurrency",async(t,e)=>{try{const r=await fetch(`${Y0}/currency/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),G6=ve({name:"currencies",initialState:Gue,reducers:{setCurrency:(t,e)=>{t.currency=e.payload},resetCurrencyState:t=>{t.currency=null,t.error=null}},extraReducers:t=>{t.addCase(ug.pending,e=>{e.isLoading=!0}).addCase(ug.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=r.payload,e.error=null}).addCase(ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dg.pending,e=>{e.isLoading=!0}).addCase(dg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies.push(r.payload),e.error=null}).addCase(dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fg.pending,e=>{e.isLoading=!0}).addCase(fg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.currencies.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.currencies[n]=r.payload),e.error=null}).addCase(fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mg.pending,e=>{e.isLoading=!0}).addCase(mg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=e.currencies.filter(n=>n.ID!==r.payload),e.error=null}).addCase(mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setCurrency:w8e,resetCurrencyState:N8e}=G6.actions,Yue=G6.reducer,Kue=(t=[],e=null)=>le().shape({Code:D().required("Code is required").max(3,"Code must be exactly 3 characters").min(3,"Code must be exactly 3 characters").matches(/^[A-Z]{3}$/,"Code must be 3 uppercase letters (ISO 4217)").test("unique-code","Code already exists",function(r){if(!r)return!0;const n=r.trim().toUpperCase();return!t.some(s=>s.Code.trim().toUpperCase()===n&&(!e||s.ID!==e.ID))}),Name:D().required("Name is required").max(100,"Name must be at most 100 characters").test("unique-name","Name already exists",function(r){if(!r)return!0;const n=r.trim().toLowerCase();return!t.some(s=>s.Name.trim().toLowerCase()===n&&(!e||s.ID!==e.ID))})});function Jue(){const t=ue(),{currencies:e,isLoading:r,error:n}=V(N=>N.currencies),{Add:a,Edit:s,Delete:i}=we(37),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(ug())},[t]);const g=()=>{d(null),c(!0)},p=N=>{d(N),c(!0)},b=N=>{y(N),m(!0)},v=async()=>{try{h&&(t(mg(h.ID)),m(!1),y(null)),q.success("Currency deleted successfully.")}catch(N){console.error("Failed to delete currency:",N),q.error("Failed to delete currency. Please try again.")}},j=(N,{resetForm:S})=>{try{t(u?fg({...N,ID:u.ID}):dg(N)),q.success("Currency saved successfully.")}catch(A){console.error("Failed to save currency:",A),q.error("Failed to save currency. Please try again.")}finally{c(!1),S()}},C=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Currency Name",sortable:!0}],x=[s&&{icon:Ie,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Fe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Currencies"}),o.jsx("p",{children:"Manage LGU currencies and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Currency"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:x,loading:r})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Currency":"Add Currency",children:o.jsx(Re,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:Kue(e,u),onSubmit:j,children:({values:N,errors:S,touched:A,handleChange:I,handleBlur:E,isSubmitting:k})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter currency code",value:N.Code,onChange:I,onBlur:E,error:S.Code,touched:A.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter currency name",value:N.Name,onChange:I,onBlur:E,error:S.Name,touched:A.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the currency"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const K0="https://staging-engine.testthelink.online",Xue=[],Que={subdepartments:Xue,subdepartment:null,isLoading:!1,error:null},So=B("subdepartments/fetchSubdepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${K0}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch departments");return a.items}catch(r){return e.rejectWithValue(r.message)}}),hg=B("subdepartments/addSubdepartment",async(t,e)=>{try{const r=await fetch(`${K0}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add subdepartment");return n}catch(r){return e.rejectWithValue(r.message)}}),pg=B("subdepartments/updateSubdepartment",async(t,e)=>{try{const r=await fetch(`${K0}/subDepartment/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update department");return n}catch(r){return e.rejectWithValue(r.message)}}),gg=B("subdepartments/deleteSubdepartment",async(t,e)=>{try{const r=await fetch(`${K0}/subDepartment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete department")}return t}catch(r){return e.rejectWithValue(r.message)}}),Y6=ve({name:"subdepartments",initialState:Que,reducers:{setSubdepartment:(t,e)=>{t.subdepartment=e.payload},resetSubdepartmentState:t=>{t.subdepartment=null,t.error=null}},extraReducers:t=>{t.addCase(So.pending,e=>{e.isLoading=!0}).addCase(So.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=r.payload,e.error=null}).addCase(So.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hg.pending,e=>{e.isLoading=!0}).addCase(hg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments.push(r.payload),e.error=null}).addCase(hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pg.pending,e=>{e.isLoading=!0}).addCase(pg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subdepartments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subdepartments[n]=r.payload),e.error=null}).addCase(pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gg.pending,e=>{e.isLoading=!0}).addCase(gg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=e.subdepartments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubdepartment:C8e,resetSubdepartmentState:S8e}=Y6.actions,Zue=Y6.reducer;var K6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l$=W.createContext&&W.createContext(K6),ede=["attr","size","title"];function tde(t,e){if(t==null)return{};var r=rde(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ux(){return Ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ux.apply(this,arguments)}function c$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(r),!0).forEach(function(n){nde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nde(t,e,r){return e=ade(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ade(t){var e=sde(t,"string");return typeof e=="symbol"?e:e+""}function sde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J6(t){return t&&t.map((e,r)=>W.createElement(e.tag,zx({key:r},e.attr),J6(e.child)))}function $E(t){return e=>W.createElement(ode,Ux({attr:zx({},t.attr)},e),J6(t.child))}function ode(t){var e=r=>{var{attr:n,size:a,title:s}=t,i=tde(t,ede),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),W.createElement("svg",Ux({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:zx(zx({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&W.createElement("title",null,s),t.children)};return l$!==void 0?W.createElement(l$.Consumer,null,r=>e(r)):e(K6)}function ide(t){return $E({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function lde(t){return $E({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function cde(t){return $E({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const yt=({options:t,label:e,placeholder:r="Search...",error:n,touched:a,required:s=!1,onSelect:i,selectedValue:l})=>{const[c,u]=w.useState(""),d=c===""?t:t.filter(m=>{var h;return(h=m==null?void 0:m.label)==null?void 0:h.toLowerCase().includes(c.toLowerCase())}),f=()=>{i(""),u("")};return o.jsx("div",{className:"w-full form-group",children:o.jsx($l,{value:l,onChange:i,children:({open:m})=>o.jsxs(o.Fragment,{children:[o.jsxs($l.Label,{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,s&&o.jsx("span",{className:"text-red-500",children:" *"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-md bg-white text-left shadow-sm sm:text-sm transition-all duration-200 ${a&&n?"border border-red-500":"border border-gray-300"}`,children:[o.jsx($l.Input,{className:"w-full py-2.5 pl-3 pr-12 text-sm leading-5 focus-visible:outline-none text-gray-900",placeholder:r,displayValue:h=>{var y;return((y=t.find(g=>g.value===h))==null?void 0:y.label)||""},onChange:h=>u(h.target.value)}),o.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[l&&o.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(cde,{className:"h-4 w-4"})}),o.jsx($l.Button,{className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(ide,{className:`h-5 w-5 transition-transform duration-200 ${m?"rotate-180":""}`})})]})]}),a&&n&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),o.jsx($l.Options,{className:"absolute z-[500] mt-1.5 w-full max-h-60 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm animate-fadeIn",children:d.length===0&&c!==""?o.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-500",children:"No results found"}):d.map(h=>o.jsx($l.Option,{className:({active:y,selected:g})=>`relative cursor-default select-none py-2 pl-2 pr-4 transition-colors ${y?"bg-blue-50 text-blue-700":""}
                         ${g?"font-medium text-blue-900 bg-blue-100":"font-normal text-gray-900"}
                         `,value:h.value,children:o.jsx("span",{children:h.label})},h.value))})]})]})})})};function ude(){const t=ue(),{subdepartments:e,isLoading:r}=V(A=>A.subdepartments||{}),{departments:n}=V(A=>A.departments),{Add:a,Edit:s,Delete:i}=we(76),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(So()),t(or())},[t]);const g=le().shape({Code:D().required("Subdepartment code is required").max(15,"Subdepartment code must be at most 15 characters").test("unique-code","Subdepartment code already exists in this department",function(A){if(!A||!this.parent.DepartmentID)return!0;const I=A.trim().toLowerCase();return!(e==null?void 0:e.some(k=>k.Code.trim().toLowerCase()===I&&k.DepartmentID===this.parent.DepartmentID&&(!u||k.ID!==u.ID)))}),Name:D().required("Subdepartment name is required").max(100,"Subdepartment name must be at most 100 characters").test("unique-name","Subdepartment name already exists in this department",function(A){if(!A||!this.parent.DepartmentID)return!0;const I=A.trim().toLowerCase();return!(e==null?void 0:e.some(k=>k.Name.trim().toLowerCase()===I&&k.DepartmentID===this.parent.DepartmentID&&(!u||k.ID!==u.ID)))}),DepartmentID:Y().required("Department is required")}),p=e.map(A=>{var I;return{...A,departmentName:((I=n.find(E=>E.ID===A.DepartmentID))==null?void 0:I.Name)||"N/A"}}),b=()=>{d(null),c(!0)},v=A=>{d(A),c(!0)},j=A=>{y(A),m(!0)},C=async()=>{try{h&&(await t(gg(h.ID)).unwrap(),q.success("Subdepartment deleted successfully."))}catch(A){console.error("Failed to delete subdepartment:",A),q.error("Failed to delete subdepartment. Please try again.")}finally{y(null),m(!1)}},x=async(A,{resetForm:I})=>{var P;const E=((P=n.find(R=>R.ID===Number(A.DepartmentID)))==null?void 0:P.Name)||"",k={...A,departmentName:E};try{t(u?pg({...k,ID:u.ID}):hg(k)),q.success("Subdepartment saved successfully.")}catch(R){console.log(R),q.error("Failed to save subdepartment. Please try again.")}finally{c(!1),I()}},N=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Subdepartment Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0}],S=[s&&{icon:Ie,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Fe,title:"Delete",onClick:j,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Subdepartments"}),o.jsx("p",{children:"Manage LGU subdepartments and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Subdepartment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:N,data:p,actions:S,loading:r})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Subdepartment":"Add Subdepartment",children:o.jsx(Re,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||"",DepartmentID:(u==null?void 0:u.DepartmentID)||""},validationSchema:g,onSubmit:x,children:({values:A,errors:I,touched:E,handleChange:k,handleBlur:P,isSubmitting:R,setFieldValue:M})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Subdepartment Code",name:"Code",type:"text",required:!0,placeholder:"Enter subdepartment code",value:A.Code,onChange:k,onBlur:P,error:I.Code,touched:E.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Subdepartment Name",name:"Name",type:"text",required:!0,placeholder:"Enter subdepartment name",value:A.Name,onChange:k,onBlur:P,error:I.Name,touched:E.Name}),o.jsx(yt,{label:"Department",name:"DepartmentID",type:"select",required:!0,selectedValue:A.DepartmentID,onSelect:_=>M("DepartmentID",_),onBlur:P,error:I.DepartmentID,touched:E.DepartmentID,options:n.map(_=>({value:_.ID,label:_.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:R,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the subdepartment"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.subdepartmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:C,className:"btn btn-danger",children:"Delete"})]})]})]})}const J0="https://staging-engine.testthelink.online",dde=[],fde={users:dde,user:null,isLoading:!1,error:null},Zd=B("users/fetchUsers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${J0}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a.items}catch(r){return e.rejectWithValue(r.message)}}),yg=B("users/addUser",async(t,e)=>{try{const r=await fetch(`${J0}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to add user");return n}catch(r){return e.rejectWithValue(r.message)}}),bg=B("users/updateUser",async(t,e)=>{try{const r=await fetch(`${J0}/users/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to update user");return n}catch(r){return e.rejectWithValue(r.message)}}),xg=B("users/deleteUser",async(t,e)=>{try{const r=await fetch(`${J0}/users/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),X6=ve({name:"users",initialState:fde,reducers:{setUser:(t,e)=>{t.user=e.payload},resetUserState:t=>{t.user=null,t.error=null}},extraReducers:t=>{t.addCase(Zd.pending,e=>{e.isLoading=!0}).addCase(Zd.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload,e.error=null}).addCase(Zd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yg.pending,e=>{e.isLoading=!0}).addCase(yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.users)||(e.users=[]),e.users.push(r.payload),e.error=null}).addCase(yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(bg.pending,e=>{e.isLoading=!0}).addCase(bg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.users.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.users[n]=r.payload),e.error=null}).addCase(bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xg.pending,e=>{e.isLoading=!0}).addCase(xg.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(n=>n.ID!==r.payload),e.error=null}).addCase(xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setUser:A8e,resetUserState:I8e}=X6.actions,mde=X6.reducer,X0="https://staging-engine.testthelink.online",hde=[],pde={employees:hde,employee:null,isLoading:!1,error:null},un=B("employees/fetchEmployees",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${X0}/employee`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),vg=B("employees/addEmployee",async(t,e)=>{try{const r=await fetch(`${X0}/employee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add employee");return n}catch(r){return e.rejectWithValue(r.message)}}),jg=B("employees/updateEmployee",async(t,e)=>{try{const r=await fetch(`${X0}/employee/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),wg=B("employees/deleteEmployee",async(t,e)=>{try{const r=await fetch(`${X0}/employee/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Q6=ve({name:"employees",initialState:pde,reducers:{setEmployee:(t,e)=>{t.employee=e.payload},resetEmployeeState:t=>{t.employee=null,t.error=null}},extraReducers:t=>{t.addCase(un.pending,e=>{e.isLoading=!0}).addCase(un.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=r.payload,e.error=null}).addCase(un.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(vg.pending,e=>{e.isLoading=!0}).addCase(vg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees.push(r.payload),e.error=null}).addCase(vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jg.pending,e=>{e.isLoading=!0}).addCase(jg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employees.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.employees[n]=r.payload),e.error=null}).addCase(jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wg.pending,e=>{e.isLoading=!0}).addCase(wg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=e.employees.filter(n=>n.ID!==r.payload),e.error=null}).addCase(wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setEmployee:k8e,resetEmployeeState:T8e}=Q6.actions,gde=Q6.reducer,Q0="https://staging-engine.testthelink.online",yde=[],Ao=B("userroles/fetchUserroles",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Q0}/userAccess`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ng=B("userroles/addUserrole",async(t,e)=>{try{const r=await fetch(`${Q0}/userAccess`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),vA=B("userroles/updateUserrole",async(t,e)=>{try{const r=await fetch(`${Q0}/userAccess/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cg=B("userroles/deleteUserrole",async(t,e)=>{try{const r=await fetch(`${Q0}/userAccess/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),bde=ve({name:"userroles",initialState:{userroles:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ao.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ao.fulfilled,(e,r)=>{e.isLoading=!1,e.userroles=Array.isArray(r.payload)?r.payload:[]}).addCase(Ao.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch user roles",console.warn("Failed to fetch user roles, using mock data.",e.error),e.userroles=yde}).addCase(Ng.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ng.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles.push(r.payload)}).addCase(Ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add user role",console.error("Failed to add user role:",e.error)}).addCase(vA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.userroles.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.userroles)||(e.userroles=[]),e.userroles[n]=r.payload)}).addCase(Cg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles=e.userroles.filter(n=>n.ID!==r.payload)}).addCase(Cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete user role",console.error("Failed to delete user role:",e.error)})}}),xde=bde.reducer,vde=le().shape({UserName:D().required("User name is required"),UserAccessID:D().required("User Access is required"),Password:D().required("Password is required").min(6,"Password must be at least 6 characters"),ConfirmPassword:D().oneOf([hl("Password"),null],"Passwords must match").required("Confirm Password is required"),EmployeeID:D().required("Choose Employee is required")});function jde(){const t=ue(),{users:e,isLoading:r}=V(L=>L.users),{Add:n,Edit:a,Delete:s}=we(82),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null),[y,g]=w.useState(!1),[p,b]=w.useState(null),{userroles:v,isLoading:j}=V(L=>L.userroles),C=v.map(L=>({value:L.ID,label:L.Description})),{employees:x,isLoading:N}=V(L=>L.employees),S=x.map(L=>({value:L.ID,label:`${L.FirstName} ${L.LastName}`}));w.useEffect(()=>{t(Zd()),t(un()),t(Ao())},[t]);const A=()=>{u(null),l(!0)},I=L=>{u(L),l(!0)},E=L=>{h(L),f(!0)},k=async()=>{try{m&&(await t(xg(m.ID)).unwrap(),f(!1),h(null),q.success("User deleted successfully"))}catch(L){console.error("Failed to delete user:",L),q.error("Failed to delete user")}},P=async(L,{resetForm:F,setErrors:$,setSubmitting:O})=>{const U={EmployeeID:L.EmployeeID,UserName:L.UserName,Password:L.Password,UserAccessArray:[L.UserAccessID]};console.log("Payload:",U);try{c?await t(bg({...U,ID:c.ID})).unwrap():await t(yg(U)).unwrap(),t(Zd()),q.success("User saved successfully.")}catch(K){console.log(K),$({general:"Unexpected error occurred."}),q.error("Failed to save user. Please try again.")}finally{F(),l(!1),O(!1)}},R=[{key:"UserName",header:"User Name",sortable:!0},{key:"UserAccessValue",header:"User Access",sortable:!0,render:(L,F)=>{var $;return o.jsx("span",{children:L||(($=F==null?void 0:F.accessList)==null?void 0:$.map(O=>O.Description).join(", "))||"N/A"})}}],M=[a&&{icon:Ie,title:"Edit",onClick:I,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:E,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],_=e.map(L=>{var F;return{...L,UserAccessValue:(F=v.find($=>$.ID===L.UserAccessID))==null?void 0:F.Description}});return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Users"}),o.jsx("p",{children:"Manage system users and their access rights"})]}),n&&o.jsxs("button",{type:"button",onClick:A,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:R,data:_,actions:M,loading:r||j||N})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit User":"Add User",children:o.jsx(Re,{initialValues:{UserName:(c==null?void 0:c.UserName)||"",UserAccessID:(c==null?void 0:c.UserAccessID)||"",Password:"",ConfirmPassword:"",EmployeeID:(c==null?void 0:c.EmployeeID)||""},validationSchema:vde,onSubmit:P,children:({values:L,errors:F,touched:$,handleChange:O,handleBlur:U,isSubmitting:K})=>o.jsxs(qe,{className:"space-y-4",children:[F.general&&o.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded text-sm",children:F.general}),o.jsx(T,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:L.UserName,onChange:O,onBlur:U,error:F.UserName,touched:$.UserName}),o.jsx(T,{className:"p-3 focus:outline-none",label:"User Access",name:"UserAccessID",type:"select",required:!0,value:L.UserAccessID,onChange:O,onBlur:U,error:F.UserAccessID,touched:$.UserAccessID,options:C}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:L.Password,onChange:O,onBlur:U,error:F.Password,touched:$.Password}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Confirm Password",name:"ConfirmPassword",type:"password",required:!0,placeholder:"Confirm password",value:L.ConfirmPassword,onChange:O,onBlur:U,error:F.ConfirmPassword,touched:$.ConfirmPassword}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Choose Employee",name:"EmployeeID",type:"select",required:!0,value:L.EmployeeID,onChange:O,onBlur:U,error:F.EmployeeID,touched:$.EmployeeID,options:S}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:K,className:"btn btn-primary",children:K?"Saving...":c?"Update":"Save"})]})]})})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the user"," ",o.jsx("span",{className:"font-medium",children:m==null?void 0:m.UserName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:k,className:"btn btn-danger",children:"Delete"})]})]})]})}const Z0="https://staging-engine.testthelink.online",wde=[],Nde={accounts:wde,account:null,isLoading:!1,error:null},kr=B("chartOfAccounts/fetchAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Z0}/chartofAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Sg=B("chartOfAccounts/addAccount",async(t,e)=>{try{const r=await fetch(`${Z0}/chartofAccounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Ag=B("chartOfAccounts/updateAccount",async(t,e)=>{try{const r=await fetch(`${Z0}/chartofAccounts/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ig=B("chartOfAccounts/deleteAccount",async(t,e)=>{try{const r=await fetch(`${Z0}/chartofAccounts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Z6=ve({name:"chartOfAccounts",initialState:Nde,reducers:{setAccount:(t,e)=>{t.account=e.payload},resetAccountState:t=>{t.account=null,t.error=null}},extraReducers:t=>{t.addCase(kr.pending,e=>{e.isLoading=!0}).addCase(kr.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts=r.payload,e.error=null}).addCase(kr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Sg.pending,e=>{e.isLoading=!0}).addCase(Sg.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts.push(r.payload),e.error=null}).addCase(Sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ag.pending,e=>{e.isLoading=!0}).addCase(Ag.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accounts.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accounts[n]=r.payload),e.error=null}).addCase(Ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ig.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.accounts)||(e.accounts=[]),e.accounts=e.accounts.filter(n=>n.ID!==r.payload)}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete account",console.error("Failed to delete account:",e.error)})}}),{setAccount:E8e,resetAccountState:D8e}=Z6.actions,Cde=Z6.reducer,ej="https://staging-engine.testthelink.online",Sde=[],Ade={accountGroups:Sde,accountGroup:null,isLoading:!1,error:null},Vi=B("accountGroups/fetchAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ej}/accountType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),kg=B("accountGroups/addAccountGroup",async(t,e)=>{try{const r=await fetch(`${ej}/accountType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Tg=B("accountGroups/updateAccountGroup",async(t,e)=>{try{const r=await fetch(`${ej}/accountType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Eg=B("accountGroups/deleteAccountGroup",async(t,e)=>{try{const r=await fetch(`${ej}/accountType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),eV=ve({name:"accountGroups",initialState:Ade,reducers:{setAccountGroup:(t,e)=>{t.accountGroup=e.payload},resetAccountGroupState:t=>{t.accountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Vi.pending,e=>{e.isLoading=!0}).addCase(Vi.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=r.payload,e.error=null}).addCase(Vi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(kg.pending,e=>{e.isLoading=!0}).addCase(kg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups.push(r.payload),e.error=null}).addCase(kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Tg.pending,e=>{e.isLoading=!0}).addCase(Tg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accountGroups[n]=r.payload),e.error=null}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Eg.pending,e=>{e.isLoading=!0}).addCase(Eg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=e.accountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setAccountGroup:P8e,resetAccountGroupState:O8e}=eV.actions,Ide=eV.reducer,tj="https://staging-engine.testthelink.online",kde=[],Tde={majorAccountGroups:kde,majorAccountGroup:null,isLoading:!1,error:null},Ui=B("majorAccountGroups/fetchMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tj}/accountSubType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),Dg=B("majorAccountGroups/addMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${tj}/accountSubType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Pg=B("majorAccountGroups/updateMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${tj}/accountSubType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Og=B("majorAccountGroups/deleteMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${tj}/accountSubType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),tV=ve({name:"majorAccountGroups",initialState:Tde,reducers:{setMajorAccountGroup:(t,e)=>{t.majorAccountGroup=e.payload},resetMajorAccountGroupState:t=>{t.majorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Ui.pending,e=>{e.isLoading=!0}).addCase(Ui.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=r.payload,e.error=null}).addCase(Ui.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Dg.pending,e=>{e.isLoading=!0}).addCase(Dg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups.push(r.payload),e.error=null}).addCase(Dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Pg.pending,e=>{e.isLoading=!0}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.majorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.majorAccountGroups[n]=r.payload),e.error=null}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Og.pending,e=>{e.isLoading=!0}).addCase(Og.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=e.majorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMajorAccountGroup:_8e,resetMajorAccountGroupState:$8e}=tV.actions,Ede=tV.reducer,rj="https://staging-engine.testthelink.online",Dde=[],Pde={subMajorAccountGroups:Dde,subMajorAccountGroup:null,isLoading:!1,error:null},gc=B("subMajorAccountGroups/fetchSubMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rj}/accountCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched sub major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch sub major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),_g=B("subMajorAccountGroups/addSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${rj}/accountCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),$g=B("subMajorAccountGroups/updateSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${rj}/accountCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update sub major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Rg=B("subMajorAccountGroups/deleteSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${rj}/accountCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete sub major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),rV=ve({name:"subMajorAccountGroups",initialState:Pde,reducers:{setSubMajorAccountGroup:(t,e)=>{t.subMajorAccountGroup=e.payload},resetSubMajorAccountGroupState:t=>{t.subMajorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(gc.pending,e=>{e.isLoading=!0}).addCase(gc.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=r.payload,e.error=null}).addCase(gc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(_g.pending,e=>{e.isLoading=!0}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups.push(r.payload),e.error=null}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase($g.pending,e=>{e.isLoading=!0}).addCase($g.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subMajorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subMajorAccountGroups[n]=r.payload),e.error=null}).addCase($g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Rg.pending,e=>{e.isLoading=!0}).addCase(Rg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=e.subMajorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubMajorAccountGroup:R8e,resetSubMajorAccountGroupState:M8e}=rV.actions,Ode=rV.reducer,_de=({accountGroups:t,majorAccountGroups:e,subMajorAccountGroups:r})=>{const{values:n,setFieldValue:a,errors:s,touched:i}=Aq(),l=(c,u)=>{const d=u.find(f=>f.ID===c);return d?d.Code:""};return w.useEffect(()=>{if(n.AccountTypeID||n.AccountSubTypeID||n.AccountCategoryID||n.Code){const c=l(n.AccountTypeID,t),u=l(n.AccountSubTypeID,e),d=l(n.AccountCategoryID,r),f=`${c}-${u}-${d}-${n.Code}`;a("AccountCode",f)}},[n.AccountTypeID,n.AccountSubTypeID,n.AccountCategoryID,n.Code]),o.jsx(T,{className:"p-3 focus:outline-none bg-gray-200 cursor-not-allowed",label:"Account No",name:"AccountCode",type:"text",required:!0,placeholder:"e.g., 03-02-02-65465",value:n.AccountCode,readOnly:!0,error:i.AccountCode&&s.AccountCode,touched:i.AccountCode})},$de=le().shape({AccountCode:D().required("Account no is required").max(30,"Account no must be at most 30 characters"),Code:D().required("General Ledger Code is required").max(10,"General Ledger Code must be at most 10 characters"),Name:D().required("Account title is required").max(100,"Account title must be at most 100 characters"),Description:D().max(250,"Description must be at most 250 characters"),AccountTypeID:D().required("Account group is required"),AccountSubTypeID:D().required("Major account group is required"),AccountCategoryID:D().required("Sub Major account group is required"),NormalBalance:D().required("Normal balance is required")});function Rde({initialData:t,onClose:e}){const r=ue(),{accountGroups:n}=V(d=>d.accountGroups),{majorAccountGroups:a}=V(d=>d.majorAccountGroups),{subMajorAccountGroups:s}=V(d=>d.subMajorAccountGroups),[i,l]=w.useState(!1);w.useEffect(()=>{r(Vi()),r(Ui()),r(gc())},[r]);const c=t?{...t}:{AccountCode:"",Code:"",Name:"",Description:"",AccountTypeID:"",AccountSubTypeID:"",AccountCategoryID:"",NormalBalance:""},u=async d=>{l(!0);const f=t?Ag({...d,ID:t.ID}):Sg(d);r(f).unwrap().then(()=>{q.success("Account updated successfully"),r(kr()),e()}).catch(m=>{console.error("Error submitting account:",m),q.error("Failed to submit account. Please try again.")}).finally(()=>{l(!1)})};return o.jsx(Re,{initialValues:c,validationSchema:$de,onSubmit:u,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:y,isValid:g,setFieldValue:p})=>{var b;return o.jsxs(qe,{className:"space-y-4",children:[o.jsx("div",{className:"",children:o.jsx(_de,{accountGroups:n,majorAccountGroups:a,subMajorAccountGroups:s})}),console.log("values",d,f),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"General Ledger Code",name:"Code",type:"text",required:!0,placeholder:"e.g., 65465",value:d.Code,onChange:h,onBlur:y,error:f.Code,touched:m.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Account Title",name:"Name",type:"text",required:!0,placeholder:"Enter account title",value:d.Name,onChange:h,onBlur:y,error:f.Name,touched:m.Name}),o.jsx(yt,{label:"Account Group",options:n.map(v=>({label:`${v.Name} (${v.Code})`,value:v.ID})),placeholder:"Select Account Group",onSelect:v=>{p("AccountTypeID",v||"")},selectedValue:d.AccountTypeID||"",required:!0,error:f.AccountTypeID,touched:m.AccountTypeID}),o.jsx(yt,{label:"Major Account Group",options:a.map(v=>({label:`${v.Name} (${v.Code})`,value:v.ID})),placeholder:"Select Major Account Group",onSelect:v=>{p("AccountSubTypeID",v||"")},selectedValue:((b=a.find(v=>v.ID===d.AccountSubTypeID))==null?void 0:b.ID)||"",required:!0,error:f.AccountSubTypeID,touched:m.AccountSubTypeID}),o.jsx(yt,{label:"Sub Major Account Group",options:s.map(v=>({label:`${v.Name} (${v.Code})`,value:v.ID})),placeholder:"Select Sub Major Account Group",onSelect:v=>{p("AccountCategoryID",v||"")},selectedValue:d.AccountCategoryID||"",required:!0,error:f.AccountCategoryID,touched:m.AccountCategoryID})]}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"textarea",placeholder:"Enter account description",value:d.Description,onChange:h,onBlur:y,error:f.Description,touched:m.Description,rows:2}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsx(T,{className:"p-3 focus:outline-none",label:"Normal Balance",name:"NormalBalance",type:"select",required:!0,value:d.NormalBalance,onChange:h,onBlur:y,error:f.NormalBalance,touched:m.NormalBalance,options:[{value:"Debit",label:"Debit"},{value:"Credit",label:"Credit"}]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i||!g,className:"btn btn-primary",children:i?"Saving...":t?"Update":"Save"})]})]})}})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lde=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),u$=t=>{const e=Lde(t);return e.charAt(0).toUpperCase()+e.slice(1)},nV=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Fde=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>w.createElement("svg",{ref:c,...Bde,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:nV("lucide",a),...!s&&!Fde(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=(t,e)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement(qde,{ref:s,iconNode:e,className:nV(`lucide-${Mde(u$(t))}`,`lucide-${t}`,n),...a}));return r.displayName=u$(t),r};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],aV=nr("building",Vde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],RE=nr("calendar",Ude);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["path",{d:"M20 4L9 15",key:"1qkx8z"}],["path",{d:"M21 19L3 19",key:"100sma"}],["path",{d:"M9 15L4 10",key:"9zxff7"}]],ah=nr("check-line",zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]],Hde=nr("circle-arrow-left",Wde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Yde=nr("circle-x",Gde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],sV=nr("credit-card",Kde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xde=nr("eye-off",Jde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oV=nr("eye",Qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],efe=nr("file-text",Zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Ds=nr("paperclip",tfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ja=nr("pencil",rfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nj=nr("plus",nfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Zf=nr("printer",afe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ofe=nr("save",sfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],lfe=nr("square-pen",ife);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],tr=nr("trash-2",cfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Ka=nr("trash",ufe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],iV=nr("upload",dfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ffe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],aj=nr("user",ffe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ME=nr("users",mfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ju=nr("x",hfe);function pfe(){const t=ue(),{accounts:e,isLoading:r}=V(x=>x.chartOfAccounts),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{Add:f,Edit:m,Delete:h}=we(31);w.useEffect(()=>{t(kr())},[t]);const y=()=>{i(null),a(!0)},g=x=>{i(x),a(!0)},p=x=>{d(x),c(!0)},b=async()=>{if(u)try{await t(Ig(u.ID)).unwrap(),c(!1),d(null),q.success("Account deleted successfully")}catch(x){console.error("Failed to delete account:",x),q.error("Failed to delete account. Please try again.")}},v=()=>{a(!1),i(null)},j=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NormalBalance",header:"Normal Balance",sortable:!0}],C=[m&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},h&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Chart of Accounts"}),o.jsx("p",{children:"Manage account codes and their settings"})]}),o.jsx("div",{className:"flex gap-4 items-center ",children:f&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r})}),o.jsx(oe,{isOpen:n,onClose:v,title:s?"Edit Account":"Add Account",size:"lg",children:o.jsx(Rde,{initialData:s,onClose:v})}),o.jsxs(oe,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the account "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const gfe=le().shape({Code:D().required("Code is required").max(10,"Code must be at most 10 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters")});function yfe(){const t=ue(),{accountGroups:e,isLoading:r,error:n}=V(N=>N.accountGroups),{Add:a,Edit:s,Delete:i}=we(88),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(Vi())},[t]);const g=()=>{d(null),c(!0)},p=N=>{d(N),c(!0)},b=N=>{y(N),m(!0)},v=async()=>{try{h&&(await t(Eg(h.ID)).unwrap(),q.success("Account group deleted successfully"),m(!1),y(null))}catch(N){console.error("Failed to delete account group:",N),q.error("Failed to delete account group. Please try again.")}},j=async(N,{resetForm:S})=>{try{u?(await t(Tg({...N,ID:u.ID})).unwrap(),q.success("Account group updated successfully")):(await t(kg(N)).unwrap(),q.success("Account group added successfully")),t(Vi())}catch(A){console.error("Error submitting account group:",A),q.error("Failed to submit account group. Please try again.")}finally{c(!1),S()}},C=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Account Type",sortable:!0}],x=[s&&{icon:Ie,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Fe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Types"}),o.jsx("p",{children:"Manage account types and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:x,loading:r})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Account Type":"Add Account Type",children:o.jsx(Re,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:gfe,onSubmit:j,children:({values:N,errors:S,touched:A,handleChange:I,handleBlur:E,isSubmitting:k})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:N.Code,onChange:I,onBlur:E,error:S.Code,touched:A.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:N.Name,onChange:I,onBlur:E,error:S.Name,touched:A.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const bfe=le().shape({Code:D().required("Code is required").max(15,"Code must be at most 15 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters"),AccountTypeID:Y().required("Account Type is required")});function xfe(){const t=ue(),{majorAccountGroups:e,isLoading:r}=V(S=>S.majorAccountGroups),{accountGroups:n}=V(S=>S.accountGroups),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null),{Add:m,Edit:h,Delete:y}=we(89);w.useEffect(()=>{t(Ui()),t(Vi())},[t]);const g=e.map(S=>{const A=n.find(I=>I.ID===S.AccountTypeID);return{...S,accountTypeName:A?A.Name:"N/A"}}),p=()=>{l(null),s(!0)},b=S=>{l(S),s(!0)},v=S=>{f(S),u(!0)},j=()=>{try{d&&(t(Og(d.ID)),q.success("Major account group deleted successfully"))}catch(S){console.error("Failed to delete major account group:",S),q.error("Failed to delete major account group. Please try again.")}finally{u(!1),f(null)}},C=async(S,{resetForm:A})=>{var k;const I=((k=n.find(P=>P.ID===Number(S.AccountTypeID)))==null?void 0:k.Name)||"",E={...S,accountTypeName:I};try{i?(await t(Pg({...E,ID:i.ID})).unwrap(),q.success("Major account group updated successfully")):(await t(Dg(E)).unwrap(),q.success("Major account group added successfully")),t(Ui())}catch(P){console.error("Failed to save major account group:",P),q.error("Failed to save major account group. Please try again.")}s(!1),A()},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountTypeName",header:"Account Type",sortable:!0}],N=[h&&{icon:Ie,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},y&&{icon:Fe,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Sub-Types"}),o.jsx("p",{children:"Manage account sub-types and their details"})]}),m&&o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Sub-Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:g,actions:N,loading:r})}),o.jsx(oe,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Sub-Type":"Add Account Sub-Type",children:o.jsx(Re,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:bfe,onSubmit:C,children:({values:S,errors:A,touched:I,handleChange:E,handleBlur:k,isSubmitting:P})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:E,onBlur:k,error:A.Code,touched:I.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:E,onBlur:k,error:A.Name,touched:I.Name}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountTypeID",type:"select",required:!0,value:S.AccountTypeID,onChange:E,onBlur:k,error:A.AccountTypeID,touched:I.AccountTypeID,options:n.map(R=>({value:R.ID,label:R.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:P,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(oe,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}const vfe=le().shape({Code:D().required("Code is required").max(15,"Code must be at most 15 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters"),AccountSubTypeID:Y().required("Account Sub Type is required")});function jfe(){const t=ue(),{subMajorAccountGroups:e,isLoading:r}=V(S=>S.subMajorAccountGroups),{majorAccountGroups:n}=V(S=>S.majorAccountGroups),{Add:a,Edit:s,Delete:i}=we(90),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(gc()),t(Ui())},[t]);const g=e.map(S=>{const A=n.find(I=>I.ID===S.AccountSubTypeID);return{...S,accountSubTypeName:A?A.Name:"N/A"}}),p=()=>{d(null),c(!0)},b=S=>{d(S),c(!0)},v=S=>{y(S),m(!0)},j=async()=>{try{h&&(await t(Rg(h.ID)).unwrap(),m(!1),y(null),q.success("Sub major account group deleted successfully"))}catch(S){console.error("Failed to delete sub major account group:",S),q.error("Failed to delete sub major account group. Please try again.")}},C=async(S,{resetForm:A})=>{var k;const I=((k=n.find(P=>P.ID===Number(S.AccountSubTypeID)))==null?void 0:k.Name)||"",E={...S,accountSubTypeName:I};try{u?(await t($g({...E,ID:u.ID})).unwrap(),q.success("Sub major account group updated successfully")):(await t(_g(E)).unwrap(),q.success("Sub major account group added successfully")),t(gc())}catch(P){console.error("Failed to save sub major account group:",P),q.error("Failed to save sub major account group. Please try again.")}finally{c(!1),A()}},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountSubTypeName",header:"Account Type",sortable:!0}],N=[s&&{icon:Ie,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Fe,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return console.log({currentSubMajorAccountGroup:u,majorAccountGroups:n}),o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Category"}),o.jsx("p",{children:"Manage account categories and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:g,actions:N,loading:r})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Account Category":"Add Account Category",children:o.jsx(Re,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||"",AccountSubTypeID:(u==null?void 0:u.AccountSubTypeID.toString())||""},validationSchema:vfe,onSubmit:C,children:({values:S,errors:A,touched:I,handleChange:E,handleBlur:k,isSubmitting:P})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:E,onBlur:k,error:A.Code,touched:I.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:E,onBlur:k,error:A.Name,touched:I.Name}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountSubTypeID",type:"select",required:!0,value:S.AccountSubTypeID,onChange:E,onBlur:k,error:A.AccountSubTypeID,touched:I.AccountSubTypeID,options:n.map(R=>({value:R.ID,label:R.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:P,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}function wfe({initialData:t,onSubmit:e,onClose:r,provinces:n=[],municipalities:a=[],barangays:s=[],regionOptions:i=[],provinceOptions:l=[],municipalityOptions:c=[],barangayOptions:u=[],industryOptions:d=[],taxCodeOptions:f=[],vendorTypeOptions:m=[],paymentTermsOptions:h=[],modeOfPaymentOptions:y=[]}){const g=le({Code:D().required("Code is required"),TIN:D().required("TIN is required"),Name:D().required("Name is required"),PhoneNumber:D(),MobileNumber:D().required("Mobile number is required"),EmailAddress:D().email("Invalid email").required("Email is required"),Website:D(),RegionID:D().required("Region is required"),ProvinceID:D().required("Province is required"),MunicipalityID:D().required("Municipality is required"),BarangayID:D().required("Barangay is required"),StreetAddress:D().required("Street address is required"),ZIPCode:D().required("Zip code is required"),TypeID:D().required("Vendor type is required"),RDO:D().required("Revenue District Office is required"),IndustryTypeID:D().required("Industry is required"),TaxCodeID:D().required("Tax code is required"),PaymentTermsID:D().required("Payment terms are required"),Vatable:Bo(),PaymentMethodID:D().required("Mode of payment is required"),ContactPerson:D().required("Contact person is required"),DeliveryLeadTime:Y().required("Delivery lead time is required").typeError("Must be a number")}),p=at({initialValues:t||{Code:"",TIN:"",Name:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",StreetAddress:"",ZIPCode:"",TypeID:"",RDO:"",IndustryTypeID:"",TaxCodeID:"",PaymentTermsID:"",Vatable:!1,PaymentMethodID:"",ContactPerson:"",DeliveryLeadTime:""},validationSchema:g,onSubmit:S=>{e(S)}}),{values:b,handleChange:v,handleBlur:j,errors:C,touched:x,setFieldValue:N}=p;return w.useEffect(()=>{const S=s.find(A=>A.ID.toString()===b.BarangayID);S&&(S.MunicipalityCode&&N("MunicipalityID",S.MunicipalityCode),S.ProvinceCode&&N("ProvinceID",S.ProvinceCode),S.RegionCode&&N("RegionID",S.RegionCode))},[b.BarangayID]),w.useEffect(()=>{const S=a.find(A=>A.ID.toString()===b.MunicipalityID);S&&(S.ProvinceCode&&N("ProvinceID",S.ProvinceCode),S.RegionCode&&N("RegionID",S.RegionCode))},[b.MunicipalityID]),w.useEffect(()=>{const S=n.find(A=>A.ID.toString()===b.ProvinceID);S&&S.RegionCode&&N("RegionID",S.RegionCode)},[b.ProvinceID]),o.jsxs("form",{onSubmit:p.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",value:b.Code,onChange:v,onBlur:j,error:C.Code,touched:x.Code,required:!0}),o.jsx(T,{label:"TIN",name:"TIN",type:"text",value:b.TIN,onChange:v,onBlur:j,error:C.TIN,touched:x.TIN,required:!0})]}),o.jsx(T,{label:"Name",name:"Name",type:"text",value:b.Name,onChange:v,onBlur:j,error:C.Name,touched:x.Name,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Phone Number",name:"PhoneNumber",type:"text",value:b.PhoneNumber,onChange:v,onBlur:j}),o.jsx(T,{label:"Mobile Number",name:"MobileNumber",type:"text",value:b.MobileNumber,onChange:v,onBlur:j,error:C.MobileNumber,touched:x.MobileNumber,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Email",name:"EmailAddress",type:"email",value:b.EmailAddress,onChange:v,onBlur:j,error:C.EmailAddress,touched:x.EmailAddress,required:!0}),o.jsx(T,{label:"Website",name:"Website",type:"text",value:b.Website,onChange:v,onBlur:j})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Region",name:"RegionID",type:"select",options:i,value:b.RegionID,onChange:v,onBlur:j,error:C.RegionID,touched:x.RegionID,required:!0}),o.jsx(T,{label:"Province",name:"ProvinceID",type:"select",options:l,value:b.ProvinceID,onChange:v,onBlur:j,error:C.ProvinceID,touched:x.ProvinceID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Municipality",name:"MunicipalityID",type:"select",options:c,value:b.MunicipalityID,onChange:v,onBlur:j,error:C.MunicipalityID,touched:x.MunicipalityID,required:!0}),o.jsx(T,{label:"Barangay",name:"BarangayID",type:"select",options:u,value:b.BarangayID,onChange:v,onBlur:j,error:C.BarangayID,touched:x.BarangayID,required:!0})]}),o.jsx(T,{label:"Street Address",name:"StreetAddress",type:"textarea",value:b.StreetAddress,onChange:v,onBlur:j,error:C.StreetAddress,touched:x.StreetAddress,required:!0}),o.jsx(T,{label:"Zip Code",name:"ZIPCode",type:"text",value:b.ZIPCode,onChange:v,onBlur:j,error:C.ZIPCode,touched:x.ZIPCode,required:!0}),o.jsx("hr",{className:"border-t border-neutral-300 my-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Vendor Type",name:"TypeID",type:"select",options:m,value:b.TypeID,onChange:v,onBlur:j,error:C.TypeID,touched:x.TypeID,required:!0}),o.jsx(T,{label:"Revenue District Office",name:"RDO",type:"text",value:b.RDO,onChange:v,onBlur:j,error:C.RDO,touched:x.RDO,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Industry",name:"IndustryTypeID",type:"select",options:d,value:b.IndustryTypeID,onChange:v,onBlur:j,error:C.IndustryTypeID,touched:x.IndustryTypeID,required:!0}),o.jsx(T,{label:"Tax Code",name:"TaxCodeID",type:"select",options:f,value:b.TaxCodeID,onChange:v,onBlur:j,error:C.TaxCodeID,touched:x.TaxCodeID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:h,value:b.PaymentTermsID,onChange:v,onBlur:j,error:C.PaymentTermsID,touched:x.PaymentTermsID,required:!0}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:b.Vatable,onChange:v,onBlur:j}),o.jsx("label",{htmlFor:"Vatable",children:"Vatable"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:y,value:b.PaymentMethodID,onChange:v,onBlur:j,error:C.PaymentMethodID,touched:x.PaymentMethodID,required:!0}),o.jsx(T,{label:"Contact Person",name:"ContactPerson",type:"text",value:b.ContactPerson,onChange:v,onBlur:j,error:C.ContactPerson,touched:x.ContactPerson,required:!0})]}),o.jsx(T,{label:"Delivery Lead Time (days)",name:"DeliveryLeadTime",type:"number",value:b.DeliveryLeadTime,onChange:v,onBlur:j,error:C.DeliveryLeadTime,touched:x.DeliveryLeadTime,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p.isSubmitting,children:p.isSubmitting?"Saving...":"Save"})]})]})}const sj="https://staging-engine.testthelink.online",Nfe=[],Fa=B("vendorDetails/fetchVendorDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sj}/vendor`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Mg=B("vendorDetails/addVendorDetails",async(t,e)=>{try{const r=await fetch(`${sj}/vendor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),jA=B("vendorDetails/updateVendorDetails",async(t,e)=>{try{const r=await fetch(`${sj}/vendor/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Lg=B("vendorDetails/deleteVendorDetails",async(t,e)=>{try{const r=await fetch(`${sj}/vendor/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Cfe=ve({name:"vendorDetails",initialState:{vendorDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Fa.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fa.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Fa.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor details",console.warn("Failed to fetch vendor details, using mock data.",e.error),e.vendorDetails=Nfe}).addCase(Mg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails.push(r.payload)}).addCase(Mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor details",console.error("Failed to add vendor details:",e.error)}).addCase(jA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails[n]=r.payload)}).addCase(Lg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails=e.vendorDetails.filter(n=>n.ID!==r.payload)}).addCase(Lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor details",console.error("Failed to delete vendor details:",e.error)})}}),Sfe=Cfe.reducer,oj="https://staging-engine.testthelink.online",Afe=[],Io=B("regions/fetchRegions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oj}/region`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Fg=B("regions/addRegion",async(t,e)=>{try{const r=await fetch(`${oj}/region`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wA=B("regions/updateRegion",async(t,e)=>{try{const r=await fetch(`${oj}/region/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Bg=B("regions/deleteRegion",async(t,e)=>{try{const r=await fetch(`${oj}/region/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ife=ve({name:"regions",initialState:{regions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Io.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Io.fulfilled,(e,r)=>{e.isLoading=!1,e.regions=Array.isArray(r.payload)?r.payload:[]}).addCase(Io.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch regions",console.warn("Failed to fetch regions, using mock data.",e.error),e.regions=Afe}).addCase(Fg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions.push(r.payload)}).addCase(Fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add region",console.error("Failed to add region:",e.error)}).addCase(wA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.regions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.regions)||(e.regions=[]),e.regions[n]=r.payload)}).addCase(Bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions=e.regions.filter(n=>n.ID!==r.payload)}).addCase(Bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete region",console.error("Failed to delete region:",e.error)})}}),kfe=Ife.reducer,ij="https://staging-engine.testthelink.online",Tfe=[],ko=B("provinces/fetchProvinces",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ij}/province`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),qg=B("provinces/addProvince",async(t,e)=>{try{const r=await fetch(`${ij}/province`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),NA=B("provinces/updateProvince",async(t,e)=>{try{const r=await fetch(`${ij}/province/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Vg=B("provinces/deleteProvince",async(t,e)=>{try{const r=await fetch(`${ij}/province/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Efe=ve({name:"provinces",initialState:{provinces:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ko.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ko.fulfilled,(e,r)=>{e.isLoading=!1,e.provinces=Array.isArray(r.payload)?r.payload:[]}).addCase(ko.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch provinces",console.warn("Failed to fetch provinces, using mock data.",e.error),e.provinces=Tfe}).addCase(qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces.push(r.payload)}).addCase(qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add province",console.error("Failed to add province:",e.error)}).addCase(NA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.provinces.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.provinces)||(e.provinces=[]),e.provinces[n]=r.payload)}).addCase(Vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces=e.provinces.filter(n=>n.ID!==r.payload)}).addCase(Vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete province",console.error("Failed to delete province:",e.error)})}}),Dfe=Efe.reducer,lj="https://staging-engine.testthelink.online",Pfe=[],To=B("municipalities/fetchMunicipalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lj}/municipality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ug=B("municipalities/addMunicipality",async(t,e)=>{try{const r=await fetch(`${lj}/municipality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),CA=B("municipalities/updateMunicipality",async(t,e)=>{try{const r=await fetch(`${lj}/municipality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zg=B("municipalities/deleteMunicipality",async(t,e)=>{try{const r=await fetch(`${lj}/municipality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ofe=ve({name:"municipalities",initialState:{municipalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(To.pending,e=>{e.isLoading=!0,e.error=null}).addCase(To.fulfilled,(e,r)=>{e.isLoading=!1,e.municipalities=Array.isArray(r.payload)?r.payload:[]}).addCase(To.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch municipalities",console.warn("Failed to fetch municipalities, using mock data.",e.error),e.municipalities=Pfe}).addCase(Ug.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities.push(r.payload)}).addCase(Ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add municipality",console.error("Failed to add municipality:",e.error)}).addCase(CA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.municipalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities[n]=r.payload)}).addCase(zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities=e.municipalities.filter(n=>n.ID!==r.payload)}).addCase(zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete municipality",console.error("Failed to delete municipality:",e.error)})}}),_fe=Ofe.reducer,cj="https://staging-engine.testthelink.online",$fe=[],Eo=B("barangays/fetchBarangays",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${cj}/barangay`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Wg=B("barangays/addBarangay",async(t,e)=>{try{const r=await fetch(`${cj}/barangay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),SA=B("barangays/updateBarangay",async(t,e)=>{try{const r=await fetch(`${cj}/barangay/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Hg=B("barangays/deleteBarangay",async(t,e)=>{try{const r=await fetch(`${cj}/barangay/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Rfe=ve({name:"barangays",initialState:{barangays:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Eo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eo.fulfilled,(e,r)=>{e.isLoading=!1,e.barangays=Array.isArray(r.payload)?r.payload:[]}).addCase(Eo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch barangays",console.warn("Failed to fetch barangays, using mock data.",e.error),e.barangays=$fe}).addCase(Wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays.push(r.payload)}).addCase(Wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add barangay",console.error("Failed to add barangay:",e.error)}).addCase(SA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(SA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.barangays.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.barangays)||(e.barangays=[]),e.barangays[n]=r.payload)}).addCase(Hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays=e.barangays.filter(n=>n.ID!==r.payload)}).addCase(Hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete barangay",console.error("Failed to delete barangay:",e.error)})}}),Mfe=Rfe.reducer,uj="https://staging-engine.testthelink.online",Lfe=[],yc=B("vendorTypes/fetchVendorTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uj}/vendorType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Gg=B("vendorTypes/addVendorType",async(t,e)=>{try{const r=await fetch(`${uj}/vendorType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),AA=B("vendorTypes/updateVendorType",async(t,e)=>{try{const r=await fetch(`${uj}/vendorType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Yg=B("vendorTypes/deleteVendorType",async(t,e)=>{try{const r=await fetch(`${uj}/vendorType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ffe=ve({name:"vendorTypes",initialState:{vendorTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(yc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yc.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(yc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor types",console.warn("Failed to fetch vendor types, using mock data.",e.error),e.vendorTypes=Lfe}).addCase(Gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes.push(r.payload)}).addCase(Gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor type",console.error("Failed to add vendor type:",e.error)}).addCase(AA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes[n]=r.payload)}).addCase(Yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes=e.vendorTypes.filter(n=>n.ID!==r.payload)}).addCase(Yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor type",console.error("Failed to delete vendor type:",e.error)})}}),Bfe=Ffe.reducer,dj="https://staging-engine.testthelink.online",qfe=[],zi=B("industries/fetchIndustries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dj}/industryType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Kg=B("industries/addIndustry",async(t,e)=>{try{const r=await fetch(`${dj}/industryType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),IA=B("industries/updateIndustry",async(t,e)=>{try{const r=await fetch(`${dj}/industryType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Jg=B("industries/deleteIndustry",async(t,e)=>{try{const r=await fetch(`${dj}/industryType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Vfe=ve({name:"industries",initialState:{industries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(zi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zi.fulfilled,(e,r)=>{e.isLoading=!1,e.industries=Array.isArray(r.payload)?r.payload:[]}).addCase(zi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch industries",console.warn("Failed to fetch industries, using mock data.",e.error),e.industries=qfe}).addCase(Kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries.push(r.payload)}).addCase(Kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add industry",console.error("Failed to add industry:",e.error)}).addCase(IA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.industries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.industries)||(e.industries=[]),e.industries[n]=r.payload)}).addCase(Jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries=e.industries.filter(n=>n.ID!==r.payload)}).addCase(Jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete industry",console.error("Failed to delete industry:",e.error)})}}),Ufe=Vfe.reducer,fj="https://staging-engine.testthelink.online",zfe=[],Jn=B("taxCodes/fetchTaxCodes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fj}/taxCode`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Xg=B("taxCodes/addTaxCode",async(t,e)=>{try{const r=await fetch(`${fj}/taxCode`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),kA=B("taxCodes/updateTaxCode",async(t,e)=>{try{const r=await fetch(`${fj}/taxCode/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Qg=B("taxCodes/deleteTaxCode",async(t,e)=>{try{const r=await fetch(`${fj}/taxCode/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Wfe=ve({name:"taxCodes",initialState:{taxCodes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Jn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jn.fulfilled,(e,r)=>{e.isLoading=!1,e.taxCodes=Array.isArray(r.payload)?r.payload:[]}).addCase(Jn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax codes",console.warn("Failed to fetch tax codes, using mock data.",e.error),e.taxCodes=zfe}).addCase(Xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes.push(r.payload)}).addCase(Xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax code",console.error("Failed to add tax code:",e.error)}).addCase(kA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxCodes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes[n]=r.payload)}).addCase(Qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes=e.taxCodes.filter(n=>n.ID!==r.payload)}).addCase(Qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax code",console.error("Failed to delete tax code:",e.error)})}}),Hfe=Wfe.reducer,mj="https://staging-engine.testthelink.online",Gfe=[],Wi=B("paymentTerms/fetchPaymentTerms",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mj}/paymentTerms`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Zg=B("paymentTerms/addPaymentTerm",async(t,e)=>{try{const r=await fetch(`${mj}/paymentTerms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),TA=B("paymentTerms/updatePaymentTerm",async(t,e)=>{try{const r=await fetch(`${mj}/paymentTerms/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ey=B("paymentTerms/deletePaymentTerm",async(t,e)=>{try{const r=await fetch(`${mj}/paymentTerms/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Yfe=ve({name:"paymentTerms",initialState:{paymentTerms:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Wi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wi.fulfilled,(e,r)=>{e.isLoading=!1,e.paymentTerms=Array.isArray(r.payload)?r.payload:[]}).addCase(Wi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch payment terms",console.warn("Failed to fetch payment terms, using mock data.",e.error),e.paymentTerms=Gfe}).addCase(Zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms.push(r.payload)}).addCase(Zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add payment term",console.error("Failed to add payment term:",e.error)}).addCase(TA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.paymentTerms.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms[n]=r.payload)}).addCase(ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms=e.paymentTerms.filter(n=>n.ID!==r.payload)}).addCase(ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete payment term",console.error("Failed to delete payment term:",e.error)})}}),Kfe=Yfe.reducer,hj="https://staging-engine.testthelink.online",Jfe=[],Hi=B("modeOfPayments/fetchModeOfPayments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hj}/paymentMethod`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ty=B("modeOfPayments/addModeOfPayment",async(t,e)=>{try{const r=await fetch(`${hj}/paymentMethod`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),EA=B("modeOfPayments/updateModeOfPayment",async(t,e)=>{try{const r=await fetch(`${hj}/paymentMethod/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ry=B("modeOfPayments/deleteModeOfPayment",async(t,e)=>{try{const r=await fetch(`${hj}/paymentMethod/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Xfe=ve({name:"modeOfPayments",initialState:{modeOfPayments:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Hi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hi.fulfilled,(e,r)=>{e.isLoading=!1,e.modeOfPayments=Array.isArray(r.payload)?r.payload:[]}).addCase(Hi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch mode of payments",console.warn("Failed to fetch mode of payments, using mock data.",e.error),e.modeOfPayments=Jfe}).addCase(ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments.push(r.payload)}).addCase(ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add mode of payment",console.error("Failed to add mode of payment:",e.error)}).addCase(EA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(EA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modeOfPayments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments[n]=r.payload)}).addCase(ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments=e.modeOfPayments.filter(n=>n.ID!==r.payload)}).addCase(ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete mode of payment",console.error("Failed to delete mode of payment:",e.error)})}}),Qfe=Xfe.reducer;function Zfe(){const t=ue(),{vendorDetails:e,isLoading:r}=V(z=>z.vendorDetails),{Add:n,Edit:a,Delete:s}=we(91),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null),{regions:y}=V(z=>z.regions),{provinces:g}=V(z=>z.provinces),{municipalities:p}=V(z=>z.municipalities),{barangays:b}=V(z=>z.barangays),{vendorTypes:v}=V(z=>z.vendorTypes),{industries:j}=V(z=>z.industries),{taxCodes:C}=V(z=>z.taxCodes),{paymentTerms:x}=V(z=>z.paymentTerms),{modeOfPayments:N}=V(z=>z.modeOfPayments);w.useEffect(()=>{t(Fa()),t(Io()),t(ko()),t(To()),t(Eo()),t(yc()),t(zi()),t(Jn()),t(Wi()),t(Hi())},[t]);const S=y.map(z=>({value:z.ID,label:z.Name})),A=g.map(z=>({value:z.ID,label:z.Name})),I=p.map(z=>({value:z.ID,label:z.Name})),E=b.map(z=>({value:z.ID,label:z.Name})),k=v.map(z=>({value:z.ID,label:z.Name})),P=j.map(z=>({value:z.ID,label:z.Name})),R=C.map(z=>({value:z.ID,label:z.Code})),M=x.map(z=>({value:z.ID,label:z.Name})),_=N.map(z=>({value:z.ID,label:z.Name})),L=()=>{u(null),l(!0)},F=z=>{u(z),l(!0)},$=z=>{h(z),f(!0)},O=async()=>{if(m)try{await t(Lg(m.ID)).unwrap(),f(!1),h(null),q.success("Vendor details deleted successfully")}catch(z){console.error("Failed to delete vendor details:",z)}},U=async z=>{try{c?(await t(jA({...z,ID:c.ID})).unwrap(),q.success("Vendor details updated successfully")):(await t(Mg(z)).unwrap(),q.success("Vendor details added successfully")),t(Fa())}catch(ae){console.error("Failed to save vendor details:",ae),q.error("Failed to save vendor details. Please try again.")}finally{l(!1)}},K=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Vendor",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:z=>{const ae=x.find(xe=>xe.ID==z);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:z=>{const ae=N.find(xe=>xe.ID==z);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"DeliveryLeadTime",header:"Time (no. of Days)",sortable:!0,render:z=>z||"0"},{key:"TIN",header:"TIN",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:z=>z?"Yes":"No"},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:z=>{const ae=C.find(xe=>xe.ID==z);return(ae==null?void 0:ae.Code)||"N/A"}},{key:"TypeID",header:"Vendor Type",sortable:!0,render:z=>{const ae=v.find(xe=>xe.ID==z);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:z=>{const ae=j.find(xe=>xe.ID==z);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"ContactPerson",header:"Contact Person",sortable:!0},{key:"PhoneNumber",header:"Phone Number",sortable:!0},{key:"MobileNumber",header:"Mobile Number",sortable:!0},{key:"EmailAddress",header:"Email Address",sortable:!0},{key:"Website",header:"Website",sortable:!0,render:z=>z||"No website"},{key:"StreetAddress",header:"StreetAddress",sortable:!0},{key:"BarangayID",header:"Barangay",sortable:!0,render:z=>{const ae=b.find(xe=>xe.ID==z);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"MunicipalityID",header:"Municipality",sortable:!0,render:z=>{const ae=p.find(xe=>xe.ID==z);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"ProvinceID",header:"Province",sortable:!0,render:z=>{const ae=g.find(xe=>xe.ID==z);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"RegionID",header:"Region",sortable:!0,render:z=>{const ae=y.find(xe=>xe.ID==z);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"ZIPCode",header:"ZIPCode",sortable:!0}],G=[a&&{icon:Ie,title:"Edit",onClick:F,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:$,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Details"}),o.jsx("p",{children:"Manage Vendor Details"})]}),n&&o.jsxs("button",{type:"button",onClick:L,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Details"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:K,data:e,actions:G,loading:r,emptyMessage:"No vendor details found. Click 'Add Vendor Details' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Details":"Add Vendor Details",children:o.jsx(wfe,{initialData:c,onClose:()=>l(!1),onSubmit:U,provinces:g,municipalities:p,barangays:b,regionOptions:S,provinceOptions:A,municipalityOptions:I,barangayOptions:E,vendorTypeOptions:k,industryOptions:P,taxCodeOptions:R,paymentTermsOptions:M,modeOfPaymentOptions:_})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor details "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:O,className:"btn btn-danger",children:"Delete"})]})]})]})}function eme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Name is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const pj="https://staging-engine.testthelink.online",tme=[],ef=B("vendorCustomerTypes/fetchVendorCustomerTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pj}/vendorCustomerType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ny=B("vendorCustomerTypes/addVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${pj}/vendorCustomerType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),DA=B("vendorCustomerTypes/updateVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${pj}/vendorCustomerType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ay=B("vendorCustomerTypes/deleteVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${pj}/vendorCustomerType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rme=ve({name:"vendorCustomerTypes",initialState:{vendorCustomerTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ef.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ef.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorCustomerTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(ef.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor customer types",console.warn("Failed to fetch vendor customer types, using mock data.",e.error),e.vendorCustomerTypes=tme}).addCase(ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes.push(r.payload)}).addCase(ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor customer type",console.error("Failed to add vendor customer type:",e.error)}).addCase(DA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(DA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorCustomerTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes[n]=r.payload)}).addCase(ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes=e.vendorCustomerTypes.filter(n=>n.ID!==r.payload)}).addCase(ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor customer type",console.error("Failed to delete vendor customer type:",e.error)})}}),nme=rme.reducer;function ame(){const t=ue(),{vendorCustomerTypes:e,isLoading:r}=V(x=>x.vendorCustomerTypes),{Add:n,Edit:a,Delete:s}=we(91),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(ef())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(ay(m.ID)).unwrap(),f(!1),h(null),q.success("Vendor customer type deleted successfully")}catch(x){console.error("Failed to delete vendor customer type:",x),q.error("Failed to delete vendor customer type. Please try again.")}},v=async x=>{try{c?(await t(DA({...x,ID:c.ID})).unwrap(),q.success("Vendor customer type updated successfully")):(await t(ny(x)).unwrap(),q.success("Vendor customer type saved successfully")),t(ef())}catch(N){console.error("Failed to save vendor customer type:",N),q.error("Failed to save vendor customer type. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Customer Types"}),o.jsx("p",{children:"Manage Vendor Customer Types"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Customer Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No vendor customer types found. Click 'Add Vendor Customer Type' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Customer Type":"Add Vendor Customer Type",children:o.jsx(eme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor customer type "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function sme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Name is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function ome(){const t=ue(),{vendorTypes:e,isLoading:r}=V(x=>x.vendorTypes),{Add:n,Edit:a,Delete:s}=we(92),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(yc())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(Yg(m.ID)).unwrap(),f(!1),h(null),q.success("Vendor type deleted successfully")}catch(x){console.error("Failed to delete vendor type:",x),q.error("Failed to delete vendor type. Please try again.")}},v=async x=>{try{c?(await t(AA({...x,ID:c.ID})).unwrap(),q.success("Vendor type updated successfully")):(await t(Gg(x)).unwrap(),q.success("Vendor type saved successfully")),t(yc())}catch(N){console.error("Failed to save vendor type:",N),q.error("Failed to save vendor type. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Types"}),o.jsx("p",{children:"Manage Vendor Types"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No vendor types found. Click 'Add Vendor Type' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Type":"Add Vendor Type",children:o.jsx(sme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor type "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function ime({initialData:t,onSubmit:e,onClose:r}){const n=le({Description:D().required("Name is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const gj="https://staging-engine.testthelink.online",lme=[],Gi=B("modules/fetchModules",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gj}/module`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),sy=B("modules/addModule",async(t,e)=>{try{const r=await fetch(`${gj}/module`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),PA=B("modules/updateModule",async(t,e)=>{try{const r=await fetch(`${gj}/module/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),oy=B("modules/deleteModule",async(t,e)=>{try{const r=await fetch(`${gj}/module/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),cme=ve({name:"modules",initialState:{modules:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Gi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gi.fulfilled,(e,r)=>{e.isLoading=!1,e.modules=Array.isArray(r.payload)?r.payload:[]}).addCase(Gi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch modules",console.warn("Failed to fetch modules, using mock data.",e.error),e.modules=lme}).addCase(sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules.push(r.payload)}).addCase(sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add module",console.error("Failed to add module:",e.error)}).addCase(PA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(PA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modules.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modules)||(e.modules=[]),e.modules[n]=r.payload)}).addCase(oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules=e.modules.filter(n=>n.ID!==r.payload)}).addCase(oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete module",console.error("Failed to delete module:",e.error)})}}),ume=cme.reducer;function dme(){const t=ue(),{modules:e,isLoading:r}=V(v=>v.modules),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Gi())},[t]);const f=()=>{i(null),a(!0)},m=v=>{i(v),console.log("Edit module:",v),a(!0)},h=v=>{d(v),c(!0)},y=async()=>{if(u)try{await t(oy(u.ID)).unwrap(),c(!1),d(null),q.success("Module deleted successfully")}catch(v){console.error("Failed to delete module:",v),q.error("Failed to delete module. Please try again.")}},g=async v=>{try{s?(await t(PA({...v,ID:s.ID})).unwrap(),t(Gi()),q.success("Module updated successfully")):(await t(sy(v)).unwrap(),t(Gi()),q.success("Module saved successfully"))}catch(j){console.error("Failed to save module:",j),q.error("Failed to save module. Please try again.")}finally{a(!1)}},p=[{key:"Description",header:"Name",sortable:!0}],b=[{icon:Ie,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Modules"}),o.jsx("p",{children:"Manage Modules"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Module"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:p,data:e,actions:b,loading:r,emptyMessage:"No modules found. Click 'Add Module' to create one."})}),o.jsx(oe,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Module":"Add Module",children:o.jsx(ime,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(oe,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the module "',u==null?void 0:u.Description,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}const yj="https://staging-engine.testthelink.online",fme=[],Yi=B("positions/fetchPositions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yj}/position`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),iy=B("positions/addPosition",async(t,e)=>{try{const r=await fetch(`${yj}/position`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),OA=B("positions/updatePosition",async(t,e)=>{try{const r=await fetch(`${yj}/position/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ly=B("positions/deletePosition",async(t,e)=>{try{const r=await fetch(`${yj}/position/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),mme=ve({name:"positions",initialState:{positions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Yi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yi.fulfilled,(e,r)=>{e.isLoading=!1,e.positions=Array.isArray(r.payload)?r.payload:[]}).addCase(Yi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch positions",console.warn("Failed to fetch positions, using mock data.",e.error),e.positions=fme}).addCase(iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions.push(r.payload)}).addCase(iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add position",console.error("Failed to add position:",e.error)}).addCase(OA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(OA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.positions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.positions)||(e.positions=[]),e.positions[n]=r.payload)}).addCase(ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions=e.positions.filter(n=>n.ID!==r.payload)}).addCase(ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete position",console.error("Failed to delete position:",e.error)})}}),hme=mme.reducer,bj="https://staging-engine.testthelink.online",pme=[],bc=B("employmentStatuses/fetchEmploymentStatuses",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bj}/employmentStatus`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),cy=B("employmentStatuses/addEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${bj}/employmentStatus`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),_A=B("employmentStatuses/updateEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${bj}/employmentStatus/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),uy=B("employmentStatuses/deleteEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${bj}/employmentStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),gme=ve({name:"employmentStatuses",initialState:{employmentStatuses:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(bc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bc.fulfilled,(e,r)=>{e.isLoading=!1,e.employmentStatuses=Array.isArray(r.payload)?r.payload:[]}).addCase(bc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch employment statuses",console.warn("Failed to fetch employment statuses, using mock data.",e.error),e.employmentStatuses=pme}).addCase(cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses.push(r.payload)}).addCase(cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add employment status",console.error("Failed to add employment status:",e.error)}).addCase(_A.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employmentStatuses.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses[n]=r.payload)}).addCase(uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses=e.employmentStatuses.filter(n=>n.ID!==r.payload)}).addCase(uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete employment status",console.error("Failed to delete employment status:",e.error)})}}),yme=gme.reducer,xj="https://staging-engine.testthelink.online",bme=[],Ki=B("nationalities/fetchNationalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xj}/nationality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),dy=B("nationalities/addNationality",async(t,e)=>{try{const r=await fetch(`${xj}/nationality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),$A=B("nationalities/updateNationality",async(t,e)=>{try{const r=await fetch(`${xj}/nationality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),fy=B("nationalities/deleteNationality",async(t,e)=>{try{const r=await fetch(`${xj}/nationality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),xme=ve({name:"nationalities",initialState:{nationalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ki.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ki.fulfilled,(e,r)=>{e.isLoading=!1,e.nationalities=Array.isArray(r.payload)?r.payload:[]}).addCase(Ki.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch nationalities",console.warn("Failed to fetch nationalities, using mock data.",e.error),e.nationalities=bme}).addCase(dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities.push(r.payload)}).addCase(dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add nationality",console.error("Failed to add nationality:",e.error)}).addCase($A.pending,e=>{e.isLoading=!0,e.error=null}).addCase($A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.nationalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities[n]=r.payload)}).addCase(fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities=e.nationalities.filter(n=>n.ID!==r.payload)}).addCase(fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete nationality",console.error("Failed to delete nationality:",e.error)})}}),vme=xme.reducer,jme=le().shape({FirstName:D().required("First name is required").max(100,"First name must be at most 100 characters"),LastName:D().required("Last name is required").max(100,"Last name must be at most 100 characters"),MiddleName:D().max(100,"Middle name must be at most 100 characters"),Birthday:Le().required("Birth date is required").max(new Date,"Birth date cannot be in the future"),Gender:D().required("Gender is required"),StreetAddress:D().required("Address is required").max(200,"Address must be at most 200 characters"),MobileNumber:D().required("Contact number is required"),EmailAddress:D().email("Invalid email address").required("Email is required"),IDNumber:Y(),DepartmentID:Y().required("Department is required"),PositionID:D().required("Position is required"),NationalityID:D().required("Nationality is required"),EmploymentStatusID:D().required("Employment status is required"),DateHired:Le().required("Date hired is required"),TIN:D().matches(/^\d{14}$/,"TIN must be exactly 14 digits"),GSIS:D(),Philhealth:D(),Pagibig:D(),Active:D().required("Status is required"),ZIPCode:D().max(6,"ZIP code must be at most 6 characters"),Region:D().required("Region is required"),Province:D().required("Province is required"),Municipality:D().required("Municipality is required"),Barangay:D().required("Barangay is required")});function wme({initialData:t,onClose:e}){const r=ue();w.useEffect(()=>{r(or()),r(Yi()),r(bc()),r(Io()),r(ko()),r(To()),r(Eo()),r(Ki())},[r]);const{regions:n}=V(E=>E.regions),{provinces:a}=V(E=>E.provinces),{municipalities:s}=V(E=>E.municipalities),{barangays:i}=V(E=>E.barangays),{nationalities:l}=V(E=>E.nationalities),c=l==null?void 0:l.map(E=>({value:E.ID,label:E.Name})),u=n.map(E=>({value:E.ID.toString(),label:E.Name})),d=a.map(E=>({value:E.ID.toString(),label:E.Name})),f=s.map(E=>({value:E.ID.toString(),label:E.Name})),m=i.map(E=>({value:E.ID.toString(),label:E.Name})),{departments:h,isLoading:y}=V(E=>E.departments),g=h.map(E=>({value:E.ID,label:E.Name})),{positions:p,isLoading:b}=V(E=>E.positions),v=p.map(E=>({value:E.ID,label:E.Name})),{employmentStatuses:j,isLoading:C}=V(E=>E.employmentStatuses),x=j.map(E=>({value:E.ID,label:E.Name})),[N,S]=w.useState(!1);console.log(t);const A=t?{...t}:{FirstName:"",LastName:"",MiddleName:"",Birthday:"",Gender:"",StreetAddress:"",MobileNumber:"",EmailAddress:"",DepartmentID:"",PositionID:"",IDNumber:"",NationalityID:"",Nationality:"",EmploymentStatusID:"",DateHired:new Date().toISOString().split("T")[0],TIN:"",GSIS:"",Philhealth:"",Pagibig:"",Active:1,ZIPCode:"",Region:"",Province:"",Municipality:"",Barangay:""},I=E=>{var M;S(!0);const k=((M=h.find(_=>_.value===Number(E.DepartmentID)))==null?void 0:M.label)||"",P={...E,DepartmentID:Number(E.DepartmentID),departmentName:k},R=t?jg({...P,id:t.id,employeeCode:t.employeeCode}):vg(P);r(R).unwrap().then(()=>{t?q.success("Employee updated successfully."):q.success("Employee added successfully."),r(un())}).catch(_=>{console.error("Error submitting employee:",_),q.error("Failed to submit employee. Please try again.")}).finally(()=>{e(),S(!1)})};return o.jsx(Re,{initialValues:A,validationSchema:jme,onSubmit:I,enableReinitialize:!0,children:({values:E,errors:k,touched:P,handleChange:R,handleBlur:M,isValid:_,setFieldValue:L,submitCount:F})=>(w.useEffect(()=>{const $=i.find(O=>O.ID.toString()===E.Barangay);if($){const{MunicipalityCode:O,ProvinceCode:U,RegionCode:K}=$;O&&L("Municipality",O),U&&L("Province",U),K&&L("Region",K)}},[E.Barangay]),w.useEffect(()=>{const $=s.find(O=>O.ID.toString()===E.Municipality);if($){const{ProvinceCode:O,RegionCode:U}=$;O&&L("Province",O),U&&L("Region",U)}},[E.Municipality]),w.useEffect(()=>{const $=a.find(O=>O.ID.toString()===E.Province);if($){const{RegionCode:O}=$;O&&L("Region",O)}},[E.Province]),o.jsxs(qe,{className:"space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"I. Personal Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsx(T,{label:"First name",name:"FirstName",type:"text",required:!0,value:E.FirstName,onChange:R,onBlur:M,error:k.FirstName,touched:P.FirstName}),o.jsx(T,{label:"Middle name",name:"MiddleName",type:"text",value:E.MiddleName,onChange:R,onBlur:M,error:k.MiddleName,touched:P.MiddleName}),o.jsx(T,{label:"Last name",name:"LastName",type:"text",required:!0,value:E.LastName,onChange:R,onBlur:M,error:k.LastName,touched:P.LastName}),o.jsx(T,{label:"Gender",name:"Gender",type:"select",required:!0,value:E.Gender,onChange:R,onBlur:M,error:k.Gender,touched:P.Gender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}),o.jsx(T,{label:"Birthdate",name:"Birthday",type:"date",required:!0,value:E.Birthday,onChange:R,onBlur:M,error:k.Birthday,touched:P.Birthday})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"II. Address & Contact Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Address Information"}),o.jsx(T,{label:"Region",name:"Region",type:"select",required:!0,options:u,value:E.Region||"",onChange:R}),o.jsx(T,{label:"Province",name:"Province",type:"select",required:!0,options:d,value:E.Province||"",onChange:R}),o.jsx(T,{label:"Municipality",name:"Municipality",type:"select",required:!0,options:f,value:E.Municipality||"",onChange:R}),o.jsx(T,{label:"Barangay",name:"Barangay",type:"select",required:!0,options:m,value:E.Barangay||"",onChange:R}),o.jsx(T,{label:"Street Address",name:"StreetAddress",type:"text",required:!0,value:E.StreetAddress||"",onChange:R,onBlur:M,error:k.StreetAddress,touched:P.StreetAddress})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Contact Information"}),o.jsx(yt,{label:"Nationality",name:"NationalityID",type:"select",options:c,required:!0,placeholder:"Select Nationality",onSelect:$=>{const O=c.find(U=>U.value===$);L("NationalityID",$||""),L("Nationality",(O==null?void 0:O.label)||"")},className:"w-full",selectedValue:E.NationalityID,error:k.Nationality,touched:P.Nationality}),o.jsx(T,{label:"Zip Code",name:"ZIPCode",type:"text",value:E.ZIPCode||"",onChange:R,onBlur:M,error:k.ZIPCode,touched:P.ZIPCode}),o.jsx(T,{label:"Mobile Number",name:"MobileNumber",type:"text",required:!0,value:E.MobileNumber||"",onChange:R,onBlur:M,error:k.MobileNumber,touched:P.MobileNumber}),o.jsx(T,{label:"Email",name:"EmailAddress",type:"email",required:!0,value:E.EmailAddress||"",onChange:R,onBlur:M,error:k.EmailAddress,touched:P.EmailAddress}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(T,{label:"Emergency Contact",name:"EmergencyContact",type:"text",value:E.EmergencyContact||"",onChange:R,onBlur:M,error:k.EmergencyContact,touched:P.EmergencyContact}),o.jsx(T,{label:"Emergency Number",name:"EmergencyNumber",type:"text",value:E.EmergencyNumber||"",onChange:R,onBlur:M,error:k.EmergencyNumber,touched:P.EmergencyNumber})]})]})]})]}),o.jsxs("div",{className:"pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"III. Employment and IDs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(T,{label:"ID Number",name:"IDNumber",type:"text",value:E.IDNumber||"",onChange:R}),o.jsx(T,{label:"TIN",name:"TIN",type:"text",value:E.TIN||"",onChange:R,onBlur:M,error:k.TIN,touched:P.TIN})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(T,{label:"PAG-IBIG",name:"Pagibig",type:"text",value:E.Pagibig||"",onChange:R,onBlur:M,error:k.Pagibig,touched:P.Pagibig}),o.jsx(T,{label:"GSIS",name:"GSIS",type:"text",value:E.GSIS||"",onChange:R,onBlur:M,error:k.GSIS,touched:P.GSIS})]}),o.jsx(T,{label:"Philhealth",name:"Philhealth",type:"text",value:E.Philhealth||"",onChange:R,onBlur:M,error:k.Philhealth,touched:P.Philhealth}),o.jsx(T,{label:"Department",name:"DepartmentID",type:"select",required:!0,value:E.DepartmentID||"",onChange:R,onBlur:M,error:k.DepartmentID,touched:P.DepartmentID,options:g,disabled:y})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(T,{label:"Date Hired",name:"DateHired",type:"date",required:!0,value:E.DateHired||"",onChange:R,onBlur:M,error:k.DateHired,touched:P.DateHired}),o.jsx(T,{label:"Employment Status",name:"EmploymentStatusID",type:"select",required:!0,value:E.EmploymentStatusID||"",onChange:R,onBlur:M,error:k.EmploymentStatusID,touched:P.EmploymentStatusID,options:x,disabled:C})]}),o.jsx(T,{label:"Employment Status Date",name:"EmploymentStatusDate",type:"date",value:E.EmploymentStatusDate||"",onChange:R,readOnly:!0}),o.jsx(T,{label:"Position",name:"PositionID",type:"select",required:!0,value:E.PositionID||"",onChange:R,onBlur:M,error:k.PositionID,touched:P.PositionID,options:v,disabled:b}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",className:"btn btn-outline",children:"Choose"})})}),o.jsx("div",{className:"mt-2",children:o.jsxs("p",{className:"text-sm text-gray-500",children:[[E.FirstName,E.MiddleName,E.LastName].filter(Boolean).join(" "),E.TIN&&` - ${E.TIN}`,E.DepartmentID&&` - ${E.DepartmentID}`]})})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:N,className:"btn btn-primary",children:N?"Saving...":t?"Update":"Save"})]}),F>0&&Object.keys(k).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(k).map(([$,O])=>o.jsx("li",{children:O},$))})]})]}))})}function Nme(){const t=ue(),{employees:e,isLoading:r}=V(x=>x.employees),{Add:n,Edit:a,Delete:s}=we(43),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(un())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{try{m&&(t(wg(m.ID)),f(!1),h(null),q.success("Employee deleted successfully"))}catch(x){console.error("Failed to delete employee:",x),q.error("Failed to delete employee. Please try again.")}},v=()=>{l(!1),u(null)},j=[{key:"IDNumber",header:"ID Number",sortable:!0,className:"font-medium text-neutral-900"},{key:"FirstName",header:"First Name",sortable:!0},{key:"MiddleName",header:"Middle Name",sortable:!0},{key:"LastName",header:"Last Name",sortable:!0},{key:"Department",header:"Department",sortable:!0,render:x=>(x==null?void 0:x.Name)||""},{key:"Position",header:"Position",sortable:!0,render:x=>(x==null?void 0:x.Name)||""},{key:"EmploymentStatus",header:"Employment Status",sortable:!0,render:x=>(x==null?void 0:x.Name)||""}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employees"}),o.jsx("p",{children:"Manage employee information and records"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employee"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r})}),o.jsx(oe,{isOpen:i,onClose:v,title:c?"Edit Employee":"Add Employee",size:"lg",children:o.jsx(wme,{initialData:c,onClose:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the employee"," ",o.jsxs("span",{className:"font-medium",children:[m==null?void 0:m.FirstName," ",m==null?void 0:m.LastName]}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function Cme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Employment Status is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Employment Status",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Sme(){const t=ue(),{employmentStatuses:e,isLoading:r}=V(x=>x.employmentStatuses),{Add:n,Edit:a,Delete:s}=we(93),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(bc())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(uy(m.ID)).unwrap(),f(!1),h(null),q.success("Employment status deleted successfully")}catch(x){console.error("Failed to delete employment status:",x),q.error("Failed to delete employment status. Please try again.")}},v=async x=>{try{c?(await t(_A({...x,ID:c.ID})).unwrap(),q.success("Employment status updated successfully")):(await t(cy(x)).unwrap(),q.success("Employment status saved successfully")),t(bc())}catch(N){console.error("Failed to save employment status:",N),q.error("Failed to save employment status. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Employment Status",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employment Status"}),o.jsx("p",{children:"Manage Employment Statuses"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employment Status"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No employment statuses found. Click 'Add Employment Status' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Employment Status":"Add Employment Status",children:o.jsx(Cme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the employment status "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ame({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Position is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Position Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Ime(){const t=ue(),{positions:e,isLoading:r}=V(x=>x.positions),{Add:n,Edit:a,Delete:s}=we(36),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Yi())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(ly(m.ID)).unwrap(),f(!1),h(null),q.success("Position deleted successfully")}catch(x){console.error("Failed to delete position:",x),q.error("Failed to delete position. Please try again.")}},v=async x=>{try{c?(await t(OA({...x,ID:c.ID})).unwrap(),q.success("Position updated successfully")):(await t(iy(x)).unwrap(),q.success("Position saved successfully")),t(Yi())}catch(N){console.error("Failed to save position:",N),q.error("Failed to save position. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Position",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Position"}),o.jsx("p",{children:"Manage Positions"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Position"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No positions found. Click 'Add Position' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Position":"Add Position",children:o.jsx(Ame,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the position "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function kme({initialData:t,onSubmit:e,onClose:r}){const n=le({Description:D().required("User Role is required")}),a=at({initialValues:t||{Description:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Role",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Tme(){const t=ue(),{userroles:e,isLoading:r}=V(x=>x.userroles),{Add:n,Edit:a,Delete:s}=we(84),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Ao())},[t]);const y=()=>{u(null),l(!0)},g=x=>{if(x.Description=="Administrator"){q.error("The 'Administrator' role cannot be edited.");return}u(x),l(!0)},p=x=>{if(x.Description=="Administrator"){q.error("The 'Administrator' role cannot be deleted.");return}h(x),f(!0)},b=async()=>{if(m)try{await t(Cg(m.ID)).unwrap(),f(!1),h(null),q.success("User role deleted successfully")}catch(x){console.error("Failed to delete user role:",x),q.error("Failed to delete user role. Please try again.")}},v=async x=>{try{c?(await t(vA({...x,ID:c.ID})).unwrap(),t(Ao()),q.success("User role updated successfully")):(await t(Ng(x)).unwrap(),t(Ao()),q.success("User role saved successfully"))}catch(N){console.error("Failed to save user role:",N),q.error("Failed to save user role. Please try again.")}finally{l(!1)}},j=[{key:"Description",header:"User Role",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"User Roles"}),o.jsx("p",{children:"Manage User Roles"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User Role"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No user roles found. Click 'Add User Role' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit User Role":"Add User Role",children:o.jsx(kme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the user role "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function Eme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Nationality is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Nationality Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Dme(){const t=ue(),{nationalities:e,isLoading:r}=V(x=>x.nationalities),{Add:n,Edit:a,Delete:s}=we(94),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Ki())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(fy(m.ID)).unwrap(),f(!1),h(null),q.success("Nationality deleted successfully")}catch(x){console.error("Failed to delete nationality:",x),q.error("Failed to delete nationality. Please try again.")}},v=async x=>{try{c?(await t($A({...x,ID:c.ID})).unwrap(),q.success("Nationality updated successfully")):(await t(dy(x)).unwrap(),q.success("Nationality saved successfully")),t(Ki())}catch(N){console.error("Failed to save nationality:",N),q.error("Failed to save nationality. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Nationality",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Nationalities"}),o.jsx("p",{children:"Manage Nationalities"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Nationality"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No nationalities found. Click 'Add Nationality' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Nationality":"Add Nationality",children:o.jsx(Eme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the nationality "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const tt={required:"This field is required",positiveNumber:"Amount must be greater than 0",futureDate:"Date cannot be in the future"};le().shape({date:Le().required(tt.required).max(new Date,tt.futureDate),reference:D().max(50,"Reference number too long"),particulars:D().required(tt.required).max(500,"Particulars too long"),debitEntries:Yt().of(le().shape({accountCode:D().required("Account code is required"),amount:Y().required("Amount is required").moreThan(0,tt.positiveNumber)})).min(1,"At least one debit entry is required"),creditEntries:Yt().of(le().shape({accountCode:D().required("Account code is required"),amount:Y().required("Amount is required").moreThan(0,tt.positiveNumber)})).min(1,"At least one credit entry is required")}).test("balancedEntries","Total debits must equal total credits",function(t){if(!t.debitEntries||!t.creditEntries)return!0;const e=t.debitEntries.reduce((n,a)=>n+(Number(a.amount)||0),0),r=t.creditEntries.reduce((n,a)=>n+(Number(a.amount)||0),0);return Math.abs(e-r)<.01});const d$=le().shape({date:Le().required(tt.required).max(new Date,tt.futureDate),period:D().required(tt.required),stallNumber:D().required(tt.required).matches(/^[A-Z]-\d{3}$/,"Invalid stall number format (e.g., A-101)"),stallType:D().required(tt.required),stallOwner:D().required(tt.required).max(100,"Name too long"),amount:Y().required(tt.required).moreThan(0,tt.positiveNumber)});le().shape({certificateNo:D().required("Certificate number is required").matches(/^[A-Z0-9-]+$/,"Certificate number can only contain uppercase letters, numbers, and hyphens"),date:Le().required("Date is required").max(new Date,"Date cannot be in the future"),placeOfIssue:D().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters").max(100,"Place of issue must not exceed 100 characters"),name:D().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),address:D().required("Address is required").min(5,"Address must be at least 5 characters").max(200,"Address must not exceed 200 characters"),tin:D().matches(/^$|^\d{9}(\d{3})?$/,"Invalid TIN format (9 or 12 digits)").nullable(),civilStatus:D().required("Civil status is required").oneOf(["single","married","widowed","separated","divorced"],"Invalid civil status"),nationality:D().required("Nationality is required").min(2,"Nationality must be at least 2 characters").max(50,"Nationality must not exceed 50 characters"),occupation:D().required("Occupation/Business is required").min(2,"Occupation/Business must be at least 2 characters").max(100,"Occupation/Business must not exceed 100 characters"),placeOfBirth:D().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters").max(100,"Place of birth must not exceed 100 characters"),dateOfBirth:Le().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future"),gender:D().required("Gender is required").oneOf(["male","female"],"Invalid gender"),height:Y().min(0,"Height cannot be negative").max(300,"Height seems too large").nullable(),weight:Y().min(0,"Weight cannot be negative").max(1e3,"Weight seems too large").nullable(),contactNumber:D().matches(/^$|^[0-9+\s-()]+$/,"Invalid contact number format").max(20,"Contact number must not exceed 20 characters").nullable(),businessGrossReceipts:Y().min(0,"Amount cannot be negative").nullable(),occupationGrossReceipts:Y().min(0,"Amount cannot be negative").nullable(),realPropertyIncome:Y().min(0,"Amount cannot be negative").nullable(),purpose:D().required("Purpose is required").min(5,"Purpose must be at least 5 characters").max(500,"Purpose must not exceed 500 characters"),amount:Y().required("Amount is required").min(0,"Amount must be greater than or equal to 0").max(1e6,"Amount must not exceed 1,000,000"),interest:Y().min(0,"Interest cannot be negative").nullable()});le().shape({date:Le().required(tt.required).max(new Date,tt.futureDate),tdNumber:D().required(tt.required).matches(/^TD-\d{3}-\d{4}$/,"Invalid TD number format (e.g., TD-123-2024)"),taxpayerName:D().required(tt.required).max(100,"Name too long"),location:D().required(tt.required).max(200,"Location too long"),basicTax:Y().required(tt.required).moreThan(0,tt.positiveNumber),sef:Y().required(tt.required).moreThan(0,tt.positiveNumber),penalty:Y().min(0,"Amount cannot be negative")});const Pme=le().shape({Name:D().required(tt.required).max(100,"Name too long"),MunicipalityCode:D().required(tt.required),ProvinceCode:D().required(tt.required),RegionCode:D().required(tt.required)}),Ome=le().shape({Name:D().required(tt.required).max(100,"Name too long"),ProvinceCode:D().required(tt.required),RegionCode:D().required(tt.required)}),_me=le().shape({Name:D().required(tt.required).max(100,"Name too long"),RegionCode:D().required(tt.required)}),f$=le().shape({Name:D().required(tt.required).max(100,"Name too long")});le().shape({id:D().required("ID is required"),status:D().required("Status is required").oneOf(["posted","rejected","approved"],"Invalid status"),invoiceDate:Le().required("Invoice date is required").max(new Date,"Invoice date cannot be in the future"),payorName:D().required("Payor name is required").min(2,"Payor name must be at least 2 characters").max(100,"Payor name must not exceed 100 characters"),date:Le().required("Date is required").max(new Date,"Date cannot be in the future"),agency:D().required("Agency is required").min(2,"Agency must be at least 2 characters").max(100,"Agency must not exceed 100 characters"),fund:D().required("Fund is required").oneOf(["General funds","Other fund option 1","Other fund option 2"],"Invalid fund option"),taxpayerType:D().required("Taxpayer type is required").oneOf(["Individual","Corporation"],"Invalid taxpayer type")});const ip={region:71,province:67,municipality:61,barangay:19};function $me(){const[t,e]=w.useState("region"),[r,n]=w.useState(!1),[a,s]=w.useState(null),[i,l]=w.useState(!1),[c,u]=w.useState(null),d={region:"Regions",province:"Provinces",municipality:"Municipalities",barangay:"Barangays"},f=ue(),{regions:m}=V(O=>O.regions),{provinces:h}=V(O=>O.provinces),{municipalities:y}=V(O=>O.municipalities),{barangays:g}=V(O=>O.barangays);w.useEffect(()=>{f(Io()),f(ko()),f(To()),f(Eo())},[f]);const p=()=>{switch(t){case"region":return f$;case"province":return _me;case"municipality":return Ome;case"barangay":return Pme;default:return f$}},b=we(ip.region),v=we(ip.province),j=we(ip.municipality),C=we(ip.barangay),x=()=>{switch(t){case"region":return b;case"province":return v;case"municipality":return j;case"barangay":return C;default:return{Add:!1,Edit:!1,Delete:!1}}},N=()=>{switch(t){case"region":return[{key:"Name",header:"Region",sortable:!0}];case"province":return[{key:"RegionName",header:"Region",sortable:!0},{key:"Name",header:"Province",sortable:!0}];case"municipality":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"Name",header:"Municipality",sortable:!0}];case"barangay":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"MunicipalityName",header:"Municipality",sortable:!0},{key:"Name",header:"Barangay",sortable:!0}];default:return[]}},S=()=>{switch(t){case"region":return m;case"province":return h.map(O=>({...O,RegionName:F(O.RegionCode,m)}));case"municipality":return y.map(O=>({...O,RegionName:F(O.RegionCode,m),ProvinceName:F(O.ProvinceCode,h)}));case"barangay":return g.map(O=>({...O,RegionName:F(O.RegionCode,m),ProvinceName:F(O.ProvinceCode,h),MunicipalityName:F(O.MunicipalityCode,y)}));default:return[]}},A=()=>{switch(t){case"region":return Fg;case"province":return qg;case"municipality":return Ug;case"barangay":return Wg;default:return null}},I=()=>{switch(t){case"region":return wA;case"province":return NA;case"municipality":return CA;case"barangay":return SA;default:return null}},E=()=>{switch(t){case"region":return Bg;case"province":return Vg;case"municipality":return zg;case"barangay":return Hg;default:return null}},k=[x().Edit&&{icon:Ie,title:"Edit",onClick:O=>R(O),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},x().Delete&&{icon:Fe,title:"Delete",onClick:O=>M(O),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],P=()=>{s(null),n(!0)},R=O=>{s(O),n(!0)},M=O=>{u(O),l(!0)},_=async()=>{try{c&&(await f(E()(c.ID)).unwrap(),l(!1),u(null),q.success("Location deleted successfully"))}catch(O){console.error("Failed to delete location:",O),q.error("Failed to delete location. Please try again.")}};w.useEffect(()=>{r&&L.resetForm({values:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""}})},[r,a]);const L=at({initialValues:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""},enableReinitialize:!0,validationSchema:p(),onSubmit:async(O,{setSubmitting:U})=>{const K=a?I():A(),G=a?{...a,...O}:O;try{await f(K(G)).unwrap(),q.success("Location saved successfully")}catch(z){console.error("Failed to save location:",z),q.error("Failed to save location. Please try again.")}finally{n(!1),U(!1)}}}),F=(O,U)=>{const K=U.find(G=>G.ID.toString()===O.toString());return K?K.Name:""},$=()=>{const O={formik:L,onChange:L.handleChange,onBlur:L.handleBlur,required:!0};switch(console.log("Active Tab:",t),t){case"region":return o.jsx(T,{label:"Region",name:"Name",type:"text",placeholder:"Enter region name",value:L.values.Name,error:L.errors.Name,touched:L.touched.Name,...O});case"province":return o.jsxs(o.Fragment,{children:[o.jsx(T,{label:"Province",name:"Name",type:"text",placeholder:"Enter province name",value:L.values.Name,error:L.errors.Name,touched:L.touched.Name,...O}),o.jsx(T,{label:"Region",name:"RegionCode",type:"select",options:m.map(U=>({value:U.ID,label:U.Name})),value:L.values.RegionCode,error:L.errors.RegionCode,touched:L.touched.RegionCode,...O})]});case"municipality":return o.jsxs(o.Fragment,{children:[o.jsx(T,{label:"Municipality",name:"Name",type:"text",value:L.values.Name,error:L.errors.Name,touched:L.touched.Name,placeholder:"Enter municipality name",...O}),o.jsx(T,{label:"Province",name:"ProvinceCode",type:"select",options:h.map(U=>({value:U.ID,label:U.Name})),value:L.values.ProvinceCode,error:L.errors.ProvinceCode,touched:L.touched.ProvinceCode,onChange:U=>{const K=U.target.value,G=h.find(z=>z.ID.toString()===K.toString());L.setFieldValue("ProvinceCode",K),G&&L.setFieldValue("RegionCode",G.RegionCode)},onBlur:L.handleBlur,required:!0}),o.jsx(T,{label:"Region",name:"RegionCode",type:"text",value:F(L.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});case"barangay":return o.jsxs(o.Fragment,{children:[o.jsx(T,{label:"Barangay",name:"Name",type:"text",value:L.values.Name,error:L.errors.Name,touched:L.touched.Name,placeholder:"Enter barangay name",...O}),o.jsx(T,{label:"Municipality",name:"MunicipalityCode",type:"select",options:y.map(U=>({value:U.ID,label:U.Name})),value:L.values.MunicipalityCode,error:L.errors.MunicipalityCode,touched:L.touched.MunicipalityCode,onChange:U=>{const K=U.target.value,G=y.find(z=>z.ID.toString()===K.toString());L.setFieldValue("MunicipalityCode",K),G&&(L.setFieldValue("ProvinceCode",G.ProvinceCode),L.setFieldValue("RegionCode",G.RegionCode))},onBlur:L.handleBlur,required:!0}),o.jsx(T,{label:"Province",name:"ProvinceCode",type:"text",value:F(L.values.ProvinceCode,h),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"}),o.jsx(T,{label:"Region",name:"RegionCode",type:"text",value:F(L.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});default:return null}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Locations"}),o.jsx("p",{children:"Manage regions, provinces, municipalities, and barangays"})]}),x().Add&&o.jsxs("button",{type:"button",onClick:P,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add ",t.charAt(0).toUpperCase()+t.slice(1)]})]})}),o.jsx("div",{className:"flex mb-6 border-b border-neutral-200",children:o.jsx("nav",{className:"-mb-px flex flex-wrap gap-x-10 gap-y-0",children:["region","province","municipality","barangay"].map(O=>o.jsx("button",{onClick:()=>e(O),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===O?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:d[O]},O))})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:N(),data:S(),actions:k,pagination:!0})}),o.jsx(oe,{isOpen:r,onClose:()=>n(!1),title:a?`Edit ${t}`:`New ${t}`,children:o.jsxs("form",{onSubmit:L.handleSubmit,className:"sm:p-4 space-y-4",children:[$(),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:L.isSubmitting,children:L.isSubmitting?"Saving...":a?"Update":"Save"})]})]})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:"Confirm Delete",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete this ",t,"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:_,className:"btn btn-danger",children:"Delete"})]})]})})]})}const vj="https://staging-engine.testthelink.online",Rme=[],xc=B("ppeCategories/fetchPpeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${vj}/ppeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),my=B("ppeCategories/addPpeCategory",async(t,e)=>{try{const r=await fetch(`${vj}/ppeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),RA=B("ppeCategories/updatePpeCategory",async(t,e)=>{try{const r=await fetch(`${vj}/ppeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),hy=B("ppeCategories/deletePpeCategory",async(t,e)=>{try{const r=await fetch(`${vj}/ppeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Mme=ve({name:"ppeCategories",initialState:{ppeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(xc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(xc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE categories",console.warn("Failed to fetch PPE categories, using mock data.",e.error),e.ppeCategories=Rme}).addCase(my.pending,e=>{e.isLoading=!0,e.error=null}).addCase(my.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories.push(r.payload)}).addCase(my.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE category",console.error("Failed to add PPE category:",e.error)}).addCase(RA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(RA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories[n]=r.payload)}).addCase(hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories=e.ppeCategories.filter(n=>n.ID!==r.payload)}).addCase(hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE category",console.error("Failed to delete PPE category:",e.error)})}}),Lme=Mme.reducer,jj="https://staging-engine.testthelink.online",Fme=[],vc=B("ppeSuppliers/fetchPpeSuppliers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${jj}/ppeSupplier`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),py=B("ppeSuppliers/addPpeSupplier",async(t,e)=>{try{const r=await fetch(`${jj}/ppeSupplier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),MA=B("ppeSuppliers/updatePpeSupplier",async(t,e)=>{try{const r=await fetch(`${jj}/ppeSupplier/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),gy=B("ppeSuppliers/deletePpeSupplier",async(t,e)=>{try{const r=await fetch(`${jj}/ppeSupplier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Bme=ve({name:"ppeSuppliers",initialState:{ppeSuppliers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(vc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeSuppliers=Array.isArray(r.payload)?r.payload:[]}).addCase(vc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE suppliers",console.warn("Failed to fetch PPE suppliers, using mock data.",e.error),e.ppeSuppliers=Fme}).addCase(py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers.push(r.payload)}).addCase(py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE supplier",console.error("Failed to add PPE supplier:",e.error)}).addCase(MA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(MA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeSuppliers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers[n]=r.payload)}).addCase(gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers=e.ppeSuppliers.filter(n=>n.ID!==r.payload)}).addCase(gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE supplier",console.error("Failed to delete PPE supplier:",e.error)})}}),qme=Bme.reducer,wj="https://staging-engine.testthelink.online",Vme=[],Ume=[{value:"Building",label:"Building"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"}],zme=[{value:"Supplier1",label:"Supplier 1"},{value:"Supplier2",label:"Supplier 2"}],Wme={ppes:Vme,ppe:null,isLoading:!1,error:null,categories:Ume,suppliers:zme},jc=B("ppes/fetchPPEs",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${wj}/ppe`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),yy=B("ppes/addPPE",async(t,e)=>{try{const r=await fetch(`${wj}/ppe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),by=B("ppes/updatePPE",async(t,e)=>{try{const r=await fetch(`${wj}/ppe/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),xy=B("ppes/deletePPE",async(t,e)=>{try{const r=await fetch(`${wj}/ppe/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),lV=ve({name:"ppes",initialState:Wme,reducers:{setPPE:(t,e)=>{t.ppe=e.payload},resetPPEResource:t=>{t.ppe=null,t.error=null},addCategory:(t,e)=>{t.categories.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.categories.push({value:e.payload,label:e.payload})},addSupplier:(t,e)=>{t.suppliers.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.suppliers.push({value:e.payload,label:e.payload})}},extraReducers:t=>{t.addCase(jc.pending,e=>{e.isLoading=!0}).addCase(jc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=r.payload,e.error=null}).addCase(jc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yy.pending,e=>{e.isLoading=!0}).addCase(yy.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes.push(r.payload),e.error=null}).addCase(yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(by.pending,e=>{e.isLoading=!0}).addCase(by.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.ppes[n]=r.payload),e.error=null}).addCase(by.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xy.pending,e=>{e.isLoading=!0}).addCase(xy.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=e.ppes.filter(n=>n.id!==r.payload),e.error=null}).addCase(xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setPPE:L8e,resetPPEResource:F8e,addCategory:B8e,addSupplier:q8e}=lV.actions,Hme=lV.reducer,Gme=le().shape({CategoryID:D().required("Category is required"),Description:D().required("Description is required"),DepreciationRate:Y().typeError("Must be a number").required("Depreciation Rate is required"),DepreciationValue:Y().typeError("Must be a number").required("Depreciation Value is required"),NetBookValue:Y().typeError("Must be a number").required("Net Book Value is required"),SupplierID:D().required("Supplier is required"),PPENumber:D().required("PPE Number is required"),Unit:D().required("Unit is required"),Barcode:D().required("Barcode is required"),Quantity:Y().typeError("Must be a number").required("Quantity is required"),Cost:Y().typeError("Must be a number").required("Cost is required"),DateAcquired:D().required("Date acquired is required"),EstimatedUsefulLife:Y().typeError("Must be a number").required("Estimated useful life is required"),PONumber:D().required("PO Number is required"),PRNumber:D().required("PR Number is required"),InvoiceNumber:D().required("Invoice Number is required"),AIRNumber:D().required("AIR Number is required"),RISNumber:D().required("RIS Number is required"),Remarks:D()});function Yme({initialData:t,onClose:e}){const r=ue(),[n,a]=w.useState(!1),{ppeSuppliers:s}=V(u=>u.ppeSuppliers),{ppeCategories:i}=V(u=>u.ppeCategories);w.useEffect(()=>{r(xc()),r(vc())},[r]);const l=t?{...t}:{CategoryID:"",Description:"",DepreciationRate:"",DepreciationValue:"",NetBookValue:"",SupplierID:"",PPENumber:"",Unit:"",Barcode:"",Quantity:"",Cost:"",DateAcquired:"",EstimatedUsefulLife:1,PONumber:"",PRNumber:"",InvoiceNumber:"",AIRNumber:"",RISNumber:"",Remarks:""},c=u=>{a(!0);const d=t&&t.ID?by({...u,ID:t.ID}):yy(u);r(d).unwrap().then(()=>{t?q.success("PPE updated successfully"):q.success("PPE Added successfully"),r(jc()),e()}).catch(f=>{console.error("Error submitting PPE:",f),q.error("Failed to submit PPE. Please try again.")}).finally(()=>{a(!1)})};return o.jsx(Re,{initialValues:l,validationSchema:Gme,onSubmit:c,enableReinitialize:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,setFieldValue:y})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(T,{className:"p-3 focus:outline-none",label:"PPE Category",name:"CategoryID",type:"select",required:!0,value:u.CategoryID,onBlur:h,onChange:m,error:d.CategoryID,touched:f.CategoryID,options:i.map(g=>({value:g.ID,label:g.Name}))})}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"text",required:!0,value:u.Description,onChange:m,onBlur:h,error:d.Description,touched:f.Description}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Depreciation Rate (%)",name:"DepreciationRate",type:"number",required:!0,value:u.DepreciationRate,onChange:m,onBlur:h,error:d.DepreciationRate,touched:f.DepreciationRate}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Depreciation Value",name:"DepreciationValue",type:"number",required:!0,value:u.DepreciationValue,onChange:m,onBlur:h,error:d.DepreciationValue,touched:f.DepreciationValue}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Net Book Value",name:"NetBookValue",type:"number",required:!0,value:u.NetBookValue,onChange:m,onBlur:h,error:d.NetBookValue,touched:f.NetBookValue}),o.jsx("div",{children:o.jsx(T,{className:"p-3 focus:outline-none",label:"Supplier",name:"SupplierID",type:"select",required:!0,value:u.SupplierID,onBlur:h,onChange:m,error:d.SupplierID,touched:f.SupplierID,options:s.map(g=>({value:g.ID,label:g.Name}))})}),o.jsx(T,{className:"p-3 focus:outline-none",label:"PPE Number",name:"PPENumber",type:"text",required:!0,value:u.PPENumber,onChange:m,onBlur:h,error:d.PPENumber,touched:f.PPENumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Unit",name:"Unit",type:"text",required:!0,value:u.Unit,onChange:m,onBlur:h,error:d.Unit,touched:f.Unit}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Barcode",name:"Barcode",type:"text",required:!0,value:u.Barcode,onChange:m,onBlur:h,error:d.Barcode,touched:f.Barcode}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Quantity",name:"Quantity",type:"number",required:!0,value:u.Quantity,onChange:m,onBlur:h,error:d.Quantity,touched:f.Quantity}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Cost",name:"Cost",type:"number",required:!0,value:u.Cost,onChange:m,onBlur:h,error:d.Cost,touched:f.Cost}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Date Acquired",name:"DateAcquired",type:"date",required:!0,value:u.DateAcquired,onChange:m,onBlur:h,error:d.DateAcquired,touched:f.DateAcquired}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Estimated Useful Life (years)",name:"EstimatedUsefulLife",type:"number",required:!0,value:u.EstimatedUsefulLife,onChange:m,onBlur:h,error:d.EstimatedUsefulLife,touched:f.EstimatedUsefulLife}),o.jsx(T,{className:"p-3 focus:outline-none",label:"PO Number",name:"PONumber",type:"text",required:!0,value:u.PONumber,onChange:m,onBlur:h,error:d.PONumber,touched:f.PONumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"PR Number",name:"PRNumber",type:"text",required:!0,value:u.PRNumber,onChange:m,onBlur:h,error:d.PRNumber,touched:f.PRNumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,value:u.InvoiceNumber,onChange:m,onBlur:h,error:d.InvoiceNumber,touched:f.InvoiceNumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"AIR Number",name:"AIRNumber",type:"text",required:!0,value:u.AIRNumber,onChange:m,onBlur:h,error:d.AIRNumber,touched:f.AIRNumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"RIS Number",name:"RISNumber",type:"text",required:!0,value:u.RISNumber,onChange:m,onBlur:h,error:d.RISNumber,touched:f.RISNumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Remarks",name:"Remarks",type:"textarea",value:u.Remarks,onChange:m,onBlur:h,error:d.Remarks,touched:f.Remarks,rows:2})]}),o.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:"Save"})]})]})})}const Kme=[{key:"CategoryID",header:"PPE Category"},{key:"Description",header:"Description"},{key:"DepreciationRate",header:"Depreciation Rate (%)"},{key:"DepreciationValue",header:"Depreciation Value"},{key:"NetBookValue",header:"Net Book Value"},{key:"SupplierID",header:"Supplier"},{key:"PPENumber",header:"PPE Number"},{key:"Unit",header:"Unit"},{key:"Barcode",header:"Barcode"},{key:"Quantity",header:"Quantity"},{key:"Cost",header:"Cost"},{key:"DateAcquired",header:"Date Acquired"},{key:"EstimatedUsefulLife",header:"Estimated Useful Life (years)"},{key:"PONumber",header:"PO Number"},{key:"PRNumber",header:"PR Number"},{key:"InvoiceNumber",header:"Invoice Number"},{key:"AIRNumber",header:"AIR Number"},{key:"RISNumber",header:"RIS Number"},{key:"Remarks",header:"Remarks"}];function Jme(){const t=ue(),{ppes:e,isLoading:r}=V(A=>A.ppes),{Add:n,Edit:a,Delete:s,Print:i}=we(64),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null);w.useEffect(()=>{t(jc())},[t]);const h=()=>{m(null),c(!0)},y=()=>{d(!0)},g=()=>{},p=()=>{d(!1)},b=A=>{m(A),c(!0)},v=async A=>{try{await t(xy(A.ID)).unwrap(),q.success("PPE entry deleted successfully"),t(jc())}catch(I){console.error("Failed to delete PPE entry:",I),q.error("Failed to delete PPE entry. Please try again.")}},j=()=>{c(!1),m(null)},C=Kme.map(A=>A.key==="CategoryID"?{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900",render:(I,E)=>{var k;return((k=E==null?void 0:E.Category)==null?void 0:k.Name)||"N/A"}}:A.key==="SupplierID"?{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900",render:(I,E)=>{var k;return((k=E==null?void 0:E.Supplier)==null?void 0:k.Name)||"N/A"}}:{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900"}),x=[a&&{icon:Ie,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:v,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-danger-50"}],N=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}],S=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between gap-4 flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE"}),o.jsx("p",{children:"Manage Property, Plant, and Equipment records"})]}),o.jsxs("div",{className:"flex gap-2 ml-auto max-sm:flex-col max-sm:w-full",children:[n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE"]}),i&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Zf,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print Acknowledgement"]}),i&&o.jsxs("button",{type:"button",className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Zf,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:x,loading:r})}),o.jsx(oe,{isOpen:l,onClose:j,title:f?"Edit PPE":"Add PPE",size:"lg",children:o.jsx(Yme,{initialData:f,onClose:j})}),o.jsx(oe,{isOpen:u,onClose:p,title:"PPE Acknowledgement",size:"md",hideCloseButton:!0,children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(T,{label:"Acknowledging No. 1",type:"select",name:"acknowledgingNo1",options:S,value:"Juan S. Dela Cruz"})}),o.jsx("div",{className:"mb-6",children:o.jsx(T,{label:"Acknowledging No. 2",type:"select",name:"acknowledgingNo1",options:N,value:"Juan S. Dela Cruz"})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:p,className:"btn btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:g,className:"btn btn-primary",children:"Print"})]})]})})]})}function Xme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Name is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Qme(){const t=ue(),{ppeCategories:e,isLoading:r}=V(x=>x.ppeCategories),{Add:n,Edit:a,Delete:s}=we(95),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(xc())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(hy(m.ID)).unwrap(),f(!1),h(null),q.success("PPE category deleted successfully")}catch(x){console.error("Failed to delete PPE category:",x),q.error("Failed to delete PPE category. Please try again.")}},v=async x=>{try{c?(await t(RA({...x,ID:c.ID})).unwrap(),q.success("PPE category updated successfully")):(await t(my(x)).unwrap(),q.success("PPE category saved successfully")),t(xc())}catch(N){console.error("Failed to save PPE category:",N),q.error("Failed to save PPE category. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Categories"}),o.jsx("p",{children:"Manage PPE Categories"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No PPE categories found. Click 'Add PPE Category' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit PPE Category":"Add PPE Category",children:o.jsx(Xme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE category "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function Zme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Name is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function ehe(){const t=ue(),{ppeSuppliers:e,isLoading:r}=V(x=>x.ppeSuppliers),{Add:n,Edit:a,Delete:s}=we(96),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(vc())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(gy(m.ID)).unwrap(),f(!1),h(null),q.success("PPE supplier deleted successfully")}catch(x){console.error("Failed to delete PPE supplier:",x),q.error("Failed to delete PPE supplier. Please try again.")}},v=async x=>{try{c?(await t(MA({...x,ID:c.ID})).unwrap(),q.success("PPE supplier updated successfully")):(await t(py(x)).unwrap(),q.success("PPE supplier saved successfully")),t(vc())}catch(N){console.error("Failed to save PPE supplier:",N),q.error("Failed to save PPE supplier. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Suppliers"}),o.jsx("p",{children:"Manage PPE Suppliers"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Supplier"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No PPE suppliers found. Click 'Add PPE Supplier' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit PPE Supplier":"Add PPE Supplier",children:o.jsx(Zme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE supplier "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const Nj="https://staging-engine.testthelink.online",the=[],wc=B("documentDetails/fetchDocumentDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Nj}/documentType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),vy=B("documentDetails/addDocumentDetail",async(t,e)=>{try{const r=await fetch(`${Nj}/documentType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),LA=B("documentDetails/updateDocumentDetail",async(t,e)=>{try{const r=await fetch(`${Nj}/documentType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),jy=B("documentDetails/deleteDocumentDetail",async(t,e)=>{try{const r=await fetch(`${Nj}/documentType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rhe=ve({name:"documentDetails",initialState:{documentDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(wc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wc.fulfilled,(e,r)=>{e.isLoading=!1,e.documentDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(wc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document details",console.warn("Failed to fetch document details, using mock data.",e.error),e.documentDetails=the}).addCase(vy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails.push(r.payload)}).addCase(vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document detail",console.error("Failed to add document detail:",e.error)}).addCase(LA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(LA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails[n]=r.payload)}).addCase(jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails=e.documentDetails.filter(n=>n.ID!==r.payload)}).addCase(jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document detail",console.error("Failed to delete document detail:",e.error)})}}),nhe=rhe.reducer,ahe=[{value:"1 - First",label:"1 - First"},{value:"2 - Second",label:"2 - Second"},{value:"3 - Third",label:"3 - Third"}],she=le().shape({});function ohe({initialData:t,onClose:e,onSubmit:r}){const[n,a]=w.useState((t==null?void 0:t.AllorMajority)||"ALL"),s=ue(),{documentDetails:i}=V(g=>g.documentDetails),{positions:l}=V(g=>g.positions),{employees:c}=V(g=>g.employees);w.useEffect(()=>{s(wc()),s(Yi()),s(un())},[s]);const u=t||{DocumentTypeID:"",SequenceLevel:"",AllorMajority:"ALL",NumberofApprover:""},[d,f]=w.useState((t==null?void 0:t.approvers)||[{type:"Position",value:"",amountFrom:"",amountTo:""}]),m=()=>{f([...d,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}])},h=g=>{const p=[...d];p.splice(g,1),f(p)},y=(g,p)=>{const b=[...d];b[g]=p,f(b)};return o.jsx(Re,{initialValues:u,validationSchema:she,onSubmit:(g,{setSubmitting:p})=>{if(!g.DocumentTypeID||g.SequenceLevel===""||n===""||d.length===0||d.some(j=>!j.value)||d.some(j=>!j.type)||d.some(j=>!j.amountFrom)||d.some(j=>!j.amountTo)){q.error("Please Select All Required Fields"),p(!1);return}const b=d.map(j=>({PositionorEmployee:j.type,PositionorEmployeeID:j.value,AmountFrom:j.amountFrom,AmountTo:j.amountTo})),v={...g,AllorMajority:n,approvers:b};r(v),p(!1)},enableReinitialize:!0,children:({values:g,errors:p,touched:b,handleChange:v,handleBlur:j,setFieldValue:C,isSubmitting:x})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Document Type",name:"DocumentTypeID",type:"select",required:!0,value:g.DocumentTypeID,onChange:v,onBlur:j,error:p.DocumentTypeID,touched:b.DocumentTypeID,options:i.map(N=>({value:N.ID,label:N.Name}))}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Sequence Level",name:"SequenceLevel",type:"select",required:!0,value:g.SequenceLevel,onChange:v,onBlur:j,error:p.SequenceLevel,touched:b.SequenceLevel,options:ahe}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Approval Rule ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"ALL",checked:n==="ALL",onChange:()=>a("ALL"),className:"form-radio"}),o.jsx("span",{children:"ALL"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"Majority",checked:n==="Majority",onChange:()=>a("Majority"),className:"form-radio"}),o.jsx("span",{children:"Majority"}),o.jsxs("select",{name:"NumberofApprover",value:g.NumberofApprover||"",onChange:v,onBlur:j,disabled:n!=="Majority",className:"ml-2 w-24 p-2 border border-neutral-300 rounded focus:outline-none",children:[o.jsx("option",{value:"",children:"Select"}),Array.from({length:10},(N,S)=>o.jsx("option",{value:S+1,children:S+1},S+1))]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label mb-2",children:["Approvers ",o.jsx("span",{className:"text-error-500",children:"*"})]}),d.map((N,S)=>{var A,I,E;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-4 mb-4 border p-4 rounded-md relative",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Position",checked:N.type==="Position",onChange:()=>y(S,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Position"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Employee",checked:N.type==="Employee",onChange:()=>y(S,{type:"Employee",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Employee"})]})]}),o.jsxs("div",{className:"w-full md:w-1/3",children:[o.jsxs("select",{className:"w-full p-2 border rounded pr-8",value:N.value,onChange:k=>y(S,{...N,value:k.target.value}),children:[o.jsx("option",{value:"",children:"Select"}),(N.type==="Position"?l:c).map(k=>o.jsx("option",{value:k.ID,children:N.type==="Position"?k.Name:`${k.FirstName} ${k.MiddleName} ${k.LastName}`},k.ID))]}),((A=N.errors)==null?void 0:A.value)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.errors.value})]}),d.length>1&&o.jsx("button",{type:"button",onClick:()=>h(S),className:"btn btn-sm btn-error text-red-500",children:o.jsx(Fe,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount From",className:"w-full p-2 border rounded",value:N.amountFrom,onChange:k=>y(S,{...N,amountFrom:k.target.value})}),((I=N.errors)==null?void 0:I.amountFrom)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.errors.amountFrom})]}),o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount To",className:"w-full p-2 border rounded",value:N.amountTo,onChange:k=>y(S,{...N,amountTo:k.target.value})}),((E=N.errors)==null?void 0:E.amountTo)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.errors.amountTo})]})]})]}),S<d.length-1&&o.jsx("hr",{className:"mb-4 border-gray-300"})]},S)}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:m,children:"+ Add More"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x,children:"Save"})]})]})})}const Cj="https://staging-engine.testthelink.online",ihe=[],lhe={approvalMatrix:ihe,matrix:null,isLoading:!1,error:null},tf=B("approvalMatrix/fetchApprovalMatrix",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Cj}/approvalMatrix`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),wy=B("approvalMatrix/addApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Cj}/approvalMatrix`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Ny=B("approvalMatrix/updateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Cj}/approvalMatrix/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cy=B("approvalMatrix/deleteApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Cj}/approvalMatrix/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),cV=ve({name:"approvalMatrix",initialState:lhe,reducers:{setMatrix:(t,e)=>{t.matrix=e.payload},resetMatrixState:t=>{t.matrix=null,t.error=null}},extraReducers:t=>{t.addCase(tf.pending,e=>{e.isLoading=!0}).addCase(tf.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=r.payload,e.error=null}).addCase(tf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wy.pending,e=>{e.isLoading=!0}).addCase(wy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix.push(r.payload),e.error=null}).addCase(wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ny.pending,e=>{e.isLoading=!0}).addCase(Ny.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.approvalMatrix.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.approvalMatrix[n]=r.payload),e.error=null}).addCase(Ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cy.pending,e=>{e.isLoading=!0}).addCase(Cy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=e.approvalMatrix.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMatrix:V8e,resetMatrixState:U8e}=cV.actions,che=cV.reducer;function uhe(){const t=ue(),{approvalMatrix:e,isLoading:r,error:n}=V(N=>N.approvalMatrix),{Add:a,Edit:s,Delete:i}=we(17),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(tf())},[t]);const g=()=>{d(null),c(!0)},p=N=>{var E;const S=((E=N.Approvers)==null?void 0:E.map(k=>({type:k.PositionorEmployee,value:k.PositionorEmployeeID,amountFrom:Number(k.AmountFrom),amountTo:Number(k.AmountTo)})))||[],{Approvers:A,...I}=N;d({...I,approvers:S}),c(!0)},b=N=>{y(N),m(!0)},v=async()=>{if(h)try{await t(Cy(h.ID)).unwrap(),m(!1),y(null),q.success("Approval matrix deleted successfully")}catch(N){console.error("Failed to delete approval matrix:",N),q.error("Failed to delete approval matrix. Please try again.")}},j=async N=>{try{u?(await t(Ny({...N,ID:u.ID})).unwrap(),q.success("Approval matrix updated successfully")):(await t(wy(N)).unwrap(),q.success("Approval matrix saved successfully")),t(tf()),c(!1)}catch(S){console.error("Failed to submit approval matrix:",S),q.error("Failed to submit approval matrix. Please try again.")}},C=[{key:"DocumentTypeName",header:"Document Type",sortable:!0},{key:"SequenceLevel",header:"Sequence Level",sortable:!0},{key:"AllorMajority",header:"All or Majority",sortable:!0},{key:"NumberofApprover",header:"No of Approvers",sortable:!0}],x=[s&&{icon:Ie,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Fe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Approval Matrix"}),o.jsx("p",{children:"Manage approval matrix for document types"})]}),a&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Approval Matrix"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:x,loading:r})}),n&&o.jsx("div",{className:"text-error-600 mt-2",children:n}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Approval Matrix":"Add Approval Matrix",children:o.jsx(ohe,{initialData:u,onClose:()=>c(!1),onSubmit:j})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete this approval matrix entry?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const Sj="https://staging-engine.testthelink.online",dhe=[],fhe={banks:dhe,bank:null,isLoading:!1,error:null},Ji=B("banks/fetchBanks",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Sj}/bank`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Sy=B("banks/addBank",async(t,e)=>{try{const r=await fetch(`${Sj}/bank`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Ay=B("banks/updateBank",async(t,e)=>{try{const r=await fetch(`${Sj}/bank/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Iy=B("bank/deleteBank",async(t,e)=>{try{const r=await fetch(`${Sj}/bank/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),uV=ve({name:"banks",initialState:fhe,reducers:{setBank:(t,e)=>{t.bank=e.payload},resetBankState:t=>{t.bank=null,t.error=null}},extraReducers:t=>{t.addCase(Ji.pending,e=>{e.isLoading=!0}).addCase(Ji.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=r.payload,e.error=null}).addCase(Ji.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Sy.pending,e=>{e.isLoading=!0}).addCase(Sy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks.push(r.payload),e.error=null}).addCase(Sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ay.pending,e=>{e.isLoading=!0}).addCase(Ay.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.banks.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.banks[n]=r.payload),e.error=null}).addCase(Ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Iy.pending,e=>{e.isLoading=!0}).addCase(Iy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=e.banks.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setBank:z8e,resetBankState:W8e}=uV.actions,mhe=uV.reducer,hhe=le().shape({BranchCode:D().required("Branch code is required").max(20,"Branch code must be at most 20 characters"),Branch:D().required("Branch is required").max(100,"Branch name must be at most 100 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters"),Address:D().required("Address is required").max(200,"Address must be at most 200 characters"),AccountNumber:D().required("Account number is required"),SwiftCode:D().required("Swift code is required").max(11,"SWIFT code must be at most 11 characters").matches(/^[A-Za-z0-9]+$/,"SWIFT code must contain only uppercase letters and numbers"),IBAN:D().required("IBAN is required").max(34,"IBAN must be at most 34 characters").matches(/^[A-Za-z0-9]+$/,"IBAN must contain only uppercase letters and numbers"),Balance:Y().required("Balance is required").min(0,"Balance cannot be negative"),CurrencyID:D().required("Currency is required")});function phe({initialData:t,onClose:e}){const r=ue(),[n,a]=w.useState(!1),{currencies:s}=V(c=>c.currencies),i=t?{...t}:{BranchCode:"",Branch:"",Name:"",Address:"",AccountNumber:"",SwiftCode:"",IBAN:"",Balance:"",CurrencyID:""},l=c=>{a(!0);const u={...c},d=t?Ay({...u,ID:t.ID}):Sy(u);r(d).unwrap().then(()=>{e(),q.success("Bank submitted successfully")}).catch(f=>{console.error("Error submitting bank:",f)}).finally(()=>{a(!1),r(Ji())})};return o.jsx(Re,{initialValues:i,validationSchema:hhe,onSubmit:l,enableReinitialize:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,setFieldValue:h})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Branch Code",name:"BranchCode",type:"text",required:!0,placeholder:"Enter branch code",value:c.BranchCode,onChange:f,onBlur:m,error:d.BranchCode&&u.BranchCode,touched:d.BranchCode}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Branch",name:"Branch",type:"text",required:!0,placeholder:"Enter branch name",value:c.Branch,onChange:f,onBlur:m,error:d.Branch&&u.Branch,touched:d.Branch}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter bank name",value:c.Name,onChange:f,onBlur:m,error:d.Name&&u.Name,touched:d.Name})]}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Address",name:"Address",type:"textarea",required:!0,placeholder:"Enter complete address",value:c.Address,onChange:f,onBlur:m,error:d.Address&&u.Address,touched:d.Address,rows:2}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Account Number",name:"AccountNumber",type:"text",required:!0,placeholder:"Enter account number",value:c.AccountNumber,onChange:f,onBlur:m,error:d.AccountNumber&&u.AccountNumber,touched:d.AccountNumber}),o.jsx(T,{className:"p-3 focus:outline-none uppercase",label:"SWIFT Code",name:"SwiftCode",type:"text",required:!0,placeholder:"Enter SWIFT code",value:c.SwiftCode,onChange:f,onBlur:m,error:d.SwiftCode&&u.SwiftCode,touched:d.SwiftCode}),o.jsx(T,{className:"p-3 focus:outline-none uppercase",label:"IBAN",name:"IBAN",type:"text",required:!0,placeholder:"Enter IBAN",value:c.IBAN,onChange:f,onBlur:m,error:d.IBAN&&u.IBAN,touched:d.IBAN})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Balance",name:"Balance",type:"number",required:!0,placeholder:"Enter balance",value:c.Balance,onChange:f,onBlur:m,error:d.Balance&&u.Balance,touched:d.Balance}),o.jsx("div",{className:"space-y-2",children:o.jsx(T,{className:"p-3 focus:outline-none",label:"Currency",name:"CurrencyID",type:"select",required:!0,value:c.CurrencyID,onChange:f,onBlur:m,error:d.CurrencyID&&u.CurrencyID,touched:d.CurrencyID,options:s.map(y=>({value:y.ID,label:y.Code+" - "+y.Name}))})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary",children:n?"Saving...":t?"Update Bank":"Save Bank"})]})]})})}const ghe=()=>{const t=ue(),{banks:e=[],isLoading:r}=V(x=>x.banks),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{Add:f,Edit:m,Delete:h}=we(18);w.useEffect(()=>{t(Ji())},[]);const y=()=>{i(null),a(!0)},g=x=>{i(x),a(!0)},p=()=>{a(!1),i(null)},b=x=>{d(x),c(!0)},v=async()=>{if(u)try{await t(Iy(u.ID)).unwrap(),q.success("Bank deleted successfully")}catch(x){q.error(x.message||"Failed to delete bank")}finally{c(!1),d(null),t(Ji())}},j=[{key:"BranchCode",header:"Branch Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Branch",header:"Branch",sortable:!0},{key:"Name",header:"Bank Name",sortable:!0},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"Balance",header:"Balance",sortable:!0},{key:"Currency",header:"Currency",sortable:!0,render:x=>(x==null?void 0:x.Code)||"N/A"}],C=[m&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},h&&{icon:Fe,title:"Delete",onClick:b,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bank Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage bank accounts and their details"})]}),f&&o.jsxs("button",{onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add Bank"]})]}),o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No banks found. Click 'Add Bank' to create one."}),o.jsx(oe,{isOpen:n,onClose:p,title:s?"Edit Bank":"Add Bank",size:"lg",children:o.jsx(phe,{initialData:s,onClose:p})}),o.jsxs(oe,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the bank"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})},yhe=(t=[],e=null)=>le({Name:D().required("Name is required").test("unique-name","Name already exists",function(r){return r?!t.some(a=>a.Name.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Code:D().required("Code is required").test("unique-code","Code already exists",function(r){return r?!t.some(a=>a.Code.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Prefix:D().required("Prefix is required"),Suffix:D().required("Suffix is required"),StartNumber:Y().required("Start number is required").integer("Start number must be an integer").min(1,"Start number must be at least 1"),CurrentNumber:Y().required("Current number is required").integer("Current number must be an integer").min(1,"Current number must be at least 1"),DocumentTypeCategoryID:D().required("Document type category is required")}),bhe=({document:t,documentList:e=[],onClose:r,documentTypeCategoryOptions:n=[]})=>{const a=ue(),s={Name:(t==null?void 0:t.Name)||"",Code:(t==null?void 0:t.Code)||"",Prefix:(t==null?void 0:t.Prefix)||"",Suffix:(t==null?void 0:t.Suffix)||"",StartNumber:(t==null?void 0:t.StartNumber)||1,CurrentNumber:(t==null?void 0:t.CurrentNumber)||1,DocumentTypeCategoryID:(t==null?void 0:t.DocumentTypeCategoryID)||""},i=async(l,{setSubmitting:c})=>{try{t?(await a(LA({...l,ID:t.ID})).unwrap(),q.success("Document detail updated successfully")):(await a(vy(l)).unwrap(),q.success("Document detail added successfully")),a(wc())}catch(u){console.error("Failed to save document details:",u),q.error("Failed to save document details. Please try again.")}finally{c(!1),r()}};return o.jsx(Re,{initialValues:s,validationSchema:yhe(e,t),onSubmit:i,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,setFieldValue:m,isSubmitting:h})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",required:!0,value:l.Name,onChange:d,onBlur:f,error:c.Name,touched:u.Name,placeholder:"Enter document name"}),o.jsx(T,{label:"Code",name:"Code",type:"text",required:!0,value:l.Code,onChange:d,onBlur:f,error:c.Code,touched:u.Code,placeholder:"Enter document code"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Prefix",name:"Prefix",type:"text",required:!0,value:l.Prefix,onChange:d,onBlur:f,error:c.Prefix,touched:u.Prefix,placeholder:"Enter document prefix"}),o.jsx(T,{label:"Suffix",name:"Suffix",type:"text",required:!0,value:l.Suffix,onChange:d,onBlur:f,error:c.Suffix,touched:u.Suffix,placeholder:"Enter document suffix"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Start Number",name:"StartNumber",type:"number",required:!0,value:l.StartNumber,onChange:d,onBlur:f,error:c.StartNumber,touched:u.StartNumber,min:"1"}),o.jsx(T,{label:"Current Number",name:"CurrentNumber",type:"number",required:!0,value:l.CurrentNumber,onChange:d,onBlur:f,error:c.CurrentNumber,touched:u.CurrentNumber,min:"1"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(T,{label:"Document Type Category",name:"DocumentTypeCategoryID",type:"select",required:!0,value:l.DocumentTypeCategoryID,onChange:d,onBlur:f,error:c.DocumentTypeCategoryID,touched:u.DocumentTypeCategoryID,options:n})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Saving...":t?"Update":"Create"})]})]})})},Aj="https://staging-engine.testthelink.online",xhe=[],Nc=B("documentTypeCategories/fetchDocumentTypeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Aj}/documentTypeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ky=B("documentTypeCategories/addDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${Aj}/documentTypeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),FA=B("documentTypeCategories/updateDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${Aj}/documentTypeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ty=B("documentTypeCategories/deleteDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${Aj}/documentTypeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),vhe=ve({name:"documentTypeCategories",initialState:{documentTypeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Nc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nc.fulfilled,(e,r)=>{e.isLoading=!1,e.documentTypeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Nc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document type categories",console.warn("Failed to fetch document type categories, using mock data.",e.error),e.documentTypeCategories=xhe}).addCase(ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ky.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories.push(r.payload)}).addCase(ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document type category",console.error("Failed to add document type category:",e.error)}).addCase(FA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(FA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentTypeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories[n]=r.payload)}).addCase(Ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories=e.documentTypeCategories.filter(n=>n.ID!==r.payload)}).addCase(Ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document type category",console.error("Failed to delete document type category:",e.error)})}}),jhe=vhe.reducer,whe=()=>{const t=ue(),{documentDetails:e,isLoading:r}=V(N=>N.documentDetails),{Add:n,Edit:a,Delete:s}=we(41),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null),{documentTypeCategories:y}=V(N=>N.documentTypeCategories),g=y.map(N=>({value:N.ID,label:N.Name}));w.useEffect(()=>{t(wc()),t(Nc())},[t]);const p=()=>{u(null),l(!0)},b=N=>{u(N),l(!0)},v=N=>{h(N),f(!0)},j=async()=>{if(m)try{await t(jy(m.ID)).unwrap(),f(!1),h(null),q.success("Document detail deleted successfully")}catch(N){console.error("Failed to delete document detail:",N),q.error("Failed to delete document detail. Please try again.")}},C=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Prefix",header:"Prefix"},{key:"Suffix",header:"Suffix"},{key:"StartNumber",header:"Start Number"},{key:"CurrentNumber",header:"Current Number"}],x=N=>{const S=[a&&{icon:Ie,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return N.ID>32&&s&&S.push({icon:Fe,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),S};return o.jsxs("div",{className:"container mx-auto ",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Document Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage document details and their numbering"})]}),n&&o.jsxs("button",{onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add Document Detail"]})]}),o.jsx(ye,{columns:C,data:e,actions:x,loading:r,emptyMessage:"No document details found. Click 'Add Document Detail' to create one."}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Document Detail":"Add Document Detail",size:"lg",children:o.jsx(bhe,{document:c,documentList:e,onClose:()=>l(!1),documentTypeCategoryOptions:g})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the document detail for"," ",o.jsx("span",{className:"font-medium",children:m==null?void 0:m.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline cursor-pointer",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})};function Nhe({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().trim().required("Name is required").min(1,"Name cannot be empty or just spaces")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Che(){const t=ue(),{documentTypeCategories:e,isLoading:r}=V(x=>x.documentTypeCategories),{Add:n,Edit:a,Delete:s}=we(42),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Nc())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(Ty(m.ID)).unwrap(),f(!1),h(null),q.success("Document type category deleted successfully")}catch(x){console.error("Failed to delete document type category:",x),q.error("Failed to delete document type category. Please try again.")}},v=async x=>{try{c?(await t(FA({...x,ID:c.ID})).unwrap(),q.success("Document type category updated successfully")):(await t(ky(x)).unwrap(),q.success("Document type category added successfully")),t(Nc())}catch(N){console.error("Failed to save document type category:",N),q.error("Failed to save document type category. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=x=>{const N=[];return a&&N.push({icon:Ie,title:"Edit",onClick:()=>g(x),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),s&&x.ID>1&&N.push({icon:Fe,title:"Delete",onClick:()=>p(x),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),N};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Document Type Categories"}),o.jsx("p",{children:"Manage Document Type Categories"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Document Type Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No document type categories found. Click 'Add Document Type Category' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Document Type Category":"Add Document Type Category",children:o.jsx(Nhe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the document type category "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const Ij="https://staging-engine.testthelink.online",She=[],Ba=B("items/fetchItems",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ij}/item`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ey=B("items/addItem",async(t,e)=>{try{const r=await fetch(`${Ij}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),BA=B("items/updateItem",async(t,e)=>{try{const r=await fetch(`${Ij}/item/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dy=B("items/deleteItem",async(t,e)=>{try{const r=await fetch(`${Ij}/item/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ahe=ve({name:"items",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ba.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ba.fulfilled,(e,r)=>{e.isLoading=!1,e.items=Array.isArray(r.payload)?r.payload:[]}).addCase(Ba.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch items",console.warn("Failed to fetch items, using mock data.",e.error),e.items=She}).addCase(Ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items.push(r.payload)}).addCase(Ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item",console.error("Failed to add item:",e.error)}).addCase(BA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(BA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.items.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.items)||(e.items=[]),e.items[n]=r.payload)}).addCase(Dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items=e.items.filter(n=>n.ID!==r.payload)}).addCase(Dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item",console.error("Failed to delete item:",e.error)})}}),Ihe=Ahe.reducer,kj="https://staging-engine.testthelink.online",khe=[],ya=B("itemUnits/fetchItemUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${kj}/itemUnit`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Py=B("itemUnits/addItemUnit",async(t,e)=>{try{const r=await fetch(`${kj}/itemUnit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),qA=B("itemUnits/updateItemUnit",async(t,e)=>{try{const r=await fetch(`${kj}/itemUnit/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Oy=B("itemUnits/deleteItemUnit",async(t,e)=>{try{const r=await fetch(`${kj}/itemUnit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),The=ve({name:"itemUnits",initialState:{itemUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ya.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ya.fulfilled,(e,r)=>{e.isLoading=!1,e.itemUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(ya.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch item units",console.warn("Failed to fetch item units, using mock data.",e.error),e.itemUnits=khe}).addCase(Py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits.push(r.payload)}).addCase(Py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item unit",console.error("Failed to add item unit:",e.error)}).addCase(qA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.itemUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits[n]=r.payload)}).addCase(Oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits=e.itemUnits.filter(n=>n.ID!==r.payload)}).addCase(Oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item unit",console.error("Failed to delete item unit:",e.error)})}}),Ehe=The.reducer,Dhe=({item:t,onClose:e})=>{var d;const r=ue(),{accounts:n}=V(f=>f.chartOfAccounts),{itemUnits:a}=V(f=>f.itemUnits),{taxCodes:s}=V(f=>f.taxCodes);w.useEffect(()=>{r(ya()),r(Jn()),r(kr())},[r]);const i=[{value:"Purchase",label:"Purchase"},{value:"Sales",label:"Sales"},{value:"Inventory",label:"Inventory"}],l=le({Code:D().required("Code is required"),Name:D().required("Name is required"),ChargeAccountID:D().required("Charge Account is required"),UnitID:D().required("Unit is required"),TAXCodeID:D().required("Tax Code is required"),PurchaseOrSales:D().required("Type is required"),TaxRate:Y().required("Tax Rate is required").min(0,"Tax Rate cannot be negative"),EWT:Y().required("EWT is required").min(0,"EWT cannot be negative"),Vatable:Bo().required("Vatable is required")});console.log({item:t});const c={Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",ChargeAccountID:(t==null?void 0:t.ChargeAccountID)||"",UnitID:(t==null?void 0:t.UnitID)||"",TAXCodeID:(t==null?void 0:t.TAXCodeID)||"",PurchaseOrSales:(t==null?void 0:t.PurchaseOrSales)||"",TaxRate:((d=t==null?void 0:t.TaxCode)==null?void 0:d.Rate)||0,EWT:(t==null?void 0:t.EWT)||0,Vatable:(t==null?void 0:t.Vatable)||!1},u=async(f,{setSubmitting:m})=>{try{t?(await r(BA({...f,ID:t.ID})).unwrap(),q.success("Item updated successfully.")):(await r(Ey(f)).unwrap(),q.success("Item added successfully.")),r(Ba())}catch(h){console.error("Failed to save item:",h),q.error("Failed to save item. Please try again.")}finally{m(!1),e()}};return o.jsx(Re,{initialValues:c,validationSchema:l,onSubmit:u,children:({values:f,errors:m,touched:h,handleChange:y,handleBlur:g,isSubmitting:p,setFieldValue:b})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",required:!0,value:f.Code,onChange:y,onBlur:g,error:m.Code,touched:h.Code,placeholder:"Enter item code"}),o.jsx(T,{label:"Name",name:"Name",type:"text",required:!0,value:f.Name,onChange:y,onBlur:g,error:m.Name,touched:h.Name,placeholder:"Enter item name"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Charge Account",name:"ChargeAccountID",type:"select",required:!0,value:f.ChargeAccountID,onChange:y,onBlur:g,error:m.ChargeAccountID,touched:h.ChargeAccountID,options:n.map(v=>({value:v.ID,label:v.Name}))}),o.jsx(T,{label:"Type",name:"PurchaseOrSales",type:"select",required:!0,value:f.PurchaseOrSales,onChange:y,onBlur:g,error:m.PurchaseOrSales,touched:h.PurchaseOrSales,options:i}),o.jsx(T,{label:"Unit",name:"UnitID",type:"select",required:!0,value:f.UnitID,onChange:y,onBlur:g,error:m.UnitID,touched:h.UnitID,options:a.map(v=>({value:v.ID,label:v.Code+" - "+v.Name}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Tax Code",name:"TAXCodeID",type:"select",required:!0,value:f.TAXCodeID,onChange:v=>{const j=v.target.value;y(v);const C=s.find(x=>x.ID===Number(j));C?b("TaxRate",C.Rate):b("TaxRate","")},onBlur:g,error:m.TAXCodeID,touched:h.TAXCodeID,options:s.map(v=>({value:v.ID,label:v.Code}))}),o.jsx(T,{label:"Tax Rate",name:"TaxRate",type:"number",required:!0,value:f.TaxRate,onChange:y,onBlur:g,error:m.TaxRate,touched:h.TaxRate,readOnly:!0,className:"bg-gray-200 cursor-not-allowed"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"EWT",name:"EWT",type:"number",required:!0,value:f.EWT,onChange:y,onBlur:g,error:m.EWT,touched:h.EWT}),o.jsx("div",{className:"flex items-center mt-5",children:o.jsx(T,{label:"Vatable",name:"Vatable",type:"checkbox",checked:f.Vatable,onChange:y,onBlur:g,error:m.Vatable,touched:h.Vatable})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":t?"Update":"Create"})]})]})})},Phe=()=>{const t=ue(),{items:e,isLoading:r}=V(I=>I.items),{itemUnits:n,isLoading:a}=V(I=>I.itemUnits),{taxCodes:s,isLoading:i}=V(I=>I.taxCodes),{Add:l,Edit:c,Delete:u}=we(55),[d,f]=w.useState(!1),[m,h]=w.useState(null),[y,g]=w.useState(!1),[p,b]=w.useState(null);w.useEffect(()=>{t(Ba()),t(ya()),t(Jn())},[t]);const v=()=>{h(null),f(!0)},j=I=>{h(I),f(!0)},C=I=>{b(I),g(!0)},x=async()=>{if(p)try{await t(Dy(p.ID)).unwrap(),g(!1),b(null),q.success("Item deleted successfully")}catch(I){console.error("Failed to delete item:",I),q.error("Failed to delete item. Please try again.")}},N=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"PurchaseOrSales",header:"Type",sortable:!0},{key:"TAXCodeValue",header:"Tax Code",sortable:!0},{key:"unitName",header:"Unit Name",sortable:!0},{key:"EWT",header:"EWT",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:I=>o.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${I===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:I?"Yes":"No"})}],S=e.map(I=>{var E,k;return{...I,unitName:((E=n==null?void 0:n.find(P=>P.ID===I.UnitID))==null?void 0:E.Name)||"N/A",TAXCodeValue:((k=s==null?void 0:s.find(P=>P.ID===I.TAXCodeID))==null?void 0:k.Code)||"N/A"}}),A=[c&&{icon:Ie,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},u&&{icon:Fe,title:"Delete",onClick:C,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Item List"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, assets, and services"})]}),l&&o.jsxs("button",{onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}),o.jsx(ye,{columns:N,data:S,actions:A,loading:r||a||i,emptyMessage:"No items found. Click 'Add Item' to create one."}),o.jsx(oe,{isOpen:d,onClose:()=>f(!1),title:m?"Edit Item":"Add Item",size:"lg",children:o.jsx(Dhe,{item:m,onClose:()=>f(!1)})}),o.jsxs(oe,{isOpen:y,onClose:()=>g(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the item"," ",o.jsx("span",{className:"font-medium",children:p==null?void 0:p.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})};le().shape({MarriageServiceInvoice:D().required("Marriage Service Invoice account is required"),BurialServiceInvoice:D().required("Burial Service Invoice account is required"),DueFromLGU:D().required("Due From LGU account is required"),DueFromRate:Y().required("Due From Rate is required"),DueToLGU:D().required("Due To LGU account is required"),DueToRate:Y().required("Due To Rate is required"),RealPropertyTax:D().required("Real Property Tax account is required"),RealPropertyTaxRate:Y().required("Real Property Tax Rate is required")});const dV="https://staging-engine.testthelink.online",n1=B("chartOfAccounts/fetchInvoiceChargeAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dV}/serviceInvoiceAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ohe=B("invoiceChargeAccounts/addInvoiceChargeAccount",async t=>{try{return{...t,id:Date.now(),status:"Active"}}catch(e){throw console.warn("Failed to add invoice charge account:",e),e}}),_he=B("invoiceChargeAccounts/updateInvoiceChargeAccount",async(t,e)=>{try{const r=await fetch(`${dV}/serviceInvoiceAccounts/1`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),$he=B("invoiceChargeAccounts/deleteInvoiceChargeAccount",async t=>{try{return t}catch(e){throw console.warn("Failed to delete invoice charge account:",e),e}}),Rhe={invoiceChargeAccounts:[],isLoading:!1,error:null},Mhe=ve({name:"invoiceChargeAccounts",initialState:Rhe,reducers:{},extraReducers:t=>{t.addCase(n1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n1.fulfilled,(e,r)=>{e.isLoading=!1,e.invoiceChargeAccounts=r.payload}).addCase(n1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(Ohe.fulfilled,(e,r)=>{e.invoiceChargeAccounts.push(r.payload)}).addCase(_he.fulfilled,(e,r)=>{const n=e.invoiceChargeAccounts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.invoiceChargeAccounts[n]=r.payload)}).addCase($he.fulfilled,(e,r)=>{e.invoiceChargeAccounts=e.invoiceChargeAccounts.filter(n=>n.id!==r.payload)})}}),Lhe=Mhe.reducer;function Fhe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:D().required("Code is required"),Name:D().required("Name is required")}),a=at({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Bhe(){const t=ue(),{itemUnits:e,isLoading:r}=V(x=>x.itemUnits),{Add:n,Edit:a,Delete:s}=we(56),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(ya())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(Oy(m.ID)).unwrap(),f(!1),h(null),q.success("Item unit deleted successfully")}catch(x){console.error("Failed to delete item unit:",x),q.error("Failed to delete item unit. Please try again.")}},v=async x=>{try{c?(await t(qA({...x,ID:c.ID})).unwrap(),q.success("Item unit updated successfully")):(await t(Py(x)).unwrap(),q.success("Item unit added successfully")),t(ya())}catch(N){console.error("Failed to save item unit:",N),q.error("Failed to save item unit. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Item Units"}),o.jsx("p",{children:"Manage item units"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Item Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No item units found. Click 'Add Item Unit' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Item Unit":"Add Item Unit",children:o.jsx(Fhe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the item unit "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function qhe({initialData:t,onSubmit:e,onClose:r}){const n=le({Type:D().required("Type is required"),Description:D().required("Description is required")});return o.jsx(Re,{initialValues:t||{Type:"",Description:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(T,{label:"Type",name:"Type",type:"text",value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(T,{label:"Description",name:"Description",type:"textarea",value:a.Description,onChange:l,onBlur:c,error:s.Description,touched:i.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const Tj="https://staging-engine.testthelink.online",Vhe=[],Cc=B("projectTypes/fetchProjectTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Tj}/projectType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),_y=B("projectTypes/addProjectType",async(t,e)=>{try{const r=await fetch(`${Tj}/projectType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),VA=B("projectTypes/updateProjectType",async(t,e)=>{try{const r=await fetch(`${Tj}/projectType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),$y=B("projectTypes/deleteProjectType",async(t,e)=>{try{const r=await fetch(`${Tj}/projectType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Uhe=ve({name:"projectTypes",initialState:{projectTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Cc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cc.fulfilled,(e,r)=>{e.isLoading=!1,e.projectTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Cc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project types",console.warn("Failed to fetch project types, using mock data.",e.error),e.projectTypes=Vhe}).addCase(_y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes.push(r.payload)}).addCase(_y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project type",console.error("Failed to add project type:",e.error)}).addCase(VA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(VA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes[n]=r.payload)}).addCase($y.pending,e=>{e.isLoading=!0,e.error=null}).addCase($y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes=e.projectTypes.filter(n=>n.ID!==r.payload)}).addCase($y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project type",console.error("Failed to delete project type:",e.error)})}}),zhe=Uhe.reducer;function Whe(){const t=ue(),{projectTypes:e,isLoading:r}=V(x=>x.projectTypes),{Add:n,Edit:a,Delete:s}=we(87),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Cc())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t($y(m.ID)).unwrap(),f(!1),h(null),q.success("Project type deleted successfully.")}catch(x){console.error("Failed to delete project type:",x),q.error("Failed to delete project type. Please try again.")}},v=async x=>{try{c?(await t(VA({...x,ID:c.ID})).unwrap(),q.success("Project type updated successfully.")):(await t(_y(x)).unwrap(),q.success("Project type added successfully.")),t(Cc()),l(!1)}catch(N){console.error("Failed to save project type:",N),q.error("Failed to save project type. Please try again.")}},j=[{key:"Type",header:"Type",sortable:!0},{key:"Description",header:"Description",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Types"}),o.jsx("p",{children:"Manage project types"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No project types found. Click 'Add Project Type' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Project Type":"Add Project Type",children:o.jsx(qhe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project type "',m==null?void 0:m.Type,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function Hhe({initialData:t,onSubmit:e,onClose:r}){const n=ue(),{projectTypes:a,loading:s}=V(c=>c.projectTypes);w.useEffect(()=>{n(Cc())},[n]);const i=le({Title:D().required("Title is required"),ProjectTypeID:D().required("Project Type is required"),StartDate:Le().required("Start Date is required"),EndDate:Le().required("End Date is required"),Description:D().required("Description is required")}),l=at({initialValues:t||{Title:"",ProjectTypeID:"",StartDate:"",EndDate:"",Description:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Project Title",name:"Title",type:"text",value:l.values.Title,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Title,touched:l.touched.Title,required:!0}),o.jsx(T,{label:"Project Type",name:"ProjectTypeID",type:"select",options:a.map(c=>({label:c.Type,value:c.ID})),value:l.values.ProjectTypeID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.ProjectTypeID,touched:l.touched.ProjectTypeID,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Start Date",name:"StartDate",type:"date",value:l.values.StartDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.StartDate,touched:l.touched.StartDate,required:!0}),o.jsx(T,{label:"End Date",name:"EndDate",type:"date",value:l.values.EndDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.EndDate,touched:l.touched.EndDate,required:!0})]}),o.jsx(T,{label:"Description",name:"Description",type:"textarea",rows:3,value:l.values.Description,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Description,touched:l.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}const Ej="https://staging-engine.testthelink.online",Ghe=[],qa=B("projectDetails/fetchProjectDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ej}/project`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ry=B("projectDetails/addProjectDetail",async(t,e)=>{try{const r=await fetch(`${Ej}/project`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),UA=B("projectDetails/updateProjectDetail",async(t,e)=>{try{const r=await fetch(`${Ej}/project/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),My=B("projectDetails/deleteProjectDetail",async(t,e)=>{try{const r=await fetch(`${Ej}/project/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Yhe=ve({name:"projectDetails",initialState:{projectDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(qa.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qa.fulfilled,(e,r)=>{e.isLoading=!1,e.projectDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(qa.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project details",console.warn("Failed to fetch project details, using mock data.",e.error),e.projectDetails=Ghe}).addCase(Ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails.push(r.payload)}).addCase(Ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project detail",console.error("Failed to add project detail:",e.error)}).addCase(UA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(UA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails[n]=r.payload)}).addCase(My.pending,e=>{e.isLoading=!0,e.error=null}).addCase(My.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails=e.projectDetails.filter(n=>n.ID!==r.payload)}).addCase(My.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project detail",console.error("Failed to delete project detail:",e.error)})}}),Khe=Yhe.reducer;function Jhe(){const t=ue(),{projectDetails:e,isLoading:r}=V(x=>x.projectDetails),{Add:n,Edit:a,Delete:s}=we(65),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(qa())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(My(m.ID)).unwrap(),f(!1),h(null),q.success("Project detail deleted successfully.")}catch(x){console.error("Failed to delete project detail:",x),q.error("Failed to delete project detail. Please try again.")}},v=async x=>{try{c?(await t(UA({...x,ID:c.ID})).unwrap(),q.success("Project detail updated successfully.")):(await t(Ry(x)).unwrap(),q.success("Project detail added successfully.")),t(qa())}catch(N){console.error("Failed to save project detail:",N),q.error("Failed to save project detail. Please try again.")}finally{l(!1)}},j=[{key:"Title",header:"Project Title",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0},{key:"EndDate",header:"End Date",sortable:!0},{key:"ProjectTypeID",header:"Project Type",sortable:!0,render:(x,N)=>{var A;const S=(A=N==null?void 0:N.ProjectType)==null?void 0:A.Type;return o.jsx("span",{children:S||x||"N/A"})}},{key:"Description",header:"Description",sortable:!1}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Details"}),o.jsx("p",{children:"Manage project details"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Detail"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No project details found. Click 'Add Project Detail' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Project Detail":"Add Project Detail",size:"lg",children:o.jsx(Hhe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project "',m==null?void 0:m.Title,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function Xhe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:D().required("Code is required"),Name:D().required("Name is required")});return o.jsx(Re,{initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const Dj="https://staging-engine.testthelink.online",Qhe=[],Zhe={financialStatements:Qhe,financialStatement:null,isLoading:!1,error:null},rf=B("financialStatements/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Dj}/financialStatement`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ly=B("financialStatements/addFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Dj}/financialStatement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Fy=B("financialStatements/updateFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Dj}/financialStatement/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),By=B("financialStatements/deleteFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Dj}/financialStatement/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),fV=ve({name:"financialStatements",initialState:Zhe,reducers:{setFinancialStatement:(t,e)=>{t.financialStatement=e.payload},resetFinancialStatementState:t=>{t.financialStatement=null,t.error=null}},extraReducers:t=>{t.addCase(rf.pending,e=>{e.isLoading=!0}).addCase(rf.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload,e.error=null}).addCase(rf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ly.pending,e=>{e.isLoading=!0}).addCase(Ly.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements.push(r.payload),e.error=null}).addCase(Ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Fy.pending,e=>{e.isLoading=!0}).addCase(Fy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.financialStatements.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.financialStatements[n]=r.payload),e.error=null}).addCase(Fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(By.pending,e=>{e.isLoading=!0}).addCase(By.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=e.financialStatements.filter(n=>n.ID!==r.payload),e.error=null}).addCase(By.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFinancialStatement:H8e,resetFinancialStatementState:G8e}=fV.actions,epe=fV.reducer;function tpe(){const t=ue(),{financialStatements:e,isLoading:r}=V(x=>x.financialStatements),{Add:n,Edit:a,Delete:s}=we(44),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(rf())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(By(m.ID)).unwrap(),f(!1),h(null),q.success("Financial statement deleted successfully.")}catch(x){console.error("Failed to delete financial statement:",x),q.error("Failed to delete financial statement. Please try again.")}},v=async x=>{try{c?(await t(Fy({...x,ID:c.ID})).unwrap(),q.success("Financial statement updated successfully.")):(await t(Ly(x)).unwrap(),q.success("Financial statement added successfully.")),t(rf())}catch(N){console.error("Failed to save financial statement:",N),q.error("Failed to save financial statement. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Financial Statements"}),o.jsx("p",{children:"Manage financial statements"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Financial Statement"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No financial statements found. Click 'Add Financial Statement' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Financial Statement":"Add Financial Statement",children:o.jsx(Xhe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the financial statement "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function rpe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:D().required("Code is required"),Name:D().required("Name is required"),Year:Y().required("Year is required").min(2e3,"Year must be 2000 or later"),MonthStart:D().required("Month Start is required"),MonthEnd:D().required("Month End is required")}),a=[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}];return o.jsx(Re,{initialValues:t||{Code:"",Name:"",Year:new Date().getFullYear(),MonthStart:"",MonthEnd:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:i,touched:l,handleChange:c,handleBlur:u,handleSubmit:d,isSubmitting:f})=>o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",value:s.Code,onChange:c,onBlur:u,error:i.Code,touched:l.Code,required:!0}),o.jsx(T,{label:"Name",name:"Name",type:"text",value:s.Name,onChange:c,onBlur:u,error:i.Name,touched:l.Name,required:!0}),o.jsx(T,{label:"Year",name:"Year",type:"number",value:s.Year,onChange:c,onBlur:u,error:i.Year,touched:l.Year,required:!0}),o.jsx(T,{label:"Month Start",name:"MonthStart",type:"select",value:s.MonthStart,onChange:c,onBlur:u,error:i.MonthStart,touched:l.MonthStart,options:a,required:!0}),o.jsx(T,{label:"Month End",name:"MonthEnd",type:"select",value:s.MonthEnd,onChange:c,onBlur:u,error:i.MonthEnd,touched:l.MonthEnd,options:a,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":"Save"})]})]})})}const Pj="https://staging-engine.testthelink.online",npe=[],dn=B("fiscalYears/fetchFiscalYears",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Pj}/fiscalYear`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),qy=B("fiscalYears/addFiscalYear",async(t,e)=>{try{const r=await fetch(`${Pj}/fiscalYear`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),zA=B("fiscalYears/updateFiscalYear",async(t,e)=>{try{const r=await fetch(`${Pj}/fiscalYear/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Vy=B("fiscalYears/deleteFiscalYear",async(t,e)=>{try{const r=await fetch(`${Pj}/fiscalYear/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ape=ve({name:"fiscalYears",initialState:{fiscalYears:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(dn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dn.fulfilled,(e,r)=>{e.isLoading=!1,e.fiscalYears=Array.isArray(r.payload)?r.payload:[]}).addCase(dn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch fiscal years",console.warn("Failed to fetch fiscal years, using mock data.",e.error),e.fiscalYears=npe}).addCase(qy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears.push(r.payload)}).addCase(qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fiscal year",console.error("Failed to add fiscal year:",e.error)}).addCase(zA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fiscalYears.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears[n]=r.payload)}).addCase(Vy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears=e.fiscalYears.filter(n=>n.ID!==r.payload)}).addCase(Vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fiscal year",console.error("Failed to delete fiscal year:",e.error)})}}),spe=ape.reducer;function ope(){const t=ue(),{fiscalYears:e,isLoading:r}=V(x=>x.fiscalYears),{Add:n,Edit:a,Delete:s}=we(45),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(dn())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(Vy(m.ID)).unwrap(),f(!1),h(null),q.success("Fiscal year deleted successfully.")}catch(x){console.error("Failed to delete fiscal year:",x),q.error("Failed to delete fiscal year. Please try again.")}},v=async x=>{try{c?(await t(zA({...x,id:c.ID})).unwrap(),q.success("Fiscal year updated successfully.")):(await t(qy(x)).unwrap(),q.success("Fiscal year added successfully.")),t(dn())}catch(N){console.error("Failed to save fiscal year:",N),q.error("Failed to save fiscal year. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Year",header:"Year",sortable:!0},{key:"MonthStart",header:"Month Start",sortable:!0},{key:"MonthEnd",header:"Month End",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fiscal Years"}),o.jsx("p",{children:"Manage fiscal years"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fiscal Year"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No fiscal years found. Click 'Add Fiscal Year' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Fiscal Year":"Add Fiscal Year",children:o.jsx(rpe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the fiscal year "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const ipe=[{value:"Individual",label:"Individual"},{value:"Corporate",label:"Corporate"}];function lpe({initialData:t,onSubmit:e,onClose:r}){const n=le({Type:D().required("Type is required"),Code:D().required("Code is required"),Name:D().required("Nature of Payment is required"),Rate:Y().required("Rate is required").min(0,"Rate cannot be negative").max(100,"Rate cannot exceed 100%")});return o.jsx(Re,{initialValues:t||{Type:"",Code:"",Name:"",Rate:0},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(T,{label:"Type",name:"Type",type:"select",options:ipe,value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(T,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(T,{label:"Rate (%)",name:"Rate",type:"number",step:"0.01",value:a.Rate,onChange:l,onBlur:c,error:s.Rate,touched:i.Rate,required:!0}),o.jsx(T,{label:"Nature of Payment",name:"Name",type:"textarea",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}function cpe(){const t=ue(),{taxCodes:e,isLoading:r}=V(x=>x.taxCodes),{Add:n,Edit:a,Delete:s}=we(78),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Jn())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(Qg(m.ID)).unwrap(),f(!1),h(null),q.success("Tax code deleted successfully.")}catch(x){console.error("Failed to delete tax code:",x),q.error("Failed to delete tax code. Please try again.")}},v=async x=>{try{c?(await t(kA({...x,ID:c.ID})).unwrap(),q.success("Tax code updated successfully.")):(await t(Xg(x)).unwrap(),q.success("Tax code added successfully.")),t(Jn())}catch(N){console.error("Failed to save tax code:",N),q.error("Failed to save tax code. Please try again.")}finally{l(!1)}},j=[{key:"Type",header:"Type",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Rate",header:"Rate (%)",sortable:!0,render:x=>`${x} %`}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Codes"}),o.jsx("p",{children:"Manage tax codes"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Code"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No tax codes found. Click 'Add Tax Code' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Tax Code":"Add Tax Code",children:o.jsx(lpe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax code "',m==null?void 0:m.Code,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function upe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:D().required("Code is required"),Name:D().required("Name is required")}),a=at({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function dpe(){const t=ue(),{modeOfPayments:e,isLoading:r}=V(x=>x.modeOfPayments),{Add:n,Edit:a,Delete:s}=we(60),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Hi())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(ry(m.ID)).unwrap(),f(!1),h(null),q.success("Mode of payment deleted successfully.")}catch(x){q.error(x.message||"Failed to delete mode of payment."),console.error("Failed to delete mode of payment:",x)}},v=async x=>{try{c?(await t(EA({...x,ID:c.ID})).unwrap(),q.success("Mode of payment updated successfully.")):(await t(ty(x)).unwrap(),q.success("Mode of payment added successfully.")),t(Hi())}catch(N){console.error("Failed to save mode of payment:",N),q.error("Failed to save mode of payment. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Mode of Payments"}),o.jsx("p",{children:"Manage mode of payments"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Mode of Payment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No mode of payments found. Click 'Add Mode of Payment' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Mode of Payment":"Add Mode of Payment",children:o.jsx(upe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the mode of payment "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function fpe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:D().required("Code is required"),Name:D().required("Name is required"),NumberOfDays:Y().required("Number of Days is required").integer("Number of Days must be an integer").min(0,"Number of Days cannot be negative")}),a=at({initialValues:t||{Code:"",Name:"",NumberOfDays:0},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsx(T,{label:"Number of Days",name:"NumberOfDays",type:"number",value:a.values.NumberOfDays,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NumberOfDays,touched:a.touched.NumberOfDays,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function mpe(){const t=ue(),{paymentTerms:e,isLoading:r}=V(x=>x.paymentTerms),{Add:n,Edit:a,Delete:s}=we(63),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Wi())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(ey(m.ID)).unwrap(),f(!1),h(null),q.success("Payment term deleted successfully.")}catch(x){console.error("Failed to delete payment term:",x),q.error("Failed to delete payment term. Please try again.")}},v=async x=>{try{c?(await t(TA({...x,ID:c.ID})).unwrap(),q.success("Payment term updated successfully.")):(await t(Zg(x)).unwrap(),q.success("Payment term added successfully.")),t(Wi())}catch(N){console.error("Failed to save payment term:",N),q.error("Failed to save payment term. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NumberOfDays",header:"Number of Days",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Payment Terms"}),o.jsx("p",{children:"Manage payment terms"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Payment Term"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No payment terms found. Click 'Add Payment Term' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Payment Term":"Add Payment Term",children:o.jsx(fpe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the payment term "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function hpe({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:D().required("Name is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function ppe(){const t=ue(),{industries:e,isLoading:r}=V(x=>x.industries),{Add:n,Edit:a,Delete:s}=we(53),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(zi())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(Jg(m.ID)).unwrap(),f(!1),h(null),q.success("Industry deleted successfully.")}catch(x){console.error("Failed to delete industry:",x),q.error("Failed to delete industry. Please try again.")}},v=async x=>{try{c?(await t(IA({...x,ID:c.ID})).unwrap(),q.success("Industry updated successfully.")):(await t(Kg(x)).unwrap(),q.success("Industry added successfully.")),t(zi())}catch(N){console.error("Failed to save industry:",N),q.error("Failed to save industry. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Industries"}),o.jsx("p",{children:"Manage industries"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Industry"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No industries found. Click 'Add Industry' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Industry":"Add Industry",children:o.jsx(hpe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the industry "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function gpe({initialData:t,onSubmit:e,onClose:r}){const n=ue();w.useEffect(()=>{n(Io()),n(ko()),n(To()),n(Eo())},[n]);const{regions:a}=V(v=>v.regions),{provinces:s}=V(v=>v.provinces),{municipalities:i}=V(v=>v.municipalities),{barangays:l}=V(v=>v.barangays),c=le({FirstName:D().required("First Name is required"),MiddleName:D(),LastName:D().required("Last Name is required"),Gender:D().required("Gender is required"),Citizenship:D().required("Citizenship is required"),DateOfBirth:Le().required("Date of Birth is required"),PlaceOfBirth:D().required("Place of Birth is required"),Occupation:D().required("Occupation is required"),CivilStatus:D().required("Civil Status is required"),TIN:D().matches(/^\d{14}$/,"TIN must be exactly 14 digits"),EmailAddress:D().email(),RegionID:D().required("Region is required"),ProvinceID:D().required("Province is required"),MunicipalityID:D().required("Municipality is required"),BarangayID:D().required("Barangay is required"),ZIPCode:D().required("ZIP Code is required"),StreetAddress:D().required("Street Address is required"),RDO:D().required("RDO is required")}),u=at({initialValues:t||{FirstName:"",MiddleName:"",LastName:"",Gender:"",Citizenship:"",DateOfBirth:"",PlaceOfBirth:"",Occupation:"",CivilStatus:"",TIN:"",EmailAddress:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",ZIPCode:"",StreetAddress:"",RDO:""},validationSchema:c,onSubmit:v=>e(v)}),{values:d,handleChange:f,handleBlur:m,errors:h,touched:y,setFieldValue:g,handleSubmit:p,submitCount:b}=u;return w.useEffect(()=>{const v=l.find(j=>j.ID.toString()===d.BarangayID);v&&(v.MunicipalityCode&&g("MunicipalityID",v.MunicipalityCode),v.ProvinceCode&&g("ProvinceID",v.ProvinceCode),v.RegionCode&&g("RegionID",v.RegionCode))},[d.BarangayID]),w.useEffect(()=>{const v=i.find(j=>j.ID.toString()===d.MunicipalityID);v&&(v.ProvinceCode&&g("ProvinceID",v.ProvinceCode),v.RegionCode&&g("RegionID",v.RegionCode))},[d.MunicipalityID]),w.useEffect(()=>{const v=s.find(j=>j.ID.toString()===d.ProvinceID);v&&v.RegionCode&&g("RegionID",v.RegionCode)},[d.ProvinceID]),console.log("values",h),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"First Name",name:"FirstName",value:d.FirstName,onChange:f,onBlur:m,error:y.FirstName&&h.FirstName,touched:y.FirstName,required:!0}),o.jsx(T,{label:"Middle Name",name:"MiddleName",value:d.MiddleName,onChange:f,onBlur:m,error:h.MiddleName&&y.MiddleName,touched:y.MiddleName}),o.jsx(T,{label:"Last Name",name:"LastName",value:d.LastName,onChange:f,onBlur:m,error:y.LastName&&h.LastName,touched:y.LastName,required:!0}),o.jsx(T,{label:"Gender",name:"Gender",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],value:d.Gender,onChange:f,onBlur:m,error:y.Gender&&h.Gender,touched:y.Gender,required:!0}),o.jsx(T,{label:"Citizenship",name:"Citizenship",value:d.Citizenship,onChange:f,onBlur:m,error:y.Citizenship&&h.Citizenship,touched:y.Citizenship,required:!0}),o.jsx(T,{label:"Date of Birth",name:"DateOfBirth",type:"date",value:d.DateOfBirth,onChange:f,onBlur:m,error:y.DateOfBirth&&h.DateOfBirth,touched:y.DateOfBirth,required:!0}),o.jsx(T,{label:"Place of Birth",name:"PlaceOfBirth",value:d.PlaceOfBirth,onChange:f,onBlur:m,error:y.PlaceOfBirth&&h.PlaceOfBirth,touched:y.PlaceOfBirth,required:!0}),o.jsx(T,{label:"Occupation",name:"Occupation",value:d.Occupation,onChange:f,onBlur:m,error:y.Occupation&&h.Occupation,touched:y.Occupation,required:!0}),o.jsx(T,{label:"Civil Status",name:"CivilStatus",type:"select",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widowed",label:"Widowed"},{value:"Separated",label:"Separated"},{value:"Divorced",label:"Divorced"}],value:d.CivilStatus,onChange:f,onBlur:m,error:y.CivilStatus&&h.CivilStatus,touched:y.CivilStatus,required:!0}),o.jsx(T,{label:"TIN",name:"TIN",value:d.TIN,onChange:f,onBlur:m,error:y.TIN&&h.TIN,touched:y.TIN}),o.jsx(T,{label:"Email",name:"EmailAddress",type:"email",value:d.EmailAddress,onChange:f,onBlur:m,error:y.EmailAddress&&h.EmailAddress,touched:y.EmailAddress}),o.jsx(T,{label:"Region",name:"RegionID",type:"select",options:a.map(v=>({value:v.ID,label:v.Name})),value:d.RegionID,onChange:f,onBlur:m,error:y.RegionID&&h.RegionID,touched:y.RegionID,required:!0}),o.jsx(T,{label:"Province",name:"ProvinceID",type:"select",options:s.map(v=>({value:v.ID,label:v.Name})),value:d.ProvinceID,onChange:f,onBlur:m,error:y.ProvinceID&&h.ProvinceID,touched:y.ProvinceID,required:!0}),o.jsx(T,{label:"Municipality",name:"MunicipalityID",type:"select",options:i.map(v=>({value:v.ID,label:v.Name})),value:d.MunicipalityID,onChange:f,onBlur:m,error:y.MunicipalityID&&h.MunicipalityID,touched:y.MunicipalityID,required:!0}),o.jsx(T,{label:"Barangay",name:"BarangayID",type:"select",options:l.map(v=>({value:v.ID,label:v.Name})),value:d.BarangayID,onChange:f,onBlur:m,error:y.BarangayID&&h.BarangayID,touched:y.BarangayID,required:!0}),o.jsx(T,{label:"ZIP Code",name:"ZIPCode",value:d.ZIPCode,onChange:f,onBlur:m,error:y.ZIPCode&&h.ZIPCode,touched:y.ZIPCode,required:!0}),o.jsx(T,{label:"Street Address",name:"StreetAddress",type:"textarea",rows:2,value:d.StreetAddress,onChange:f,onBlur:m,error:y.StreetAddress&&h.StreetAddress,touched:y.StreetAddress,required:!0}),o.jsx(T,{label:"Revenue District Office",name:"RDO",value:d.RDO,onChange:f,onBlur:m,error:y.RDO&&h.RDO,touched:y.RDO,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:t?"Update":"Save"})]}),b>0&&Object.keys(h).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(h).map(([v,j])=>o.jsx("li",{children:j},v))})]})]})}const Oj="https://staging-engine.testthelink.online",ype=[],An=B("customers/fetchCustomers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Oj}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Uy=B("customers/addCustomer",async(t,e)=>{try{const r=await fetch(`${Oj}/customer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),WA=B("customers/updateCustomer",async(t,e)=>{try{const r=await fetch(`${Oj}/customer/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zy=B("customers/deleteCustomer",async(t,e)=>{try{const r=await fetch(`${Oj}/customer/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),bpe=ve({name:"customers",initialState:{customers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(An.pending,e=>{e.isLoading=!0,e.error=null}).addCase(An.fulfilled,(e,r)=>{e.isLoading=!1,e.customers=Array.isArray(r.payload)?r.payload:[]}).addCase(An.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch customers",console.warn("Failed to fetch customer details, using mock data.",e.error),e.customers=ype}).addCase(Uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers.push(r.payload)}).addCase(Uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add customer",console.error("Failed to add customer:",e.error)}).addCase(WA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(WA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.customers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.customers)||(e.customers=[]),e.customers[n]=r.payload)}).addCase(zy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers=e.customers.filter(n=>n.ID!==r.payload)}).addCase(zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete customer",console.error("Failed to delete customer:",e.error)})}}),xpe=bpe.reducer;function vpe(){const t=ue(),{customers:e,isLoading:r}=V(I=>I.customers),{industries:n}=V(I=>I.industries),{taxCodes:a}=V(I=>I.taxCodes),{paymentTerms:s}=V(I=>I.paymentTerms),{modeOfPayments:i}=V(I=>I.modeOfPayments),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null),{Add:g,Edit:p,Delete:b}=we(38);w.useEffect(()=>{t(An()),t(zi()),t(Jn()),t(Wi()),t(Hi())},[t]);const v=()=>{d(null),c(!0)},j=I=>{d(I),c(!0)},C=I=>{console.log("Delete customer:",I),y(I),m(!0)},x=async()=>{if(h)try{await t(zy(h.ID)).unwrap(),m(!1),y(null),q.success("Customer deleted successfully")}catch(I){console.error("Failed to delete Individual/Citizen:",I),q.error(I.message||"Failed to delete Individual/Citizen. Please try again.")}},N=async I=>{try{u?(await t(WA({...I,ID:u.ID})).unwrap(),q.success("Customer updated successfully")):(await t(Uy(I)).unwrap(),q.success("Customer added successfully")),t(An())}catch(E){console.error("Failed to save Individual/Citizen:",E),q.error(E.message||"Failed to save Individual/Citizen")}finally{d(null),c(!1)}},S=[{key:"Code",header:"Code",sortable:!0,render:I=>I||"N/A"},{key:"Name",header:"Name",sortable:!0,render:(I,E)=>I||E.FirstName+" "+E.MiddleName+" "+E.LastName||"N/A"},{key:"TIN",header:"TIN",sortable:!0,render:I=>I||"N/A"},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:I=>{const E=s.find(k=>k.ID==I);return(E==null?void 0:E.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:I=>{const E=i.find(k=>k.ID==I);return(E==null?void 0:E.Name)||"N/A"}},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:I=>{const E=a.find(k=>k.ID==I);return(E==null?void 0:E.Code)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:I=>{const E=n.find(k=>k.ID==I);return(E==null?void 0:E.Name)||"N/A"}},{key:"ZIPCode",header:"ZIP Code",sortable:!0,render:I=>I||"N/A"},{key:"PlaceofIncorporation",header:"Place of Incorporation",sortable:!0,render:I=>I||"N/A"},{key:"KindofOrganization",header:"Kind of Organization",sortable:!0,render:I=>I||"N/A"},{key:"DateofRegistration",header:"Date of Registration",sortable:!0,render:I=>I||"N/A"}],A=[p&&{icon:Ie,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},b&&{icon:Fe,title:"Delete",onClick:C,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Individuals/Citizens"}),o.jsx("p",{children:"Manage Individuals/Citizens here"})]}),g&&o.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Individual/Citizen"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:S,data:e,actions:A,loading:r,emptyMessage:"No individuals/citizens found. Click 'Add Individual/Citizen' to create one."})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Individual/Citizen":"Add Individual/Citizen",size:"lg",children:o.jsx(gpe,{initialData:u,onClose:()=>c(!1),onSubmit:N})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete the individual/citizen?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const jpe={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",info:"bg-info-600 text-white hover:bg-info-700 focus:ring-info-500"},wpe={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function St({children:t,variant:e="primary",size:r="md",className:n="",disabled:a=!1,type:s="button",onClick:i,...l}){return o.jsx("button",{type:s,className:$e("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",jpe[e],wpe[r],a&&"opacity-50 cursor-not-allowed",n),disabled:a,onClick:i,...l,children:t})}function Npe({initialData:t,onSubmit:e,onClose:r}){var v;const n=ue(),{customers:a}=V(j=>j.customers);w.useEffect(()=>{n(An())},[n]);const s=at({initialValues:{T_D_No:"",PropertyID:"",OwnerID:"",OwnerTIN:"",OwnerTelephoneNumber:"",OwnerAddress:"",BeneficialorAdminUserID:"",BeneficialorAdminTIN:"",BeneficialorAdminAddress:"",BeneficialorAdminTelephoneNumber:"",OCT_TCT_CLOA_Number:"",SurveyNumber:"",LotNumber:"",CCT:"",BlockNumber:"",Dated:"",North:"",South:"",East:"",West:"",Taxable:!1,CancelTDNumber:"",PreviousAssessedValue:"",KindofProperty:"",Storeys:"",Description:"",ActualUse:"",Classification:"",AssessmentLevel:"",MarketValue:"",AmountInWords:"",Memoranda:"",...t||{}},validationSchema:le({T_D_No:Y().required("TD No. is required"),PropertyID:Y().required("Property ID is required"),OwnerID:Y().required("Owner ID is required"),OwnerTIN:D().required("Owner TIN is required"),OwnerTelephoneNumber:D().required("Owner Telephone Number is required"),OwnerAddress:D().required("Owner Address is required"),BeneficialorAdminUserID:Y().required("Beneficialor Admin User ID is required"),BeneficialorAdminTIN:D().required("Beneficialor Admin TIN is required"),BeneficialorAdminAddress:D().required("Beneficialor Admin Address is required"),BeneficialorAdminTelephoneNumber:D().required("Beneficialor Admin Telephone Number is required"),OCT_TCT_CLOA_Number:D().required("OCT TCT CLOA Number is required"),SurveyNumber:D().required("Survey Number is required"),LotNumber:D().required("Lot Number is required"),CCT:D().required("CCT is required"),BlockNumber:D().required("Block Number is required"),Dated:D().required("Dated is required"),North:D().required("North is required"),South:D().required("South is required"),East:D().required("East is required"),West:D().required("West is required"),Taxable:Bo().oneOf([!0],"Field is required"),CancelTDNumber:D().required("Cancel TD Number is required"),Effectivity:D().required("Effectivity is required"),OwnerPrevious:D().required("Owner Previous is required"),PreviousAssessedValue:Y().required("Previous Assessed Value is required"),KindofProperty:D().required("Kind of Property is required"),Storeys:D().required("Number of Storeys is required"),Description:D().required("Description is required"),kind:D().required("Kind is required"),ActualUse:D().required("Actual Use is required"),Classification:D().required("Classification is required"),AreaSize:D().required("Area Size is required"),AssessmentLevel:D().required("Assessment Level is required"),MarketValue:D().required("Market Value is required"),AmountInWords:D().required("Amount in Words is required"),Memoranda:D().required("Memoranda is required"),assessmentRows:Yt().of(le().shape({Kind:D().required("Kind is required"),Classification:D().required("Classification is required"),Area:D().required("Area is required"),MarketValue:D().required("Market Value is required"),ActualUse:D().required("Actual Use is required"),AssessmentLevel:D().required("Assessment Level is required"),AssessmentValue:D().required("Assessment Value is required")}))}),onSubmit:j=>{e({...j,assessmentRows:i})}}),[i,l]=w.useState(()=>{var j;return(j=t==null?void 0:t.AssessmentRows)!=null&&j.length?t.AssessmentRows.map(C=>({...C})):[{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}]}),{values:c,handleChange:u,handleBlur:d,errors:f,touched:m,handleSubmit:h,isSubmitting:y}=s,g=()=>{l([...i,{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}])},p=j=>{if(i.length===1)return;const C=[...i];C.splice(j,1),l(C)},b=(j,C,x)=>{const N=[...i];N[j][C]=x,l(N)};return o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{required:!0,label:"TD No.",name:"T_D_No",type:"number",value:c.T_D_No,onChange:u,onBlur:d,error:m.T_D_No&&f.T_D_No,touched:m.T_D_No}),o.jsx(T,{required:!0,label:"Property Identification No.",name:"PropertyID",type:"number",value:c.PropertyID,onChange:u,onBlur:d,error:m.PropertyID&&f.PropertyID,touched:m.PropertyID})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(T,{label:"Owner",name:"OwnerID",type:"select",required:!0,options:a.map(j=>({value:j.ID,label:j.Name||`${j.FirstName} (${j.MiddleName} ${j.LastName})`})),value:c.OwnerID,onChange:u,onBlur:d,error:m.OwnerID&&f.OwnerID,touched:m.OwnerID}),o.jsx(T,{label:"TIN",name:"OwnerTIN",type:"number",required:!0,value:c.OwnerTIN,onChange:u,onBlur:d,error:m.OwnerTIN&&f.OwnerTIN,touched:m.OwnerTIN}),o.jsx(T,{label:"Owner Telephone No.",name:"OwnerTelephoneNumber",type:"number",required:!0,value:c.OwnerTelephoneNumber,onChange:u,onBlur:d,error:m.OwnerTelephoneNumber&&f.OwnerTelephoneNumber,touched:m.OwnerTelephoneNumber}),o.jsx(T,{label:"Address",name:"OwnerAddress",type:"text",required:!0,value:c.OwnerAddress,onChange:u,onBlur:d,error:m.OwnerAddress&&f.OwnerAddress,touched:m.OwnerAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(T,{label:"Beneficial/Administrator User",options:a.map(j=>({value:j.ID,label:j.Name||`${j.FirstName} (${j.MiddleName} ${j.LastName})`})),name:"BeneficialorAdminUserID",type:"select",required:!0,value:c.BeneficialorAdminUserID,onChange:u,onBlur:d,error:m.BeneficialorAdminUserID&&f.BeneficialorAdminUserID,touched:m.BeneficialorAdminUserID}),o.jsx(T,{label:"Beneficial/Admin User TIN",name:"BeneficialorAdminTIN",type:"number",required:!0,value:c.BeneficialorAdminTIN,onChange:u,onBlur:d,error:m.BeneficialorAdminTIN&&f.BeneficialorAdminTIN,touched:m.BeneficialorAdminTIN}),o.jsx(T,{label:"Beneficial/Administrator Telephone No.",name:"BeneficialorAdminTelephoneNumber",type:"number",required:!0,value:c.BeneficialorAdminTelephoneNumber,onChange:u,onBlur:d,error:m.BeneficialorAdminTelephoneNumber&&f.BeneficialorAdminTelephoneNumber,touched:m.BeneficialorAdminTelephoneNumber}),o.jsx(T,{label:"Beneficial/Administrator Address",name:"BeneficialorAdminAddress",type:"text",required:!0,value:c.BeneficialorAdminAddress,onChange:u,onBlur:d,error:m.BeneficialorAdminAddress&&f.BeneficialorAdminAddress,touched:m.BeneficialorAdminAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-300",children:[o.jsx(T,{label:"OCT/TCTCLOA No.",name:"OCT_TCT_CLOA_Number",type:"number",required:!0,value:c.OCT_TCT_CLOA_Number,onChange:u,onBlur:d,error:m.OCT_TCT_CLOA_Number&&f.OCT_TCT_CLOA_Number,touched:m.OCT_TCT_CLOA_Number}),o.jsx(T,{label:"Survey No.",name:"SurveyNumber",type:"number",required:!0,value:c.SurveyNumber,onChange:u,onBlur:d,error:m.SurveyNumber&&f.SurveyNumber,touched:m.SurveyNumber}),o.jsx(T,{label:"Lot No.",name:"LotNumber",type:"text",required:!0,value:c.LotNumber,onChange:u,onBlur:d,error:m.LotNumber&&f.LotNumber,touched:m.LotNumber}),o.jsx(T,{label:"CCT",name:"CCT",type:"text",required:!0,value:c.CCT,onChange:u,onBlur:d,error:m.CCT&&f.CCT,touched:m.CCT}),o.jsx(T,{label:"Block No.",name:"BlockNumber",type:"text",required:!0,value:c.BlockNumber,onChange:u,onBlur:d,error:m.BlockNumber&&f.BlockNumber,touched:m.BlockNumber}),o.jsx(T,{label:"Dated",name:"Dated",type:"date",required:!0,value:c.Dated,onChange:u,onBlur:d,error:m.Dated&&f.Dated,touched:m.Dated})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Boundaries:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"North",name:"North",type:"text",required:!0,value:c.North,onChange:u,onBlur:d,error:m.North&&f.North,touched:m.North}),o.jsx(T,{label:"South",name:"South",type:"text",required:!0,value:c.South,onChange:u,onBlur:d,error:m.South&&f.South,touched:m.South}),o.jsx(T,{label:"East",name:"East",type:"text",required:!0,value:c.East,onChange:u,onBlur:d,error:m.East&&f.East,touched:m.East}),o.jsx(T,{label:"West",name:"West",type:"text",required:!0,value:c.West,onChange:u,onBlur:d,error:m.West&&f.West,touched:m.West})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Taxable",checked:c.Taxable,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"ml-2 text-sm",children:"Taxable"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx("div",{children:o.jsx(T,{type:"select",name:"CancelTDNumber",placeholder:"Cancel TD No.",label:"This Declaration cancels TD No.",options:["1","2","3"].map(j=>({label:j,value:j})),required:!0,value:c.CancelTDNumber,onChange:u,onBlur:d,error:m.CancelTDNumber&&f.CancelTDNumber,touched:m.CancelTDNumber,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(T,{type:"text",name:"Effectivity",placeholder:"Effectivity of Assessment/Reassessment",label:"Effectivity of Assessment/Reassessment",required:!0,value:c.Effectivity,onChange:u,error:m.Effectivity&&f.Effectivity,touched:m.Effectivity,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(T,{type:"text",name:"OwnerPrevious",placeholder:"Previous Owner",label:"Previous Owner",required:!0,value:c.OwnerPrevious,error:m.OwnerPrevious&&f.OwnerPrevious,touched:m.OwnerPrevious,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(T,{type:"number",name:"PreviousAssessedValue",placeholder:" Previous Assessed Value:",label:"Previous Assessed Value:",value:c.PreviousAssessedValue,error:m.PreviousAssessedValue&&f.PreviousAssessedValue,touched:m.PreviousAssessedValue,onChange:u,required:!0,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),o.jsxs("div",{className:"p-4 border border-gray-300 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Kind",name:"KindofProperty",type:"text",value:c.KindofProperty,onChange:u,onBlur:d,required:!0,error:m.KindofProperty&&f.KindofProperty,touched:m.KindofProperty}),o.jsx(T,{label:"Number of Storeys",name:"Storeys",type:"number",value:c.Storeys,onChange:u,onBlur:d,required:!0,error:m.Storeys&&f.Storeys,touched:m.Storeys})]}),o.jsx(T,{label:"Description",name:"Description",type:"textarea",value:c.Description,onChange:u,onBlur:d,error:m.Description&&f.Description,required:!0,touched:m.Description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx("div",{children:o.jsx(T,{label:"Kind: (LAND / BUILDING)",name:"kind",type:"select",required:!0,value:c.kind,onChange:u,onBlur:d,error:m.kind&&f.kind,touched:m.kind,options:["LAND","BUILDING"].map(j=>({label:j,value:j}))})}),o.jsx("div",{children:o.jsx(T,{label:"Actual Use",name:"ActualUse",type:"select",required:!0,value:c.ActualUse,onChange:u,onBlur:d,error:m.ActualUse&&f.ActualUse,touched:m.ActualUse,options:["RESIDENTIAL","COMMERCIAL","INDUSTRIAL"].map(j=>({label:j,value:j}))})}),o.jsx("div",{children:o.jsx(T,{label:"Classification",name:"Classification",type:"select",required:!0,value:c.Classification,onChange:u,onBlur:d,error:m.Classification&&f.Classification,touched:m.Classification,options:["A","B","C"].map(j=>({label:j,value:j}))})}),o.jsx("div",{children:o.jsx(T,{type:"text",name:"AreaSize",placeholder:"Enter Area Size",label:"Area Size",required:!0,value:c.AreaSize,onBlur:d,error:m.AreaSize&&f.AreaSize,touched:m.AreaSize,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(T,{type:"number",name:"AssessmentLevel",label:"Assessment Level",placeholder:"Enter Assessment Level",required:!0,value:c.AssessmentLevel,onBlur:d,error:m.AssessmentLevel&&f.AssessmentLevel,touched:m.AssessmentLevel,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(T,{placeholder:"Enter Market Value",type:"number",name:"MarketValue",label:"Market Value",value:c.MarketValue,onBlur:d,error:m.MarketValue&&f.MarketValue,touched:m.MarketValue,required:!0,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Details"}),o.jsxs(St,{type:"button",onClick:g,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(nj,{className:"w-4 h-4 mr-1"}),"ADD"]})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsx("tr",{children:["Kind","Classification","Area ","Market Value","Actual Use","Assessment Level","Assessment Value","Actions"].map(j=>o.jsxs("th",{className:"border border-gray-300 p-2 text-sm",children:[j," ",o.jsx("span",{className:"text-red-500",children:"*"})]},j))})}),o.jsx("tbody",{children:i.map((j,C)=>o.jsxs("tr",{children:[["Kind","Classification","Area","MarketValue","ActualUse","AssessmentLevel","AssessmentValue"].map(x=>{var N,S,A,I,E,k;return o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx(T,{type:"text",value:j[x],onChange:P=>b(C,x,P.target.value),onBlur:d,error:((S=(N=m.assessmentRows)==null?void 0:N[C])==null?void 0:S[x])&&((I=(A=f.assessmentRows)==null?void 0:A[C])==null?void 0:I[x]),touched:(k=(E=m.assessmentRows)==null?void 0:E[C])==null?void 0:k[x],className:"w-full p-1 border-0 focus:ring-1 focus:ring-blue-500"})},x)}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx(St,{type:"button",onClick:()=>p(C),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:i.length===1,children:o.jsx(tr,{className:"w-4 h-4"})})})]},C))})]}),((v=f==null?void 0:f.assessmentRows)==null?void 0:v.length)>0&&o.jsxs("p",{className:"text-red-500 text-sm mt-2",children:["At Least One Row Required"," "]})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amounts in Words:"}),o.jsx("textarea",{name:"AmountInWords",value:c.AmountInWords,onChange:u,onBlur:d,error:m.AmountInWords&&f.AmountInWords,touched:m.AmountInWords,rows:"2",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1 bg-red-100 p-2",children:"Memoranda:"}),o.jsx("textarea",{name:"Memoranda",value:c.Memoranda,onChange:u,onBlur:d,error:m.Memoranda&&f.Memoranda,touched:m.Memoranda,rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"save"})]})]})}const _j="https://staging-engine.testthelink.online",Cpe=[],nf=B("taxDeclarations/fetchTaxDeclarations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_j}/propertyTaxDeclaration`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Wy=B("taxDeclarations/addTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${_j}/propertyTaxDeclaration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),HA=B("taxDeclarations/updateTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${_j}/propertyTaxDeclaration/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Hy=B("taxDeclarations/deleteTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${_j}/propertyTaxDeclaration/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Spe=ve({name:"taxDeclarations",initialState:{taxDeclarations:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(nf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nf.fulfilled,(e,r)=>{e.isLoading=!1,e.taxDeclarations=Array.isArray(r.payload)?r.payload:[]}).addCase(nf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax declarations",console.warn("Failed to fetch tax declarations, using mock data.",e.error),e.taxDeclarations=Cpe}).addCase(Wy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations.push(r.payload)}).addCase(Wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax declaration",console.error("Failed to add tax declaration:",e.error)}).addCase(HA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(HA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxDeclarations.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations[n]=r.payload)}).addCase(Hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations=e.taxDeclarations.filter(n=>n.ID!==r.payload)}).addCase(Hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax declaration",console.error("Failed to delete tax declaration:",e.error)})}}),Ape=Spe.reducer;function Ipe(){const t=ue(),{taxDeclarations:e,isLoading:r}=V(x=>x.taxDeclarations),{Add:n,Edit:a,Delete:s}=we(79),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(nf())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(Hy(m.ID)).unwrap(),f(!1),h(null)}catch(x){console.error("Failed to delete tax declaration:",x)}},v=async x=>{try{c?(await t(HA({...x,ID:c.ID})).unwrap(),q.success("Tax declaration updated successfully")):(await t(Wy(x)).unwrap(),q.success("Tax declaration saved successfully")),t(nf()),l(!1)}catch(N){console.error("Failed to save tax declaration:",N),q.error("Failed to save tax declaration. Please try again.")}},j=[{key:"T_D_No",header:"Tax Declaration No.",sortable:!0},{key:"PropertyID",header:"Property ID",sortable:!0},{key:"OwnerID",header:"Owner ID",sortable:!0},{key:"OwnerTIN",header:"Owner TIN",sortable:!0},{key:"OwnerAddress",header:"Owner Address",sortable:!0},{key:"OwnerTelephoneNumber",header:"Owner Telephone No.",sortable:!0},{key:"BeneficialorAdminUserID",header:"Beneficial/Administrator User",sortable:!0},{key:"BeneficialorAdminTIN",header:"Beneficial/Administrator TIN",sortable:!0},{key:"BeneficialorAdminAddress",header:"Beneficial/Administrator Address",sortable:!0},{key:"BeneficialorAdminTelephoneNumber",header:"Beneficial/Administrator Telephone No.",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Declarations"}),o.jsx("p",{children:"Manage Tax Declarations"})]}),o.jsxs("div",{className:"flex gap-4 items-center max-sm:flex-col max-sm:w-full",children:[n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Declaration"]}),o.jsx("div",{className:"max-sm:w-full",children:o.jsx(T,{type:"select",name:"year",label:"Year",placeholder:"Select a year",options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"}]})})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No tax declarations found. Click 'Add Tax Declaration' to create one."})}),o.jsx(oe,{size:"xl",isOpen:i,onClose:()=>l(!1),title:c?"Edit Tax Declaration":"Add Tax Declaration",children:o.jsx(Npe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax declaration "',m==null?void 0:m.T_D_No,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const $j="https://staging-engine.testthelink.online",kpe=[],af=B("generalRevisions/fetchGeneralRevisions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$j}/generalRevision`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Gy=B("generalRevisions/addGeneralRevision",async(t,e)=>{try{const r=await fetch(`${$j}/generalRevision`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),GA=B("generalRevisions/updateGeneralRevision",async(t,e)=>{try{const r=await fetch(`${$j}/generalRevision/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Yy=B("generalRevisions/deleteGeneralRevision",async(t,e)=>{try{const r=await fetch(`${$j}/generalRevision/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Tpe=ve({name:"generalRevisions",initialState:{generalRevisions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(af.pending,e=>{e.isLoading=!0,e.error=null}).addCase(af.fulfilled,(e,r)=>{e.isLoading=!1,e.generalRevisions=Array.isArray(r.payload)?r.payload:[]}).addCase(af.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch general revisions",console.warn("Failed to fetch general revisions, using mock data.",e.error),e.generalRevisions=kpe}).addCase(Gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions.push(r.payload)}).addCase(Gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add general revision",console.error("Failed to add general revision:",e.error)}).addCase(GA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(GA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalRevisions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions[n]=r.payload)}).addCase(Yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions=e.generalRevisions.filter(n=>n.ID!==r.payload)}).addCase(Yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete general revision",console.error("Failed to delete general revision:",e.error)})}}),Epe=Tpe.reducer,Dpe=({initialData:t,onSubmit:e,onCancel:r,isEdit:n})=>{const a=ue(),{employees:s}=V(u=>u.employees);w.useEffect(()=>{a(un())},[a]);const i=le().shape({General_Revision_Date_Year:D().required("Required"),GeneralRevisionCode:D().required("Required"),TaxDeclarationCode:D().required("Required")}),l=at({initialValues:t||{General_Revision_Date_Year:"",GeneralRevisionCode:"",TaxDeclarationCode:"",CityorMunicipalityAssessor:"",CityorMunicipalityAssistantAssessor:"",ProvincialAssessor:"",ProvincialAssistantAssessor:""},validationSchema:i,onSubmit:u=>{e(u)}}),c=s.map(u=>({value:u.ID,label:`${u.LastName}, ${u.FirstName}`}));return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"General Revision Date (Year)",name:"General_Revision_Date_Year",type:"number",value:l.values.General_Revision_Date_Year,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.General_Revision_Date_Year,touched:l.touched.General_Revision_Date_Year,required:!0}),o.jsx(T,{label:"General Revision Code",name:"GeneralRevisionCode",type:"text",value:l.values.GeneralRevisionCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.GeneralRevisionCode,touched:l.touched.GeneralRevisionCode,required:!0})]}),o.jsx(T,{label:"General Revision Tax Declaration Code",name:"TaxDeclarationCode",type:"text",value:l.values.TaxDeclarationCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.TaxDeclarationCode,touched:l.touched.TaxDeclarationCode,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(yt,{label:"City Or Municipality Assessor",options:c,placeholder:"Select Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssessor,error:l.errors.CityorMunicipalityAssessor,touched:l.touched.CityorMunicipalityAssessor}),o.jsx(yt,{label:"Assistant City Or Municipality Assessor",options:c,placeholder:"Select Assistant Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssistantAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssistantAssessor,error:l.errors.CityorMunicipalityAssistantAssessor,touched:l.touched.CityorMunicipalityAssistantAssessor}),o.jsx(yt,{label:"Provincial Assessor",options:c,placeholder:"Select Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssessor",u||"")},selectedValue:l.values.ProvincialAssessor,error:l.errors.ProvincialAssessor,touched:l.touched.ProvincialAssessor}),o.jsx(yt,{label:"Assistant Provincial Assessor",options:c,placeholder:"Select Assistant Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssistantAssessor",u||"")},selectedValue:l.values.ProvincialAssistantAssessor,error:l.errors.ProvincialAssistantAssessor,touched:l.touched.ProvincialAssistantAssessor})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})},Ppe=()=>{const t=ue(),{generalRevisions:e,isLoading:r}=V(x=>x.generalRevisions),{Add:n,Edit:a,Delete:s}=we(51),[i,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),[m,h]=w.useState(null);w.useEffect(()=>{t(af())},[t]);const y=()=>{f(null),l(!0)},g=x=>{f(x),l(!0)},p=async x=>{try{d?(await t(GA({...x,ID:d.ID})).unwrap(),q.success("Revision updated successfully")):(await t(Gy(x)).unwrap(),q.success("Revision added successfully")),t(af())}catch(N){console.error("Failed to save general revision:",N),q.error("Failed to save general revision. Please try again.")}finally{l(!1)}},b=x=>{h(x),u(!0)},v=async()=>{try{m&&(await t(Yy(m.ID)).unwrap(),q.success("Revision deleted successfully"),u(!1))}catch(x){console.error("Failed to delete revision:",x),q.error("Failed to delete revision. Please try again.")}},j=[{key:"General_Revision_Date_Year",header:"General Revision Date (Year)",sortable:!0},{key:"GeneralRevisionCode",header:"General Revision Code",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Revisions"}),o.jsx("p",{children:"Manage General Revision Records"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Revision"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,actions:C,data:e,loading:r,emptyMessage:"No general revisions found. Click 'Add Revision' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:d?"Edit General Revision":"Add General Revision",size:"lg",children:o.jsx(Dpe,{initialData:d,onClose:()=>l(!1),onSubmit:p})}),o.jsxs(oe,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the revision"," ",o.jsx("strong",{children:m==null?void 0:m.revisionYear}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})};function Ope({initialData:t,onSubmit:e,onClose:r}){const n=new Date().getFullYear(),a=le({GeneralRevisionYear:Y().required("General Revision Year is required"),Classification:D().required("Classification is required"),Unit:D().required("Unit is required"),ActualUse:D().required("Actual Use is required"),SubClassification:D().required("Sub Class No is required"),Price:Y().required("Unit Value is required"),Location:D().required("Location or Description is required")}),s=at({initialValues:t||{GeneralRevisionYear:n,Classification:"",Unit:"",ActualUse:"",SubClassification:"",Price:"",Location:""},validationSchema:a,onSubmit:c=>{e(c)}}),i=[{value:"AGRICULTURAL",label:"AGRICULTURAL"},{value:"BUILDING",label:"BUILDING"},{value:"COMMERCIAL",label:"COMMERCIAL"},{value:"INDUSTRIAL",label:"INDUSTRIAL"},{value:"RESIDENTIAL",label:"RESIDENTIAL"}],l=()=>{if(!s.values.Classification)return[];const u={AGRICULTURAL:"A",BUILDING:"B",COMMERCIAL:"C",INDUSTRIAL:"I",RESIDENTIAL:"R"}[s.values.Classification];return u?Array.from({length:6},(d,f)=>({value:`${u}${f+1}`,label:`${u}${f+1}`})):[]};return w.useEffect(()=>{if(s.values.Classification&&s.values.SubClassification){const c=s.values.SubClassification.charAt(0),u=s.values.Classification.charAt(0);c!==u&&s.setFieldValue("SubClassification","")}},[s.values.Classification]),o.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"General Revision Year",name:"GeneralRevisionYear",type:"number",value:s.values.GeneralRevisionYear,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.GeneralRevisionYear,touched:s.touched.GeneralRevisionYear,required:!0}),o.jsx(T,{label:"Classification",name:"Classification",type:"select",options:i,value:s.values.Classification,onChange:c=>{s.handleChange(c),s.setFieldValue("SubClassification","")},onBlur:s.handleBlur,error:s.errors.Classification,touched:s.touched.Classification,required:!0}),o.jsx(T,{label:"Sub Class No.",name:"SubClassification",type:"select",options:l(),value:s.values.SubClassification,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.SubClassification,touched:s.touched.SubClassification,required:!0,disabled:!s.values.Classification}),o.jsx(T,{label:"Unit",name:"Unit",type:"select",options:[{value:"sqm",label:"Square Meter"},{value:"hec",label:"Hectare"}],value:s.values.Unit,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Unit,touched:s.touched.Unit,required:!0}),o.jsx(T,{label:"Actual Use",name:"ActualUse",type:"text",value:s.values.ActualUse,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.ActualUse,touched:s.touched.ActualUse,required:!0}),o.jsx(T,{label:"Unit Value",name:"Price",type:"number",value:s.values.Price,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Price,touched:s.touched.Price,required:!0}),o.jsx(T,{label:"Location or Description",name:"Location",type:"textarea",value:s.values.Location,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Location,touched:s.touched.Location,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}const Rj="https://staging-engine.testthelink.online",_pe=[],sf=B("baseUnits/fetchBaseUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Rj}/scheduleofBaseunitMarketValue`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ky=B("baseUnits/addBaseUnit",async(t,e)=>{try{const r=await fetch(`${Rj}/scheduleofBaseunitMarketValue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),YA=B("baseUnits/updateBaseUnit",async(t,e)=>{try{const r=await fetch(`${Rj}/scheduleofBaseunitMarketValue/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Jy=B("baseUnits/deleteBaseUnit",async(t,e)=>{try{const r=await fetch(`${Rj}/scheduleofBaseunitMarketValue/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$pe=ve({name:"baseUnits",initialState:{baseUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(sf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sf.fulfilled,(e,r)=>{e.isLoading=!1,e.baseUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(sf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch base units",console.warn("Failed to fetch base units, using mock data.",e.error),e.baseUnits=_pe}).addCase(Ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ky.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits.push(r.payload)}).addCase(Ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add base unit",console.error("Failed to add base unit:",e.error)}).addCase(YA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(YA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.baseUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits[n]=r.payload)}).addCase(Jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits=e.baseUnits.filter(n=>n.ID!==r.payload)}).addCase(Jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete base unit",console.error("Failed to delete base unit:",e.error)})}}),Rpe=$pe.reducer;function Mpe(){const t=ue(),{baseUnits:e,isLoading:r}=V(x=>x.baseUnits),{Add:n,Edit:a,Delete:s}=we(20),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(sf())},[t]);const y=()=>{u(null),l(!0)},g=x=>{u(x),l(!0)},p=x=>{h(x),f(!0)},b=async()=>{if(m)try{await t(Jy(m.ID)).unwrap(),f(!1),h(null),q.success("Base unit deleted successfully")}catch(x){console.error("Failed to delete base unit:",x),q.error("Failed to delete base unit. Please try again.")}},v=async x=>{try{c?(await t(YA({...x,ID:c.ID})).unwrap(),q.success("Base unit updated successfully")):(await t(Ky(x)).unwrap(),q.success("Base unit added successfully")),t(sf())}catch(N){console.error("Failed to save base unit:",N),q.error("Failed to save base unit. Please try again.")}finally{l(!1)}},j=[{key:"GeneralRevisionYear",header:"General Revision Year",sortable:!0},{key:"Classification",header:"Classification",sortable:!0},{key:"Location",header:"Location",sortable:!0},{key:"Unit",header:"Unit",sortable:!0},{key:"ActualUse",header:"Actual Use",sortable:!0},{key:"SubClassification",header:"Sub Classification",sortable:!0},{key:"Price",header:"Sub Classification",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Base Units"}),o.jsx("p",{children:"Manage Base Units"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Base Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No base units found. Click 'Add Base Unit' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Base Unit":"Add Base Unit",children:o.jsx(Ope,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the base unit "',m==null?void 0:m.Unit,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function Lpe(t,e){if(pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mV(t){var e=Lpe(t,"string");return pl(e)=="symbol"?e:e+""}function Dd(t,e,r){return(e=mV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(r),!0).forEach(function(n){Dd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fpe(t){if(Array.isArray(t))return t}function Bpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function KA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function hV(t,e){if(t){if(typeof t=="string")return KA(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?KA(t,e):void 0}}function qpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function js(t,e){return Fpe(t)||Bpe(t,e)||hV(t,e)||qpe()}function Vpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function qs(t,e){if(t==null)return{};var r,n,a=Vpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var Upe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function zpe(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,m=t.onMenuOpen,h=t.value,y=qs(t,Upe),g=w.useState(l!==void 0?l:r),p=js(g,2),b=p[0],v=p[1],j=w.useState(c!==void 0?c:a),C=js(j,2),x=C[0],N=C[1],S=w.useState(h!==void 0?h:i),A=js(S,2),I=A[0],E=A[1],k=w.useCallback(function($,O){typeof u=="function"&&u($,O),E($)},[u]),P=w.useCallback(function($,O){var U;typeof d=="function"&&(U=d($,O)),v(U!==void 0?U:$)},[d]),R=w.useCallback(function(){typeof m=="function"&&m(),N(!0)},[m]),M=w.useCallback(function(){typeof f=="function"&&f(),N(!1)},[f]),_=l!==void 0?l:b,L=c!==void 0?c:x,F=h!==void 0?h:I;return Pe(Pe({},y),{},{inputValue:_,menuIsOpen:L,onChange:k,onInputChange:P,onMenuClose:M,onMenuOpen:R,value:F})}function _e(){return _e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_e.apply(null,arguments)}function Wpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mV(n.key),n)}}function Hpe(t,e,r){return e&&h$(t.prototype,e),r&&h$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JA(t,e){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},JA(t,e)}function Gpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JA(t,e)}function Wx(t){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wx(t)}function pV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pV=function(){return!!t})()}function Ype(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kpe(t,e){if(e&&(pl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ype(t)}function Jpe(t){var e=pV();return function(){var r,n=Wx(t);if(e){var a=Wx(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Kpe(this,r)}}function Xpe(t){if(Array.isArray(t))return KA(t)}function Qpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LE(t){return Xpe(t)||Qpe(t)||hV(t)||Zpe()}function ege(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function tge(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var rge=function(){function t(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(tge(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=ege(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Or="-ms-",Hx="-moz-",st="-webkit-",gV="comm",FE="rule",BE="decl",nge="@import",yV="@keyframes",age="@layer",sge=Math.abs,Mj=String.fromCharCode,oge=Object.assign;function ige(t,e){return Sr(t,0)^45?(((e<<2^Sr(t,0))<<2^Sr(t,1))<<2^Sr(t,2))<<2^Sr(t,3):0}function bV(t){return t.trim()}function lge(t,e){return(t=e.exec(t))?t[0]:t}function ot(t,e,r){return t.replace(e,r)}function XA(t,e){return t.indexOf(e)}function Sr(t,e){return t.charCodeAt(e)|0}function em(t,e,r){return t.slice(e,r)}function Ea(t){return t.length}function qE(t){return t.length}function lp(t,e){return e.push(t),t}function cge(t,e){return t.map(e).join("")}var Lj=1,Wc=1,xV=0,hn=0,ar=0,wu="";function Fj(t,e,r,n,a,s,i){return{value:t,root:e,parent:r,type:n,props:a,children:s,line:Lj,column:Wc,length:i,return:""}}function nd(t,e){return oge(Fj("",null,null,"",null,null,0),t,{length:-t.length},e)}function uge(){return ar}function dge(){return ar=hn>0?Sr(wu,--hn):0,Wc--,ar===10&&(Wc=1,Lj--),ar}function In(){return ar=hn<xV?Sr(wu,hn++):0,Wc++,ar===10&&(Wc=1,Lj++),ar}function Va(){return Sr(wu,hn)}function Xy(){return hn}function sh(t,e){return em(wu,t,e)}function tm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vV(t){return Lj=Wc=1,xV=Ea(wu=t),hn=0,[]}function jV(t){return wu="",t}function Qy(t){return bV(sh(hn-1,QA(t===91?t+2:t===40?t+1:t)))}function fge(t){for(;(ar=Va())&&ar<33;)In();return tm(t)>2||tm(ar)>3?"":" "}function mge(t,e){for(;--e&&In()&&!(ar<48||ar>102||ar>57&&ar<65||ar>70&&ar<97););return sh(t,Xy()+(e<6&&Va()==32&&In()==32))}function QA(t){for(;In();)switch(ar){case t:return hn;case 34:case 39:t!==34&&t!==39&&QA(ar);break;case 40:t===41&&QA(t);break;case 92:In();break}return hn}function hge(t,e){for(;In()&&t+ar!==57;)if(t+ar===84&&Va()===47)break;return"/*"+sh(e,hn-1)+"*"+Mj(t===47?t:In())}function pge(t){for(;!tm(Va());)In();return sh(t,hn)}function gge(t){return jV(Zy("",null,null,null,[""],t=vV(t),0,[0],t))}function Zy(t,e,r,n,a,s,i,l,c){for(var u=0,d=0,f=i,m=0,h=0,y=0,g=1,p=1,b=1,v=0,j="",C=a,x=s,N=n,S=j;p;)switch(y=v,v=In()){case 40:if(y!=108&&Sr(S,f-1)==58){XA(S+=ot(Qy(v),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:S+=Qy(v);break;case 9:case 10:case 13:case 32:S+=fge(y);break;case 92:S+=mge(Xy()-1,7);continue;case 47:switch(Va()){case 42:case 47:lp(yge(hge(In(),Xy()),e,r),c);break;default:S+="/"}break;case 123*g:l[u++]=Ea(S)*b;case 125*g:case 59:case 0:switch(v){case 0:case 125:p=0;case 59+d:b==-1&&(S=ot(S,/\f/g,"")),h>0&&Ea(S)-f&&lp(h>32?g$(S+";",n,r,f-1):g$(ot(S," ","")+";",n,r,f-2),c);break;case 59:S+=";";default:if(lp(N=p$(S,e,r,u,d,a,l,j,C=[],x=[],f),s),v===123)if(d===0)Zy(S,e,N,N,C,s,f,l,x);else switch(m===99&&Sr(S,3)===110?100:m){case 100:case 108:case 109:case 115:Zy(t,N,N,n&&lp(p$(t,N,N,0,0,a,l,j,a,C=[],f),x),a,x,f,l,n?C:x);break;default:Zy(S,N,N,N,[""],x,0,l,x)}}u=d=h=0,g=b=1,j=S="",f=i;break;case 58:f=1+Ea(S),h=y;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&dge()==125)continue}switch(S+=Mj(v),v*g){case 38:b=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(Ea(S)-1)*b,b=1;break;case 64:Va()===45&&(S+=Qy(In())),m=Va(),d=f=Ea(j=S+=pge(Xy())),v++;break;case 45:y===45&&Ea(S)==2&&(g=0)}}return s}function p$(t,e,r,n,a,s,i,l,c,u,d){for(var f=a-1,m=a===0?s:[""],h=qE(m),y=0,g=0,p=0;y<n;++y)for(var b=0,v=em(t,f+1,f=sge(g=i[y])),j=t;b<h;++b)(j=bV(g>0?m[b]+" "+v:ot(v,/&\f/g,m[b])))&&(c[p++]=j);return Fj(t,e,r,a===0?FE:l,c,u,d)}function yge(t,e,r){return Fj(t,e,r,gV,Mj(uge()),em(t,2,-2),0)}function g$(t,e,r,n){return Fj(t,e,r,BE,em(t,0,n),em(t,n+1,-1),n)}function Sc(t,e){for(var r="",n=qE(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function bge(t,e,r,n){switch(t.type){case age:if(t.children.length)break;case nge:case BE:return t.return=t.return||t.value;case gV:return"";case yV:return t.return=t.value+"{"+Sc(t.children,n)+"}";case FE:t.value=t.props.join(",")}return Ea(r=Sc(t.children,n))?t.return=t.value+"{"+r+"}":""}function xge(t){var e=qE(t);return function(r,n,a,s){for(var i="",l=0;l<e;l++)i+=t[l](r,n,a,s)||"";return i}}function vge(t){return function(e){e.root||(e=e.return)&&t(e)}}function jge(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var wge=function(e,r,n){for(var a=0,s=0;a=s,s=Va(),a===38&&s===12&&(r[n]=1),!tm(s);)In();return sh(e,hn)},Nge=function(e,r){var n=-1,a=44;do switch(tm(a)){case 0:a===38&&Va()===12&&(r[n]=1),e[n]+=wge(hn-1,r,n);break;case 2:e[n]+=Qy(a);break;case 4:if(a===44){e[++n]=Va()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Mj(a)}while(a=In());return e},Cge=function(e,r){return jV(Nge(vV(e),r))},y$=new WeakMap,Sge=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!y$.get(n))&&!a){y$.set(e,!0);for(var s=[],i=Cge(r,s),l=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=s[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},Age=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function wV(t,e){switch(ige(t,e)){case 5103:return st+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return st+t+Hx+t+Or+t+t;case 6828:case 4268:return st+t+Or+t+t;case 6165:return st+t+Or+"flex-"+t+t;case 5187:return st+t+ot(t,/(\w+).+(:[^]+)/,st+"box-$1$2"+Or+"flex-$1$2")+t;case 5443:return st+t+Or+"flex-item-"+ot(t,/flex-|-self/,"")+t;case 4675:return st+t+Or+"flex-line-pack"+ot(t,/align-content|flex-|-self/,"")+t;case 5548:return st+t+Or+ot(t,"shrink","negative")+t;case 5292:return st+t+Or+ot(t,"basis","preferred-size")+t;case 6060:return st+"box-"+ot(t,"-grow","")+st+t+Or+ot(t,"grow","positive")+t;case 4554:return st+ot(t,/([^-])(transform)/g,"$1"+st+"$2")+t;case 6187:return ot(ot(ot(t,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),t,"")+t;case 5495:case 3959:return ot(t,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return ot(ot(t,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+Or+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+t+t;case 4095:case 3583:case 4068:case 2532:return ot(t,/(.+)-inline(.+)/,st+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ea(t)-1-e>6)switch(Sr(t,e+1)){case 109:if(Sr(t,e+4)!==45)break;case 102:return ot(t,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+Hx+(Sr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~XA(t,"stretch")?wV(ot(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Sr(t,e+1)!==115)break;case 6444:switch(Sr(t,Ea(t)-3-(~XA(t,"!important")&&10))){case 107:return ot(t,":",":"+st)+t;case 101:return ot(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(Sr(t,14)===45?"inline-":"")+"box$3$1"+st+"$2$3$1"+Or+"$2box$3")+t}break;case 5936:switch(Sr(t,e+11)){case 114:return st+t+Or+ot(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return st+t+Or+ot(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return st+t+Or+ot(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return st+t+Or+t+t}return t}var Ige=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case BE:e.return=wV(e.value,e.length);break;case yV:return Sc([nd(e,{value:ot(e.value,"@","@"+st)})],a);case FE:if(e.length)return cge(e.props,function(s){switch(lge(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sc([nd(e,{props:[ot(s,/:(read-\w+)/,":"+Hx+"$1")]})],a);case"::placeholder":return Sc([nd(e,{props:[ot(s,/:(plac\w+)/,":"+st+"input-$1")]}),nd(e,{props:[ot(s,/:(plac\w+)/,":"+Hx+"$1")]}),nd(e,{props:[ot(s,/:(plac\w+)/,Or+"input-$1")]})],a)}return""})}},kge=[Ige],Tge=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var p=g.getAttribute("data-emotion");p.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var a=e.stylisPlugins||kge,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(g){for(var p=g.getAttribute("data-emotion").split(" "),b=1;b<p.length;b++)s[p[b]]=!0;l.push(g)});var c,u=[Sge,Age];{var d,f=[bge,vge(function(g){d.insert(g)})],m=xge(u.concat(a,f)),h=function(p){return Sc(gge(p),m)};c=function(p,b,v,j){d=v,h(p?p+"{"+b.styles+"}":b.styles),j&&(y.inserted[b.name]=!0)}}var y={key:r,sheet:new rge({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return y.sheet.hydrate(l),y},Ege=!0;function Dge(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var NV=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||Ege===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},Pge=function(e,r,n){NV(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+a:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Oge(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var _ge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$ge=/[A-Z]|^ms/g,Rge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,CV=function(e){return e.charCodeAt(1)===45},b$=function(e){return e!=null&&typeof e!="boolean"},a1=jge(function(t){return CV(t)?t:t.replace($ge,"-$&").toLowerCase()}),x$=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Rge,function(n,a,s){return Da={name:a,styles:s,next:Da},a})}return _ge[e]!==1&&!CV(e)&&typeof r=="number"&&r!==0?r+"px":r};function rm(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Da={name:a.name,styles:a.styles,next:Da},a.name;var s=r;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)Da={name:i.name,styles:i.styles,next:Da},i=i.next;var l=s.styles+";";return l}return Mge(t,e,r)}case"function":{if(t!==void 0){var c=Da,u=r(t);return Da=c,rm(t,e,u)}break}}var d=r;return d}function Mge(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=rm(t,e,r[a])+";";else for(var s in r){var i=r[s];if(typeof i!="object"){var l=i;b$(l)&&(n+=a1(s)+":"+x$(s,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var c=0;c<i.length;c++)b$(i[c])&&(n+=a1(s)+":"+x$(s,i[c])+";");else{var u=rm(t,e,i);switch(s){case"animation":case"animationName":{n+=a1(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var v$=/label:\s*([^\s;{]+)\s*(;|$)/g,Da;function SV(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";Da=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,a+=rm(r,e,s);else{var i=s;a+=i[0]}for(var l=1;l<t.length;l++)if(a+=rm(r,e,t[l]),n){var c=s;a+=c[l]}v$.lastIndex=0;for(var u="",d;(d=v$.exec(a))!==null;)u+="-"+d[1];var f=Oge(a)+u;return{name:f,styles:a,next:Da}}var Lge=function(e){return e()},Fge=xf.useInsertionEffect?xf.useInsertionEffect:!1,Bge=Fge||Lge,AV=w.createContext(typeof HTMLElement<"u"?Tge({key:"css"}):null);AV.Provider;var qge=function(e){return w.forwardRef(function(r,n){var a=w.useContext(AV);return e(r,a,n)})},Vge=w.createContext({}),VE={}.hasOwnProperty,ZA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Uge=function(e,r){var n={};for(var a in r)VE.call(r,a)&&(n[a]=r[a]);return n[ZA]=e,n},zge=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return NV(r,n,a),Bge(function(){return Pge(r,n,a)}),null},Wge=qge(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[ZA],s=[n],i="";typeof t.className=="string"?i=Dge(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=SV(s,void 0,w.useContext(Vge));i+=e.key+"-"+l.name;var c={};for(var u in t)VE.call(t,u)&&u!=="css"&&u!==ZA&&(c[u]=t[u]);return c.className=i,r&&(c.ref=r),w.createElement(w.Fragment,null,w.createElement(zge,{cache:e,serialized:l,isStringTag:typeof a=="string"}),w.createElement(a,c))}),Hge=Wge,Te=function(e,r){var n=arguments;if(r==null||!VE.call(r,"css"))return w.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=Hge,s[1]=Uge(e,r);for(var i=2;i<a;i++)s[i]=n[i];return w.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Te||(Te={}));function UE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return SV(e)}function Gge(){var t=UE.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Yge(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Kge=Math.min,Jge=Math.max,Gx=Math.round,cp=Math.floor,Yx=t=>({x:t,y:t});function Xge(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function Bj(){return typeof window<"u"}function IV(t){return TV(t)?(t.nodeName||"").toLowerCase():"#document"}function Ps(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function kV(t){var e;return(e=(TV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function TV(t){return Bj()?t instanceof Node||t instanceof Ps(t).Node:!1}function Qge(t){return Bj()?t instanceof Element||t instanceof Ps(t).Element:!1}function zE(t){return Bj()?t instanceof HTMLElement||t instanceof Ps(t).HTMLElement:!1}function j$(t){return!Bj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ps(t).ShadowRoot}const Zge=new Set(["inline","contents"]);function EV(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=WE(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Zge.has(a)}function eye(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tye=new Set(["html","body","#document"]);function rye(t){return tye.has(IV(t))}function WE(t){return Ps(t).getComputedStyle(t)}function nye(t){if(IV(t)==="html")return t;const e=t.assignedSlot||t.parentNode||j$(t)&&t.host||kV(t);return j$(e)?e.host:e}function DV(t){const e=nye(t);return rye(e)?t.ownerDocument?t.ownerDocument.body:t.body:zE(e)&&EV(e)?e:DV(e)}function Kx(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=DV(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),i=Ps(a);if(s){const l=eI(i);return e.concat(i,i.visualViewport||[],EV(a)?a:[],l&&r?Kx(l):[])}return e.concat(a,Kx(a,[],r))}function eI(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function aye(t){const e=WE(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=zE(t),s=a?t.offsetWidth:r,i=a?t.offsetHeight:n,l=Gx(r)!==s||Gx(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function HE(t){return Qge(t)?t:t.contextElement}function w$(t){const e=HE(t);if(!zE(e))return Yx(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=aye(e);let i=(s?Gx(r.width):r.width)/n,l=(s?Gx(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const sye=Yx(0);function oye(t){const e=Ps(t);return!eye()||!e.visualViewport?sye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function iye(t,e,r){return!1}function N$(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),s=HE(t);let i=Yx(1);e&&(i=w$(t));const l=iye()?oye(s):Yx(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const m=Ps(s),h=n;let y=m,g=eI(y);for(;g&&n&&h!==y;){const p=w$(g),b=g.getBoundingClientRect(),v=WE(g),j=b.left+(g.clientLeft+parseFloat(v.paddingLeft))*p.x,C=b.top+(g.clientTop+parseFloat(v.paddingTop))*p.y;c*=p.x,u*=p.y,d*=p.x,f*=p.y,c+=j,u+=C,y=Ps(g),g=eI(y)}}return Xge({width:d,height:f,x:c,y:u})}function PV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function lye(t,e){let r=null,n;const a=kV(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||e(),!m||!h)return;const y=cp(f),g=cp(a.clientWidth-(d+m)),p=cp(a.clientHeight-(f+h)),b=cp(d),j={rootMargin:-y+"px "+-g+"px "+-p+"px "+-b+"px",threshold:Jge(0,Kge(1,c))||1};let C=!0;function x(N){const S=N[0].intersectionRatio;if(S!==c){if(!C)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!PV(u,t.getBoundingClientRect())&&i(),C=!1}try{r=new IntersectionObserver(x,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(x,j)}r.observe(t)}return i(!0),s}function cye(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=HE(t),d=a||s?[...u?Kx(u):[],...Kx(e)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const f=u&&l?lye(u,r):null;let m=-1,h=null;i&&(h=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=h)==null||j.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let y,g=c?N$(t):null;c&&p();function p(){const b=N$(t);g&&!PV(g,b)&&r(),g=b,y=requestAnimationFrame(p)}return r(),()=>{var b;d.forEach(v=>{a&&v.removeEventListener("scroll",r),s&&v.removeEventListener("resize",r)}),f==null||f(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(y)}}var tI=w.useLayoutEffect,uye=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Jx=function(){};function dye(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function fye(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(dye(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var C$=function(e){return jye(e)?e.filter(Boolean):pl(e)==="object"&&e!==null?[e]:[]},OV=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=qs(e,uye);return Pe({},r)},Kt=function(e,r,n){var a=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(r,e),className:a(n??{},i(r,e),l)}};function qj(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function mye(t){return qj(t)?window.innerHeight:t.clientHeight}function _V(t){return qj(t)?window.pageYOffset:t.scrollTop}function Xx(t,e){if(qj(t)){window.scrollTo(0,e);return}t.scrollTop=e}function hye(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function pye(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function up(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Jx,a=_V(t),s=e-a,i=10,l=0;function c(){l+=i;var u=pye(l,a,s,r);Xx(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function S$(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?Xx(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&Xx(t,Math.max(e.offsetTop-a,0))}function gye(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function A$(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function yye(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var $V=!1,bye={get passive(){return $V=!0}},dp=typeof window<"u"?window:{};dp.addEventListener&&dp.removeEventListener&&(dp.addEventListener("p",Jx,bye),dp.removeEventListener("p",Jx,!1));var xye=$V;function vye(t){return t!=null}function jye(t){return Array.isArray(t)}function fp(t,e,r){return t?e:r}var wye=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(i){var l=js(i,1),c=l[0];return!n.includes(c)});return s.reduce(function(i,l){var c=js(l,2),u=c[0],d=c[1];return i[u]=d,i},{})},Nye=["children","innerProps"],Cye=["children","innerProps"];function Sye(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,c=hye(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,m=r.getBoundingClientRect(),h=m.bottom,y=m.height,g=m.top,p=r.offsetParent.getBoundingClientRect(),b=p.top,v=i?window.innerHeight:mye(c),j=_V(c),C=parseInt(getComputedStyle(r).marginBottom,10),x=parseInt(getComputedStyle(r).marginTop,10),N=b-x,S=v-g,A=N+j,I=f-j-g,E=h-v+j+C,k=j+g-x,P=160;switch(a){case"auto":case"bottom":if(S>=y)return{placement:"bottom",maxHeight:e};if(I>=y&&!i)return s&&up(c,E,P),{placement:"bottom",maxHeight:e};if(!i&&I>=n||i&&S>=n){s&&up(c,E,P);var R=i?S-C:I-C;return{placement:"bottom",maxHeight:R}}if(a==="auto"||i){var M=e,_=i?N:A;return _>=n&&(M=Math.min(_-C-l,e)),{placement:"top",maxHeight:M}}if(a==="bottom")return s&&Xx(c,E),{placement:"bottom",maxHeight:e};break;case"top":if(N>=y)return{placement:"top",maxHeight:e};if(A>=y&&!i)return s&&up(c,k,P),{placement:"top",maxHeight:e};if(!i&&A>=n||i&&N>=n){var L=e;return(!i&&A>=n||i&&N>=n)&&(L=i?N-x:A-x),s&&up(c,k,P),{placement:"top",maxHeight:L}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function Aye(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var RV=function(e){return e==="auto"?"bottom":e},Iye=function(e,r){var n,a=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,c=s.colors;return Pe((n={label:"menu"},Dd(n,Aye(a),"100%"),Dd(n,"position","absolute"),Dd(n,"width","100%"),Dd(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},MV=w.createContext(null),kye=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=w.useContext(MV)||{},d=u.setPortalPlacement,f=w.useRef(null),m=w.useState(a),h=js(m,2),y=h[0],g=h[1],p=w.useState(null),b=js(p,2),v=b[0],j=b[1],C=c.spacing.controlHeight;return tI(function(){var x=f.current;if(x){var N=i==="fixed",S=l&&!N,A=Sye({maxHeight:a,menuEl:x,minHeight:n,placement:s,shouldScroll:S,isFixedPosition:N,controlHeight:C});g(A.maxHeight),j(A.placement),d==null||d(A.placement)}},[a,s,i,l,n,d,C]),r({ref:f,placerProps:Pe(Pe({},e),{},{placement:v||RV(s),maxHeight:y})})},Tye=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return Te("div",_e({},Kt(e,"menu",{menu:!0}),{ref:n},a),r)},Eye=Tye,Dye=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Pe({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},Pye=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return Te("div",_e({},Kt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},LV=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Pe({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},Oye=LV,_ye=LV,$ye=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=qs(e,Nye);return Te("div",_e({},Kt(Pe(Pe({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},Rye=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=qs(e,Cye);return Te("div",_e({},Kt(Pe(Pe({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},Mye=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},Lye=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,c=w.useRef(null),u=w.useRef(null),d=w.useState(RV(i)),f=js(d,2),m=f[0],h=f[1],y=w.useMemo(function(){return{setPortalPlacement:h}},[]),g=w.useState(null),p=js(g,2),b=p[0],v=p[1],j=w.useCallback(function(){if(a){var S=gye(a),A=l==="fixed"?0:window.pageYOffset,I=S[m]+A;(I!==(b==null?void 0:b.offset)||S.left!==(b==null?void 0:b.rect.left)||S.width!==(b==null?void 0:b.rect.width))&&v({offset:I,rect:S})}},[a,l,m,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);tI(function(){j()},[j]);var C=w.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=cye(a,c.current,j,{elementResize:"ResizeObserver"in window}))},[a,j]);tI(function(){C()},[C]);var x=w.useCallback(function(S){c.current=S,C()},[C]);if(!r&&l!=="fixed"||!b)return null;var N=Te("div",_e({ref:x},Kt(Pe(Pe({},e),{},{offset:b.offset,position:l,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Te(MV.Provider,{value:y},r?c0.createPortal(N,r):N)},Fye=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Bye=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return Te("div",_e({},Kt(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},qye=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Pe({alignItems:"center",display:a&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Vye=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return Te("div",_e({},Kt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},Uye=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},zye=function(e){var r=e.children,n=e.innerProps;return Te("div",_e({},Kt(e,"indicatorsContainer",{indicators:!0}),n),r)},I$,Wye=["size"],Hye=["innerProps","isRtl","size"],Gye={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},FV=function(e){var r=e.size,n=qs(e,Wye);return Te("svg",_e({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Gye},n))},GE=function(e){return Te(FV,_e({size:20},e),Te("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},BV=function(e){return Te(FV,_e({size:20},e),Te("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},qV=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Pe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},Yye=qV,Kye=function(e){var r=e.children,n=e.innerProps;return Te("div",_e({},Kt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Te(BV,null))},Jye=qV,Xye=function(e){var r=e.children,n=e.innerProps;return Te("div",_e({},Kt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Te(GE,null))},Qye=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Pe({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},Zye=function(e){var r=e.innerProps;return Te("span",_e({},r,Kt(e,"indicatorSeparator",{"indicator-separator":!0})))},ebe=Gge(I$||(I$=Yge([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),tbe=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Pe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},s1=function(e){var r=e.delay,n=e.offset;return Te("span",{css:UE({animation:"".concat(ebe," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},rbe=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,i=qs(e,Hye);return Te("div",_e({},Kt(Pe(Pe({},i),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Te(s1,{delay:0,offset:n}),Te(s1,{delay:160,offset:!0}),Te(s1,{delay:320,offset:!n}))},nbe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,c=s.spacing;return Pe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},abe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Te("div",_e({ref:s},Kt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},sbe=abe,obe=["data"],ibe=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},lbe=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Te("div",_e({},Kt(e,"group",{group:!0}),c),Te(i,_e({},l,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:n}),u),Te("div",null,r))},cbe=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return Pe({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},ube=function(e){var r=OV(e);r.data;var n=qs(r,obe);return Te("div",_e({},Kt(e,"groupHeading",{"group-heading":!0}),n))},dbe=lbe,fbe=["innerRef","isDisabled","isHidden","inputClassName"],mbe=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,i=s.spacing,l=s.colors;return Pe(Pe({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},hbe),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},VV={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},hbe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Pe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},VV)},pbe=function(e){return Pe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},VV)},gbe=function(e){var r=e.cx,n=e.value,a=OV(e),s=a.innerRef,i=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=qs(a,fbe);return Te("div",_e({},Kt(e,"input",{"input-container":!0}),{"data-value":n||""}),Te("input",_e({className:r({input:!0},c),ref:s,style:pbe(l),disabled:i},u)))},ybe=gbe,bbe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors;return Pe({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},xbe=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Pe({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},vbe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Pe({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},UV=function(e){var r=e.children,n=e.innerProps;return Te("div",n,r)},jbe=UV,wbe=UV;function Nbe(t){var e=t.children,r=t.innerProps;return Te("div",_e({role:"button"},r),e||Te(GE,{size:14}))}var Cbe=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,d=n.Label,f=n.Remove;return Te(u,{data:a,innerProps:Pe(Pe({},Kt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:c},Te(d,{data:a,innerProps:Pe({},Kt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Te(f,{data:a,innerProps:Pe(Pe({},Kt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},Sbe=Cbe,Abe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,c=i.colors;return Pe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},Ibe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return Te("div",_e({},Kt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),r)},kbe=Ibe,Tbe=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return Pe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},Ebe=function(e){var r=e.children,n=e.innerProps;return Te("div",_e({},Kt(e,"placeholder",{placeholder:!0}),n),r)},Dbe=Ebe,Pbe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,i=a.colors;return Pe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Obe=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return Te("div",_e({},Kt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},_be=Obe,$be={ClearIndicator:Xye,Control:sbe,DropdownIndicator:Kye,DownChevron:BV,CrossIcon:GE,Group:dbe,GroupHeading:ube,IndicatorsContainer:zye,IndicatorSeparator:Zye,Input:ybe,LoadingIndicator:rbe,Menu:Eye,MenuList:Pye,MenuPortal:Lye,LoadingMessage:Rye,NoOptionsMessage:$ye,MultiValue:Sbe,MultiValueContainer:jbe,MultiValueLabel:wbe,MultiValueRemove:Nbe,Option:kbe,Placeholder:Dbe,SelectContainer:Bye,SingleValue:_be,ValueContainer:Vye},Rbe=function(e){return Pe(Pe({},$be),e.components)},k$=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Mbe(t,e){return!!(t===e||k$(t)&&k$(e))}function Lbe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Mbe(t[r],e[r]))return!1;return!0}function Fbe(t,e){e===void 0&&(e=Lbe);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var Bbe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},qbe=function(e){return Te("span",_e({css:Bbe},e))},T$=qbe,Vbe={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(g,p){return g&&g.length?"".concat(g.indexOf(p)+1," of ").concat(g.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,n),".");if(r==="menu"&&d){var m=c?" disabled":"",h="".concat(u?" selected":"").concat(m);return"".concat(i).concat(h,", ").concat(f(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Ube=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,m=c.getOptionLabel,h=c.inputValue,y=c.isMulti,g=c.isOptionDisabled,p=c.isSearchable,b=c.menuIsOpen,v=c.options,j=c.screenReaderStatus,C=c.tabSelectsValue,x=c.isLoading,N=c["aria-label"],S=c["aria-live"],A=w.useMemo(function(){return Pe(Pe({},Vbe),f||{})},[f]),I=w.useMemo(function(){var _="";if(r&&A.onChange){var L=r.option,F=r.options,$=r.removedValue,O=r.removedValues,U=r.value,K=function(ce){return Array.isArray(ce)?null:ce},G=$||L||K(U),z=G?m(G):"",ae=F||O||void 0,xe=ae?ae.map(m):[],se=Pe({isDisabled:G&&g(G,l),label:z,labels:xe},r);_=A.onChange(se)}return _},[r,A,g,l,m]),E=w.useMemo(function(){var _="",L=n||a,F=!!(n&&l&&l.includes(n));if(L&&A.onFocus){var $={focused:L,label:m(L),isDisabled:g(L,l),isSelected:F,options:s,context:L===n?"menu":"value",selectValue:l,isAppleDevice:d};_=A.onFocus($)}return _},[n,a,m,g,A,s,l,d]),k=w.useMemo(function(){var _="";if(b&&v.length&&!x&&A.onFilter){var L=j({count:s.length});_=A.onFilter({inputValue:h,resultsMessage:L})}return _},[s,h,b,A,v,j,x]),P=(r==null?void 0:r.action)==="initial-input-focus",R=w.useMemo(function(){var _="";if(A.guidance){var L=a?"value":b?"menu":"input";_=A.guidance({"aria-label":N,context:L,isDisabled:n&&g(n,l),isMulti:y,isSearchable:p,tabSelectsValue:C,isInitialFocus:P})}return _},[N,n,a,y,g,p,b,A,l,C,P]),M=Te(w.Fragment,null,Te("span",{id:"aria-selection"},I),Te("span",{id:"aria-focused"},E),Te("span",{id:"aria-results"},k),Te("span",{id:"aria-guidance"},R));return Te(w.Fragment,null,Te(T$,{id:u},P&&M),Te(T$,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!P&&M))},zbe=Ube,rI=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Wbe=new RegExp("["+rI.map(function(t){return t.letters}).join("")+"]","g"),zV={};for(var o1=0;o1<rI.length;o1++)for(var i1=rI[o1],l1=0;l1<i1.letters.length;l1++)zV[i1.letters[l1]]=i1.base;var WV=function(e){return e.replace(Wbe,function(r){return zV[r]})},Hbe=Fbe(WV),E$=function(e){return e.replace(/^\s+|\s+$/g,"")},Gbe=function(e){return"".concat(e.label," ").concat(e.value)},Ybe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Pe({ignoreCase:!0,ignoreAccents:!0,stringify:Gbe,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,i=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,d=c?E$(n):n,f=c?E$(l(r)):l(r);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),i&&(d=Hbe(d),f=WV(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},Kbe=["innerRef"];function Jbe(t){var e=t.innerRef,r=qs(t,Kbe),n=wye(r,"onExited","in","enter","exit","appear");return Te("input",_e({ref:e},n,{css:UE({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Xbe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Qbe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,i=w.useRef(!1),l=w.useRef(!1),c=w.useRef(0),u=w.useRef(null),d=w.useCallback(function(p,b){if(u.current!==null){var v=u.current,j=v.scrollTop,C=v.scrollHeight,x=v.clientHeight,N=u.current,S=b>0,A=C-x-j,I=!1;A>b&&i.current&&(n&&n(p),i.current=!1),S&&l.current&&(s&&s(p),l.current=!1),S&&b>A?(r&&!i.current&&r(p),N.scrollTop=C,I=!0,i.current=!0):!S&&-b>j&&(a&&!l.current&&a(p),N.scrollTop=0,I=!0,l.current=!0),I&&Xbe(p)}},[r,n,a,s]),f=w.useCallback(function(p){d(p,p.deltaY)},[d]),m=w.useCallback(function(p){c.current=p.changedTouches[0].clientY},[]),h=w.useCallback(function(p){var b=c.current-p.changedTouches[0].clientY;d(p,b)},[d]),y=w.useCallback(function(p){if(p){var b=xye?{passive:!1}:!1;p.addEventListener("wheel",f,b),p.addEventListener("touchstart",m,b),p.addEventListener("touchmove",h,b)}},[h,m,f]),g=w.useCallback(function(p){p&&(p.removeEventListener("wheel",f,!1),p.removeEventListener("touchstart",m,!1),p.removeEventListener("touchmove",h,!1))},[h,m,f]);return w.useEffect(function(){if(e){var p=u.current;return y(p),function(){g(p)}}},[e,y,g]),function(p){u.current=p}}var D$=["boxSizing","height","overflow","paddingRight","position"],P$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function O$(t){t.cancelable&&t.preventDefault()}function _$(t){t.stopPropagation()}function $$(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function R$(){return"ontouchstart"in window||navigator.maxTouchPoints}var M$=!!(typeof window<"u"&&window.document&&window.document.createElement),ad=0,Bl={capture:!1,passive:!1};function Zbe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=w.useRef({}),s=w.useRef(null),i=w.useCallback(function(c){if(M$){var u=document.body,d=u&&u.style;if(n&&D$.forEach(function(y){var g=d&&d[y];a.current[y]=g}),n&&ad<1){var f=parseInt(a.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,h=window.innerWidth-m+f||0;Object.keys(P$).forEach(function(y){var g=P$[y];d&&(d[y]=g)}),d&&(d.paddingRight="".concat(h,"px"))}u&&R$()&&(u.addEventListener("touchmove",O$,Bl),c&&(c.addEventListener("touchstart",$$,Bl),c.addEventListener("touchmove",_$,Bl))),ad+=1}},[n]),l=w.useCallback(function(c){if(M$){var u=document.body,d=u&&u.style;ad=Math.max(ad-1,0),n&&ad<1&&D$.forEach(function(f){var m=a.current[f];d&&(d[f]=m)}),u&&R$()&&(u.removeEventListener("touchmove",O$,Bl),c&&(c.removeEventListener("touchstart",$$,Bl),c.removeEventListener("touchmove",_$,Bl)))}},[n]);return w.useEffect(function(){if(e){var c=s.current;return i(c),function(){l(c)}}},[e,i,l]),function(c){s.current=c}}var exe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},txe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function rxe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=Qbe({isEnabled:a,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),d=Zbe({isEnabled:r}),f=function(h){u(h),d(h)};return Te(w.Fragment,null,r&&Te("div",{onClick:exe,css:txe}),e(f))}var nxe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},axe=function(e){var r=e.name,n=e.onFocus;return Te("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:nxe,value:"",onChange:function(){}})},sxe=axe;function YE(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function oxe(){return YE(/^iPhone/i)}function HV(){return YE(/^Mac/i)}function ixe(){return YE(/^iPad/i)||HV()&&navigator.maxTouchPoints>1}function lxe(){return oxe()||ixe()}function cxe(){return HV()||lxe()}var uxe=function(e){return e.label},dxe=function(e){return e.label},fxe=function(e){return e.value},mxe=function(e){return!!e.isDisabled},hxe={clearIndicator:Jye,container:Fye,control:nbe,dropdownIndicator:Yye,group:ibe,groupHeading:cbe,indicatorsContainer:Uye,indicatorSeparator:Qye,input:mbe,loadingIndicator:tbe,loadingMessage:_ye,menu:Iye,menuList:Dye,menuPortal:Mye,multiValue:bbe,multiValueLabel:xbe,multiValueRemove:vbe,noOptionsMessage:Oye,option:Abe,placeholder:Tbe,singleValue:Pbe,valueContainer:qye},pxe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},gxe=4,GV=4,yxe=38,bxe=GV*2,xxe={baseUnit:GV,controlHeight:yxe,menuGutter:bxe},c1={borderRadius:gxe,colors:pxe,spacing:xxe},vxe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:A$(),captureMenuScroll:!A$(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Ybe(),formatGroupLabel:uxe,getOptionLabel:dxe,getOptionValue:fxe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:mxe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!yye(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function L$(t,e,r,n){var a=JV(t,e,r),s=XV(t,e,r),i=KV(t,e),l=Qx(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:i,value:l,index:n}}function eb(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,l){return L$(t,i,e,l)}).filter(function(i){return B$(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=L$(t,r,e,n);return B$(t,s)?s:void 0}).filter(vye)}function YV(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,LE(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function F$(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,LE(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function jxe(t,e){return YV(eb(t,e))}function B$(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,i=e.label,l=e.value;return(!ZV(t)||!s)&&QV(t,{label:i,value:l,data:a},n)}function wxe(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function Nxe(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var u1=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},KV=function(e,r){return e.getOptionLabel(r)},Qx=function(e,r){return e.getOptionValue(r)};function JV(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function XV(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Qx(t,e);return r.some(function(a){return Qx(t,a)===n})}function QV(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var ZV=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},Cxe=1,eU=function(t){Gpe(r,t);var e=Jpe(r);function r(n){var a;if(Wpe(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var d=a.props,f=d.onChange,m=d.name;u.name=m,a.ariaOnChange(c,u),f(c,u)},a.setValue=function(c,u,d){var f=a.props,m=f.closeMenuOnSelect,h=f.isMulti,y=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:y}),m&&(a.setState({inputIsHiddenAfterUpdate:!h}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:d})},a.selectOption=function(c){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,h=a.state.selectValue,y=f&&a.isOptionSelected(c,h),g=a.isOptionDisabled(c,h);if(y){var p=a.getOptionValue(c);a.setValue(h.filter(function(b){return a.getOptionValue(b)!==p}),"deselect-option",c)}else if(!g)f?a.setValue([].concat(LE(h),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(c),m=d.filter(function(y){return a.getOptionValue(y)!==f}),h=fp(u,m,m[0]||null);a.onChange(h,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(fp(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=fp(c,f,f[0]||null);d&&a.onChange(m,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(c){return u1(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return F$(eb(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return fye.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return KV(a.props,c)},a.getOptionValue=function(c){return Qx(a.props,c)},a.getStyles=function(c,u){var d=a.props.unstyled,f=hxe[c](u,d);f.boxSizing="border-box";var m=a.props.styles[c];return m?m(f,u):f},a.getClassNames=function(c,u){var d,f;return(d=(f=a.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return Rbe(a.props)},a.buildCategorizedOptions=function(){return eb(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return YV(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Pe({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&qj(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),m=Math.abs(d.clientY-a.initialTouchY),h=5;a.userIsDragging=f>h||m>h}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,d=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),d=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:d>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return ZV(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,h=u.inputValue,y=u.isClearable,g=u.isDisabled,p=u.menuIsOpen,b=u.onKeyDown,v=u.tabSelectsValue,j=u.openMenuOnFocus,C=a.state,x=C.focusedOption,N=C.focusedValue,S=C.selectValue;if(!g&&!(typeof b=="function"&&(b(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||h)return;a.focusValue("previous");break;case"ArrowRight":if(!d||h)return;a.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(N)a.removeValue(N);else{if(!f)return;d?a.popValue():y&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!p||!v||!x||j&&a.isOptionSelected(x,S))return;a.selectOption(x);break;case"Enter":if(c.keyCode===229)break;if(p){if(!x||a.isComposing)return;a.selectOption(x);break}return;case"Escape":p?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:h}),a.onMenuClose()):y&&m&&a.clearValue();break;case" ":if(h)return;if(!p){a.openMenu("first");break}if(!x)return;a.selectOption(x);break;case"ArrowUp":p?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":p?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!p)return;a.focusOption("pageup");break;case"PageDown":if(!p)return;a.focusOption("pagedown");break;case"Home":if(!p)return;a.focusOption("first");break;case"End":if(!p)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++Cxe),a.state.selectValue=C$(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),l=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=i[l],a.state.focusedOptionId=u1(s,i[l])}return a}return Hpe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&S$(this.menuListRef,this.focusedOptionRef),cxe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!i&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(S$(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,i=this.state,l=i.selectValue,c=i.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var u=i.length-1,d=-1;if(i.length){switch(a){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(i);i||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(c1):Pe(Pe({},c1),this.props.theme):c1}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,h=f.isRtl,y=f.options,g=this.hasValue();return{clearValue:a,cx:s,getStyles:i,getClassNames:l,getValue:c,hasValue:g,isMulti:m,isRtl:h,options:y,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,i=a.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(a,s){return JV(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return XV(this.props,a,s)}},{key:"filterOption",value:function(a,s){return QV(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,i=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,m=a.required,h=this.getComponents(),y=h.Input,g=this.state,p=g.inputIsHidden,b=g.ariaSelection,v=this.commonProps,j=l||this.getElementId("input"),C=Pe(Pe(Pe({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?w.createElement(y,_e({},v,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:j,innerRef:this.getInputRef,isDisabled:s,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},C)):w.createElement(Jbe,_e({id:j,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Jx,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,m=this.commonProps,h=this.props,y=h.controlShouldRenderValue,g=h.isDisabled,p=h.isMulti,b=h.inputValue,v=h.placeholder,j=this.state,C=j.selectValue,x=j.focusedValue,N=j.isFocused;if(!this.hasValue()||!y)return b?null:w.createElement(f,_e({},m,{key:"placeholder",isDisabled:g,isFocused:N,innerProps:{id:this.getElementId("placeholder")}}),v);if(p)return C.map(function(A,I){var E=A===x,k="".concat(a.getOptionLabel(A),"-").concat(a.getOptionValue(A));return w.createElement(i,_e({},m,{components:{Container:l,Label:c,Remove:u},isFocused:E,isDisabled:g,key:k,index:I,removeProps:{onClick:function(){return a.removeValue(A)},onTouchEnd:function(){return a.removeValue(A)},onMouseDown:function(R){R.preventDefault()}},data:A}),a.formatOptionLabel(A,"value"))});if(b)return null;var S=C[0];return w.createElement(d,_e({},m,{data:S,isDisabled:g}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,_e({},i,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return w.createElement(s,_e({},i,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,i=a.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return w.createElement(i,_e({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,_e({},i,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,m=s.NoOptionsMessage,h=s.Option,y=this.commonProps,g=this.state.focusedOption,p=this.props,b=p.captureMenuScroll,v=p.inputValue,j=p.isLoading,C=p.loadingMessage,x=p.minMenuHeight,N=p.maxMenuHeight,S=p.menuIsOpen,A=p.menuPlacement,I=p.menuPosition,E=p.menuPortalTarget,k=p.menuShouldBlockScroll,P=p.menuShouldScrollIntoView,R=p.noOptionsMessage,M=p.onMenuScrollToTop,_=p.onMenuScrollToBottom;if(!S)return null;var L=function(z,ae){var xe=z.type,se=z.data,J=z.isDisabled,ce=z.isSelected,ee=z.label,re=z.value,X=g===se,H=J?void 0:function(){return a.onOptionHover(se)},me=J?void 0:function(){return a.selectOption(se)},Ne="".concat(a.getElementId("option"),"-").concat(ae),Ee={id:Ne,onClick:me,onMouseMove:H,onMouseOver:H,tabIndex:-1,role:"option","aria-selected":a.state.isAppleDevice?void 0:ce};return w.createElement(h,_e({},y,{innerProps:Ee,data:se,isDisabled:J,isSelected:ce,key:Ne,label:ee,type:xe,value:re,isFocused:X,innerRef:X?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(z.data,"menu"))},F;if(this.hasOptions())F=this.getCategorizedOptions().map(function(G){if(G.type==="group"){var z=G.data,ae=G.options,xe=G.index,se="".concat(a.getElementId("group"),"-").concat(xe),J="".concat(se,"-heading");return w.createElement(i,_e({},y,{key:se,data:z,options:ae,Heading:l,headingProps:{id:J,data:G.data},label:a.formatGroupLabel(G.data)}),G.options.map(function(ce){return L(ce,"".concat(xe,"-").concat(ce.index))}))}else if(G.type==="option")return L(G,"".concat(G.index))});else if(j){var $=C({inputValue:v});if($===null)return null;F=w.createElement(f,y,$)}else{var O=R({inputValue:v});if(O===null)return null;F=w.createElement(m,y,O)}var U={minMenuHeight:x,maxMenuHeight:N,menuPlacement:A,menuPosition:I,menuShouldScrollIntoView:P},K=w.createElement(kye,_e({},y,U),function(G){var z=G.ref,ae=G.placerProps,xe=ae.placement,se=ae.maxHeight;return w.createElement(c,_e({},y,U,{innerRef:z,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:j,placement:xe}),w.createElement(rxe,{captureEnabled:b,onTopArrive:M,onBottomArrive:_,lockEnabled:k},function(J){return w.createElement(u,_e({},y,{innerRef:function(ee){a.getMenuListRef(ee),J(ee)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:a.getElementId("listbox")},isLoading:j,maxHeight:se,focusedOption:g}),F)}))});return E||I==="fixed"?w.createElement(d,_e({},y,{appendTo:E,controlElement:this.controlRef,menuPlacement:A,menuPosition:I}),K):K}},{key:"renderFormField",value:function(){var a=this,s=this.props,i=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return w.createElement(sxe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(i){var m=f.map(function(g){return a.getOptionValue(g)}).join(i);return w.createElement("input",{name:u,type:"hidden",value:m})}else{var h=f.length>0?f.map(function(g,p){return w.createElement("input",{key:"i-".concat(p),name:u,type:"hidden",value:a.getOptionValue(g)})}):w.createElement("input",{name:u,type:"hidden",value:""});return w.createElement("div",null,h)}else{var y=f[0]?this.getOptionValue(f[0]):"";return w.createElement("input",{name:u,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return w.createElement(zbe,_e({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,i=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,h=u.menuIsOpen,y=this.state.isFocused,g=this.commonProps=this.getCommonProps();return w.createElement(l,_e({},g,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:y}),this.renderLiveRegion(),w.createElement(s,_e({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:y,menuIsOpen:h}),w.createElement(c,_e({},g,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),w.createElement(i,_e({},g,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,m=s.instancePrefix,h=a.options,y=a.value,g=a.menuIsOpen,p=a.inputValue,b=a.isMulti,v=C$(y),j={};if(i&&(y!==i.value||h!==i.options||g!==i.menuIsOpen||p!==i.inputValue)){var C=g?jxe(a,v):[],x=g?F$(eb(a,v),"".concat(m,"-option")):[],N=l?wxe(s,v):null,S=Nxe(s,C),A=u1(x,S);j={selectValue:v,focusedOption:S,focusedOptionId:A,focusableOptionsWithIds:x,focusedValue:N,clearFocusValueOnUpdate:!1}}var I=c!=null&&a!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},E=u,k=d&&f;return d&&!k&&(E={value:fp(b,v,v[0]||null),options:v,action:"initial-input-focus"},k=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(E=null),Pe(Pe(Pe({},j),I),{},{prevProps:a,ariaSelection:E,prevWasFocused:k})}}]),r}(w.Component);eU.defaultProps=vxe;var Sxe=w.forwardRef(function(t,e){var r=zpe(t);return w.createElement(eU,_e({ref:e},r))}),Wr=Sxe;function nm({price:t="",quantity:e="",taxRate:r="",discountPercent:n="",vatable:a=!1,ewtRate:s=0,vatRate:i=12}){const l=parseFloat(t)||0,c=parseFloat(e)||0,u=parseFloat(r)||0,d=(parseFloat(n)||0)/100,f=parseFloat(s)||0;let m=0,h=0,y=0,g=0,p=0,b=0,v=0,j=0,C=0;return a?(m=l*c,h=+(m*d).toFixed(2),g=+(m-h).toFixed(2),y=+(g*i/(100+i)).toFixed(2),p=+(g-y).toFixed(2)):(m=l*c,h=+(m*d).toFixed(2),y=+(m*i/100).toFixed(2),p=+(m-h).toFixed(2),g=+(p+y).toFixed(2)),b=+(p*u/100*-1).toFixed(2),v=+(p*f/100*-1).toFixed(2),j=+(b+v).toFixed(2),C=a?+(g+j).toFixed(2):+(p+j).toFixed(2),{subtotalBeforeDiscount:m,discount:h,vat:y,subtotalTaxIncluded:g,subtotalTaxExcluded:p,withheld:b,ewt:v,ewtrate:f,totalDeduction:j,subtotal:C}}function tU({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=le({ResponsibilityCenter:D().required("Required"),ChargeAccountID:D().required("Required"),ItemID:D().required("Required"),Remarks:D().required("Required"),FPP:D().required("Required"),Price:Y().required("Required"),Quantity:Y().required("Required"),ItemUnitID:D().required("Required"),TAXCodeID:D().required("Required"),DiscountRate:Y().required("Required")}),d=at({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,DiscountRate:0,subtotal:0},validationSchema:u,onSubmit:y=>{const g=i.find(C=>String(C.ID)===String(y.TAXCodeID)),p=nm({price:y.Price,quantity:y.Quantity,taxRate:(g==null?void 0:g.Rate)||0,discountPercent:y.DiscountRate,vatable:y.Vatable,ewtRate:y.withheldEWT}),b=r.find(C=>String(C.value)===String(y.ResponsibilityCenter)),v=l.find(C=>String(C.value)===String(y.ChargeAccountID)),j=n.find(C=>String(C.value)===String(y.ItemID));t({...y,...p,responsibilityCenterName:b?b.label:"",chargeAccountName:v?v.label:"",itemName:j?j.label:"",TaxName:g==null?void 0:g.Name,TaxRate:g==null?void 0:g.Rate}),e()}}),f=w.useRef({...d.values});w.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(b=>d.values[b]!==f.current[b]))return;f.current={...d.values};const g=i.find(b=>String(b.ID)===String(d.values.TAXCodeID)),p=nm({price:d.values.Price,quantity:d.values.Quantity,taxRate:(g==null?void 0:g.Rate)||0,discountPercent:d.values.DiscountRate,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});p.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",p.subtotal,!1),p.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",p.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.DiscountRate,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(y=>String(y.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return console.log("selectedTax",i),o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(T,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0}),d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ResponsibilityCenter})]}),o.jsxs("div",{children:[o.jsx(T,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0}),d.touched.ChargeAccountID&&d.errors.ChargeAccountID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ChargeAccountID})]}),o.jsxs("div",{children:[o.jsx(T,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0}),d.touched.ItemID&&d.errors.ItemID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(T,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0}),d.touched.Remarks&&d.errors.Remarks&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Remarks})]}),o.jsxs("div",{children:[o.jsx(T,{type:"text",label:"FPP",name:"FPP",...d.getFieldProps("FPP"),required:!0}),d.touched.FPP&&d.errors.FPP&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.FPP})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(T,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0}),d.touched.Price&&d.errors.Price&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Price})]}),o.jsxs("div",{children:[o.jsx(T,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0}),d.touched.Quantity&&d.errors.Quantity&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Quantity})]}),o.jsxs("div",{children:[o.jsx(T,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0}),d.touched.ItemUnitID&&d.errors.ItemUnitID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemUnitID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(T,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0}),d.touched.TAXCodeID&&d.errors.TAXCodeID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.TAXCodeID})]}),o.jsx("div",{children:o.jsx(T,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsxs("div",{children:[o.jsx(T,{type:"number",label:"Discount %",name:"DiscountRate",...d.getFieldProps("DiscountRate"),required:!0}),d.touched.DiscountRate&&d.errors.DiscountRate&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.DiscountRate})]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:o.jsx(T,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const rU="https://staging-engine.testthelink.online",Axe={obligationRequests:[],obligationRequest:null,isLoading:!1,error:null},tb=B("obligationRequests/fetchObligationRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rU}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),d1=B("obligationRequests/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),rb=B("obligationRequests/create",async(t,e)=>{try{const r=await fetch(`${rU}/obligationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),nb=B("obligationRequests/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),nU=ve({name:"obligationRequests",initialState:Axe,reducers:{resetObligationRequestState:t=>{t.obligationRequest=null,t.error=null}},extraReducers:t=>{t.addCase(tb.pending,e=>{e.isLoading=!0}).addCase(tb.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests=r.payload}).addCase(tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(d1.pending,e=>{e.isLoading=!0}).addCase(d1.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequest=r.payload}).addCase(d1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(rb.pending,e=>{e.isLoading=!0}).addCase(rb.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests.push(r.payload)}).addCase(rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(nb.pending,e=>{e.isLoading=!0}).addCase(nb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.obligationRequests.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.obligationRequests[n]=r.payload)}).addCase(nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetObligationRequestState:Y8e}=nU.actions,Ixe=nU.reducer,q$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],kxe=le().shape({obrNo:D(),obrDate:Le().required("Date is required"),payeeType:D().required("Payee type is required"),payeeId:D().required("Payee selection is required"),responsibilityCenter:D().required("Responsibility Center is required"),fund:D().required("Fund is required"),fiscalYear:D().required("Fiscal Year is required"),project:D().required("Project is required"),accountingEntries:Yt().min(1,"At least one item is required")});function Txe({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:y=[],budgetOptions:g=[],taxCodeFull:p=[]}){const b=ue(),v=w.useRef(null),[j,C]=w.useState(!1),[x,N]=w.useState(null),[S,A]=w.useState(null),[I,E]=w.useState(!1),[k,P]=w.useState([]),R=($,O)=>{const U=$.reduce((z,ae)=>z+Number(ae.amount||0),0),K=O.reduce((z,ae)=>z+Number(ae.amount||0),0),G=U-K;return{grossAmount:U,totalTaxes:K,netAmount:G}},M={description:"",amount:"",accountCode:""};console.log(t);const _={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",project:(t==null?void 0:t.ProjectID)||"",fund:(t==null?void 0:t.FundsID)||"",fiscalYear:(t==null?void 0:t.FiscalYearID)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.ResponsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[M],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.TransactionItemsAll)?t.TransactionItemsAll:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},L=$=>{C(!0),R($.items,$.taxes);const O=new FormData;$.payeeType==="Employee"?(O.append("EmployeeID",$.payeeId),O.append("VendorID",""),O.append("CustomerID","")):$.payeeType==="Vendor"?(O.append("EmployeeID",""),O.append("VendorID",$.payeeId),O.append("CustomerID","")):$.payeeType==="Individual"&&(O.append("EmployeeID",""),O.append("VendorID",""),O.append("CustomerID",$.payeeId)),O.append("PayeeType",$.payeeType),O.append("Payee",(x==null?void 0:x.Name)||(x==null?void 0:x.FirstName)+" "+(x==null?void 0:x.MiddleName)+" "+(x==null?void 0:x.LastName)||""),O.append("Address",(x==null?void 0:x.StreetAddress)||""),O.append("InvoiceNumber",$.obrNo),O.append("InvoiceDate",$.obrDate),O.append("ResponsibilityCenter",$.responsibilityCenter);const U=$.accountingEntries.reduce((se,J)=>se+Number(J.subtotal||0),0),K=$.accountingEntries.reduce((se,J)=>se+Number(J.ewt||0),0),G=$.accountingEntries.reduce((se,J)=>se+Number(J.withheld||0),0),z=$.accountingEntries.reduce((se,J)=>se+Number(J.vat||0),0),ae=$.accountingEntries.reduce((se,J)=>se+Number(J.discount||0),0);O.append("Total",U.toFixed(2)),O.append("EWT",K.toFixed(2)),O.append("WithheldAmount",G.toFixed(2)),O.append("Vat_Total",z.toFixed(2)),O.append("Discounts",ae.toFixed(2)),O.append("FundsID",$.fund),O.append("FiscalYearID",$.fiscalYear),O.append("ProjectID",$.project),O.append("TravelID",""),O.append("Items",JSON.stringify($.accountingEntries)),$.Attachments.forEach((se,J)=>{se.ID?O.append(`Attachments[${J}].ID`,se.ID):O.append(`Attachments[${J}].File`,se)});const xe=t?nb({formData:O,id:t.ID}):rb(O);t?(O.append("IsNew",!1),O.append("LinkID",t.LinkID)):O.append("IsNew",!0),b(xe).unwrap().then(()=>{ie.success("Success"),e()}).catch(se=>{ie.error((se==null?void 0:se.message)||"Failed to submit")}).finally(()=>{C(!1)})},F=({type:$})=>{switch($){case"Employee":return o.jsx(ME,{className:"w-5 h-5"});case"Vendor":return o.jsx(BT,{className:"w-5 h-5"});case"Individual":return o.jsx(aj,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(Re,{innerRef:v,initialValues:_,validationSchema:kxe,onSubmit:L,enableReinitialize:!0,children:({values:$,errors:O,touched:U,handleChange:K,handleBlur:G,setFieldValue:z,setFieldTouched:ae,isValid:xe})=>{R($.items,$.taxes);const J=q$.map(X=>({value:X.value,label:X.label})).find(X=>X.value===$.payeeType),ce=X=>{N(null),z("payeeType",X),z("payeeName",""),z("payeeId",""),z("payeeAddress",""),z("officeUnitProject",""),z("orsNumber","")},ee=X=>{let H=null;switch($.payeeType){case"Employee":H=s.find(me=>me.ID===X);break;case"Vendor":H=i.find(me=>me.ID===X);break;case"Individual":H=l.find(me=>me.ID===X);break}N(H),z("payeeName",H==null?void 0:H.Name),z("payeeId",H==null?void 0:H.ID)},re=X=>{switch(X){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(qe,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:q$.map(X=>o.jsxs("button",{type:"button",onClick:()=>ce(X.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${$.payeeType===X.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(F,{type:X.value}),o.jsx("span",{className:"ml-3 font-medium",children:X.label})]},X.value))}),O.payeeType&&U.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.payeeType})]}),$.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",J==null?void 0:J.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Wr,{options:re($.payeeType),value:re($.payeeType).find(X=>X.value===$.payeeId)||null,onChange:X=>ee(X.value),className:"react-select-container",classNamePrefix:"react-select"}),O.payeeType&&U.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.payeeType})]}),x&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(J==null?void 0:J.label)==="Employee"?`${x.FirstName||""} ${x.MiddleName||""} ${x.LastName||""}`.trim():((J==null?void 0:J.label)==="Vendor"||(J==null?void 0:J.label)==="Individual",x.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((J==null?void 0:J.label)==="Employee"||(J==null?void 0:J.label)==="Vendor"||(J==null?void 0:J.label)==="Individual",x.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(T,{type:"text",label:"OBR No.",name:"obrNo",value:$.obrNo,onChange:K,onBlur:G,error:O.obrNo,touched:U.obrNo,readOnly:!0,disabled:!0,className:"pointer-events-none bg-gray-100"}),o.jsx(T,{type:"date",label:"Date",name:"obrDate",value:$.obrDate,onChange:K,onBlur:G,error:O.obrDate,touched:U.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Wr,{options:c,value:c.find(X=>X.value===$.responsibilityCenter)||null,onChange:X=>z("responsibilityCenter",X.value),onBlur:()=>ae("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),O.responsibilityCenter&&U.responsibilityCenter&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.responsibilityCenter})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Wr,{options:u,value:u.find(X=>X.value===$.fund)||null,onChange:X=>z("fund",X.value),className:"react-select-container",classNamePrefix:"react-select"}),O.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Wr,{options:f,value:f.find(X=>X.value===$.fiscalYear)||null,onChange:X=>z("fiscalYear",X.value),className:"react-select-container",classNamePrefix:"react-select"}),O.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Wr,{options:d,value:d.find(X=>X.value===$.project)||null,onChange:X=>z("project",X.value),className:"react-select-container",classNamePrefix:"react-select"}),O.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.project})]})]}),o.jsx(nn,{name:"accountingEntries",children:({push:X,remove:H})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>E(!0),children:"+ Item"})]}),$.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"PARTICULARS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),$.accountingEntries.map((me,Ne)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:me.responsibilityCenterName}),o.jsx("span",{children:me.Remarks}),o.jsx("span",{children:me.itemName}),o.jsx("span",{children:me.FPP}),o.jsx("span",{children:me.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(me.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-6 text-right",children:o.jsx("button",{type:"button",onClick:()=>H(Ne),className:"text-red-600 text-xs",children:""})})]},Ne)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:$.accountingEntries.reduce((me,Ne)=>me+Number(Ne.subtotal),0).toFixed(2)})]})]}),o.jsx(oe,{isOpen:I,onClose:()=>E(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(tU,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:y,budgetOptions:g,taxCodeFull:p,onClose:()=>E(!1),onSubmit:me=>{X(me),E(!1)}})})]})}),O.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.accountingEntries}),o.jsx("hr",{}),o.jsx(nn,{name:"Attachments",render:({remove:X,push:H})=>{var me;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>H({File:null}),children:"+ Attachment"})]}),(me=$.Attachments)==null?void 0:me.map((Ne,Ee)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[Ne.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${Ne.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:Ne.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Ee}].ID`,value:Ne.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Ee+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Ee}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ue=>z(`Attachments[${Ee}].File`,Ue.currentTarget.files[0]),onBlur:G,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(St,{type:"button",onClick:()=>X(Ee),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(tr,{className:"w-4 h-4"})})]},Ee))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function Exe({dv:t,onClose:e,onEdit:r}){const n=i=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(i),a=i=>new Date(i).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=i=>{let l="bg-neutral-100 text-neutral-800";switch(i){case"Pending Certification":l="bg-warning-100 text-warning-800";break;case"Pending Approval":l="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":l="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":l="bg-error-100 text-error-800";break}return l};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${s(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(cl,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"DV Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"DV Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.dvNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dvDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"ORS Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.orsNumber||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.modeOfPayment})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Particulars"}),o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-line",children:t.particulars})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Gross Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-neutral-900",children:n(t.grossAmount)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Total Deductions"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-error-600",children:n(t.totalDeductions)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Net Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.netAmount)})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(p3,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(h3,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(b3,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for certification"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}function aU(t,e){return function(){return t.apply(e,arguments)}}const{toString:Dxe}=Object.prototype,{getPrototypeOf:KE}=Object,{iterator:Vj,toStringTag:sU}=Symbol,Uj=(t=>e=>{const r=Dxe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),wa=t=>(t=t.toLowerCase(),e=>Uj(e)===t),zj=t=>e=>typeof e===t,{isArray:Nu}=Array,am=zj("undefined");function oh(t){return t!==null&&!am(t)&&t.constructor!==null&&!am(t.constructor)&&fn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const oU=wa("ArrayBuffer");function Pxe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&oU(t.buffer),e}const Oxe=zj("string"),fn=zj("function"),iU=zj("number"),ih=t=>t!==null&&typeof t=="object",_xe=t=>t===!0||t===!1,ab=t=>{if(Uj(t)!=="object")return!1;const e=KE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(sU in t)&&!(Vj in t)},$xe=t=>{if(!ih(t)||oh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Rxe=wa("Date"),Mxe=wa("File"),Lxe=wa("Blob"),Fxe=wa("FileList"),Bxe=t=>ih(t)&&fn(t.pipe),qxe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fn(t.append)&&((e=Uj(t))==="formdata"||e==="object"&&fn(t.toString)&&t.toString()==="[object FormData]"))},Vxe=wa("URLSearchParams"),[Uxe,zxe,Wxe,Hxe]=["ReadableStream","Request","Response","Headers"].map(wa),Gxe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lh(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),Nu(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{if(oh(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,t[l],l,t)}}function lU(t,e){if(oh(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const Ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cU=t=>!am(t)&&t!==Ti;function nI(){const{caseless:t}=cU(this)&&this||{},e={},r=(n,a)=>{const s=t&&lU(e,a)||a;ab(e[s])&&ab(n)?e[s]=nI(e[s],n):ab(n)?e[s]=nI({},n):Nu(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&lh(arguments[n],r);return e}const Yxe=(t,e,r,{allOwnKeys:n}={})=>(lh(e,(a,s)=>{r&&fn(a)?t[s]=aU(a,r):t[s]=a},{allOwnKeys:n}),t),Kxe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Jxe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Xxe=(t,e,r,n)=>{let a,s,i;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)i=a[s],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&KE(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Qxe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Zxe=t=>{if(!t)return null;if(Nu(t))return t;let e=t.length;if(!iU(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},eve=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&KE(Uint8Array)),tve=(t,e)=>{const n=(t&&t[Vj]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},rve=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},nve=wa("HTMLFormElement"),ave=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),V$=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),sve=wa("RegExp"),uU=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};lh(r,(a,s)=>{let i;(i=e(a,s,t))!==!1&&(n[s]=i||a)}),Object.defineProperties(t,n)},ove=t=>{uU(t,(e,r)=>{if(fn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(fn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ive=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Nu(t)?n(t):n(String(t).split(e)),r},lve=()=>{},cve=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function uve(t){return!!(t&&fn(t.append)&&t[sU]==="FormData"&&t[Vj])}const dve=t=>{const e=new Array(10),r=(n,a)=>{if(ih(n)){if(e.indexOf(n)>=0)return;if(oh(n))return n;if(!("toJSON"in n)){e[a]=n;const s=Nu(n)?[]:{};return lh(n,(i,l)=>{const c=r(i,a+1);!am(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return r(t,0)},fve=wa("AsyncFunction"),mve=t=>t&&(ih(t)||fn(t))&&fn(t.then)&&fn(t.catch),dU=((t,e)=>t?setImmediate:e?((r,n)=>(Ti.addEventListener("message",({source:a,data:s})=>{a===Ti&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ti.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",fn(Ti.postMessage)),hve=typeof queueMicrotask<"u"?queueMicrotask.bind(Ti):typeof process<"u"&&process.nextTick||dU,pve=t=>t!=null&&fn(t[Vj]),te={isArray:Nu,isArrayBuffer:oU,isBuffer:oh,isFormData:qxe,isArrayBufferView:Pxe,isString:Oxe,isNumber:iU,isBoolean:_xe,isObject:ih,isPlainObject:ab,isEmptyObject:$xe,isReadableStream:Uxe,isRequest:zxe,isResponse:Wxe,isHeaders:Hxe,isUndefined:am,isDate:Rxe,isFile:Mxe,isBlob:Lxe,isRegExp:sve,isFunction:fn,isStream:Bxe,isURLSearchParams:Vxe,isTypedArray:eve,isFileList:Fxe,forEach:lh,merge:nI,extend:Yxe,trim:Gxe,stripBOM:Kxe,inherits:Jxe,toFlatObject:Xxe,kindOf:Uj,kindOfTest:wa,endsWith:Qxe,toArray:Zxe,forEachEntry:tve,matchAll:rve,isHTMLForm:nve,hasOwnProperty:V$,hasOwnProp:V$,reduceDescriptors:uU,freezeMethods:ove,toObjectSet:ive,toCamelCase:ave,noop:lve,toFiniteNumber:cve,findKey:lU,global:Ti,isContextDefined:cU,isSpecCompliantForm:uve,toJSONObject:dve,isAsyncFn:fve,isThenable:mve,setImmediate:dU,asap:hve,isIterable:pve};function Be(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}te.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const fU=Be.prototype,mU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{mU[t]={value:t}});Object.defineProperties(Be,mU);Object.defineProperty(fU,"isAxiosError",{value:!0});Be.from=(t,e,r,n,a,s)=>{const i=Object.create(fU);return te.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Be.call(i,t.message,e,r,n,a),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const gve=null;function aI(t){return te.isPlainObject(t)||te.isArray(t)}function hU(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function U$(t,e,r){return t?t.concat(e).map(function(a,s){return a=hU(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function yve(t){return te.isArray(t)&&!t.some(aI)}const bve=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function Wj(t,e,r){if(!te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!te.isUndefined(p[g])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(a))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(te.isDate(y))return y.toISOString();if(te.isBoolean(y))return y.toString();if(!c&&te.isBlob(y))throw new Be("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(y)||te.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,g,p){let b=y;if(y&&!p&&typeof y=="object"){if(te.endsWith(g,"{}"))g=n?g:g.slice(0,-2),y=JSON.stringify(y);else if(te.isArray(y)&&yve(y)||(te.isFileList(y)||te.endsWith(g,"[]"))&&(b=te.toArray(y)))return g=hU(g),b.forEach(function(j,C){!(te.isUndefined(j)||j===null)&&e.append(i===!0?U$([g],C,s):i===null?g:g+"[]",u(j))}),!1}return aI(y)?!0:(e.append(U$(p,g,s),u(y)),!1)}const f=[],m=Object.assign(bve,{defaultVisitor:d,convertValue:u,isVisitable:aI});function h(y,g){if(!te.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(y),te.forEach(y,function(b,v){(!(te.isUndefined(b)||b===null)&&a.call(e,b,te.isString(v)?v.trim():v,g,m))===!0&&h(b,g?g.concat(v):[v])}),f.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return h(t),e}function z$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function JE(t,e){this._pairs=[],t&&Wj(t,this,e)}const pU=JE.prototype;pU.append=function(e,r){this._pairs.push([e,r])};pU.toString=function(e){const r=e?function(n){return e.call(this,n,z$)}:z$;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function xve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gU(t,e,r){if(!e)return t;const n=r&&r.encode||xve;te.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(e,r):s=te.isURLSearchParams(e)?e.toString():new JE(e,r).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class W${constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(n){n!==null&&e(n)})}}const yU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vve=typeof URLSearchParams<"u"?URLSearchParams:JE,jve=typeof FormData<"u"?FormData:null,wve=typeof Blob<"u"?Blob:null,Nve={isBrowser:!0,classes:{URLSearchParams:vve,FormData:jve,Blob:wve},protocols:["http","https","file","blob","url","data"]},XE=typeof window<"u"&&typeof document<"u",sI=typeof navigator=="object"&&navigator||void 0,Cve=XE&&(!sI||["ReactNative","NativeScript","NS"].indexOf(sI.product)<0),Sve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ave=XE&&window.location.href||"http://localhost",Ive=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:XE,hasStandardBrowserEnv:Cve,hasStandardBrowserWebWorkerEnv:Sve,navigator:sI,origin:Ave},Symbol.toStringTag,{value:"Module"})),Mr={...Ive,...Nve};function kve(t,e){return Wj(t,new Mr.classes.URLSearchParams,{visitor:function(r,n,a,s){return Mr.isNode&&te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Tve(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Eve(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function bU(t){function e(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&te.isArray(a)?a.length:i,c?(te.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!te.isObject(a[i]))&&(a[i]=[]),e(r,n,a[i],s)&&te.isArray(a[i])&&(a[i]=Eve(a[i])),!l)}if(te.isFormData(t)&&te.isFunction(t.entries)){const r={};return te.forEachEntry(t,(n,a)=>{e(Tve(n),a,r,0)}),r}return null}function Dve(t,e,r){if(te.isString(t))try{return(e||JSON.parse)(t),te.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const ch={transitional:yU,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=te.isObject(e);if(s&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return a?JSON.stringify(bU(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return kve(e,this.formSerializer).toString();if((l=te.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Wj(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),Dve(e)):e}],transformResponse:[function(e){const r=this.transitional||ch.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?Be.from(l,Be.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mr.classes.FormData,Blob:Mr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{ch.headers[t]={}});const Pve=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ove=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||e[r]&&Pve[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},H$=Symbol("internals");function sd(t){return t&&String(t).trim().toLowerCase()}function sb(t){return t===!1||t==null?t:te.isArray(t)?t.map(sb):String(t)}function _ve(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const $ve=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function f1(t,e,r,n,a){if(te.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!te.isString(e)){if(te.isString(n))return e.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(e)}}function Rve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Mve(t,e){const r=te.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let mn=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(l,c,u){const d=sd(c);if(!d)throw new Error("header name must be a non-empty string");const f=te.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=sb(l))}const i=(l,c)=>te.forEach(l,(u,d)=>s(u,d,c));if(te.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(te.isString(e)&&(e=e.trim())&&!$ve(e))i(Ove(e),r);else if(te.isObject(e)&&te.isIterable(e)){let l={},c,u;for(const d of e){if(!te.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?te.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=sd(e),e){const n=te.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return _ve(a);if(te.isFunction(r))return r.call(this,a,n);if(te.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=sd(e),e){const n=te.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||f1(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(i){if(i=sd(i),i){const l=te.findKey(n,i);l&&(!r||f1(n,n[l],l,r))&&(delete n[l],a=!0)}}return te.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||f1(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return te.forEach(this,(a,s)=>{const i=te.findKey(n,s);if(i){r[i]=sb(a),delete r[s];return}const l=e?Rve(s):String(s).trim();l!==s&&delete r[s],r[l]=sb(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return te.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[H$]=this[H$]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=sd(i);n[l]||(Mve(a,i),n[l]=!0)}return te.isArray(e)?e.forEach(s):s(e),this}};mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(mn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});te.freezeMethods(mn);function m1(t,e){const r=this||ch,n=e||r,a=mn.from(n.headers);let s=n.data;return te.forEach(t,function(l){s=l.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function xU(t){return!!(t&&t.__CANCEL__)}function Cu(t,e,r){Be.call(this,t??"canceled",Be.ERR_CANCELED,e,r),this.name="CanceledError"}te.inherits(Cu,Be,{__CANCEL__:!0});function vU(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Be("Request failed with status code "+r.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Lve(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Fve(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),u-i<e)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function Bve(t,e){let r=0,n=1e3/e,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const Zx=(t,e,r=3)=>{let n=0;const a=Fve(50,250);return Bve(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},G$=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Y$=t=>(...e)=>te.asap(()=>t(...e)),qve=Mr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Mr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Mr.origin),Mr.navigator&&/(msie|trident)/i.test(Mr.navigator.userAgent)):()=>!0,Vve=Mr.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const i=[t+"="+encodeURIComponent(e)];te.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),te.isString(n)&&i.push("path="+n),te.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Uve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zve(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function jU(t,e,r){let n=!Uve(e);return t&&(n||r==!1)?zve(t,e):e}const K$=t=>t instanceof mn?{...t}:t;function gl(t,e){e=e||{};const r={};function n(u,d,f,m){return te.isPlainObject(u)&&te.isPlainObject(d)?te.merge.call({caseless:m},u,d):te.isPlainObject(d)?te.merge({},d):te.isArray(d)?d.slice():d}function a(u,d,f,m){if(te.isUndefined(d)){if(!te.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!te.isUndefined(d))return n(void 0,d)}function i(u,d){if(te.isUndefined(d)){if(!te.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(K$(u),K$(d),f,!0)};return te.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||a,m=f(t[d],e[d],d);te.isUndefined(m)&&f!==l||(r[d]=m)}),r}const wU=t=>{const e=gl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;e.headers=i=mn.from(i),e.url=gU(jU(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(te.isFormData(r)){if(Mr.hasStandardBrowserEnv||Mr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Mr.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(e)),n||n!==!1&&qve(e.url))){const u=a&&s&&Vve.read(s);u&&i.set(a,u)}return e},Wve=typeof XMLHttpRequest<"u",Hve=Wve&&function(t){return new Promise(function(r,n){const a=wU(t);let s=a.data;const i=mn.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,h,y;function g(){h&&h(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout;function b(){if(!p)return;const j=mn.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),x={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:j,config:t,request:p};vU(function(S){r(S),g()},function(S){n(S),g()},x),p=null}"onloadend"in p?p.onloadend=b:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(b)},p.onabort=function(){p&&(n(new Be("Request aborted",Be.ECONNABORTED,t,p)),p=null)},p.onerror=function(){n(new Be("Network Error",Be.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const x=a.transitional||yU;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),n(new Be(C,x.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,t,p)),p=null},s===void 0&&i.setContentType(null),"setRequestHeader"in p&&te.forEach(i.toJSON(),function(C,x){p.setRequestHeader(x,C)}),te.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),l&&l!=="json"&&(p.responseType=a.responseType),u&&([m,y]=Zx(u,!0),p.addEventListener("progress",m)),c&&p.upload&&([f,h]=Zx(c),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=j=>{p&&(n(!j||j.type?new Cu(null,t,p):j),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const v=Lve(a.url);if(v&&Mr.protocols.indexOf(v)===-1){n(new Be("Unsupported protocol "+v+":",Be.ERR_BAD_REQUEST,t));return}p.send(s||null)})},Gve=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Be?d:new Cu(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new Be(`timeout ${e} of ms exceeded`,Be.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>te.asap(l),c}},Yve=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},Kve=async function*(t,e){for await(const r of Jve(t))yield*Yve(r,e)},Jve=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},J$=(t,e,r,n)=>{const a=Kve(t,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Hj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",NU=Hj&&typeof ReadableStream=="function",Xve=Hj&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),CU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Qve=NU&&CU(()=>{let t=!1;const e=new Request(Mr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),X$=64*1024,oI=NU&&CU(()=>te.isReadableStream(new Response("").body)),ev={stream:oI&&(t=>t.body)};Hj&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ev[e]&&(ev[e]=te.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Be(`Response type '${e}' is not supported`,Be.ERR_NOT_SUPPORT,n)})})})(new Response);const Zve=async t=>{if(t==null)return 0;if(te.isBlob(t))return t.size;if(te.isSpecCompliantForm(t))return(await new Request(Mr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(te.isArrayBufferView(t)||te.isArrayBuffer(t))return t.byteLength;if(te.isURLSearchParams(t)&&(t=t+""),te.isString(t))return(await Xve(t)).byteLength},e0e=async(t,e)=>{const r=te.toFiniteNumber(t.getContentLength());return r??Zve(e)},t0e=Hj&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=wU(t);u=u?(u+"").toLowerCase():"text";let h=Gve([a,s&&s.toAbortSignal()],i),y;const g=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let p;try{if(c&&Qve&&r!=="get"&&r!=="head"&&(p=await e0e(d,n))!==0){let x=new Request(e,{method:"POST",body:n,duplex:"half"}),N;if(te.isFormData(n)&&(N=x.headers.get("content-type"))&&d.setContentType(N),x.body){const[S,A]=G$(p,Zx(Y$(c)));n=J$(x.body,X$,S,A)}}te.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;y=new Request(e,{...m,signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:b?f:void 0});let v=await fetch(y,m);const j=oI&&(u==="stream"||u==="response");if(oI&&(l||j&&g)){const x={};["status","statusText","headers"].forEach(I=>{x[I]=v[I]});const N=te.toFiniteNumber(v.headers.get("content-length")),[S,A]=l&&G$(N,Zx(Y$(l),!0))||[];v=new Response(J$(v.body,X$,S,()=>{A&&A(),g&&g()}),x)}u=u||"text";let C=await ev[te.findKey(ev,u)||"text"](v,t);return!j&&g&&g(),await new Promise((x,N)=>{vU(x,N,{data:C,headers:mn.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:y})})}catch(b){throw g&&g(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,t,y),{cause:b.cause||b}):Be.from(b,b&&b.code,t,y)}}),iI={http:gve,xhr:Hve,fetch:t0e};te.forEach(iI,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Q$=t=>`- ${t}`,r0e=t=>te.isFunction(t)||t===null||t===!1,SU={getAdapter:t=>{t=te.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let i;if(n=r,!r0e(r)&&(n=iI[(i=String(r)).toLowerCase()],n===void 0))throw new Be(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+s]=n}if(!n){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(Q$).join(`
`):" "+Q$(s[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:iI};function h1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Cu(null,t)}function Z$(t){return h1(t),t.headers=mn.from(t.headers),t.data=m1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),SU.getAdapter(t.adapter||ch.adapter)(t).then(function(n){return h1(t),n.data=m1.call(t,t.transformResponse,n),n.headers=mn.from(n.headers),n},function(n){return xU(n)||(h1(t),n&&n.response&&(n.response.data=m1.call(t,t.transformResponse,n.response),n.response.headers=mn.from(n.response.headers))),Promise.reject(n)})}const AU="1.11.0",Gj={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Gj[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const eR={};Gj.transitional=function(e,r,n){function a(s,i){return"[Axios v"+AU+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new Be(a(i," has been removed"+(r?" in "+r:"")),Be.ERR_DEPRECATED);return r&&!eR[i]&&(eR[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,i,l):!0}};Gj.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function n0e(t,e,r){if(typeof t!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=t[s],c=l===void 0||i(l,s,t);if(c!==!0)throw new Be("option "+s+" must be "+c,Be.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Be("Unknown option "+s,Be.ERR_BAD_OPTION)}}const ob={assertOptions:n0e,validators:Gj},Sa=ob.validators;let Xi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new W$,response:new W$}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=gl(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&ob.assertOptions(n,{silentJSONParsing:Sa.transitional(Sa.boolean),forcedJSONParsing:Sa.transitional(Sa.boolean),clarifyTimeoutError:Sa.transitional(Sa.boolean)},!1),a!=null&&(te.isFunction(a)?r.paramsSerializer={serialize:a}:ob.assertOptions(a,{encode:Sa.function,serialize:Sa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ob.assertOptions(r,{baseUrl:Sa.spelling("baseURL"),withXsrfToken:Sa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&te.merge(s.common,s[r.method]);s&&te.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),r.headers=mn.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,m;if(!c){const y=[Z$.bind(this),void 0];for(y.unshift(...l),y.push(...u),m=y.length,d=Promise.resolve(r);f<m;)d=d.then(y[f++],y[f++]);return d}m=l.length;let h=r;for(f=0;f<m;){const y=l[f++],g=l[f++];try{h=y(h)}catch(p){g.call(this,p);break}}try{d=Z$.call(this,h)}catch(y){return Promise.reject(y)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=gl(this.defaults,e);const r=jU(e.baseURL,e.url,e.allowAbsoluteUrls);return gU(r,e.params,e.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(e){Xi.prototype[e]=function(r,n){return this.request(gl(n||{},{method:e,url:r,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(e){function r(n){return function(s,i,l){return this.request(gl(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Xi.prototype[e]=r(),Xi.prototype[e+"Form"]=r(!0)});let a0e=class IU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new Cu(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new IU(function(a){e=a}),cancel:e}}};function s0e(t){return function(r){return t.apply(null,r)}}function o0e(t){return te.isObject(t)&&t.isAxiosError===!0}const lI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lI).forEach(([t,e])=>{lI[e]=t});function kU(t){const e=new Xi(t),r=aU(Xi.prototype.request,e);return te.extend(r,Xi.prototype,e,{allOwnKeys:!0}),te.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return kU(gl(t,a))},r}const Xe=kU(ch);Xe.Axios=Xi;Xe.CanceledError=Cu;Xe.CancelToken=a0e;Xe.isCancel=xU;Xe.VERSION=AU;Xe.toFormData=Wj;Xe.AxiosError=Be;Xe.Cancel=Xe.CanceledError;Xe.all=function(e){return Promise.all(e)};Xe.spread=s0e;Xe.isAxiosError=o0e;Xe.mergeConfig=gl;Xe.AxiosHeaders=mn;Xe.formToJSON=t=>bU(te.isHTMLForm(t)?new FormData(t):t);Xe.getAdapter=SU.getAdapter;Xe.HttpStatusCode=lI;Xe.default=Xe;const{Axios:X8e,AxiosError:Q8e,CanceledError:Z8e,isCancel:e9e,CancelToken:t9e,VERSION:r9e,all:n9e,Cancel:a9e,isAxiosError:s9e,spread:o9e,toFormData:i9e,AxiosHeaders:l9e,HttpStatusCode:c9e,formToJSON:u9e,getAdapter:d9e,mergeConfig:f9e}=Xe,He=Xe.create({baseURL:"https://staging-engine.testthelink.online",timeout:1e4,headers:{"Content-Type":"application/json"}});He.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));He.interceptors.response.use(t=>t,t=>(console.error("Axios INSTANCE error:",t.response||t.message),Promise.reject(t)));const QE="https://staging-engine.testthelink.online",Jt=B("budgetFunds/fetchBudgetFunds",async()=>(await He("/funds")).data),ib=B("budgetFunds/createBudgetFund",async t=>{const r=await(await fetch(`${QE}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({IsNew:!0,...t})})).json();if(r)return ie.success("Fund added successfully"),r;throw new Error("Failed to create fund")}),lb=B("budgetFunds/updateBudgetFund",async t=>{const r=await(await fetch(`${QE}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({IsNew:!1,...t})})).json();if(r)return ie.success("Fund updated successfully"),r;throw new Error("Failed to update fund")}),cb=B("budgetFunds/deleteBudgetFund",async t=>{if(await(await fetch(`${QE}/funds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json())return ie.success("Fund deleted successfully"),t;throw new Error("Failed to delete fund")}),i0e=ve({name:"budgetFunds",initialState:{funds:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Jt.pending,e=>{e.loading=!0,e.error=null}).addCase(Jt.fulfilled,(e,r)=>{e.loading=!1,e.funds=r.payload||[]}).addCase(Jt.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch budget funds")}).addCase(ib.pending,e=>{e.loading=!0,e.error=null}).addCase(ib.fulfilled,(e,r)=>{e.loading=!1,e.funds=[...e.funds,r.payload]}).addCase(ib.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to create fund")}).addCase(lb.pending,e=>{e.loading=!0,e.error=null}).addCase(lb.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.map(n=>n.ID===r.payload.ID?r.payload:n)}).addCase(lb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to update fund")}).addCase(cb.pending,e=>{e.loading=!0,e.error=null}).addCase(cb.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.filter(n=>n.ID!==r.payload)}).addCase(cb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to delete fund")})}}),l0e=i0e.reducer,Do=B("budget/fetchBudgets",async(t,e)=>{try{return(await He("/budget")).data.items}catch(r){return e.rejectWithValue(r.message)}}),p1=B("budget/createBudget",async t=>(await new Promise(r=>{setTimeout(()=>{r({data:{id:Date.now(),...t,status:"active"}})},1e3)})).data),g1=B("budget/updateBudget",async({id:t,budgetData:e})=>(await new Promise(n=>{setTimeout(()=>{n({data:{id:t,...e}})},1e3)})).data),y1=B("budget/deleteBudget",async t=>(await new Promise(e=>{setTimeout(()=>{e()},1e3)}),t)),c0e={budgets:[],isLoading:!1,error:null},u0e=ve({name:"budget",initialState:c0e,reducers:{},extraReducers:t=>{t.addCase(Do.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Do.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=r.payload}).addCase(Do.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(p1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(p1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets.push(r.payload)}).addCase(p1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(g1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(g1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.budgets.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.budgets[n]=r.payload)}).addCase(g1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(y1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(y1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=e.budgets.filter(n=>n.id!==r.payload)}).addCase(y1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),d0e=u0e.reducer,f0e=(t="self")=>He("/profileDashboard/userDocumentsList",{params:{owner:t}}),m0e=()=>He("/profileDashboard/user"),h0e=t=>He("/profileDashboard/budgetList",{params:t?{selectedDepartmentID:t}:{}}),p0e=t=>He(`/profileDashboard/budgetAPARList/${t}`),tR=(t="Day",e="Disbursement Voucher",r="")=>{const n={dateRange:t,aparType:e,...r&&{selectedDepartmentID:r}};return He("/profileDashboard/disbursementAmounts",{params:n})},g0e=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return He("/profileDashboard/obligationChart",{params:r})},y0e=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return He("/profileDashboard/travelOrderChart",{params:r})},b0e=(t="Year",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return He("/profileDashboard/disbursementChart",{params:r})},x0e=(t="Day")=>He("/profileDashboard/collectionTotals",{params:{dateRange:t}}),v0e=()=>He("/profileDashboard/chartGeneral"),j0e=()=>He("/profileDashboard/chartMarriage"),w0e=()=>He("/profileDashboard/chartBurial"),N0e=()=>He("/profileDashboard/chartCedula"),ZE=t=>{const e={"Disbursement Posted":"bg-green-100 text-green-700",Requested:"bg-blue-100 text-blue-700",Pending:"bg-yellow-100 text-yellow-700","Cheque Requested":"bg-red-100 text-red-700"};return o.jsx("div",{className:"flex gap-2 flex-wrap",children:t.split(",").map((r,n)=>{const a=r.trim();return o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${e[a]||"bg-gray-100 text-gray-600"}`,children:a},n)})})},C0e=()=>{var d,f;const[t,e]=w.useState("self"),[r,n]=w.useState([]),[a,s]=w.useState(null);w.useEffect(()=>{f0e(t).then(m=>{console.log("res",m),n(m.data)}).catch(()=>{ie.error("Failed to load documents")})},[t]),w.useEffect(()=>{a||m0e().then(m=>{s(m.data)}).catch(m=>{ie.error("Failed to load user profile")})},[]);const{statusCounts:i,documentsList:l}=r||{},c={total:i==null?void 0:i.Total,approved:i==null?void 0:i.Approved,requested:i==null?void 0:i.Requested,rejected:i==null?void 0:i.Rejected},u=[{key:"Status",header:"Status",render:m=>ZE(m)},{key:"InvoiceNumber",header:"Invoice No",sortable:!0},{key:"APAR",header:"APAR Type",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0,render:m=>(m==null?void 0:m.Name)||""},{key:"Total",header:"Amount",sortable:!0}];return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Mue,{className:"w-20 h-20 text-gray-400"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Welcome,"," ",[a==null?void 0:a.FirstName,a==null?void 0:a.MiddleName,a==null?void 0:a.LastName].filter(Boolean).join(" ")]}),((d=a==null?void 0:a.Position)==null?void 0:d.Name)&&o.jsxs("p",{className:"text-sm text-gray-500",children:["Position: ",a.Position.Name]}),((f=a==null?void 0:a.Department)==null?void 0:f.Name)&&o.jsxs("p",{className:"text-sm text-gray-500",children:["Department: ",a.Department.Name]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(hc,{to:"/budget-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Budget"})}),o.jsx(hc,{to:"/disbursement-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Disbursement"})}),o.jsx(hc,{to:"/collection-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Collection"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(mp,{title:"Total Documents",value:c.total,icon:Due}),o.jsx(mp,{title:"Approved",value:c.approved,icon:Nue}),o.jsx(mp,{title:"Requested",value:c.requested,icon:Tue}),o.jsx(mp,{title:"Rejected",value:c.rejected,icon:Fue})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner:"}),[{label:"Me",value:"self"},{label:"Department",value:"department"},{label:"All",value:"all"}].map(m=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"owner",value:m.value,checked:t===m.value,onChange:()=>e(m.value),className:"text-blue-600"}),o.jsx("span",{className:"text-sm",children:m.label})]},m.value))]}),o.jsx(ye,{columns:u,data:l||[],pagination:!0})]})},mp=({title:t,value:e,icon:r})=>o.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 flex items-center gap-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:o.jsx(r,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-500",children:t}),o.jsx("p",{className:"text-xl font-semibold text-gray-800",children:e})]})]});function S0e(){const t=ue(),{obligationRequests:e,isLoading:r}=V(I=>I.obligationRequests),{employees:n}=V(I=>I.employees),{customers:a}=V(I=>I.customers),{vendorDetails:s}=V(I=>I.vendorDetails),{departments:i}=V(I=>I.departments),{projectDetails:l}=V(I=>I.projectDetails),{funds:c}=V(I=>I.funds),{fiscalYears:u}=V(I=>I.fiscalYears),{items:d}=V(I=>I.items),{taxCodes:f}=V(I=>I.taxCodes),{itemUnits:m}=V(I=>I.itemUnits),{budgets:h}=V(I=>I.budget),[y,g]=w.useState("list"),[p,b]=w.useState(null),{Add:v,Edit:j,Delete:C}=we(62);w.useEffect(()=>{t(tb()),t(un()),t(An()),t(Fa()),t(or()),t(qa()),t(Jt()),t(dn()),t(Ba()),t(Jn()),t(ya()),t(Do())},[t]);const x=()=>{b(null),g("form")},N=I=>{b(I),g("form")},S=()=>{g("list"),b(null)},A=[{key:"Status",header:"Status",sortable:!0,render:I=>ZE(I)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:I=>new Date(I).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[y==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Requests"}),o.jsx("p",{children:"Manage obligation requests"})]}),v&&o.jsxs("button",{type:"button",onClick:x,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:A,data:e,actions:I=>{var k;const E=[];return((k=I.Transaction)==null?void 0:k.Status)==="Rejected"&&j&&E.push({icon:Ie,title:"Edit",onClick:()=>N(I),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),E},loading:r})})]}),y==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(va,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:p?"Edit Obligation Request":"Create Obligation Request"}),o.jsxs("p",{children:["Fill out the form to"," ",p?"update":"create"," an obligation request"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(Txe,{initialData:p,employeeOptions:n.map(I=>({value:I.ID,label:I.FirstName+" "+I.MiddleName+" "+I.LastName})),vendorOptions:s.map(I=>({value:I.ID,label:I.Name||`${I.FirstName} ${I.MiddleName} ${I.LastName}`})),individualOptions:a.map(I=>({value:I.ID,label:I.Name||`${I.FirstName} ${I.MiddleName} ${I.LastName}`})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(I=>({value:I.ID,label:I.Name})),fundOptions:c.map(I=>({value:I.ID,label:I.Name})),projectOptions:l.map(I=>({value:I.ID,label:I.Title})),fiscalYearOptions:u.map(I=>({value:I.ID,label:I.Name})),particularsOptions:d.map(I=>({value:I.ID,label:I.Name})),unitOptions:m.map(I=>({value:I.ID,label:I.Name})),taxCodeOptions:f.map(I=>({value:I.ID,label:I.Name})),budgetOptions:h.map(I=>({value:I.ID,label:I.Name})),taxCodeFull:f,onCancel:S,onSubmitSuccess:S,onClose:S})})]}),y==="details"&&p&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(va,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Request Details"}),o.jsx("p",{children:"View and manage obligation request details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>N(p),className:"btn btn-primary flex items-center",children:[o.jsx(Ie,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(Exe,{or:p,onBack:S})})]})]})}function Qi(t){const e=Number(t);if(Number.isNaN(e))return"";const r=Math.floor(e),n=Math.round((e-r)*100);let a=`${cI(r)} PESOS`;return n>0&&(a+=` AND ${n.toString().padStart(2,"0")}/100`),a.trim()}function cI(t){if(t===0)return"ZERO";if(t<0)return`MINUS ${cI(Math.abs(t))}`;const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],r=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];let n="";const a=(s,i)=>{s>0&&(n+=`${cI(s)} ${i} `)};return a(Math.floor(t/1e12),"TRILLION"),t%=1e12,a(Math.floor(t/1e9),"BILLION"),t%=1e9,a(Math.floor(t/1e6),"MILLION"),t%=1e6,a(Math.floor(t/1e3),"THOUSAND"),t%=1e3,a(Math.floor(t/100),"HUNDRED"),t%=100,t>0&&(n&&(n+="AND "),t<20?n+=e[t]:(n+=r[Math.floor(t/10)],t%10&&(n+=`-${e[t%10]}`))),n.trim()}const e2="https://staging-engine.testthelink.online",A0e={disbursementVouchers:[],disbursementVoucher:null,isLoading:!1,error:null,requestOptions:[],requestOptionsLoading:!1,requestOptionsError:null},ub=B("disbursementVouchers/fetchRequestOptions",async({requestType:t,payeeType:e,payeeId:r},n)=>{try{const a=localStorage.getItem("token"),s=`${e2}/disbursementVoucher/selectListForDV?type=${encodeURIComponent(e)}&requestType=${encodeURIComponent(t)}&id=${r}`,i=await fetch(s,{headers:{Authorization:`Bearer ${a}`}}),l=await i.json();if(!i.ok)throw new Error(l.error||l.message||"Failed to fetch request options");return l}catch(a){return n.rejectWithValue(a.message)}}),Ac=B("disbursementVouchers/fetchDisbursementVouchers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${e2}/disbursementVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),b1=B("disbursementVouchers/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().disbursementVouchers.disbursementVouchers.find(i=>i.id===t);s?r(s):n(new Error("Disbursement voucher not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),db=B("disbursementVouchers/create",async(t,e)=>{try{const r=await fetch(`${e2}/disbursementVoucher/save`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),x1=B("disbursementVouchers/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),TU=ve({name:"disbursementVouchers",initialState:A0e,reducers:{resetDisbursementVoucherState:t=>{t.disbursementVoucher=null,t.error=null}},extraReducers:t=>{t.addCase(Ac.pending,e=>{e.isLoading=!0}).addCase(Ac.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers=r.payload}).addCase(Ac.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(b1.pending,e=>{e.isLoading=!0}).addCase(b1.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVoucher=r.payload}).addCase(b1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(db.pending,e=>{e.isLoading=!0}).addCase(db.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers.push(r.payload)}).addCase(db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(x1.pending,e=>{e.isLoading=!0}).addCase(x1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.disbursementVouchers.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.disbursementVouchers[n]=r.payload)}).addCase(x1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ub.pending,e=>{e.requestOptionsLoading=!0,e.requestOptionsError=null}).addCase(ub.fulfilled,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptions=r.payload}).addCase(ub.rejected,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptionsError=r.payload})}}),{resetDisbursementVoucherState:m9e}=TU.actions,I0e=TU.reducer,k0e="https://staging-engine.testthelink.online",rR=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],T0e=[{value:"Obligation Request",label:"Obligation Request"},{value:"FURS",label:"FURS"},{value:"Standalone Request",label:"Standalone Request"}];function E0e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:y=[],budgetOptions:g=[],taxCodeFull:p=[],chartOfAccountsOptions:b=[]}){const v=ue(),j=w.useRef(null),[C,x]=w.useState(!1),[N,S]=w.useState(null),[A,I]=w.useState(null),[E,k]=w.useState(null),[P,R]=w.useState(!1),[M,_]=w.useState([]),[L,F]=w.useState((t==null?void 0:t.modeOfPayment)||""),$=()=>le().shape({payeeType:D().required("Payee type is required"),payeeId:D().required("Payee selection is required"),accountingEntries:E==="Standalone Request"?Yt():Yt().min(1,"At least one item is required"),contraAccount:D().required("Contra Account is required"),modeOfPayment:D().required("Mode of Payment is required"),bank:L==="Check"?D().required("Bank is required"):D(),checkNumber:L==="Check"?D().required("Check Number is required"):D(),receivedPaymentBy:D().required("Received Payment By is required"),Amount:D().required("Amount By is required")}),{requestOptions:O,requestOptionsLoading:U,requestOptionsError:K}=V(J=>J.disbursementVouchers),G=(J,ce)=>{const ee=J.reduce((H,me)=>H+Number(me.amount||0),0),re=ce.reduce((H,me)=>H+Number(me.amount||0),0),X=ee-re;return{grossAmount:ee,totalTaxes:re,netAmount:X}},z={description:"",amount:"",accountCode:""},ae={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||(t!=null&&t.VendorID?"Vendor":t!=null&&t.CustomerID?"Individual":t!=null&&t.EmployeeID?"Employee":""),payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||(t==null?void 0:t.VendorID)||(t==null?void 0:t.CustomerID)||(t==null?void 0:t.EmployeeID)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[z],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[],OBR_LinkID:(t==null?void 0:t.OBR_LinkID)||"",contraAccount:(t==null?void 0:t.ContraAccountID)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",bank:(t==null?void 0:t.bank)||"",checkNumber:(t==null?void 0:t.checkNumber)||"",receivedPaymentBy:(t==null?void 0:t.ReceivedPaymentBy)||"",Amount:(t==null?void 0:t.Amount)||""},xe=J=>{x(!0),G(J.items,J.taxes);const ce=new FormData;J.payeeType==="Employee"?(ce.append("EmployeeID",J.payeeId),ce.append("VendorID",""),ce.append("CustomerID","")):J.payeeType==="Vendor"?(ce.append("EmployeeID",""),ce.append("VendorID",J.payeeId),ce.append("CustomerID","")):J.payeeType==="Individual"&&(ce.append("EmployeeID",""),ce.append("VendorID",""),ce.append("CustomerID",J.payeeId)),ce.append("PayeeType",J.payeeType),(J==null?void 0:J.requestType)==="Standalone Request"?ce.append("IsStandaloneRequest",!0):ce.append("OBR_LinkID",J.OBR_LinkID||""),ce.append("Payee",(N==null?void 0:N.Name)||(N==null?void 0:N.FirstName)+" "+(N==null?void 0:N.MiddleName)+" "+(N==null?void 0:N.LastName)||""),ce.append("Address",(N==null?void 0:N.StreetAddress)||""),ce.append("InvoiceNumber",J.obrNo),ce.append("InvoiceDate",J.obrDate),ce.append("ResponsibilityCenter",J.responsibilityCenter);const ee=J.accountingEntries.reduce((Ee,Ue)=>Ee+Number(Ue.subtotal||0),0),re=J.accountingEntries.reduce((Ee,Ue)=>Ee+Number(Ue.ewt||0),0),X=J.accountingEntries.reduce((Ee,Ue)=>Ee+Number(Ue.withheld||0),0),H=J.accountingEntries.reduce((Ee,Ue)=>Ee+Number(Ue.vat||0),0),me=J.accountingEntries.reduce((Ee,Ue)=>Ee+Number(Ue.discount||0),0);ce.append("Total",ee.toFixed(2)),ce.append("EWT",re.toFixed(2)),ce.append("WithheldAmount",X.toFixed(2)),ce.append("Vat_Total",H.toFixed(2)),ce.append("Discounts",me.toFixed(2)),ce.append("FundsID",J.fund),ce.append("FiscalYearID",J.fiscalYear),ce.append("ProjectID",J.project),ce.append("TravelID",""),ce.append("Items",JSON.stringify(J.accountingEntries)),J.Attachments.forEach((Ee,Ue)=>{Ee.ID?ce.append(`Attachments[${Ue}].ID`,Ee.ID):ce.append(`Attachments[${Ue}].File`,Ee.File)}),ce.append("ContraAccountID",J.contraAccount),ce.append("ModeOfPayment",J.modeOfPayment),ce.append("BankID",J.bank),ce.append("CheckNumber",J.checkNumber),ce.append("ReceivedPaymentBy",J.receivedPaymentBy),ce.append("Amount",J.Amount),t?(ce.append("LinkID",t.LinkID),ce.append("IsNew",!1)):ce.append("IsNew",!0);const Ne=db(ce);v(Ne).unwrap().then(()=>{ie.success("Success"),e(),v(Ac())}).catch(Ee=>{ie.error((Ee==null?void 0:Ee.message)||"Failed to submit")}).finally(()=>{x(!1)})},se=({type:J})=>{switch(J){case"Employee":return o.jsx(ME,{className:"w-5 h-5"});case"Vendor":return o.jsx(BT,{className:"w-5 h-5"});case"Individual":return o.jsx(aj,{className:"w-5 h-5"});default:return null}};return console.log({taxCodeFull:p}),o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(Re,{innerRef:j,initialValues:ae,validationSchema:$(),onSubmit:xe,enableReinitialize:!0,children:({values:J,errors:ce,touched:ee,handleChange:re,handleBlur:X,setFieldValue:H,setFieldError:me,setFieldTouched:Ne,isValid:Ee})=>{G(J.items,J.taxes);const Ve=rR.map(Z=>({value:Z.value,label:Z.label})).find(Z=>Z.value===J.payeeType),qr=Z=>{S(null),H("payeeType",Z),H("payeeName",""),H("payeeId",""),H("payeeAddress",""),H("officeUnitProject",""),H("orsNumber","")},Vr=async Z=>{if(I(null),H("requestType",Z),console.log("Selected Request Type:",Z),k(Z),Z==="Standalone Request"){H("accountingEntries",[],!1),R(!0);return}J.payeeType&&J.payeeId&&Z&&v(ub({requestType:Z,payeeType:J.payeeType,payeeId:J.payeeId}))},na=Z=>{var De,Qe;I(Z);const ge=(((De=Z==null?void 0:Z.raw)==null?void 0:De.TransactionItemsAll)||[]).map(et=>{var ni,Hs,ai,Fu,oD,iD,lD;const Er={Price:et.Price??0,Quantity:et.Quantity??1,DiscountRate:et.DiscountRate??0,Vatable:et.Vatable,withheldEWT:et.EWTRate??0},Ws=nm({price:Er.Price,quantity:Er.Quantity,taxRate:et.TaxRate||0,discountPercent:Er.DiscountRate,vatable:Er.Vatable,ewtRate:Er.withheldEWT});return{...et,...Ws,itemName:((ni=et.Item)==null?void 0:ni.Name)||"",subtotal:et.AmountDue||0,Remarks:et.Remarks||"",FPP:et.FPP||"",accountCode:((ai=(Hs=et.ChargeAccount)==null?void 0:Hs.ChartofAccounts)==null?void 0:ai.AccountCode)||"",accountName:((oD=(Fu=et.ChargeAccount)==null?void 0:Fu.ChartofAccounts)==null?void 0:oD.Name)||"",fundCode:((lD=(iD=Z==null?void 0:Z.raw)==null?void 0:iD.sourceFunds)==null?void 0:lD.Code)||""}});j.current&&(j.current.setFieldValue("accountingEntries",ge),j.current.setFieldValue("OBR_LinkID",((Qe=Z==null?void 0:Z.raw)==null?void 0:Qe.LinkID)||""))},Jr=Z=>{let he=null;switch(J.payeeType){case"Employee":he=s.find(ge=>ge.ID===Z);break;case"Vendor":he=i.find(ge=>ge.ID===Z);break;case"Individual":he=l.find(ge=>ge.ID===Z);break}S(he),H("payeeName",he==null?void 0:he.Name),H("payeeId",he==null?void 0:he.ID)},Q=Z=>{switch(Z){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}},be=Z=>{F(Z.target.value),re(Z),Z.target.value==="Cash"&&(H("bank",""),H("checkNumber",""))};return o.jsxs(qe,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:rR.map(Z=>o.jsxs("button",{type:"button",onClick:()=>qr(Z.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${J.payeeType===Z.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(se,{type:Z.value}),o.jsx("span",{className:"ml-3 font-medium",children:Z.label})]},Z.value))}),ce.payeeType&&ee.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ce.payeeType})]}),J.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",Ve==null?void 0:Ve.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Wr,{options:Q(J.payeeType),onChange:Z=>Jr(Z.value),value:Q(J.payeeType).find(Z=>Z.value===J.payeeId)||null,className:"react-select-container",classNamePrefix:"react-select"}),ce.payeeType&&ee.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ce.payeeType})]}),N&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(Ve==null?void 0:Ve.label)==="Employee"?`${N.FirstName||""} ${N.MiddleName||""} ${N.LastName||""}`.trim():((Ve==null?void 0:Ve.label)==="Vendor"||(Ve==null?void 0:Ve.label)==="Individual",N.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((Ve==null?void 0:Ve.label)==="Employee"||(Ve==null?void 0:Ve.label)==="Vendor"||(Ve==null?void 0:Ve.label)==="Individual",N.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request for Payment"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Request Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:T0e.map(Z=>o.jsx("button",{type:"button",onClick:()=>Vr(Z.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${J.requestType===Z.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:o.jsx("span",{className:"ml-3 font-medium",children:Z.label})},Z.value))}),ce.requestType&&ee.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ce.requestType})]}),J.requestType!=="Standalone Request"&&o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Request ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Wr,{options:O.map(Z=>{var ge,De,Qe,et,Er,Ws,ni,Hs,ai,Fu;let he="";return J.payeeType==="Employee"?he=`${((ge=Z.Employee)==null?void 0:ge.FirstName)||""} ${((De=Z.Employee)==null?void 0:De.MiddleName)||""} ${((Qe=Z.Employee)==null?void 0:Qe.LastName)||""}`.trim():J.payeeType==="Individual"?!((et=Z.Employee)!=null&&et.FirstName)&&!((Er=Z.Employee)!=null&&Er.MiddleName)&&!((Ws=Z.Employee)!=null&&Ws.LastName)?he=Z.Name||"N/A":he=`${((ni=Z.Employee)==null?void 0:ni.FirstName)||""} ${((Hs=Z.Employee)==null?void 0:Hs.MiddleName)||""} ${((ai=Z.Employee)==null?void 0:ai.LastName)||""}`.trim():J.payeeType==="Vendor"&&(he=Z.Name||"N/A"),{value:Z.ID,label:`${Z.InvoiceNumber||""}  ${he}  ${Z.TIN||""}  ${Z.InvoiceDate}  ${((Fu=Z.sourceFunds)==null?void 0:Fu.Code)||""}`,raw:Z}}),isLoading:U,value:A,onChange:na,placeholder:U?"Loading":K?`Error: ${K}`:"Select request",className:"react-select-container",classNamePrefix:"react-select"}),ce.requestType&&ee.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ce.requestType+"request error"})]})]})]}),o.jsx(nn,{name:"accountingEntries",children:({push:Z,remove:he})=>o.jsxs(o.Fragment,{children:[J.requestType==="Standalone Request"&&o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Stand Alone Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>R(!0),children:"+ Item"})]}),J.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("hr",{}),o.jsxs("div",{className:"hidden md:grid grid-cols-7 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"AMOUNT"}),o.jsx("span",{children:"AMOUNT DUE"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT"}),o.jsx("span",{children:"ACCOUNT CODE"})]}),console.log(J.accountingEntries),J.accountingEntries.map((ge,De)=>o.jsxs("div",{className:"border p-3 rounded text-sm flex flex-col gap-2 md:grid md:grid-cols-7 md:items-center md:gap-2",children:[o.jsxs("div",{className:"flex flex-col gap-1 md:hidden",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"ITEM:"}),o.jsx("span",{children:ge.itemName})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"AMOUNT:"}),o.jsx("span",{children:parseFloat(ge.subtotal).toFixed(2)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"AMOUNT DUE:"}),o.jsx("span",{children:parseFloat(ge.subtotal).toFixed(2)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"REMARKS:"}),o.jsx("span",{children:ge.Remarks})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"FPP:"}),o.jsx("span",{children:ge.FPP})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"ACCOUNT:"}),o.jsx("span",{children:ge.chargeAccountName})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"ACCOUNT CODE:"}),o.jsx("span",{children:ge.ChargeAccountID})]})]}),o.jsx("span",{className:"hidden md:block",children:ge.itemName}),o.jsx("span",{className:"hidden md:block",children:parseFloat(ge.subtotal).toFixed(2)}),o.jsx("span",{className:"hidden md:block",children:parseFloat(ge.subtotal).toFixed(2)}),o.jsx("span",{className:"hidden md:block",children:ge.Remarks}),o.jsx("span",{className:"hidden md:block",children:ge.FPP}),o.jsx("span",{className:"hidden md:block",children:ge.chargeAccountName}),o.jsx("span",{className:"hidden md:block",children:ge.ChargeAccountID}),o.jsx("div",{className:"flex justify-end md:col-span-8",children:o.jsx("button",{type:"button",onClick:()=>he(De),className:"text-red-600 hover:text-red-800 text-xs flex items-center gap-1",children:o.jsx(tr,{size:16})})})]},De)),o.jsxs("div",{className:"md:grid md:grid-cols-8 md:gap-2 font-semibold pt-2 border-t text-sm",children:[o.jsx("div",{className:"md:col-span-7 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:J.accountingEntries.reduce((ge,De)=>ge+Number(De.subtotal||0),0).toFixed(2)})]}),o.jsx("div",{className:"pt-2 border-t text-sm font-semibold text-right",children:Qi(J.accountingEntries.reduce((ge,De)=>ge+Number(De.subtotal||0),0).toFixed(2))})]}),o.jsx(oe,{isOpen:P,onClose:()=>R(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(tU,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:y,budgetOptions:g,taxCodeFull:p,onClose:()=>R(!1),onSubmit:ge=>{Z(ge),R(!1)}})})]})}),ce.accountingEntries&&J.requestType!=="Standalone Request"&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ce.accountingEntries}),(()=>{const Z={};J.accountingEntries.forEach(ge=>{console.log("entry",ge);const De=ge.TaxName||"N/A",Qe=ge.TaxRate||0,et=Number(ge.withheld||0),Er=`${De}-${Qe}`;Z[Er]||(Z[Er]={taxName:De,taxRate:Qe,withheld:0}),Z[Er].withheld+=et});const he=Object.values(Z);return console.log("taxRows",he),he.length?o.jsxs("div",{className:"space-y-2",children:[o.jsx("hr",{}),o.jsx("h3",{className:"text-lg font-medium",children:"Taxes"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm font-semibold",children:[o.jsx("span",{children:"Tax Name"}),o.jsx("span",{className:"text-right",children:"TaxRate%"}),o.jsx("span",{className:"text-right",children:"TotalWithheld"})]}),he.map(({taxName:ge,taxRate:De,withheld:Qe},et)=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm border p-2 rounded",children:[o.jsx("span",{children:ge}),o.jsx("span",{className:"text-right",children:parseFloat(De).toFixed(2)}),o.jsx("span",{className:"text-right",children:Qe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]},et))]}):null})(),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Payment Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contra Account"}),o.jsx(Wr,{name:"contraAccount",options:b,onChange:Z=>H("contraAccount",Z==null?void 0:Z.value),value:b.find(Z=>Z.value===J.contraAccount)||null,className:"basic-single",classNamePrefix:"select"}),ce.contraAccount&&ee.contraAccount&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ce.contraAccount})]}),o.jsx("div",{children:o.jsx(T,{type:"select",label:"Mode of Payment",name:"modeOfPayment",options:[{value:"Cash",label:"Cash"},{value:"Check",label:"Check"},{value:"Others",label:"Others"}],value:J.modeOfPayment,onChange:be,onBlur:X,error:ce.modeOfPayment,touched:ee.modeOfPayment,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[L==="Check"&&o.jsxs(o.Fragment,{children:[o.jsx(T,{type:"text",label:"Bank",name:"bank",value:J.bank,onChange:re,onBlur:X,error:ce.bank,touched:ee.bank,required:L==="Check"}),o.jsx(T,{type:"text",label:"Check No.",name:"checkNumber",value:J.checkNumber,onChange:re,onBlur:X,error:ce.checkNumber,touched:ee.checkNumber,required:L==="Check"})]}),o.jsx(T,{type:"text",label:"Received Payment By",name:"receivedPaymentBy",value:J.receivedPaymentBy,onChange:re,onBlur:X,error:ce.receivedPaymentBy,touched:ee.receivedPaymentBy,required:!0}),o.jsx(T,{type:"text",label:"Amount",name:"Amount",value:J.Amount,onChange:re,onBlur:X,error:ce.Amount,touched:ee.Amount,required:!0})]})]}),o.jsx("hr",{}),o.jsx(nn,{name:"Attachments",render:({remove:Z,push:he})=>{var ge;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>he({File:null}),children:"+ Attachment"})]}),(ge=J.Attachments)==null?void 0:ge.map((De,Qe)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[De.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${k0e}/uploads/${De.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:De.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Qe}].ID`,value:De.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Qe+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Qe}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:et=>H(`Attachments[${Qe}].File`,et.currentTarget.files[0]),onBlur:X,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(St,{type:"button",onClick:()=>Z(Qe),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(tr,{className:"w-4 h-4"})})]},Qe))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})}function D0e(){const t=ue(),{disbursementVouchers:e,isLoading:r}=V(M=>M.disbursementVouchers),{Add:n,Edit:a,Delete:s}=we(40),{employees:i}=V(M=>M.employees),{customers:l}=V(M=>M.customers),{vendorDetails:c}=V(M=>M.vendorDetails),{departments:u}=V(M=>M.departments),{projectDetails:d}=V(M=>M.projectDetails),{funds:f}=V(M=>M.funds),{fiscalYears:m}=V(M=>M.fiscalYears),{items:h}=V(M=>M.items),{taxCodes:y}=V(M=>M.taxCodes),{itemUnits:g}=V(M=>M.itemUnits),{budgets:p}=V(M=>M.budget),b=V(M=>{var _;return((_=M.chartOfAccounts)==null?void 0:_.accounts)||[]}),[v,j]=w.useState("list"),[C,x]=w.useState(null),[N,S]=w.useState(!1);w.useEffect(()=>{t(Ac()),t(un()),t(An()),t(Fa()),t(or()),t(qa()),t(Jt()),t(dn()),t(Ba()),t(Jn()),t(ya()),t(Do()),t(kr())},[t]);const A=()=>{x(null),j("form")},I=M=>{x(M),j("form")},E=()=>{j("list"),x(null)},k=[{key:"Status",header:"Status",sortable:!0,render:M=>ZE(M)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:M=>new Date(M).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"BillingDueDate",header:"Billing Due Date ",sortable:!0},{key:"ObligationRequestNumber",header:"CAFOA Number",sortable:!0}],P=M=>{console.log("Edit OR",M),x(M),j("form")},R=async(M,_)=>{S(!0);try{const L=await He.post(`/disbursementVoucher/${_}`,{ID:M.ID});console.log(`${_}d:`,L.data),t(Ac()),q.success(`Disbursement Voucher ${_}d successfully`)}catch(L){console.error(`Error ${_}ing disbursement voucher:`,L),q.error(`Error ${_}ing disbursement voucher`)}finally{S(!1)}};return o.jsxs("div",{children:[v==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Vouchers"}),o.jsx("p",{children:"Manage disbursement vouchers"})]}),n&&o.jsxs("button",{type:"button",onClick:A,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create DV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:k,data:e,actions:M=>{const _=[];return M.Status.toLowerCase().includes("rejected")&&a?_.push({icon:Ie,title:"Edit",onClick:()=>P(M),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}):M.Status==="Requested"&&_.push({icon:ah,title:"Approve",onClick:()=>R(M,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:ju,title:"Reject",onClick:()=>R(M,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),_},loading:r||N})})]}),v==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:E,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(va,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:C?"Edit Disbursement Voucher":"Create Disbursement Voucher"}),o.jsxs("p",{children:["Fill out the form to"," ",C?"update":"create"," a disbursement voucher"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(E0e,{initialData:C,employeeOptions:i.map(M=>({value:M.ID,label:M.FirstName+" "+M.MiddleName+" "+M.LastName})),vendorOptions:c.map(M=>({value:M.ID,label:M.Name})),individualOptions:l.map(M=>({value:M.ID,label:M.Name||`${M.FirstName} ${M.MiddleName} ${M.LastName}`})),chartOfAccountsOptions:(b||[]).map(M=>({value:M.ID,label:M.AccountCode+" - "+M.Name})),employeeData:i,vendorData:c,individualData:l,departmentOptions:u.map(M=>({value:M.ID,label:M.Name})),fundOptions:f.map(M=>({value:M.ID,label:M.Name})),projectOptions:d.map(M=>({value:M.ID,label:M.Title})),fiscalYearOptions:m.map(M=>({value:M.ID,label:M.Name})),particularsOptions:h.map(M=>({value:M.ID,label:M.Name})),unitOptions:g.map(M=>({value:M.ID,label:M.Name})),taxCodeOptions:y.map(M=>({value:M.ID,label:M.Name})),budgetOptions:p.map(M=>({value:M.ID,label:M.Name})),taxCodeFull:y,onCancel:E,onSubmitSuccess:E,onClose:E})})]}),v==="details"&&C&&o.jsx("div",{children:o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:E,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(va,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Voucher Details"}),o.jsx("p",{children:"View and manage disbursement voucher details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>I(C),className:"btn btn-primary flex items-center",children:[o.jsx(Ie,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit DV"]})]})})})]})}function P0e({initialData:t,onSubmit:e,onClose:r,officeOptions:n,employeeOptions:a}){const s="https://staging-engine.testthelink.online",{departments:i}=V(v=>v.departments),{employees:l}=V(v=>v.employees),{budgets:c}=V(v=>v.budget);console.log("Budgets:",c);const u=ue();w.useEffect(()=>{u(or()),u(un()),u(Do())},[u]);const d=le({BudgetID:D().required("Office is required"),DateStart:Le().required("Start Date is required"),DateEnd:Le().required("End Date is required").min(hl("DateStart"),"End Date must be after Start Date"),Place:D().required("Place/Office to be visited is required"),Venue:D().required("Venue/Destination is required"),Remarks:D(),Purpose:D().required("Purpose of Travel is required"),Travelers:Yt().of(le({TravelerID:D().required("Employee is required")})).min(1,"At least one traveler is required"),TravelPayments:Yt().of(le({Amount:Y().required("Amount is required"),BudgetID:D().required("Budget of Fund is required"),Type:D().required("Type is required")})).min(1,"At least one expense is required"),TravelDocuments:Yt().of(le({Name:D().required("Document name is required")})).min(1,"At least one document is required")}),f=at({initialValues:t||{BudgetID:"",DateStart:"",DateEnd:"",Place:"",Venue:"",Remarks:"",Purpose:"",Plane:!1,Vessels:!1,PUV:!1,ServiceVehicle:!1,RentedVehicle:!1,Travelers:[{TravelerID:""}],TravelPayments:[{Amount:"",BudgetID:"",Type:""}],TravelDocuments:[{Name:""}],Attachments:[]},validationSchema:d,onSubmit:async(v,j)=>{const C=new FormData;for(const x in v)x==="Attachments"?v.Attachments.forEach((N,S)=>{N.ID?C.append(`Attachments[${S}].ID`,N.ID):C.append(`Attachments[${S}].File`,N.File)}):C.append(x,JSON.stringify(v[x]));try{await e(C)}catch(x){console.error(x)}finally{j(!1)}}}),{values:m,handleChange:h,handleBlur:y,errors:g,touched:p,isSubmitting:b}=f;return o.jsx(hE,{value:f,children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"space-y-4",children:[o.jsx(T,{type:"select",label:"Office",name:"BudgetID",options:i.map(v=>({value:v.ID,label:v.Name})),value:m.BudgetID,onChange:h,onBlur:y,error:g.BudgetID,touched:p.BudgetID,required:!0}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(T,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:h,onBlur:y,error:g.DateStart,touched:p.DateStart,required:!0}),o.jsx(T,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:h,onBlur:y,error:g.DateEnd,touched:p.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(T,{label:"Place/Office to be visited",name:"Place",type:"text",value:m.Place,onChange:h,onBlur:y,error:g.Place,touched:p.Place,required:!0}),o.jsx(T,{label:"Venue/Destination",name:"Venue",type:"text",value:m.Venue,onChange:h,onBlur:y,error:g.Venue,touched:p.Venue,required:!0})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(T,{type:"textarea",label:"Remarks",name:"Remarks",value:m.Remarks,onChange:h,onBlur:y,error:g.Remarks,touched:p.Remarks}),o.jsx(T,{type:"textarea",label:"Purpose of Travel",name:"Purpose",value:m.Purpose,onChange:h,onBlur:y,error:g.Purpose,touched:p.Purpose,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium block mb-2",children:"Means of Transportation"}),o.jsxs("div",{className:"grid grid-cols-1  sm:grid-cols-3 gap-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Plane",checked:m.Plane,onChange:h,onBlur:y}),o.jsx("span",{children:"Plane"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Vessels",checked:m.Vessels,onChange:h,onBlur:y}),o.jsx("span",{children:"Ship/Boat"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"PUV",checked:m.PUV,onChange:h,onBlur:y}),o.jsx("span",{children:"PUV"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"ServiceVehicle",checked:m.ServiceVehicle,onChange:h,onBlur:y}),o.jsx("span",{children:"LGU Service Vehicle"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"RentedVehicle",checked:m.RentedVehicle,onChange:h,onBlur:y}),o.jsx("span",{children:"Vehicle for Rent"})]})]})]}),o.jsx("hr",{}),o.jsx(nn,{name:"Travelers",render:({remove:v,push:j})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2 ",children:[o.jsx("label",{className:"font-medium",children:"Travelers"}),o.jsx(St,{type:"button",onClick:()=>j({TravelerID:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),m.Travelers.map((C,x)=>{var N,S,A,I;return o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[o.jsx(T,{type:"select",label:`Employee ${x+1}`,name:`Travelers[${x}].TravelerID`,options:l.map(E=>({value:E.ID,label:E.FirstName+" "+E.MiddleName+" "+E.LastName})),value:C.TravelerID,onChange:h,onBlur:y,error:(S=(N=g.Travelers)==null?void 0:N[x])==null?void 0:S.TravelerID,touched:(I=(A=p.Travelers)==null?void 0:A[x])==null?void 0:I.TravelerID,className:"w-full sm:min-w-[300px]",required:!0}),o.jsx(St,{type:"button",onClick:()=>v(x),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:m.Travelers.length===1,children:o.jsx(tr,{className:"w-4 h-4"})})]},x)})]})}),o.jsx("hr",{}),o.jsx(nn,{name:"TravelPayments",render:({remove:v,push:j})=>{var C,x;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Expenses"}),o.jsx(St,{type:"button",onClick:()=>j({Amount:"",BudgetID:"",Type:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(C=m.TravelPayments)==null?void 0:C.map((N,S)=>{var A,I,E,k,P,R,M,_,L,F,$,O;return o.jsxs("div",{className:"flex sm:flex-wrap max-sm:flex-col  sm:gap-4 w-full  !mb-4",children:[o.jsx(T,{type:"number",label:"Amount",name:`TravelPayments[${S}].Amount`,value:N.Amount,onChange:h,onBlur:y,error:(I=(A=g.TravelPayments)==null?void 0:A[S])==null?void 0:I.Amount,touched:(k=(E=p.TravelPayments)==null?void 0:E[S])==null?void 0:k.Amount,className:"w-full sm:max-w-[180px] ",required:!0}),o.jsx(T,{type:"select",label:"Source of Fund",name:`TravelPayments[${S}].BudgetID`,options:c.map(U=>({value:U.ID,label:U.Name})),value:N.BudgetID,onChange:h,onBlur:y,error:(R=(P=g.TravelPayments)==null?void 0:P[S])==null?void 0:R.BudgetID,touched:(_=(M=p.TravelPayments)==null?void 0:M[S])==null?void 0:_.BudgetID,className:"w-full sm:min-w-[200px] ",required:!0}),o.jsx(T,{type:"select",label:"Type",name:`TravelPayments[${S}].Type`,options:[{label:"One Time Payment",value:"1"},{label:"Per Day",value:"2"}],value:N.Type,onChange:h,onBlur:y,error:(F=(L=g.TravelPayments)==null?void 0:L[S])==null?void 0:F.Type,touched:(O=($=p.TravelPayments)==null?void 0:$[S])==null?void 0:O.Type,className:"w-full sm:min-w-[100px] ",required:!0}),o.jsx(St,{type:"button",onClick:()=>v(S),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3 my-auto ml-auto",disabled:m.TravelPayments.length===1,children:o.jsx(tr,{className:"w-4 h-4"})})]},S)}),o.jsxs("div",{className:"flex justify-end text-right mt-4",children:[o.jsx("label",{className:"font-semibold mr-2",children:"Total:"}),o.jsx("span",{className:"",children:(x=m.TravelPayments)==null?void 0:x.reduce((N,S)=>{const A=parseFloat(S.Amount);return N+(isNaN(A)?0:A)},0).toFixed(2)})]})]})}}),o.jsx("hr",{}),o.jsx(nn,{name:"TravelDocuments",render:({remove:v,push:j})=>{var C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Documents Required"}),o.jsx(St,{type:"button",onClick:()=>j({Name:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(C=m.TravelDocuments)==null?void 0:C.map((x,N)=>{var S,A,I,E;return o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[o.jsx(T,{type:"text",label:`Document ${N+1}`,name:`TravelDocuments[${N}].Name`,value:x.Name,onChange:h,onBlur:y,error:(A=(S=g.TravelDocuments)==null?void 0:S[N])==null?void 0:A.Name,touched:(E=(I=p.TravelDocuments)==null?void 0:I[N])==null?void 0:E.Name,className:"w-full sm:min-w-[300px]",required:!0}),o.jsx(St,{type:"button",onClick:()=>v(N),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:m.TravelDocuments.length===1,children:o.jsx(tr,{className:"w-4 h-4"})})]},N)})]})}}),o.jsx("hr",{}),o.jsx(nn,{name:"Attachments",render:({remove:v,push:j})=>{var C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(St,{type:"button",onClick:()=>j({File:null}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(C=m.Attachments)==null?void 0:C.map((x,N)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[x.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${s}/uploads/${x.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:x.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${N}].ID`,value:x.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${N+1}`}),o.jsx("input",{type:"file",name:`Attachments[${N}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:S=>f.setFieldValue(`Attachments[${N}].File`,S.currentTarget.files[0]),onBlur:y,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(St,{type:"button",onClick:()=>v(N),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",children:o.jsx(tr,{className:"w-4 h-4"})})]},N))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":"Save"})]})]})})}function O0e({to:t,onClose:e,onEdit:r}){const n=l=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l),a=l=>new Date(l).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=l=>new Date(l).toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=l=>{let c="bg-neutral-100 text-neutral-800";switch(l){case"Pending Recommendation":c="bg-warning-100 text-warning-800";break;case"Pending Approval":c="bg-primary-100 text-primary-800";break;case"Approved":case"Liquidated":c="bg-success-100 text-success-800";break;case"Cancelled":c="bg-error-100 text-error-800";break}return c};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${i(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(cl,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Travel Order Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"TO Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.toNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.toDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Employee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Employee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.employeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Position"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.position})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Travel Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Destination"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.destination})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Means of Travel"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.meansOfTravel||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Departure"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.departureDate)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Return"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.returnDate)})]})]})}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Purpose"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900 whitespace-pre-line",children:t.purpose})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Estimated Expenses"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.estimatedExpenses)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(p3,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(h3,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Recommendation"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(b3,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for recommendation"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const Yj="https://staging-engine.testthelink.online",_0e=[],fb=B("travelOrders/fetchTravelOrders",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Yj}/travelOrder`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),mb=B("travelOrders/addTravelOrder",async(t,e)=>{try{const r=await fetch(`${Yj}/travelOrder`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),uI=B("travelOrders/updateTravelOrder",async(t,e)=>{try{let r,n={method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:null};t instanceof FormData?(r=t.get("ID"),t.delete("ID"),n.body=t):(r=t.ID,n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t));const a=await fetch(`${Yj}/travelOrder/${r}`,n),s=await a.json();if(!a.ok)throw new Error(s.error||s.message||"Failed to update");return s}catch(r){return e.rejectWithValue(r.message)}}),hb=B("travelOrders/deleteTravelOrder",async(t,e)=>{try{const r=await fetch(`${Yj}/travelOrder/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$0e=ve({name:"travelOrders",initialState:{travelOrders:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(fb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fb.fulfilled,(e,r)=>{e.isLoading=!1,e.travelOrders=Array.isArray(r.payload)?r.payload:[]}).addCase(fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch travel orders",console.warn("Failed to fetch travel orders, using mock data.",e.error),e.travelOrders=_0e}).addCase(mb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders.push(r.payload)}).addCase(mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add travel order",console.error("Failed to add travel order:",e.error)}).addCase(uI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.travelOrders.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders[n]=r.payload)}).addCase(hb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders=e.travelOrders.filter(n=>n.ID!==r.payload)}).addCase(hb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete travel order",console.error("Failed to delete travel order:",e.error)})}}),R0e=$0e.reducer;function M0e(){const t=ue(),{travelOrders:e,isLoading:r}=V(N=>N.travelOrders),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),{Add:f,Edit:m,Delete:h}=we(80);w.useEffect(()=>{t(fb())},[t]);const y=async N=>{try{u?await t(uI({...N,ID:u.ID})).unwrap():await t(mb(N)).unwrap(),i(!1),d(null),ie.success("Success")}catch(S){throw ie.error(S||"Failed"),S}},g=()=>{d(null),i(!0)},p=N=>{d(N),i(!0)},b=N=>{d(N),a(!0)},v=async()=>{if(u)try{await t(hb(u.ID)).unwrap(),ie.success("Deleted")}catch(N){console.error("Failed to delete travel order:",N),ie.error("Failed to delete travel order")}finally{a(!1),d(null)}},j=()=>{i(!1),d(null)},C=()=>{c(!1),d(null)},x=[{key:"TransactionStatus",header:"Status",sortable:!0,render:N=>{let S="bg-neutral-100 text-neutral-800";switch(N){case"Requested":S="bg-warning-100 text-warning-800";break;case"Approval Progress":S="bg-primary-100 text-primary-800";break;case"Rejected":S="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S}`,children:N})}},{key:"BudgetDepartmentName",header:"Office",sortable:!0},{key:"DateCreated",header:"Date of Filing",sortable:!0},{key:"InvoiceNumber",header:"Travel Order No.",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position/Designation",header:"Position/Designation",sortable:!0},{key:"No_of_Days",header:"No. of Days",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Travel Orders"}),o.jsx("p",{children:"Manage travel orders and authorizations"})]}),f&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create Travel Order"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:N=>{var A;const S=[];return((A=N.Transaction)==null?void 0:A.Status)==="Rejected"&&(S.push({icon:Ie,title:"Edit",onClick:()=>p(N),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),S.push({icon:Fe,title:"Delete",onClick:()=>b(N),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})),S},loading:r})}),o.jsx(oe,{isOpen:s,onClose:j,title:u?"Edit Travel Order":"Create Travel Order",size:"xl",children:o.jsx(P0e,{initialData:u,onSubmit:y,onClose:j})}),o.jsx(oe,{isOpen:l,onClose:C,title:"Travel Order Details",size:"lg",children:u&&o.jsx(O0e,{to:u,onClose:C,onEdit:()=>{c(!1),i(!0)},officeOptions:[],employeeOptions:[]})}),o.jsxs(oe,{isOpen:n,onClose:()=>a(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the travel order "',u==null?void 0:u.TravelOrderNumber,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const L0e="https://staging-engine.testthelink.online";function F0e({initialData:t,onSubmit:e,onClose:r,typeOptions:n,fundOptions:a,centerOptions:s,accountOptions:i}){const[l,c]=w.useState(""),[u,d]=w.useState((t==null?void 0:t.JEVType)||""),f=le({JEVType:D().required("Type is required"),FundsID:D().required("Fund is required"),InvoiceDate:Le().required("Date is required"),SAI_No:D(),Remarks:D().required("Particulars are required"),ObligationRequestNumber:D(),CheckNumber:D(),CheckDate:Le(),AccountingEntries:Yt().of(le({ResponsibilityCenter:D().required("Required"),AccountExplanation:D().required("Required"),Debit:Y().nullable().typeError("Must be a number").required("Debit is required"),Credit:Y().nullable().typeError("Must be a number").required("Credit is required")})).min(1,"At least one entry is required")}),m=at({initialValues:t||{JEVType:"",FundsID:"",InvoiceDate:"",SAI_No:"",Remarks:"",Payee:"",ObligationRequestNumber:"",CheckNumber:"",CheckDate:"",AccountingEntries:[{ResponsibilityCenter:"",AccountExplanation:"",Debit:0,Credit:0}],Attachments:[]},validationSchema:f,onSubmit:async(j,C)=>{const x=j.AccountingEntries.reduce((A,I)=>A+(parseFloat(I.Debit)||0),0),N=j.AccountingEntries.reduce((A,I)=>A+(parseFloat(I.Credit)||0),0);if(console.log(j),x!==N){c("Total Debit must be equal to Total Credit.");return}else c("");const S=new FormData;for(const A in j)A==="Attachments"?j.Attachments.forEach((I,E)=>{I.ID?S.append(`Attachments[${E}].ID`,I.ID):S.append(`Attachments[${E}].File`,I.File)}):A!=="CheckDate"&&S.append(A,JSON.stringify(j[A]));S.append("CheckDate",JSON.stringify(j.CheckDate||j.InvoiceDate)),t&&S.append("LinkID",t.LinkID);try{await e(S)}catch(A){console.error(A)}finally{C(!1)}}}),h=j=>{d(j.target.value),m.handleChange(j)},{values:y,handleChange:g,handleBlur:p,errors:b,touched:v}=m;return o.jsx(hE,{value:m,children:o.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(T,{type:"select",label:"Type",name:"JEVType",options:n,value:y.JEVType,onChange:h,onBlur:p,error:b.JEVType,touched:v.JEVType,required:!0}),o.jsx(T,{type:"select",label:"Fund",name:"FundsID",options:a,value:y.FundsID,onChange:g,onBlur:p,error:b.FundsID,touched:v.FundsID,required:!0}),o.jsx(T,{type:"date",label:"Invoice Date",name:"InvoiceDate",value:y.InvoiceDate,onChange:g,onBlur:p,error:b.InvoiceDate,touched:v.InvoiceDate,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(T,{type:"text",label:"OBR No",name:"ObligationRequestNumber",value:y.ObligationRequestNumber,onChange:g,onBlur:p,error:b.ObligationRequestNumber,touched:v.ObligationRequestNumber}),o.jsx(T,{type:"text",label:"Remarks",name:"Remarks",value:y.Remarks,onChange:g,onBlur:p,error:b.Remarks,touched:v.Remarks,required:!0}),o.jsx(T,{type:"text",label:"Payee",name:"Payee",value:y.Payee,onChange:g,onBlur:p,error:b.Payee,touched:v.Payee})]}),u==="Check Disbursement"&&o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(T,{type:"text",label:"DV No",name:"SAI_No",value:y.SAI_No,onChange:g,onBlur:p,error:b.SAI_No,touched:v.SAI_No}),o.jsx(T,{type:"text",label:"Check No",name:"CheckNumber",value:y.CheckNumber,onChange:g,onBlur:p,error:b.CheckNumber,touched:v.CheckNumber}),o.jsx(T,{type:"date",label:"Check Date",name:"CheckDate",value:y.CheckDate,onChange:g,onBlur:p,error:b.CheckDate,touched:v.CheckDate})]}),o.jsx("hr",{}),o.jsx(nn,{name:"AccountingEntries",render:({remove:j,push:C})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Accounting Entries"}),o.jsx(St,{type:"button",onClick:()=>C({ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),y.AccountingEntries.map((x,N)=>{var I,E,k,P,R,M,_,L,F,$,O,U,K,G;const S=parseFloat(x.Debit)>0,A=parseFloat(x.Credit)>0;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex max-sm:flex-col sm:flex-wrap gap-2 w-full",children:[o.jsx(T,{className:"flex-1 w-full sm:min-w-[200px]",type:"select",label:"Responsibility Center",name:`AccountingEntries[${N}].ResponsibilityCenter`,options:s,value:x.ResponsibilityCenter,onChange:g,onBlur:p,error:(E=(I=b.AccountingEntries)==null?void 0:I[N])==null?void 0:E.ResponsibilityCenter,touched:(P=(k=v.AccountingEntries)==null?void 0:k[N])==null?void 0:P.ResponsibilityCenter,required:!0}),o.jsxs("div",{className:"flex-1 sm:min-w-[200px]",children:[o.jsxs("label",{className:"form-label",children:["Accounts and Explanation"," ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Wr,{label:"Accounts and Explanation",options:i,className:"focus:!ring-none focus:!border-none focus:bg-red-600",placeholder:"Select an account...",isSearchable:!0,onChange:z=>m.setFieldValue(`AccountingEntries[${N}].AccountExplanation`,(z==null?void 0:z.value)||""),name:`AccountingEntries[${N}].AccountExplanation`,value:i.find(z=>z.value===x.AccountExplanation)||null,onBlur:p,required:!0}),((M=(R=b.AccountingEntries)==null?void 0:R[N])==null?void 0:M.AccountExplanation)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:b.AccountingEntries[N].AccountExplanation})]}),o.jsx(T,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Debit",name:`AccountingEntries[${N}].Debit`,value:x.Debit,onChange:z=>{z.target.value&&parseFloat(z.target.value)>0&&m.setFieldValue(`AccountingEntries[${N}].Credit`,0),g(z)},onBlur:p,error:(L=(_=b.AccountingEntries)==null?void 0:_[N])==null?void 0:L.Debit,touched:($=(F=v.AccountingEntries)==null?void 0:F[N])==null?void 0:$.Debit,required:!A}),o.jsx(T,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Credit",name:`AccountingEntries[${N}].Credit`,value:x.Credit,onChange:z=>{z.target.value&&parseFloat(z.target.value)>0&&m.setFieldValue(`AccountingEntries[${N}].Debit`,0),g(z)},onBlur:p,error:(U=(O=b.AccountingEntries)==null?void 0:O[N])==null?void 0:U.Credit,touched:(G=(K=v.AccountingEntries)==null?void 0:K[N])==null?void 0:G.Credit,required:!S})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(St,{type:"button",onClick:()=>j(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:y.AccountingEntries.length===1,children:o.jsx(tr,{className:"w-4 h-4"})})})]},N)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-green-600 font-bold",children:[y.AccountingEntries.reduce((x,N)=>x+(parseFloat(N.Debit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(debit)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-red-600 font-bold",children:[y.AccountingEntries.reduce((x,N)=>x+(parseFloat(N.Credit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(credit)"})]})})]})]})}),o.jsx("hr",{}),o.jsx(nn,{name:"Attachments",render:({remove:j,push:C})=>{var x;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"mb-2 mt-10",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(St,{type:"button",onClick:()=>C({File:null}),className:"btn btn-sm btn-primary ml-5",children:"+ Add"})]}),(x=y.Attachments)==null?void 0:x.map((N,S)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[N.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${L0e}/uploads/${N.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:N.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${S}].ID`,value:N.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${S+1}`}),o.jsx("input",{type:"file",name:`Attachments[${S}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:A=>m.setFieldValue(`Attachments[${S}].File`,A.currentTarget.files[0]),onBlur:p,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(St,{type:"button",onClick:()=>j(S),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(tr,{className:"w-4 h-4"})})]},S))]})}}),l&&o.jsx("div",{className:"text-red-600 text-sm font-medium text-right",children:l}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(St,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(St,{type:"submit",className:"btn btn-primary",disabled:m.isSubmitting,children:m.isSubmitting?"Saving...":"Save"})]})]})})}const Kj="https://staging-engine.testthelink.online",B0e=[],Ic=B("journalEntries/fetchJournalEntries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Kj}/journalEntryVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),pb=B("journalEntries/addJournalEntry",async(t,e)=>{try{const r=await fetch(`${Kj}/journalentryvoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),dI=B("journalEntries/updateJournalEntry",async({journalEntry:t,id:e},r)=>{try{const n=await fetch(`${Kj}/journalEntryVoucher/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to update");return a}catch(n){return r.rejectWithValue(n.message)}}),gb=B("journalEntries/deleteJournalEntry",async(t,e)=>{try{const r=await fetch(`${Kj}/journalEntryVoucher/?LinkID=${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),q0e=ve({name:"journalEntries",initialState:{journalEntries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ic.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ic.fulfilled,(e,r)=>{e.isLoading=!1,e.journalEntries=Array.isArray(r.payload)?r.payload:[]}).addCase(Ic.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch journal entries",console.warn("Failed to fetch journal entries, using mock data.",e.error),e.journalEntries=B0e}).addCase(pb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries.push(r.payload)}).addCase(pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add journal entry",console.error("Failed to add journal entry:",e.error)}).addCase(dI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries[n]=r.payload)}).addCase(gb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries=e.journalEntries.filter(n=>n.ID!==r.payload)}).addCase(gb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete journal entry",console.error("Failed to delete journal entry:",e.error)})}}),V0e=q0e.reducer;function U0e(){var A;const{departments:t}=V(I=>I.departments),{accounts:e}=V(I=>I.chartOfAccounts),{Add:r,Edit:n,Delete:a}=we(57),s=[{label:"Cash Disbursement",value:"Cash Disbursement"},{label:"Check Disbursement",value:"Check Disbursement"},{label:"Collection",value:"Collection"},{label:"Others",value:"Others"}],i=[{label:"General Fund",value:"1"},{label:"Trust Fund",value:"2"},{label:"Special Education Fund",value:"3"}],l=ue(),{journalEntries:c,isLoading:u}=V(I=>I.journalEntries),[d,f]=w.useState(!1),[m,h]=w.useState(null),[y,g]=w.useState(!1),[p,b]=w.useState(null);w.useEffect(()=>{l(Ic()),l(or()),l(kr())},[l]);const v=()=>{h(null),f(!0)},j=I=>{h(I),f(!0)},C=I=>{b(I),g(!0)},x=async()=>{if(p)try{await l(gb(p.LinkID)).unwrap(),ie.success("Deleted"),l(Ic())}catch(I){console.error("Failed to delete journal entry:",I),ie.error("Failed to delete journal entry")}finally{g(!1),b(null)}},N=async I=>{console.log({values:I});try{m?await l(dI({journalEntry:I,id:m.ID})).unwrap():await l(pb(I)).unwrap(),ie.success("Success"),l(Ic())}catch(E){throw ie.error(E||"Failed"),E}finally{f(!1),h(null)}},S=[{key:"Status",header:"Status",sortable:!0,render:I=>{let E="bg-neutral-100 text-neutral-800";switch(I){case"Requested":E="bg-warning-100 text-warning-800";break;case"Posted":E="bg-primary-100 text-primary-800";break;case"Rejected":E="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E}`,children:I})}},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"InvoiceNumber",header:"Invoice No.",sortable:!0},{key:"JEVType",header:"Jev Type",sortable:!0},{key:"FundsName",header:"Fund",sortable:!0},{key:"ObligationRequestNumber",header:"OBR No.",sortable:!0},{key:"SAI_No",header:"DV No.",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"CheckDate",header:"Check Date",sortable:!0},{key:"Total",header:"Total",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Journal Entries Voucher "}),o.jsx("p",{children:"Manage your Journal Entry Vouchers"})]}),r&&o.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add JEV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:S,data:c,actions:I=>{const E=[];return I.Status==="Rejected"&&(E.push({icon:Ie,title:"Edit",onClick:()=>j(I),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),E.push({icon:Fe,title:"Delete",onClick:()=>C(I),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})),E},loading:u,emptyMessage:"No journal entries found. Click 'Add JEV' to create one."})}),o.jsx(oe,{size:"xxxl",isOpen:d,onClose:()=>f(!1),title:m?"Edit Journal Entry Voucher":"Add Journal Entry Voucher",children:o.jsx(F0e,{typeOptions:s,fundOptions:i,centerOptions:t.filter(I=>I.Active).map(I=>({label:I.Name,value:I.ID})),accountOptions:e.filter(I=>I.Active).map(I=>({label:I.AccountCode+" "+I.Name,value:I.ID})),initialData:m?{...m,AccountingEntries:((A=m.JournalEntries)==null?void 0:A.map(I=>{const E=e.find(k=>k.AccountCode===I.AccountCode&&k.Name===I.AccountName);return{ResponsibilityCenter:I.ResponsibilityCenter||"",AccountExplanation:(E==null?void 0:E.ID)||"",PR:I.PR||"",Debit:I.Debit||0,Credit:I.Credit||0}}))||[]}:null,onClose:()=>f(!1),onSubmit:N})}),o.jsxs(oe,{isOpen:y,onClose:()=>g(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the journal entry "',p==null?void 0:p.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}function z0e({chartOfAccounts:t=[],funds:e=[],disbursementTypes:r=[],onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=le({DateStart:D().required("Start Date is required"),DateEnd:D().required("End Date is required"),ChartOfAccountID:D().required("Chart of Accounts is required"),FundID:D().required("Fund is required"),DisbursementType:D().required("Disbursement Type is required")}),c={DateStart:"",DateEnd:"",ChartOfAccountID:"",FundID:"",DisbursementType:""},u=(m,{setSubmitting:h})=>{const y=i.current;y==="view"?n(m):y==="generate"?a(m):y==="export"&&s(m),h(!1),i.current=null},d=[{value:"%",label:"All Funds"},...(e==null?void 0:e.map(m=>({value:m.ID,label:m.Name})))||[]],f=[{value:"%",label:"All Chart of Accounts"},...(t==null?void 0:t.map(m=>({value:m.ID,label:m.Name})))||[]];return o.jsx(Re,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:m,errors:h,touched:y,handleChange:g,handleBlur:p,isSubmitting:b})=>o.jsxs(qe,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 sm:gap-4",children:[o.jsx(T,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:g,onBlur:p,error:h.DateStart,touched:y.DateStart,required:!0}),o.jsx(T,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:g,onBlur:p,error:h.DateEnd,touched:y.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(T,{type:"select",label:"Chart of Accounts",name:"ChartOfAccountID",options:f,value:m.ChartOfAccountID,onChange:g,onBlur:p,error:h.ChartOfAccountID,touched:y.ChartOfAccountID,required:!0}),o.jsx(T,{type:"select",label:"Fund",name:"FundID",options:d,value:m.FundID,onChange:g,onBlur:p,error:h.FundID,touched:y.FundID,required:!0}),o.jsx(T,{type:"select",label:"Disbursement Type",name:"DisbursementType",options:r.map(v=>({value:v.value,label:v.label})),value:m.DisbursementType,onChange:g,onBlur:p,error:h.DisbursementType,touched:y.DisbursementType,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const W0e="https://staging-engine.testthelink.online",H0e={disbursementJournals:[],isLoading:!1,error:null},yb=B("disbursementJournal/fetchJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${W0e}/disbursementJournals/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),v1=B("disbursementJournal/exportJournals",async t=>(console.log("Exporting journals with filters:",t),!0)),EU=ve({name:"disbursementJournal",initialState:H0e,reducers:{resetDisbursementJournalState:t=>{t.disbursementJournals=[],t.error=null}},extraReducers:t=>{t.addCase(yb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yb.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementJournals=r.payload}).addCase(yb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(v1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(v1.fulfilled,e=>{e.isLoading=!1}).addCase(v1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetDisbursementJournalState:G0e}=EU.actions,Y0e=EU.reducer;function K0e(){const t="https://staging-engine.testthelink.online",e=ue(),{disbursementJournals:r,isLoading:n,error:a}=V(m=>m.disbursementJournal),s=V(m=>{var h;return((h=m.chartOfAccounts)==null?void 0:h.accounts)||[]}),{funds:i}=V(m=>m.funds),l=[{value:"Check",label:"Check"},{value:"Collection",label:"Collection"},{value:"Cash",label:"Cash"},{value:"General",label:"General"}];w.useEffect(()=>{e(G0e()),e(kr()),e(Jt())},[e]);const c=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),u=[{key:"Municipality",header:"Municipality",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"CheckNo",header:"Check No.",sortable:!0},{key:"VoucherNo",header:"Voucher No.",sortable:!0},{key:"JEVNo",header:"JEV No.",sortable:!0},{key:"Claimant",header:"Claimant",sortable:!0},{key:"Particulars",header:"Particulars",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"EndDate",header:"End Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()}],d=async m=>{console.log({values:m});try{const h=await fetch(`${t}/disbursementJournals/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({DisbursementType:m.DisbursementType,DateStart:m.DateStart,DateEnd:m.DateEnd,FundID:m.FundID,ChartOfAccountID:m.ChartOfAccountID})});if(console.log(h),!h.ok)throw new Error("Server response was not ok");const y=await h.blob(),g=h.headers.get("Content-Disposition");let p=`Disbursement_Journals_${m.DisbursementType}.xlsx`;g&&g.includes("filename=")&&(p=g.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(y),v=document.createElement("a");v.href=b,v.download=p,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(b)}catch(h){console.error("Export failed:",h),q.error(h.message||"Failed to export disbursement journal")}},f=m=>{console.log(m),e(yb(m))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Disbursement Journal"}),o.jsx("p",{children:"Generate disbursement journal reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(z0e,{chartOfAccounts:s,funds:i,disbursementTypes:l,onExportExcel:d,onView:f,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:u,data:r,loading:n,pagination:!0})})]})}function J0e({funds:t=[],onView:e,onGenerateJournal:r,onExportExcel:n}){const a=w.useRef(null),s=le({DateStart:D().required("Start Date is required"),DateEnd:D().required("End Date is required"),FundID:D().required("Fund is required")}),i={DateStart:"",DateEnd:"",FundID:""},l=(c,{setSubmitting:u})=>{const d=a.current;d==="view"?e(c):d==="generate"?r(c):d==="export"&&n(c),u(!1),a.current=null};return o.jsx(Re,{initialValues:i,validationSchema:s,onSubmit:l,validateOnMount:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isSubmitting:h})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(T,{label:"Start Date",name:"DateStart",type:"date",value:c.DateStart,onChange:f,onBlur:m,error:u.DateStart,touched:d.DateStart,required:!0}),o.jsx(T,{label:"End Date",name:"DateEnd",type:"date",value:c.DateEnd,onChange:f,onBlur:m,error:u.DateEnd,touched:d.DateEnd,required:!0}),o.jsx(T,{type:"select",label:"Fund",name:"FundID",options:t.map(y=>({value:y.ID,label:y.Name})),value:c.FundID,onChange:f,onBlur:m,error:u.FundID,touched:d.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,onClick:()=>a.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:h,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:h,onClick:()=>a.current="export",children:"Export to Excel"})]})]})})}const X0e="https://staging-engine.testthelink.online",Q0e={generalJournals:[],isLoading:!1,error:null},bb=B("generalJournal/fetchGeneralJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${X0e}/generalJournal/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general journals:",r),e.rejectWithValue(r.message)}}),j1=B("generalJournal/exportGeneralJournals",async t=>!0),DU=ve({name:"generalJournal",initialState:Q0e,reducers:{resetGeneralJournalState:t=>{t.generalJournals=[],t.error=null}},extraReducers:t=>{t.addCase(bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalJournals=r.payload}).addCase(bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(j1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(j1.fulfilled,e=>{e.isLoading=!1}).addCase(j1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralJournalState:Z0e}=DU.actions,eje=DU.reducer;function tje(){const t="https://staging-engine.testthelink.online",e=ue(),{generalJournals:r,isLoading:n,error:a}=V(d=>d.generalJournal),{funds:s}=V(d=>d.funds),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);w.useEffect(()=>{e(Z0e()),e(Jt())},[e]);const l=[{key:"Date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"VoucherNo",header:"Voucher No",sortable:!0},{key:"Remarks",header:"Remarks",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"S/L",header:"S/L",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0}],c=async d=>{try{const f=await fetch(`${t}/generalJournal/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({startDate:d.startDate,endDate:d.endDate,fundID:d.fundID})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let y="General_Journal.xlsx";h&&h.includes("filename=")&&(y=h.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(m),p=document.createElement("a");p.href=g,p.download=y,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(g)}catch(f){console.error("Export failed:",f),q.error(f.message||"Failed to export general journal")}},u=d=>{e(bb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Journal"}),o.jsx("p",{children:"Generate general journal reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(J0e,{funds:s,onExportExcel:c,onView:u,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:l,data:r,loading:n,pagination:!0})})]})}function rje({fiscalYears:t=[],onSubmit:e,onAddClick:r,onTransferClick:n,Add:a}){const s=le({FiscalYearID:D().required("Fiscal Year is required")}),i={FiscalYearID:""};return o.jsx(Re,{initialValues:i,validationSchema:s,validateOnMount:!0,onSubmit:e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsx(qe,{children:o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-between sm:gap-4 w-full",children:[o.jsx("div",{className:"flex flex-wrap items-center sm:gap-4 w-full sm:w-auto",children:o.jsx("div",{className:"w-full sm:w-auto",children:o.jsx(T,{type:"select",label:"Fiscal Year",name:"FiscalYearID",options:t,value:l.FiscalYearID,onChange:d,onBlur:f,error:c.FiscalYearID,touched:u.FiscalYearID,required:!0})})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"submit",className:"btn btn-primary w-full sm:w-auto",disabled:m,children:"Search"}),a&&o.jsx("button",{type:"button",className:"btn btn-secondary w-full sm:w-auto",onClick:r,children:"Add"}),o.jsx("button",{type:"button",className:"btn btn-outline w-full sm:w-auto",onClick:n,children:"Transfer"})]})]})})})}const uh="https://staging-engine.testthelink.online",nje={beginningBalance:[],isLoading:!1,error:null},Ei=B("beginningBalance/fetchBalance",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uh}/beginningBalance/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.log("Error fetching beginning balance:",r),e.rejectWithValue(r.message)}}),xb=B("beginningBalance/addBeginningBalance",async(t,e)=>{try{const r=await fetch(`${uh}/beginningBalance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),vb=B("beginningBalance/updateBeginningBalance",async(t,e)=>{try{const r=await fetch(`${uh}/beginningBalance/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),jb=B("beginningBalance/transferBeginningBalance",async(t,e)=>{try{const r=await fetch(`${uh}/beginningBalance/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wb=B("beginningBalance/deleteBeginningBalance",async(t,e)=>{try{const r=await fetch(`${uh}/beginningBalance/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),PU=ve({name:"beginningBalance",initialState:nje,reducers:{resetBeginningBalanceState:t=>{t.beginningBalance=[],t.error=null}},extraReducers:t=>{t.addCase(Ei.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ei.fulfilled,(e,r)=>{e.isLoading=!1,e.beginningBalance=r.payload}).addCase(Ei.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(xb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(xb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(vb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.beginningBalance.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance[n]=r.payload)}).addCase(vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to update beginning balance"}).addCase(jb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(jb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(wb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance=e.beginningBalance.filter(n=>n.ID!==r.payload)}).addCase(wb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete beginning balance",console.error("Failed to delete beginning balance:",e.error)})}}),{resetBeginningBalanceState:nR}=PU.actions,aje=PU.reducer;function sje({initialData:t,onSubmit:e,onClose:r,fiscalYears:n=[],fundsOptions:a=[],chartOfAccountsOptions:s=[]}){const i=le({FiscalYearID:D().required("Fiscal Year is required"),FundsID:D().required("Funds are required"),BeginningBalance:Y().typeError("Must be a number").required("Beginning Balance is required"),ChartofAccountsCode:D().required("Chart of Accounts is required")}),l=at({initialValues:t||{FiscalYearID:"",FundsID:"",BeginningBalance:"",ChartofAccountsCode:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(T,{label:"Fiscal Year",name:"FiscalYearID",type:"select",options:n,value:l.values.FiscalYearID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FiscalYearID,touched:l.touched.FiscalYearID,required:!0,className:"w-full"}),o.jsx(T,{label:"Funds",name:"FundsID",type:"select",options:a,value:l.values.FundsID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FundsID,touched:l.touched.FundsID,required:!0,className:"w-full"}),o.jsx(T,{label:"Beginning Balance",name:"BeginningBalance",type:"number",value:l.values.BeginningBalance,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.BeginningBalance,touched:l.touched.BeginningBalance,required:!0,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Chart of Accounts ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(Wr,{options:s,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsCode",value:s.find(c=>String(c.value)===String(l.values.ChartofAccountsCode))||null,onChange:c=>l.setFieldValue("ChartofAccountsCode",(c==null?void 0:c.value)||""),onBlur:l.handleBlur}),l.touched.ChartofAccountsCode&&l.errors.ChartofAccountsCode&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:l.errors.ChartofAccountsCode})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}function oje({onSubmit:t,onClose:e,fiscalYears:r=[]}){const n=le({PreviousFiscalYearID:D().required("Previous Fiscal Year is required"),NextFiscalYearID:D().required("Next Fiscal Year is required").test("not-same","Previous and Next Fiscal Years cannot be the same",function(s){return s!==this.parent.PreviousFiscalYearID})}),a=at({initialValues:{PreviousFiscalYearID:"",NextFiscalYearID:""},validationSchema:n,onSubmit:s=>{t(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Previous Fiscal Year",name:"PreviousFiscalYearID",type:"select",options:r,value:a.values.PreviousFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.PreviousFiscalYearID,touched:a.touched.PreviousFiscalYearID,required:!0}),o.jsx(T,{label:"Next Fiscal Year",name:"NextFiscalYearID",type:"select",options:r,value:a.values.NextFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NextFiscalYearID,touched:a.touched.NextFiscalYearID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Transferring...":"Transfer"})]})]})}function ije(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}function lje(){const t=V(_=>{var L;return((L=_.chartOfAccounts)==null?void 0:L.accounts)||[]}),{funds:e}=V(_=>_.funds),r=ue(),{fiscalYears:n}=V(_=>_.fiscalYears),{beginningBalance:a,isLoading:s,error:i}=V(_=>_.beginningBalance),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),[h,y]=w.useState(!1),[g,p]=w.useState(null),[b,v]=w.useState(null),{Add:j,Edit:C,Delete:x}=we(21);w.useEffect(()=>{r(nR()),r(dn()),r(Jt()),r(kr())},[r]);const N=async _=>{try{f?await r(vb(_)).unwrap():await r(xb(_)).unwrap(),ie.success("Success"),b&&await r(Ei(b)).unwrap()}catch(L){ie.error(L||"Failed")}finally{c(!1)}},S=async _=>{try{await r(jb(_)).unwrap(),r(nR()),await r(Ei({FiscalYearID:_.NextFiscalYearID})).unwrap(),b&&await r(Ei(b)).unwrap(),ie.success("Success")}catch(L){ie.error(L||"Transfer failed")}finally{d(!1)}},A=()=>{m(null),c(!0)},I=_=>{m(_),c(!0)},E=_=>{p(_),y(!0)},k=async()=>{if(g)try{await r(wb(g.ID)).unwrap(),y(!1),p(null),ie.success("Deleted")}catch(_){ie.error(_||"Failed")}},P=[{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"FundName",header:"Funds",sortable:!0},{key:"AccountName",header:"Account",sortable:!0},{key:"BeginningBalance",header:"Beginning Balance",sortable:!0}],R=[C&&{icon:Ie,title:"Edit",onClick:I,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},x&&{icon:Fe,title:"Delete",onClick:E,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],M=async(_,{setSubmitting:L})=>{try{v(_),await r(Ei(_)).unwrap()}catch(F){console.error("Fetch failed:",F)}finally{L(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Beginning Balance"}),o.jsx("p",{children:"Generate beginning balance reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(rje,{fiscalYears:n.map(_=>({value:_.ID,label:_.Name})),onSubmit:M,onAddClick:A,onTransferClick:()=>d(!0),onClose:()=>{},Add:j})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:f?"Edit Beginning Balance":"Add Beginning Balance",size:"xl",children:o.jsx(sje,{onSubmit:N,initialData:f,fiscalYears:n.map(_=>({value:_.ID,label:_.Name})),fundsOptions:e.map(_=>({value:_.ID,label:_.Name})),onClose:()=>c(!1),chartOfAccountsOptions:t.map(_=>({value:_.ID,label:`${_.AccountCode} - ${_.Name} - [${ije(_.Description,50)}]`}))})}),o.jsx(oe,{isOpen:u,onClose:()=>d(!1),title:"Transfer Beginning Balance",size:"lg",children:o.jsx(oje,{onSubmit:S,fiscalYears:n.map(_=>({value:_.ID,label:_.Name})),onClose:()=>d(!1)})}),o.jsxs(oe,{isOpen:h,onClose:()=>y(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the beginning balance "',g==null?void 0:g.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:k,className:"btn btn-danger",children:"Delete"})]})]}),i&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:i})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:P,actions:R,data:a,loading:s,pagination:!0})})]})}const cje=le().shape({ResponsibilityCenter:D().required("Department is required"),OfficeUnitProject:D().required("Section is required"),ContraAccountID:D().required("Charge Account is required"),InvoiceNumber:D().required("PR Number is required"),SAI_No:D(),ObligationRequestNumber:D(),InvoiceDate:Le().required("PR Date is required"),SAIDate:Le(),ALOBSDate:Le(),Remarks:D().required("Purpose is required"),Items:Yt().of(le({ItemID:D().required("Required"),Quantity:D().required("Required"),Unit:D().required("Required"),Cost:Y().nullable().typeError("Must be a number").required("Cost is required")})).min(1,"At least one entry is required")});function uje({initialData:t,onSubmit:e,onClose:r,departmentsOptions:n=[],chartOfAccountsOptions:a=[],itemsOptions:s=[],itemsUnitsOptions:i=[]}){const[l,c]=w.useState(!1),u=t?{...t,Items:t.PurchaseItems||[]}:{ResponsibilityCenter:"",OfficeUnitProject:"",InvoiceNumber:"",ContraAccountID:"",SAI_No:"",ObligationRequestNumber:"",InvoiceDate:"",SAIDate:"",ALOBSDate:"",Remarks:"",Items:[{ItemID:"",Quantity:0,Unit:"",Cost:0}]};return o.jsx(Re,{initialValues:u,validationSchema:cje,onSubmit:e,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:y,setFieldValue:g})=>o.jsxs(qe,{className:"space-y-1",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Department",name:"ResponsibilityCenter",type:"select",required:!0,value:d.ResponsibilityCenter,onChange:h,onBlur:y,error:f.ResponsibilityCenter,touched:m.ResponsibilityCenter,options:n}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Section",name:"OfficeUnitProject",type:"text",required:!0,value:d.OfficeUnitProject,onChange:h,onBlur:y,error:f.OfficeUnitProject,touched:m.OfficeUnitProject}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Charge Account",name:"ContraAccountID",type:"select",required:!0,value:d.ContraAccountID,onChange:h,onBlur:y,error:f.ContraAccountID,touched:m.ContraAccountID,options:a})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"PR No.",name:"InvoiceNumber",type:"text",required:!0,value:d.InvoiceNumber,onChange:h,onBlur:y,error:f.InvoiceNumber,touched:m.InvoiceNumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"SAI No.",name:"SAI_No",type:"text",value:d.SAI_No,onChange:h,onBlur:y,error:f.SAI_No,touched:m.SAI_No}),o.jsx(T,{className:"p-3 focus:outline-none",label:"ALOBS No.",name:"ObligationRequestNumber",type:"text",value:d.ObligationRequestNumber,onChange:h,onBlur:y,error:f.ObligationRequestNumber,touched:m.ObligationRequestNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"PR Date",name:"InvoiceDate",type:"date",required:!0,value:d.InvoiceDate,onChange:h,onBlur:y,error:f.InvoiceDate,touched:m.InvoiceDate}),o.jsx(T,{className:"p-3 focus:outline-none",label:"SAI Date",name:"SAIDate",type:"date",value:d.SAIDate,onChange:h,onBlur:y,error:f.SAIDate,touched:m.SAIDate}),o.jsx(T,{className:"p-3 focus:outline-none",label:"ALOBS Date",name:"ALOBSDate",type:"date",value:d.ALOBSDate,onChange:h,onBlur:y,error:f.ALOBSDate,touched:m.ALOBSDate})]}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Purpose",name:"Remarks",type:"text",required:!0,value:d.Remarks,onChange:h,onBlur:y,error:f.Remarks,touched:m.Remarks}),o.jsx("hr",{className:"!mt-5 !mb-5"}),o.jsx(nn,{name:"Items",render:({remove:p,push:b})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Items"}),o.jsx(St,{type:"button",onClick:()=>b({ItemID:"",Quantity:0,Unit:"",Cost:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),d.Items.map((v,j)=>{var C,x,N,S,A,I,E,k,P,R,M,_,L,F;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex max-sm:flex-col flex-wrap gap-2 w-full",children:[o.jsxs("div",{className:"flex-1 w-full sm:min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Item ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(Wr,{label:"Item",options:s,placeholder:"Select item...",isSearchable:!0,onChange:$=>g(`Items[${j}].ItemID`,($==null?void 0:$.value)||""),name:`Items[${j}].ItemID`,value:s.find($=>$.value===v.ItemID)||null,onBlur:y,required:!0}),((x=(C=f.Items)==null?void 0:C[j])==null?void 0:x.ItemID)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:f.Items[j].ItemID})]}),o.jsx(T,{className:"flex-1 w-full sm:max-w-[180px]",type:"number",label:"Quantity",name:`Items[${j}].Quantity`,value:v.Quantity,onChange:h,onBlur:y,error:(S=(N=f.Items)==null?void 0:N[j])==null?void 0:S.Quantity,touched:(I=(A=m.Items)==null?void 0:A[j])==null?void 0:I.Quantity,required:!0}),o.jsx(T,{className:"flex-1 w-full sm:max-w-[150px]",type:"select",label:"Unit",name:`Items[${j}].Unit`,value:v.Unit,onChange:h,onBlur:y,options:i,error:(k=(E=f.Items)==null?void 0:E[j])==null?void 0:k.Unit,touched:(R=(P=m.Items)==null?void 0:P[j])==null?void 0:R.Unit,required:!0}),o.jsx(T,{className:"flex-1 w-full sm:max-w-[200px]",type:"text",label:"Cost",name:`Items[${j}].Cost`,value:v.Cost!==""&&!isNaN(v.Cost)?Number(v.Cost).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",onChange:$=>{const O=$.target.value.replace(/\D/g,""),U=O?(parseInt(O,10)/100).toFixed(2):"";h({target:{name:`Items[${j}].Cost`,value:U}})},onBlur:y,error:(_=(M=f.Items)==null?void 0:M[j])==null?void 0:_.Cost,touched:(F=(L=m.Items)==null?void 0:L[j])==null?void 0:F.Cost,required:!0})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(St,{type:"button",onClick:()=>p(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:d.Items.length===1,children:o.jsx(tr,{className:"w-4 h-4"})})})]},j)}),o.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-6 sm:gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:" col-span-1 sm:col-span-2 sm:text-right",children:"Total:"}),o.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((v,j)=>v+(parseFloat(j.Cost)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Estimated Cost)"})]})}),o.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((v,j)=>v+(parseFloat(j.Cost)||0)*(parseFloat(j.Quantity)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Cost)"})]})})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-2 !mt-5",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:"Save"})]})]})})}const Jj="https://staging-engine.testthelink.online",dje=[],fje={purchaseRequests:dje,isLoading:!1,error:null},Nb=B("purchaseRequests/fetchPurchaseRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jj}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Cb=B("purchaseRequests/addPurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Jj}/purchaseRequest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Sb=B("purchaseRequests/updatePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Jj}/purchaseRequest/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ab=B("purchaseRequests/deletePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Jj}/purchaseRequest/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),mje=ve({name:"purchaseRequests",initialState:fje,reducers:{},extraReducers:t=>{t.addCase(Nb.pending,e=>{e.isLoading=!0}).addCase(Nb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=r.payload,e.error=null}).addCase(Nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cb.pending,e=>{e.isLoading=!0}).addCase(Cb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests.push(r.payload),e.error=null}).addCase(Cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Sb.pending,e=>{e.isLoading=!0}).addCase(Sb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.purchaseRequests.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.purchaseRequests[n]=r.payload),e.error=null}).addCase(Sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ab.pending,e=>{e.isLoading=!0}).addCase(Ab.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=e.purchaseRequests.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),hje=mje.reducer;function pje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),{departments:a}=V(A=>A.departments),s=V(A=>{var I;return((I=A.chartOfAccounts)==null?void 0:I.accounts)||[]}),{items:i}=V(A=>A.items),{itemUnits:l}=V(A=>A.itemUnits),{purchaseRequests:c,isLoading:u}=V(A=>A.purchaseRequests),[d,f]=w.useState(!1),[m,h]=w.useState(null),{Add:y,Edit:g,Delete:p}=we(69),b=ue();w.useEffect(()=>{b(or()),b(kr()),b(Ba()),b(ya()),b(Nb())},[]);const v=()=>{n(null),e(!0)},j=()=>{e(!1),n(null)},C=async()=>{if(m)try{await b(Ab(m.ID)).unwrap(),f(!1),h(null),ie.success("Deleted")}catch(A){ie.error(A||"Failed")}},x=async A=>{try{const I=A.Items.reduce((P,R)=>P+(parseFloat(R.Cost)||0),0),E=A.Items.reduce((P,R)=>P+(parseFloat(R.Cost)||0)*(parseFloat(R.Quantity)||0),0),k={...A,Total:I.toFixed(2),AmountReceived:E.toFixed(2)};r?await b(Sb(k)).unwrap():await b(Cb(k)).unwrap(),ie.success("Success")}catch(I){ie.error(I||"Failed")}finally{e(!1)}},N=[{key:"ChartOfAccountsName",header:"Charge Account",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"DepartmentName",header:"Department",sortable:!0},{key:"Remarks",header:"Purpose",sortable:!0},{key:"OfficeUnitProject",header:"Section",sortable:!0},{key:"InvoiceNumber",header:"PR No.",sortable:!0},{key:"InvoiceDate",header:"PR Date",sortable:!0},{key:"SAI_No",header:"SAI No.",sortable:!0},{key:"SAIDate",header:"SAI Date",sortable:!0},{key:"ObligationRequestNumber",header:"ALOBS No.",sortable:!0},{key:"ALOBSDate",header:"ALOBS Date",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:A=>A?Number(A).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""},{key:"AmountReceived",header:"Estimated Total",sortable:!0,render:A=>A?Number(A).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""}],S=[];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Purchase Requests"}),o.jsx("p",{children:"Manage purchase requests and authorizations"})]}),y&&o.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Purchase Request"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:N,actions:S,data:c,loading:u})}),o.jsx(oe,{isOpen:t,onClose:j,title:r?"Edit Purchase Request":"Add Purchase Request",size:"xxxl",children:o.jsx(uje,{initialData:r,departmentsOptions:a.map(A=>({value:A.ID,label:A.Name})),chartOfAccountsOptions:s.map(A=>({value:A.ID,label:A.Name})),itemsOptions:i.map(A=>({value:A.ID,label:A.Name})),itemsUnitsOptions:l.map(A=>({value:A.ID,label:A.Name})),onSubmit:x,onClose:j})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the purchase request "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:C,className:"btn btn-danger",children:"Delete"})]})]})]})}le({number:D().required("Number is required"),date:Le().required("Date is required"),payee:D().required("Payee is required"),address:D().required("Address is required"),fund:D().required("Fund is required"),fiscalYear:D().required("Fiscal Year is required"),project:D().required("Project is required")});function gje({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=le({ResponsibilityCenter:D().required("Required"),ChargeAccountID:D().required("Required"),ItemID:D().required("Required"),Remarks:D().required("Required"),Price:Y().required("Required"),Quantity:Y().required("Required"),ItemUnitID:D().required("Required"),TAXCodeID:D().required("Required")}),d=at({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,subtotal:0},validationSchema:u,onSubmit:y=>{const g=i.find(C=>String(C.ID)===String(y.TAXCodeID)),p=nm({price:y.Price,quantity:y.Quantity,taxRate:(g==null?void 0:g.Rate)||0,vatable:y.Vatable,ewtRate:y.withheldEWT}),b=r.find(C=>String(C.value)===String(y.ResponsibilityCenter)),v=l.find(C=>String(C.value)===String(y.ChargeAccountID)),j=n.find(C=>String(C.value)===String(y.ItemID));t({...y,...p,responsibilityCenterName:b?b.label:"",chargeAccountName:v?v.label:"",itemName:j?j.label:""}),e()}}),f=w.useRef({...d.values});w.useEffect(()=>{if(!["Price","Quantity","TAXCodeID","Vatable"].some(b=>d.values[b]!==f.current[b]))return;f.current={...d.values};const g=i.find(b=>String(b.ID)===String(d.values.TAXCodeID)),p=nm({price:d.values.Price,quantity:d.values.Quantity,taxRate:(g==null?void 0:g.Rate)||0,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});p.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",p.subtotal,!1),p.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",p.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(y=>String(y.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(T,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0,error:d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter,touched:d.touched.ResponsibilityCenter})}),o.jsx("div",{children:o.jsx(T,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0,error:d.touched.ChargeAccountID&&d.errors.ChargeAccountID,touched:d.touched.ChargeAccountID})}),o.jsx("div",{children:o.jsx(T,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0,error:d.touched.ItemID&&d.errors.ItemID,touched:d.touched.ItemID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(T,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0,error:d.touched.Price&&d.errors.Price,touched:d.touched.Price})}),o.jsx("div",{children:o.jsx(T,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0,error:d.touched.Quantity&&d.errors.Quantity,touched:d.touched.Quantity})}),o.jsx("div",{children:o.jsx(T,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0,error:d.touched.ItemUnitID&&d.errors.ItemUnitID,touched:d.touched.ItemUnitID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(T,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0,error:d.touched.TAXCodeID&&d.errors.TAXCodeID,touched:d.touched.TAXCodeID})}),o.jsx("div",{children:o.jsx(T,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsx(T,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx(T,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0,error:d.touched.Remarks&&d.errors.Remarks,touched:d.touched.Remarks}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:()=>d.setFieldValue("Vatable",d.values.Vatable?0:1),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const OU="https://staging-engine.testthelink.online",yje={fundUtilizations:[],fundUtilization:null,isLoading:!1,error:null},of=B("fundUtilizations/fetchFundUtilizations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${OU}/fundUtilizationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),w1=B("fundUtilizations/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Ib=B("fundUtilizations/create",async(t,e)=>{try{const r=await fetch(`${OU}/fundUtilizationRequest/save`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),kb=B("fundUtilizations/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),_U=ve({name:"fundUtilizations",initialState:yje,reducers:{resetFundUtilizationState:t=>{t.fundUtilization=null,t.error=null}},extraReducers:t=>{t.addCase(of.pending,e=>{e.isLoading=!0}).addCase(of.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations=r.payload}).addCase(of.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(w1.pending,e=>{e.isLoading=!0}).addCase(w1.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilization=r.payload}).addCase(w1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ib.pending,e=>{e.isLoading=!0}).addCase(Ib.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations.push(r.payload)}).addCase(Ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(kb.pending,e=>{e.isLoading=!0}).addCase(kb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fundUtilizations.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.fundUtilizations[n]=r.payload)}).addCase(kb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetFundUtilizationState:h9e}=_U.actions,bje=_U.reducer,xje="https://staging-engine.testthelink.online",aR=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],vje=le().shape({obrNo:D().required("No. is required"),obrDate:Le().required("Date is required"),payeeType:D().required("Payee type is required"),payeeId:D().required("Payee selection is required"),fund:D().required("Fund is required"),fiscalYear:D().required("Fiscal Year is required"),project:D().required("Project is required"),accountingEntries:Yt().min(1,"At least one item is required")});function jje({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:y=[],budgetOptions:g=[],taxCodeFull:p=[]}){const b=ue(),v=w.useRef(null),[j,C]=w.useState(!1),[x,N]=w.useState(null),[S,A]=w.useState(null),[I,E]=w.useState(!1),[k,P]=w.useState([]),R=($,O)=>{const U=$.reduce((z,ae)=>z+Number(ae.amount||0),0),K=O.reduce((z,ae)=>z+Number(ae.amount||0),0),G=U-K;return{grossAmount:U,totalTaxes:K,netAmount:G}},M={description:"",amount:"",accountCode:""},_={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[M],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},L=$=>{C(!0),R($.items,$.taxes);const O=new FormData;$.payeeType==="Employee"?(O.append("EmployeeID",$.payeeId),O.append("VendorID",""),O.append("CustomerID","")):$.payeeType==="Vendor"?(O.append("EmployeeID",""),O.append("VendorID",$.payeeId),O.append("CustomerID","")):$.payeeType==="Individual"&&(O.append("EmployeeID",""),O.append("VendorID",""),O.append("CustomerID",$.payeeId)),O.append("PayeeType",$.payeeType),O.append("Payee",(x==null?void 0:x.Name)||(x==null?void 0:x.FirstName)+" "+(x==null?void 0:x.MiddleName)+" "+(x==null?void 0:x.LastName)||""),O.append("Address",(x==null?void 0:x.StreetAddress)||""),O.append("InvoiceNumber",$.obrNo),O.append("InvoiceDate",$.obrDate);const U=$.accountingEntries.reduce((se,J)=>se+Number(J.subtotal||0),0),K=$.accountingEntries.reduce((se,J)=>se+Number(J.ewt||0),0),G=$.accountingEntries.reduce((se,J)=>se+Number(J.withheld||0),0),z=$.accountingEntries.reduce((se,J)=>se+Number(J.vat||0),0),ae=$.accountingEntries.reduce((se,J)=>se+Number(J.discount||0),0);O.append("Total",U.toFixed(2)),O.append("EWT",K.toFixed(2)),O.append("WithheldAmount",G.toFixed(2)),O.append("Vat_Total",z.toFixed(2)),O.append("Discounts",ae.toFixed(2)),O.append("FundsID",$.fund),O.append("FiscalYearID",$.fiscalYear),O.append("ProjectID",$.project),O.append("TravelID",""),O.append("Items",JSON.stringify($.accountingEntries)),$.Attachments.forEach((se,J)=>{se.ID?O.append(`Attachments[${J}].ID`,se.ID):O.append(`Attachments[${J}].File`,se.File)});const xe=t?kb({formData:O,id:t.ID}):Ib(O);t?(O.append("IsNew",!1),O.append("LinkID",t.LinkID)):O.append("IsNew",!0),b(xe).unwrap().then(()=>{ie.success("Success"),b(of()),e()}).catch(se=>{ie.error((se==null?void 0:se.message)||"Failed to submit"),console.error("Error submitting DV:",se)}).finally(()=>{C(!1)})},F=({type:$})=>{switch($){case"Employee":return o.jsx(ME,{className:"w-5 h-5"});case"Vendor":return o.jsx(BT,{className:"w-5 h-5"});case"Individual":return o.jsx(aj,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(Re,{innerRef:v,initialValues:_,validationSchema:vje,onSubmit:L,enableReinitialize:!0,children:({values:$,errors:O,touched:U,handleChange:K,handleBlur:G,setFieldValue:z,isValid:ae})=>{R($.items,$.taxes);const se=aR.map(re=>({value:re.value,label:re.label})).find(re=>re.value===$.payeeType),J=re=>{N(null),z("payeeType",re),z("payeeName",""),z("payeeId",""),z("payeeAddress",""),z("officeUnitProject",""),z("orsNumber","")},ce=re=>{let X=null;switch($.payeeType){case"Employee":X=s.find(H=>H.ID===re);break;case"Vendor":X=i.find(H=>H.ID===re);break;case"Individual":X=l.find(H=>H.ID===re);break}N(X),z("payeeName",X==null?void 0:X.Name),z("payeeId",X==null?void 0:X.ID)},ee=re=>{switch(re){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(qe,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:aR.map(re=>o.jsxs("button",{type:"button",onClick:()=>J(re.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${$.payeeType===re.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(F,{type:re.value}),o.jsx("span",{className:"ml-3 font-medium",children:re.label})]},re.value))}),O.payeeType&&U.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.payeeType})]}),$.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",se==null?void 0:se.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Wr,{options:ee($.payeeType),value:ee($.payeeType).find(re=>re.value===$.payeeId)||null,onChange:re=>ce(re.value),className:"react-select-container",classNamePrefix:"react-select"}),O.payeeType&&U.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.payeeType})]}),x&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(se==null?void 0:se.label)==="Employee"?`${x.FirstName||""} ${x.MiddleName||""} ${x.LastName||""}`.trim():((se==null?void 0:se.label)==="Vendor"||(se==null?void 0:se.label)==="Individual",x.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((se==null?void 0:se.label)==="Employee"||(se==null?void 0:se.label)==="Vendor"||(se==null?void 0:se.label)==="Individual",x.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(T,{type:"text",label:"No.",name:"obrNo",value:$.obrNo,onChange:K,onBlur:G,error:O.obrNo,touched:U.obrNo,required:!0}),o.jsx(T,{type:"date",label:"Date",name:"obrDate",value:$.obrDate,onChange:K,onBlur:G,error:O.obrDate,touched:U.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Wr,{options:u,value:u.find(re=>re.value===$.fund)||null,onChange:re=>z("fund",re.value),className:"react-select-container",classNamePrefix:"react-select"}),O.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Wr,{options:f,value:f.find(re=>re.value===$.fiscalYear)||null,onChange:re=>z("fiscalYear",re.value),className:"react-select-container",classNamePrefix:"react-select"}),O.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Wr,{options:d,value:d.find(re=>re.value===$.project)||null,onChange:re=>z("project",re.value),className:"react-select-container",classNamePrefix:"react-select"}),O.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.project})]})]}),o.jsx(nn,{name:"accountingEntries",children:({push:re,remove:X})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>E(!0),children:"+ Item"})]}),$.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),$.accountingEntries.map((H,me)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:H.responsibilityCenterName}),o.jsx("span",{children:H.Remarks}),o.jsx("span",{children:H.itemName}),o.jsx("span",{children:H.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(H.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-1 text-right",children:o.jsx("button",{type:"button",onClick:()=>X(me),className:"text-red-600 text-xs",children:o.jsx(Yde,{className:"w-4 h-4"})})})]},me)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:$.accountingEntries.reduce((H,me)=>H+Number(me.subtotal),0).toFixed(2)})]})]}),o.jsx(oe,{isOpen:I,onClose:()=>E(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(gje,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:y,budgetOptions:g,taxCodeFull:p,onClose:()=>E(!1),onSubmit:H=>{re(H),E(!1)}})})]})}),O.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.accountingEntries}),o.jsx("hr",{}),o.jsx(nn,{name:"Attachments",render:({remove:re,push:X})=>{var H;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>X({File:null}),children:"+ Attachment"})]}),(H=$.Attachments)==null?void 0:H.map((me,Ne)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[me.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${xje}/uploads/${me.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:me.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Ne}].ID`,value:me.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Ne+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Ne}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ee=>z(`Attachments[${Ne}].File`,Ee.currentTarget.files[0]),onBlur:G,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(St,{type:"button",onClick:()=>re(Ne),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(tr,{className:"w-4 h-4"})})]},Ne))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function wje(){const t=ue(),{fundUtilizations:e,isLoading:r}=V(A=>A.fundUtilizations),{Add:n,Edit:a}=we(47),{employees:s}=V(A=>A.employees),{customers:i}=V(A=>A.customers),{vendorDetails:l}=V(A=>A.vendorDetails),{departments:c}=V(A=>A.departments),{projectDetails:u}=V(A=>A.projectDetails),{funds:d}=V(A=>A.funds),{fiscalYears:f}=V(A=>A.fiscalYears),{items:m}=V(A=>A.items),{taxCodes:h}=V(A=>A.taxCodes),{itemUnits:y}=V(A=>A.itemUnits),{budgets:g}=V(A=>A.budget),[p,b]=w.useState("list"),[v,j]=w.useState(null);w.useEffect(()=>{t(of()),t(un()),t(An()),t(Fa()),t(or()),t(qa()),t(Jt()),t(dn()),t(Ba()),t(Jn()),t(ya()),t(Do())},[t]);const C=()=>{j(null),b("form")},x=A=>{j(A),b("form")},N=()=>{b("list"),j(null)},S=[{key:"Status",header:"Status",sortable:!0,render:A=>{let I="bg-neutral-100 text-neutral-800";switch(A){case"Requested":I="bg-warning-100 text-warning-800";break;case"Pending Approval":I="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":I="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":I="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I}`,children:A})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:A=>new Date(A).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[p==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Utilization Request & Status"}),o.jsx("p",{children:"Manage and track your fund utilization requests."})]}),n&&o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:S,data:e,actions:A=>{var E;const I=[];return((E=A.Transaction)==null?void 0:E.Status)==="Rejected"&&a&&I.push({icon:Ie,title:"Edit",onClick:()=>x(A),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),I},loading:r})})]}),p==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center max-sm:flex-col gap-4",children:[o.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(va,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:v?"Edit Fund Utilization Request":"Create Fund Utilization Request"}),o.jsxs("p",{children:["Fill out the form to"," ",v?"update":"create"," a fund utilization request."]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(jje,{initialData:v,employeeOptions:s.map(A=>({value:A.ID,label:A.FirstName+" "+A.MiddleName+" "+A.LastName})),vendorOptions:l.map(A=>({value:A.ID,label:A.Name})),individualOptions:i.map(A=>({value:A.ID,label:A.Name||`${A.FirstName} ${A.MiddleName} ${A.LastName}`})),employeeData:s,vendorData:l,individualData:i,departmentOptions:c.map(A=>({value:A.ID,label:A.Name})),fundOptions:d.map(A=>({value:A.ID,label:A.Name})),projectOptions:u.map(A=>({value:A.ID,label:A.Title})),fiscalYearOptions:f.map(A=>({value:A.ID,label:A.Name})),particularsOptions:m.map(A=>({value:A.ID,label:A.Name})),unitOptions:y.map(A=>({value:A.ID,label:A.Name})),taxCodeOptions:h.map(A=>({value:A.ID,label:A.Name})),budgetOptions:g.map(A=>({value:A.ID,label:A.Name})),taxCodeFull:h,onCancel:N,onSubmitSuccess:N,onClose:N})})]})]})}const fI=()=>{let n=new Date().getMonth()-2;return n<0&&(n+=12),6+n*2},Nje=le({Year:Y().typeError("Year must be a number").required("Year is required").min(1900,"Year must be after 1900").max(new Date().getFullYear(),"Year cannot be in the future"),PlaceIssued:D().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters"),DateIssued:Le().required("Date issued is required").max(new Date,"Date issued cannot be in the future"),CCNumber:D().required("Certificate number is required").min(3,"Certificate number must be at least 3 characters"),TIN:D().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),LastName:D().required("Last Name is required").min(2,"Last Name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"Last Name can only contain letters, spaces, hyphens, and apostrophes"),FirstName:D().required("First name is required").min(2,"First name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"First name can only contain letters, spaces, hyphens, and apostrophes"),MiddleName:D().matches(/^[a-zA-Z\s-']*$/,"Middle name can only contain letters, spaces, hyphens, and apostrophes").nullable(),Address:D().required("Address is required").min(10,"Address must be at least 10 characters"),Citizenship:D().required("Citizenship is required"),ICRNo:D().matches(/^[0-9-]*$/,"ICR number must contain only numbers and dashes").nullable(),PlaceOfBirth:D().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters"),BirthDate:Le().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future").test("age","Must be at least 18 years old",function(t){if(!t)return!1;const e=new Date,r=new Date(t),n=e.getFullYear()-r.getFullYear(),a=e.getMonth()-r.getMonth();return a<0||a===0&&e.getDate()<r.getDate()?n-1>=18:n>=18}),CivilStatus:D(),Occupation:D().min(2,"Profession must be at least 2 characters"),Gender:D().required("Sex is required"),HeightFeet:Y().typeError("Feet must be a number").min(3,"Minimum height is 3 feet").max(8,"Maximum height is 8 feet").integer("Feet must be a whole number"),HeightInches:Y().typeError("Inches must be a number").min(0,"Inches cannot be negative").max(11,"Inches must be between 0 and 11").test("total-height",`Total height must be between 3'0" and 8'11"`,function(t){const e=this.parent.HeightFeet;if(!e||t===void 0)return!0;const r=e*12+t;return r>=36&&r<=107}),Weight:Y().typeError("Weight must be a number").min(30,"Weight must be at least 30 kg").max(300,"Weight must not exceed 300 kg"),BasicTax:Y().typeError("Must be a number").required("Basic tax is required").oneOf([1,5],"Basic tax can only be 1 or 5"),BusinessEarnings:Y().typeError("Must be a number").min(0,"Gross receipts cannot be negative").nullable(),BusinessTaxDue:Y().typeError("Must be a number").min(0,"Gross receipts tax cannot be negative").nullable(),OccupationEarnings:Y().min(0,"Salaries cannot be negative").nullable(),OccupationTaxDue:Y().min(0,"Salaries tax cannot be negative").nullable(),IncomeProperty:Y().min(0,"Real property income cannot be negative").nullable(),PropertyTaxDue:Y().min(0,"Real property tax cannot be negative").nullable(),Total:Y().required("Total tax is required").min(0,"Total tax cannot be negative").max(1e4,"Total tax cannot exceed 10,000"),Interest:Y().min(0,"Interest cannot be negative").max(100,"Interest cannot exceed 100%").nullable(),InterestAmount:Y(),AmountReceived:Y().required("Total amount paid is required").min(0,"Total amount paid cannot be negative"),Remarks:D().max(500,"Remarks cannot exceed 500 characters").nullable(),AmountinWords:D().max(500,"Amount in words cannot exceed 500 characters")}),sR=({selectedCustomer:t=null,initialData:e=null,onCancel:r,onSubmitForm:n,isReadOnly:a=!1,currentCertificateNumber:s=null})=>{const i=[{value:"Afghan",label:"Afghan"},{value:"Filipino",label:"Filipino"},{value:"American",label:"American"},{value:"Other",label:"Other"}],l=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],c=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],u=p=>{if(!p)return"";const b=parseFloat(p);return Math.floor(b/12).toString()},d=p=>{if(!p)return"";const b=parseFloat(p);return Math.round(b%12).toString()};console.log("initialData",s);const m=at({initialValues:(()=>{const p=(e==null?void 0:e.Customer)||t,b=(p==null?void 0:p.Height)||"",v=b?u(b):"",j=b?d(b):"";return{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||(s==null?void 0:s.CurrentNumber)||"",TIN:(e==null?void 0:e.TIN)||(p==null?void 0:p.TIN)||"",LastName:(p==null?void 0:p.LastName)||"",FirstName:(p==null?void 0:p.FirstName)||"",MiddleName:(p==null?void 0:p.MiddleName)||"",Address:(p==null?void 0:p.StreetAddress)||"",Citizenship:(p==null?void 0:p.Citizenship)||"",ICRNo:(p==null?void 0:p.ICRNumber)||"",PlaceOfBirth:(p==null?void 0:p.PlaceofBirth)||"",CivilStatus:(p==null?void 0:p.CivilStatus)||"",Occupation:(p==null?void 0:p.Occupation)||"",Gender:(p==null?void 0:p.Gender)||"",HeightFeet:v,HeightInches:j,Weight:(p==null?void 0:p.Weight)||"",BirthDate:(p==null?void 0:p.Birthdate)||"",BasicTax:(e==null?void 0:e.BasicTax)||"",BusinessEarnings:(e==null?void 0:e.BusinessEarnings)||"",BusinessTaxDue:(e==null?void 0:e.BusinessTaxDue)||"",OccupationEarnings:(e==null?void 0:e.OccupationEarnings)||"",OccupationTaxDue:(e==null?void 0:e.OccupationTaxDue)||"",IncomeProperty:(e==null?void 0:e.IncomeProperty)||"",PropertyTaxDue:(e==null?void 0:e.PropertyTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||fI(),InterestAmount:(e==null?void 0:e.InterestAmount)||"",AmountReceived:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""}})(),validationSchema:Nje,onSubmit:p=>{const v=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",ID:e.ID,CustomerID:e.CustomerID,...h(p)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...h(p)};n(v)}}),h=p=>{const b={...p,Year:String(p.Year),Height:String(p.Height),Weight:String(p.Weight),InputOne:Number(p.BusinessEarnings),InputTwo:Number(p.OccupationEarnings),InputThree:Number(p.IncomeProperty),OutputOne:Number(p.BusinessTaxDue),OutputTwo:Number(p.OccupationTaxDue),OutputThree:Number(p.PropertyTaxDue),Municipality:p.PlaceIssued,AmountPaid:Number(p.AmountReceived),Words:p.AmountinWords,Profession:p.Occupation};return delete b.BusinessEarnings,delete b.OccupationEarnings,delete b.IncomeProperty,delete b.BusinessTaxDue,delete b.OccupationTaxDue,delete b.PropertyTaxDue,delete b.PlaceIssued,delete b.AmountReceived,delete b.AmountinWords,delete b.Occupation,b},y=(p,b)=>{const v=fI(),j=Math.floor(Number(b)/1e3),C=j*v*.01,x={BusinessEarnings:"BusinessTaxDue",OccupationEarnings:"OccupationTaxDue",IncomeProperty:"PropertyTaxDue"};m.setFieldValue(x[p],j);const N=Number(m.values.Total||0),S=Number(m.values.AmountReceived||0),A=Number(m.values.InterestAmount||0);m.setFieldValue("InterestAmount",(A+C).toFixed(2)),m.setFieldValue("Total",N+j+C),m.setFieldValue("AmountReceived",S+j+C)},g=p=>({name:p,value:m.values[p]||"",onChange:b=>{const{name:v,value:j}=b.target;m.setFieldValue(v,j),["BusinessEarnings","OccupationEarnings","IncomeProperty"].includes(v)&&y(v,j),v==="BasicTax"&&(m.setFieldValue("Total",j),m.setFieldValue("AmountReceived",j))},onBlur:m.handleBlur,error:m.touched[p]&&m.errors[p],disabled:a});return o.jsx("div",{className:"min-h-screen",children:o.jsxs("form",{onSubmit:m.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(RE,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(T,{label:"Year",...g("Year"),type:"number",disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.Year&&m.errors.Year,touched:m.touched.Year,required:!0})}),o.jsx("div",{children:o.jsx(T,{label:"Place of Issue",...g("PlaceIssued"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.PlaceIssued&&m.errors.PlaceIssued,touched:m.touched.PlaceIssued,required:!0})}),o.jsx("div",{children:o.jsx(T,{label:"Date Issued",...g("DateIssued"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.DateIssued&&m.errors.DateIssued,touched:m.touched.DateIssued,required:!0})}),o.jsx("div",{children:o.jsx(T,{label:"OR No.",...g("CCNumber"),className:"border-blue-200 bg-gray-100 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:m.touched.CCNumber&&m.errors.CCNumber,touched:m.touched.CCNumber,required:!0,readOnly:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(T,{label:"TIN (if Any)",...g("TIN"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"000-000-000-000",error:m.touched.TIN&&m.errors.TIN,touched:m.touched.TIN})}),o.jsx("div",{className:"hidden md:block"}),o.jsx("div",{className:"hidden lg:block"}),o.jsx("div",{className:"bg-gray-100 text-center px-3 py-1 text-sm font-medium flex items-center justify-center",children:"TAXPAYER'S COPY"})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(aj,{className:"h-5 w-5"}),"Personal Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(T,{label:"Last Name",...g("LastName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.LastName&&m.errors.LastName,touched:m.touched.LastName})}),o.jsx("div",{children:o.jsx(T,{label:"First Name",...g("FirstName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.FirstName&&m.errors.FirstName,touched:m.touched.FirstName})}),o.jsx("div",{children:o.jsx(T,{label:"Middle Name",...g("MiddleName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.MiddleName&&m.errors.MiddleName,touched:m.touched.MiddleName})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(T,{label:"Address",...g("Address"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.Address&&m.errors.Address,touched:m.touched.Address,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(T,{label:"Citizenship",...g("Citizenship"),type:"select",options:i,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.Citizenship&&m.errors.Citizenship,touched:m.touched.Citizenship,required:!0}),o.jsx(T,{label:"ICR No.",...g("ICRNo"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.ICRNo&&m.errors.ICRNo,touched:m.touched.ICRNo}),o.jsx(T,{label:"Place of Birth",...g("PlaceOfBirth"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.PlaceOfBirth&&m.errors.PlaceOfBirth,touched:m.touched.PlaceOfBirth,required:!0}),o.jsx(T,{label:"Date of Birth",...g("BirthDate"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",required:!0,error:m.touched.BirthDate&&m.errors.BirthDate,touched:m.touched.BirthDate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(T,{label:"Civil Status",...g("CivilStatus"),type:"radio",options:l,error:m.touched.CivilStatus&&m.errors.CivilStatus,touched:m.touched.CivilStatus})}),o.jsx("div",{children:o.jsx(T,{label:"Profession/Occupation",...g("Occupation"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.Occupation&&m.errors.Occupation,touched:m.touched.Occupation})}),o.jsx("div",{children:o.jsx(T,{label:"Sex",...g("Gender"),type:"radio",options:c,error:m.touched.Gender&&m.errors.Gender,touched:m.touched.Gender,required:!0})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("div",{children:o.jsx(T,{label:"Height (feet)",...g("HeightFeet"),type:"text",min:"3",max:"8",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.HeightFeet&&m.errors.HeightFeet,touched:m.touched.HeightFeet})}),o.jsx("div",{children:o.jsx(T,{label:"Height (inches)",...g("HeightInches"),type:"text",min:"0",max:"11",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.HeightInches&&m.errors.HeightInches,touched:m.touched.HeightInches})}),o.jsx("div",{children:o.jsx(T,{label:"Weight (kg)",...g("Weight"),type:"text",min:"30",max:"300",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.Weight&&m.errors.Weight,touched:m.touched.Weight})})]})]})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(sV,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"sm:p-6 p-3 pt-2",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. Basic Community Tax (5.00) or Exempted (1.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(T,{label:"Taxable Amount:",...g("BasicTax"),type:"text",className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:m.touched.BasicTax&&m.errors.BasicTax,touched:m.touched.BasicTax,required:!0})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. Additional Community Tax (tax not exceed 5,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-4 items-start py-3 border-b border-blue-200",children:[o.jsx("div",{children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. Gross receipts or earnings derived from business during the preceding year (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 ml-auto max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(T,{label:"Taxable Amount:",...g("BusinessEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:m.touched.BusinessEarnings&&m.errors.BusinessEarnings,touched:m.touched.BusinessEarnings})}),o.jsx("div",{children:o.jsx(T,{label:"Community Due Amount:",...g("BusinessTaxDue"),type:"text",className:"w-24 text-right font-mono border-blue-200 bg-gray-100 cursor-not-allowed",placeholder:"Tax",error:m.touched.BusinessTaxDue&&m.errors.BusinessTaxDue,touched:m.touched.BusinessTaxDue,readOnly:!0})})]})]}),o.jsxs("div",{className:"flex flex-col gap-4 items-start py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. Salaries or gross receipt or earnings derived from exercise of Occupation or pursuit of any occupation (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 ml-auto max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(T,{label:"Taxable Amount:",...g("OccupationEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:m.touched.OccupationEarnings&&m.errors.OccupationEarnings,touched:m.touched.OccupationEarnings})}),o.jsx("div",{children:o.jsx(T,{label:"Community Due Amount:",...g("OccupationTaxDue"),type:"text",className:"w-24 text-right font-mono border-blue-200 bg-gray-100 cursor-not-allowed",placeholder:"Tax",error:m.touched.OccupationTaxDue&&m.errors.OccupationTaxDue,touched:m.touched.OccupationTaxDue,readOnly:!0})})]})]}),o.jsxs("div",{className:"flex flex-col gap-4 items-start py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"3. Income from real property (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 ml-auto max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(T,{label:"Taxable Amount:",...g("IncomeProperty"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:m.touched.IncomeProperty&&m.errors.IncomeProperty,touched:m.touched.IncomeProperty})}),o.jsx("div",{children:o.jsx(T,{label:"Community Due Amount:",...g("PropertyTaxDue"),type:"text",className:"w-24 text-right font-mono border-blue-200 bg-gray-100 cursor-not-allowed",placeholder:"Tax",error:m.touched.PropertyTaxDue&&m.errors.PropertyTaxDue,touched:m.touched.PropertyTaxDue,readOnly:!0})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Total"}),o.jsx(T,{...g("Total"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:m.touched.Total&&m.errors.Total,touched:m.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest %"}),o.jsx(T,{...g("Interest"),type:"text",min:"0",max:"100",step:"0.01",className:"w-full text-right font-mono bg-white/20 cursor-not-allowed border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:m.touched.Interest&&m.errors.Interest,touched:m.touched.Interest,readOnly:!0})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"Total Amount Paid"}),o.jsx(T,{...g("AmountReceived"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 font-bold text-lg px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:m.touched.AmountReceived&&m.errors.AmountReceived,touched:m.touched.AmountReceived})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest Amount"}),o.jsx(T,{...g("InterestAmount"),type:"text",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:m.touched.InterestAmount&&m.errors.InterestAmount,touched:m.touched.InterestAmount,readOnly:!0})]})]}),o.jsx("div",{className:"flex items-end md:items-center justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Qi(m.values.AmountReceived)||"-"})]})})]})}),o.jsx(T,{label:"Remarks",...g("Remarks"),type:"textarea",className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(St,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:m.isSubmitting,children:m.isSubmitting?"Generating...":"Generate Certificate"})]}),m.submitCount>0&&Object.keys(m.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(m.errors).map(([p,b])=>o.jsx("li",{children:b},p))})]})]})})},Su="https://staging-engine.testthelink.online",Cje=[],Tb=B("communityTax/communityTaxGetCurrentNumber",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Su}/community-tax/getCurrentNumber`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch current number");return a}catch(r){return e.rejectWithValue(r.message)}}),kc=B("communityTax/fetchCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Su}/community-tax/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),N1=B("communityTax/fetchCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Su}/community-tax/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Eb=B("communityTax/addCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Su}/community-tax/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),C1=B("communityTax/updateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Su}/community-tax/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Db=B("communityTax/deleteCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Su}/community-tax/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),$U=ve({name:"communityTax",initialState:{records:[],currentRecord:null,currentNumber:null,isLoading:!1,error:null},reducers:{clearCurrentCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tb.fulfilled,(e,r)=>{e.isLoading=!1,e.currentNumber=r.payload}).addCase(Tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax current number"}).addCase(kc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(kc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community taxes",console.warn("Failed to fetch community taxes, using mock data.",e.error),e.records=Cje}).addCase(N1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(N1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(N1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax record"}).addCase(Eb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add community tax record",console.error("Failed to add community tax record:",e.error)}).addCase(C1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(C1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(C1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update community tax record",console.error("Failed to update community tax record:",e.error)}).addCase(Db.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Db.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(Db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete community tax record",console.error("Failed to delete community tax record:",e.error)})}}),{clearCurrentCommunityTax:p9e}=$U.actions,Sje=$U.reducer;function Aje(){const t=ue(),{records:e,currentNumber:r,isLoading:n}=V(O=>O.communityTax),{customers:a,isLoading:s}=V(O=>O.customers),{Add:i,Edit:l,Delete:c,Print:u}=we(34),[d,f]=w.useState("list"),[m,h]=w.useState(null),[y,g]=w.useState(""),[p,b]=w.useState(!1),[v,j]=w.useState({});w.useEffect(()=>{t(kc()),t(An())},[t]);const C=()=>{h(null),f("form"),t(Tb())},x=O=>{h(O),f("details")},N=O=>{h(O),f("form"),console.log("Edit certificate:",O),$(O.CustomerID)},S=O=>{console.log("Print certificate:",O)},A=()=>{f("list"),h(null),j(null)},I=async O=>{try{await t(Db(O.ID)).unwrap(),t(kc())}catch(U){console.error("Error deleting certificate:",U)}},E=e==null?void 0:e.filter(O=>{var K,G,z,ae;const U=y.toLowerCase();return((K=O==null?void 0:O.LinkID)==null?void 0:K.toLowerCase().includes(U))||((G=O==null?void 0:O.CustomerName)==null?void 0:G.toLowerCase().includes(U))||((ae=(z=O==null?void 0:O.Customer)==null?void 0:z.StreetAddress)==null?void 0:ae.toLowerCase().includes(U))}),k=[{key:"LinkID",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Taxpayer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total Amount",sortable:!0,render:O=>P(O),className:"text-right"},{key:"AmountReceived",header:"Received Amount",sortable:!0,render:O=>P(O),className:"text-right"},{key:"InvoiceDate",header:"Date",sortable:!0,render:O=>new Date(O).toLocaleDateString()},{key:"Employee",header:"Employee",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:O=>R(O)}],P=O=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(O||0),R=O=>{let U="bg-neutral-100 text-neutral-800";switch(O){case"Requested":U="bg-success-100 text-success-800";break;case"Posted":U="bg-warning-100 text-warning-800";break;case"Cancelled":U="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U}`,children:O})},M=[{icon:Gm,title:"View",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},l&&{icon:Ie,title:"Edit",onClick:N,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},c&&{icon:Ka,title:"Delete",onClick:I,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],_=()=>{b(!0)},L=()=>{b(!1)},F=async O=>{try{await t(Eb(O)).unwrap(),t(kc()),q.success("Certificate saved successfully.")}catch(U){console.error("Error saving certificate:",U),q.error("Failed to save certificate. Please try again.")}finally{A()}},$=O=>{const U=a.find(K=>K.ID===O);j(U)};return o.jsxs(o.Fragment,{children:[d==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates"})]}),i&&o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:k,data:E,actions:M,loading:n||s,onRowClick:x})})]}),d==="form"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:A,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(va,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:m?"Edit Community Tax Certificate (INDIVIDUAL)":"Community Tax Certificate (INDIVIDUAL)"}),o.jsx("p",{className:"text-gray-600",children:m?"Update the certificate details":""})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[o.jsx("div",{className:"w-full sm:w-auto",children:o.jsx(yt,{options:(a==null?void 0:a.map(O=>({label:O.Name||`${O.FirstName} ${O.MiddleName} ${O.LastName}`,value:O.ID})))||[],placeholder:"Choose Citizen",selectedValue:v==null?void 0:v.ID,onSelect:$,label:"Choose Citizen",required:!0})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"button",onClick:_,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),o.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),u&&o.jsx("button",{className:"btn btn-outline w-full sm:w-auto",children:"Print"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:v?o.jsx(sR,{selectedCustomer:v,initialData:m,onCancel:A,onSubmitForm:F,currentCertificateNumber:r},v==null?void 0:v.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a Citizen first to start"," "]})})]}),d==="details"&&m&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6  gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:A,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(va,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[l&&o.jsxs("button",{type:"button",onClick:()=>N(m),className:"btn btn-primary flex items-center",children:[o.jsx(Ie,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),u&&o.jsxs("button",{type:"button",onClick:()=>S(m),className:"btn btn-outline flex items-center",children:[o.jsx(cl,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(sR,{initialData:m,onCancel:A,isReadOnly:!0})})]}),o.jsx(oe,{isOpen:p,onClose:L,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}const Ije=le().shape({Year:D().required("Year is required").matches(/^\d{4}$/,"Year must be 4 digits"),PlaceIssued:D().required("Place of issue is required").max(100,"Place of issue must be less than 100 characters"),DateIssued:Le().required("Date issued is required").max(new Date,"Date cannot be in the future"),CCNumber:D().required("Certificate number is required").matches(/^[A-Za-z0-9-]+$/,"Only letters, numbers and hyphens allowed"),Name:D().required("Company name is required").max(200,"Company name must be less than 200 characters"),TIN:D().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),Address:D().required("Business address is required").max(300,"Address must be less than 300 characters"),dateOfRegistration:Le().required("Registration date is required"),KindofOrganization:D().required("Organization type is required").oneOf(["Corporation","Partnership","Association"],"Invalid organization type"),PlaceofIncorporation:D().required("Place of incorporation is required"),NatureOfOrganization:D().required("Business nature is required"),BasicTax:Y().typeError("Must be a number").min(0,"Cannot be negative").required("Basic tax is required"),assessedValueRealProperty:Y().typeError("Must be a number").min(0,"Cannot be negative"),assessedValueTax:Y().typeError("Must be a number").min(0,"Cannot be negative"),grossReceipts:Y().typeError("Must be a number").min(0,"Cannot be negative"),grossReceiptsTax:Y().typeError("Must be a number").min(0,"Cannot be negative"),Total:Y().typeError("Must be a number").min(0,"Cannot be negative").required("Total is required"),Interest:Y().typeError("Must be a number").min(0,"Cannot be negative"),AmountPaid:Y().typeError("Must be a number").min(0,"Cannot be negative").required("Total amount paid is required"),Remarks:D().max(500,"Remarks must be less than 500 characters"),AmountinWords:D().max(500,"Amount in words cannot exceed 500 characters")}),oR=({selectedVendor:t=null,initialData:e=null,onBack:r,onSubmitSuccess:n,readOnly:a})=>{const s=[{value:"Corporation",label:"Corporation"},{value:"Partnership",label:"Partnership"},{value:"Association",label:"Association"}],i=(e==null?void 0:e.Customer)||t;console.log("Customer Source:",i);const l=at({initialValues:{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||(e==null?void 0:e.CustomerName)||"",TIN:(t==null?void 0:t.TIN)||(e==null?void 0:e.TIN)||"",Address:(i==null?void 0:i.StreetAddress)||"",dateOfRegistration:(i==null?void 0:i.DateofRegistration)||"",KindofOrganization:(i==null?void 0:i.KindofOrganization)||"Corporation",PlaceofIncorporation:(i==null?void 0:i.PlaceofIncorporation)||"",NatureOfOrganization:(i==null?void 0:i.NatureOfOrganization)||"",BasicTax:(e==null?void 0:e.BasicTax)||0,assessedValueRealProperty:(e==null?void 0:e.BusinessEarnings)||"",assessedValueTax:(e==null?void 0:e.BusinessTaxDue)||"",grossReceipts:(e==null?void 0:e.OccupationEarnings)||"",grossReceiptsTax:(e==null?void 0:e.OccupationTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||fI(),AmountPaid:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""},validationSchema:Ije,onSubmit:u=>{const f=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",CustomerID:e==null?void 0:e.CustomerID,ID:e.ID,...c(u)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...c(u)};console.log("Submitted values:",f),n(f)}}),c=u=>{const d={...u,InputOne:Number(u.assessedValueRealProperty),InputTwo:Number(u.grossReceipts),OutputOne:Number(u.assessedValueTax),OutputTwo:Number(u.grossReceiptsTax),BasicTax:Number(u.BasicTax),Total:Number(u.Total),AmountPaid:Number(u.AmountPaid),Interest:Number(u.Interest),Words:u.AmountinWords};return delete d.assessedValueRealProperty,delete d.assessedValueTax,delete d.grossReceipts,delete d.grossReceiptsTax,delete d.AmountinWords,d};return console.log("Formik Values:",l.errors),o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("form",{onSubmit:l.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(RE,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-2 sm:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(T,{label:"Year",name:"Year",value:l.values.Year,onChange:l.handleChange,onBlur:l.handleBlur,disabled:a,required:!0,error:l.touched.Year&&l.errors.Year,touched:l.touched.Year,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(T,{label:"Place of Issue (City/Mun/Province)",name:"PlaceIssued",value:l.values.PlaceIssued,onChange:l.handleChange,disabled:a,error:l.touched.PlaceIssued&&l.errors.PlaceIssued,required:!0,touched:l.touched.PlaceIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(T,{label:"Date Issued",name:"DateIssued",type:"date",value:l.values.DateIssued,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.DateIssued&&l.errors.DateIssued,touched:l.touched.DateIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(T,{label:"Certificate No.",name:"CCNumber",value:l.values.CCNumber,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:l.touched.CCNumber&&l.errors.CCNumber,touched:l.touched.CCNumber})})]}),o.jsx("div",{className:"text-right mb-4",children:o.jsx("span",{className:"bg-gray-100 px-3 py-1 text-sm font-medium",children:"TAXPAYER'S COPY"})})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(aV,{className:"h-5 w-5"}),"Company Information"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(T,{label:"Company's Full Name",name:"Name",value:l.values.Name,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.Name&&l.errors.Name,touched:l.touched.Name,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(T,{label:"TIN (if Any)",name:"TIN",value:l.values.TIN,onChange:l.handleChange,disabled:a,onBlur:l.handleBlur,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.TIN&&l.errors.TIN,touched:l.touched.TIN})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(T,{label:" Address of Principal Place of Business",name:"Address",value:l.values.Address,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.Address&&l.errors.Address,touched:l.touched.Address})}),o.jsx("div",{children:o.jsx(T,{label:"Date of Registration/Incorporation",name:"dateOfRegistration",type:"date",value:l.values.dateOfRegistration,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.dateOfRegistration&&l.errors.dateOfRegistration,touched:l.touched.dateOfRegistration})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(T,{label:"Kind of Organization",name:"KindofOrganization",type:"radio",value:l.values.KindofOrganization,onChange:l.handleChange,options:s,disabled:a,error:l.touched.KindofOrganization&&l.errors.KindofOrganization,touched:l.touched.KindofOrganization})}),o.jsx("div",{children:o.jsx(T,{label:"Place of Incorporation",name:"PlaceofIncorporation",value:l.values.PlaceofIncorporation,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.PlaceofIncorporation&&l.errors.PlaceofIncorporation,touched:l.touched.PlaceofIncorporation})})]}),o.jsx("div",{children:o.jsx(T,{label:"Kind/Nature of Business",name:"NatureOfOrganization",value:l.values.NatureOfOrganization,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.NatureOfOrganization&&l.errors.NatureOfOrganization,touched:l.touched.NatureOfOrganization})})]})})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(sV,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. BASIC COMMUNITY TAX ( 500.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(T,{name:"BasicTax",label:"Community Due Amount:",value:l.values.BasicTax,onChange:l.handleChange,disabled:a,className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:l.touched.BasicTax&&l.errors.BasicTax,touched:l.touched.BasicTax})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. ADDITIONAL COMMUNITY TAX (tax not exceed 10,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. ASSESSED VALUE OF REAL PROPERTY OWNED IN THE PHILIPPINES (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(T,{name:"assessedValueRealProperty",value:l.values.assessedValueRealProperty,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.assessedValueRealProperty&&l.errors.assessedValueRealProperty,touched:l.touched.assessedValueRealProperty})}),o.jsx("div",{children:o.jsx(T,{name:"assessedValueTax",value:l.values.assessedValueTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.assessedValueTax&&l.errors.assessedValueTax,touched:l.touched.assessedValueTax})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. GROSS RECEIPTS, INCLUDING DIVIDENDS/EARNINGS DERIVED FROM BUSINESS IN THE PHIL. DURING THE PRECEDING YEAR (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(T,{name:"grossReceipts",value:l.values.grossReceipts,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.grossReceipts&&l.errors.grossReceipts,touched:l.touched.grossReceipts})}),o.jsx("div",{children:o.jsx(T,{name:"grossReceiptsTax",value:l.values.grossReceiptsTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.grossReceiptsTax&&l.errors.grossReceiptsTax,touched:l.touched.grossReceiptsTax})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[o.jsx("div",{className:"md:w-1/3 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"TOTAL"}),o.jsx(T,{name:"Total",value:l.values.Total,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"Total",error:l.touched.Total&&l.errors.Total,touched:l.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"INTEREST %"}),o.jsx(T,{name:"Interest",value:l.values.Interest,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"%",error:l.touched.Interest&&l.errors.Interest,touched:l.touched.Interest})]})]})}),o.jsx("div",{className:"md:w-1/3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"TOTAL AMOUNT PAID"}),o.jsx(T,{name:"AmountPaid",value:l.values.AmountPaid,onChange:l.handleChange,disabled:a,error:l.touched.AmountPaid&&l.errors.AmountPaid,touched:l.touched.AmountPaid,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono font-bold text-lg text-white focus:ring-2 focus:ring-white/50 focus:outline-none"})]})}),o.jsx("div",{className:"md:w-1/3 flex justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right w-full md:w-auto",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Qi(l.values.AmountPaid)||"-"})]})})]})}),o.jsx("div",{children:o.jsx(T,{label:"Remarks",name:"Remarks",type:"textarea",value:l.values.Remarks,onChange:l.handleChange,disabled:a,className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3,error:l.touched.Remarks&&l.errors.Remarks,touched:l.touched.Remarks})})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(St,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:l.isSubmitting,children:l.isSubmitting?"Generating...":"Generate Certificate"})]})]}),l.submitCount>0&&Object.keys(l.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(l.errors).map(([u,d])=>o.jsx("li",{children:d},u))})]})]})},dh="https://staging-engine.testthelink.online",kje=[],Tc=B("corporateCommunityTax/fetchCorporateCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dh}/corporate-ctc/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),S1=B("corporateCommunityTax/fetchCorporateCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dh}/corporate-ctc/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Pb=B("corporateCommunityTax/addCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dh}/corporate-ctc/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),A1=B("corporateCommunityTax/updateCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dh}/corporate-ctc/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Ob=B("corporateCommunityTax/deleteCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dh}/corporate-ctc/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete corporate community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),RU=ve({name:"corporateCommunityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCorporateCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Tc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Tc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community taxes",console.warn("Failed to fetch corporate community taxes, using mock data.",e.error),e.records=kje}).addCase(S1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(S1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(S1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community tax record"}).addCase(Pb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add corporate community tax record",console.error("Failed to add corporate community tax record:",e.error)}).addCase(A1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(A1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(A1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update corporate community tax record",console.error("Failed to update corporate community tax record:",e.error)}).addCase(Ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ob.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(Ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete corporate community tax record",console.error("Failed to delete corporate community tax record:",e.error)})}}),{clearCurrentCorporateCommunityTax:g9e}=RU.actions,Tje=RU.reducer;function Eje(){const[t,e]=w.useState("list"),[r,n]=w.useState(null),[a,s]=w.useState(!1),[i,l]=w.useState(null),{Add:c,Edit:u,Delete:d,Print:f}=we(35),{records:m,isLoading:h}=V(_=>_.corporateCommunityTax),{vendorDetails:y,isLoading:g}=V(_=>_.vendorDetails),p=ue();w.useEffect(()=>{p(Fa()),p(Tc())},[p]);const b=()=>{n(null),e("form")},v=_=>{n(_),e("details")},j=_=>{n(_),console.log("Edit certificate:",_),M(_.CustomerID),e("form")},C=_=>{console.log("Print certificate:",_)},x=()=>{e("list"),n(null),l(null)},N=[{key:"CustomerID",header:"Customer ID",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:_=>S(_),className:"text-right"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:_=>S(_),className:"text-right"},{key:"Earnings",header:"Earnings",sortable:!0,render:_=>S(_),className:"text-right"},{key:"TaxDue",header:"Tax Due",sortable:!0,render:_=>S(_),className:"text-right"},{key:"Year",header:"Year",sortable:!0},{key:"IssuedBy",header:"Issued By",sortable:!0},{key:"Status",header:"Status",render:_=>A(_)}],S=_=>_>=1e6?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(_):new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(_),A=_=>{let L="bg-neutral-100 text-neutral-800";switch(_){case"Posted":L="bg-green-100 text-green-800";break;case"Requested":L="bg-yellow-100 text-yellow-800";break;case"Cancelled":L="bg-red-100 text-red-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${L}`,children:_})},E=[{icon:Gm,title:"View",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},u&&{icon:Ie,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},d&&{icon:Ka,title:"Delete",onClick:async _=>{try{await p(Ob(_.ID)).unwrap(),p(Tc()),console.log("Certificate deleted and data reFetched"),q.success("Certificate deleted successfully.")}catch(L){console.error("Error deleting certificate:",L),q.error("Failed to delete certificate. Please try again.")}finally{x()}},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],k=()=>{s(!0)},P=()=>{s(!1)},R=async _=>{try{await p(Pb(_)).unwrap(),p(Tc()),q.success("Certificate saved successfully.")}catch(L){console.error("Error saving certificate:",L),q.error("Failed to save certificate. Please try again.")}finally{x()}},M=_=>{const L=y.find(F=>F.ID===_);l(L),console.log("Selected vendor:",L)};return o.jsxs(o.Fragment,{children:[t==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Corporation Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage corporation tax certificates"})]}),c&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:N,data:m,actions:E,loading:g||h,onRowClick:v})})]}),t==="form"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(va,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Community Tax Certificate (CORPORATE)":"Community Tax Certificate (CORPORATE)"}),o.jsx("p",{className:"text-gray-600",children:r?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[o.jsx("div",{className:"sm:w-auto w-full",children:o.jsx(yt,{options:(y==null?void 0:y.map(_=>({label:_.Name,value:_.ID})))||[],selectedValue:i==null?void 0:i.ID,label:"Choose Vendor",placeholder:"Choose Vendor",onSelect:M,required:!0})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"button",onClick:k,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),o.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),f&&o.jsx("button",{className:"btn btn-outline w-full sm:w-auto",children:"Print"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:i?o.jsx(oR,{selectedVendor:i,initialData:r,onCancel:x,onSubmitSuccess:R,readOnly:!1},i==null?void 0:i.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a vendor first to start"," "]})})]}),t==="details"&&r&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(va,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[u&&o.jsxs("button",{type:"button",onClick:()=>j(r),className:"btn btn-primary flex items-center",children:[o.jsx(Ie,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),f&&o.jsxs("button",{type:"button",onClick:()=>C(r),className:"btn btn-outline flex items-center",children:[o.jsx(cl,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(oR,{initialData:r,readOnly:!0,onBack:x})})]}),o.jsx(oe,{isOpen:a,onClose:P,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}function Dje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=[{id:1,receiptNumber:"MC-2024-01-0001",date:"2024-01-15",stallNumber:"A-101",stallType:"Dry Goods",stallOwner:"John Smith",period:"January 2024",amount:1500,status:"Paid"},{id:2,receiptNumber:"MC-2024-01-0002",date:"2024-01-15",stallNumber:"B-203",stallType:"Wet Market",stallOwner:"Jane Doe",period:"January 2024",amount:2e3,status:"Paid"}],s=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),i=[{key:"receiptNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"stallNumber",header:"Stall No.",sortable:!0},{key:"stallType",header:"Type",sortable:!0},{key:"stallOwner",header:"Owner",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"amount",header:"Amount",sortable:!0,render:m=>s(m),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:m=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m==="Paid"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:m})}],l=[{icon:Gm,title:"View",onClick:m=>u(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Edit",onClick:m=>d(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{n(m),e(!0)},f=async(m,{setSubmitting:h})=>{try{await d$.validate(m,{abortEarly:!1}),console.log("Form data:",m),e(!1)}catch(y){console.error("Validation errors:",y.errors)}finally{h(!1)}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Market Collections"}),o.jsx("p",{children:"Manage market stall rental collections"})]}),o.jsxs("button",{type:"button",onClick:c,className:"btn btn-primary flex items-center",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"New Collection"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:i,data:a,actions:l,pagination:!0})}),o.jsx(oe,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Collection":"New Collection",size:"lg",children:o.jsx(Re,{initialValues:{date:new Date().toISOString().split("T")[0],stallNumber:"",stallType:"",stallOwner:"",period:"",amount:"",...r},validationSchema:d$,onSubmit:f,children:({values:m,errors:h,touched:y,handleChange:g,handleBlur:p,isSubmitting:b})=>o.jsxs(qe,{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Date",name:"date",type:"date",required:!0,value:m.date,onChange:g,onBlur:p,error:h.date,touched:y.date}),o.jsx(T,{label:"Period",name:"period",type:"select",required:!0,value:m.period,onChange:g,onBlur:p,error:h.period,touched:y.period,options:[{value:"January 2024",label:"January 2024"},{value:"February 2024",label:"February 2024"},{value:"March 2024",label:"March 2024"}]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Stall Number",name:"stallNumber",type:"text",required:!0,placeholder:"Enter stall number",value:m.stallNumber,onChange:g,onBlur:p,error:h.stallNumber,touched:y.stallNumber}),o.jsx(T,{label:"Stall Type",name:"stallType",type:"select",required:!0,value:m.stallType,onChange:g,onBlur:p,error:h.stallType,touched:y.stallType,options:[{value:"Dry Goods",label:"Dry Goods"},{value:"Wet Market",label:"Wet Market"},{value:"Food Stall",label:"Food Stall"}]})]}),o.jsx(T,{label:"Stall Owner",name:"stallOwner",type:"text",required:!0,placeholder:"Enter stall owner name",value:m.stallOwner,onChange:g,onBlur:p,error:h.stallOwner,touched:y.stallOwner}),o.jsx(T,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",value:m.amount,onChange:g,onBlur:p,error:h.amount,touched:y.amount,min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:b,className:"btn btn-primary",children:b?"Saving...":r?"Update":"Save"})]})]})})})]})}const Pje=le().shape({CustomerName:D().required("Name is required"),CustomerID:Y(),DeceasedCustomerName:D().required("Deceased name is required"),DeceasedCustomerID:Y(),Nationality:D().required("Nationality is required"),NationalityID:Y().required("Nationality is required"),Age:Y().required("Age is required").min(0,"Age must be positive"),Sex:D().required("Sex is required"),DeathDate:Le().required("Date of death is required"),CauseofDeath:D().required("Cause of death is required"),Cementery:D().required("Cemetery name is required"),BurialType:D().required("Service type is required"),Infectious:Bo(),Embalmed:Bo(),Disposition:D().when("BurialType",{is:t=>["disinter","remove"].includes(t),then:D().required("Disposition remarks are required")}),InvoiceDate:Le().required("Invoice date is required"),paymentMethod:D().required("Payment method is required"),Total:Y().required("Amount received is required").min(0,"Amount must be positive"),referenceNumber:D(),Remarks:D()}),Oje="https://staging-engine.testthelink.online";function _je({initialData:t,onClose:e,onSubmit:r,nationalities:n,customers:a}){const[s,i]=w.useState(!1),l={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||"",DeceasedCustomerName:(t==null?void 0:t.DeceasedCustomerName)||"",DeceasedCustomerID:(t==null?void 0:t.DeceasedCustomerID)||"",Nationality:(t==null?void 0:t.Nationality)||"",NationalityID:(t==null?void 0:t.NationalityID)||"",Age:(t==null?void 0:t.Age)||"",Sex:(t==null?void 0:t.Sex)||"",DeathDate:(t==null?void 0:t.DeathDate)||"",CauseofDeath:(t==null?void 0:t.CauseofDeath)||"",Cementery:(t==null?void 0:t.Cementery)||"",BurialType:(t==null?void 0:t.BurialType)||"inter",Infectious:(t==null?void 0:t.Infectious)||!1,Embalmed:(t==null?void 0:t.Embalmed)||!1,Disposition:(t==null?void 0:t.Disposition)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerID:(t==null?void 0:t.CustomerID)||"",paymentMethod:(t==null?void 0:t.paymentMethod)||"",Total:(t==null?void 0:t.Total)||"",ReferenceNumber:(t==null?void 0:t.ReferenceNumber)||"",Remarks:(t==null?void 0:t.Remarks)||"",Attachments:(t==null?void 0:t.Attachments)||[]},c=(y,g,p)=>{const v=Array.from(y.target.files).map(j=>j);g("Attachments",[...p.Attachments,...v])},u=(y,g,p)=>{const b=[...p.Attachments];b.splice(y,1),g("Attachments",b)},d=(y,g)=>{const p=y.target.value;g("BurialType",p),i(p!=="INTER")},f=async(y,{setSubmitting:g})=>{console.log("Form values:",y);try{await r(y),e()}catch(p){console.error("Submission failed:",p),q.error(p.message||"Submission failed. Please try again.")}finally{g(!1)}},m=a==null?void 0:a.map(y=>({value:y.ID,label:y.Name||`${y.FirstName} ${y.MiddleName} ${y.LastName}`})),h=n==null?void 0:n.map(y=>({value:y.ID,label:y.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx(Re,{initialValues:l,validationSchema:Pje,onSubmit:f,enableReinitialize:!0,children:({values:y,errors:g,touched:p,handleChange:b,setFieldValue:v,isSubmitting:j,handleBlur:C,submitCount:x})=>o.jsxs(qe,{className:"space-y-4  bg-white rounded-lg",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:N=>c(N,v,y),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),y.Attachments.length>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:y.Attachments.map((N,S)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:N.ID?o.jsx("a",{href:`${Oje}/uploads/${N.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:N.name||N.DataName}):N.name||N.DataName})]}),o.jsx("button",{type:"button",onClick:()=>u(S,v,y),className:"text-red-500 hover:text-red-700",children:o.jsx(tr,{className:"h-4 w-4"})})]},S))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx("div",{className:"text-center",children:o.jsx(T,{name:"InvoiceNumber",type:"text",value:y.InvoiceNumber||"BU-RE-36AL-CEIPT",readOnly:!0,className:"font-bold text-center"})}),o.jsx("div",{children:o.jsx(yt,{label:"MR. / MRS.",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:N=>{const S=m.find(A=>A.value===N);v("CustomerName",(S==null?void 0:S.label)||""),v("CustomerID",(S==null?void 0:S.value)||"")},selectedValue:y.CustomerID,error:g.CustomerName,touched:p.CustomerName})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(yt,{label:"Name of Deceased",name:"DeceasedCustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:N=>{const S=m.find(A=>A.value===N);v("DeceasedCustomerName",(S==null?void 0:S.label)||""),v("DeceasedCustomerID",(S==null?void 0:S.value)||"")},selectedValue:y.DeceasedCustomerID,error:g.DeceasedCustomerName,touched:p.DeceasedCustomerName}),o.jsx(yt,{label:"Nationality",name:"NationalityID",type:"select",options:h,required:!0,placeholder:"Select Nationality",onSelect:N=>{const S=h.find(A=>A.value===N);v("NationalityID",N||""),v("Nationality",(S==null?void 0:S.label)||"")},className:"w-full",selectedValue:y.NationalityID,error:g.Nationality,touched:p.Nationality}),o.jsx(T,{label:"Age",name:"Age",type:"number",required:!0,value:y.Age,onChange:b,touched:p.Age,error:p.Age&&g.Age}),o.jsx(T,{label:"Sex",name:"Sex",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],value:y.Sex,onChange:b,touched:p.Sex,required:!0,error:p.sex&&g.sex}),o.jsx(T,{label:"Date of Death",name:"DeathDate",type:"date",required:!0,value:y.DeathDate,onChange:b,touched:p.DeathDate,error:p.DeathDate&&g.DeathDate}),o.jsx(T,{label:"Cause of Death",name:"CauseofDeath",type:"text",required:!0,value:y.CauseofDeath,onChange:b,touched:p.CauseofDeath,error:p.CauseofDeath&&g.CauseofDeath}),o.jsx(T,{label:"Name of Cemetery",name:"Cementery",type:"text",required:!0,value:y.Cementery,onChange:b,touched:p.Cementery,error:p.Cementery&&g.Cementery})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block font-medium",children:"Service Type"}),o.jsx("div",{className:"flex space-x-4",children:["INTER","DISINTER","REMOVE"].map(N=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",name:"BurialType",value:N,checked:y.BurialType===N,onChange:S=>d(S,v),className:"form-radio"}),o.jsx("span",{className:"ml-2",children:N.toUpperCase()})]},N))}),p.BurialType&&g.BurialType&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:g.BurialType})]}),s&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Infectious",value:y.Infectious,checked:y.Infectious,onChange:b,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Infectious"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Embalmed",value:y.Embalmed,checked:y.Embalmed,onChange:b,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Embalmed"})]})]}),o.jsx(T,{label:"Disposition of Remains",name:"Disposition",type:"textarea",rows:2,value:y.Disposition,onChange:b,onBlur:C,required:y.BurialType!=="INTER",error:p.Disposition&&g.Disposition})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Invoice Date",name:"InvoiceDate",type:"date",required:!0,value:y.InvoiceDate,onChange:b,onBlur:C,error:p.InvoiceDate&&g.InvoiceDate}),o.jsx(T,{label:"Payment Method",name:"paymentMethod",type:"select",options:[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"card",label:"Credit Card"}],required:!0,value:y.paymentMethod,onChange:b,onBlur:C,touched:p.paymentMethod,error:p.paymentMethod&&g.paymentMethod}),o.jsx(T,{label:"Amount Received",name:"Total",type:"number",required:!0,min:"0",value:y.Total,onChange:b,onBlur:C,touched:p.Total,error:p.Total&&g.Total}),o.jsx(T,{label:"Reference Number",name:"ReferenceNumber",type:"text",value:y.ReferenceNumber,onChange:b,onBlur:C,touched:p.ReferenceNumber,error:p.ReferenceNumber&&g.ReferenceNumber})]}),o.jsx(T,{label:"Remarks",name:"Remarks",type:"textarea",rows:2,value:y.Remarks,onChange:b,onBlur:C,touched:p.Remarks,error:p.Remarks&&g.Remarks}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:j?"Submitting...":"Submit"})]}),x>0&&Object.keys(g).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(g).map(([N,S])=>o.jsx("li",{children:S},N))})]})]})})]})}const fh="https://staging-engine.testthelink.online",$je=[],lf=B("burialRecords/fetchBurialRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fh}/burialrecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial records");return a}catch(r){return e.rejectWithValue(r.message)}}),I1=B("burialRecords/fetchBurialRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fh}/burialrecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),_b=B("burialRecords/addBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fh}/burialrecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),k1=B("burialRecords/updateBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fh}/burialrecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),$b=B("burialRecords/deleteBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fh}/burialrecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete burial record")}return t}catch(r){return e.rejectWithValue(r.message)}}),MU=ve({name:"burialRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(lf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lf.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(lf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial records",console.warn("Failed to fetch burial records, using mock data.",e.error),e.records=$je}).addCase(I1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(I1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(I1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial record"}).addCase(_b.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_b.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(_b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add burial record",console.error("Failed to add burial record:",e.error)}).addCase(k1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(k1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(k1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update burial record",console.error("Failed to update burial record:",e.error)}).addCase($b.pending,e=>{e.isLoading=!0,e.error=null}).addCase($b.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase($b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete burial record",console.error("Failed to delete burial record:",e.error)})}}),{clearCurrentRecord:y9e}=MU.actions,Rje=MU.reducer;function Mje(){const t=ue(),{Add:e,Edit:r,Delete:n}=we(28),{customers:a,isLoading:s}=V(N=>N.customers),{nationalities:i,isLoading:l}=V(N=>N.nationalities),{records:c,isLoading:u}=V(N=>N.burialRecords),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Ki()),t(lf()),t(An())},[t]);const y=[{key:"InvoiceNumber",header:"Receipt No",sortable:!0,className:"font-medium text-neutral-900",render:N=>o.jsx("div",{className:"flex items-center gap-1",children:N||""})},{key:"CustomerName",header:"Name",sortable:!0,render:N=>(N==null?void 0:N.trim())||"N/A"},{key:"Municipality",header:"Municipality",sortable:!0,render:N=>N||""},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"DocumentType.Name",header:"Service Type",sortable:!0,render:(N,S)=>{var A;return((A=S.DocumentType)==null?void 0:A.Name)||""},className:"text-gray-500"},{key:"Total",header:"Amount",sortable:!0,render:N=>g(N||"0.00"),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:N=>N||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:N=>({1:"General Fund",2:"Special Education Fund"})[N]||""}],g=N=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(N),p=()=>{h(null),f(!0)},b=N=>{h(N),f(!0)},v=async N=>{console.log("Deleting ticket:",N);try{await t($b(N.ID)).unwrap(),q.success("Burial Receipt deleted successfully")}catch(S){q.error(S.message||"Failed to delete Burial Receipt")}},j=()=>{f(!1),h(null)},C=async N=>{const S=new FormData;for(const A in N)if(A!=="Attachments"){const I=typeof N[A]=="object"?JSON.stringify(N[A]):N[A];A==="TransactionItemsAll"?S.append("Items",I):S.append(A,I)}N==null||N.Attachments.forEach((A,I)=>{A.ID?S.append(`Attachments[${I}].ID`,A.ID):S.append(`Attachments[${I}].File`,A)}),m?(S.append("IsNew","false"),S.append("LinkID",m.LinkID),S.append("ID",m.ID)):S.append("IsNew","true");try{await t(_b(S)).unwrap(),m?q.success("Burial Receipt Updated Successfully"):q.success("Burial Receipt Added Successfully"),t(lf())}catch(A){q.error(A.message||"Something went wrong")}finally{j()}},x=[r&&{icon:ja,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},n&&{icon:Ka,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Burial Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Burial Service Receipts"})]}),e&&o.jsxs("button",{onClick:p,className:"btn btn-primary max-sm:w-full ",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add New Receipt"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:y,data:c,className:"min-w-full divide-y divide-gray-200",actions:x,isLoading:u||l||s})}),o.jsx(oe,{isOpen:d,onClose:j,title:m?"Edit Burial Service Receipt":"New Burial Service Receipt ",children:o.jsx(_je,{initialData:m,onClose:j,onSubmit:C,nationalities:i,customers:a})})]})}const Lje="https://staging-engine.testthelink.online",Fje=le().shape({InvoiceNumber:D().required("Invoice number is required"),CustomerName:D().required("Customer is required"),CustomerAge:Y().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),Remarks:D().required("Remarks are required"),InvoiceDate:Le().required("Invoice date is required"),Cenomar:D().required("CENOMAR is required"),MarrytoID:D().required('"Marry to" is required'),MarrytoName:D().required('"Marry to Name" is required'),MarrytoAge:Y().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),RegisterNumber:D().required("Register number is required"),Total:Y().required("Price is required").min(0,"Price cannot be negative"),RemainingBalance:Y().required("Balance is required").min(0,"Balance cannot be negative"),AmountReceived:Y().required("Amount received is required").min(0,"Amount cannot be negative"),Attachments:Yt()});function Bje({initialData:t,customers:e,onClose:r,onSubmit:n}){const[a,s]=w.useState(!1),[i,l]=w.useState([]),c={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"MA-RE-30GE-CEIPT",CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerAge:(t==null?void 0:t.CustomerAge)||"",Remarks:(t==null?void 0:t.Remarks)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],Cenomar:(t==null?void 0:t.Cenomar)||"",MarrytoID:(t==null?void 0:t.MarrytoID)||"",MarrytoName:(t==null?void 0:t.MarrytoName)||"",MarrytoAge:(t==null?void 0:t.MarrytoAge)||"",RegisterNumber:(t==null?void 0:t.RegisterNumber)||"",Total:(t==null?void 0:t.Total)||0,RemainingBalance:(t==null?void 0:t.RemainingBalance)||0,AmountReceived:(t==null?void 0:t.AmountReceived)||0,Attachments:(t==null?void 0:t.Attachments)||[]},u=async h=>{s(!0);try{await n(h),r()}catch(y){console.error("Error submitting form:",y),q.error(y.message||"Submission failed. Please try again.")}finally{s(!1)}},d=(h,y,g)=>{const b=Array.from(h.target.files).map(v=>v);y("Attachments",[...g.Attachments,...b])},f=(h,y,g)=>{const p=[...g.Attachments];p.splice(h,1),y("Attachments",p)},m=e==null?void 0:e.map(h=>({value:h.ID,label:h.Name||`${h.FirstName} ${h.MiddleName} ${h.LastName}`}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx(Re,{initialValues:c,validationSchema:Fje,onSubmit:u,enableReinitialize:!0,children:({values:h,errors:y,touched:g,handleChange:p,handleBlur:b,setFieldValue:v})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:j=>d(j,v,h),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),(h==null?void 0:h.Attachments.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.Attachments.map((j,C)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:j.ID?o.jsx("a",{href:`${Lje}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:j.name||j.DataName}):j.name||j.DataName})]}),o.jsx("button",{type:"button",onClick:()=>f(C,v,h),className:"text-red-500 hover:text-red-700",children:o.jsx(tr,{className:"h-4 w-4"})})]},C))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(T,{label:"Invoice Number",name:"InvoiceNumber",type:"text",disabled:!0,readOnly:!0,value:h.InvoiceNumber,onChange:p,onBlur:b,error:y.InvoiceNumber,touched:g.InvoiceNumber,className:"bg-gray-200 cursor-not-allowed"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(yt,{label:"Customer",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const C=m.find(x=>x.value===j);v("CustomerName",(C==null?void 0:C.label)||""),v("CustomerID",(C==null?void 0:C.value)||"")},selectedValue:h.CustomerID,error:y.CustomerName,touched:g.CustomerName}),o.jsx(T,{label:"Age",name:"CustomerAge",type:"number",placeholder:"Enter customer age",required:!0,value:h.CustomerAge,onChange:p,onBlur:b,error:y.CustomerAge,touched:g.CustomerAge,min:"1"})]}),o.jsx(T,{label:"Remarks",name:"Remarks",type:"textarea",placeholder:"Enter remarks",rows:3,required:!0,value:h.Remarks,onChange:p,onBlur:b,error:y.Remarks,touched:g.Remarks}),o.jsx(T,{label:"Invoice Date",name:"InvoiceDate",type:"date",placeholder:"Enter invoice date",required:!0,value:h.InvoiceDate,onChange:p,onBlur:b,error:y.InvoiceDate,touched:g.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"CENOMAR",name:"Cenomar",type:"text",required:!0,placeholder:"Enter CENOMAR",value:h.Cenomar,onChange:p,onBlur:b,error:y.Cenomar,touched:g.Cenomar}),o.jsx(yt,{label:"Marry to",name:"MarrytoID",type:"select",options:m,required:!0,placeholder:"Select Marry to",onSelect:j=>{const C=m.find(x=>x.value===j);v("MarrytoName",(C==null?void 0:C.label)||""),v("MarrytoID",(C==null?void 0:C.value)||"")},selectedValue:h.MarrytoID,error:y.MarrytoName,touched:g.MarrytoName})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Age",name:"MarrytoAge",type:"number",required:!0,placeholder:"Enter Marry to age",value:h.MarrytoAge,onChange:p,onBlur:b,error:y.MarrytoAge,touched:g.MarrytoAge,min:"1"}),o.jsx(T,{label:"Register Number",name:"RegisterNumber",type:"text",required:!0,placeholder:"Enter register number",value:h.RegisterNumber,onChange:p,onBlur:b,error:y.RegisterNumber,touched:g.RegisterNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(T,{label:"Price",name:"Total",type:"number",required:!0,placeholder:"Enter price",value:h.Total,onChange:p,onBlur:b,error:y.Total,touched:g.Total,min:"0"}),o.jsx(T,{label:"Remaining Balance",name:"RemainingBalance",type:"number",required:!0,placeholder:"Enter remaining balance",value:h.RemainingBalance,onChange:p,onBlur:b,error:y.RemainingBalance,touched:g.RemainingBalance,min:"0"}),o.jsx(T,{label:"Amount Received",name:"AmountReceived",type:"number",required:!0,placeholder:"Enter amount received",value:h.AmountReceived,onChange:p,onBlur:b,error:y.AmountReceived,touched:g.AmountReceived,min:"0"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:a,children:t?"Update":"Create"})]})]})})]})}const mh="https://staging-engine.testthelink.online",qje=[],cf=B("marriageRecords/fetchMarriageRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mh}/marriagerecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage records");return a}catch(r){return e.rejectWithValue(r.message)}}),T1=B("marriageRecords/fetchMarriageRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mh}/marriagerecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Rb=B("marriageRecords/addMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mh}/marriagerecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),E1=B("marriageRecords/updateMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mh}/marriagerecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Mb=B("marriageRecords/deleteMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mh}/marriagerecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete marriage record")}return t}catch(r){return e.rejectWithValue(r.message)}}),LU=ve({name:"marriageRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(cf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cf.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(cf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage records",console.warn("Failed to fetch marriage records, using mock data.",e.error),e.records=qje}).addCase(T1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(T1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(T1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage record"}).addCase(Rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add marriage record",console.error("Failed to add marriage record:",e.error)}).addCase(E1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(E1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(E1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update marriage record",console.error("Failed to update marriage record:",e.error)}).addCase(Mb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete marriage record",console.error("Failed to delete marriage record:",e.error)})}}),{clearCurrentRecord:b9e}=LU.actions,Vje=LU.reducer;function Uje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=ue(),{records:s,isLoading:i}=V(j=>j.marriageRecords),{customers:l,isLoading:c}=V(j=>j.customers),{Add:u,Edit:d,Delete:f}=we(59);w.useEffect(()=>{a(cf()),a(An())},[a]);const m=async j=>{console.log("Form data to save:",j);const C=new FormData;for(const x in j)if(x!=="Attachments"){const N=typeof j[x]=="object"?JSON.stringify(j[x]):j[x];x==="TransactionItemsAll"?C.append("Items",N):C.append(x,N)}j==null||j.Attachments.forEach((x,N)=>{x.ID?C.append(`Attachments[${N}].ID`,x.ID):C.append(`Attachments[${N}].File`,x)}),r?(C.append("IsNew",!1),C.append("LinkID",r.LinkID),C.append("ID",r.ID)):C.append("IsNew",!0);try{await a(Rb(C)).unwrap(),r?q.success("Marriage Receipt Updated Successfully"):q.success("Marriage Receipt Added Successfully"),a(cf())}catch(x){q.error(x.message||"Something went wrong")}finally{g()}},h=async j=>{console.log("Deleting ticket:",j);try{await a(Mb(j.ID)).unwrap(),q.success("Marriage Receipt deleted successfully")}catch(C){q.error(C.message||"Failed to delete Marriage Receipt")}},y=j=>{n(j),e(!0)},g=()=>{n(null),e(!1)},p=[{key:"Status",header:"Status",sortable:!0,render:j=>o.jsx("span",{className:`px-2 py-1 rounded ${j==="Posted"?"bg-green-100 text-green-800":j==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:j})},{key:"APAR",header:"AP/AR",sortable:!0,render:j=>j||""},{key:"CustomerName",header:"Customer",sortable:!0,render:j=>(j==null?void 0:j.trim())||"N/A"},{key:"Total",header:"Total Amount",sortable:!0,render:j=>b(j),className:"text-right font-medium"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:j=>b(j||"0.00"),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:j=>b(j||"0.00"),className:"text-right"},{key:"Debit",header:"Debit",sortable:!0,render:j=>b(j||"0.00"),className:"text-right"},{key:"EWT",header:"EWT",sortable:!0,render:j=>b(j||"0.00"),className:"text-right"},{key:"WithheldAmount",header:"Withheld Amount",sortable:!0,render:j=>b(j||"0.00"),className:"text-right"},{key:"Vat_Total",header:"Total",sortable:!0,render:j=>b(j||"0.00"),className:"text-right font-medium"},{key:"Discounts",header:"Discount (%)",sortable:!0,render:j=>j?`${j}%`:"0%",className:"text-right"},{key:"AmountDue",header:"Amount Due",sortable:!0,render:j=>b(j||"0.00"),className:"text-right font-medium"}],b=j=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(j||0),v=[d&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},f&&{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriage Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Marriage Service Receipts"})]}),u&&o.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add Receipt"]})]}),o.jsx(ye,{columns:p,data:s,actions:v,className:"bg-white rounded-lg shadow",isLoading:i||c}),o.jsx(oe,{isOpen:t,onClose:g,title:r?"Edit Receipt":"Add Receipt",children:o.jsx(Bje,{initialData:r,customers:l,onClose:g,onSubmit:m})})]})}const FU=6048e5,zje=864e5,BU=6e4,qU=36e5,iR=Symbol.for("constructDateFrom");function Os(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&iR in t?t[iR](e):t instanceof Date?new t.constructor(e):new Date(e)}function On(t,e){return Os(e||t,t)}let Wje={};function Xj(){return Wje}function sm(t,e){var l,c,u,d;const r=Xj(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=On(t,e==null?void 0:e.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function tv(t,e){return sm(t,{...e,weekStartsOn:1})}function VU(t,e){const r=On(t,e==null?void 0:e.in),n=r.getFullYear(),a=Os(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=tv(a),i=Os(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=tv(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function lR(t){const e=On(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Hje(t,...e){const r=Os.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function cR(t,e){const r=On(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Gje(t,e,r){const[n,a]=Hje(r==null?void 0:r.in,t,e),s=cR(n),i=cR(a),l=+s-lR(s),c=+i-lR(i);return Math.round((l-c)/zje)}function Yje(t,e){const r=VU(t,e),n=Os(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),tv(n)}function Kje(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Jje(t){return!(!Kje(t)&&typeof t!="number"||isNaN(+On(t)))}function Xje(t,e){const r=On(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Qje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zje=(t,e,r)=>{let n;const a=Qje[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function D1(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const ewe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},twe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rwe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nwe={date:D1({formats:ewe,defaultWidth:"full"}),time:D1({formats:twe,defaultWidth:"full"}),dateTime:D1({formats:rwe,defaultWidth:"full"})},awe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},swe=(t,e,r,n)=>awe[t];function od(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const owe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fwe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},mwe={ordinalNumber:fwe,era:od({values:owe,defaultWidth:"wide"}),quarter:od({values:iwe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:od({values:lwe,defaultWidth:"wide"}),day:od({values:cwe,defaultWidth:"wide"}),dayPeriod:od({values:uwe,defaultWidth:"wide",formattingValues:dwe,defaultFormattingWidth:"wide"})};function id(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?pwe(l,f=>f.test(i)):hwe(l,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function hwe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function pwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function gwe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const ywe=/^(\d+)(th|st|nd|rd)?/i,bwe=/\d+/i,xwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vwe={any:[/^b/i,/^(a|c)/i]},jwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wwe={any:[/1/i,/2/i,/3/i,/4/i]},Nwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Swe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Awe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Iwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Twe={ordinalNumber:gwe({matchPattern:ywe,parsePattern:bwe,valueCallback:t=>parseInt(t,10)}),era:id({matchPatterns:xwe,defaultMatchWidth:"wide",parsePatterns:vwe,defaultParseWidth:"any"}),quarter:id({matchPatterns:jwe,defaultMatchWidth:"wide",parsePatterns:wwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:id({matchPatterns:Nwe,defaultMatchWidth:"wide",parsePatterns:Cwe,defaultParseWidth:"any"}),day:id({matchPatterns:Swe,defaultMatchWidth:"wide",parsePatterns:Awe,defaultParseWidth:"any"}),dayPeriod:id({matchPatterns:Iwe,defaultMatchWidth:"any",parsePatterns:kwe,defaultParseWidth:"any"})},Ewe={code:"en-US",formatDistance:Zje,formatLong:nwe,formatRelative:swe,localize:mwe,match:Twe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Dwe(t,e){const r=On(t,e==null?void 0:e.in);return Gje(r,Xje(r))+1}function Pwe(t,e){const r=On(t,e==null?void 0:e.in),n=+tv(r)-+Yje(r);return Math.round(n/FU)+1}function UU(t,e){var d,f,m,h;const r=On(t,e==null?void 0:e.in),n=r.getFullYear(),a=Xj(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,i=Os((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=sm(i,e),c=Os((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=sm(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function Owe(t,e){var l,c,u,d;const r=Xj(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=UU(t,e),s=Os((e==null?void 0:e.in)||t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),sm(s,e)}function _we(t,e){const r=On(t,e==null?void 0:e.in),n=+sm(r,e)-+Owe(r,e);return Math.round(n/FU)+1}function ut(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ks={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ut(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ut(r+1,2)},d(t,e){return ut(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ut(t.getHours()%12||12,e.length)},H(t,e){return ut(t.getHours(),e.length)},m(t,e){return ut(t.getMinutes(),e.length)},s(t,e){return ut(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ut(a,e.length)}},ql={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ks.y(t,e)},Y:function(t,e,r,n){const a=UU(t,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return ut(i,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):ut(s,e.length)},R:function(t,e){const r=VU(t);return ut(r,e.length)},u:function(t,e){const r=t.getFullYear();return ut(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ut(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ut(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ks.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ut(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=_we(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):ut(a,e.length)},I:function(t,e,r){const n=Pwe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ut(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ks.d(t,e)},D:function(t,e,r){const n=Dwe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ut(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ut(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ut(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return ut(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=ql.noon:n===0?a=ql.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=ql.evening:n>=12?a=ql.afternoon:n>=4?a=ql.morning:a=ql.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ks.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ks.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ut(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ut(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ks.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ks.s(t,e)},S:function(t,e){return Ks.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return fR(n);case"XXXX":case"XX":return bi(n);case"XXXXX":case"XXX":default:return bi(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return fR(n);case"xxxx":case"xx":return bi(n);case"xxxxx":case"xxx":default:return bi(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+dR(n,":");case"OOOO":default:return"GMT"+bi(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+dR(n,":");case"zzzz":default:return"GMT"+bi(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return ut(n,e.length)},T:function(t,e,r){return ut(+t,e.length)}};function dR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+ut(s,2)}function fR(t,e){return t%60===0?(t>0?"-":"+")+ut(Math.abs(t)/60,2):bi(t,e)}function bi(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=ut(Math.trunc(n/60),2),s=ut(n%60,2);return r+a+e+s}const mR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},zU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},$we=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return mR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",mR(n,e)).replace("{{time}}",zU(a,e))},Rwe={p:zU,P:$we},Mwe=/^D+$/,Lwe=/^Y+$/,Fwe=["D","DD","YY","YYYY"];function Bwe(t){return Mwe.test(t)}function qwe(t){return Lwe.test(t)}function Vwe(t,e,r){const n=Uwe(t,e,r);if(console.warn(n),Fwe.includes(t))throw new RangeError(n)}function Uwe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hwe=/^'([^]*?)'?$/,Gwe=/''/g,Ywe=/[a-zA-Z]/;function hR(t,e,r){var d,f,m,h;const n=Xj(),a=n.locale??Ewe,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,l=On(t,r==null?void 0:r.in);if(!Jje(l))throw new RangeError("Invalid time value");let c=e.match(Wwe).map(y=>{const g=y[0];if(g==="p"||g==="P"){const p=Rwe[g];return p(y,a.formatLong)}return y}).join("").match(zwe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const g=y[0];if(g==="'")return{isToken:!1,value:Kwe(y)};if(uR[g])return{isToken:!0,value:y};if(g.match(Ywe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const g=y.value;(qwe(g)||Bwe(g))&&Vwe(g,e,String(t));const p=uR[g[0]];return p(l,g,a.localize,u)}).join("")}function Kwe(t){const e=t.match(Hwe);return e?e[1].replace(Gwe,"'"):t}function pR(t,e){const r=()=>Os(e==null?void 0:e.in,NaN),a=Zwe(t);let s;if(a.date){const u=eNe(a.date,2);s=tNe(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const i=+s;let l=0,c;if(a.time&&(l=rNe(a.time),isNaN(l)))return r();if(a.timezone){if(c=nNe(a.timezone),isNaN(c))return r()}else{const u=new Date(i+l),d=On(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return On(i+l+c,e==null?void 0:e.in)}const hp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Jwe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Xwe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Qwe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Zwe(t){const e={},r=t.split(hp.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],hp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(hp.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=hp.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function eNe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function tNe(t,e){if(e===null)return new Date(NaN);const r=t.match(Jwe);if(!r)return new Date(NaN);const n=!!r[4],a=ld(r[1]),s=ld(r[2])-1,i=ld(r[3]),l=ld(r[4]),c=ld(r[5])-1;if(n)return lNe(e,l,c)?aNe(e,l,c):new Date(NaN);{const u=new Date(0);return!oNe(e,s,i)||!iNe(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,i)),u)}}function ld(t){return t?parseInt(t):1}function rNe(t){const e=t.match(Xwe);if(!e)return NaN;const r=P1(e[1]),n=P1(e[2]),a=P1(e[3]);return cNe(r,n,a)?r*qU+n*BU+a*1e3:NaN}function P1(t){return t&&parseFloat(t.replace(",","."))||0}function nNe(t){if(t==="Z")return 0;const e=t.match(Qwe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return uNe(n,a)?r*(n*qU+a*BU):NaN}function aNe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const sNe=[31,null,31,30,31,30,31,31,30,31,30,31];function WU(t){return t%400===0||t%4===0&&t%100!==0}function oNe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(sNe[e]||(WU(t)?29:28))}function iNe(t,e){return e>=1&&e<=(WU(t)?366:365)}function lNe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function cNe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function uNe(t,e){return e>=0&&e<=59}const hh="https://staging-engine.testthelink.online",dNe=[],Ec=B("publicMarketTicketing/fetchPublicMarketTickets",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hh}/public-market-ticketing`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market tickets");return a}catch(r){return e.rejectWithValue(r.message)}}),O1=B("publicMarketTicketing/fetchPublicMarketTicketById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hh}/public-market-ticketing/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),uf=B("publicMarketTicketing/addPublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hh}/public-market-ticketing/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),_1=B("publicMarketTicketing/public-market-ticketing",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hh}/publicMarketTicketing/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),Lb=B("publicMarketTicketing/deletePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hh}/public-market-ticketing/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete public market ticket")}return t}catch(r){return e.rejectWithValue(r.message)}}),HU=ve({name:"publicMarketTicketing",initialState:{tickets:[],currentTicket:null,isLoading:!1,error:null},reducers:{clearCurrentTicket:t=>{t.currentTicket=null}},extraReducers:t=>{t.addCase(Ec.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ec.fulfilled,(e,r)=>{e.isLoading=!1,e.tickets=Array.isArray(r.payload)?r.payload:[]}).addCase(Ec.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market tickets",console.warn("Failed to fetch tickets, using mock data.",e.error),e.tickets=dNe}).addCase(O1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(O1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentTicket=r.payload}).addCase(O1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market ticket"}).addCase(uf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uf.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets.push(r.payload)}).addCase(uf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add public market ticket",console.error("Failed to add ticket:",e.error)}).addCase(_1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.tickets)||(e.tickets=[]),e.tickets[n]=r.payload),e.currentTicket&&e.currentTicket.ID===r.payload.ID&&(e.currentTicket=r.payload)}).addCase(_1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update public market ticket",console.error("Failed to update ticket:",e.error)}).addCase(Lb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets=e.tickets.filter(n=>n.ID!==r.payload),e.currentTicket&&e.currentTicket.ID===r.payload&&(e.currentTicket=null)}).addCase(Lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete public market ticket",console.error("Failed to delete ticket:",e.error)})}}),{clearCurrentTicket:x9e}=HU.actions,fNe=HU.reducer,mNe=le().shape({items:D().required("Items type is required"),startTime:Le().required("Start time is required"),endTime:Le().required("End time is required").min(hl("startTime"),"End time must be after start time"),issuedBy:D().required("Issued by is required"),dateIssued:Le().required("Date issued is required"),postingPeriod:Le().required("Posting period is required"),amountIssued:Y().required("Amount issued is required").min(0,"Amount must be greater than or equal to 0"),remarks:D().required("Remarks are required")}),hNe={items:"",startTime:"",endTime:"",issuedBy:"",dateIssued:"",postingPeriod:"",amountIssued:"",remarks:""},pNe=({ticket:t,onClose:e})=>{const r=ue(),n=s=>s?(console.log(s),{...s,items:s.Items||"",startTime:s.StartTime?hR(pR(s.StartTime),"yyyy-MM-dd'T'HH:mm"):"",endTime:s.EndTime?hR(pR(s.EndTime),"yyyy-MM-dd'T'HH:mm"):"",issuedBy:s.IssuedBy||"",dateIssued:s.DateIssued||"",postingPeriod:s.PostingPeriod||"",amountIssued:s.AmountIssued||"",remarks:s.Remarks||""}):hNe,a=async s=>{try{const i={Items:s.items,StartTime:new Date(s.startTime).toISOString(),EndTime:new Date(s.endTime).toISOString(),IssuedBy:s.issuedBy,DateIssued:s.dateIssued,PostingPeriod:s.postingPeriod,AmountIssued:s.amountIssued,Remarks:s.remarks};t?(await r(uf({IsNew:!1,ID:t.ID,LinkID:t.LinkID,...i})).unwrap(),ie.success("Ticket updated successfully"),r(Ec())):(await r(uf({IsNew:!0,...i})).unwrap(),ie.success("Ticket added successfully"),r(Ec()))}catch(i){ie.error(i.message||"Something went wrong")}finally{e()}};return o.jsx(Re,{initialValues:n(t),validationSchema:mNe,onSubmit:a,enableReinitialize:!0,children:({isSubmitting:s,isValid:i,dirty:l,values:c,errors:u,touched:d,handleChange:f,handleBlur:m})=>o.jsxs(qe,{className:"space-y-6",children:[o.jsx(T,{label:"Items:",name:"items",type:"text",placeholder:"Enter items",required:!0,error:d.items&&u.items,touched:d.items,value:c.items,onChange:f,onBlur:m}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(T,{label:"Date Issued:",name:"dateIssued",type:"date",max:new Date().toISOString().split("T")[0],required:!0,error:d.dateIssued&&u.dateIssued,touched:d.dateIssued,value:c.dateIssued,onChange:f,onBlur:m}),o.jsx(T,{label:"Posting Period:",name:"postingPeriod",type:"date",required:!0,error:d.postingPeriod&&u.postingPeriod,touched:d.postingPeriod,value:c.postingPeriod,onChange:f,onBlur:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(T,{label:"Start Time:",name:"startTime",type:"datetime-local",max:c.postingPeriod,required:!0,error:d.startTime&&u.startTime,touched:d.startTime,value:c.startTime,onChange:f,onBlur:m}),o.jsx(T,{label:"End Time:",name:"endTime",type:"datetime-local",min:c.startTime,max:c.postingPeriod,required:!0,error:d.endTime&&u.endTime,touched:d.endTime,value:c.endTime,onChange:f,onBlur:m})]}),o.jsx(T,{label:"Issued By:",name:"issuedBy",type:"text",placeholder:"Enter issuer name",required:!0,error:d.issuedBy&&u.issuedBy,touched:d.issuedBy,value:c.issuedBy,onChange:f,onBlur:m}),o.jsx(T,{label:"Amount Issued:",name:"amountIssued",type:"text",placeholder:"0.00",required:!0,error:d.amountIssued&&u.amountIssued,touched:d.amountIssued,value:c.amountIssued!==""&&!isNaN(c.amountIssued)?Number(c.amountIssued).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",onChange:h=>{const y=h.target.value.replace(/\D/g,""),g=y?(parseInt(y,10)/100).toFixed(2):"";f({target:{name:"amountIssued",value:g}})},onBlur:m}),o.jsx(T,{label:"Remarks:",name:"remarks",type:"textarea",placeholder:"Enter remarks",required:!0,error:d.remarks&&u.remarks,touched:d.remarks,value:c.remarks,onChange:f,onBlur:m,rows:4}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[o.jsx("button",{type:"button",onClick:e,disabled:s,className:"px-6 py-2 rounded-md border border-gray-300 shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s||!i||!l,className:"px-6 py-2 rounded-md border border-transparent shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":t?"Update Ticket":"Add Ticket"})]})]})})},xt=t=>t!=null&&t!==""?Number(t).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",gNe=()=>{const t=ue(),{Add:e,Edit:r,Delete:n}=we(68),[a,s]=w.useState(!1),[i,l]=w.useState(null),{tickets:c,isLoading:u,error:d}=V(p=>p.publicMarketTicketing);w.useEffect(()=>{t(Ec())},[t]),w.useEffect(()=>{d&&ie.error(d)},[d]);const f=()=>{l(null),s(!0)},m=async p=>{console.log("Deleting ticket:",p);try{await t(Lb(p.ID)).unwrap(),ie.success("Ticket deleted successfully")}catch(b){ie.error(b.message||"Failed to delete ticket")}},h=[{key:"Items",header:"Items",accessorKey:"items"},{key:"StartTime",header:"Start Time",accessorKey:"startTime",render:p=>new Date(p).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"EndTime",header:"End Time",accessorKey:"endTime",render:p=>new Date(p).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"IssuedBy",header:"Issued By",accessorKey:"issuedBy"},{key:"DateIssued",header:"Date Issued",accessorKey:"dateIssued",render:p=>new Date(p).toLocaleDateString()},{key:"PostingPeriod",header:"Posting Period",accessorKey:"postingPeriod",render:p=>new Date(p).toLocaleDateString()},{key:"AmountIssued",header:"Amount Issued",accessorKey:"amountIssued",render:xt},{key:"Remarks",header:"Remarks",accessorKey:"remarks"}],g=[r&&{icon:ja,title:"Edit",onClick:p=>{console.log("Edit ticket:",p),l(p),s(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},n&&{icon:Ka,title:"Delete",onClick:m,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 page-header max-sm:flex-wrap gap-4",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Public Market Tickets"}),e&&o.jsxs(St,{onClick:f,disabled:u,className:"max-sm:w-full",children:[o.jsx(lde,{className:"w-5 h-5 mr-2"}),"Add Ticket"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:h,data:c,isLoading:u,actions:g})}),o.jsx(oe,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Ticket":"Add Ticket",children:o.jsx(pNe,{ticket:i,onClose:()=>s(!1)})})]})};le().shape({budgetName:D().required("Budget Name is required"),fiscalYear:D().required("Fiscal Year is required"),department:D().required("Department is required"),subDepartment:D().required("Sub-Department is required"),chartOfAccounts:D().required("Chart of Accounts is required"),fund:D().required("Fund is required"),project:D().required("Project is required"),january:D().required("January is required"),february:D().required("February is required"),march:D().required("March is required"),april:D().required("April is required"),may:D().required("May is required"),june:D().required("June is required"),july:D().required("July is required"),august:D().required("August is required"),september:D().required("September is required"),october:D().required("October is required"),november:D().required("November is required"),december:D().required("December is required")});const yNe=le().shape({Name:D().required("Budget name is required"),FiscalYearID:Y().required("Fiscal year is required"),DepartmentID:Y().required("Department is required"),SubDepartmentID:Y().required("Sub department is required"),ChartofAccountsID:Y().required("Chart of accounts is required"),FundID:Y().required("Fund is required"),ProjectID:Y().required("Project is required"),Appropriation:Y().required("Appropriation is required"),Charges:Y().required("Charges is required"),January:Y().nullable(),February:Y().nullable(),March:Y().nullable(),April:Y().nullable(),May:Y().nullable(),June:Y().nullable(),July:Y().nullable(),August:Y().nullable(),September:Y().nullable(),October:Y().nullable(),November:Y().nullable(),December:Y().nullable()}),gR={ID:"",IsNew:!0,Name:"",FiscalYearID:"",DepartmentID:"",SubDepartmentID:"",ChartofAccountsID:"",FundID:"",ProjectID:"",Appropriation:0,Charges:0,January:0,February:0,March:0,April:0,May:0,June:0,July:0,August:0,September:0,October:0,November:0,December:0};function GU({initialData:t,onSubmit:e,onClose:r,departmentOptions:n,subDepartmentOptions:a,chartOfAccountsOptions:s,fundOptions:i,projectOptions:l,fiscalYearOptions:c}){const[u,d]=w.useState({...gR}),f=(m,{setSubmitting:h})=>{e(m),h(!1),console.log("Form submitted with values:",m)};return w.useEffect(()=>{t!=null&&t.ID?d({ID:t.ID,IsNew:!1,Name:t.Name||"",FiscalYearID:t.FiscalYearID||"",DepartmentID:t.DepartmentID||"",SubDepartmentID:t.SubDepartmentID||"",ChartofAccountsID:t.ChartofAccountsID||"",FundID:t.FundID||"",ProjectID:t.ProjectID||"",Appropriation:t.Appropriation||0,Charges:t.Charges||0,January:t.January||0,February:t.February||0,March:t.March||0,April:t.April||0,May:t.May||0,June:t.June||0,July:t.July||0,August:t.August||0,September:t.September||0,October:t.October||0,November:t.November||0,December:t.December||0}):d(gR)},[t]),o.jsx(Re,{enableReinitialize:!0,onSubmit:f,initialValues:u,validationSchema:yNe,children:({values:m,errors:h,touched:y,handleChange:g,handleBlur:p,isSubmitting:b,submitCount:v,setFieldValue:j})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"col-span-2",children:o.jsx(T,{label:"Budget Name",name:"Name",value:m.Name,type:"text",onChange:g,onBlur:p,error:h.Name,touched:y.Name,required:!0})}),o.jsx(T,{label:"Fiscal Year",name:"FiscalYearID",type:"select",onChange:g,onBlur:p,value:m.FiscalYearID,error:h.FiscalYearID,touched:y.FiscalYearID,options:c,required:!0}),o.jsx(T,{label:"Department",name:"DepartmentID",type:"select",onChange:g,onBlur:p,value:m.DepartmentID,error:h.DepartmentID,touched:y.DepartmentID,options:n,required:!0}),o.jsx(T,{label:"Sub-Department",name:"SubDepartmentID",type:"select",onChange:g,onBlur:p,value:m.SubDepartmentID,error:h.SubDepartmentID,touched:y.SubDepartmentID,options:a,required:!0}),o.jsx(T,{label:"Chart of Accounts",name:"ChartofAccountsID",type:"select",onChange:g,onBlur:p,value:m.ChartofAccountsID,error:h.ChartofAccountsID,touched:y.ChartofAccountsID,options:s,required:!0}),o.jsx(T,{label:"Fund",name:"FundID",type:"select",onChange:g,onBlur:p,value:m.FundID,error:h.FundID,touched:y.FundID,options:i,required:!0}),o.jsx(T,{label:"Project",name:"ProjectID",type:"select",onChange:g,onBlur:p,value:m.ProjectID,error:h.ProjectID,touched:y.ProjectID,options:l,required:!0}),o.jsx(T,{label:"Appropriation",name:"Appropriation",onChange:g,onBlur:p,value:m.Appropriation,error:h.Appropriation,touched:y.Appropriation,type:"number",required:!0,readOnly:!0,className:"bg-gray-100"}),o.jsx(T,{label:"Charges",name:"Charges",type:"number",onChange:g,onBlur:p,value:m.Charges,error:h.Charges,touched:y.Charges,required:!0,readOnly:!0,className:"bg-gray-100"}),o.jsx(T,{label:"Total Amount",name:"TotalAmount",type:"number",onChange:g,onBlur:p,value:m.TotalAmount,error:h.TotalAmount,touched:y.TotalAmount,readOnly:!0,className:"bg-gray-100"}),o.jsx(T,{label:"Balance",name:"AppropriationBalance",type:"number",onChange:g,onBlur:p,value:m.AppropriationBalance,error:h.AppropriationBalance,touched:y.AppropriationBalance,readOnly:!0,className:"bg-gray-100"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(C=>o.jsx(T,{label:C,name:C,type:"number",onChange:x=>{g(x);const N={...m,[C]:x.target.value},A=["January","February","March","April","May","June","July","August","September","October","November","December"].reduce((I,E)=>I+(Number(N[E])||0),0);j("Appropriation",A)},onBlur:p,value:m[C],error:h[C],touched:y[C]},C))}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]}),v>0&&Object.keys(h).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(h).map(([C,x])=>o.jsx("li",{children:x},C))})]})]})})}const bNe=[{value:"2024",label:"2024"},{value:"2025",label:"2025"}],xNe=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"}],vNe=[{value:"sub1",label:"Sub-Department 1"},{value:"sub2",label:"Sub-Department 2"}],jNe=[{value:"coa1",label:"Chart 1"},{value:"coa2",label:"Chart 2"}],wNe=[{value:"fund1",label:"Fund 1"},{value:"fund2",label:"Fund 2"}],yR=[{value:"proj1",label:"Project A",appropriation:"A1",charges:"C1",total:"10000",balance:"5000"},{value:"proj2",label:"Project B",appropriation:"A2",charges:"C2",total:"20000",balance:"15000"}],mI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],NNe=le().shape({budgetName:D().required("Required"),fiscalYear:D().required("Required"),department:D().required("Required"),subDepartment:D().required("Required"),chartOfAccount:D().required("Required"),fund:D().required("Required"),project:D().required("Required"),monthlyAmounts:le().shape(mI.reduce((t,e)=>(t[e]=Y().min(0,"Must be >= 0").required("Required"),t),{}))});function CNe(){const[t,e]=w.useState({});return o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"New Budget"}),o.jsx(Re,{initialValues:{budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccount:"",fund:"",project:"",monthlyAmounts:mI.reduce((r,n)=>({...r,[n]:""}),{})},validationSchema:NNe,onSubmit:r=>{console.log("Submitted:",r)},children:({values:r,handleChange:n,setFieldValue:a})=>(w.useEffect(()=>{const s=yR.find(i=>i.value===r.project);s&&e(s)},[r.project]),o.jsxs(qe,{className:"space-y-4",children:[o.jsx(T,{name:"budgetName",label:"Budget Name",type:"text",required:!0,value:r.budgetName,onChange:n}),o.jsx(T,{name:"fiscalYear",label:"Fiscal Year",type:"select",required:!0,options:bNe,value:r.fiscalYear,onChange:n}),o.jsx(T,{name:"department",label:"Department",type:"select",required:!0,options:xNe,value:r.department,onChange:n}),o.jsx(T,{name:"subDepartment",label:"Sub-Department",type:"select",required:!0,options:vNe,value:r.subDepartment,onChange:n}),o.jsx(T,{name:"chartOfAccount",label:"Chart of Accounts",type:"select",required:!0,options:jNe,value:r.chartOfAccount,onChange:n}),o.jsx(T,{name:"fund",label:"Fund",type:"select",required:!0,options:wNe,value:r.fund,onChange:n}),o.jsx(T,{name:"project",label:"Project",type:"select",required:!0,options:yR.map(s=>({value:s.value,label:s.label})),value:r.project,onChange:n}),r.project&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-neutral-50 p-4 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation:"})," ",t.appropriation]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",t.charges]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Amount:"})," ",t.total]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Balance:"})," ",t.balance]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:mI.map(s=>o.jsx(T,{name:`monthlyAmounts.${s}`,label:s,type:"number",value:r.monthlyAmounts[s],onChange:n,min:"0",step:"0.01"},s))}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Budget"})})]}))})]})}le().shape({Status:D().oneOf(["Requested"]).required(),APAR:D().oneOf(["Budget Supplemental"]).required(),DocumentTypeID:Y().oneOf([21]).required(),RequestedBy:Y().required("Requested by (lngUser) is required"),InvoiceDate:Le().required("Invoice date is required"),InvoiceNumber:D().required("Invoice number is required"),Total:Y().typeError("Total must be a number").positive("Total must be positive").required("Total is required"),Active:Bo().required("Active is required"),Remarks:D().nullable(),CreatedBy:D().required("Created by is required"),CreatedDate:Le().required("Created date is required"),ApprovalProgress:Y().min(0).required("Approval progress is required"),BudgetID:Y().required("Budget id is requeired"),ApprovalVersion:Y().required("Approval version is required")});const Qj="https://staging-engine.testthelink.online",SNe=[],df=B("subFunds/fetchSubFunds",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Qj}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Fb=B("subFunds/addSubFund",async(t,e)=>{try{const r=await fetch(`${Qj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),hI=B("subFunds/updateSubFund",async(t,e)=>{try{const r=await fetch(`${Qj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Bb=B("subFunds/deleteSubFund",async(t,e)=>{try{const r=await fetch(`${Qj}/subFunds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ANe=ve({name:"subFunds",initialState:{subFunds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(df.pending,e=>{e.isLoading=!0,e.error=null}).addCase(df.fulfilled,(e,r)=>{e.isLoading=!1,e.subFunds=Array.isArray(r.payload)?r.payload:[]}).addCase(df.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch sub funds",console.warn("Failed to fetch sub funds, using mock data.",e.error),e.subFunds=SNe}).addCase(Fb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds.push(r.payload)}).addCase(Fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add sub fund",console.error("Failed to add sub fund:",e.error)}).addCase(hI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subFunds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds[n]=r.payload)}).addCase(Bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds=e.subFunds.filter(n=>n.ID!==r.payload)}).addCase(Bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete sub fund",console.error("Failed to delete sub fund:",e.error)})}}),INe=ANe.reducer;function kNe(){ue();const[t,e]=w.useState(!1),[r,n]=w.useState(null),{budgets:a,isLoading:s}=V(m=>m.budget),i=[{id:1,budgetName:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{id:2,budgetName:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}],l=[{header:"Budget Name",accessorKey:"budgetName",enableSorting:!0},{header:"Fiscal Year",accessorKey:"fiscalYear",enableSorting:!0},{header:"Department",accessorKey:"department",enableSorting:!0},{header:"Sub-Department",accessorKey:"subDepartment"},{header:"Project",accessorKey:"project"},{header:"Total Amount",accessorKey:"totalAmount",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.totalAmount)},{header:"Balance",accessorKey:"balance",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.balance)},{header:"Status",accessorKey:"status",cell:({row:m})=>o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.original.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.original.status})}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{console.log("Delete record:",m)},f=async m=>{try{console.log(r?"Update record:":"Create record:",m),e(!1)}catch(h){console.error("Error saving record:",h)}};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Budget Management"}),o.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(ke,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Budget"]})]}),o.jsx("div",{className:"bg-white shadow rounded-lg",children:o.jsx(ye,{columns:l,data:i,isLoading:s,onEdit:u,onDelete:d})}),o.jsx(oe,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(GU,{initialData:r,onSubmit:f,onClose:()=>e(!1)})})]})}function TNe({fiscalYears:t=[],accLoading:e=!1,onView:r,onGenerateJournal:n,onExportExcel:a}){const s=w.useRef(null),i=le({fiscalYearID:D().required("Fiscal Year is required")}),l={fiscalYearID:""},c=(u,{setSubmitting:d})=>{const f=s.current;f==="view"?r(u):f==="generate"?n(u):f==="export"&&a(u),d(!1),s.current=null};return o.jsx(Re,{initialValues:l,validationSchema:i,onSubmit:c,validateOnMount:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,isSubmitting:y,setFieldValue:g})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:o.jsx(T,{type:"select",label:"Fiscal Year",name:"fiscalYearID",options:t.map(p=>({value:p.ID,label:p.Name})),value:u.fiscalYearID,onChange:m,onBlur:h,error:d.fiscalYearID,touched:f.fiscalYearID,required:!0})}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>s.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>s.current="export",children:"Export to Excel"})]})]})})}const ENe="https://staging-engine.testthelink.online",DNe={statementComparisons:[],isLoading:!1,error:null},qb=B("statementComparison/fetchStatementComparisons",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ENe}/statementOfComparison/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),$1=B("statementComparison/exportStatementComparisons",async t=>!0),YU=ve({name:"statementComparison",initialState:DNe,reducers:{resetStatementComparisonState:t=>{t.statementComparisons=[],t.error=null}},extraReducers:t=>{t.addCase(qb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qb.fulfilled,(e,r)=>{e.isLoading=!1,e.statementComparisons=r.payload}).addCase(qb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase($1.pending,e=>{e.isLoading=!0,e.error=null}).addCase($1.fulfilled,e=>{e.isLoading=!1}).addCase($1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetStatementComparisonState:PNe}=YU.actions,ONe=YU.reducer;function _Ne(){const t="https://staging-engine.testthelink.online",e=ue(),{statementComparisons:r,isLoading:n,error:a}=V(u=>u.statementComparison),{fiscalYears:s}=V(u=>u.fiscalYears);w.useEffect(()=>{e(PNe()),e(dn())},[e]);const i=[{key:"Type",header:"Type",sortable:!0},{key:"SubID",header:"Sub ID",sortable:!0},{key:"Subtype",header:"Subtype",sortable:!0},{key:"Category",header:"Category",sortable:!0},{key:"Chart of Accounts",header:"Chart of Accounts",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Original",header:"Original",sortable:!0,render:xt,className:"text-right"},{key:"Final",header:"Final",sortable:!0,className:"text-right",render:xt},{key:"Difference",header:"Difference",sortable:!0,className:"text-right"},{key:"Actual",header:"Actual",sortable:!0,className:"text-right"},{key:"Difference 2",header:"Difference 2",sortable:!0,className:"text-right"},{key:"Period",header:"Period",sortable:!0},{key:"Original_Sum",header:"Original_Sum",sortable:!0,render:xt},{key:"Final_Sum",header:"Final_Sum",sortable:!0,render:xt},{key:"Difference_Sum",header:"Difference_Sum",sortable:!0,render:xt},{key:"Actual_Sum",header:"Actual_Sum",sortable:!0,render:xt},{key:"Difference2_Sum",header:"Difference2_Sum",sortable:!0,render:xt},{key:"Municipality",header:"Municipality",sortable:!0},{key:"Province",header:"Province",sortable:!0}],l=async u=>{try{const d=await fetch(`${t}/statementOfComparison/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({fiscalYearID:u.fiscalYearID})});if(!d.ok)throw new Error("Server response was not ok");const f=await d.blob(),m=d.headers.get("Content-Disposition");let h="Statement_of_Comparison.xlsx";m&&m.includes("filename=")&&(h=m.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(f),g=document.createElement("a");g.href=y,g.download=h,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(y)}catch(d){console.error("Export failed:",d),q.error(d.message||"Failed to export")}},c=u=>{e(qb(u))};return o.jsxs("div",{className:"page-container",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{children:[o.jsx("h1",{children:"Statement of Comparison"}),o.jsx("p",{children:"Compare original, final, and actual budget amounts by fiscal year"})]})}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(TNe,{fiscalYears:s,onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-300 rounded-md",children:o.jsx("p",{className:"text-red-800",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:i,data:r,loading:n,pagination:!0})})]})}const $Ne=()=>{const t=ue(),[e,r]=w.useState(null),{Edit:n}=we(58);w.useEffect(()=>{t(Eo()),t(To()),t(ko()),t(Io()),s()},[t]);const a="https://staging-engine.testthelink.online",s=async()=>{try{const N=localStorage.getItem("token"),S=await fetch(`${a}/lgu`,{headers:{Authorization:`Bearer ${N}`}});if(!S.ok)throw new Error("Failed to fetch LGU data");const A=await S.json(),I=i(A);h(I),g(A.Logo||"https://placehold.co/150x150?text=LGU+Logo")}catch(N){console.error("Error loading LGU data:",N)}},i=N=>{var _,L,F,$;const{BarangayID:S,MunicipalityID:A,ProvinceID:I,RegionID:E}=N,k=(_=c.find(O=>O.ID===S))==null?void 0:_.Name,P=(L=u.find(O=>O.ID===A))==null?void 0:L.Name,R=(F=d.find(O=>O.ID===I))==null?void 0:F.Name,M=($=f.find(O=>O.ID===E))==null?void 0:$.Name;return N.BarangayName=k,N.MunicipalityName=P,N.ProvinceName=R,N.RegionName=M,N},l=async(N,S)=>{try{const A=localStorage.getItem("token"),I=new FormData;Object.entries(N).forEach(([P,R])=>{I.append(P,R)}),S&&I.append("Logo",S);const E=await fetch(`${a}/lgu/${N.ID}`,{method:"PUT",headers:{Authorization:`Bearer ${A}`},body:I});if(!E.ok)throw new Error("Failed to update LGU");const k=await E.json();return h(k),g(k.Logo||"https://placehold.co/150x150?text=LGU+Logo"),!0}catch(A){return console.error("Update error:",A),!1}},{barangays:c}=V(N=>N.barangays),{municipalities:u}=V(N=>N.municipalities),{provinces:d}=V(N=>N.provinces),{regions:f}=V(N=>N.regions),[m,h]=w.useState({ID:"1",Code:"",Name:"",TIN:"",RDO:"",StreetAddress:"",BarangayName:"",MunicipalityName:"",ProvinceName:"",RegionName:"",ZIPCode:"",PhoneNumber:"",EmailAddress:"",Website:""}),[y,g]=w.useState("https://placehold.co/150x150?text=LGU+Logo"),[p,b]=w.useState(!1),v=le({Code:D().required("Code is required"),Name:D().required("Name is required"),TIN:D().required("TIN is required").matches(/^\d{14}$/,"TIN must be exactly 14 digits"),RDO:D().required("RDO is required"),StreetAddress:D().required("Street Address is required"),BarangayID:D().required("Barangay is required"),MunicipalityID:D().required("Municipality is required"),ProvinceID:D().required("Province is required"),RegionID:D().required("Region is required"),ZIPCode:D().required("Zip Code is required"),PhoneNumber:Y().required("Phone Number is required"),EmailAddress:D().email("Invalid email").required("Email is required"),Website:D().required("Website is required")}),j=at({initialValues:m,validationSchema:v,enableReinitialize:!0,onSubmit:async(N,{setSubmitting:S})=>{await l(N,e)&&(b(!1),q.success("LGU updated successfully"),s()),S(!1)}}),C=N=>{var A;const S=(A=N.target.files)==null?void 0:A[0];if(S){r(S);const I=new FileReader;I.onloadend=()=>{g(I.result)},I.readAsDataURL(S)}},x=["001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","17A","17B","018","019","020","21A","21B","21C","022","23A","23B","024","25A","25B","026","027","028","029","030","031","032","033","034","035","036","037","038","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","53A","53B","54A","54B","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","93A","93B","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113A","113B","114","115"].map((N,S)=>({ID:S+1,Name:N}));return o.jsxs("div",{className:"sm:py-6 sm:px-4",children:[o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"LGU Maintenance"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Manage Local Government Unit information"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(aV,{className:"h-5 w-5 mr-2 text-blue-600"}),o.jsx("h2",{className:"text-lg font-semibold",children:"LGU Information"})]}),n&&!p&&o.jsx("button",{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors w-full sm:w-auto text-center",children:"Edit Information"})]}),o.jsxs("div",{className:"p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("img",{src:y,className:"h-[150px] w-[150px] rounded-full object-cover",alt:"LGU Logo"}),p&&o.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"mt-2 w-full"})]}),p?o.jsxs("form",{onSubmit:j.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"LGU Code",name:"Code",value:j.values.Code,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.Code,touched:j.touched.Code,required:!0}),o.jsx(T,{label:"LGU Name",name:"Name",value:j.values.Name,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.Name,touched:j.touched.Name,required:!0}),o.jsx(T,{label:"TIN",name:"TIN",value:j.values.TIN,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.TIN,touched:j.touched.TIN,required:!0}),o.jsx(T,{label:"RDO",name:"RDO",type:"select",options:x.map(N=>({value:N.ID,label:N.Name})),value:j.values.RDO,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.RDO,touched:j.touched.RDO,required:!0}),o.jsx(T,{label:"Street Address",name:"StreetAddress",value:j.values.StreetAddress,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.StreetAddress,touched:j.touched.StreetAddress,required:!0}),o.jsx(T,{label:"Barangay",name:"BarangayID",type:"select",value:j.values.BarangayID,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.BarangayID,touched:j.touched.BarangayID,options:c.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(T,{label:"Municipality",name:"MunicipalityID",type:"select",value:j.values.MunicipalityID,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.MunicipalityID,touched:j.touched.MunicipalityID,options:u.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(T,{label:"Province",name:"ProvinceID",type:"select",value:j.values.ProvinceID,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.ProvinceID,touched:j.touched.ProvinceID,options:d.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(T,{label:"Region",name:"RegionID",type:"select",value:j.values.RegionID,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.RegionID,touched:j.touched.RegionID,options:f.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(T,{label:"Zip Code",name:"ZIPCode",value:j.values.ZIPCode,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.ZIPCode,touched:j.touched.ZIPCode,required:!0}),o.jsx(T,{label:"Mobile Number",name:"PhoneNumber",value:j.values.PhoneNumber,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.PhoneNumber,touched:j.touched.PhoneNumber,required:!0}),o.jsx(T,{label:"Email",name:"EmailAddress",type:"email",value:j.values.EmailAddress,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.EmailAddress,touched:j.touched.EmailAddress,required:!0}),o.jsx(T,{label:"Website",name:"Website",value:j.values.Website,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.Website,touched:j.touched.Website,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:()=>{j.resetForm(),b(!1)},className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:j.isSubmitting,children:j.isSubmitting?"Saving...":"Save"})]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({Code:"LGU Code",Name:"LGU Name",TIN:"TIN",RDO:"RDO",StreetAddress:"Street Address",BarangayName:"Barangay",MunicipalityName:"Municipality",ProvinceName:"Province",RegionName:"Region",ZIPCode:"ZIP Code",PhoneNumber:"Phone Number",EmailAddress:"Email Address",Website:"Website"}).map(([N,S])=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:S}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m[N]})]},N))})]})]})]})},RNe=({formData:t,handleInputChange:e,handleSave:r,onCancel:n,isEdit:a,handleFileUpload:s,handleRemoveAttachment:i})=>o.jsxs("div",{className:" sm:p-4 space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"I. Applicant Session"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(T,{label:"Applicant Type",name:"applicantType",type:"radio-group",options:[{value:"new",label:"New"},{value:"renewal",label:"Renewal"}],value:t.applicantType,onChange:l=>e("applicantType",l)}),o.jsx(T,{label:"Mode of Payment",name:"modeOfPayment",type:"radio-group",options:[{value:"annually",label:"Annually"},{value:"semi-annually",label:"Semi-Annually"},{value:"quarterly",label:"Quarterly"}],value:t.modeOfPayment,onChange:l=>e("modeOfPayment",l)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(T,{label:"Date of Application",name:"dateOfApplication",type:"date",value:t.dateOfApplication,onChange:l=>e("dateOfApplication",l)}),o.jsx(T,{label:"DTI/SEC/CDA Registration No.",name:"dtiSecCdaRegistrationNo",type:"text",value:t.dtiSecCdaRegistrationNo,onChange:l=>e("dtiSecCdaRegistrationNo",l),placeholder:"Enter registration number"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(T,{label:"TIN No.",name:"tinNo",type:"text",value:t.tinNo,onChange:l=>e("tinNo",l),placeholder:"Enter TIN number"}),o.jsx(T,{label:"DTI/SEC/CDA Registration Date",name:"dtiSecCdaRegistrationDate",type:"date",value:t.dtiSecCdaRegistrationDate,onChange:l=>e("dtiSecCdaRegistrationDate",l)})]}),o.jsx(T,{label:"Type of Business",name:"typeOfBusiness",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"cooperative",label:"Cooperative"}],value:t.typeOfBusiness,onChange:l=>e("typeOfBusiness",l)}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Amendment"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"From",name:"amendmentFrom",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentFrom,onChange:l=>e("amendmentFrom",l)}),o.jsx(T,{label:"To",name:"amendmentTo",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentTo,onChange:l=>e("amendmentTo",l)})]})]}),o.jsx(T,{label:"Are you enjoying tax incentive from any Government Entity?",name:"taxIncentiveFromGovEntity",type:"radio-group",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:t.taxIncentiveFromGovEntity,onChange:l=>e("taxIncentiveFromGovEntity",l),className:"mt-4"})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Name of Taxpayer/Registrant"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(T,{label:"Last Name",name:"lastName",type:"text",value:t.lastName,onChange:l=>e("lastName",l),placeholder:"Enter last name"}),o.jsx(T,{label:"First Name",name:"firstName",type:"text",value:t.firstName,onChange:l=>e("firstName",l),placeholder:"Enter first name"}),o.jsx(T,{label:"Middle Name",name:"middleName",type:"text",value:t.middleName,onChange:l=>e("middleName",l),placeholder:"Enter middle name"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(T,{label:"Business Name",name:"businessName",type:"text",value:t.businessName,onChange:l=>e("businessName",l),placeholder:"Enter business name"}),o.jsx(T,{label:"Trade Name/Franchise",name:"tradeNameFranchise",type:"text",value:t.tradeNameFranchise,onChange:l=>e("tradeNameFranchise",l),placeholder:"Enter trade name or franchise"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"II. Other Information"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(T,{label:"Region",name:"businessRegion",type:"select",value:t.businessRegion,onChange:l=>e("businessRegion",l),options:[{value:"",label:"Select Region"},{value:"REGION II (CAGAYAN VALLEY)",label:"REGION II (CAGAYAN VALLEY)"},{value:"REGION I (ILOCOS REGION)",label:"REGION I (ILOCOS REGION)"},{value:"REGION III (CENTRAL LUZON)",label:"REGION III (CENTRAL LUZON)"},{value:"NCR",label:"NCR"}]}),o.jsx(T,{label:"Province",name:"businessProvince",type:"select",value:t.businessProvince,onChange:l=>e("businessProvince",l),options:[{value:"",label:"Select Province"},{value:"BATANES",label:"BATANES"},{value:"CAGAYAN",label:"CAGAYAN"},{value:"ISABELA",label:"ISABELA"},{value:"NUEVA VIZCAYA",label:"NUEVA VIZCAYA"}]}),o.jsx(T,{label:"Municipality",name:"businessMunicipality",type:"select",value:t.businessMunicipality,onChange:l=>e("businessMunicipality",l),options:[{value:"",label:"Select Municipality"},{value:"BASCO (Capital)",label:"BASCO (Capital)"},{value:"ITBAYAT",label:"ITBAYAT"},{value:"IVANA",label:"IVANA"},{value:"MAHATAO",label:"MAHATAO"}]}),o.jsx(T,{label:"Barangay",name:"businessBarangay",type:"select",value:t.businessBarangay,onChange:l=>e("businessBarangay",l),options:[{value:"",label:"Select Barangay"},{value:"San Antonio",label:"San Antonio"},{value:"Kayhuvokan",label:"Kayhuvokan"},{value:"Nakanmuan",label:"Nakanmuan"},{value:"Chanarian",label:"Chanarian"}]})]}),o.jsx(T,{label:"Street Address",name:"businessStreetAddress",type:"text",value:t.businessStreetAddress,onChange:l=>e("businessStreetAddress",l),placeholder:"Enter street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(T,{label:"Postal Code",name:"postalCode",type:"text",value:t.postalCode,onChange:l=>e("postalCode",l),placeholder:"Enter postal code"}),o.jsx(T,{label:"Email Address",name:"emailAddress",type:"email",value:t.emailAddress,onChange:l=>e("emailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsx(T,{label:"Telephone No.",name:"telephoneNo",type:"text",value:t.telephoneNo,onChange:l=>e("telephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(T,{label:"Mobile No.",name:"mobileNo",type:"text",value:t.mobileNo,onChange:l=>e("mobileNo",l),placeholder:"Enter mobile number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Owner's Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(T,{label:"Street Address",name:"ownerStreetAddress",type:"text",value:t.ownerStreetAddress,onChange:l=>e("ownerStreetAddress",l),placeholder:"Street address"}),o.jsx(T,{label:"Barangay",name:"ownerBarangay",type:"text",value:t.ownerBarangay,onChange:l=>e("ownerBarangay",l),placeholder:"Barangay"}),o.jsx(T,{label:"Municipality",name:"ownerMunicipality",type:"text",value:t.ownerMunicipality,onChange:l=>e("ownerMunicipality",l),placeholder:"Municipality"}),o.jsx(T,{label:"Region",name:"ownerRegion",type:"text",value:t.ownerRegion,onChange:l=>e("ownerRegion",l),placeholder:"Region"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(T,{label:"Postal Code",name:"ownerPostalCode",type:"text",value:t.ownerPostalCode,onChange:l=>e("ownerPostalCode",l),placeholder:"Enter postal code"}),o.jsx(T,{label:"Email Address",name:"ownerEmailAddress",type:"email",value:t.ownerEmailAddress,onChange:l=>e("ownerEmailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(T,{label:"Telephone No.",name:"ownerTelephoneNo",type:"text",value:t.ownerTelephoneNo,onChange:l=>e("ownerTelephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(T,{label:"Mobile No.",name:"ownerMobileNo",type:"text",value:t.ownerMobileNo,onChange:l=>e("ownerMobileNo",l),placeholder:"Enter mobile number"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"In Case of emergency, provide name of contact person"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(T,{label:"Contact Person",name:"emergencyContactPerson",type:"text",value:t.emergencyContactPerson,onChange:l=>e("emergencyContactPerson",l),placeholder:"Enter contact person name"}),o.jsx(T,{label:"Telephone/Mobile No.",name:"emergencyContactNumber",type:"text",value:t.emergencyContactNumber,onChange:l=>e("emergencyContactNumber",l),placeholder:"Enter contact number"}),o.jsx(T,{label:"Email Address",name:"emergencyContactEmail",type:"email",value:t.emergencyContactEmail,onChange:l=>e("emergencyContactEmail",l),placeholder:"Enter email address"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(T,{label:"Business Area (in sqm)",name:"businessArea",type:"number",value:t.businessArea,onChange:l=>e("businessArea",l),placeholder:"Enter business area"}),o.jsx(T,{label:"Total Employees in Establishment",name:"totalEmployees",type:"number",value:t.totalEmployees,onChange:l=>e("totalEmployees",l),placeholder:"Enter total employees"}),o.jsx(T,{label:"No. of Employees Residing with LGLI",name:"employeesResidingWithLgli",type:"number",value:t.employeesResidingWithLgli,onChange:l=>e("employeesResidingWithLgli",l),placeholder:"Enter number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Note: Fill up Only if Business Place is Rented"}),o.jsx(T,{label:"Lessor's Full Name",name:"lessorFullName",type:"text",value:t.lessorFullName,onChange:l=>e("lessorFullName",l),placeholder:"Enter lessor's full name"}),o.jsx(T,{label:"Lessor's Full Address",name:"lessorAddress",type:"text",value:t.lessorAddress,onChange:l=>e("lessorAddress",l),placeholder:"Enter lessor's address",className:"mt-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(T,{label:"Lessor's Telephone/Mobile No.",name:"lessorContactNumber",type:"text",value:t.lessorContactNumber,onChange:l=>e("lessorContactNumber",l),placeholder:"Enter contact number"}),o.jsx(T,{label:"Lessor's Email Address",name:"lessorEmail",type:"email",value:t.lessorEmail,onChange:l=>e("lessorEmail",l),placeholder:"Enter email address"})]}),o.jsx(T,{label:"Monthly Rental",name:"monthlyRental",type:"number",value:t.monthlyRental,onChange:l=>e("monthlyRental",l),placeholder:"Enter monthly rental amount",className:"mt-4"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"III. Business Activity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(T,{label:"Line of Business",name:"lineOfBusiness",type:"text",value:t.lineOfBusiness,onChange:l=>e("lineOfBusiness",l),placeholder:"Enter line of business"}),o.jsx(T,{label:"No. Units",name:"numberOfUnits",type:"number",value:t.numberOfUnits,onChange:l=>e("numberOfUnits",l),placeholder:"Enter number of units"}),o.jsx(T,{label:"Capitalization",name:"capitalization",type:"number",value:t.capitalization,onChange:l=>e("capitalization",l),placeholder:"Enter capitalization"}),o.jsx(T,{label:"Gross Sales",name:"grossSales",type:"number",value:t.grossSales,onChange:l=>e("grossSales",l),placeholder:"Enter gross sales"})]})]}),o.jsxs("div",{className:"pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"IV. Attachments"}),o.jsxs("div",{className:"flex items-center mb-4 gap-4 justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Add Attachment"}),o.jsx("input",{type:"file",onChange:s,className:"hidden",id:"fileUpload",multiple:!0}),o.jsx("button",{type:"button",onClick:()=>document.getElementById("fileUpload").click(),className:"btn btn-outline",children:"Add"})]}),o.jsx("div",{className:"space-y-2",children:t.attachments&&t.attachments.length>0?t.attachments.map((l,c)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsx("span",{className:"text-sm truncate",children:l.name}),o.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-500 hover:text-red-700",children:"Delete"})]},c)):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:r,className:"btn btn-primary",children:a?"Update Application":"Create Application"})]})]});function MNe(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),[a,s]=w.useState(""),{Add:i,Edit:l,Delete:c}=we(29),u=[{id:1,applicantType:"Renewal",modeOfPayment:"Annually",applicationDate:"1/13/2025",dtiSecCdaRegistration:"21447756",dtiRegistrationDate:"1/13/2025",businessName:"ABC Store",ownerName:"John Smith",status:"Active"},{id:2,applicantType:"New",modeOfPayment:"Semi-Annually",applicationDate:"1/14/2025",dtiSecCdaRegistration:"21447757",dtiRegistrationDate:"1/14/2025",businessName:"XYZ Restaurant",ownerName:"Jane Doe",status:"Pending"}],[d,f]=w.useState({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),m=[{key:"applicantType",header:"Applicant Type",sortable:!0},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"applicationDate",header:"Application Date",sortable:!0},{key:"dtiSecCdaRegistration",header:"DTI/SEC/CDA Registration",sortable:!0},{key:"status",header:"Status",sortable:!0,render:x=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x==="Active"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:x})}],h=[{icon:oV,title:"View",onClick:x=>p(x)},l&&{icon:ja,title:"Edit",onClick:x=>b(x)},c&&{icon:Ka,title:"Delete",onClick:x=>v(x)}],y=(x,N)=>{f(S=>({...S,[x]:N}))},g=()=>{n(null),f({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),e(!0)},p=x=>{n(x),e(!0)},b=x=>{n(x),e(!0)},v=x=>{console.log("Deleting permit:",x)},j=()=>{console.log("Saving form data:",d),e(!1)},C=u.filter(x=>x.businessName.toLowerCase().includes(a.toLowerCase())||x.ownerName.toLowerCase().includes(a.toLowerCase())||x.dtiSecCdaRegistration.includes(a));return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Business Permit Applications"}),o.jsx("p",{children:"Manage business permit applications and registrations"})]}),i&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full ",children:[o.jsx(nj,{className:"h-5 w-5 mr-2"}),"New Application"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:a,onChange:x=>s(x.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Search applications..."})}),o.jsx(ye,{columns:m,data:C,actions:h,pagination:!0})]})}),o.jsx(oe,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Business Application":"New Business Application",size:"xl",children:o.jsx(RNe,{formData:d,handleInputChange:y,handleSave:j,onCancel:()=>e(!1),isEdit:!!r})})]})}const LNe="https://staging-engine.testthelink.online",FNe=le().shape({payee:D().required("Payee is required"),amount:Y().required("Amount is required").positive("Amount must be positive"),date:Le().required("Date is required"),bank:D().required("Bank is required"),accountNumber:D().required("Account number is required"),accountName:D().required("Account name is required"),chequeType:D().required("Cheque type is required"),checkNumber:D().required("Check number is required"),brstn:D().required("BRSTN is required"),dv:D().required("DV is required"),signatory1:D().required("Signatory 1 is required"),signatory2:D().required("Signatory 2 is required").notOneOf([hl("signatory1")],"Signatories must be different"),Attachments:Yt()});function BNe(){var A,I,E;const[t,e]=w.useState([]),[r,n]=w.useState(null),[a,s]=w.useState([]),i=ue(),{banks:l,isLoading:c}=V(k=>k.banks),{employees:u,isLoading:d}=V(k=>k.employees),{Add:f,Edit:m,Delete:h,Print:y}=we(33),g=at({initialValues:{status:"Pending",payee:"",amount:"",date:new Date().toISOString().split("T")[0],bank:"",accountNumber:"",accountName:"",chequeType:"Single",particulars:"",checkNumber:"",brstn:"",dv:"",additionalInformation:"",signatory1:"",signatory2:"",Attachments:[]},validationSchema:FNe,onSubmit:async k=>{await j(k)}});w.useEffect(()=>{i(Ji()),i(un()),p()},[]);const p=async()=>{try{const k=await He("/chequeGenerator/checkList");s(k.data)}catch(k){throw console.error("Error fetching cheque list:",k),k}},b=(k,P,R)=>{const _=Array.from(k.target.files).map(L=>L);console.log(_,R),P("Attachments",[...R.Attachments,..._])},v=(k,P,R)=>{const M=[...R.Attachments];M.splice(k,1),P("Attachments",M)},j=async k=>{try{const P=new FormData;P.append("IsNew",r?"false":"true"),P.append("ID",(r==null?void 0:r.ID)||""),P.append("AddCondition","true"),P.append("DisbursementID",k.dv),P.append("BankID",k.bank),P.append("SignatoryType",k.chequeType),P.append("AccountNumber",k.accountNumber),P.append("AccountName",k.accountName),P.append("CheckNumber",k.checkNumber),P.append("BRSTN",k.brstn),P.append("CheckDate",k.date),P.append("Payee",k.payee),P.append("Amount",k.amount),P.append("Words",Qi(k.amount)),P.append("SignatoryOneID",k.signatory1),P.append("SignatoryTwoID",k.signatory2),P.append("Remarks",k.additionalInformation),P.append("OBR",k.obr||""),t.length>0?t.forEach((_,L)=>{_.ID?P.append(`Attachments[${L}].ID`,_.ID):P.append(`Attachments[${L}].File`,_)}):P.append("Attachments","[]");const R={headers:{"Content-Type":"multipart/form-data"}},M=await He.post("/chequeGenerator/save",P,R);if(M.data.error&&M.status!==200){q.error(M.data.error);return}q.success("Cheque saved successfully"),p(),x()}catch(P){throw console.error("Error saving cheque:",P),q.error("Failed to save cheque"),P}},C=k=>{n(k),g.setValues({status:k.Status,payee:k.Payee,amount:k.Amount,date:k.CheckDate,bank:k.BankID.toString(),accountNumber:k.AccountNumber,accountName:k.AccountName,chequeType:k.SignatoryType,particulars:k.Particulars||"",checkNumber:k.CheckNumber,brstn:k.BRSTN,dv:k.DisbursementID,additionalInformation:k.Remarks,obr:k.OBR||"",signatory1:k.SignatoryOneID.toString(),signatory2:k.SignatoryTwoID.toString(),Attachments:k.Attachments||[]})},x=()=>{n(null),g.resetForm(),e([])},N=[{key:"Status",header:"Status",sortable:!0,render:k=>o.jsx("span",{className:`px-2 py-1 text-xs rounded font-medium ${k==="Posted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:k})},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"Payee",header:"Payee",sortable:!0},{key:"Amount",header:"Amount",sortable:!0,render:k=>o.jsxs("span",{className:"font-medium",children:[" ",k?Number(k).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""]})},{key:"ApprovalProgress",header:"Approval Progress",sortable:!0},{key:"ApprovalVersion",header:"Approval Version",sortable:!0}],S=[m&&{icon:ja,title:"Edit",onClick:k=>C(k)}];return o.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Cheque Generator"}),o.jsx("p",{children:"Generate and print cheques"})]}),o.jsxs("div",{className:"flex gap-2 max-sm:w-full",children:[!r&&f&&o.jsxs("button",{type:"submit",onClick:g.handleSubmit,className:"btn btn-primary max-sm:w-full",disabled:g.isSubmitting,children:[o.jsx(ofe,{className:"h-5 w-5 mr-2"}),"Save"]}),r&&m&&o.jsxs("button",{type:"submit",onClick:g.handleSubmit,className:"btn btn-primary max-sm:w-full",disabled:g.isSubmitting,children:[o.jsx(lfe,{className:"h-5 w-5 mr-2"}),"Edit"]}),r&&y&&o.jsxs("button",{type:"button",onClick:()=>{console.log("Print")},className:"btn btn-primary max-sm:w-full",disabled:g.isSubmitting,children:[o.jsx(Zf,{className:"h-5 w-5 mr-2"}),"Print"]}),r&&o.jsx("button",{type:"button",onClick:()=>{console.log("Attachment")},className:"btn btn-primary max-sm:w-full",disabled:g.isSubmitting,children:"Attachment"}),r&&o.jsx("button",{type:"button",onClick:x,className:"btn btn-outline mr-2",children:"Cancel Edit"})]})]})}),o.jsx("form",{onSubmit:g.handleSubmit,children:o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Cheque Template"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(yt,{options:l.map(k=>({value:k.ID.toString(),label:k.Name})),label:"Bank",placeholder:"Select Bank",name:"bank",selectedValue:g.values.bank,onSelect:k=>g.setFieldValue("bank",k),error:g.touched.bank&&g.errors.bank,touched:g.touched.bank,required:!0})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Single",checked:g.values.chequeType==="Single",onChange:g.handleChange,className:"mr-2"}),"Single"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Double",checked:g.values.chequeType==="Double",onChange:g.handleChange,className:"mr-2"}),"Double"]})]}),g.touched.chequeType&&g.errors.chequeType&&o.jsx("div",{className:"text-red-500 text-sm",children:g.errors.chequeType})]}),o.jsx(T,{type:"text",label:"DV",value:g.values.dv,onChange:g.handleChange,name:"dv",error:g.touched.dv&&g.errors.dv,touched:g.touched.dv})]}),o.jsxs("div",{className:"my-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:k=>b(k,g.setFieldValue,g.values),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`},g.values.Attachments.length)]}),((I=(A=g==null?void 0:g.values)==null?void 0:A.Attachments)==null?void 0:I.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.values.Attachments.map((k,P)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:k.ID?o.jsx("a",{href:`${LNe}/uploads/${k.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:k.name||k.DataName}):k.name||k.DataName})]}),o.jsx("button",{type:"button",onClick:()=>v(P,g.setFieldValue,g.values),className:"text-red-500 hover:text-red-700",children:o.jsx(tr,{className:"h-4 w-4"})})]},P))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Cheque Details"}),o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:["Status: ",g.values.status]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(T,{type:"text",label:"Account Number",name:"accountNumber",value:g.values.accountNumber,onChange:g.handleChange,error:g.touched.accountNumber&&g.errors.accountNumber,touched:g.touched.accountNumber})}),o.jsx("div",{children:o.jsx(T,{type:"text",label:"Account Name",name:"accountName",value:g.values.accountName,onChange:g.handleChange,error:g.touched.accountName&&g.errors.accountName,touched:g.touched.accountName})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(T,{type:"text",label:"Check Number",name:"checkNumber",value:g.values.checkNumber,onChange:g.handleChange,error:g.touched.checkNumber&&g.errors.checkNumber,touched:g.touched.checkNumber})}),o.jsx("div",{children:o.jsx(T,{type:"text",label:"BRSTN",name:"brstn",value:g.values.brstn,onChange:g.handleChange,error:g.touched.brstn&&g.errors.brstn,touched:g.touched.brstn})})]}),o.jsx("div",{children:o.jsx(T,{type:"date",label:"Date",name:"date",value:g.values.date,onChange:g.handleChange,error:g.touched.date&&g.errors.date,touched:g.touched.date})}),o.jsx("div",{children:o.jsx(T,{type:"text",label:"Pay to the order of:",name:"payee",value:g.values.payee,onChange:g.handleChange,error:g.touched.payee&&g.errors.payee,touched:g.touched.payee})}),o.jsx("div",{children:o.jsx(T,{type:"text",label:"Amount",name:"amount",value:g.values.amount!==""&&!isNaN(g.values.amount)?Number(g.values.amount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",onChange:k=>{const P=k.target.value.replace(/\D/g,""),R=P?(parseInt(P,10)/100).toFixed(2):"";g.setFieldValue("amount",R)},step:"0.01",error:g.touched.amount&&g.errors.amount,touched:g.touched.amount})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount in Words:"}),o.jsx(T,{type:"text",value:Qi(g.values.amount),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Signatories"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(yt,{options:u==null?void 0:u.map(k=>({value:k.ID.toString(),label:`${k.FirstName} ${k.LastName}`})),label:"Signatory 1",placeholder:"Select signatory",name:"signatory1",selectedValue:g.values.signatory1,onSelect:k=>{if(k===g.values.signatory2){q.error("Signatory 1 cannot be the same as Signatory 2");return}g.setFieldValue("signatory1",k)},error:g.touched.signatory1&&g.errors.signatory1,touched:g.touched.signatory1,required:!0})}),o.jsx("div",{children:o.jsx(yt,{options:u==null?void 0:u.map(k=>({value:k.ID.toString(),label:`${k.FirstName} ${k.LastName}`})),label:"Signatory 2",placeholder:"Select signatory",name:"signatory2",selectedValue:g.values.signatory2,onSelect:k=>{if(k===g.values.signatory1){q.error("Signatory 2 cannot be the same as Signatory 1");return}g.setFieldValue("signatory2",k)},error:g.touched.signatory2&&g.errors.signatory2,touched:g.touched.signatory2,required:!0})}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-700",children:"Additional Info"}),o.jsx("textarea",{value:g.values.additionalInformation,name:"additionalInformation",onChange:g.handleChange,placeholder:"Additional information...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"})]})]})]})]})}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border mt-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:o.jsx("h2",{className:"text-lg font-semibold",children:"Check List"})}),o.jsx(ye,{columns:N,data:a,actions:S,loading:c||d,pagination:!0})]}),o.jsxs("div",{className:"mt-6 bg-white p-3 sm:p-6 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cheque Preview"}),o.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),o.jsx("p",{className:"font-medium",children:((E=l.find(k=>k.ID.toString()===g.values.bank))==null?void 0:E.Name)||"Select a bank"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),o.jsx("p",{className:"font-medium",children:g.values.date?new Date(g.values.date).toLocaleDateString():new Date().toLocaleDateString()})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),o.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:g.values.payee||"Enter payee name"})]}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),o.jsx("p",{className:"font-medium",children:g.values.amount?Qi(g.values.amount):"Enter amount"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),o.jsx("p",{className:"font-medium text-lg",children:g.values.amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(g.values.amount):"0.00"})]})]}),o.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Authorized Signature"})})})]})})]})]})}function qNe({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=le({ChartofAccountsID:D().required("Chart of Accounts is required"),CutOffDate:D().required("Cut Off Date is required"),FundID:D().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(Re,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:y,isSubmitting:g,setFieldValue:p})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4 gap-1",children:[o.jsx(yt,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:b=>p("ChartofAccountsID",b),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID,className:"w-full mb-3"}),o.jsx(T,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:y,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(T,{type:"select",label:"Fund",name:"FundID",options:t.map(b=>({value:b.ID,label:b.Name})),value:d.FundID,onChange:h,onBlur:y,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:g,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const VNe="https://staging-engine.testthelink.online",UNe={generalLedgers:[],isLoading:!1,error:null},Vb=B("generalLedger/fetchGeneralLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${VNe}/generalLedger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general ledgers:",r),e.rejectWithValue(r.message)}}),R1=B("generalLedger/exportGeneralLedgers",async t=>!0),KU=ve({name:"generalLedger",initialState:UNe,reducers:{resetGeneralLedgerState:t=>{t.generalLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Vb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalLedgers=r.payload}).addCase(Vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(R1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(R1.fulfilled,e=>{e.isLoading=!1}).addCase(R1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralLedgerState:zNe}=KU.actions,WNe=KU.reducer,HNe="https://staging-engine.testthelink.online";function GNe(){const t=ue(),{generalLedgers:e,isLoading:r,error:n}=V(d=>d.generalLedger),{funds:a}=V(d=>d.funds),{accounts:s}=V(d=>d.chartOfAccounts),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);w.useEffect(()=>{t(zNe()),t(Jt()),t(kr())},[t]);const l=[{key:"id",header:"ID",sortable:!0},{key:"ap_ar",header:"AP AR",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"invoice_number",header:"Invoice Number",sortable:!0},{key:"account_code_display",header:"Account Code Display",sortable:!0},{key:"account_name_display",header:"Account Name Display",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:d=>i(d),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],c=async d=>{try{const f=await fetch(`${HNe}/generalLedger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(d)});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let y="General_Ledger.xlsx";h&&h.includes("filename=")&&(y=h.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(m),p=document.createElement("a");p.href=g,p.download=y,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(g)}catch(f){console.error("Export failed:",f),q.error(f.message||"Failed to export general ledger")}},u=d=>{t(Vb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Ledger"}),o.jsx("p",{children:"Generate general ledger reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(qNe,{funds:a,accountOptions:s.map(d=>({value:d.ID,label:`${d.AccountCode} - ${d.Name}`})),onExportExcel:c,onView:u,onClose:()=>{}})}),n&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:n})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:l,data:e,loading:r,pagination:!0})})]})}function YNe({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=le({ChartofAccountsID:D().required("Chart of Accounts is required"),CutOffDate:D().required("Cut Off Date is required"),FundID:D().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(Re,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:y,isSubmitting:g,setFieldValue:p})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1 sm:gap-4",children:[o.jsx(yt,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:b=>p("ChartofAccountsID",b),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID}),o.jsx(T,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:y,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(T,{type:"select",label:"Fund",name:"FundID",options:t.map(b=>({value:b.ID,label:b.Name})),value:d.FundID,onChange:h,onBlur:y,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:g,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const KNe="https://staging-engine.testthelink.online",JNe={subsidiaryLedgers:[],isLoading:!1,error:null},Ub=B("subsidiaryLedger/fetchSubsidiaryLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${KNe}/subsidiaryLeadger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching subsidiary ledger:",r),e.rejectWithValue(r.message)}}),M1=B("subsidiaryLedger/exportSubsidiaryLedgers",async t=>!0),JU=ve({name:"subsidiaryLedger",initialState:JNe,reducers:{resetSubsidiaryLedgerState:t=>{t.subsidiaryLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Ub.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ub.fulfilled,(e,r)=>{e.isLoading=!1,e.subsidiaryLedgers=r.payload}).addCase(Ub.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(M1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(M1.fulfilled,e=>{e.isLoading=!1}).addCase(M1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetSubsidiaryLedgerState:XNe}=JU.actions,QNe=JU.reducer;function ZNe(){const t="https://staging-engine.testthelink.online",e=ue(),{subsidiaryLedgers:r,isLoading:n,error:a}=V(f=>f.subsidiaryLedger),{funds:s}=V(f=>f.funds),{accounts:i}=V(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);w.useEffect(()=>{e(XNe()),e(Jt()),e(kr())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=localStorage.getItem("token"),h=await fetch(`${t}/subsidiaryLeadger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify(f)});if(!h.ok)throw new Error("Server response was not ok");const y=await h.blob(),g=h.headers.get("Content-Disposition");let p="Subsidiary_Ledger.xlsx";g&&g.includes("filename=")&&(p=g.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(y),v=document.createElement("a");v.href=b,v.download=p,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(b)}catch(m){console.error("Export failed:",m),q.error(m.message||"Failed to export subsidiary ledger")}},d=f=>{e(Ub(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Subsidiary Ledger"}),o.jsx("p",{children:"Generate subsidiary ledger reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(YNe,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:c,data:r,loading:n,pagination:!0})})]})}function e1e({onView:t,onGenerateJournal:e,onExportExcel:r}){const n=w.useRef(null),a=le({year:D().required("Year is required")}),s={year:new Date().getFullYear()-1},i=(l,{setSubmitting:c})=>{const u=n.current;u==="view"?t(l):u==="generate"?e(l):u==="export"&&r(l),c(!1),n.current=null};return o.jsx(Re,{initialValues:s,validationSchema:a,onSubmit:i,validateOnMount:!0,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m,setFieldValue:h})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:o.jsx(T,{label:"Year",name:"year",type:"number",value:l.year,onChange:d,onBlur:f,error:c.year,touched:u.year,required:!0})}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 max-sm:flex-col  gap-4",children:[o.jsx("button",{type:"submit",className:"btn btn-primary ",disabled:m,onClick:()=>n.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary text-center",disabled:m,children:"Generate FSP"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:m,onClick:()=>n.current="export",children:"Export to Excel"})]})]})})}const t1e="https://staging-engine.testthelink.online",r1e={financialStatements:[],isLoading:!1,error:null},zb=B("financialStatement/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${t1e}/financialStatementsReports/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching financial statements:",r),e.rejectWithValue(r.message)}}),L1=B("financialStatement/exportFinancialStatements",async t=>!0),XU=ve({name:"financialStatement",initialState:r1e,reducers:{resetFinancialStatementState:t=>{t.financialStatements=[],t.error=null}},extraReducers:t=>{t.addCase(zb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zb.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload}).addCase(zb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(L1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(L1.fulfilled,e=>{e.isLoading=!1}).addCase(L1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetFinancialStatementState:n1e}=XU.actions,a1e=XU.reducer;function s1e(){const t="https://staging-engine.testthelink.online",e=ue(),{financialStatements:r,isLoading:n,error:a}=V(u=>u.financialStatementsReports);w.useEffect(()=>{e(n1e())},[e]);const s=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),i=[{key:"Type",header:"Type",sortable:!0},{key:"Term",header:"Term",sortable:!0},{key:"SubType",header:"Sub Type",sortable:!0},{key:"Notes",header:"Notes",sortable:!0},{key:"Values",header:"Values",sortable:!0,render:u=>s(u),className:"text-right"},{key:"Comparison",header:"Comparison",sortable:!0,render:u=>s(u),className:"text-right"}],l=async u=>{try{const d=localStorage.getItem("token"),f=await fetch(`${t}/financialStatementsReports/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({year:u.year})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let y="Consolidated_Statement_of_Financial_Position.xlsx";h&&h.includes("filename=")&&(y=h.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(m),p=document.createElement("a");p.href=g,p.download=y,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(g)}catch(d){console.error("Export failed:",d),q.error(d.message||"Failed to export")}},c=u=>{e(zb(u))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Consolidated Comparison"}),o.jsx("p",{children:"Generate consolidated comparison reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(e1e,{onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:i,data:r,loading:n,pagination:!0})})]})}const bR="https://staging-engine.testthelink.online";function xR(){const[t,e]=w.useState(""),[r,n]=w.useState(""),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState([]),[m,h]=w.useState(!1),y=ue(),{funds:g}=V(A=>A.funds),{departments:p}=V(A=>A.departments),{fiscalYears:b}=V(A=>A.fiscalYears);w.useEffect(()=>{y(Jt()),y(or()),y(dn())},[y]);const v=[{key:"Name",header:"Name",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Appropriated",header:"Appropriation",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Adjustments",header:"Adjustments",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Allotments",header:"Allotments",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Obligations",header:"Obligations",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Appropriation Balance",header:"Appropriation Balance",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Allotment Balance",header:"Allotment Balance",sortable:!0,render:A=>j(A),className:"text-right"}],j=A=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(A),C=()=>({startDate:t,endDate:r,fiscalYearID:a,fundsID:i,departmentID:c}),x=async()=>{if(!N()){q.error("Please select all filters");return}try{h(!0);const A=await Xe.post(`${bR}/budgetReport/view`,C(),{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});f(A.data||[])}catch{q.error("Failed to fetch data")}finally{h(!1)}},N=()=>t&&r&&a&&i&&c,S=async()=>{if(!N()){q.error("Please select all filters");return}try{const A=await Xe.post(`${bR}/budgetReport/exportExcel`,C(),{responseType:"blob",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),I=new Blob([A.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),E=window.URL.createObjectURL(I),k=document.createElement("a");k.href=E,k.download="Budget_Report.xlsx",document.body.appendChild(k),k.click(),document.body.removeChild(k)}catch{q.error("Export failed")}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Reports"}),o.jsx("p",{children:"View and generate budget utilization reports"})]}),o.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:o.jsxs("button",{onClick:S,className:"btn btn-outline  max-sm:w-full ",children:[o.jsx(m3,{className:"h-5 w-5 mr-2"})," Export"]})})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(T,{label:"Start Date",name:"startDate",type:"date",value:t,required:!0,onChange:A=>e(A.target.value)})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(T,{label:"End Date",name:"endDate",type:"date",value:r,required:!0,onChange:A=>n(A.target.value)})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(T,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:a,required:!0,onChange:A=>s(A.target.value),options:b.map(A=>({label:A.Name,value:A.ID}))})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(T,{label:"Fund",name:"fundsID",type:"select",value:i,required:!0,onChange:A=>l(A.target.value),options:[{label:"All Funds",value:"%"},...g.map(A=>({label:A.Name,value:A.ID}))]})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(T,{label:"Department",name:"departmentID",type:"select",value:c,required:!0,onChange:A=>u(A.target.value),options:[{label:"All Departments",value:"%"},...p.map(A=>({label:A.Name,value:A.ID}))]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:x,children:"View"})})]}),o.jsx("div",{className:"mt-8",children:o.jsx(ye,{columns:v,data:d,pagination:!0,loading:m})})]})}function o1e(){const[t,e]=w.useState({startDate:"2024-01-01",endDate:"2024-01-31",year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),formType:"2307",payeeType:"vendor",vendor:"1"}),{Print:r}=we(16),n=[{value:"1",label:"ABC Office Supplies"},{value:"2",label:"XYZ Construction"},{value:"3",label:"Tech Solutions Inc."},{value:"4",label:"Global Logistics"},{value:"5",label:"Premium Services Co."}],a=[{value:"101",label:"Juan Dela Cruz"},{value:"102",label:"Maria Santos"},{value:"103",label:"Pedro Reyes"},{value:"104",label:"Ana Lopez"},{value:"105",label:"Luis Garcia"}],s=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d),i=[{id:1,date:"2024-01-15",reference:"DV-2024-01-0015",description:"Payment for office supplies",grossAmount:5e4,taxRate:.02,taxWithheld:1e3,netAmount:49e3},{id:2,date:"2024-01-20",reference:"DV-2024-01-0023",description:"Payment for IT equipment",grossAmount:1e5,taxRate:.02,taxWithheld:2e3,netAmount:98e3},{id:3,date:"2024-01-25",reference:"DV-2024-01-0032",description:"Payment for maintenance services",grossAmount:75e3,taxRate:.02,taxWithheld:1500,netAmount:73500},{id:4,date:"2024-01-28",reference:"DV-2024-01-0041",description:"Payment for office furniture",grossAmount:12e4,taxRate:.02,taxWithheld:2400,netAmount:117600}],l=[{key:"date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"reference",header:"Reference",sortable:!0,className:"font-medium text-neutral-900"},{key:"description",header:"Description",sortable:!0},{key:"grossAmount",header:"Gross Amount",sortable:!0,render:d=>s(d),className:"text-right"},{key:"taxRate",header:"Tax Rate",sortable:!0,render:d=>`${(d*100).toFixed(2)}%`,className:"text-right"},{key:"taxWithheld",header:"Tax Withheld",sortable:!0,render:d=>s(d),className:"text-right"},{key:"netAmount",header:"Net Amount",sortable:!0,render:d=>s(d),className:"text-right"}],u=(()=>{if(t.payeeType==="employee")return{tin:"987-654-321-000",name:(a.find(f=>f.value===t.vendor)||a[0]).label,address:"Employee Address, City",zipCode:"1000"};{const d=n.find(f=>f.value===t.vendor)||n[0];return{tin:"123-456-789-000",name:d.label,address:`${d.label} Street, Business District`,zipCode:"2000"}}})();return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-[200px]",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"BIR Reports"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Generate BIR forms and reports"})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap w-full sm:w-auto gap-2 sm:justify-end",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(m3,{className:"h-5 w-5 mr-2"}),"Export"]}),r&&o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(cl,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(T,{label:"From Date",name:"startDate",type:"date",value:t.startDate,onChange:d=>e({...t,startDate:d.target.value})}),o.jsx(T,{label:"To Date",name:"endDate",type:"date",value:t.endDate,onChange:d=>e({...t,endDate:d.target.value})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payee Type"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"employee",checked:t.payeeType==="employee",onChange:d=>e({...t,payeeType:d.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Employee"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"vendor",checked:t.payeeType==="vendor",onChange:d=>e({...t,payeeType:d.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Vendor"})]})]})]}),o.jsx(T,{label:t.payeeType==="employee"?"Employee":"Vendor",name:"vendor",type:"select",value:t.vendor,onChange:d=>e({...t,vendor:d.target.value}),options:t.payeeType==="employee"?a:n})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Generating report with filters:",t)},children:"Generate Report"})})]}),t.formType==="2307"&&o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"text-center space-y-2 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Certificate of Creditable Tax Withheld at Source"}),o.jsx("h3",{className:"text-lg font-semibold",children:"BIR Form No. 2307"}),o.jsxs("p",{className:"text-sm text-neutral-600",children:["For the period from"," ",new Date(t.startDate).toLocaleDateString()," to"," ",new Date(t.endDate).toLocaleDateString()]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payor Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," 000-123-456-789"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," Local Government Unit of Sample City"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," City Hall Building, Main Street"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," 4100"]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payee Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," ",u.tin]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," ",u.name]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," ",u.address]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," ",u.zipCode]})]})]})]}),o.jsx(ye,{columns:l,data:i,pagination:!0}),o.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Gross Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((d,f)=>d+f.grossAmount,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Tax Withheld"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((d,f)=>d+f.taxWithheld,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Net Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((d,f)=>d+f.netAmount,0))})]})]})}),o.jsxs("div",{className:"mt-6 card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Certification"}),o.jsx("p",{className:"text-sm mb-4",children:"I/We certify under penalty of perjury that this certificate has been made in good faith, verified by me/us, and to the best of my/our knowledge and belief, is true and correct."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Prepared by:"}),o.jsx("p",{className:"font-medium",children:"Juan Dela Cruz"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Accounting Staff"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Certified correct by:"}),o.jsx("p",{className:"font-medium",children:"Maria Santos"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Treasurer"})]})]})]})]})]})}const vR="https://staging-engine.testthelink.online",F1={view:!1,add:!1,edit:!1,delete:!1,print:!1,mayor:!1};function i1e(){const t=ue(),{userroles:e,isLoading:r,error:n}=V(g=>g.userroles),{Add:a}=we(83),s=V(g=>g.modules.modules),[i,l]=w.useState(null),[c,u]=w.useState({});w.useEffect(()=>{t(Ao()),t(Gi())},[t]),w.useEffect(()=>{e.length>0&&!i&&l(e[0])},[e]);const d=async()=>{try{const g=await fetch(`${vR}/moduleAccess/${i.ID}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),p=await g.json();if(!g.ok)throw new Error(p.message||"Failed to fetch access");const b={};p.forEach(j=>{b[j.ModuleID]={id:j.ID,view:!!j.View,add:!!j.Add,edit:!!j.Edit,delete:!!j.Delete,print:!!j.Print,mayor:!!j.Mayor}});const v={};s.forEach(j=>{v[j.ID]=b[j.ID]||{...F1}}),u(v)}catch(g){console.error("Error loading module access:",g.message)}};w.useEffect(()=>{!(i!=null&&i.ID)||s.length===0||d()},[i,s]);const f=(g,p)=>{u(b=>({...b,[g]:{...b[g],[p]:!b[g][p]}}))},m=g=>{const p={};s.forEach(b=>{p[b.ID]={...c[b.ID]||F1,view:g,add:g,edit:g,delete:g,print:g,mayor:g}}),u(p)},h=(g,p)=>{const b={...c};s.forEach(v=>{b[v.ID]={...b[v.ID]||F1,[g]:p}}),u(b)},y=async()=>{if(!(i!=null&&i.ID))return;const g=Object.entries(c).map(([p,b])=>({id:b.id||null,ModuleID:parseInt(p),View:b.view?1:0,Add:b.add?1:0,Edit:b.edit?1:0,Delete:b.delete?1:0,Print:b.print?1:0,Mayor:b.mayor?1:0}));try{const p=await fetch(`${vR}/moduleAccess`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({UserAccessID:i.ID,modules:g})});if(!p.ok){const b=await p.json();throw new Error(b.message||"Failed to save permissions")}q.success("Permissions saved successfully!")}catch(p){console.error("Save failed:",p.message),q.error("Error saving permissions.")}};return o.jsxs("div",{className:"sm:p-4 space-y-4",children:[o.jsxs("header",{className:"page-header space-y-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Access"}),o.jsx("p",{className:"text-gray-600",children:"Manage user roles and module access."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search role...",className:"border px-3 py-2 rounded-md w-full sm:w-60"}),a&&o.jsx("button",{className:"btn btn-primary flex items-center",onClick:y,children:"Save"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsxs("div",{className:"lg:col-span-3 bg-white border rounded shadow",children:[o.jsx("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:"Roles"}),r?o.jsx("div",{className:"p-4 text-center",children:"Loading roles..."}):n?o.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"No roles found."}):o.jsx("ul",{children:e.map(g=>o.jsx("li",{onClick:()=>l(g),className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${(i==null?void 0:i.ID)===g.ID?"bg-blue-200 font-semibold":""}`,children:g.Description},g.ID))})]}),o.jsxs("div",{className:"lg:col-span-9 bg-white border rounded shadow overflow-x-auto",children:[o.jsxs("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:["Permissions for: ",(i==null?void 0:i.Description)||""]}),o.jsxs("table",{className:"min-w-[700px] w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Module"}),["view","add","edit","delete","print","mayor"].map(g=>o.jsx("th",{className:"px-2 capitalize text-center",children:o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("span",{children:g})})},g))]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("td",{className:"px-4 py-1 font-medium",children:"Select All"}),["view","add","edit","delete","print","mayor"].map(g=>o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:s.every(p=>{var b;return(b=c[p.ID])==null?void 0:b[g]}),onChange:p=>h(g,p.target.checked),className:"accent-blue-600"})},`select-all-${g}`))]}),s.map(g=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-1",children:g.Description}),["view","add","edit","delete","print","mayor"].map(p=>{var b;return o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:((b=c[g.ID])==null?void 0:b[p])||!1,onChange:()=>f(g.ID,p),className:"accent-blue-600"})},p)})]},g.ID))]})]}),o.jsxs("div",{className:"p-2 border-t space-x-2",children:[o.jsx("button",{onClick:()=>m(!0),className:"btn btn-outline",children:"Select All"}),o.jsx("button",{onClick:()=>m(!1),className:"btn btn-outline",children:"Deselect All"})]})]})]})]})}const l1e=()=>{const t=Wm(),[e,r]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""});ue();const[n,a]=w.useState({current:!1,new:!1,confirm:!1}),s=u=>{r(d=>({...d,[u.target.name]:u.target.value}))},i=u=>{a(d=>({...d,[u]:!d[u]}))},l=async u=>{if(u.preventDefault(),!e.currentPassword||!e.newPassword||!e.confirmPassword){q.error("Please fill out all fields");return}if(e.newPassword!==e.confirmPassword){q.error("New passwords do not match");return}try{await new Promise(d=>setTimeout(d,1e3)),q.success("Password updated successfully!"),t("/dashboard")}catch(d){q.error(d.message)}finally{r({currentPassword:"",newPassword:"",confirmPassword:""})}},c=(u,d,f)=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:n[f]?"text":"password",name:d,value:e[d],onChange:s,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(f),className:"absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-gray-700",children:n[f]?o.jsx(Xde,{size:18}):o.jsx(oV,{size:18})})]})]});return o.jsxs("div",{className:"p-6 max-w-3xl mx-auto animate-fade-in bg-white rounded-lg shadow-sm border border-gray-100",children:[o.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition",children:[o.jsx(Hde,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),o.jsx("h1",{className:"text-3xl font-bold text-blue-800 mb-4",children:"Change Password"}),o.jsxs("form",{className:"space-y-4",onSubmit:l,children:[c("Current Password","currentPassword","current"),c("New Password","newPassword","new"),c("Confirm New Password","confirmPassword","confirm"),o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Update Password"})]})]})};var c1e=Array.isArray,gn=c1e,u1e=typeof wh=="object"&&wh&&wh.Object===Object&&wh,QU=u1e,d1e=QU,f1e=typeof self=="object"&&self&&self.Object===Object&&self,m1e=d1e||f1e||Function("return this")(),Ja=m1e,h1e=Ja,p1e=h1e.Symbol,ph=p1e,jR=ph,ZU=Object.prototype,g1e=ZU.hasOwnProperty,y1e=ZU.toString,cd=jR?jR.toStringTag:void 0;function b1e(t){var e=g1e.call(t,cd),r=t[cd];try{t[cd]=void 0;var n=!0}catch{}var a=y1e.call(t);return n&&(e?t[cd]=r:delete t[cd]),a}var x1e=b1e,v1e=Object.prototype,j1e=v1e.toString;function w1e(t){return j1e.call(t)}var N1e=w1e,wR=ph,C1e=x1e,S1e=N1e,A1e="[object Null]",I1e="[object Undefined]",NR=wR?wR.toStringTag:void 0;function k1e(t){return t==null?t===void 0?I1e:A1e:NR&&NR in Object(t)?C1e(t):S1e(t)}var Vs=k1e;function T1e(t){return t!=null&&typeof t=="object"}var Us=T1e,E1e=Vs,D1e=Us,P1e="[object Symbol]";function O1e(t){return typeof t=="symbol"||D1e(t)&&E1e(t)==P1e}var Au=O1e,_1e=gn,$1e=Au,R1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M1e=/^\w*$/;function L1e(t,e){if(_1e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||$1e(t)?!0:M1e.test(t)||!R1e.test(t)||e!=null&&t in Object(e)}var t2=L1e;function F1e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Qo=F1e;const Iu=it(Qo);var B1e=Vs,q1e=Qo,V1e="[object AsyncFunction]",U1e="[object Function]",z1e="[object GeneratorFunction]",W1e="[object Proxy]";function H1e(t){if(!q1e(t))return!1;var e=B1e(t);return e==U1e||e==z1e||e==V1e||e==W1e}var r2=H1e;const We=it(r2);var G1e=Ja,Y1e=G1e["__core-js_shared__"],K1e=Y1e,B1=K1e,CR=function(){var t=/[^.]+$/.exec(B1&&B1.keys&&B1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function J1e(t){return!!CR&&CR in t}var X1e=J1e,Q1e=Function.prototype,Z1e=Q1e.toString;function eCe(t){if(t!=null){try{return Z1e.call(t)}catch{}try{return t+""}catch{}}return""}var ez=eCe,tCe=r2,rCe=X1e,nCe=Qo,aCe=ez,sCe=/[\\^$.*+?()[\]{}|]/g,oCe=/^\[object .+?Constructor\]$/,iCe=Function.prototype,lCe=Object.prototype,cCe=iCe.toString,uCe=lCe.hasOwnProperty,dCe=RegExp("^"+cCe.call(uCe).replace(sCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fCe(t){if(!nCe(t)||rCe(t))return!1;var e=tCe(t)?dCe:oCe;return e.test(aCe(t))}var mCe=fCe;function hCe(t,e){return t==null?void 0:t[e]}var pCe=hCe,gCe=mCe,yCe=pCe;function bCe(t,e){var r=yCe(t,e);return gCe(r)?r:void 0}var Tl=bCe,xCe=Tl,vCe=xCe(Object,"create"),Zj=vCe,SR=Zj;function jCe(){this.__data__=SR?SR(null):{},this.size=0}var wCe=jCe;function NCe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var CCe=NCe,SCe=Zj,ACe="__lodash_hash_undefined__",ICe=Object.prototype,kCe=ICe.hasOwnProperty;function TCe(t){var e=this.__data__;if(SCe){var r=e[t];return r===ACe?void 0:r}return kCe.call(e,t)?e[t]:void 0}var ECe=TCe,DCe=Zj,PCe=Object.prototype,OCe=PCe.hasOwnProperty;function _Ce(t){var e=this.__data__;return DCe?e[t]!==void 0:OCe.call(e,t)}var $Ce=_Ce,RCe=Zj,MCe="__lodash_hash_undefined__";function LCe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=RCe&&e===void 0?MCe:e,this}var FCe=LCe,BCe=wCe,qCe=CCe,VCe=ECe,UCe=$Ce,zCe=FCe;function ku(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ku.prototype.clear=BCe;ku.prototype.delete=qCe;ku.prototype.get=VCe;ku.prototype.has=UCe;ku.prototype.set=zCe;var WCe=ku;function HCe(){this.__data__=[],this.size=0}var GCe=HCe;function YCe(t,e){return t===e||t!==t&&e!==e}var n2=YCe,KCe=n2;function JCe(t,e){for(var r=t.length;r--;)if(KCe(t[r][0],e))return r;return-1}var ew=JCe,XCe=ew,QCe=Array.prototype,ZCe=QCe.splice;function eSe(t){var e=this.__data__,r=XCe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():ZCe.call(e,r,1),--this.size,!0}var tSe=eSe,rSe=ew;function nSe(t){var e=this.__data__,r=rSe(e,t);return r<0?void 0:e[r][1]}var aSe=nSe,sSe=ew;function oSe(t){return sSe(this.__data__,t)>-1}var iSe=oSe,lSe=ew;function cSe(t,e){var r=this.__data__,n=lSe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var uSe=cSe,dSe=GCe,fSe=tSe,mSe=aSe,hSe=iSe,pSe=uSe;function Tu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Tu.prototype.clear=dSe;Tu.prototype.delete=fSe;Tu.prototype.get=mSe;Tu.prototype.has=hSe;Tu.prototype.set=pSe;var tw=Tu,gSe=Tl,ySe=Ja,bSe=gSe(ySe,"Map"),a2=bSe,AR=WCe,xSe=tw,vSe=a2;function jSe(){this.size=0,this.__data__={hash:new AR,map:new(vSe||xSe),string:new AR}}var wSe=jSe;function NSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var CSe=NSe,SSe=CSe;function ASe(t,e){var r=t.__data__;return SSe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var rw=ASe,ISe=rw;function kSe(t){var e=ISe(this,t).delete(t);return this.size-=e?1:0,e}var TSe=kSe,ESe=rw;function DSe(t){return ESe(this,t).get(t)}var PSe=DSe,OSe=rw;function _Se(t){return OSe(this,t).has(t)}var $Se=_Se,RSe=rw;function MSe(t,e){var r=RSe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var LSe=MSe,FSe=wSe,BSe=TSe,qSe=PSe,VSe=$Se,USe=LSe;function Eu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Eu.prototype.clear=FSe;Eu.prototype.delete=BSe;Eu.prototype.get=qSe;Eu.prototype.has=VSe;Eu.prototype.set=USe;var s2=Eu,tz=s2,zSe="Expected a function";function o2(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zSe);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(o2.Cache||tz),r}o2.Cache=tz;var rz=o2;const WSe=it(rz);var HSe=rz,GSe=500;function YSe(t){var e=HSe(t,function(n){return r.size===GSe&&r.clear(),n}),r=e.cache;return e}var KSe=YSe,JSe=KSe,XSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QSe=/\\(\\)?/g,ZSe=JSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(XSe,function(r,n,a,s){e.push(a?s.replace(QSe,"$1"):n||r)}),e}),eAe=ZSe;function tAe(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var i2=tAe,IR=ph,rAe=i2,nAe=gn,aAe=Au,kR=IR?IR.prototype:void 0,TR=kR?kR.toString:void 0;function nz(t){if(typeof t=="string")return t;if(nAe(t))return rAe(t,nz)+"";if(aAe(t))return TR?TR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var sAe=nz,oAe=sAe;function iAe(t){return t==null?"":oAe(t)}var az=iAe,lAe=gn,cAe=t2,uAe=eAe,dAe=az;function fAe(t,e){return lAe(t)?t:cAe(t,e)?[t]:uAe(dAe(t))}var sz=fAe,mAe=Au;function hAe(t){if(typeof t=="string"||mAe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var nw=hAe,pAe=sz,gAe=nw;function yAe(t,e){e=pAe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[gAe(e[r++])];return r&&r==n?t:void 0}var l2=yAe,bAe=l2;function xAe(t,e,r){var n=t==null?void 0:bAe(t,e);return n===void 0?r:n}var oz=xAe;const ba=it(oz);function vAe(t){return t==null}var jAe=vAe;const Je=it(jAe);var wAe=Vs,NAe=gn,CAe=Us,SAe="[object String]";function AAe(t){return typeof t=="string"||!NAe(t)&&CAe(t)&&wAe(t)==SAe}var IAe=AAe;const gh=it(IAe);var iz={exports:{}},pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2=Symbol.for("react.element"),u2=Symbol.for("react.portal"),aw=Symbol.for("react.fragment"),sw=Symbol.for("react.strict_mode"),ow=Symbol.for("react.profiler"),iw=Symbol.for("react.provider"),lw=Symbol.for("react.context"),kAe=Symbol.for("react.server_context"),cw=Symbol.for("react.forward_ref"),uw=Symbol.for("react.suspense"),dw=Symbol.for("react.suspense_list"),fw=Symbol.for("react.memo"),mw=Symbol.for("react.lazy"),TAe=Symbol.for("react.offscreen"),lz;lz=Symbol.for("react.module.reference");function ea(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case c2:switch(t=t.type,t){case aw:case ow:case sw:case uw:case dw:return t;default:switch(t=t&&t.$$typeof,t){case kAe:case lw:case cw:case mw:case fw:case iw:return t;default:return e}}case u2:return e}}}pt.ContextConsumer=lw;pt.ContextProvider=iw;pt.Element=c2;pt.ForwardRef=cw;pt.Fragment=aw;pt.Lazy=mw;pt.Memo=fw;pt.Portal=u2;pt.Profiler=ow;pt.StrictMode=sw;pt.Suspense=uw;pt.SuspenseList=dw;pt.isAsyncMode=function(){return!1};pt.isConcurrentMode=function(){return!1};pt.isContextConsumer=function(t){return ea(t)===lw};pt.isContextProvider=function(t){return ea(t)===iw};pt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===c2};pt.isForwardRef=function(t){return ea(t)===cw};pt.isFragment=function(t){return ea(t)===aw};pt.isLazy=function(t){return ea(t)===mw};pt.isMemo=function(t){return ea(t)===fw};pt.isPortal=function(t){return ea(t)===u2};pt.isProfiler=function(t){return ea(t)===ow};pt.isStrictMode=function(t){return ea(t)===sw};pt.isSuspense=function(t){return ea(t)===uw};pt.isSuspenseList=function(t){return ea(t)===dw};pt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===aw||t===ow||t===sw||t===uw||t===dw||t===TAe||typeof t=="object"&&t!==null&&(t.$$typeof===mw||t.$$typeof===fw||t.$$typeof===iw||t.$$typeof===lw||t.$$typeof===cw||t.$$typeof===lz||t.getModuleId!==void 0)};pt.typeOf=ea;iz.exports=pt;var EAe=iz.exports,DAe=Vs,PAe=Us,OAe="[object Number]";function _Ae(t){return typeof t=="number"||PAe(t)&&DAe(t)==OAe}var cz=_Ae;const $Ae=it(cz);var RAe=cz;function MAe(t){return RAe(t)&&t!=+t}var LAe=MAe;const yh=it(LAe);var Gn=function(e){return e===0?0:e>0?1:-1},Di=function(e){return gh(e)&&e.indexOf("%")===e.length-1},je=function(e){return $Ae(e)&&!yh(e)},mr=function(e){return je(e)||gh(e)},FAe=0,hw=function(e){var r=++FAe;return"".concat(e||"").concat(r)},an=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!gh(e))return n;var s;if(Di(e)){var i=e.indexOf("%");s=r*parseFloat(e.slice(0,i))/100}else s=+e;return yh(s)&&(s=n),a&&s>r&&(s=r),s},zl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},BAe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},ER=function(e,r){return je(e)&&je(r)?function(n){return e+n*(r-e)}:function(){return r}};function pI(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ba(n,e))===r})}function gI(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function yI(t){"@babel/helpers - typeof";return yI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yI(t)}var qAe=["viewBox","children"],VAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],DR=["points","pathLength"],q1={svg:qAe,polygon:DR,polyline:DR},d2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rv=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),!Iu(n))return null;var a={};return Object.keys(n).forEach(function(s){d2.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},UAe=function(e,r,n){return function(a){return e(r,n,a),null}},pw=function(e,r,n){if(!Iu(e)||yI(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var i=e[s];d2.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=UAe(i,r,n))}),a},zAe=["children"],WAe=["children"];function PR(t,e){if(t==null)return{};var r=HAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var OR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ws=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_R=null,V1=null,f2=function t(e){if(e===_R&&Array.isArray(V1))return V1;var r=[];return w.Children.forEach(e,function(n){Je(n)||(EAe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),V1=r,_R=e,r};function Ua(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return ws(a)}):n=[ws(e)],f2(t).forEach(function(a){var s=ba(a,"type.displayName")||ba(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Vn(t,e){var r=Ua(t,e);return r&&r[0]}var $R=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!je(n)||n<=0||!je(a)||a<=0)},GAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],YAe=function(e){return e&&e.type&&gh(e.type)&&GAe.indexOf(e.type)>=0},KAe=function(e,r,n,a){var s,i=(s=q1==null?void 0:q1[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!We(e)&&(a&&i.includes(r)||VAe.includes(r))||n&&d2.includes(r)},ze=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(w.isValidElement(e)&&(a=e.props),!Iu(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;KAe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},bI=function t(e,r){if(e===r)return!0;var n=w.Children.count(e);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return RR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!t(s,i))return!1}else if(!RR(s,i))return!1}return!0},RR=function(e,r){if(Je(e)&&Je(r))return!0;if(!Je(e)&&!Je(r)){var n=e.props||{},a=n.children,s=PR(n,zAe),i=r.props||{},l=i.children,c=PR(i,WAe);return a&&l?gI(s,c)&&bI(a,l):!a&&!l?gI(s,c):!1}return!1},MR=function(e,r){var n=[],a={};return f2(e).forEach(function(s,i){if(YAe(s))n.push(s);else if(s){var l=ws(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},JAe=function(e){var r=e&&e.type;return r&&OR[r]?OR[r]:null},XAe=function(e,r){return f2(r).indexOf(e)},QAe=["children","width","height","viewBox","className","style","title","desc"];function xI(){return xI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xI.apply(this,arguments)}function ZAe(t,e){if(t==null)return{};var r=eIe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vI(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,i=t.style,l=t.title,c=t.desc,u=ZAe(t,QAe),d=a||{width:r,height:n,x:0,y:0},f=$e("recharts-surface",s);return W.createElement("svg",xI({},ze(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),W.createElement("title",null,l),W.createElement("desc",null,c),e)}var tIe=["children","className"];function jI(){return jI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jI.apply(this,arguments)}function rIe(t,e){if(t==null)return{};var r=nIe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ht=W.forwardRef(function(t,e){var r=t.children,n=t.className,a=rIe(t,tIe),s=$e("recharts-layer",n);return W.createElement("g",jI({className:s},ze(a,!0),{ref:e}),r)}),Ns=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function aIe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(a);++n<a;)s[n]=t[n+e];return s}var sIe=aIe,oIe=sIe;function iIe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:oIe(t,e,r)}var lIe=iIe,cIe="\\ud800-\\udfff",uIe="\\u0300-\\u036f",dIe="\\ufe20-\\ufe2f",fIe="\\u20d0-\\u20ff",mIe=uIe+dIe+fIe,hIe="\\ufe0e\\ufe0f",pIe="\\u200d",gIe=RegExp("["+pIe+cIe+mIe+hIe+"]");function yIe(t){return gIe.test(t)}var uz=yIe;function bIe(t){return t.split("")}var xIe=bIe,dz="\\ud800-\\udfff",vIe="\\u0300-\\u036f",jIe="\\ufe20-\\ufe2f",wIe="\\u20d0-\\u20ff",NIe=vIe+jIe+wIe,CIe="\\ufe0e\\ufe0f",SIe="["+dz+"]",wI="["+NIe+"]",NI="\\ud83c[\\udffb-\\udfff]",AIe="(?:"+wI+"|"+NI+")",fz="[^"+dz+"]",mz="(?:\\ud83c[\\udde6-\\uddff]){2}",hz="[\\ud800-\\udbff][\\udc00-\\udfff]",IIe="\\u200d",pz=AIe+"?",gz="["+CIe+"]?",kIe="(?:"+IIe+"(?:"+[fz,mz,hz].join("|")+")"+gz+pz+")*",TIe=gz+pz+kIe,EIe="(?:"+[fz+wI+"?",wI,mz,hz,SIe].join("|")+")",DIe=RegExp(NI+"(?="+NI+")|"+EIe+TIe,"g");function PIe(t){return t.match(DIe)||[]}var OIe=PIe,_Ie=xIe,$Ie=uz,RIe=OIe;function MIe(t){return $Ie(t)?RIe(t):_Ie(t)}var LIe=MIe,FIe=lIe,BIe=uz,qIe=LIe,VIe=az;function UIe(t){return function(e){e=VIe(e);var r=BIe(e)?qIe(e):void 0,n=r?r[0]:e.charAt(0),a=r?FIe(r,1).join(""):e.slice(1);return n[t]()+a}}var zIe=UIe,WIe=zIe,HIe=WIe("toUpperCase"),GIe=HIe;const gw=it(GIe);function Ct(t){return function(){return t}}const yz=Math.cos,nv=Math.sin,Na=Math.sqrt,av=Math.PI,yw=2*av,CI=Math.PI,SI=2*CI,xi=1e-6,YIe=SI-xi;function bz(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function KIe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bz;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class JIe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bz:KIe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,i){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-r,d=i-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>xi)if(!(Math.abs(f*c-u*d)>xi)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-i,y=a-l,g=c*c+u*u,p=h*h+y*y,b=Math.sqrt(g),v=Math.sqrt(m),j=s*Math.tan((CI-Math.acos((g+m-p)/(2*b*v)))/2),C=j/v,x=j/b;Math.abs(C-1)>xi&&this._append`L${e+C*d},${r+C*f}`,this._append`A${s},${s},0,0,${+(f*h>d*y)},${this._x1=e+x*c},${this._y1=r+x*u}`}}arc(e,r,n,a,s,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>xi||Math.abs(this._y1-d)>xi)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%SI+SI),m>YIe?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>xi&&this._append`A${n},${n},0,${+(m>=CI)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function m2(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new JIe(e)}function h2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xz(t){this._context=t}xz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bw(t){return new xz(t)}function vz(t){return t[0]}function jz(t){return t[1]}function wz(t,e){var r=Ct(!0),n=null,a=bw,s=null,i=m2(l);t=typeof t=="function"?t:t===void 0?vz:Ct(t),e=typeof e=="function"?e:e===void 0?jz:Ct(e);function l(c){var u,d=(c=h2(c)).length,f,m=!1,h;for(n==null&&(s=a(h=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ct(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ct(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ct(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function pp(t,e,r){var n=null,a=Ct(!0),s=null,i=bw,l=null,c=m2(u);t=typeof t=="function"?t:t===void 0?vz:Ct(+t),e=typeof e=="function"?e:Ct(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?jz:Ct(+r);function u(f){var m,h,y,g=(f=h2(f)).length,p,b=!1,v,j=new Array(g),C=new Array(g);for(s==null&&(l=i(v=c())),m=0;m<=g;++m){if(!(m<g&&a(p=f[m],m,f))===b)if(b=!b)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=h;--y)l.point(j[y],C[y]);l.lineEnd(),l.areaEnd()}b&&(j[m]=+t(p,m,f),C[m]=+e(p,m,f),l.point(n?+n(p,m,f):j[m],r?+r(p,m,f):C[m]))}if(v)return l=null,v+""||null}function d(){return wz().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ct(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ct(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ct(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class Nz{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function XIe(t){return new Nz(t,!0)}function QIe(t){return new Nz(t,!1)}const p2={draw(t,e){const r=Na(e/av);t.moveTo(r,0),t.arc(0,0,r,0,yw)}},ZIe={draw(t,e){const r=Na(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Cz=Na(1/3),eke=Cz*2,tke={draw(t,e){const r=Na(e/eke),n=r*Cz;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},rke={draw(t,e){const r=Na(e),n=-r/2;t.rect(n,n,r,r)}},nke=.8908130915292852,Sz=nv(av/10)/nv(7*av/10),ake=nv(yw/10)*Sz,ske=-yz(yw/10)*Sz,oke={draw(t,e){const r=Na(e*nke),n=ake*r,a=ske*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const i=yw*s/5,l=yz(i),c=nv(i);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},U1=Na(3),ike={draw(t,e){const r=-Na(e/(U1*3));t.moveTo(0,r*2),t.lineTo(-U1*r,-r),t.lineTo(U1*r,-r),t.closePath()}},Fn=-.5,Bn=Na(3)/2,AI=1/Na(12),lke=(AI/2+1)*3,cke={draw(t,e){const r=Na(e/lke),n=r/2,a=r*AI,s=n,i=r*AI+r,l=-s,c=i;t.moveTo(n,a),t.lineTo(s,i),t.lineTo(l,c),t.lineTo(Fn*n-Bn*a,Bn*n+Fn*a),t.lineTo(Fn*s-Bn*i,Bn*s+Fn*i),t.lineTo(Fn*l-Bn*c,Bn*l+Fn*c),t.lineTo(Fn*n+Bn*a,Fn*a-Bn*n),t.lineTo(Fn*s+Bn*i,Fn*i-Bn*s),t.lineTo(Fn*l+Bn*c,Fn*c-Bn*l),t.closePath()}};function uke(t,e){let r=null,n=m2(a);t=typeof t=="function"?t:Ct(t||p2),e=typeof e=="function"?e:Ct(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function sv(){}function ov(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Az(t){this._context=t}Az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dke(t){return new Az(t)}function Iz(t){this._context=t}Iz.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fke(t){return new Iz(t)}function kz(t){this._context=t}kz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mke(t){return new kz(t)}function Tz(t){this._context=t}Tz.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function hke(t){return new Tz(t)}function LR(t){return t<0?-1:1}function FR(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),i=(r-t._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(LR(s)+LR(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function BR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function z1(t,e,r){var n=t._x0,a=t._y0,s=t._x1,i=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*r,s,i)}function iv(t){this._context=t}iv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z1(this,this._t0,BR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,z1(this,BR(this,r=FR(this,t,e)),r);break;default:z1(this,this._t0,r=FR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Ez(t){this._context=new Dz(t)}(Ez.prototype=Object.create(iv.prototype)).point=function(t,e){iv.prototype.point.call(this,e,t)};function Dz(t){this._context=t}Dz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function pke(t){return new iv(t)}function gke(t){return new Ez(t)}function Pz(t){this._context=t}Pz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=qR(t),a=qR(e),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[i],e[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qR(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,i[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[r-1]=i[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function yke(t){return new Pz(t)}function xw(t,e){this._context=t,this._t=e}xw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function bke(t){return new xw(t,.5)}function xke(t){return new xw(t,0)}function vke(t){return new xw(t,1)}function Hc(t,e){if((i=t.length)>1)for(var r=1,n,a,s=t[e[0]],i,l=s.length;r<i;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function II(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function jke(t,e){return t[e]}function wke(t){const e=[];return e.key=t,e}function Nke(){var t=Ct([]),e=II,r=Hc,n=jke;function a(s){var i=Array.from(t.apply(this,arguments),wke),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=h2(e(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ct(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?II:typeof s=="function"?s:Ct(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Hc,a):r},a}function Cke(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=t[r][a][1]||0;if(i)for(r=0;r<n;++r)t[r][a][1]/=i}Hc(t,e)}}function Ske(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=t[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Hc(t,e)}}function Ake(t,e){if(!(!((i=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,y=0;y<l;++y){var g=t[e[y]],p=g[n][1]||0,b=g[n-1][1]||0;h+=p-b}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Hc(t,e)}}function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}var Ike=["type","size","sizeType"];function kI(){return kI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kI.apply(this,arguments)}function VR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function UR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(r),!0).forEach(function(n){kke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kke(t,e,r){return e=Tke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tke(t){var e=Eke(t,"string");return om(e)=="symbol"?e:e+""}function Eke(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dke(t,e){if(t==null)return{};var r=Pke(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Oz={symbolCircle:p2,symbolCross:ZIe,symbolDiamond:tke,symbolSquare:rke,symbolStar:oke,symbolTriangle:ike,symbolWye:cke},Oke=Math.PI/180,_ke=function(e){var r="symbol".concat(gw(e));return Oz[r]||p2},$ke=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Oke;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Rke=function(e,r){Oz["symbol".concat(gw(e))]=r},g2=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,i=e.sizeType,l=i===void 0?"area":i,c=Dke(e,Ike),u=UR(UR({},c),{},{type:n,size:s,sizeType:l}),d=function(){var p=_ke(n),b=uke().type(p).size($ke(s,l,n));return b()},f=u.className,m=u.cx,h=u.cy,y=ze(u,!0);return m===+m&&h===+h&&s===+s?W.createElement("path",kI({},y,{className:$e("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};g2.registerSymbol=Rke;function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function TI(){return TI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TI.apply(this,arguments)}function zR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(r),!0).forEach(function(n){im(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$z(n.key),n)}}function Bke(t,e,r){return e&&Fke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qke(t,e,r){return e=lv(e),Vke(t,_z()?Reflect.construct(e,r||[],lv(t).constructor):e.apply(t,r))}function Vke(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uke(t)}function Uke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_z=function(){return!!t})()}function lv(t){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lv(t)}function zke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EI(t,e)}function EI(t,e){return EI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EI(t,e)}function im(t,e,r){return e=$z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $z(t){var e=Wke(t,"string");return Gc(e)=="symbol"?e:e+""}function Wke(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qn=32,y2=function(t){function e(){return Lke(this,e),qke(this,e,arguments)}return zke(e,t),Bke(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=qn/2,i=qn/6,l=qn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:qn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(qn,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(qn/8,"h").concat(qn,"v").concat(qn*3/4,"h").concat(-qn,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var u=Mke({},n);return delete u.legendIcon,W.cloneElement(n.legendIcon,u)}return W.createElement(g2,{fill:c,cx:s,cy:s,size:qn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:qn,height:qn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(h,y){var g=h.formatter||c,p=$e(im(im({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=We(h.value)?null:h.value;Ns(!We(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=h.inactive?u:h.color;return W.createElement("li",TI({className:p,style:f,key:"legend-item-".concat(y)},pw(n.props,h,y)),W.createElement(vI,{width:i,height:i,viewBox:d,style:m},n.renderIcon(h)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(b,h,y):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);im(y2,"displayName","Legend");im(y2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Hke=tw;function Gke(){this.__data__=new Hke,this.size=0}var Yke=Gke;function Kke(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Jke=Kke;function Xke(t){return this.__data__.get(t)}var Qke=Xke;function Zke(t){return this.__data__.has(t)}var eTe=Zke,tTe=tw,rTe=a2,nTe=s2,aTe=200;function sTe(t,e){var r=this.__data__;if(r instanceof tTe){var n=r.__data__;if(!rTe||n.length<aTe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new nTe(n)}return r.set(t,e),this.size=r.size,this}var oTe=sTe,iTe=tw,lTe=Yke,cTe=Jke,uTe=Qke,dTe=eTe,fTe=oTe;function Du(t){var e=this.__data__=new iTe(t);this.size=e.size}Du.prototype.clear=lTe;Du.prototype.delete=cTe;Du.prototype.get=uTe;Du.prototype.has=dTe;Du.prototype.set=fTe;var Rz=Du,mTe="__lodash_hash_undefined__";function hTe(t){return this.__data__.set(t,mTe),this}var pTe=hTe;function gTe(t){return this.__data__.has(t)}var yTe=gTe,bTe=s2,xTe=pTe,vTe=yTe;function cv(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new bTe;++e<r;)this.add(t[e])}cv.prototype.add=cv.prototype.push=xTe;cv.prototype.has=vTe;var Mz=cv;function jTe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Lz=jTe;function wTe(t,e){return t.has(e)}var Fz=wTe,NTe=Mz,CTe=Lz,STe=Fz,ATe=1,ITe=2;function kTe(t,e,r,n,a,s){var i=r&ATe,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,h=r&ITe?new NTe:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var y=t[f],g=e[f];if(n)var p=i?n(g,y,f,e,t,s):n(y,g,f,t,e,s);if(p!==void 0){if(p)continue;m=!1;break}if(h){if(!CTe(e,function(b,v){if(!STe(h,v)&&(y===b||a(y,b,r,n,s)))return h.push(v)})){m=!1;break}}else if(!(y===g||a(y,g,r,n,s))){m=!1;break}}return s.delete(t),s.delete(e),m}var Bz=kTe,TTe=Ja,ETe=TTe.Uint8Array,DTe=ETe;function PTe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var OTe=PTe;function _Te(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var b2=_Te,WR=ph,HR=DTe,$Te=n2,RTe=Bz,MTe=OTe,LTe=b2,FTe=1,BTe=2,qTe="[object Boolean]",VTe="[object Date]",UTe="[object Error]",zTe="[object Map]",WTe="[object Number]",HTe="[object RegExp]",GTe="[object Set]",YTe="[object String]",KTe="[object Symbol]",JTe="[object ArrayBuffer]",XTe="[object DataView]",GR=WR?WR.prototype:void 0,W1=GR?GR.valueOf:void 0;function QTe(t,e,r,n,a,s,i){switch(r){case XTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case JTe:return!(t.byteLength!=e.byteLength||!s(new HR(t),new HR(e)));case qTe:case VTe:case WTe:return $Te(+t,+e);case UTe:return t.name==e.name&&t.message==e.message;case HTe:case YTe:return t==e+"";case zTe:var l=MTe;case GTe:var c=n&FTe;if(l||(l=LTe),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;n|=BTe,i.set(t,e);var d=RTe(l(t),l(e),n,a,s,i);return i.delete(t),d;case KTe:if(W1)return W1.call(t)==W1.call(e)}return!1}var ZTe=QTe;function eEe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var qz=eEe,tEe=qz,rEe=gn;function nEe(t,e,r){var n=e(t);return rEe(t)?n:tEe(n,r(t))}var aEe=nEe;function sEe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}var oEe=sEe;function iEe(){return[]}var lEe=iEe,cEe=oEe,uEe=lEe,dEe=Object.prototype,fEe=dEe.propertyIsEnumerable,YR=Object.getOwnPropertySymbols,mEe=YR?function(t){return t==null?[]:(t=Object(t),cEe(YR(t),function(e){return fEe.call(t,e)}))}:uEe,hEe=mEe;function pEe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var gEe=pEe,yEe=Vs,bEe=Us,xEe="[object Arguments]";function vEe(t){return bEe(t)&&yEe(t)==xEe}var jEe=vEe,KR=jEe,wEe=Us,Vz=Object.prototype,NEe=Vz.hasOwnProperty,CEe=Vz.propertyIsEnumerable,SEe=KR(function(){return arguments}())?KR:function(t){return wEe(t)&&NEe.call(t,"callee")&&!CEe.call(t,"callee")},x2=SEe,uv={exports:{}};function AEe(){return!1}var IEe=AEe;uv.exports;(function(t,e){var r=Ja,n=IEe,a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(uv,uv.exports);var Uz=uv.exports,kEe=9007199254740991,TEe=/^(?:0|[1-9]\d*)$/;function EEe(t,e){var r=typeof t;return e=e??kEe,!!e&&(r=="number"||r!="symbol"&&TEe.test(t))&&t>-1&&t%1==0&&t<e}var v2=EEe,DEe=9007199254740991;function PEe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=DEe}var j2=PEe,OEe=Vs,_Ee=j2,$Ee=Us,REe="[object Arguments]",MEe="[object Array]",LEe="[object Boolean]",FEe="[object Date]",BEe="[object Error]",qEe="[object Function]",VEe="[object Map]",UEe="[object Number]",zEe="[object Object]",WEe="[object RegExp]",HEe="[object Set]",GEe="[object String]",YEe="[object WeakMap]",KEe="[object ArrayBuffer]",JEe="[object DataView]",XEe="[object Float32Array]",QEe="[object Float64Array]",ZEe="[object Int8Array]",e2e="[object Int16Array]",t2e="[object Int32Array]",r2e="[object Uint8Array]",n2e="[object Uint8ClampedArray]",a2e="[object Uint16Array]",s2e="[object Uint32Array]",Et={};Et[XEe]=Et[QEe]=Et[ZEe]=Et[e2e]=Et[t2e]=Et[r2e]=Et[n2e]=Et[a2e]=Et[s2e]=!0;Et[REe]=Et[MEe]=Et[KEe]=Et[LEe]=Et[JEe]=Et[FEe]=Et[BEe]=Et[qEe]=Et[VEe]=Et[UEe]=Et[zEe]=Et[WEe]=Et[HEe]=Et[GEe]=Et[YEe]=!1;function o2e(t){return $Ee(t)&&_Ee(t.length)&&!!Et[OEe(t)]}var i2e=o2e;function l2e(t){return function(e){return t(e)}}var zz=l2e,dv={exports:{}};dv.exports;(function(t,e){var r=QU,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=l})(dv,dv.exports);var c2e=dv.exports,u2e=i2e,d2e=zz,JR=c2e,XR=JR&&JR.isTypedArray,f2e=XR?d2e(XR):u2e,Wz=f2e,m2e=gEe,h2e=x2,p2e=gn,g2e=Uz,y2e=v2,b2e=Wz,x2e=Object.prototype,v2e=x2e.hasOwnProperty;function j2e(t,e){var r=p2e(t),n=!r&&h2e(t),a=!r&&!n&&g2e(t),s=!r&&!n&&!a&&b2e(t),i=r||n||a||s,l=i?m2e(t.length,String):[],c=l.length;for(var u in t)(e||v2e.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||y2e(u,c)))&&l.push(u);return l}var w2e=j2e,N2e=Object.prototype;function C2e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||N2e;return t===r}var S2e=C2e;function A2e(t,e){return function(r){return t(e(r))}}var Hz=A2e,I2e=Hz,k2e=I2e(Object.keys,Object),T2e=k2e,E2e=S2e,D2e=T2e,P2e=Object.prototype,O2e=P2e.hasOwnProperty;function _2e(t){if(!E2e(t))return D2e(t);var e=[];for(var r in Object(t))O2e.call(t,r)&&r!="constructor"&&e.push(r);return e}var $2e=_2e,R2e=r2,M2e=j2;function L2e(t){return t!=null&&M2e(t.length)&&!R2e(t)}var vw=L2e,F2e=w2e,B2e=$2e,q2e=vw;function V2e(t){return q2e(t)?F2e(t):B2e(t)}var w2=V2e,U2e=aEe,z2e=hEe,W2e=w2;function H2e(t){return U2e(t,W2e,z2e)}var G2e=H2e,QR=G2e,Y2e=1,K2e=Object.prototype,J2e=K2e.hasOwnProperty;function X2e(t,e,r,n,a,s){var i=r&Y2e,l=QR(t),c=l.length,u=QR(e),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var m=l[f];if(!(i?m in e:J2e.call(e,m)))return!1}var h=s.get(t),y=s.get(e);if(h&&y)return h==e&&y==t;var g=!0;s.set(t,e),s.set(e,t);for(var p=i;++f<c;){m=l[f];var b=t[m],v=e[m];if(n)var j=i?n(v,b,m,e,t,s):n(b,v,m,t,e,s);if(!(j===void 0?b===v||a(b,v,r,n,s):j)){g=!1;break}p||(p=m=="constructor")}if(g&&!p){var C=t.constructor,x=e.constructor;C!=x&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof x=="function"&&x instanceof x)&&(g=!1)}return s.delete(t),s.delete(e),g}var Q2e=X2e,Z2e=Tl,eDe=Ja,tDe=Z2e(eDe,"DataView"),rDe=tDe,nDe=Tl,aDe=Ja,sDe=nDe(aDe,"Promise"),oDe=sDe,iDe=Tl,lDe=Ja,cDe=iDe(lDe,"Set"),Gz=cDe,uDe=Tl,dDe=Ja,fDe=uDe(dDe,"WeakMap"),mDe=fDe,DI=rDe,PI=a2,OI=oDe,_I=Gz,$I=mDe,Yz=Vs,Pu=ez,ZR="[object Map]",hDe="[object Object]",eM="[object Promise]",tM="[object Set]",rM="[object WeakMap]",nM="[object DataView]",pDe=Pu(DI),gDe=Pu(PI),yDe=Pu(OI),bDe=Pu(_I),xDe=Pu($I),vi=Yz;(DI&&vi(new DI(new ArrayBuffer(1)))!=nM||PI&&vi(new PI)!=ZR||OI&&vi(OI.resolve())!=eM||_I&&vi(new _I)!=tM||$I&&vi(new $I)!=rM)&&(vi=function(t){var e=Yz(t),r=e==hDe?t.constructor:void 0,n=r?Pu(r):"";if(n)switch(n){case pDe:return nM;case gDe:return ZR;case yDe:return eM;case bDe:return tM;case xDe:return rM}return e});var vDe=vi,H1=Rz,jDe=Bz,wDe=ZTe,NDe=Q2e,aM=vDe,sM=gn,oM=Uz,CDe=Wz,SDe=1,iM="[object Arguments]",lM="[object Array]",gp="[object Object]",ADe=Object.prototype,cM=ADe.hasOwnProperty;function IDe(t,e,r,n,a,s){var i=sM(t),l=sM(e),c=i?lM:aM(t),u=l?lM:aM(e);c=c==iM?gp:c,u=u==iM?gp:u;var d=c==gp,f=u==gp,m=c==u;if(m&&oM(t)){if(!oM(e))return!1;i=!0,d=!1}if(m&&!d)return s||(s=new H1),i||CDe(t)?jDe(t,e,r,n,a,s):wDe(t,e,c,r,n,a,s);if(!(r&SDe)){var h=d&&cM.call(t,"__wrapped__"),y=f&&cM.call(e,"__wrapped__");if(h||y){var g=h?t.value():t,p=y?e.value():e;return s||(s=new H1),a(g,p,r,n,s)}}return m?(s||(s=new H1),NDe(t,e,r,n,a,s)):!1}var kDe=IDe,TDe=kDe,uM=Us;function Kz(t,e,r,n,a){return t===e?!0:t==null||e==null||!uM(t)&&!uM(e)?t!==t&&e!==e:TDe(t,e,r,n,Kz,a)}var N2=Kz,EDe=Rz,DDe=N2,PDe=1,ODe=2;function _De(t,e,r,n){var a=r.length,s=a,i=!n;if(t==null)return!s;for(t=Object(t);a--;){var l=r[a];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){l=r[a];var c=l[0],u=t[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new EDe;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?DDe(d,u,PDe|ODe,n,f):m))return!1}}return!0}var $De=_De,RDe=Qo;function MDe(t){return t===t&&!RDe(t)}var Jz=MDe,LDe=Jz,FDe=w2;function BDe(t){for(var e=FDe(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,LDe(a)]}return e}var qDe=BDe;function VDe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Xz=VDe,UDe=$De,zDe=qDe,WDe=Xz;function HDe(t){var e=zDe(t);return e.length==1&&e[0][2]?WDe(e[0][0],e[0][1]):function(r){return r===t||UDe(r,t,e)}}var GDe=HDe;function YDe(t,e){return t!=null&&e in Object(t)}var KDe=YDe,JDe=sz,XDe=x2,QDe=gn,ZDe=v2,ePe=j2,tPe=nw;function rPe(t,e,r){e=JDe(e,t);for(var n=-1,a=e.length,s=!1;++n<a;){var i=tPe(e[n]);if(!(s=t!=null&&r(t,i)))break;t=t[i]}return s||++n!=a?s:(a=t==null?0:t.length,!!a&&ePe(a)&&ZDe(i,a)&&(QDe(t)||XDe(t)))}var nPe=rPe,aPe=KDe,sPe=nPe;function oPe(t,e){return t!=null&&sPe(t,e,aPe)}var iPe=oPe,lPe=N2,cPe=oz,uPe=iPe,dPe=t2,fPe=Jz,mPe=Xz,hPe=nw,pPe=1,gPe=2;function yPe(t,e){return dPe(t)&&fPe(e)?mPe(hPe(t),e):function(r){var n=cPe(r,t);return n===void 0&&n===e?uPe(r,t):lPe(e,n,pPe|gPe)}}var bPe=yPe;function xPe(t){return t}var Ou=xPe;function vPe(t){return function(e){return e==null?void 0:e[t]}}var jPe=vPe,wPe=l2;function NPe(t){return function(e){return wPe(e,t)}}var CPe=NPe,SPe=jPe,APe=CPe,IPe=t2,kPe=nw;function TPe(t){return IPe(t)?SPe(kPe(t)):APe(t)}var EPe=TPe,DPe=GDe,PPe=bPe,OPe=Ou,_Pe=gn,$Pe=EPe;function RPe(t){return typeof t=="function"?t:t==null?OPe:typeof t=="object"?_Pe(t)?PPe(t[0],t[1]):DPe(t):$Pe(t)}var Zo=RPe;function MPe(t,e,r,n){for(var a=t.length,s=r+(n?1:-1);n?s--:++s<a;)if(e(t[s],s,t))return s;return-1}var LPe=MPe;function FPe(t){return t!==t}var BPe=FPe;function qPe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var VPe=qPe,UPe=LPe,zPe=BPe,WPe=VPe;function HPe(t,e,r){return e===e?WPe(t,e,r):UPe(t,zPe,r)}var GPe=HPe,YPe=GPe;function KPe(t,e){var r=t==null?0:t.length;return!!r&&YPe(t,e,0)>-1}var JPe=KPe;function XPe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var QPe=XPe;function ZPe(){}var eOe=ZPe,G1=Gz,tOe=eOe,rOe=b2,nOe=1/0,aOe=G1&&1/rOe(new G1([,-0]))[1]==nOe?function(t){return new G1(t)}:tOe,sOe=aOe,oOe=Mz,iOe=JPe,lOe=QPe,cOe=Fz,uOe=sOe,dOe=b2,fOe=200;function mOe(t,e,r){var n=-1,a=iOe,s=t.length,i=!0,l=[],c=l;if(r)i=!1,a=lOe;else if(s>=fOe){var u=e?null:uOe(t);if(u)return dOe(u);i=!1,a=cOe,c=new oOe}else c=e?[]:l;e:for(;++n<s;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var hOe=mOe,pOe=Zo,gOe=hOe;function yOe(t,e){return t&&t.length?gOe(t,pOe(e)):[]}var bOe=yOe;const dM=it(bOe);function Qz(t,e,r){return e===!0?dM(t,r):We(e)?dM(t,e):t}function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}var xOe=["ref"];function fM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(r),!0).forEach(function(n){jw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e7(n.key),n)}}function jOe(t,e,r){return e&&mM(t.prototype,e),r&&mM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wOe(t,e,r){return e=fv(e),NOe(t,Zz()?Reflect.construct(e,r||[],fv(t).constructor):e.apply(t,r))}function NOe(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return COe(t)}function COe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zz=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fv(t)}function SOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RI(t,e)}function RI(t,e){return RI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RI(t,e)}function jw(t,e,r){return e=e7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e7(t){var e=AOe(t,"string");return Yc(e)=="symbol"?e:e+""}function AOe(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IOe(t,e){if(t==null)return{};var r=kOe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TOe(t){return t.value}function EOe(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=IOe(e,xOe);return W.createElement(y2,r)}var hM=1,za=function(t){function e(){var r;vOe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=wOe(this,e,[].concat(a)),jw(r,"lastBoundingBox",{width:-1,height:-1}),r}return SOe(e,t),jOe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>hM||Math.abs(a.height-this.lastBoundingBox.height)>hM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?es({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return es(es({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=es(es({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return W.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},EOe(s,es(es({},this.props),{},{payload:Qz(d,u,TOe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=es(es({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&je(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);jw(za,"displayName","Legend");jw(za,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pM=ph,DOe=x2,POe=gn,gM=pM?pM.isConcatSpreadable:void 0;function OOe(t){return POe(t)||DOe(t)||!!(gM&&t&&t[gM])}var _Oe=OOe,$Oe=qz,ROe=_Oe;function t7(t,e,r,n,a){var s=-1,i=t.length;for(r||(r=ROe),a||(a=[]);++s<i;){var l=t[s];e>0&&r(l)?e>1?t7(l,e-1,r,n,a):$Oe(a,l):n||(a[a.length]=l)}return a}var r7=t7;function MOe(t){return function(e,r,n){for(var a=-1,s=Object(e),i=n(e),l=i.length;l--;){var c=i[t?l:++a];if(r(s[c],c,s)===!1)break}return e}}var LOe=MOe,FOe=LOe,BOe=FOe(),qOe=BOe,VOe=qOe,UOe=w2;function zOe(t,e){return t&&VOe(t,e,UOe)}var n7=zOe,WOe=vw;function HOe(t,e){return function(r,n){if(r==null)return r;if(!WOe(r))return t(r,n);for(var a=r.length,s=e?a:-1,i=Object(r);(e?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var GOe=HOe,YOe=n7,KOe=GOe,JOe=KOe(YOe),C2=JOe,XOe=C2,QOe=vw;function ZOe(t,e){var r=-1,n=QOe(t)?Array(t.length):[];return XOe(t,function(a,s,i){n[++r]=e(a,s,i)}),n}var a7=ZOe;function e_e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var t_e=e_e,yM=Au;function r_e(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,s=yM(t),i=e!==void 0,l=e===null,c=e===e,u=yM(e);if(!l&&!u&&!s&&t>e||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&t<e||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var n_e=r_e,a_e=n_e;function s_e(t,e,r){for(var n=-1,a=t.criteria,s=e.criteria,i=a.length,l=r.length;++n<i;){var c=a_e(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var o_e=s_e,Y1=i2,i_e=l2,l_e=Zo,c_e=a7,u_e=t_e,d_e=zz,f_e=o_e,m_e=Ou,h_e=gn;function p_e(t,e,r){e.length?e=Y1(e,function(s){return h_e(s)?function(i){return i_e(i,s.length===1?s[0]:s)}:s}):e=[m_e];var n=-1;e=Y1(e,d_e(l_e));var a=c_e(t,function(s,i,l){var c=Y1(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return u_e(a,function(s,i){return f_e(s,i,r)})}var g_e=p_e;function y_e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var b_e=y_e,x_e=b_e,bM=Math.max;function v_e(t,e,r){return e=bM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,s=bM(n.length-e,0),i=Array(s);++a<s;)i[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(i),x_e(t,this,l)}}var j_e=v_e;function w_e(t){return function(){return t}}var N_e=w_e,C_e=Tl,S_e=function(){try{var t=C_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),s7=S_e,A_e=N_e,xM=s7,I_e=Ou,k_e=xM?function(t,e){return xM(t,"toString",{configurable:!0,enumerable:!1,value:A_e(e),writable:!0})}:I_e,T_e=k_e,E_e=800,D_e=16,P_e=Date.now;function O_e(t){var e=0,r=0;return function(){var n=P_e(),a=D_e-(n-r);if(r=n,a>0){if(++e>=E_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var __e=O_e,$_e=T_e,R_e=__e,M_e=R_e($_e),L_e=M_e,F_e=Ou,B_e=j_e,q_e=L_e;function V_e(t,e){return q_e(B_e(t,e,F_e),t+"")}var U_e=V_e,z_e=n2,W_e=vw,H_e=v2,G_e=Qo;function Y_e(t,e,r){if(!G_e(r))return!1;var n=typeof e;return(n=="number"?W_e(r)&&H_e(e,r.length):n=="string"&&e in r)?z_e(r[e],t):!1}var ww=Y_e,K_e=r7,J_e=g_e,X_e=U_e,vM=ww,Q_e=X_e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&vM(t,e[0],e[1])?e=[]:r>2&&vM(e[0],e[1],e[2])&&(e=[e[0]]),J_e(t,K_e(e,1),[])}),Z_e=Q_e;const S2=it(Z_e);function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function MI(){return MI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MI.apply(this,arguments)}function e$e(t,e){return a$e(t)||n$e(t,e)||r$e(t,e)||t$e()}function t$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r$e(t,e){if(t){if(typeof t=="string")return jM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jM(t,e)}}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function a$e(t){if(Array.isArray(t))return t}function wM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(r),!0).forEach(function(n){s$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s$e(t,e,r){return e=o$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o$e(t){var e=i$e(t,"string");return lm(e)=="symbol"?e:e+""}function i$e(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l$e(t){return Array.isArray(t)&&mr(t[0])&&mr(t[1])?t.join(" ~ "):t}var c$e=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,i=e.itemStyle,l=i===void 0?{}:i,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,h=e.wrapperClassName,y=e.labelClassName,g=e.label,p=e.labelFormatter,b=e.accessibilityLayer,v=b===void 0?!1:b,j=function(){if(d&&d.length){var P={padding:0,margin:0},R=(m?S2(d,m):d).map(function(M,_){if(M.type==="none")return null;var L=K1({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),F=M.formatter||f||l$e,$=M.value,O=M.name,U=$,K=O;if(F&&U!=null&&K!=null){var G=F($,O,M,_,d);if(Array.isArray(G)){var z=e$e(G,2);U=z[0],K=z[1]}else U=G}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:L},mr(K)?W.createElement("span",{className:"recharts-tooltip-item-name"},K):null,mr(K)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},U),W.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:P},R)}return null},C=K1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),x=K1({margin:0},u),N=!Je(g),S=N?g:"",A=$e("recharts-default-tooltip",h),I=$e("recharts-tooltip-label",y);N&&p&&d!==void 0&&d!==null&&(S=p(g,d));var E=v?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",MI({className:A,style:C},E),W.createElement("p",{className:I,style:x},W.isValidElement(S)?S:"".concat(S)),j())};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function yp(t,e,r){return e=u$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u$e(t){var e=d$e(t,"string");return cm(e)=="symbol"?e:e+""}function d$e(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ud="recharts-tooltip-wrapper",f$e={visibility:"hidden"};function m$e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return $e(ud,yp(yp(yp(yp({},"".concat(ud,"-right"),je(r)&&e&&je(e.x)&&r>=e.x),"".concat(ud,"-left"),je(r)&&e&&je(e.x)&&r<e.x),"".concat(ud,"-bottom"),je(n)&&e&&je(e.y)&&n>=e.y),"".concat(ud,"-top"),je(n)&&e&&je(e.y)&&n<e.y))}function NM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,i=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&je(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return i[n]?d:f;if(i[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,g=c[n]+u;return y>g?Math.max(d,c[n]):Math.max(f,c[n])}function h$e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function p$e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,i=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=NM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=NM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=h$e({translateX:d,translateY:f,useTranslate3d:l})):u=f$e,{cssProperties:u,cssClasses:m$e({translateX:d,translateY:f,coordinate:r})}}function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function CM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(r),!0).forEach(function(n){FI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i7(n.key),n)}}function b$e(t,e,r){return e&&y$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x$e(t,e,r){return e=mv(e),v$e(t,o7()?Reflect.construct(e,r||[],mv(t).constructor):e.apply(t,r))}function v$e(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j$e(t)}function j$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o7=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mv(t)}function w$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LI(t,e)}function LI(t,e){return LI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LI(t,e)}function FI(t,e,r){return e=i7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i7(t){var e=N$e(t,"string");return Kc(e)=="symbol"?e:e+""}function N$e(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AM=1,C$e=function(t){function e(){var r;g$e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=x$e(this,e,[].concat(a)),FI(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),FI(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return w$e(e,t),b$e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>AM||Math.abs(n.height-this.state.lastBoundingBox.height)>AM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,y=a.position,g=a.reverseDirection,p=a.useTranslate3d,b=a.viewBox,v=a.wrapperStyle,j=p$e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:h,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:b}),C=j.cssClasses,x=j.cssProperties,N=SM(SM({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return W.createElement("div",{tabIndex:-1,className:C,style:N,ref:function(A){n.wrapperNode=A}},u)}}])}(w.PureComponent),S$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Nw={isSsr:S$e()};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function IM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(r),!0).forEach(function(n){A2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c7(n.key),n)}}function k$e(t,e,r){return e&&I$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T$e(t,e,r){return e=hv(e),E$e(t,l7()?Reflect.construct(e,r||[],hv(t).constructor):e.apply(t,r))}function E$e(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D$e(t)}function D$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l7=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hv(t)}function P$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BI(t,e)}function BI(t,e){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BI(t,e)}function A2(t,e,r){return e=c7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c7(t){var e=O$e(t,"string");return Jc(e)=="symbol"?e:e+""}function O$e(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _$e(t){return t.dataKey}function $$e(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(c$e,e)}var as=function(t){function e(){return A$e(this,e),T$e(this,e,arguments)}return P$e(e,t),k$e(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,y=a.payload,g=a.payloadUniqBy,p=a.position,b=a.reverseDirection,v=a.useTranslate3d,j=a.viewBox,C=a.wrapperStyle,x=y??[];f&&x.length&&(x=Qz(y.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),g,_$e));var N=x.length>0;return W.createElement(C$e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:N,offset:h,position:p,reverseDirection:b,useTranslate3d:v,viewBox:j,wrapperStyle:C},$$e(u,kM(kM({},this.props),{},{payload:x})))}}])}(w.PureComponent);A2(as,"displayName","Tooltip");A2(as,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Nw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var R$e=Ja,M$e=function(){return R$e.Date.now()},L$e=M$e,F$e=/\s/;function B$e(t){for(var e=t.length;e--&&F$e.test(t.charAt(e)););return e}var q$e=B$e,V$e=q$e,U$e=/^\s+/;function z$e(t){return t&&t.slice(0,V$e(t)+1).replace(U$e,"")}var W$e=z$e,H$e=W$e,TM=Qo,G$e=Au,EM=NaN,Y$e=/^[-+]0x[0-9a-f]+$/i,K$e=/^0b[01]+$/i,J$e=/^0o[0-7]+$/i,X$e=parseInt;function Q$e(t){if(typeof t=="number")return t;if(G$e(t))return EM;if(TM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=TM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=H$e(t);var r=K$e.test(t);return r||J$e.test(t)?X$e(t.slice(2),r?2:8):Y$e.test(t)?EM:+t}var u7=Q$e,Z$e=Qo,J1=L$e,DM=u7,eRe="Expected a function",tRe=Math.max,rRe=Math.min;function nRe(t,e,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(eRe);e=DM(e)||0,Z$e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?tRe(DM(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function h(N){var S=n,A=a;return n=a=void 0,u=N,i=t.apply(A,S),i}function y(N){return u=N,l=setTimeout(b,e),d?h(N):i}function g(N){var S=N-c,A=N-u,I=e-S;return f?rRe(I,s-A):I}function p(N){var S=N-c,A=N-u;return c===void 0||S>=e||S<0||f&&A>=s}function b(){var N=J1();if(p(N))return v(N);l=setTimeout(b,g(N))}function v(N){return l=void 0,m&&n?h(N):(n=a=void 0,i)}function j(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function C(){return l===void 0?i:v(J1())}function x(){var N=J1(),S=p(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(b,e),h(c)}return l===void 0&&(l=setTimeout(b,e)),i}return x.cancel=j,x.flush=C,x}var aRe=nRe,sRe=aRe,oRe=Qo,iRe="Expected a function";function lRe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(iRe);return oRe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),sRe(t,e,{leading:n,maxWait:e,trailing:a})}var cRe=lRe;const d7=it(cRe);function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function PM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(r),!0).forEach(function(n){uRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uRe(t,e,r){return e=dRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dRe(t){var e=fRe(t,"string");return um(e)=="symbol"?e:e+""}function fRe(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mRe(t,e){return yRe(t)||gRe(t,e)||pRe(t,e)||hRe()}function hRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pRe(t,e){if(t){if(typeof t=="string")return OM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OM(t,e)}}function OM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function yRe(t){if(Array.isArray(t))return t}var Cw=w.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,i=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,h=t.children,y=t.debounce,g=y===void 0?0:y,p=t.id,b=t.className,v=t.onResize,j=t.style,C=j===void 0?{}:j,x=w.useRef(null),N=w.useRef();N.current=v,w.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var S=w.useState({containerWidth:a.width,containerHeight:a.height}),A=mRe(S,2),I=A[0],E=A[1],k=w.useCallback(function(R,M){E(function(_){var L=Math.round(R),F=Math.round(M);return _.containerWidth===L&&_.containerHeight===F?_:{containerWidth:L,containerHeight:F}})},[]);w.useEffect(function(){var R=function(O){var U,K=O[0].contentRect,G=K.width,z=K.height;k(G,z),(U=N.current)===null||U===void 0||U.call(N,G,z)};g>0&&(R=d7(R,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(R),_=x.current.getBoundingClientRect(),L=_.width,F=_.height;return k(L,F),M.observe(x.current),function(){M.disconnect()}},[k,g]);var P=w.useMemo(function(){var R=I.containerWidth,M=I.containerHeight;if(R<0||M<0)return null;Ns(Di(i)||Di(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Ns(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=Di(i)?R:i,L=Di(c)?M:c;r&&r>0&&(_?L=_/r:L&&(_=L*r),m&&L>m&&(L=m)),Ns(_>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,L,i,c,d,f,r);var F=!Array.isArray(h)&&ws(h.type).endsWith("Chart");return W.Children.map(h,function($){return W.isValidElement($)?w.cloneElement($,bp({width:_,height:L},F?{style:bp({height:"100%",width:"100%",maxHeight:L,maxWidth:_},$.props.style)}:{})):$})},[r,h,c,m,f,d,I,i]);return W.createElement("div",{id:p?"".concat(p):void 0,className:$e("recharts-responsive-container",b),style:bp(bp({},C),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:x},P)}),_u=function(e){return null};_u.displayName="Cell";function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function _M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(r),!0).forEach(function(n){bRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bRe(t,e,r){return e=xRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xRe(t){var e=vRe(t,"string");return dm(e)=="symbol"?e:e+""}function vRe(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vl={widthCache:{},cacheCount:0},jRe=2e3,wRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$M="recharts_measurement_span";function NRe(t){var e=qI({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var RM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Nw.isSsr)return{width:0,height:0};var n=NRe(r),a=JSON.stringify({text:e,copyStyle:n});if(Vl.widthCache[a])return Vl.widthCache[a];try{var s=document.getElementById($M);s||(s=document.createElement("span"),s.setAttribute("id",$M),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=qI(qI({},wRe),n);Object.assign(s.style,i),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Vl.widthCache[a]=c,++Vl.cacheCount>jRe&&(Vl.cacheCount=0,Vl.widthCache={}),c}catch{return{width:0,height:0}}},CRe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function pv(t,e){return kRe(t)||IRe(t,e)||ARe(t,e)||SRe()}function SRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ARe(t,e){if(t){if(typeof t=="string")return MM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MM(t,e)}}function MM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function kRe(t){if(Array.isArray(t))return t}function TRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DRe(n.key),n)}}function ERe(t,e,r){return e&&LM(t.prototype,e),r&&LM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DRe(t){var e=PRe(t,"string");return fm(e)=="symbol"?e:e+""}function PRe(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ORe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_Re=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,f7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$Re=Object.keys(f7),ac="NaN";function RRe(t,e){return t*f7[e]}var xp=function(){function t(e,r){TRe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!ORe.test(r)&&(this.num=NaN,this.unit=""),$Re.includes(r)&&(this.num=RRe(e,r),this.unit="px")}return ERe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=_Re.exec(r))!==null&&n!==void 0?n:[],s=pv(a,3),i=s[1],l=s[2];return new t(parseFloat(i),l??"")}}])}();function m7(t){if(t.includes(ac))return ac;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=FM.exec(e))!==null&&r!==void 0?r:[],a=pv(n,4),s=a[1],i=a[2],l=a[3],c=xp.parse(s??""),u=xp.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ac;e=e.replace(FM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=BM.exec(e))!==null&&f!==void 0?f:[],h=pv(m,4),y=h[1],g=h[2],p=h[3],b=xp.parse(y??""),v=xp.parse(p??""),j=g==="+"?b.add(v):b.subtract(v);if(j.isNaN())return ac;e=e.replace(BM,j.toString())}return e}var qM=/\(([^()]*)\)/;function MRe(t){for(var e=t;e.includes("(");){var r=qM.exec(e),n=pv(r,2),a=n[1];e=e.replace(qM,m7(a))}return e}function LRe(t){var e=t.replace(/\s+/g,"");return e=MRe(e),e=m7(e),e}function FRe(t){try{return LRe(t)}catch{return ac}}function X1(t){var e=FRe(t.slice(5,-1));return e===ac?"":e}var BRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qRe=["dx","dy","angle","className","breakAll"];function VI(){return VI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VI.apply(this,arguments)}function VM(t,e){if(t==null)return{};var r=VRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function UM(t,e){return HRe(t)||WRe(t,e)||zRe(t,e)||URe()}function URe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zRe(t,e){if(t){if(typeof t=="string")return zM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zM(t,e)}}function zM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function HRe(t){if(Array.isArray(t))return t}var h7=/[ \f\n\r\t\v\u2028\u2029]+/,p7=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Je(r)||(n?s=r.toString().split(""):s=r.toString().split(h7));var i=s.map(function(c){return{word:c,width:RM(c,a).width}}),l=n?0:RM("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},GRe=function(e,r,n,a,s){var i=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=je(i),f=l,m=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return _.reduce(function(L,F){var $=F.word,O=F.width,U=L[L.length-1];if(U&&(a==null||s||U.width+O+n<Number(a)))U.words.push($),U.width+=O+n;else{var K={words:[$],width:O};L.push(K)}return L},[])},h=m(r),y=function(_){return _.reduce(function(L,F){return L.width>F.width?L:F})};if(!d)return h;for(var g="",p=function(_){var L=f.slice(0,_),F=p7({breakAll:u,style:c,children:L+g}).wordsWithComputedWidth,$=m(F),O=$.length>i||y($).width>Number(a);return[O,$]},b=0,v=f.length-1,j=0,C;b<=v&&j<=f.length-1;){var x=Math.floor((b+v)/2),N=x-1,S=p(N),A=UM(S,2),I=A[0],E=A[1],k=p(x),P=UM(k,1),R=P[0];if(!I&&!R&&(b=x+1),I&&R&&(v=x-1),!I&&R){C=E;break}j++}return C||h},WM=function(e){var r=Je(e)?[]:e.toString().split(h7);return[{words:r}]},YRe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,i=e.breakAll,l=e.maxLines;if((r||n)&&!Nw.isSsr){var c,u,d=p7({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return WM(a);return GRe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return WM(a)},HM="#808080",Xc=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.lineHeight,l=i===void 0?"1em":i,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,h=m===void 0?"start":m,y=e.verticalAnchor,g=y===void 0?"end":y,p=e.fill,b=p===void 0?HM:p,v=VM(e,BRe),j=w.useMemo(function(){return YRe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),C=v.dx,x=v.dy,N=v.angle,S=v.className,A=v.breakAll,I=VM(v,qRe);if(!mr(n)||!mr(s))return null;var E=n+(je(C)?C:0),k=s+(je(x)?x:0),P;switch(g){case"start":P=X1("calc(".concat(u,")"));break;case"middle":P=X1("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=X1("calc(".concat(j.length-1," * -").concat(l,")"));break}var R=[];if(f){var M=j[0].width,_=v.width;R.push("scale(".concat((je(_)?_/M:1)/M,")"))}return N&&R.push("rotate(".concat(N,", ").concat(E,", ").concat(k,")")),R.length&&(I.transform=R.join(" ")),W.createElement("text",VI({},ze(I,!0),{x:E,y:k,className:$e("recharts-text",S),textAnchor:h,fill:b.includes("url")?HM:b}),j.map(function(L,F){var $=L.words.join(A?"":" ");return W.createElement("tspan",{x:E,dy:F===0?P:l,key:"".concat($,"-").concat(F)},$)}))};function Po(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KRe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function I2(t){let e,r,n;t.length!==2?(e=Po,r=(l,c)=>Po(t(l),c),n=(l,c)=>t(l)-c):(e=t===Po||t===KRe?t:JRe,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function JRe(){return 0}function g7(t){return t===null?NaN:+t}function*XRe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const QRe=I2(Po),bh=QRe.right;I2(g7).center;class GM extends Map{constructor(e,r=tMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(YM(this,e))}has(e){return super.has(YM(this,e))}set(e,r){return super.set(ZRe(this,e),r)}delete(e){return super.delete(eMe(this,e))}}function YM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function ZRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function eMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function tMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function rMe(t=Po){if(t===Po)return y7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function y7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const nMe=Math.sqrt(50),aMe=Math.sqrt(10),sMe=Math.sqrt(2);function gv(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=nMe?10:s>=aMe?5:s>=sMe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?gv(t,e,r*2):[l,c,u]}function UI(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,i]=n?gv(e,t,r):gv(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function zI(t,e,r){return e=+e,t=+t,r=+r,gv(t,e,r)[2]}function WI(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?zI(e,t,r):zI(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function KM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function JM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function b7(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?y7:rMe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+m)),y=Math.min(n,Math.floor(e+(c-u)*f/c+m));b7(t,e,h,y,a)}const s=t[e];let i=r,l=n;for(dd(t,r,e),a(t[n],s)>0&&dd(t,r,n);i<l;){for(dd(t,i,l),++i,--l;a(t[i],s)<0;)++i;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?dd(t,r,l):(++l,dd(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function dd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function oMe(t,e,r){if(t=Float64Array.from(XRe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return JM(t);if(e>=1)return KM(t);var n,a=(n-1)*e,s=Math.floor(a),i=KM(b7(t,s).subarray(0,s+1)),l=JM(t.subarray(s+1));return i+(l-i)*(a-s)}}function iMe(t,e,r=g7){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),i=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return i+(l-i)*(a-s)}}function lMe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function ta(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const HI=Symbol("implicit");function k2(){var t=new GM,e=[],r=[],n=HI;function a(s){let i=t.get(s);if(i===void 0){if(n!==HI)return n;t.set(s,i=e.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new GM;for(const i of s)t.has(i)||t.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return k2(e,r).unknown(n)},ta.apply(a,arguments),a}function mm(){var t=k2().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,h=a<n,y=h?a:n,g=h?n:a;s=(g-y)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),y+=(g-y-s*(m-c))*d,i=s*(1-c),l&&(y=Math.round(y),i=Math.round(i));var p=lMe(m).map(function(b){return y+s*b});return r(h?p.reverse():p)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return i},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return mm(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ta.apply(f(),arguments)}function x7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return x7(e())},t}function ff(){return x7(mm.apply(null,arguments).paddingInner(1))}function T2(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function v7(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function xh(){}var hm=.7,yv=1/hm,Dc="\\s*([+-]?\\d+)\\s*",pm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cMe=/^#([0-9a-f]{3,8})$/,uMe=new RegExp(`^rgb\\(${Dc},${Dc},${Dc}\\)$`),dMe=new RegExp(`^rgb\\(${Wa},${Wa},${Wa}\\)$`),fMe=new RegExp(`^rgba\\(${Dc},${Dc},${Dc},${pm}\\)$`),mMe=new RegExp(`^rgba\\(${Wa},${Wa},${Wa},${pm}\\)$`),hMe=new RegExp(`^hsl\\(${pm},${Wa},${Wa}\\)$`),pMe=new RegExp(`^hsla\\(${pm},${Wa},${Wa},${pm}\\)$`),XM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T2(xh,gm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:QM,formatHex:QM,formatHex8:gMe,formatHsl:yMe,formatRgb:ZM,toString:ZM});function QM(){return this.rgb().formatHex()}function gMe(){return this.rgb().formatHex8()}function yMe(){return j7(this).formatHsl()}function ZM(){return this.rgb().formatRgb()}function gm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=cMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?eL(e):r===3?new sn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?vp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?vp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uMe.exec(t))?new sn(e[1],e[2],e[3],1):(e=dMe.exec(t))?new sn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fMe.exec(t))?vp(e[1],e[2],e[3],e[4]):(e=mMe.exec(t))?vp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hMe.exec(t))?nL(e[1],e[2]/100,e[3]/100,1):(e=pMe.exec(t))?nL(e[1],e[2]/100,e[3]/100,e[4]):XM.hasOwnProperty(t)?eL(XM[t]):t==="transparent"?new sn(NaN,NaN,NaN,0):null}function eL(t){return new sn(t>>16&255,t>>8&255,t&255,1)}function vp(t,e,r,n){return n<=0&&(t=e=r=NaN),new sn(t,e,r,n)}function bMe(t){return t instanceof xh||(t=gm(t)),t?(t=t.rgb(),new sn(t.r,t.g,t.b,t.opacity)):new sn}function GI(t,e,r,n){return arguments.length===1?bMe(t):new sn(t,e,r,n??1)}function sn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}T2(sn,GI,v7(xh,{brighter(t){return t=t==null?yv:Math.pow(yv,t),new sn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hm:Math.pow(hm,t),new sn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sn(Zi(this.r),Zi(this.g),Zi(this.b),bv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tL,formatHex:tL,formatHex8:xMe,formatRgb:rL,toString:rL}));function tL(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}`}function xMe(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}${Pi((isNaN(this.opacity)?1:this.opacity)*255)}`}function rL(){const t=bv(this.opacity);return`${t===1?"rgb(":"rgba("}${Zi(this.r)}, ${Zi(this.g)}, ${Zi(this.b)}${t===1?")":`, ${t})`}`}function bv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pi(t){return t=Zi(t),(t<16?"0":"")+t.toString(16)}function nL(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ua(t,e,r,n)}function j7(t){if(t instanceof ua)return new ua(t.h,t.s,t.l,t.opacity);if(t instanceof xh||(t=gm(t)),!t)return new ua;if(t instanceof ua)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-e)/l+2:i=(e-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new ua(i,l,c,t.opacity)}function vMe(t,e,r,n){return arguments.length===1?j7(t):new ua(t,e,r,n??1)}function ua(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}T2(ua,vMe,v7(xh,{brighter(t){return t=t==null?yv:Math.pow(yv,t),new ua(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hm:Math.pow(hm,t),new ua(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new sn(Q1(t>=240?t-240:t+120,a,n),Q1(t,a,n),Q1(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ua(aL(this.h),jp(this.s),jp(this.l),bv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bv(this.opacity);return`${t===1?"hsl(":"hsla("}${aL(this.h)}, ${jp(this.s)*100}%, ${jp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aL(t){return t=(t||0)%360,t<0?t+360:t}function jp(t){return Math.max(0,Math.min(1,t||0))}function Q1(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const E2=t=>()=>t;function jMe(t,e){return function(r){return t+r*e}}function wMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function NMe(t){return(t=+t)==1?w7:function(e,r){return r-e?wMe(e,r,t):E2(isNaN(e)?r:e)}}function w7(t,e){var r=e-t;return r?jMe(t,r):E2(isNaN(t)?e:t)}const sL=function t(e){var r=NMe(e);function n(a,s){var i=r((a=GI(a)).r,(s=GI(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=w7(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function CMe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function SMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function AMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=$u(t[i],e[i]);for(;i<r;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function IMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function xv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function kMe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=$u(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var YI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Z1=new RegExp(YI.source,"g");function TMe(t){return function(){return t}}function EMe(t){return function(e){return t(e)+""}}function DMe(t,e){var r=YI.lastIndex=Z1.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(t=t+"",e=e+"";(n=YI.exec(t))&&(a=Z1.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:xv(n,a)})),r=Z1.lastIndex;return r<e.length&&(s=e.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?EMe(c[0].x):TMe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function $u(t,e){var r=typeof e,n;return e==null||r==="boolean"?E2(e):(r==="number"?xv:r==="string"?(n=gm(e))?(e=n,sL):DMe:e instanceof gm?sL:e instanceof Date?IMe:SMe(e)?CMe:Array.isArray(e)?AMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kMe:xv)(t,e)}function D2(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function PMe(t,e){e===void 0&&(e=t,t=$u);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function OMe(t){return function(){return t}}function vv(t){return+t}var oL=[0,1];function Hr(t){return t}function KI(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:OMe(isNaN(e)?NaN:.5)}function _Me(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function $Me(t,e,r){var n=t[0],a=t[1],s=e[0],i=e[1];return a<n?(n=KI(a,n),s=r(i,s)):(n=KI(n,a),s=r(s,i)),function(l){return s(n(l))}}function RMe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=KI(t[i],t[i+1]),s[i]=r(e[i],e[i+1]);return function(l){var c=bh(t,l,1,n)-1;return s[c](a[c](l))}}function vh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Sw(){var t=oL,e=oL,r=$u,n,a,s,i=Hr,l,c,u;function d(){var m=Math.min(t.length,e.length);return i!==Hr&&(i=_Me(t[0],t[m-1])),l=m>2?RMe:$Me,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(n),e,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=l(e,t.map(n),xv)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,vv),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=D2,d()},f.clamp=function(m){return arguments.length?(i=m?!0:Hr,d()):i!==Hr},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return n=m,a=h,d()}}function P2(){return Sw()(Hr,Hr)}function MMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Qc(t){return t=jv(Math.abs(t)),t?t[1]:NaN}function LMe(t,e){return function(r,n){for(var a=r.length,s=[],i=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[i=(i+1)%t.length];return s.reverse().join(e)}}function FMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var BMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ym(t){if(!(e=BMe.exec(t)))throw new Error("invalid format: "+t);var e;return new O2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ym.prototype=O2.prototype;function O2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}O2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qMe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var N7;function VMe(t,e){var r=jv(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(N7=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+jv(t,Math.max(0,e+s-1))[0]}function iL(t,e){var r=jv(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const lL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:MMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>iL(t*100,e),r:iL,s:VMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cL(t){return t}var uL=Array.prototype.map,dL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function UMe(t){var e=t.grouping===void 0||t.thousands===void 0?cL:LMe(uL.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?cL:FMe(uL.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=ym(f);var m=f.fill,h=f.align,y=f.sign,g=f.symbol,p=f.zero,b=f.width,v=f.comma,j=f.precision,C=f.trim,x=f.type;x==="n"?(v=!0,x="g"):lL[x]||(j===void 0&&(j=12),C=!0,x="g"),(p||m==="0"&&h==="=")&&(p=!0,m="0",h="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S=g==="$"?n:/[%p]/.test(x)?i:"",A=lL[x],I=/[defgprs%]/.test(x);j=j===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function E(k){var P=N,R=S,M,_,L;if(x==="c")R=A(k)+R,k="";else{k=+k;var F=k<0||1/k<0;if(k=isNaN(k)?c:A(Math.abs(k),j),C&&(k=qMe(k)),F&&+k==0&&y!=="+"&&(F=!1),P=(F?y==="("?y:l:y==="-"||y==="("?"":y)+P,R=(x==="s"?dL[8+N7/3]:"")+R+(F&&y==="("?")":""),I){for(M=-1,_=k.length;++M<_;)if(L=k.charCodeAt(M),48>L||L>57){R=(L===46?a+k.slice(M+1):k.slice(M))+R,k=k.slice(0,M);break}}}v&&!p&&(k=e(k,1/0));var $=P.length+k.length+R.length,O=$<b?new Array(b-$+1).join(m):"";switch(v&&p&&(k=e(O+k,O.length?b-R.length:1/0),O=""),h){case"<":k=P+k+R+O;break;case"=":k=P+O+k+R;break;case"^":k=O.slice(0,$=O.length>>1)+P+k+R+O.slice($);break;default:k=O+P+k+R;break}return s(k)}return E.toString=function(){return f+""},E}function d(f,m){var h=u((f=ym(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Qc(m)/3)))*3,g=Math.pow(10,-y),p=dL[8+y/3];return function(b){return h(g*b)+p}}return{format:u,formatPrefix:d}}var wp,_2,C7;zMe({thousands:",",grouping:[3],currency:["$",""]});function zMe(t){return wp=UMe(t),_2=wp.format,C7=wp.formatPrefix,wp}function WMe(t){return Math.max(0,-Qc(Math.abs(t)))}function HMe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qc(e)/3)))*3-Qc(Math.abs(t)))}function GMe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qc(e)-Qc(t))+1}function S7(t,e,r,n){var a=WI(t,e,r),s;switch(n=ym(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=HMe(a,i))&&(n.precision=s),C7(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=GMe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=WMe(a))&&(n.precision=s-(n.type==="%")*2);break}}return _2(n)}function ei(t){var e=t.domain;return t.ticks=function(r){var n=e();return UI(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return S7(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=zI(i,l,r),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function wv(){var t=P2();return t.copy=function(){return vh(t,wv())},ta.apply(t,arguments),ei(t)}function A7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,vv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return A7(t).unknown(e)},t=arguments.length?Array.from(t,vv):[0,1],ei(r)}function I7(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),t[r]=e.floor(a),t[n]=e.ceil(s),t}function fL(t){return Math.log(t)}function mL(t){return Math.exp(t)}function YMe(t){return-Math.log(-t)}function KMe(t){return-Math.exp(-t)}function JMe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function XMe(t){return t===10?JMe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function QMe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hL(t){return(e,r)=>-t(-e,r)}function $2(t){const e=t(fL,mL),r=e.domain;let n=10,a,s;function i(){return a=QMe(n),s=XMe(n),r()[0]<0?(a=hL(a),s=hL(s),t(YMe,KMe)):t(fL,mL),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(r(l),i()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),y,g;const p=l==null?10:+l;let b=[];if(!(n%1)&&h-m<p){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(y=1;y<n;++y)if(g=m<0?y/s(-m):y*s(m),!(g<u)){if(g>d)break;b.push(g)}}else for(;m<=h;++m)for(y=n-1;y>=1;--y)if(g=m>0?y/s(-m):y*s(m),!(g<u)){if(g>d)break;b.push(g)}b.length*2<p&&(b=UI(u,d,p))}else b=UI(m,h,Math.min(h-m,p)).map(s);return f?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ym(c)).precision==null&&(c.trim=!0),c=_2(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(I7(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function k7(){const t=$2(Sw()).domain([1,10]);return t.copy=()=>vh(t,k7()).base(t.base()),ta.apply(t,arguments),t}function pL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function R2(t){var e=1,r=t(pL(e),gL(e));return r.constant=function(n){return arguments.length?t(pL(e=+n),gL(e)):e},ei(r)}function T7(){var t=R2(Sw());return t.copy=function(){return vh(t,T7()).constant(t.constant())},ta.apply(t,arguments)}function yL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ZMe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function eLe(t){return t<0?-t*t:t*t}function M2(t){var e=t(Hr,Hr),r=1;function n(){return r===1?t(Hr,Hr):r===.5?t(ZMe,eLe):t(yL(r),yL(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},ei(e)}function L2(){var t=M2(Sw());return t.copy=function(){return vh(t,L2()).exponent(t.exponent())},ta.apply(t,arguments),t}function tLe(){return L2.apply(null,arguments).exponent(.5)}function bL(t){return Math.sign(t)*t*t}function rLe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function E7(){var t=P2(),e=[0,1],r=!1,n;function a(s){var i=rLe(t(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return t.invert(bL(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,vv)).map(bL)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return E7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ta.apply(a,arguments),ei(a)}function D7(){var t=[],e=[],r=[],n;function a(){var i=0,l=Math.max(1,e.length);for(r=new Array(l-1);++i<l;)r[i-1]=iMe(t,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[bh(r,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Po),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return D7().domain(t).range(e).unknown(n)},ta.apply(s,arguments)}function P7(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[bh(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return i}return i.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return P7().domain([t,e]).range(a).unknown(s)},ta.apply(ei(i),arguments)}function O7(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[bh(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[t[i-1],t[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return O7().domain(t).range(e).unknown(r)},ta.apply(a,arguments)}const eC=new Date,tC=new Date;function hr(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<i);return c},a.filter=s=>hr(i=>{if(i>=i)for(;t(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),r&&(a.count=(s,i)=>(eC.setTime(+s),tC.setTime(+i),t(eC),t(tC),Math.floor(r(eC,tC))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const Nv=hr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Nv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?hr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Nv);Nv.range;const ps=1e3,Yn=ps*60,gs=Yn*60,_s=gs*24,F2=_s*7,xL=_s*30,rC=_s*365,Oi=hr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ps)},(t,e)=>(e-t)/ps,t=>t.getUTCSeconds());Oi.range;const B2=hr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ps)},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getMinutes());B2.range;const q2=hr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getUTCMinutes());q2.range;const V2=hr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ps-t.getMinutes()*Yn)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getHours());V2.range;const U2=hr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getUTCHours());U2.range;const jh=hr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yn)/_s,t=>t.getDate()-1);jh.range;const Aw=hr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_s,t=>t.getUTCDate()-1);Aw.range;const _7=hr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_s,t=>Math.floor(t/_s));_7.range;function El(t){return hr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Yn)/F2)}const Iw=El(0),Cv=El(1),nLe=El(2),aLe=El(3),Zc=El(4),sLe=El(5),oLe=El(6);Iw.range;Cv.range;nLe.range;aLe.range;Zc.range;sLe.range;oLe.range;function Dl(t){return hr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/F2)}const kw=Dl(0),Sv=Dl(1),iLe=Dl(2),lLe=Dl(3),eu=Dl(4),cLe=Dl(5),uLe=Dl(6);kw.range;Sv.range;iLe.range;lLe.range;eu.range;cLe.range;uLe.range;const z2=hr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());z2.range;const W2=hr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());W2.range;const $s=hr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});$s.range;const Rs=hr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Rs.range;function $7(t,e,r,n,a,s){const i=[[Oi,1,ps],[Oi,5,5*ps],[Oi,15,15*ps],[Oi,30,30*ps],[s,1,Yn],[s,5,5*Yn],[s,15,15*Yn],[s,30,30*Yn],[a,1,gs],[a,3,3*gs],[a,6,6*gs],[a,12,12*gs],[n,1,_s],[n,2,2*_s],[r,1,F2],[e,1,xL],[e,3,3*xL],[t,1,rC]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),y=h?h.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,f){const m=Math.abs(d-u)/f,h=I2(([,,p])=>p).right(i,m);if(h===i.length)return t.every(WI(u/rC,d/rC,f));if(h===0)return Nv.every(Math.max(WI(u,d,f),1));const[y,g]=i[m/i[h-1][2]<i[h][2]/m?h-1:h];return y.every(g)}return[l,c]}const[dLe,fLe]=$7(Rs,W2,kw,_7,U2,q2),[mLe,hLe]=$7($s,z2,Iw,jh,V2,B2);function nC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function aC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fd(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function pLe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,i=t.shortDays,l=t.months,c=t.shortMonths,u=md(a),d=hd(a),f=md(s),m=hd(s),h=md(i),y=hd(i),g=md(l),p=hd(l),b=md(c),v=hd(c),j={a:F,A:$,b:O,B:U,c:null,d:SL,e:SL,f:LLe,g:YLe,G:JLe,H:$Le,I:RLe,j:MLe,L:R7,m:FLe,M:BLe,p:K,q:G,Q:kL,s:TL,S:qLe,u:VLe,U:ULe,V:zLe,w:WLe,W:HLe,x:null,X:null,y:GLe,Y:KLe,Z:XLe,"%":IL},C={a:z,A:ae,b:xe,B:se,c:null,d:AL,e:AL,f:tFe,g:dFe,G:mFe,H:QLe,I:ZLe,j:eFe,L:L7,m:rFe,M:nFe,p:J,q:ce,Q:kL,s:TL,S:aFe,u:sFe,U:oFe,V:iFe,w:lFe,W:cFe,x:null,X:null,y:uFe,Y:fFe,Z:hFe,"%":IL},x={a:E,A:k,b:P,B:R,c:M,d:NL,e:NL,f:DLe,g:wL,G:jL,H:CL,I:CL,j:ILe,L:ELe,m:ALe,M:kLe,p:I,q:SLe,Q:OLe,s:_Le,S:TLe,u:vLe,U:jLe,V:wLe,w:xLe,W:NLe,x:_,X:L,y:wL,Y:jL,Z:CLe,"%":PLe};j.x=N(r,j),j.X=N(n,j),j.c=N(e,j),C.x=N(r,C),C.X=N(n,C),C.c=N(e,C);function N(ee,re){return function(X){var H=[],me=-1,Ne=0,Ee=ee.length,Ue,Ve,qr;for(X instanceof Date||(X=new Date(+X));++me<Ee;)ee.charCodeAt(me)===37&&(H.push(ee.slice(Ne,me)),(Ve=vL[Ue=ee.charAt(++me)])!=null?Ue=ee.charAt(++me):Ve=Ue==="e"?" ":"0",(qr=re[Ue])&&(Ue=qr(X,Ve)),H.push(Ue),Ne=me+1);return H.push(ee.slice(Ne,me)),H.join("")}}function S(ee,re){return function(X){var H=fd(1900,void 0,1),me=A(H,ee,X+="",0),Ne,Ee;if(me!=X.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(re&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Ne=aC(fd(H.y,0,1)),Ee=Ne.getUTCDay(),Ne=Ee>4||Ee===0?Sv.ceil(Ne):Sv(Ne),Ne=Aw.offset(Ne,(H.V-1)*7),H.y=Ne.getUTCFullYear(),H.m=Ne.getUTCMonth(),H.d=Ne.getUTCDate()+(H.w+6)%7):(Ne=nC(fd(H.y,0,1)),Ee=Ne.getDay(),Ne=Ee>4||Ee===0?Cv.ceil(Ne):Cv(Ne),Ne=jh.offset(Ne,(H.V-1)*7),H.y=Ne.getFullYear(),H.m=Ne.getMonth(),H.d=Ne.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Ee="Z"in H?aC(fd(H.y,0,1)).getUTCDay():nC(fd(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Ee+5)%7:H.w+H.U*7-(Ee+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,aC(H)):nC(H)}}function A(ee,re,X,H){for(var me=0,Ne=re.length,Ee=X.length,Ue,Ve;me<Ne;){if(H>=Ee)return-1;if(Ue=re.charCodeAt(me++),Ue===37){if(Ue=re.charAt(me++),Ve=x[Ue in vL?re.charAt(me++):Ue],!Ve||(H=Ve(ee,X,H))<0)return-1}else if(Ue!=X.charCodeAt(H++))return-1}return H}function I(ee,re,X){var H=u.exec(re.slice(X));return H?(ee.p=d.get(H[0].toLowerCase()),X+H[0].length):-1}function E(ee,re,X){var H=h.exec(re.slice(X));return H?(ee.w=y.get(H[0].toLowerCase()),X+H[0].length):-1}function k(ee,re,X){var H=f.exec(re.slice(X));return H?(ee.w=m.get(H[0].toLowerCase()),X+H[0].length):-1}function P(ee,re,X){var H=b.exec(re.slice(X));return H?(ee.m=v.get(H[0].toLowerCase()),X+H[0].length):-1}function R(ee,re,X){var H=g.exec(re.slice(X));return H?(ee.m=p.get(H[0].toLowerCase()),X+H[0].length):-1}function M(ee,re,X){return A(ee,e,re,X)}function _(ee,re,X){return A(ee,r,re,X)}function L(ee,re,X){return A(ee,n,re,X)}function F(ee){return i[ee.getDay()]}function $(ee){return s[ee.getDay()]}function O(ee){return c[ee.getMonth()]}function U(ee){return l[ee.getMonth()]}function K(ee){return a[+(ee.getHours()>=12)]}function G(ee){return 1+~~(ee.getMonth()/3)}function z(ee){return i[ee.getUTCDay()]}function ae(ee){return s[ee.getUTCDay()]}function xe(ee){return c[ee.getUTCMonth()]}function se(ee){return l[ee.getUTCMonth()]}function J(ee){return a[+(ee.getUTCHours()>=12)]}function ce(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var re=N(ee+="",j);return re.toString=function(){return ee},re},parse:function(ee){var re=S(ee+="",!1);return re.toString=function(){return ee},re},utcFormat:function(ee){var re=N(ee+="",C);return re.toString=function(){return ee},re},utcParse:function(ee){var re=S(ee+="",!0);return re.toString=function(){return ee},re}}}var vL={"-":"",_:" ",0:"0"},jr=/^\s*\d+/,gLe=/^%/,yLe=/[\\^$*+?|[\]().{}]/g;function nt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function bLe(t){return t.replace(yLe,"\\$&")}function md(t){return new RegExp("^(?:"+t.map(bLe).join("|")+")","i")}function hd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function xLe(t,e,r){var n=jr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function vLe(t,e,r){var n=jr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function jLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function wLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function NLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function jL(t,e,r){var n=jr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function wL(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function CLe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function SLe(t,e,r){var n=jr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function ALe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function NL(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function ILe(t,e,r){var n=jr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function CL(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function kLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function TLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ELe(t,e,r){var n=jr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function DLe(t,e,r){var n=jr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function PLe(t,e,r){var n=gLe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function OLe(t,e,r){var n=jr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function _Le(t,e,r){var n=jr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function SL(t,e){return nt(t.getDate(),e,2)}function $Le(t,e){return nt(t.getHours(),e,2)}function RLe(t,e){return nt(t.getHours()%12||12,e,2)}function MLe(t,e){return nt(1+jh.count($s(t),t),e,3)}function R7(t,e){return nt(t.getMilliseconds(),e,3)}function LLe(t,e){return R7(t,e)+"000"}function FLe(t,e){return nt(t.getMonth()+1,e,2)}function BLe(t,e){return nt(t.getMinutes(),e,2)}function qLe(t,e){return nt(t.getSeconds(),e,2)}function VLe(t){var e=t.getDay();return e===0?7:e}function ULe(t,e){return nt(Iw.count($s(t)-1,t),e,2)}function M7(t){var e=t.getDay();return e>=4||e===0?Zc(t):Zc.ceil(t)}function zLe(t,e){return t=M7(t),nt(Zc.count($s(t),t)+($s(t).getDay()===4),e,2)}function WLe(t){return t.getDay()}function HLe(t,e){return nt(Cv.count($s(t)-1,t),e,2)}function GLe(t,e){return nt(t.getFullYear()%100,e,2)}function YLe(t,e){return t=M7(t),nt(t.getFullYear()%100,e,2)}function KLe(t,e){return nt(t.getFullYear()%1e4,e,4)}function JLe(t,e){var r=t.getDay();return t=r>=4||r===0?Zc(t):Zc.ceil(t),nt(t.getFullYear()%1e4,e,4)}function XLe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function AL(t,e){return nt(t.getUTCDate(),e,2)}function QLe(t,e){return nt(t.getUTCHours(),e,2)}function ZLe(t,e){return nt(t.getUTCHours()%12||12,e,2)}function eFe(t,e){return nt(1+Aw.count(Rs(t),t),e,3)}function L7(t,e){return nt(t.getUTCMilliseconds(),e,3)}function tFe(t,e){return L7(t,e)+"000"}function rFe(t,e){return nt(t.getUTCMonth()+1,e,2)}function nFe(t,e){return nt(t.getUTCMinutes(),e,2)}function aFe(t,e){return nt(t.getUTCSeconds(),e,2)}function sFe(t){var e=t.getUTCDay();return e===0?7:e}function oFe(t,e){return nt(kw.count(Rs(t)-1,t),e,2)}function F7(t){var e=t.getUTCDay();return e>=4||e===0?eu(t):eu.ceil(t)}function iFe(t,e){return t=F7(t),nt(eu.count(Rs(t),t)+(Rs(t).getUTCDay()===4),e,2)}function lFe(t){return t.getUTCDay()}function cFe(t,e){return nt(Sv.count(Rs(t)-1,t),e,2)}function uFe(t,e){return nt(t.getUTCFullYear()%100,e,2)}function dFe(t,e){return t=F7(t),nt(t.getUTCFullYear()%100,e,2)}function fFe(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function mFe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?eu(t):eu.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function hFe(){return"+0000"}function IL(){return"%"}function kL(t){return+t}function TL(t){return Math.floor(+t/1e3)}var Ul,B7,q7;pFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pFe(t){return Ul=pLe(t),B7=Ul.format,Ul.parse,q7=Ul.utcFormat,Ul.utcParse,Ul}function gFe(t){return new Date(t)}function yFe(t){return t instanceof Date?+t:+new Date(+t)}function H2(t,e,r,n,a,s,i,l,c,u){var d=P2(),f=d.invert,m=d.domain,h=u(".%L"),y=u(":%S"),g=u("%I:%M"),p=u("%I %p"),b=u("%a %d"),v=u("%b %d"),j=u("%B"),C=u("%Y");function x(N){return(c(N)<N?h:l(N)<N?y:i(N)<N?g:s(N)<N?p:n(N)<N?a(N)<N?b:v:r(N)<N?j:C)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?m(Array.from(N,yFe)):m().map(gFe)},d.ticks=function(N){var S=m();return t(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?x:u(S)},d.nice=function(N){var S=m();return(!N||typeof N.range!="function")&&(N=e(S[0],S[S.length-1],N??10)),N?m(I7(S,N)):d},d.copy=function(){return vh(d,H2(t,e,r,n,a,s,i,l,c,u))},d}function bFe(){return ta.apply(H2(mLe,hLe,$s,z2,Iw,jh,V2,B2,Oi,B7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xFe(){return ta.apply(H2(dLe,fLe,Rs,W2,kw,Aw,U2,q2,Oi,q7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tw(){var t=0,e=1,r,n,a,s,i=Hr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var h,y;return arguments.length?([h,y]=m,i=f(h,y),u):[i(0),i(1)]}}return u.range=d($u),u.rangeRound=d(D2),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function ti(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function V7(){var t=ei(Tw()(Hr));return t.copy=function(){return ti(t,V7())},zs.apply(t,arguments)}function U7(){var t=$2(Tw()).domain([1,10]);return t.copy=function(){return ti(t,U7()).base(t.base())},zs.apply(t,arguments)}function z7(){var t=R2(Tw());return t.copy=function(){return ti(t,z7()).constant(t.constant())},zs.apply(t,arguments)}function G2(){var t=M2(Tw());return t.copy=function(){return ti(t,G2()).exponent(t.exponent())},zs.apply(t,arguments)}function vFe(){return G2.apply(null,arguments).exponent(.5)}function W7(){var t=[],e=Hr;function r(n){if(n!=null&&!isNaN(n=+n))return e((bh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Po),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>oMe(t,s/n))},r.copy=function(){return W7(e).domain(t)},zs.apply(r,arguments)}function Ew(){var t=0,e=.5,r=1,n=1,a,s,i,l,c,u=Hr,d,f=!1,m;function h(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-s)*(n*g<n*s?l:c),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,r]=g,a=d(t=+t),s=d(e=+e),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h):[t,e,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function y(g){return function(p){var b,v,j;return arguments.length?([b,v,j]=p,u=PMe(g,[b,v,j]),h):[u(0),u(.5),u(1)]}}return h.range=y($u),h.rangeRound=y(D2),h.unknown=function(g){return arguments.length?(m=g,h):m},function(g){return d=g,a=g(t),s=g(e),i=g(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h}}function H7(){var t=ei(Ew()(Hr));return t.copy=function(){return ti(t,H7())},zs.apply(t,arguments)}function G7(){var t=$2(Ew()).domain([.1,1,10]);return t.copy=function(){return ti(t,G7()).base(t.base())},zs.apply(t,arguments)}function Y7(){var t=R2(Ew());return t.copy=function(){return ti(t,Y7()).constant(t.constant())},zs.apply(t,arguments)}function Y2(){var t=M2(Ew());return t.copy=function(){return ti(t,Y2()).exponent(t.exponent())},zs.apply(t,arguments)}function jFe(){return Y2.apply(null,arguments).exponent(.5)}const EL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mm,scaleDiverging:H7,scaleDivergingLog:G7,scaleDivergingPow:Y2,scaleDivergingSqrt:jFe,scaleDivergingSymlog:Y7,scaleIdentity:A7,scaleImplicit:HI,scaleLinear:wv,scaleLog:k7,scaleOrdinal:k2,scalePoint:ff,scalePow:L2,scaleQuantile:D7,scaleQuantize:P7,scaleRadial:E7,scaleSequential:V7,scaleSequentialLog:U7,scaleSequentialPow:G2,scaleSequentialQuantile:W7,scaleSequentialSqrt:vFe,scaleSequentialSymlog:z7,scaleSqrt:tLe,scaleSymlog:T7,scaleThreshold:O7,scaleTime:bFe,scaleUtc:xFe,tickFormat:S7},Symbol.toStringTag,{value:"Module"}));var wFe=Au;function NFe(t,e,r){for(var n=-1,a=t.length;++n<a;){var s=t[n],i=e(s);if(i!=null&&(l===void 0?i===i&&!wFe(i):r(i,l)))var l=i,c=s}return c}var Dw=NFe;function CFe(t,e){return t>e}var K7=CFe,SFe=Dw,AFe=K7,IFe=Ou;function kFe(t){return t&&t.length?SFe(t,IFe,AFe):void 0}var TFe=kFe;const Pw=it(TFe);function EFe(t,e){return t<e}var J7=EFe,DFe=Dw,PFe=J7,OFe=Ou;function _Fe(t){return t&&t.length?DFe(t,OFe,PFe):void 0}var $Fe=_Fe;const Ow=it($Fe);var RFe=i2,MFe=Zo,LFe=a7,FFe=gn;function BFe(t,e){var r=FFe(t)?RFe:LFe;return r(t,MFe(e))}var qFe=BFe,VFe=r7,UFe=qFe;function zFe(t,e){return VFe(UFe(t,e),1)}var WFe=zFe;const HFe=it(WFe);var GFe=N2;function YFe(t,e){return GFe(t,e)}var KFe=YFe;const K2=it(KFe);var Ru=1e9,JFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},X2,Lt=!0,Zn="[DecimalError] ",el=Zn+"Invalid argument: ",J2=Zn+"Exponent out of range: ",Mu=Math.floor,ji=Math.pow,XFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,gr=1e7,Dt=7,X7=9007199254740991,Av=Mu(X7/Dt),Se={};Se.absoluteValue=Se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Se.comparedTo=Se.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Dt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(t){return Cs(this,new this.constructor(t))};Se.dividedToIntegerBy=Se.idiv=function(t){var e=this,r=e.constructor;return vt(Cs(e,new r(t),0,1),r.precision)};Se.equals=Se.eq=function(t){return!this.cmp(t)};Se.exponent=function(){return ir(this)};Se.greaterThan=Se.gt=function(t){return this.cmp(t)>0};Se.greaterThanOrEqualTo=Se.gte=function(t){return this.cmp(t)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(t){return this.cmp(t)<0};Se.lessThanOrEqualTo=Se.lte=function(t){return this.cmp(t)<1};Se.logarithm=Se.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(vn))throw Error(Zn+"NaN");if(r.s<1)throw Error(Zn+(r.s?"NaN":"-Infinity"));return r.eq(vn)?new n(0):(Lt=!1,e=Cs(bm(r,s),bm(t,s),s),Lt=!0,vt(e,a))};Se.minus=Se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?e8(e,t):Q7(e,(t.s=-t.s,t))};Se.modulo=Se.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Zn+"NaN");return r.s?(Lt=!1,e=Cs(r,t,0,1).times(t),Lt=!0,r.minus(e)):vt(new n(r),a)};Se.naturalExponential=Se.exp=function(){return Z7(this)};Se.naturalLogarithm=Se.ln=function(){return bm(this)};Se.negated=Se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Se.plus=Se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Q7(e,t):e8(e,(t.s=-t.s,t))};Se.precision=Se.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(el+t);if(e=ir(a)+1,n=a.d.length-1,r=n*Dt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Se.squareRoot=Se.sqrt=function(){var t,e,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Zn+"NaN")}for(t=ir(l),Lt=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=_a(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Mu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(Cs(l,s,i+2)).times(.5),_a(s.d).slice(0,i)===(e=_a(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(vt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Lt=!0,vt(n,r)};Se.times=Se.mul=function(t){var e,r,n,a,s,i,l,c,u,d=this,f=d.constructor,m=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+h[n]*m[a-n-1]+e,s[a--]=l%gr|0,e=l/gr|0;s[a]=(s[a]+e)%gr|0}for(;!s[--i];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Lt?vt(t,f.precision):t};Se.toDecimalPlaces=Se.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ga(t,0,Ru),e===void 0?e=n.rounding:Ga(e,0,8),vt(r,t+ir(r)+1,e))};Se.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=yl(n,!0):(Ga(t,0,Ru),e===void 0?e=a.rounding:Ga(e,0,8),n=vt(new a(n),t+1,e),r=yl(n,!0,t+1)),r};Se.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?yl(a):(Ga(t,0,Ru),e===void 0?e=s.rounding:Ga(e,0,8),n=vt(new s(a),t+ir(a)+1,e),r=yl(n.abs(),!1,t+ir(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var t=this,e=t.constructor;return vt(new e(t),ir(t)+1,e.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(t){var e,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(vn);if(l=new c(l),!l.s){if(t.s<1)throw Error(Zn+"Infinity");return l}if(l.eq(vn))return l;if(n=c.precision,t.eq(vn))return vt(l,n);if(e=t.e,r=t.d.length-1,i=e>=r,s=l.s,i){if((r=d<0?-d:d)<=X7){for(a=new c(vn),e=Math.ceil(n/Dt+4),Lt=!1;r%2&&(a=a.times(l),PL(a.d,e)),r=Mu(r/2),r!==0;)l=l.times(l),PL(l.d,e);return Lt=!0,t.s<0?new c(vn).div(a):vt(a,n)}}else if(s<0)throw Error(Zn+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Lt=!1,a=t.times(bm(l,n+u)),Lt=!0,a=Z7(a),a.s=s,a};Se.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=ir(a),n=yl(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ga(t,1,Ru),e===void 0?e=s.rounding:Ga(e,0,8),a=vt(new s(a),t,e),r=ir(a),n=yl(a,t<=r||r<=s.toExpNeg,t)),n};Se.toSignificantDigits=Se.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ga(t,1,Ru),e===void 0?e=n.rounding:Ga(e,0,8)),vt(new n(r),t,e)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ir(t),r=t.constructor;return yl(t,e<=r.toExpNeg||e>=r.toExpPos)};function Q7(t,e){var r,n,a,s,i,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Lt?vt(e,f):e;if(c=t.d,u=e.d,i=t.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Dt),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/gr|0,c[s]%=gr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Lt?vt(e,f):e}function Ga(t,e,r){if(t!==~~t||t<e||t>r)throw Error(el+t)}function _a(t){var e,r,n,a=t.length-1,s="",i=t[0];if(a>0){for(s+=i,e=1;e<a;e++)n=t[e]+"",r=Dt-n.length,r&&(s+=to(r)),s+=n;i=t[e],n=i+"",r=Dt-n.length,r&&(s+=to(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var Cs=function(){function t(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%gr|0,i=s/gr|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*gr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,m,h,y,g,p,b,v,j,C,x,N,S,A,I=n.constructor,E=n.s==a.s?1:-1,k=n.d,P=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(Zn+"Division by zero");for(c=n.e-a.e,S=P.length,x=k.length,h=new I(E),y=h.d=[],u=0;P[u]==(k[u]||0);)++u;if(P[u]>(k[u]||0)&&--c,s==null?v=s=I.precision:i?v=s+(ir(n)-ir(a))+1:v=s,v<0)return new I(0);if(v=v/Dt+2|0,u=0,S==1)for(d=0,P=P[0],v++;(u<x||d)&&v--;u++)j=d*gr+(k[u]||0),y[u]=j/P|0,d=j%P|0;else{for(d=gr/(P[0]+1)|0,d>1&&(P=t(P,d),k=t(k,d),S=P.length,x=k.length),C=S,g=k.slice(0,S),p=g.length;p<S;)g[p++]=0;A=P.slice(),A.unshift(0),N=P[0],P[1]>=gr/2&&++N;do d=0,l=e(P,g,S,p),l<0?(b=g[0],S!=p&&(b=b*gr+(g[1]||0)),d=b/N|0,d>1?(d>=gr&&(d=gr-1),f=t(P,d),m=f.length,p=g.length,l=e(f,g,m,p),l==1&&(d--,r(f,S<m?A:P,m))):(d==0&&(l=d=1),f=P.slice()),m=f.length,m<p&&f.unshift(0),r(g,f,p),l==-1&&(p=g.length,l=e(P,g,S,p),l<1&&(d++,r(g,S<p?A:P,p))),p=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[p++]=k[C]||0:(g=[k[C]],p=1);while((C++<x||g[0]!==void 0)&&v--)}return y[0]||y.shift(),h.e=c,vt(h,i?s+ir(h)+1:s)}}();function Z7(t,e){var r,n,a,s,i,l,c=0,u=0,d=t.constructor,f=d.precision;if(ir(t)>16)throw Error(J2+ir(t));if(!t.s)return new d(vn);for(Lt=!1,l=f,i=new d(.03125);t.abs().gte(.1);)t=t.times(i),u+=5;for(n=Math.log(ji(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(vn),d.precision=l;;){if(a=vt(a.times(t),l),r=r.times(++c),i=s.plus(Cs(a,r,l)),_a(i.d).slice(0,l)===_a(s.d).slice(0,l)){for(;u--;)s=vt(s.times(s),l);return d.precision=f,e==null?(Lt=!0,vt(s,f)):s}s=i}}function ir(t){for(var e=t.e*Dt,r=t.d[0];r>=10;r/=10)e++;return e}function sC(t,e,r){if(e>t.LN10.sd())throw Lt=!0,r&&(t.precision=r),Error(Zn+"LN10 precision limit exceeded");return vt(new t(t.LN10),e)}function to(t){for(var e="";t--;)e+="0";return e}function bm(t,e){var r,n,a,s,i,l,c,u,d,f=1,m=10,h=t,y=h.d,g=h.constructor,p=g.precision;if(h.s<1)throw Error(Zn+(h.s?"NaN":"-Infinity"));if(h.eq(vn))return new g(0);if(e==null?(Lt=!1,u=p):u=e,h.eq(10))return e==null&&(Lt=!0),sC(g,u);if(u+=m,g.precision=u,r=_a(y),n=r.charAt(0),s=ir(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=_a(h.d),n=r.charAt(0),f++;s=ir(h),n>1?(h=new g("0."+r),s++):h=new g(n+"."+r.slice(1))}else return c=sC(g,u+2,p).times(s+""),h=bm(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=p,e==null?(Lt=!0,vt(h,p)):h;for(l=i=h=Cs(h.minus(vn),h.plus(vn),u),d=vt(h.times(h),u),a=3;;){if(i=vt(i.times(d),u),c=l.plus(Cs(i,new g(a),u)),_a(c.d).slice(0,u)===_a(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(sC(g,u+2,p).times(s+""))),l=Cs(l,new g(f),u),g.precision=p,e==null?(Lt=!0,vt(l,p)):l;l=c,a+=2}}function DL(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Mu(r/Dt),t.d=[],n=(r+1)%Dt,r<0&&(n+=Dt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Dt;n<a;)t.d.push(+e.slice(n,n+=Dt));e=e.slice(n),n=Dt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Lt&&(t.e>Av||t.e<-Av))throw Error(J2+r)}else t.s=0,t.e=0,t.d=[0];return t}function vt(t,e,r){var n,a,s,i,l,c,u,d,f=t.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=Dt,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Dt),s=f.length,d>=s)return t;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Dt,a=n-Dt+i}if(r!==void 0&&(s=ji(10,i-a-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/ji(10,i-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=ir(t),f.length=1,e=e-s-1,f[0]=ji(10,(Dt-e%Dt)%Dt),t.e=Mu(-e/Dt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=ji(10,Dt-n),f[d]=a>0?(u/ji(10,i-a)%ji(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==gr&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=gr)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Lt&&(t.e>Av||t.e<-Av))throw Error(J2+ir(t));return t}function e8(t,e){var r,n,a,s,i,l,c,u,d,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Lt?vt(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Dt),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=gr-1;--c[s],c[a]+=gr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Lt?vt(e,h):e):new m(0)}function yl(t,e,r){var n,a=ir(t),s=_a(t.d),i=s.length;return e?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+to(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+to(-a-1)+s,r&&(n=r-i)>0&&(s+=to(n))):a>=i?(s+=to(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+to(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=to(n))),t.s<0?"-"+s:s}function PL(t,e){if(t.length>e)return t.length=e,!0}function t8(t){var e,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(el+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return DL(i,s.toString())}else if(typeof s!="string")throw Error(el+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,XFe.test(s))DL(i,s);else throw Error(el+s)}if(a.prototype=Se,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=t8,a.config=a.set=QFe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function QFe(t){if(!t||typeof t!="object")throw Error(Zn+"Object expected");var e,r,n,a=["precision",1,Ru,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Mu(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(el+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(el+r+": "+n);return this}var X2=t8(JFe);vn=new X2(1);const gt=X2;function ZFe(t){return n5e(t)||r5e(t)||t5e(t)||e5e()}function e5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t5e(t,e){if(t){if(typeof t=="string")return JI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JI(t,e)}}function r5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function n5e(t){if(Array.isArray(t))return JI(t)}function JI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a5e=function(e){return e},r8={},n8=function(e){return e===r8},OL=function(e){return function r(){return arguments.length===0||arguments.length===1&&n8(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},s5e=function t(e,r){return e===1?r:OL(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==r8}).length;return i>=e?r.apply(void 0,a):t(e-i,OL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return n8(f)?c.shift():f});return r.apply(void 0,ZFe(d).concat(c))}))})},_w=function(e){return s5e(e.length,e)},XI=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},o5e=_w(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),i5e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return a5e;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},QI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},a8=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function l5e(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function c5e(t,e,r){for(var n=new gt(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var u5e=_w(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),d5e=_w(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),f5e=_w(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const $w={rangeStep:c5e,getDigitCount:l5e,interpolateNumber:u5e,uninterpolateNumber:d5e,uninterpolateTruncation:f5e};function ZI(t){return p5e(t)||h5e(t)||s8(t)||m5e()}function m5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function p5e(t){if(Array.isArray(t))return ek(t)}function xm(t,e){return b5e(t)||y5e(t,e)||s8(t,e)||g5e()}function g5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s8(t,e){if(t){if(typeof t=="string")return ek(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=t[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function b5e(t){if(Array.isArray(t))return t}function o8(t){var e=xm(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function i8(t,e,r){if(t.lte(0))return new gt(0);var n=$w.getDigitCount(t.toNumber()),a=new gt(10).pow(n),s=t.div(a),i=n!==1?.05:.1,l=new gt(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return e?c:new gt(Math.ceil(c))}function x5e(t,e,r){var n=1,a=new gt(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new gt(10).pow($w.getDigitCount(t)-1),a=new gt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new gt(Math.floor(t)))}else t===0?a=new gt(Math.floor((e-1)/2)):r||(a=new gt(Math.floor(t)));var i=Math.floor((e-1)/2),l=i5e(o5e(function(c){return a.add(new gt(c-i).mul(n)).toNumber()}),XI);return l(0,e)}function l8(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var s=i8(new gt(e).sub(t).div(r-1),n,a),i;t<=0&&e>=0?i=new gt(0):(i=new gt(t).add(e).div(2),i=i.sub(new gt(i).mod(s)));var l=Math.ceil(i.sub(t).div(s).toNumber()),c=Math.ceil(new gt(e).sub(i).div(s).toNumber()),u=l+c+1;return u>r?l8(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:i.sub(new gt(l).mul(s)),tickMax:i.add(new gt(c).mul(s))})}function v5e(t){var e=xm(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=o8([r,n]),c=xm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(ZI(XI(0,a-1).map(function(){return 1/0}))):[].concat(ZI(XI(0,a-1).map(function(){return-1/0})),[d]);return r>n?QI(f):f}if(u===d)return x5e(u,a,s);var m=l8(u,d,i,s),h=m.step,y=m.tickMin,g=m.tickMax,p=$w.rangeStep(y,g.add(new gt(.1).mul(h)),h);return r>n?QI(p):p}function j5e(t,e){var r=xm(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=o8([n,a]),l=xm(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=i8(new gt(u).sub(c).div(d-1),s,0),m=[].concat(ZI($w.rangeStep(new gt(c),new gt(u).sub(new gt(.99).mul(f)),f)),[u]);return n>a?QI(m):m}var w5e=a8(v5e),N5e=a8(j5e),C5e="Invariant failed";function tu(t,e){throw new Error(C5e)}var S5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iv.apply(this,arguments)}function A5e(t,e){return E5e(t)||T5e(t,e)||k5e(t,e)||I5e()}function I5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k5e(t,e){if(t){if(typeof t=="string")return _L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _L(t,e)}}function _L(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function T5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function E5e(t){if(Array.isArray(t))return t}function D5e(t,e){if(t==null)return{};var r=P5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function P5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function O5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d8(n.key),n)}}function $5e(t,e,r){return e&&_5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R5e(t,e,r){return e=kv(e),M5e(t,c8()?Reflect.construct(e,r||[],kv(t).constructor):e.apply(t,r))}function M5e(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L5e(t)}function L5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c8=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kv(t)}function F5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tk(t,e)}function tk(t,e){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tk(t,e)}function u8(t,e,r){return e=d8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d8(t){var e=B5e(t,"string");return ru(e)=="symbol"?e:e+""}function B5e(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Q2=function(t){function e(){return O5e(this,e),R5e(this,e,arguments)}return F5e(e,t),$5e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=D5e(n,S5e),h=ze(m,!1);this.props.direction==="x"&&d.type!=="number"&&tu();var y=c.map(function(g){var p=u(g,l),b=p.x,v=p.y,j=p.value,C=p.errorVal;if(!C)return null;var x=[],N,S;if(Array.isArray(C)){var A=A5e(C,2);N=A[0],S=A[1]}else N=S=C;if(s==="vertical"){var I=d.scale,E=v+a,k=E+i,P=E-i,R=I(j-N),M=I(j+S);x.push({x1:M,y1:k,x2:M,y2:P}),x.push({x1:R,y1:E,x2:M,y2:E}),x.push({x1:R,y1:k,x2:R,y2:P})}else if(s==="horizontal"){var _=f.scale,L=b+a,F=L-i,$=L+i,O=_(j-N),U=_(j+S);x.push({x1:F,y1:U,x2:$,y2:U}),x.push({x1:L,y1:O,x2:L,y2:U}),x.push({x1:F,y1:O,x2:$,y2:O})}return W.createElement(Ht,Iv({className:"recharts-errorBar",key:"bar-".concat(x.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},h),x.map(function(K){return W.createElement("line",Iv({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return W.createElement(Ht,{className:"recharts-errorBars"},y)}}])}(W.Component);u8(Q2,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});u8(Q2,"displayName","ErrorBar");function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function $L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(r),!0).forEach(function(n){q5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q5e(t,e,r){return e=V5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V5e(t){var e=U5e(t,"string");return vm(e)=="symbol"?e:e+""}function U5e(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f8=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,i=Vn(r,za);if(!i)return null;var l=za.defaultProps,c=l!==void 0?ui(ui({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,y=h.sectors||h.data||[];return d.concat(y.map(function(g){return{type:i.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?ui(ui({},m),f.props):{},y=h.dataKey,g=h.name,p=h.legendType,b=h.hide;return{inactive:b,dataKey:y,type:c.iconType||p||"square",color:Z2(f),value:g||y,payload:h}}),ui(ui(ui({},c),za.getWithHeight(i,a)),{},{payload:u,item:i})};function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function RL(t){return G5e(t)||H5e(t)||W5e(t)||z5e()}function z5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W5e(t,e){if(t){if(typeof t=="string")return rk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(t,e)}}function H5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G5e(t){if(Array.isArray(t))return rk(t)}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ML(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(r),!0).forEach(function(n){Pc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pc(t,e,r){return e=Y5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y5e(t){var e=K5e(t,"string");return jm(e)=="symbol"?e:e+""}function K5e(t,e){if(jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jn(t,e,r){return Je(t)||Je(e)?r:mr(e)?ba(t,e,r):We(e)?e(t):r}function mf(t,e,r,n){var a=HFe(t,function(l){return jn(l,e)});if(r==="number"){var s=a.filter(function(l){return je(l)||parseFloat(l)});return s.length?[Ow(s),Pw(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Je(l)}):a;return i.map(function(l){return mr(l)||l instanceof Date?l:""})}var J5e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(Gn(f-d)!==Gn(m-f)){var y=[];if(Gn(m-f)===Gn(c[1]-c[0])){h=m;var g=f+c[1]-c[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{h=d;var p=m+c[1]-c[0];y[0]=Math.min(f,(p+f)/2),y[1]=Math.max(f,(p+f)/2)}var b=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){i=a[u].index;break}}else{var v=Math.min(d,m),j=Math.max(d,m);if(e>(v+f)/2&&e<=(j+f)/2){i=a[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){i=n[C].index;break}return i},Z2=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Wt(Wt({},e.type.defaultProps),e.props):e.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},X5e=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var y=d[f[m]],g=y.items,p=y.cateAxisId,b=g.filter(function(S){return ws(S.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,j=v!==void 0?Wt(Wt({},v),b[0].props):b[0].props,C=j.barSize,x=j[p];i[x]||(i[x]=[]);var N=Je(C)?r:C;i[x].push({item:b[0],stackList:b.slice(1),barSize:Je(N)?void 0:an(N,n,0)})}}return i},Q5e=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,i=s===void 0?[]:s,l=e.maxBarSize,c=i.length;if(c<1)return null;var u=an(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var m=!1,h=a/c,y=i.reduce(function(C,x){return C+x.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&h>0&&(m=!0,h*=.9,y=c*h);var g=(a-y)/2>>0,p={offset:g-u,size:0};d=i.reduce(function(C,x){var N={item:x.item,position:{offset:p.offset+p.size+u,size:m?h:x.barSize}},S=[].concat(RL(C),[N]);return p=S[S.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(A){S.push({item:A,position:p})}),S},f)}else{var b=an(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var v=(a-2*b-(c-1)*u)/c;v>1&&(v>>=0);var j=l===+l?Math.min(v,l):v;d=i.reduce(function(C,x,N){var S=[].concat(RL(C),[{item:x.item,position:{offset:b+(v+u)*N+(v-j)/2,size:j}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},f)}return d},Z5e=function(e,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=f8({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,h=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&h!=="center"&&je(e[h]))return Wt(Wt({},e),{},Pc({},h,e[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&y!=="middle"&&je(e[y]))return Wt(Wt({},e),{},Pc({},y,e[y]+(m||0)))}return e},e4e=function(e,r,n){return Je(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},m8=function(e,r,n,a,s){var i=r.props.children,l=Ua(i,Q2).filter(function(u){return e4e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=jn(d,n);if(Je(f))return u;var m=Array.isArray(f)?[Ow(f),Pw(f)]:[f,f],h=c.reduce(function(y,g){var p=jn(d,g,0),b=m[0]-Math.abs(Array.isArray(p)?p[0]:p),v=m[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(b,y[0]),Math.max(v,y[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},t4e=function(e,r,n,a,s){var i=r.map(function(l){return m8(e,l,n,s,a)}).filter(function(l){return!Je(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},h8=function(e,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&m8(e,c,u,a)||mf(e,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},p8=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Pd=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,i=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Gn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!yh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:s?s[f]:f,index:m,offset:u}})},oC=new WeakMap,Np=function(e,r){if(typeof r!="function")return e;oC.has(e)||oC.set(e,new WeakMap);var n=oC.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},r4e=function(e,r,n){var a=e.scale,s=e.type,i=e.layout,l=e.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:mm(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:wv(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:ff(),realScaleType:"point"}:s==="category"?{scale:mm(),realScaleType:"band"}:{scale:wv(),realScaleType:"linear"};if(gh(a)){var c="scale".concat(gw(a));return{scale:(EL[c]||ff)(),realScaleType:EL[c]?c:"point"}}return We(a)?{scale:a}:{scale:ff(),realScaleType:"point"}},LL=1e-4,n4e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-LL,i=Math.max(a[0],a[1])+LL,l=e(r[0]),c=e(r[n-1]);(l<s||l>i||c<s||c>i)&&e.domain([r[0],r[n-1]])}},a4e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=yh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1])}},s4e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=yh(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=s,e[i][n][1]=s+l,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},o4e={sign:a4e,expand:Cke,none:Hc,silhouette:Ske,wiggle:Ake,positive:s4e},i4e=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=o4e[n],i=Nke().keys(a).value(function(l,c){return+jn(l,c,0)}).order(II).offset(s);return i(e)},l4e=function(e,r,n,a,s,i){if(!e)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,m){var h,y=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Wt(Wt({},m.type.defaultProps),m.props):m.props,g=y.stackId,p=y.hide;if(p)return f;var b=y[n],v=f[b]||{hasStack:!1,stackGroups:{}};if(mr(g)){var j=v.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(m),v.hasStack=!0,v.stackGroups[g]=j}else v.stackGroups[hw("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Wt(Wt({},f),{},Pc({},b,v))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var y={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,p){var b=h.stackGroups[p];return Wt(Wt({},g),{},Pc({},p,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:i4e(e,b.items,s)}))},y)}return Wt(Wt({},f),{},Pc({},m,h))},d)},c4e=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=w5e(u,s,l);return e.domain([Ow(d),Pw(d)]),{niceTicks:d}}if(s&&a==="number"){var f=e.domain(),m=N5e(f,s,l);return{niceTicks:m}}return null},u4e=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Wt(Wt({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(mr(s)){var i=r[s];if(i){var l=i.items.indexOf(e);return l>=0?i.stackedData[l]:null}}return null},d4e=function(e){return e.reduce(function(r,n){return[Ow(n.concat([r[0]]).filter(je)),Pw(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},g8=function(e,r,n){return Object.keys(e).reduce(function(a,s){var i=e[s],l=i.stackedData,c=l.reduce(function(u,d){var f=d4e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},FL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nk=function(e,r,n){if(We(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(je(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(FL.test(e[0])){var s=+FL.exec(e[0])[1];a[0]=r[0]-s}else We(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(je(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(BL.test(e[1])){var i=+BL.exec(e[1])[1];a[1]=r[1]+i}else We(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},ak=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=S2(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},qL=function(e,r,n){return!e||!e.length||K2(e,ba(n,"type.defaultProps.domain"))?r:e},f4e=function(e,r){var n=e.type.defaultProps?Wt(Wt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Wt(Wt({},ze(e,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:Z2(e),value:jn(r,a),type:c,payload:r,chartType:u,hide:d})};function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function VL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ss(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(r),!0).forEach(function(n){y8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y8(t,e,r){return e=m4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m4e(t){var e=h4e(t,"string");return wm(e)=="symbol"?e:e+""}function h4e(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p4e(t,e){return x4e(t)||b4e(t,e)||y4e(t,e)||g4e()}function g4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y4e(t,e){if(t){if(typeof t=="string")return UL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UL(t,e)}}function UL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function x4e(t){if(Array.isArray(t))return t}var Tv=Math.PI/180,v4e=function(e){return e*180/Math.PI},It=function(e,r,n,a){return{x:e+Math.cos(-Tv*a)*n,y:r+Math.sin(-Tv*a)*n}},b8=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},j4e=function(e,r,n,a,s){var i=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=an(e.cx,i,i/2),f=an(e.cy,l,l/2),m=b8(i,l,n),h=an(e.innerRadius,m,0),y=an(e.outerRadius,m,m*.8),g=Object.keys(r);return g.reduce(function(p,b){var v=r[b],j=v.domain,C=v.reversed,x;if(Je(v.range))a==="angleAxis"?x=[c,u]:a==="radiusAxis"&&(x=[h,y]),C&&(x=[x[1],x[0]]);else{x=v.range;var N=x,S=p4e(N,2);c=S[0],u=S[1]}var A=r4e(v,s),I=A.realScaleType,E=A.scale;E.domain(j).range(x),n4e(E);var k=c4e(E,ss(ss({},v),{},{realScaleType:I})),P=ss(ss(ss({},v),k),{},{range:x,radius:y,realScaleType:I,scale:E,cx:d,cy:f,innerRadius:h,outerRadius:y,startAngle:c,endAngle:u});return ss(ss({},p),{},y8({},b,P))},{})},w4e=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},N4e=function(e,r){var n=e.x,a=e.y,s=r.cx,i=r.cy,l=w4e({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:v4e(u),angleInRadian:u}},C4e=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},S4e=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return e+l*360},zL=function(e,r){var n=e.x,a=e.y,s=N4e({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=C4e(r),f=d.startAngle,m=d.endAngle,h=l,y;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;y=h>=m&&h<=f}return y?ss(ss({},r),{},{radius:i,angle:S4e(h,r)}):null},x8=function(e){return!w.isValidElement(e)&&!We(e)&&typeof e!="boolean"?e.className:""};function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}var A4e=["offset"];function I4e(t){return D4e(t)||E4e(t)||T4e(t)||k4e()}function k4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T4e(t,e){if(t){if(typeof t=="string")return sk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(t,e)}}function E4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D4e(t){if(Array.isArray(t))return sk(t)}function sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P4e(t,e){if(t==null)return{};var r=O4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(r),!0).forEach(function(n){_4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _4e(t,e,r){return e=$4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $4e(t){var e=R4e(t,"string");return Nm(e)=="symbol"?e:e+""}function R4e(t,e){if(Nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cm.apply(this,arguments)}var M4e=function(e){var r=e.value,n=e.formatter,a=Je(e.children)?r:e.children;return We(n)?n(a):a},L4e=function(e,r){var n=Gn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},F4e=function(e,r,n){var a=e.position,s=e.viewBox,i=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,y=c.endAngle,g=c.clockWise,p=(f+m)/2,b=L4e(h,y),v=b>=0?1:-1,j,C;a==="insideStart"?(j=h+v*i,C=g):a==="insideEnd"?(j=y-v*i,C=!g):a==="end"&&(j=y+v*i,C=g),C=b<=0?C:!C;var x=It(u,d,p,j),N=It(u,d,p,j+(C?1:-1)*359),S="M".concat(x.x,",").concat(x.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(C?0:1,`,
    `).concat(N.x,",").concat(N.y),A=Je(e.id)?hw("recharts-radial-line-"):e.id;return W.createElement("text",Cm({},n,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",l)}),W.createElement("defs",null,W.createElement("path",{id:A,d:S})),W.createElement("textPath",{xlinkHref:"#".concat(A)},r))},B4e=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(a==="outside"){var h=It(i,l,u+n,m),y=h.x,g=h.y;return{x:y,y:g,textAnchor:y>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var p=(c+u)/2,b=It(i,l,p,m),v=b.x,j=b.y;return{x:v,y:j,textAnchor:"middle",verticalAnchor:"middle"}},q4e=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,m=f*a,h=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,p=g*a,b=g>0?"end":"start",v=g>0?"start":"end";if(s==="top"){var j={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return cr(cr({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var C={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:y};return cr(cr({},C),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var x={x:l-p,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return cr(cr({},x),n?{width:Math.max(x.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+p,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return cr(cr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?cr({x:l+p,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},S):s==="insideRight"?cr({x:l+u-p,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):s==="insideTop"?cr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:y},S):s==="insideBottom"?cr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},S):s==="insideTopLeft"?cr({x:l+p,y:c+m,textAnchor:v,verticalAnchor:y},S):s==="insideTopRight"?cr({x:l+u-p,y:c+m,textAnchor:b,verticalAnchor:y},S):s==="insideBottomLeft"?cr({x:l+p,y:c+d-m,textAnchor:v,verticalAnchor:h},S):s==="insideBottomRight"?cr({x:l+u-p,y:c+d-m,textAnchor:b,verticalAnchor:h},S):Iu(s)&&(je(s.x)||Di(s.x))&&(je(s.y)||Di(s.y))?cr({x:l+an(s.x,u),y:c+an(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):cr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},V4e=function(e){return"cx"in e&&je(e.cx)};function Ar(t){var e=t.offset,r=e===void 0?5:e,n=P4e(t,A4e),a=cr({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!s||Je(l)&&Je(c)&&!w.isValidElement(u)&&!We(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var h;if(We(u)){if(h=w.createElement(u,a),w.isValidElement(h))return h}else h=M4e(a);var y=V4e(s),g=ze(a,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return F4e(a,h,g);var p=y?B4e(a):q4e(a);return W.createElement(Xc,Cm({className:$e("recharts-label",f)},g,p,{breakAll:m}),h)}Ar.displayName="Label";var v8=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,i=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,h=e.top,y=e.left,g=e.width,p=e.height,b=e.clockWise,v=e.labelViewBox;if(v)return v;if(je(g)&&je(p)){if(je(f)&&je(m))return{x:f,y:m,width:g,height:p};if(je(h)&&je(y))return{x:h,y,width:g,height:p}}return je(f)&&je(m)?{x:f,y:m,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},U4e=function(e,r){return e?e===!0?W.createElement(Ar,{key:"label-implicit",viewBox:r}):mr(e)?W.createElement(Ar,{key:"label-implicit",viewBox:r,value:e}):w.isValidElement(e)?e.type===Ar?w.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(Ar,{key:"label-implicit",content:e,viewBox:r}):We(e)?W.createElement(Ar,{key:"label-implicit",content:e,viewBox:r}):Iu(e)?W.createElement(Ar,Cm({viewBox:r},e,{key:"label-implicit"})):null:null},z4e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=v8(e),i=Ua(a,Ar).map(function(c,u){return w.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=U4e(e.label,r||s);return[l].concat(I4e(i))};Ar.parseViewBox=v8;Ar.renderCallByParent=z4e;function W4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var H4e=W4e;const G4e=it(H4e);function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}var Y4e=["valueAccessor"],K4e=["data","dataKey","clockWise","id","textBreakAll"];function J4e(t){return eBe(t)||Z4e(t)||Q4e(t)||X4e()}function X4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q4e(t,e){if(t){if(typeof t=="string")return ok(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ok(t,e)}}function Z4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eBe(t){if(Array.isArray(t))return ok(t)}function ok(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ev.apply(this,arguments)}function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(r),!0).forEach(function(n){tBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tBe(t,e,r){return e=rBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rBe(t){var e=nBe(t,"string");return Sm(e)=="symbol"?e:e+""}function nBe(t,e){if(Sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YL(t,e){if(t==null)return{};var r=aBe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var sBe=function(e){return Array.isArray(e.value)?G4e(e.value):e.value};function tl(t){var e=t.valueAccessor,r=e===void 0?sBe:e,n=YL(t,Y4e),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=YL(n,K4e);return!a||!a.length?null:W.createElement(Ht,{className:"recharts-label-list"},a.map(function(d,f){var m=Je(s)?r(d,f):jn(d&&d.payload,s),h=Je(l)?{}:{id:"".concat(l,"-").concat(f)};return W.createElement(Ar,Ev({},ze(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Ar.parseViewBox(Je(i)?d:GL(GL({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}tl.displayName="LabelList";function oBe(t,e){return t?t===!0?W.createElement(tl,{key:"labelList-implicit",data:e}):W.isValidElement(t)||We(t)?W.createElement(tl,{key:"labelList-implicit",data:e,content:t}):Iu(t)?W.createElement(tl,Ev({data:e},t,{key:"labelList-implicit"})):null:null}function iBe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Ua(n,tl).map(function(i,l){return w.cloneElement(i,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=oBe(t.label,e);return[s].concat(J4e(a))}tl.renderCallByParent=iBe;function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function ik(){return ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ik.apply(this,arguments)}function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){lBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lBe(t,e,r){return e=cBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cBe(t){var e=uBe(t,"string");return Am(e)=="symbol"?e:e+""}function uBe(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dBe=function(e,r){var n=Gn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Cp=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,i=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Tv,m=u?s:s+i*f,h=It(r,n,d,m),y=It(r,n,a,m),g=u?s-i*f:s,p=It(r,n,d*Math.cos(f*Tv),g);return{center:h,circleTangency:y,lineTangency:p,theta:f}},j8=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.startAngle,l=e.endAngle,c=dBe(i,l),u=i+c,d=It(r,n,s,i),f=It(r,n,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=It(r,n,a,i),y=It(r,n,a,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},fBe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Gn(d-u),m=Cp({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),h=m.circleTangency,y=m.lineTangency,g=m.theta,p=Cp({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),b=p.circleTangency,v=p.lineTangency,j=p.theta,C=c?Math.abs(u-d):Math.abs(u-d)-g-j;if(C<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):j8({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var x="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var N=Cp({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),S=N.circleTangency,A=N.lineTangency,I=N.theta,E=Cp({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),k=E.circleTangency,P=E.lineTangency,R=E.theta,M=c?Math.abs(u-d):Math.abs(u-d)-I-R;if(M<0&&i===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},mBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},w8=function(e){var r=JL(JL({},mBe),e),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(i<s||d===f)return null;var h=$e("recharts-sector",m),y=i-s,g=an(l,y,0,!0),p;return g>0&&Math.abs(d-f)<360?p=fBe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):p=j8({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),W.createElement("path",ik({},ze(r,!0),{className:h,d:p,role:"img"}))};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function lk(){return lk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lk.apply(this,arguments)}function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){hBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hBe(t,e,r){return e=pBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pBe(t){var e=gBe(t,"string");return Im(e)=="symbol"?e:e+""}function gBe(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZL={curveBasisClosed:fke,curveBasisOpen:mke,curveBasis:dke,curveBumpX:XIe,curveBumpY:QIe,curveLinearClosed:hke,curveLinear:bw,curveMonotoneX:pke,curveMonotoneY:gke,curveNatural:yke,curveStep:bke,curveStepAfter:vke,curveStepBefore:xke},Sp=function(e){return e.x===+e.x&&e.y===+e.y},pd=function(e){return e.x},gd=function(e){return e.y},yBe=function(e,r){if(We(e))return e;var n="curve".concat(gw(e));return(n==="curveMonotone"||n==="curveBump")&&r?ZL["".concat(n).concat(r==="vertical"?"Y":"X")]:ZL[n]||bw},bBe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,i=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=yBe(n,l),f=u?s.filter(function(g){return Sp(g)}):s,m;if(Array.isArray(i)){var h=u?i.filter(function(g){return Sp(g)}):i,y=f.map(function(g,p){return QL(QL({},g),{},{base:h[p]})});return l==="vertical"?m=pp().y(gd).x1(pd).x0(function(g){return g.base.x}):m=pp().x(pd).y1(gd).y0(function(g){return g.base.y}),m.defined(Sp).curve(d),m(y)}return l==="vertical"&&je(i)?m=pp().y(gd).x1(pd).x0(i):je(i)?m=pp().x(pd).y1(gd).y0(i):m=wz().x(pd).y(gd),m.defined(Sp).curve(d),m(f)},ck=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?bBe(e):a;return w.createElement("path",lk({},ze(e,!1),rv(e),{className:$e("recharts-curve",r),d:i,ref:s}))},N8={exports:{}},xBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vBe=xBe,jBe=vBe;function C8(){}function S8(){}S8.resetWarningCache=C8;var wBe=function(){function t(n,a,s,i,l,c){if(c!==jBe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:S8,resetWarningCache:C8};return r.PropTypes=r,r};N8.exports=wBe();var NBe=N8.exports;const lt=it(NBe);var CBe=Object.getOwnPropertyNames,SBe=Object.getOwnPropertySymbols,ABe=Object.prototype.hasOwnProperty;function eF(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function Ap(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function tF(t){return CBe(t).concat(SBe(t))}var IBe=Object.hasOwn||function(t,e){return ABe.call(t,e)};function Pl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var kBe="__v",TBe="__o",EBe="_owner",rF=Object.getOwnPropertyDescriptor,nF=Object.keys;function DBe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function PBe(t,e){return Pl(t.getTime(),e.getTime())}function OBe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function _Be(t,e){return t===e}function aF(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=i.value,h=l.value;if(r.equals(m[0],h[0],c,f,t,e,r)&&r.equals(m[1],h[1],m[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var $Be=Pl;function RBe(t,e,r){var n=nF(t),a=n.length;if(nF(e).length!==a)return!1;for(;a-- >0;)if(!A8(t,e,r,n[a]))return!1;return!0}function yd(t,e,r){var n=tF(t),a=n.length;if(tF(e).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!A8(t,e,r,s)||(i=rF(t,s),l=rF(e,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function MBe(t,e){return Pl(t.valueOf(),e.valueOf())}function LBe(t,e){return t.source===e.source&&t.flags===e.flags}function sF(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),i,l;(i=s.next())&&!i.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function FBe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function BBe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function A8(t,e,r,n){return(n===EBe||n===TBe||n===kBe)&&(t.$$typeof||e.$$typeof)?!0:IBe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var qBe="[object Arguments]",VBe="[object Boolean]",UBe="[object Date]",zBe="[object Error]",WBe="[object Map]",HBe="[object Number]",GBe="[object Object]",YBe="[object RegExp]",KBe="[object Set]",JBe="[object String]",XBe="[object URL]",QBe=Array.isArray,oF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,iF=Object.assign,ZBe=Object.prototype.toString.call.bind(Object.prototype.toString);function e3e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,i=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(y,g,p){if(y===g)return!0;if(y==null||g==null)return!1;var b=typeof y;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?i(y,g,p):b==="function"?a(y,g,p):!1;var v=y.constructor;if(v!==g.constructor)return!1;if(v===Object)return l(y,g,p);if(QBe(y))return e(y,g,p);if(oF!=null&&oF(y))return f(y,g,p);if(v===Date)return r(y,g,p);if(v===RegExp)return u(y,g,p);if(v===Map)return s(y,g,p);if(v===Set)return d(y,g,p);var j=ZBe(y);return j===UBe?r(y,g,p):j===YBe?u(y,g,p):j===WBe?s(y,g,p):j===KBe?d(y,g,p):j===GBe?typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,p):j===XBe?m(y,g,p):j===zBe?n(y,g,p):j===qBe?l(y,g,p):j===VBe||j===HBe||j===JBe?c(y,g,p):!1}}function t3e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?yd:DBe,areDatesEqual:PBe,areErrorsEqual:OBe,areFunctionsEqual:_Be,areMapsEqual:n?eF(aF,yd):aF,areNumbersEqual:$Be,areObjectsEqual:n?yd:RBe,arePrimitiveWrappersEqual:MBe,areRegExpsEqual:LBe,areSetsEqual:n?eF(sF,yd):sF,areTypedArraysEqual:n?yd:FBe,areUrlsEqual:BBe};if(r&&(a=iF({},a,r(a))),e){var s=Ap(a.areArraysEqual),i=Ap(a.areMapsEqual),l=Ap(a.areObjectsEqual),c=Ap(a.areSetsEqual);a=iF({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function r3e(t){return function(e,r,n,a,s,i,l){return t(e,r,l)}}function n3e(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:a,meta:h,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var a3e=ri();ri({strict:!0});ri({circular:!0});ri({circular:!0,strict:!0});ri({createInternalComparator:function(){return Pl}});ri({strict:!0,createInternalComparator:function(){return Pl}});ri({circular:!0,createInternalComparator:function(){return Pl}});ri({circular:!0,createInternalComparator:function(){return Pl},strict:!0});function ri(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,i=s===void 0?!1:s,l=t3e(t),c=e3e(l),u=n?n(c):r3e(c);return n3e({circular:r,comparator:c,createState:a,equals:u,strict:i})}function s3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function lF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):s3e(a)};requestAnimationFrame(n)}function uk(t){"@babel/helpers - typeof";return uk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uk(t)}function o3e(t){return u3e(t)||c3e(t)||l3e(t)||i3e()}function i3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l3e(t,e){if(t){if(typeof t=="string")return cF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cF(t,e)}}function cF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u3e(t){if(Array.isArray(t))return t}function d3e(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=o3e(i),c=l[0],u=l.slice(1);if(typeof c=="number"){lF(a.bind(null,u),c);return}a(c),lF(a.bind(null,u));return}uk(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function uF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(r),!0).forEach(function(n){I8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I8(t,e,r){return e=f3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f3e(t){var e=m3e(t,"string");return km(e)==="symbol"?e:String(e)}function m3e(t,e){if(km(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(km(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h3e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},p3e=function(e){return e},g3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},hf=function(e,r){return Object.keys(r).reduce(function(n,a){return dF(dF({},n),{},I8({},a,e(a,r[a])))},{})},fF=function(e,r,n){return e.map(function(a){return"".concat(g3e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function y3e(t,e){return v3e(t)||x3e(t,e)||k8(t,e)||b3e()}function b3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function v3e(t){if(Array.isArray(t))return t}function j3e(t){return C3e(t)||N3e(t)||k8(t)||w3e()}function w3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k8(t,e){if(t){if(typeof t=="string")return dk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dk(t,e)}}function N3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C3e(t){if(Array.isArray(t))return dk(t)}function dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Dv=1e-4,T8=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},E8=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},mF=function(e,r){return function(n){var a=T8(e,r);return E8(a,n)}},S3e=function(e,r){return function(n){var a=T8(e,r),s=[].concat(j3e(a.map(function(i,l){return i*l}).slice(1)),[0]);return E8(s,n)}},hF=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),d=y3e(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=mF(a,i),m=mF(s,l),h=S3e(a,i),y=function(b){return b>1?1:b<0?0:b},g=function(b){for(var v=b>1?1:b,j=v,C=0;C<8;++C){var x=f(j)-v,N=h(j);if(Math.abs(x-v)<Dv||N<Dv)return m(j);j=y(j-x/N)}return m(j)};return g.isStepper=!1,g},A3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,i=e.dt,l=i===void 0?17:i,c=function(d,f,m){var h=-(d-f)*n,y=m*s,g=m+(h-y)*l/1e3,p=m*l/1e3+d;return Math.abs(p-f)<Dv&&Math.abs(g)<Dv?[f,0]:[p,g]};return c.isStepper=!0,c.dt=l,c},I3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hF(a);case"spring":return A3e();default:if(a.split("(")[0]==="cubic-bezier")return hF(a)}return typeof a=="function"?a:null};function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function pF(t){return E3e(t)||T3e(t)||D8(t)||k3e()}function k3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E3e(t){if(Array.isArray(t))return mk(t)}function gF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gF(Object(r),!0).forEach(function(n){fk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fk(t,e,r){return e=D3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D3e(t){var e=P3e(t,"string");return Tm(e)==="symbol"?e:String(e)}function P3e(t,e){if(Tm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O3e(t,e){return R3e(t)||$3e(t,e)||D8(t,e)||_3e()}function _3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8(t,e){if(t){if(typeof t=="string")return mk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mk(t,e)}}function mk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function R3e(t){if(Array.isArray(t))return t}var Pv=function(e,r,n){return e+(r-e)*n},hk=function(e){var r=e.from,n=e.to;return r!==n},M3e=function t(e,r,n){var a=hf(function(s,i){if(hk(i)){var l=e(i.from,i.to,i.velocity),c=O3e(l,2),u=c[0],d=c[1];return Nr(Nr({},i),{},{from:u,velocity:d})}return i},r);return n<1?hf(function(s,i){return hk(i)?Nr(Nr({},i),{},{velocity:Pv(i.velocity,a[s].velocity,n),from:Pv(i.from,a[s].from,n)}):i},r):t(e,a,n-1)};const L3e=function(t,e,r,n,a){var s=h3e(t,e),i=s.reduce(function(p,b){return Nr(Nr({},p),{},fk({},b,[t[b],e[b]]))},{}),l=s.reduce(function(p,b){return Nr(Nr({},p),{},fk({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return hf(function(b,v){return v.from},l)},h=function(){return!Object.values(l).filter(hk).length},y=function(b){u||(u=b);var v=b-u,j=v/r.dt;l=M3e(r,l,j),a(Nr(Nr(Nr({},t),e),m())),u=b,h()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var v=(b-d)/n,j=hf(function(x,N){return Pv.apply(void 0,pF(N).concat([r(v)]))},i);if(a(Nr(Nr(Nr({},t),e),j)),v<1)c=requestAnimationFrame(f);else{var C=hf(function(x,N){return Pv.apply(void 0,pF(N).concat([r(1)]))},i);a(Nr(Nr(Nr({},t),e),C))}};return f=r.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}var F3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function B3e(t,e){if(t==null)return{};var r=q3e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function q3e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function iC(t){return W3e(t)||z3e(t)||U3e(t)||V3e()}function V3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U3e(t,e){if(t){if(typeof t=="string")return pk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pk(t,e)}}function z3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W3e(t){if(Array.isArray(t))return pk(t)}function pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(r),!0).forEach(function(n){Od(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Od(t,e,r){return e=P8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P8(n.key),n)}}function Y3e(t,e,r){return e&&G3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P8(t){var e=K3e(t,"string");return nu(e)==="symbol"?e:String(e)}function K3e(t,e){if(nu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gk(t,e)}function gk(t,e){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gk(t,e)}function X3e(t){var e=Q3e();return function(){var n=Ov(t),a;if(e){var s=Ov(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return yk(this,a)}}function yk(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bk(t)}function bk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ov(t)}var qo=function(t){J3e(r,t);var e=X3e(r);function r(n,a){var s;H3e(this,r),s=e.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,m=i.children,h=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(bk(s)),s.changeStyle=s.changeStyle.bind(bk(s)),!l||h<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),yk(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},yk(s);s.state={style:c?Od({},c,u):u}}else s.state={style:{}};return s}return Y3e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!i){var h={style:c?Od({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(a3e(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:a.to;if(this.state&&m){var p={style:c?Od({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(p)}this.runAnimation(sa(sa({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=L3e(i,l,I3e(u),c,this.changeStyle),y=function(){s.stopJSAnimation=h()};this.manager.start([m,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(g,p,b){if(b===0)return g;var v=p.duration,j=p.easing,C=j===void 0?"ease":j,x=p.style,N=p.properties,S=p.onAnimationEnd,A=b>0?i[b-1]:p,I=N||Object.keys(x);if(typeof C=="function"||C==="spring")return[].concat(iC(g),[s.runJSAnimation.bind(s,{from:A.style,to:x,duration:v,easing:C}),v]);var E=fF(I,v,C),k=sa(sa(sa({},A.style),x),{},{transition:E});return[].concat(iC(g),[k,v,S]).filter(p3e)};return this.manager.start([c].concat(iC(i.reduce(h,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=d3e());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var g=l?Od({},l,c):c,p=fF(Object.keys(g),i,u);y.start([d,s,sa(sa({},g),{},{transition:p}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=B3e(a,F3e),u=w.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(h){var y=h.props,g=y.style,p=g===void 0?{}:g,b=y.className,v=w.cloneElement(h,sa(sa({},c),{},{style:sa(sa({},p),d),className:b}));return v};return u===1?f(w.Children.only(s)):W.createElement("div",null,w.Children.map(s,function(m){return f(m)}))}}]),r}(w.PureComponent);qo.displayName="Animate";qo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qo.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_v.apply(this,arguments)}function Z3e(t,e){return nqe(t)||rqe(t,e)||tqe(t,e)||eqe()}function eqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tqe(t,e){if(t){if(typeof t=="string")return bF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bF(t,e)}}function bF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function nqe(t){if(Array.isArray(t))return t}function xF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(r),!0).forEach(function(n){aqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aqe(t,e,r){return e=sqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sqe(t){var e=oqe(t,"string");return Em(e)=="symbol"?e:e+""}function oqe(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jF=function(e,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var y=Math.min(i,s);d="M ".concat(e,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(r,`
            L `).concat(e+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*y,`
            L `).concat(e+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-c*y,",").concat(r+a,`
            L `).concat(e+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*y," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},iqe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),m=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},lqe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eD=function(e){var r=vF(vF({},lqe),e),n=w.useRef(),a=w.useState(-1),s=Z3e(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,y=r.animationEasing,g=r.animationDuration,p=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=$e("recharts-rectangle",h);return v?W.createElement(qo,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:y,isActive:v},function(C){var x=C.width,N=C.height,S=C.x,A=C.y;return W.createElement(qo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,isActive:b,easing:y},W.createElement("path",_v({},ze(r,!0),{className:j,d:jF(S,A,x,N,m),ref:n})))}):W.createElement("path",_v({},ze(r,!0),{className:j,d:jF(c,u,d,f,m)}))},cqe=["points","className","baseLinePoints","connectNulls"];function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sc.apply(this,arguments)}function uqe(t,e){if(t==null)return{};var r=dqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wF(t){return pqe(t)||hqe(t)||mqe(t)||fqe()}function fqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mqe(t,e){if(t){if(typeof t=="string")return xk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(t,e)}}function hqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pqe(t){if(Array.isArray(t))return xk(t)}function xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var NF=function(e){return e&&e.x===+e.x&&e.y===+e.y},gqe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){NF(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),NF(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},pf=function(e,r){var n=gqe(e);r&&(n=[n.reduce(function(s,i){return[].concat(wF(s),wF(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},yqe=function(e,r,n){var a=pf(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(pf(r.reverse(),n).slice(1))},bqe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,i=uqe(e,cqe);if(!r||!r.length)return null;var l=$e("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=yqe(r,a,s);return W.createElement("g",{className:l},W.createElement("path",sc({},ze(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?W.createElement("path",sc({},ze(i,!0),{fill:"none",d:pf(r,s)})):null,c?W.createElement("path",sc({},ze(i,!0),{fill:"none",d:pf(a,s)})):null)}var d=pf(r,s);return W.createElement("path",sc({},ze(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function vk(){return vk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vk.apply(this,arguments)}var tD=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,i=$e("recharts-dot",s);return r===+r&&n===+n&&a===+a?w.createElement("circle",vk({},ze(e,!1),rv(e),{className:i,cx:r,cy:n,r:a})):null};function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}var xqe=["x","y","top","left","width","height","className"];function jk(){return jk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jk.apply(this,arguments)}function CF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vqe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(r),!0).forEach(function(n){jqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jqe(t,e,r){return e=wqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wqe(t){var e=Nqe(t,"string");return Dm(e)=="symbol"?e:e+""}function Nqe(t,e){if(Dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cqe(t,e){if(t==null)return{};var r=Sqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Aqe=function(e,r,n,a,s,i){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},Iqe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.top,l=i===void 0?0:i,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,h=m===void 0?0:m,y=e.className,g=Cqe(e,xqe),p=vqe({x:n,y:s,top:l,left:u,width:f,height:h},g);return!je(n)||!je(s)||!je(f)||!je(h)||!je(l)||!je(u)?null:W.createElement("path",jk({},ze(p,!0),{className:$e("recharts-cross",y),d:Aqe(n,s,f,h,l,u)}))},kqe=Dw,Tqe=K7,Eqe=Zo;function Dqe(t,e){return t&&t.length?kqe(t,Eqe(e),Tqe):void 0}var Pqe=Dqe;const Oqe=it(Pqe);var _qe=Dw,$qe=Zo,Rqe=J7;function Mqe(t,e){return t&&t.length?_qe(t,$qe(e),Rqe):void 0}var Lqe=Mqe;const Fqe=it(Lqe);var Bqe=["cx","cy","angle","ticks","axisLine"],qqe=["ticks","tick","angle","tickFormatter","stroke"];function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gf.apply(this,arguments)}function SF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(r),!0).forEach(function(n){Rw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AF(t,e){if(t==null)return{};var r=Vqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_8(n.key),n)}}function zqe(t,e,r){return e&&IF(t.prototype,e),r&&IF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wqe(t,e,r){return e=$v(e),Hqe(t,O8()?Reflect.construct(e,r||[],$v(t).constructor):e.apply(t,r))}function Hqe(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gqe(t)}function Gqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O8=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(t)}function Yqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wk(t,e)}function wk(t,e){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wk(t,e)}function Rw(t,e,r){return e=_8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _8(t){var e=Kqe(t,"string");return au(e)=="symbol"?e:e+""}function Kqe(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mw=function(t){function e(){return Uqe(this,e),Wqe(this,e,arguments)}return Yqe(e,t),zqe(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return It(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=Oqe(l,function(d){return d.coordinate||0}),u=Fqe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=AF(n,Bqe),d=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=It(a,s,d[0],i),m=It(a,s,d[1],i),h=di(di(di({},ze(u,!1)),{},{fill:"none"},ze(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return W.createElement("line",gf({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=AF(a,qqe),f=this.getTickTextAnchor(),m=ze(d,!1),h=ze(i,!1),y=s.map(function(g,p){var b=n.getTickValueCoord(g),v=di(di(di(di({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:p},b),{},{payload:g});return W.createElement(Ht,gf({className:$e("recharts-polar-radius-axis-tick",x8(i)),key:"tick-".concat(g.coordinate)},pw(n.props,g,p)),e.renderTickItem(i,v,c?c(g.value,p):g.value))});return W.createElement(Ht,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:W.createElement(Ht,{className:$e("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),Ar.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return W.isValidElement(n)?i=W.cloneElement(n,a):We(n)?i=n(a):i=W.createElement(Xc,gf({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(w.PureComponent);Rw(Mw,"displayName","PolarRadiusAxis");Rw(Mw,"axisType","radiusAxis");Rw(Mw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function wi(){return wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wi.apply(this,arguments)}function kF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(r),!0).forEach(function(n){Lw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R8(n.key),n)}}function Xqe(t,e,r){return e&&TF(t.prototype,e),r&&TF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qqe(t,e,r){return e=Rv(e),Zqe(t,$8()?Reflect.construct(e,r||[],Rv(t).constructor):e.apply(t,r))}function Zqe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e6e(t)}function e6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($8=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(t)}function t6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nk(t,e)}function Nk(t,e){return Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nk(t,e)}function Lw(t,e,r){return e=R8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R8(t){var e=r6e(t,"string");return su(e)=="symbol"?e:e+""}function r6e(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n6e=Math.PI/180,EF=1e-5,Fw=function(t){function e(){return Jqe(this,e),Qqe(this,e,arguments)}return t6e(e,t),Xqe(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=It(s,i,l,n.coordinate),m=It(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*n6e),i;return s>EF?i=a==="outer"?"start":"end":s<-EF?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=fi(fi({},ze(this.props,!1)),{},{fill:"none"},ze(l,!1));if(c==="circle")return W.createElement(tD,wi({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(m){return It(a,s,i,m.coordinate)});return W.createElement(bqe,wi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ze(this.props,!1),f=ze(i,!1),m=fi(fi({},d),{},{fill:"none"},ze(l,!1)),h=s.map(function(y,g){var p=n.getTickLineCoord(y),b=n.getTickTextAnchor(y),v=fi(fi(fi({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:y,x:p.x2,y:p.y2});return W.createElement(Ht,wi({className:$e("recharts-polar-angle-axis-tick",x8(i)),key:"tick-".concat(y.coordinate)},pw(n.props,y,g)),l&&W.createElement("line",wi({className:"recharts-polar-angle-axis-tick-line"},m,p)),i&&e.renderTickItem(i,v,c?c(y.value,g):y.value))});return W.createElement(Ht,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:W.createElement(Ht,{className:$e("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return W.isValidElement(n)?i=W.cloneElement(n,a):We(n)?i=n(a):i=W.createElement(Xc,wi({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(w.PureComponent);Lw(Fw,"displayName","PolarAngleAxis");Lw(Fw,"axisType","angleAxis");Lw(Fw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var a6e=Hz,s6e=a6e(Object.getPrototypeOf,Object),o6e=s6e,i6e=Vs,l6e=o6e,c6e=Us,u6e="[object Object]",d6e=Function.prototype,f6e=Object.prototype,M8=d6e.toString,m6e=f6e.hasOwnProperty,h6e=M8.call(Object);function p6e(t){if(!c6e(t)||i6e(t)!=u6e)return!1;var e=l6e(t);if(e===null)return!0;var r=m6e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&M8.call(r)==h6e}var g6e=p6e;const y6e=it(g6e);var b6e=Vs,x6e=Us,v6e="[object Boolean]";function j6e(t){return t===!0||t===!1||x6e(t)&&b6e(t)==v6e}var w6e=j6e;const N6e=it(w6e);function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mv.apply(this,arguments)}function C6e(t,e){return k6e(t)||I6e(t,e)||A6e(t,e)||S6e()}function S6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A6e(t,e){if(t){if(typeof t=="string")return DF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DF(t,e)}}function DF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function k6e(t){if(Array.isArray(t))return t}function PF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(r),!0).forEach(function(n){T6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T6e(t,e,r){return e=E6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E6e(t){var e=D6e(t,"string");return Pm(e)=="symbol"?e:e+""}function D6e(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _F=function(e,r,n,a,s){var i=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-i/2,",").concat(r+s),l+="L ".concat(e+n-i/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},P6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O6e=function(e){var r=OF(OF({},P6e),e),n=w.useRef(),a=w.useState(-1),s=C6e(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,y=r.animationEasing,g=r.animationDuration,p=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var v=$e("recharts-trapezoid",h);return b?W.createElement(qo,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:g,animationEasing:y,isActive:b},function(j){var C=j.upperWidth,x=j.lowerWidth,N=j.height,S=j.x,A=j.y;return W.createElement(qo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,easing:y},W.createElement("path",Mv({},ze(r,!0),{className:v,d:_F(S,A,C,x,N),ref:n})))}):W.createElement("g",null,W.createElement("path",Mv({},ze(r,!0),{className:v,d:_F(c,u,d,f,m)})))},_6e=["option","shapeType","propTransformer","activeClassName","isActive"];function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function $6e(t,e){if(t==null)return{};var r=R6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Lv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(r),!0).forEach(function(n){M6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M6e(t,e,r){return e=L6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L6e(t){var e=F6e(t,"string");return Om(e)=="symbol"?e:e+""}function F6e(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B6e(t,e){return Lv(Lv({},e),t)}function q6e(t,e){return t==="symbols"}function RF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(eD,r);case"trapezoid":return W.createElement(O6e,r);case"sector":return W.createElement(w8,r);case"symbols":if(q6e(e))return W.createElement(g2,r);break;default:return null}}function V6e(t){return w.isValidElement(t)?t.props:t}function U6e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?B6e:n,s=t.activeClassName,i=s===void 0?"recharts-active-shape":s,l=t.isActive,c=$6e(t,_6e),u;if(w.isValidElement(e))u=w.cloneElement(e,Lv(Lv({},c),V6e(e)));else if(We(e))u=e(c);else if(y6e(e)&&!N6e(e)){var d=a(e,c);u=W.createElement(RF,{shapeType:r,elementProps:d})}else{var f=c;u=W.createElement(RF,{shapeType:r,elementProps:f})}return l?W.createElement(Ht,{className:i},u):u}function Bw(t,e){return e!=null&&"trapezoids"in t.props}function qw(t,e){return e!=null&&"sectors"in t.props}function _m(t,e){return e!=null&&"points"in t.props}function z6e(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function W6e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function H6e(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function G6e(t,e){var r;return Bw(t,e)?r=z6e:qw(t,e)?r=W6e:_m(t,e)&&(r=H6e),r}function Y6e(t,e){var r;return Bw(t,e)?r="trapezoids":qw(t,e)?r="sectors":_m(t,e)&&(r="points"),r}function K6e(t,e){if(Bw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(qw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return _m(t,e)?e.payload:{}}function J6e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=Y6e(r,e),s=K6e(r,e),i=n.filter(function(c,u){var d=K2(s,c),f=r.props[a].filter(function(y){var g=G6e(r,e);return g(y,e)}),m=r.props[a].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(i[i.length-1]);return l}var Wb;function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oc.apply(this,arguments)}function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(n){Wn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F8(n.key),n)}}function Q6e(t,e,r){return e&&LF(t.prototype,e),r&&LF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z6e(t,e,r){return e=Fv(e),eVe(t,L8()?Reflect.construct(e,r||[],Fv(t).constructor):e.apply(t,r))}function eVe(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tVe(t)}function tVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L8=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(t)}function rVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ck(t,e)}function Ck(t,e){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ck(t,e)}function Wn(t,e,r){return e=F8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F8(t){var e=nVe(t,"string");return ou(e)=="symbol"?e:e+""}function nVe(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ra=function(t){function e(r){var n;return X6e(this,e),n=Z6e(this,e,[r]),Wn(n,"pieRef",null),Wn(n,"sectorRefs",[]),Wn(n,"id",hw("recharts-pie-")),Wn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),We(a)&&a()}),Wn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),We(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return rVe(e,t),Q6e(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=ze(this.props,!1),f=ze(i,!1),m=ze(l,!1),h=i&&i.offsetRadius||20,y=n.map(function(g,p){var b=(g.startAngle+g.endAngle)/2,v=It(g.cx,g.cy,g.outerRadius+h,b),j=wt(wt(wt(wt({},d),g),{},{stroke:"none"},f),{},{index:p,textAnchor:e.getTextAnchor(v.x,g.cx)},v),C=wt(wt(wt(wt({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:p,points:[It(g.cx,g.cy,g.outerRadius,b),v]}),x=c;return Je(c)&&Je(u)?x="value":Je(c)&&(x=u),W.createElement(Ht,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(p)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(i,j,jn(g,x)))});return W.createElement(Ht,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,h=f?i:m,y=wt(wt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return W.createElement(Ht,oc({ref:function(p){p&&!a.sectorRefs.includes(p)&&a.sectorRefs.push(p)},tabIndex:-1,className:"recharts-pie-sector"},pw(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),W.createElement(U6e,oc({option:h,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return W.createElement(qo,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,p=[],b=s&&s[0],v=b.startAngle;return s.forEach(function(j,C){var x=m&&m[C],N=C>0?ba(j,"paddingAngle",0):0;if(x){var S=ER(x.endAngle-x.startAngle,j.endAngle-j.startAngle),A=wt(wt({},j),{},{startAngle:v+N,endAngle:v+S(g)+N});p.push(A),v=A.endAngle}else{var I=j.endAngle,E=j.startAngle,k=ER(0,I-E),P=k(g),R=wt(wt({},j),{},{startAngle:v+N,endAngle:v+P+N});p.push(R),v=R.endAngle}}),W.createElement(Ht,null,n.renderSectorsStatically(p))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!K2(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,y=this.state.isAnimationFinished;if(s||!i||!i.length||!je(u)||!je(d)||!je(f)||!je(m))return null;var g=$e("recharts-pie",l);return W.createElement(Ht,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(i),Ar.renderCallByParent(this.props,null,!1),(!h||y)&&tl.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(W.isValidElement(n))return W.cloneElement(n,a);if(We(n))return n(a);var i=$e("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return W.createElement(ck,oc({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(W.isValidElement(n))return W.cloneElement(n,a);var i=s;if(We(n)&&(i=n(a),W.isValidElement(i)))return i;var l=$e("recharts-pie-label-text",typeof n!="boolean"&&!We(n)?n.className:"");return W.createElement(Xc,oc({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(w.PureComponent);Wb=ra;Wn(ra,"displayName","Pie");Wn(ra,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Nw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Wn(ra,"parseDeltaAngle",function(t,e){var r=Gn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Wn(ra,"getRealPieData",function(t){var e=t.data,r=t.children,n=ze(t,!1),a=Ua(r,_u);return e&&e.length?e.map(function(s,i){return wt(wt(wt({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return wt(wt({},n),s.props)}):[]});Wn(ra,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,i=b8(a,s),l=n+an(t.cx,a,a/2),c=r+an(t.cy,s,s/2),u=an(t.innerRadius,i,0),d=an(t.outerRadius,i,i*.8),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Wn(ra,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?wt(wt({},e.type.defaultProps),e.props):e.props,a=Wb.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),y=Wb.parseCoordinateOfPie(n,r),g=Wb.parseDeltaAngle(i,l),p=Math.abs(g),b=u;Je(u)&&Je(f)?(Ns(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Je(u)&&(Ns(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var v=a.filter(function(A){return jn(A,b,0)!==0}).length,j=(p>=360?v:v-1)*c,C=p-v*h-j,x=a.reduce(function(A,I){var E=jn(I,b,0);return A+(je(E)?E:0)},0),N;if(x>0){var S;N=a.map(function(A,I){var E=jn(A,b,0),k=jn(A,d,I),P=(je(E)?E:0)/x,R;I?R=S.endAngle+Gn(g)*c*(E!==0?1:0):R=i;var M=R+Gn(g)*((E!==0?h:0)+P*C),_=(R+M)/2,L=(y.innerRadius+y.outerRadius)/2,F=[{name:k,value:E,payload:A,dataKey:b,type:m}],$=It(y.cx,y.cy,L,_);return S=wt(wt(wt({percent:P,cornerRadius:s,name:k,tooltipPayload:F,midAngle:_,middleRadius:L,tooltipPosition:$},A),y),{},{value:jn(A,b),startAngle:R,endAngle:M,payload:A,paddingAngle:Gn(g)*c}),S})}return wt(wt({},y),{},{sectors:N,data:a})});var aVe=Math.ceil,sVe=Math.max;function oVe(t,e,r,n){for(var a=-1,s=sVe(aVe((e-t)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=t,t+=r;return i}var iVe=oVe,lVe=u7,FF=1/0,cVe=17976931348623157e292;function uVe(t){if(!t)return t===0?t:0;if(t=lVe(t),t===FF||t===-FF){var e=t<0?-1:1;return e*cVe}return t===t?t:0}var dVe=uVe,fVe=iVe,mVe=ww,lC=dVe;function hVe(t){return function(e,r,n){return n&&typeof n!="number"&&mVe(e,r,n)&&(r=n=void 0),e=lC(e),r===void 0?(r=e,e=0):r=lC(r),n=n===void 0?e<r?1:-1:lC(n),fVe(e,r,n,t)}}var pVe=hVe,gVe=pVe,yVe=gVe(),bVe=yVe;const Bv=it(bVe);function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function BF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(r),!0).forEach(function(n){B8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B8(t,e,r){return e=xVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xVe(t){var e=vVe(t,"string");return $m(e)=="symbol"?e:e+""}function vVe(t,e){if($m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jVe=["Webkit","Moz","O","ms"],wVe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=jVe.reduce(function(s,i){return qF(qF({},s),{},B8({},i+n,r))},{});return a[e]=r,a};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qv.apply(this,arguments)}function VF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(r),!0).forEach(function(n){bn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V8(n.key),n)}}function CVe(t,e,r){return e&&UF(t.prototype,e),r&&UF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SVe(t,e,r){return e=Vv(e),AVe(t,q8()?Reflect.construct(e,r||[],Vv(t).constructor):e.apply(t,r))}function AVe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IVe(t)}function IVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q8=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(t)}function kVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sk(t,e)}function Sk(t,e){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(t,e)}function bn(t,e,r){return e=V8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V8(t){var e=TVe(t,"string");return iu(e)=="symbol"?e:e+""}function TVe(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EVe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,i=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=ff().domain(Bv(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},zF=function(e){return e.changedTouches&&!!e.changedTouches.length},lu=function(t){function e(r){var n;return NVe(this,e),n=SVe(this,e,[r]),bn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),bn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),bn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),bn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),bn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),bn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),bn(n,"handleSlideDragStart",function(a){var s=zF(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return kVe(e,t),CVe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),m=Math.max(a,s),h=e.getIndexInRange(i,f),y=e.getIndexInRange(i,m);return{startIndex:h-h%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=jn(s[n],l,n);return We(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,y=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+d-f-l,u+d-f-i):g<0&&(g=Math.max(g,u-i,u-l));var p=this.getIndex({startX:i+g,endX:l+g});(p.startIndex!==m||p.endIndex!==h)&&y&&y(p),this.setState({startX:i+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=zF(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,y=d.onChange,g=d.gap,p=d.data,b={startX:this.state.startX,endX:this.state.endX},v=n.pageX-s;v>0?v=Math.min(v,f+m-h-u):v<0&&(v=Math.max(v,f-u)),b[i]=u+v;var j=this.getIndex(b),C=j.startIndex,x=j.endIndex,N=function(){var A=p.length-1;return i==="startX"&&(l>c?C%g===0:x%g===0)||l<c&&x===A||i==="endX"&&(l>c?x%g===0:C%g===0)||l>c&&x===A};this.setState(bn(bn({},i,u+v),"brushMoveStartX",n.pageX),function(){y&&N()&&y(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(bn({},a,h),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return W.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?W.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,y=c.data,g=c.startIndex,p=c.endIndex,b=Math.max(n,this.props.x),v=cC(cC({},ze(this.props,!1)),{},{x:b,y:u,width:d,height:f}),j=h||"Min value: ".concat((s=y[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=y[p])===null||i===void 0?void 0:i.name);return W.createElement(Ht,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),l.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,v))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,y={pointerEvents:"none",fill:u};return W.createElement(Ht,{className:"recharts-brush-texts"},W.createElement(Xc,qv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:i+l/2},y),this.getTextOfTick(a)),W.createElement(Xc,qv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:i+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,y=m.endX,g=m.isTextActive,p=m.isSlideMoving,b=m.isTravellerMoving,v=m.isTravellerFocused;if(!a||!a.length||!je(l)||!je(c)||!je(u)||!je(d)||u<=0||d<=0)return null;var j=$e("recharts-brush",s),C=W.Children.count(i)===1,x=wVe("userSelect","none");return W.createElement(Ht,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(h,y),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(y,"endX"),(g||p||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),W.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return W.isValidElement(n)?s=W.cloneElement(n,a):We(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return cC({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?EVe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(w.PureComponent);bn(lu,"displayName","Brush");bn(lu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var DVe=C2;function PVe(t,e){var r;return DVe(t,function(n,a,s){return r=e(n,a,s),!r}),!!r}var OVe=PVe,_Ve=Lz,$Ve=Zo,RVe=OVe,MVe=gn,LVe=ww;function FVe(t,e,r){var n=MVe(t)?_Ve:RVe;return r&&LVe(t,e,r)&&(e=void 0),n(t,$Ve(e))}var BVe=FVe;const qVe=it(BVe);var Ha=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},WF=s7;function VVe(t,e,r){e=="__proto__"&&WF?WF(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var UVe=VVe,zVe=UVe,WVe=n7,HVe=Zo;function GVe(t,e){var r={};return e=HVe(e),WVe(t,function(n,a,s){zVe(r,a,e(n,a,s))}),r}var YVe=GVe;const KVe=it(YVe);function JVe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var XVe=JVe,QVe=C2;function ZVe(t,e){var r=!0;return QVe(t,function(n,a,s){return r=!!e(n,a,s),r}),r}var eUe=ZVe,tUe=XVe,rUe=eUe,nUe=Zo,aUe=gn,sUe=ww;function oUe(t,e,r){var n=aUe(t)?tUe:rUe;return r&&sUe(t,e,r)&&(e=void 0),n(t,nUe(e))}var iUe=oUe;const lUe=it(iUe);function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function cUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U8(n.key),n)}}function uUe(t,e,r){return e&&HF(t.prototype,e),r&&HF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ip(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GF(Object(r),!0).forEach(function(n){rD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rD(t,e,r){return e=U8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U8(t){var e=dUe(t,"string");return Rm(e)=="symbol"?e:e+""}function dUe(t,e){if(Rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z8=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},fUe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return z8({x:r,y:n},{x:a,y:s})},W8=function(){function t(e){cUe(this,t),this.scale=e}return uUe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();rD(W8,"EPS",1e-4);var nD=function(e){var r=Object.keys(e).reduce(function(n,a){return Ip(Ip({},n),{},rD({},a,W8.create(e[a])))},{});return Ip(Ip({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return KVe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return lUe(a,function(s,i){return r[i].isInRange(s)})}})},mUe=WSe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),H8=w.createContext(void 0),G8=w.createContext(void 0),Y8=w.createContext(void 0),hUe=w.createContext({}),K8=w.createContext(void 0),pUe=w.createContext(0),gUe=w.createContext(0),YF=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=e.clipPathId,l=e.children,c=e.width,u=e.height,d=mUe(s);return W.createElement(H8.Provider,{value:n},W.createElement(G8.Provider,{value:a},W.createElement(hUe.Provider,{value:s},W.createElement(Y8.Provider,{value:d},W.createElement(K8.Provider,{value:i},W.createElement(pUe.Provider,{value:u},W.createElement(gUe.Provider,{value:c},l)))))))},yUe=function(){return w.useContext(K8)},bUe=function(e){var r=w.useContext(H8);r==null&&tu();var n=r[e];return n==null&&tu(),n},xUe=function(e){var r=w.useContext(G8);r==null&&tu();var n=r[e];return n==null&&tu(),n},vUe=function(){var e=w.useContext(Y8);return e};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function jUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X8(n.key),n)}}function NUe(t,e,r){return e&&wUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CUe(t,e,r){return e=Uv(e),SUe(t,J8()?Reflect.construct(e,r||[],Uv(t).constructor):e.apply(t,r))}function SUe(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AUe(t)}function AUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J8=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uv(t)}function IUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ak(t,e)}function Ak(t,e){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ak(t,e)}function KF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KF(Object(r),!0).forEach(function(n){aD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aD(t,e,r){return e=X8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X8(t){var e=kUe(t,"string");return cu(e)=="symbol"?e:e+""}function kUe(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TUe(t,e){return OUe(t)||PUe(t,e)||DUe(t,e)||EUe()}function EUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DUe(t,e){if(t){if(typeof t=="string")return XF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XF(t,e)}}function XF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function OUe(t){if(Array.isArray(t))return t}function Ik(){return Ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ik.apply(this,arguments)}var _Ue=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):We(e)?n=e(r):n=W.createElement("line",Ik({},r,{className:"recharts-reference-line-line"})),n},$Ue=function(e,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,m=s.width,h=s.height;if(n){var y=u.y,g=e.y.apply(y,{position:i});if(Ha(u,"discard")&&!e.y.isInRange(g))return null;var p=[{x:d+m,y:g},{x:d,y:g}];return c==="left"?p.reverse():p}if(r){var b=u.x,v=e.x.apply(b,{position:i});if(Ha(u,"discard")&&!e.x.isInRange(v))return null;var j=[{x:v,y:f+h},{x:v,y:f}];return l==="top"?j.reverse():j}if(a){var C=u.segment,x=C.map(function(N){return e.apply(N,{position:i})});return Ha(u,"discard")&&qVe(x,function(N){return!e.isInRange(N)})?null:x}return null};function RUe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,i=t.shape,l=t.className,c=t.alwaysShow,u=yUe(),d=bUe(a),f=xUe(s),m=vUe();if(!u||!m)return null;Ns(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=nD({x:d.scale,y:f.scale}),y=mr(e),g=mr(r),p=n&&n.length===2,b=$Ue(h,y,g,p,m,t.position,d.orientation,f.orientation,t);if(!b)return null;var v=TUe(b,2),j=v[0],C=j.x,x=j.y,N=v[1],S=N.x,A=N.y,I=Ha(t,"hidden")?"url(#".concat(u,")"):void 0,E=JF(JF({clipPath:I},ze(t,!0)),{},{x1:C,y1:x,x2:S,y2:A});return W.createElement(Ht,{className:$e("recharts-reference-line",l)},_Ue(i,E),Ar.renderCallByParent(t,fUe({x1:C,y1:x,x2:S,y2:A})))}var sD=function(t){function e(){return jUe(this,e),CUe(this,e,arguments)}return IUe(e,t),NUe(e,[{key:"render",value:function(){return W.createElement(RUe,this.props)}}])}(W.Component);aD(sD,"displayName","ReferenceLine");aD(sD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function kk(){return kk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kk.apply(this,arguments)}function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function QF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ZF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(r),!0).forEach(function(n){Vw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z8(n.key),n)}}function FUe(t,e,r){return e&&LUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BUe(t,e,r){return e=zv(e),qUe(t,Q8()?Reflect.construct(e,r||[],zv(t).constructor):e.apply(t,r))}function qUe(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VUe(t)}function VUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q8=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(t)}function UUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tk(t,e)}function Tk(t,e){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tk(t,e)}function Vw(t,e,r){return e=Z8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z8(t){var e=zUe(t,"string");return uu(e)=="symbol"?e:e+""}function zUe(t,e){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WUe=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,i=nD({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Ha(e,"discard")&&!i.isInRange(l)?null:l},Uw=function(t){function e(){return MUe(this,e),BUe(this,e,arguments)}return UUe(e,t),FUe(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=mr(a),d=mr(s);if(Ns(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=WUe(this.props);if(!f)return null;var m=f.x,h=f.y,y=this.props,g=y.shape,p=y.className,b=Ha(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=ZF(ZF({clipPath:b},ze(this.props,!0)),{},{cx:m,cy:h});return W.createElement(Ht,{className:$e("recharts-reference-dot",p)},e.renderDot(g,v),Ar.renderCallByParent(this.props,{x:m-i,y:h-i,width:2*i,height:2*i}))}}])}(W.Component);Vw(Uw,"displayName","ReferenceDot");Vw(Uw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Vw(Uw,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):We(t)?r=t(e):r=W.createElement(tD,kk({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Ek(){return Ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ek.apply(this,arguments)}function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function e5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function t5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(r),!0).forEach(function(n){zw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t9(n.key),n)}}function YUe(t,e,r){return e&&GUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KUe(t,e,r){return e=Wv(e),JUe(t,e9()?Reflect.construct(e,r||[],Wv(t).constructor):e.apply(t,r))}function JUe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XUe(t)}function XUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e9=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wv(t)}function QUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dk(t,e)}function Dk(t,e){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dk(t,e)}function zw(t,e,r){return e=t9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t9(t){var e=ZUe(t,"string");return du(e)=="symbol"?e:e+""}function ZUe(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eze=function(e,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=nD({x:d.scale,y:f.scale}),h={x:e?m.x.apply(i,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},y={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Ha(s,"discard")&&(!m.isInRange(h)||!m.isInRange(y))?null:z8(h,y)},Ww=function(t){function e(){return HUe(this,e),KUe(this,e,arguments)}return QUe(e,t),YUe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ns(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=mr(a),m=mr(s),h=mr(i),y=mr(l),g=this.props.shape;if(!f&&!m&&!h&&!y&&!g)return null;var p=eze(f,m,h,y,this.props);if(!p&&!g)return null;var b=Ha(this.props,"hidden")?"url(#".concat(d,")"):void 0;return W.createElement(Ht,{className:$e("recharts-reference-area",c)},e.renderRect(g,t5(t5({clipPath:b},ze(this.props,!0)),p)),Ar.renderCallByParent(this.props,p))}}])}(W.Component);zw(Ww,"displayName","ReferenceArea");zw(Ww,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});zw(Ww,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):We(t)?r=t(e):r=W.createElement(eD,Ek({},e,{className:"recharts-reference-area-rect"})),r});function r5(t){return aze(t)||nze(t)||rze(t)||tze()}function tze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rze(t,e){if(t){if(typeof t=="string")return Pk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pk(t,e)}}function nze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aze(t){if(Array.isArray(t))return Pk(t)}function Pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ok=function(e,r,n,a,s){var i=Ua(e,sD),l=Ua(e,Uw),c=[].concat(r5(i),r5(l)),u=Ua(e,Ww),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(g,p){if(p.props[d]===n&&Ha(p.props,"extendDomain")&&je(p.props[f])){var b=p.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},m)),u.length){var h="".concat(f,"1"),y="".concat(f,"2");m=u.reduce(function(g,p){if(p.props[d]===n&&Ha(p.props,"extendDomain")&&je(p.props[h])&&je(p.props[y])){var b=p.props[h],v=p.props[y];return[Math.min(g[0],b,v),Math.max(g[1],b,v)]}return g},m)}return s&&s.length&&(m=s.reduce(function(g,p){return je(p)?[Math.min(g[0],p),Math.max(g[1],p)]:g},m)),m},r9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],h]:c._events[y].push(h):(c._events[y]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,y=new Array(h);m<h;m++)y[m]=f[m].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,y){var g=r?r+u:u;if(!this._events[g])return!1;var p=this._events[g],b=arguments.length,v,j;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),b){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,f),!0;case 4:return p.fn.call(p.context,d,f,m),!0;case 5:return p.fn.call(p.context,d,f,m,h),!0;case 6:return p.fn.call(p.context,d,f,m,h,y),!0}for(j=1,v=new Array(b-1);j<b;j++)v[j-1]=arguments[j];p.fn.apply(p.context,v)}else{var C=p.length,x;for(j=0;j<C;j++)switch(p[j].once&&this.removeListener(u,p[j].fn,void 0,!0),b){case 1:p[j].fn.call(p[j].context);break;case 2:p[j].fn.call(p[j].context,d);break;case 3:p[j].fn.call(p[j].context,d,f);break;case 4:p[j].fn.call(p[j].context,d,f,m);break;default:if(!v)for(x=1,v=new Array(b-1);x<b;x++)v[x-1]=arguments[x];p[j].fn.apply(p[j].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var y=this._events[h];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&i(this,h);else{for(var g=0,p=[],b=y.length;g<b;g++)(y[g].fn!==d||m&&!y[g].once||f&&y[g].context!==f)&&p.push(y[g]);p.length?this._events[h]=p.length===1?p[0]:p:i(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(r9);var sze=r9.exports;const oze=it(sze);var uC=new oze,dC="recharts.syncMouseEvents";function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function ize(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n9(n.key),n)}}function cze(t,e,r){return e&&lze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fC(t,e,r){return e=n9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n9(t){var e=uze(t,"string");return Mm(e)=="symbol"?e:e+""}function uze(t,e){if(Mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dze=function(){function t(){ize(this,t),fC(this,"activeIndex",0),fC(this,"coordinateList",[]),fC(this,"layout","horizontal")}return cze(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,m=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function fze(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&je(n)&&je(a))return!0}return!1}function mze(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function a9(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,i=It(e,r,n,a),l=It(e,r,n,s);return{points:[i,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function hze(t,e,r){var n,a,s,i;if(t==="horizontal")n=e.x,s=n,a=r.top,i=r.top+r.height;else if(t==="vertical")a=e.y,i=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=It(l,c,u,f),h=It(l,c,d,f);n=m.x,a=m.y,s=h.x,i=h.y}else return a9(e);return[{x:n,y:a},{x:s,y:i}]}function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function n5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(r),!0).forEach(function(n){pze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pze(t,e,r){return e=gze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gze(t){var e=yze(t,"string");return Lm(e)=="symbol"?e:e+""}function yze(t,e){if(Lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bze(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,i=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!s||!i||m!=="ScatterChart"&&a!=="axis")return null;var y,g=ck;if(m==="ScatterChart")y=i,g=Iqe;else if(m==="BarChart")y=mze(f,i,c,d),g=eD;else if(f==="radial"){var p=a9(i),b=p.cx,v=p.cy,j=p.radius,C=p.startAngle,x=p.endAngle;y={cx:b,cy:v,startAngle:C,endAngle:x,innerRadius:j,outerRadius:j},g=w8}else y={points:hze(f,i,c)},g=ck;var N=kp(kp(kp(kp({stroke:"#ccc",pointerEvents:"none"},c),y),ze(h,!1)),{},{payload:l,payloadIndex:u,className:$e("recharts-tooltip-cursor",h.className)});return w.isValidElement(h)?w.cloneElement(h,N):w.createElement(g,N)}var xze=["item"],vze=["children","className","width","height","style","compact","title","desc"];function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ic.apply(this,arguments)}function a5(t,e){return Nze(t)||wze(t,e)||o9(t,e)||jze()}function jze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Nze(t){if(Array.isArray(t))return t}function s5(t,e){if(t==null)return{};var r=Cze(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Sze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i9(n.key),n)}}function Ize(t,e,r){return e&&Aze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kze(t,e,r){return e=Hv(e),Tze(t,s9()?Reflect.construct(e,r||[],Hv(t).constructor):e.apply(t,r))}function Tze(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eze(t)}function Eze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s9=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hv(t)}function Dze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_k(t,e)}function _k(t,e){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_k(t,e)}function mu(t){return _ze(t)||Oze(t)||o9(t)||Pze()}function Pze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o9(t,e){if(t){if(typeof t=="string")return $k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $k(t,e)}}function Oze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ze(t){if(Array.isArray(t))return $k(t)}function $k(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(r),!0).forEach(function(n){Oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oe(t,e,r){return e=i9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i9(t){var e=$ze(t,"string");return fu(e)=="symbol"?e:e+""}function $ze(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rze={xAxis:["bottom","top"],yAxis:["left","right"]},Mze={width:"100%",height:"100%"},l9={x:0,y:0};function Tp(t){return t}var Lze=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Fze=function(e,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,l=a.radius;return ne(ne(ne({},a),It(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return ne(ne(ne({},a),It(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return l9},Hw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(mu(l),mu(u)):l},[]);return i.length>0?i:e&&e.length&&je(a)&&je(s)?e.slice(a,s+1):[]};function c9(t){return t==="number"?[0,"auto"]:void 0}var Rk=function(e,r,n,a){var s=e.graphicalItems,i=e.tooltipAxis,l=Hw(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(i.dataKey&&!i.allowDuplicatedCategory){var h=f===void 0?l:f;m=pI(h,i.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(mu(c),[f4e(u,m)]):c},[])},i5=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},i=Lze(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=J5e(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=Rk(e,r,d,f),h=Fze(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},Bze=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,h=p8(d,s);return n.reduce(function(y,g){var p,b=g.type.defaultProps!==void 0?ne(ne({},g.type.defaultProps),g.props):g.props,v=b.type,j=b.dataKey,C=b.allowDataOverflow,x=b.allowDuplicatedCategory,N=b.scale,S=b.ticks,A=b.includeHidden,I=b[i];if(y[I])return y;var E=Hw(e.data,{graphicalItems:a.filter(function(G){var z,ae=i in G.props?G.props[i]:(z=G.type.defaultProps)===null||z===void 0?void 0:z[i];return ae===I}),dataStartIndex:c,dataEndIndex:u}),k=E.length,P,R,M;fze(b.domain,C,v)&&(P=nk(b.domain,null,C),h&&(v==="number"||N!=="auto")&&(M=mf(E,j,"category")));var _=c9(v);if(!P||P.length===0){var L,F=(L=b.domain)!==null&&L!==void 0?L:_;if(j){if(P=mf(E,j,v),v==="category"&&h){var $=BAe(P);x&&$?(R=P,P=Bv(0,k)):x||(P=qL(F,P,g).reduce(function(G,z){return G.indexOf(z)>=0?G:[].concat(mu(G),[z])},[]))}else if(v==="category")x?P=P.filter(function(G){return G!==""&&!Je(G)}):P=qL(F,P,g).reduce(function(G,z){return G.indexOf(z)>=0||z===""||Je(z)?G:[].concat(mu(G),[z])},[]);else if(v==="number"){var O=t4e(E,a.filter(function(G){var z,ae,xe=i in G.props?G.props[i]:(z=G.type.defaultProps)===null||z===void 0?void 0:z[i],se="hide"in G.props?G.props.hide:(ae=G.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return xe===I&&(A||!se)}),j,s,d);O&&(P=O)}h&&(v==="number"||N!=="auto")&&(M=mf(E,j,"category"))}else h?P=Bv(0,k):l&&l[I]&&l[I].hasStack&&v==="number"?P=m==="expand"?[0,1]:g8(l[I].stackGroups,c,u):P=h8(E,a.filter(function(G){var z=i in G.props?G.props[i]:G.type.defaultProps[i],ae="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return z===I&&(A||!ae)}),v,d,!0);if(v==="number")P=Ok(f,P,I,s,S),F&&(P=nk(F,P,C));else if(v==="category"&&F){var U=F,K=P.every(function(G){return U.indexOf(G)>=0});K&&(P=U)}}return ne(ne({},y),{},Oe({},I,ne(ne({},b),{},{axisType:s,domain:P,categoricalDomain:M,duplicateDomain:R,originalDomain:(p=b.domain)!==null&&p!==void 0?p:_,isCategorical:h,layout:d})))},{})},qze=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=Hw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,y=p8(d,s),g=-1;return n.reduce(function(p,b){var v=b.type.defaultProps!==void 0?ne(ne({},b.type.defaultProps),b.props):b.props,j=v[i],C=c9("number");if(!p[j]){g++;var x;return y?x=Bv(0,h):l&&l[j]&&l[j].hasStack?(x=g8(l[j].stackGroups,c,u),x=Ok(f,x,j,s)):(x=nk(C,h8(m,n.filter(function(N){var S,A,I=i in N.props?N.props[i]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[i],E="hide"in N.props?N.props.hide:(A=N.type.defaultProps)===null||A===void 0?void 0:A.hide;return I===j&&!E}),"number",d),a.defaultProps.allowDataOverflow),x=Ok(f,x,j,s)),ne(ne({},p),{},Oe({},j,ne(ne({axisType:s},a.defaultProps),{},{hide:!0,orientation:ba(Rze,"".concat(s,".").concat(g%2),null),domain:x,originalDomain:C,isCategorical:y,layout:d})))}return p},{})},Vze=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=Ua(d,s),h={};return m&&m.length?h=Bze(e,{axes:m,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(h=qze(e,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},Uze=function(e){var r=zl(e),n=Pd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:S2(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ak(r,n)}},l5=function(e){var r=e.children,n=e.defaultShowTooltip,a=Vn(r,lu),s=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},zze=function(e){return!e||!e.length?!1:e.some(function(r){var n=ws(r&&r.type);return n&&n.indexOf("Bar")>=0})},c5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Wze=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,i=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=Vn(f,lu),y=Vn(f,za),g=Object.keys(c).reduce(function(x,N){var S=c[N],A=S.orientation;return!S.mirror&&!S.hide?ne(ne({},x),{},Oe({},A,x[A]+S.width)):x},{left:m.left||0,right:m.right||0}),p=Object.keys(i).reduce(function(x,N){var S=i[N],A=S.orientation;return!S.mirror&&!S.hide?ne(ne({},x),{},Oe({},A,ba(x,"".concat(A))+S.height)):x},{top:m.top||0,bottom:m.bottom||0}),b=ne(ne({},p),g),v=b.bottom;h&&(b.bottom+=h.props.height||lu.defaultProps.height),y&&r&&(b=Z5e(b,a,n,r));var j=u-b.left-b.right,C=d-b.top-b.bottom;return ne(ne({brushBottom:v},b),{},{width:Math.max(j,0),height:Math.max(C,0)})},Hze=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Gze=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,i=e.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(b,v){var j=v.graphicalItems,C=v.stackGroups,x=v.offset,N=v.updateId,S=v.dataStartIndex,A=v.dataEndIndex,I=b.barSize,E=b.layout,k=b.barGap,P=b.barCategoryGap,R=b.maxBarSize,M=c5(E),_=M.numericAxisName,L=M.cateAxisName,F=zze(j),$=[];return j.forEach(function(O,U){var K=Hw(b.data,{graphicalItems:[O],dataStartIndex:S,dataEndIndex:A}),G=O.type.defaultProps!==void 0?ne(ne({},O.type.defaultProps),O.props):O.props,z=G.dataKey,ae=G.maxBarSize,xe=G["".concat(_,"Id")],se=G["".concat(L,"Id")],J={},ce=c.reduce(function(Jr,Q){var be=v["".concat(Q.axisType,"Map")],Z=G["".concat(Q.axisType,"Id")];be&&be[Z]||Q.axisType==="zAxis"||tu();var he=be[Z];return ne(ne({},Jr),{},Oe(Oe({},Q.axisType,he),"".concat(Q.axisType,"Ticks"),Pd(he)))},J),ee=ce[L],re=ce["".concat(L,"Ticks")],X=C&&C[xe]&&C[xe].hasStack&&u4e(O,C[xe].stackGroups),H=ws(O.type).indexOf("Bar")>=0,me=ak(ee,re),Ne=[],Ee=F&&X5e({barSize:I,stackGroups:C,totalSize:Hze(ce,L)});if(H){var Ue,Ve,qr=Je(ae)?R:ae,Vr=(Ue=(Ve=ak(ee,re,!0))!==null&&Ve!==void 0?Ve:qr)!==null&&Ue!==void 0?Ue:0;Ne=Q5e({barGap:k,barCategoryGap:P,bandSize:Vr!==me?Vr:me,sizeList:Ee[se],maxBarSize:qr}),Vr!==me&&(Ne=Ne.map(function(Jr){return ne(ne({},Jr),{},{position:ne(ne({},Jr.position),{},{offset:Jr.position.offset-Vr/2})})}))}var na=O&&O.type&&O.type.getComposedData;na&&$.push({props:ne(ne({},na(ne(ne({},ce),{},{displayedData:K,props:b,dataKey:z,item:O,bandSize:me,barPosition:Ne,offset:x,stackedData:X,layout:E,dataStartIndex:S,dataEndIndex:A}))),{},Oe(Oe(Oe({key:O.key||"item-".concat(U)},_,ce[_]),L,ce[L]),"animationId",N)),childIndex:XAe(O,b.children),item:O})}),$},h=function(b,v){var j=b.props,C=b.dataStartIndex,x=b.dataEndIndex,N=b.updateId;if(!$R({props:j}))return null;var S=j.children,A=j.layout,I=j.stackOffset,E=j.data,k=j.reverseStackOrder,P=c5(A),R=P.numericAxisName,M=P.cateAxisName,_=Ua(S,n),L=l4e(E,_,"".concat(R,"Id"),"".concat(M,"Id"),I,k),F=c.reduce(function(G,z){var ae="".concat(z.axisType,"Map");return ne(ne({},G),{},Oe({},ae,Vze(j,ne(ne({},z),{},{graphicalItems:_,stackGroups:z.axisType===R&&L,dataStartIndex:C,dataEndIndex:x}))))},{}),$=Wze(ne(ne({},F),{},{props:j,graphicalItems:_}),v==null?void 0:v.legendBBox);Object.keys(F).forEach(function(G){F[G]=d(j,F[G],$,G.replace("Map",""),r)});var O=F["".concat(M,"Map")],U=Uze(O),K=m(j,ne(ne({},F),{},{dataStartIndex:C,dataEndIndex:x,updateId:N,graphicalItems:_,stackGroups:L,offset:$}));return ne(ne({formattedGraphicalItems:K,graphicalItems:_,offset:$,stackGroups:L},U),F)},y=function(p){function b(v){var j,C,x;return Sze(this,b),x=kze(this,b,[v]),Oe(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Oe(x,"accessibilityManager",new dze),Oe(x,"handleLegendBBoxUpdate",function(N){if(N){var S=x.state,A=S.dataStartIndex,I=S.dataEndIndex,E=S.updateId;x.setState(ne({legendBBox:N},h({props:x.props,dataStartIndex:A,dataEndIndex:I,updateId:E},ne(ne({},x.state),{},{legendBBox:N}))))}}),Oe(x,"handleReceiveSyncEvent",function(N,S,A){if(x.props.syncId===N){if(A===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(S)}}),Oe(x,"handleBrushChange",function(N){var S=N.startIndex,A=N.endIndex;if(S!==x.state.dataStartIndex||A!==x.state.dataEndIndex){var I=x.state.updateId;x.setState(function(){return ne({dataStartIndex:S,dataEndIndex:A},h({props:x.props,dataStartIndex:S,dataEndIndex:A,updateId:I},x.state))}),x.triggerSyncEvent({dataStartIndex:S,dataEndIndex:A})}}),Oe(x,"handleMouseEnter",function(N){var S=x.getMouseInfo(N);if(S){var A=ne(ne({},S),{},{isTooltipActive:!0});x.setState(A),x.triggerSyncEvent(A);var I=x.props.onMouseEnter;We(I)&&I(A,N)}}),Oe(x,"triggeredAfterMouseMove",function(N){var S=x.getMouseInfo(N),A=S?ne(ne({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(A),x.triggerSyncEvent(A);var I=x.props.onMouseMove;We(I)&&I(A,N)}),Oe(x,"handleItemMouseEnter",function(N){x.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Oe(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),Oe(x,"handleMouseMove",function(N){N.persist(),x.throttleTriggeredAfterMouseMove(N)}),Oe(x,"handleMouseLeave",function(N){x.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};x.setState(S),x.triggerSyncEvent(S);var A=x.props.onMouseLeave;We(A)&&A(S,N)}),Oe(x,"handleOuterEvent",function(N){var S=JAe(N),A=ba(x.props,"".concat(S));if(S&&We(A)){var I,E;/.*touch.*/i.test(S)?E=x.getMouseInfo(N.changedTouches[0]):E=x.getMouseInfo(N),A((I=E)!==null&&I!==void 0?I:{},N)}}),Oe(x,"handleClick",function(N){var S=x.getMouseInfo(N);if(S){var A=ne(ne({},S),{},{isTooltipActive:!0});x.setState(A),x.triggerSyncEvent(A);var I=x.props.onClick;We(I)&&I(A,N)}}),Oe(x,"handleMouseDown",function(N){var S=x.props.onMouseDown;if(We(S)){var A=x.getMouseInfo(N);S(A,N)}}),Oe(x,"handleMouseUp",function(N){var S=x.props.onMouseUp;if(We(S)){var A=x.getMouseInfo(N);S(A,N)}}),Oe(x,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Oe(x,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&x.handleMouseDown(N.changedTouches[0])}),Oe(x,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&x.handleMouseUp(N.changedTouches[0])}),Oe(x,"handleDoubleClick",function(N){var S=x.props.onDoubleClick;if(We(S)){var A=x.getMouseInfo(N);S(A,N)}}),Oe(x,"handleContextMenu",function(N){var S=x.props.onContextMenu;if(We(S)){var A=x.getMouseInfo(N);S(A,N)}}),Oe(x,"triggerSyncEvent",function(N){x.props.syncId!==void 0&&uC.emit(dC,x.props.syncId,N,x.eventEmitterSymbol)}),Oe(x,"applySyncEvent",function(N){var S=x.props,A=S.layout,I=S.syncMethod,E=x.state.updateId,k=N.dataStartIndex,P=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)x.setState(ne({dataStartIndex:k,dataEndIndex:P},h({props:x.props,dataStartIndex:k,dataEndIndex:P,updateId:E},x.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,M=N.chartY,_=N.activeTooltipIndex,L=x.state,F=L.offset,$=L.tooltipTicks;if(!F)return;if(typeof I=="function")_=I($,N);else if(I==="value"){_=-1;for(var O=0;O<$.length;O++)if($[O].value===N.activeLabel){_=O;break}}var U=ne(ne({},F),{},{x:F.left,y:F.top}),K=Math.min(R,U.x+U.width),G=Math.min(M,U.y+U.height),z=$[_]&&$[_].value,ae=Rk(x.state,x.props.data,_),xe=$[_]?{x:A==="horizontal"?$[_].coordinate:K,y:A==="horizontal"?G:$[_].coordinate}:l9;x.setState(ne(ne({},N),{},{activeLabel:z,activeCoordinate:xe,activePayload:ae,activeTooltipIndex:_}))}else x.setState(N)}),Oe(x,"renderCursor",function(N){var S,A=x.state,I=A.isTooltipActive,E=A.activeCoordinate,k=A.activePayload,P=A.offset,R=A.activeTooltipIndex,M=A.tooltipAxisBandSize,_=x.getTooltipEventType(),L=(S=N.props.active)!==null&&S!==void 0?S:I,F=x.props.layout,$=N.key||"_recharts-cursor";return W.createElement(bze,{key:$,activeCoordinate:E,activePayload:k,activeTooltipIndex:R,chartName:r,element:N,isActive:L,layout:F,offset:P,tooltipAxisBandSize:M,tooltipEventType:_})}),Oe(x,"renderPolarAxis",function(N,S,A){var I=ba(N,"type.axisType"),E=ba(x.state,"".concat(I,"Map")),k=N.type.defaultProps,P=k!==void 0?ne(ne({},k),N.props):N.props,R=E&&E[P["".concat(I,"Id")]];return w.cloneElement(N,ne(ne({},R),{},{className:$e(I,R.className),key:N.key||"".concat(S,"-").concat(A),ticks:Pd(R,!0)}))}),Oe(x,"renderPolarGrid",function(N){var S=N.props,A=S.radialLines,I=S.polarAngles,E=S.polarRadius,k=x.state,P=k.radiusAxisMap,R=k.angleAxisMap,M=zl(P),_=zl(R),L=_.cx,F=_.cy,$=_.innerRadius,O=_.outerRadius;return w.cloneElement(N,{polarAngles:Array.isArray(I)?I:Pd(_,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(E)?E:Pd(M,!0).map(function(U){return U.coordinate}),cx:L,cy:F,innerRadius:$,outerRadius:O,key:N.key||"polar-grid",radialLines:A})}),Oe(x,"renderLegend",function(){var N=x.state.formattedGraphicalItems,S=x.props,A=S.children,I=S.width,E=S.height,k=x.props.margin||{},P=I-(k.left||0)-(k.right||0),R=f8({children:A,formattedGraphicalItems:N,legendWidth:P,legendContent:u});if(!R)return null;var M=R.item,_=s5(R,xze);return w.cloneElement(M,ne(ne({},_),{},{chartWidth:I,chartHeight:E,margin:k,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),Oe(x,"renderTooltip",function(){var N,S=x.props,A=S.children,I=S.accessibilityLayer,E=Vn(A,as);if(!E)return null;var k=x.state,P=k.isTooltipActive,R=k.activeCoordinate,M=k.activePayload,_=k.activeLabel,L=k.offset,F=(N=E.props.active)!==null&&N!==void 0?N:P;return w.cloneElement(E,{viewBox:ne(ne({},L),{},{x:L.left,y:L.top}),active:F,label:_,payload:F?M:[],coordinate:R,accessibilityLayer:I})}),Oe(x,"renderBrush",function(N){var S=x.props,A=S.margin,I=S.data,E=x.state,k=E.offset,P=E.dataStartIndex,R=E.dataEndIndex,M=E.updateId;return w.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Np(x.handleBrushChange,N.props.onChange),data:I,x:je(N.props.x)?N.props.x:k.left,y:je(N.props.y)?N.props.y:k.top+k.height+k.brushBottom-(A.bottom||0),width:je(N.props.width)?N.props.width:k.width,startIndex:P,endIndex:R,updateId:"brush-".concat(M)})}),Oe(x,"renderReferenceElement",function(N,S,A){if(!N)return null;var I=x,E=I.clipPathId,k=x.state,P=k.xAxisMap,R=k.yAxisMap,M=k.offset,_=N.type.defaultProps||{},L=N.props,F=L.xAxisId,$=F===void 0?_.xAxisId:F,O=L.yAxisId,U=O===void 0?_.yAxisId:O;return w.cloneElement(N,{key:N.key||"".concat(S,"-").concat(A),xAxis:P[$],yAxis:R[U],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:E})}),Oe(x,"renderActivePoints",function(N){var S=N.item,A=N.activePoint,I=N.basePoint,E=N.childIndex,k=N.isRange,P=[],R=S.props.key,M=S.item.type.defaultProps!==void 0?ne(ne({},S.item.type.defaultProps),S.item.props):S.item.props,_=M.activeDot,L=M.dataKey,F=ne(ne({index:E,dataKey:L,cx:A.x,cy:A.y,r:4,fill:Z2(S.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},ze(_,!1)),rv(_));return P.push(b.renderActiveDot(_,F,"".concat(R,"-activePoint-").concat(E))),I?P.push(b.renderActiveDot(_,ne(ne({},F),{},{cx:I.x,cy:I.y}),"".concat(R,"-basePoint-").concat(E))):k&&P.push(null),P}),Oe(x,"renderGraphicChild",function(N,S,A){var I=x.filterFormatItem(N,S,A);if(!I)return null;var E=x.getTooltipEventType(),k=x.state,P=k.isTooltipActive,R=k.tooltipAxis,M=k.activeTooltipIndex,_=k.activeLabel,L=x.props.children,F=Vn(L,as),$=I.props,O=$.points,U=$.isRange,K=$.baseLine,G=I.item.type.defaultProps!==void 0?ne(ne({},I.item.type.defaultProps),I.item.props):I.item.props,z=G.activeDot,ae=G.hide,xe=G.activeBar,se=G.activeShape,J=!!(!ae&&P&&F&&(z||xe||se)),ce={};E!=="axis"&&F&&F.props.trigger==="click"?ce={onClick:Np(x.handleItemMouseEnter,N.props.onClick)}:E!=="axis"&&(ce={onMouseLeave:Np(x.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Np(x.handleItemMouseEnter,N.props.onMouseEnter)});var ee=w.cloneElement(N,ne(ne({},I.props),ce));function re(Q){return typeof R.dataKey=="function"?R.dataKey(Q.payload):null}if(J)if(M>=0){var X,H;if(R.dataKey&&!R.allowDuplicatedCategory){var me=typeof R.dataKey=="function"?re:"payload.".concat(R.dataKey.toString());X=pI(O,me,_),H=U&&K&&pI(K,me,_)}else X=O==null?void 0:O[M],H=U&&K&&K[M];if(se||xe){var Ne=N.props.activeIndex!==void 0?N.props.activeIndex:M;return[w.cloneElement(N,ne(ne(ne({},I.props),ce),{},{activeIndex:Ne})),null,null]}if(!Je(X))return[ee].concat(mu(x.renderActivePoints({item:I,activePoint:X,basePoint:H,childIndex:M,isRange:U})))}else{var Ee,Ue=(Ee=x.getItemByXY(x.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:ee},Ve=Ue.graphicalItem,qr=Ve.item,Vr=qr===void 0?N:qr,na=Ve.childIndex,Jr=ne(ne(ne({},I.props),ce),{},{activeIndex:na});return[w.cloneElement(Vr,Jr),null,null]}return U?[ee,null,null]:[ee,null]}),Oe(x,"renderCustomized",function(N,S,A){return w.cloneElement(N,ne(ne({key:"recharts-customized-".concat(A)},x.props),x.state))}),Oe(x,"renderMap",{CartesianGrid:{handler:Tp,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Tp},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Tp},YAxis:{handler:Tp},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((j=v.id)!==null&&j!==void 0?j:hw("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=d7(x.triggeredAfterMouseMove,(C=v.throttleDelay)!==null&&C!==void 0?C:1e3/60),x.state={},x}return Dze(b,p),Ize(b,[{key:"componentDidMount",value:function(){var j,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,C=j.children,x=j.data,N=j.height,S=j.layout,A=Vn(C,as);if(A){var I=A.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,k=Rk(this.state,x,I,E),P=this.state.tooltipTicks[I].coordinate,R=(this.state.offset.top+N)/2,M=S==="horizontal",_=M?{x:P,y:R}:{y:P,x:R},L=this.state.formattedGraphicalItems.find(function($){var O=$.item;return O.type.name==="Scatter"});L&&(_=ne(ne({},_),L.props.points[I].tooltipPosition),k=L.props.points[I].tooltipPayload);var F={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:E,activePayload:k,activeCoordinate:_};this.setState(F),this.renderCursor(A),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var x,N;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(j){bI([Vn(j.children,as)],[Vn(this.props.children,as)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Vn(this.props.children,as);if(j&&typeof j.props.shared=="boolean"){var C=j.props.shared?"axis":"item";return l.indexOf(C)>=0?C:s}return s}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var C=this.container,x=C.getBoundingClientRect(),N=CRe(x),S={chartX:Math.round(j.pageX-N.left),chartY:Math.round(j.pageY-N.top)},A=x.width/C.offsetWidth||1,I=this.inRange(S.chartX,S.chartY,A);if(!I)return null;var E=this.state,k=E.xAxisMap,P=E.yAxisMap,R=this.getTooltipEventType(),M=i5(this.state,this.props.data,this.props.layout,I);if(R!=="axis"&&k&&P){var _=zl(k).scale,L=zl(P).scale,F=_&&_.invert?_.invert(S.chartX):null,$=L&&L.invert?L.invert(S.chartY):null;return ne(ne({},S),{},{xValue:F,yValue:$},M)}return M?ne(ne({},S),M):null}},{key:"inRange",value:function(j,C){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=j/x,A=C/x;if(N==="horizontal"||N==="vertical"){var I=this.state.offset,E=S>=I.left&&S<=I.left+I.width&&A>=I.top&&A<=I.top+I.height;return E?{x:S,y:A}:null}var k=this.state,P=k.angleAxisMap,R=k.radiusAxisMap;if(P&&R){var M=zl(P);return zL({x:S,y:A},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,C=this.getTooltipEventType(),x=Vn(j,as),N={};x&&C==="axis"&&(x.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=rv(this.props,this.handleOuterEvent);return ne(ne({},S),N)}},{key:"addListener",value:function(){uC.on(dC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){uC.removeListener(dC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,C,x){for(var N=this.state.formattedGraphicalItems,S=0,A=N.length;S<A;S++){var I=N[S];if(I.item===j||I.props.key===j.key||C===ws(I.item.type)&&x===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,C=this.state.offset,x=C.left,N=C.top,S=C.height,A=C.width;return W.createElement("defs",null,W.createElement("clipPath",{id:j},W.createElement("rect",{x,y:N,height:S,width:A})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(C,x){var N=a5(x,2),S=N[0],A=N[1];return ne(ne({},C),{},Oe({},S,A.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(C,x){var N=a5(x,2),S=N[0],A=N[1];return ne(ne({},C),{},Oe({},S,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[j])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(j){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[j])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(j){var C=this.state,x=C.formattedGraphicalItems,N=C.activeItem;if(x&&x.length)for(var S=0,A=x.length;S<A;S++){var I=x[S],E=I.props,k=I.item,P=k.type.defaultProps!==void 0?ne(ne({},k.type.defaultProps),k.props):k.props,R=ws(k.type);if(R==="Bar"){var M=(E.data||[]).find(function($){return iqe(j,$)});if(M)return{graphicalItem:I,payload:M}}else if(R==="RadialBar"){var _=(E.data||[]).find(function($){return zL(j,$)});if(_)return{graphicalItem:I,payload:_}}else if(Bw(I,N)||qw(I,N)||_m(I,N)){var L=J6e({graphicalItem:I,activeTooltipItem:N,itemData:P.data}),F=P.activeIndex===void 0?L:P.activeIndex;return{graphicalItem:ne(ne({},I),{},{childIndex:F}),payload:_m(I,N)?P.data[L]:I.props.data[L]}}}return null}},{key:"render",value:function(){var j=this;if(!$R(this))return null;var C=this.props,x=C.children,N=C.className,S=C.width,A=C.height,I=C.style,E=C.compact,k=C.title,P=C.desc,R=s5(C,vze),M=ze(R,!1);if(E)return W.createElement(YF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(vI,ic({},M,{width:S,height:A,title:k,desc:P}),this.renderClipPath(),MR(x,this.renderMap)));if(this.props.accessibilityLayer){var _,L;M.tabIndex=(_=this.props.tabIndex)!==null&&_!==void 0?_:0,M.role=(L=this.props.role)!==null&&L!==void 0?L:"application",M.onKeyDown=function($){j.accessibilityManager.keyboardEvent($)},M.onFocus=function(){j.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return W.createElement(YF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",ic({className:$e("recharts-wrapper",N),style:ne({position:"relative",cursor:"default",width:S,height:A},I)},F,{ref:function(O){j.container=O}}),W.createElement(vI,ic({},M,{width:S,height:A,title:k,desc:P,style:Mze}),this.renderClipPath(),MR(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);Oe(y,"displayName",r),Oe(y,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Oe(y,"getDerivedStateFromProps",function(p,b){var v=p.dataKey,j=p.data,C=p.children,x=p.width,N=p.height,S=p.layout,A=p.stackOffset,I=p.margin,E=b.dataStartIndex,k=b.dataEndIndex;if(b.updateId===void 0){var P=l5(p);return ne(ne(ne({},P),{},{updateId:0},h(ne(ne({props:p},P),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:j,prevWidth:x,prevHeight:N,prevLayout:S,prevStackOffset:A,prevMargin:I,prevChildren:C})}if(v!==b.prevDataKey||j!==b.prevData||x!==b.prevWidth||N!==b.prevHeight||S!==b.prevLayout||A!==b.prevStackOffset||!gI(I,b.prevMargin)){var R=l5(p),M={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},_=ne(ne({},i5(b,j,S)),{},{updateId:b.updateId+1}),L=ne(ne(ne({},R),M),_);return ne(ne(ne({},L),h(ne({props:p},L),b)),{},{prevDataKey:v,prevData:j,prevWidth:x,prevHeight:N,prevLayout:S,prevStackOffset:A,prevMargin:I,prevChildren:C})}if(!bI(C,b.prevChildren)){var F,$,O,U,K=Vn(C,lu),G=K&&(F=($=K.props)===null||$===void 0?void 0:$.startIndex)!==null&&F!==void 0?F:E,z=K&&(O=(U=K.props)===null||U===void 0?void 0:U.endIndex)!==null&&O!==void 0?O:k,ae=G!==E||z!==k,xe=!Je(j),se=xe&&!ae?b.updateId:b.updateId+1;return ne(ne({updateId:se},h(ne(ne({props:p},b),{},{updateId:se,dataStartIndex:G,dataEndIndex:z}),b)),{},{prevChildren:C,dataStartIndex:G,dataEndIndex:z})}return null}),Oe(y,"renderActiveDot",function(p,b,v){var j;return w.isValidElement(p)?j=w.cloneElement(p,b):We(p)?j=p(b):j=W.createElement(tD,b),W.createElement(Ht,{className:"recharts-active-dot",key:v},j)});var g=w.forwardRef(function(b,v){return W.createElement(y,ic({},b,{ref:v}))});return g.displayName=y.displayName,g},Gw=Gze({chartName:"PieChart",GraphicalChild:ra,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fw},{axisType:"radiusAxis",AxisComp:Mw}],formatAxisMap:j4e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const u5=["#0088FE","#FF8042"];function Yze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Budget vs Charges"}),o.jsxs("div",{className:"w-full h-72",children:[" ",o.jsx(Cw,{width:"100%",height:"100%",children:o.jsxs(Gw,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(ra,{data:t,dataKey:"value",nameKey:"name",outerRadius:"70%",label:!0,children:t.map((e,r)=>o.jsx(_u,{fill:u5[r%u5.length]},`cell-${r}`))}),o.jsx(za,{})]})})]})]})}const d5=["#0088FE","#FF8042","#00C49F"];function Kze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Encumbrance vs Charges"}),o.jsxs("div",{className:"w-full h-64",children:[" ",o.jsx(Cw,{width:"100%",height:"100%",children:o.jsxs(Gw,{children:[o.jsx(ra,{data:t,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:t.map((e,r)=>o.jsx(_u,{fill:d5[r%d5.length]},`cell-${r}`))}),o.jsx(za,{})]})})]})]})}function Jze(){const t=ue(),[e,r]=w.useState(""),[n,a]=w.useState([]),[s,i]=w.useState(""),[l,c]=w.useState({chart1:[],chart2:[],table:[]}),[u,d]=w.useState(!1),{departments:f,isLoading:m}=V(g=>g.departments);w.useEffect(()=>{t(or())},[]),w.useEffect(()=>{e?(d(!0),h0e(e==="All"?"":e).then(g=>{const p=(g==null?void 0:g.data)||[];a(p.map(b=>({value:b.ID,label:b.Name,...b})))}).finally(()=>d(!1))):a([]),i(""),c({chart1:[],chart2:[],table:[]})},[e]);const h=g=>{const p=n.find(E=>E.value===Number(g));if(!p)return;const b=parseFloat(p.Appropriation||0),v=parseFloat(p.Supplemental||0),j=parseFloat(p.Transfer||0),C=parseFloat(p.Charges||0),x=parseFloat(p.PreEncumbrance||0),N=parseFloat(p.Encumbrance||0),A=[{name:"Budget Amount",value:b+v+j-C},{name:"Charges",value:C}],I=[{name:"PreEncumbrance",value:x},{name:"Encumbrance",value:N},{name:"Charges",value:C}];c(E=>({...E,chart1:A,chart2:I})),d(!0),p0e(g).then(E=>{const k=(E==null?void 0:E.data)||[];c(P=>({...P,table:k}))}).finally(()=>d(!1))},y=[{key:"APAR",header:"APAR",sortable:!1},{key:"Total",header:"Total",sortable:!1}];return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Dashboard"}),o.jsx("p",{children:"Analyze department-wise budget allocations and expenses."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(T,{label:"Department",name:"Department",type:"select",value:e,onChange:g=>{const p=g.target.value==="All Departments"?"All":g.target.value;r(p),i(""),c({chart1:[],chart2:[],table:[]})},options:[...f==null?void 0:f.map(g=>({value:g.ID,label:g.Name})),{value:"All Departments",label:"All Departments"}],required:!0}),o.jsx(T,{label:"Sub-Department",name:"SubDepartment",type:"select",value:s,onChange:g=>{console.log("e.target.value",g.target.value),i(g.target.value),h(g.target.value)},options:n,className:"disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsx(Yze,{data:l==null?void 0:l.chart1,loading:u}),o.jsx(Kze,{data:l==null?void 0:l.chart2,loading:u})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:y,data:(l==null?void 0:l.table)||[],loading:u||m,emptyMessage:"No budget data found for selected sub-department."})})]})}const f5=["#0088FE","#00C49F","#FF8042"],m5=[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}];function Xze(){const[t,e]=w.useState("year"),[r,n]=w.useState(""),[a,s]=w.useState("year"),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,h]=w.useState({disbursement:[],obligation:[],travel:[]}),y=ue(),{departments:g}=V(p=>p.departments);return w.useEffect(()=>{y(or())},[]),w.useEffect(()=>{(async()=>{var b,v;try{const[j,C]=await Promise.all([tR(t,"Obligation Request",r==="All"?"":r),tR(t,"Disbursement Voucher",r==="All"?"":r)]);f(`PHP ${parseFloat(((b=j==null?void 0:j.data)==null?void 0:b.total)||0).toLocaleString()}`),u(`PHP ${parseFloat(((v=C==null?void 0:C.data)==null?void 0:v.total)||0).toLocaleString()}`)}catch(j){console.error("Error loading disbursement amounts:",j),q.error("Failed to load disbursement amounts")}})()},[t,r]),w.useEffect(()=>{(async()=>{try{const b=i==="All"?"":i,[v,j,C]=await Promise.all([g0e(a,b),y0e(a,b),b0e(a,b)]);h({obligation:(v==null?void 0:v.data)||[],travel:(j==null?void 0:j.data)||[],disbursement:(C==null?void 0:C.data)||[]})}catch(b){console.error("Error loading chart data:",b),q.error("Failed to load chart data")}})()},[a,i]),o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("h1",{children:"Disbursement Dashboard"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(T,{label:"Timeframe",type:"select",value:t,onChange:p=>e(p.target.value),options:m5}),o.jsx(T,{label:"Department",name:"Department",type:"select",value:r,onChange:p=>{const b=p.target.value==="All Departments"?"All":p.target.value;n(b)},options:[...g==null?void 0:g.map(p=>({value:p.ID,label:p.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-primary-700",children:["Disbursed Amount: ",c]}),o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-amber-700",children:["Obligated Amount: ",d]})]}),o.jsx("hr",{className:"my-8 border-t"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Timeframe",type:"select",value:a,onChange:p=>s(p.target.value),options:m5}),o.jsx(T,{label:"Department",name:"Department",type:"select",value:r,onChange:p=>{const b=p.target.value==="All Departments"?"All":p.target.value;l(b)},options:[...g==null?void 0:g.map(p=>({value:p.ID,label:p.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[mC("Disbursement",[m==null?void 0:m.disbursement]),mC("Obligation",[m==null?void 0:m.obligation]),mC("Travel",[m==null?void 0:m.travel])]})]})}const mC=(t,e)=>o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(Cw,{width:"100%",height:"100%",children:o.jsxs(Gw,{children:[o.jsx(ra,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e==null?void 0:e.map((r,n)=>o.jsx(_u,{fill:f5[n%f5.length]},n))}),o.jsx(za,{})]})})})]}),h5=["#0088FE","#FF8042","#00C49F"];function Ep({title:t,data:e}){return o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(Cw,{width:"100%",height:"100%",children:o.jsxs(Gw,{children:[o.jsx(ra,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e.map((r,n)=>o.jsx(_u,{fill:h5[n%h5.length]},n))}),o.jsx(za,{})]})})})]})}function Qze(){const[t,e]=w.useState("day"),[r,n]=w.useState({general:0,marriage:0,burial:0,cedula:0}),[a,s]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]);w.useEffect(()=>{(async()=>{try{const[y,g,p,b,v]=await Promise.all([x0e(t),v0e(),j0e(),w0e(),N0e()]),j=(y==null?void 0:y.data)||{};n({general:parseFloat(j.General||0),marriage:parseFloat(j.Marriage||0),burial:parseFloat(j.Burial||0),cedula:parseFloat(j.Cedula||0)}),s(m(g.data)),l(m(p.data)),u(m(b.data)),f(m(v.data))}catch(y){console.error(y),q.error("Failed to load collection data")}})()},[t]);const m=(h=[])=>h.map(y=>({name:y.date||"Unknown",value:parseFloat(y.total||0)}));return o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 items-start",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cedula"}),o.jsx(Ep,{title:"Cedula",data:d})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"font-semibold text-xl",children:"Revenue"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.jsx(T,{label:"Select View",type:"select",value:t,onChange:h=>e(h.target.value),options:[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"General Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.general.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Marriage Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.marriage.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Burial Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.burial.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cedula"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.cedula.toFixed(2)]})]})]})]})]}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"grid grid-cols-1  lg:grid-cols-3 gap-4 mt-6",children:[o.jsx(Ep,{title:"General Service Invoice",data:a}),o.jsx(Ep,{title:"Marriage Service Invoice",data:i}),o.jsx(Ep,{title:"Burial Service Invoice",data:c})]})]})}const Lu="https://staging-engine.testthelink.online",Zze=[],_i=B("generalServiceReceipts/fetchGeneralServiceReceipts",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Xe.get(`${Lu}/generalservicerecipt`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),hC=B("generalServiceReceipts/fetchGeneralServiceReceiptById",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Xe.get(`${Lu}/api/general-service-receipts/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Hb=B("generalServiceReceipts/createGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Xe.post(`${Lu}/generalservicerecipt`,t,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),pC=B("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e},r)=>{var n,a;try{const s=localStorage.getItem("token");return(await Xe.put(`${Lu}/generalservicerecipt/${t}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return r.rejectWithValue(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||s.message)}}),Gb=B("generalServiceReceipts/deleteGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return await Xe.delete(`${Lu}/generalservicerecipt/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),t}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Yb=B("generalServiceReceipts/getGeneralServiceReceiptCurrentNumber",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Xe.get(`${Lu}/generalservicerecipt/getCurrentNumber`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),u9=ve({name:"generalServiceReceipts",initialState:{receipts:[],currentReceipt:null,isLoading:!1,currentNumber:null,error:null},reducers:{clearError:t=>{t.error=null},clearCurrentReceipt:t=>{t.currentReceipt=null}},extraReducers:t=>{t.addCase(_i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_i.fulfilled,(e,r)=>{e.isLoading=!1,e.receipts=Array.isArray(r.payload)?r.payload:[]}).addCase(_i.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipts",console.warn("Failed to fetch general service receipts, using mock data.",e.error),e.receipts=Zze}).addCase(hC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentReceipt=r.payload}).addCase(hC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt"}).addCase(Hb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts.push(r.payload)}).addCase(Hb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to create general service receipt",console.error("Failed to create general service receipt:",e.error)}).addCase(pC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.receipts)||(e.receipts=[]),e.receipts[n]=r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload.id&&(e.currentReceipt=r.payload)}).addCase(pC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update general service receipt",console.error("Failed to update general service receipt:",e.error)}).addCase(Gb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts=e.receipts.filter(n=>n.id!==r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload&&(e.currentReceipt=null)}).addCase(Gb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete general service receipt",console.error("Failed to delete general service receipt:",e.error)}).addCase(Yb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yb.fulfilled,(e,r)=>{e.isLoading=!1,e.currentNumber=r.payload}).addCase(Yb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt current number"})}}),{clearError:v9e,clearCurrentReceipt:j9e}=u9.actions,e7e=u9.reducer,t7e="https://staging-engine.testthelink.online",r7e=le().shape({Status:D().required("Status is required"),InvoiceNumber:D().required("Invoice number is required"),InvoiceDate:Le().required("Date is required"),FundsID:Y().required("Fund is required"),Agency:D().required("Agency is required"),PaymentMethodID:Y().required("Payment method is required"),Total:Y().required("Total amount is required"),CustomerID:Y().required("Customer is required"),CustomerName:D().required("Customer name is required"),Remarks:D(),TransactionItemsAll:Yt().of(le().shape({ItemID:Y().required("Item ID is required"),ChargeAccountID:Y().required("Charges account is required"),Quantity:Y().required("Quantity is required").min(1,"Quantity must be at least 1"),Price:Y().required("Price is required").min(0,"Price cannot be negative"),Vatable:Bo()})).min(1,"At least one item is required")});function n7e({isOpen:t,onClose:e,selectedReceipt:r,onSubmit:n,Print:a,currentNumber:s}){const[i,l]=w.useState("Individual"),[c,u]=w.useState(!1),{customers:d}=V(I=>I.customers),{vendorDetails:f}=V(I=>I.vendorDetails),{funds:m}=V(I=>I.funds),{items:h}=V(I=>I.items),{budgets:y}=V(I=>I.budget),g=ue();w.useEffect(()=>{g(An()),g(Fa()),g(Jt()),g(Ba()),g(Do())},[g]);const p=f==null?void 0:f.map(I=>({value:I.ID,label:I.Name})),b=d==null?void 0:d.map(I=>({value:I.ID,label:I.Name||`${I.FirstName} ${I.MiddleName} ${I.LastName}`})),v=m==null?void 0:m.map(I=>({value:I.ID,label:I.Name})),j=h==null?void 0:h.map(I=>({value:I.ID,label:I.Name})),C=y==null?void 0:y.map(I=>({value:I.ID,label:I.Name})),x={Status:(r==null?void 0:r.Status)||"Requested",InvoiceNumber:(r==null?void 0:r.InvoiceNumber)||(s==null?void 0:s.CurrentNumber)||"",InvoiceDate:(r==null?void 0:r.InvoiceDate)||new Date().toISOString().split("T")[0],FundsID:(r==null?void 0:r.FundsID)||"",Agency:(r==null?void 0:r.Agency)||"",CustomerName:(r==null?void 0:r.CustomerName)||"",CustomerID:(r==null?void 0:r.CustomerID)||"",Total:(r==null?void 0:r.Total)||0,Remarks:(r==null?void 0:r.Remarks)||"",CheckNumber:(r==null?void 0:r.CheckNumber)||"",MoneyOrder:(r==null?void 0:r.MoneyOrder)||"",PayeeBank:(r==null?void 0:r.PayeeBank)||"",CheckDate:(r==null?void 0:r.CheckDate)||"",MoneyOrderDate:(r==null?void 0:r.MoneyOrderDate)||"",Attachments:(r==null?void 0:r.Attachments)||[],PaymentMethodID:2,TransactionItemsAll:(r==null?void 0:r.TransactionItemsAll)||[{ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}]};console.log("initialValues",x);const N=(I,E,k)=>{const R=Array.from(I.target.files).map(M=>M);E("Attachments",[...k.Attachments,...R])},S=(I,E,k)=>{const P=[...k.Attachments];P.splice(I,1),E("Attachments",P)},A=async(I,{setSubmitting:E})=>{const k=new FormData;for(const P in I)if(P!=="Attachments"){const R=typeof I[P]=="object"?JSON.stringify(I[P]):I[P];P==="TransactionItemsAll"?k.append("Items",R):k.append(P,R)}I==null||I.Attachments.forEach((P,R)=>{P.ID?k.append(`Attachments[${R}].ID`,P.ID):k.append(`Attachments[${R}].File`,P)}),r?(k.append("IsNew","false"),k.append("LinkID",r.LinkID),k.append("ID",r.ID)):k.append("IsNew","true"),console.log("Form Data:",I);try{await n(k),console.log("Form submitted with values:",k)}catch(P){console.error("Error submitting form:",P)}finally{e(),E(!1)}};return o.jsxs(oe,{isOpen:t,onClose:e,title:r?"Edit General Service Receipt":"New General Service Receipt",size:"xl",children:[o.jsxs("div",{className:"w-full py-4 flex justify-end gap-4 items-center max-sm:flex-col",children:[o.jsx("button",{type:"button",className:"btn btn-secondary max-sm:w-full",children:"Show List"}),o.jsx("button",{className:"btn btn-primary max-sm:w-full",onClick:()=>u(!0),children:"Add Attachments"}),a&&o.jsx("button",{className:"btn btn-outline max-sm:w-full",children:"Print"})]}),o.jsx(Re,{initialValues:x,validationSchema:r7e,onSubmit:A,enableReinitialize:!0,children:({values:I,setFieldValue:E,handleChange:k,handleBlur:P,isSubmitting:R,errors:M,touched:_,submitCount:L,isValid:F})=>o.jsxs(qe,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Attachments"}),I.Attachments.length>0?o.jsx("div",{className:"space-y-2",children:I.Attachments.map(($,O)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:$.ID?o.jsx("a",{href:`${t7e}/uploads/${$.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:$.name||$.DataName}):$.name||$.DataName})]}),o.jsx("button",{type:"button",onClick:()=>S(O,E,I),className:"text-red-500 hover:text-red-700",children:o.jsx(tr,{className:"h-4 w-4"})})]},O))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 font-semibold text-blue-500 rounded-md",children:I==null?void 0:I.Status.toUpperCase()})]}),o.jsx(T,{label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,onChange:k,value:I.InvoiceNumber,error:M.InvoiceNumber,touched:_.InvoiceNumber,readOnly:!0,className:"bg-gray-100 text-blue-600 cursor-not-allowed font-semibold"})]}),o.jsx(T,{label:"Date",name:"InvoiceDate",type:"date",onChange:k,value:I.InvoiceDate,required:!0,error:M.InvoiceDate&&_.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Agency",name:"Agency",placeholder:"Enter Agency",type:"text",required:!0,onChange:k,value:I.Agency,error:M.Agency,touched:_.Agency}),o.jsx(T,{label:"Fund",name:"FundsID",type:"select",options:v,required:!0,onChange:k,value:I.FundsID,error:M.FundsID,touched:_.FundsID})]})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payor Information"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxpayer Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>{l("Individual"),E("PayorType","Individual"),E("PayorName","")},className:`px-4 py-2 rounded-md ${i==="Individual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Individual"}),o.jsx("button",{type:"button",onClick:()=>{l("Corporation"),E("PayorType","Corporation"),E("PayorName","")},className:`px-4 py-2 rounded-md ${i==="Corporation"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Corporation"})]})]}),o.jsx(yt,{label:"Payor",name:"CustomerName",type:"select",options:i==="Individual"?b:p,required:!0,placeholder:"Select Payor",onSelect:$=>{const O=i==="Individual"?b.find(U=>U.value===$):p.find(U=>U.value===$);E("CustomerName",(O==null?void 0:O.label)||""),E("CustomerID",(O==null?void 0:O.value)||"")},selectedValue:I.CustomerID,error:M.CustomerName,touched:_.CustomerName})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Items"}),o.jsx(nn,{name:"TransactionItemsAll",children:({push:$,remove:O})=>o.jsxs("div",{className:"space-y-4",children:[I.TransactionItemsAll.map((U,K)=>{var G,z,ae,xe,se,J,ce,ee,re,X,H,me,Ne,Ee,Ue,Ve,qr,Vr,na,Jr,Q,be,Z,he;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[o.jsx(T,{label:"Item ID",name:`TransactionItemsAll.${K}.ItemID`,type:"select",options:j,required:!0,value:U.ItemID,onChange:k,onBlur:P,error:((z=(G=_.TransactionItemsAll)==null?void 0:G[K])==null?void 0:z.ItemID)&&((xe=(ae=M.TransactionItemsAll)==null?void 0:ae[K])==null?void 0:xe.ItemID),touched:(J=(se=_.TransactionItemsAll)==null?void 0:se[K])==null?void 0:J.ItemID}),o.jsx(T,{label:"Account",name:`TransactionItemsAll.${K}.ChargeAccountID`,type:"select",options:C,required:!0,value:U.ChargeAccountID,onChange:k,onBlur:P,error:((ee=(ce=_.TransactionItemsAll)==null?void 0:ce[K])==null?void 0:ee.ChargeAccountID)&&((X=(re=M.TransactionItemsAll)==null?void 0:re[K])==null?void 0:X.ChargeAccountID),touched:(me=(H=_.TransactionItemsAll)==null?void 0:H[K])==null?void 0:me.ChargeAccountID}),o.jsx(T,{label:"Qty",name:`TransactionItemsAll.${K}.Quantity`,type:"number",required:!0,min:"1",value:U.Quantity,onChange:k,onBlur:P,error:((Ee=(Ne=_.TransactionItemsAll)==null?void 0:Ne[K])==null?void 0:Ee.Quantity)&&((Ve=(Ue=M.TransactionItemsAll)==null?void 0:Ue[K])==null?void 0:Ve.Quantity),touched:(Vr=(qr=_.TransactionItemsAll)==null?void 0:qr[K])==null?void 0:Vr.Quantity}),o.jsx(T,{label:"Price",name:`TransactionItemsAll.${K}.Price`,type:"number",required:!0,min:"0",value:U.Price,onChange:k,onBlur:P,error:((Jr=(na=_.TransactionItemsAll)==null?void 0:na[K])==null?void 0:Jr.Price)&&((be=(Q=M.TransactionItemsAll)==null?void 0:Q[K])==null?void 0:be.Price),touched:(he=(Z=_.TransactionItemsAll)==null?void 0:Z[K])==null?void 0:he.Price}),o.jsx(T,{label:"Vatable",type:"checkbox",id:`TransactionItemsAll.${K}.Vatable`,name:`TransactionItemsAll.${K}.Vatable`,checked:U.Vatable,onChange:k}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"text-sm font-medium",children:["Subtotal:"," ",(U.Quantity*U.Price).toFixed(2)]}),K>0&&o.jsx("button",{type:"button",onClick:()=>O(K),className:"text-red-500 hover:text-red-700",children:o.jsx(ju,{})})]})]},K)}),o.jsx("button",{type:"button",onClick:()=>$({ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}),className:"btn btn-primary",children:"+ Add Item"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:I.TransactionItemsAll.reduce(($,O)=>$+O.Quantity*O.Price,0).toFixed(2)})]}),o.jsx(T,{label:"Amount in Words",name:"amountInWords",type:"text",value:Qi(I.TransactionItemsAll.reduce(($,O)=>$+O.Quantity*O.Price,0)),readOnly:!0})," "]})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payment Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),o.jsx("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[{value:2,label:"Cash"},{value:3,label:"Check"},{value:8,label:"Money Order"},{value:9,label:"Treasury Warrant"}].map(($,O)=>o.jsx("button",{type:"button",onClick:()=>E("PaymentMethodID",$.value),className:`px-2 py-1 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium border ${I.PaymentMethodID===$.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${O===0?"rounded-l-md":O===3?"rounded-r-md":"border-l-0"}`,children:$.label},$.value))})]}),I.PaymentMethodID===3&&o.jsxs(o.Fragment,{children:[o.jsx(T,{label:"Check Number",name:"CheckNumber",type:"text",value:I.CheckNumber,onChange:k,error:M.CheckNumber&&_.CheckNumber}),o.jsx(T,{label:"Bank",name:"PayeeBank",type:"text",value:I.PayeeBank,onChange:k}),o.jsx(T,{label:"Check Date",name:"CheckDate",type:"date",value:I.CheckDate,onChange:k,error:M.CheckDate&&_.CheckDate})]}),I.PaymentMethodID===8&&o.jsxs(o.Fragment,{children:[o.jsx(T,{label:"Money Order Number",name:"MoneyOrder",type:"text",value:I.MoneyOrder,onChange:k,error:M.MoneyOrder&&_.MoneyOrder}),o.jsx(T,{label:"Money Order Date",name:"MoneyOrderDate",type:"date",value:I.MoneyOrderDate,onChange:k,error:M.MoneyOrderDate&&_.MoneyOrderDate})]}),o.jsx(T,{label:"Remarks",name:"Remarks",type:"textarea",value:I.Remarks,onChange:k,rows:2,error:M.Remarks&&_.Remarks})]}),c&&o.jsx(oe,{isOpen:c,onClose:()=>u(!1),title:"Attachments",size:"md",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg sm:p-4 text-center",children:o.jsx("label",{className:"cursor-pointer",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(Ds,{className:"h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to browse or drag and drop files"}),o.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:$=>{N($,E,I),u(!1)}})]})})})})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:R||!F,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:R?"Saving...":"Save"})]})]})})]})}function a7e(){const t=ue(),{receipts:e,isLoading:r,currentNumber:n}=V(k=>k.generalReceipts),{Add:a,Edit:s,Delete:i,Print:l}=we(52),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,h]=w.useState(!1),[y,g]=w.useState(null);w.useEffect(()=>{t(_i())},[t]),console.log("generalReceipts",e);const p=()=>{g(null),h(!0),t(Yb())},b=k=>{g(k),f(!0)},v=k=>{g(k),h(!0)},j=()=>{f(!1),g(null)},C=()=>{h(!1),g(null)},x=k=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(k),N=async k=>{try{await t(Gb(k.ID)).unwrap(),t(_i()),q.success("Receipt deleted successfully.")}catch(P){console.error("Error deleting receipt:",P),q.error("Failed to delete receipt.")}},S=[{key:"ID",header:"Invoice",sortable:!0,className:"font-medium text-neutral-900",render:k=>o.jsx("div",{className:"flex items-center gap-1",children:k})},{key:"Status",header:"Status",sortable:!0,render:k=>o.jsx("span",{className:`px-2 py-1 rounded ${k==="Posted"?"bg-green-100 text-green-800":k==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:k})},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"CustomerName",header:"Customer Name",sortable:!0,render:k=>(k==null?void 0:k.trim())||"N/A"},{key:"InvoiceNumber",header:"Order No.",sortable:!0},{key:"Total",header:"Amount",sortable:!0,render:k=>x(k),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:k=>k||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:k=>({1:"General Fund",2:"Special Education Fund"})[k]||""},{key:"CheckNumber",header:"Check",sortable:!0,render:k=>k||""},{key:"MoneyOrder",header:"Money Order",sortable:!0,render:k=>k||""},{key:"MoneyOrderDate",header:"Money Order Date",sortable:!0,render:k=>k||""}],A=async(k,P)=>{setApprovalLoading(!0);try{console.log(`${P}d:`,response.data),t(_i()),q.success(`General Receipt ${P}d successfully`)}catch(R){console.error(`Error ${P}ing General Receipt:`,R),q.error(`Error ${P}ing General Receipt`)}finally{setApprovalLoading(!1)}},I=k=>{const P=[];return k.Status.toLowerCase().includes("rejected")&&s?(P.push({icon:Ie,title:"Edit",onClick:()=>handleEditOR(k),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),P.push({icon:Ka,title:"Delete",onClick:()=>N(k),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):k.Status==="Requested"&&P.push({icon:ah,title:"Approve",onClick:()=>A(k,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:ju,title:"Reject",onClick:()=>A(k,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),P},E=async k=>{if(k)try{const P=await t(Hb(k)).unwrap();console.log("Operation successful:",P,k),t(_i()),q.success("Receipt saved successfully.")}catch(P){console.error("Submission failed:",P),q.error(P.message||"Failed to save receipt")}finally{C()}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Service Receipt"}),o.jsx("p",{children:"Manage official receipts and collections"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:a&&o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Service Receipt"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:S,data:e,actions:I,loading:r,onRowClick:b})}),o.jsx(n7e,{isOpen:m,onClose:C,selectedReceipt:y,onSubmit:E,Print:l,currentNumber:n}),o.jsx(oe,{isOpen:d,onClose:j,title:"General Receipt Details",size:"lg",children:y&&o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Receipt Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OR Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.receiptNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:new Date(y.receiptDate).toLocaleDateString()})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.fund})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.modeOfPayment})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payor Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.payorName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.payorAddress||"N/A"})]})]})]})]}),o.jsx("div",{className:"p-4 bg-success-50 rounded-lg border border-success-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-success-700",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-success-700",children:x(y.totalAmount)})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:j,className:"btn btn-outline",children:"Close"}),s&&o.jsx("button",{type:"button",onClick:()=>v(y),className:"btn btn-primary",children:"Edit"})]})]})})]})}le().shape({CustomerName:D().required("Customer name is required"),Municipality:D().required("Municipality is required"),AmountinWords:D().required("Amount in words is required"),AmountReceived:Y().min(0).required("Amount received is required"),CheckNumber:D().nullable(),T_D_No:D().required("T.D. No is required"),AdvancedYear:Y().min(1900).max(2100).required("Advanced year is required"),AdvanceFunds:Y().min(0).required("Advance funds is required"),FundsID:Y().required("Funds ID is required"),ReceivedFrom:D().required("Received from is required"),Location:D().required("Location is required"),Lot:D().nullable(),Block:D().nullable(),PreviousPaymentList:Yt().of(le().shape({LandPrice:Y().min(0),ImprovementPrice:Y().min(0),TotalAssessedValue:Y().min(0),TaxDue:Y().min(0),InstallmentPayment:Y().min(0),FullPayment:Y().min(0),Penalty:Y().min(0),Total:Y().min(0)})),PresentPaymentList:Yt().of(le().shape({LandPrice:Y().min(0),ImprovementPrice:Y().min(0),TotalAssessedValue:Y().min(0),TaxDue:Y().min(0),InstallmentPayment:Y().min(0),FullPayment:Y().min(0),Penalty:Y().min(0),Discount:Y().min(0),Total:Y().min(0),RemainingBalance:Y().min(0)}))});const p5=()=>{const[t,e]=w.useState({owner:"",municipality:"MAKATI",checkNumber:"0",previousPayment:"0",receivedFrom:"CEDRIC",taxDeclarationNumber:"",address:"",block:"",lot:"",amountReceived:"",remainingBalance:"0",receivedFrom2:"",advancePayment:!1,year:"2025",until:"2025",amountInWords:"",basicFund:!0,specialEducationFund:!1,previousLandValues:"0",previousImprovement:"0",previousTotalAssessed:"0",previousTotal:"0",presentLandValues:"0",presentImprovement:"0",presentTotalAssessed:"0",discountRate:"0",penaltyRate:"0",payment:"0",dueDateYear:"",installmentPayment:!1,fullPayment:!0}),[r,n]=w.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),[a,s]=w.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),i=(f,m)=>{e(h=>({...h,[f]:m}))},l=(f,m)=>{const h={id:Date.now().toString(),ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""};m([...f,h])},c=(f,m,h)=>{m.length>1&&h(m.filter(y=>y.id!==f))},u=(f,m,h,y,g)=>{g(y.map(p=>p.id===f?{...p,[m]:h}:p))},d=({entries:f,setEntries:m,title:h})=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[o.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:h}),o.jsx("div",{className:"flex gap-2",children:o.jsx(St,{type:"button",onClick:()=>l(f,m),className:"bg-green-600 hover:bg-green-700 text-white p-2 h-8 w-8",children:o.jsx(nj,{className:"h-4 w-4"})})})]}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner Address"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Lot Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Block Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"T.D No"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Land"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Improvement"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Total Assessed"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Tax Due"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Full Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Penalty"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:f.map((y,g)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g+1,readOnly:!0,className:"w-full p-1 text-sm bg-gray-50 border-none text-center"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y.ownerAddress,onChange:p=>u(y.id,"ownerAddress",p.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y.lotNumber,onChange:p=>u(y.id,"lotNumber",p.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y.blockNumber,onChange:p=>u(y.id,"blockNumber",p.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y.tdNo,onChange:p=>u(y.id,"tdNo",p.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y.land,onChange:p=>u(y.id,"land",p.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y.improvement,onChange:p=>u(y.id,"improvement",p.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y.totalAssessed,onChange:p=>u(y.id,"totalAssessed",p.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y.taxDue,onChange:p=>u(y.id,"taxDue",p.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y.payment,onChange:p=>u(y.id,"payment",p.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx("button",{type:"button",onClick:()=>c(y.id,f,m),className:"btn btn-danger ",disabled:f.length===1,children:o.jsx(tr,{className:"h-3 w-3"})})})]},y.id))})]})})})]});return o.jsx("div",{className:"min-h-screen bg-white md:p-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(efe,{className:"h-5 w-5"}),"Basic Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(T,{label:"Owner",name:"owner",type:"select",options:[{value:"owner1",label:"Owner 1"},{value:"owner2",label:"Owner 2"}],value:t.owner,onChange:f=>i("owner",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Municipality",name:"municipality",value:t.municipality,onChange:f=>i("municipality",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Check Number",name:"checkNumber",value:t.checkNumber,onChange:f=>i("checkNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Previous Payment",name:"previousPayment",value:t.previousPayment,onChange:f=>i("previousPayment",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Received From",name:"receivedFrom",value:t.receivedFrom,onChange:f=>i("receivedFrom",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(T,{label:"Tax Declaration Number",name:"taxDeclarationNumber",type:"select",options:[{value:"taxDeclarationNumber1",label:"Tax Declaration Number 1"},{value:"taxDeclarationNumber2",label:"Tax Declaration Number 2"}],value:t.taxDeclarationNumber,onChange:f=>i("taxDeclarationNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Address",name:"address",value:t.address,onChange:f=>i("address",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Block",name:"block",value:t.block,onChange:f=>i("block",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Lot",name:"lot",value:t.lot,onChange:f=>i("lot",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Previous Balance Land Values"})}),o.jsx("div",{className:"sm:p-6 p-3",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(T,{label:"Land Values",name:"previousLandValues",value:t.previousLandValues,onChange:f=>i("previousLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Improvement",name:"previousImprovement",value:t.previousImprovement,onChange:f=>i("previousImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Total Assessed Value",name:"previousTotalAssessed",value:t.previousTotalAssessed,onChange:f=>i("previousTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"General Revision (Year)",name:"dueDateYear",type:"select",options:[{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary ",children:"Add"}),o.jsx("button",{className:"btn btn-outline",children:"Remove"})]})]})})]}),o.jsx(d,{entries:r,setEntries:n,title:"Previous Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Present Year Balance"})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(T,{label:"Land Values",name:"presentLandValues",value:t.presentLandValues,onChange:f=>i("presentLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Improvement",name:"presentImprovement",value:t.presentImprovement,onChange:f=>i("presentImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Total Assessed Value",name:"presentTotalAssessed",value:t.presentTotalAssessed,onChange:f=>i("presentTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Label10"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(T,{label:"Discount Rate",name:"discountRate",value:t.discountRate,onChange:f=>i("discountRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Penalty Rate",name:"penaltyRate",value:t.penaltyRate,onChange:f=>i("penaltyRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(T,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.installmentPayment,onChange:()=>{i("installmentPayment",!0),i("fullPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Installment Payment"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.fullPayment,onChange:()=>{i("fullPayment",!0),i("installmentPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Full Payment"})]})]})]})]})]})]}),o.jsx(d,{entries:a,setEntries:s,title:"Present Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(RE,{className:"h-5 w-5"}),"Payment Summary"]})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(T,{label:"Amount Received",name:"amountReceived",value:t.amountReceived,onChange:f=>i("amountReceived",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"}),o.jsx(T,{label:"Remaining Balance",name:"remainingBalance",value:t.remainingBalance,onChange:f=>i("remainingBalance",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(T,{label:"Received From",name:"receivedFrom2",value:t.receivedFrom2,onChange:f=>i("receivedFrom2",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:t.advancePayment,onChange:f=>i("advancePayment",f.target.checked),className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Advance Payment"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(T,{label:"Year",name:"year",value:t.year,onChange:f=>i("year",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Until"}),o.jsx(T,{label:"",name:"until",value:t.until,onChange:f=>i("until",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.basicFund,onChange:()=>{i("basicFund",!0),i("specialEducationFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Basic Fund"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.specialEducationFund,onChange:()=>{i("specialEducationFund",!0),i("basicFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Special Education Fund"})]})]})]})]}),o.jsx(T,{label:"Amount In Words",name:"amountInWords",value:t.amountInWords,onChange:f=>i("amountInWords",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500",placeholder:"Enter amount in words..."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{variant:"outline",className:"btn btn-outline",children:"Cancel"}),o.jsx(St,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:"Save Draft"})]})]})})},s7e=[{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"Active"},{id:2,tdNo:"TD-002",owner:"Maria Santos",address:"456 Pine St",beneficialUser:"Carlos Santos",beneficialAddress:"456 Pine St",octTctCloaNo:"OCT-456",cct:"CCT-789",dated:"2024-02-15",propertyIdentificationNo:"67890",tin:"456-789-012",ownerTelephoneNo:"9876543210",beneficialTin:"456-789-012",beneficialTelephoneNo:"9876543210",surveyNo:"S-002",lotNo:"L-002",blockNo:"B-002",boundaries:{taxable:!0,north:"Street E",south:"Street F",east:"Street G",west:"Street H"},cancelledTdNo:"",cancelledOwner:"",effectivityOfAssessment:"2024-01-01",previousOwner:"",previousAssessedValue:"0",propertyDetails:{kind:"Land",numberOf:"1",description:"Commercial lot"},assessmentDetails:{kind:"Land",actualUse:"Commercial",classification:"Class 2",areaSize:"Large",assessmentLevel:"30%",marketValue:"2500000"},status:"Active"}];function o7e(){ue();const{realPropertyTaxes:t,isLoading:e}=V(C=>C.realPropertyTax),{Add:r,Edit:n}=we(70),[a,s]=w.useState("list"),[i,l]=w.useState(null),[c,u]=w.useState(""),d=t&&t.length>0?t:s7e,f=()=>{l(null),s("form")},m=C=>{l(C),s("details")},h=C=>{l(C),s("form")},y=C=>{console.log("Print property:",C)},g=()=>{s("list"),l(null)},p=d==null?void 0:d.filter(C=>{const x=c.toLowerCase();return C.tdNo.toLowerCase().includes(x)||C.owner.toLowerCase().includes(x)||C.address.toLowerCase().includes(x)||C.propertyIdentificationNo.toLowerCase().includes(x)}),b=[{key:"tdNo",header:"TD No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"owner",header:"Owner",sortable:!0},{key:"address",header:"Address",sortable:!0},{key:"propertyIdentificationNo",header:"Property ID",sortable:!0},{key:"dated",header:"Date",sortable:!0,render:C=>new Date(C).toLocaleDateString()},{key:"status",header:"Status",sortable:!0,render:C=>v(C)}],v=C=>{let x="bg-neutral-100 text-neutral-800";switch(C){case"Active":x="bg-success-100 text-success-800";break;case"Inactive":x="bg-warning-100 text-warning-800";break;case"Cancelled":x="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x}`,children:C})},j=[{icon:Gm,title:"View",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},n&&{icon:Ie,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return o.jsxs(o.Fragment,{children:[a==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4 mb-6 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Property Tax Records"}),o.jsx("p",{className:"text-gray-600",children:"Manage real property tax assessments"})]}),r&&o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Property"]})]}),o.jsx(ye,{columns:b,data:p,actions:j,loading:e,onRowClick:m})]}),a==="form"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between max-sm:flex-col gap-4 sm:items-center mb-6",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:g,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(va,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:i?"Edit Real Property Tax Record":"Create New Real Property Tax Record"}),o.jsx("p",{className:"text-gray-600",children:i?"Update the property details":"Fill out the form to create a new property record"})]})]}),o.jsxs("button",{onClick:()=>{console.log("Print")},className:"btn btn-primary",children:[o.jsx(cl,{className:"h-5 w-5 mr-2","aria-hidden":"true"})," Print"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(p5,{initialData:i,onCancel:g,onSubmitSuccess:g})})]}),a==="details"&&i&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:g,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(va,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage property tax details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>h(i),className:"btn btn-primary flex items-center",children:[o.jsx(Ie,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>y(i),className:"btn btn-outline flex items-center",children:[o.jsx(cl,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(p5,{initialData:i,readOnly:!0,onBack:g})})]})]})}function i7e({funds:t=[],employees:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=le({endDate:D().required("Date End is required"),fundID:D().required("Fund is required"),approverID:D().required("Approver is required"),ledger:D().required("Ledger is required")}),c={endDate:"",fundID:"",approverID:"",ledger:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(Re,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:y,isSubmitting:g,setFieldValue:p})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[o.jsx(T,{label:"Date End",name:"endDate",type:"date",value:d.endDate,onChange:h,onBlur:y,error:f.endDate,touched:m.endDate,required:!0}),o.jsx(T,{type:"select",label:"Fund",name:"fundID",options:t.map(b=>({value:b.ID,label:b.Name})),value:d.fundID,onChange:h,onBlur:y,error:f.fundID,touched:m.fundID,required:!0}),o.jsx(T,{label:"Ledger",name:"ledger",type:"select",value:d.ledger,onChange:h,onBlur:y,options:[{value:"General Ledger",label:"General Ledger"},{value:"Subsidiary Ledger",label:"Subsidiary Ledger"}],error:f.ledger,touched:m.ledger,required:!0}),o.jsx(T,{label:"Approver",name:"approverID",type:"select",options:e.map(b=>{var v;return{value:b.ID,label:b.FirstName+" "+b.MiddleName+" "+b.LastName+" - "+((v=b==null?void 0:b.Department)==null?void 0:v.Name)}}),value:d.approverID,onChange:h,onBlur:y,error:f.approverID,touched:m.approverID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-neutral-200 max-sm:flex-col",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,children:"Generate Cashbook"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:g,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const l7e="https://staging-engine.testthelink.online",c7e={trialBalances:[],isLoading:!1,error:null},Kb=B("trialBalance/fetchTrialBalances",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${l7e}/trialBalanceReport/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),gC=B("trialBalance/exportTrialBalances",async t=>!0),d9=ve({name:"trialBalance",initialState:c7e,reducers:{resetTrialBalanceState:t=>{t.trialBalances=[],t.error=null}},extraReducers:t=>{t.addCase(Kb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kb.fulfilled,(e,r)=>{e.isLoading=!1,e.trialBalances=r.payload}).addCase(Kb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(gC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gC.fulfilled,e=>{e.isLoading=!1}).addCase(gC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetTrialBalanceState:u7e}=d9.actions,d7e=d9.reducer;function f7e(){const t="https://staging-engine.testthelink.online",e=ue(),{trialBalances:r,isLoading:n,error:a}=V(f=>f.trialBalance),{funds:s}=V(f=>f.funds),{employees:i}=V(f=>f.employees),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);w.useEffect(()=>{e(u7e()),e(Jt()),e(un())},[e]);const c=[{key:"AccountCode",header:"Account Code",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"EndDate",header:"End Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=localStorage.getItem("token"),h=await fetch(`${t}/trialBalanceReport/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({endDate:f.endDate,fundID:f.fundID,approverID:f.approverID,ledger:f.ledger})});if(!h.ok)throw new Error("Server response was not ok");const y=await h.blob(),g=h.headers.get("Content-Disposition");let p="Trial_Balance.xlsx";g&&g.includes("filename=")&&(p=g.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(y),v=document.createElement("a");v.href=b,v.download=p,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(b)}catch(m){console.error("Export failed:",m),q.error(m.message||"Failed to export trial balance")}},d=f=>{e(Kb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Trial Balance"}),o.jsx("p",{children:"Generate trial balance reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(i7e,{funds:s,employees:i,onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:c,data:r,loading:n,pagination:!0})})]})}const m7e="https://staging-engine.testthelink.online",h7e=le().shape({BudgetID:D().required("Budget is required"),budgetName:D(),fiscalYearID:D(),departmentID:D(),subDepartmentID:D(),chartOfAccountsID:D(),fundID:D(),projectID:D(),allotment:Y().integer().required("Allotment is required"),remarks:D(),appropriation:Y().integer(),balance:Y().integer(),releasedAllotments:Y().integer(),releasedBalance:Y().integer(),Attachments:Yt()}),g5={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",allotment:0,charges:0,totalAmount:0,balance:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[],Status:"Requested"};function p7e({initialData:t,onSubmit:e,onClose:r,allotmentList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=w.useState({...g5});w.useEffect(()=>{if(t!=null&&t.ID){const{Budget:p}=t;f({BudgetID:p==null?void 0:p.ID,budgetName:(p==null?void 0:p.Name)||"",fiscalYearID:(p==null?void 0:p.FiscalYearID)||"",departmentID:(p==null?void 0:p.DepartmentID)||"",subDepartmentID:(p==null?void 0:p.SubDepartmentID)||"",chartOfAccountsID:(p==null?void 0:p.ChartofAccountsID)||"",fundID:(p==null?void 0:p.FundID)||"",projectID:(p==null?void 0:p.ProjectID)||"",allotment:(p==null?void 0:p.Allotment)||0,charges:(p==null?void 0:p.Charges)||0,totalAmount:(p==null?void 0:p.TotalAmount)||0,balance:(p==null?void 0:p.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(p==null?void 0:p.Appropriation)||0,releasedAllotments:(p==null?void 0:p.ReleasedAllotments)||0,releasedBalance:(p==null?void 0:p.ReleasedBalance)||0,Attachments:(p==null?void 0:p.Attachments)||[],Status:(t==null?void 0:t.Status)||"Requested"})}else f(g5)},[t]);const m=async(p,{setSubmitting:b})=>{try{const v=new FormData;p==null||p.Attachments.forEach((C,x)=>{C.ID?v.append(`Attachments[${x}].ID`,C.ID):v.append(`Attachments[${x}].File`,C)}),(p==null?void 0:p.Attachments.length)===0&&v.append("Attachments","[]");const j={BudgetID:p.BudgetID,Remarks:p.remarks,Allotment:p.allotment};Object.entries(j).forEach(([C,x])=>{v.append(C,JSON.stringify(x))}),t?(v.append("LinkID",JSON.stringify(t.LinkID)),v.append("IsNew",JSON.stringify(!1))):v.append("IsNew",JSON.stringify(!0)),await e(v)}catch(v){console.error("Submission error:",v)}finally{b(!1)}},h=p=>{const b=n==null?void 0:n.find(v=>v.ID===parseInt(p));b&&f({...d,BudgetID:b.ID,budgetName:b.Name||"",fiscalYearID:b.FiscalYearID||"",departmentID:b.DepartmentID||"",subDepartmentID:b.SubDepartmentID||"",chartOfAccountsID:b.ChartofAccountsID||"",fundID:b.FundID||"",projectID:b.ProjectID||"",appropriation:parseFloat(b.Appropriation)||0,balance:parseFloat(b.AppropriationBalance)||0,charges:parseFloat(b.Charges||0)})},y=(p,b,v)=>{const C=Array.from(p.target.files).map(x=>x);b("Attachments",[...v.Attachments,...C])},g=(p,b,v)=>{const j=[...v.Attachments];j.splice(p,1),b("Attachments",j)};return o.jsx(Re,{enableReinitialize:!0,initialValues:d,validationSchema:h7e,onSubmit:m,children:({values:p,errors:b,touched:v,handleChange:j,handleBlur:C,isSubmitting:x,setFieldValue:N})=>{var S,A;return o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2 pt-4",children:o.jsx(yt,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:h,options:n.map(I=>({label:I.Name,value:I.ID})),error:b.BudgetID,touched:v.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:I=>y(I,N,p),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((S=p==null?void 0:p.Attachments)==null?void 0:S.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:p.Attachments.map((I,E)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:o.jsx("a",{href:I!=null&&I.ID?`${m7e}/uploads/${I==null?void 0:I.DataImage}`:URL.createObjectURL(I),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:(I==null?void 0:I.name)||(I==null?void 0:I.DataName)})}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:I==null?void 0:I.type})]}),o.jsx("button",{type:"button",onClick:()=>g(E,N,p),className:"text-red-500 hover:text-red-700",children:o.jsx(tr,{className:"h-4 w-4"})})]},E))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 font-semibold text-blue-500 rounded-md",children:((A=p==null?void 0:p.Status)==null?void 0:A.toUpperCase())||"Requested"})]}),o.jsx(T,{label:"Budget Name",name:"budgetName",type:"text",value:p.budgetName,onChange:j,onBlur:C,error:b.budgetName,touched:v.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:p.fiscalYearID,onChange:j,onBlur:C,error:b.fiscalYearID,touched:v.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Department",name:"departmentID",type:"select",value:p.departmentID,onChange:j,onBlur:C,error:b.departmentID,touched:v.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:p.subDepartmentID,onChange:j,onBlur:C,error:b.subDepartmentID,touched:v.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:p.chartOfAccountsID,onChange:j,onBlur:C,error:b.chartOfAccountsID,touched:v.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Fund",name:"fundID",type:"select",value:p.fundID,onChange:j,onBlur:C,error:b.fundID,touched:v.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Project",name:"projectID",type:"select",value:p.projectID,onChange:j,onBlur:C,error:b.projectID,touched:v.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Appropriation",name:"appropriation",type:"number",value:p.appropriation,onChange:j,onBlur:C,error:b.appropriation,touched:v.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Balance",name:"balance",type:"number",value:p.balance,onChange:j,onBlur:C,error:b.balance,touched:v.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:p.releasedAllotments,onChange:j,onBlur:C,error:b.releasedAllotments,touched:v.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Released Balance",name:"releasedBalance",type:"number",value:p.releasedBalance,onChange:j,onBlur:C,error:b.releasedBalance,touched:v.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(T,{label:"Allotment",name:"allotment",type:"number",value:p.allotment,onChange:j,onBlur:C,error:b.allotment,touched:v.allotment,required:!0}),o.jsx(T,{label:"Remarks",name:"remarks",type:"textarea",value:p.remarks,onChange:j,onBlur:C,error:b.remarks,touched:v.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const g7e=()=>{const t=ue(),{user:e}=V(R=>R.auth),{Add:r,Edit:n,Print:a}=we(23),{departments:s}=V(R=>R.departments),{subdepartments:i}=V(R=>R.subdepartments),l=V(R=>{var M;return((M=R.chartOfAccounts)==null?void 0:M.accounts)||[]}),{fiscalYears:c}=V(R=>R.fiscalYears),{funds:u}=V(R=>R.funds),{projectDetails:d}=V(R=>R.projectDetails),[f,m]=w.useState([]),[h,y]=w.useState([]),[g,p]=w.useState(!1),[b,v]=w.useState(null),[j,C]=w.useState({department:"",subDepartment:"",chartOfAccounts:""});w.useEffect(()=>{t(or()),t(So()),t(kr()),x(),N()},[]);const x=async()=>{try{const R=await He("/budgetAllotment/list");m(R.data)}catch(R){ie.error("Failed to load data"),ie.error(R.message)}},N=async()=>{try{const R=await He("/budgetSupplemental/budgetList");y(R==null?void 0:R.data)}catch(R){ie.error("Failed to load data"),ie.error(R.message)}},S=R=>{const{name:M,value:_}=R.target;C(L=>({...L,[M]:_}))},A=async R=>{try{(await He.post("budgetAllotment",R,{headers:{"Content-Type":"multipart/form-data"}})).data?(ie.success(b?"Allotment updated successfully":"New Allotment added"),x()):ie.error("Failed to save supplemental")}catch(M){console.error("Error submitting supplemental:",M),ie.error(M.message||"Failed to save supplemental")}finally{p(!1)}},I=R=>{v(R),p(!0)},E=[{key:"Status",header:"Status",render:R=>o.jsx("span",{children:R})},{key:"InvoiceNumber",header:"Invoice Number",render:(R,M)=>o.jsx("span",{children:M.InvoiceNumber})},{key:"Budget",header:"Budget",render:(R,M)=>{var _;return o.jsx("span",{children:(_=M.Budget)==null?void 0:_.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(R,M)=>{const _=new Date(M.InvoiceDate);return o.jsx("span",{children:_.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(R,M)=>{var _;return o.jsx("span",{children:parseFloat(((_=M==null?void 0:M.Budget)==null?void 0:_.TotalAmount)||R||0).toLocaleString("en-US",{minimumFractionDigits:2})})}}],k=[n&&{icon:ja,title:"Edit",onClick:I,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],P=f==null?void 0:f.filter(R=>{const{Budget:M}=R;return(!j.department||(M==null?void 0:M.DepartmentID)==j.department)&&(!j.subDepartment||(M==null?void 0:M.SubDepartmentID)==j.subDepartment)&&(!j.chartOfAccounts||(M==null?void 0:M.ChartofAccountsID)==j.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Allotment"}),o.jsx("p",{children:"Manage budget allotments here"})]}),o.jsxs("div",{className:"flex gap-4",children:[r&&o.jsxs("button",{onClick:()=>I(null),className:"btn btn-primary flex items-center",children:[o.jsx($ue,{className:"h-5 w-5 mr-2"}),"Add Allotment"]}),a&&o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(Zf,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:j.department,onChange:S,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),s==null?void 0:s.map(R=>o.jsx("option",{value:R.ID,children:R.Name},R.ID))]}),o.jsxs("select",{name:"subDepartment",value:j.subDepartment,onChange:S,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),i==null?void 0:i.map(R=>o.jsx("option",{value:R.ID,children:R.Name},R.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:j.chartOfAccounts,onChange:S,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),l==null?void 0:l.map(R=>o.jsx("option",{value:R.ID,children:R.Name},R.ID))]})]}),o.jsx(ye,{columns:E,data:P,actions:k,loading:!1,pagination:!0}),o.jsx(oe,{size:"md",isOpen:g,onClose:()=>p(!1),title:b?"Edit Allotment":"Add Allotment",children:o.jsx(p7e,{allotmentList:h,departmentOptions:s.map(R=>({value:R.ID,label:R.Name})),subDepartmentOptions:i.map(R=>({value:R.ID,label:R.Name})),chartOfAccountsOptions:l.map(R=>({value:R.ID,label:R.Name})),fundOptions:u.map(R=>({value:R.ID,label:R.Name})),projectOptions:d.map(R=>({value:R.ID,label:R.Title})),fiscalYearOptions:c.map(R=>({value:R.ID,label:R.Name})),onSubmit:A,initialData:b,onClose:()=>p(!1)})})]})},Dp="https://staging-engine.testthelink.online",y5=t=>({IsNew:!(t!=null&&t.ID),ID:(t==null?void 0:t.ID)||"",Name:t.Name,FiscalYearID:Number(t.FiscalYearID),DepartmentID:Number(t.DepartmentID),SubDepartmentID:Number(t.SubDepartmentID),ChartOfAccountsID:Number(t.ChartofAccountsID),FundID:Number(t.FundID),ProjectID:Number(t.ProjectID),Appropriation:Number(t.Appropriation),Charges:Number(t.Charges),January:Number(t.January),February:Number(t.February),March:Number(t.March),April:Number(t.April),May:Number(t.May),June:Number(t.June),July:Number(t.July),August:Number(t.August),September:Number(t.September),October:Number(t.October),November:Number(t.November),December:Number(t.December)}),y7e=()=>{const t=ue(),{departments:e}=V(k=>k.departments),{subdepartments:r}=V(k=>k.subdepartments),n=V(k=>{var P;return((P=k.chartOfAccounts)==null?void 0:P.accounts)||[]}),{fiscalYears:a}=V(k=>k.fiscalYears),{funds:s}=V(k=>k.funds),{projectDetails:i}=V(k=>k.projectDetails),[l,c]=w.useState([]),[u,d]=w.useState(!1),[f,m]=w.useState(null),[h,y]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),{Add:g,Edit:p,Delete:b}=we(22);w.useEffect(()=>{t(or()),t(So()),t(kr()),t(dn()),t(Jt()),t(qa()),v()},[]);const v=async()=>{try{const P=await(await fetch(`${Dp}/budget`)).json();P!=null&&P.status?c((P==null?void 0:P.items)||[]):ie.error("Failed to fetch budget details")}catch(k){ie.error(k.message)}},j=k=>{const{name:P,value:R}=k.target;y(M=>({...M,[P]:R}))},C=k=>{f?N(k):x(k)},x=async k=>{try{await(await fetch(`${Dp}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(y5(k))})).json()&&(v(),d(!1),ie.success("Budget added successfully"))}catch(P){ie.error(P.message)}},N=async k=>{try{await(await fetch(`${Dp}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(y5(k))})).json()&&(v(),d(!1),ie.success("Budget updated successfully"))}catch(P){ie.error(P.message)}},S=async k=>{try{await(await fetch(`${Dp}/budget/${k}`,{method:"DELETE"})).json()&&(v(),ie.success("Budget deleted"))}catch(P){ie.error(P.message)}},A=[{key:"Name",header:"Name"},{key:"FiscalYearID",header:"Fiscal Year",render:(k,P)=>{var R;return o.jsx("span",{children:((R=P==null?void 0:P.FiscalYear)==null?void 0:R.Name)||"N/A"})}},{key:"DepartmentID",header:"Department",render:(k,P)=>{var R;return o.jsx("span",{children:((R=P==null?void 0:P.Department)==null?void 0:R.Name)||"N/A"})}},{key:"SubDepartmentID",header:"Sub Department",render:(k,P)=>{var R;return o.jsx("span",{children:((R=P==null?void 0:P.SubDepartment)==null?void 0:R.Name)||"N/A"})}},{key:"ChartofAccountsID",header:"Chart of Accounts",render:(k,P)=>{var R;return o.jsx("span",{children:((R=P==null?void 0:P.ChartofAccounts)==null?void 0:R.Name)||"N/A"})}},{key:"FundID",header:"Fund",render:(k,P)=>{var R;return o.jsx("span",{children:((R=P==null?void 0:P.Funds)==null?void 0:R.Name)||"N/A"})}},{key:"ProjectID",header:"Project",render:(k,P)=>{var R;return o.jsx("span",{children:((R=P==null?void 0:P.Project)==null?void 0:R.Title)||"N/A"})}},{key:"Appropriation",header:"Appropriation",render:xt},{key:"AppropriationBalance",header:"Appropriation Balance",render:xt},{key:"TotalAmount",header:"Total Amount",render:xt},{key:"AllotmentBalance",header:"Allotment Balance",render:xt},{key:"ChargedAllotment",header:"Charges",render:xt},{key:"PreEncumbrance",header:"Pre Encumbrance",render:xt},{key:"Encumbrance",header:"Encumbrance",render:xt},{key:"January",header:"January",render:xt},{key:"February",header:"February",render:xt},{key:"March",header:"March",render:xt},{key:"April",header:"April",render:xt},{key:"May",header:"May",render:xt},{key:"June",header:"June",render:xt},{key:"July",header:"July",render:xt},{key:"August",header:"August",render:xt},{key:"September",header:"September",render:xt},{key:"October",header:"October",render:xt},{key:"November",header:"November",render:xt},{key:"December",header:"December",render:xt}],I=[p&&{icon:ja,title:"Edit",onClick:k=>{m(k),d(!0)},className:"text-primary-600 hover:text-primary-900 p-1"},b&&{icon:Ka,title:"Delete",onClick:k=>S(k==null?void 0:k.ID),className:"text-red-600 hover:text-red-800 p-1"}],E=l.filter(k=>{var P,R,M;return(!h.department||((P=k.Department)==null?void 0:P.ID)==h.department)&&(!h.subDepartment||((R=k.SubDepartment)==null?void 0:R.ID)==h.subDepartment)&&(!h.chartOfAccounts||((M=k.ChartofAccounts)==null?void 0:M.ID)==h.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Details"}),o.jsx("p",{children:"View and manage detailed budget entries"})]}),g&&o.jsxs("button",{onClick:()=>{m(null),d(!0)},className:"btn btn-primary max-sm:w-full ",children:[o.jsx(nj,{className:"h-5 w-5 mr-2"}),"Add Budget"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 my-4",children:[o.jsxs("select",{name:"department",value:h.department,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]}),o.jsxs("select",{name:"subDepartment",value:h.subDepartment,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:h.chartOfAccounts,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]}),o.jsx(ye,{columns:A,data:E,actions:I,pagination:!0}),o.jsx(oe,{size:"lg",isOpen:u,onClose:()=>d(!1),title:f?"Edit Budget":"Add Budget",children:o.jsx(GU,{departmentOptions:e.map(k=>({value:k.ID,label:k.Name})),subDepartmentOptions:r.map(k=>({value:k.ID,label:k.Name})),chartOfAccountsOptions:n.map(k=>({value:k.ID,label:k.Name})),fundOptions:s.map(k=>({value:k.ID,label:k.Name})),projectOptions:i.map(k=>({value:k.ID,label:k.Title})),fiscalYearOptions:a.map(k=>({value:k.ID,label:k.Name})),onSubmit:C,initialData:f,onClose:()=>d(!1)})})]})},b7e=()=>{const t=ue(),{departments:e,isLoading:r}=V(x=>x.departments),{subdepartments:n,isLoading:a}=V(x=>x.subdepartments),s=V(x=>{var N;return((N=x.chartOfAccounts)==null?void 0:N.accounts)||[]}),[i,l]=w.useState([]),[c,u]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),[d,f]=w.useState(!1),[m,h]=w.useState(null),[y,g]=w.useState(!0);w.useEffect(()=>{t(or()),t(So()),t(kr()),p()},[]);const p=async()=>{try{g(!0);const x=await He("/budgetSummary");l(x.data||[])}catch(x){console.error("Error fetching budget summaries:",x)}finally{g(!1)}},b=x=>{const{name:N,value:S}=x.target;u(A=>({...A,[N]:S}))},v=i.filter(x=>{var N,S;return(!c.department||((N=x.Department)==null?void 0:N.Name)===c.department)&&(!c.subDepartment||((S=x.SubDepartment)==null?void 0:S.Name)===c.subDepartment)&&(!c.chartOfAccounts||x.ChartOfAccounts===c.chartOfAccounts)}),j=[{key:"Name",header:"Name",sortable:!0},{key:"FiscalYearID",header:"Fiscal Year",sortable:!0,render:(x,N)=>N==null?void 0:N.FiscalYear.Name},{key:"DepartmentID",header:"Department",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.Department)==null?void 0:S.Name}},{key:"SubDepartmentID",header:"Sub Department",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.SubDepartment)==null?void 0:S.Name}},{key:"ChartofAccountsID",header:"Chart of Accounts",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.ChartofAccounts)==null?void 0:S.Name}},{key:"FundsID",header:"Fund",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.Funds)==null?void 0:S.Name}},{key:"ProjectID",header:"Project",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.Project)==null?void 0:S.Title}},{key:"Appropriation",header:"Appropriation",sortable:!0},{key:"AppropriationBalance",header:"Appropriation Balance",sortable:!0},{key:"TotalAmount",header:"Total Amount",sortable:!0},{key:"ChargedAllotment",header:"Allotment",sortable:!0},{key:"AllotmentBalance",header:"Allotment Balance",sortable:!0},{key:"Change",header:"Change",sortable:!0},{key:"Supplemental",header:"Supplemental",sortable:!0},{key:"Released",header:"Released",sortable:!0},{key:"Charges",header:"Charges",sortable:!0},{key:"PreEncumbrance",header:"Pre Encumbr.",sortable:!0},{key:"Encumbrance",header:"Encumbrance",sortable:!0},{key:"January",header:"January",sortable:!0},{key:"February",header:"February",sortable:!0},{key:"March",header:"March",sortable:!0},{key:"April",header:"April",sortable:!0},{key:"May",header:"May",sortable:!0},{key:"June",header:"June",sortable:!0},{key:"July",header:"July",sortable:!0},{key:"August",header:"August",sortable:!0},{key:"September",header:"September",sortable:!0},{key:"October",header:"October",sortable:!0},{key:"November",header:"November",sortable:!0},{key:"December",header:"December",sortable:!0}],C=x=>{h(x),f(!0)};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Summary"}),o.jsx("p",{children:"Review the budget performance across months and categories."})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:c.department,onChange:b,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),e==null?void 0:e.map(x=>o.jsx("option",{value:x.Name,children:x.Name},x.ID))]}),o.jsxs("select",{name:"subDepartment",value:c.subDepartment,onChange:b,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),n==null?void 0:n.map(x=>o.jsx("option",{value:x.Name,children:x.Name},x.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:c.chartOfAccounts,onChange:b,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),s==null?void 0:s.map(x=>o.jsx("option",{value:x.Name,children:x.Name},x.ID))]})]}),o.jsx(ye,{columns:j,data:v,loading:y||r||a,pagination:!0,onRowClick:C}),o.jsx(oe,{isOpen:d,onClose:()=>f(!1),title:"Budget Summary Details",size:"5xl",children:o.jsx(x7e,{data:m})})]})},x7e=({data:t})=>{var r,n,a,s,i,l;if(!t)return null;const e=c=>c||"";return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Budget Name:"})," ",e(t.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fiscal Year:"})," ",e((r=t.FiscalYear)==null?void 0:r.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Department:"})," ",e((n=t.Department)==null?void 0:n.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"SubDepartment:"})," ",e((a=t.SubDepartment)==null?void 0:a.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Chart of Accounts:"})," ",e((s=t.ChartofAccounts)==null?void 0:s.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fund:"})," ",e((i=t.Funds)==null?void 0:i.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Project:"})," ",e((l=t.Project)==null?void 0:l.Title)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Original):"})," ",e(t.Appropriation)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation Balance:"})," ",e(t.AppropriationBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Adjusted):"})," ",e(t.RevisedAmount)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Adjustments:"})," ",e(t.Change)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Allotment:"})," ",e(t.ChargedAllotment)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Allotment Balance:"})," ",e(t.AllotmentBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Pre Encumbrance:"})," ",e(t.PreEncumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Encumbrance:"})," ",e(t.Encumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",e(t.Charges)]})]}),o.jsxs("div",{className:"space-y-2",children:[["January","February","March","April","May","June","July","August","September","October","November","December"].map(c=>o.jsxs("div",{children:[o.jsxs("strong",{children:[c,":"]})," ",e(t[c])]},c)),o.jsxs("div",{className:"font-semibold pt-2 border-t",children:[o.jsx("strong",{children:"Total Amount:"})," ",e(t.TotalAmount)]})]})]})},v7e="https://staging-engine.testthelink.online",j7e=le().shape({BudgetID:D().required("Budget is required"),budgetName:D(),fiscalYearID:D(),departmentID:D(),subDepartmentID:D(),chartOfAccountsID:D(),fundID:D(),projectID:D(),supplemental:Y().integer().required("Supplemental is required"),remarks:D(),appropriation:Y().integer(),balance:Y().integer(),releasedAllotments:Y().integer(),releasedBalance:Y().integer(),Attachments:Yt()}),b5={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",supplemental:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function w7e({initialData:t,onSubmit:e,onClose:r,budgetList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=w.useState({...b5});w.useEffect(()=>{if(t!=null&&t.ID){const{Budget:p}=t;f({BudgetID:p==null?void 0:p.ID,budgetName:(p==null?void 0:p.Name)||"",fiscalYearID:(p==null?void 0:p.FiscalYearID)||"",departmentID:(p==null?void 0:p.DepartmentID)||"",subDepartmentID:(p==null?void 0:p.SubDepartmentID)||"",chartOfAccountsID:(p==null?void 0:p.ChartofAccountsID)||"",fundID:(p==null?void 0:p.FundID)||"",projectID:(p==null?void 0:p.ProjectID)||"",supplemental:(p==null?void 0:p.Supplemental)||0,charges:(p==null?void 0:p.Charges)||0,totalAmount:(p==null?void 0:p.TotalAmount)||0,balance:(p==null?void 0:p.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(p==null?void 0:p.Appropriation)||0,releasedAllotments:(p==null?void 0:p.ReleasedAllotments)||0,releasedBalance:(p==null?void 0:p.ReleasedBalance)||0,Attachments:(p==null?void 0:p.Attachments)||[]})}else f(b5)},[t]);const m=async(p,{setSubmitting:b})=>{try{const v=new FormData;p==null||p.Attachments.forEach((C,x)=>{C.ID?v.append(`Attachments[${x}].ID`,C.ID):v.append(`Attachments[${x}].File`,C)}),(p==null?void 0:p.Attachments.length)===0&&v.append("Attachments","[]"),console.log({values:p});const j={BudgetID:p.BudgetID,Remarks:p.remarks,Supplemental:p.supplemental};Object.entries(j).forEach(([C,x])=>{v.append(C,JSON.stringify(x))}),t?(v.append("LinkID",JSON.stringify(t.LinkID)),v.append("IsNew",JSON.stringify(!1))):v.append("IsNew",JSON.stringify(!0)),await e(v)}catch(v){console.error("Submission error:",v)}finally{b(!1)}},h=p=>{const b=n==null?void 0:n.find(v=>v.ID===parseInt(p));b&&f({...d,BudgetID:b.ID,budgetName:b.Name||"",fiscalYearID:b.FiscalYearID||"",departmentID:b.DepartmentID||"",subDepartmentID:b.SubDepartmentID||"",chartOfAccountsID:b.ChartofAccountsID||"",fundID:b.FundID||"",projectID:b.ProjectID||"",appropriation:parseFloat(b.Appropriation)||0,balance:parseFloat(b.AppropriationBalance)||0,charges:parseFloat(b.Charges||0)})},y=(p,b,v)=>{const C=Array.from(p.target.files).map(x=>x);b("Attachments",[...v.Attachments,...C])},g=(p,b,v)=>{const j=[...v.Attachments];j.splice(p,1),b("Attachments",j)};return o.jsx(Re,{enableReinitialize:!0,initialValues:d,validationSchema:j7e,onSubmit:m,children:({values:p,errors:b,touched:v,handleChange:j,handleBlur:C,isSubmitting:x,setFieldValue:N})=>{var S;return o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2  pt-4",children:o.jsx(yt,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:h,options:n.map(A=>({label:A.Name,value:A.ID})),error:b.BudgetID,touched:v.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:A=>y(A,N,p),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((S=p==null?void 0:p.Attachments)==null?void 0:S.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:p.Attachments.map((A,I)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:o.jsx("a",{href:A!=null&&A.ID?`${v7e}/uploads/${A==null?void 0:A.DataImage}`:URL.createObjectURL(A),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:(A==null?void 0:A.name)||(A==null?void 0:A.DataName)})}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:A==null?void 0:A.type})]}),o.jsx("button",{type:"button",onClick:()=>g(I,N,p),className:"text-red-500 hover:text-red-700",children:o.jsx(tr,{className:"h-4 w-4"})})]},I))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(T,{label:"Budget Name",name:"budgetName",type:"text",value:p.budgetName,onChange:j,onBlur:C,error:b.budgetName,touched:v.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:p.fiscalYearID,onChange:j,onBlur:C,error:b.fiscalYearID,touched:v.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Department",name:"departmentID",type:"select",value:p.departmentID,onChange:j,onBlur:C,error:b.departmentID,touched:v.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:p.subDepartmentID,onChange:j,onBlur:C,error:b.subDepartmentID,touched:v.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:p.chartOfAccountsID,onChange:j,onBlur:C,error:b.chartOfAccountsID,touched:v.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Fund",name:"fundID",type:"select",value:p.fundID,onChange:j,onBlur:C,error:b.fundID,touched:v.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Project",name:"projectID",type:"select",value:p.projectID,onChange:j,onBlur:C,error:b.projectID,touched:v.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Appropriation",name:"appropriation",type:"number",value:p.appropriation,onChange:j,onBlur:C,error:b.appropriation,touched:v.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Balance",name:"balance",type:"number",value:p.balance,onChange:j,onBlur:C,error:b.balance,touched:v.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:p.releasedAllotments,onChange:j,onBlur:C,error:b.releasedAllotments,touched:v.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Released Balance",name:"releasedBalance",type:"number",value:p.releasedBalance,onChange:j,onBlur:C,error:b.releasedBalance,touched:v.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(T,{label:"Supplemental",name:"supplemental",type:"number",value:p.supplemental,onChange:j,onBlur:C,error:b.supplemental,touched:v.supplemental,required:!0}),o.jsx(T,{label:"Remarks",name:"remarks",type:"textarea",value:p.remarks,onChange:j,onBlur:C,error:b.remarks,touched:v.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const N7e=()=>{const t=ue(),{departments:e}=V(F=>F.departments),{subdepartments:r}=V(F=>F.subdepartments),n=V(F=>{var $;return(($=F.chartOfAccounts)==null?void 0:$.accounts)||[]}),{fiscalYears:a}=V(F=>F.fiscalYears),{funds:s}=V(F=>F.funds),{projectDetails:i}=V(F=>F.projectDetails),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,m]=w.useState(""),{Add:h,Edit:y,Delete:g,Print:p}=we(26);w.useEffect(()=>{t(dn()),t(Jt()),t(qa()),t(or()),t(So()),t(kr()),b(),v()},[]);const b=async()=>{try{const F=await He("/budgetSupplemental/list");c(F==null?void 0:F.data)}catch(F){ie.error("Failed to load data"),ie.error(F.message)}},v=async()=>{try{const F=await He("/budgetSupplemental/budgetList");d(F==null?void 0:F.data)}catch(F){ie.error("Failed to load data"),ie.error(F.message)}},[j,C]=w.useState(!1),[x,N]=w.useState(null),[S,A]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),I=F=>{N(F),C(!0)},E=async F=>{},k=async F=>{try{(await He.post("budgetSupplemental/save",F,{headers:{"Content-Type":"multipart/form-data"}})).data?(ie.success(x?"Supplemental updated successfully":"New supplemental added"),b()):ie.error("Failed to save supplemental")}catch($){console.error("Error submitting supplemental:",$),ie.error($.message||"Failed to save supplemental")}finally{C(!1)}},P=F=>{const{name:$,value:O}=F.target;A(U=>({...U,[$]:O}))},R=[{key:"Status",header:"Status",render:F=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${F==="Requested"?"bg-warning-100 text-warning-800":F==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:F})},{key:"InvoiceNumber",header:"Invoice Number",render:(F,$)=>o.jsx("span",{children:$.InvoiceNumber})},{key:"Budget",header:"Budget",render:(F,$)=>{var O;return o.jsx("span",{children:(O=$.Budget)==null?void 0:O.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(F,$)=>{const O=new Date($.InvoiceDate);return o.jsx("span",{children:O.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(F,$)=>o.jsx("span",{children:parseFloat($.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],M=async(F,$)=>{m(!0);try{const O=await He.post(`/budgetSupplemental/${$}`,{ID:F.ID,LinkID:F.LinkID,Reason:"This is the reason"});console.log(`${$}d:`,O.data),b(),ie.success(`Budget Supplemental ${$}d successfully`)}catch(O){console.error(`Error ${$}ing Budget Supplemental:`,O),ie.error(`Error ${$}ing Budget Supplemental`)}finally{m(!1)}},_=F=>{const $=[];return F.Status.toLowerCase().includes("rejected")&&y?($.push({icon:ja,title:"Edit",onClick:I,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),$.push({icon:Ka,title:"Delete",onClick:E,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):F.Status==="Requested"&&$.push({icon:ah,title:"Approve",onClick:()=>M(F,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:ju,title:"Reject",onClick:()=>M(F,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),$},L=l.filter(F=>{console.log(S,F);const{Budget:$}=F;return(!S.department||($==null?void 0:$.DepartmentID)==S.department)&&(!S.subDepartment||($==null?void 0:$.SubDepartmentID)==S.subDepartment)&&(!S.chartOfAccounts||($==null?void 0:$.ChartofAccountsID)==S.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Supplemental"}),o.jsx("p",{children:"Manage your supplemental budgets here"})]}),o.jsxs("div",{className:"flex gap-4",children:[h&&o.jsxs("button",{onClick:()=>I(null),className:"btn btn-primary flex items-center",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add Supplemental"]}),p&&o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(Zf,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:S.department,onChange:P,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(F=>o.jsx("option",{value:F.ID,children:F.Name},F.ID))]}),o.jsxs("select",{name:"subDepartment",value:S.subDepartment,onChange:P,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(F=>o.jsx("option",{value:F.ID,children:F.Name},F.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:S.chartOfAccounts,onChange:P,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(F=>o.jsx("option",{value:F.ID,children:F.Name},F.ID))]})]}),o.jsx(ye,{columns:R,data:L,loading:f,actions:_,pagination:!0}),o.jsx(oe,{size:"md",isOpen:j,onClose:()=>C(!1),title:x?"Edit Supplemental":"Add New Supplemental",children:o.jsx(w7e,{budgetList:u,departmentOptions:e.map(F=>({value:F.ID,label:F.Name})),subDepartmentOptions:r.map(F=>({value:F.ID,label:F.Name})),chartOfAccountsOptions:n.map(F=>({value:F.ID,label:F.Name})),fundOptions:s.map(F=>({value:F.ID,label:F.Name})),projectOptions:i.map(F=>({value:F.ID,label:F.Title})),fiscalYearOptions:a.map(F=>({value:F.ID,label:F.Name})),onSubmit:k,initialData:x,onClose:()=>C(!1)})})]})},C7e="https://staging-engine.testthelink.online",S7e=le({fromBudgetId:D().required("Source budget is required"),toBudgetId:D().required("Target budget is required"),transferAmount:Y().required("Amount is required").min(.01,"Amount must be positive"),remarks:D().required("Remarks are required"),Attachments:Yt()}),Mk={fromBudgetId:"",toBudgetId:"",transferAmount:0,remarks:"",fromBudget:null,toBudget:null,Attachments:[],currentStatus:"Requested"};console.log("Initial Values:",Mk);function A7e({initialData:t,onSubmit:e,onClose:r,budgetOptions:n}){const[a,s]=w.useState({...Mk}),i=async(u,{setSubmitting:d})=>{var g;if(u.fromBudgetId===u.toBudgetId){q.error("Source and target budgets cannot be the same"),d(!1);return}const f=n.find(p=>p.ID.toString()===u.fromBudgetId),m=parseFloat((f==null?void 0:f.AppropriationBalance)||0),h=parseFloat(u.transferAmount||0);if(h<=0){q.error("Transfer amount must be positive"),d(!1);return}if(h>m){q.error(`Transfer amount (${h}) exceeds available balance (${m})`),d(!1);return}const y=new FormData;y.append("BudgetID",u.fromBudgetId),y.append("TargetID",u.toBudgetId),y.append("Transfer",u.transferAmount),y.append("Remarks",u.remarks),((g=u.Attachments)==null?void 0:g.length)>0?u.Attachments.forEach((p,b)=>{p.ID?y.append(`Attachments[${b}].ID`,p.ID):y.append(`Attachments[${b}].File`,p)}):y.append("Attachments","[]"),t!=null&&t.LinkID?(y.append("LinkID",t==null?void 0:t.LinkID),y.append("IsNew",!1)):y.append("IsNew",!0);try{await e(y)}catch(p){console.error(p)}finally{d(!1)}},l=(u,d,f)=>{const m=Array.from(u.target.files);d("Attachments",[...f.Attachments,...m])},c=(u,d,f)=>{const m=[...f.Attachments];m.splice(u,1),d("Attachments",m)};return w.useEffect(()=>{var u,d;s(t?{fromBudgetId:((u=t==null?void 0:t.BudgetID)==null?void 0:u.toString())||"",toBudgetId:((d=t==null?void 0:t.TargetID)==null?void 0:d.toString())||"",transferAmount:parseFloat(t==null?void 0:t.Total)||0,remarks:(t==null?void 0:t.Remarks)||"",fromBudget:n.find(f=>f.ID===(t==null?void 0:t.BudgetID))||null,toBudget:n.find(f=>f.ID===(t==null?void 0:t.TargetID))||null,Attachments:t.Attachments||[],currentStatus:(t==null?void 0:t.Status)||""}:Mk)},[t,n]),o.jsx(Re,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:S7e,children:({values:u,errors:d,touched:f,setFieldValue:m,handleChange:h,handleBlur:y,isSubmitting:g})=>{var p,b,v,j,C,x,N,S,A,I,E,k,P,R,M;return o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 w-fit px-3 py-2 bg-gray-100 font-semibold text-blue-500 rounded-md",children:(p=u==null?void 0:u.currentStatus)==null?void 0:p.toUpperCase()})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"From Budget"}),o.jsx(yt,{label:"Select Budget",name:"fromBudgetId",required:!0,selectedValue:u.fromBudgetId,onSelect:_=>{const L=n.find(F=>F.ID.toString()===_);m("fromBudgetId",_),m("fromBudget",L)},options:n.map(_=>{var L;return{label:`${_.Name} (${(L=_.FiscalYear)==null?void 0:L.Name})`,value:_.ID.toString()}}),error:f.fromBudgetId&&d.fromBudgetId}),u.fromBudget&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(T,{label:"Budget Name",name:"fromBudgetName",type:"text",value:u.fromBudget.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Fiscal Year",name:"fromFiscalYear",type:"text",value:(b=u.fromBudget.FiscalYear)==null?void 0:b.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Department",name:"fromDepartment",type:"text",value:((v=u.fromBudget.Department)==null?void 0:v.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Appropriation Balance",name:"fromBalance",type:"text",value:u.fromBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Sub Department",name:"fromSubDepartment",type:"text",value:((j=u.fromBudget.SubDepartment)==null?void 0:j.Name)||"No Subdepartments",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Chart of Accounts",name:"fromChartOfAccounts",type:"text",value:((C=u.fromBudget.ChartofAccounts)==null?void 0:C.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Fund",name:"fromFund",type:"text",value:((x=u.fromBudget.Funds)==null?void 0:x.Name)||"General Fund",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Project",name:"fromProject",type:"text",value:((N=u.fromBudget.Project)==null?void 0:N.Name)||"No Project",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Appropriation",name:"fromAppropriation",type:"text",value:u.fromBudget.Appropriation||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Released Allotments",name:"fromReleasedAllotments",type:"text",value:u.fromBudget.Released||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Allotment Balance",name:"fromAllotmentBalance",type:"text",value:u.fromBudget.AllotmentBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})," ",o.jsx(T,{label:"Balance",name:"fromBalance",type:"text",value:u.fromBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]}),o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"To Budget"}),o.jsx(yt,{label:"Select Budget",name:"toBudgetId",required:!0,selectedValue:u.toBudgetId,onSelect:_=>{const L=n.find(F=>F.ID.toString()===_);m("toBudgetId",_),m("toBudget",L)},options:n.map(_=>{var L;return{label:`${_.Name} (${(L=_.FiscalYear)==null?void 0:L.Name})`,value:_.ID.toString()}}),error:f.toBudgetId&&d.toBudgetId}),u.toBudget&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(T,{label:"Budget Name",name:"toBudgetName",type:"text",value:u.toBudget.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Fiscal Year",name:"toFiscalYear",type:"text",value:(S=u.toBudget.FiscalYear)==null?void 0:S.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Department",name:"toDepartment",type:"text",value:((A=u.toBudget.Department)==null?void 0:A.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Appropriation Balance",name:"toBalance",type:"text",value:u.toBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Sub Department",name:"toSubDepartment",type:"text",value:((I=u.toBudget.SubDepartment)==null?void 0:I.Name)||"No Subdepartments",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Chart of Accounts",name:"toChartOfAccounts",type:"text",value:((E=u.toBudget.ChartofAccounts)==null?void 0:E.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Fund",name:"toFund",type:"text",value:((k=u.toBudget.Funds)==null?void 0:k.Name)||"General Fund",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Project",name:"toProject",type:"text",value:((P=u.toBudget.Project)==null?void 0:P.Name)||"No Project",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Appropriation",name:"toAppropriation",type:"text",value:u.toBudget.Appropriation||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Released Allotments",name:"toReleasedAllotments",type:"text",value:u.toBudget.Released||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Allotment Balance",name:"toAllotmentBalance",type:"text",value:u.toBudget.AllotmentBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Balance",name:"toBalance",type:"text",value:u.toBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(T,{name:"remarks",type:"textarea",label:"Remarks",onChange:h,onBlur:y,value:u.remarks,error:d.remarks,touched:f.remarks,required:!0}),o.jsx(T,{label:"Transfer Amount",name:"transferAmount",type:"number",onChange:h,onBlur:y,value:u.transferAmount,error:d.transferAmount,touched:f.transferAmount,required:!0,min:"0.01",step:"0.01"})]}),o.jsx("div",{className:"my-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold text-lg",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:_=>l(_,m,u),className:"hidden",id:"file-upload"},((R=u.Attachments)==null?void 0:R.length)||0),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer transition-colors duration-150",children:[o.jsx(iV,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),((M=u==null?void 0:u.Attachments)==null?void 0:M.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:u.Attachments.map((_,L)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[o.jsxs("div",{className:"flex items-center min-w-0",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:o.jsx("a",{href:_!=null&&_.ID?`${C7e}/uploads/${_==null?void 0:_.DataImage}`:URL.createObjectURL(_),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:(_==null?void 0:_.name)||(_==null?void 0:_.DataName)})})]}),o.jsx("button",{type:"button",onClick:()=>c(L,m,u),className:"text-red-500 hover:text-red-700 ml-2 p-1 rounded-full hover:bg-red-50 transition-colors duration-150","aria-label":"Remove file",children:o.jsx(tr,{className:"h-4 w-4"})})]},_.ID||L))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update Transfer":"Create Transfer"})]})]})}})}const Jb=B("budgetTransfer/fetchBudgetOptions",async()=>(await He.get("/budgetTransfer/budgetList")).data),$i=B("budgetTransfer/fetchBudgetTransfers",async()=>(await He.get("/budgetTransfer/list")).data),yf=B("budgetTransfer/createBudgetTransfer",async(t,{rejectWithValue:e})=>{var r,n;try{return(await He.post("/budgetTransfer/save",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){return console.error("Error creating budget transfer:",(r=a.response)==null?void 0:r.data),e(((n=a.response)==null?void 0:n.data)||"Something went wrong")}}),yC=B("budgetTransfer/deleteBudgetTransfer",async t=>(await He.delete(`/budgetTransfer/${t}`),ie.success("Budget transfer deleted successfully"),t)),I7e=ve({name:"budgetTransfer",initialState:{budgetOptions:[],transfers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Jb.pending,e=>{e.loading=!0,e.error=null}).addCase(Jb.fulfilled,(e,r)=>{e.loading=!1,e.budgetOptions=r.payload||[]}).addCase(Jb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch budget options")}).addCase($i.pending,e=>{e.loading=!0,e.error=null}).addCase($i.fulfilled,(e,r)=>{e.loading=!1,e.transfers=r.payload||[]}).addCase($i.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch budget transfers")}).addCase(yf.pending,e=>{e.loading=!0,e.error=null}).addCase(yf.fulfilled,(e,r)=>{e.loading=!1,e.transfers=[...e.transfers,r.payload]}).addCase(yf.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to create budget transfer")}).addCase(yC.pending,e=>{e.loading=!0,e.error=null}).addCase(yC.fulfilled,(e,r)=>{e.loading=!1,e.transfers=e.transfers.filter(n=>n.id!==r.payload)}).addCase(yC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to delete budget transfer")})}}),k7e=I7e.reducer,T7e=()=>{const[t,e]=w.useState(!1),[r,n]=w.useState(null),[a,s]=w.useState(!1),i=ue(),{Add:l,Edit:c}=we(27),{transfers:u,budgetOptions:d,loading:f,error:m}=V(v=>v.budgetTransfer);console.log(u,d,f,m),w.useEffect(()=>{i(Jb()),i($i())},[]);const h=v=>{n(v),e(!0)},y=async v=>{try{r?(await i(yf(v)).unwrap(),await i($i()).unwrap(),ie.success("Transfer updated successfully")):(await i(yf(v)).unwrap(),await i($i()).unwrap(),ie.success("Transfer created successfully")),e(!1)}catch(j){console.error("Error:",j),ie.error("Error: "+(j==null?void 0:j.error))}},g=[{key:"InvoiceNumber",header:"Invoice #",sortable:!0},{key:"BudgetID",header:"Budget",sortable:!0,render:(v,j)=>{var C;return((C=j==null?void 0:j.Budget)==null?void 0:C.Name)||v||""}},{key:"Status",header:"Status",sortable:!0,render:v=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v==="Requested"?"bg-warning-100 text-warning-800":v==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:v})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Total",header:"Total",sortable:!0,numeric:!0},{key:"Remarks",header:"Remarks",sortable:!1}],p=async(v,j)=>{s(!0);try{const C=await He.post(`/budgetTransfer/${j}`,{ID:v.ID,LinkID:v.LinkID,Reason:"This is the reason"});console.log(`${j}d:`,C.data),i($i()),ie.success(`Budget Transfer ${j}d successfully`)}catch(C){console.error(`Error ${j}ing Budget Transfer:`,C),ie.error(`Error ${j}ing Budget Transfer`)}finally{s(!1)}},b=v=>{var C;const j=[];return(C=v==null?void 0:v.Status)!=null&&C.toLowerCase().includes("rejected")&&c?j.push({icon:ja,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}):v.Status==="Requested"&&j.push({icon:ah,title:"Approve",onClick:()=>p(v,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:ju,title:"Reject",onClick:()=>p(v,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),j};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap ",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Transfer"}),o.jsx("p",{children:"Manage your budget transfers here"})]}),l&&o.jsxs("button",{onClick:()=>h(null),className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add Transfer"]})]}),o.jsx(ye,{columns:g,data:u,actions:b,pagination:!0,loading:a}),o.jsx(oe,{size:"xl",isOpen:t,onClose:()=>e(!1),title:r?"Edit Transfer":"Add New Transfer",children:o.jsx(A7e,{onSubmit:y,initialData:r,onClose:()=>e(!1),budgetOptions:d})})]})},E7e=le({Code:D().required("Code is required"),Name:D().required("Name is required"),Description:D().required("Description is required"),Amount:Y().required("Amount is required").min(0,"Amount must be positive")}),x5={Code:"",Name:"",Description:"",Amount:0};function D7e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=w.useState({...x5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return w.useEffect(()=>{t!=null&&t.ID?a({ID:(t==null?void 0:t.ID)||"",Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",Description:(t==null?void 0:t.Description)||"",Amount:(t==null?void 0:t.OriginalAmount)||""}):a(x5)},[t]),o.jsx(Re,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:E7e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",onChange:u,onBlur:d,value:i.Code,error:l.Code,touched:c.Code,placeholder:"e.g., 1-01-01-010",required:!0}),o.jsx(T,{label:"Name",name:"Name",type:"text",onChange:u,onBlur:d,value:i.Name,error:l.Name,touched:c.Name,placeholder:"Enter Name ",required:!0}),o.jsx(T,{label:"Amount",name:"Amount",type:"text",onChange:m=>{const h=m.target.value.replace(/\D/g,""),y=h?(parseInt(h,10)/100).toFixed(2):"";u({target:{name:"Amount",value:y}})},onBlur:d,value:i.Amount!==""&&!isNaN(i.Amount)?Number(i.Amount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",error:l.Amount,touched:c.Amount,placeholder:"Enter Amount",required:!0}),o.jsx(T,{name:"Description",type:"textarea",label:"Description",onChange:u,onBlur:d,value:i.Description,error:l.Description,touched:c.Description,placeholder:"Enter Description",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const P7e=()=>{const t=ue(),{funds:e,loading:r}=V(b=>b.funds),[n,a]=w.useState(!1),[s,i]=w.useState(null),{Add:l,Edit:c,Delete:u}=we(48),d=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:b=>b||""},{key:"Name",header:"Name",sortable:!0,render:b=>o.jsx("span",{className:"font-medium",children:b||""})},{key:"Description",header:"Description",sortable:!0,render:b=>o.jsx("span",{className:"text-gray-600",children:b||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,render:b=>o.jsx("span",{className:"font-medium",children:b?f(b):""})}],f=b=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(b),y=[c&&{icon:ja,title:"Edit",onClick:b=>{i(b),a(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},u&&{icon:Ka,title:"Delete",onClick:async b=>{await t(cb(b.ID)).unwrap(),t(Jt())},className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],g=async b=>{s?await t(lb(b)).unwrap():await t(ib(b)).unwrap(),t(Jt()),a(!1),i(null)},p=b=>{console.log("View row:",b)};return w.useEffect(()=>{t(Jt())},[t]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Funds"}),o.jsx("p",{children:"Manage budget funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:l&&o.jsxs("button",{type:"button",onClick:()=>{i(null),a(!0)},className:"btn btn-primary max-sm:w-full ",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:d,data:e,actions:y,loading:r,onRowClick:p})}),o.jsx(oe,{size:"sm",isOpen:n,onClose:()=>{a(!1),i(null)},title:s?"Edit Budget Fund":"Add New Budget Fund",children:o.jsx(D7e,{onSubmit:g,initialData:s,onClose:()=>{a(!1),i(null)}})})]})},O7e="https://staging-engine.testthelink.online",_7e=()=>{const t=ue(),{fiscalYears:e}=V(E=>E.fiscalYears),{funds:r}=V(E=>E.funds),{departments:n}=V(E=>E.departments),[a,s]=w.useState("appropriations"),[i,l]=w.useState([]),[c,u]=w.useState(!1),[d,f]=w.useState(""),[m,h]=w.useState(""),[y,g]=w.useState(""),[p,b]=w.useState(""),[v,j]=w.useState("");w.useEffect(()=>{t(dn()),t(Jt()),t(or())},[t]);const C=()=>({startDate:d,endDate:m,fiscalYearID:y,fundsID:p,departmentID:v}),x=()=>d&&m&&y&&p&&v,N=async E=>{if(!x()){ie.error("Please select all filters");return}u(!0);try{s(E);const k=E==="appropriations"?"/statementOfAppropriations/view":"/statementOfAppropriations/viewSAO",P=await He.post(k,C());l(P.data)}catch{ie.error("Failed to fetch data")}finally{u(!1)}},S=[{key:"Fund",header:"Fund"},{key:"Year",header:"Year"},{key:"Month End",header:"Month End"},{key:"Account Code",header:"Account Code"},{key:"ID",header:"ID"},{key:"Category",header:"Category"},{key:"Name",header:"Name"},{key:"Appropriation",header:"Appropriation",numeric:!0},{key:"Allotment",header:"Allotment",numeric:!0},{key:"Obligation",header:"Obligation",numeric:!0},{key:"Unobligated Appropriation",header:"Unobligated Appropriation",numeric:!0},{key:"Unobligated Allotment",header:"Unobligated Allotment",numeric:!0},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Requested By",header:"Requested By"},{key:"Position",header:"Position"}],A=[{key:"Date",header:"Date"},{key:"OBR No.",header:"OBR No."},{key:"Particulars",header:"Particulars"},{key:"Appropriation/ Allotment",header:"Appropriation/ Allotment",numeric:!0},{key:"Expenses",header:"Expenses",numeric:!0},{key:"Balance",header:"Balance",numeric:!0}],I=async()=>{if(!x()){ie.error("Please select all filters");return}try{const E=await fetch(`${O7e}/statementOfAppropriations/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(C())});if(!E.ok)throw new Error("Server response was not ok");const k=await E.blob(),P=E.headers.get("Content-Disposition");let R="StatementOfAppropriations.xlsx";P&&P.includes("filename=")&&(R=P.split("filename=")[1].replace(/['"]/g,""));const M=window.URL.createObjectURL(k),_=document.createElement("a");_.href=M,_.download=R,document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(M)}catch(E){console.error("Export failed:",E),ie.error(E.message||"Failed to export file")}};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header mb-4",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"Statement of Appropriations, Allotment, Obligations and Balances"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage budget allocations and balances"})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Start Date"}),o.jsx("input",{type:"date",className:"form-input",value:d,onChange:E=>f(E.target.value)})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"End Date"}),o.jsx("input",{type:"date",className:"form-input",value:m,onChange:E=>h(E.target.value)})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Fiscal Year"}),o.jsxs("select",{className:"form-select",value:y,onChange:E=>g(E.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),e.map(E=>o.jsx("option",{value:E.ID,children:E.Name},E.ID))]})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Fund"}),o.jsxs("select",{className:"form-select",value:p,onChange:E=>b(E.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(E=>o.jsx("option",{value:E.ID,children:E.Name},E.ID))]})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Department"}),o.jsxs("select",{className:"form-select",value:v,onChange:E=>j(E.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),n.map(E=>o.jsx("option",{value:E.ID,children:E.Name},E.ID))]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 w-full  sm:grid-cols-3 gap-2 sm:w-max mb-4",children:[o.jsx("button",{onClick:()=>N("appropriations"),className:"btn btn-primary",children:"View"}),o.jsx("button",{onClick:()=>N("viewSAO"),className:"btn btn-primary",children:"View SAO"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAAOB"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAO"}),o.jsx("button",{className:"btn btn-outline",onClick:I,children:"Export to Excel"})]}),o.jsx(ye,{columns:a==="appropriations"?S:A,data:i,loading:c})]})},$7e=le({fund:D().required("Fund is required"),code:D().required("Code is required"),name:D().required("Name is required"),desc:D().required("Description is required"),amount:Y().required("Amount is required").min(0,"Amount must be positive")}),v5={code:"",name:"",fund:"",desc:"",amount:0};function R7e({initialData:t,onSubmit:e,onClose:r,funds:n}){const[a,s]=w.useState({...v5}),i=(l,{setSubmitting:c})=>{e(l),c(!1),console.log("Form submitted with values:",l)};return w.useEffect(()=>{t!=null&&t.ID?s({id:t==null?void 0:t.ID,code:t==null?void 0:t.Code,name:t==null?void 0:t.Name,desc:t==null?void 0:t.Description,amount:t==null?void 0:t.Amount,fund:t==null?void 0:t.FundsID}):s(v5)},[t]),o.jsx(Re,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:$7e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(T,{label:"Code",name:"code",type:"text",placeholder:"Enter code",onChange:d,onBlur:f,value:l.code,error:c.code,touched:u.code,required:!0}),o.jsx(T,{label:"Name",name:"name",type:"text",placeholder:"Enter name",onChange:d,onBlur:f,value:l.name,error:c.name,touched:u.name,required:!0}),o.jsx(T,{label:"Amount",name:"amount",type:"text",placeholder:"Enter amount",onChange:d,onBlur:f,value:l.amount,error:c.amount,touched:u.amount,required:!0}),o.jsx(T,{label:"Fund",name:"fund",type:"select",placeholder:"Select fund",onChange:d,onBlur:f,value:l.fund,error:c.fund,touched:u.fund,options:n,required:!0}),o.jsx(T,{name:"desc",type:"textarea",label:"Description",placeholder:"Enter description",onChange:d,onBlur:f,value:l.desc,error:c.desc,touched:u.desc,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const M7e=()=>{const t=ue(),{subFunds:e,isLoading:r}=V(C=>C.subFunds),{funds:n,loading:a}=V(C=>C.funds),[s,i]=w.useState(!1),[l,c]=w.useState(null),{Add:u,Edit:d,Delete:f}=we(97),m=[{key:"FundsID",header:"Funds ID",sortable:!0,className:"font-medium text-neutral-900",render:C=>C||""},{key:"Code",header:"Code",sortable:!0,render:C=>o.jsx("span",{className:"font-medium",children:C||""})},{key:"Name",header:"Name",sortable:!0,render:C=>o.jsx("span",{className:"font-medium",children:C||""})},{key:"Description",header:"Description",sortable:!0,render:C=>o.jsx("span",{className:"text-gray-600",children:C||"No description"})},{key:"Amount",header:"Amount",sortable:!0,className:"text-right",render:C=>o.jsx("span",{className:"font-medium",children:C?y(C):""})}],h=[d&&{icon:ja,title:"Edit",onClick:C=>b(C),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},f&&{icon:Ka,title:"Delete",onClick:C=>g(C),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],y=C=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C),g=async C=>{try{await t(Bb(C.ID)).unwrap(),ie.success("Sub fund deleted successfully")}catch(x){ie.error(x.payload||"Failed to delete sub fund"),console.error(x)}},p=async C=>{try{if(l){const x={IsNew:!1,ID:l.ID,FundsID:C.fund,Code:C.code,Name:C.name,Description:C.desc,Amount:C.amount};await t(hI(x)).unwrap(),ie.success("Sub fund updated successfully")}else{const x={IsNew:!0,FundsID:C.fund,Code:C.code,Name:C.name,Description:C.desc,Amount:C.amount};await t(Fb(x)).unwrap(),ie.success("Sub fund added successfully")}t(df()),i(!1),c(null)}catch(x){ie.error(x.payload||"Failed to save sub fund"),console.error(x)}},b=C=>{c(C),i(!0)},v=C=>{console.log("View row:",C)};w.useEffect(()=>{t(df()),t(Jt())},[t]);const j=n==null?void 0:n.map(C=>({value:C.ID,label:C.Name}));return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Sub Funds"}),o.jsx("p",{children:"Manage budget sub funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:u&&o.jsxs("button",{type:"button",onClick:()=>b(null),className:"btn btn-primary max-sm:w-full ",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Sub Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:m,data:e,actions:h,loading:r||a,onRowClick:v})}),o.jsx(oe,{size:"sm",isOpen:s,onClose:()=>i(!1),title:l?"Edit Sub Fund":"Add New Sub Fund",children:o.jsx(R7e,{onSubmit:p,initialData:l,funds:j,onClose:()=>i(!1)})})]})},L7e="https://staging-engine.testthelink.online",F7e=le({fromFundId:D().required("Source fund is required"),toFundId:D().required("Target fund is required"),transferAmount:Y().required("Amount is required").min(.01,"Amount must be positive"),remarks:D().required("Remarks are required"),Attachments:Yt()}),bC={fromFundId:"",toFundId:"",transferAmount:0,remarks:"",fromFund:null,toFund:null,Attachments:[]};function B7e({initialData:t,onSubmit:e,onClose:r,fundOptions:n}){const[a,s]=w.useState({...bC});w.useEffect(()=>{s(t?i(t):bC)},[t]);const i=f=>f?{fromFundId:f.FundsID||"",toFundId:f.TargetID||"",transferAmount:parseFloat(f.Total)||0,remarks:f.Remarks||"",fromFund:f.Funds||null,toFund:f.targetFunds||null,Attachments:f.Attachments||[]}:bC,l=async(f,{setSubmitting:m})=>{if(f.fromFundId===f.toFundId){q.error("Source and target funds cannot be the same"),m(!1);return}const h=n.find(b=>b.ID===f.fromFundId);if(!h){q.error("Source fund not found"),m(!1);return}const y=parseFloat(h.Balance||0),g=parseFloat(f.transferAmount||0);if(g<=0){q.error("Transfer amount must be positive"),m(!1);return}if(g>y){q.error(`Transfer amount (${g}) exceeds available balance (${y})`),m(!1);return}const p=new FormData;p.append("FundsID",f.fromFundId),p.append("TargetID",f.toFundId),p.append("Transfer",g),p.append("Remarks",f.remarks),f.Attachments&&f.Attachments.length>0?f.Attachments.forEach((b,v)=>{b.ID?p.append(`Attachments[${v}].ID`,b.ID):p.append(`Attachments[${v}].File`,b)}):p.append("Attachments","[]"),t!=null&&t.LinkID?(p.append("LinkID",t==null?void 0:t.LinkID),p.append("IsNew",!1)):p.append("IsNew",!0);try{await e(p)}catch(b){q.error("Submission failed: "+b.message)}finally{m(!1)}},c=(f,m)=>{const h=n.find(y=>y.ID===m);return{[`${f}Id`]:m,[f]:h}},u=(f,m,h)=>{const g=Array.from(f.target.files).map(p=>p);console.log(g,h),m("Attachments",[...h.Attachments,...g])},d=(f,m,h)=>{const y=[...h.Attachments];y.splice(f,1),m("Attachments",y)};return o.jsx(Re,{enableReinitialize:!0,onSubmit:l,initialValues:a,validationSchema:F7e,children:({values:f,errors:m,touched:h,setFieldValue:y,handleChange:g,handleBlur:p,isSubmitting:b})=>{var v,j;return o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"From"}),o.jsx(yt,{label:"Select Fund",name:"fromFundId",required:!0,selectedValue:f.fromFundId,onSelect:C=>{const x=c("fromFund",C);y("fromFundId",x.fromFundId),y("fromFund",x.fromFund)},options:n.map(C=>({label:`${C.Code} - ${C.Name}`,value:C.ID})),error:h.fromFundId&&m.fromFundId}),f.fromFund&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(T,{label:"Fund Code",name:"fromCode",type:"text",value:f.fromFund.Code,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Fund Name",name:"fromName",type:"text",value:f.fromFund.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Available Balance",name:"fromBalance",type:"text",value:f.fromFund.Balance||"0",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]}),o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"To"}),o.jsx(yt,{label:"Select Fund",name:"toFundId",required:!0,selectedValue:f.toFundId,onSelect:C=>{const x=c("toFund",C);y("toFundId",x.toFundId),y("toFund",x.toFund)},options:n.map(C=>({label:`${C.Code} - ${C.Name}`,value:C.ID})),error:h.toFundId&&m.toFundId}),f.toFund&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(T,{label:"Fund Code",name:"toCode",type:"text",value:f.toFund.Code,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Fund Name",name:"toName",type:"text",value:f.toFund.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Available Balance",name:"toBalance",type:"text",value:f.toFund.Balance||"0",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(T,{name:"remarks",type:"textarea",label:"Remarks",onChange:g,onBlur:p,value:f.remarks,error:m.remarks,touched:h.remarks,required:!0}),o.jsx(T,{label:"Transfer Amount",name:"transferAmount",type:"text",onChange:C=>{const x=C.target.value.replace(/\D/g,""),N=x?(parseInt(x,10)/100).toFixed(2):"";g({target:{name:"transferAmount",value:N}})},onBlur:p,value:f.transferAmount!==""&&!isNaN(f.transferAmount)?Number(f.transferAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",error:m.transferAmount,touched:h.transferAmount,required:!0})]}),o.jsx("div",{className:"my-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold text-lg",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:C=>u(C,y,f),className:"hidden",id:"file-upload"},((v=f.Attachments)==null?void 0:v.length)||0),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer transition-colors duration-150",children:[o.jsx(iV,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),((j=f==null?void 0:f.Attachments)==null?void 0:j.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:f.Attachments.map((C,x)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[o.jsxs("div",{className:"flex items-center min-w-0",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-sm truncate",children:C.ID?o.jsx("a",{href:`${L7e}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",title:C.name||C.DataName,children:C.name||C.DataName}):o.jsx("span",{title:C.name||C.DataName,children:C.name||C.DataName})})]}),o.jsx("button",{type:"button",onClick:()=>d(x,y,f),className:"text-red-500 hover:text-red-700 ml-2 p-1 rounded-full hover:bg-red-50 transition-colors duration-150","aria-label":"Remove file",children:o.jsx(tr,{className:"h-4 w-4"})})]},C.ID||x))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update Transfer":"Create Transfer"})]})]})}})}const Xb=B("fundTransfer/fetchFundOptions",async()=>(await He.get("/fundTransfer/fundList")).data),Ri=B("fundTransfer/fetchFundTransfers",async()=>(await He.get("/fundTransfer/list")).data),bf=B("fundTransfer/createFundTransfer",async t=>{const e=await He.post("/fundTransfer/save",t,{headers:{"Content-Type":"multipart/form-data"}});return ie.success("Fund transfer created successfully"),e.data}),xC=B("fundTransfer/deleteFundTransfer",async t=>(await He.delete(`/fundTransfer/${t}`),ie.success("Fund transfer deleted successfully"),t)),q7e=ve({name:"fundTransfer",initialState:{fundOptions:[],transfers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Xb.pending,e=>{e.loading=!0,e.error=null}).addCase(Xb.fulfilled,(e,r)=>{e.loading=!1,e.fundOptions=r.payload||[]}).addCase(Xb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch fund options")}).addCase(Ri.pending,e=>{e.loading=!0,e.error=null}).addCase(Ri.fulfilled,(e,r)=>{e.loading=!1,e.transfers=r.payload||[]}).addCase(Ri.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch fund transfers")}).addCase(bf.pending,e=>{e.loading=!0,e.error=null}).addCase(bf.fulfilled,(e,r)=>{e.loading=!1,e.transfers=[...e.transfers,r.payload]}).addCase(bf.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to create fund transfer")}).addCase(xC.pending,e=>{e.loading=!0,e.error=null}).addCase(xC.fulfilled,(e,r)=>{e.loading=!1,e.transfers=e.transfers.filter(n=>n.id!==r.payload)}).addCase(xC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to delete fund transfer")})}}),V7e=q7e.reducer,U7e=()=>{const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=ue(),[s,i]=w.useState(!1),{Add:l,Edit:c}=we(46),{transfers:u,fundOptions:d,loading:f,error:m}=V(j=>j.fundTransfer);w.useEffect(()=>{a(Xb()),a(Ri())},[]);const h=[{key:"InvoiceNumber",header:"Invoice Number",sortable:!0,className:"font-medium text-neutral-900",render:j=>j||""},{key:"FundsID",header:"Fund Source",sortable:!0,render:(j,C)=>{var x;return o.jsx("span",{className:"text-gray-600",children:((x=C==null?void 0:C.Funds)==null?void 0:x.Name)||j||""})}},{key:"TargetID",header:"Fund Target",sortable:!0,render:(j,C)=>{var x;return o.jsx("span",{className:"text-gray-600",children:((x=C==null?void 0:C.targetFunds)==null?void 0:x.Name)||j||""})}},{key:"Status",header:"Status",sortable:!0,render:j=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${j==="Requested"?"bg-warning-100 text-warning-800":j==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:j})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:j=>o.jsx("span",{className:"font-medium",children:j||""})},{key:"Total",header:"Total",sortable:!0,render:j=>o.jsxs("span",{className:"font-medium",children:[" ",j?Number(j).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""]})},{key:"Remarks",header:"Remarks",sortable:!0,render:j=>o.jsx("span",{className:"font-medium",children:j||""})}],y=async(j,C)=>{i(!0);try{console.log(`${C}d:`,response.data),Ri(),q.success(`Budget Fund Transfer ${C}d successfully`)}catch(x){console.error(`Error ${C}ing Budget Fund Transfer:`,x),q.error(`Error ${C}ing Budget Fund Transfer`)}finally{i(!1)}},g=j=>{const C=[];return j.Status.toLowerCase().includes("rejected")&&c?C.push({icon:ja,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}):j.Status==="Requested"&&C.push({icon:ah,title:"Approve",onClick:()=>y(j,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:ju,title:"Reject",onClick:()=>y(j,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),C},p=async j=>{try{r?(await a(bf(j)).unwrap(),await a(Ri()).unwrap(),q.success("Transfer updated successfully")):(await a(bf(j)).unwrap(),await a(Ri()).unwrap(),q.success("Transfer created successfully")),e(!1)}catch(C){console.error("Error:",C),q.error("An error occurred")}},b=j=>{n(j),e(!0)},v=j=>{console.log("View transfer:",j)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Transfer"}),o.jsx("p",{children:"Manage fund transfers between accounts"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:l&&o.jsxs("button",{type:"button",onClick:()=>b(null),className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Transfer"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:h,data:u,actions:g,loading:s,onRowClick:v})}),o.jsx(oe,{size:"xl",isOpen:t,onClose:()=>e(!1),title:r?"Edit Fund Transfer":"Add Fund Transfer",children:o.jsx(B7e,{onSubmit:p,initialData:r,onClose:()=>e(!1),fundOptions:d})})]})},z7e=le().shape({reportType:D().required("Report type is required"),date:Le().when("reportType",{is:"daily",then:t=>t.required("Date is required")}),action:D().required("Action is required"),month:Y().when("reportType",{is:"monthly",then:t=>t.required("Month is required").min(1).max(12)}),year:Y().when("reportType",{is:t=>["monthly","quarterly"].includes(t),then:t=>t.required("Year is required").min(2e3).max(2100)}),quarter:Y().when("reportType",{is:"quarterly",then:t=>t.required("Quarter is required").min(1).max(4)}),fromDate:Le().when("reportType",{is:"flexible",then:t=>t.required("From date is required")}),toDate:Le().when("reportType",{is:"flexible",then:t=>t.required("To date is required").min(hl("fromDate"),"To date must be after from date")}),notedBy:D().when("reportType",{is:"flexible",then:t=>t.required("Noted by is required")})});function W7e({onSubmitCollectionReport:t,activeReportType:e,setActiveReportType:r}){const n={reportType:"daily",action:"",date:"",month:"",year:new Date().getFullYear(),quarter:"",fromDate:"",toDate:"",notedBy:"",documentTypes:{communityTax:!0,marriageCert:!0,burialCert:!0,generalService:!0,propertyTax:!0,marketTicketing:!0}},a=[{value:"daily",label:"Daily Report"},{value:"monthly",label:"Monthly Report"},{value:"quarterly",label:"Quarterly Report"},{value:"flexible",label:"Flexible Report"}],s=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],i=[{value:1,label:"Q1 (Jan - Mar)"},{value:2,label:"Q2 (Apr - Jun)"},{value:3,label:"Q3 (Jul - Sep)"},{value:4,label:"Q4 (Oct - Dec)"}],l=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"auditor",label:"Auditor"},{value:"clerk",label:"Clerk"}],c=(d,f,m,h)=>{switch(e){case"daily":return o.jsx(T,{label:"Date",name:"date",type:"date",required:!0,className:"w-full",onChange:h,value:m.date,error:d.date,touched:f.date});case"monthly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Month",name:"month",type:"select",options:s,value:m.month,onChange:h,required:!0,error:d.month,touched:f.month}),o.jsx(T,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100,value:m.year,onChange:h,error:d.year,touched:f.year})]});case"quarterly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Quarter",name:"quarter",type:"select",options:i,value:m.quarter,onChange:h,required:!0,error:d.quarter,touched:f.quarter}),o.jsx(T,{label:"Year",name:"year",type:"number",required:!0,value:m.year,onChange:h,min:2e3,max:2100,error:d.year,touched:f.year})]});case"flexible":return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"From Date",name:"fromDate",type:"date",required:!0,value:m.fromDate,onChange:h,error:d.fromDate,touched:f.fromDate}),o.jsx(T,{label:"To Date",name:"toDate",type:"date",required:!0,value:m.toDate,onChange:h,error:d.toDate,touched:f.toDate})]}),o.jsx(T,{label:"Noted By",name:"notedBy",type:"select",options:l,required:!0,value:m.notedBy,onChange:h,error:d.notedBy,touched:f.notedBy})]});default:return null}},u=(d,{setSubmitting:f,setErrors:m})=>{try{const h={ctc:d.documentTypes.communityTax?1:0,btc:d.documentTypes.burialCert?1:0,mrc:d.documentTypes.marriageCert?1:0,gsi:d.documentTypes.generalService?1:0,rpt:d.documentTypes.propertyTax?1:0,pmt:d.documentTypes.marketTicketing?1:0};let y={};switch(d.reportType){case"daily":y={date:d.date};break;case"monthly":y={month:d.month,year:d.year};break;case"quarterly":y={quarter:d.quarter,year:d.year};break;case"flexible":y={startdate:d.fromDate,enddate:d.toDate,note:d.notedBy};break;default:throw new Error("Invalid report type")}const g={...h,...y};t({...d,action:d.action,params:g})}catch(h){console.error("Error submitting form:",h),m({submit:h.message})}finally{f(!1)}};return o.jsx(Re,{initialValues:n,validationSchema:z7e,onSubmit:u,children:({values:d,errors:f,touched:m,setFieldValue:h,handleSubmit:y,handleChange:g,setErrors:p,isSubmitting:b})=>o.jsxs(qe,{className:"space-y-4",children:[function(){console.log(e,d,f)}(),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.map(v=>o.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors sm:w-auto w-full ${e===v.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{r(v.value),h("reportType",v.value)},children:v.label},v.value))}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:c(f,m,d,g)}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Types"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{name:"communityTax",label:"Community Tax Certificate"},{name:"marriageCert",label:"Marriage Certificate"},{name:"burialCert",label:"Burial Certificate"},{name:"generalService",label:"General Service Invoice"},{name:"propertyTax",label:"Real Property Tax invoice"},{name:"marketTicketing",label:"Public Market Ticketing"}].map(v=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`document-${v.name}`,name:`documentTypes.${v.name}`,checked:d.documentTypes[v.name],onChange:j=>{h(`documentTypes.${v.name}`,j.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:`document-${v.name}`,className:"ml-2 block text-sm text-gray-700",children:v.label})]},v.name))})]}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 gap-4 sm:flex-row flex-col",children:[o.jsx("button",{type:"button",onClick:()=>{h("action","view"),y(),p({})},className:"btn btn-primary sm:w-auto w-full",children:"View"}),o.jsx("button",{type:"button",onClick:()=>{h("action","generate"),y()},className:"btn btn-secondary sm:w-auto w-full",children:"Generate Journal"}),o.jsx("button",{type:"button",onClick:()=>{h("action","export"),y()},className:"btn btn-outline sm:w-auto w-full",children:"Export to Excel"})]})]})})}const f9="https://staging-engine.testthelink.online",H7e=async(t,e)=>{try{const r=localStorage.getItem("token");let n=`${f9}/collectionreport/${t}?`;const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":a.append("date",e.date);break;case"monthly":a.append("month",e.month),a.append("year",e.year);break;case"quarterly":a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":a.append("startdate",e.startDate),a.append("enddate",e.endDate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}n+=a.toString();const s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),i=await s.json();if(!s.ok)throw new Error(i.message||"Failed to fetch report");return i}catch(r){throw console.error(`Error fetching ${t} report:`,r),r}},G7e=async(t,e)=>{try{const r=localStorage.getItem("token");let n="";const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":n="/collectionreport/dailyExcel",a.append("date",e.date);break;case"monthly":n="/collectionreport/monthlyExcel",a.append("month",e.month),a.append("year",e.year);break;case"quarterly":n="/collectionreport/quarterlyExcel",a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":n="/collectionreport/flexibleExcel",a.append("startdate",e.startdate),a.append("enddate",e.enddate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}const s=`${f9}${n}?${a.toString()}`,i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!i.ok){const h=await i.json();throw new Error(h.message||"Failed to export report")}const l=await i.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c;const d=new Date,f=`${d.getFullYear()}${(d.getMonth()+1).toString().padStart(2,"0")}${d.getDate().toString().padStart(2,"0")}_${d.getHours()}${d.getMinutes()}`;let m="";switch(t){case"daily":m=`Daily_Report_${e.date.replace(/-/g,"")}_${f}.xlsx`;break;case"monthly":m=`Monthly_Report_${e.year}${e.month.toString().padStart(2,"0")}_${f}.xlsx`;break;case"quarterly":m=`Quarterly_Report_Q${e.quarter}_${e.year}_${f}.xlsx`;break;case"flexible":m=`Custom_Report_${e.startdate.replace(/-/g,"")}_to_${e.enddate.replace(/-/g,"")}_${f}.xlsx`;break}u.setAttribute("download",m),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(c)}catch(r){throw console.error(`Error exporting ${t} report:`,r),r}};function Y7e(){const[t,e]=w.useState({daily:[],monthly:[],quarterly:[],flexible:[]}),[r,n]=w.useState("daily"),[a,s]=w.useState(!1),i=async c=>{s(!0),console.log("Form data:",c);try{switch(c.action){case"view":const u=await H7e(c.reportType,c.params);e(d=>({...d,[c.reportType]:u})),n(c.reportType),console.log(u);break;case"generate":setCollectionData([]);case"export":await G7e(c.reportType,c.params);break;default:break}}catch(u){console.error("Error handling collection report action:",u),q.error("Failed to handle collection report action.")}finally{s(!1)}},l={daily:[{key:"ChargeAccountID",header:"Charge Account ID",render:c=>c||"-"},{key:"FundsID",header:"Funds ID",render:c=>c||"-"},{key:"Name",header:"Name",render:c=>c||"-"},{key:"Account",header:"Account",render:c=>c||"-"},{key:"SubTotal",header:"Sub-Total",render:c=>c.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{key:"Date",header:"Date",render:c=>new Date(c).toLocaleDateString()},{key:"FullName",header:"Full Name",render:c=>c||"-"},{key:"Position",header:"Position",render:c=>c||"-"}],monthly:[{key:"Month",header:"Month"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"SubTotal",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.Date1} to ${u.Date2}`},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"},{key:"ChartOfAccounts",header:"Chart of Accounts"}],quarterly:[{key:"Quarter",header:"Quarter"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"FundName",header:"Fund Name"},{key:"QuarterlyBreakdown",header:"Quarterly Breakdown",render:(c,u)=>`Q1: ${u.First} | Q2: ${u.Second} | Q3: ${u.Third}`},{key:"Total",header:"Total",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"}],flexible:[{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.StartDate} to ${u.EndDate}`},{key:"InvoiceNumber",header:"Invoice #"},{key:"CustomerName",header:"Customer"},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Total",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"ProcessedBy",header:"Processed By",render:(c,u)=>`${u.Prepare} (${u.PreparePosition})`},{key:"NotedBy",header:"Noted By",render:(c,u)=>`${u.Poster} (${u.NotedPosition})`},{key:"Note",header:"Remarks"}]};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Collection Report"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:o.jsx(W7e,{onSubmitCollectionReport:i,activeReportType:r,setActiveReportType:n})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:l[r],data:t[r],loading:a,emptyMessage:"No collection entries found for the selected date."})})]})}const K7e=le().shape({StartDate:Le().required("From Date is required").max(hl("EndDate"),"From Date must be before or equal to To Date"),EndDate:Le().required("To Date is required").min(hl("StartDate"),"To Date must be after or equal to From Date"),fund:D().required("Fund is required")});function J7e({onSubmit:t}){const e={StartDate:"",EndDate:"",fund:""},{funds:r}=V(i=>i.funds),n=ue();w.useEffect(()=>{n(Jt())},[n]);const a=[{value:"all",label:"All Funds"},...(r==null?void 0:r.map(i=>({value:i.ID,label:i.Name})))||[]],s=(i,{setSubmitting:l})=>{const c={...i,FundID:i.fund==="all"?"%":i.fund};delete c.fund,t(c),l(!1)};return o.jsx(Re,{initialValues:e,validationSchema:K7e,onSubmit:s,children:({values:i,errors:l,touched:c,handleSubmit:u,setFieldValue:d,handleChange:f})=>o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(T,{label:"From Date",name:"StartDate",type:"date",required:!0,value:i.StartDate,onChange:f,error:l.StartDate,touched:c.StartDate}),o.jsx(T,{label:"To Date",name:"EndDate",type:"date",required:!0,value:i.EndDate,onChange:f,error:l.EndDate,touched:c.EndDate}),o.jsx(T,{label:"Fund",name:"fund",type:"select",required:!0,value:i.fund,onChange:f,error:l.fund,touched:c.fund,options:a})]}),o.jsxs("div",{className:"flex justify-end  max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",onClick:()=>d("action","view"),className:"btn btn-primary",children:"View"}),o.jsx("button",{type:"submit",onClick:()=>d("action","generate"),className:"btn btn-secondary",children:"Generate Cashbook"}),o.jsx("button",{type:"submit",onClick:()=>d("action","export"),className:"btn btn-outline",children:"Export to Excel"})]})]})})}const m9="https://staging-engine.testthelink.online",X7e=async t=>{try{const e=localStorage.getItem("token"),r=`${m9}/cashbook/view`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch cashbook data");return a}catch(e){throw console.error("Error fetching cashbook:",e),e}},Q7e=async t=>{try{const e=localStorage.getItem("token"),r=`${m9}/cashbook/exportExcel`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})});if(!n.ok){const m=await n.json();throw new Error(m.message||"Failed to export cashbook")}const a=await n.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s;const l=t.StartDate.replace(/-/g,""),c=t.EndDate.replace(/-/g,""),u=new Date,d=`${u.getFullYear()}${(u.getMonth()+1).toString().padStart(2,"0")}${u.getDate().toString().padStart(2,"0")}_${u.getHours()}${u.getMinutes()}`,f=`Cashbook_${l}_to_${c}_${d}.xlsx`;i.setAttribute("download",f),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}catch(e){throw console.error("Error exporting cashbook:",e),e}};function Z7e(){const[t,e]=w.useState([]),[r,n]=w.useState(!1),a=async i=>{n(!0);const{action:l,...c}=i;try{switch(l){case"view":const u=await X7e(c);e(u);break;case"generate":break;case"export":await Q7e(c);break;default:break}}catch(u){console.error("Error handling cashbook action:",u)}finally{n(!1)}},s=[{key:"Year",header:"Year",render:i=>i||"-"},{key:"Officer",header:"Officer",render:i=>i||"-"},{key:"Fund",header:"Fund",render:i=>i||"-"},{key:"InvoiceDate",header:"Invoice Date",render:i=>i?new Date(i).toLocaleDateString():"-"},{key:"APAR",header:"AP AR",render:i=>i||"-"},{key:"InvoiceNumber",header:"Invoice Number",render:i=>i||"-"},{key:"Debit",header:"Debit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Credit",header:"Credit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Balance",header:"Balance",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cashbook"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:o.jsx(J7e,{onSubmit:a})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:s,data:t,loading:r,emptyMessage:"No cashbook entries found for the selected date range."})})]})}function e8e(){const{isAuthenticated:t,isLoading:e}=V(a=>a.auth),r=ue(),n=Ho();return w.useEffect(()=>{const a=localStorage.getItem("token");a&&r(Hp(a))},[r]),w.useEffect(()=>{},[n.pathname]),e?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx(oJ,{position:"top-right"}),o.jsxs(lY,{children:[o.jsxs(de,{element:o.jsx(LZ,{}),children:[o.jsx(de,{path:"/login",element:t?o.jsx(Yu,{to:"/",replace:!0}):o.jsx(pae,{})}),o.jsx(de,{path:"/register",element:t?o.jsx(Yu,{to:"/",replace:!0}):o.jsx(gae,{})}),o.jsx(de,{path:"/forgot-password",element:t?o.jsx(Yu,{to:"/",replace:!0}):o.jsx(yae,{})}),o.jsx(de,{path:"/reset-password",element:t?o.jsx(Yu,{to:"/",replace:!0}):o.jsx(bae,{})})]}),o.jsxs(de,{element:o.jsx(MZ,{}),children:[o.jsx(de,{path:"/dashboard",element:o.jsx(kce,{})}),o.jsx(de,{path:"/profile",element:o.jsx(C0e,{})}),o.jsx(de,{path:"/budget-dashboard",element:o.jsx(Jze,{})}),o.jsx(de,{path:"/disbursement-dashboard",element:o.jsx(Xze,{})}),o.jsx(de,{path:"/collection-dashboard",element:o.jsx(Qze,{})}),o.jsx(de,{path:"/settings/departments",element:o.jsx(Wue,{})}),o.jsx(de,{path:"/settings/customer",element:o.jsx(vpe,{})}),o.jsx(de,{path:"/settings/lgu-maintenance",element:o.jsx($Ne,{})}),o.jsx(de,{path:"/settings/subdepartments",element:o.jsx(ude,{})}),o.jsx(de,{path:"/settings/modules",element:o.jsx(dme,{})}),o.jsx(de,{path:"/settings/users",element:o.jsx(jde,{})}),o.jsx(de,{path:"/settings/user-roles",element:o.jsx(Tme,{})}),o.jsx(de,{path:"/settings/user-access",element:o.jsx(i1e,{})}),o.jsx(de,{path:"/settings/chart-of-accounts",element:o.jsx(pfe,{})}),o.jsx(de,{path:"/settings/account-group",element:o.jsx(yfe,{})}),o.jsx(de,{path:"/settings/major-account-group",element:o.jsx(xfe,{})}),o.jsx(de,{path:"/settings/sub-major-account-group",element:o.jsx(jfe,{})}),o.jsx(de,{path:"/settings/vendors",element:o.jsx(Zfe,{})}),o.jsx(de,{path:"/settings/vendor-customer-type",element:o.jsx(ame,{})}),o.jsx(de,{path:"/settings/vendor-type",element:o.jsx(ome,{})}),o.jsx(de,{path:"/settings/employees",element:o.jsx(Nme,{})}),o.jsx(de,{path:"/settings/employmentStatus",element:o.jsx(Sme,{})}),o.jsx(de,{path:"/settings/positions",element:o.jsx(Ime,{})}),o.jsx(de,{path:"/settings/nationalities",element:o.jsx(Dme,{})}),o.jsx(de,{path:"/settings/locations",element:o.jsx($me,{})}),o.jsx(de,{path:"/settings/ppe",element:o.jsx(Jme,{})}),o.jsx(de,{path:"/settings/ppe-categories",element:o.jsx(Qme,{})}),o.jsx(de,{path:"/settings/ppe-suppliers",element:o.jsx(ehe,{})}),o.jsx(de,{path:"/settings/approval-matrix",element:o.jsx(uhe,{})}),o.jsx(de,{path:"/settings/bank",element:o.jsx(ghe,{})}),o.jsx(de,{path:"/settings/currency",element:o.jsx(Jue,{})}),o.jsx(de,{path:"/settings/document-details",element:o.jsx(whe,{})}),o.jsx(de,{path:"/settings/document-type-categories",element:o.jsx(Che,{})}),o.jsx(de,{path:"/settings/items",element:o.jsx(Phe,{})}),o.jsx(de,{path:"/settings/items/units",element:o.jsx(Bhe,{})}),o.jsx(de,{path:"/settings/project-type",element:o.jsx(Whe,{})}),o.jsx(de,{path:"/settings/financial-statement",element:o.jsx(tpe,{})}),o.jsx(de,{path:"/settings/fiscal-year",element:o.jsx(ope,{})}),o.jsx(de,{path:"/settings/tax-code",element:o.jsx(cpe,{})}),o.jsx(de,{path:"/settings/mode-of-payment",element:o.jsx(dpe,{})}),o.jsx(de,{path:"/settings/payment-terms",element:o.jsx(mpe,{})}),o.jsx(de,{path:"/settings/industry",element:o.jsx(ppe,{})}),o.jsx(de,{path:"/settings/project-details",element:o.jsx(Jhe,{})}),o.jsx(de,{path:"/settings/tax-declaration",element:o.jsx(Ipe,{})}),o.jsx(de,{path:"/settings/base-unit-value",element:o.jsx(Mpe,{})}),o.jsx(de,{path:"/settings/general-revision",element:o.jsx(Ppe,{})}),o.jsx(de,{path:"/disbursement/obligation-requests",element:o.jsx(S0e,{})}),o.jsx(de,{path:"/disbursement/vouchers",element:o.jsx(D0e,{})}),o.jsx(de,{path:"/disbursement/travel-orders",element:o.jsx(M0e,{})}),o.jsx(de,{path:"/disbursement/journal-entry-vouchers",element:o.jsx(U0e,{})}),o.jsx(de,{path:"/disbursement/disbursement-journals",element:o.jsx(K0e,{})}),o.jsx(de,{path:"/disbursement/general-journals",element:o.jsx(tje,{})}),o.jsx(de,{path:"/disbursement/beginning-balance",element:o.jsx(lje,{})}),o.jsx(de,{path:"/disbursement/purchase-requests",element:o.jsx(pje,{})}),o.jsx(de,{path:"/disbursement/fund-utilization-requests",element:o.jsx(wje,{})}),o.jsx(de,{path:"/collections/community-tax",element:o.jsx(Aje,{})}),o.jsx(de,{path:"/collections/community-tax-corporation",element:o.jsx(Eje,{})}),o.jsx(de,{path:"/collections/real-property-tax",element:o.jsx(o7e,{})}),o.jsx(de,{path:"/collections/market",element:o.jsx(Dje,{})}),o.jsx(de,{path:"/collections/general-service-receipts",element:o.jsx(a7e,{})}),o.jsx(de,{path:"/collections/burial-service-receipts",element:o.jsx(Mje,{})}),o.jsx(de,{path:"/collections/marriage-service-receipts",element:o.jsx(Uje,{})}),o.jsx(de,{path:"/collections/cashbook",element:o.jsx(Z7e,{})}),o.jsx(de,{path:"/collections/reports",element:o.jsx(Y7e,{})}),o.jsx(de,{path:"/collections/public-market-tickets",element:o.jsx(gNe,{})}),o.jsx(de,{path:"/budget",element:o.jsx(kNe,{})}),o.jsx(de,{path:"/budget/allotment",element:o.jsx(g7e,{})}),o.jsx(de,{path:"/budget/details",element:o.jsx(y7e,{})}),o.jsx(de,{path:"/budget/new",element:o.jsx(CNe,{})}),o.jsx(de,{path:"/budget/summary",element:o.jsx(b7e,{})}),o.jsx(de,{path:"/budget/supplemental",element:o.jsx(N7e,{})}),o.jsx(de,{path:"/budget/transfer",element:o.jsx(T7e,{})}),o.jsx(de,{path:"/budget/report",element:o.jsx(xR,{})}),o.jsx(de,{path:"/budget/funds",element:o.jsx(P7e,{})}),o.jsx(de,{path:"/budget/sub-funds",element:o.jsx(M7e,{})}),o.jsx(de,{path:"/budget/fund-transfer",element:o.jsx(U7e,{})}),o.jsx(de,{path:"/budget/statement-comparison",element:o.jsx(_Ne,{})}),o.jsx(de,{path:"/budget/statement-appropriation",element:o.jsx(_7e,{})}),o.jsx(de,{path:"/applications/business-permits",element:o.jsx(MNe,{})}),o.jsx(de,{path:"/applications/cheque-generator",element:o.jsx(BNe,{})}),o.jsx(de,{path:"/reports/general-ledger",element:o.jsx(GNe,{})}),o.jsx(de,{path:"/reports/subsidiary-ledger",element:o.jsx(ZNe,{})}),o.jsx(de,{path:"/reports/financial-statements",element:o.jsx(s1e,{})}),o.jsx(de,{path:"/reports/budget",element:o.jsx(xR,{})}),o.jsx(de,{path:"/reports/bir",element:o.jsx(o1e,{})}),o.jsx(de,{path:"/reports/trial-balance",element:o.jsx(f7e,{})}),o.jsx(de,{path:"/change-password",element:o.jsx(l1e,{})})]}),o.jsx(de,{path:"/",element:o.jsx(Yu,{to:"/dashboard\\",replace:!0})}),o.jsx(de,{path:"*",element:o.jsx(Tce,{})})]})]})}const h9=[{id:1,vendorCode:"V001",vendorName:"ABC Office Supplies",address:"123 Main St., City",contactPerson:"John Smith",contactNumber:"09123456789",email:"abc@example.com",tin:"123-456-789-000",category:"Office Supplies",accreditationDate:"2024-01-01",accreditationExpiry:"2025-01-01",bankAccount:"1234-5678-9012",bankName:"Sample Bank",status:"Active"}],t8e={vendors:h9,vendor:null,isLoading:!1,error:null},vC=B("vendors/fetchVendors",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(h9)},500)})}catch(r){return e.rejectWithValue(r.message)}}),jC=B("vendors/addVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),vendorCode:`V${String(Math.floor(Math.random()*900)+100)}`};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),wC=B("vendors/updateVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),p9=ve({name:"vendors",initialState:t8e,reducers:{setVendor:(t,e)=>{t.vendor=e.payload},resetVendorState:t=>{t.vendor=null,t.error=null}},extraReducers:t=>{t.addCase(vC.pending,e=>{e.isLoading=!0}).addCase(vC.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors=r.payload,e.error=null}).addCase(vC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jC.pending,e=>{e.isLoading=!0}).addCase(jC.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors.push(r.payload),e.error=null}).addCase(jC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wC.pending,e=>{e.isLoading=!0}).addCase(wC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendors.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.vendors[n]=r.payload),e.error=null}).addCase(wC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setVendor:w9e,resetVendorState:N9e}=p9.actions,r8e=p9.reducer,n8e="https://staging-engine.testthelink.online",a8e={chart1:{title:"Budget vs Charges",data:[{name:"Budget Amount",value:5e5},{name:"Charges",value:3e5}]},chart2:{title:"PreEncumbrance, Encumbrance & Charges",data:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:15e4},{name:"Charges",value:5e4}]},table:[{label:"Accounts Payable (AP)",total:25e4},{label:"Accounts Receivable (AR)",total:18e4}]},NC=B("budgetDashboard/fetchBudgetData",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${n8e}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),s8e=ve({name:"budgetDashboard",initialState:{budgetData:{chart1:null,chart2:null,table:[]},isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(NC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgetData={chart1:r.payload.chart1,chart2:r.payload.chart2,table:Array.isArray(r.payload.table)?r.payload.table:[]}}).addCase(NC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to fetch budget data",console.warn("Failed to fetch budget data, using mock data.",e.error),e.budgetData=a8e})}}),o8e=s8e.reducer,CC=B("generalServiceReceipts/fetchGeneralServiceReceipts",async()=>(await Xe.get("/api/general-service-receipts")).data),SC=B("generalServiceReceipts/createGeneralServiceReceipt",async t=>(await Xe.post("/api/general-service-receipts",t)).data),AC=B("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e})=>(await Xe.put(`/api/general-service-receipts/${t}`,e)).data),IC=B("generalServiceReceipts/deleteGeneralServiceReceipt",async t=>(await Xe.delete(`/api/general-service-receipts/${t}`),t)),kC=B("generalServiceReceipts/getGeneralServiceReceiptCurrentNumber",async()=>(await Xe.get("/api/general-service-receipts/getCurrentNumber")).data),i8e={receipts:[],currentNumber:null,loading:!1,error:null},g9=ve({name:"generalServiceReceipts",initialState:i8e,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(CC.pending,e=>{e.loading=!0,e.error=null}).addCase(CC.fulfilled,(e,r)=>{e.loading=!1,e.receipts=r.payload}).addCase(CC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(SC.pending,e=>{e.loading=!0,e.error=null}).addCase(SC.fulfilled,(e,r)=>{e.loading=!1,e.receipts.push(r.payload)}).addCase(SC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(AC.pending,e=>{e.loading=!0,e.error=null}).addCase(AC.fulfilled,(e,r)=>{e.loading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.receipts[n]=r.payload)}).addCase(AC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(IC.pending,e=>{e.loading=!0,e.error=null}).addCase(IC.fulfilled,(e,r)=>{e.loading=!1,e.receipts=e.receipts.filter(n=>n.id!==r.payload)}).addCase(IC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(kC.pending,e=>{e.loading=!0,e.error=null}).addCase(kC.fulfilled,(e,r)=>{e.loading=!1,e.currentNumber=r.payload}).addCase(kC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{clearError:C9e}=g9.actions,l8e=g9.reducer,TC=B("realPropertyTax/fetchRealPropertyTaxes",async()=>new Promise(t=>{setTimeout(()=>{t([{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"active"}])},1e3)})),EC=B("realPropertyTax/createRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e({id:Date.now(),...t})},1e3)})),DC=B("realPropertyTax/updateRealPropertyTax",async({id:t,data:e})=>new Promise(r=>{setTimeout(()=>{r({id:t,...e})},1e3)})),PC=B("realPropertyTax/deleteRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e(t)},1e3)})),c8e={realPropertyTaxes:[],isLoading:!1,error:null},u8e=ve({name:"realPropertyTax",initialState:c8e,reducers:{},extraReducers:t=>{t.addCase(TC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TC.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=r.payload}).addCase(TC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(EC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(EC.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes.push(r.payload)}).addCase(EC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(DC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(DC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.realPropertyTaxes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.realPropertyTaxes[n]=r.payload)}).addCase(DC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(PC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(PC.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=e.realPropertyTaxes.filter(n=>n.id!==r.payload)}).addCase(PC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),d8e=u8e.reducer,f8e=zY({reducer:{auth:gK,departments:zue,currencies:Yue,subdepartments:Zue,users:mde,chartOfAccounts:Cde,accountGroups:Ide,majorAccountGroups:Ede,subMajorAccountGroups:Ode,vendors:r8e,employees:gde,obligationRequests:Ixe,fundUtilizations:bje,disbursementVouchers:I0e,travelOrders:R0e,ppes:Hme,ppeCategories:Lme,ppeSuppliers:qme,approvalMatrix:che,banks:mhe,documentDetails:nhe,documentTypeCategories:jhe,items:Ihe,invoiceChargeAccounts:Lhe,itemUnits:Ehe,projectDetails:Khe,projectTypes:zhe,financialStatements:epe,fiscalYears:spe,taxCodes:Hfe,modeOfPayments:Qfe,paymentTerms:Kfe,industries:Ufe,employmentStatuses:yme,positions:hme,userroles:xde,nationalities:vme,vendorCustomerTypes:nme,vendorTypes:Bfe,journalEntries:V0e,purchaseRequests:hje,taxDeclarations:Ape,baseUnits:Rpe,regions:kfe,provinces:Dfe,municipalities:_fe,barangays:Mfe,generalRevisions:Epe,modules:ume,generalServiceReceipts:l8e,disbursementJournal:Y0e,beginningBalance:aje,generalJournal:eje,generalLedger:WNe,trialBalance:d7e,statementComparison:ONe,subsidiaryLedger:QNe,financialStatementsReports:a1e,fundTransfer:V7e,budgetTransfer:k7e,budget:d0e,subFunds:INe,funds:l0e,budgetDashboard:o8e,vendorDetails:Sfe,burialRecords:Rje,marriageRecords:Vje,publicMarketTicketing:fNe,communityTax:Sje,corporateCommunityTax:Tje,generalReceipts:e7e,realPropertyTax:d8e,customers:xpe},middleware:t=>t({serializableCheck:!1})});_C.createRoot(document.getElementById("root")).render(o.jsx(W.StrictMode,{children:o.jsx(dG,{store:f8e,children:o.jsx(pY,{children:o.jsx(e8e,{})})})}))});export default m8e();
