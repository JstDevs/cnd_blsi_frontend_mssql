var S9=Object.defineProperty;var A9=(t,e,r)=>e in t?S9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var I9=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ye=(t,e,r)=>A9(t,typeof e!="symbol"?e+"":e,r);var q8e=I9((In,kn)=>{function k9(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function it(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C5={exports:{}},Z0={},S5={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm=Symbol.for("react.element"),T9=Symbol.for("react.portal"),P9=Symbol.for("react.fragment"),E9=Symbol.for("react.strict_mode"),D9=Symbol.for("react.profiler"),O9=Symbol.for("react.provider"),_9=Symbol.for("react.context"),R9=Symbol.for("react.forward_ref"),$9=Symbol.for("react.suspense"),M9=Symbol.for("react.memo"),L9=Symbol.for("react.lazy"),dE=Symbol.iterator;function F9(t){return t===null||typeof t!="object"?null:(t=dE&&t[dE]||t["@@iterator"],typeof t=="function"?t:null)}var A5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I5=Object.assign,k5={};function vu(t,e,r){this.props=t,this.context=e,this.refs=k5,this.updater=r||A5}vu.prototype.isReactComponent={};vu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T5(){}T5.prototype=vu.prototype;function qk(t,e,r){this.props=t,this.context=e,this.refs=k5,this.updater=r||A5}var Vk=qk.prototype=new T5;Vk.constructor=qk;I5(Vk,vu.prototype);Vk.isPureReactComponent=!0;var fE=Array.isArray,P5=Object.prototype.hasOwnProperty,Uk={current:null},E5={key:!0,ref:!0,__self:!0,__source:!0};function D5(t,e,r){var n,a={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)P5.call(e,n)&&!E5.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Wm,type:t,key:s,ref:i,props:a,_owner:Uk.current}}function B9(t,e){return{$$typeof:Wm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zk(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wm}function q9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var mE=/\/+/g;function eN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?q9(""+t.key):e.toString(36)}function Mp(t,e,r,n,a){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Wm:case T9:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+eN(i,0):n,fE(a)?(r="",t!=null&&(r=t.replace(mE,"$&/")+"/"),Mp(a,e,r,"",function(u){return u})):a!=null&&(zk(a)&&(a=B9(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(mE,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",fE(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+eN(s,l);i+=Mp(s,e,r,c,a)}else if(c=F9(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+eN(s,l++),i+=Mp(s,e,r,c,a);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Ih(t,e,r){if(t==null)return t;var n=[],a=0;return Mp(t,n,"","",function(s){return e.call(r,s,a++)}),n}function V9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jr={current:null},Lp={transition:null},U9={ReactCurrentDispatcher:Jr,ReactCurrentBatchConfig:Lp,ReactCurrentOwner:Uk};function O5(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:Ih,forEach:function(t,e,r){Ih(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ih(t,function(){e++}),e},toArray:function(t){return Ih(t,function(e){return e})||[]},only:function(t){if(!zk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=vu;Je.Fragment=P9;Je.Profiler=D9;Je.PureComponent=qk;Je.StrictMode=E9;Je.Suspense=$9;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U9;Je.act=O5;Je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=I5({},t.props),a=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=Uk.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)P5.call(e,c)&&!E5.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Wm,type:t.type,key:a,ref:s,props:n,_owner:i}};Je.createContext=function(t){return t={$$typeof:_9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:O9,_context:t},t.Consumer=t};Je.createElement=D5;Je.createFactory=function(t){var e=D5.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:R9,render:t}};Je.isValidElement=zk;Je.lazy=function(t){return{$$typeof:L9,_payload:{_status:-1,_result:t},_init:V9}};Je.memo=function(t,e){return{$$typeof:M9,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=Lp.transition;Lp.transition={};try{t()}finally{Lp.transition=e}};Je.unstable_act=O5;Je.useCallback=function(t,e){return Jr.current.useCallback(t,e)};Je.useContext=function(t){return Jr.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return Jr.current.useDeferredValue(t)};Je.useEffect=function(t,e){return Jr.current.useEffect(t,e)};Je.useId=function(){return Jr.current.useId()};Je.useImperativeHandle=function(t,e,r){return Jr.current.useImperativeHandle(t,e,r)};Je.useInsertionEffect=function(t,e){return Jr.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return Jr.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return Jr.current.useMemo(t,e)};Je.useReducer=function(t,e,r){return Jr.current.useReducer(t,e,r)};Je.useRef=function(t){return Jr.current.useRef(t)};Je.useState=function(t){return Jr.current.useState(t)};Je.useSyncExternalStore=function(t,e,r){return Jr.current.useSyncExternalStore(t,e,r)};Je.useTransition=function(){return Jr.current.useTransition()};Je.version="18.3.1";S5.exports=Je;var w=S5.exports;const G=it(w),Af=k9({__proto__:null,default:G},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z9=w,W9=Symbol.for("react.element"),H9=Symbol.for("react.fragment"),G9=Object.prototype.hasOwnProperty,Y9=z9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K9={key:!0,ref:!0,__self:!0,__source:!0};function _5(t,e,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)G9.call(e,n)&&!K9.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:W9,type:t,key:s,ref:i,props:a,_owner:Y9.current}}Z0.Fragment=H9;Z0.jsx=_5;Z0.jsxs=_5;C5.exports=Z0;var o=C5.exports,MC={},R5={exports:{}},Mn={},$5={exports:{}},M5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,O){var V=F.length;F.push(O);e:for(;0<V;){var W=V-1>>>1,$=F[W];if(0<a($,O))F[W]=O,F[V]=$,V=W;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var O=F[0],V=F.pop();if(V!==O){F[0]=V;e:for(var W=0,$=F.length,B=$>>>1;W<B;){var Q=2*(W+1)-1,fe=F[Q],ae=Q+1,J=F[ae];if(0>a(fe,V))ae<$&&0>a(J,fe)?(F[W]=J,F[ae]=V,W=ae):(F[W]=fe,F[Q]=V,W=Q);else if(ae<$&&0>a(J,V))F[W]=J,F[ae]=V,W=ae;else break e}}return O}function a(F,O){var V=F.sortIndex-O.sortIndex;return V!==0?V:F.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,y=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(F){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=F)n(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=r(u)}}function C(F){if(p=!1,j(F),!y)if(r(c)!==null)y=!0,_(x);else{var O=r(u);O!==null&&q(C,O.startTime-F)}}function x(F,O){y=!1,p&&(p=!1,g(A),A=-1),h=!0;var V=m;try{for(j(O),f=r(c);f!==null&&(!(f.expirationTime>O)||F&&!E());){var W=f.callback;if(typeof W=="function"){f.callback=null,m=f.priorityLevel;var $=W(f.expirationTime<=O);O=t.unstable_now(),typeof $=="function"?f.callback=$:f===r(c)&&n(c),j(O)}else n(c);f=r(c)}if(f!==null)var B=!0;else{var Q=r(u);Q!==null&&q(C,Q.startTime-O),B=!1}return B}finally{f=null,m=V,h=!1}}var N=!1,S=null,A=-1,I=5,T=-1;function E(){return!(t.unstable_now()-T<I)}function R(){if(S!==null){var F=t.unstable_now();T=F;var O=!0;try{O=S(!0,F)}finally{O?M():(N=!1,S=null)}}else N=!1}var M;if(typeof v=="function")M=function(){v(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,P=L.port2;L.port1.onmessage=R,M=function(){P.postMessage(null)}}else M=function(){b(R,0)};function _(F){S=F,N||(N=!0,M())}function q(F,O){A=b(function(){F(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,_(x))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var V=m;m=O;try{return F()}finally{m=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,O){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=m;m=F;try{return O()}finally{m=V}},t.unstable_scheduleCallback=function(F,O,V){var W=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,F){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=V+$,F={id:d++,callback:O,priorityLevel:F,startTime:V,expirationTime:$,sortIndex:-1},V>W?(F.sortIndex=V,e(u,F),r(c)===null&&F===r(u)&&(p?(g(A),A=-1):p=!0,q(C,V-W))):(F.sortIndex=$,e(c,F),y||h||(y=!0,_(x))),F},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(F){var O=m;return function(){var V=m;m=O;try{return F.apply(this,arguments)}finally{m=V}}}})(M5);$5.exports=M5;var J9=$5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X9=w,En=J9;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L5=new Set,If={};function Nl(t,e){Lc(t,e),Lc(t+"Capture",e)}function Lc(t,e){for(If[t]=e,t=0;t<e.length;t++)L5.add(e[t])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LC=Object.prototype.hasOwnProperty,Q9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hE={},pE={};function Z9(t){return LC.call(pE,t)?!0:LC.call(hE,t)?!1:Q9.test(t)?pE[t]=!0:(hE[t]=!0,!1)}function eW(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tW(t,e,r,n){if(e===null||typeof e>"u"||eW(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xr(t,e,r,n,a,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var Er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Er[t]=new Xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Er[e]=new Xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Er[t]=new Xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Er[t]=new Xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Er[t]=new Xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Er[t]=new Xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Er[t]=new Xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Er[t]=new Xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Er[t]=new Xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wk=/[\-:]([a-z])/g;function Hk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wk,Hk);Er[e]=new Xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wk,Hk);Er[e]=new Xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wk,Hk);Er[e]=new Xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Er[t]=new Xr(t,1,!1,t.toLowerCase(),null,!1,!1)});Er.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Er[t]=new Xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gk(t,e,r,n){var a=Er.hasOwnProperty(e)?Er[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tW(e,r,a,n)&&(r=null),n||a===null?Z9(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Vs=X9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kh=Symbol.for("react.element"),Jl=Symbol.for("react.portal"),Xl=Symbol.for("react.fragment"),Yk=Symbol.for("react.strict_mode"),FC=Symbol.for("react.profiler"),F5=Symbol.for("react.provider"),B5=Symbol.for("react.context"),Kk=Symbol.for("react.forward_ref"),BC=Symbol.for("react.suspense"),qC=Symbol.for("react.suspense_list"),Jk=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),q5=Symbol.for("react.offscreen"),gE=Symbol.iterator;function Hu(t){return t===null||typeof t!="object"?null:(t=gE&&t[gE]||t["@@iterator"],typeof t=="function"?t:null)}var Wt=Object.assign,tN;function Sd(t){if(tN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);tN=e&&e[1]||""}return`
`+tN+t}var rN=!1;function nN(t,e){if(!t||rN)return"";rN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{rN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Sd(t):""}function rW(t){switch(t.tag){case 5:return Sd(t.type);case 16:return Sd("Lazy");case 13:return Sd("Suspense");case 19:return Sd("SuspenseList");case 0:case 2:case 15:return t=nN(t.type,!1),t;case 11:return t=nN(t.type.render,!1),t;case 1:return t=nN(t.type,!0),t;default:return""}}function VC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xl:return"Fragment";case Jl:return"Portal";case FC:return"Profiler";case Yk:return"StrictMode";case BC:return"Suspense";case qC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case B5:return(t.displayName||"Context")+".Consumer";case F5:return(t._context.displayName||"Context")+".Provider";case Kk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jk:return e=t.displayName||null,e!==null?e:VC(t.type)||"Memo";case ro:e=t._payload,t=t._init;try{return VC(t(e))}catch{}}return null}function nW(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return VC(e);case 8:return e===Yk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function V5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aW(t){var e=V5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Th(t){t._valueTracker||(t._valueTracker=aW(t))}function U5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=V5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function rx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function UC(t,e){var r=e.checked;return Wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function yE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Fo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z5(t,e){e=e.checked,e!=null&&Gk(t,"checked",e,!1)}function zC(t,e){z5(t,e);var r=Fo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?WC(t,e.type,r):e.hasOwnProperty("defaultValue")&&WC(t,e.type,Fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function WC(t,e,r){(e!=="number"||rx(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ad=Array.isArray;function mc(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Fo(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function HC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(pe(92));if(Ad(r)){if(1<r.length)throw Error(pe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Fo(r)}}function W5(t,e){var r=Fo(e.value),n=Fo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function vE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function H5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function GC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?H5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ph,G5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ph=Ph||document.createElement("div"),Ph.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ph.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var qd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sW=["Webkit","ms","Moz","O"];Object.keys(qd).forEach(function(t){sW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qd[e]=qd[t]})});function Y5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||qd.hasOwnProperty(t)&&qd[t]?(""+e).trim():e+"px"}function K5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Y5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var oW=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function YC(t,e){if(e){if(oW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function KC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JC=null;function Xk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var XC=null,hc=null,pc=null;function jE(t){if(t=Ym(t)){if(typeof XC!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=av(e),XC(t.stateNode,t.type,e))}}function J5(t){hc?pc?pc.push(t):pc=[t]:hc=t}function X5(){if(hc){var t=hc,e=pc;if(pc=hc=null,jE(t),e)for(t=0;t<e.length;t++)jE(e[t])}}function Q5(t,e){return t(e)}function Z5(){}var aN=!1;function eB(t,e,r){if(aN)return t(e,r);aN=!0;try{return Q5(t,e,r)}finally{aN=!1,(hc!==null||pc!==null)&&(Z5(),X5())}}function Tf(t,e){var r=t.stateNode;if(r===null)return null;var n=av(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(pe(231,e,typeof r));return r}var QC=!1;if(Ts)try{var Gu={};Object.defineProperty(Gu,"passive",{get:function(){QC=!0}}),window.addEventListener("test",Gu,Gu),window.removeEventListener("test",Gu,Gu)}catch{QC=!1}function iW(t,e,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Vd=!1,nx=null,ax=!1,ZC=null,lW={onError:function(t){Vd=!0,nx=t}};function cW(t,e,r,n,a,s,i,l,c){Vd=!1,nx=null,iW.apply(lW,arguments)}function uW(t,e,r,n,a,s,i,l,c){if(cW.apply(this,arguments),Vd){if(Vd){var u=nx;Vd=!1,nx=null}else throw Error(pe(198));ax||(ax=!0,ZC=u)}}function Cl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function tB(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wE(t){if(Cl(t)!==t)throw Error(pe(188))}function dW(t){var e=t.alternate;if(!e){if(e=Cl(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return wE(a),t;if(s===n)return wE(a),e;s=s.sibling}throw Error(pe(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?t:e}function rB(t){return t=dW(t),t!==null?nB(t):null}function nB(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nB(t);if(e!==null)return e;t=t.sibling}return null}var aB=En.unstable_scheduleCallback,NE=En.unstable_cancelCallback,fW=En.unstable_shouldYield,mW=En.unstable_requestPaint,rr=En.unstable_now,hW=En.unstable_getCurrentPriorityLevel,Qk=En.unstable_ImmediatePriority,sB=En.unstable_UserBlockingPriority,sx=En.unstable_NormalPriority,pW=En.unstable_LowPriority,oB=En.unstable_IdlePriority,ev=null,La=null;function gW(t){if(La&&typeof La.onCommitFiberRoot=="function")try{La.onCommitFiberRoot(ev,t,void 0,(t.current.flags&128)===128)}catch{}}var ga=Math.clz32?Math.clz32:xW,yW=Math.log,bW=Math.LN2;function xW(t){return t>>>=0,t===0?32:31-(yW(t)/bW|0)|0}var Eh=64,Dh=4194304;function Id(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ox(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=Id(l):(s&=i,s!==0&&(n=Id(s)))}else i=r&~a,i!==0?n=Id(i):s!==0&&(n=Id(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,s=e&-e,a>=s||a===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ga(e),a=1<<r,n|=t[r],e&=~a;return n}function vW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jW(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-ga(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=vW(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function eS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iB(){var t=Eh;return Eh<<=1,!(Eh&4194240)&&(Eh=64),t}function sN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ga(e),t[e]=r}function wW(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-ga(r),s=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~s}}function Zk(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ga(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var ht=0;function lB(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cB,eT,uB,dB,fB,tS=!1,Oh=[],xo=null,vo=null,jo=null,Pf=new Map,Ef=new Map,io=[],NW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CE(t,e){switch(t){case"focusin":case"focusout":xo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Pf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ef.delete(e.pointerId)}}function Yu(t,e,r,n,a,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},e!==null&&(e=Ym(e),e!==null&&eT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function CW(t,e,r,n,a){switch(e){case"focusin":return xo=Yu(xo,t,e,r,n,a),!0;case"dragenter":return vo=Yu(vo,t,e,r,n,a),!0;case"mouseover":return jo=Yu(jo,t,e,r,n,a),!0;case"pointerover":var s=a.pointerId;return Pf.set(s,Yu(Pf.get(s)||null,t,e,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Ef.set(s,Yu(Ef.get(s)||null,t,e,r,n,a)),!0}return!1}function mB(t){var e=Ti(t.target);if(e!==null){var r=Cl(e);if(r!==null){if(e=r.tag,e===13){if(e=tB(r),e!==null){t.blockedOn=e,fB(t.priority,function(){uB(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=rS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);JC=n,r.target.dispatchEvent(n),JC=null}else return e=Ym(r),e!==null&&eT(e),t.blockedOn=r,!1;e.shift()}return!0}function SE(t,e,r){Fp(t)&&r.delete(e)}function SW(){tS=!1,xo!==null&&Fp(xo)&&(xo=null),vo!==null&&Fp(vo)&&(vo=null),jo!==null&&Fp(jo)&&(jo=null),Pf.forEach(SE),Ef.forEach(SE)}function Ku(t,e){t.blockedOn===e&&(t.blockedOn=null,tS||(tS=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,SW)))}function Df(t){function e(a){return Ku(a,t)}if(0<Oh.length){Ku(Oh[0],t);for(var r=1;r<Oh.length;r++){var n=Oh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(xo!==null&&Ku(xo,t),vo!==null&&Ku(vo,t),jo!==null&&Ku(jo,t),Pf.forEach(e),Ef.forEach(e),r=0;r<io.length;r++)n=io[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<io.length&&(r=io[0],r.blockedOn===null);)mB(r),r.blockedOn===null&&io.shift()}var gc=Vs.ReactCurrentBatchConfig,ix=!0;function AW(t,e,r,n){var a=ht,s=gc.transition;gc.transition=null;try{ht=1,tT(t,e,r,n)}finally{ht=a,gc.transition=s}}function IW(t,e,r,n){var a=ht,s=gc.transition;gc.transition=null;try{ht=4,tT(t,e,r,n)}finally{ht=a,gc.transition=s}}function tT(t,e,r,n){if(ix){var a=rS(t,e,r,n);if(a===null)pN(t,e,n,lx,r),CE(t,n);else if(CW(a,t,e,r,n))n.stopPropagation();else if(CE(t,n),e&4&&-1<NW.indexOf(t)){for(;a!==null;){var s=Ym(a);if(s!==null&&cB(s),s=rS(t,e,r,n),s===null&&pN(t,e,n,lx,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else pN(t,e,n,null,r)}}var lx=null;function rS(t,e,r,n){if(lx=null,t=Xk(n),t=Ti(t),t!==null)if(e=Cl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=tB(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lx=t,null}function hB(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hW()){case Qk:return 1;case sB:return 4;case sx:case pW:return 16;case oB:return 536870912;default:return 16}default:return 16}}var uo=null,rT=null,Bp=null;function pB(){if(Bp)return Bp;var t,e=rT,r=e.length,n,a="value"in uo?uo.value:uo.textContent,s=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[s-n];n++);return Bp=a.slice(t,1<n?1-n:void 0)}function qp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _h(){return!0}function AE(){return!1}function Ln(t){function e(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_h:AE,this.isPropagationStopped=AE,this}return Wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_h)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_h)},persist:function(){},isPersistent:_h}),e}var ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nT=Ln(ju),Gm=Wt({},ju,{view:0,detail:0}),kW=Ln(Gm),oN,iN,Ju,tv=Wt({},Gm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ju&&(Ju&&t.type==="mousemove"?(oN=t.screenX-Ju.screenX,iN=t.screenY-Ju.screenY):iN=oN=0,Ju=t),oN)},movementY:function(t){return"movementY"in t?t.movementY:iN}}),IE=Ln(tv),TW=Wt({},tv,{dataTransfer:0}),PW=Ln(TW),EW=Wt({},Gm,{relatedTarget:0}),lN=Ln(EW),DW=Wt({},ju,{animationName:0,elapsedTime:0,pseudoElement:0}),OW=Ln(DW),_W=Wt({},ju,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RW=Ln(_W),$W=Wt({},ju,{data:0}),kE=Ln($W),MW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FW[t])?!!e[t]:!1}function aT(){return BW}var qW=Wt({},Gm,{key:function(t){if(t.key){var e=MW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aT,charCode:function(t){return t.type==="keypress"?qp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VW=Ln(qW),UW=Wt({},tv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TE=Ln(UW),zW=Wt({},Gm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aT}),WW=Ln(zW),HW=Wt({},ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),GW=Ln(HW),YW=Wt({},tv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KW=Ln(YW),JW=[9,13,27,32],sT=Ts&&"CompositionEvent"in window,Ud=null;Ts&&"documentMode"in document&&(Ud=document.documentMode);var XW=Ts&&"TextEvent"in window&&!Ud,gB=Ts&&(!sT||Ud&&8<Ud&&11>=Ud),PE=" ",EE=!1;function yB(t,e){switch(t){case"keyup":return JW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bB(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ql=!1;function QW(t,e){switch(t){case"compositionend":return bB(e);case"keypress":return e.which!==32?null:(EE=!0,PE);case"textInput":return t=e.data,t===PE&&EE?null:t;default:return null}}function ZW(t,e){if(Ql)return t==="compositionend"||!sT&&yB(t,e)?(t=pB(),Bp=rT=uo=null,Ql=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gB&&e.locale!=="ko"?null:e.data;default:return null}}var eH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eH[t.type]:e==="textarea"}function xB(t,e,r,n){J5(n),e=cx(e,"onChange"),0<e.length&&(r=new nT("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var zd=null,Of=null;function tH(t){PB(t,0)}function rv(t){var e=tc(t);if(U5(e))return t}function rH(t,e){if(t==="change")return e}var vB=!1;if(Ts){var cN;if(Ts){var uN="oninput"in document;if(!uN){var OE=document.createElement("div");OE.setAttribute("oninput","return;"),uN=typeof OE.oninput=="function"}cN=uN}else cN=!1;vB=cN&&(!document.documentMode||9<document.documentMode)}function _E(){zd&&(zd.detachEvent("onpropertychange",jB),Of=zd=null)}function jB(t){if(t.propertyName==="value"&&rv(Of)){var e=[];xB(e,Of,t,Xk(t)),eB(tH,e)}}function nH(t,e,r){t==="focusin"?(_E(),zd=e,Of=r,zd.attachEvent("onpropertychange",jB)):t==="focusout"&&_E()}function aH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rv(Of)}function sH(t,e){if(t==="click")return rv(e)}function oH(t,e){if(t==="input"||t==="change")return rv(e)}function iH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wa=typeof Object.is=="function"?Object.is:iH;function _f(t,e){if(wa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!LC.call(e,a)||!wa(t[a],e[a]))return!1}return!0}function RE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $E(t,e){var r=RE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=RE(r)}}function wB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NB(){for(var t=window,e=rx();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=rx(t.document)}return e}function oT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lH(t){var e=NB(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&wB(r.ownerDocument.documentElement,r)){if(n!==null&&oT(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!t.extend&&s>n&&(a=n,n=s,s=a),a=$E(r,s);var i=$E(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cH=Ts&&"documentMode"in document&&11>=document.documentMode,Zl=null,nS=null,Wd=null,aS=!1;function ME(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;aS||Zl==null||Zl!==rx(n)||(n=Zl,"selectionStart"in n&&oT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wd&&_f(Wd,n)||(Wd=n,n=cx(nS,"onSelect"),0<n.length&&(e=new nT("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Zl)))}function Rh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ec={animationend:Rh("Animation","AnimationEnd"),animationiteration:Rh("Animation","AnimationIteration"),animationstart:Rh("Animation","AnimationStart"),transitionend:Rh("Transition","TransitionEnd")},dN={},CB={};Ts&&(CB=document.createElement("div").style,"AnimationEvent"in window||(delete ec.animationend.animation,delete ec.animationiteration.animation,delete ec.animationstart.animation),"TransitionEvent"in window||delete ec.transitionend.transition);function nv(t){if(dN[t])return dN[t];if(!ec[t])return t;var e=ec[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in CB)return dN[t]=e[r];return t}var SB=nv("animationend"),AB=nv("animationiteration"),IB=nv("animationstart"),kB=nv("transitionend"),TB=new Map,LE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Go(t,e){TB.set(t,e),Nl(e,[t])}for(var fN=0;fN<LE.length;fN++){var mN=LE[fN],uH=mN.toLowerCase(),dH=mN[0].toUpperCase()+mN.slice(1);Go(uH,"on"+dH)}Go(SB,"onAnimationEnd");Go(AB,"onAnimationIteration");Go(IB,"onAnimationStart");Go("dblclick","onDoubleClick");Go("focusin","onFocus");Go("focusout","onBlur");Go(kB,"onTransitionEnd");Lc("onMouseEnter",["mouseout","mouseover"]);Lc("onMouseLeave",["mouseout","mouseover"]);Lc("onPointerEnter",["pointerout","pointerover"]);Lc("onPointerLeave",["pointerout","pointerover"]);Nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fH=new Set("cancel close invalid load scroll toggle".split(" ").concat(kd));function FE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,uW(n,e,void 0,t),t.currentTarget=null}function PB(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;FE(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;FE(a,l,u),s=c}}}if(ax)throw t=ZC,ax=!1,ZC=null,t}function Pt(t,e){var r=e[cS];r===void 0&&(r=e[cS]=new Set);var n=t+"__bubble";r.has(n)||(EB(e,t,2,!1),r.add(n))}function hN(t,e,r){var n=0;e&&(n|=4),EB(r,t,n,e)}var $h="_reactListening"+Math.random().toString(36).slice(2);function Rf(t){if(!t[$h]){t[$h]=!0,L5.forEach(function(r){r!=="selectionchange"&&(fH.has(r)||hN(r,!1,t),hN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$h]||(e[$h]=!0,hN("selectionchange",!1,e))}}function EB(t,e,r,n){switch(hB(e)){case 1:var a=AW;break;case 4:a=IW;break;default:a=tT}r=a.bind(null,e,r,t),a=void 0,!QC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function pN(t,e,r,n,a){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Ti(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}eB(function(){var u=s,d=Xk(r),f=[];e:{var m=TB.get(t);if(m!==void 0){var h=nT,y=t;switch(t){case"keypress":if(qp(r)===0)break e;case"keydown":case"keyup":h=VW;break;case"focusin":y="focus",h=lN;break;case"focusout":y="blur",h=lN;break;case"beforeblur":case"afterblur":h=lN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=IE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=PW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=WW;break;case SB:case AB:case IB:h=OW;break;case kB:h=GW;break;case"scroll":h=kW;break;case"wheel":h=KW;break;case"copy":case"cut":case"paste":h=RW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=TE}var p=(e&4)!==0,b=!p&&t==="scroll",g=p?m!==null?m+"Capture":null:m;p=[];for(var v=u,j;v!==null;){j=v;var C=j.stateNode;if(j.tag===5&&C!==null&&(j=C,g!==null&&(C=Tf(v,g),C!=null&&p.push($f(v,C,j)))),b)break;v=v.return}0<p.length&&(m=new h(m,y,null,r,d),f.push({event:m,listeners:p}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&r!==JC&&(y=r.relatedTarget||r.fromElement)&&(Ti(y)||y[Ps]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=u,y=y?Ti(y):null,y!==null&&(b=Cl(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(p=IE,C="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(p=TE,C="onPointerLeave",g="onPointerEnter",v="pointer"),b=h==null?m:tc(h),j=y==null?m:tc(y),m=new p(C,v+"leave",h,r,d),m.target=b,m.relatedTarget=j,C=null,Ti(d)===u&&(p=new p(g,v+"enter",y,r,d),p.target=j,p.relatedTarget=b,C=p),b=C,h&&y)t:{for(p=h,g=y,v=0,j=p;j;j=Ll(j))v++;for(j=0,C=g;C;C=Ll(C))j++;for(;0<v-j;)p=Ll(p),v--;for(;0<j-v;)g=Ll(g),j--;for(;v--;){if(p===g||g!==null&&p===g.alternate)break t;p=Ll(p),g=Ll(g)}p=null}else p=null;h!==null&&BE(f,m,h,p,!1),y!==null&&b!==null&&BE(f,b,y,p,!0)}}e:{if(m=u?tc(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var x=rH;else if(DE(m))if(vB)x=oH;else{x=aH;var N=nH}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=sH);if(x&&(x=x(t,u))){xB(f,x,r,d);break e}N&&N(t,m,u),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&WC(m,"number",m.value)}switch(N=u?tc(u):window,t){case"focusin":(DE(N)||N.contentEditable==="true")&&(Zl=N,nS=u,Wd=null);break;case"focusout":Wd=nS=Zl=null;break;case"mousedown":aS=!0;break;case"contextmenu":case"mouseup":case"dragend":aS=!1,ME(f,r,d);break;case"selectionchange":if(cH)break;case"keydown":case"keyup":ME(f,r,d)}var S;if(sT)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ql?yB(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(gB&&r.locale!=="ko"&&(Ql||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ql&&(S=pB()):(uo=d,rT="value"in uo?uo.value:uo.textContent,Ql=!0)),N=cx(u,A),0<N.length&&(A=new kE(A,t,null,r,d),f.push({event:A,listeners:N}),S?A.data=S:(S=bB(r),S!==null&&(A.data=S)))),(S=XW?QW(t,r):ZW(t,r))&&(u=cx(u,"onBeforeInput"),0<u.length&&(d=new kE("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}PB(f,e)})}function $f(t,e,r){return{instance:t,listener:e,currentTarget:r}}function cx(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Tf(t,r),s!=null&&n.unshift($f(t,s,a)),s=Tf(t,e),s!=null&&n.push($f(t,s,a))),t=t.return}return n}function Ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function BE(t,e,r,n,a){for(var s=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Tf(r,s),c!=null&&i.unshift($f(r,c,l))):a||(c=Tf(r,s),c!=null&&i.push($f(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var mH=/\r\n?/g,hH=/\u0000|\uFFFD/g;function qE(t){return(typeof t=="string"?t:""+t).replace(mH,`
`).replace(hH,"")}function Mh(t,e,r){if(e=qE(e),qE(t)!==e&&r)throw Error(pe(425))}function ux(){}var sS=null,oS=null;function iS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lS=typeof setTimeout=="function"?setTimeout:void 0,pH=typeof clearTimeout=="function"?clearTimeout:void 0,VE=typeof Promise=="function"?Promise:void 0,gH=typeof queueMicrotask=="function"?queueMicrotask:typeof VE<"u"?function(t){return VE.resolve(null).then(t).catch(yH)}:lS;function yH(t){setTimeout(function(){throw t})}function gN(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Df(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Df(e)}function wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function UE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var wu=Math.random().toString(36).slice(2),Ra="__reactFiber$"+wu,Mf="__reactProps$"+wu,Ps="__reactContainer$"+wu,cS="__reactEvents$"+wu,bH="__reactListeners$"+wu,xH="__reactHandles$"+wu;function Ti(t){var e=t[Ra];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ps]||r[Ra]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=UE(t);t!==null;){if(r=t[Ra])return r;t=UE(t)}return e}t=r,r=t.parentNode}return null}function Ym(t){return t=t[Ra]||t[Ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function av(t){return t[Mf]||null}var uS=[],rc=-1;function Yo(t){return{current:t}}function _t(t){0>rc||(t.current=uS[rc],uS[rc]=null,rc--)}function It(t,e){rc++,uS[rc]=t.current,t.current=e}var Bo={},Vr=Yo(Bo),ln=Yo(!1),ll=Bo;function Fc(t,e){var r=t.type.contextTypes;if(!r)return Bo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function cn(t){return t=t.childContextTypes,t!=null}function dx(){_t(ln),_t(Vr)}function zE(t,e,r){if(Vr.current!==Bo)throw Error(pe(168));It(Vr,e),It(ln,r)}function DB(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(pe(108,nW(t)||"Unknown",a));return Wt({},r,n)}function fx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bo,ll=Vr.current,It(Vr,t),It(ln,ln.current),!0}function WE(t,e,r){var n=t.stateNode;if(!n)throw Error(pe(169));r?(t=DB(t,e,ll),n.__reactInternalMemoizedMergedChildContext=t,_t(ln),_t(Vr),It(Vr,t)):_t(ln),It(ln,r)}var cs=null,sv=!1,yN=!1;function OB(t){cs===null?cs=[t]:cs.push(t)}function vH(t){sv=!0,OB(t)}function Ko(){if(!yN&&cs!==null){yN=!0;var t=0,e=ht;try{var r=cs;for(ht=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}cs=null,sv=!1}catch(a){throw cs!==null&&(cs=cs.slice(t+1)),aB(Qk,Ko),a}finally{ht=e,yN=!1}}return null}var nc=[],ac=0,mx=null,hx=0,Hn=[],Gn=0,cl=null,ms=1,hs="";function xi(t,e){nc[ac++]=hx,nc[ac++]=mx,mx=t,hx=e}function _B(t,e,r){Hn[Gn++]=ms,Hn[Gn++]=hs,Hn[Gn++]=cl,cl=t;var n=ms;t=hs;var a=32-ga(n)-1;n&=~(1<<a),r+=1;var s=32-ga(e)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ms=1<<32-ga(e)+a|r<<a|n,hs=s+t}else ms=1<<s|r<<a|n,hs=t}function iT(t){t.return!==null&&(xi(t,1),_B(t,1,0))}function lT(t){for(;t===mx;)mx=nc[--ac],nc[ac]=null,hx=nc[--ac],nc[ac]=null;for(;t===cl;)cl=Hn[--Gn],Hn[Gn]=null,hs=Hn[--Gn],Hn[Gn]=null,ms=Hn[--Gn],Hn[Gn]=null}var Tn=null,An=null,Mt=!1,da=null;function RB(t,e){var r=Kn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function HE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,An=wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=cl!==null?{id:ms,overflow:hs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Kn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Tn=t,An=null,!0):!1;default:return!1}}function dS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fS(t){if(Mt){var e=An;if(e){var r=e;if(!HE(t,e)){if(dS(t))throw Error(pe(418));e=wo(r.nextSibling);var n=Tn;e&&HE(t,e)?RB(n,r):(t.flags=t.flags&-4097|2,Mt=!1,Tn=t)}}else{if(dS(t))throw Error(pe(418));t.flags=t.flags&-4097|2,Mt=!1,Tn=t}}}function GE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function Lh(t){if(t!==Tn)return!1;if(!Mt)return GE(t),Mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!iS(t.type,t.memoizedProps)),e&&(e=An)){if(dS(t))throw $B(),Error(pe(418));for(;e;)RB(t,e),e=wo(e.nextSibling)}if(GE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){An=wo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}An=null}}else An=Tn?wo(t.stateNode.nextSibling):null;return!0}function $B(){for(var t=An;t;)t=wo(t.nextSibling)}function Bc(){An=Tn=null,Mt=!1}function cT(t){da===null?da=[t]:da.push(t)}var jH=Vs.ReactCurrentBatchConfig;function Xu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,t));var a=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,t))}return t}function Fh(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function YE(t){var e=t._init;return e(t._payload)}function MB(t){function e(g,v){if(t){var j=g.deletions;j===null?(g.deletions=[v],g.flags|=16):j.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function a(g,v){return g=Ao(g,v),g.index=0,g.sibling=null,g}function s(g,v,j){return g.index=j,t?(j=g.alternate,j!==null?(j=j.index,j<v?(g.flags|=2,v):j):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,v,j,C){return v===null||v.tag!==6?(v=CN(j,g.mode,C),v.return=g,v):(v=a(v,j),v.return=g,v)}function c(g,v,j,C){var x=j.type;return x===Xl?d(g,v,j.props.children,C,j.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ro&&YE(x)===v.type)?(C=a(v,j.props),C.ref=Xu(g,v,j),C.return=g,C):(C=Yp(j.type,j.key,j.props,null,g.mode,C),C.ref=Xu(g,v,j),C.return=g,C)}function u(g,v,j,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=SN(j,g.mode,C),v.return=g,v):(v=a(v,j.children||[]),v.return=g,v)}function d(g,v,j,C,x){return v===null||v.tag!==7?(v=zi(j,g.mode,C,x),v.return=g,v):(v=a(v,j),v.return=g,v)}function f(g,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=CN(""+v,g.mode,j),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case kh:return j=Yp(v.type,v.key,v.props,null,g.mode,j),j.ref=Xu(g,null,v),j.return=g,j;case Jl:return v=SN(v,g.mode,j),v.return=g,v;case ro:var C=v._init;return f(g,C(v._payload),j)}if(Ad(v)||Hu(v))return v=zi(v,g.mode,j,null),v.return=g,v;Fh(g,v)}return null}function m(g,v,j,C){var x=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return x!==null?null:l(g,v,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case kh:return j.key===x?c(g,v,j,C):null;case Jl:return j.key===x?u(g,v,j,C):null;case ro:return x=j._init,m(g,v,x(j._payload),C)}if(Ad(j)||Hu(j))return x!==null?null:d(g,v,j,C,null);Fh(g,j)}return null}function h(g,v,j,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(j)||null,l(v,g,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case kh:return g=g.get(C.key===null?j:C.key)||null,c(v,g,C,x);case Jl:return g=g.get(C.key===null?j:C.key)||null,u(v,g,C,x);case ro:var N=C._init;return h(g,v,j,N(C._payload),x)}if(Ad(C)||Hu(C))return g=g.get(j)||null,d(v,g,C,x,null);Fh(v,C)}return null}function y(g,v,j,C){for(var x=null,N=null,S=v,A=v=0,I=null;S!==null&&A<j.length;A++){S.index>A?(I=S,S=null):I=S.sibling;var T=m(g,S,j[A],C);if(T===null){S===null&&(S=I);break}t&&S&&T.alternate===null&&e(g,S),v=s(T,v,A),N===null?x=T:N.sibling=T,N=T,S=I}if(A===j.length)return r(g,S),Mt&&xi(g,A),x;if(S===null){for(;A<j.length;A++)S=f(g,j[A],C),S!==null&&(v=s(S,v,A),N===null?x=S:N.sibling=S,N=S);return Mt&&xi(g,A),x}for(S=n(g,S);A<j.length;A++)I=h(S,g,A,j[A],C),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?A:I.key),v=s(I,v,A),N===null?x=I:N.sibling=I,N=I);return t&&S.forEach(function(E){return e(g,E)}),Mt&&xi(g,A),x}function p(g,v,j,C){var x=Hu(j);if(typeof x!="function")throw Error(pe(150));if(j=x.call(j),j==null)throw Error(pe(151));for(var N=x=null,S=v,A=v=0,I=null,T=j.next();S!==null&&!T.done;A++,T=j.next()){S.index>A?(I=S,S=null):I=S.sibling;var E=m(g,S,T.value,C);if(E===null){S===null&&(S=I);break}t&&S&&E.alternate===null&&e(g,S),v=s(E,v,A),N===null?x=E:N.sibling=E,N=E,S=I}if(T.done)return r(g,S),Mt&&xi(g,A),x;if(S===null){for(;!T.done;A++,T=j.next())T=f(g,T.value,C),T!==null&&(v=s(T,v,A),N===null?x=T:N.sibling=T,N=T);return Mt&&xi(g,A),x}for(S=n(g,S);!T.done;A++,T=j.next())T=h(S,g,A,T.value,C),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?A:T.key),v=s(T,v,A),N===null?x=T:N.sibling=T,N=T);return t&&S.forEach(function(R){return e(g,R)}),Mt&&xi(g,A),x}function b(g,v,j,C){if(typeof j=="object"&&j!==null&&j.type===Xl&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case kh:e:{for(var x=j.key,N=v;N!==null;){if(N.key===x){if(x=j.type,x===Xl){if(N.tag===7){r(g,N.sibling),v=a(N,j.props.children),v.return=g,g=v;break e}}else if(N.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ro&&YE(x)===N.type){r(g,N.sibling),v=a(N,j.props),v.ref=Xu(g,N,j),v.return=g,g=v;break e}r(g,N);break}else e(g,N);N=N.sibling}j.type===Xl?(v=zi(j.props.children,g.mode,C,j.key),v.return=g,g=v):(C=Yp(j.type,j.key,j.props,null,g.mode,C),C.ref=Xu(g,v,j),C.return=g,g=C)}return i(g);case Jl:e:{for(N=j.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){r(g,v.sibling),v=a(v,j.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=SN(j,g.mode,C),v.return=g,g=v}return i(g);case ro:return N=j._init,b(g,v,N(j._payload),C)}if(Ad(j))return y(g,v,j,C);if(Hu(j))return p(g,v,j,C);Fh(g,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(r(g,v.sibling),v=a(v,j),v.return=g,g=v):(r(g,v),v=CN(j,g.mode,C),v.return=g,g=v),i(g)):r(g,v)}return b}var qc=MB(!0),LB=MB(!1),px=Yo(null),gx=null,sc=null,uT=null;function dT(){uT=sc=gx=null}function fT(t){var e=px.current;_t(px),t._currentValue=e}function mS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yc(t,e){gx=t,uT=sc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function ea(t){var e=t._currentValue;if(uT!==t)if(t={context:t,memoizedValue:e,next:null},sc===null){if(gx===null)throw Error(pe(308));sc=t,gx.dependencies={lanes:0,firstContext:t}}else sc=sc.next=t;return e}var Pi=null;function mT(t){Pi===null?Pi=[t]:Pi.push(t)}function FB(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,mT(e)):(r.next=a.next,a.next=r),e.interleaved=r,Es(t,n)}function Es(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var no=!1;function hT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function No(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,et&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Es(t,r)}return a=n.interleaved,a===null?(e.next=e,mT(n)):(e.next=a.next,a.next=e),n.interleaved=e,Es(t,r)}function Vp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Zk(t,r)}}function KE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=e:s=s.next=e}else a=s=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function yx(t,e,r,n){var a=t.updateQueue;no=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,p=l;switch(m=e,h=r,p.tag){case 1:if(y=p.payload,typeof y=="function"){f=y.call(h,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,m=typeof y=="function"?y.call(h,f,m):y,m==null)break e;f=Wt({},f,m);break e;case 2:no=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else s===null&&(a.shared.lanes=0);dl|=i,t.lanes=i,t.memoizedState=f}}function JE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(pe(191,a));a.call(n)}}}var Km={},Fa=Yo(Km),Lf=Yo(Km),Ff=Yo(Km);function Ei(t){if(t===Km)throw Error(pe(174));return t}function pT(t,e){switch(It(Ff,e),It(Lf,t),It(Fa,Km),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:GC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=GC(e,t)}_t(Fa),It(Fa,e)}function Vc(){_t(Fa),_t(Lf),_t(Ff)}function qB(t){Ei(Ff.current);var e=Ei(Fa.current),r=GC(e,t.type);e!==r&&(It(Lf,t),It(Fa,r))}function gT(t){Lf.current===t&&(_t(Fa),_t(Lf))}var Vt=Yo(0);function bx(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bN=[];function yT(){for(var t=0;t<bN.length;t++)bN[t]._workInProgressVersionPrimary=null;bN.length=0}var Up=Vs.ReactCurrentDispatcher,xN=Vs.ReactCurrentBatchConfig,ul=0,Ut=null,mr=null,xr=null,xx=!1,Hd=!1,Bf=0,wH=0;function Or(){throw Error(pe(321))}function bT(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!wa(t[r],e[r]))return!1;return!0}function xT(t,e,r,n,a,s){if(ul=s,Ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Up.current=t===null||t.memoizedState===null?AH:IH,t=r(n,a),Hd){s=0;do{if(Hd=!1,Bf=0,25<=s)throw Error(pe(301));s+=1,xr=mr=null,e.updateQueue=null,Up.current=kH,t=r(n,a)}while(Hd)}if(Up.current=vx,e=mr!==null&&mr.next!==null,ul=0,xr=mr=Ut=null,xx=!1,e)throw Error(pe(300));return t}function vT(){var t=Bf!==0;return Bf=0,t}function Pa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?Ut.memoizedState=xr=t:xr=xr.next=t,xr}function ta(){if(mr===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=mr.next;var e=xr===null?Ut.memoizedState:xr.next;if(e!==null)xr=e,mr=t;else{if(t===null)throw Error(pe(310));mr=t,t={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},xr===null?Ut.memoizedState=xr=t:xr=xr.next=t}return xr}function qf(t,e){return typeof e=="function"?e(t):e}function vN(t){var e=ta(),r=e.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=t;var n=mr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((ul&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Ut.lanes|=d,dl|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,wa(n,e.memoizedState)||(an=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do s=a.lane,Ut.lanes|=s,dl|=s,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function jN(t){var e=ta(),r=e.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,s=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=t(s,i.action),i=i.next;while(i!==a);wa(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function VB(){}function UB(t,e){var r=Ut,n=ta(),a=e(),s=!wa(n.memoizedState,a);if(s&&(n.memoizedState=a,an=!0),n=n.queue,jT(HB.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||xr!==null&&xr.memoizedState.tag&1){if(r.flags|=2048,Vf(9,WB.bind(null,r,n,a,e),void 0,null),jr===null)throw Error(pe(349));ul&30||zB(r,e,a)}return a}function zB(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function WB(t,e,r,n){e.value=r,e.getSnapshot=n,GB(e)&&YB(t)}function HB(t,e,r){return r(function(){GB(e)&&YB(t)})}function GB(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!wa(t,r)}catch{return!0}}function YB(t){var e=Es(t,1);e!==null&&ya(e,t,1,-1)}function XE(t){var e=Pa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qf,lastRenderedState:t},e.queue=t,t=t.dispatch=SH.bind(null,Ut,t),[e.memoizedState,t]}function Vf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function KB(){return ta().memoizedState}function zp(t,e,r,n){var a=Pa();Ut.flags|=t,a.memoizedState=Vf(1|e,r,void 0,n===void 0?null:n)}function ov(t,e,r,n){var a=ta();n=n===void 0?null:n;var s=void 0;if(mr!==null){var i=mr.memoizedState;if(s=i.destroy,n!==null&&bT(n,i.deps)){a.memoizedState=Vf(e,r,s,n);return}}Ut.flags|=t,a.memoizedState=Vf(1|e,r,s,n)}function QE(t,e){return zp(8390656,8,t,e)}function jT(t,e){return ov(2048,8,t,e)}function JB(t,e){return ov(4,2,t,e)}function XB(t,e){return ov(4,4,t,e)}function QB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZB(t,e,r){return r=r!=null?r.concat([t]):null,ov(4,4,QB.bind(null,e,t),r)}function wT(){}function e4(t,e){var r=ta();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bT(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function t4(t,e){var r=ta();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bT(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function r4(t,e,r){return ul&21?(wa(r,e)||(r=iB(),Ut.lanes|=r,dl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=r)}function NH(t,e){var r=ht;ht=r!==0&&4>r?r:4,t(!0);var n=xN.transition;xN.transition={};try{t(!1),e()}finally{ht=r,xN.transition=n}}function n4(){return ta().memoizedState}function CH(t,e,r){var n=So(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},a4(t))s4(e,r);else if(r=FB(t,e,r,n),r!==null){var a=Kr();ya(r,t,n,a),o4(r,e,n)}}function SH(t,e,r){var n=So(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(a4(t))s4(e,a);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,wa(l,i)){var c=e.interleaved;c===null?(a.next=a,mT(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=FB(t,e,a,n),r!==null&&(a=Kr(),ya(r,t,n,a),o4(r,e,n))}}function a4(t){var e=t.alternate;return t===Ut||e!==null&&e===Ut}function s4(t,e){Hd=xx=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function o4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Zk(t,r)}}var vx={readContext:ea,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},AH={readContext:ea,useCallback:function(t,e){return Pa().memoizedState=[t,e===void 0?null:e],t},useContext:ea,useEffect:QE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,zp(4194308,4,QB.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zp(4194308,4,t,e)},useInsertionEffect:function(t,e){return zp(4,2,t,e)},useMemo:function(t,e){var r=Pa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Pa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=CH.bind(null,Ut,t),[n.memoizedState,t]},useRef:function(t){var e=Pa();return t={current:t},e.memoizedState=t},useState:XE,useDebugValue:wT,useDeferredValue:function(t){return Pa().memoizedState=t},useTransition:function(){var t=XE(!1),e=t[0];return t=NH.bind(null,t[1]),Pa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ut,a=Pa();if(Mt){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=e(),jr===null)throw Error(pe(349));ul&30||zB(n,e,r)}a.memoizedState=r;var s={value:r,getSnapshot:e};return a.queue=s,QE(HB.bind(null,n,s,t),[t]),n.flags|=2048,Vf(9,WB.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Pa(),e=jr.identifierPrefix;if(Mt){var r=hs,n=ms;r=(n&~(1<<32-ga(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Bf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=wH++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IH={readContext:ea,useCallback:e4,useContext:ea,useEffect:jT,useImperativeHandle:ZB,useInsertionEffect:JB,useLayoutEffect:XB,useMemo:t4,useReducer:vN,useRef:KB,useState:function(){return vN(qf)},useDebugValue:wT,useDeferredValue:function(t){var e=ta();return r4(e,mr.memoizedState,t)},useTransition:function(){var t=vN(qf)[0],e=ta().memoizedState;return[t,e]},useMutableSource:VB,useSyncExternalStore:UB,useId:n4,unstable_isNewReconciler:!1},kH={readContext:ea,useCallback:e4,useContext:ea,useEffect:jT,useImperativeHandle:ZB,useInsertionEffect:JB,useLayoutEffect:XB,useMemo:t4,useReducer:jN,useRef:KB,useState:function(){return jN(qf)},useDebugValue:wT,useDeferredValue:function(t){var e=ta();return mr===null?e.memoizedState=t:r4(e,mr.memoizedState,t)},useTransition:function(){var t=jN(qf)[0],e=ta().memoizedState;return[t,e]},useMutableSource:VB,useSyncExternalStore:UB,useId:n4,unstable_isNewReconciler:!1};function ca(t,e){if(t&&t.defaultProps){e=Wt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function hS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Wt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var iv={isMounted:function(t){return(t=t._reactInternals)?Cl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Kr(),a=So(t),s=js(n,a);s.payload=e,r!=null&&(s.callback=r),e=No(t,s,a),e!==null&&(ya(e,t,a,n),Vp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Kr(),a=So(t),s=js(n,a);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=No(t,s,a),e!==null&&(ya(e,t,a,n),Vp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Kr(),n=So(t),a=js(r,n);a.tag=2,e!=null&&(a.callback=e),e=No(t,a,n),e!==null&&(ya(e,t,n,r),Vp(e,t,n))}};function ZE(t,e,r,n,a,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!_f(r,n)||!_f(a,s):!0}function i4(t,e,r){var n=!1,a=Bo,s=e.contextType;return typeof s=="object"&&s!==null?s=ea(s):(a=cn(e)?ll:Vr.current,n=e.contextTypes,s=(n=n!=null)?Fc(t,a):Bo),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=iv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=s),e}function eD(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&iv.enqueueReplaceState(e,e.state,null)}function pS(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},hT(t);var s=e.contextType;typeof s=="object"&&s!==null?a.context=ea(s):(s=cn(e)?ll:Vr.current,a.context=Fc(t,s)),a.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hS(t,e,s,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&iv.enqueueReplaceState(a,a.state,null),yx(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Uc(t,e){try{var r="",n=e;do r+=rW(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:a,digest:null}}function wN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function gS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var TH=typeof WeakMap=="function"?WeakMap:Map;function l4(t,e,r){r=js(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){wx||(wx=!0,AS=n),gS(t,e)},r}function c4(t,e,r){r=js(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){gS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){gS(t,e),typeof n!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function tD(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new TH;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=UH.bind(null,t,e,r),e.then(t,t))}function rD(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nD(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=js(-1,1),e.tag=2,No(r,e,1))),r.lanes|=1),t)}var PH=Vs.ReactCurrentOwner,an=!1;function zr(t,e,r,n){e.child=t===null?LB(e,null,r,n):qc(e,t.child,r,n)}function aD(t,e,r,n,a){r=r.render;var s=e.ref;return yc(e,a),n=xT(t,e,r,n,s,a),r=vT(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ds(t,e,a)):(Mt&&r&&iT(e),e.flags|=1,zr(t,e,n,a),e.child)}function sD(t,e,r,n,a){if(t===null){var s=r.type;return typeof s=="function"&&!PT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,u4(t,e,s,n,a)):(t=Yp(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:_f,r(i,n)&&t.ref===e.ref)return Ds(t,e,a)}return e.flags|=1,t=Ao(s,n),t.ref=e.ref,t.return=e,e.child=t}function u4(t,e,r,n,a){if(t!==null){var s=t.memoizedProps;if(_f(s,n)&&t.ref===e.ref)if(an=!1,e.pendingProps=n=s,(t.lanes&a)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Ds(t,e,a)}return yS(t,e,r,n,a)}function d4(t,e,r){var n=e.pendingProps,a=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(ic,Nn),Nn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,It(ic,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,It(ic,Nn),Nn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,It(ic,Nn),Nn|=n;return zr(t,e,a,r),e.child}function f4(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function yS(t,e,r,n,a){var s=cn(r)?ll:Vr.current;return s=Fc(e,s),yc(e,a),r=xT(t,e,r,n,s,a),n=vT(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ds(t,e,a)):(Mt&&n&&iT(e),e.flags|=1,zr(t,e,r,a),e.child)}function oD(t,e,r,n,a){if(cn(r)){var s=!0;fx(e)}else s=!1;if(yc(e,a),e.stateNode===null)Wp(t,e),i4(e,r,n),pS(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=ea(u):(u=cn(r)?ll:Vr.current,u=Fc(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&eD(e,i,n,u),no=!1;var m=e.memoizedState;i.state=m,yx(e,n,i,a),c=e.memoizedState,l!==n||m!==c||ln.current||no?(typeof d=="function"&&(hS(e,r,d,n),c=e.memoizedState),(l=no||ZE(e,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,BB(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ca(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=ea(c):(c=cn(r)?ll:Vr.current,c=Fc(e,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&eD(e,i,n,c),no=!1,m=e.memoizedState,i.state=m,yx(e,n,i,a);var y=e.memoizedState;l!==f||m!==y||ln.current||no?(typeof h=="function"&&(hS(e,r,h,n),y=e.memoizedState),(u=no||ZE(e,r,u,n,m,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),i.props=n,i.state=y,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return bS(t,e,r,n,s,a)}function bS(t,e,r,n,a,s){f4(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&WE(e,r,!1),Ds(t,e,s);n=e.stateNode,PH.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=qc(e,t.child,null,s),e.child=qc(e,null,l,s)):zr(t,e,l,s),e.memoizedState=n.state,a&&WE(e,r,!0),e.child}function m4(t){var e=t.stateNode;e.pendingContext?zE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zE(t,e.context,!1),pT(t,e.containerInfo)}function iD(t,e,r,n,a){return Bc(),cT(a),e.flags|=256,zr(t,e,r,n),e.child}var xS={dehydrated:null,treeContext:null,retryLane:0};function vS(t){return{baseLanes:t,cachePool:null,transitions:null}}function h4(t,e,r){var n=e.pendingProps,a=Vt.current,s=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),It(Vt,a&1),t===null)return fS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=uv(i,n,0,null),t=zi(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vS(r),e.memoizedState=xS,t):NT(e,i));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return EH(t,e,i,n,l,a,r);if(s){s=n.fallback,i=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ao(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Ao(l,s):(s=zi(s,i,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?vS(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=xS,n}return s=t.child,t=s.sibling,n=Ao(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function NT(t,e){return e=uv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bh(t,e,r,n){return n!==null&&cT(n),qc(e,t.child,null,r),t=NT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EH(t,e,r,n,a,s,i){if(r)return e.flags&256?(e.flags&=-257,n=wN(Error(pe(422))),Bh(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,a=e.mode,n=uv({mode:"visible",children:n.children},a,0,null),s=zi(s,a,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&qc(e,t.child,null,i),e.child.memoizedState=vS(i),e.memoizedState=xS,s);if(!(e.mode&1))return Bh(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(pe(419)),n=wN(s,n,void 0),Bh(t,e,i,n)}if(l=(i&t.childLanes)!==0,an||l){if(n=jr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Es(t,a),ya(n,t,a,-1))}return TT(),n=wN(Error(pe(421))),Bh(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=zH.bind(null,t),a._reactRetry=e,null):(t=s.treeContext,An=wo(a.nextSibling),Tn=e,Mt=!0,da=null,t!==null&&(Hn[Gn++]=ms,Hn[Gn++]=hs,Hn[Gn++]=cl,ms=t.id,hs=t.overflow,cl=e),e=NT(e,n.children),e.flags|=4096,e)}function lD(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),mS(t.return,e,r)}function NN(t,e,r,n,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function p4(t,e,r){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if(zr(t,e,n.children,r),n=Vt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lD(t,r,e);else if(t.tag===19)lD(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(It(Vt,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&bx(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),NN(e,!1,a,r,s);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&bx(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}NN(e,!0,r,null,s);break;case"together":NN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ds(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),dl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,r=Ao(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ao(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function DH(t,e,r){switch(e.tag){case 3:m4(e),Bc();break;case 5:qB(e);break;case 1:cn(e.type)&&fx(e);break;case 4:pT(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;It(px,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(It(Vt,Vt.current&1),e.flags|=128,null):r&e.child.childLanes?h4(t,e,r):(It(Vt,Vt.current&1),t=Ds(t,e,r),t!==null?t.sibling:null);It(Vt,Vt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return p4(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),It(Vt,Vt.current),n)break;return null;case 22:case 23:return e.lanes=0,d4(t,e,r)}return Ds(t,e,r)}var g4,jS,y4,b4;g4=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jS=function(){};y4=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ei(Fa.current);var s=null;switch(r){case"input":a=UC(t,a),n=UC(t,n),s=[];break;case"select":a=Wt({},a,{value:void 0}),n=Wt({},n,{value:void 0}),s=[];break;case"textarea":a=HC(t,a),n=HC(t,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ux)}YC(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(If.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(If.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};b4=function(t,e,r,n){r!==n&&(e.flags|=4)};function Qu(t,e){if(!Mt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function _r(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function OH(t,e,r){var n=e.pendingProps;switch(lT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(e),null;case 1:return cn(e.type)&&dx(),_r(e),null;case 3:return n=e.stateNode,Vc(),_t(ln),_t(Vr),yT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Lh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,da!==null&&(TS(da),da=null))),jS(t,e),_r(e),null;case 5:gT(e);var a=Ei(Ff.current);if(r=e.type,t!==null&&e.stateNode!=null)y4(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(pe(166));return _r(e),null}if(t=Ei(Fa.current),Lh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ra]=e,n[Mf]=s,t=(e.mode&1)!==0,r){case"dialog":Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":case"embed":Pt("load",n);break;case"video":case"audio":for(a=0;a<kd.length;a++)Pt(kd[a],n);break;case"source":Pt("error",n);break;case"img":case"image":case"link":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"input":yE(n,s),Pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Pt("invalid",n);break;case"textarea":xE(n,s),Pt("invalid",n)}YC(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Mh(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Mh(n.textContent,l,t),a=["children",""+l]):If.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Pt("scroll",n)}switch(r){case"input":Th(n),bE(n,s,!0);break;case"textarea":Th(n),vE(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ux)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=H5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Ra]=e,t[Mf]=n,g4(t,e,!1,!1),e.stateNode=t;e:{switch(i=KC(r,n),r){case"dialog":Pt("cancel",t),Pt("close",t),a=n;break;case"iframe":case"object":case"embed":Pt("load",t),a=n;break;case"video":case"audio":for(a=0;a<kd.length;a++)Pt(kd[a],t);a=n;break;case"source":Pt("error",t),a=n;break;case"img":case"image":case"link":Pt("error",t),Pt("load",t),a=n;break;case"details":Pt("toggle",t),a=n;break;case"input":yE(t,n),a=UC(t,n),Pt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Wt({},n,{value:void 0}),Pt("invalid",t);break;case"textarea":xE(t,n),a=HC(t,n),Pt("invalid",t);break;default:a=n}YC(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?K5(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&G5(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&kf(t,c):typeof c=="number"&&kf(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(If.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Pt("scroll",t):c!=null&&Gk(t,s,c,i))}switch(r){case"input":Th(t),bE(t,n,!1);break;case"textarea":Th(t),vE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Fo(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?mc(t,!!n.multiple,s,!1):n.defaultValue!=null&&mc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=ux)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _r(e),null;case 6:if(t&&e.stateNode!=null)b4(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(pe(166));if(r=Ei(Ff.current),Ei(Fa.current),Lh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ra]=e,(s=n.nodeValue!==r)&&(t=Tn,t!==null))switch(t.tag){case 3:Mh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ra]=e,e.stateNode=n}return _r(e),null;case 13:if(_t(Vt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mt&&An!==null&&e.mode&1&&!(e.flags&128))$B(),Bc(),e.flags|=98560,s=!1;else if(s=Lh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[Ra]=e}else Bc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_r(e),s=!1}else da!==null&&(TS(da),da=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Vt.current&1?hr===0&&(hr=3):TT())),e.updateQueue!==null&&(e.flags|=4),_r(e),null);case 4:return Vc(),jS(t,e),t===null&&Rf(e.stateNode.containerInfo),_r(e),null;case 10:return fT(e.type._context),_r(e),null;case 17:return cn(e.type)&&dx(),_r(e),null;case 19:if(_t(Vt),s=e.memoizedState,s===null)return _r(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)Qu(s,!1);else{if(hr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=bx(t),i!==null){for(e.flags|=128,Qu(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return It(Vt,Vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&rr()>zc&&(e.flags|=128,n=!0,Qu(s,!1),e.lanes=4194304)}else{if(!n)if(t=bx(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Qu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Mt)return _r(e),null}else 2*rr()-s.renderingStartTime>zc&&r!==1073741824&&(e.flags|=128,n=!0,Qu(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rr(),e.sibling=null,r=Vt.current,It(Vt,n?r&1|2:r&1),e):(_r(e),null);case 22:case 23:return kT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Nn&1073741824&&(_r(e),e.subtreeFlags&6&&(e.flags|=8192)):_r(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function _H(t,e){switch(lT(e),e.tag){case 1:return cn(e.type)&&dx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vc(),_t(ln),_t(Vr),yT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gT(e),null;case 13:if(_t(Vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));Bc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _t(Vt),null;case 4:return Vc(),null;case 10:return fT(e.type._context),null;case 22:case 23:return kT(),null;case 24:return null;default:return null}}var qh=!1,Fr=!1,RH=typeof WeakSet=="function"?WeakSet:Set,Se=null;function oc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yt(t,e,n)}else r.current=null}function wS(t,e,r){try{r()}catch(n){Yt(t,e,n)}}var cD=!1;function $H(t,e){if(sS=ix,t=NB(),oT(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===t)break t;if(m===r&&++u===a&&(l=i),m===s&&++d===n&&(c=i),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(oS={focusedElem:t,selectionRange:r},ix=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,b=y.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?p:ca(e.type,p),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(C){Yt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return y=cD,cD=!1,y}function Gd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var s=a.destroy;a.destroy=void 0,s!==void 0&&wS(e,r,s)}a=a.next}while(a!==n)}}function lv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function NS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function x4(t){var e=t.alternate;e!==null&&(t.alternate=null,x4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ra],delete e[Mf],delete e[cS],delete e[bH],delete e[xH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function v4(t){return t.tag===5||t.tag===3||t.tag===4}function uD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function CS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ux));else if(n!==4&&(t=t.child,t!==null))for(CS(t,e,r),t=t.sibling;t!==null;)CS(t,e,r),t=t.sibling}function SS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(SS(t,e,r),t=t.sibling;t!==null;)SS(t,e,r),t=t.sibling}var Ar=null,ua=!1;function Qs(t,e,r){for(r=r.child;r!==null;)j4(t,e,r),r=r.sibling}function j4(t,e,r){if(La&&typeof La.onCommitFiberUnmount=="function")try{La.onCommitFiberUnmount(ev,r)}catch{}switch(r.tag){case 5:Fr||oc(r,e);case 6:var n=Ar,a=ua;Ar=null,Qs(t,e,r),Ar=n,ua=a,Ar!==null&&(ua?(t=Ar,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ar.removeChild(r.stateNode));break;case 18:Ar!==null&&(ua?(t=Ar,r=r.stateNode,t.nodeType===8?gN(t.parentNode,r):t.nodeType===1&&gN(t,r),Df(t)):gN(Ar,r.stateNode));break;case 4:n=Ar,a=ua,Ar=r.stateNode.containerInfo,ua=!0,Qs(t,e,r),Ar=n,ua=a;break;case 0:case 11:case 14:case 15:if(!Fr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&wS(r,e,i),a=a.next}while(a!==n)}Qs(t,e,r);break;case 1:if(!Fr&&(oc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Yt(r,e,l)}Qs(t,e,r);break;case 21:Qs(t,e,r);break;case 22:r.mode&1?(Fr=(n=Fr)||r.memoizedState!==null,Qs(t,e,r),Fr=n):Qs(t,e,r);break;default:Qs(t,e,r)}}function dD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new RH),e.forEach(function(n){var a=WH.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ia(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ar=l.stateNode,ua=!1;break e;case 3:Ar=l.stateNode.containerInfo,ua=!0;break e;case 4:Ar=l.stateNode.containerInfo,ua=!0;break e}l=l.return}if(Ar===null)throw Error(pe(160));j4(s,i,a),Ar=null,ua=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Yt(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w4(e,t),e=e.sibling}function w4(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ia(e,t),Ia(t),n&4){try{Gd(3,t,t.return),lv(3,t)}catch(p){Yt(t,t.return,p)}try{Gd(5,t,t.return)}catch(p){Yt(t,t.return,p)}}break;case 1:ia(e,t),Ia(t),n&512&&r!==null&&oc(r,r.return);break;case 5:if(ia(e,t),Ia(t),n&512&&r!==null&&oc(r,r.return),t.flags&32){var a=t.stateNode;try{kf(a,"")}catch(p){Yt(t,t.return,p)}}if(n&4&&(a=t.stateNode,a!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&z5(a,s),KC(l,i);var u=KC(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?K5(a,f):d==="dangerouslySetInnerHTML"?G5(a,f):d==="children"?kf(a,f):Gk(a,d,f,u)}switch(l){case"input":zC(a,s);break;case"textarea":W5(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?mc(a,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?mc(a,!!s.multiple,s.defaultValue,!0):mc(a,!!s.multiple,s.multiple?[]:"",!1))}a[Mf]=s}catch(p){Yt(t,t.return,p)}}break;case 6:if(ia(e,t),Ia(t),n&4){if(t.stateNode===null)throw Error(pe(162));a=t.stateNode,s=t.memoizedProps;try{a.nodeValue=s}catch(p){Yt(t,t.return,p)}}break;case 3:if(ia(e,t),Ia(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Df(e.containerInfo)}catch(p){Yt(t,t.return,p)}break;case 4:ia(e,t),Ia(t);break;case 13:ia(e,t),Ia(t),a=t.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(AT=rr())),n&4&&dD(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Fr=(u=Fr)||d,ia(e,t),Fr=u):ia(e,t),Ia(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Se=t,d=t.child;d!==null;){for(f=Se=d;Se!==null;){switch(m=Se,h=m.child,m.tag){case 0:case 11:case 14:case 15:Gd(4,m,m.return);break;case 1:oc(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(p){Yt(n,r,p)}}break;case 5:oc(m,m.return);break;case 22:if(m.memoizedState!==null){mD(f);continue}}h!==null?(h.return=m,Se=h):mD(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Y5("display",i))}catch(p){Yt(t,t.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Yt(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ia(e,t),Ia(t),n&4&&dD(t);break;case 21:break;default:ia(e,t),Ia(t)}}function Ia(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(v4(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(kf(a,""),n.flags&=-33);var s=uD(t);SS(t,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=uD(t);CS(t,l,i);break;default:throw Error(pe(161))}}catch(c){Yt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MH(t,e,r){Se=t,N4(t)}function N4(t,e,r){for(var n=(t.mode&1)!==0;Se!==null;){var a=Se,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||qh;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Fr;l=qh;var u=Fr;if(qh=i,(Fr=c)&&!u)for(Se=a;Se!==null;)i=Se,c=i.child,i.tag===22&&i.memoizedState!==null?hD(a):c!==null?(c.return=i,Se=c):hD(a);for(;s!==null;)Se=s,N4(s),s=s.sibling;Se=a,qh=l,Fr=u}fD(t)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Se=s):fD(t)}}function fD(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fr||lv(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Fr)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:ca(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&JE(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}JE(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Df(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Fr||e.flags&512&&NS(e)}catch(m){Yt(e,e.return,m)}}if(e===t){Se=null;break}if(r=e.sibling,r!==null){r.return=e.return,Se=r;break}Se=e.return}}function mD(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Se=r;break}Se=e.return}}function hD(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{lv(4,e)}catch(c){Yt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){Yt(e,a,c)}}var s=e.return;try{NS(e)}catch(c){Yt(e,s,c)}break;case 5:var i=e.return;try{NS(e)}catch(c){Yt(e,i,c)}}}catch(c){Yt(e,e.return,c)}if(e===t){Se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Se=l;break}Se=e.return}}var LH=Math.ceil,jx=Vs.ReactCurrentDispatcher,CT=Vs.ReactCurrentOwner,Qn=Vs.ReactCurrentBatchConfig,et=0,jr=null,lr=null,Tr=0,Nn=0,ic=Yo(0),hr=0,Uf=null,dl=0,cv=0,ST=0,Yd=null,rn=null,AT=0,zc=1/0,os=null,wx=!1,AS=null,Co=null,Vh=!1,fo=null,Nx=0,Kd=0,IS=null,Hp=-1,Gp=0;function Kr(){return et&6?rr():Hp!==-1?Hp:Hp=rr()}function So(t){return t.mode&1?et&2&&Tr!==0?Tr&-Tr:jH.transition!==null?(Gp===0&&(Gp=iB()),Gp):(t=ht,t!==0||(t=window.event,t=t===void 0?16:hB(t.type)),t):1}function ya(t,e,r,n){if(50<Kd)throw Kd=0,IS=null,Error(pe(185));Hm(t,r,n),(!(et&2)||t!==jr)&&(t===jr&&(!(et&2)&&(cv|=r),hr===4&&lo(t,Tr)),un(t,n),r===1&&et===0&&!(e.mode&1)&&(zc=rr()+500,sv&&Ko()))}function un(t,e){var r=t.callbackNode;jW(t,e);var n=ox(t,t===jr?Tr:0);if(n===0)r!==null&&NE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&NE(r),e===1)t.tag===0?vH(pD.bind(null,t)):OB(pD.bind(null,t)),gH(function(){!(et&6)&&Ko()}),r=null;else{switch(lB(n)){case 1:r=Qk;break;case 4:r=sB;break;case 16:r=sx;break;case 536870912:r=oB;break;default:r=sx}r=E4(r,C4.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function C4(t,e){if(Hp=-1,Gp=0,et&6)throw Error(pe(327));var r=t.callbackNode;if(bc()&&t.callbackNode!==r)return null;var n=ox(t,t===jr?Tr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Cx(t,n);else{e=n;var a=et;et|=2;var s=A4();(jr!==t||Tr!==e)&&(os=null,zc=rr()+500,Ui(t,e));do try{qH();break}catch(l){S4(t,l)}while(!0);dT(),jx.current=s,et=a,lr!==null?e=0:(jr=null,Tr=0,e=hr)}if(e!==0){if(e===2&&(a=eS(t),a!==0&&(n=a,e=kS(t,a))),e===1)throw r=Uf,Ui(t,0),lo(t,n),un(t,rr()),r;if(e===6)lo(t,n);else{if(a=t.current.alternate,!(n&30)&&!FH(a)&&(e=Cx(t,n),e===2&&(s=eS(t),s!==0&&(n=s,e=kS(t,s))),e===1))throw r=Uf,Ui(t,0),lo(t,n),un(t,rr()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(pe(345));case 2:vi(t,rn,os);break;case 3:if(lo(t,n),(n&130023424)===n&&(e=AT+500-rr(),10<e)){if(ox(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Kr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=lS(vi.bind(null,t,rn,os),e);break}vi(t,rn,os);break;case 4:if(lo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-ga(n);s=1<<i,i=e[i],i>a&&(a=i),n&=~s}if(n=a,n=rr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LH(n/1960))-n,10<n){t.timeoutHandle=lS(vi.bind(null,t,rn,os),n);break}vi(t,rn,os);break;case 5:vi(t,rn,os);break;default:throw Error(pe(329))}}}return un(t,rr()),t.callbackNode===r?C4.bind(null,t):null}function kS(t,e){var r=Yd;return t.current.memoizedState.isDehydrated&&(Ui(t,e).flags|=256),t=Cx(t,e),t!==2&&(e=rn,rn=r,e!==null&&TS(e)),t}function TS(t){rn===null?rn=t:rn.push.apply(rn,t)}function FH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!wa(s(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lo(t,e){for(e&=~ST,e&=~cv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ga(e),n=1<<r;t[r]=-1,e&=~n}}function pD(t){if(et&6)throw Error(pe(327));bc();var e=ox(t,0);if(!(e&1))return un(t,rr()),null;var r=Cx(t,e);if(t.tag!==0&&r===2){var n=eS(t);n!==0&&(e=n,r=kS(t,n))}if(r===1)throw r=Uf,Ui(t,0),lo(t,e),un(t,rr()),r;if(r===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vi(t,rn,os),un(t,rr()),null}function IT(t,e){var r=et;et|=1;try{return t(e)}finally{et=r,et===0&&(zc=rr()+500,sv&&Ko())}}function fl(t){fo!==null&&fo.tag===0&&!(et&6)&&bc();var e=et;et|=1;var r=Qn.transition,n=ht;try{if(Qn.transition=null,ht=1,t)return t()}finally{ht=n,Qn.transition=r,et=e,!(et&6)&&Ko()}}function kT(){Nn=ic.current,_t(ic)}function Ui(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,pH(r)),lr!==null)for(r=lr.return;r!==null;){var n=r;switch(lT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&dx();break;case 3:Vc(),_t(ln),_t(Vr),yT();break;case 5:gT(n);break;case 4:Vc();break;case 13:_t(Vt);break;case 19:_t(Vt);break;case 10:fT(n.type._context);break;case 22:case 23:kT()}r=r.return}if(jr=t,lr=t=Ao(t.current,null),Tr=Nn=e,hr=0,Uf=null,ST=cv=dl=0,rn=Yd=null,Pi!==null){for(e=0;e<Pi.length;e++)if(r=Pi[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Pi=null}return t}function S4(t,e){do{var r=lr;try{if(dT(),Up.current=vx,xx){for(var n=Ut.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}xx=!1}if(ul=0,xr=mr=Ut=null,Hd=!1,Bf=0,CT.current=null,r===null||r.return===null){hr=1,Uf=e,lr=null;break}e:{var s=t,i=r.return,l=r,c=e;if(e=Tr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=rD(i);if(h!==null){h.flags&=-257,nD(h,i,l,s,e),h.mode&1&&tD(s,u,e),e=h,c=u;var y=e.updateQueue;if(y===null){var p=new Set;p.add(c),e.updateQueue=p}else y.add(c);break e}else{if(!(e&1)){tD(s,u,e),TT();break e}c=Error(pe(426))}}else if(Mt&&l.mode&1){var b=rD(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),nD(b,i,l,s,e),cT(Uc(c,l));break e}}s=c=Uc(c,l),hr!==4&&(hr=2),Yd===null?Yd=[s]:Yd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=l4(s,c,e);KE(s,g);break e;case 1:l=c;var v=s.type,j=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Co===null||!Co.has(j)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=c4(s,l,e);KE(s,C);break e}}s=s.return}while(s!==null)}k4(r)}catch(x){e=x,lr===r&&r!==null&&(lr=r=r.return);continue}break}while(!0)}function A4(){var t=jx.current;return jx.current=vx,t===null?vx:t}function TT(){(hr===0||hr===3||hr===2)&&(hr=4),jr===null||!(dl&268435455)&&!(cv&268435455)||lo(jr,Tr)}function Cx(t,e){var r=et;et|=2;var n=A4();(jr!==t||Tr!==e)&&(os=null,Ui(t,e));do try{BH();break}catch(a){S4(t,a)}while(!0);if(dT(),et=r,jx.current=n,lr!==null)throw Error(pe(261));return jr=null,Tr=0,hr}function BH(){for(;lr!==null;)I4(lr)}function qH(){for(;lr!==null&&!fW();)I4(lr)}function I4(t){var e=P4(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?k4(t):lr=e,CT.current=null}function k4(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=_H(r,e),r!==null){r.flags&=32767,lr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hr=6,lr=null;return}}else if(r=OH(r,e,Nn),r!==null){lr=r;return}if(e=e.sibling,e!==null){lr=e;return}lr=e=t}while(e!==null);hr===0&&(hr=5)}function vi(t,e,r){var n=ht,a=Qn.transition;try{Qn.transition=null,ht=1,VH(t,e,r,n)}finally{Qn.transition=a,ht=n}return null}function VH(t,e,r,n){do bc();while(fo!==null);if(et&6)throw Error(pe(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(wW(t,s),t===jr&&(lr=jr=null,Tr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vh||(Vh=!0,E4(sx,function(){return bc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Qn.transition,Qn.transition=null;var i=ht;ht=1;var l=et;et|=4,CT.current=null,$H(t,r),w4(r,t),lH(oS),ix=!!sS,oS=sS=null,t.current=r,MH(r),mW(),et=l,ht=i,Qn.transition=s}else t.current=r;if(Vh&&(Vh=!1,fo=t,Nx=a),s=t.pendingLanes,s===0&&(Co=null),gW(r.stateNode),un(t,rr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(wx)throw wx=!1,t=AS,AS=null,t;return Nx&1&&t.tag!==0&&bc(),s=t.pendingLanes,s&1?t===IS?Kd++:(Kd=0,IS=t):Kd=0,Ko(),null}function bc(){if(fo!==null){var t=lB(Nx),e=Qn.transition,r=ht;try{if(Qn.transition=null,ht=16>t?16:t,fo===null)var n=!1;else{if(t=fo,fo=null,Nx=0,et&6)throw Error(pe(331));var a=et;for(et|=4,Se=t.current;Se!==null;){var s=Se,i=s.child;if(Se.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Se=u;Se!==null;){var d=Se;switch(d.tag){case 0:case 11:case 15:Gd(8,d,s)}var f=d.child;if(f!==null)f.return=d,Se=f;else for(;Se!==null;){d=Se;var m=d.sibling,h=d.return;if(x4(d),d===u){Se=null;break}if(m!==null){m.return=h,Se=m;break}Se=h}}}var y=s.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}Se=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Se=i;else e:for(;Se!==null;){if(s=Se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gd(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Se=g;break e}Se=s.return}}var v=t.current;for(Se=v;Se!==null;){i=Se;var j=i.child;if(i.subtreeFlags&2064&&j!==null)j.return=i,Se=j;else e:for(i=v;Se!==null;){if(l=Se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lv(9,l)}}catch(x){Yt(l,l.return,x)}if(l===i){Se=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Se=C;break e}Se=l.return}}if(et=a,Ko(),La&&typeof La.onPostCommitFiberRoot=="function")try{La.onPostCommitFiberRoot(ev,t)}catch{}n=!0}return n}finally{ht=r,Qn.transition=e}}return!1}function gD(t,e,r){e=Uc(r,e),e=l4(t,e,1),t=No(t,e,1),e=Kr(),t!==null&&(Hm(t,1,e),un(t,e))}function Yt(t,e,r){if(t.tag===3)gD(t,t,r);else for(;e!==null;){if(e.tag===3){gD(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Co===null||!Co.has(n))){t=Uc(r,t),t=c4(e,t,1),e=No(e,t,1),t=Kr(),e!==null&&(Hm(e,1,t),un(e,t));break}}e=e.return}}function UH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Kr(),t.pingedLanes|=t.suspendedLanes&r,jr===t&&(Tr&r)===r&&(hr===4||hr===3&&(Tr&130023424)===Tr&&500>rr()-AT?Ui(t,0):ST|=r),un(t,e)}function T4(t,e){e===0&&(t.mode&1?(e=Dh,Dh<<=1,!(Dh&130023424)&&(Dh=4194304)):e=1);var r=Kr();t=Es(t,e),t!==null&&(Hm(t,e,r),un(t,r))}function zH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),T4(t,r)}function WH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(e),T4(t,r)}var P4;P4=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return an=!1,DH(t,e,r);an=!!(t.flags&131072)}else an=!1,Mt&&e.flags&1048576&&_B(e,hx,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Wp(t,e),t=e.pendingProps;var a=Fc(e,Vr.current);yc(e,r),a=xT(null,e,n,t,a,r);var s=vT();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(n)?(s=!0,fx(e)):s=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,hT(e),a.updater=iv,e.stateNode=a,a._reactInternals=e,pS(e,n,t,r),e=bS(null,e,n,!0,s,r)):(e.tag=0,Mt&&s&&iT(e),zr(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Wp(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=GH(n),t=ca(n,t),a){case 0:e=yS(null,e,n,t,r);break e;case 1:e=oD(null,e,n,t,r);break e;case 11:e=aD(null,e,n,t,r);break e;case 14:e=sD(null,e,n,ca(n.type,t),r);break e}throw Error(pe(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ca(n,a),yS(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ca(n,a),oD(t,e,n,a,r);case 3:e:{if(m4(e),t===null)throw Error(pe(387));n=e.pendingProps,s=e.memoizedState,a=s.element,BB(t,e),yx(e,n,null,r);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){a=Uc(Error(pe(423)),e),e=iD(t,e,n,r,a);break e}else if(n!==a){a=Uc(Error(pe(424)),e),e=iD(t,e,n,r,a);break e}else for(An=wo(e.stateNode.containerInfo.firstChild),Tn=e,Mt=!0,da=null,r=LB(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bc(),n===a){e=Ds(t,e,r);break e}zr(t,e,n,r)}e=e.child}return e;case 5:return qB(e),t===null&&fS(e),n=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,iS(n,a)?i=null:s!==null&&iS(n,s)&&(e.flags|=32),f4(t,e),zr(t,e,i,r),e.child;case 6:return t===null&&fS(e),null;case 13:return h4(t,e,r);case 4:return pT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=qc(e,null,n,r):zr(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ca(n,a),aD(t,e,n,a,r);case 7:return zr(t,e,e.pendingProps,r),e.child;case 8:return zr(t,e,e.pendingProps.children,r),e.child;case 12:return zr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,s=e.memoizedProps,i=a.value,It(px,n._currentValue),n._currentValue=i,s!==null)if(wa(s.value,i)){if(s.children===a.children&&!ln.current){e=Ds(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=js(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),mS(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(pe(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),mS(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}zr(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,yc(e,r),a=ea(a),n=n(a),e.flags|=1,zr(t,e,n,r),e.child;case 14:return n=e.type,a=ca(n,e.pendingProps),a=ca(n.type,a),sD(t,e,n,a,r);case 15:return u4(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ca(n,a),Wp(t,e),e.tag=1,cn(n)?(t=!0,fx(e)):t=!1,yc(e,r),i4(e,n,a),pS(e,n,a,r),bS(null,e,n,!0,t,r);case 19:return p4(t,e,r);case 22:return d4(t,e,r)}throw Error(pe(156,e.tag))};function E4(t,e){return aB(t,e)}function HH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,r,n){return new HH(t,e,r,n)}function PT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GH(t){if(typeof t=="function")return PT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kk)return 11;if(t===Jk)return 14}return 2}function Ao(t,e){var r=t.alternate;return r===null?(r=Kn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Yp(t,e,r,n,a,s){var i=2;if(n=t,typeof t=="function")PT(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Xl:return zi(r.children,a,s,e);case Yk:i=8,a|=8;break;case FC:return t=Kn(12,r,e,a|2),t.elementType=FC,t.lanes=s,t;case BC:return t=Kn(13,r,e,a),t.elementType=BC,t.lanes=s,t;case qC:return t=Kn(19,r,e,a),t.elementType=qC,t.lanes=s,t;case q5:return uv(r,a,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F5:i=10;break e;case B5:i=9;break e;case Kk:i=11;break e;case Jk:i=14;break e;case ro:i=16,n=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=Kn(i,r,e,a),e.elementType=t,e.type=n,e.lanes=s,e}function zi(t,e,r,n){return t=Kn(7,t,n,e),t.lanes=r,t}function uv(t,e,r,n){return t=Kn(22,t,n,e),t.elementType=q5,t.lanes=r,t.stateNode={isHidden:!1},t}function CN(t,e,r){return t=Kn(6,t,null,e),t.lanes=r,t}function SN(t,e,r){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YH(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sN(0),this.expirationTimes=sN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sN(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ET(t,e,r,n,a,s,i,l,c){return t=new YH(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hT(s),t}function KH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function D4(t){if(!t)return Bo;t=t._reactInternals;e:{if(Cl(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var r=t.type;if(cn(r))return DB(t,r,e)}return e}function O4(t,e,r,n,a,s,i,l,c){return t=ET(r,n,!0,t,a,s,i,l,c),t.context=D4(null),r=t.current,n=Kr(),a=So(r),s=js(n,a),s.callback=e??null,No(r,s,a),t.current.lanes=a,Hm(t,a,n),un(t,n),t}function dv(t,e,r,n){var a=e.current,s=Kr(),i=So(a);return r=D4(r),e.context===null?e.context=r:e.pendingContext=r,e=js(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=No(a,e,i),t!==null&&(ya(t,a,i,s),Vp(t,a,i)),i}function Sx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function DT(t,e){yD(t,e),(t=t.alternate)&&yD(t,e)}function JH(){return null}var _4=typeof reportError=="function"?reportError:function(t){console.error(t)};function OT(t){this._internalRoot=t}fv.prototype.render=OT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));dv(t,e,null,null)};fv.prototype.unmount=OT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fl(function(){dv(null,t,null,null)}),e[Ps]=null}};function fv(t){this._internalRoot=t}fv.prototype.unstable_scheduleHydration=function(t){if(t){var e=dB();t={blockedOn:null,target:t,priority:e};for(var r=0;r<io.length&&e!==0&&e<io[r].priority;r++);io.splice(r,0,t),r===0&&mB(t)}};function _T(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bD(){}function XH(t,e,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Sx(i);s.call(u)}}var i=O4(e,n,t,0,null,!1,!1,"",bD);return t._reactRootContainer=i,t[Ps]=i.current,Rf(t.nodeType===8?t.parentNode:t),fl(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Sx(c);l.call(u)}}var c=ET(t,0,!1,null,null,!1,!1,"",bD);return t._reactRootContainer=c,t[Ps]=c.current,Rf(t.nodeType===8?t.parentNode:t),fl(function(){dv(e,c,r,n)}),c}function hv(t,e,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=Sx(i);l.call(c)}}dv(e,i,t,a)}else i=XH(r,e,t,a,n);return Sx(i)}cB=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Id(e.pendingLanes);r!==0&&(Zk(e,r|1),un(e,rr()),!(et&6)&&(zc=rr()+500,Ko()))}break;case 13:fl(function(){var n=Es(t,1);if(n!==null){var a=Kr();ya(n,t,1,a)}}),DT(t,1)}};eT=function(t){if(t.tag===13){var e=Es(t,134217728);if(e!==null){var r=Kr();ya(e,t,134217728,r)}DT(t,134217728)}};uB=function(t){if(t.tag===13){var e=So(t),r=Es(t,e);if(r!==null){var n=Kr();ya(r,t,e,n)}DT(t,e)}};dB=function(){return ht};fB=function(t,e){var r=ht;try{return ht=t,e()}finally{ht=r}};XC=function(t,e,r){switch(e){case"input":if(zC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=av(n);if(!a)throw Error(pe(90));U5(n),zC(n,a)}}}break;case"textarea":W5(t,r);break;case"select":e=r.value,e!=null&&mc(t,!!r.multiple,e,!1)}};Q5=IT;Z5=fl;var QH={usingClientEntryPoint:!1,Events:[Ym,tc,av,J5,X5,IT]},Zu={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZH={bundleType:Zu.bundleType,version:Zu.version,rendererPackageName:Zu.rendererPackageName,rendererConfig:Zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rB(t),t===null?null:t.stateNode},findFiberByHostInstance:Zu.findFiberByHostInstance||JH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{ev=Uh.inject(ZH),La=Uh}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QH;Mn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_T(e))throw Error(pe(200));return KH(t,e,null,r)};Mn.createRoot=function(t,e){if(!_T(t))throw Error(pe(299));var r=!1,n="",a=_4;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=ET(t,1,!1,null,null,r,!1,n,a),t[Ps]=e.current,Rf(t.nodeType===8?t.parentNode:t),new OT(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=rB(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return fl(t)};Mn.hydrate=function(t,e,r){if(!mv(e))throw Error(pe(200));return hv(null,t,e,!0,r)};Mn.hydrateRoot=function(t,e,r){if(!_T(t))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=_4;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=O4(e,null,t,1,r??null,a,!1,s,i),t[Ps]=e.current,Rf(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new fv(e)};Mn.render=function(t,e,r){if(!mv(e))throw Error(pe(200));return hv(null,t,e,!1,r)};Mn.unmountComponentAtNode=function(t){if(!mv(t))throw Error(pe(40));return t._reactRootContainer?(fl(function(){hv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ps]=null})}),!0):!1};Mn.unstable_batchedUpdates=IT;Mn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!mv(r))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return hv(t,e,r,!1,n)};Mn.version="18.3.1-next-f1338f8080-20240426";function R4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R4)}catch(t){console.error(t)}}R4(),R5.exports=Mn;var pv=R5.exports,xD=pv;MC.createRoot=xD.createRoot,MC.hydrateRoot=xD.hydrateRoot;var $4={exports:{}},M4={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm=w;function eG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tG=typeof Object.is=="function"?Object.is:eG,rG=Jm.useSyncExternalStore,nG=Jm.useRef,aG=Jm.useEffect,sG=Jm.useMemo,oG=Jm.useDebugValue;M4.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var s=nG(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=sG(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&i.hasValue){var y=i.value;if(a(y,h))return f=y}return f=h}if(y=f,tG(d,h))return y;var p=n(h);return a!==void 0&&a(y,p)?(d=h,y):(d=h,f=p)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,a]);var l=rG(t,s[0],s[1]);return aG(function(){i.hasValue=!0,i.value=l},[l]),oG(l),l};$4.exports=M4;var iG=$4.exports;function lG(t){t()}function cG(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lG(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var vD={notify(){},get:()=>[]};function uG(t,e){let r,n=vD,a=0,s=!1;function i(p){d();const b=n.subscribe(p);let g=!1;return()=>{g||(g=!0,b(),f())}}function l(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return s}function d(){a++,r||(r=t.subscribe(c),n=cG())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=vD)}function m(){s||(s=!0,d())}function h(){s&&(s=!1,f())}const y={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return y}var dG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fG=dG(),mG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hG=mG(),pG=()=>fG||hG?w.useLayoutEffect:w.useEffect,gG=pG(),AN=Symbol.for("react-redux-context"),IN=typeof globalThis<"u"?globalThis:{};function yG(){if(!w.createContext)return{};const t=IN[AN]??(IN[AN]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var qo=yG();function bG(t){const{children:e,context:r,serverState:n,store:a}=t,s=w.useMemo(()=>{const c=uG(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=w.useMemo(()=>a.getState(),[a]);gG(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||qo;return w.createElement(l.Provider,{value:s},e)}var xG=bG;function RT(t=qo){return function(){return w.useContext(t)}}var L4=RT();function F4(t=qo){const e=t===qo?L4:RT(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var vG=F4();function jG(t=qo){const e=t===qo?vG:F4(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var de=jG(),wG=(t,e)=>t===e;function NG(t=qo){const e=t===qo?L4:RT(t),r=(n,a={})=>{const{equalityFn:s=wG}=typeof a=="function"?{equalityFn:a}:a,i=e(),{store:l,subscription:c,getServerState:u}=i;w.useRef(!0);const d=w.useCallback({[n.name](m){return n(m)}}[n.name],[n]),f=iG.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,s);return w.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var H=NG();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zf.apply(this,arguments)}var mo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mo||(mo={}));const jD="popstate";function CG(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return PS("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ax(a)}return AG(e,r,null,t)}function sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function B4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SG(){return Math.random().toString(36).substr(2,8)}function wD(t,e){return{usr:t.state,key:t.key,idx:e}}function PS(t,e,r,n){return r===void 0&&(r=null),zf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nu(e):e,{state:r,key:e&&e.key||n||SG()})}function Ax(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Nu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function AG(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=mo.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(zf({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=mo.Pop;let b=d(),g=b==null?null:b-u;u=b,c&&c({action:l,location:p.location,delta:g})}function m(b,g){l=mo.Push;let v=PS(p.location,b,g);u=d()+1;let j=wD(v,u),C=p.createHref(v);try{i.pushState(j,"",C)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;a.location.assign(C)}s&&c&&c({action:l,location:p.location,delta:1})}function h(b,g){l=mo.Replace;let v=PS(p.location,b,g);u=d();let j=wD(v,u),C=p.createHref(v);i.replaceState(j,"",C),s&&c&&c({action:l,location:p.location,delta:0})}function y(b){let g=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof b=="string"?b:Ax(b);return v=v.replace(/ $/,"%20"),sr(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let p={get action(){return l},get location(){return t(a,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(jD,f),c=b,()=>{a.removeEventListener(jD,f),c=null}},createHref(b){return e(a,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:h,go(b){return i.go(b)}};return p}var ND;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ND||(ND={}));function IG(t,e,r){return r===void 0&&(r="/"),kG(t,e,r)}function kG(t,e,r,n){let a=typeof e=="string"?Nu(e):e,s=$T(a.pathname||"/",r);if(s==null)return null;let i=q4(t);TG(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=qG(s);l=LG(i[c],u)}return l}function q4(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(sr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Io([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(sr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),q4(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:$G(u,s.index),routesMeta:d})};return t.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of V4(s.path))a(s,i,c)}),e}function V4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=V4(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function TG(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:MG(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const PG=/^:[\w-]+$/,EG=3,DG=2,OG=1,_G=10,RG=-2,CD=t=>t==="*";function $G(t,e){let r=t.split("/"),n=r.length;return r.some(CD)&&(n+=RG),e&&(n+=DG),r.filter(a=>!CD(a)).reduce((a,s)=>a+(PG.test(s)?EG:s===""?OG:_G),n)}function MG(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function LG(t,e,r){let{routesMeta:n}=t,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=FG({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Io([s,f.pathname]),pathnameBase:WG(Io([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Io([s,f.pathnameBase]))}return i}function FG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=BG(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let p=l[f]||"";i=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const y=l[f];return h&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function BG(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),B4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function qG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return B4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $T(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function VG(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Nu(t):t;return{pathname:r?r.startsWith("/")?r:UG(r,e):e,search:HG(n),hash:GG(a)}}function UG(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function kN(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zG(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function MT(t,e){let r=zG(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function LT(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Nu(t):(a=zf({},t),sr(!a.pathname||!a.pathname.includes("?"),kN("?","pathname","search",a)),sr(!a.pathname||!a.pathname.includes("#"),kN("#","pathname","hash",a)),sr(!a.search||!a.search.includes("#"),kN("#","search","hash",a)));let s=t===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=e.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=VG(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Io=t=>t.join("/").replace(/\/\/+/g,"/"),WG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const U4=["post","put","patch","delete"];new Set(U4);const KG=["get",...U4];new Set(KG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wf.apply(this,arguments)}const FT=w.createContext(null),JG=w.createContext(null),Jo=w.createContext(null),gv=w.createContext(null),Us=w.createContext({outlet:null,matches:[],isDataRoute:!1}),z4=w.createContext(null);function XG(t,e){let{relative:r}=e===void 0?{}:e;Cu()||sr(!1);let{basename:n,navigator:a}=w.useContext(Jo),{hash:s,pathname:i,search:l}=H4(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Io([n,i])),a.createHref({pathname:c,search:l,hash:s})}function Cu(){return w.useContext(gv)!=null}function Xo(){return Cu()||sr(!1),w.useContext(gv).location}function W4(t){w.useContext(Jo).static||w.useLayoutEffect(t)}function Xm(){let{isDataRoute:t}=w.useContext(Us);return t?fY():QG()}function QG(){Cu()||sr(!1);let t=w.useContext(FT),{basename:e,future:r,navigator:n}=w.useContext(Jo),{matches:a}=w.useContext(Us),{pathname:s}=Xo(),i=JSON.stringify(MT(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return W4(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=LT(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Io([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}const ZG=w.createContext(null);function eY(t){let e=w.useContext(Us).outlet;return e&&w.createElement(ZG.Provider,{value:t},e)}function H4(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(Jo),{matches:a}=w.useContext(Us),{pathname:s}=Xo(),i=JSON.stringify(MT(a,n.v7_relativeSplatPath));return w.useMemo(()=>LT(t,JSON.parse(i),s,r==="path"),[t,i,s,r])}function tY(t,e){return rY(t,e)}function rY(t,e,r,n){Cu()||sr(!1);let{navigator:a}=w.useContext(Jo),{matches:s}=w.useContext(Us),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Xo(),d;if(e){var f;let b=typeof e=="string"?Nu(e):e;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||sr(!1),d=b}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=IG(t,{pathname:h}),p=iY(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Io([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Io([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&p?w.createElement(gv.Provider,{value:{location:Wf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:mo.Pop}},p):p}function nY(){let t=dY(),e=YG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:a},r):null,null)}const aY=w.createElement(nY,null);class sY extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(Us.Provider,{value:this.props.routeContext},w.createElement(z4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oY(t){let{routeContext:e,match:r,children:n}=t,a=w.useContext(FT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Us.Provider,{value:e},n)}function iY(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||sr(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,y=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let h,y=!1,p=null,b=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||aY,c&&(u<0&&m===0?(mY("route-fallback"),y=!0,b=null):u===m&&(y=!0,b=f.route.hydrateFallbackElement||null)));let g=e.concat(i.slice(0,m+1)),v=()=>{let j;return h?j=p:y?j=b:f.route.Component?j=w.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,w.createElement(oY,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(sY,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var G4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(G4||{}),Y4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Y4||{});function lY(t){let e=w.useContext(FT);return e||sr(!1),e}function cY(t){let e=w.useContext(JG);return e||sr(!1),e}function uY(t){let e=w.useContext(Us);return e||sr(!1),e}function K4(t){let e=uY(),r=e.matches[e.matches.length-1];return r.route.id||sr(!1),r.route.id}function dY(){var t;let e=w.useContext(z4),r=cY(),n=K4();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function fY(){let{router:t}=lY(G4.UseNavigateStable),e=K4(Y4.UseNavigateStable),r=w.useRef(!1);return W4(()=>{r.current=!0}),w.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Wf({fromRouteId:e},s)))},[t,e])}const SD={};function mY(t,e,r){SD[t]||(SD[t]=!0)}function hY(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ed(t){let{to:e,replace:r,state:n,relative:a}=t;Cu()||sr(!1);let{future:s,static:i}=w.useContext(Jo),{matches:l}=w.useContext(Us),{pathname:c}=Xo(),u=Xm(),d=LT(e,MT(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function J4(t){return eY(t.context)}function he(t){sr(!1)}function pY(t){let{basename:e="/",children:r=null,location:n,navigationType:a=mo.Pop,navigator:s,static:i=!1,future:l}=t;Cu()&&sr(!1);let c=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:s,static:i,future:Wf({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=Nu(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:y="default"}=n,p=w.useMemo(()=>{let b=$T(d,c);return b==null?null:{location:{pathname:b,search:f,hash:m,state:h,key:y},navigationType:a}},[c,d,f,m,h,y,a]);return p==null?null:w.createElement(Jo.Provider,{value:u},w.createElement(gv.Provider,{children:r,value:p}))}function gY(t){let{children:e,location:r}=t;return tY(ES(e),r)}new Promise(()=>{});function ES(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,a)=>{if(!w.isValidElement(n))return;let s=[...e,a];if(n.type===w.Fragment){r.push.apply(r,ES(n.props.children,s));return}n.type!==he&&sr(!1),!n.props.index||!n.props.children||sr(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ES(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DS(){return DS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DS.apply(this,arguments)}function yY(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function bY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xY(t,e){return t.button===0&&(!e||e==="_self")&&!bY(t)}const vY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jY="6";try{window.__reactRouterVersion=jY}catch{}const wY="startTransition",AD=Af[wY];function NY(t){let{basename:e,children:r,future:n,window:a}=t,s=w.useRef();s.current==null&&(s.current=CG({window:a,v5Compat:!0}));let i=s.current,[l,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&AD?AD(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.useEffect(()=>hY(n),[n]),w.createElement(pY,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const CY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xc=w.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=yY(e,vY),{basename:h}=w.useContext(Jo),y,p=!1;if(typeof u=="string"&&SY.test(u)&&(y=u,CY))try{let j=new URL(window.location.href),C=u.startsWith("//")?new URL(j.protocol+u):new URL(u),x=$T(C.pathname,h);C.origin===j.origin&&x!=null?u=x+C.search+C.hash:p=!0}catch{}let b=XG(u,{relative:a}),g=AY(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function v(j){n&&n(j),j.defaultPrevented||g(j)}return w.createElement("a",DS({},m,{href:y||b,onClick:p||s?n:v,ref:r,target:c}))});var ID;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ID||(ID={}));var kD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kD||(kD={}));function AY(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=e===void 0?{}:e,c=Xm(),u=Xo(),d=H4(t,{relative:i});return w.useCallback(f=>{if(xY(f,r)){f.preventDefault();let m=n!==void 0?n:Ax(u)===Ax(d);c(t,{replace:m,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,t,s,i,l])}function Cr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var IY=typeof Symbol=="function"&&Symbol.observable||"@@observable",TD=IY,TN=()=>Math.random().toString(36).substring(7).split("").join("."),kY={INIT:`@@redux/INIT${TN()}`,REPLACE:`@@redux/REPLACE${TN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${TN()}`},Ix=kY;function BT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function X4(t,e,r){if(typeof t!="function")throw new Error(Cr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Cr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Cr(1));return r(X4)(t,e)}let n=t,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((b,g)=>{i.set(g,b)}))}function d(){if(c)throw new Error(Cr(3));return a}function f(b){if(typeof b!="function")throw new Error(Cr(4));if(c)throw new Error(Cr(5));let g=!0;u();const v=l++;return i.set(v,b),function(){if(g){if(c)throw new Error(Cr(6));g=!1,u(),i.delete(v),s=null}}}function m(b){if(!BT(b))throw new Error(Cr(7));if(typeof b.type>"u")throw new Error(Cr(8));if(typeof b.type!="string")throw new Error(Cr(17));if(c)throw new Error(Cr(9));try{c=!0,a=n(a,b)}finally{c=!1}return(s=i).forEach(v=>{v()}),b}function h(b){if(typeof b!="function")throw new Error(Cr(10));n=b,m({type:Ix.REPLACE})}function y(){const b=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Cr(11));function v(){const C=g;C.next&&C.next(d())}return v(),{unsubscribe:b(v)}},[TD](){return this}}}return m({type:Ix.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[TD]:y}}function TY(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Ix.INIT})>"u")throw new Error(Cr(12));if(typeof r(void 0,{type:Ix.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Cr(13))})}function PY(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const i=e[s];typeof t[i]=="function"&&(r[i]=t[i])}const n=Object.keys(r);let a;try{TY(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=i[f],y=m(h,l);if(typeof y>"u")throw l&&l.type,new Error(Cr(14));u[f]=y,c=c||y!==h}return c=c||n.length!==Object.keys(i).length,c?u:i}}function kx(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function EY(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(Cr(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(i));return s=kx(...l)(a.dispatch),{...a,dispatch:s}}}function DY(t){return BT(t)&&"type"in t&&typeof t.type=="string"}var Q4=Symbol.for("immer-nothing"),PD=Symbol.for("immer-draftable"),Dn=Symbol.for("immer-state");function fa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Wc=Object.getPrototypeOf;function ml(t){return!!t&&!!t[Dn]}function Os(t){var e;return t?Z4(t)||Array.isArray(t)||!!t[PD]||!!((e=t.constructor)!=null&&e[PD])||bv(t)||xv(t):!1}var OY=Object.prototype.constructor.toString();function Z4(t){if(!t||typeof t!="object")return!1;const e=Wc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===OY}function Tx(t,e){yv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function yv(t){const e=t[Dn];return e?e.type_:Array.isArray(t)?1:bv(t)?2:xv(t)?3:0}function OS(t,e){return yv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function e3(t,e,r){const n=yv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function _Y(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function bv(t){return t instanceof Map}function xv(t){return t instanceof Set}function ji(t){return t.copy_||t.base_}function _S(t,e){if(bv(t))return new Map(t);if(xv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=Z4(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Dn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(Wc(t),n)}else{const n=Wc(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function qT(t,e=!1){return vv(t)||ml(t)||!Os(t)||(yv(t)>1&&(t.set=t.add=t.clear=t.delete=RY),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>qT(n,!0))),t}function RY(){fa(2)}function vv(t){return Object.isFrozen(t)}var $Y={};function hl(t){const e=$Y[t];return e||fa(0,t),e}var Hf;function t3(){return Hf}function MY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ED(t,e){e&&(hl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function RS(t){$S(t),t.drafts_.forEach(LY),t.drafts_=null}function $S(t){t===Hf&&(Hf=t.parent_)}function DD(t){return Hf=MY(Hf,t)}function LY(t){const e=t[Dn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function OD(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Dn].modified_&&(RS(e),fa(4)),Os(t)&&(t=Px(e,t),e.parent_||Ex(e,t)),e.patches_&&hl("Patches").generateReplacementPatches_(r[Dn].base_,t,e.patches_,e.inversePatches_)):t=Px(e,r,[]),RS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Q4?t:void 0}function Px(t,e,r){if(vv(e))return e;const n=e[Dn];if(!n)return Tx(e,(a,s)=>_D(t,n,e,a,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Ex(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),Tx(s,(l,c)=>_D(t,n,a,l,c,r,i)),Ex(t,a,!1),r&&t.patches_&&hl("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function _D(t,e,r,n,a,s,i){if(ml(a)){const l=s&&e&&e.type_!==3&&!OS(e.assigned_,n)?s.concat(n):void 0,c=Px(t,a,l);if(e3(r,n,c),ml(c))t.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Os(a)&&!vv(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Px(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ex(t,a)}}function Ex(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&qT(e,r)}function FY(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:t3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=VT;r&&(a=[n],s=Gf);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var VT={get(t,e){if(e===Dn)return t;const r=ji(t);if(!OS(r,e))return BY(t,r,e);const n=r[e];return t.finalized_||!Os(n)?n:n===PN(t.base_,e)?(EN(t),t.copy_[e]=LS(n,t)):n},has(t,e){return e in ji(t)},ownKeys(t){return Reflect.ownKeys(ji(t))},set(t,e,r){const n=r3(ji(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=PN(ji(t),e),s=a==null?void 0:a[Dn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(_Y(r,a)&&(r!==void 0||OS(t.base_,e)))return!0;EN(t),MS(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return PN(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,EN(t),MS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=ji(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){fa(11)},getPrototypeOf(t){return Wc(t.base_)},setPrototypeOf(){fa(12)}},Gf={};Tx(VT,(t,e)=>{Gf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Gf.deleteProperty=function(t,e){return Gf.set.call(this,t,e,void 0)};Gf.set=function(t,e,r){return VT.set.call(this,t[0],e,r,t[0])};function PN(t,e){const r=t[Dn];return(r?ji(r):t)[e]}function BY(t,e,r){var a;const n=r3(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function r3(t,e){if(!(e in t))return;let r=Wc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Wc(r)}}function MS(t){t.modified_||(t.modified_=!0,t.parent_&&MS(t.parent_))}function EN(t){t.copy_||(t.copy_=_S(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var qY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&fa(6),n!==void 0&&typeof n!="function"&&fa(7);let a;if(Os(e)){const s=DD(this),i=LS(e,void 0);let l=!0;try{a=r(i),l=!1}finally{l?RS(s):$S(s)}return ED(s,n),OD(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===Q4&&(a=void 0),this.autoFreeze_&&qT(a,!0),n){const s=[],i=[];hl("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else fa(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,r,(i,l)=>{n=i,a=l}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Os(t)||fa(8),ml(t)&&(t=VY(t));const e=DD(this),r=LS(t,void 0);return r[Dn].isManual_=!0,$S(e),r}finishDraft(t,e){const r=t&&t[Dn];(!r||!r.isManual_)&&fa(9);const{scope_:n}=r;return ED(n,e),OD(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=hl("Patches").applyPatches_;return ml(t)?n(t,e):this.produce(t,a=>n(a,e))}};function LS(t,e){const r=bv(t)?hl("MapSet").proxyMap_(t,e):xv(t)?hl("MapSet").proxySet_(t,e):FY(t,e);return(e?e.scope_:t3()).drafts_.push(r),r}function VY(t){return ml(t)||fa(10,t),n3(t)}function n3(t){if(!Os(t)||vv(t))return t;const e=t[Dn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=_S(t,e.scope_.immer_.useStrictShallowCopy_)}else r=_S(t,!0);return Tx(r,(n,a)=>{e3(r,n,n3(a))}),e&&(e.finalized_=!1),r}var On=new qY,a3=On.produce;On.produceWithPatches.bind(On);On.setAutoFreeze.bind(On);On.setUseStrictShallowCopy.bind(On);On.applyPatches.bind(On);On.createDraft.bind(On);On.finishDraft.bind(On);function s3(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var UY=s3(),zY=s3,WY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kx:kx.apply(null,arguments)},HY=t=>t&&typeof t.match=="function";function Jd(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(ws(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>DY(n)&&n.type===t,r}var o3=class Td extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Td.prototype)}static get[Symbol.species](){return Td}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Td(...e[0].concat(this)):new Td(...e.concat(this))}};function RD(t){return Os(t)?a3(t,()=>{}):t}function zh(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function GY(t){return typeof t=="boolean"}var YY=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new o3;return r&&(GY(r)?i.push(UY):i.push(zY(r.extraArgument))),i},KY="RTK_autoBatch",$D=t=>e=>{setTimeout(e,t)},JY=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,i=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$D(10):t.type==="callback"?t.queueNotification:$D(t.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[KY]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},XY=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new o3(t);return n&&a.push(JY(typeof n=="object"?n:void 0)),a};function QY(t){const e=YY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(BT(r))l=PY(r);else throw new Error(ws(1));let c;typeof n=="function"?c=n(e):c=e();let u=kx;a&&(u=WY({trace:!1,...typeof a=="object"&&a}));const d=EY(...c),f=XY(d);let m=typeof i=="function"?i(f):f();const h=u(...m);return X4(l,s,h)}function i3(t){const e={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(ws(28));if(l in e)throw new Error(ws(29));return e[l]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function ZY(t){return typeof t=="function"}function eK(t,e){let[r,n,a]=i3(e),s;if(ZY(t))s=()=>RD(t());else{const l=RD(t);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(ml(d)){const h=f(d,c);return h===void 0?d:h}else{if(Os(d))return a3(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=s,i}var tK=(t,e)=>HY(t)?t.match(e):t(e);function rK(...t){return e=>t.some(r=>tK(r,e))}var nK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aK=(t=21)=>{let e="",r=t;for(;r--;)e+=nK[Math.random()*64|0];return e},sK=["name","message","stack","code"],DN=class{constructor(t,e){ye(this,"_type");this.payload=t,this.meta=e}},MD=class{constructor(t,e){ye(this,"_type");this.payload=t,this.meta=e}},oK=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of sK)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},LD="External signal was aborted",U=(()=>{function t(e,r,n){const a=Jd(e+"/fulfilled",(c,u,d,f)=>({payload:c,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=Jd(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),i=Jd(e+"/rejected",(c,u,d,f,m)=>({payload:f,error:(n&&n.serializeError||oK)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,f,m)=>{const h=n!=null&&n.idGenerator?n.idGenerator(c):aK(),y=new AbortController;let p,b;function g(j){b=j,y.abort()}u&&(u.aborted?g(LD):u.addEventListener("abort",()=>g(LD),{once:!0}));const v=async function(){var x,N;let j;try{let S=(x=n==null?void 0:n.condition)==null?void 0:x.call(n,c,{getState:f,extra:m});if(lK(S)&&(S=await S),S===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((I,T)=>{p=()=>{T({name:"AbortError",message:b||"Aborted"})},y.signal.addEventListener("abort",p)});d(s(h,c,(N=n==null?void 0:n.getPendingMeta)==null?void 0:N.call(n,{requestId:h,arg:c},{getState:f,extra:m}))),j=await Promise.race([A,Promise.resolve(r(c,{dispatch:d,getState:f,extra:m,requestId:h,signal:y.signal,abort:g,rejectWithValue:(I,T)=>new DN(I,T),fulfillWithValue:(I,T)=>new MD(I,T)})).then(I=>{if(I instanceof DN)throw I;return I instanceof MD?a(I.payload,h,c,I.meta):a(I,h,c)})])}catch(S){j=S instanceof DN?i(null,h,c,S.payload,S.meta):i(S,h,c)}finally{p&&y.signal.removeEventListener("abort",p)}return n&&!n.dispatchConditionRejection&&i.match(j)&&j.meta.condition||d(j),j}();return Object.assign(v,{abort:g,requestId:h,arg:c,unwrap(){return v.then(iK)}})}}return Object.assign(l,{pending:s,rejected:i,fulfilled:a,settled:rK(i,a),typePrefix:e})}return t.withTypes=()=>t,t})();function iK(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function lK(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var cK=Symbol.for("rtk-slice-createasyncthunk");function uK(t,e){return`${t}/${e}`}function dK({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[cK];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(ws(11));const l=(typeof a.reducers=="function"?a.reducers(mK()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(C,x){const N=typeof C=="string"?C:C.type;if(!N)throw new Error(ws(12));if(N in u.sliceCaseReducersByType)throw new Error(ws(13));return u.sliceCaseReducersByType[N]=x,d},addMatcher(C,x){return u.sliceMatchers.push({matcher:C,reducer:x}),d},exposeAction(C,x){return u.actionCreators[C]=x,d},exposeCaseReducer(C,x){return u.sliceCaseReducersByName[C]=x,d}};c.forEach(C=>{const x=l[C],N={reducerName:C,type:uK(s,C),createNotation:typeof a.reducers=="function"};pK(x)?yK(N,x,d,e):hK(N,x,d)});function f(){const[C={},x=[],N=void 0]=typeof a.extraReducers=="function"?i3(a.extraReducers):[a.extraReducers],S={...C,...u.sliceCaseReducersByType};return eK(a.initialState,A=>{for(let I in S)A.addCase(I,S[I]);for(let I of u.sliceMatchers)A.addMatcher(I.matcher,I.reducer);for(let I of x)A.addMatcher(I.matcher,I.reducer);N&&A.addDefaultCase(N)})}const m=C=>C,h=new Map,y=new WeakMap;let p;function b(C,x){return p||(p=f()),p(C,x)}function g(){return p||(p=f()),p.getInitialState()}function v(C,x=!1){function N(A){let I=A[C];return typeof I>"u"&&x&&(I=zh(y,N,g)),I}function S(A=m){const I=zh(h,x,()=>new WeakMap);return zh(I,A,()=>{const T={};for(const[E,R]of Object.entries(a.selectors??{}))T[E]=fK(R,A,()=>zh(y,A,g),x);return T})}return{reducerPath:C,getSelectors:S,get selectors(){return S(N)},selectSlice:N}}const j={name:s,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...v(i),injectInto(C,{reducerPath:x,...N}={}){const S=x??i;return C.inject({reducerPath:S,reducer:b},N),{...j,...v(S,!0)}}};return j}}function fK(t,e,r,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=r()),t(l,...i)}return a.unwrapped=t,a}var we=dK();function mK(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function hK({type:t,reducerName:e,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!gK(n))throw new Error(ws(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,i?Jd(t,i):Jd(t))}function pK(t){return t._reducerDefinitionType==="asyncThunk"}function gK(t){return t._reducerDefinitionType==="reducerWithPrepare"}function yK({type:t,reducerName:e},r,n,a){if(!a)throw new Error(ws(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(t,s,d);n.exposeAction(e,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:i||Wh,pending:l||Wh,rejected:c||Wh,settled:u||Wh})}function Wh(){}function ws(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const bK="https://staging-engine.testthelink.online",xK=async(t,e)=>{var r,n;try{const a=await fetch(`${bK}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,password:e})}),s=await a.json();if(!a.ok||!s.token)throw new Error(s.message||((r=s.errors)==null?void 0:r.general)||"Login failed");if(((n=s.user.accessList)==null?void 0:n.length)>0){const i=s.user.accessList.length>=2?s.user.accessList[1]:s.user.accessList[0];localStorage.setItem("selectedRole",JSON.stringify(i))}return localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),s.user}catch(a){throw new Error(a.message)}},vK=async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("selectedRole"),null),jK=async t=>new Promise((e,r)=>{setTimeout(()=>{if(t){const n=localStorage.getItem("user");n?e(JSON.parse(n)):r(new Error("User not found"))}else r(new Error("Invalid token"))},500)}),wK=async(t,e)=>new Promise((r,n)=>{setTimeout(()=>{t==="password"?r({success:!0,message:"Password changed successfully"}):n(new Error("Current password is incorrect"))},800)}),jv={login:xK,logout:vK,fetchUserProfile:jK,changePassword:wK},NK={user:null,isAuthenticated:!1,isLoading:!1,error:null,selectedRole:null},Kp=U("auth/login",async({username:t,password:e},r)=>{try{return await jv.login(t,e)}catch(n){return r.rejectWithValue(n.message)}}),l3=U("auth/logout",async(t,e)=>{try{return await jv.logout(),null}catch(r){return e.rejectWithValue(r.message)}}),ON=U("auth/changePassword",async({currentPassword:t,newPassword:e},r)=>{try{return await jv.changePassword(t,e)}catch(n){return r.rejectWithValue(n.message)}}),Jp=U("auth/fetchUserProfile",async(t,e)=>{try{return await jv.fetchUserProfile(t)}catch(r){return e.rejectWithValue(r.message)}}),c3=U("auth/updateSelectedRole",async(t,e)=>{try{return localStorage.setItem("selectedRole",JSON.stringify(t)),t}catch(r){return e.rejectWithValue(r.message)}}),u3=we({name:"auth",initialState:NK,reducers:{resetAuthState:t=>{t.error=null}},extraReducers:t=>{t.addCase(Kp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kp.fulfilled,(e,r)=>{var n;if(e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload,((n=r.payload.accessList)==null?void 0:n.length)>0){const a=r.payload.accessList.length>=2?r.payload.accessList[1]:r.payload.accessList[0];e.selectedRole=a,localStorage.setItem("selectedRole",JSON.stringify(a))}}).addCase(Kp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(l3.fulfilled,e=>{e.user=null,e.isAuthenticated=!1,e.selectedRole=null}).addCase(Jp.pending,e=>{e.isLoading=!0}).addCase(Jp.fulfilled,(e,r)=>{var a;e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload;const n=localStorage.getItem("selectedRole");if(n)e.selectedRole=JSON.parse(n);else if(((a=r.payload.accessList)==null?void 0:a.length)>0){const s=r.payload.accessList.length>=2?r.payload.accessList[1]:r.payload.accessList[0];e.selectedRole=s}}).addCase(Jp.rejected,e=>{e.isLoading=!1,e.isAuthenticated=!1}).addCase(ON.pending,e=>{e.isLoading=!0}).addCase(ON.fulfilled,e=>{e.isLoading=!1}).addCase(ON.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(c3.fulfilled,(e,r)=>{e.selectedRole=r.payload})}}),{resetAuthState:U8e}=u3.actions,CK=u3.reducer;let SK={data:""},AK=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||SK,IK=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,kK=/\/\*[^]*?\*\/|  +/g,FD=/\n+/g,co=(t,e)=>{let r="",n="",a="";for(let s in t){let i=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+i+";":n+=s[1]=="f"?co(i,s):s+"{"+co(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=co(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=co.p?co.p(s,i):s+":"+i+";")}return r+(e&&a?e+"{"+a+"}":a)+n},es={},d3=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+d3(t[r]);return e}return t},TK=(t,e,r,n,a)=>{let s=d3(t),i=es[s]||(es[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!es[i]){let c=s!==t?t:(u=>{let d,f,m=[{}];for(;d=IK.exec(u.replace(kK,""));)d[4]?m.shift():d[3]?(f=d[3].replace(FD," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(FD," ").trim();return m[0]})(t);es[i]=co(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&es.g?es.g:null;return r&&(es.g=es[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(es[i],e,n,l),i},PK=(t,e,r)=>t.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":co(l,""):l===!1?"":l}return n+a+(i??"")},"");function wv(t){let e=this||{},r=t.call?t(e.p):t;return TK(r.unshift?r.raw?PK(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,AK(e.target),e.g,e.o,e.k)}let f3,FS,BS;wv.bind({g:1});let _s=wv.bind({k:1});function EK(t,e,r,n){co.p=e,f3=t,FS=r,BS=n}function Qo(t,e){let r=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:FS&&FS()},l),r.o=/ *go\d+/.test(c),l.className=wv.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),BS&&u[0]&&BS(l),f3(u,l)}return a}}var DK=t=>typeof t=="function",Dx=(t,e)=>DK(t)?t(e):t,OK=(()=>{let t=0;return()=>(++t).toString()})(),m3=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),_K=20,h3=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,_K)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return h3(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},Xp=[],Di={toasts:[],pausedAt:void 0},Sl=t=>{Di=h3(Di,t),Xp.forEach(e=>{e(Di)})},RK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$K=(t={})=>{let[e,r]=w.useState(Di),n=w.useRef(Di);w.useEffect(()=>(n.current!==Di&&r(Di),Xp.push(r),()=>{let s=Xp.indexOf(r);s>-1&&Xp.splice(s,1)}),[]);let a=e.toasts.map(s=>{var i,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||RK[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:a}},MK=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||OK()}),Qm=t=>(e,r)=>{let n=MK(e,t,r);return Sl({type:2,toast:n}),n.id},ie=(t,e)=>Qm("blank")(t,e);ie.error=Qm("error");ie.success=Qm("success");ie.loading=Qm("loading");ie.custom=Qm("custom");ie.dismiss=t=>{Sl({type:3,toastId:t})};ie.remove=t=>Sl({type:4,toastId:t});ie.promise=(t,e,r)=>{let n=ie.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let s=e.success?Dx(e.success,a):void 0;return s?ie.success(s,{id:n,...r,...r==null?void 0:r.success}):ie.dismiss(n),a}).catch(a=>{let s=e.error?Dx(e.error,a):void 0;s?ie.error(s,{id:n,...r,...r==null?void 0:r.error}):ie.dismiss(n)}),t};var LK=(t,e)=>{Sl({type:1,toast:{id:t,height:e}})},FK=()=>{Sl({type:5,time:Date.now()})},Xd=new Map,BK=1e3,qK=(t,e=BK)=>{if(Xd.has(t))return;let r=setTimeout(()=>{Xd.delete(t),Sl({type:4,toastId:t})},e);Xd.set(t,r)},VK=t=>{let{toasts:e,pausedAt:r}=$K(t);w.useEffect(()=>{if(r)return;let s=Date.now(),i=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&ie.dismiss(l.id);return}return setTimeout(()=>ie.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=w.useCallback(()=>{r&&Sl({type:6,time:Date.now()})},[r]),a=w.useCallback((s,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},d=e.filter(h=>(h.position||u)===(s.position||u)&&h.height),f=d.findIndex(h=>h.id===s.id),m=d.filter((h,y)=>y<f&&h.visible).length;return d.filter(h=>h.visible).slice(...l?[m+1]:[0,m]).reduce((h,y)=>h+(y.height||0)+c,0)},[e]);return w.useEffect(()=>{e.forEach(s=>{if(s.dismissed)qK(s.id,s.removeDelay);else{let i=Xd.get(s.id);i&&(clearTimeout(i),Xd.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:LK,startPause:FK,endPause:n,calculateOffset:a}}},UK=_s`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zK=_s`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,WK=_s`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,HK=Qo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${WK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,GK=_s`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,YK=Qo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${GK} 1s linear infinite;
`,KK=_s`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,JK=_s`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,XK=Qo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${JK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,QK=Qo("div")`
  position: absolute;
`,ZK=Qo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,eJ=_s`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tJ=Qo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${eJ} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,rJ=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?w.createElement(tJ,null,e):e:r==="blank"?null:w.createElement(ZK,null,w.createElement(YK,{...n}),r!=="loading"&&w.createElement(QK,null,r==="error"?w.createElement(HK,{...n}):w.createElement(XK,{...n})))},nJ=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,aJ=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,sJ="0%{opacity:0;} 100%{opacity:1;}",oJ="0%{opacity:1;} 100%{opacity:0;}",iJ=Qo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,lJ=Qo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,cJ=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=m3()?[sJ,oJ]:[nJ(r),aJ(r)];return{animation:e?`${_s(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_s(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},uJ=w.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?cJ(t.position||e||"top-center",t.visible):{opacity:0},s=w.createElement(rJ,{toast:t}),i=w.createElement(lJ,{...t.ariaProps},Dx(t.message,t));return w.createElement(iJ,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:s,message:i}):w.createElement(w.Fragment,null,s,i))});EK(w.createElement);var dJ=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let s=w.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return w.createElement("div",{ref:s,className:e,style:r},a)},fJ=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:m3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},mJ=wv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Hh=16,hJ=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:s,containerClassName:i})=>{let{toasts:l,handlers:c}=VK(r);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Hh,left:Hh,right:Hh,bottom:Hh,pointerEvents:"none",...s},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),m=fJ(d,f);return w.createElement(dJ,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?mJ:"",style:m},u.type==="custom"?Dx(u.message,u):a?a(u):w.createElement(uJ,{toast:u,position:d}))}))},z=ie;function p3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=p3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Le(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=p3(t))&&(n&&(n+=" "),n+=e);return n}function pJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const g3=w.forwardRef(pJ);function gJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Ja=w.forwardRef(gJ);function yJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const bJ=w.forwardRef(yJ);function xJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const vJ=w.forwardRef(xJ);function jJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const wJ=w.forwardRef(jJ);function NJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const CJ=w.forwardRef(NJ);function SJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const UT=w.forwardRef(SJ);function AJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const qS=w.forwardRef(AJ);function IJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const kJ=w.forwardRef(IJ);function TJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const BD=w.forwardRef(TJ);function PJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const y3=w.forwardRef(PJ);function EJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const b3=w.forwardRef(EJ);function DJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const qD=w.forwardRef(DJ);function OJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const _J=w.forwardRef(OJ);function RJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ox=w.forwardRef(RJ);function $J({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const MJ=w.forwardRef($J);function LJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const FJ=w.forwardRef(LJ);function BJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Zo=w.forwardRef(BJ);function qJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const VJ=w.forwardRef(qJ);function UJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const zJ=w.forwardRef(UJ);function WJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const HJ=w.forwardRef(WJ);function GJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const YJ=w.forwardRef(GJ);function KJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Pe=w.forwardRef(KJ);function JJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Te=w.forwardRef(JJ);function XJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const Zm=w.forwardRef(XJ);function QJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const ZJ=w.forwardRef(QJ);function eX({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Be=w.forwardRef(eX);function tX({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const rX=w.forwardRef(tX);function nX({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const VD=w.forwardRef(nX);function aX({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const sX=w.forwardRef(aX);function oX({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const x3=w.forwardRef(oX),iX=[{name:"Dashboard",href:"/dashboard",icon:zJ},{name:"Settings",icon:y3,submenu:[{name:"Departments",href:"/settings/departments",moduleId:39},{name:"Subdepartments",href:"/settings/subdepartments",moduleId:76},{name:"Users",submenu:[{name:"Approval Matrix",href:"/settings/approval-matrix",moduleId:17},{name:"User Access",href:"/settings/user-access",moduleId:83},{name:"User Roles",href:"/settings/user-roles",moduleId:84},{name:"User",href:"/settings/users",moduleId:82}]},{name:"Locations",href:"/settings/locations"},{name:"Accounting Settings",submenu:[{name:"Bank Details",submenu:[{name:"Bank",href:"/settings/bank",moduleId:18},{name:"Currency",href:"/settings/currency",moduleId:37}]},{name:"Document Details",submenu:[{name:"Document Type",href:"/settings/document-details",moduleId:41},{name:"Document Type Category",href:"/settings/document-type-categories",moduleId:42}]},{name:"Items Settings",submenu:[{name:"Item List",href:"/settings/items",moduleId:55},{name:"Item Units",href:"/settings/items/units",moduleId:56}]},{name:"Project Settings",submenu:[{name:"Project Details",href:"/settings/project-details",moduleId:65},{name:"Project Type",href:"/settings/project-type",moduleId:87}]},{name:"Financial Statement",href:"/settings/financial-statement",moduleId:44},{name:"Fiscal Year",href:"/settings/fiscal-year",moduleId:45},{name:"Tax Code",href:"/settings/tax-code",moduleId:78},{name:"Mode of Payment",href:"/settings/mode-of-payment",moduleId:60},{name:"Payment Terms",href:"/settings/payment-terms",moduleId:63},{name:"Industry",href:"/settings/industry",moduleId:53}]},{name:"Real Property",submenu:[{name:"Tax Declaration",href:"/settings/tax-declaration",moduleId:79},{name:"Base Unit Value",href:"/settings/base-unit-value",moduleId:20},{name:"General Revision",href:"/settings/general-revision",moduleId:51}]},{name:"LGU Maintenance",href:"/settings/lgu-maintenance",moduleId:58},{name:"Chart of Accounts Settings",submenu:[{name:"Chart of Accounts",href:"/settings/chart-of-accounts",moduleId:31},{name:"Account Group",href:"/settings/account-group",moduleId:88},{name:"Major Account Group",href:"/settings/major-account-group",moduleId:89},{name:"Sub Major Account Group",href:"/settings/sub-major-account-group",moduleId:90}]},{name:"Vendors",submenu:[{name:"Vendor Details",href:"/settings/vendors",moduleId:86},{name:"Vendor Customer Type",href:"/settings/vendor-customer-type",moduleId:91},{name:"Vendor Type",href:"/settings/vendor-type",moduleId:92}]},{name:"Employee",submenu:[{name:"Employee Details",href:"/settings/employees",moduleId:43},{name:"Employment Status",href:"/settings/employmentStatus",moduleId:93},{name:"Positions",href:"/settings/positions",moduleId:36},{name:"Nationalities",href:"/settings/nationalities",moduleId:94}]},{name:"Individual/Citizen",href:"/settings/customer",moduleId:38},{name:"PPE Settings",submenu:[{name:"PPE List",href:"/settings/ppe",moduleId:64},{name:"PPE Categories",href:"/settings/ppe-categories",moduleId:95},{name:"PPE Suppliers",href:"/settings/ppe-suppliers",moduleId:96}]}]},{name:"Disbursement",icon:b3,submenu:[{name:"Obligation Request",href:"/disbursement/obligation-requests",moduleId:62},{name:"Disbursement Voucher",href:"/disbursement/vouchers",moduleId:40},{name:"Travel Order",href:"/disbursement/travel-orders",moduleId:80},{name:"Journal Entry Voucher",href:"/disbursement/journal-entry-vouchers",moduleId:57},{name:"Disbursement Journals",href:"/disbursement/disbursement-journals",moduleId:32},{name:"General Journals",href:"/disbursement/general-journals",moduleId:49},{name:"Beginning Balance",href:"/disbursement/beginning-balance",moduleId:21},{name:"Purchase Request",href:"/disbursement/purchase-requests",moduleId:69},{name:"Fund Utilization Requests and Status",href:"/disbursement/fund-utilization-requests",moduleId:47}]},{name:"Collections",icon:ZJ,submenu:[{name:"Community Tax",href:"/collections/community-tax",moduleId:34},{name:"Community Tax Corporation",href:"/collections/community-tax-corporation",moduleId:35},{name:"General Service Receipt",href:"/collections/general-service-receipts",moduleId:52},{name:"Burial Service Receipt",href:"/collections/burial-service-receipts",moduleId:28},{name:"Marriage Service Receipt",href:"/collections/marriage-service-receipts",moduleId:59},{name:"Real Property Tax",href:"/collections/real-property-tax",moduleId:70},{name:"Cashbook",href:"/collections/cashbook",moduleId:30},{name:"Collection Report",href:"/collections/reports"},{name:"Public Market Ticket",href:"/collections/public-market-tickets",moduleId:68}]},{name:"Applications",icon:Ox,submenu:[{name:"Business Permits",href:"/applications/business-permits",moduleId:29},{name:"Cheque Generator",href:"/applications/cheque-generator",moduleId:33}]},{name:"Budget",icon:_J,submenu:[{name:"Budget Details",href:"/budget/details",moduleId:22},{name:"Budget Allotment",href:"/budget/allotment",moduleId:23},{name:"Budget Summary",href:"/budget/summary",moduleId:25},{name:"Budget Supplemental",href:"/budget/supplemental",moduleId:26},{name:"Budget Transfer",href:"/budget/transfer",moduleId:27},{name:"Budget Report",href:"/budget/report",moduleId:24},{name:"Funds",href:"/budget/funds",moduleId:48},{name:"Sub-funds",href:"/budget/sub-funds",moduleId:97},{name:"Fund Transfer",href:"/budget/fund-transfer",moduleId:46},{name:"Statement of Comparison",href:"/budget/statement-comparison",moduleId:73},{name:"Statement of Appropriation, Allotment, Obligation, Balances",href:"/budget/statement-appropriation",moduleId:72}]},{name:"Reports",icon:qS,submenu:[{name:"General Ledger",href:"/reports/general-ledger",moduleId:50},{name:"Subsidiary Ledger",href:"/reports/subsidiary-ledger",moduleId:77},{name:"Trial Balance",href:"/reports/trial-balance",moduleId:81},{name:"Financial Statements",href:"/reports/financial-statements"}]},{name:"BIR Reports",href:"/reports/bir",icon:qS,moduleId:16}];function v3({items:t,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s=0,parentPath:i="",hasViewPermission:l}){return o.jsx("div",{className:Le("space-y-1",s>0&&"ml-4 border-l-2 border-neutral-200 pl-3"),children:t.map(c=>{const u=i?`${i}.${c.name}`:c.name,d=e[u],f=a(c.submenu||[]);return l(c.moduleId)?o.jsx("div",{className:"relative",children:c.submenu?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:m=>{m.preventDefault(),r(u)},className:Le("group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",f?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100",d&&"border-l-4 border-primary-500",s>0&&"pl-2"),children:[o.jsxs("div",{className:"flex items-center",children:[c.icon&&o.jsx(c.icon,{className:Le("mr-3 h-5 w-5 flex-shrink-0",f?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:c.name})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("svg",{className:Le("h-5 w-5 transform transition-transform flex-shrink-0",d?"rotate-180 text-primary-500":"text-neutral-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),d&&o.jsxs("div",{className:"mt-1",children:[" ",o.jsx(v3,{items:c.submenu,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s+1,parentPath:u,hasViewPermission:l})]})]}):o.jsxs(xc,{to:c.href,className:Le("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n(c.href)?"bg-primary-50 text-primary-700 border-l-4 border-primary-500":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900",s>0&&"pl-2"),children:[c.icon&&o.jsx(c.icon,{className:Le("mr-3 h-5 w-5 flex-shrink-0",n(c.href)?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:c.name})]})},u):null})})}function lX(){var f,m;const t=Xo(),{user:e,selectedRole:r}=H(h=>h.auth),[n,a]=w.useState({}),s=h=>{a(y=>({...y,[h]:!y[h]}))},i=h=>t.pathname===h||t.pathname===h+"/",l=h=>h.some(y=>y.href?t.pathname===y.href:y.children&&l(y.children)),c=(r==null?void 0:r.Description)==="Administrator";function u(h){if(c||!h)return!0;if(!(r!=null&&r.ModuleAccesses))return!1;const y=r.ModuleAccesses.find(p=>p.ModuleID===h);return y==null?void 0:y.View}const d=iX.map(h=>{if(h.submenu){const y=h.submenu.filter(p=>p.submenu?p.submenu.filter(g=>u(g.moduleId)).length>0:u(p.moduleId));return y.length>0?{...h,submenu:y}:null}return u(h.moduleId)?h:null}).filter(Boolean);return o.jsxs("div",{className:"h-full flex flex-col border-r border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex items-center justify-center h-16 border-b border-neutral-200 bg-primary-800",children:o.jsx("h1",{className:"text-white text-xl font-bold px-4",children:"LGU System"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:o.jsx("nav",{className:"space-y-1 px-2",children:o.jsx(v3,{items:d,expandedMenus:n,toggleMenu:s,isActive:i,isSubMenuActive:l,hasViewPermission:u})})}),e&&o.jsxs("div",{className:"flex items-center px-4 py-3 border-t border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white font-medium text-sm",children:[((f=e.firstName)==null?void 0:f.charAt(0))||"",((m=e.lastName)==null?void 0:m.charAt(0))||""]})}),o.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-700 truncate",children:e.UserName||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500 truncate",children:e.department})]})]})]})}function Fl(t,e,r){let n=r.initialDeps??[],a;function s(){var i,l,c,u;let d;r.key&&((i=r.debug)!=null&&i.call(r))&&(d=Date.now());const f=t();if(!(f.length!==n.length||f.some((y,p)=>n[p]!==y)))return a;n=f;let h;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(h=Date.now()),a=e(...f),r.key&&((c=r.debug)!=null&&c.call(r))){const y=Math.round((Date.now()-d)*100)/100,p=Math.round((Date.now()-h)*100)/100,b=p/16,g=(v,j)=>{for(v=String(v);v.length<j;)v=" "+v;return v};console.info(`%c ${g(p,5)} /${g(y,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,a),a}return s.updateDeps=i=>{n=i},s}function UD(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const cX=(t,e)=>Math.abs(t-e)<1.01,uX=(t,e,r)=>{let n;return function(...a){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,a),r)}},zD=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},dX=t=>t,fX=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let a=e;a<=r;a++)n.push(a);return n},mX=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const a=i=>{const{width:l,height:c}=i;e({width:Math.round(l),height:Math.round(c)})};if(a(zD(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(i=>{const l=()=>{const c=i[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){a({width:u.inlineSize,height:u.blockSize});return}}a(zD(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},WD={passive:!0},HD=typeof window>"u"?!0:"onscrollend"in window,hX=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let a=0;const s=t.options.useScrollendEvent&&HD?()=>{}:uX(n,()=>{e(a,!1)},t.options.isScrollingResetDelay),i=d=>()=>{const{horizontal:f,isRtl:m}=t.options;a=f?r.scrollLeft*(m&&-1||1):r.scrollTop,s(),e(a,d)},l=i(!0),c=i(!1);c(),r.addEventListener("scroll",l,WD);const u=t.options.useScrollendEvent&&HD;return u&&r.addEventListener("scrollend",c,WD),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},pX=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},gX=(t,{adjustments:e=0,behavior:r},n)=>{var a,s;const i=t+e;(s=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class yX{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const i=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var s;return(s=n())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=n())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:dX,rangeExtractor:fX,onChange:()=>{},measureElement:pX,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=Fl(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,s=new Map;for(let i=n-1;i>=0;i--){const l=r[i];if(a.has(l.lane))continue;const c=s.get(l.lane);if(c==null||l.end>c.end?s.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=Fl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i}),{key:!1}),this.getMeasurements=Fl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const f=s(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),h=m?m.end+this.options.gap:n+a,y=l.get(f),p=typeof y=="number"?y:this.options.estimateSize(d),b=h+p,g=m?m.lane:d%this.options.lanes;u[d]={index:d,start:h,size:p,end:b,key:f,lane:g}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Fl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,s)=>this.range=r.length>0&&n>0?bX({measurements:r,outerSize:n,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Fl(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,s,i)=>s===null||i===null?[]:r({startIndex:s,endIndex:i,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),s=this.measurementsCache[a];if(!s)return;const i=s.key,l=this.elementsCache.get(i);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(i,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,i=n-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,i,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=Fl(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let s=0,i=r.length;s<i;s++){const l=r[s],c=n[l];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return UD(n[j3(0,n.length-1,a=>UD(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const s=this.getSize(),i=this.getScrollOffset();n==="auto"&&(n=r>=i+s?"end":"start"),n==="center"?r+=(a-s)/2:n==="end"&&(r-=s);const l=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const s=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(a.end>=i+s-this.options.scrollPaddingEnd)n="end";else if(a.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const l=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let s=0;const i=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(r,u);if(!d){console.warn("Failed to get offset for index:",r);return}const[f,m]=d;this._scrollToOffset(f,{adjustments:void 0,behavior:a}),this.targetWindow.requestAnimationFrame(()=>{const h=this.getScrollOffset(),y=this.getOffsetForIndex(r,m);if(!y){console.warn("Failed to get offset for index:",r);return}cX(y[0],h)||c(m)})},c=u=>{this.targetWindow&&(s++,s<i?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${r} after ${i} attempts.`))};l(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let i=n.length-1;for(;i>=0&&s.some(l=>l===null);){const l=n[i];s[l.lane]===null&&(s[l.lane]=l.end),i--}a=Math.max(...s.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const j3=(t,e,r,n)=>{for(;t<=e;){const a=(t+e)/2|0,s=r(a);if(s<n)t=a+1;else if(s>n)e=a-1;else return a}return t>0?t-1:0};function bX({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const a=t.length-1,s=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:a};let i=j3(0,a,s,r),l=i;if(n===1)for(;l<a&&t[l].end<r+e;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<a&&c.some(d=>d<r+e);){const d=t[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+e);for(;i>=0&&u.some(d=>d>=r);){const d=t[i];u[d.lane]=d.start,i--}i=Math.max(0,i-i%n),l=Math.min(a,l+(n-1-l%n))}return{startIndex:i,endIndex:l}}const GD=typeof document<"u"?w.useLayoutEffect:w.useEffect;function xX(t){const e=w.useReducer(()=>({}),{})[1],r={...t,onChange:(a,s)=>{var i;s?pv.flushSync(e):e(),(i=t.onChange)==null||i.call(t,a,s)}},[n]=w.useState(()=>new yX(r));return n.setOptions(r),GD(()=>n._didMount(),[]),GD(()=>n._willUpdate()),n}function vX(t){return xX({observeElementRect:mX,observeElementOffset:hX,scrollToFn:gX,...t})}var jX=Object.defineProperty,wX=(t,e,r)=>e in t?jX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_N=(t,e,r)=>(wX(t,typeof e!="symbol"?e+"":e,r),r);let NX=class{constructor(){_N(this,"current",this.detect()),_N(this,"handoffState","pending"),_N(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ns=new NX,xt=(t,e)=>{Ns.isServer?w.useEffect(t,e):w.useLayoutEffect(t,e)};function ba(t){let e=w.useRef(t);return xt(()=>{e.current=t},[t]),e}function zT(t,e){let[r,n]=w.useState(t),a=ba(t);return xt(()=>n(a.current),[a,n,...e]),r}let Ie=function(t){let e=ba(t);return G.useCallback((...r)=>e.current(...r),[e])};function CX(t,e,r){let[n,a]=w.useState(r),s=t!==void 0,i=w.useRef(s),l=w.useRef(!1),c=w.useRef(!1);return s&&!i.current&&!l.current?(l.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:n,Ie(u=>(s||a(u),e==null?void 0:e(u)))]}function Nv(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function _n(){let t=[],e={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),e.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Nv(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=_n();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}function ei(){let[t]=w.useState(_n);return w.useEffect(()=>()=>t.dispose(),[t]),t}function SX(){let t=typeof document>"u";return(e=>e.useSyncExternalStore)(Af)(()=>()=>{},()=>!1,()=>!t)}function Su(){let t=SX(),[e,r]=w.useState(Ns.isHandoffComplete);return e&&Ns.isHandoffComplete===!1&&r(!1),w.useEffect(()=>{e!==!0&&r(!0)},[e]),w.useEffect(()=>Ns.handoff(),[]),t?!1:e}var YD;let yn=(YD=G.useId)!=null?YD:function(){let t=Su(),[e,r]=G.useState(t?()=>Ns.nextId():null);return xt(()=>{e===null&&r(Ns.nextId())},[e]),e!=null?""+e:void 0};function Ft(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ft),n}function Cv(t){return Ns.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let VS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var fs=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(fs||{}),w3=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(w3||{}),AX=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(AX||{});function N3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(VS)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var WT=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(WT||{});function HT(t,e=0){var r;return t===((r=Cv(t))==null?void 0:r.body)?!1:Ft(e,{0(){return t.matches(VS)},1(){let n=t;for(;n!==null;){if(n.matches(VS))return!0;n=n.parentElement}return!1}})}function C3(t){let e=Cv(t);_n().nextFrame(()=>{e&&!HT(e.activeElement,0)&&ko(t)})}var IX=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(IX||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ko(t){t==null||t.focus({preventScroll:!0})}let kX=["textarea","input"].join(",");function TX(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,kX))!=null?r:!1}function GT(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),s=e(n);if(a===null||s===null)return 0;let i=a.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function PX(t,e){return Qd(N3(),e,{relativeTo:t})}function Qd(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,i=Array.isArray(t)?r?GT(t):t:N3(t);a.length>0&&i.length>1&&(i=i.filter(h=>!a.includes(h))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,i.indexOf(n))-1;if(e&4)return Math.max(0,i.indexOf(n))+1;if(e&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=i.length,m;do{if(d>=f||d+f<=0)return 0;let h=c+d;if(e&16)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}m=i[h],m==null||m.focus(u),d+=l}while(m!==s.activeElement);return e&6&&TX(m)&&m.select(),2}function S3(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function EX(){return/Android/gi.test(window.navigator.userAgent)}function A3(){return S3()||EX()}function Gh(t,e,r){let n=ba(e);w.useEffect(()=>{function a(s){n.current(s)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[t,r])}function I3(t,e,r){let n=ba(e);w.useEffect(()=>{function a(s){n.current(s)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[t,r])}function YT(t,e,r=!0){let n=w.useRef(!1);w.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(i,l){if(!n.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!HT(c,WT.Loose)&&c.tabIndex!==-1&&i.preventDefault(),e(i,c)}let s=w.useRef(null);Gh("pointerdown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Gh("mousedown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Gh("click",i=>{A3()||s.current&&(a(i,()=>s.current),s.current=null)},!0),Gh("touchend",i=>a(i,()=>i.target instanceof HTMLElement?i.target:null),!0),I3("blur",i=>a(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Al(...t){return w.useMemo(()=>Cv(...t),[...t])}function KD(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function k3(t,e){let[r,n]=w.useState(()=>KD(t));return xt(()=>{n(KD(t))},[t.type,t.as]),xt(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let T3=Symbol();function DX(t,e=!0){return Object.assign(t,{[T3]:e})}function dr(...t){let e=w.useRef(t);w.useEffect(()=>{e.current=t},[t]);let r=Ie(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||(n==null?void 0:n[T3]))?void 0:r}function JD(t){return[t.screenX,t.screenY]}function P3(){let t=w.useRef([-1,-1]);return{wasMoved(e){let r=JD(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=JD(e)}}}function E3({container:t,accept:e,walk:r,enabled:n=!0}){let a=w.useRef(e),s=w.useRef(r);w.useEffect(()=>{a.current=e,s.current=r},[e,r]),xt(()=>{if(!t||!n)return;let i=Cv(t);if(!i)return;let l=a.current,c=s.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,n,a,s])}function Yf(t,e){let r=w.useRef([]),n=Ie(t);w.useEffect(()=>{let a=[...r.current];for(let[s,i]of e.entries())if(r.current[s]!==i){let l=n(e,a);return r.current=e,l}},[n,...e])}function _x(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Vo=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Vo||{}),ho=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ho||{});function tr({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:a,visible:s=!0,name:i,mergeRefs:l}){l=l??OX;let c=D3(e,t);if(s)return Yh(c,r,n,i,l);let u=a??0;if(u&2){let{static:d=!1,...f}=c;if(d)return Yh(f,r,n,i,l)}if(u&1){let{unmount:d=!0,...f}=c;return Ft(d?0:1,{0(){return null},1(){return Yh({...f,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return Yh(c,r,n,i,l)}function Yh(t,e={},r,n,a){let{as:s=r,children:i,refName:l="ref",...c}=RN(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof i=="function"?i(e):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let m=!1,h=[];for(let[y,p]of Object.entries(e))typeof p=="boolean"&&(m=!0),p===!0&&h.push(y);m&&(f["data-headlessui-state"]=h.join(" "))}if(s===w.Fragment&&Object.keys(US(c)).length>0){if(!w.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`));let m=d.props,h=typeof(m==null?void 0:m.className)=="function"?(...p)=>_x(m==null?void 0:m.className(...p),c.className):_x(m==null?void 0:m.className,c.className),y=h?{className:h}:{};return w.cloneElement(d,Object.assign({},D3(d.props,US(RN(c,["ref"]))),f,u,{ref:a(d.ref,u.ref)},y))}return w.createElement(s,Object.assign({},RN(c,["ref"]),s!==w.Fragment&&u,s!==w.Fragment&&f),d)}function OX(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function D3(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](a,...s){let i=r[n];for(let l of i){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...s)}}});return e}function Ht(t){var e;return Object.assign(w.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function US(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function RN(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let _X="div";var Kf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Kf||{});function RX(t,e){var r;let{features:n=1,...a}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return tr({ourProps:s,theirProps:a,slot:{},defaultTag:_X,name:"Hidden"})}let Rx=Ht(RX),KT=w.createContext(null);KT.displayName="OpenClosedContext";var nr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(nr||{});function eh(){return w.useContext(KT)}function JT({value:t,children:e}){return G.createElement(KT.Provider,{value:t},e)}function $X(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let $a=[];$X(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&$a[0]!==e.target&&($a.unshift(e.target),$a=$a.filter(r=>r!=null&&r.isConnected),$a.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function XT(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&MX(r)?!1:n}function MX(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function LX(t){throw new Error("Unexpected object: "+t)}var mt=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(mt||{});function zS(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),a=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{for(let s=a-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=a+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:LX(t)}}function O3(t={},e=null,r=[]){for(let[n,a]of Object.entries(t))R3(r,_3(e,n),a);return r}function _3(t,e){return t?t+"["+e+"]":e}function R3(t,e,r){if(Array.isArray(r))for(let[n,a]of r.entries())R3(t,_3(e,n.toString()),a);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):O3(r,e,t)}var ct=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ct||{}),FX={},BX=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(BX||{}),qX=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(qX||{}),VX=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(VX||{}),UX=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(UX||{});function $N(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=e(t.options.slice()),a=n.length>0&&n[0].dataRef.current.order!==null?n.sort((i,l)=>i.dataRef.current.order-l.dataRef.current.order):GT(n,i=>i.dataRef.current.domRef.current),s=r?a.indexOf(r):null;return s===-1&&(s=null),{options:a,activeOptionIndex:s}}let zX={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,r;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((r=t.dataRef.current)!=null&&r.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var r,n,a,s,i;if((r=t.dataRef.current)!=null&&r.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((a=t.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let d=e.focus===mt.Specific?e.idx:zS(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var m,h;return(h=(m=t.activeOptionIndex)!=null?m:t.virtual.options.findIndex(y=>!t.virtual.disabled(y)))!=null?h:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(s=e.trigger)!=null?s:2;return t.activeOptionIndex===d&&t.activationTrigger===f?t:{...t,activeOptionIndex:d,activationTrigger:f}}let l=$N(t);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=e.focus===mt.Specific?e.idx:zS(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===c&&t.activationTrigger===u?t:{...t,...l,activeOptionIndex:c,activationTrigger:u}},3:(t,e)=>{var r,n,a;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,e.payload]};let s=e.payload,i=$N(t,c=>(c.push(s),c));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(s));let l={...t,...i,activationTrigger:2};return(a=t.dataRef.current)!=null&&a.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var r;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:t.options.filter(a=>a.id!==e.id)};let n=$N(t,a=>{let s=a.findIndex(i=>i.id===e.id);return s!==-1&&a.splice(s,1),a});return{...t,...n,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var r;if(((r=t.virtual)==null?void 0:r.options)===e.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let a=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);a!==-1?n=a:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:e.options})}}},QT=w.createContext(null);QT.displayName="ComboboxActionsContext";function th(t){let e=w.useContext(QT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,th),r}return e}let $3=w.createContext(null);function WX(t){var e;let r=Il("VirtualProvider"),[n,a]=w.useMemo(()=>{let c=r.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[r.optionsRef.current]),s=vX({scrollPaddingStart:n,scrollPaddingEnd:a,count:r.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=r.optionsRef.current)!=null?c:null},overscan:12}),[i,l]=w.useState(0);return xt(()=>{l(c=>c+1)},[(e=r.virtual)==null?void 0:e.options]),G.createElement($3.Provider,{value:s},G.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&FX.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&r.virtual.options.length>r.activeOptionIndex&&s.scrollToIndex(r.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return G.createElement(w.Fragment,{key:c.key},G.cloneElement((u=t.children)==null?void 0:u.call(t,{option:r.virtual.options[c.index],open:r.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":r.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let ZT=w.createContext(null);ZT.displayName="ComboboxDataContext";function Il(t){let e=w.useContext(ZT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Il),r}return e}function HX(t,e){return Ft(e.type,zX,t,e)}let GX=w.Fragment;function YX(t,e){let{value:r,defaultValue:n,onChange:a,form:s,name:i,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:m=!1,virtual:h=null,...y}=t,p=!1,b=null,[g=f?[]:void 0,v]=CX(r,a,n),[j,C]=w.useReducer(HX,{dataRef:w.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),x=w.useRef(!1),N=w.useRef({static:!1,hold:!1}),S=w.useRef(null),A=w.useRef(null),I=w.useRef(null),T=w.useRef(null),E=Ie(typeof l=="string"?(ee,re)=>{let K=l;return(ee==null?void 0:ee[K])===(re==null?void 0:re[K])}:l??((ee,re)=>ee===re)),R=Ie(ee=>j.options.findIndex(re=>E(re.dataRef.current.value,ee))),M=w.useCallback(ee=>Ft(P.mode,{1:()=>g.some(re=>E(re,ee)),0:()=>E(g,ee)}),[g]),L=Ie(ee=>j.activeOptionIndex===R(ee)),P=w.useMemo(()=>({...j,immediate:p,optionsPropsRef:N,labelRef:S,inputRef:A,buttonRef:I,optionsRef:T,value:g,defaultValue:n,disabled:c,mode:f?1:0,virtual:j.virtual,get activeOptionIndex(){if(x.current&&j.activeOptionIndex===null&&j.options.length>0){let ee=j.options.findIndex(re=>!re.dataRef.current.disabled);if(ee!==-1)return ee}return j.activeOptionIndex},calculateIndex:R,compare:E,isSelected:M,isActive:L,nullable:d,__demoMode:u}),[g,n,c,f,d,u,j,b]);xt(()=>{},[b,void 0]),xt(()=>{j.dataRef.current=P},[P]),YT([P.buttonRef,P.inputRef,P.optionsRef],()=>fe.closeCombobox(),P.comboboxState===0);let _=w.useMemo(()=>{var ee,re,K;return{open:P.comboboxState===0,disabled:c,activeIndex:P.activeOptionIndex,activeOption:P.activeOptionIndex===null?null:P.virtual?P.virtual.options[(ee=P.activeOptionIndex)!=null?ee:0]:(K=(re=P.options[P.activeOptionIndex])==null?void 0:re.dataRef.current.value)!=null?K:null,value:g}},[P,c,g]),q=Ie(()=>{if(P.activeOptionIndex!==null){if(P.virtual)B(P.virtual.options[P.activeOptionIndex]);else{let{dataRef:ee}=P.options[P.activeOptionIndex];B(ee.current.value)}fe.goToOption(mt.Specific,P.activeOptionIndex)}}),F=Ie(()=>{C({type:0}),x.current=!0}),O=Ie(()=>{C({type:1}),x.current=!1}),V=Ie((ee,re,K)=>(x.current=!1,ee===mt.Specific?C({type:2,focus:mt.Specific,idx:re,trigger:K}):C({type:2,focus:ee,trigger:K}))),W=Ie((ee,re)=>(C({type:3,payload:{id:ee,dataRef:re}}),()=>{P.isActive(re.current.value)&&(x.current=!0),C({type:4,id:ee})})),$=Ie(ee=>(C({type:5,id:ee}),()=>C({type:5,id:null}))),B=Ie(ee=>Ft(P.mode,{0(){return v==null?void 0:v(ee)},1(){let re=P.value.slice(),K=re.findIndex(Y=>E(Y,ee));return K===-1?re.push(ee):re.splice(K,1),v==null?void 0:v(re)}})),Q=Ie(ee=>{C({type:6,trigger:ee})}),fe=w.useMemo(()=>({onChange:B,registerOption:W,registerLabel:$,goToOption:V,closeCombobox:O,openCombobox:F,setActivationTrigger:Q,selectActiveOption:q}),[]),ae=e===null?{}:{ref:e},J=w.useRef(null),oe=ei();return w.useEffect(()=>{J.current&&n!==void 0&&oe.addEventListener(J.current,"reset",()=>{v==null||v(n)})},[J,v]),G.createElement(QT.Provider,{value:fe},G.createElement(ZT.Provider,{value:P},G.createElement(JT,{value:Ft(P.comboboxState,{0:nr.Open,1:nr.Closed})},i!=null&&g!=null&&O3({[i]:g}).map(([ee,re],K)=>G.createElement(Rx,{features:Kf.Hidden,ref:K===0?Y=>{var ue;J.current=(ue=Y==null?void 0:Y.closest("form"))!=null?ue:null}:void 0,...US({key:ee,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:ee,value:re})})),tr({ourProps:ae,theirProps:y,slot:_,defaultTag:GX,name:"Combobox"}))))}let KX="input";function JX(t,e){var r,n,a,s,i;let l=yn(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...m}=t,h=Il("Combobox.Input"),y=th("Combobox.Input"),p=dr(h.inputRef,e),b=Al(h.inputRef),g=w.useRef(!1),v=ei(),j=Ie(()=>{y.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),y.goToOption(mt.Nothing)}),C=function(){var P;return typeof d=="function"&&h.value!==void 0?(P=d(h.value))!=null?P:"":typeof h.value=="string"?h.value:""}();Yf(([P,_],[q,F])=>{if(g.current)return;let O=h.inputRef.current;O&&((F===0&&_===1||P!==q)&&(O.value=P),requestAnimationFrame(()=>{if(g.current||!O||(b==null?void 0:b.activeElement)!==O)return;let{selectionStart:V,selectionEnd:W}=O;Math.abs((W??0)-(V??0))===0&&V===0&&O.setSelectionRange(O.value.length,O.value.length)}))},[C,h.comboboxState,b]),Yf(([P],[_])=>{if(P===0&&_===1){if(g.current)return;let q=h.inputRef.current;if(!q)return;let F=q.value,{selectionStart:O,selectionEnd:V,selectionDirection:W}=q;q.value="",q.value=F,W!==null?q.setSelectionRange(O,V,W):q.setSelectionRange(O,V)}},[h.comboboxState]);let x=w.useRef(!1),N=Ie(()=>{x.current=!0}),S=Ie(()=>{v.nextFrame(()=>{x.current=!1})}),A=Ie(P=>{switch(g.current=!0,P.key){case ct.Enter:if(g.current=!1,h.comboboxState!==0||x.current)return;if(P.preventDefault(),P.stopPropagation(),h.activeOptionIndex===null){y.closeCombobox();return}y.selectActiveOption(),h.mode===0&&y.closeCombobox();break;case ct.ArrowDown:return g.current=!1,P.preventDefault(),P.stopPropagation(),Ft(h.comboboxState,{0:()=>y.goToOption(mt.Next),1:()=>y.openCombobox()});case ct.ArrowUp:return g.current=!1,P.preventDefault(),P.stopPropagation(),Ft(h.comboboxState,{0:()=>y.goToOption(mt.Previous),1:()=>{y.openCombobox(),v.nextFrame(()=>{h.value||y.goToOption(mt.Last)})}});case ct.Home:if(P.shiftKey)break;return g.current=!1,P.preventDefault(),P.stopPropagation(),y.goToOption(mt.First);case ct.PageUp:return g.current=!1,P.preventDefault(),P.stopPropagation(),y.goToOption(mt.First);case ct.End:if(P.shiftKey)break;return g.current=!1,P.preventDefault(),P.stopPropagation(),y.goToOption(mt.Last);case ct.PageDown:return g.current=!1,P.preventDefault(),P.stopPropagation(),y.goToOption(mt.Last);case ct.Escape:return g.current=!1,h.comboboxState!==0?void 0:(P.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&P.stopPropagation(),h.nullable&&h.mode===0&&h.value===null&&j(),y.closeCombobox());case ct.Tab:if(g.current=!1,h.comboboxState!==0)return;h.mode===0&&h.activationTrigger!==1&&y.selectActiveOption(),y.closeCombobox();break}}),I=Ie(P=>{u==null||u(P),h.nullable&&h.mode===0&&P.target.value===""&&j(),y.openCombobox()}),T=Ie(P=>{var _,q,F;let O=(_=P.relatedTarget)!=null?_:$a.find(V=>V!==P.currentTarget);if(g.current=!1,!((q=h.optionsRef.current)!=null&&q.contains(O))&&!((F=h.buttonRef.current)!=null&&F.contains(O))&&h.comboboxState===0)return P.preventDefault(),h.mode===0&&(h.nullable&&h.value===null?j():h.activationTrigger!==1&&y.selectActiveOption()),y.closeCombobox()}),E=Ie(P=>{var _,q,F;let O=(_=P.relatedTarget)!=null?_:$a.find(V=>V!==P.currentTarget);(q=h.buttonRef.current)!=null&&q.contains(O)||(F=h.optionsRef.current)!=null&&F.contains(O)||h.disabled||h.immediate&&h.comboboxState!==0&&(y.openCombobox(),v.nextFrame(()=>{y.setActivationTrigger(1)}))}),R=zT(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),M=w.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),L={ref:p,id:c,role:"combobox",type:f,"aria-controls":(r=h.optionsRef.current)==null?void 0:r.id,"aria-expanded":h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null?void 0:h.virtual?(n=h.options.find(P=>{var _;return!((_=h.virtual)!=null&&_.disabled(P.dataRef.current.value))&&h.compare(P.dataRef.current.value,h.virtual.options[h.activeOptionIndex])}))==null?void 0:n.id:(a=h.options[h.activeOptionIndex])==null?void 0:a.id,"aria-labelledby":R,"aria-autocomplete":"list",defaultValue:(i=(s=t.defaultValue)!=null?s:h.defaultValue!==void 0?d==null?void 0:d(h.defaultValue):null)!=null?i:h.defaultValue,disabled:h.disabled,onCompositionStart:N,onCompositionEnd:S,onKeyDown:A,onChange:I,onFocus:E,onBlur:T};return tr({ourProps:L,theirProps:m,slot:M,defaultTag:KX,name:"Combobox.Input"})}let XX="button";function QX(t,e){var r;let n=Il("Combobox.Button"),a=th("Combobox.Button"),s=dr(n.buttonRef,e),i=yn(),{id:l=`headlessui-combobox-button-${i}`,...c}=t,u=ei(),d=Ie(p=>{switch(p.key){case ct.ArrowDown:return p.preventDefault(),p.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var b;return(b=n.inputRef.current)==null?void 0:b.focus({preventScroll:!0})});case ct.ArrowUp:return p.preventDefault(),p.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(mt.Last)})),u.nextFrame(()=>{var b;return(b=n.inputRef.current)==null?void 0:b.focus({preventScroll:!0})});case ct.Escape:return n.comboboxState!==0?void 0:(p.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&p.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var b;return(b=n.inputRef.current)==null?void 0:b.focus({preventScroll:!0})}));default:return}}),f=Ie(p=>{if(XT(p.currentTarget))return p.preventDefault();n.comboboxState===0?a.closeCombobox():(p.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var b;return(b=n.inputRef.current)==null?void 0:b.focus({preventScroll:!0})})}),m=zT(()=>{if(n.labelId)return[n.labelId,l].join(" ")},[n.labelId,l]),h=w.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),y={ref:s,id:l,type:k3(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":m,disabled:n.disabled,onClick:f,onKeyDown:d};return tr({ourProps:y,theirProps:c,slot:h,defaultTag:XX,name:"Combobox.Button"})}let ZX="label";function eQ(t,e){let r=yn(),{id:n=`headlessui-combobox-label-${r}`,...a}=t,s=Il("Combobox.Label"),i=th("Combobox.Label"),l=dr(s.labelRef,e);xt(()=>i.registerLabel(n),[n]);let c=Ie(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=w.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return tr({ourProps:{ref:l,id:n,onClick:c},theirProps:a,slot:u,defaultTag:ZX,name:"Combobox.Label"})}let tQ="ul",rQ=Vo.RenderStrategy|Vo.Static;function nQ(t,e){let r=yn(),{id:n=`headlessui-combobox-options-${r}`,hold:a=!1,...s}=t,i=Il("Combobox.Options"),l=dr(i.optionsRef,e),c=eh(),u=c!==null?(c&nr.Open)===nr.Open:i.comboboxState===0;xt(()=>{var h;i.optionsPropsRef.current.static=(h=t.static)!=null?h:!1},[i.optionsPropsRef,t.static]),xt(()=>{i.optionsPropsRef.current.hold=a},[i.optionsPropsRef,a]),E3({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let d=zT(()=>{var h,y;return(y=i.labelId)!=null?y:(h=i.buttonRef.current)==null?void 0:h.id},[i.labelId,i.buttonRef.current]),f=w.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),m={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:n,ref:l};return i.virtual&&i.comboboxState===0&&Object.assign(s,{children:G.createElement(WX,null,s.children)}),tr({ourProps:m,theirProps:s,slot:f,defaultTag:tQ,features:rQ,visible:u,name:"Combobox.Options"})}let aQ="li";function sQ(t,e){var r;let n=yn(),{id:a=`headlessui-combobox-option-${n}`,disabled:s=!1,value:i,order:l=null,...c}=t,u=Il("Combobox.Option"),d=th("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((r=u.options[u.activeOptionIndex])==null?void 0:r.id)===a,m=u.isSelected(i),h=w.useRef(null),y=ba({disabled:s,value:i,domRef:h,order:l}),p=w.useContext($3),b=dr(e,h,p?p.measureElement:null),g=Ie(()=>d.onChange(i));xt(()=>d.registerOption(a,y),[y,a]);let v=w.useRef(!(u.virtual||u.__demoMode));xt(()=>{if(!u.virtual||!u.__demoMode)return;let T=_n();return T.requestAnimationFrame(()=>{v.current=!0}),T.dispose},[u.virtual,u.__demoMode]),xt(()=>{if(!v.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let T=_n();return T.requestAnimationFrame(()=>{var E,R;(R=(E=h.current)==null?void 0:E.scrollIntoView)==null||R.call(E,{block:"nearest"})}),T.dispose},[h,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let j=Ie(T=>{var E;if(s||(E=u.virtual)!=null&&E.disabled(i))return T.preventDefault();g(),A3()||requestAnimationFrame(()=>{var R;return(R=u.inputRef.current)==null?void 0:R.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),C=Ie(()=>{var T;if(s||(T=u.virtual)!=null&&T.disabled(i))return d.goToOption(mt.Nothing);let E=u.calculateIndex(i);d.goToOption(mt.Specific,E)}),x=P3(),N=Ie(T=>x.update(T)),S=Ie(T=>{var E;if(!x.wasMoved(T)||s||(E=u.virtual)!=null&&E.disabled(i)||f)return;let R=u.calculateIndex(i);d.goToOption(mt.Specific,R,0)}),A=Ie(T=>{var E;x.wasMoved(T)&&(s||(E=u.virtual)!=null&&E.disabled(i)||f&&(u.optionsPropsRef.current.hold||d.goToOption(mt.Nothing)))}),I=w.useMemo(()=>({active:f,selected:m,disabled:s}),[f,m,s]);return tr({ourProps:{id:a,ref:b,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:j,onFocus:C,onPointerEnter:N,onMouseEnter:N,onPointerMove:S,onMouseMove:S,onPointerLeave:A,onMouseLeave:A},theirProps:c,slot:I,defaultTag:aQ,name:"Combobox.Option"})}let oQ=Ht(YX),iQ=Ht(QX),lQ=Ht(JX),cQ=Ht(eQ),uQ=Ht(nQ),dQ=Ht(sQ),Bl=Object.assign(oQ,{Input:lQ,Button:iQ,Label:cQ,Options:uQ,Option:dQ});function M3(t,e,r,n){let a=ba(r);w.useEffect(()=>{t=t??window;function s(i){a.current(i)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function rh(){let t=w.useRef(!1);return xt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function L3(t){let e=Ie(t),r=w.useRef(!1);w.useEffect(()=>(r.current=!1,()=>{r.current=!0,Nv(()=>{r.current&&e()})}),[e])}var Pd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Pd||{});function fQ(){let t=w.useRef(0);return I3("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function F3(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let mQ="div";var B3=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(B3||{});function hQ(t,e){let r=w.useRef(null),n=dr(r,e),{initialFocus:a,containers:s,features:i=30,...l}=t;Su()||(i=1);let c=Al(r);yQ({ownerDocument:c},!!(i&16));let u=bQ({ownerDocument:c,container:r,initialFocus:a},!!(i&2));xQ({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(i&8));let d=fQ(),f=Ie(p=>{let b=r.current;b&&(g=>g())(()=>{Ft(d.current,{[Pd.Forwards]:()=>{Qd(b,fs.First,{skipElements:[p.relatedTarget]})},[Pd.Backwards]:()=>{Qd(b,fs.Last,{skipElements:[p.relatedTarget]})}})})}),m=ei(),h=w.useRef(!1),y={ref:n,onKeyDown(p){p.key=="Tab"&&(h.current=!0,m.requestAnimationFrame(()=>{h.current=!1}))},onBlur(p){let b=F3(s);r.current instanceof HTMLElement&&b.add(r.current);let g=p.relatedTarget;g instanceof HTMLElement&&g.dataset.headlessuiFocusGuard!=="true"&&(q3(b,g)||(h.current?Qd(r.current,Ft(d.current,{[Pd.Forwards]:()=>fs.Next,[Pd.Backwards]:()=>fs.Previous})|fs.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&ko(p.target)))}};return G.createElement(G.Fragment,null,!!(i&4)&&G.createElement(Rx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Kf.Focusable}),tr({ourProps:y,theirProps:l,defaultTag:mQ,name:"FocusTrap"}),!!(i&4)&&G.createElement(Rx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Kf.Focusable}))}let pQ=Ht(hQ),td=Object.assign(pQ,{features:B3});function gQ(t=!0){let e=w.useRef($a.slice());return Yf(([r],[n])=>{n===!0&&r===!1&&Nv(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=$a.slice())},[t,$a,e]),Ie(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function yQ({ownerDocument:t},e){let r=gQ(e);Yf(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&ko(r())},[e]),L3(()=>{e&&ko(r())})}function bQ({ownerDocument:t,container:e,initialFocus:r},n){let a=w.useRef(null),s=rh();return Yf(()=>{if(!n)return;let i=e.current;i&&Nv(()=>{if(!s.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(i.contains(l)){a.current=l;return}r!=null&&r.current?ko(r.current):Qd(i,fs.First)===w3.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=t==null?void 0:t.activeElement})},[n]),a}function xQ({ownerDocument:t,container:e,containers:r,previousActiveElement:n},a){let s=rh();M3(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!s.current)return;let l=F3(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?q3(l,u)?(n.current=u,ko(u)):(i.preventDefault(),i.stopPropagation(),ko(c)):ko(n.current)},!0)}function q3(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let V3=w.createContext(!1);function vQ(){return w.useContext(V3)}function WS(t){return G.createElement(V3.Provider,{value:t.force},t.children)}function jQ(t){let e=vQ(),r=w.useContext(U3),n=Al(t),[a,s]=w.useState(()=>{if(!e&&r!==null||Ns.isServer)return null;let i=n==null?void 0:n.getElementById("headlessui-portal-root");if(i)return i;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return w.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),w.useEffect(()=>{e||r!==null&&s(r.current)},[r,s,e]),a}let wQ=w.Fragment;function NQ(t,e){let r=t,n=w.useRef(null),a=dr(DX(d=>{n.current=d}),e),s=Al(n),i=jQ(n),[l]=w.useState(()=>{var d;return Ns.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=w.useContext(HS),u=Su();return xt(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),xt(()=>{if(l&&c)return c.register(l)},[c,l]),L3(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:pv.createPortal(tr({ourProps:{ref:a},theirProps:r,defaultTag:wQ,name:"Portal"}),l):null}let CQ=w.Fragment,U3=w.createContext(null);function SQ(t,e){let{target:r,...n}=t,a={ref:dr(e)};return G.createElement(U3.Provider,{value:r},tr({ourProps:a,theirProps:n,defaultTag:CQ,name:"Popover.Group"}))}let HS=w.createContext(null);function AQ(){let t=w.useContext(HS),e=w.useRef([]),r=Ie(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=Ie(s=>{let i=e.current.indexOf(s);i!==-1&&e.current.splice(i,1),t&&t.unregister(s)}),a=w.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,w.useMemo(()=>function({children:s}){return G.createElement(HS.Provider,{value:a},s)},[a])]}let IQ=Ht(NQ),kQ=Ht(SQ),GS=Object.assign(IQ,{Group:kQ});const TQ=(t=>t.useSyncExternalStore)(Af);function PQ(t){return TQ(t.subscribe,t.getSnapshot,t.getSnapshot)}function EQ(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let i=e[a].call(r,...s);i&&(r=i,n.forEach(l=>l()))}}}function DQ(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,a=n.clientWidth-n.offsetWidth,s=t-a;r.style(n,"paddingRight",`${s}px`)}}}function OQ(){return S3()?{before({doc:t,d:e,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=_n();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,i=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(i=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function _Q(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function RQ(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Oi=EQ(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:_n(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:RQ(r)},a=[OQ(),DQ(),_Q()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Oi.subscribe(()=>{let t=Oi.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Oi.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Oi.dispatch("TEARDOWN",r)}});function $Q(t,e,r){let n=PQ(Oi),a=t?n.get(t):void 0,s=a?a.count>0:!1;return xt(()=>{if(!(!t||!e))return Oi.dispatch("PUSH",t,r),()=>Oi.dispatch("POP",t,r)},[e,t]),s}let MN=new Map,rd=new Map;function XD(t,e=!0){xt(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function a(){var i;if(!n)return;let l=(i=rd.get(n))!=null?i:1;if(l===1?rd.delete(n):rd.set(n,l-1),l!==1)return;let c=MN.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,MN.delete(n))}let s=(r=rd.get(n))!=null?r:0;return rd.set(n,s+1),s!==0||(MN.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[t,e])}function MQ({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let a=w.useRef((n=r==null?void 0:r.current)!=null?n:null),s=Al(a),i=Ie(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(a.current)||f.contains((u=(c=a.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(m=>f.contains(m))||d.push(f));return d});return{resolveContainers:i,contains:Ie(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:a,MainTreeNode:w.useMemo(()=>function(){return r!=null?null:G.createElement(Rx,{features:Kf.Hidden,ref:a})},[a,r])}}let eP=w.createContext(()=>{});eP.displayName="StackContext";var YS=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(YS||{});function LQ(){return w.useContext(eP)}function FQ({children:t,onUpdate:e,type:r,element:n,enabled:a}){let s=LQ(),i=Ie((...l)=>{e==null||e(...l),s(...l)});return xt(()=>{let l=a===void 0||a===!0;return l&&i(0,r,n),()=>{l&&i(1,r,n)}},[i,r,n,a]),G.createElement(eP.Provider,{value:i},t)}let z3=w.createContext(null);function W3(){let t=w.useContext(z3);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,W3),e}return t}function BQ(){let[t,e]=w.useState([]);return[t.length>0?t.join(" "):void 0,w.useMemo(()=>function(r){let n=Ie(s=>(e(i=>[...i,s]),()=>e(i=>{let l=i.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),a=w.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return G.createElement(z3.Provider,{value:a},r.children)},[e])]}let qQ="p";function VQ(t,e){let r=yn(),{id:n=`headlessui-description-${r}`,...a}=t,s=W3(),i=dr(e);xt(()=>s.register(n),[n,s.register]);let l={ref:i,...s.props,id:n};return tr({ourProps:l,theirProps:a,slot:s.slot||{},defaultTag:qQ,name:s.name||"Description"})}let UQ=Ht(VQ),zQ=Object.assign(UQ,{});var WQ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(WQ||{}),HQ=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(HQ||{});let GQ={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},$x=w.createContext(null);$x.displayName="DialogContext";function nh(t){let e=w.useContext($x);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,nh),r}return e}function YQ(t,e,r=()=>[document.body]){$Q(t,e,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function KQ(t,e){return Ft(e.type,GQ,t,e)}let JQ="div",XQ=Vo.RenderStrategy|Vo.Static;function QQ(t,e){let r=yn(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:i,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=w.useState(0),m=w.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=eh();a===void 0&&h!==null&&(a=(h&nr.Open)===nr.Open);let y=w.useRef(null),p=dr(y,e),b=Al(y),g=t.hasOwnProperty("open")||h!==null,v=t.hasOwnProperty("onClose");if(!g&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!g)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let j=a?0:1,[C,x]=w.useReducer(KQ,{titleId:null,descriptionId:null,panelRef:w.createRef()}),N=Ie(()=>s(!1)),S=Ie(K=>x({type:0,id:K})),A=Su()?c?!1:j===0:!1,I=d>1,T=w.useContext($x)!==null,[E,R]=AQ(),M={get current(){var K;return(K=C.panelRef.current)!=null?K:y.current}},{resolveContainers:L,mainTreeNodeRef:P,MainTreeNode:_}=MQ({portals:E,defaultContainers:[M]}),q=I?"parent":"leaf",F=h!==null?(h&nr.Closing)===nr.Closing:!1,O=T||F?!1:A,V=w.useCallback(()=>{var K,Y;return(Y=Array.from((K=b==null?void 0:b.querySelectorAll("body > *"))!=null?K:[]).find(ue=>ue.id==="headlessui-portal-root"?!1:ue.contains(P.current)&&ue instanceof HTMLElement))!=null?Y:null},[P]);XD(V,O);let W=I?!0:A,$=w.useCallback(()=>{var K,Y;return(Y=Array.from((K=b==null?void 0:b.querySelectorAll("[data-headlessui-portal]"))!=null?K:[]).find(ue=>ue.contains(P.current)&&ue instanceof HTMLElement))!=null?Y:null},[P]);XD($,W),YT(L,K=>{K.preventDefault(),N()},!(!A||I));let Q=!(I||j!==0);M3(b==null?void 0:b.defaultView,"keydown",K=>{Q&&(K.defaultPrevented||K.key===ct.Escape&&(K.preventDefault(),K.stopPropagation(),N()))}),YQ(b,!(F||j!==0||T),L),w.useEffect(()=>{if(j!==0||!y.current)return;let K=new ResizeObserver(Y=>{for(let ue of Y){let me=ue.target.getBoundingClientRect();me.x===0&&me.y===0&&me.width===0&&me.height===0&&N()}});return K.observe(y.current),()=>K.disconnect()},[j,y,N]);let[ae,J]=BQ(),oe=w.useMemo(()=>[{dialogState:j,close:N,setTitleId:S},C],[j,C,N,S]),ee=w.useMemo(()=>({open:j===0}),[j]),re={ref:p,id:n,role:l,"aria-modal":j===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":ae};return G.createElement(FQ,{type:"Dialog",enabled:j===0,element:y,onUpdate:Ie((K,Y)=>{Y==="Dialog"&&Ft(K,{[YS.Add]:()=>f(ue=>ue+1),[YS.Remove]:()=>f(ue=>ue-1)})})},G.createElement(WS,{force:!0},G.createElement(GS,null,G.createElement($x.Provider,{value:oe},G.createElement(GS.Group,{target:y},G.createElement(WS,{force:!1},G.createElement(J,{slot:ee,name:"Dialog.Description"},G.createElement(td,{initialFocus:i,containers:L,features:A?Ft(q,{parent:td.features.RestoreFocus,leaf:td.features.All&~td.features.FocusLock}):td.features.None},G.createElement(R,null,tr({ourProps:re,theirProps:u,slot:ee,defaultTag:JQ,features:XQ,visible:j===0,name:"Dialog"}))))))))),G.createElement(_,null))}let ZQ="div";function eZ(t,e){let r=yn(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=t,[{dialogState:s,close:i}]=nh("Dialog.Overlay"),l=dr(e),c=Ie(d=>{if(d.target===d.currentTarget){if(XT(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=w.useMemo(()=>({open:s===0}),[s]);return tr({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:a,slot:u,defaultTag:ZQ,name:"Dialog.Overlay"})}let tZ="div";function rZ(t,e){let r=yn(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=t,[{dialogState:s},i]=nh("Dialog.Backdrop"),l=dr(e);w.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=w.useMemo(()=>({open:s===0}),[s]);return G.createElement(WS,{force:!0},G.createElement(GS,null,tr({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:a,slot:c,defaultTag:tZ,name:"Dialog.Backdrop"})))}let nZ="div";function aZ(t,e){let r=yn(),{id:n=`headlessui-dialog-panel-${r}`,...a}=t,[{dialogState:s},i]=nh("Dialog.Panel"),l=dr(e,i.panelRef),c=w.useMemo(()=>({open:s===0}),[s]),u=Ie(d=>{d.stopPropagation()});return tr({ourProps:{ref:l,id:n,onClick:u},theirProps:a,slot:c,defaultTag:nZ,name:"Dialog.Panel"})}let sZ="h2";function oZ(t,e){let r=yn(),{id:n=`headlessui-dialog-title-${r}`,...a}=t,[{dialogState:s,setTitleId:i}]=nh("Dialog.Title"),l=dr(e);w.useEffect(()=>(i(n),()=>i(null)),[n,i]);let c=w.useMemo(()=>({open:s===0}),[s]);return tr({ourProps:{ref:l,id:n},theirProps:a,slot:c,defaultTag:sZ,name:"Dialog.Title"})}let iZ=Ht(QQ),lZ=Ht(rZ),cZ=Ht(aZ),uZ=Ht(eZ),dZ=Ht(oZ),LN=Object.assign(iZ,{Backdrop:lZ,Panel:cZ,Overlay:uZ,Title:dZ,Description:zQ}),QD=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ZD(t){var e,r;let n=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let s=!1;for(let l of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let i=s?(r=a.innerText)!=null?r:"":n;return QD.test(i)&&(i=i.replace(QD,"")),i}function fZ(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(a=>{let s=document.getElementById(a);if(s){let i=s.getAttribute("aria-label");return typeof i=="string"?i.trim():ZD(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return ZD(t).trim()}function mZ(t){let e=w.useRef(""),r=w.useRef("");return Ie(()=>{let n=t.current;if(!n)return"";let a=n.innerText;if(e.current===a)return r.current;let s=fZ(n).trim().toLowerCase();return e.current=a,r.current=s,s})}var hZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(hZ||{}),pZ=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(pZ||{}),gZ=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(gZ||{});function FN(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=GT(e(t.items.slice()),s=>s.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let yZ={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=FN(t),a=zS(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),a=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!i.dataRef.current.disabled}),s=a?t.items.indexOf(a):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=FN(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=FN(t,n=>{let a=n.findIndex(s=>s.id===e.id);return a!==-1&&n.splice(a,1),n});return{...t,...r,activationTrigger:1}}},tP=w.createContext(null);tP.displayName="MenuContext";function Sv(t){let e=w.useContext(tP);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Sv),r}return e}function bZ(t,e){return Ft(e.type,yZ,t,e)}let xZ=w.Fragment;function vZ(t,e){let{__demoMode:r=!1,...n}=t,a=w.useReducer(bZ,{__demoMode:r,menuState:r?0:1,buttonRef:w.createRef(),itemsRef:w.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:i,buttonRef:l},c]=a,u=dr(e);YT([l,i],(h,y)=>{var p;c({type:1}),HT(y,WT.Loose)||(h.preventDefault(),(p=l.current)==null||p.focus())},s===0);let d=Ie(()=>{c({type:1})}),f=w.useMemo(()=>({open:s===0,close:d}),[s,d]),m={ref:u};return G.createElement(tP.Provider,{value:a},G.createElement(JT,{value:Ft(s,{0:nr.Open,1:nr.Closed})},tr({ourProps:m,theirProps:n,slot:f,defaultTag:xZ,name:"Menu"})))}let jZ="button";function wZ(t,e){var r;let n=yn(),{id:a=`headlessui-menu-button-${n}`,...s}=t,[i,l]=Sv("Menu.Button"),c=dr(i.buttonRef,e),u=ei(),d=Ie(p=>{switch(p.key){case ct.Space:case ct.Enter:case ct.ArrowDown:p.preventDefault(),p.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:mt.First}));break;case ct.ArrowUp:p.preventDefault(),p.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:mt.Last}));break}}),f=Ie(p=>{switch(p.key){case ct.Space:p.preventDefault();break}}),m=Ie(p=>{if(XT(p.currentTarget))return p.preventDefault();t.disabled||(i.menuState===0?(l({type:1}),u.nextFrame(()=>{var b;return(b=i.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})})):(p.preventDefault(),l({type:0})))}),h=w.useMemo(()=>({open:i.menuState===0}),[i]),y={ref:c,id:a,type:k3(t,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return tr({ourProps:y,theirProps:s,slot:h,defaultTag:jZ,name:"Menu.Button"})}let NZ="div",CZ=Vo.RenderStrategy|Vo.Static;function SZ(t,e){var r,n;let a=yn(),{id:s=`headlessui-menu-items-${a}`,...i}=t,[l,c]=Sv("Menu.Items"),u=dr(l.itemsRef,e),d=Al(l.itemsRef),f=ei(),m=eh(),h=m!==null?(m&nr.Open)===nr.Open:l.menuState===0;w.useEffect(()=>{let v=l.itemsRef.current;v&&l.menuState===0&&v!==(d==null?void 0:d.activeElement)&&v.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),E3({container:l.itemsRef.current,enabled:l.menuState===0,accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let y=Ie(v=>{var j,C;switch(f.dispose(),v.key){case ct.Space:if(l.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),c({type:3,value:v.key});case ct.Enter:if(v.preventDefault(),v.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:x}=l.items[l.activeItemIndex];(C=(j=x.current)==null?void 0:j.domRef.current)==null||C.click()}C3(l.buttonRef.current);break;case ct.ArrowDown:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:mt.Next});case ct.ArrowUp:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:mt.Previous});case ct.Home:case ct.PageUp:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:mt.First});case ct.End:case ct.PageDown:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:mt.Last});case ct.Escape:v.preventDefault(),v.stopPropagation(),c({type:1}),_n().nextFrame(()=>{var x;return(x=l.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})});break;case ct.Tab:v.preventDefault(),v.stopPropagation(),c({type:1}),_n().nextFrame(()=>{PX(l.buttonRef.current,v.shiftKey?fs.Previous:fs.Next)});break;default:v.key.length===1&&(c({type:3,value:v.key}),f.setTimeout(()=>c({type:4}),350));break}}),p=Ie(v=>{switch(v.key){case ct.Space:v.preventDefault();break}}),b=w.useMemo(()=>({open:l.menuState===0}),[l]),g={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:y,onKeyUp:p,role:"menu",tabIndex:0,ref:u};return tr({ourProps:g,theirProps:i,slot:b,defaultTag:NZ,features:CZ,visible:h,name:"Menu.Items"})}let AZ=w.Fragment;function IZ(t,e){let r=yn(),{id:n=`headlessui-menu-item-${r}`,disabled:a=!1,...s}=t,[i,l]=Sv("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,u=w.useRef(null),d=dr(e,u);xt(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let x=_n();return x.requestAnimationFrame(()=>{var N,S;(S=(N=u.current)==null?void 0:N.scrollIntoView)==null||S.call(N,{block:"nearest"})}),x.dispose},[i.__demoMode,u,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let f=mZ(u),m=w.useRef({disabled:a,domRef:u,get textValue(){return f()}});xt(()=>{m.current.disabled=a},[m,a]),xt(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let h=Ie(()=>{l({type:1})}),y=Ie(x=>{if(a)return x.preventDefault();l({type:1}),C3(i.buttonRef.current)}),p=Ie(()=>{if(a)return l({type:2,focus:mt.Nothing});l({type:2,focus:mt.Specific,id:n})}),b=P3(),g=Ie(x=>b.update(x)),v=Ie(x=>{b.wasMoved(x)&&(a||c||l({type:2,focus:mt.Specific,id:n,trigger:0}))}),j=Ie(x=>{b.wasMoved(x)&&(a||c&&l({type:2,focus:mt.Nothing}))}),C=w.useMemo(()=>({active:c,disabled:a,close:h}),[c,a,h]);return tr({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:y,onFocus:p,onPointerEnter:g,onMouseEnter:g,onPointerMove:v,onMouseMove:v,onPointerLeave:j,onMouseLeave:j},theirProps:s,slot:C,defaultTag:AZ,name:"Menu.Item"})}let kZ=Ht(vZ),TZ=Ht(wZ),PZ=Ht(SZ),EZ=Ht(IZ),ql=Object.assign(kZ,{Button:TZ,Items:PZ,Item:EZ});function DZ(t=0){let[e,r]=w.useState(t),n=rh(),a=w.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),s=w.useCallback(c=>!!(e&c),[e]),i=w.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=w.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:a,hasFlag:s,removeFlag:i,toggleFlag:l}}function OZ(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function BN(t,...e){t&&e.length>0&&t.classList.add(...e)}function qN(t,...e){t&&e.length>0&&t.classList.remove(...e)}function _Z(t,e){let r=_n();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(t),[s,i]=[n,a].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=s+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function RZ(t,e,r,n){let a=r?"enter":"leave",s=_n(),i=n!==void 0?OZ(n):()=>{};a==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=Ft(a,{enter:()=>e.enter,leave:()=>e.leave}),c=Ft(a,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=Ft(a,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return qN(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),BN(t,...e.base,...l,...u),s.nextFrame(()=>{qN(t,...e.base,...l,...u),BN(t,...e.base,...l,...c),_Z(t,()=>(qN(t,...e.base,...l),BN(t,...e.base,...e.entered),i()))}),s.dispose}function $Z({immediate:t,container:e,direction:r,classes:n,onStart:a,onStop:s}){let i=rh(),l=ei(),c=ba(r);xt(()=>{t&&(c.current="enter")},[t]),xt(()=>{let u=_n();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),a.current(c.current),u.add(RZ(d,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Zs(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let Av=w.createContext(null);Av.displayName="TransitionContext";var MZ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(MZ||{});function LZ(){let t=w.useContext(Av);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function FZ(){let t=w.useContext(Iv);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Iv=w.createContext(null);Iv.displayName="NestingContext";function kv(t){return"children"in t?kv(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function H3(t,e){let r=ba(t),n=w.useRef([]),a=rh(),s=ei(),i=Ie((h,y=ho.Hidden)=>{let p=n.current.findIndex(({el:b})=>b===h);p!==-1&&(Ft(y,{[ho.Unmount](){n.current.splice(p,1)},[ho.Hidden](){n.current[p].state="hidden"}}),s.microTask(()=>{var b;!kv(n)&&a.current&&((b=r.current)==null||b.call(r))}))}),l=Ie(h=>{let y=n.current.find(({el:p})=>p===h);return y?y.state!=="visible"&&(y.state="visible"):n.current.push({el:h,state:"visible"}),()=>i(h,ho.Unmount)}),c=w.useRef([]),u=w.useRef(Promise.resolve()),d=w.useRef({enter:[],leave:[],idle:[]}),f=Ie((h,y,p)=>{c.current.splice(0),e&&(e.chains.current[y]=e.chains.current[y].filter(([b])=>b!==h)),e==null||e.chains.current[y].push([h,new Promise(b=>{c.current.push(b)})]),e==null||e.chains.current[y].push([h,new Promise(b=>{Promise.all(d.current[y].map(([g,v])=>v)).then(()=>b())})]),y==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>p(y)):p(y)}),m=Ie((h,y,p)=>{Promise.all(d.current[y].splice(0).map(([b,g])=>g)).then(()=>{var b;(b=c.current.shift())==null||b()}).then(()=>p(y))});return w.useMemo(()=>({children:n,register:l,unregister:i,onStart:f,onStop:m,wait:u,chains:d}),[l,i,n,f,m,d,u])}function BZ(){}let qZ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function eO(t){var e;let r={};for(let n of qZ)r[n]=(e=t[n])!=null?e:BZ;return r}function VZ(t){let e=w.useRef(eO(t));return w.useEffect(()=>{e.current=eO(t)},[t]),e}let UZ="div",G3=Vo.RenderStrategy;function zZ(t,e){var r,n;let{beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:h,leaveTo:y,...p}=t,b=w.useRef(null),g=dr(b,e),v=(r=p.unmount)==null||r?ho.Unmount:ho.Hidden,{show:j,appear:C,initial:x}=LZ(),[N,S]=w.useState(j?"visible":"hidden"),A=FZ(),{register:I,unregister:T}=A;w.useEffect(()=>I(b),[I,b]),w.useEffect(()=>{if(v===ho.Hidden&&b.current){if(j&&N!=="visible"){S("visible");return}return Ft(N,{hidden:()=>T(b),visible:()=>I(b)})}},[N,b,I,T,j,v]);let E=ba({base:Zs(p.className),enter:Zs(c),enterFrom:Zs(u),enterTo:Zs(d),entered:Zs(f),leave:Zs(m),leaveFrom:Zs(h),leaveTo:Zs(y)}),R=VZ({beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l}),M=Su();w.useEffect(()=>{if(M&&N==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,N,M]);let L=x&&!C,P=C&&j&&x,_=!M||L?"idle":j?"enter":"leave",q=DZ(0),F=Ie(Q=>Ft(Q,{enter:()=>{q.addFlag(nr.Opening),R.current.beforeEnter()},leave:()=>{q.addFlag(nr.Closing),R.current.beforeLeave()},idle:()=>{}})),O=Ie(Q=>Ft(Q,{enter:()=>{q.removeFlag(nr.Opening),R.current.afterEnter()},leave:()=>{q.removeFlag(nr.Closing),R.current.afterLeave()},idle:()=>{}})),V=H3(()=>{S("hidden"),T(b)},A),W=w.useRef(!1);$Z({immediate:P,container:b,classes:E,direction:_,onStart:ba(Q=>{W.current=!0,V.onStart(b,Q,F)}),onStop:ba(Q=>{W.current=!1,V.onStop(b,Q,O),Q==="leave"&&!kv(V)&&(S("hidden"),T(b))})});let $=p,B={ref:g};return P?$={...$,className:_x(p.className,...E.current.enter,...E.current.enterFrom)}:W.current&&($.className=_x(p.className,(n=b.current)==null?void 0:n.className),$.className===""&&delete $.className),G.createElement(Iv.Provider,{value:V},G.createElement(JT,{value:Ft(N,{visible:nr.Open,hidden:nr.Closed})|q.flags},tr({ourProps:B,theirProps:$,defaultTag:UZ,features:G3,visible:N==="visible",name:"Transition.Child"})))}function WZ(t,e){let{show:r,appear:n=!1,unmount:a=!0,...s}=t,i=w.useRef(null),l=dr(i,e);Su();let c=eh();if(r===void 0&&c!==null&&(r=(c&nr.Open)===nr.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=w.useState(r?"visible":"hidden"),f=H3(()=>{d("hidden")}),[m,h]=w.useState(!0),y=w.useRef([r]);xt(()=>{m!==!1&&y.current[y.current.length-1]!==r&&(y.current.push(r),h(!1))},[y,r]);let p=w.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);w.useEffect(()=>{if(r)d("visible");else if(!kv(f))d("hidden");else{let j=i.current;if(!j)return;let C=j.getBoundingClientRect();C.x===0&&C.y===0&&C.width===0&&C.height===0&&d("hidden")}},[r,f]);let b={unmount:a},g=Ie(()=>{var j;m&&h(!1),(j=t.beforeEnter)==null||j.call(t)}),v=Ie(()=>{var j;m&&h(!1),(j=t.beforeLeave)==null||j.call(t)});return G.createElement(Iv.Provider,{value:f},G.createElement(Av.Provider,{value:p},tr({ourProps:{...b,as:w.Fragment,children:G.createElement(Y3,{ref:l,...b,...s,beforeEnter:g,beforeLeave:v})},theirProps:{},defaultTag:w.Fragment,features:G3,visible:u==="visible",name:"Transition"})))}function HZ(t,e){let r=w.useContext(Av)!==null,n=eh()!==null;return G.createElement(G.Fragment,null,!r&&n?G.createElement(KS,{ref:e,...t}):G.createElement(Y3,{ref:e,...t}))}let KS=Ht(WZ),Y3=Ht(zZ),GZ=Ht(HZ),Qp=Object.assign(KS,{Child:GZ,Root:KS});function YZ({toggleSidebar:t,isSidebarOpen:e}){var f,m;const r=de(),{user:n,selectedRole:a}=H(h=>h.auth),[s,i]=w.useState(!1),l=w.useRef(null),c=Xm();w.useEffect(()=>{if(!s)return;function h(y){l.current&&!l.current.contains(y.target)&&i(!1)}return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[s]);const u=()=>{r(l3()),c("/login")},d=h=>{const y=h.target.value,p=n.accessList.find(b=>b.ID===y);p&&r(c3(p))};return o.jsxs("header",{className:"bg-white shadow-sm z-10 relative",children:[o.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0 flex items-center lg:hidden",children:o.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:t,children:[o.jsx("span",{className:"sr-only",children:e?"Close sidebar":"Open sidebar"}),e?o.jsx(x3,{className:"block h-6 w-6","aria-hidden":"true"}):o.jsx(CJ,{className:"block h-6 w-6","aria-hidden":"true"})]})}),o.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:o.jsx("div",{className:"text-xl font-semibold text-neutral-900"})})]}),o.jsxs("div",{className:"flex items-center",children:[n&&((f=n==null?void 0:n.accessList)==null?void 0:f.length)>1&&o.jsxs("select",{value:(a==null?void 0:a.ID)||"",onChange:d,className:"text-sm border border-gray-300 rounded-md px-2 py-1 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",hidden:!0,children:"Select Role"}),n.accessList.map(h=>o.jsx("option",{value:h.ID,children:h.Description},h.ID))]}),o.jsx("div",{className:"ml-3 relative",children:o.jsxs(ql,{as:"div",className:"relative",children:[o.jsxs(ql.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[o.jsx("span",{className:"sr-only",children:"Open user menu"}),o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:((m=n==null?void 0:n.UserName)==null?void 0:m.charAt(0))||"U"})]}),o.jsx(Qp,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:o.jsxs(ql.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-neutral-100 focus:outline-none",children:[o.jsx("div",{className:"py-1",children:o.jsxs("div",{className:"px-4 py-2",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:(n==null?void 0:n.UserName)||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500",children:n==null?void 0:n.email})]})}),o.jsx("div",{className:"py-1",children:o.jsx(ql.Item,{children:({active:h})=>o.jsxs("button",{onClick:()=>c("/profile"),className:`${h?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(rX,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Profile"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(ql.Item,{children:({active:h})=>o.jsxs("button",{onClick:()=>c("/change-password"),className:`${h?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(HJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Change Password"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(ql.Item,{children:({active:h})=>o.jsxs("button",{onClick:u,className:`${h?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(vJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Sign out"]})})})]})})]})})]})]})}),s&&o.jsxs("div",{ref:l,className:"absolute right-4 mt-2 w-80 sm:w-96 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[o.jsx("div",{className:"p-4 border-b border-neutral-200",children:o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Notifications"})}),o.jsxs("div",{className:"divide-y divide-neutral-100 max-h-80 overflow-y-auto",children:[o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:o.jsx(KZ,{className:"h-5 w-5 text-primary-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"New ORS needs approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"ORS-2024-01-0023 from IT Department"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"30 minutes ago"})]})]})}),o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-success-100 flex items-center justify-center",children:o.jsx(JZ,{className:"h-5 w-5 text-success-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"DV approved"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"DV-2024-01-0015 has been approved"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"2 hours ago"})]})]})})]}),o.jsx("div",{className:"p-2 border-t border-neutral-200 text-center",children:o.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})}function KZ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}function JZ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function XZ(){const t=Xm(),e=Xo(),[r,n]=w.useState(!0);w.useEffect(()=>{const s=()=>{window.innerWidth<1024?n(!1):n(!0)};return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[]),w.useEffect(()=>{window.innerWidth<1024&&n(!1)},[e.pathname]);const a=()=>{n(!r)};return w.useEffect(()=>{localStorage.getItem("token")||t("/login")},[t]),o.jsxs("div",{className:"h-screen flex overflow-hidden bg-neutral-50",children:[r&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-75 z-20",onClick:()=>n(!1)}),o.jsx("div",{className:`fixed inset-y-0 left-0 flex flex-col z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${r?"translate-x-0":"-translate-x-full"}`,style:{width:"300px"},children:o.jsx(lX,{})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(YZ,{toggleSidebar:a,isSidebarOpen:r}),o.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:o.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(J4,{})})})]})]})}const QZ=()=>o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-md space-y-8",children:o.jsx(J4,{})})});var ZZ=function(e){return eee(e)&&!tee(e)};function eee(t){return!!t&&typeof t=="object"}function tee(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||aee(t)}var ree=typeof Symbol=="function"&&Symbol.for,nee=ree?Symbol.for("react.element"):60103;function aee(t){return t.$$typeof===nee}function see(t){return Array.isArray(t)?[]:{}}function Mx(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Jf(see(t),t,e):t}function oee(t,e,r){return t.concat(e).map(function(n){return Mx(n,r)})}function iee(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(a){n[a]=Mx(t[a],r)}),Object.keys(e).forEach(function(a){!r.isMergeableObject(e[a])||!t[a]?n[a]=Mx(e[a],r):n[a]=Jf(t[a],e[a],r)}),n}function Jf(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||oee,r.isMergeableObject=r.isMergeableObject||ZZ;var n=Array.isArray(e),a=Array.isArray(t),s=n===a;return s?n?r.arrayMerge(t,e,r):iee(t,e,r):Mx(e,r)}Jf.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,a){return Jf(n,a,r)},{})};var JS=Jf,K3=typeof global=="object"&&global&&global.Object===Object&&global,lee=typeof self=="object"&&self&&self.Object===Object&&self,Qa=K3||lee||Function("return this")(),Uo=Qa.Symbol,J3=Object.prototype,cee=J3.hasOwnProperty,uee=J3.toString,nd=Uo?Uo.toStringTag:void 0;function dee(t){var e=cee.call(t,nd),r=t[nd];try{t[nd]=void 0;var n=!0}catch{}var a=uee.call(t);return n&&(e?t[nd]=r:delete t[nd]),a}var fee=Object.prototype,mee=fee.toString;function hee(t){return mee.call(t)}var pee="[object Null]",gee="[object Undefined]",tO=Uo?Uo.toStringTag:void 0;function kl(t){return t==null?t===void 0?gee:pee:tO&&tO in Object(t)?dee(t):hee(t)}function X3(t,e){return function(r){return t(e(r))}}var rP=X3(Object.getPrototypeOf,Object);function Tl(t){return t!=null&&typeof t=="object"}var yee="[object Object]",bee=Function.prototype,xee=Object.prototype,Q3=bee.toString,vee=xee.hasOwnProperty,jee=Q3.call(Object);function rO(t){if(!Tl(t)||kl(t)!=yee)return!1;var e=rP(t);if(e===null)return!0;var r=vee.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Q3.call(r)==jee}function wee(){this.__data__=[],this.size=0}function Z3(t,e){return t===e||t!==t&&e!==e}function Tv(t,e){for(var r=t.length;r--;)if(Z3(t[r][0],e))return r;return-1}var Nee=Array.prototype,Cee=Nee.splice;function See(t){var e=this.__data__,r=Tv(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Cee.call(e,r,1),--this.size,!0}function Aee(t){var e=this.__data__,r=Tv(e,t);return r<0?void 0:e[r][1]}function Iee(t){return Tv(this.__data__,t)>-1}function kee(t,e){var r=this.__data__,n=Tv(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function zs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}zs.prototype.clear=wee;zs.prototype.delete=See;zs.prototype.get=Aee;zs.prototype.has=Iee;zs.prototype.set=kee;function Tee(){this.__data__=new zs,this.size=0}function Pee(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Eee(t){return this.__data__.get(t)}function Dee(t){return this.__data__.has(t)}function ah(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Oee="[object AsyncFunction]",_ee="[object Function]",Ree="[object GeneratorFunction]",$ee="[object Proxy]";function eq(t){if(!ah(t))return!1;var e=kl(t);return e==_ee||e==Ree||e==Oee||e==$ee}var VN=Qa["__core-js_shared__"],nO=function(){var t=/[^.]+$/.exec(VN&&VN.keys&&VN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Mee(t){return!!nO&&nO in t}var Lee=Function.prototype,Fee=Lee.toString;function Pl(t){if(t!=null){try{return Fee.call(t)}catch{}try{return t+""}catch{}}return""}var Bee=/[\\^$.*+?()[\]{}|]/g,qee=/^\[object .+?Constructor\]$/,Vee=Function.prototype,Uee=Object.prototype,zee=Vee.toString,Wee=Uee.hasOwnProperty,Hee=RegExp("^"+zee.call(Wee).replace(Bee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gee(t){if(!ah(t)||Mee(t))return!1;var e=eq(t)?Hee:qee;return e.test(Pl(t))}function Yee(t,e){return t==null?void 0:t[e]}function El(t,e){var r=Yee(t,e);return Gee(r)?r:void 0}var Xf=El(Qa,"Map"),Qf=El(Object,"create");function Kee(){this.__data__=Qf?Qf(null):{},this.size=0}function Jee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Xee="__lodash_hash_undefined__",Qee=Object.prototype,Zee=Qee.hasOwnProperty;function ete(t){var e=this.__data__;if(Qf){var r=e[t];return r===Xee?void 0:r}return Zee.call(e,t)?e[t]:void 0}var tte=Object.prototype,rte=tte.hasOwnProperty;function nte(t){var e=this.__data__;return Qf?e[t]!==void 0:rte.call(e,t)}var ate="__lodash_hash_undefined__";function ste(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Qf&&e===void 0?ate:e,this}function pl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pl.prototype.clear=Kee;pl.prototype.delete=Jee;pl.prototype.get=ete;pl.prototype.has=nte;pl.prototype.set=ste;function ote(){this.size=0,this.__data__={hash:new pl,map:new(Xf||zs),string:new pl}}function ite(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Pv(t,e){var r=t.__data__;return ite(e)?r[typeof e=="string"?"string":"hash"]:r.map}function lte(t){var e=Pv(this,t).delete(t);return this.size-=e?1:0,e}function cte(t){return Pv(this,t).get(t)}function ute(t){return Pv(this,t).has(t)}function dte(t,e){var r=Pv(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function ti(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ti.prototype.clear=ote;ti.prototype.delete=lte;ti.prototype.get=cte;ti.prototype.has=ute;ti.prototype.set=dte;var fte=200;function mte(t,e){var r=this.__data__;if(r instanceof zs){var n=r.__data__;if(!Xf||n.length<fte-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ti(n)}return r.set(t,e),this.size=r.size,this}function Au(t){var e=this.__data__=new zs(t);this.size=e.size}Au.prototype.clear=Tee;Au.prototype.delete=Pee;Au.prototype.get=Eee;Au.prototype.has=Dee;Au.prototype.set=mte;function hte(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var aO=function(){try{var t=El(Object,"defineProperty");return t({},"",{}),t}catch{}}();function tq(t,e,r){e=="__proto__"&&aO?aO(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var pte=Object.prototype,gte=pte.hasOwnProperty;function rq(t,e,r){var n=t[e];(!(gte.call(t,e)&&Z3(n,r))||r===void 0&&!(e in t))&&tq(t,e,r)}function Ev(t,e,r,n){var a=!r;r||(r={});for(var s=-1,i=e.length;++s<i;){var l=e[s],c=void 0;c===void 0&&(c=t[l]),a?tq(r,l,c):rq(r,l,c)}return r}function yte(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var bte="[object Arguments]";function sO(t){return Tl(t)&&kl(t)==bte}var nq=Object.prototype,xte=nq.hasOwnProperty,vte=nq.propertyIsEnumerable,jte=sO(function(){return arguments}())?sO:function(t){return Tl(t)&&xte.call(t,"callee")&&!vte.call(t,"callee")},sh=Array.isArray;function wte(){return!1}var aq=typeof In=="object"&&In&&!In.nodeType&&In,oO=aq&&typeof kn=="object"&&kn&&!kn.nodeType&&kn,Nte=oO&&oO.exports===aq,iO=Nte?Qa.Buffer:void 0,Cte=iO?iO.isBuffer:void 0,sq=Cte||wte,Ste=9007199254740991,Ate=/^(?:0|[1-9]\d*)$/;function Ite(t,e){var r=typeof t;return e=e??Ste,!!e&&(r=="number"||r!="symbol"&&Ate.test(t))&&t>-1&&t%1==0&&t<e}var kte=9007199254740991;function oq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kte}var Tte="[object Arguments]",Pte="[object Array]",Ete="[object Boolean]",Dte="[object Date]",Ote="[object Error]",_te="[object Function]",Rte="[object Map]",$te="[object Number]",Mte="[object Object]",Lte="[object RegExp]",Fte="[object Set]",Bte="[object String]",qte="[object WeakMap]",Vte="[object ArrayBuffer]",Ute="[object DataView]",zte="[object Float32Array]",Wte="[object Float64Array]",Hte="[object Int8Array]",Gte="[object Int16Array]",Yte="[object Int32Array]",Kte="[object Uint8Array]",Jte="[object Uint8ClampedArray]",Xte="[object Uint16Array]",Qte="[object Uint32Array]",Et={};Et[zte]=Et[Wte]=Et[Hte]=Et[Gte]=Et[Yte]=Et[Kte]=Et[Jte]=Et[Xte]=Et[Qte]=!0;Et[Tte]=Et[Pte]=Et[Vte]=Et[Ete]=Et[Ute]=Et[Dte]=Et[Ote]=Et[_te]=Et[Rte]=Et[$te]=Et[Mte]=Et[Lte]=Et[Fte]=Et[Bte]=Et[qte]=!1;function Zte(t){return Tl(t)&&oq(t.length)&&!!Et[kl(t)]}function nP(t){return function(e){return t(e)}}var iq=typeof In=="object"&&In&&!In.nodeType&&In,Zd=iq&&typeof kn=="object"&&kn&&!kn.nodeType&&kn,ere=Zd&&Zd.exports===iq,UN=ere&&K3.process,Hc=function(){try{var t=Zd&&Zd.require&&Zd.require("util").types;return t||UN&&UN.binding&&UN.binding("util")}catch{}}(),lO=Hc&&Hc.isTypedArray,tre=lO?nP(lO):Zte,rre=Object.prototype,nre=rre.hasOwnProperty;function lq(t,e){var r=sh(t),n=!r&&jte(t),a=!r&&!n&&sq(t),s=!r&&!n&&!a&&tre(t),i=r||n||a||s,l=i?yte(t.length,String):[],c=l.length;for(var u in t)(e||nre.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ite(u,c)))&&l.push(u);return l}var are=Object.prototype;function aP(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||are;return t===r}var sre=X3(Object.keys,Object),ore=Object.prototype,ire=ore.hasOwnProperty;function lre(t){if(!aP(t))return sre(t);var e=[];for(var r in Object(t))ire.call(t,r)&&r!="constructor"&&e.push(r);return e}function cq(t){return t!=null&&oq(t.length)&&!eq(t)}function sP(t){return cq(t)?lq(t):lre(t)}function cre(t,e){return t&&Ev(e,sP(e),t)}function ure(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var dre=Object.prototype,fre=dre.hasOwnProperty;function mre(t){if(!ah(t))return ure(t);var e=aP(t),r=[];for(var n in t)n=="constructor"&&(e||!fre.call(t,n))||r.push(n);return r}function oP(t){return cq(t)?lq(t,!0):mre(t)}function hre(t,e){return t&&Ev(e,oP(e),t)}var uq=typeof In=="object"&&In&&!In.nodeType&&In,cO=uq&&typeof kn=="object"&&kn&&!kn.nodeType&&kn,pre=cO&&cO.exports===uq,uO=pre?Qa.Buffer:void 0,dO=uO?uO.allocUnsafe:void 0;function gre(t,e){if(e)return t.slice();var r=t.length,n=dO?dO(r):new t.constructor(r);return t.copy(n),n}function dq(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function yre(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}function fq(){return[]}var bre=Object.prototype,xre=bre.propertyIsEnumerable,fO=Object.getOwnPropertySymbols,iP=fO?function(t){return t==null?[]:(t=Object(t),yre(fO(t),function(e){return xre.call(t,e)}))}:fq;function vre(t,e){return Ev(t,iP(t),e)}function mq(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var jre=Object.getOwnPropertySymbols,hq=jre?function(t){for(var e=[];t;)mq(e,iP(t)),t=rP(t);return e}:fq;function wre(t,e){return Ev(t,hq(t),e)}function pq(t,e,r){var n=e(t);return sh(t)?n:mq(n,r(t))}function Nre(t){return pq(t,sP,iP)}function Cre(t){return pq(t,oP,hq)}var XS=El(Qa,"DataView"),QS=El(Qa,"Promise"),ZS=El(Qa,"Set"),eA=El(Qa,"WeakMap"),mO="[object Map]",Sre="[object Object]",hO="[object Promise]",pO="[object Set]",gO="[object WeakMap]",yO="[object DataView]",Are=Pl(XS),Ire=Pl(Xf),kre=Pl(QS),Tre=Pl(ZS),Pre=Pl(eA),us=kl;(XS&&us(new XS(new ArrayBuffer(1)))!=yO||Xf&&us(new Xf)!=mO||QS&&us(QS.resolve())!=hO||ZS&&us(new ZS)!=pO||eA&&us(new eA)!=gO)&&(us=function(t){var e=kl(t),r=e==Sre?t.constructor:void 0,n=r?Pl(r):"";if(n)switch(n){case Are:return yO;case Ire:return mO;case kre:return hO;case Tre:return pO;case Pre:return gO}return e});var Ere=Object.prototype,Dre=Ere.hasOwnProperty;function Ore(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Dre.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var bO=Qa.Uint8Array;function lP(t){var e=new t.constructor(t.byteLength);return new bO(e).set(new bO(t)),e}function _re(t,e){var r=e?lP(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Rre=/\w*$/;function $re(t){var e=new t.constructor(t.source,Rre.exec(t));return e.lastIndex=t.lastIndex,e}var xO=Uo?Uo.prototype:void 0,vO=xO?xO.valueOf:void 0;function Mre(t){return vO?Object(vO.call(t)):{}}function Lre(t,e){var r=e?lP(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Fre="[object Boolean]",Bre="[object Date]",qre="[object Map]",Vre="[object Number]",Ure="[object RegExp]",zre="[object Set]",Wre="[object String]",Hre="[object Symbol]",Gre="[object ArrayBuffer]",Yre="[object DataView]",Kre="[object Float32Array]",Jre="[object Float64Array]",Xre="[object Int8Array]",Qre="[object Int16Array]",Zre="[object Int32Array]",ene="[object Uint8Array]",tne="[object Uint8ClampedArray]",rne="[object Uint16Array]",nne="[object Uint32Array]";function ane(t,e,r){var n=t.constructor;switch(e){case Gre:return lP(t);case Fre:case Bre:return new n(+t);case Yre:return _re(t,r);case Kre:case Jre:case Xre:case Qre:case Zre:case ene:case tne:case rne:case nne:return Lre(t,r);case qre:return new n;case Vre:case Wre:return new n(t);case Ure:return $re(t);case zre:return new n;case Hre:return Mre(t)}}var jO=Object.create,sne=function(){function t(){}return function(e){if(!ah(e))return{};if(jO)return jO(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function one(t){return typeof t.constructor=="function"&&!aP(t)?sne(rP(t)):{}}var ine="[object Map]";function lne(t){return Tl(t)&&us(t)==ine}var wO=Hc&&Hc.isMap,cne=wO?nP(wO):lne,une="[object Set]";function dne(t){return Tl(t)&&us(t)==une}var NO=Hc&&Hc.isSet,fne=NO?nP(NO):dne,mne=1,hne=2,pne=4,gq="[object Arguments]",gne="[object Array]",yne="[object Boolean]",bne="[object Date]",xne="[object Error]",yq="[object Function]",vne="[object GeneratorFunction]",jne="[object Map]",wne="[object Number]",bq="[object Object]",Nne="[object RegExp]",Cne="[object Set]",Sne="[object String]",Ane="[object Symbol]",Ine="[object WeakMap]",kne="[object ArrayBuffer]",Tne="[object DataView]",Pne="[object Float32Array]",Ene="[object Float64Array]",Dne="[object Int8Array]",One="[object Int16Array]",_ne="[object Int32Array]",Rne="[object Uint8Array]",$ne="[object Uint8ClampedArray]",Mne="[object Uint16Array]",Lne="[object Uint32Array]",wt={};wt[gq]=wt[gne]=wt[kne]=wt[Tne]=wt[yne]=wt[bne]=wt[Pne]=wt[Ene]=wt[Dne]=wt[One]=wt[_ne]=wt[jne]=wt[wne]=wt[bq]=wt[Nne]=wt[Cne]=wt[Sne]=wt[Ane]=wt[Rne]=wt[$ne]=wt[Mne]=wt[Lne]=!0;wt[xne]=wt[yq]=wt[Ine]=!1;function ef(t,e,r,n,a,s){var i,l=e&mne,c=e&hne,u=e&pne;if(i!==void 0)return i;if(!ah(t))return t;var d=sh(t);if(d){if(i=Ore(t),!l)return dq(t,i)}else{var f=us(t),m=f==yq||f==vne;if(sq(t))return gre(t,l);if(f==bq||f==gq||m&&!a){if(i=c||m?{}:one(t),!l)return c?wre(t,hre(i,t)):vre(t,cre(i,t))}else{if(!wt[f])return a?t:{};i=ane(t,f,l)}}s||(s=new Au);var h=s.get(t);if(h)return h;s.set(t,i),fne(t)?t.forEach(function(b){i.add(ef(b,e,r,b,t,s))}):cne(t)&&t.forEach(function(b,g){i.set(g,ef(b,e,r,g,t,s))});var y=u?c?Cre:Nre:c?oP:sP,p=d?void 0:y(t);return hte(p||t,function(b,g){p&&(g=b,b=t[g]),rq(i,g,ef(b,e,r,g,t,s))}),i}var Fne=1,Bne=4;function Ed(t){return ef(t,Fne|Bne)}var CO=Array.isArray,SO=Object.keys,qne=Object.prototype.hasOwnProperty,Vne=typeof Element<"u";function tA(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=CO(t),n=CO(e),a,s,i;if(r&&n){if(s=t.length,s!=e.length)return!1;for(a=s;a--!==0;)if(!tA(t[a],e[a]))return!1;return!0}if(r!=n)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=SO(t);if(s=f.length,s!==SO(e).length)return!1;for(a=s;a--!==0;)if(!qne.call(e,f[a]))return!1;if(Vne&&t instanceof Element&&e instanceof Element)return t===e;for(a=s;a--!==0;)if(i=f[a],!(i==="_owner"&&t.$$typeof)&&!tA(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var Une=function(e,r){try{return tA(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const ao=it(Une);var zne=4;function AO(t){return ef(t,zne)}function xq(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Wne="[object Symbol]";function cP(t){return typeof t=="symbol"||Tl(t)&&kl(t)==Wne}var Hne="Expected a function";function uP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Hne);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(uP.Cache||ti),r}uP.Cache=ti;var Gne=500;function Yne(t){var e=uP(t,function(n){return r.size===Gne&&r.clear(),n}),r=e.cache;return e}var Kne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jne=/\\(\\)?/g,Xne=Yne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Kne,function(r,n,a,s){e.push(a?s.replace(Jne,"$1"):n||r)}),e});function Qne(t){if(typeof t=="string"||cP(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var IO=Uo?Uo.prototype:void 0,kO=IO?IO.toString:void 0;function vq(t){if(typeof t=="string")return t;if(sh(t))return xq(t,vq)+"";if(cP(t))return kO?kO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Zne(t){return t==null?"":vq(t)}function jq(t){return sh(t)?xq(t,Qne):cP(t)?[t]:dq(Xne(Zne(t)))}var wq={exports:{}},pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wr=typeof Symbol=="function"&&Symbol.for,dP=wr?Symbol.for("react.element"):60103,fP=wr?Symbol.for("react.portal"):60106,Dv=wr?Symbol.for("react.fragment"):60107,Ov=wr?Symbol.for("react.strict_mode"):60108,_v=wr?Symbol.for("react.profiler"):60114,Rv=wr?Symbol.for("react.provider"):60109,$v=wr?Symbol.for("react.context"):60110,mP=wr?Symbol.for("react.async_mode"):60111,Mv=wr?Symbol.for("react.concurrent_mode"):60111,Lv=wr?Symbol.for("react.forward_ref"):60112,Fv=wr?Symbol.for("react.suspense"):60113,eae=wr?Symbol.for("react.suspense_list"):60120,Bv=wr?Symbol.for("react.memo"):60115,qv=wr?Symbol.for("react.lazy"):60116,tae=wr?Symbol.for("react.block"):60121,rae=wr?Symbol.for("react.fundamental"):60117,nae=wr?Symbol.for("react.responder"):60118,aae=wr?Symbol.for("react.scope"):60119;function Fn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case dP:switch(t=t.type,t){case mP:case Mv:case Dv:case _v:case Ov:case Fv:return t;default:switch(t=t&&t.$$typeof,t){case $v:case Lv:case qv:case Bv:case Rv:return t;default:return e}}case fP:return e}}}function Nq(t){return Fn(t)===Mv}pt.AsyncMode=mP;pt.ConcurrentMode=Mv;pt.ContextConsumer=$v;pt.ContextProvider=Rv;pt.Element=dP;pt.ForwardRef=Lv;pt.Fragment=Dv;pt.Lazy=qv;pt.Memo=Bv;pt.Portal=fP;pt.Profiler=_v;pt.StrictMode=Ov;pt.Suspense=Fv;pt.isAsyncMode=function(t){return Nq(t)||Fn(t)===mP};pt.isConcurrentMode=Nq;pt.isContextConsumer=function(t){return Fn(t)===$v};pt.isContextProvider=function(t){return Fn(t)===Rv};pt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===dP};pt.isForwardRef=function(t){return Fn(t)===Lv};pt.isFragment=function(t){return Fn(t)===Dv};pt.isLazy=function(t){return Fn(t)===qv};pt.isMemo=function(t){return Fn(t)===Bv};pt.isPortal=function(t){return Fn(t)===fP};pt.isProfiler=function(t){return Fn(t)===_v};pt.isStrictMode=function(t){return Fn(t)===Ov};pt.isSuspense=function(t){return Fn(t)===Fv};pt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Dv||t===Mv||t===_v||t===Ov||t===Fv||t===eae||typeof t=="object"&&t!==null&&(t.$$typeof===qv||t.$$typeof===Bv||t.$$typeof===Rv||t.$$typeof===$v||t.$$typeof===Lv||t.$$typeof===rae||t.$$typeof===nae||t.$$typeof===aae||t.$$typeof===tae)};pt.typeOf=Fn;wq.exports=pt;var sae=wq.exports,hP=sae,oae={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},iae={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},lae={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Cq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pP={};pP[hP.ForwardRef]=lae;pP[hP.Memo]=Cq;function TO(t){return hP.isMemo(t)?Cq:pP[t.$$typeof]||oae}var cae=Object.defineProperty,uae=Object.getOwnPropertyNames,PO=Object.getOwnPropertySymbols,dae=Object.getOwnPropertyDescriptor,fae=Object.getPrototypeOf,EO=Object.prototype;function Sq(t,e,r){if(typeof e!="string"){if(EO){var n=fae(e);n&&n!==EO&&Sq(t,n,r)}var a=uae(e);PO&&(a=a.concat(PO(e)));for(var s=TO(t),i=TO(e),l=0;l<a.length;++l){var c=a[l];if(!iae[c]&&!(r&&r[c])&&!(i&&i[c])&&!(s&&s[c])){var u=dae(e,c);try{cae(t,c,u)}catch{}}}}return t}var mae=Sq;const hae=it(mae);function Gt(){return Gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gt.apply(this,arguments)}function Aq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Vv(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function DO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Uv=w.createContext(void 0);Uv.displayName="FormikContext";var gP=Uv.Provider,pae=Uv.Consumer;function Iq(){var t=w.useContext(Uv);return t}var OO=function(e){return Array.isArray(e)&&e.length===0},Mr=function(e){return typeof e=="function"},oh=function(e){return e!==null&&typeof e=="object"},gae=function(e){return String(Math.floor(Number(e)))===e},zN=function(e){return Object.prototype.toString.call(e)==="[object String]"},kq=function(e){return w.Children.count(e)===0},WN=function(e){return oh(e)&&Mr(e.then)};function $t(t,e,r,n){n===void 0&&(n=0);for(var a=jq(e);t&&n<a.length;)t=t[a[n++]];return n!==a.length&&!t||t===void 0?r:t}function Ba(t,e,r){for(var n=AO(t),a=n,s=0,i=jq(e);s<i.length-1;s++){var l=i[s],c=$t(t,i.slice(0,s+1));if(c&&(oh(c)||Array.isArray(c)))a=a[l]=AO(c);else{var u=i[s+1];a=a[l]=gae(u)&&Number(u)>=0?[]:{}}}return(s===0?t:a)[i[s]]===r?t:(r===void 0?delete a[i[s]]:a[i[s]]=r,s===0&&r===void 0&&delete n[i[s]],n)}function Tq(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var a=0,s=Object.keys(t);a<s.length;a++){var i=s[a],l=t[i];oh(l)?r.get(l)||(r.set(l,!0),n[i]=Array.isArray(l)?[]:{},Tq(l,e,r,n[i])):n[i]=e}return n}function yae(t,e){switch(e.type){case"SET_VALUES":return Gt({},t,{values:e.payload});case"SET_TOUCHED":return Gt({},t,{touched:e.payload});case"SET_ERRORS":return ao(t.errors,e.payload)?t:Gt({},t,{errors:e.payload});case"SET_STATUS":return Gt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Gt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Gt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Gt({},t,{values:Ba(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Gt({},t,{touched:Ba(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Gt({},t,{errors:Ba(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Gt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Gt({},t,{touched:Tq(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Gt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Gt({},t,{isSubmitting:!1});default:return t}}var di={},Kh={};function tt(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,a=n===void 0?!0:n,s=t.validateOnMount,i=s===void 0?!1:s,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=Vv(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=Gt({validateOnChange:r,validateOnBlur:a,validateOnMount:i,onSubmit:d},f),h=w.useRef(m.initialValues),y=w.useRef(m.initialErrors||di),p=w.useRef(m.initialTouched||Kh),b=w.useRef(m.initialStatus),g=w.useRef(!1),v=w.useRef({});w.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var j=w.useState(0),C=j[1],x=w.useRef({values:Ed(m.initialValues),errors:Ed(m.initialErrors)||di,touched:Ed(m.initialTouched)||Kh,status:Ed(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),N=x.current,S=w.useCallback(function(Z){var je=x.current;x.current=yae(je,Z),je!==x.current&&C(function(te){return te+1})},[]),A=w.useCallback(function(Z,je){return new Promise(function(te,ge){var be=m.validate(Z,je);be==null?te(di):WN(be)?be.then(function(ke){te(ke||di)},function(ke){ge(ke)}):te(be)})},[m.validate]),I=w.useCallback(function(Z,je){var te=m.validationSchema,ge=Mr(te)?te(je):te,be=je&&ge.validateAt?ge.validateAt(je,Z):xae(Z,ge);return new Promise(function(ke,Me){be.then(function(){ke(di)},function(He){He.name==="ValidationError"?ke(bae(He)):Me(He)})})},[m.validationSchema]),T=w.useCallback(function(Z,je){return new Promise(function(te){return te(v.current[Z].validate(je))})},[]),E=w.useCallback(function(Z){var je=Object.keys(v.current).filter(function(ge){return Mr(v.current[ge].validate)}),te=je.length>0?je.map(function(ge){return T(ge,$t(Z,ge))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(te).then(function(ge){return ge.reduce(function(be,ke,Me){return ke==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ke&&(be=Ba(be,je[Me],ke)),be},{})})},[T]),R=w.useCallback(function(Z){return Promise.all([E(Z),m.validationSchema?I(Z):{},m.validate?A(Z):{}]).then(function(je){var te=je[0],ge=je[1],be=je[2],ke=JS.all([te,ge,be],{arrayMerge:vae});return ke})},[m.validate,m.validationSchema,E,A,I]),M=Bn(function(Z){return Z===void 0&&(Z=N.values),S({type:"SET_ISVALIDATING",payload:!0}),R(Z).then(function(je){return g.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:je})),je})});w.useEffect(function(){i&&g.current===!0&&ao(h.current,m.initialValues)&&M(h.current)},[i,M]);var L=w.useCallback(function(Z){var je=Z&&Z.values?Z.values:h.current,te=Z&&Z.errors?Z.errors:y.current?y.current:m.initialErrors||{},ge=Z&&Z.touched?Z.touched:p.current?p.current:m.initialTouched||{},be=Z&&Z.status?Z.status:b.current?b.current:m.initialStatus;h.current=je,y.current=te,p.current=ge,b.current=be;var ke=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!Z&&!!Z.isSubmitting,errors:te,touched:ge,status:be,values:je,isValidating:!!Z&&!!Z.isValidating,submitCount:Z&&Z.submitCount&&typeof Z.submitCount=="number"?Z.submitCount:0}})};if(m.onReset){var Me=m.onReset(N.values,ue);WN(Me)?Me.then(ke):ke()}else ke()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);w.useEffect(function(){g.current===!0&&!ao(h.current,m.initialValues)&&u&&(h.current=m.initialValues,L(),i&&M(h.current))},[u,m.initialValues,L,i,M]),w.useEffect(function(){u&&g.current===!0&&!ao(y.current,m.initialErrors)&&(y.current=m.initialErrors||di,S({type:"SET_ERRORS",payload:m.initialErrors||di}))},[u,m.initialErrors]),w.useEffect(function(){u&&g.current===!0&&!ao(p.current,m.initialTouched)&&(p.current=m.initialTouched||Kh,S({type:"SET_TOUCHED",payload:m.initialTouched||Kh}))},[u,m.initialTouched]),w.useEffect(function(){u&&g.current===!0&&!ao(b.current,m.initialStatus)&&(b.current=m.initialStatus,S({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var P=Bn(function(Z){if(v.current[Z]&&Mr(v.current[Z].validate)){var je=$t(N.values,Z),te=v.current[Z].validate(je);return WN(te)?(S({type:"SET_ISVALIDATING",payload:!0}),te.then(function(ge){return ge}).then(function(ge){S({type:"SET_FIELD_ERROR",payload:{field:Z,value:ge}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:Z,value:te}}),Promise.resolve(te))}else if(m.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),I(N.values,Z).then(function(ge){return ge}).then(function(ge){S({type:"SET_FIELD_ERROR",payload:{field:Z,value:$t(ge,Z)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),_=w.useCallback(function(Z,je){var te=je.validate;v.current[Z]={validate:te}},[]),q=w.useCallback(function(Z){delete v.current[Z]},[]),F=Bn(function(Z,je){S({type:"SET_TOUCHED",payload:Z});var te=je===void 0?a:je;return te?M(N.values):Promise.resolve()}),O=w.useCallback(function(Z){S({type:"SET_ERRORS",payload:Z})},[]),V=Bn(function(Z,je){var te=Mr(Z)?Z(N.values):Z;S({type:"SET_VALUES",payload:te});var ge=je===void 0?r:je;return ge?M(te):Promise.resolve()}),W=w.useCallback(function(Z,je){S({type:"SET_FIELD_ERROR",payload:{field:Z,value:je}})},[]),$=Bn(function(Z,je,te){S({type:"SET_FIELD_VALUE",payload:{field:Z,value:je}});var ge=te===void 0?r:te;return ge?M(Ba(N.values,Z,je)):Promise.resolve()}),B=w.useCallback(function(Z,je){var te=je,ge=Z,be;if(!zN(Z)){Z.persist&&Z.persist();var ke=Z.target?Z.target:Z.currentTarget,Me=ke.type,He=ke.name,Dr=ke.id,Js=ke.value,ci=ke.checked;ke.outerHTML;var Xs=ke.options,ui=ke.multiple;te=je||He||Dr,ge=/number|range/.test(Me)?(be=parseFloat(Js),isNaN(be)?"":be):/checkbox/.test(Me)?wae($t(N.values,te),ci,Js):Xs&&ui?jae(Xs):Js}te&&$(te,ge)},[$,N.values]),Q=Bn(function(Z){if(zN(Z))return function(je){return B(je,Z)};B(Z)}),fe=Bn(function(Z,je,te){je===void 0&&(je=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:Z,value:je}});var ge=te===void 0?a:te;return ge?M(N.values):Promise.resolve()}),ae=w.useCallback(function(Z,je){Z.persist&&Z.persist();var te=Z.target,ge=te.name,be=te.id;te.outerHTML;var ke=je||ge||be;fe(ke,!0)},[fe]),J=Bn(function(Z){if(zN(Z))return function(je){return ae(je,Z)};ae(Z)}),oe=w.useCallback(function(Z){Mr(Z)?S({type:"SET_FORMIK_STATE",payload:Z}):S({type:"SET_FORMIK_STATE",payload:function(){return Z}})},[]),ee=w.useCallback(function(Z){S({type:"SET_STATUS",payload:Z})},[]),re=w.useCallback(function(Z){S({type:"SET_ISSUBMITTING",payload:Z})},[]),K=Bn(function(){return S({type:"SUBMIT_ATTEMPT"}),M().then(function(Z){var je=Z instanceof Error,te=!je&&Object.keys(Z).length===0;if(te){var ge;try{if(ge=me(),ge===void 0)return}catch(be){throw be}return Promise.resolve(ge).then(function(be){return g.current&&S({type:"SUBMIT_SUCCESS"}),be}).catch(function(be){if(g.current)throw S({type:"SUBMIT_FAILURE"}),be})}else if(g.current&&(S({type:"SUBMIT_FAILURE"}),je))throw Z})}),Y=Bn(function(Z){Z&&Z.preventDefault&&Mr(Z.preventDefault)&&Z.preventDefault(),Z&&Z.stopPropagation&&Mr(Z.stopPropagation)&&Z.stopPropagation(),K().catch(function(je){console.warn("Warning: An unhandled error was caught from submitForm()",je)})}),ue={resetForm:L,validateForm:M,validateField:P,setErrors:O,setFieldError:W,setFieldTouched:fe,setFieldValue:$,setStatus:ee,setSubmitting:re,setTouched:F,setValues:V,setFormikState:oe,submitForm:K},me=Bn(function(){return d(N.values,ue)}),ve=Bn(function(Z){Z&&Z.preventDefault&&Mr(Z.preventDefault)&&Z.preventDefault(),Z&&Z.stopPropagation&&Mr(Z.stopPropagation)&&Z.stopPropagation(),L()}),De=w.useCallback(function(Z){return{value:$t(N.values,Z),error:$t(N.errors,Z),touched:!!$t(N.touched,Z),initialValue:$t(h.current,Z),initialTouched:!!$t(p.current,Z),initialError:$t(y.current,Z)}},[N.errors,N.touched,N.values]),_e=w.useCallback(function(Z){return{setValue:function(te,ge){return $(Z,te,ge)},setTouched:function(te,ge){return fe(Z,te,ge)},setError:function(te){return W(Z,te)}}},[$,fe,W]),yt=w.useCallback(function(Z){var je=oh(Z),te=je?Z.name:Z,ge=$t(N.values,te),be={name:te,value:ge,onChange:Q,onBlur:J};if(je){var ke=Z.type,Me=Z.value,He=Z.as,Dr=Z.multiple;ke==="checkbox"?Me===void 0?be.checked=!!ge:(be.checked=!!(Array.isArray(ge)&&~ge.indexOf(Me)),be.value=Me):ke==="radio"?(be.checked=ge===Me,be.value=Me):He==="select"&&Dr&&(be.value=be.value||[],be.multiple=!0)}return be},[J,Q,N.values]),Tt=w.useMemo(function(){return!ao(h.current,N.values)},[h.current,N.values]),vn=w.useMemo(function(){return typeof l<"u"?Tt?N.errors&&Object.keys(N.errors).length===0:l!==!1&&Mr(l)?l(m):l:N.errors&&Object.keys(N.errors).length===0},[l,Tt,N.errors,m]),Zr=Gt({},N,{initialValues:h.current,initialErrors:y.current,initialTouched:p.current,initialStatus:b.current,handleBlur:J,handleChange:Q,handleReset:ve,handleSubmit:Y,resetForm:L,setErrors:O,setFormikState:oe,setFieldTouched:fe,setFieldValue:$,setFieldError:W,setStatus:ee,setSubmitting:re,setTouched:F,setValues:V,submitForm:K,validateForm:M,validateField:P,isValid:vn,dirty:Tt,unregisterField:q,registerField:_,getFieldProps:yt,getFieldMeta:De,getFieldHelpers:_e,validateOnBlur:a,validateOnChange:r,validateOnMount:i});return Zr}function qe(t){var e=tt(t),r=t.component,n=t.children,a=t.render,s=t.innerRef;return w.useImperativeHandle(s,function(){return e}),w.createElement(gP,{value:e},r?w.createElement(r,e):a?a(e):n?Mr(n)?n(e):kq(n)?null:w.Children.only(n):null)}function bae(t){var e={};if(t.inner){if(t.inner.length===0)return Ba(e,t.path,t.message);for(var a=t.inner,r=Array.isArray(a),n=0,a=r?a:a[Symbol.iterator]();;){var s;if(r){if(n>=a.length)break;s=a[n++]}else{if(n=a.next(),n.done)break;s=n.value}var i=s;$t(e,i.path)||(e=Ba(e,i.path,i.message))}}return e}function xae(t,e,r,n){r===void 0&&(r=!1);var a=rA(t);return e[r?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function rA(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(a){return Array.isArray(a)===!0||rO(a)?rA(a):a!==""?a:void 0}):rO(t[n])?e[n]=rA(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function vae(t,e,r){var n=t.slice();return e.forEach(function(s,i){if(typeof n[i]>"u"){var l=r.clone!==!1,c=l&&r.isMergeableObject(s);n[i]=c?JS(Array.isArray(s)?[]:{},s,r):s}else r.isMergeableObject(s)?n[i]=JS(t[i],s,r):t.indexOf(s)===-1&&n.push(s)}),n}function jae(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function wae(t,e,r){if(typeof t=="boolean")return!!e;var n=[],a=!1,s=-1;if(Array.isArray(t))n=t,s=t.indexOf(r),a=s>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!a?n.concat(r):a?n.slice(0,s).concat(n.slice(s+1)):n}var Nae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function Bn(t){var e=w.useRef(t);return Nae(function(){e.current=t}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current.apply(void 0,n)},[])}var We=w.forwardRef(function(t,e){var r=t.action,n=Vv(t,["action"]),a=r??"#",s=Iq(),i=s.handleReset,l=s.handleSubmit;return w.createElement("form",Gt({onSubmit:l,ref:e,onReset:i,action:a},n))});We.displayName="Form";function Pq(t){var e=function(a){return w.createElement(pae,null,function(s){return w.createElement(t,Gt({},a,{formik:s}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",hae(e,t)}var Cae=function(e,r,n){var a=gl(e),s=a[r];return a.splice(r,1),a.splice(n,0,s),a},Sae=function(e,r,n){var a=gl(e),s=a[r];return a[r]=a[n],a[n]=s,a},HN=function(e,r,n){var a=gl(e);return a.splice(r,0,n),a},Aae=function(e,r,n){var a=gl(e);return a[r]=n,a},gl=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,a){return a>n?a:n},0);return Array.from(Gt({},e,{length:r+1}))}else return[]},_O=function(e,r){var n=typeof e=="function"?e:r;return function(a){if(Array.isArray(a)||oh(a)){var s=gl(a);return n(s)}return a}},Eq=function(t){Aq(e,t);function e(n){var a;return a=t.call(this,n)||this,a.updateArrayField=function(s,i,l){var c=a.props,u=c.name,d=c.formik.setFormikState;d(function(f){var m=_O(l,s),h=_O(i,s),y=Ba(f.values,u,s($t(f.values,u))),p=l?m($t(f.errors,u)):void 0,b=i?h($t(f.touched,u)):void 0;return OO(p)&&(p=void 0),OO(b)&&(b=void 0),Gt({},f,{values:y,errors:l?Ba(f.errors,u,p):f.errors,touched:i?Ba(f.touched,u,b):f.touched})})},a.push=function(s){return a.updateArrayField(function(i){return[].concat(gl(i),[Ed(s)])},!1,!1)},a.handlePush=function(s){return function(){return a.push(s)}},a.swap=function(s,i){return a.updateArrayField(function(l){return Sae(l,s,i)},!0,!0)},a.handleSwap=function(s,i){return function(){return a.swap(s,i)}},a.move=function(s,i){return a.updateArrayField(function(l){return Cae(l,s,i)},!0,!0)},a.handleMove=function(s,i){return function(){return a.move(s,i)}},a.insert=function(s,i){return a.updateArrayField(function(l){return HN(l,s,i)},function(l){return HN(l,s,null)},function(l){return HN(l,s,null)})},a.handleInsert=function(s,i){return function(){return a.insert(s,i)}},a.replace=function(s,i){return a.updateArrayField(function(l){return Aae(l,s,i)},!1,!1)},a.handleReplace=function(s,i){return function(){return a.replace(s,i)}},a.unshift=function(s){var i=-1;return a.updateArrayField(function(l){var c=l?[s].concat(l):[s];return i=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),i},a.handleUnshift=function(s){return function(){return a.unshift(s)}},a.handleRemove=function(s){return function(){return a.remove(s)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(DO(a)),a.pop=a.pop.bind(DO(a)),a}var r=e.prototype;return r.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!ao($t(a.formik.values,a.name),$t(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(a){var s;return this.updateArrayField(function(i){var l=i?gl(i):[];return s||(s=l[a]),Mr(l.splice)&&l.splice(a,1),Mr(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),s},r.pop=function(){var a;return this.updateArrayField(function(s){var i=s.slice();return a||(a=i&&i.pop&&i.pop()),i},!0,!0),a},r.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,i=s.component,l=s.render,c=s.children,u=s.name,d=s.formik,f=Vv(d,["validate","validationSchema"]),m=Gt({},a,{form:f,name:u});return i?w.createElement(i,m):l?l(m):c?typeof c=="function"?c(m):kq(c)?null:w.Children.only(c):null},e}(w.Component);Eq.defaultProps={validateOnChange:!0};var Gr=Pq(Eq),Iae=function(t){Aq(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.shouldComponentUpdate=function(a){return $t(this.props.formik.errors,this.props.name)!==$t(a.formik.errors,this.props.name)||$t(this.props.formik.touched,this.props.name)!==$t(a.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(a).length},r.render=function(){var a=this.props,s=a.component,i=a.formik,l=a.render,c=a.children,u=a.name,d=Vv(a,["component","formik","render","children","name"]),f=$t(i.touched,u),m=$t(i.errors,u);return f&&m?l?Mr(l)?l(m):null:c?Mr(c)?c(m):null:s?w.createElement(s,d,m):m:null},e}(w.Component),GN=Pq(Iae);function k({label:t,name:e,type:r="text",placeholder:n="",required:a=!1,disabled:s=!1,readOnly:i=!1,className:l="",options:c=[],value:u,onChange:d,onBlur:f,error:m,touched:h,helperText:y,...p}){const b=m&&h,[g,v]=w.useState(!1),j=()=>{switch(r){case"textarea":return o.jsx("textarea",{id:e,name:e,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,rows:p.rows||3,className:Le("form-textarea border border-gray-300 px-4 py-2",b&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...p});case"multiselect":return o.jsx("select",{id:e,name:e,disabled:s,multiple:!0,value:u||[],onChange:C=>{const x=Array.from(C.target.selectedOptions).map(N=>N.value);d({target:{name:e,value:x}})},onBlur:f,className:Le("form-select border border-gray-300 px-4 py-2 h-auto",b&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...p,children:c.map(C=>o.jsx("option",{value:C.value,children:C.label},C.value))});case"select":return o.jsxs("select",{id:e,name:e,disabled:s,value:u,onChange:d,onBlur:f,className:Le("form-select border border-gray-300 px-4 py-2 pr-10",b&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...p,children:[o.jsx("option",{value:"",children:p.defaultOption||"Select"}),c.map(C=>o.jsx("option",{value:C.value,children:C.label},C.value))]});case"checkbox":return o.jsx("div",{className:"flex items-center h-full",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:e,name:e,type:"checkbox",disabled:s,checked:u,onChange:d,onBlur:f,className:Le("form-checkbox",b&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...p}),o.jsx("label",{htmlFor:e,className:"ml-2 block text-sm text-neutral-700",children:t})]})});case"radio":return o.jsx("div",{className:"space-y-2",children:c.map(C=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:`${e}-${C.value}`,name:e,type:"radio",value:C.value,disabled:s,checked:u===C.value,onChange:d,onBlur:f,className:Le("form-radio ",b&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...p}),o.jsx("label",{htmlFor:`${e}-${C.value}`,className:"ml-2 block text-sm text-neutral-700",children:C.label})]},C.value))});case"password":return o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:e,name:e,type:g?"text":"password",placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:Le("form-input border border-gray-300 h-[42px] px-4 py-2 pr-10 w-full",b&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...p}),o.jsx("button",{type:"button",onClick:()=>v(C=>!C),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",tabIndex:-1,children:g?o.jsx(FJ,{className:"h-5 w-5"}):o.jsx(Zo,{className:"h-5 w-5"})})]});case"date":case"number":case"email":case"text":default:return o.jsx("input",{id:e,name:e,type:r,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:Le("form-input border border-gray-300 h-[42px] px-4 py-2",b&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...p})}};return o.jsxs("div",{className:`form-group ${r==="checkbox"?"":"space-y-1"}`,children:[r!=="checkbox"&&o.jsxs("label",{htmlFor:e,className:"form-label",children:[t," ",a&&o.jsx("span",{className:"text-error-500",children:"*"})]}),j(),b?o.jsx("div",{className:"mt-1 text-error-600 text-sm",children:m}):y?o.jsx("div",{className:"mt-1 text-neutral-500 text-xs",children:y}):null]})}function kae(){const[t,e]=w.useState(""),[r,n]=w.useState(""),a=de(),{isLoading:s,error:i}=H(c=>c.auth),l=c=>{if(c.preventDefault(),!t||!r){z.error("Please fill out all fields.");return}a(Kp({username:t,password:r}))};return o.jsx("div",{className:"bg-neutral-100 flex items-center justify-center  sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-4 sm:p-8 rounded-lg shadow-md",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-neutral-900",children:"LGU Management System"}),o.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to access your account"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[o.jsxs("div",{className:"rounded-md space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:t,onChange:c=>e(c.target.value)}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:r,onChange:c=>n(c.target.value)}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]})})]}),i&&o.jsx("div",{className:"rounded-md bg-error-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(MJ,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm font-medium text-error-800",children:i})})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:`btn btn-primary w-full flex justify-center items-center ${s?"opacity-70 cursor-not-allowed":""}`,children:s?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),o.jsx("div",{className:"text-center text-sm text-neutral-500 mt-8",children:" 2025 Local Government Unit. All rights reserved."})]})})}const Tae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Registration Page"})}),Pae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Forgot Password Page"})}),Eae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Reset Password Page"})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ih(t){return t+.5|0}const po=(t,e,r)=>Math.max(Math.min(t,r),e);function Dd(t){return po(ih(t*2.55),0,255)}function To(t){return po(ih(t*255),0,255)}function ds(t){return po(ih(t/2.55)/100,0,1)}function RO(t){return po(ih(t*100),0,100)}const qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nA=[..."0123456789ABCDEF"],Dae=t=>nA[t&15],Oae=t=>nA[(t&240)>>4]+nA[t&15],Jh=t=>(t&240)>>4===(t&15),_ae=t=>Jh(t.r)&&Jh(t.g)&&Jh(t.b)&&Jh(t.a);function Rae(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&qn[t[1]]*17,g:255&qn[t[2]]*17,b:255&qn[t[3]]*17,a:e===5?qn[t[4]]*17:255}:(e===7||e===9)&&(r={r:qn[t[1]]<<4|qn[t[2]],g:qn[t[3]]<<4|qn[t[4]],b:qn[t[5]]<<4|qn[t[6]],a:e===9?qn[t[7]]<<4|qn[t[8]]:255})),r}const $ae=(t,e)=>t<255?e(t):"";function Mae(t){var e=_ae(t)?Dae:Oae;return t?"#"+e(t.r)+e(t.g)+e(t.b)+$ae(t.a,e):void 0}const Lae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Dq(t,e,r){const n=e*Math.min(r,1-r),a=(s,i=(s+t/30)%12)=>r-n*Math.max(Math.min(i-3,9-i,1),-1);return[a(0),a(8),a(4)]}function Fae(t,e,r){const n=(a,s=(a+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function Bae(t,e,r){const n=Dq(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function qae(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function yP(t){const r=t.r/255,n=t.g/255,a=t.b/255,s=Math.max(r,n,a),i=Math.min(r,n,a),l=(s+i)/2;let c,u,d;return s!==i&&(d=s-i,u=l>.5?d/(2-s-i):d/(s+i),c=qae(r,n,a,d,s),c=c*60+.5),[c|0,u||0,l]}function bP(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(To)}function xP(t,e,r){return bP(Dq,t,e,r)}function Vae(t,e,r){return bP(Bae,t,e,r)}function Uae(t,e,r){return bP(Fae,t,e,r)}function Oq(t){return(t%360+360)%360}function zae(t){const e=Lae.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Dd(+e[5]):To(+e[5]));const a=Oq(+e[2]),s=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?n=Vae(a,s,i):e[1]==="hsv"?n=Uae(a,s,i):n=xP(a,s,i),{r:n[0],g:n[1],b:n[2],a:r}}function Wae(t,e){var r=yP(t);r[0]=Oq(r[0]+e),r=xP(r),t.r=r[0],t.g=r[1],t.b=r[2]}function Hae(t){if(!t)return;const e=yP(t),r=e[0],n=RO(e[1]),a=RO(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${ds(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const $O={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},MO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Gae(){const t={},e=Object.keys(MO),r=Object.keys($O);let n,a,s,i,l;for(n=0;n<e.length;n++){for(i=l=e[n],a=0;a<r.length;a++)s=r[a],l=l.replace(s,$O[s]);s=parseInt(MO[i],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Xh;function Yae(t){Xh||(Xh=Gae(),Xh.transparent=[0,0,0,0]);const e=Xh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Kae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Jae(t){const e=Kae.exec(t);let r=255,n,a,s;if(e){if(e[7]!==n){const i=+e[7];r=e[8]?Dd(i):po(i*255,0,255)}return n=+e[1],a=+e[3],s=+e[5],n=255&(e[2]?Dd(n):po(n,0,255)),a=255&(e[4]?Dd(a):po(a,0,255)),s=255&(e[6]?Dd(s):po(s,0,255)),{r:n,g:a,b:s,a:r}}}function Xae(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ds(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const YN=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Vl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Qae(t,e,r){const n=Vl(ds(t.r)),a=Vl(ds(t.g)),s=Vl(ds(t.b));return{r:To(YN(n+r*(Vl(ds(e.r))-n))),g:To(YN(a+r*(Vl(ds(e.g))-a))),b:To(YN(s+r*(Vl(ds(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Qh(t,e,r){if(t){let n=yP(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=xP(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function _q(t,e){return t&&Object.assign(e||{},t)}function LO(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=To(t[3]))):(e=_q(t,{r:0,g:0,b:0,a:1}),e.a=To(e.a)),e}function Zae(t){return t.charAt(0)==="r"?Jae(t):zae(t)}let Rq=class aA{constructor(e){if(e instanceof aA)return e;const r=typeof e;let n;r==="object"?n=LO(e):r==="string"&&(n=Rae(e)||Yae(e)||Zae(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=_q(this._rgb);return e&&(e.a=ds(e.a)),e}set rgb(e){this._rgb=LO(e)}rgbString(){return this._valid?Xae(this._rgb):void 0}hexString(){return this._valid?Mae(this._rgb):void 0}hslString(){return this._valid?Hae(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let s;const i=r===s?.5:r,l=2*i-1,c=n.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-u,n.r=255&u*n.r+s*a.r+.5,n.g=255&u*n.g+s*a.g+.5,n.b=255&u*n.b+s*a.b+.5,n.a=i*n.a+(1-i)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=Qae(this._rgb,e._rgb,r)),this}clone(){return new aA(this.rgb)}alpha(e){return this._rgb.a=To(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=ih(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Qh(this._rgb,2,e),this}darken(e){return Qh(this._rgb,2,-e),this}saturate(e){return Qh(this._rgb,1,e),this}desaturate(e){return Qh(this._rgb,1,-e),this}rotate(e){return Wae(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ts(){}const ese=(()=>{let t=0;return()=>t++})();function Ke(t){return t==null}function Lt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Xe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Xt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function jn(t,e){return Xt(t)?t:e}function Ve(t,e){return typeof t>"u"?e:t}const tse=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,$q=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ct(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function ft(t,e,r,n){let a,s,i;if(Lt(t))for(s=t.length,a=0;a<s;a++)e.call(r,t[a],a);else if(Xe(t))for(i=Object.keys(t),s=i.length,a=0;a<s;a++)e.call(r,t[i[a]],i[a])}function Lx(t,e){let r,n,a,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],s=e[r],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function Fx(t){if(Lt(t))return t.map(Fx);if(Xe(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=Fx(t[r[a]]);return e}return t}function Mq(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function rse(t,e,r,n){if(!Mq(t))return;const a=e[t],s=r[t];Xe(a)&&Xe(s)?Zf(a,s,n):e[t]=Fx(s)}function Zf(t,e,r){const n=Lt(e)?e:[e],a=n.length;if(!Xe(t))return t;r=r||{};const s=r.merger||rse;let i;for(let l=0;l<a;++l){if(i=n[l],!Xe(i))continue;const c=Object.keys(i);for(let u=0,d=c.length;u<d;++u)s(c[u],t,i,r)}return t}function tf(t,e){return Zf(t,e,{merger:nse})}function nse(t,e,r){if(!Mq(t))return;const n=e[t],a=r[t];Xe(n)&&Xe(a)?tf(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Fx(a))}const FO={"":t=>t,x:t=>t.x,y:t=>t.y};function ase(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function sse(t){const e=ase(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function zo(t,e){return(FO[e]||(FO[e]=sse(e)))(t)}function vP(t){return t.charAt(0).toUpperCase()+t.slice(1)}const em=t=>typeof t<"u",Wo=t=>typeof t=="function",BO=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function ose(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const nt=Math.PI,Rt=2*nt,ise=Rt+nt,Bx=Number.POSITIVE_INFINITY,lse=nt/180,ar=nt/2,fi=nt/4,qO=nt*2/3,go=Math.log10,qa=Math.sign;function rf(t,e,r){return Math.abs(t-e)<r}function VO(t){const e=Math.round(t);t=rf(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(go(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function cse(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,s)=>a-s).pop(),e}function use(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Gc(t){return!use(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function dse(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function Lq(t,e,r){let n,a,s;for(n=0,a=t.length;n<a;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ha(t){return t*(nt/180)}function jP(t){return t*(180/nt)}function UO(t){if(!Xt(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Fq(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*nt&&(s+=Rt),{angle:s,distance:a}}function sA(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function fse(t,e){return(t-e+ise)%Rt-nt}function Lr(t){return(t%Rt+Rt)%Rt}function tm(t,e,r,n){const a=Lr(t),s=Lr(e),i=Lr(r),l=Lr(s-a),c=Lr(i-a),u=Lr(a-s),d=Lr(a-i);return a===s||a===i||n&&s===i||l>c&&u<d}function vr(t,e,r){return Math.max(e,Math.min(r,t))}function mse(t){return vr(t,-32768,32767)}function ps(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function wP(t,e,r){r=r||(i=>t[i]<e);let n=t.length-1,a=0,s;for(;n-a>1;)s=a+n>>1,r(s)?a=s:n=s;return{lo:a,hi:n}}const gs=(t,e,r,n)=>wP(t,r,n?a=>{const s=t[a][e];return s<r||s===r&&t[a+1][e]===r}:a=>t[a][e]<r),hse=(t,e,r)=>wP(t,r,n=>t[n][e]>=r);function pse(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const Bq=["push","pop","shift","splice","unshift"];function gse(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Bq.forEach(r=>{const n="_onData"+vP(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const i=a.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...s)}),i}})})}function zO(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(Bq.forEach(s=>{delete t[s]}),delete t._chartjs)}function qq(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Vq=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Uq(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,Vq.call(window,()=>{n=!1,t.apply(e,r)}))}}function yse(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const NP=t=>t==="start"?"left":t==="end"?"right":"center",$r=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,bse=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function zq(t,e,r){const n=e.length;let a=0,s=n;if(t._sorted){const{iScale:i,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=i.axis,{min:f,max:m,minDefined:h,maxDefined:y}=i.getUserBounds();if(h){if(a=Math.min(gs(c,d,f).lo,r?n:gs(e,d,i.getPixelForValue(f)).lo),u){const p=c.slice(0,a+1).reverse().findIndex(b=>!Ke(b[l.axis]));a-=Math.max(0,p)}a=vr(a,0,n-1)}if(y){let p=Math.max(gs(c,i.axis,m,!0).hi+1,r?0:gs(e,d,i.getPixelForValue(m),!0).hi+1);if(u){const b=c.slice(p-1).findIndex(g=>!Ke(g[l.axis]));p+=Math.max(0,b)}s=vr(p,a,n)-a}else s=n-a}return{start:a,count:s}}function Wq(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),s}const Zh=t=>t===0||t===1,WO=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Rt/r)),HO=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Rt/r)+1,nf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ar)+1,easeOutSine:t=>Math.sin(t*ar),easeInOutSine:t=>-.5*(Math.cos(nt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Zh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Zh(t)?t:WO(t,.075,.3),easeOutElastic:t=>Zh(t)?t:HO(t,.075,.3),easeInOutElastic(t){return Zh(t)?t:t<.5?.5*WO(t*2,.1125,.45):.5+.5*HO(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-nf.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?nf.easeInBounce(t*2)*.5:nf.easeOutBounce(t*2-1)*.5+.5};function CP(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function GO(t){return CP(t)?t:new Rq(t)}function KN(t){return CP(t)?t:new Rq(t).saturate(.5).darken(.1).hexString()}const xse=["x","y","borderWidth","radius","tension"],vse=["color","borderColor","backgroundColor"];function jse(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:vse},numbers:{type:"number",properties:xse}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function wse(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const YO=new Map;function Nse(t,e){e=e||{};const r=t+JSON.stringify(e);let n=YO.get(r);return n||(n=new Intl.NumberFormat(t,e),YO.set(r,n)),n}function lh(t,e,r){return Nse(e,r).format(t)}const Hq={values(t){return Lt(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),s=Cse(t,r)}const i=go(Math.abs(s)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),lh(t,n,c)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(go(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?Hq.numeric.call(this,t,e,r):""}};function Cse(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var zv={formatters:Hq};function Sse(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const yl=Object.create(null),oA=Object.create(null);function af(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function JN(t,e,r){return typeof e=="string"?Zf(af(t,e),r):Zf(af(t,""),e)}class Ase{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>KN(a.backgroundColor),this.hoverBorderColor=(n,a)=>KN(a.borderColor),this.hoverColor=(n,a)=>KN(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return JN(this,e,r)}get(e){return af(this,e)}describe(e,r){return JN(oA,e,r)}override(e,r){return JN(yl,e,r)}route(e,r,n,a){const s=af(this,e),i=af(this,n),l="_"+r;Object.defineProperties(s,{[l]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=i[a];return Xe(c)?Object.assign({},u,c):Ve(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var Bt=new Ase({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[jse,wse,Sse]);function Ise(t){return!t||Ke(t.size)||Ke(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function qx(t,e,r,n,a){let s=e[a];return s||(s=e[a]=t.measureText(a).width,r.push(a)),s>n&&(n=s),n}function kse(t,e,r,n){n=n||{};let a=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let i=0;const l=r.length;let c,u,d,f,m;for(c=0;c<l;c++)if(f=r[c],f!=null&&!Lt(f))i=qx(t,a,s,i,f);else if(Lt(f))for(u=0,d=f.length;u<d;u++)m=f[u],m!=null&&!Lt(m)&&(i=qx(t,a,s,i,m));t.restore();const h=s.length/2;if(h>r.length){for(c=0;c<h;c++)delete a[s[c]];s.splice(0,h)}return i}function mi(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function KO(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function iA(t,e,r,n){Gq(t,e,r,n,null)}function Gq(t,e,r,n,a){let s,i,l,c,u,d,f,m;const h=e.pointStyle,y=e.rotation,p=e.radius;let b=(y||0)*lse;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(b),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),h){default:a?t.ellipse(r,n,a/2,p,0,0,Rt):t.arc(r,n,p,0,Rt),t.closePath();break;case"triangle":d=a?a/2:p,t.moveTo(r+Math.sin(b)*d,n-Math.cos(b)*p),b+=qO,t.lineTo(r+Math.sin(b)*d,n-Math.cos(b)*p),b+=qO,t.lineTo(r+Math.sin(b)*d,n-Math.cos(b)*p),t.closePath();break;case"rectRounded":u=p*.516,c=p-u,i=Math.cos(b+fi)*c,f=Math.cos(b+fi)*(a?a/2-u:c),l=Math.sin(b+fi)*c,m=Math.sin(b+fi)*(a?a/2-u:c),t.arc(r-f,n-l,u,b-nt,b-ar),t.arc(r+m,n-i,u,b-ar,b),t.arc(r+f,n+l,u,b,b+ar),t.arc(r-m,n+i,u,b+ar,b+nt),t.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*p,d=a?a/2:c,t.rect(r-d,n-c,2*d,2*c);break}b+=fi;case"rectRot":f=Math.cos(b)*(a?a/2:p),i=Math.cos(b)*p,l=Math.sin(b)*p,m=Math.sin(b)*(a?a/2:p),t.moveTo(r-f,n-l),t.lineTo(r+m,n-i),t.lineTo(r+f,n+l),t.lineTo(r-m,n+i),t.closePath();break;case"crossRot":b+=fi;case"cross":f=Math.cos(b)*(a?a/2:p),i=Math.cos(b)*p,l=Math.sin(b)*p,m=Math.sin(b)*(a?a/2:p),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"star":f=Math.cos(b)*(a?a/2:p),i=Math.cos(b)*p,l=Math.sin(b)*p,m=Math.sin(b)*(a?a/2:p),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i),b+=fi,f=Math.cos(b)*(a?a/2:p),i=Math.cos(b)*p,l=Math.sin(b)*p,m=Math.sin(b)*(a?a/2:p),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"line":i=a?a/2:Math.cos(b)*p,l=Math.sin(b)*p,t.moveTo(r-i,n-l),t.lineTo(r+i,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(b)*(a?a/2:p),n+Math.sin(b)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ys(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function Wv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Hv(t){t.restore()}function Tse(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Pse(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Ese(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ke(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Dse(t,e,r,n,a){if(a.strikethrough||a.underline){const s=t.measureText(n),i=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=a.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(i,d),t.lineTo(l,d),t.stroke()}}function Ose(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function bl(t,e,r,n,a,s={}){const i=Lt(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,u;for(t.save(),t.font=a.string,Ese(t,s),c=0;c<i.length;++c)u=i[c],s.backdrop&&Ose(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Ke(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),Dse(t,r,n,u,s),n+=Number(a.lineHeight);t.restore()}function rm(t,e){const{x:r,y:n,w:a,h:s,radius:i}=e;t.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*nt,nt,!0),t.lineTo(r,n+s-i.bottomLeft),t.arc(r+i.bottomLeft,n+s-i.bottomLeft,i.bottomLeft,nt,ar,!0),t.lineTo(r+a-i.bottomRight,n+s),t.arc(r+a-i.bottomRight,n+s-i.bottomRight,i.bottomRight,ar,0,!0),t.lineTo(r+a,n+i.topRight),t.arc(r+a-i.topRight,n+i.topRight,i.topRight,0,-ar,!0),t.lineTo(r+i.topLeft,n)}const _se=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Rse=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $se(t,e){const r=(""+t).match(_se);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const Mse=t=>+t||0;function SP(t,e){const r={},n=Xe(e),a=n?Object.keys(e):e,s=Xe(t)?n?i=>Ve(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of a)r[i]=Mse(s(i));return r}function Yq(t){return SP(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Wi(t){return SP(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ur(t){const e=Yq(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function pr(t,e){t=t||{},e=e||Bt.font;let r=Ve(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Ve(t.style,e.style);n&&!(""+n).match(Rse)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Ve(t.family,e.family),lineHeight:$se(Ve(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Ve(t.weight,e.weight),string:""};return a.string=Ise(a),a}function Od(t,e,r,n){let a,s,i;for(a=0,s=t.length;a<s;++a)if(i=t[a],i!==void 0&&i!==void 0)return i}function Lse(t,e,r){const{min:n,max:a}=t,s=$q(e,(a-n)/2),i=(l,c)=>r&&l===0?0:l+c;return{min:i(n,-Math.abs(s)),max:i(a,s)}}function ri(t,e){return Object.assign(Object.create(t),e)}function AP(t,e=[""],r,n,a=()=>t[0]){const s=r||t;typeof n>"u"&&(n=Qq("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:a,override:l=>AP([l,...t],e,s,n)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Jq(l,c,()=>Hse(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return XO(l).includes(c)},ownKeys(l){return XO(l)},set(l,c,u){const d=l._storage||(l._storage=a());return l[c]=d[c]=u,delete l._keys,!0}})}function Yc(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Kq(t,n),setContext:s=>Yc(t,s,r,n),override:s=>Yc(t.override(s),e,r,n)};return new Proxy(a,{deleteProperty(s,i){return delete s[i],delete t[i],!0},get(s,i,l){return Jq(s,i,()=>Bse(s,i,l))},getOwnPropertyDescriptor(s,i){return s._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(s,i,l){return t[i]=l,delete s[i],!0}})}function Kq(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:Wo(r)?r:()=>r,isIndexable:Wo(n)?n:()=>n}}const Fse=(t,e)=>t?t+vP(e):e,IP=(t,e)=>Xe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Jq(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function Bse(t,e,r){const{_proxy:n,_context:a,_subProxy:s,_descriptors:i}=t;let l=n[e];return Wo(l)&&i.isScriptable(e)&&(l=qse(e,l,t,r)),Lt(l)&&l.length&&(l=Vse(e,l,t,i.isIndexable)),IP(e,l)&&(l=Yc(l,a,s&&s[e],i)),l}function qse(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(s,i||n);return l.delete(t),IP(t,c)&&(c=kP(a._scopes,a,t,c)),c}function Vse(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_descriptors:l}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Xe(e[0])){const c=e,u=a._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=kP(u,a,t,d);e.push(Yc(f,s,i&&i[t],l))}}return e}function Xq(t,e,r){return Wo(t)?t(e,r):t}const Use=(t,e)=>t===!0?e:typeof t=="string"?zo(e,t):void 0;function zse(t,e,r,n,a){for(const s of e){const i=Use(r,s);if(i){t.add(i);const l=Xq(i._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(i===!1&&typeof n<"u"&&r!==n)return null}return!1}function kP(t,e,r,n){const a=e._rootScopes,s=Xq(e._fallback,r,n),i=[...t,...a],l=new Set;l.add(n);let c=JO(l,i,r,s||r,n);return c===null||typeof s<"u"&&s!==r&&(c=JO(l,i,s,c,n),c===null)?!1:AP(Array.from(l),[""],a,s,()=>Wse(e,r,n))}function JO(t,e,r,n,a){for(;r;)r=zse(t,e,r,n,a);return r}function Wse(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Lt(a)&&Xe(r)?r:a||{}}function Hse(t,e,r,n){let a;for(const s of e)if(a=Qq(Fse(s,t),r),typeof a<"u")return IP(t,a)?kP(r,n,t,a):a}function Qq(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function XO(t){let e=t._keys;return e||(e=t._keys=Gse(t._scopes)),e}function Gse(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function Zq(t,e,r,n){const{iScale:a}=t,{key:s="r"}=this._parsing,i=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+r,d=e[u],i[l]={r:a.parse(zo(d,s),u)};return i}const Yse=Number.EPSILON||1e-14,Kc=(t,e)=>e<t.length&&!t[e].skip&&t[e],e6=t=>t==="x"?"y":"x";function Kse(t,e,r,n){const a=t.skip?e:t,s=e,i=r.skip?e:r,l=sA(s,a),c=sA(i,s);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,m=n*d;return{previous:{x:s.x-f*(i.x-a.x),y:s.y-f*(i.y-a.y)},next:{x:s.x+m*(i.x-a.x),y:s.y+m*(i.y-a.y)}}}function Jse(t,e,r){const n=t.length;let a,s,i,l,c,u=Kc(t,0);for(let d=0;d<n-1;++d)if(c=u,u=Kc(t,d+1),!(!c||!u)){if(rf(e[d],0,Yse)){r[d]=r[d+1]=0;continue}a=r[d]/e[d],s=r[d+1]/e[d],l=Math.pow(a,2)+Math.pow(s,2),!(l<=9)&&(i=3/Math.sqrt(l),r[d]=a*i*e[d],r[d+1]=s*i*e[d])}}function Xse(t,e,r="x"){const n=e6(r),a=t.length;let s,i,l,c=Kc(t,0);for(let u=0;u<a;++u){if(i=l,l=c,c=Kc(t,u+1),!l)continue;const d=l[r],f=l[n];i&&(s=(d-i[r])/3,l[`cp1${r}`]=d-s,l[`cp1${n}`]=f-s*e[u]),c&&(s=(c[r]-d)/3,l[`cp2${r}`]=d+s,l[`cp2${n}`]=f+s*e[u])}}function Qse(t,e="x"){const r=e6(e),n=t.length,a=Array(n).fill(0),s=Array(n);let i,l,c,u=Kc(t,0);for(i=0;i<n;++i)if(l=c,c=u,u=Kc(t,i+1),!!c){if(u){const d=u[e]-c[e];a[i]=d!==0?(u[r]-c[r])/d:0}s[i]=l?u?qa(a[i-1])!==qa(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}Jse(t,a,s),Xse(t,s,e)}function ep(t,e,r){return Math.max(Math.min(t,r),e)}function Zse(t,e){let r,n,a,s,i,l=ys(t[0],e);for(r=0,n=t.length;r<n;++r)i=s,s=l,l=r<n-1&&ys(t[r+1],e),s&&(a=t[r],i&&(a.cp1x=ep(a.cp1x,e.left,e.right),a.cp1y=ep(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=ep(a.cp2x,e.left,e.right),a.cp2y=ep(a.cp2y,e.top,e.bottom)))}function eoe(t,e,r,n,a){let s,i,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Qse(t,a);else{let u=n?t[t.length-1]:t[0];for(s=0,i=t.length;s<i;++s)l=t[s],c=Kse(u,l,t[Math.min(s+1,i-(n?0:1))%i],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&Zse(t,r)}function TP(){return typeof window<"u"&&typeof document<"u"}function PP(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Vx(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const Gv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function toe(t,e){return Gv(t).getPropertyValue(e)}const roe=["top","right","bottom","left"];function Hi(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const s=roe[a];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const noe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function aoe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:s}=n;let i=!1,l,c;if(noe(a,s,t.target))l=a,c=s;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,i=!0}return{x:l,y:c,box:i}}function wi(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=Gv(r),s=a.boxSizing==="border-box",i=Hi(a,"padding"),l=Hi(a,"border","width"),{x:c,y:u,box:d}=aoe(t,r),f=i.left+(d&&l.left),m=i.top+(d&&l.top);let{width:h,height:y}=e;return s&&(h-=i.width+l.width,y-=i.height+l.height),{x:Math.round((c-f)/h*r.width/n),y:Math.round((u-m)/y*r.height/n)}}function soe(t,e,r){let n,a;if(e===void 0||r===void 0){const s=t&&PP(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const i=s.getBoundingClientRect(),l=Gv(s),c=Hi(l,"border","width"),u=Hi(l,"padding");e=i.width-u.width-c.width,r=i.height-u.height-c.height,n=Vx(l.maxWidth,s,"clientWidth"),a=Vx(l.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||Bx,maxHeight:a||Bx}}const tp=t=>Math.round(t*10)/10;function ooe(t,e,r,n){const a=Gv(t),s=Hi(a,"margin"),i=Vx(a.maxWidth,t,"clientWidth")||Bx,l=Vx(a.maxHeight,t,"clientHeight")||Bx,c=soe(t,e,r);let{width:u,height:d}=c;if(a.boxSizing==="content-box"){const m=Hi(a,"border","width"),h=Hi(a,"padding");u-=h.width+m.width,d-=h.height+m.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=tp(Math.min(u,i,c.maxWidth)),d=tp(Math.min(d,l,c.maxHeight)),u&&!d&&(d=tp(u/2)),(e!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=tp(Math.floor(d*n))),{width:u,height:d}}function QO(t,e,r){const n=e||1,a=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const i=t.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||i.height!==a||i.width!==s?(t.currentDevicePixelRatio=n,i.height=a,i.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const ioe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};TP()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function ZO(t,e){const r=toe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Ni(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function loe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function coe(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},i=Ni(t,a,r),l=Ni(a,s,r),c=Ni(s,e,r),u=Ni(i,l,r),d=Ni(l,c,r);return Ni(u,d,r)}const uoe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},doe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function vc(t,e,r){return t?uoe(e,r):doe()}function t6(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function r6(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function n6(t){return t==="angle"?{between:tm,compare:fse,normalize:Lr}:{between:ps,compare:(e,r)=>e-r,normalize:e=>e}}function e_({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function foe(t,e,r){const{property:n,start:a,end:s}=r,{between:i,normalize:l}=n6(n),c=e.length;let{start:u,end:d,loop:f}=t,m,h;if(f){for(u+=c,d+=c,m=0,h=c;m<h&&i(l(e[u%c][n]),a,s);++m)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function a6(t,e,r){if(!r)return[t];const{property:n,start:a,end:s}=r,i=e.length,{compare:l,between:c,normalize:u}=n6(n),{start:d,end:f,loop:m,style:h}=foe(t,e,r),y=[];let p=!1,b=null,g,v,j;const C=()=>c(a,j,g)&&l(a,j)!==0,x=()=>l(s,g)===0||c(s,j,g),N=()=>p||C(),S=()=>!p||x();for(let A=d,I=d;A<=f;++A)v=e[A%i],!v.skip&&(g=u(v[n]),g!==j&&(p=c(g,a,s),b===null&&N()&&(b=l(g,a)===0?A:I),b!==null&&S()&&(y.push(e_({start:b,end:A,loop:m,count:i,style:h})),b=null),I=A,j=g));return b!==null&&y.push(e_({start:b,end:f,loop:m,count:i,style:h})),y}function s6(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const s=a6(n[a],t.points,e);s.length&&r.push(...s)}return r}function moe(t,e,r,n){let a=0,s=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(s+=a);s>a&&t[s%e].skip;)s--;return s%=e,{start:a,end:s}}function hoe(t,e,r,n){const a=t.length,s=[];let i=e,l=t[e],c;for(c=e+1;c<=r;++c){const u=t[c%a];u.skip||u.stop?l.skip||(n=!1,s.push({start:e%a,end:(c-1)%a,loop:n}),e=i=u.stop?c:null):(i=c,l.skip&&(e=c)),l=u}return i!==null&&s.push({start:e%a,end:i%a,loop:n}),s}function poe(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const s=!!t._loop,{start:i,end:l}=moe(r,a,s,n);if(n===!0)return t_(t,[{start:i,end:l,loop:s}],r,e);const c=l<i?l+a:l,u=!!t._fullLoop&&i===0&&l===a-1;return t_(t,hoe(r,i,c,u),r,e)}function t_(t,e,r,n){return!n||!n.setContext||!r?e:goe(t,e,r,n)}function goe(t,e,r,n){const a=t._chart.getContext(),s=r_(t.options),{_datasetIndex:i,options:{spanGaps:l}}=t,c=r.length,u=[];let d=s,f=e[0].start,m=f;function h(y,p,b,g){const v=l?-1:1;if(y!==p){for(y+=c;r[y%c].skip;)y-=v;for(;r[p%c].skip;)p+=v;y%c!==p%c&&(u.push({start:y%c,end:p%c,loop:b,style:g}),d=g,f=p%c)}}for(const y of e){f=l?f:y.start;let p=r[f%c],b;for(m=f+1;m<=y.end;m++){const g=r[m%c];b=r_(n.setContext(ri(a,{type:"segment",p0:p,p1:g,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:i}))),yoe(b,d)&&h(f,m-1,y.loop,d),p=g,d=b}f<m-1&&h(f,m-1,y.loop,d)}return u}function r_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function yoe(t,e){if(!e)return!1;const r=[],n=function(a,s){return CP(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function rp(t,e,r){return t.options.clip?t[r]:e[r]}function boe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:rp(r,e,"left"),right:rp(r,e,"right"),top:rp(n,e,"top"),bottom:rp(n,e,"bottom")}:e}function o6(t,e){const r=e._clip;if(r.disabled)return!1;const n=boe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xoe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const s=r.listeners[a],i=r.duration;s.forEach(l=>l({chart:e,initial:r.initial,numSteps:i,currentStep:Math.min(n-r.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=Vq.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const s=n.items;let i=s.length-1,l=!1,c;for(;i>=0;--i)c=s[i],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(s[i]=s[s.length-1],s.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var as=new xoe;const n_="transparent",voe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=GO(t||n_),a=n.valid&&GO(e||n_);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class joe{constructor(e,r,n,a){const s=r[n];a=Od([e.to,a,s,e.from]);const i=Od([e.from,s,a]);this._active=!0,this._fn=e.fn||voe[e.type||typeof i],this._easing=nf[e.easing]||nf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=i,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Od([e.to,r,a,e.from]),this._from=Od([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,s=this._from,i=this._loop,l=this._to;let c;if(this._active=s!==l&&(i||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=s;return}c=r/n%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class i6{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Xe(e))return;const r=Object.keys(Bt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!Xe(s))return;const i={};for(const l of r)i[l]=s[l];(Lt(s.properties)&&s.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,i)})})}_animateOptions(e,r){const n=r.options,a=Noe(e,n);if(!a)return[];const s=this._createAnimations(a,n);return n.$shared&&woe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,a=[],s=e.$animations||(e.$animations={}),i=Object.keys(r),l=Date.now();let c;for(c=i.length-1;c>=0;--c){const u=i[c];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,r));continue}const d=r[u];let f=s[u];const m=n.get(u);if(f)if(m&&f.active()){f.update(m,d,l);continue}else f.cancel();if(!m||!m.duration){e[u]=d;continue}s[u]=f=new joe(m,e,u,d),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return as.add(this._chart,n),!0}}function woe(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const s=t[n[a]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function Noe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function a_(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:a,end:n?a:s}}function Coe(t,e,r){if(r===!1)return!1;const n=a_(t,r),a=a_(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function Soe(t){let e,r,n,a;return Xe(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function l6(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,s;for(a=0,s=n.length;a<s;++a)r.push(n[a].index);return r}function s_(t,e,r,n={}){const a=t.keys,s=n.mode==="single";let i,l,c,u;if(e===null)return;let d=!1;for(i=0,l=a.length;i<l;++i){if(c=+a[i],c===r){if(d=!0,n.all)continue;break}u=t.values[c],Xt(u)&&(s||e===0||qa(e)===qa(u))&&(e+=u)}return!d&&!n.all?0:e}function Aoe(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",i=Object.keys(t),l=new Array(i.length);let c,u,d;for(c=0,u=i.length;c<u;++c)d=i[c],l[c]={[a]:d,[s]:t[d]};return l}function XN(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function Ioe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function koe(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function Toe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function o_(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const s=t[a.index];if(r&&s>0||!r&&s<0)return a.index}return null}function i_(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:s,vScale:i,index:l}=n,c=s.axis,u=i.axis,d=Ioe(s,i,n),f=e.length;let m;for(let h=0;h<f;++h){const y=e[h],{[c]:p,[u]:b}=y,g=y._stacks||(y._stacks={});m=g[u]=Toe(a,d,p),m[l]=b,m._top=o_(m,i,!0,n.type),m._bottom=o_(m,i,!1,n.type);const v=m._visualValues||(m._visualValues={});v[l]=b}}function QN(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Poe(t,e){return ri(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Eoe(t,e,r){return ri(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function ad(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const s=a._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const ZN=t=>t==="reset"||t==="none",l_=(t,e)=>e?t:Object.assign({},t),Doe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:l6(r,!0),values:null};class xa{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=XN(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ad(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,m,h,y)=>f==="x"?m:f==="r"?y:h,s=r.xAxisID=Ve(n.xAxisID,QN(e,"x")),i=r.yAxisID=Ve(n.yAxisID,QN(e,"y")),l=r.rAxisID=Ve(n.rAxisID,QN(e,"r")),c=r.indexAxis,u=r.iAxisID=a(c,s,i,l),d=r.vAxisID=a(c,i,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(i),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&zO(this._data,this),e._stacked&&ad(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Xe(r)){const a=this._cachedMeta;this._data=Aoe(r,a)}else if(n!==r){if(n){zO(n,this);const a=this._cachedMeta;ad(a),a._parsed=[]}r&&Object.isExtensible(r)&&gse(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=r._stacked;r._stacked=XN(r.vScale,r),r.stack!==n.stack&&(a=!0,ad(r),r.stack=n.stack),this._resyncElements(e),(a||s!==r._stacked)&&(i_(this,r._parsed),r._stacked=XN(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:i}=n,l=s.axis;let c=e===0&&r===a.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{Lt(a[e])?m=this.parseArrayData(n,a,e,r):Xe(a[e])?m=this.parseObjectData(n,a,e,r):m=this.parsePrimitiveData(n,a,e,r);const h=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)n._parsed[d+e]=f=m[d],c&&(h()&&(c=!1),u=f);n._sorted=c}i&&i_(this,m)}parsePrimitiveData(e,r,n,a){const{iScale:s,vScale:i}=e,l=s.axis,c=i.axis,u=s.getLabels(),d=s===i,f=new Array(a);let m,h,y;for(m=0,h=a;m<h;++m)y=m+n,f[m]={[l]:d||s.parse(u[y],y),[c]:i.parse(r[y],y)};return f}parseArrayData(e,r,n,a){const{xScale:s,yScale:i}=e,l=new Array(a);let c,u,d,f;for(c=0,u=a;c<u;++c)d=c+n,f=r[d],l[c]={x:s.parse(f[0],d),y:i.parse(f[1],d)};return l}parseObjectData(e,r,n,a){const{xScale:s,yScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(a);let d,f,m,h;for(d=0,f=a;d<f;++d)m=d+n,h=r[m],u[d]={x:s.parse(zo(h,l),m),y:i.parse(zo(h,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,s=this._cachedMeta,i=r[e.axis],l={keys:l6(a,!0),values:r._stacks[e.axis]._visualValues};return s_(l,i,s.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const s=n[r.axis];let i=s===null?NaN:s;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,i=s_(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,i=a.length,l=this._getOtherScale(e),c=Doe(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=koe(l);let m,h;function y(){h=a[m];const p=h[l.axis];return!Xt(h[e.axis])||d>p||f<p}for(m=0;m<i&&!(!y()&&(this.updateRangeFromParsed(u,e,h,c),s));++m);if(s){for(m=i-1;m>=0;--m)if(!y()){this.updateRangeFromParsed(u,e,h,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,s,i;for(a=0,s=r.length;a<s;++a)i=r[a][e.axis],Xt(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=Soe(Ve(this.options.clip,Coe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],s=r.chartArea,i=[],l=this._drawStart||0,c=this._drawCount||a.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,l,c),d=l;d<l+c;++d){const f=a[d];f.hidden||(f.active&&u?i.push(f):f.draw(e,s))}for(d=0;d<i.length;++d)i[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];s=i.$context||(i.$context=Eoe(this.getContext(),e,i)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Poe(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",s=this._cachedDataOpts,i=e+"-"+r,l=s[i],c=this.enableOptionSharing&&em(n);if(l)return l_(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),h=Object.keys(Bt.elements[e]),y=()=>this.getContext(n,a,r),p=u.resolveNamedOptions(m,h,y,f);return p.$shared&&(p.$shared=c,s[i]=Object.freeze(l_(p,c))),p}_resolveAnimations(e,r,n){const a=this.chart,s=this._cachedDataOpts,i=`animation-${r}`,l=s[i];if(l)return l;let c;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),m=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(m,this.getContext(e,n,r))}const u=new i6(a,c&&c.animations);return c&&c._cacheable&&(s[i]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||ZN(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(r,s)||s!==a;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:i}}updateElement(e,r,n,a){ZN(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!ZN(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const s=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const a=n.length,s=r.length,i=Math.min(s,a);i&&this.parse(0,i),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,r,n=!0){const a=this._cachedMeta,s=a.data,i=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=i;l--)u[l]=u[l-r]};for(c(s),l=e;l<i;++l)s[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&ad(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ye(xa,"defaults",{}),ye(xa,"datasetElementType",null),ye(xa,"dataElementType",null);function Ooe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,s=r.length;a<s;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=qq(n.sort((a,s)=>a-s))}return t._cache.$bar}function _oe(t){const e=t.iScale,r=Ooe(e,t.type);let n=e._length,a,s,i,l;const c=()=>{i===32767||i===-32768||(em(l)&&(n=Math.min(n,Math.abs(i-l)||n)),l=i)};for(a=0,s=r.length;a<s;++a)i=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,s=e.ticks.length;a<s;++a)i=e.getPixelForTick(a),c();return n}function Roe(t,e,r,n){const a=r.barThickness;let s,i;return Ke(a)?(s=e.min*r.categoryPercentage,i=r.barPercentage):(s=a*n,i=1),{chunk:s/n,ratio:i,start:e.pixels[t]-s/2}}function $oe(t,e,r,n){const a=e.pixels,s=a[t];let i=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;i===null&&(i=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-i);const u=s-(s-Math.min(i,l))/2*c;return{chunk:Math.abs(l-i)/2*c/n,ratio:r.barPercentage,start:u}}function Moe(t,e,r,n){const a=r.parse(t[0],n),s=r.parse(t[1],n),i=Math.min(a,s),l=Math.max(a,s);let c=i,u=l;Math.abs(i)>Math.abs(l)&&(c=l,u=i),e[r.axis]=u,e._custom={barStart:c,barEnd:u,start:a,end:s,min:i,max:l}}function c6(t,e,r,n){return Lt(t)?Moe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function c_(t,e,r,n){const a=t.iScale,s=t.vScale,i=a.getLabels(),l=a===s,c=[];let u,d,f,m;for(u=r,d=r+n;u<d;++u)m=e[u],f={},f[a.axis]=l||a.parse(i[u],u),c.push(c6(m,f,s,u));return c}function e1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Loe(t,e,r){return t!==0?qa(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function Foe(t){let e,r,n,a,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",s="start"):(a="start",s="end"),{start:r,end:n,reverse:e,top:a,bottom:s}}function Boe(t,e,r,n){let a=e.borderSkipped;const s={};if(!a){t.borderSkipped=s;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:c,top:u,bottom:d}=Foe(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=u:(r._bottom||0)===n?a=d:(s[u_(d,i,l,c)]=!0,a=u)),s[u_(a,i,l,c)]=!0,t.borderSkipped=s}function u_(t,e,r,n){return n?(t=qoe(t,e,r),t=d_(t,r,e)):t=d_(t,e,r),t}function qoe(t,e,r){return t===e?r:t===r?e:t}function d_(t,e,r){return t==="start"?e:t==="end"?r:t}function Voe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Zp extends xa{parsePrimitiveData(e,r,n,a){return c_(e,r,n,a)}parseArrayData(e,r,n,a){return c_(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:s,vScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=i.axis==="x"?l:c,f=[];let m,h,y,p;for(m=n,h=n+a;m<h;++m)p=r[m],y={},y[s.axis]=s.parse(zo(p,u),m),f.push(c6(zo(p,d),y,i,m));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,s=this.getParsed(e),i=s._custom,l=e1(i)?"["+i.start+", "+i.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const s=a==="reset",{index:i,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(r,a);for(let h=r;h<r+n;h++){const y=this.getParsed(h),p=s||Ke(y[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(h),b=this._calculateBarIndexPixels(h,d),g=(y._stacks||{})[l.axis],v={horizontal:u,base:p.base,enableBorderRadius:!g||e1(y._custom)||i===g._top||i===g._bottom,x:u?p.head:b.center,y:u?b.center:p.head,height:u?b.size:Math.abs(p.size),width:u?Math.abs(p.size):b.size};m&&(v.options=f||this.resolveDataElementOptions(h,e[h].active?"active":a));const j=v.options||e[h].options;Boe(v,j,g,i),Voe(v,j,d.ratio),this.updateElement(e[h],h,v,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=n.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],u=d=>{const f=d._parsed.find(h=>h[n.axis]===c),m=f&&f[d.vScale.axis];if(Ke(m)||isNaN(m))return!0};for(const d of a)if(!(r!==void 0&&u(d))&&((s===!1||i.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&i.push(d.stack),d.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Ve(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const a=this._getStacks(e,n),s=r!==void 0?a.indexOf(r):-1;return s===-1?a.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let s,i;for(s=0,i=r.data.length;s<i;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const l=e.barThickness;return{min:l||_oe(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:s,minBarLength:i}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=e1(u);let f=c[r.axis],m=0,h=n?this.applyStack(r,c,n):f,y,p;h!==f&&(m=h-f,h=f),d&&(f=u.barStart,h=u.barEnd-u.barStart,f!==0&&qa(f)!==qa(u.barEnd)&&(m=0),m+=f);const b=!Ke(s)&&!d?s:m;let g=r.getPixelForValue(b);if(this.chart.getDataVisibility(e)?y=r.getPixelForValue(m+h):y=g,p=y-g,Math.abs(p)<i){p=Loe(p,r,l)*i,f===l&&(g-=p/2);const v=r.getPixelForDecimal(0),j=r.getPixelForDecimal(1),C=Math.min(v,j),x=Math.max(v,j);g=Math.max(Math.min(g,x),C),y=g+p,n&&!d&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(y)-r.getValueForPixel(g))}if(g===r.getPixelForValue(l)){const v=qa(p)*r.getLineWidthForValue(l)/2;g+=v,p-=v}return{size:p,base:g,head:y,center:y+p/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,s=a.skipNull,i=Ve(a.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(r.grouped){const d=s?this._getStackCount(e):r.stackCount,f=a.barThickness==="flex"?$oe(e,r,a,d*u):Roe(e,r,a,d*u),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(Ve(m,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+h;l=f.start+f.chunk*y+f.chunk/2,c=Math.min(i,f.chunk*f.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(i,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let s=0;for(;s<a;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}ye(Zp,"id","bar"),ye(Zp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ye(Zp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class eg extends xa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const s=super.parsePrimitiveData(e,r,n,a);for(let i=0;i<s.length;i++)s[i]._custom=this.resolveDataElementOptions(i+n).radius;return s}parseArrayData(e,r,n,a){const s=super.parseArrayData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Ve(l[2],this.resolveDataElementOptions(i+n).radius)}return s}parseObjectData(e,r,n,a){const s=super.parseObjectData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Ve(l&&l.r&&+l.r,this.resolveDataElementOptions(i+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y),u=i._custom;return{label:n[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,a),d=i.axis,f=l.axis;for(let m=r;m<r+n;m++){const h=e[m],y=!s&&this.getParsed(m),p={},b=p[d]=s?i.getPixelForDecimal(.5):i.getPixelForValue(y[d]),g=p[f]=s?l.getBasePixel():l.getPixelForValue(y[f]);p.skip=isNaN(b)||isNaN(g),u&&(p.options=c||this.resolveDataElementOptions(m,h.active?"active":a),s&&(p.options.radius=0)),this.updateElement(h,m,p,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Ve(n&&n._custom,s),a}}ye(eg,"id","bubble"),ye(eg,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ye(eg,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Uoe(t,e,r){let n=1,a=1,s=0,i=0;if(e<Rt){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),m=Math.sin(c),h=(j,C,x)=>tm(j,l,c,!0)?1:Math.max(C,C*r,x,x*r),y=(j,C,x)=>tm(j,l,c,!0)?-1:Math.min(C,C*r,x,x*r),p=h(0,u,f),b=h(ar,d,m),g=y(nt,u,f),v=y(nt+ar,d,m);n=(p-g)/2,a=(b-v)/2,s=-(p+g)/2,i=-(b+v)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:i}}class _i extends xa{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let s=c=>+n[c];if(Xe(n[e])){const{key:c="value"}=this._parsing;s=u=>+zo(n[u],c)}let i,l;for(i=e,l=e+r;i<l;++i)a._parsed[i]=s(i)}}_getRotation(){return ha(this.options.rotation-90)}_getCircumference(){return ha(this.options.circumference)}_getRotationExtents(){let e=Rt,r=-Rt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),i=a._getCircumference();e=Math.min(e,s),r=Math.max(r,s+i)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,s=a.data,i=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-i)/2,0),c=Math.min(tse(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:h,offsetX:y,offsetY:p}=Uoe(f,d,c),b=(n.width-i)/m,g=(n.height-i)/h,v=Math.max(Math.min(b,g)/2,0),j=$q(this.options.radius,v),C=Math.max(j*c,0),x=(j-C)/this._getVisibleDatasetWeightTotal();this.offsetX=y*j,this.offsetY=p*j,a.total=this.calculateTotal(),this.outerRadius=j-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/Rt)}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,l=i.chartArea,u=i.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=s&&u.animateScale,h=m?0:this.innerRadius,y=m?0:this.outerRadius,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(r,a);let g=this._getRotation(),v;for(v=0;v<r;++v)g+=this._circumference(v,s);for(v=r;v<r+n;++v){const j=this._circumference(v,s),C=e[v],x={x:d+this.offsetX,y:f+this.offsetY,startAngle:g,endAngle:g+j,circumference:j,outerRadius:y,innerRadius:h};b&&(x.options=p||this.resolveDataElementOptions(v,C.active?"active":a)),g+=j,this.updateElement(C,v,x,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const s=e._parsed[a];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Rt*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=lh(r._parsed[e],n.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,s,i,l,c;if(!e){for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){i=n.getDatasetMeta(a),e=i.data,l=i.controller;break}}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Ve(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ye(_i,"id","doughnut"),ye(_i,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ye(_i,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ye(_i,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class tg extends xa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=r,i=this.chart._animationsDisabled;let{start:l,count:c}=zq(r,a,i);this._drawStart=l,this._drawCount=c,Wq(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:u},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,a),m=i.axis,h=l.axis,{spanGaps:y,segment:p}=this.options,b=Gc(y)?y:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||a==="none",v=r+n,j=e.length;let C=r>0&&this.getParsed(r-1);for(let x=0;x<j;++x){const N=e[x],S=g?N:{};if(x<r||x>=v){S.skip=!0;continue}const A=this.getParsed(x),I=Ke(A[h]),T=S[m]=i.getPixelForValue(A[m],x),E=S[h]=s||I?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[h],x);S.skip=isNaN(T)||isNaN(E)||I,S.stop=x>0&&Math.abs(A[m]-C[m])>b,p&&(S.parsed=A,S.raw=u.data[x]),f&&(S.options=d||this.resolveDataElementOptions(x,N.active?"active":a)),g||this.updateElement(N,x,S,a),C=A}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const s=a[0].size(this.resolveDataElementOptions(0)),i=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ye(tg,"id","line"),ye(tg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ye(tg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class sf extends xa{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=lh(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,r,n,a){return Zq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(a/2,0),i=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),l=(s-i)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,c=i.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,m=u.getIndexAngle(0)-.5*nt;let h=m,y;const p=360/this.countVisibleElements();for(y=0;y<r;++y)h+=this._computeAngle(y,a,p);for(y=r;y<r+n;y++){const b=e[y];let g=h,v=h+this._computeAngle(y,a,p),j=i.getDataVisibility(y)?u.getDistanceFromCenterForValue(this.getParsed(y).r):0;h=v,s&&(c.animateScale&&(j=0),c.animateRotate&&(g=v=m));const C={x:d,y:f,innerRadius:0,outerRadius:j,startAngle:g,endAngle:v,options:this.resolveDataElementOptions(y,b.active?"active":a)};this.updateElement(b,y,C,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?ha(this.resolveDataElementOptions(e,r).angle||n):0}}ye(sf,"id","polarArea"),ye(sf,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ye(sf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class lA extends _i{}ye(lA,"id","pie"),ye(lA,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class rg extends xa{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return Zq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],s=r.iScale.getLabels();if(n.points=a,e!=="resize"){const i=this.resolveDatasetElementOptions(e);this.options.showLine||(i.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===a.length,options:i};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const s=this._cachedMeta.rScale,i=a==="reset";for(let l=r;l<r+n;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":a),d=s.getPointPositionForValue(l,this.getParsed(l).r),f=i?s.xCenter:d.x,m=i?s.yCenter:d.y,h={x:f,y:m,angle:d.angle,skip:isNaN(f)||isNaN(m),options:u};this.updateElement(c,l,h,a)}}}ye(rg,"id","radar"),ye(rg,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ye(rg,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ng extends xa{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:s,count:i}=zq(r,n,a);if(this._drawStart=s,this._drawCount=i,Wq(r)&&(s=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(d),m=this.includeOptions(a,f),h=i.axis,y=l.axis,{spanGaps:p,segment:b}=this.options,g=Gc(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||a==="none";let j=r>0&&this.getParsed(r-1);for(let C=r;C<r+n;++C){const x=e[C],N=this.getParsed(C),S=v?x:{},A=Ke(N[y]),I=S[h]=i.getPixelForValue(N[h],C),T=S[y]=s||A?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,N,c):N[y],C);S.skip=isNaN(I)||isNaN(T)||A,S.stop=C>0&&Math.abs(N[h]-j[h])>g,b&&(S.parsed=N,S.raw=u.data[C]),m&&(S.options=f||this.resolveDataElementOptions(C,x.active?"active":a)),v||this.updateElement(x,C,S,a),j=N}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const s=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,s,i)/2}}ye(ng,"id","scatter"),ye(ng,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ye(ng,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var zoe=Object.freeze({__proto__:null,BarController:Zp,BubbleController:eg,DoughnutController:_i,LineController:tg,PieController:lA,PolarAreaController:sf,RadarController:rg,ScatterController:ng});function hi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class EP{constructor(e){ye(this,"options");this.options=e||{}}static override(e){Object.assign(EP.prototype,e)}init(){}formats(){return hi()}parse(){return hi()}format(){return hi()}add(){return hi()}diff(){return hi()}startOf(){return hi()}endOf(){return hi()}}var Woe={_date:EP};function Hoe(t,e,r,n){const{controller:a,data:s,_sorted:i}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&i&&s.length){const u=l._reversePixels?hse:gs;if(n){if(a._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const m=u(s,e,r-f),h=u(s,e,r+f);return{lo:m.lo,hi:h.hi}}}}else{const d=u(s,e,r);if(c){const{vScale:f}=a._cachedMeta,{_parsed:m}=t,h=m.slice(0,d.lo+1).reverse().findIndex(p=>!Ke(p[f.axis]));d.lo-=Math.max(0,h);const y=m.slice(d.hi).findIndex(p=>!Ke(p[f.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:s.length-1}}function Yv(t,e,r,n,a){const s=t.getSortedVisibleDatasetMetas(),i=r[e];for(let l=0,c=s.length;l<c;++l){const{index:u,data:d}=s[l],{lo:f,hi:m}=Hoe(s[l],e,i,a);for(let h=f;h<=m;++h){const y=d[h];y.skip||n(y,u,h)}}}function Goe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const s=e?Math.abs(n.x-a.x):0,i=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}function t1(t,e,r,n,a){const s=[];return!a&&!t.isPointInArea(e)||Yv(t,r,e,function(l,c,u){!a&&!ys(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&s.push({element:l,datasetIndex:c,index:u})},!0),s}function Yoe(t,e,r,n){let a=[];function s(i,l,c){const{startAngle:u,endAngle:d}=i.getProps(["startAngle","endAngle"],n),{angle:f}=Fq(i,{x:e.x,y:e.y});tm(f,u,d)&&a.push({element:i,datasetIndex:l,index:c})}return Yv(t,r,e,s),a}function Koe(t,e,r,n,a,s){let i=[];const l=Goe(r);let c=Number.POSITIVE_INFINITY;function u(d,f,m){const h=d.inRange(e.x,e.y,a);if(n&&!h)return;const y=d.getCenterPoint(a);if(!(!!s||t.isPointInArea(y))&&!h)return;const b=l(e,y);b<c?(i=[{element:d,datasetIndex:f,index:m}],c=b):b===c&&i.push({element:d,datasetIndex:f,index:m})}return Yv(t,r,e,u),i}function r1(t,e,r,n,a,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?Yoe(t,e,r,a):Koe(t,e,r,n,a,s)}function f_(t,e,r,n,a){const s=[],i=r==="x"?"inXRange":"inYRange";let l=!1;return Yv(t,r,e,(c,u,d)=>{c[i]&&c[i](e[r],a)&&(s.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:s}var Joe={modes:{index(t,e,r,n){const a=wi(e,t),s=r.axis||"x",i=r.includeInvisible||!1,l=r.intersect?t1(t,a,s,n,i):r1(t,a,s,!1,n,i),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,r,n){const a=wi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;let l=r.intersect?t1(t,a,s,n,i):r1(t,a,s,!1,n,i);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,r,n){const a=wi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return t1(t,a,s,n,i)},nearest(t,e,r,n){const a=wi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return r1(t,a,s,r.intersect,n,i)},x(t,e,r,n){const a=wi(e,t);return f_(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=wi(e,t);return f_(t,a,"y",r.intersect,n)}}};const u6=["left","top","right","bottom"];function sd(t,e){return t.filter(r=>r.pos===e)}function m_(t,e){return t.filter(r=>u6.indexOf(r.pos)===-1&&r.box.axis===e)}function od(t,e){return t.sort((r,n)=>{const a=e?n:r,s=e?r:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function Xoe(t){const e=[];let r,n,a,s,i,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:s,options:{stack:i,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&s+i,stackWeight:l});return e}function Qoe(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:s}=r;if(!n||!u6.includes(a))continue;const i=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return e}function Zoe(t,e){const r=Qoe(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let s,i,l;for(s=0,i=t.length;s<i;++s){l=t[s];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:c&&e.availableHeight)}return r}function eie(t){const e=Xoe(t),r=od(e.filter(u=>u.box.fullSize),!0),n=od(sd(e,"left"),!0),a=od(sd(e,"right")),s=od(sd(e,"top"),!0),i=od(sd(e,"bottom")),l=m_(e,"x"),c=m_(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:a.concat(c).concat(i).concat(l),chartArea:sd(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:s.concat(i).concat(l)}}function h_(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function d6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function tie(t,e,r,n){const{pos:a,box:s}=r,i=t.maxPadding;if(!Xe(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[a]+=r.size}s.getPadding&&d6(i,s.getPadding());const l=Math.max(0,e.outerWidth-h_(i,t,"left","right")),c=Math.max(0,e.outerHeight-h_(i,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function rie(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function nie(t,e){const r=e.maxPadding;function n(a){const s={left:0,top:0,right:0,bottom:0};return a.forEach(i=>{s[i]=Math.max(e[i],r[i])}),s}return n(t?["left","right"]:["top","bottom"])}function _d(t,e,r,n){const a=[];let s,i,l,c,u,d;for(s=0,i=t.length,u=0;s<i;++s){l=t[s],c=l.box,c.update(l.width||e.w,l.height||e.h,nie(l.horizontal,e));const{same:f,other:m}=tie(e,r,l,n);u|=f&&a.length,d=d||m,c.fullSize||a.push(l)}return u&&_d(a,e,r,n)||d}function np(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function p_(t,e,r,n){const a=r.padding;let{x:s,y:i}=e;for(const l of t){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,m=u.size||c.height;em(u.start)&&(i=u.start),c.fullSize?np(c,a.left,i,r.outerWidth-a.right-a.left,m):np(c,e.left+u.placed,i,f,m),u.start=i,u.placed+=f,i=c.bottom}else{const f=e.h*d,m=u.size||c.width;em(u.start)&&(s=u.start),c.fullSize?np(c,s,a.top,m,r.outerHeight-a.bottom-a.top):np(c,s,e.top+u.placed,m,f),u.start=s,u.placed+=f,s=c.right}}e.x=s,e.y=i}var qr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=Ur(t.options.layout.padding),s=Math.max(e-a.width,0),i=Math.max(r-a.height,0),l=eie(t.boxes),c=l.vertical,u=l.horizontal;ft(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const d=c.reduce((p,b)=>b.box.options&&b.box.options.display===!1?p:p+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:s,availableHeight:i,vBoxMaxWidth:s/2/d,hBoxMaxHeight:i/2}),m=Object.assign({},a);d6(m,Ur(n));const h=Object.assign({maxPadding:m,w:s,h:i,x:a.left,y:a.top},a),y=Zoe(c.concat(u),f);_d(l.fullSize,h,f,y),_d(c,h,f,y),_d(u,h,f,y)&&_d(c,h,f,y),rie(h),p_(l.leftAndTop,h,f,y),h.x+=h.w,h.y+=h.h,p_(l.rightAndBottom,h,f,y),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},ft(l.chartArea,p=>{const b=p.box;Object.assign(b,t.chartArea),b.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class f6{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class aie extends f6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ag="$chartjs",sie={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},g_=t=>t===null||t==="";function oie(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[ag]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",g_(a)){const s=ZO(t,"width");s!==void 0&&(t.width=s)}if(g_(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=ZO(t,"height");s!==void 0&&(t.height=s)}return t}const m6=ioe?{passive:!0}:!1;function iie(t,e,r){t&&t.addEventListener(e,r,m6)}function lie(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,m6)}function cie(t,e){const r=sie[t.type]||t.type,{x:n,y:a}=wi(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Ux(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function uie(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Ux(l.addedNodes,n),i=i&&!Ux(l.removedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function die(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Ux(l.removedNodes,n),i=i&&!Ux(l.addedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const nm=new Map;let y_=0;function h6(){const t=window.devicePixelRatio;t!==y_&&(y_=t,nm.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function fie(t,e){nm.size||window.addEventListener("resize",h6),nm.set(t,e)}function mie(t){nm.delete(t),nm.size||window.removeEventListener("resize",h6)}function hie(t,e,r){const n=t.canvas,a=n&&PP(n);if(!a)return;const s=Uq((l,c)=>{const u=a.clientWidth;r(l,c),u<a.clientWidth&&r()},window),i=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||s(u,d)});return i.observe(a),fie(t,s),i}function n1(t,e,r){r&&r.disconnect(),e==="resize"&&mie(t)}function pie(t,e,r){const n=t.canvas,a=Uq(s=>{t.ctx!==null&&r(cie(s,t))},t);return iie(n,e,a),a}class gie extends f6{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(oie(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[ag])return!1;const n=r[ag].initial;["height","width"].forEach(s=>{const i=n[s];Ke(i)?r.removeAttribute(s):r.setAttribute(s,i)});const a=n.style||{};return Object.keys(a).forEach(s=>{r.style[s]=a[s]}),r.width=r.width,delete r[ag],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),i={attach:uie,detach:die,resize:hie}[r]||pie;a[r]=i(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:n1,detach:n1,resize:n1}[r]||lie)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return ooe(e,r,n,a)}isAttached(e){const r=e&&PP(e);return!!(r&&r.isConnected)}}function yie(t){return!TP()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?aie:gie}var $p;let Ws=($p=class{constructor(){ye(this,"x");ye(this,"y");ye(this,"active",!1);ye(this,"options");ye(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Gc(this.x)&&Gc(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(s=>{a[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),a}},ye($p,"defaults",{}),ye($p,"defaultRoutes"),$p);function bie(t,e){const r=t.options.ticks,n=xie(t),a=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?jie(e):[],i=s.length,l=s[0],c=s[i-1],u=[];if(i>a)return wie(e,u,s,i/a),u;const d=vie(s,e,a);if(i>0){let f,m;const h=i>1?Math.round((c-l)/(i-1)):null;for(ap(e,u,d,Ke(h)?0:l-h,l),f=0,m=i-1;f<m;f++)ap(e,u,d,s[f],s[f+1]);return ap(e,u,d,c,Ke(h)?e.length:c+h),u}return ap(e,u,d),u}function xie(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function vie(t,e,r){const n=Nie(t),a=e.length/r;if(!n)return Math.max(a,1);const s=cse(n);for(let i=0,l=s.length-1;i<l;i++){const c=s[i];if(c>a)return c}return Math.max(a,1)}function jie(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function wie(t,e,r,n){let a=0,s=r[0],i;for(n=Math.ceil(n),i=0;i<t.length;i++)i===s&&(e.push(t[i]),a++,s=r[a*n])}function ap(t,e,r,n,a){const s=Ve(n,0),i=Math.min(Ve(a,t.length),t.length);let l=0,c,u,d;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),d=s;d<0;)l++,d=Math.round(s+l*r);for(u=Math.max(s,0);u<i;u++)u===d&&(e.push(t[u]),l++,d=Math.round(s+l*r))}function Nie(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const Cie=t=>t==="left"?"right":t==="right"?"left":t,b_=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,x_=(t,e)=>Math.min(e||t,t);function v_(t,e){const r=[],n=t.length/e,a=t.length;let s=0;for(;s<a;s+=n)r.push(t[Math.floor(s)]);return r}function Sie(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),s=t._startPixel,i=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),u;if(!(r&&(n===1?u=Math.max(c-s,i-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(a-1))/2,c+=a<e?u:-u,c<s-l||c>i+l)))return c}function Aie(t,e){ft(t,r=>{const n=r.gc,a=n.length/2;let s;if(a>e){for(s=0;s<a;++s)delete r.data[n[s]];n.splice(0,a)}})}function id(t){return t.drawTicks?t.tickLength:0}function j_(t,e){if(!t.display)return 0;const r=pr(t.font,e),n=Ur(t.padding);return(Lt(t.text)?t.text.length:1)*r.lineHeight+n.height}function Iie(t,e){return ri(t,{scale:e,type:"scale"})}function kie(t,e,r){return ri(t,{tick:r,index:e,type:"tick"})}function Tie(t,e,r){let n=NP(t);return(r&&e!=="right"||!r&&e==="right")&&(n=Cie(n)),n}function Pie(t,e,r,n){const{top:a,left:s,bottom:i,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,m,h,y;const p=i-a,b=l-s;if(t.isHorizontal()){if(h=$r(n,s,l),Xe(r)){const g=Object.keys(r)[0],v=r[g];y=d[g].getPixelForValue(v)+p-e}else r==="center"?y=(u.bottom+u.top)/2+p-e:y=b_(t,r,e);m=l-s}else{if(Xe(r)){const g=Object.keys(r)[0],v=r[g];h=d[g].getPixelForValue(v)-b+e}else r==="center"?h=(u.left+u.right)/2-b+e:h=b_(t,r,e);y=$r(n,i,a),f=r==="left"?-ar:ar}return{titleX:h,titleY:y,maxWidth:m,rotation:f}}class Dl extends Ws{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=jn(e,Number.POSITIVE_INFINITY),r=jn(r,Number.NEGATIVE_INFINITY),n=jn(n,Number.POSITIVE_INFINITY),a=jn(a,Number.NEGATIVE_INFINITY),{min:jn(e,n),max:jn(r,a),minDefined:Xt(e),maxDefined:Xt(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:s}=this.getUserBounds(),i;if(a&&s)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)i=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,i.min)),s||(n=Math.max(n,i.max));return r=s&&r>n?n:r,n=a&&r>n?r:n,{min:jn(r,jn(n,r)),max:jn(n,jn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ct(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:s,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Lse(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?v_(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=bie(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ct(this.options.afterUpdate,[this])}beforeSetDimensions(){Ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ct(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ct(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=Ct(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){Ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=x_(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,s=r.maxRotation;let i=a,l,c,u;if(!this._isVisible()||!r.display||a>=s||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,m=d.highest.height,h=vr(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:h/(n-1),f+6>l&&(l=h/(n-(e.offset?.5:1)),c=this.maxHeight-id(e.grid)-r.padding-j_(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),i=jP(Math.min(Math.asin(vr((d.highest.height+6)/l,-1,1)),Math.asin(vr(c/u,-1,1))-Math.asin(vr(m/u,-1,1)))),i=Math.max(a,Math.min(s,i))),this.labelRotation=i}afterCalculateLabelRotation(){Ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ct(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:s}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const c=j_(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=id(s)+c):(e.height=this.maxHeight,e.width=id(s)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:m}=this._getLabelSizes(),h=n.padding*2,y=ha(this.labelRotation),p=Math.cos(y),b=Math.sin(y);if(l){const g=n.mirror?0:b*f.width+p*m.height;e.height=Math.min(this.maxHeight,e.height+g+h)}else{const g=n.mirror?0:p*f.width+b*m.height;e.width=Math.min(this.maxWidth,e.width+g+h)}this._calculatePadding(u,d,b,p)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:s,padding:i},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,h=0;c?u?(m=a*e.width,h=n*r.height):(m=n*e.height,h=a*r.width):s==="start"?h=r.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,h=r.width/2),this.paddingLeft=Math.max((m-d+i)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-f+i)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=r.height,f=0),this.paddingTop=d+i,this.paddingBottom=f+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ct(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)Ke(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=v_(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:s}=this,i=[],l=[],c=Math.floor(r/x_(r,n));let u=0,d=0,f,m,h,y,p,b,g,v,j,C,x;for(f=0;f<r;f+=c){if(y=e[f].label,p=this._resolveTickFontOptions(f),a.font=b=p.string,g=s[b]=s[b]||{data:{},gc:[]},v=p.lineHeight,j=C=0,!Ke(y)&&!Lt(y))j=qx(a,g.data,g.gc,j,y),C=v;else if(Lt(y))for(m=0,h=y.length;m<h;++m)x=y[m],!Ke(x)&&!Lt(x)&&(j=qx(a,g.data,g.gc,j,x),C+=v);i.push(j),l.push(C),u=Math.max(j,u),d=Math.max(C,d)}Aie(s,r);const N=i.indexOf(u),S=l.indexOf(d),A=I=>({width:i[I]||0,height:l[I]||0});return{first:A(0),last:A(r-1),widest:A(N),highest:A(S),widths:i,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return mse(this._alignToPixels?mi(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=kie(this.getContext(),e,n))}return this.$context||(this.$context=Iie(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ha(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,l=s?s.widest.width+i:0,c=s?s.highest.height+i:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:s,position:i,border:l}=a,c=s.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=id(s),h=[],y=l.setContext(this.getContext()),p=y.display?y.width:0,b=p/2,g=function(_){return mi(n,_,p)};let v,j,C,x,N,S,A,I,T,E,R,M;if(i==="top")v=g(this.bottom),S=this.bottom-m,I=v-b,E=g(e.top)+b,M=e.bottom;else if(i==="bottom")v=g(this.top),E=e.top,M=g(e.bottom)-b,S=v+b,I=this.top+m;else if(i==="left")v=g(this.right),N=this.right-m,A=v-b,T=g(e.left)+b,R=e.right;else if(i==="right")v=g(this.left),T=e.left,R=g(e.right)-b,N=v+b,A=this.left+m;else if(r==="x"){if(i==="center")v=g((e.top+e.bottom)/2+.5);else if(Xe(i)){const _=Object.keys(i)[0],q=i[_];v=g(this.chart.scales[_].getPixelForValue(q))}E=e.top,M=e.bottom,S=v+b,I=S+m}else if(r==="y"){if(i==="center")v=g((e.left+e.right)/2);else if(Xe(i)){const _=Object.keys(i)[0],q=i[_];v=g(this.chart.scales[_].getPixelForValue(q))}N=v-b,A=N-m,T=e.left,R=e.right}const L=Ve(a.ticks.maxTicksLimit,f),P=Math.max(1,Math.ceil(f/L));for(j=0;j<f;j+=P){const _=this.getContext(j),q=s.setContext(_),F=l.setContext(_),O=q.lineWidth,V=q.color,W=F.dash||[],$=F.dashOffset,B=q.tickWidth,Q=q.tickColor,fe=q.tickBorderDash||[],ae=q.tickBorderDashOffset;C=Sie(this,j,c),C!==void 0&&(x=mi(n,C,O),u?N=A=T=R=x:S=I=E=M=x,h.push({tx1:N,ty1:S,tx2:A,ty2:I,x1:T,y1:E,x2:R,y2:M,width:O,color:V,borderDash:W,borderDashOffset:$,tickWidth:B,tickColor:Q,tickBorderDash:fe,tickBorderDashOffset:ae}))}return this._ticksLength=f,this._borderValue=v,h}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:s}=n,i=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=s,m=id(n.grid),h=m+d,y=f?-d:h,p=-ha(this.labelRotation),b=[];let g,v,j,C,x,N,S,A,I,T,E,R,M="middle";if(a==="top")N=this.bottom-y,S=this._getXAxisLabelAlignment();else if(a==="bottom")N=this.top+y,S=this._getXAxisLabelAlignment();else if(a==="left"){const P=this._getYAxisLabelAlignment(m);S=P.textAlign,x=P.x}else if(a==="right"){const P=this._getYAxisLabelAlignment(m);S=P.textAlign,x=P.x}else if(r==="x"){if(a==="center")N=(e.top+e.bottom)/2+h;else if(Xe(a)){const P=Object.keys(a)[0],_=a[P];N=this.chart.scales[P].getPixelForValue(_)+h}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")x=(e.left+e.right)/2-h;else if(Xe(a)){const P=Object.keys(a)[0],_=a[P];x=this.chart.scales[P].getPixelForValue(_)}S=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?M="top":c==="end"&&(M="bottom"));const L=this._getLabelSizes();for(g=0,v=l.length;g<v;++g){j=l[g],C=j.label;const P=s.setContext(this.getContext(g));A=this.getPixelForTick(g)+s.labelOffset,I=this._resolveTickFontOptions(g),T=I.lineHeight,E=Lt(C)?C.length:1;const _=E/2,q=P.color,F=P.textStrokeColor,O=P.textStrokeWidth;let V=S;i?(x=A,S==="inner"&&(g===v-1?V=this.options.reverse?"left":"right":g===0?V=this.options.reverse?"right":"left":V="center"),a==="top"?u==="near"||p!==0?R=-E*T+T/2:u==="center"?R=-L.highest.height/2-_*T+T:R=-L.highest.height+T/2:u==="near"||p!==0?R=T/2:u==="center"?R=L.highest.height/2-_*T:R=L.highest.height-E*T,f&&(R*=-1),p!==0&&!P.showLabelBackdrop&&(x+=T/2*Math.sin(p))):(N=A,R=(1-E)*T/2);let W;if(P.showLabelBackdrop){const $=Ur(P.backdropPadding),B=L.heights[g],Q=L.widths[g];let fe=R-$.top,ae=0-$.left;switch(M){case"middle":fe-=B/2;break;case"bottom":fe-=B;break}switch(S){case"center":ae-=Q/2;break;case"right":ae-=Q;break;case"inner":g===v-1?ae-=Q:g>0&&(ae-=Q/2);break}W={left:ae,top:fe,width:Q+$.width,height:B+$.height,color:P.backdropColor}}b.push({label:C,font:I,textOffset:R,options:{rotation:p,color:q,strokeColor:F,strokeWidth:O,textAlign:V,textBaseline:M,translation:[x,N],backdrop:W}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ha(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,i=this._getLabelSizes(),l=e+s,c=i.widest.width;let u,d;return r==="left"?a?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?a?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:s,height:i}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,s,i),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(s=>s.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,i=a.length;s<i;++s){const c=a[s];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,m;this.isHorizontal()?(u=mi(e,this.left,i)-i/2,d=mi(e,this.right,l)+l/2,f=m=c):(f=mi(e,this.top,i)-i/2,m=mi(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&Wv(n,a);const s=this.getLabelItems(e);for(const i of s){const l=i.options,c=i.font,u=i.label,d=i.textOffset;bl(n,u,0,d,c,l)}a&&Hv(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const s=pr(n.font),i=Ur(n.padding),l=n.align;let c=s.lineHeight/2;r==="bottom"||r==="center"||Xe(r)?(c+=i.bottom,Lt(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=i.top;const{titleX:u,titleY:d,maxWidth:f,rotation:m}=Pie(this,c,r,l);bl(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:Tie(l,r,a),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Ve(e.grid&&e.grid.z,-1),a=Ve(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Dl.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let s,i;for(s=0,i=r.length;s<i;++s){const l=r[s];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return pr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class sp{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;Oie(r)&&(n=this.register(r));const a=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,Eie(e,i,n),this.override&&Bt.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in Bt[a]&&(delete Bt[a][n],this.override&&delete yl[n])}}function Eie(t,e,r){const n=Zf(Object.create(null),[r?Bt.get(r):{},Bt.get(e),t.defaults]);Bt.set(e,n),t.defaultRoutes&&Die(e,t.defaultRoutes),t.descriptors&&Bt.describe(e,t.descriptors)}function Die(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),s=[t].concat(n).join("."),i=e[r].split("."),l=i.pop(),c=i.join(".");Bt.route(s,a,c,l)})}function Oie(t){return"id"in t&&"defaults"in t}class _ie{constructor(){this.controllers=new sp(xa,"datasets",!0),this.elements=new sp(Ws,"elements"),this.plugins=new sp(Object,"plugins"),this.scales=new sp(Dl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const s=n||this._getRegistryForType(a);n||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):ft(a,i=>{const l=n||this._getRegistryForType(i);this._exec(e,l,i)})})}_exec(e,r,n){const a=vP(e);Ct(n["before"+a],[],n),r[e](n),Ct(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Ea=new _ie;class Rie{constructor(){this._init=[]}notify(e,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),i=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,r,n,a){a=a||{};for(const s of e){const i=s.plugin,l=i[n],c=[r,a,s.options];if(Ct(l,c,i)===!1&&a.cancelable)return!1}return!0}invalidate(){Ke(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Ve(n.options&&n.options.plugins,{}),s=$ie(n);return a===!1&&!r?[]:Lie(e,s,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(s,i)=>s.filter(l=>!i.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function $ie(t){const e={},r=[],n=Object.keys(Ea.plugins.items);for(let s=0;s<n.length;s++)r.push(Ea.getPlugin(n[s]));const a=t.plugins||[];for(let s=0;s<a.length;s++){const i=a[s];r.indexOf(i)===-1&&(r.push(i),e[i.id]=!0)}return{plugins:r,localIds:e}}function Mie(t,e){return!e&&t===!1?null:t===!0?{}:t}function Lie(t,{plugins:e,localIds:r},n,a){const s=[],i=t.getContext();for(const l of e){const c=l.id,u=Mie(n[c],a);u!==null&&s.push({plugin:l,options:Fie(t.config,{plugin:l,local:r[c]},u,i)})}return s}function Fie(t,{plugin:e,local:r},n,a){const s=t.pluginScopeKeys(e),i=t.getOptionScopes(n,s);return r&&e.defaults&&i.push(e.defaults),t.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cA(t,e){const r=Bt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function Bie(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function qie(t,e){return t===e?"_index_":"_value_"}function w_(t){if(t==="x"||t==="y"||t==="r")return t}function Vie(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function uA(t,...e){if(w_(t))return t;for(const r of e){const n=r.axis||Vie(r.position)||t.length>1&&w_(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function N_(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function Uie(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return N_(t,"x",r[0])||N_(t,"y",r[0])}return{}}function zie(t,e){const r=yl[t.type]||{scales:{}},n=e.scales||{},a=cA(t.type,e),s=Object.create(null);return Object.keys(n).forEach(i=>{const l=n[i];if(!Xe(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=uA(i,l,Uie(i,t),Bt.scales[l.type]),u=qie(c,a),d=r.scales||{};s[i]=tf(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(i=>{const l=i.type||t.type,c=i.indexAxis||cA(l,e),d=(yl[l]||{}).scales||{};Object.keys(d).forEach(f=>{const m=Bie(f,c),h=i[m+"AxisID"]||m;s[h]=s[h]||Object.create(null),tf(s[h],[{axis:m},n[h],d[f]])})}),Object.keys(s).forEach(i=>{const l=s[i];tf(l,[Bt.scales[l.type],Bt.scale])}),s}function p6(t){const e=t.options||(t.options={});e.plugins=Ve(e.plugins,{}),e.scales=zie(t,e)}function g6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Wie(t){return t=t||{},t.data=g6(t.data),p6(t),t}const C_=new Map,y6=new Set;function op(t,e){let r=C_.get(t);return r||(r=e(),C_.set(t,r),y6.add(r)),r}const ld=(t,e,r)=>{const n=zo(e,r);n!==void 0&&t.add(n)};class Hie{constructor(e){this._config=Wie(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=g6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),p6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return op(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return op(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return op(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return op(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:s}=this,i=this._cachedScopes(e,n),l=i.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(f=>ld(c,e,f))),d.forEach(f=>ld(c,a,f)),d.forEach(f=>ld(c,yl[s]||{},f)),d.forEach(f=>ld(c,Bt,f)),d.forEach(f=>ld(c,oA,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),y6.has(r)&&i.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,yl[r]||{},Bt.datasets[r]||{},{type:r},Bt,oA]}resolveNamedOptions(e,r,n,a=[""]){const s={$shared:!0},{resolver:i,subPrefixes:l}=S_(this._resolverCache,e,a);let c=i;if(Yie(i,r)){s.$shared=!1,n=Wo(n)?n():n;const u=this.createResolver(e,n,l);c=Yc(i,n,u)}for(const u of r)s[u]=c[u];return s}createResolver(e,r,n=[""],a){const{resolver:s}=S_(this._resolverCache,e,n);return Xe(r)?Yc(s,r,void 0,a):s}}function S_(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let s=n.get(a);return s||(s={resolver:AP(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,s)),s}const Gie=t=>Xe(t)&&Object.getOwnPropertyNames(t).some(e=>Wo(t[e]));function Yie(t,e){const{isScriptable:r,isIndexable:n}=Kq(t);for(const a of e){const s=r(a),i=n(a),l=(i||s)&&t[a];if(s&&(Wo(l)||Gie(l))||i&&Lt(l))return!0}return!1}var Kie="4.5.0";const Jie=["top","bottom","left","right","chartArea"];function A_(t,e){return t==="top"||t==="bottom"||Jie.indexOf(t)===-1&&e==="x"}function I_(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function k_(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Ct(r&&r.onComplete,[t],e)}function Xie(t){const e=t.chart,r=e.options.animation;Ct(r&&r.onProgress,[t],e)}function b6(t){return TP()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const sg={},T_=t=>{const e=b6(t);return Object.values(sg).filter(r=>r.canvas===e).pop()};function Qie(t,e,r){const n=Object.keys(t);for(const a of n){const s=+a;if(s>=e){const i=t[a];delete t[a],(r>0||s>e)&&(t[s+r]=i)}}}function Zie(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class so{static register(...e){Ea.add(...e),P_()}static unregister(...e){Ea.remove(...e),P_()}constructor(e,r){const n=this.config=new Hie(r),a=b6(e),s=T_(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||yie(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,i.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=ese(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Rie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=yse(f=>this.update(f),i.resizeDelay||0),this._dataChanges=[],sg[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}as.listen(this,"complete",k_),as.listen(this,"progress",Xie),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:s}=this;return Ke(e)?r&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ea}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():QO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return KO(this.canvas,this.ctx),this}stop(){return as.stop(this),this}resize(e,r){as.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(a,e,r,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,QO(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),Ct(n.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};ft(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((i,l)=>(i[l]=!1,i),{});let s=[];r&&(s=s.concat(Object.keys(r).map(i=>{const l=r[i],c=uA(i,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ft(s,i=>{const l=i.options,c=l.id,u=uA(c,l),d=Ve(l.type,i.dtype);(l.position===void 0||A_(l.position,u)!==A_(i.dposition))&&(l.position=i.dposition),a[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const m=Ea.getScale(d);f=new m({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),ft(a,(i,l)=>{i||delete n[l]}),ft(n,i=>{qr.configure(this,i,i.options),qr.addBox(this,i)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,s)=>a.index-s.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(I_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const s=r[n];let i=this.getDatasetMeta(n);const l=s.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=l,i.indexAxis=s.indexAxis||cA(l,this.options),i.order=s.order||0,i.index=n,i.label=""+s.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const c=Ea.getController(l),{datasetElementType:u,dataElementType:d}=Bt.datasets[l];Object.assign(c,{dataElementType:Ea.getElement(d),datasetElementType:u&&Ea.getElement(u)}),i.controller=new c(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){ft(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),m=!a&&s.indexOf(f)===-1;f.buildOrUpdateElements(m),i=Math.max(+f.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),a||ft(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(I_("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ft(this.scales,e=>{qr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!BO(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:s}of r){const i=n==="_removeElements"?-s:s;Qie(e,a,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(i=>i[0]===s).map((i,l)=>l+","+i.splice(1).join(","))),a=n(0);for(let s=1;s<r;s++)if(!BO(a,n(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qr.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],ft(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Wo(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(as.has(this)?this.attached&&!as.running(this)&&as.start(this):(this.draw(),k_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,s;for(a=0,s=r.length;a<s;++a){const i=r[a];(!e||i.visible)&&n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=o6(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&Wv(r,a),e.controller.draw(),a&&Hv(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return ys(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const s=Joe.modes[r];return typeof s=="function"?s(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(s=>s&&s._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=ri(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,a);em(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),as.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),KO(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete sg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,i)=>{r.addEventListener(this,s,i),e[s]=i},a=(s,i,l)=>{s.offsetX=i,s.offsetY=l,this._eventHandler(s)};ft(this.options.events,s=>n(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},a=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)};let i;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():i()}unbindEvents(){ft(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},ft(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let s,i,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){i=e[l];const u=i&&this.getDatasetMeta(i.datasetIndex).controller;u&&u[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:i})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[i],index:i}});!Lx(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),i=s(r,e),l=n?e:s(e,r);i.length&&this.updateHoverStyle(i,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:s}=this,i=r,l=this._getActiveElements(e,a,n,i),c=ose(e),u=Zie(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Ct(s.onHover,[e,l,this],this),c&&Ct(s.onClick,[e,l,this],this));const d=!Lx(l,a);return(d||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}ye(so,"defaults",Bt),ye(so,"instances",sg),ye(so,"overrides",yl),ye(so,"registry",Ea),ye(so,"version",Kie),ye(so,"getChart",T_);function P_(){return ft(so.instances,t=>t._plugins.invalidate())}function ele(t,e,r){const{startAngle:n,x:a,y:s,outerRadius:i,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/i,Lr(n-r));if(t.beginPath(),t.arc(a,s,i-u/2,n+f/2,r-f/2),l>0){const m=Math.min(u/l,Lr(n-r));t.arc(a,s,l+u/2,r-m/2,n+m/2,!0)}else{const m=Math.min(u/2,i*Lr(n-r));if(d==="round")t.arc(a,s,m,r-nt/2,n+nt/2,!0);else if(d==="bevel"){const h=2*m*m,y=-h*Math.cos(r+nt/2)+a,p=-h*Math.sin(r+nt/2)+s,b=h*Math.cos(n+nt/2)+a,g=h*Math.sin(n+nt/2)+s;t.lineTo(y,p),t.lineTo(b,g)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function tle(t,e,r){const{startAngle:n,pixelMargin:a,x:s,y:i,outerRadius:l,innerRadius:c}=e;let u=a/l;t.beginPath(),t.arc(s,i,l,n-u,r+u),c>a?(u=a/c,t.arc(s,i,c,r+u,n-u,!0)):t.arc(s,i,a,r+ar,n-ar),t.closePath(),t.clip()}function rle(t){return SP(t,["outerStart","outerEnd","innerStart","innerEnd"])}function nle(t,e,r,n){const a=rle(t.options.borderRadius),s=(r-e)/2,i=Math.min(s,n*e/2),l=c=>{const u=(r-Math.min(s,c))*n/2;return vr(c,0,Math.min(s,u))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:vr(a.innerStart,0,i),innerEnd:vr(a.innerEnd,0,i)}}function Ul(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function zx(t,e,r,n,a,s){const{x:i,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+n+r-u,0),m=d>0?d+n+r+u:0;let h=0;const y=a-c;if(n){const P=d>0?d-n:0,_=f>0?f-n:0,q=(P+_)/2,F=q!==0?y*q/(q+n):y;h=(y-F)/2}const p=Math.max(.001,y*f-r/nt)/f,b=(y-p)/2,g=c+b+h,v=a-b-h,{outerStart:j,outerEnd:C,innerStart:x,innerEnd:N}=nle(e,m,f,v-g),S=f-j,A=f-C,I=g+j/S,T=v-C/A,E=m+x,R=m+N,M=g+x/E,L=v-N/R;if(t.beginPath(),s){const P=(I+T)/2;if(t.arc(i,l,f,I,P),t.arc(i,l,f,P,T),C>0){const O=Ul(A,T,i,l);t.arc(O.x,O.y,C,T,v+ar)}const _=Ul(R,v,i,l);if(t.lineTo(_.x,_.y),N>0){const O=Ul(R,L,i,l);t.arc(O.x,O.y,N,v+ar,L+Math.PI)}const q=(v-N/m+(g+x/m))/2;if(t.arc(i,l,m,v-N/m,q,!0),t.arc(i,l,m,q,g+x/m,!0),x>0){const O=Ul(E,M,i,l);t.arc(O.x,O.y,x,M+Math.PI,g-ar)}const F=Ul(S,g,i,l);if(t.lineTo(F.x,F.y),j>0){const O=Ul(S,I,i,l);t.arc(O.x,O.y,j,g-ar,I)}}else{t.moveTo(i,l);const P=Math.cos(I)*f+i,_=Math.sin(I)*f+l;t.lineTo(P,_);const q=Math.cos(T)*f+i,F=Math.sin(T)*f+l;t.lineTo(q,F)}t.closePath()}function ale(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l}=e;let c=e.endAngle;if(s){zx(t,e,r,n,c,a);for(let u=0;u<s;++u)t.fill();isNaN(l)||(c=i+(l%Rt||Rt))}return zx(t,e,r,n,c,a),t.fill(),c}function sle(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:m,borderRadius:h}=c,y=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,y?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let p=e.endAngle;if(s){zx(t,e,r,n,p,a);for(let b=0;b<s;++b)t.stroke();isNaN(l)||(p=i+(l%Rt||Rt))}y&&tle(t,e,p),c.selfJoin&&p-i>=nt&&h===0&&d!=="miter"&&ele(t,e,p),s||(zx(t,e,r,n,p,a),t.stroke())}class Rd extends Ws{constructor(r){super();ye(this,"circumference");ye(this,"endAngle");ye(this,"fullCircles");ye(this,"innerRadius");ye(this,"outerRadius");ye(this,"pixelMargin");ye(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.getProps(["x","y"],a),{angle:i,distance:l}=Fq(s,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),h=(this.options.spacing+this.options.borderWidth)/2,y=Ve(m,u-c),p=tm(i,c,u)&&c!==u,b=y>=Rt||p,g=ps(l,d+h,f+h);return b&&g}getCenterPoint(r){const{x:n,y:a,startAngle:s,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(s+i)/2,m=(l+c+d+u)/2;return{x:n+Math.cos(f)*m,y:a+Math.sin(f)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Rt?Math.floor(a/Rt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(nt,a||0)),d=s*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,ale(r,this,d,i,l),sle(r,this,d,i,l),r.restore()}}ye(Rd,"id","arc"),ye(Rd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ye(Rd,"defaultRoutes",{backgroundColor:"backgroundColor"}),ye(Rd,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function x6(t,e,r=e){t.lineCap=Ve(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Ve(r.borderDash,e.borderDash)),t.lineDashOffset=Ve(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Ve(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ve(r.borderWidth,e.borderWidth),t.strokeStyle=Ve(r.borderColor,e.borderColor)}function ole(t,e,r){t.lineTo(r.x,r.y)}function ile(t){return t.stepped?Tse:t.tension||t.cubicInterpolationMode==="monotone"?Pse:ole}function v6(t,e,r={}){const n=t.length,{start:a=0,end:s=n-1}=r,{start:i,end:l}=e,c=Math.max(a,i),u=Math.min(s,l),d=a<i&&s<i||a>l&&s>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!d?n+u-c:u-c}}function lle(t,e,r,n){const{points:a,options:s}=e,{count:i,start:l,loop:c,ilen:u}=v6(a,r,n),d=ile(s);let{move:f=!0,reverse:m}=n||{},h,y,p;for(h=0;h<=u;++h)y=a[(l+(m?u-h:h))%i],!y.skip&&(f?(t.moveTo(y.x,y.y),f=!1):d(t,p,y,m,s.stepped),p=y);return c&&(y=a[(l+(m?u:0))%i],d(t,p,y,m,s.stepped)),!!c}function cle(t,e,r,n){const a=e.points,{count:s,start:i,ilen:l}=v6(a,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,m,h,y,p,b,g;const v=C=>(i+(u?l-C:C))%s,j=()=>{p!==b&&(t.lineTo(d,b),t.lineTo(d,p),t.lineTo(d,g))};for(c&&(h=a[v(0)],t.moveTo(h.x,h.y)),m=0;m<=l;++m){if(h=a[v(m)],h.skip)continue;const C=h.x,x=h.y,N=C|0;N===y?(x<p?p=x:x>b&&(b=x),d=(f*d+C)/++f):(j(),t.lineTo(C,x),y=N,f=0,p=b=x),g=x}j()}function dA(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?cle:lle}function ule(t){return t.stepped?loe:t.tension||t.cubicInterpolationMode==="monotone"?coe:Ni}function dle(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),x6(t,e.options),t.stroke(a)}function fle(t,e,r,n){const{segments:a,options:s}=e,i=dA(e);for(const l of a)x6(t,s,l.style),t.beginPath(),i(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const mle=typeof Path2D=="function";function hle(t,e,r,n){mle&&!e.options.segment?dle(t,e,r,n):fle(t,e,r,n)}class yo extends Ws{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;eoe(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=poe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],s=this.points,i=s6(this,{property:r,start:a,end:a});if(!i.length)return;const l=[],c=ule(n);let u,d;for(u=0,d=i.length;u<d;++u){const{start:f,end:m}=i[u],h=s[f],y=s[m];if(h===y){l.push(h);continue}const p=Math.abs((a-h[r])/(y[r]-h[r])),b=c(h,y,p,n.stepped);b[r]=e[r],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,r,n){return dA(this)(e,this,r,n)}path(e,r,n){const a=this.segments,s=dA(this);let i=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)i&=s(e,this,l,{start:r,end:r+n-1});return!!i}draw(e,r,n,a){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),hle(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ye(yo,"id","line"),ye(yo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ye(yo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ye(yo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function E_(t,e,r,n){const a=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<a.radius+a.hitRadius}class og extends Ws{constructor(r){super();ye(this,"parsed");ye(this,"skip");ye(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.options,{x:i,y:l}=this.getProps(["x","y"],a);return Math.pow(r-i,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return E_(this,r,"x",n)}inYRange(r,n){return E_(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!ys(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,iA(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}ye(og,"id","point"),ye(og,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ye(og,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function j6(t,e){const{x:r,y:n,base:a,width:s,height:i}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=i/2,l=Math.min(r,a),c=Math.max(r,a),u=n-f,d=n+f):(f=s/2,l=r-f,c=r+f,u=Math.min(n,a),d=Math.max(n,a)),{left:l,top:u,right:c,bottom:d}}function bo(t,e,r,n){return t?0:vr(e,r,n)}function ple(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,s=Yq(n);return{t:bo(a.top,s.top,0,r),r:bo(a.right,s.right,0,e),b:bo(a.bottom,s.bottom,0,r),l:bo(a.left,s.left,0,e)}}function gle(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,s=Wi(a),i=Math.min(e,r),l=t.borderSkipped,c=n||Xe(a);return{topLeft:bo(!c||l.top||l.left,s.topLeft,0,i),topRight:bo(!c||l.top||l.right,s.topRight,0,i),bottomLeft:bo(!c||l.bottom||l.left,s.bottomLeft,0,i),bottomRight:bo(!c||l.bottom||l.right,s.bottomRight,0,i)}}function yle(t){const e=j6(t),r=e.right-e.left,n=e.bottom-e.top,a=ple(t,r/2,n/2),s=gle(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function a1(t,e,r,n){const a=e===null,s=r===null,l=t&&!(a&&s)&&j6(t,n);return l&&(a||ps(e,l.left,l.right))&&(s||ps(r,l.top,l.bottom))}function ble(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function xle(t,e){t.rect(e.x,e.y,e.w,e.h)}function s1(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,i=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+s,h:t.h+i,radius:t.radius}}class ig extends Ws{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:i}=yle(this),l=ble(i.radius)?rm:xle;e.save(),(i.w!==s.w||i.h!==s.h)&&(e.beginPath(),l(e,s1(i,r,s)),e.clip(),l(e,s1(s,-r,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,s1(s,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return a1(this,e,r,n)}inXRange(e,r){return a1(this,e,null,r)}inYRange(e,r){return a1(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+a)/2:r,y:s?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ye(ig,"id","bar"),ye(ig,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ye(ig,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var vle=Object.freeze({__proto__:null,ArcElement:Rd,BarElement:ig,LineElement:yo,PointElement:og});const fA=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],D_=fA.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function w6(t){return fA[t%fA.length]}function N6(t){return D_[t%D_.length]}function jle(t,e){return t.borderColor=w6(e),t.backgroundColor=N6(e),++e}function wle(t,e){return t.backgroundColor=t.data.map(()=>w6(e++)),e}function Nle(t,e){return t.backgroundColor=t.data.map(()=>N6(e++)),e}function Cle(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof _i?e=wle(r,e):a instanceof sf?e=Nle(r,e):a&&(e=jle(r,e))}}function O_(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Sle(t){return t&&(t.borderColor||t.backgroundColor)}function Ale(){return Bt.borderColor!=="rgba(0,0,0,0.1)"||Bt.backgroundColor!=="rgba(0,0,0,0.1)"}var Ile={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:s}=a,i=O_(n)||Sle(a)||s&&O_(s)||Ale();if(!r.forceOverride&&i)return;const l=Cle(t);n.forEach(l)}};function kle(t,e,r,n,a){const s=a.samples||n;if(s>=r)return t.slice(e,e+r);const i=[],l=(r-2)/(s-2);let c=0;const u=e+r-1;let d=e,f,m,h,y,p;for(i[c++]=t[d],f=0;f<s-2;f++){let b=0,g=0,v;const j=Math.floor((f+1)*l)+1+e,C=Math.min(Math.floor((f+2)*l)+1,r)+e,x=C-j;for(v=j;v<C;v++)b+=t[v].x,g+=t[v].y;b/=x,g/=x;const N=Math.floor(f*l)+1+e,S=Math.min(Math.floor((f+1)*l)+1,r)+e,{x:A,y:I}=t[d];for(h=y=-1,v=N;v<S;v++)y=.5*Math.abs((A-b)*(t[v].y-I)-(A-t[v].x)*(g-I)),y>h&&(h=y,m=t[v],p=v);i[c++]=m,d=p}return i[c++]=t[u],i}function Tle(t,e,r,n){let a=0,s=0,i,l,c,u,d,f,m,h,y,p;const b=[],g=e+r-1,v=t[e].x,C=t[g].x-v;for(i=e;i<e+r;++i){l=t[i],c=(l.x-v)/C*n,u=l.y;const x=c|0;if(x===d)u<y?(y=u,f=i):u>p&&(p=u,m=i),a=(s*a+l.x)/++s;else{const N=i-1;if(!Ke(f)&&!Ke(m)){const S=Math.min(f,m),A=Math.max(f,m);S!==h&&S!==N&&b.push({...t[S],x:a}),A!==h&&A!==N&&b.push({...t[A],x:a})}i>0&&N!==h&&b.push(t[N]),b.push(l),d=x,s=0,y=p=u,f=m=h=i}}return b}function C6(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function __(t){t.data.datasets.forEach(e=>{C6(e)})}function Ple(t,e){const r=e.length;let n=0,a;const{iScale:s}=t,{min:i,max:l,minDefined:c,maxDefined:u}=s.getUserBounds();return c&&(n=vr(gs(e,s.axis,i).lo,0,r-1)),u?a=vr(gs(e,s.axis,l).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var Ele={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){__(t);return}const n=t.width;t.data.datasets.forEach((a,s)=>{const{_data:i,indexAxis:l}=a,c=t.getDatasetMeta(s),u=i||a.data;if(Od([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:m}=Ple(c,u);const h=r.threshold||4*n;if(m<=h){C6(a);return}Ke(i)&&(a._data=u,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let y;switch(r.algorithm){case"lttb":y=kle(u,f,m,n,r);break;case"min-max":y=Tle(u,f,m,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=y})},destroy(t){__(t)}};function Dle(t,e,r){const n=t.segments,a=t.points,s=e.points,i=[];for(const l of n){let{start:c,end:u}=l;u=Kv(c,u,a);const d=mA(r,a[c],a[u],l.loop);if(!e.segments){i.push({source:l,target:d,start:a[c],end:a[u]});continue}const f=s6(e,d);for(const m of f){const h=mA(r,s[m.start],s[m.end],m.loop),y=a6(l,a,h);for(const p of y)i.push({source:p,target:m,start:{[r]:R_(d,h,"start",Math.max)},end:{[r]:R_(d,h,"end",Math.min)}})}}return i}function mA(t,e,r,n){if(n)return;let a=e[t],s=r[t];return t==="angle"&&(a=Lr(a),s=Lr(s)),{property:t,start:a,end:s}}function Ole(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,s=[];return e.segments.forEach(({start:i,end:l})=>{l=Kv(i,l,a);const c=a[i],u=a[l];n!==null?(s.push({x:c.x,y:n}),s.push({x:u.x,y:n})):r!==null&&(s.push({x:r,y:c.y}),s.push({x:r,y:u.y}))}),s}function Kv(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function R_(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function S6(t,e){let r=[],n=!1;return Lt(t)?(n=!0,r=t):r=Ole(t,e),r.length?new yo({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function $_(t){return t&&t.fill!==!1}function _le(t,e,r){let a=t[e].fill;const s=[e];let i;if(!r)return a;for(;a!==!1&&s.indexOf(a)===-1;){if(!Xt(a))return a;if(i=t[a],!i)return!1;if(i.visible)return a;s.push(a),a=i.fill}return!1}function Rle(t,e,r){const n=Fle(t);if(Xe(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Xt(a)&&Math.floor(a)===a?$le(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function $le(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function Mle(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Xe(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function Lle(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Xe(t)?n=t.value:n=e.getBaseValue(),n}function Fle(t){const e=t.options,r=e.fill;let n=Ve(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Ble(t){const{scale:e,index:r,line:n}=t,a=[],s=n.segments,i=n.points,l=qle(e,r);l.push(S6({x:null,y:e.bottom},n));for(let c=0;c<s.length;c++){const u=s[c];for(let d=u.start;d<=u.end;d++)Vle(a,i[d],l)}return new yo({points:a,options:{}})}function qle(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const s=n[a];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function Vle(t,e,r){const n=[];for(let a=0;a<r.length;a++){const s=r[a],{first:i,last:l,point:c}=Ule(s,e,"x");if(!(!c||i&&l)){if(i)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function Ule(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],s=t.segments,i=t.points;let l=!1,c=!1;for(let u=0;u<s.length;u++){const d=s[u],f=i[d.start][r],m=i[d.end][r];if(ps(a,f,m)){l=a===f,c=a===m;break}}return{first:l,last:c,point:n}}class A6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:s,radius:i}=this;return r=r||{start:0,end:Rt},e.arc(a,s,i,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,s=e.angle;return{x:r+Math.cos(s)*a,y:n+Math.sin(s)*a,angle:s}}}function zle(t){const{chart:e,fill:r,line:n}=t;if(Xt(r))return Wle(e,r);if(r==="stack")return Ble(t);if(r==="shape")return!0;const a=Hle(t);return a instanceof A6?a:S6(a,n)}function Wle(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function Hle(t){return(t.scale||{}).getPointPositionForValue?Yle(t):Gle(t)}function Gle(t){const{scale:e={},fill:r}=t,n=Mle(r,e);if(Xt(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function Yle(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,s=n.reverse?e.max:e.min,i=Lle(r,e,s),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,s);return new A6({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(i)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,i));return l}function o1(t,e,r){const n=zle(e),{chart:a,index:s,line:i,scale:l,axis:c}=e,u=i.options,d=u.fill,f=u.backgroundColor,{above:m=f,below:h=f}=d||{},y=a.getDatasetMeta(s),p=o6(a,y);n&&i.points.length&&(Wv(t,r),Kle(t,{line:i,target:n,above:m,below:h,area:r,scale:l,axis:c,clip:p}),Hv(t))}function Kle(t,e){const{line:r,target:n,above:a,below:s,area:i,scale:l,clip:c}=e,u=r._loop?"angle":e.axis;t.save();let d=s;s!==a&&(u==="x"?(M_(t,n,i.top),i1(t,{line:r,target:n,color:a,scale:l,property:u,clip:c}),t.restore(),t.save(),M_(t,n,i.bottom)):u==="y"&&(L_(t,n,i.left),i1(t,{line:r,target:n,color:s,scale:l,property:u,clip:c}),t.restore(),t.save(),L_(t,n,i.right),d=a)),i1(t,{line:r,target:n,color:d,scale:l,property:u,clip:c}),t.restore()}function M_(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[Kv(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,r),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function L_(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[Kv(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(r,d.y),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(r,f.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function i1(t,e){const{line:r,target:n,property:a,color:s,scale:i,clip:l}=e,c=Dle(r,n,a);for(const{source:u,target:d,start:f,end:m}of c){const{style:{backgroundColor:h=s}={}}=u,y=n!==!0;t.save(),t.fillStyle=h,Jle(t,i,l,y&&mA(a,f,m)),t.beginPath();const p=!!r.pathSegment(t,u);let b;if(y){p?t.closePath():F_(t,n,m,a);const g=!!n.pathSegment(t,d,{move:p,reverse:!0});b=p&&g,b||F_(t,n,f,a)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function Jle(t,e,r,n){const a=e.chart.chartArea,{property:s,start:i,end:l}=n||{};if(s==="x"||s==="y"){let c,u,d,f;s==="x"?(c=i,u=a.top,d=l,f=a.bottom):(c=a.left,u=i,d=a.right,f=l),t.beginPath(),r&&(c=Math.max(c,r.left),d=Math.min(d,r.right),u=Math.max(u,r.top),f=Math.min(f,r.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function F_(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var Xle={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let s,i,l,c;for(i=0;i<n;++i)s=t.getDatasetMeta(i),l=s.dataset,c=null,l&&l.options&&l instanceof yo&&(c={visible:t.isDatasetVisible(i),index:i,fill:Rle(l,i,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,a.push(c);for(i=0;i<n;++i)c=a[i],!(!c||c.fill===!1)&&(c.fill=_le(a,i,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let i=a.length-1;i>=0;--i){const l=a[i].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&o1(t.ctx,l,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const s=n[a].$filler;$_(s)&&o1(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!$_(n)||r.drawTime!=="beforeDatasetDraw"||o1(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const B_=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Qle=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let q_=class extends Ws{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Ct(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=pr(n.font),s=a.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=B_(n,s);let u,d;r.font=a.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(i,s,l,c)+10):(d=this.maxHeight,u=this._fitCols(i,a,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:s,maxWidth:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=a+l;let f=e;s.textAlign="left",s.textBaseline="middle";let m=-1,h=-d;return this.legendItems.forEach((y,p)=>{const b=n+r/2+s.measureText(y.text).width;(p===0||u[u.length-1]+b+2*l>i)&&(f+=d,u[u.length-(p>0?0:1)]=0,h+=d,m++),c[p]={left:0,top:h,row:m,width:b,height:a},u[u.length-1]+=b+l}),f}_fitCols(e,r,n,a){const{ctx:s,maxHeight:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=i-e;let f=l,m=0,h=0,y=0,p=0;return this.legendItems.forEach((b,g)=>{const{itemWidth:v,itemHeight:j}=Zle(n,r,s,b,a);g>0&&h+j+2*l>d&&(f+=m+l,u.push({width:m,height:h}),y+=m+l,p++,m=h=0),c[g]={left:y,top:h,col:p,width:v,height:j},m=Math.max(m,v),h+=j+l}),f+=m,u.push({width:m,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:s}}=this,i=vc(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=$r(n,this.left+a,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=$r(n,this.left+a,this.right-this.lineWidths[l])),u.top+=this.top+e+a,u.left=i.leftForLtr(i.x(c),u.width),c+=u.width+a}else{let l=0,c=$r(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=$r(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+a,u.left=i.leftForLtr(i.x(u.left),u.width),c+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Wv(e,this),this._draw(),Hv(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:s,labels:i}=e,l=Bt.color,c=vc(e.rtl,this.left,this.width),u=pr(i.font),{padding:d}=i,f=u.size,m=f/2;let h;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:y,boxHeight:p,itemHeight:b}=B_(i,f),g=function(N,S,A){if(isNaN(y)||y<=0||isNaN(p)||p<0)return;a.save();const I=Ve(A.lineWidth,1);if(a.fillStyle=Ve(A.fillStyle,l),a.lineCap=Ve(A.lineCap,"butt"),a.lineDashOffset=Ve(A.lineDashOffset,0),a.lineJoin=Ve(A.lineJoin,"miter"),a.lineWidth=I,a.strokeStyle=Ve(A.strokeStyle,l),a.setLineDash(Ve(A.lineDash,[])),i.usePointStyle){const T={radius:p*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:I},E=c.xPlus(N,y/2),R=S+m;Gq(a,T,E,R,i.pointStyleWidth&&y)}else{const T=S+Math.max((f-p)/2,0),E=c.leftForLtr(N,y),R=Wi(A.borderRadius);a.beginPath(),Object.values(R).some(M=>M!==0)?rm(a,{x:E,y:T,w:y,h:p,radius:R}):a.rect(E,T,y,p),a.fill(),I!==0&&a.stroke()}a.restore()},v=function(N,S,A){bl(a,A.text,N,S+b/2,u,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},j=this.isHorizontal(),C=this._computeTitleHeight();j?h={x:$r(s,this.left+d,this.right-n[0]),y:this.top+d+C,line:0}:h={x:this.left+d,y:$r(s,this.top+C+d,this.bottom-r[0].height),line:0},t6(this.ctx,e.textDirection);const x=b+d;this.legendItems.forEach((N,S)=>{a.strokeStyle=N.fontColor,a.fillStyle=N.fontColor;const A=a.measureText(N.text).width,I=c.textAlign(N.textAlign||(N.textAlign=i.textAlign)),T=y+m+A;let E=h.x,R=h.y;c.setWidth(this.width),j?S>0&&E+T+d>this.right&&(R=h.y+=x,h.line++,E=h.x=$r(s,this.left+d,this.right-n[h.line])):S>0&&R+x>this.bottom&&(E=h.x=E+r[h.line].width+d,h.line++,R=h.y=$r(s,this.top+C+d,this.bottom-r[h.line].height));const M=c.x(E);if(g(M,R,N),E=bse(I,E+y+m,j?E+T:this.right,e.rtl),v(c.x(E),R,N),j)h.x+=T+d;else if(typeof N.text!="string"){const L=u.lineHeight;h.y+=I6(N,L)+d}else h.y+=x}),r6(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=pr(r.font),a=Ur(r.padding);if(!r.display)return;const s=vc(e.rtl,this.left,this.width),i=this.ctx,l=r.position,c=n.size/2,u=a.top+c;let d,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,f=$r(e.align,f,this.right-m);else{const y=this.columnSizes.reduce((p,b)=>Math.max(p,b.height),0);d=u+$r(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const h=$r(l,f,f+m);i.textAlign=s.textAlign(NP(l)),i.textBaseline="middle",i.strokeStyle=r.color,i.fillStyle=r.color,i.font=n.string,bl(i,r.text,h,d,n)}_computeTitleHeight(){const e=this.options.title,r=pr(e.font),n=Ur(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,s;if(ps(e,this.left,this.right)&&ps(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],ps(e,a.left,a.left+a.width)&&ps(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!rce(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,s=Qle(a,n);a&&!s&&Ct(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&Ct(r.onHover,[e,n,this],this)}else n&&Ct(r.onClick,[e,n,this],this)}};function Zle(t,e,r,n,a){const s=ece(n,t,e,r),i=tce(a,n,e.lineHeight);return{itemWidth:s,itemHeight:i}}function ece(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((s,i)=>s.length>i.length?s:i)),e+r.size/2+n.measureText(a).width}function tce(t,e,r){let n=t;return typeof e.text!="string"&&(n=I6(e,r)),n}function I6(t,e){const r=t.text?t.text.length:0;return e*r}function rce(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var nce={id:"legend",_element:q_,start(t,e,r){const n=t.legend=new q_({ctx:t.ctx,options:r,chart:t});qr.configure(t,n,r),qr.addBox(t,n)},stop(t){qr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;qr.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:s,useBorderRadius:i,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=Ur(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:i&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class DP extends Ws{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=Lt(n.text)?n.text.length:1;this._padding=Ur(n.padding);const s=a*pr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:s,options:i}=this,l=i.align;let c=0,u,d,f;return this.isHorizontal()?(d=$r(l,n,s),f=r+e,u=s-n):(i.position==="left"?(d=n+e,f=$r(l,a,r),c=nt*-.5):(d=s-e,f=$r(l,r,a),c=nt*.5),u=a-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=pr(r.font),s=n.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(s);bl(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:NP(r.align),textBaseline:"middle",translation:[i,l]})}}function ace(t,e){const r=new DP({ctx:t.ctx,options:e,chart:t});qr.configure(t,r,e),qr.addBox(t,r),t.titleBlock=r}var sce={id:"title",_element:DP,start(t,e,r){ace(t,r)},stop(t){const e=t.titleBlock;qr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;qr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ip=new WeakMap;var oce={id:"subtitle",start(t,e,r){const n=new DP({ctx:t.ctx,options:r,chart:t});qr.configure(t,n,r),qr.addBox(t,n),ip.set(t,n)},stop(t){qr.removeBox(t,ip.get(t)),ip.delete(t)},beforeUpdate(t,e,r){const n=ip.get(t);qr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $d={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,s=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,s,i,l;for(s=0,i=t.length;s<i;++s){const c=t[s].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=sA(e,u);d<a&&(a=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function Ta(t,e){return e&&(Lt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ss(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function ice(t,e){const{element:r,datasetIndex:n,index:a}=e,s=t.getDatasetMeta(n).controller,{label:i,value:l}=s.getLabelAndValue(a);return{chart:t,label:i,parsed:s.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function V_(t,e){const r=t.chart.ctx,{body:n,footer:a,title:s}=t,{boxWidth:i,boxHeight:l}=e,c=pr(e.bodyFont),u=pr(e.titleFont),d=pr(e.footerFont),f=s.length,m=a.length,h=n.length,y=Ur(e.padding);let p=y.height,b=0,g=n.reduce((C,x)=>C+x.before.length+x.lines.length+x.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,f&&(p+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),g){const C=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;p+=h*C+(g-h)*c.lineHeight+(g-1)*e.bodySpacing}m&&(p+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let v=0;const j=function(C){b=Math.max(b,r.measureText(C).width+v)};return r.save(),r.font=u.string,ft(t.title,j),r.font=c.string,ft(t.beforeBody.concat(t.afterBody),j),v=e.displayColors?i+2+e.boxPadding:0,ft(n,C=>{ft(C.before,j),ft(C.lines,j),ft(C.after,j)}),v=0,r.font=d.string,ft(t.footer,j),r.restore(),b+=y.width,{width:b,height:p}}function lce(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function cce(t,e,r,n){const{x:a,width:s}=n,i=r.caretSize+r.caretPadding;if(t==="left"&&a+s+i>e.width||t==="right"&&a-s-i<0)return!0}function uce(t,e,r,n){const{x:a,width:s}=r,{width:i,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=a<=(l+c)/2?"left":"right":a<=s/2?u="left":a>=i-s/2&&(u="right"),cce(u,t,e,r)&&(u="center"),u}function U_(t,e,r){const n=r.yAlign||e.yAlign||lce(t,r);return{xAlign:r.xAlign||e.xAlign||uce(t,e,r,n),yAlign:n}}function dce(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function fce(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function z_(t,e,r,n){const{caretSize:a,caretPadding:s,cornerRadius:i}=t,{xAlign:l,yAlign:c}=r,u=a+s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:h}=Wi(i);let y=dce(e,l);const p=fce(e,c,u);return c==="center"?l==="left"?y+=u:l==="right"&&(y-=u):l==="left"?y-=Math.max(d,m)+a:l==="right"&&(y+=Math.max(f,h)+a),{x:vr(y,0,n.width-e.width),y:vr(p,0,n.height-e.height)}}function lp(t,e,r){const n=Ur(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function W_(t){return Ta([],ss(t))}function mce(t,e,r){return ri(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function H_(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const k6={beforeTitle:ts,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:ts,beforeBody:ts,beforeLabel:ts,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return Ke(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:ts,afterBody:ts,beforeFooter:ts,footer:ts,afterFooter:ts};function en(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?k6[e].call(r,n):a}var $C;let G_=($C=class extends Ws{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,s=new i6(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=mce(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=en(n,"beforeTitle",this,e),s=en(n,"title",this,e),i=en(n,"afterTitle",this,e);let l=[];return l=Ta(l,ss(a)),l=Ta(l,ss(s)),l=Ta(l,ss(i)),l}getBeforeBody(e,r){return W_(en(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return ft(e,s=>{const i={before:[],lines:[],after:[]},l=H_(n,s);Ta(i.before,ss(en(l,"beforeLabel",this,s))),Ta(i.lines,en(l,"label",this,s)),Ta(i.after,ss(en(l,"afterLabel",this,s))),a.push(i)}),a}getAfterBody(e,r){return W_(en(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=en(n,"beforeFooter",this,e),s=en(n,"footer",this,e),i=en(n,"afterFooter",this,e);let l=[];return l=Ta(l,ss(a)),l=Ta(l,ss(s)),l=Ta(l,ss(i)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],s=[],i=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(ice(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,m)=>e.filter(d,f,m,n))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,n))),ft(l,d=>{const f=H_(e.callbacks,d);a.push(en(f,"labelColor",this,d)),s.push(en(f,"labelPointStyle",this,d)),i.push(en(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let s,i=[];if(!a.length)this.opacity!==0&&(s={opacity:0});else{const l=$d[n.position].call(this,a,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const c=this._size=V_(this,n),u=Object.assign({},l,c),d=U_(this.chart,n,u),f=z_(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const s=this.getCaretPosition(e,n,a);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:s}=this,{caretSize:i,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Wi(l),{x:m,y:h}=e,{width:y,height:p}=r;let b,g,v,j,C,x;return s==="center"?(C=h+p/2,a==="left"?(b=m,g=b-i,j=C+i,x=C-i):(b=m+y,g=b+i,j=C-i,x=C+i),v=b):(a==="left"?g=m+Math.max(c,d)+i:a==="right"?g=m+y-Math.max(u,f)-i:g=this.caretX,s==="top"?(j=h,C=j-i,b=g-i,v=g+i):(j=h+p,C=j+i,b=g+i,v=g-i),x=j),{x1:b,x2:g,x3:v,y1:j,y2:C,y3:x}}drawTitle(e,r,n){const a=this.title,s=a.length;let i,l,c;if(s){const u=vc(n.rtl,this.x,this.width);for(e.x=lp(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",i=pr(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=i.string,c=0;c<s;++c)r.fillText(a[c],u.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+l,c+1===s&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,s){const i=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=s,d=pr(s.bodyFont),f=lp(this,"left",s),m=a.x(f),h=c<d.lineHeight?(d.lineHeight-c)/2:0,y=r.y+h;if(s.usePointStyle){const p={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=a.leftForLtr(m,u)+u/2,g=y+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,iA(e,p,b,g),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,iA(e,p,b,g)}else{e.lineWidth=Xe(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const p=a.leftForLtr(m,u),b=a.leftForLtr(a.xPlus(m,1),u-2),g=Wi(i.borderRadius);Object.values(g).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,rm(e,{x:p,y,w:u,h:c,radius:g}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),rm(e,{x:b,y:y+1,w:u-2,h:c-2,radius:g}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,y,u,c),e.strokeRect(p,y,u,c),e.fillStyle=i.backgroundColor,e.fillRect(b,y+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:s,bodyAlign:i,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=pr(n.bodyFont);let m=f.lineHeight,h=0;const y=vc(n.rtl,this.x,this.width),p=function(A){r.fillText(A,y.x(e.x+h),e.y+m/2),e.y+=m+s},b=y.textAlign(i);let g,v,j,C,x,N,S;for(r.textAlign=i,r.textBaseline="middle",r.font=f.string,e.x=lp(this,b,n),r.fillStyle=n.bodyColor,ft(this.beforeBody,p),h=l&&b!=="right"?i==="center"?u/2+d:u+2+d:0,C=0,N=a.length;C<N;++C){for(g=a[C],v=this.labelTextColors[C],r.fillStyle=v,ft(g.before,p),j=g.lines,l&&j.length&&(this._drawColorBox(r,e,C,y,n),m=Math.max(f.lineHeight,c)),x=0,S=j.length;x<S;++x)p(j[x]),m=f.lineHeight;ft(g.after,p)}h=0,m=f.lineHeight,ft(this.afterBody,p),e.y-=s}drawFooter(e,r,n){const a=this.footer,s=a.length;let i,l;if(s){const c=vc(n.rtl,this.x,this.width);for(e.x=lp(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",i=pr(n.footerFont),r.fillStyle=n.footerColor,r.font=i.string,l=0;l<s;++l)r.fillText(a[l],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:s,yAlign:i}=this,{x:l,y:c}=e,{width:u,height:d}=n,{topLeft:f,topRight:m,bottomLeft:h,bottomRight:y}=Wi(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+f,c),i==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+u-m,c),r.quadraticCurveTo(l+u,c,l+u,c+m),i==="center"&&s==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+u,c+d-y),r.quadraticCurveTo(l+u,c+d,l+u-y,c+d),i==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+h,c+d),r.quadraticCurveTo(l,c+d,l,c+d-h),i==="center"&&s==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const i=$d[e.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=V_(this,e),c=Object.assign({},i,this._size),u=U_(r,e,c),d=z_(e,c,u,r);(a._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=Ur(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,r),t6(e,r.textDirection),s.y+=i.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),r6(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!Lx(n,a),i=this._positionChanged(a,r);(s||i)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],i=this._getActiveElements(e,s,r,n),l=this._positionChanged(i,e),c=r||!Lx(i,s)||l;return c&&(this._active=i,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const s=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,r){const{caretX:n,caretY:a,options:s}=this,i=$d[s.position].call(this,e,r);return i!==!1&&(n!==i.x||a!==i.y)}},ye($C,"positioners",$d),$C);var hce={id:"tooltip",_element:G_,positioners:$d,afterInit(t,e,r){r&&(t.tooltip=new G_({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:k6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},pce=Object.freeze({__proto__:null,Colors:Ile,Decimation:Ele,Filler:Xle,Legend:nce,SubTitle:oce,Title:sce,Tooltip:hce});const gce=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function yce(t,e,r,n){const a=t.indexOf(e);if(a===-1)return gce(t,e,r,n);const s=t.lastIndexOf(e);return a!==s?r:a}const bce=(t,e)=>t===null?null:vr(Math.round(t),0,e);function Y_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class hA extends Dl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:s}of r)n[a]===s&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Ke(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:yce(n,e,Ve(r,e),this._addedLabels),bce(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=r;i++)a.push({value:i});return a}getLabelForValue(e){return Y_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ye(hA,"id","category"),ye(hA,"defaults",{ticks:{callback:Y_}});function xce(t,e){const r=[],{bounds:a,step:s,min:i,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:m}=t,h=s||1,y=d-1,{min:p,max:b}=e,g=!Ke(i),v=!Ke(l),j=!Ke(u),C=(b-p)/(f+1);let x=VO((b-p)/y/h)*h,N,S,A,I;if(x<1e-14&&!g&&!v)return[{value:p},{value:b}];I=Math.ceil(b/x)-Math.floor(p/x),I>y&&(x=VO(I*x/y/h)*h),Ke(c)||(N=Math.pow(10,c),x=Math.ceil(x*N)/N),a==="ticks"?(S=Math.floor(p/x)*x,A=Math.ceil(b/x)*x):(S=p,A=b),g&&v&&s&&dse((l-i)/s,x/1e3)?(I=Math.round(Math.min((l-i)/x,d)),x=(l-i)/I,S=i,A=l):j?(S=g?i:S,A=v?l:A,I=u-1,x=(A-S)/I):(I=(A-S)/x,rf(I,Math.round(I),x/1e3)?I=Math.round(I):I=Math.ceil(I));const T=Math.max(UO(x),UO(S));N=Math.pow(10,Ke(c)?T:c),S=Math.round(S*N)/N,A=Math.round(A*N)/N;let E=0;for(g&&(m&&S!==i?(r.push({value:i}),S<i&&E++,rf(Math.round((S+E*x)*N)/N,i,K_(i,C,t))&&E++):S<i&&E++);E<I;++E){const R=Math.round((S+E*x)*N)/N;if(v&&R>l)break;r.push({value:R})}return v&&m&&A!==l?r.length&&rf(r[r.length-1].value,l,K_(l,C,t))?r[r.length-1].value=l:r.push({value:l}):(!v||A===l)&&r.push({value:A}),r}function K_(t,e,{horizontal:r,minRotation:n}){const a=ha(n),s=(r?Math.sin(a):Math.cos(a))||.001,i=.75*e*(""+t).length;return Math.min(e/s,i)}class Wx extends Dl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Ke(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:s}=this;const i=c=>a=r?a:c,l=c=>s=n?s:c;if(e){const c=qa(a),u=qa(s);c<0&&u<0?l(0):c>0&&u>0&&i(0)}if(a===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||i(a-c)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,i=xce(a,s);return e.bounds==="ticks"&&Lq(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return lh(e,this.chart.options.locale,this.options.ticks.format)}}class pA extends Wx{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Xt(e)?e:0,this.max=Xt(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=ha(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ye(pA,"id","linear"),ye(pA,"defaults",{ticks:{callback:zv.formatters.numeric}});const am=t=>Math.floor(go(t)),pi=(t,e)=>Math.pow(10,am(t)+e);function J_(t){return t/Math.pow(10,am(t))===1}function X_(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function vce(t,e){const r=e-t;let n=am(r);for(;X_(t,e,n)>10;)n++;for(;X_(t,e,n)<10;)n--;return Math.min(n,am(t))}function jce(t,{min:e,max:r}){e=jn(t.min,e);const n=[],a=am(e);let s=vce(e,r),i=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,u=Math.round((e-c)*i)/i,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,s)),m=jn(t.min,Math.round((c+d+f*Math.pow(10,s))*i)/i);for(;m<r;)n.push({value:m,major:J_(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,i=s>=0?1:i),m=Math.round((c+d+f*Math.pow(10,s))*i)/i;const h=jn(t.max,m);return n.push({value:h,major:J_(h),significand:f}),n}class gA extends Dl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=Wx.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return Xt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Xt(e)?Math.max(0,e):null,this.max=Xt(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Xt(this._userMin)&&(this.min=e===pi(this.min,0)?pi(this.min,-1):pi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const s=l=>n=e?n:l,i=l=>a=r?a:l;n===a&&(n<=0?(s(1),i(10)):(s(pi(n,-1)),i(pi(a,1)))),n<=0&&s(pi(a,-1)),a<=0&&i(pi(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=jce(r,this);return e.bounds==="ticks"&&Lq(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":lh(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=go(e),this._valueRange=go(this.max)-go(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(go(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}ye(gA,"id","logarithmic"),ye(gA,"defaults",{ticks:{callback:zv.formatters.logarithmic,major:{enabled:!0}}});function yA(t){const e=t.ticks;if(e.display&&t.display){const r=Ur(e.backdropPadding);return Ve(e.font&&e.font.size,Bt.font.size)+r.height}return 0}function wce(t,e,r){return r=Lt(r)?r:[r],{w:kse(t,e.string,r),h:r.length*e.lineHeight}}function Q_(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function Nce(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],s=t._pointLabels.length,i=t.options.pointLabels,l=i.centerPointLabels?nt/s:0;for(let c=0;c<s;c++){const u=i.setContext(t.getPointLabelContext(c));a[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+a[c],l),f=pr(u.font),m=wce(t.ctx,f,t._pointLabels[c]);n[c]=m;const h=Lr(t.getIndexAngle(c)+l),y=Math.round(jP(h)),p=Q_(y,d.x,m.w,0,180),b=Q_(y,d.y,m.h,90,270);Cce(r,e,h,p,b)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=Ice(t,n,a)}function Cce(t,e,r,n,a){const s=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/i,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/i,t.b=Math.max(t.b,e.b+c))}function Sce(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:s,padding:i,size:l}=r,c=t.getPointPosition(e,n+a+i,s),u=Math.round(jP(Lr(c.angle+ar))),d=Pce(c.y,l.h,u),f=kce(u),m=Tce(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:m,top:d,right:m+l.w,bottom:d+l.h}}function Ace(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:s}=t;return!(ys({x:r,y:n},e)||ys({x:r,y:s},e)||ys({x:a,y:n},e)||ys({x:a,y:s},e))}function Ice(t,e,r){const n=[],a=t._pointLabels.length,s=t.options,{centerPointLabels:i,display:l}=s.pointLabels,c={extra:yA(s)/2,additionalAngle:i?nt/a:0};let u;for(let d=0;d<a;d++){c.padding=r[d],c.size=e[d];const f=Sce(t,d,c);n.push(f),l==="auto"&&(f.visible=Ace(f,u),f.visible&&(u=f))}return n}function kce(t){return t===0||t===180?"center":t<180?"left":"right"}function Tce(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function Pce(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function Ece(t,e,r){const{left:n,top:a,right:s,bottom:i}=r,{backdropColor:l}=e;if(!Ke(l)){const c=Wi(e.borderRadius),u=Ur(e.backdropPadding);t.fillStyle=l;const d=n-u.left,f=a-u.top,m=s-n+u.width,h=i-a+u.height;Object.values(c).some(y=>y!==0)?(t.beginPath(),rm(t,{x:d,y:f,w:m,h,radius:c}),t.fill()):t.fillRect(d,f,m,h)}}function Dce(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const s=t._pointLabelItems[a];if(!s.visible)continue;const i=n.setContext(t.getPointLabelContext(a));Ece(r,i,s);const l=pr(i.font),{x:c,y:u,textAlign:d}=s;bl(r,t._pointLabels[a],c,u+l.lineHeight/2,l,{color:i.color,textAlign:d,textBaseline:"middle"})}}function T6(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Rt);else{let s=t.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let i=1;i<n;i++)s=t.getPointPosition(i,e),a.lineTo(s.x,s.y)}}function Oce(t,e,r,n,a){const s=t.ctx,i=e.circular,{color:l,lineWidth:c}=e;!i&&!n||!l||!c||r<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),T6(t,r,i,n),s.closePath(),s.stroke(),s.restore())}function _ce(t,e,r){return ri(t,{label:r,index:e,type:"pointLabel"})}class Md extends Wx{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ur(yA(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Xt(e)&&!isNaN(e)?e:0,this.max=Xt(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/yA(this.options))}generateTickLabels(e){Wx.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=Ct(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Nce(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Rt/(this._pointLabels.length||1),n=this.options.startAngle||0;return Lr(e*r+ha(n))}getDistanceFromCenterForValue(e){if(Ke(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(Ke(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return _ce(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-ar+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),T6(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:s}=r,i=this._pointLabels.length;let l,c,u;if(r.pointLabels.display&&Dce(this,i),a.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(f),h=a.setContext(m),y=s.setContext(m);Oce(this,h,c,i,y)}}),n.display){for(e.save(),l=i-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=d;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let s,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(c)),d=pr(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,i=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=Ur(u.backdropPadding);e.fillRect(-i/2-f.left,-s-d.size/2-f.top,i+f.width,d.size+f.height)}bl(e,l.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}ye(Md,"id","radialLinear"),ye(Md,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:zv.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ye(Md,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ye(Md,"descriptors",{angleLines:{_fallback:"grid"}});const Jv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nn=Object.keys(Jv);function Z_(t,e){return t-e}function eR(t,e){if(Ke(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:s}=t._parseOpts;let i=e;return typeof n=="function"&&(i=n(i)),Xt(i)||(i=typeof n=="string"?r.parse(i,n):r.parse(i)),i===null?null:(a&&(i=a==="week"&&(Gc(s)||s===!0)?r.startOf(i,"isoWeek",s):r.startOf(i,a)),+i)}function tR(t,e,r,n){const a=nn.length;for(let s=nn.indexOf(t);s<a-1;++s){const i=Jv[nn[s]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((r-e)/(l*i.size))<=n)return nn[s]}return nn[a-1]}function Rce(t,e,r,n,a){for(let s=nn.length-1;s>=nn.indexOf(r);s--){const i=nn[s];if(Jv[i].common&&t._adapter.diff(a,n,i)>=e-1)return i}return nn[r?nn.indexOf(r):0]}function $ce(t){for(let e=nn.indexOf(t)+1,r=nn.length;e<r;++e)if(Jv[nn[e]].common)return nn[e]}function rR(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=wP(r,e),s=r[n]>=e?r[n]:r[a];t[s]=!0}}function Mce(t,e,r,n){const a=t._adapter,s=+a.startOf(e[0].value,n),i=e[e.length-1].value;let l,c;for(l=s;l<=i;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function nR(t,e,r){const n=[],a={},s=e.length;let i,l;for(i=0;i<s;++i)l=e[i],a[l]=i,n.push({value:l,major:!1});return s===0||!r?n:Mce(t,n,a,r)}class sm extends Dl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new Woe._date(e.adapters.date);a.init(r),tf(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:eR(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:s,minDefined:i,maxDefined:l}=this.getUserBounds();function c(u){!i&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!i||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Xt(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),s=Xt(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,i=this.max,l=pse(a,s,i);return this._unit=r.unit||(n.autoSkip?tR(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):Rce(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:$ce(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),nR(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,s;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;r=vr(r,0,i),n=vr(n,0,i),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,s=a.time,i=s.unit||tR(s.minUnit,r,n,this._getLabelCapacity(r)),l=Ve(a.ticks.stepSize,1),c=i==="week"?s.isoWeekday:!1,u=Gc(c)||c===!0,d={};let f=r,m,h;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":i),e.diff(n,r,i)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+i);const y=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,h=0;m<n;m=+e.add(m,l,i),h++)rR(d,m,y);return(m===n||a.bounds==="ticks"||h===1)&&rR(d,m,y),Object.keys(d).sort(Z_).map(p=>+p)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,s=this._unit,i=r||a[s];return this._adapter.format(e,i)}_tickFormatFunction(e,r,n,a){const s=this.options,i=s.ticks.callback;if(i)return Ct(i,[e,r,n],this);const l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],m=n[r],h=u&&f&&m&&m.major;return this._adapter.format(e,a||(h?f:d))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=ha(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(a),i=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*i,h:n*i+l*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,nR(this,[e],this._majorUnit),a),i=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(eR(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qq(e.sort(Z_))}}ye(sm,"id","time"),ye(sm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function cp(t,e,r){let n=0,a=t.length-1,s,i,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=gs(t,"pos",e)),{pos:s,time:l}=t[n],{pos:i,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=gs(t,"time",e)),{time:s,pos:l}=t[n],{time:i,pos:c}=t[a]);const u=i-s;return u?l+(c-l)*(e-s)/u:l}class bA extends sm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=cp(r,this.min),this._tableRange=cp(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],s=[];let i,l,c,u,d;for(i=0,l=e.length;i<l;++i)u=e[i],u>=r&&u<=n&&a.push(u);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(i=0,l=a.length;i<l;++i)d=a[i+1],c=a[i-1],u=a[i],Math.round((d+c)/2)!==u&&s.push({time:u,pos:i/(l-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(cp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return cp(this._table,n*this._tableRange+this._minPos,!0)}}ye(bA,"id","timeseries"),ye(bA,"defaults",sm.defaults);var Lce=Object.freeze({__proto__:null,CategoryScale:hA,LinearScale:pA,LogarithmicScale:gA,RadialLinearScale:Md,TimeScale:sm,TimeSeriesScale:bA});const Fce=[zoe,vle,pce,Lce];so.register(...Fce);const Bce=[{name:"Settings",icon:o.jsx(y3,{className:"h-6 w-6"}),path:"/settings/departments"},{name:"Disbursement",icon:o.jsx(wJ,{className:"h-6 w-6"}),path:"/disbursement/obligation-requests"},{name:"Collections",icon:o.jsx(VJ,{className:"h-6 w-6"}),path:"/collections/community-tax"},{name:"Budget",icon:o.jsx(BD,{className:"h-6 w-6"}),path:"/budget/details"},{name:"Applications",icon:o.jsx(BD,{className:"h-6 w-6"}),path:"/applications/business-permits"},{name:"Reports",icon:o.jsx(qS,{className:"h-6 w-6"}),path:"/reports/general-ledger"},{name:"BIR Reports",icon:o.jsx(Ox,{className:"h-6 w-6"}),path:"/reports/bir"}];function qce(){const{user:t}=H(n=>n.auth),[e,r]=w.useState(!0);return w.useEffect(()=>{const n=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(n)},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Welcome back"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Bce.map(n=>o.jsxs(xc,{to:n.path,className:"bg-white hover:bg-blue-50 border border-gray-200 rounded-xl shadow-md p-5 flex items-center gap-4 transition-transform transform hover:scale-105",children:[o.jsx("div",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:n.icon}),o.jsx("span",{className:"text-lg font-medium text-gray-800",children:n.name})]},n.name))})]})}function Vce(){return o.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-white py-8 px-4 shadow-md sm:rounded-lg sm:px-10 text-center",children:[o.jsx("div",{className:"text-6xl font-bold text-primary-600 mb-4",children:"404"}),o.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Page Not Found"}),o.jsx("p",{className:"text-neutral-600 mb-6",children:"The page you are looking for doesn't exist or has been moved."}),o.jsx(xc,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Return to Dashboard"})]})})})}function Ol(t){this._maxSize=t,this.clear()}Ol.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Ol.prototype.get=function(t){return this._values[t]};Ol.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Uce=/[^.^\]^[]+|(?=\[\]|\.\.)/g,P6=/^\d+$/,zce=/^\d/,Wce=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Hce=/^\s*(['"]?)(.*?)(\1)\s*$/,OP=512,aR=new Ol(OP),sR=new Ol(OP),oR=new Ol(OP),Gi={Cache:Ol,split:xA,normalizePath:l1,setter:function(t){var e=l1(t);return sR.get(t)||sR.set(t,function(n,a){for(var s=0,i=e.length,l=n;s<i-1;){var c=e[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[e[s++]]}l[e[s]]=a})},getter:function(t,e){var r=l1(t);return oR.get(t)||oR.set(t,function(a){for(var s=0,i=r.length;s<i;)if(a!=null||!e)a=a[r[s++]];else return;return a})},join:function(t){return t.reduce(function(e,r){return e+(_P(r)||P6.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){Gce(Array.isArray(t)?t:xA(t),e,r)}};function l1(t){return aR.get(t)||aR.set(t,xA(t).map(function(e){return e.replace(Hce,"$2")}))}function xA(t){return t.match(Uce)||[""]}function Gce(t,e,r){var n=t.length,a,s,i,l;for(s=0;s<n;s++)a=t[s],a&&(Jce(a)&&(a='"'+a+'"'),l=_P(a),i=!l&&/^\d+$/.test(a),e.call(r,a,l,i,s,t))}function _P(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Yce(t){return t.match(zce)&&!t.match(P6)}function Kce(t){return Wce.test(t)}function Jce(t){return!_P(t)&&(Yce(t)||Kce(t))}const Xce=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Xv=t=>t.match(Xce)||[],Qv=t=>t[0].toUpperCase()+t.slice(1),RP=(t,e)=>Xv(t).join(e).toLowerCase(),E6=t=>Xv(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),Qce=t=>Qv(E6(t)),Zce=t=>RP(t,"_"),eue=t=>RP(t,"-"),tue=t=>Qv(RP(t," ")),rue=t=>Xv(t).map(Qv).join(" ");var c1={words:Xv,upperFirst:Qv,camelCase:E6,pascalCase:Qce,snakeCase:Zce,kebabCase:eue,sentenceCase:tue,titleCase:rue},$P={exports:{}};$P.exports=function(t){return D6(nue(t),t)};$P.exports.array=D6;function D6(t,e){var r=t.length,n=new Array(r),a={},s=r,i=aue(e),l=sue(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(t[s],s,new Set);return n;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!a[d]){a[d]=!0;var h=i.get(u)||new Set;if(h=Array.from(h),d=h.length){f.add(u);do{var y=h[--d];c(y,l.get(y),f)}while(d);f.delete(u)}n[--r]=u}}}function nue(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var a=t[r];e.add(a[0]),e.add(a[1])}return Array.from(e)}function aue(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var a=t[r];e.has(a[0])||e.set(a[0],new Set),e.has(a[1])||e.set(a[1],new Set),e.get(a[0]).add(a[1])}return e}function sue(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var oue=$P.exports;const iue=it(oue),lue=Object.prototype.toString,cue=Error.prototype.toString,uue=RegExp.prototype.toString,due=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",fue=/^Symbol\((.*)\)(.*)$/;function mue(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function iR(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return mue(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return due.call(t).replace(fue,"Symbol($1)");const n=lue.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+cue.call(t)+"]":n==="RegExp"?uue.call(t):null}function Cs(t,e){let r=iR(t,e);return r!==null?r:JSON.stringify(t,function(n,a){let s=iR(this[n],e);return s!==null?s:a},2)}function O6(t){return t==null?[]:[].concat(t)}let _6,R6,$6,hue=/\$\{\s*(\w+)\s*\}/g;_6=Symbol.toStringTag;class lR{constructor(e,r,n,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[_6]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],O6(e).forEach(s=>{if(Wr.isError(s)){this.errors.push(...s.errors);const i=s.inner.length?s.inner:[s];this.inner.push(...i)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}R6=Symbol.hasInstance;$6=Symbol.toStringTag;class Wr extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(hue,(a,s)=>Cs(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,a,s){const i=new lR(e,r,n,a);if(s)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[$6]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Wr)}static[R6](e){return lR[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Da={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const a=n!=null&&n!==r?` (cast from the value \`${Cs(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Cs(r,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${Cs(r,!0)}\``+a}},tn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},to={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},vA={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},jA={isValue:"${path} field must be ${value}"},lg={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},cg={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},pue={notType:t=>{const{path:e,value:r,spec:n}=t,a=n.types.length;if(Array.isArray(r)){if(r.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${r.length} for value: \`${Cs(r,!0)}\``;if(r.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${r.length} for value: \`${Cs(r,!0)}\``}return Wr.formatError(Da.notType,t)}};Object.assign(Object.create(null),{mixed:Da,string:tn,number:to,date:vA,object:lg,array:cg,boolean:jA,tuple:pue});const Zv=t=>t&&t.__isYupSchema__;class Hx{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,i=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new Hx(e,(l,c)=>{var u;let d=i(...l)?a:s;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn(n,e,r);if(a===void 0||a===e)return e;if(!Zv(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}const up={context:"$",value:"."};function xl(t,e){return new ni(t,e)}class ni{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===up.context,this.isValue=this.key[0]===up.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?up.context:this.isValue?up.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Gi.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let a=this.isContext?n:this.isValue?e:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ni.prototype.__isYupRef=!0;const pa=t=>t==null;function zl(t){function e({value:r,path:n="",options:a,originalValue:s,schema:i},l,c){const{name:u,test:d,params:f,message:m,skipAbsent:h}=t;let{parent:y,context:p,abortEarly:b=i.spec.abortEarly,disableStackTrace:g=i.spec.disableStackTrace}=a;const v={value:r,parent:y,context:p};function j(E={}){const R=M6(Object.assign({value:r,originalValue:s,label:i.spec.label,path:E.path||n,spec:i.spec,disableStackTrace:E.disableStackTrace||g},f,E.params),v),M=new Wr(Wr.formatError(E.message||m,R),r,R.path,E.type||u,R.disableStackTrace);return M.params=R,M}const C=b?l:c;let x={path:n,parent:y,type:u,from:a.from,createError:j,resolve(E){return L6(E,v)},options:a,originalValue:s,schema:i};const N=E=>{Wr.isError(E)?C(E):E?c(null):C(j())},S=E=>{Wr.isError(E)?C(E):l(E)};if(h&&pa(r))return N(!0);let I;try{var T;if(I=d.call(x,r,x),typeof((T=I)==null?void 0:T.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${x.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(I).then(N,S)}}catch(E){S(E);return}N(I)}return e.OPTIONS=t,e}function M6(t,e){if(!t)return t;for(const r of Object.keys(t))t[r]=L6(t[r],e);return t}function L6(t,e){return ni.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function gue(t,e,r,n=r){let a,s,i;return e?(Gi.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:a,value:r});let f=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);a=r,r=r&&r[m],t=f?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${i} which is a type: "${t.type}")`);a=r,r=r&&r[d],t=t.fields[d]}s=d,i=c?"["+l+"]":"."+l}),{schema:t,parent:a,parentPath:s}):{parent:a,parentPath:e,schema:t}}class Gx extends Set{describe(){const e=[];for(const r of this.values())e.push(ni.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Gx(this.values())}merge(e,r){const n=this.clone();return e.forEach(a=>n.add(a)),r.forEach(a=>n.delete(a)),n}}function lc(t,e=new Map){if(Zv(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=lc(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,a]of t.entries())r.set(n,lc(a,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(lc(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,a]of Object.entries(t))r[n]=lc(a,e)}else throw Error(`Unable to clone ${t}`);return r}function yue(t){if(!(t!=null&&t.length))return;const e=[];let r="",n=!1,a=!1;for(let s=0;s<t.length;s++){const i=t[s];if(i==="["&&!a){r&&(e.push(...r.split(".").filter(Boolean)),r=""),n=!0;continue}if(i==="]"&&!a){r&&(/^\d+$/.test(r)?e.push(r):e.push(r.replace(/^"|"$/g,"")),r=""),n=!1;continue}if(i==='"'){a=!a;continue}if(i==="."&&!n&&!a){r&&(e.push(r),r="");continue}r+=i}return r&&e.push(...r.split(".").filter(Boolean)),e}function bue(t,e){const r=e?`${e}.${t.path}`:t.path;return t.errors.map(n=>({message:n,path:yue(r)}))}function F6(t,e){var r;if(!((r=t.inner)!=null&&r.length)&&t.errors.length)return bue(t,e);const n=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(a=>F6(a,n))}class Rn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Gx,this._blacklist=new Gx,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Da.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=lc(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const a=Object.assign({},r.spec,n.spec);return n.spec=a,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(i=>{s.test(i.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,a,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),a=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(a&&pa(s))return s;let i=Cs(e),l=Cs(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(l!==i?`result of cast: ${l}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((a,s)=>s.call(this,a,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,a){let{path:s,originalValue:i=e,strict:l=this.spec.strict}=r,c=e;l||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:c,originalValue:i,options:r,tests:u},n,d=>{if(d.length)return a(d,c);this.runTests({path:s,value:c,originalValue:i,options:r,tests:this.tests},n,a)})}runTests(e,r,n){let a=!1,{tests:s,value:i,originalValue:l,path:c,options:u}=e,d=p=>{a||(a=!0,r(p,i))},f=p=>{a||(a=!0,n(p,i))},m=s.length,h=[];if(!m)return f([]);let y={value:i,originalValue:l,path:c,options:u,schema:this};for(let p=0;p<s.length;p++){const b=s[p];b(y,d,function(v){v&&(Array.isArray(v)?h.push(...v):h.push(v)),--m<=0&&f(h)})}}asNestedTest({key:e,index:r,parent:n,parentPath:a,originalParent:s,options:i}){const l=e??r;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=n[l];const d=Object.assign({},i,{strict:!0,parent:n,value:u,originalValue:s[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${a||""}[${c?l:`"${l}"`}]`:(a?`${a}.`:"")+e});return(f,m,h)=>this.resolve(d)._validate(u,d,m,h)}validate(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return new Promise((i,l)=>a._validate(e,r,(c,u)=>{Wr.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Wr(c,u,void 0,void 0,s)):i(u)}))}validateSync(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s,i=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return a._validate(e,Object.assign({},r,{sync:!0}),(l,c)=>{throw Wr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Wr(l,e,void 0,void 0,i);s=c}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Wr.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Wr.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):lc(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=zl({message:r,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=zl({message:r,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Da.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Da.notNull){return this.nullability(!1,e)}required(e=Da.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Da.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=zl(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===r.name&&(s||i.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),a=O6(e).map(s=>new ni(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new Hx(a,r):Hx.fromOptions(a,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=zl({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Da.oneOf){let n=this.clone();return e.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n.internalTests.whiteList=zl({message:r,name:"oneOf",skipAbsent:!0,test(a){let s=this.schema._whitelist,i=s.resolveAll(this.resolve);return i.includes(a)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:i}})}}),n}notOneOf(e,r=Da.notOneOf){let n=this.clone();return e.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n.internalTests.blacklist=zl({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,i=s.resolveAll(this.resolve);return i.includes(a)?this.createError({params:{values:Array.from(s).join(", "),resolved:i}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:a,optional:s,nullable:i}=r.spec;return{meta:a,label:n,optional:s,nullable:i,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.filter((c,u,d)=>d.findIndex(f=>f.OPTIONS.name===c.OPTIONS.name)===u).map(c=>{const u=c.OPTIONS.params&&e?M6(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:u}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await e.validate(n,{abortEarly:!1})}}catch(a){if(a instanceof Wr)return{issues:F6(a)};throw a}}}}}Rn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Rn.prototype[`${t}At`]=function(e,r,n={}){const{parent:a,parentPath:s,schema:i}=gue(this,e,r,n.context);return i[t](a&&a[s],Object.assign({},n,{parent:a,path:e}))};for(const t of["equals","is"])Rn.prototype[t]=Rn.prototype.oneOf;for(const t of["not","nope"])Rn.prototype[t]=Rn.prototype.notOneOf;function Rs(){return new B6}class B6 extends Rn{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=jA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return pa(r)||r===!0}})}isFalse(e=jA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return pa(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Rs.prototype=B6.prototype;const xue=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function vue(t){const e=wA(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function wA(t){var e,r;const n=xue.exec(t);return n?{year:rs(n[1]),month:rs(n[2],1)-1,day:rs(n[3],1),hour:rs(n[4]),minute:rs(n[5]),second:rs(n[6]),millisecond:n[7]?rs(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:rs(n[10]),minuteOffset:rs(n[11])}:null}function rs(t,e=0){return Number(t)||e}let jue=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,wue=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Nue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Cue="^\\d{4}-\\d{2}-\\d{2}",Sue="\\d{2}:\\d{2}:\\d{2}",Aue="(([+-]\\d{2}(:?\\d{2})?)|Z)",Iue=new RegExp(`${Cue}T${Sue}(\\.\\d+)?${Aue}$`),kue=t=>pa(t)||t===t.trim(),Tue={}.toString();function D(){return new q6}class q6 extends Rn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===Tue?e:a})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Da.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=tn.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=tn.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=tn.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||tn.matches,params:{regex:e},skipAbsent:!0,test:i=>i===""&&n||i.search(e)!==-1})}email(e=tn.email){return this.matches(jue,{name:"email",message:e,excludeEmptyString:!0})}url(e=tn.url){return this.matches(wue,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=tn.uuid){return this.matches(Nue,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,a;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:a=void 0}=e:r=e),this.matches(Iue,{name:"datetime",message:r||tn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||tn.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const i=wA(s);return i?!!i.z:!1}}).test({name:"datetime_precision",message:r||tn.datetime_precision,params:{precision:a},skipAbsent:!0,test:s=>{if(!s||a==null)return!0;const i=wA(s);return i?i.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=tn.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:kue})}lowercase(e=tn.lowercase){return this.transform(r=>pa(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>pa(r)||r===r.toLowerCase()})}uppercase(e=tn.uppercase){return this.transform(r=>pa(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>pa(r)||r===r.toUpperCase()})}}D.prototype=q6.prototype;let Pue=t=>t!=+t;function X(){return new V6}class V6 extends Rn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Pue(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return n.isType(a)||a===null?a:parseFloat(a)})})}min(e,r=to.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=to.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=to.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=to.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=to.positive){return this.moreThan(0,e)}negative(e=to.negative){return this.lessThan(0,e)}integer(e=to.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>pa(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(a=>pa(a)?a:Math[e](a))}}X.prototype=V6.prototype;let U6=new Date(""),Eue=t=>Object.prototype.toString.call(t)==="[object Date]";function Ue(){return new ch}class ch extends Rn{constructor(){super({type:"date",check(e){return Eue(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=vue(e),isNaN(e)?ch.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(ni.isRef(e))n=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(e,r=vA.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(n)}})}max(e,r=vA.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(n)}})}}ch.INVALID_DATE=U6;Ue.prototype=ch.prototype;Ue.INVALID_DATE=U6;function Due(t,e=[]){let r=[],n=new Set,a=new Set(e.map(([i,l])=>`${i}-${l}`));function s(i,l){let c=Gi.split(i)[0];n.add(c),a.has(`${l}-${c}`)||r.push([l,c])}for(const i of Object.keys(t)){let l=t[i];n.add(i),ni.isRef(l)&&l.isSibling?s(l.path,i):Zv(l)&&"deps"in l&&l.deps.forEach(c=>s(c,i))}return iue.array(Array.from(n),r).reverse()}function cR(t,e){let r=1/0;return t.some((n,a)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=a,!0}),r}function z6(t){return(e,r)=>cR(t,e)-cR(t,r)}const W6=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function ug(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=ug(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=ug(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(ug)}):"optional"in t?t.optional():t}const Oue=(t,e)=>{const r=[...Gi.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),a=Gi.getter(Gi.join(r),!0)(t);return!!(a&&n in a)};let uR=t=>Object.prototype.toString.call(t)==="[object Object]";function dR(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const _ue=z6([]);function ce(t){return new H6(t)}class H6 extends Rn{constructor(e){super({type:"object",check(r){return uR(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=_ue,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let a=super._cast(e,r);if(a===void 0)return this.getDefault(r);if(!this._typeCheck(a))return a;let s=this.fields,i=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(a).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const f of l){let m=s[f],h=f in a;if(m){let y,p=a[f];u.path=(r.path?`${r.path}.`:"")+f,m=m.resolve({value:p,context:r.context,parent:c});let b=m instanceof Rn?m.spec:void 0,g=b==null?void 0:b.strict;if(b!=null&&b.strip){d=d||f in a;continue}y=!r.__validating||!g?m.cast(a[f],u):a[f],y!==void 0&&(c[f]=y)}else h&&!i&&(c[f]=a[f]);(h!==f in c||c[f]!==a[f])&&(d=!0)}return d?c:a}_validate(e,r={},n,a){let{from:s=[],originalValue:i=e,recursive:l=this.spec.recursive}=r;r.from=[{schema:this,value:i},...s],r.__validating=!0,r.originalValue=i,super._validate(e,r,n,(c,u)=>{if(!l||!uR(u)){a(c,u);return}i=i||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||ni.isRef(m)||d.push(m.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:i}))}this.runTests({tests:d,value:u,originalValue:i,options:r},n,f=>{a(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const i=n[a];n[a]=i===void 0?s:i}return r.withMutation(a=>a.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var a;const s=this.fields[n];let i=e;(a=i)!=null&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(i):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=Due(e,r),n._sortErrors=z6(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let a=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),a=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),a)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return ug(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,a])=>e.includes(n)&&e.includes(a)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let a=Gi.getter(e,!0);return this.transform(s=>{if(!s)return s;let i=s;return Oue(s,e)&&(i=Object.assign({},s),n||delete i[e],i[r]=a(s)),i})}json(){return this.transform(W6)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||lg.exact,test(r){if(r==null)return!0;const n=dR(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=lg.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=dR(this.schema,a);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=lg.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const a of Object.keys(r))n[e(a)]=r[a];return n})}camelCase(){return this.transformKeys(c1.camelCase)}snakeCase(){return this.transformKeys(c1.snakeCase)}constantCase(){return this.transformKeys(e=>c1.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,i]of Object.entries(r.fields)){var a;let l=e;(a=l)!=null&&a.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),n.fields[s]=i.describe(l)}return n}}ce.prototype=H6.prototype;function zt(t){return new G6(t)}class G6 extends Rn{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let a=!1;const s=n.map((i,l)=>{const c=this.innerType.cast(i,Object.assign({},r,{path:`${r.path||""}[${l}]`}));return c!==i&&(a=!0),c});return a?s:n}_validate(e,r={},n,a){var s;let i=this.innerType,l=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!l||!i||!this._typeCheck(u)){a(c,u);return}let f=new Array(u.length);for(let h=0;h<u.length;h++){var m;f[h]=i.asNestedTest({options:r,index:h,parent:u,parentPath:r.path,originalParent:(m=r.originalValue)!=null?m:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,h=>a(h.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(W6)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!Zv(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Cs(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=cg.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||cg.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||cg.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,a,s)=>!e(n,a,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var a;let s=e;(a=s)!=null&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}zt.prototype=G6.prototype;function Rue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const $ue=w.forwardRef(Rue);function Mue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Lue=w.forwardRef(Mue);function Fue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const Bue=w.forwardRef(Fue);function que({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const Vue=w.forwardRef(que);function Uue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),w.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const zue=w.forwardRef(Uue);function Wue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const Hue=w.forwardRef(Wue);function Gue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Yue=w.forwardRef(Gue);function Kue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Jue=w.forwardRef(Kue);function Xue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Que=w.forwardRef(Xue);function xe({columns:t,data:e=[],pagination:r=!0,search:n=!0,actions:a=[],loading:s=!1,onRowClick:i=null,selectedRow:l=null,emptyMessage:c="No data available"}){const[u,d]=w.useState(1),[f,m]=w.useState(10),[h,y]=w.useState(""),[p,b]=w.useState({key:null,direction:"asc"}),g=Array.isArray(e)?e:[],j=[...g.filter(T=>Object.values(T).some(E=>E!=null&&E.toString().toLowerCase().includes(h.toLowerCase())))].sort((T,E)=>{if(!p.key)return 0;const R=T[p.key],M=E[p.key];return R==null?1:M==null?-1:typeof R=="string"&&typeof M=="string"?p.direction==="asc"?R.localeCompare(M):M.localeCompare(R):p.direction==="asc"?R-M:M-R}),C=Math.ceil(j.length/f),x=j.slice((u-1)*f,u*f),N=T=>{let E="asc";p.key===T&&p.direction==="asc"&&(E="desc"),b({key:T,direction:E})},S=T=>{d(T)},A=T=>{m(Number(T.target.value)),d(1)},I=T=>{y(T.target.value),d(1)};return s?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"Loading..."}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Please wait while we fetch the data."})]})}):g.length===0?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"No data available"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:c})]})}):o.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200 overflow-hidden",children:[n&&o.jsx("div",{className:"px-4 py-3 border-b border-neutral-200 bg-neutral-50",children:o.jsxs("div",{className:"relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Hue,{className:"h-5 w-5 text-neutral-400","aria-hidden":"true"})}),o.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2 sm:text-sm border-neutral-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",value:h,onChange:I})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[o.jsx("thead",{className:"bg-neutral-50",children:o.jsxs("tr",{children:[t.map(T=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",onClick:()=>T.sortable!==!1&&N(T.key),children:o.jsxs("div",{className:"flex items-center gap-1",children:[" ",o.jsx("span",{children:T.header}),T.sortable!==!1&&o.jsxs("span",{className:"flex flex-col shrink-0",children:[" ",o.jsx(Bue,{className:`h-3 w-3 ${p.key===T.key&&p.direction==="asc"?"text-primary-600":"text-neutral-400"}`}),o.jsx(Lue,{className:`h-3 w-3 -mt-1 ${p.key===T.key&&p.direction==="desc"?"text-primary-600":"text-neutral-400"}`})]})]})},T.key)),a.length>0&&o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",children:o.jsx("span",{children:"Actions"})})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:x.map((T,E)=>o.jsxs("tr",{className:`${i?"hover:bg-neutral-50 cursor-pointer":""} ${l&&(l==null?void 0:l.ID)===T.ID?"bg-blue-100":""}`,onClick:i?()=>i(T):void 0,children:[t.map(R=>o.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${R.className||"text-neutral-500"}`,children:R.render?R.render(T[R.key],T):T[R.key]},`${T.id||E}-${R.key}`)),typeof a=="function"?(()=>{const R=a(T);return(R==null?void 0:R.length)>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:R.map((M,L)=>o.jsx("button",{onClick:P=>{P.stopPropagation(),M.onClick(T)},className:M.className||"text-primary-600 hover:text-primary-900",title:M.title,children:M.icon?o.jsx(M.icon,{className:"h-5 w-5","aria-hidden":"true"}):M.label},L))})})():a.length>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a.map((R,M)=>o.jsx("button",{onClick:L=>{L.stopPropagation(),R.onClick(T)},className:(R==null?void 0:R.className)||"text-primary-600 hover:text-primary-900",title:R==null?void 0:R.title,children:R!=null&&R.icon?o.jsx(R.icon,{className:"h-5 w-5","aria-hidden":"true"}):R==null?void 0:R.label},M))})]},T.id||E))})]})}),r&&C>0&&o.jsxs("div",{className:"px-2 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-neutral-200 bg-neutral-50 sm:px-6",children:[o.jsxs("div",{className:"text-sm text-neutral-700 text-center sm:text-left",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:Math.min((u-1)*f+1,j.length)})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(u*f,j.length)})," ","of ",o.jsx("span",{className:"font-medium",children:j.length})," results"]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between sm:justify-end sm:gap-4 gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{htmlFor:"rows-per-page",className:"text-sm text-neutral-700 whitespace-nowrap",children:"Rows per page"}),o.jsx("select",{id:"rows-per-page",name:"rows-per-page",className:"block w-auto pl-3 pr-8 py-1 text-sm border border-neutral-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",value:f,onChange:A,children:[5,10,25,50].map(T=>o.jsx("option",{value:T,children:T},T))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>S(u-1),disabled:u===1,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Zue,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>S(u+1),disabled:u===C,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(ede,{className:"h-5 w-5"})})]})]})]})]})}function Zue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}function ede(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}function le({isOpen:t,onClose:e,title:r,size:n="md",children:a,footer:s=null}){const i={sm:"sm:max-w-lg",md:"sm:max-w-xl",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl",xxxl:"sm:max-w-7xl",full:"sm:max-w-full sm:h-screen"};return o.jsx(Qp.Root,{show:t,as:w.Fragment,children:o.jsx(LN,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:e,children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-2",children:[o.jsx(Qp.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx(LN.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),o.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:""}),o.jsx(Qp.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:o.jsxs("div",{className:`inline-block w-full align-bottom sm:align-middle bg-white rounded-lg text-left  shadow-xl transform transition-all sm:my-8 ${i[n]}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[o.jsx(LN.Title,{as:"h3",className:"text-lg font-medium text-neutral-900",children:r}),o.jsxs("button",{type:"button",className:"rounded-md text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:e,children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(x3,{className:"h-6 w-6","aria-hidden":"true"})]})]}),o.jsx("div",{className:"p-3 sm:px-6 sm:py-4",children:a}),s&&o.jsx("div",{className:"px-6 py-3 bg-neutral-50 border-t border-neutral-200",children:s})]})})]})})})}const ej="https://staging-engine.testthelink.online",tde=[],rde={departments:tde,department:null,isLoading:!1,error:null},cr=U("departments/fetchDepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ej}/department`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),dg=U("departments/addDepartment",async(t,e)=>{try{const r=await fetch(`${ej}/department`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fg=U("departments/updateDepartment",async(t,e)=>{try{const r=await fetch(`${ej}/department/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),mg=U("department/deleteDepartment",async(t,e)=>{try{const r=await fetch(`${ej}/department/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Y6=we({name:"departments",initialState:rde,reducers:{setDepartment:(t,e)=>{t.department=e.payload},resetDepartmentState:t=>{t.department=null,t.error=null}},extraReducers:t=>{t.addCase(cr.pending,e=>{e.isLoading=!0}).addCase(cr.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=r.payload,e.error=null}).addCase(cr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dg.pending,e=>{e.isLoading=!0}).addCase(dg.fulfilled,(e,r)=>{e.isLoading=!1,e.departments.push(r.payload),e.error=null}).addCase(dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fg.pending,e=>{e.isLoading=!0}).addCase(fg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.departments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.departments[n]=r.payload),e.error=null}).addCase(fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mg.pending,e=>{e.isLoading=!0}).addCase(mg.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=e.departments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setDepartment:Y8e,resetDepartmentState:K8e}=Y6.actions,nde=Y6.reducer;function Ce(t){const{selectedRole:e}=H(n=>n.auth);return w.useMemo(()=>!e||e.Description==="Administration"?{View:!0,Add:!0,Edit:!0,Delete:!0,Print:!0,Mayor:!0}:e.ModuleAccesses?e.ModuleAccesses.find(a=>a.ModuleID===t)||{}:{},[e,t])}function ade(){const t=de(),{departments:e,isLoading:r,error:n}=H(S=>S.departments),{Add:a,Edit:s,Delete:i}=Ce(39),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(cr())},[t]);const p=ce().shape({Code:D().required("Department code is required").max(10,"Department code must be at most 10 characters").test("unique-code","Department code already exists",function(S){return S?!e.some(I=>I.Code.trim().toLowerCase()===S.trim().toLowerCase()&&(!u||I.ID!==u.ID)):!0}),Name:D().required("Department name is required").max(100,"Department name must be at most 100 characters").test("unique-name","Department name already exists",function(S){return S?!e.some(I=>I.Name.trim().toLowerCase()===S.trim().toLowerCase()&&(!u||I.ID!==u.ID)):!0})}),b=()=>{d(null),c(!0)},g=S=>{d(S),c(!0)},v=S=>{y(S),m(!0)},j=()=>{h&&(t(mg(h.ID)),m(!1),y(null))},C=(S,{resetForm:A})=>{t(u?fg({...S,ID:u.ID}):dg(S)),c(!1),A()},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Department Name",sortable:!0}],N=S=>{const A=[];return s&&A.push({icon:Pe,title:"Edit",onClick:()=>g(S),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),i&&S.ID>4&&A.push({icon:Be,title:"Delete",onClick:()=>v(S),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),A};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Departments"}),o.jsx("p",{children:"Manage LGU departments and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Department"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:x,data:e,actions:N,loading:r})}),o.jsx(le,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Department":"Add Department",children:o.jsx(qe,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:p,onSubmit:C,children:({values:S,errors:A,touched:I,handleChange:T,handleBlur:E,isSubmitting:R})=>o.jsxs(We,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Department Code",name:"Code",type:"text",required:!0,placeholder:"Enter department code",value:S.Code,onChange:T,onBlur:E,error:A.Code,touched:I.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Department Name",name:"Name",type:"text",required:!0,placeholder:"Enter department name",value:S.Name,onChange:T,onBlur:E,error:A.Name,touched:I.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:R,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(le,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the department"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.departmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}const tj="https://staging-engine.testthelink.online",sde=[],ode={currencies:sde,currency:null,isLoading:!1,error:null},hg=U("currencies/fetchCurrencies",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tj}/currency`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),pg=U("currencies/addCurrency",async(t,e)=>{try{const r=await fetch(`${tj}/currency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),gg=U("currencies/updateCurrency",async(t,e)=>{try{const r=await fetch(`${tj}/currency/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),yg=U("currency/deleteCurrency",async(t,e)=>{try{const r=await fetch(`${tj}/currency/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),K6=we({name:"currencies",initialState:ode,reducers:{setCurrency:(t,e)=>{t.currency=e.payload},resetCurrencyState:t=>{t.currency=null,t.error=null}},extraReducers:t=>{t.addCase(hg.pending,e=>{e.isLoading=!0}).addCase(hg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=r.payload,e.error=null}).addCase(hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pg.pending,e=>{e.isLoading=!0}).addCase(pg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies.push(r.payload),e.error=null}).addCase(pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gg.pending,e=>{e.isLoading=!0}).addCase(gg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.currencies.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.currencies[n]=r.payload),e.error=null}).addCase(gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yg.pending,e=>{e.isLoading=!0}).addCase(yg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=e.currencies.filter(n=>n.ID!==r.payload),e.error=null}).addCase(yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setCurrency:J8e,resetCurrencyState:X8e}=K6.actions,ide=K6.reducer,lde=(t=[],e=null)=>ce().shape({Code:D().required("Code is required").max(3,"Code must be exactly 3 characters").min(3,"Code must be exactly 3 characters").matches(/^[A-Z]{3}$/,"Code must be 3 uppercase letters (ISO 4217)").test("unique-code","Code already exists",function(r){if(!r)return!0;const n=r.trim().toUpperCase();return!t.some(s=>s.Code.trim().toUpperCase()===n&&(!e||s.ID!==e.ID))}),Name:D().required("Name is required").max(100,"Name must be at most 100 characters").test("unique-name","Name already exists",function(r){if(!r)return!0;const n=r.trim().toLowerCase();return!t.some(s=>s.Name.trim().toLowerCase()===n&&(!e||s.ID!==e.ID))})});function cde(){const t=de(),{currencies:e,isLoading:r,error:n}=H(N=>N.currencies),{Add:a,Edit:s,Delete:i}=Ce(37),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(hg())},[t]);const p=()=>{d(null),c(!0)},b=N=>{d(N),c(!0)},g=N=>{y(N),m(!0)},v=async()=>{try{h&&(t(yg(h.ID)),m(!1),y(null)),z.success("Currency deleted successfully.")}catch(N){console.error("Failed to delete currency:",N),z.error("Failed to delete currency. Please try again.")}},j=(N,{resetForm:S})=>{try{t(u?gg({...N,ID:u.ID}):pg(N)),z.success("Currency saved successfully.")}catch(A){console.error("Failed to save currency:",A),z.error("Failed to save currency. Please try again.")}finally{c(!1),S()}},C=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Currency Name",sortable:!0}],x=[s&&{icon:Pe,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Be,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Currencies"}),o.jsx("p",{children:"Manage LGU currencies and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Currency"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:C,data:e,actions:x,loading:r})}),o.jsx(le,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Currency":"Add Currency",children:o.jsx(qe,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:lde(e,u),onSubmit:j,children:({values:N,errors:S,touched:A,handleChange:I,handleBlur:T,isSubmitting:E})=>o.jsxs(We,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter currency code",value:N.Code,onChange:I,onBlur:T,error:S.Code,touched:A.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter currency name",value:N.Name,onChange:I,onBlur:T,error:S.Name,touched:A.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:E,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(le,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the currency"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const rj="https://staging-engine.testthelink.online",ude=[],dde={subdepartments:ude,subdepartment:null,isLoading:!1,error:null},Po=U("subdepartments/fetchSubdepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rj}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch departments");return a.items}catch(r){return e.rejectWithValue(r.message)}}),bg=U("subdepartments/addSubdepartment",async(t,e)=>{try{const r=await fetch(`${rj}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add subdepartment");return n}catch(r){return e.rejectWithValue(r.message)}}),xg=U("subdepartments/updateSubdepartment",async(t,e)=>{try{const r=await fetch(`${rj}/subDepartment/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update department");return n}catch(r){return e.rejectWithValue(r.message)}}),vg=U("subdepartments/deleteSubdepartment",async(t,e)=>{try{const r=await fetch(`${rj}/subDepartment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete department")}return t}catch(r){return e.rejectWithValue(r.message)}}),J6=we({name:"subdepartments",initialState:dde,reducers:{setSubdepartment:(t,e)=>{t.subdepartment=e.payload},resetSubdepartmentState:t=>{t.subdepartment=null,t.error=null}},extraReducers:t=>{t.addCase(Po.pending,e=>{e.isLoading=!0}).addCase(Po.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=r.payload,e.error=null}).addCase(Po.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(bg.pending,e=>{e.isLoading=!0}).addCase(bg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments.push(r.payload),e.error=null}).addCase(bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xg.pending,e=>{e.isLoading=!0}).addCase(xg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subdepartments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subdepartments[n]=r.payload),e.error=null}).addCase(xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(vg.pending,e=>{e.isLoading=!0}).addCase(vg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=e.subdepartments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubdepartment:Q8e,resetSubdepartmentState:Z8e}=J6.actions,fde=J6.reducer;var X6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fR=G.createContext&&G.createContext(X6),mde=["attr","size","title"];function hde(t,e){if(t==null)return{};var r=pde(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yx.apply(this,arguments)}function mR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(r),!0).forEach(function(n){gde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gde(t,e,r){return e=yde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yde(t){var e=bde(t,"string");return typeof e=="symbol"?e:e+""}function bde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q6(t){return t&&t.map((e,r)=>G.createElement(e.tag,Kx({key:r},e.attr),Q6(e.child)))}function MP(t){return e=>G.createElement(xde,Yx({attr:Kx({},t.attr)},e),Q6(t.child))}function xde(t){var e=r=>{var{attr:n,size:a,title:s}=t,i=hde(t,mde),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),G.createElement("svg",Yx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:Kx(Kx({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&G.createElement("title",null,s),t.children)};return fR!==void 0?G.createElement(fR.Consumer,null,r=>e(r)):e(X6)}function vde(t){return MP({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function jde(t){return MP({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function wde(t){return MP({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const ut=({options:t,label:e,placeholder:r="Search...",error:n,touched:a,required:s=!1,onSelect:i,selectedValue:l})=>{const[c,u]=w.useState(""),d=c===""?t:t.filter(m=>{var h;return(h=m==null?void 0:m.label)==null?void 0:h.toLowerCase().includes(c.toLowerCase())}),f=()=>{i(""),u("")};return o.jsx("div",{className:"w-full form-group",children:o.jsx(Bl,{value:l,onChange:i,children:({open:m})=>o.jsxs(o.Fragment,{children:[o.jsxs(Bl.Label,{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,s&&o.jsx("span",{className:"text-red-500",children:" *"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-md bg-white text-left sm:text-sm transition-all duration-200 ${a&&n?"border border-red-500":"border border-gray-300"}`,children:[o.jsx(Bl.Input,{className:"w-full py-2.5 pl-3 pr-12 text-sm leading-5 focus-visible:outline-none text-gray-900",placeholder:r,displayValue:h=>{var y;return((y=t.find(p=>p.value===h))==null?void 0:y.label)||""},onChange:h=>u(h.target.value)}),o.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[l&&o.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(wde,{className:"h-4 w-4"})}),o.jsx(Bl.Button,{className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(vde,{className:`h-5 w-5 transition-transform duration-200 ${m?"rotate-180":""}`})})]})]}),a&&n&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),o.jsx(Bl.Options,{className:"absolute z-[500] mt-1.5 w-full max-h-60 overflow-auto rounded-md bg-white py-1 text-base  ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm animate-fadeIn",children:d.length===0&&c!==""?o.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-500",children:"No results found"}):d.map(h=>o.jsx(Bl.Option,{className:({active:y,selected:p})=>`relative cursor-default select-none py-2 pl-2 pr-4 transition-colors ${y?"bg-blue-50 text-blue-700":""}
                         ${p?"font-medium text-blue-900 bg-blue-100":"font-normal text-gray-900"}
                         `,value:h.value,children:o.jsx("span",{children:h.label})},h.value))})]})]})})})};function Nde(){const t=de(),{subdepartments:e,isLoading:r}=H(A=>A.subdepartments||{}),{departments:n}=H(A=>A.departments),{Add:a,Edit:s,Delete:i}=Ce(76),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(Po()),t(cr())},[t]);const p=ce().shape({Code:D().required("Subdepartment code is required").max(15,"Subdepartment code must be at most 15 characters").test("unique-code","Subdepartment code already exists in this department",function(A){if(!A||!this.parent.DepartmentID)return!0;const I=A.trim().toLowerCase();return!(e==null?void 0:e.some(E=>E.Code.trim().toLowerCase()===I&&E.DepartmentID===this.parent.DepartmentID&&(!u||E.ID!==u.ID)))}),Name:D().required("Subdepartment name is required").max(100,"Subdepartment name must be at most 100 characters").test("unique-name","Subdepartment name already exists in this department",function(A){if(!A||!this.parent.DepartmentID)return!0;const I=A.trim().toLowerCase();return!(e==null?void 0:e.some(E=>E.Name.trim().toLowerCase()===I&&E.DepartmentID===this.parent.DepartmentID&&(!u||E.ID!==u.ID)))}),DepartmentID:X().required("Department is required")}),b=e.map(A=>{var I;return{...A,departmentName:((I=n.find(T=>T.ID===A.DepartmentID))==null?void 0:I.Name)||"N/A"}}),g=()=>{d(null),c(!0)},v=A=>{d(A),c(!0)},j=A=>{y(A),m(!0)},C=async()=>{try{h&&(await t(vg(h.ID)).unwrap(),z.success("Subdepartment deleted successfully."))}catch(A){console.error("Failed to delete subdepartment:",A),z.error("Failed to delete subdepartment. Please try again.")}finally{y(null),m(!1)}},x=async(A,{resetForm:I})=>{var R;const T=((R=n.find(M=>M.ID===Number(A.DepartmentID)))==null?void 0:R.Name)||"",E={...A,departmentName:T};try{t(u?xg({...E,ID:u.ID}):bg(E)),z.success("Subdepartment saved successfully.")}catch(M){console.log(M),z.error("Failed to save subdepartment. Please try again.")}finally{c(!1),I()}},N=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Subdepartment Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0}],S=[s&&{icon:Pe,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Be,title:"Delete",onClick:j,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Subdepartments"}),o.jsx("p",{children:"Manage LGU subdepartments and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Subdepartment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:N,data:b,actions:S,loading:r})}),o.jsx(le,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Subdepartment":"Add Subdepartment",children:o.jsx(qe,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||"",DepartmentID:(u==null?void 0:u.DepartmentID)||""},validationSchema:p,onSubmit:x,children:({values:A,errors:I,touched:T,handleChange:E,handleBlur:R,isSubmitting:M,setFieldValue:L})=>o.jsxs(We,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Subdepartment Code",name:"Code",type:"text",required:!0,placeholder:"Enter subdepartment code",value:A.Code,onChange:E,onBlur:R,error:I.Code,touched:T.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Subdepartment Name",name:"Name",type:"text",required:!0,placeholder:"Enter subdepartment name",value:A.Name,onChange:E,onBlur:R,error:I.Name,touched:T.Name}),o.jsx(ut,{label:"Department",name:"DepartmentID",type:"select",required:!0,selectedValue:A.DepartmentID,onSelect:P=>L("DepartmentID",P),onBlur:R,error:I.DepartmentID,touched:T.DepartmentID,options:n.map(P=>({value:P.ID,label:P.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:M,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(le,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the subdepartment"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.subdepartmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:C,className:"btn btn-danger",children:"Delete"})]})]})]})}const nj="https://staging-engine.testthelink.online",Cde=[],Sde={users:Cde,user:null,isLoading:!1,error:null},of=U("users/fetchUsers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nj}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a.items}catch(r){return e.rejectWithValue(r.message)}}),jg=U("users/addUser",async(t,e)=>{try{const r=await fetch(`${nj}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to add user");return n}catch(r){return e.rejectWithValue(r.message)}}),wg=U("users/updateUser",async(t,e)=>{try{const r=await fetch(`${nj}/users/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to update user");return n}catch(r){return e.rejectWithValue(r.message)}}),Ng=U("users/deleteUser",async(t,e)=>{try{const r=await fetch(`${nj}/users/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Z6=we({name:"users",initialState:Sde,reducers:{setUser:(t,e)=>{t.user=e.payload},resetUserState:t=>{t.user=null,t.error=null}},extraReducers:t=>{t.addCase(of.pending,e=>{e.isLoading=!0}).addCase(of.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload,e.error=null}).addCase(of.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jg.pending,e=>{e.isLoading=!0}).addCase(jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.users)||(e.users=[]),e.users.push(r.payload),e.error=null}).addCase(jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wg.pending,e=>{e.isLoading=!0}).addCase(wg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.users.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.users[n]=r.payload),e.error=null}).addCase(wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ng.pending,e=>{e.isLoading=!0}).addCase(Ng.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setUser:e9e,resetUserState:t9e}=Z6.actions,Ade=Z6.reducer,aj="https://staging-engine.testthelink.online",Ide=[],kde={employees:Ide,employee:null,isLoading:!1,error:null},dn=U("employees/fetchEmployees",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${aj}/employee`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Cg=U("employees/addEmployee",async(t,e)=>{try{const r=await fetch(`${aj}/employee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add employee");return n}catch(r){return e.rejectWithValue(r.message)}}),Sg=U("employees/updateEmployee",async(t,e)=>{try{const r=await fetch(`${aj}/employee/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ag=U("employees/deleteEmployee",async(t,e)=>{try{const r=await fetch(`${aj}/employee/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),eV=we({name:"employees",initialState:kde,reducers:{setEmployee:(t,e)=>{t.employee=e.payload},resetEmployeeState:t=>{t.employee=null,t.error=null}},extraReducers:t=>{t.addCase(dn.pending,e=>{e.isLoading=!0}).addCase(dn.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=r.payload,e.error=null}).addCase(dn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cg.pending,e=>{e.isLoading=!0}).addCase(Cg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees.push(r.payload),e.error=null}).addCase(Cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Sg.pending,e=>{e.isLoading=!0}).addCase(Sg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employees.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.employees[n]=r.payload),e.error=null}).addCase(Sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ag.pending,e=>{e.isLoading=!0}).addCase(Ag.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=e.employees.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setEmployee:r9e,resetEmployeeState:n9e}=eV.actions,Tde=eV.reducer,sj="https://staging-engine.testthelink.online",Pde=[],Eo=U("userroles/fetchUserroles",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sj}/userAccess`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ig=U("userroles/addUserrole",async(t,e)=>{try{const r=await fetch(`${sj}/userAccess`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),NA=U("userroles/updateUserrole",async(t,e)=>{try{const r=await fetch(`${sj}/userAccess/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),kg=U("userroles/deleteUserrole",async(t,e)=>{try{const r=await fetch(`${sj}/userAccess/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ede=we({name:"userroles",initialState:{userroles:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Eo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eo.fulfilled,(e,r)=>{e.isLoading=!1,e.userroles=Array.isArray(r.payload)?r.payload:[]}).addCase(Eo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch user roles",console.warn("Failed to fetch user roles, using mock data.",e.error),e.userroles=Pde}).addCase(Ig.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles.push(r.payload)}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add user role",console.error("Failed to add user role:",e.error)}).addCase(NA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.userroles.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.userroles)||(e.userroles=[]),e.userroles[n]=r.payload)}).addCase(kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles=e.userroles.filter(n=>n.ID!==r.payload)}).addCase(kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete user role",console.error("Failed to delete user role:",e.error)})}}),Dde=Ede.reducer,Ode=ce().shape({UserName:D().required("User name is required"),UserAccessID:D().required("User Access is required"),Password:D().required("Password is required").min(6,"Password must be at least 6 characters"),ConfirmPassword:D().oneOf([xl("Password"),null],"Passwords must match").required("Confirm Password is required"),EmployeeID:D().required("Choose Employee is required")});function _de(){const t=de(),{users:e,isLoading:r}=H(_=>_.users),{Add:n,Edit:a,Delete:s}=Ce(82),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null),[y,p]=w.useState(!1),[b,g]=w.useState(null),{userroles:v,isLoading:j}=H(_=>_.userroles),C=v.map(_=>({value:_.ID,label:_.Description})),{employees:x,isLoading:N}=H(_=>_.employees),S=x.map(_=>({value:_.ID,label:`${_.FirstName} ${_.LastName}`}));w.useEffect(()=>{t(of()),t(dn()),t(Eo())},[t]);const A=()=>{u(null),l(!0)},I=_=>{u(_),l(!0)},T=_=>{h(_),f(!0)},E=async()=>{try{m&&(await t(Ng(m.ID)).unwrap(),f(!1),h(null),z.success("User deleted successfully"))}catch(_){console.error("Failed to delete user:",_),z.error("Failed to delete user")}},R=async(_,{resetForm:q,setErrors:F,setSubmitting:O})=>{const V={EmployeeID:_.EmployeeID,UserName:_.UserName,Password:_.Password,UserAccessArray:[_.UserAccessID]};console.log("Payload:",V);try{c?await t(wg({...V,ID:c.ID})).unwrap():await t(jg(V)).unwrap(),t(of()),z.success("User saved successfully.")}catch(W){console.log(W),F({general:"Unexpected error occurred."}),z.error("Failed to save user. Please try again.")}finally{q(),l(!1),O(!1)}},M=[{key:"UserName",header:"User Name",sortable:!0},{key:"UserAccessValue",header:"User Access",sortable:!0,render:(_,q)=>{var F;return o.jsx("span",{children:_||((F=q==null?void 0:q.accessList)==null?void 0:F.map(O=>O.Description).join(", "))||"N/A"})}}],L=[a&&{icon:Pe,title:"Edit",onClick:I,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:T,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],P=e.map(_=>{var q;return{..._,UserAccessValue:(q=v.find(F=>F.ID===_.UserAccessID))==null?void 0:q.Description}});return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Users"}),o.jsx("p",{children:"Manage system users and their access rights"})]}),n&&o.jsxs("button",{type:"button",onClick:A,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:M,data:P,actions:L,loading:r||j||N})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit User":"Add User",children:o.jsx(qe,{initialValues:{UserName:(c==null?void 0:c.UserName)||"",UserAccessID:(c==null?void 0:c.UserAccessID)||"",Password:"",ConfirmPassword:"",EmployeeID:(c==null?void 0:c.EmployeeID)||""},validationSchema:Ode,onSubmit:R,children:({values:_,errors:q,touched:F,handleChange:O,handleBlur:V,isSubmitting:W})=>o.jsxs(We,{className:"space-y-4",children:[q.general&&o.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded text-sm",children:q.general}),o.jsx(k,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:_.UserName,onChange:O,onBlur:V,error:q.UserName,touched:F.UserName}),o.jsx(k,{className:"p-3 focus:outline-none",label:"User Access",name:"UserAccessID",type:"select",required:!0,value:_.UserAccessID,onChange:O,onBlur:V,error:q.UserAccessID,touched:F.UserAccessID,options:C}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:_.Password,onChange:O,onBlur:V,error:q.Password,touched:F.Password}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Confirm Password",name:"ConfirmPassword",type:"password",required:!0,placeholder:"Confirm password",value:_.ConfirmPassword,onChange:O,onBlur:V,error:q.ConfirmPassword,touched:F.ConfirmPassword}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Choose Employee",name:"EmployeeID",type:"select",required:!0,value:_.EmployeeID,onChange:O,onBlur:V,error:q.EmployeeID,touched:F.EmployeeID,options:S}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:W,className:"btn btn-primary",children:W?"Saving...":c?"Update":"Save"})]})]})})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the user"," ",o.jsx("span",{className:"font-medium",children:m==null?void 0:m.UserName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:E,className:"btn btn-danger",children:"Delete"})]})]})]})}const oj="https://staging-engine.testthelink.online",Rde=[],$de={accounts:Rde,account:null,isLoading:!1,error:null},Pr=U("chartOfAccounts/fetchAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oj}/chartofAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Tg=U("chartOfAccounts/addAccount",async(t,e)=>{try{const r=await fetch(`${oj}/chartofAccounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Pg=U("chartOfAccounts/updateAccount",async(t,e)=>{try{const r=await fetch(`${oj}/chartofAccounts/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Eg=U("chartOfAccounts/deleteAccount",async(t,e)=>{try{const r=await fetch(`${oj}/chartofAccounts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),tV=we({name:"chartOfAccounts",initialState:$de,reducers:{setAccount:(t,e)=>{t.account=e.payload},resetAccountState:t=>{t.account=null,t.error=null}},extraReducers:t=>{t.addCase(Pr.pending,e=>{e.isLoading=!0}).addCase(Pr.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts=r.payload,e.error=null}).addCase(Pr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Tg.pending,e=>{e.isLoading=!0}).addCase(Tg.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts.push(r.payload),e.error=null}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Pg.pending,e=>{e.isLoading=!0}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accounts.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accounts[n]=r.payload),e.error=null}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Eg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.accounts)||(e.accounts=[]),e.accounts=e.accounts.filter(n=>n.ID!==r.payload)}).addCase(Eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete account",console.error("Failed to delete account:",e.error)})}}),{setAccount:a9e,resetAccountState:s9e}=tV.actions,Mde=tV.reducer,ij="https://staging-engine.testthelink.online",Lde=[],Fde={accountGroups:Lde,accountGroup:null,isLoading:!1,error:null},Yi=U("accountGroups/fetchAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ij}/accountType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Dg=U("accountGroups/addAccountGroup",async(t,e)=>{try{const r=await fetch(`${ij}/accountType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Og=U("accountGroups/updateAccountGroup",async(t,e)=>{try{const r=await fetch(`${ij}/accountType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),_g=U("accountGroups/deleteAccountGroup",async(t,e)=>{try{const r=await fetch(`${ij}/accountType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rV=we({name:"accountGroups",initialState:Fde,reducers:{setAccountGroup:(t,e)=>{t.accountGroup=e.payload},resetAccountGroupState:t=>{t.accountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Yi.pending,e=>{e.isLoading=!0}).addCase(Yi.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=r.payload,e.error=null}).addCase(Yi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Dg.pending,e=>{e.isLoading=!0}).addCase(Dg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups.push(r.payload),e.error=null}).addCase(Dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Og.pending,e=>{e.isLoading=!0}).addCase(Og.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accountGroups[n]=r.payload),e.error=null}).addCase(Og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(_g.pending,e=>{e.isLoading=!0}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=e.accountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setAccountGroup:o9e,resetAccountGroupState:i9e}=rV.actions,Bde=rV.reducer,lj="https://staging-engine.testthelink.online",qde=[],Vde={majorAccountGroups:qde,majorAccountGroup:null,isLoading:!1,error:null},Ki=U("majorAccountGroups/fetchMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lj}/accountSubType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),Rg=U("majorAccountGroups/addMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${lj}/accountSubType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),$g=U("majorAccountGroups/updateMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${lj}/accountSubType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Mg=U("majorAccountGroups/deleteMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${lj}/accountSubType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),nV=we({name:"majorAccountGroups",initialState:Vde,reducers:{setMajorAccountGroup:(t,e)=>{t.majorAccountGroup=e.payload},resetMajorAccountGroupState:t=>{t.majorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Ki.pending,e=>{e.isLoading=!0}).addCase(Ki.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=r.payload,e.error=null}).addCase(Ki.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Rg.pending,e=>{e.isLoading=!0}).addCase(Rg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups.push(r.payload),e.error=null}).addCase(Rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase($g.pending,e=>{e.isLoading=!0}).addCase($g.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.majorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.majorAccountGroups[n]=r.payload),e.error=null}).addCase($g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Mg.pending,e=>{e.isLoading=!0}).addCase(Mg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=e.majorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMajorAccountGroup:l9e,resetMajorAccountGroupState:c9e}=nV.actions,Ude=nV.reducer,cj="https://staging-engine.testthelink.online",zde=[],Wde={subMajorAccountGroups:zde,subMajorAccountGroup:null,isLoading:!1,error:null},jc=U("subMajorAccountGroups/fetchSubMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${cj}/accountCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched sub major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch sub major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),Lg=U("subMajorAccountGroups/addSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${cj}/accountCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Fg=U("subMajorAccountGroups/updateSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${cj}/accountCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update sub major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Bg=U("subMajorAccountGroups/deleteSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${cj}/accountCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete sub major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),aV=we({name:"subMajorAccountGroups",initialState:Wde,reducers:{setSubMajorAccountGroup:(t,e)=>{t.subMajorAccountGroup=e.payload},resetSubMajorAccountGroupState:t=>{t.subMajorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(jc.pending,e=>{e.isLoading=!0}).addCase(jc.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=r.payload,e.error=null}).addCase(jc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Lg.pending,e=>{e.isLoading=!0}).addCase(Lg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups.push(r.payload),e.error=null}).addCase(Lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Fg.pending,e=>{e.isLoading=!0}).addCase(Fg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subMajorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subMajorAccountGroups[n]=r.payload),e.error=null}).addCase(Fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Bg.pending,e=>{e.isLoading=!0}).addCase(Bg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=e.subMajorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubMajorAccountGroup:u9e,resetSubMajorAccountGroupState:d9e}=aV.actions,Hde=aV.reducer,Gde=({accountGroups:t,majorAccountGroups:e,subMajorAccountGroups:r})=>{const{values:n,setFieldValue:a,errors:s,touched:i}=Iq(),l=(c,u)=>{const d=u.find(f=>f.ID===c);return d?d.Code:""};return w.useEffect(()=>{if(n.AccountTypeID||n.AccountSubTypeID||n.AccountCategoryID||n.Code){const c=l(n.AccountTypeID,t),u=l(n.AccountSubTypeID,e),d=l(n.AccountCategoryID,r),f=`${c}-${u}-${d}-${n.Code}`;a("AccountCode",f)}},[n.AccountTypeID,n.AccountSubTypeID,n.AccountCategoryID,n.Code]),o.jsx(k,{className:"p-3 focus:outline-none bg-gray-200 cursor-not-allowed",label:"Account No",name:"AccountCode",type:"text",required:!0,placeholder:"e.g., 03-02-02-65465",value:n.AccountCode,readOnly:!0,error:i.AccountCode&&s.AccountCode,touched:i.AccountCode})},Yde=ce().shape({AccountCode:D().required("Account no is required").max(30,"Account no must be at most 30 characters"),Code:D().required("General Ledger Code is required").max(10,"General Ledger Code must be at most 10 characters"),Name:D().required("Account title is required").max(100,"Account title must be at most 100 characters"),Description:D().max(250,"Description must be at most 250 characters"),AccountTypeID:D().required("Account group is required"),AccountSubTypeID:D().required("Major account group is required"),AccountCategoryID:D().required("Sub Major account group is required"),NormalBalance:D().required("Normal balance is required")});function Kde({initialData:t,onClose:e}){const r=de(),{accountGroups:n}=H(d=>d.accountGroups),{majorAccountGroups:a}=H(d=>d.majorAccountGroups),{subMajorAccountGroups:s}=H(d=>d.subMajorAccountGroups),[i,l]=w.useState(!1);w.useEffect(()=>{r(Yi()),r(Ki()),r(jc())},[r]);const c=t?{...t}:{AccountCode:"",Code:"",Name:"",Description:"",AccountTypeID:"",AccountSubTypeID:"",AccountCategoryID:"",NormalBalance:""},u=async d=>{l(!0);const f=t?Pg({...d,ID:t.ID}):Tg(d);r(f).unwrap().then(()=>{z.success("Account updated successfully"),r(Pr()),e()}).catch(m=>{console.error("Error submitting account:",m),z.error("Failed to submit account. Please try again.")}).finally(()=>{l(!1)})};return o.jsx(qe,{initialValues:c,validationSchema:Yde,onSubmit:u,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:y,isValid:p,setFieldValue:b})=>{var g;return o.jsxs(We,{className:"space-y-4",children:[o.jsx("div",{className:"",children:o.jsx(Gde,{accountGroups:n,majorAccountGroups:a,subMajorAccountGroups:s})}),console.log("values",d,f),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"General Ledger Code",name:"Code",type:"text",required:!0,placeholder:"e.g., 65465",value:d.Code,onChange:h,onBlur:y,error:f.Code,touched:m.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Account Title",name:"Name",type:"text",required:!0,placeholder:"Enter account title",value:d.Name,onChange:h,onBlur:y,error:f.Name,touched:m.Name}),o.jsx(ut,{label:"Account Group",options:n.map(v=>({label:`${v.Name} (${v.Code})`,value:v.ID})),placeholder:"Select Account Group",onSelect:v=>{b("AccountTypeID",v||"")},selectedValue:d.AccountTypeID||"",required:!0,error:f.AccountTypeID,touched:m.AccountTypeID}),o.jsx(ut,{label:"Major Account Group",options:a.map(v=>({label:`${v.Name} (${v.Code})`,value:v.ID})),placeholder:"Select Major Account Group",onSelect:v=>{b("AccountSubTypeID",v||"")},selectedValue:((g=a.find(v=>v.ID===d.AccountSubTypeID))==null?void 0:g.ID)||"",required:!0,error:f.AccountSubTypeID,touched:m.AccountSubTypeID}),o.jsx(ut,{label:"Sub Major Account Group",options:s.map(v=>({label:`${v.Name} (${v.Code})`,value:v.ID})),placeholder:"Select Sub Major Account Group",onSelect:v=>{b("AccountCategoryID",v||"")},selectedValue:d.AccountCategoryID||"",required:!0,error:f.AccountCategoryID,touched:m.AccountCategoryID})]}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"textarea",placeholder:"Enter account description",value:d.Description,onChange:h,onBlur:y,error:f.Description,touched:m.Description,rows:2}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsx(k,{className:"p-3 focus:outline-none",label:"Normal Balance",name:"NormalBalance",type:"select",required:!0,value:d.NormalBalance,onChange:h,onBlur:y,error:f.NormalBalance,touched:m.NormalBalance,options:[{value:"Debit",label:"Debit"},{value:"Credit",label:"Credit"}]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i||!p,className:"btn btn-primary",children:i?"Saving...":t?"Update":"Save"})]})]})}})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xde=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),hR=t=>{const e=Xde(t);return e.charAt(0).toUpperCase()+e.slice(1)},sV=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Qde=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>w.createElement("svg",{ref:c,...Zde,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:sV("lucide",a),...!s&&!Qde(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=(t,e)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement(efe,{ref:s,iconNode:e,className:sV(`lucide-${Jde(hR(t))}`,`lucide-${t}`,n),...a}));return r.displayName=hR(t),r};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],oV=or("building",tfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],LP=or("calendar",rfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["path",{d:"M20 4L9 15",key:"1qkx8z"}],["path",{d:"M21 19L3 19",key:"100sma"}],["path",{d:"M9 15L4 10",key:"9zxff7"}]],bn=or("check-line",nfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]],sfe=or("circle-arrow-left",afe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ife=or("circle-x",ofe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],iV=or("credit-card",lfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ufe=or("eye-off",cfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Iu=or("eye",dfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ffe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mfe=or("file-text",ffe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],$s=or("paperclip",hfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Na=or("pencil",pfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],om=or("plus",gfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Jc=or("printer",yfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xfe=or("save",bfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],jfe=or("square-pen",vfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Qt=or("trash-2",wfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Ca=or("trash",Nfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lV=or("upload",Cfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uj=or("user",Sfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],FP=or("users",Afe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qr=or("x",Ife);function kfe(){const t=de(),{accounts:e,isLoading:r}=H(x=>x.chartOfAccounts),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{Add:f,Edit:m,Delete:h}=Ce(31);w.useEffect(()=>{t(Pr())},[t]);const y=()=>{i(null),a(!0)},p=x=>{i(x),a(!0)},b=x=>{d(x),c(!0)},g=async()=>{if(u)try{await t(Eg(u.ID)).unwrap(),c(!1),d(null),z.success("Account deleted successfully")}catch(x){console.error("Failed to delete account:",x),z.error("Failed to delete account. Please try again.")}},v=()=>{a(!1),i(null)},j=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NormalBalance",header:"Normal Balance",sortable:!0}],C=[m&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},h&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Chart of Accounts"}),o.jsx("p",{children:"Manage account codes and their settings"})]}),o.jsx("div",{className:"flex gap-4 items-center ",children:f&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r})}),o.jsx(le,{isOpen:n,onClose:v,title:s?"Edit Account":"Add Account",size:"lg",children:o.jsx(Kde,{initialData:s,onClose:v})}),o.jsxs(le,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the account "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const Tfe=ce().shape({Code:D().required("Code is required").max(10,"Code must be at most 10 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters")});function Pfe(){const t=de(),{accountGroups:e,isLoading:r,error:n}=H(N=>N.accountGroups),{Add:a,Edit:s,Delete:i}=Ce(88),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(Yi())},[t]);const p=()=>{d(null),c(!0)},b=N=>{d(N),c(!0)},g=N=>{y(N),m(!0)},v=async()=>{try{h&&(await t(_g(h.ID)).unwrap(),z.success("Account group deleted successfully"),m(!1),y(null))}catch(N){console.error("Failed to delete account group:",N),z.error("Failed to delete account group. Please try again.")}},j=async(N,{resetForm:S})=>{try{u?(await t(Og({...N,ID:u.ID})).unwrap(),z.success("Account group updated successfully")):(await t(Dg(N)).unwrap(),z.success("Account group added successfully")),t(Yi())}catch(A){console.error("Error submitting account group:",A),z.error("Failed to submit account group. Please try again.")}finally{c(!1),S()}},C=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Account Type",sortable:!0}],x=[s&&{icon:Pe,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Be,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Types"}),o.jsx("p",{children:"Manage account types and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:C,data:e,actions:x,loading:r})}),o.jsx(le,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Account Type":"Add Account Type",children:o.jsx(qe,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:Tfe,onSubmit:j,children:({values:N,errors:S,touched:A,handleChange:I,handleBlur:T,isSubmitting:E})=>o.jsxs(We,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:N.Code,onChange:I,onBlur:T,error:S.Code,touched:A.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:N.Name,onChange:I,onBlur:T,error:S.Name,touched:A.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:E,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(le,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const Efe=ce().shape({Code:D().required("Code is required").max(15,"Code must be at most 15 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters"),AccountTypeID:X().required("Account Type is required")});function Dfe(){const t=de(),{majorAccountGroups:e,isLoading:r}=H(S=>S.majorAccountGroups),{accountGroups:n}=H(S=>S.accountGroups),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null),{Add:m,Edit:h,Delete:y}=Ce(89);w.useEffect(()=>{t(Ki()),t(Yi())},[t]);const p=e.map(S=>{const A=n.find(I=>I.ID===S.AccountTypeID);return{...S,accountTypeName:A?A.Name:"N/A"}}),b=()=>{l(null),s(!0)},g=S=>{l(S),s(!0)},v=S=>{f(S),u(!0)},j=()=>{try{d&&(t(Mg(d.ID)),z.success("Major account group deleted successfully"))}catch(S){console.error("Failed to delete major account group:",S),z.error("Failed to delete major account group. Please try again.")}finally{u(!1),f(null)}},C=async(S,{resetForm:A})=>{var E;const I=((E=n.find(R=>R.ID===Number(S.AccountTypeID)))==null?void 0:E.Name)||"",T={...S,accountTypeName:I};try{i?(await t($g({...T,ID:i.ID})).unwrap(),z.success("Major account group updated successfully")):(await t(Rg(T)).unwrap(),z.success("Major account group added successfully")),t(Ki())}catch(R){console.error("Failed to save major account group:",R),z.error("Failed to save major account group. Please try again.")}s(!1),A()},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountTypeName",header:"Account Type",sortable:!0}],N=[h&&{icon:Pe,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},y&&{icon:Be,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Sub-Types"}),o.jsx("p",{children:"Manage account sub-types and their details"})]}),m&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Sub-Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:x,data:p,actions:N,loading:r})}),o.jsx(le,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Sub-Type":"Add Account Sub-Type",children:o.jsx(qe,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:Efe,onSubmit:C,children:({values:S,errors:A,touched:I,handleChange:T,handleBlur:E,isSubmitting:R})=>o.jsxs(We,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:T,onBlur:E,error:A.Code,touched:I.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:T,onBlur:E,error:A.Name,touched:I.Name}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountTypeID",type:"select",required:!0,value:S.AccountTypeID,onChange:T,onBlur:E,error:A.AccountTypeID,touched:I.AccountTypeID,options:n.map(M=>({value:M.ID,label:M.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:R,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(le,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}const Ofe=ce().shape({Code:D().required("Code is required").max(15,"Code must be at most 15 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters"),AccountSubTypeID:X().required("Account Sub Type is required")});function _fe(){const t=de(),{subMajorAccountGroups:e,isLoading:r}=H(S=>S.subMajorAccountGroups),{majorAccountGroups:n}=H(S=>S.majorAccountGroups),{Add:a,Edit:s,Delete:i}=Ce(90),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(jc()),t(Ki())},[t]);const p=e.map(S=>{const A=n.find(I=>I.ID===S.AccountSubTypeID);return{...S,accountSubTypeName:A?A.Name:"N/A"}}),b=()=>{d(null),c(!0)},g=S=>{d(S),c(!0)},v=S=>{y(S),m(!0)},j=async()=>{try{h&&(await t(Bg(h.ID)).unwrap(),m(!1),y(null),z.success("Sub major account group deleted successfully"))}catch(S){console.error("Failed to delete sub major account group:",S),z.error("Failed to delete sub major account group. Please try again.")}},C=async(S,{resetForm:A})=>{var E;const I=((E=n.find(R=>R.ID===Number(S.AccountSubTypeID)))==null?void 0:E.Name)||"",T={...S,accountSubTypeName:I};try{u?(await t(Fg({...T,ID:u.ID})).unwrap(),z.success("Sub major account group updated successfully")):(await t(Lg(T)).unwrap(),z.success("Sub major account group added successfully")),t(jc())}catch(R){console.error("Failed to save sub major account group:",R),z.error("Failed to save sub major account group. Please try again.")}finally{c(!1),A()}},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountSubTypeName",header:"Account Sub Type",sortable:!0}],N=[s&&{icon:Pe,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Be,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return console.log({currentSubMajorAccountGroup:u,majorAccountGroups:n}),o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Category"}),o.jsx("p",{children:"Manage account categories and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:x,data:p,actions:N,loading:r})}),o.jsx(le,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Account Category":"Add Account Category",children:o.jsx(qe,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||"",AccountSubTypeID:(u==null?void 0:u.AccountSubTypeID.toString())||""},validationSchema:Ofe,onSubmit:C,children:({values:S,errors:A,touched:I,handleChange:T,handleBlur:E,isSubmitting:R})=>o.jsxs(We,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:T,onBlur:E,error:A.Code,touched:I.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:T,onBlur:E,error:A.Name,touched:I.Name}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountSubTypeID",type:"select",required:!0,value:S.AccountSubTypeID,onChange:T,onBlur:E,error:A.AccountSubTypeID,touched:I.AccountSubTypeID,options:n.map(M=>({value:M.ID,label:M.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:R,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(le,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}function Rfe({initialData:t,onSubmit:e,onClose:r,provinces:n=[],municipalities:a=[],barangays:s=[],regionOptions:i=[],provinceOptions:l=[],municipalityOptions:c=[],barangayOptions:u=[],industryOptions:d=[],taxCodeOptions:f=[],vendorTypeOptions:m=[],paymentTermsOptions:h=[],modeOfPaymentOptions:y=[]}){const p=ce({Code:D().required("Code is required"),TIN:D().required("TIN is required"),Name:D().required("Name is required"),PhoneNumber:D(),MobileNumber:D().required("Mobile number is required"),EmailAddress:D().email("Invalid email").required("Email is required"),Website:D(),RegionID:D().required("Region is required"),ProvinceID:D().required("Province is required"),MunicipalityID:D().required("Municipality is required"),BarangayID:D().required("Barangay is required"),StreetAddress:D().required("Street address is required"),ZIPCode:D().required("Zip code is required"),TypeID:D().required("Vendor type is required"),RDO:D().required("Revenue District Office is required"),IndustryTypeID:D().required("Industry is required"),TaxCodeID:D().required("Tax code is required"),PaymentTermsID:D().required("Payment terms are required"),Vatable:Rs(),PaymentMethodID:D().required("Mode of payment is required"),ContactPerson:D().required("Contact person is required"),DeliveryLeadTime:X().required("Delivery lead time is required").typeError("Must be a number")}),b=tt({initialValues:t||{Code:"",TIN:"",Name:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",StreetAddress:"",ZIPCode:"",TypeID:"",RDO:"",IndustryTypeID:"",TaxCodeID:"",PaymentTermsID:"",Vatable:!1,PaymentMethodID:"",ContactPerson:"",DeliveryLeadTime:""},validationSchema:p,onSubmit:S=>{e(S)}}),{values:g,handleChange:v,handleBlur:j,errors:C,touched:x,setFieldValue:N}=b;return w.useEffect(()=>{const S=s.find(A=>A.ID.toString()===g.BarangayID);S&&(S.MunicipalityCode&&N("MunicipalityID",S.MunicipalityCode),S.ProvinceCode&&N("ProvinceID",S.ProvinceCode),S.RegionCode&&N("RegionID",S.RegionCode))},[g.BarangayID]),w.useEffect(()=>{const S=a.find(A=>A.ID.toString()===g.MunicipalityID);S&&(S.ProvinceCode&&N("ProvinceID",S.ProvinceCode),S.RegionCode&&N("RegionID",S.RegionCode))},[g.MunicipalityID]),w.useEffect(()=>{const S=n.find(A=>A.ID.toString()===g.ProvinceID);S&&S.RegionCode&&N("RegionID",S.RegionCode)},[g.ProvinceID]),o.jsxs("form",{onSubmit:b.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",value:g.Code,onChange:v,onBlur:j,error:C.Code,touched:x.Code,required:!0}),o.jsx(k,{label:"TIN",name:"TIN",type:"text",value:g.TIN,onChange:v,onBlur:j,error:C.TIN,touched:x.TIN,required:!0})]}),o.jsx(k,{label:"Name",name:"Name",type:"text",value:g.Name,onChange:v,onBlur:j,error:C.Name,touched:x.Name,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Phone Number",name:"PhoneNumber",type:"text",value:g.PhoneNumber,onChange:v,onBlur:j}),o.jsx(k,{label:"Mobile Number",name:"MobileNumber",type:"text",value:g.MobileNumber,onChange:v,onBlur:j,error:C.MobileNumber,touched:x.MobileNumber,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Email",name:"EmailAddress",type:"email",value:g.EmailAddress,onChange:v,onBlur:j,error:C.EmailAddress,touched:x.EmailAddress,required:!0}),o.jsx(k,{label:"Website",name:"Website",type:"text",value:g.Website,onChange:v,onBlur:j})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Region",name:"RegionID",type:"select",options:i,value:g.RegionID,onChange:v,onBlur:j,error:C.RegionID,touched:x.RegionID,required:!0}),o.jsx(k,{label:"Province",name:"ProvinceID",type:"select",options:l,value:g.ProvinceID,onChange:v,onBlur:j,error:C.ProvinceID,touched:x.ProvinceID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Municipality",name:"MunicipalityID",type:"select",options:c,value:g.MunicipalityID,onChange:v,onBlur:j,error:C.MunicipalityID,touched:x.MunicipalityID,required:!0}),o.jsx(k,{label:"Barangay",name:"BarangayID",type:"select",options:u,value:g.BarangayID,onChange:v,onBlur:j,error:C.BarangayID,touched:x.BarangayID,required:!0})]}),o.jsx(k,{label:"Street Address",name:"StreetAddress",type:"textarea",value:g.StreetAddress,onChange:v,onBlur:j,error:C.StreetAddress,touched:x.StreetAddress,required:!0}),o.jsx(k,{label:"Zip Code",name:"ZIPCode",type:"text",value:g.ZIPCode,onChange:v,onBlur:j,error:C.ZIPCode,touched:x.ZIPCode,required:!0}),o.jsx("hr",{className:"border-t border-neutral-300 my-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Vendor Type",name:"TypeID",type:"select",options:m,value:g.TypeID,onChange:v,onBlur:j,error:C.TypeID,touched:x.TypeID,required:!0}),o.jsx(k,{label:"Revenue District Office",name:"RDO",type:"text",value:g.RDO,onChange:v,onBlur:j,error:C.RDO,touched:x.RDO,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Industry",name:"IndustryTypeID",type:"select",options:d,value:g.IndustryTypeID,onChange:v,onBlur:j,error:C.IndustryTypeID,touched:x.IndustryTypeID,required:!0}),o.jsx(k,{label:"Tax Code",name:"TaxCodeID",type:"select",options:f,value:g.TaxCodeID,onChange:v,onBlur:j,error:C.TaxCodeID,touched:x.TaxCodeID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:h,value:g.PaymentTermsID,onChange:v,onBlur:j,error:C.PaymentTermsID,touched:x.PaymentTermsID,required:!0}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:g.Vatable,onChange:v,onBlur:j}),o.jsx("label",{htmlFor:"Vatable",children:"Vatable"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:y,value:g.PaymentMethodID,onChange:v,onBlur:j,error:C.PaymentMethodID,touched:x.PaymentMethodID,required:!0}),o.jsx(k,{label:"Contact Person",name:"ContactPerson",type:"text",value:g.ContactPerson,onChange:v,onBlur:j,error:C.ContactPerson,touched:x.ContactPerson,required:!0})]}),o.jsx(k,{label:"Delivery Lead Time (days)",name:"DeliveryLeadTime",type:"number",value:g.DeliveryLeadTime,onChange:v,onBlur:j,error:C.DeliveryLeadTime,touched:x.DeliveryLeadTime,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b.isSubmitting,children:b.isSubmitting?"Saving...":"Save"})]})]})}const dj="https://staging-engine.testthelink.online",$fe=[],Va=U("vendorDetails/fetchVendorDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dj}/vendor`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),qg=U("vendorDetails/addVendorDetails",async(t,e)=>{try{const r=await fetch(`${dj}/vendor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),CA=U("vendorDetails/updateVendorDetails",async(t,e)=>{try{const r=await fetch(`${dj}/vendor/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Vg=U("vendorDetails/deleteVendorDetails",async(t,e)=>{try{const r=await fetch(`${dj}/vendor/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Mfe=we({name:"vendorDetails",initialState:{vendorDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Va.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Va.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Va.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor details",console.warn("Failed to fetch vendor details, using mock data.",e.error),e.vendorDetails=$fe}).addCase(qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails.push(r.payload)}).addCase(qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor details",console.error("Failed to add vendor details:",e.error)}).addCase(CA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails[n]=r.payload)}).addCase(Vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails=e.vendorDetails.filter(n=>n.ID!==r.payload)}).addCase(Vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor details",console.error("Failed to delete vendor details:",e.error)})}}),Lfe=Mfe.reducer,fj="https://staging-engine.testthelink.online",Ffe=[],Do=U("regions/fetchRegions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fj}/region`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ug=U("regions/addRegion",async(t,e)=>{try{const r=await fetch(`${fj}/region`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),SA=U("regions/updateRegion",async(t,e)=>{try{const r=await fetch(`${fj}/region/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zg=U("regions/deleteRegion",async(t,e)=>{try{const r=await fetch(`${fj}/region/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Bfe=we({name:"regions",initialState:{regions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Do.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Do.fulfilled,(e,r)=>{e.isLoading=!1,e.regions=Array.isArray(r.payload)?r.payload:[]}).addCase(Do.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch regions",console.warn("Failed to fetch regions, using mock data.",e.error),e.regions=Ffe}).addCase(Ug.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions.push(r.payload)}).addCase(Ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add region",console.error("Failed to add region:",e.error)}).addCase(SA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(SA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.regions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.regions)||(e.regions=[]),e.regions[n]=r.payload)}).addCase(zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions=e.regions.filter(n=>n.ID!==r.payload)}).addCase(zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete region",console.error("Failed to delete region:",e.error)})}}),qfe=Bfe.reducer,mj="https://staging-engine.testthelink.online",Vfe=[],Oo=U("provinces/fetchProvinces",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mj}/province`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Wg=U("provinces/addProvince",async(t,e)=>{try{const r=await fetch(`${mj}/province`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),AA=U("provinces/updateProvince",async(t,e)=>{try{const r=await fetch(`${mj}/province/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Hg=U("provinces/deleteProvince",async(t,e)=>{try{const r=await fetch(`${mj}/province/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ufe=we({name:"provinces",initialState:{provinces:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Oo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oo.fulfilled,(e,r)=>{e.isLoading=!1,e.provinces=Array.isArray(r.payload)?r.payload:[]}).addCase(Oo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch provinces",console.warn("Failed to fetch provinces, using mock data.",e.error),e.provinces=Vfe}).addCase(Wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces.push(r.payload)}).addCase(Wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add province",console.error("Failed to add province:",e.error)}).addCase(AA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.provinces.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.provinces)||(e.provinces=[]),e.provinces[n]=r.payload)}).addCase(Hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces=e.provinces.filter(n=>n.ID!==r.payload)}).addCase(Hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete province",console.error("Failed to delete province:",e.error)})}}),zfe=Ufe.reducer,hj="https://staging-engine.testthelink.online",Wfe=[],_o=U("municipalities/fetchMunicipalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hj}/municipality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Gg=U("municipalities/addMunicipality",async(t,e)=>{try{const r=await fetch(`${hj}/municipality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),IA=U("municipalities/updateMunicipality",async(t,e)=>{try{const r=await fetch(`${hj}/municipality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Yg=U("municipalities/deleteMunicipality",async(t,e)=>{try{const r=await fetch(`${hj}/municipality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Hfe=we({name:"municipalities",initialState:{municipalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(_o.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_o.fulfilled,(e,r)=>{e.isLoading=!1,e.municipalities=Array.isArray(r.payload)?r.payload:[]}).addCase(_o.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch municipalities",console.warn("Failed to fetch municipalities, using mock data.",e.error),e.municipalities=Wfe}).addCase(Gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities.push(r.payload)}).addCase(Gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add municipality",console.error("Failed to add municipality:",e.error)}).addCase(IA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.municipalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities[n]=r.payload)}).addCase(Yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities=e.municipalities.filter(n=>n.ID!==r.payload)}).addCase(Yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete municipality",console.error("Failed to delete municipality:",e.error)})}}),Gfe=Hfe.reducer,pj="https://staging-engine.testthelink.online",Yfe=[],Ro=U("barangays/fetchBarangays",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pj}/barangay`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Kg=U("barangays/addBarangay",async(t,e)=>{try{const r=await fetch(`${pj}/barangay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),kA=U("barangays/updateBarangay",async(t,e)=>{try{const r=await fetch(`${pj}/barangay/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Jg=U("barangays/deleteBarangay",async(t,e)=>{try{const r=await fetch(`${pj}/barangay/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Kfe=we({name:"barangays",initialState:{barangays:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ro.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ro.fulfilled,(e,r)=>{e.isLoading=!1,e.barangays=Array.isArray(r.payload)?r.payload:[]}).addCase(Ro.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch barangays",console.warn("Failed to fetch barangays, using mock data.",e.error),e.barangays=Yfe}).addCase(Kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays.push(r.payload)}).addCase(Kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add barangay",console.error("Failed to add barangay:",e.error)}).addCase(kA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.barangays.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.barangays)||(e.barangays=[]),e.barangays[n]=r.payload)}).addCase(Jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays=e.barangays.filter(n=>n.ID!==r.payload)}).addCase(Jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete barangay",console.error("Failed to delete barangay:",e.error)})}}),Jfe=Kfe.reducer,gj="https://staging-engine.testthelink.online",Xfe=[],wc=U("vendorTypes/fetchVendorTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gj}/vendorType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Xg=U("vendorTypes/addVendorType",async(t,e)=>{try{const r=await fetch(`${gj}/vendorType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),TA=U("vendorTypes/updateVendorType",async(t,e)=>{try{const r=await fetch(`${gj}/vendorType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Qg=U("vendorTypes/deleteVendorType",async(t,e)=>{try{const r=await fetch(`${gj}/vendorType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Qfe=we({name:"vendorTypes",initialState:{vendorTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(wc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wc.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(wc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor types",console.warn("Failed to fetch vendor types, using mock data.",e.error),e.vendorTypes=Xfe}).addCase(Xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes.push(r.payload)}).addCase(Xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor type",console.error("Failed to add vendor type:",e.error)}).addCase(TA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes[n]=r.payload)}).addCase(Qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes=e.vendorTypes.filter(n=>n.ID!==r.payload)}).addCase(Qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor type",console.error("Failed to delete vendor type:",e.error)})}}),Zfe=Qfe.reducer,yj="https://staging-engine.testthelink.online",eme=[],Ji=U("industries/fetchIndustries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yj}/industryType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Zg=U("industries/addIndustry",async(t,e)=>{try{const r=await fetch(`${yj}/industryType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),PA=U("industries/updateIndustry",async(t,e)=>{try{const r=await fetch(`${yj}/industryType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ey=U("industries/deleteIndustry",async(t,e)=>{try{const r=await fetch(`${yj}/industryType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),tme=we({name:"industries",initialState:{industries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ji.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ji.fulfilled,(e,r)=>{e.isLoading=!1,e.industries=Array.isArray(r.payload)?r.payload:[]}).addCase(Ji.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch industries",console.warn("Failed to fetch industries, using mock data.",e.error),e.industries=eme}).addCase(Zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries.push(r.payload)}).addCase(Zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add industry",console.error("Failed to add industry:",e.error)}).addCase(PA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(PA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.industries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.industries)||(e.industries=[]),e.industries[n]=r.payload)}).addCase(ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries=e.industries.filter(n=>n.ID!==r.payload)}).addCase(ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete industry",console.error("Failed to delete industry:",e.error)})}}),rme=tme.reducer,bj="https://staging-engine.testthelink.online",nme=[],Zn=U("taxCodes/fetchTaxCodes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bj}/taxCode`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ty=U("taxCodes/addTaxCode",async(t,e)=>{try{const r=await fetch(`${bj}/taxCode`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),EA=U("taxCodes/updateTaxCode",async(t,e)=>{try{const r=await fetch(`${bj}/taxCode/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ry=U("taxCodes/deleteTaxCode",async(t,e)=>{try{const r=await fetch(`${bj}/taxCode/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ame=we({name:"taxCodes",initialState:{taxCodes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Zn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zn.fulfilled,(e,r)=>{e.isLoading=!1,e.taxCodes=Array.isArray(r.payload)?r.payload:[]}).addCase(Zn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax codes",console.warn("Failed to fetch tax codes, using mock data.",e.error),e.taxCodes=nme}).addCase(ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes.push(r.payload)}).addCase(ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax code",console.error("Failed to add tax code:",e.error)}).addCase(EA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(EA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxCodes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes[n]=r.payload)}).addCase(ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes=e.taxCodes.filter(n=>n.ID!==r.payload)}).addCase(ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax code",console.error("Failed to delete tax code:",e.error)})}}),sme=ame.reducer,xj="https://staging-engine.testthelink.online",ome=[],Xi=U("paymentTerms/fetchPaymentTerms",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xj}/paymentTerms`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ny=U("paymentTerms/addPaymentTerm",async(t,e)=>{try{const r=await fetch(`${xj}/paymentTerms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),DA=U("paymentTerms/updatePaymentTerm",async(t,e)=>{try{const r=await fetch(`${xj}/paymentTerms/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ay=U("paymentTerms/deletePaymentTerm",async(t,e)=>{try{const r=await fetch(`${xj}/paymentTerms/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ime=we({name:"paymentTerms",initialState:{paymentTerms:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Xi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xi.fulfilled,(e,r)=>{e.isLoading=!1,e.paymentTerms=Array.isArray(r.payload)?r.payload:[]}).addCase(Xi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch payment terms",console.warn("Failed to fetch payment terms, using mock data.",e.error),e.paymentTerms=ome}).addCase(ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms.push(r.payload)}).addCase(ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add payment term",console.error("Failed to add payment term:",e.error)}).addCase(DA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(DA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.paymentTerms.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms[n]=r.payload)}).addCase(ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms=e.paymentTerms.filter(n=>n.ID!==r.payload)}).addCase(ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete payment term",console.error("Failed to delete payment term:",e.error)})}}),lme=ime.reducer,vj="https://staging-engine.testthelink.online",cme=[],Qi=U("modeOfPayments/fetchModeOfPayments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${vj}/paymentMethod`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),sy=U("modeOfPayments/addModeOfPayment",async(t,e)=>{try{const r=await fetch(`${vj}/paymentMethod`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),OA=U("modeOfPayments/updateModeOfPayment",async(t,e)=>{try{const r=await fetch(`${vj}/paymentMethod/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),oy=U("modeOfPayments/deleteModeOfPayment",async(t,e)=>{try{const r=await fetch(`${vj}/paymentMethod/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ume=we({name:"modeOfPayments",initialState:{modeOfPayments:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Qi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qi.fulfilled,(e,r)=>{e.isLoading=!1,e.modeOfPayments=Array.isArray(r.payload)?r.payload:[]}).addCase(Qi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch mode of payments",console.warn("Failed to fetch mode of payments, using mock data.",e.error),e.modeOfPayments=cme}).addCase(sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments.push(r.payload)}).addCase(sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add mode of payment",console.error("Failed to add mode of payment:",e.error)}).addCase(OA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(OA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modeOfPayments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments[n]=r.payload)}).addCase(oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments=e.modeOfPayments.filter(n=>n.ID!==r.payload)}).addCase(oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete mode of payment",console.error("Failed to delete mode of payment:",e.error)})}}),dme=ume.reducer;function fme(){const t=de(),{vendorDetails:e,isLoading:r}=H(B=>B.vendorDetails),{Add:n,Edit:a,Delete:s}=Ce(91),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null),{regions:y}=H(B=>B.regions),{provinces:p}=H(B=>B.provinces),{municipalities:b}=H(B=>B.municipalities),{barangays:g}=H(B=>B.barangays),{vendorTypes:v}=H(B=>B.vendorTypes),{industries:j}=H(B=>B.industries),{taxCodes:C}=H(B=>B.taxCodes),{paymentTerms:x}=H(B=>B.paymentTerms),{modeOfPayments:N}=H(B=>B.modeOfPayments);w.useEffect(()=>{t(Va()),t(Do()),t(Oo()),t(_o()),t(Ro()),t(wc()),t(Ji()),t(Zn()),t(Xi()),t(Qi())},[t]);const S=y.map(B=>({value:B.ID,label:B.Name})),A=p.map(B=>({value:B.ID,label:B.Name})),I=b.map(B=>({value:B.ID,label:B.Name})),T=g.map(B=>({value:B.ID,label:B.Name})),E=v.map(B=>({value:B.ID,label:B.Name})),R=j.map(B=>({value:B.ID,label:B.Name})),M=C.map(B=>({value:B.ID,label:B.Code})),L=x.map(B=>({value:B.ID,label:B.Name})),P=N.map(B=>({value:B.ID,label:B.Name})),_=()=>{u(null),l(!0)},q=B=>{u(B),l(!0)},F=B=>{h(B),f(!0)},O=async()=>{if(m)try{await t(Vg(m.ID)).unwrap(),f(!1),h(null),z.success("Vendor details deleted successfully")}catch(B){console.error("Failed to delete vendor details:",B)}},V=async B=>{try{c?(await t(CA({...B,ID:c.ID})).unwrap(),z.success("Vendor details updated successfully")):(await t(qg(B)).unwrap(),z.success("Vendor details added successfully")),t(Va())}catch(Q){console.error("Failed to save vendor details:",Q),z.error("Failed to save vendor details. Please try again.")}finally{l(!1)}},W=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Vendor",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:B=>{const Q=x.find(fe=>fe.ID==B);return(Q==null?void 0:Q.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:B=>{const Q=N.find(fe=>fe.ID==B);return(Q==null?void 0:Q.Name)||"N/A"}},{key:"DeliveryLeadTime",header:"Time (no. of Days)",sortable:!0,render:B=>B||"0"},{key:"TIN",header:"TIN",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:B=>B?"Yes":"No"},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:B=>{const Q=C.find(fe=>fe.ID==B);return(Q==null?void 0:Q.Code)||"N/A"}},{key:"TypeID",header:"Vendor Type",sortable:!0,render:B=>{const Q=v.find(fe=>fe.ID==B);return(Q==null?void 0:Q.Name)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:B=>{const Q=j.find(fe=>fe.ID==B);return(Q==null?void 0:Q.Name)||"N/A"}},{key:"ContactPerson",header:"Contact Person",sortable:!0},{key:"PhoneNumber",header:"Phone Number",sortable:!0},{key:"MobileNumber",header:"Mobile Number",sortable:!0},{key:"EmailAddress",header:"Email Address",sortable:!0},{key:"Website",header:"Website",sortable:!0,render:B=>B||"No website"},{key:"StreetAddress",header:"StreetAddress",sortable:!0},{key:"BarangayID",header:"Barangay",sortable:!0,render:B=>{const Q=g.find(fe=>fe.ID==B);return(Q==null?void 0:Q.Name)||"N/A"}},{key:"MunicipalityID",header:"Municipality",sortable:!0,render:B=>{const Q=b.find(fe=>fe.ID==B);return(Q==null?void 0:Q.Name)||"N/A"}},{key:"ProvinceID",header:"Province",sortable:!0,render:B=>{const Q=p.find(fe=>fe.ID==B);return(Q==null?void 0:Q.Name)||"N/A"}},{key:"RegionID",header:"Region",sortable:!0,render:B=>{const Q=y.find(fe=>fe.ID==B);return(Q==null?void 0:Q.Name)||"N/A"}},{key:"ZIPCode",header:"ZIPCode",sortable:!0}],$=[a&&{icon:Pe,title:"Edit",onClick:q,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:F,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Details"}),o.jsx("p",{children:"Manage Vendor Details"})]}),n&&o.jsxs("button",{type:"button",onClick:_,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Details"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:W,data:e,actions:$,loading:r,emptyMessage:"No vendor details found. Click 'Add Vendor Details' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Details":"Add Vendor Details",children:o.jsx(Rfe,{initialData:c,onClose:()=>l(!1),onSubmit:V,provinces:p,municipalities:b,barangays:g,regionOptions:S,provinceOptions:A,municipalityOptions:I,barangayOptions:T,vendorTypeOptions:E,industryOptions:R,taxCodeOptions:M,paymentTermsOptions:L,modeOfPaymentOptions:P})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor details "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:O,className:"btn btn-danger",children:"Delete"})]})]})]})}function mme({initialData:t,onSubmit:e,onClose:r}){const n=ce({Name:D().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const jj="https://staging-engine.testthelink.online",hme=[],lf=U("vendorCustomerTypes/fetchVendorCustomerTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${jj}/vendorCustomerType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),iy=U("vendorCustomerTypes/addVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${jj}/vendorCustomerType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),_A=U("vendorCustomerTypes/updateVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${jj}/vendorCustomerType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ly=U("vendorCustomerTypes/deleteVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${jj}/vendorCustomerType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),pme=we({name:"vendorCustomerTypes",initialState:{vendorCustomerTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(lf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lf.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorCustomerTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(lf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor customer types",console.warn("Failed to fetch vendor customer types, using mock data.",e.error),e.vendorCustomerTypes=hme}).addCase(iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes.push(r.payload)}).addCase(iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor customer type",console.error("Failed to add vendor customer type:",e.error)}).addCase(_A.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorCustomerTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes[n]=r.payload)}).addCase(ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes=e.vendorCustomerTypes.filter(n=>n.ID!==r.payload)}).addCase(ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor customer type",console.error("Failed to delete vendor customer type:",e.error)})}}),gme=pme.reducer;function yme(){const t=de(),{vendorCustomerTypes:e,isLoading:r}=H(x=>x.vendorCustomerTypes),{Add:n,Edit:a,Delete:s}=Ce(91),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(lf())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(ly(m.ID)).unwrap(),f(!1),h(null),z.success("Vendor customer type deleted successfully")}catch(x){console.error("Failed to delete vendor customer type:",x),z.error("Failed to delete vendor customer type. Please try again.")}},v=async x=>{try{c?(await t(_A({...x,ID:c.ID})).unwrap(),z.success("Vendor customer type updated successfully")):(await t(iy(x)).unwrap(),z.success("Vendor customer type saved successfully")),t(lf())}catch(N){console.error("Failed to save vendor customer type:",N),z.error("Failed to save vendor customer type. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Customer Types"}),o.jsx("p",{children:"Manage Vendor Customer Types"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Customer Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No vendor customer types found. Click 'Add Vendor Customer Type' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Customer Type":"Add Vendor Customer Type",children:o.jsx(mme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor customer type "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function bme({initialData:t,onSubmit:e,onClose:r}){const n=ce({Name:D().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function xme(){const t=de(),{vendorTypes:e,isLoading:r}=H(x=>x.vendorTypes),{Add:n,Edit:a,Delete:s}=Ce(92),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(wc())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(Qg(m.ID)).unwrap(),f(!1),h(null),z.success("Vendor type deleted successfully")}catch(x){console.error("Failed to delete vendor type:",x),z.error("Failed to delete vendor type. Please try again.")}},v=async x=>{try{c?(await t(TA({...x,ID:c.ID})).unwrap(),z.success("Vendor type updated successfully")):(await t(Xg(x)).unwrap(),z.success("Vendor type saved successfully")),t(wc())}catch(N){console.error("Failed to save vendor type:",N),z.error("Failed to save vendor type. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Types"}),o.jsx("p",{children:"Manage Vendor Types"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No vendor types found. Click 'Add Vendor Type' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Type":"Add Vendor Type",children:o.jsx(bme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor type "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function vme({initialData:t,onSubmit:e,onClose:r}){const n=ce({Description:D().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const wj="https://staging-engine.testthelink.online",jme=[],Zi=U("modules/fetchModules",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${wj}/module`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),cy=U("modules/addModule",async(t,e)=>{try{const r=await fetch(`${wj}/module`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),RA=U("modules/updateModule",async(t,e)=>{try{const r=await fetch(`${wj}/module/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),uy=U("modules/deleteModule",async(t,e)=>{try{const r=await fetch(`${wj}/module/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),wme=we({name:"modules",initialState:{modules:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Zi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zi.fulfilled,(e,r)=>{e.isLoading=!1,e.modules=Array.isArray(r.payload)?r.payload:[]}).addCase(Zi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch modules",console.warn("Failed to fetch modules, using mock data.",e.error),e.modules=jme}).addCase(cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules.push(r.payload)}).addCase(cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add module",console.error("Failed to add module:",e.error)}).addCase(RA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(RA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modules.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modules)||(e.modules=[]),e.modules[n]=r.payload)}).addCase(uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules=e.modules.filter(n=>n.ID!==r.payload)}).addCase(uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete module",console.error("Failed to delete module:",e.error)})}}),Nme=wme.reducer;function Cme(){const t=de(),{modules:e,isLoading:r}=H(v=>v.modules),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Zi())},[t]);const f=()=>{i(null),a(!0)},m=v=>{i(v),console.log("Edit module:",v),a(!0)},h=v=>{d(v),c(!0)},y=async()=>{if(u)try{await t(uy(u.ID)).unwrap(),c(!1),d(null),z.success("Module deleted successfully")}catch(v){console.error("Failed to delete module:",v),z.error("Failed to delete module. Please try again.")}},p=async v=>{try{s?(await t(RA({...v,ID:s.ID})).unwrap(),t(Zi()),z.success("Module updated successfully")):(await t(cy(v)).unwrap(),t(Zi()),z.success("Module saved successfully"))}catch(j){console.error("Failed to save module:",j),z.error("Failed to save module. Please try again.")}finally{a(!1)}},b=[{key:"Description",header:"Name",sortable:!0}],g=[{icon:Pe,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Be,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Modules"}),o.jsx("p",{children:"Manage Modules"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Module"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:b,data:e,actions:g,loading:r,emptyMessage:"No modules found. Click 'Add Module' to create one."})}),o.jsx(le,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Module":"Add Module",children:o.jsx(vme,{initialData:s,onClose:()=>a(!1),onSubmit:p})}),o.jsxs(le,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the module "',u==null?void 0:u.Description,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}const Nj="https://staging-engine.testthelink.online",Sme=[],el=U("positions/fetchPositions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Nj}/position`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),dy=U("positions/addPosition",async(t,e)=>{try{const r=await fetch(`${Nj}/position`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),$A=U("positions/updatePosition",async(t,e)=>{try{const r=await fetch(`${Nj}/position/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),fy=U("positions/deletePosition",async(t,e)=>{try{const r=await fetch(`${Nj}/position/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ame=we({name:"positions",initialState:{positions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(el.pending,e=>{e.isLoading=!0,e.error=null}).addCase(el.fulfilled,(e,r)=>{e.isLoading=!1,e.positions=Array.isArray(r.payload)?r.payload:[]}).addCase(el.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch positions",console.warn("Failed to fetch positions, using mock data.",e.error),e.positions=Sme}).addCase(dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions.push(r.payload)}).addCase(dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add position",console.error("Failed to add position:",e.error)}).addCase($A.pending,e=>{e.isLoading=!0,e.error=null}).addCase($A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.positions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.positions)||(e.positions=[]),e.positions[n]=r.payload)}).addCase(fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions=e.positions.filter(n=>n.ID!==r.payload)}).addCase(fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete position",console.error("Failed to delete position:",e.error)})}}),Ime=Ame.reducer,Cj="https://staging-engine.testthelink.online",kme=[],Nc=U("employmentStatuses/fetchEmploymentStatuses",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Cj}/employmentStatus`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),my=U("employmentStatuses/addEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${Cj}/employmentStatus`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),MA=U("employmentStatuses/updateEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${Cj}/employmentStatus/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),hy=U("employmentStatuses/deleteEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${Cj}/employmentStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Tme=we({name:"employmentStatuses",initialState:{employmentStatuses:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Nc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nc.fulfilled,(e,r)=>{e.isLoading=!1,e.employmentStatuses=Array.isArray(r.payload)?r.payload:[]}).addCase(Nc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch employment statuses",console.warn("Failed to fetch employment statuses, using mock data.",e.error),e.employmentStatuses=kme}).addCase(my.pending,e=>{e.isLoading=!0,e.error=null}).addCase(my.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses.push(r.payload)}).addCase(my.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add employment status",console.error("Failed to add employment status:",e.error)}).addCase(MA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(MA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employmentStatuses.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses[n]=r.payload)}).addCase(hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses=e.employmentStatuses.filter(n=>n.ID!==r.payload)}).addCase(hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete employment status",console.error("Failed to delete employment status:",e.error)})}}),Pme=Tme.reducer,Sj="https://staging-engine.testthelink.online",Eme=[],tl=U("nationalities/fetchNationalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Sj}/nationality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),py=U("nationalities/addNationality",async(t,e)=>{try{const r=await fetch(`${Sj}/nationality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),LA=U("nationalities/updateNationality",async(t,e)=>{try{const r=await fetch(`${Sj}/nationality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),gy=U("nationalities/deleteNationality",async(t,e)=>{try{const r=await fetch(`${Sj}/nationality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Dme=we({name:"nationalities",initialState:{nationalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(tl.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tl.fulfilled,(e,r)=>{e.isLoading=!1,e.nationalities=Array.isArray(r.payload)?r.payload:[]}).addCase(tl.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch nationalities",console.warn("Failed to fetch nationalities, using mock data.",e.error),e.nationalities=Eme}).addCase(py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities.push(r.payload)}).addCase(py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add nationality",console.error("Failed to add nationality:",e.error)}).addCase(LA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(LA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.nationalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities[n]=r.payload)}).addCase(gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities=e.nationalities.filter(n=>n.ID!==r.payload)}).addCase(gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete nationality",console.error("Failed to delete nationality:",e.error)})}}),Ome=Dme.reducer,_me=ce().shape({FirstName:D().required("First name is required").max(100,"First name must be at most 100 characters"),LastName:D().required("Last name is required").max(100,"Last name must be at most 100 characters"),MiddleName:D().max(100,"Middle name must be at most 100 characters"),Birthday:Ue().required("Birth date is required").max(new Date,"Birth date cannot be in the future"),Gender:D().required("Gender is required"),StreetAddress:D().required("Address is required").max(200,"Address must be at most 200 characters"),MobileNumber:D().required("Contact number is required"),EmailAddress:D().email("Invalid email address").required("Email is required"),IDNumber:X(),DepartmentID:X().required("Department is required"),PositionID:D().required("Position is required"),NationalityID:D().required("Nationality is required"),EmploymentStatusID:D().required("Employment status is required"),DateHired:Ue().required("Date hired is required"),TIN:D().matches(/^\d{14}$/,"TIN must be exactly 14 digits"),GSIS:D(),Philhealth:D(),Pagibig:D(),Active:D().required("Status is required"),ZIPCode:D().max(6,"ZIP code must be at most 6 characters"),Region:D().required("Region is required"),Province:D().required("Province is required"),Municipality:D().required("Municipality is required"),Barangay:D().required("Barangay is required")});function Rme({initialData:t,onClose:e}){const r=de();w.useEffect(()=>{r(cr()),r(el()),r(Nc()),r(Do()),r(Oo()),r(_o()),r(Ro()),r(tl())},[r]);const{regions:n}=H(T=>T.regions),{provinces:a}=H(T=>T.provinces),{municipalities:s}=H(T=>T.municipalities),{barangays:i}=H(T=>T.barangays),{nationalities:l}=H(T=>T.nationalities),c=l==null?void 0:l.map(T=>({value:T.ID,label:T.Name})),u=n.map(T=>({value:T.ID.toString(),label:T.Name})),d=a.map(T=>({value:T.ID.toString(),label:T.Name})),f=s.map(T=>({value:T.ID.toString(),label:T.Name})),m=i.map(T=>({value:T.ID.toString(),label:T.Name})),{departments:h,isLoading:y}=H(T=>T.departments),p=h.map(T=>({value:T.ID,label:T.Name})),{positions:b,isLoading:g}=H(T=>T.positions),v=b.map(T=>({value:T.ID,label:T.Name})),{employmentStatuses:j,isLoading:C}=H(T=>T.employmentStatuses),x=j.map(T=>({value:T.ID,label:T.Name})),[N,S]=w.useState(!1);console.log(t);const A=t?{...t}:{FirstName:"",LastName:"",MiddleName:"",Birthday:"",Gender:"",StreetAddress:"",MobileNumber:"",EmailAddress:"",DepartmentID:"",PositionID:"",IDNumber:"",NationalityID:"",Nationality:"",EmploymentStatusID:"",DateHired:new Date().toISOString().split("T")[0],TIN:"",GSIS:"",Philhealth:"",Pagibig:"",Active:1,ZIPCode:"",Region:"",Province:"",Municipality:"",Barangay:""},I=T=>{var L;S(!0);const E=((L=h.find(P=>P.value===Number(T.DepartmentID)))==null?void 0:L.label)||"",R={...T,DepartmentID:Number(T.DepartmentID),departmentName:E},M=t?Sg({...R,id:t.id,employeeCode:t.employeeCode}):Cg(R);r(M).unwrap().then(()=>{t?z.success("Employee updated successfully."):z.success("Employee added successfully."),r(dn())}).catch(P=>{console.error("Error submitting employee:",P),z.error("Failed to submit employee. Please try again.")}).finally(()=>{e(),S(!1)})};return o.jsx(qe,{initialValues:A,validationSchema:_me,onSubmit:I,enableReinitialize:!0,children:({values:T,errors:E,touched:R,handleChange:M,handleBlur:L,isValid:P,setFieldValue:_,submitCount:q})=>(w.useEffect(()=>{const F=i.find(O=>O.ID.toString()===T.Barangay);if(F){const{MunicipalityCode:O,ProvinceCode:V,RegionCode:W}=F;O&&_("Municipality",O),V&&_("Province",V),W&&_("Region",W)}},[T.Barangay]),w.useEffect(()=>{const F=s.find(O=>O.ID.toString()===T.Municipality);if(F){const{ProvinceCode:O,RegionCode:V}=F;O&&_("Province",O),V&&_("Region",V)}},[T.Municipality]),w.useEffect(()=>{const F=a.find(O=>O.ID.toString()===T.Province);if(F){const{RegionCode:O}=F;O&&_("Region",O)}},[T.Province]),o.jsxs(We,{className:"space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"I. Personal Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsx(k,{label:"First name",name:"FirstName",type:"text",required:!0,value:T.FirstName,onChange:M,onBlur:L,error:E.FirstName,touched:R.FirstName}),o.jsx(k,{label:"Middle name",name:"MiddleName",type:"text",value:T.MiddleName,onChange:M,onBlur:L,error:E.MiddleName,touched:R.MiddleName}),o.jsx(k,{label:"Last name",name:"LastName",type:"text",required:!0,value:T.LastName,onChange:M,onBlur:L,error:E.LastName,touched:R.LastName}),o.jsx(k,{label:"Gender",name:"Gender",type:"select",required:!0,value:T.Gender,onChange:M,onBlur:L,error:E.Gender,touched:R.Gender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}),o.jsx(k,{label:"Birthdate",name:"Birthday",type:"date",required:!0,value:T.Birthday,onChange:M,onBlur:L,error:E.Birthday,touched:R.Birthday})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"II. Address & Contact Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Address Information"}),o.jsx(k,{label:"Region",name:"Region",type:"select",required:!0,options:u,value:T.Region||"",onChange:M}),o.jsx(k,{label:"Province",name:"Province",type:"select",required:!0,options:d,value:T.Province||"",onChange:M}),o.jsx(k,{label:"Municipality",name:"Municipality",type:"select",required:!0,options:f,value:T.Municipality||"",onChange:M}),o.jsx(k,{label:"Barangay",name:"Barangay",type:"select",required:!0,options:m,value:T.Barangay||"",onChange:M}),o.jsx(k,{label:"Street Address",name:"StreetAddress",type:"text",required:!0,value:T.StreetAddress||"",onChange:M,onBlur:L,error:E.StreetAddress,touched:R.StreetAddress})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Contact Information"}),o.jsx(ut,{label:"Nationality",name:"NationalityID",type:"select",options:c,required:!0,placeholder:"Select Nationality",onSelect:F=>{const O=c.find(V=>V.value===F);_("NationalityID",F||""),_("Nationality",(O==null?void 0:O.label)||"")},className:"w-full",selectedValue:T.NationalityID,error:E.Nationality,touched:R.Nationality}),o.jsx(k,{label:"Zip Code",name:"ZIPCode",type:"text",value:T.ZIPCode||"",onChange:M,onBlur:L,error:E.ZIPCode,touched:R.ZIPCode}),o.jsx(k,{label:"Mobile Number",name:"MobileNumber",type:"text",required:!0,value:T.MobileNumber||"",onChange:M,onBlur:L,error:E.MobileNumber,touched:R.MobileNumber}),o.jsx(k,{label:"Email",name:"EmailAddress",type:"email",required:!0,value:T.EmailAddress||"",onChange:M,onBlur:L,error:E.EmailAddress,touched:R.EmailAddress}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"Emergency Contact",name:"EmergencyContact",type:"text",value:T.EmergencyContact||"",onChange:M,onBlur:L,error:E.EmergencyContact,touched:R.EmergencyContact}),o.jsx(k,{label:"Emergency Number",name:"EmergencyNumber",type:"text",value:T.EmergencyNumber||"",onChange:M,onBlur:L,error:E.EmergencyNumber,touched:R.EmergencyNumber})]})]})]})]}),o.jsxs("div",{className:"pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"III. Employment and IDs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"ID Number",name:"IDNumber",type:"text",value:T.IDNumber||"",onChange:M}),o.jsx(k,{label:"TIN",name:"TIN",type:"text",value:T.TIN||"",onChange:M,onBlur:L,error:E.TIN,touched:R.TIN})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"PAG-IBIG",name:"Pagibig",type:"text",value:T.Pagibig||"",onChange:M,onBlur:L,error:E.Pagibig,touched:R.Pagibig}),o.jsx(k,{label:"GSIS",name:"GSIS",type:"text",value:T.GSIS||"",onChange:M,onBlur:L,error:E.GSIS,touched:R.GSIS})]}),o.jsx(k,{label:"Philhealth",name:"Philhealth",type:"text",value:T.Philhealth||"",onChange:M,onBlur:L,error:E.Philhealth,touched:R.Philhealth}),o.jsx(k,{label:"Department",name:"DepartmentID",type:"select",required:!0,value:T.DepartmentID||"",onChange:M,onBlur:L,error:E.DepartmentID,touched:R.DepartmentID,options:p,disabled:y})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"Date Hired",name:"DateHired",type:"date",required:!0,value:T.DateHired||"",onChange:M,onBlur:L,error:E.DateHired,touched:R.DateHired}),o.jsx(k,{label:"Employment Status",name:"EmploymentStatusID",type:"select",required:!0,value:T.EmploymentStatusID||"",onChange:M,onBlur:L,error:E.EmploymentStatusID,touched:R.EmploymentStatusID,options:x,disabled:C})]}),o.jsx(k,{label:"Employment Status Date",name:"EmploymentStatusDate",type:"date",value:T.EmploymentStatusDate||"",onChange:M,readOnly:!0}),o.jsx(k,{label:"Position",name:"PositionID",type:"select",required:!0,value:T.PositionID||"",onChange:M,onBlur:L,error:E.PositionID,touched:R.PositionID,options:v,disabled:g}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",className:"btn btn-outline",children:"Choose"})})}),o.jsx("div",{className:"mt-2",children:o.jsxs("p",{className:"text-sm text-gray-500",children:[[T.FirstName,T.MiddleName,T.LastName].filter(Boolean).join(" "),T.TIN&&` - ${T.TIN}`,T.DepartmentID&&` - ${T.DepartmentID}`]})})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:N,className:"btn btn-primary",children:N?"Saving...":t?"Update":"Save"})]}),q>0&&Object.keys(E).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(E).map(([F,O])=>o.jsx("li",{children:O},F))})]})]}))})}function $me(){const t=de(),{employees:e,isLoading:r}=H(x=>x.employees),{Add:n,Edit:a,Delete:s}=Ce(43),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(dn())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{try{m&&(t(Ag(m.ID)),f(!1),h(null),z.success("Employee deleted successfully"))}catch(x){console.error("Failed to delete employee:",x),z.error("Failed to delete employee. Please try again.")}},v=()=>{l(!1),u(null)},j=[{key:"IDNumber",header:"ID Number",sortable:!0,className:"font-medium text-neutral-900"},{key:"FirstName",header:"First Name",sortable:!0},{key:"MiddleName",header:"Middle Name",sortable:!0},{key:"LastName",header:"Last Name",sortable:!0},{key:"Department",header:"Department",sortable:!0,render:x=>(x==null?void 0:x.Name)||""},{key:"Position",header:"Position",sortable:!0,render:x=>(x==null?void 0:x.Name)||""},{key:"EmploymentStatus",header:"Employment Status",sortable:!0,render:x=>(x==null?void 0:x.Name)||""}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employees"}),o.jsx("p",{children:"Manage employee information and records"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employee"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r})}),o.jsx(le,{isOpen:i,onClose:v,title:c?"Edit Employee":"Add Employee",size:"lg",children:o.jsx(Rme,{initialData:c,onClose:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the employee"," ",o.jsxs("span",{className:"font-medium",children:[m==null?void 0:m.FirstName," ",m==null?void 0:m.LastName]}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Mme({initialData:t,onSubmit:e,onClose:r}){const n=ce({Name:D().required("Employment Status is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Employment Status",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Lme(){const t=de(),{employmentStatuses:e,isLoading:r}=H(x=>x.employmentStatuses),{Add:n,Edit:a,Delete:s}=Ce(93),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Nc())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(hy(m.ID)).unwrap(),f(!1),h(null),z.success("Employment status deleted successfully")}catch(x){console.error("Failed to delete employment status:",x),z.error("Failed to delete employment status. Please try again.")}},v=async x=>{try{c?(await t(MA({...x,ID:c.ID})).unwrap(),z.success("Employment status updated successfully")):(await t(my(x)).unwrap(),z.success("Employment status saved successfully")),t(Nc())}catch(N){console.error("Failed to save employment status:",N),z.error("Failed to save employment status. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Employment Status",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employment Status"}),o.jsx("p",{children:"Manage Employment Statuses"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employment Status"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No employment statuses found. Click 'Add Employment Status' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Employment Status":"Add Employment Status",children:o.jsx(Mme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the employment status "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Fme({initialData:t,onSubmit:e,onClose:r}){const n=ce({Name:D().required("Position is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Position Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Bme(){const t=de(),{positions:e,isLoading:r}=H(x=>x.positions),{Add:n,Edit:a,Delete:s}=Ce(36),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(el())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(fy(m.ID)).unwrap(),f(!1),h(null),z.success("Position deleted successfully")}catch(x){console.error("Failed to delete position:",x),z.error("Failed to delete position. Please try again.")}},v=async x=>{try{c?(await t($A({...x,ID:c.ID})).unwrap(),z.success("Position updated successfully")):(await t(dy(x)).unwrap(),z.success("Position saved successfully")),t(el())}catch(N){console.error("Failed to save position:",N),z.error("Failed to save position. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Position",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Position"}),o.jsx("p",{children:"Manage Positions"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Position"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No positions found. Click 'Add Position' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Position":"Add Position",children:o.jsx(Fme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the position "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function qme({initialData:t,onSubmit:e,onClose:r}){const n=ce({Description:D().required("User Role is required")}),a=tt({initialValues:t||{Description:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Role",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Vme(){const t=de(),{userroles:e,isLoading:r}=H(x=>x.userroles),{Add:n,Edit:a,Delete:s}=Ce(84),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Eo())},[t]);const y=()=>{u(null),l(!0)},p=x=>{if(x.Description=="Administrator"){z.error("The 'Administrator' role cannot be edited.");return}u(x),l(!0)},b=x=>{if(x.Description=="Administrator"){z.error("The 'Administrator' role cannot be deleted.");return}h(x),f(!0)},g=async()=>{if(m)try{await t(kg(m.ID)).unwrap(),f(!1),h(null),z.success("User role deleted successfully")}catch(x){console.error("Failed to delete user role:",x),z.error("Failed to delete user role. Please try again.")}},v=async x=>{try{c?(await t(NA({...x,ID:c.ID})).unwrap(),t(Eo()),z.success("User role updated successfully")):(await t(Ig(x)).unwrap(),t(Eo()),z.success("User role saved successfully"))}catch(N){console.error("Failed to save user role:",N),z.error("Failed to save user role. Please try again.")}finally{l(!1)}},j=[{key:"Description",header:"User Role",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"User Roles"}),o.jsx("p",{children:"Manage User Roles"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User Role"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No user roles found. Click 'Add User Role' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit User Role":"Add User Role",children:o.jsx(qme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the user role "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ume({initialData:t,onSubmit:e,onClose:r}){const n=ce({Name:D().required("Nationality is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Nationality Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function zme(){const t=de(),{nationalities:e,isLoading:r}=H(x=>x.nationalities),{Add:n,Edit:a,Delete:s}=Ce(94),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(tl())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(gy(m.ID)).unwrap(),f(!1),h(null),z.success("Nationality deleted successfully")}catch(x){console.error("Failed to delete nationality:",x),z.error("Failed to delete nationality. Please try again.")}},v=async x=>{try{c?(await t(LA({...x,ID:c.ID})).unwrap(),z.success("Nationality updated successfully")):(await t(py(x)).unwrap(),z.success("Nationality saved successfully")),t(tl())}catch(N){console.error("Failed to save nationality:",N),z.error("Failed to save nationality. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Nationality",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Nationalities"}),o.jsx("p",{children:"Manage Nationalities"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Nationality"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No nationalities found. Click 'Add Nationality' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Nationality":"Add Nationality",children:o.jsx(Ume,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the nationality "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const rt={required:"This field is required",positiveNumber:"Amount must be greater than 0",futureDate:"Date cannot be in the future"};ce().shape({date:Ue().required(rt.required).max(new Date,rt.futureDate),reference:D().max(50,"Reference number too long"),particulars:D().required(rt.required).max(500,"Particulars too long"),debitEntries:zt().of(ce().shape({accountCode:D().required("Account code is required"),amount:X().required("Amount is required").moreThan(0,rt.positiveNumber)})).min(1,"At least one debit entry is required"),creditEntries:zt().of(ce().shape({accountCode:D().required("Account code is required"),amount:X().required("Amount is required").moreThan(0,rt.positiveNumber)})).min(1,"At least one credit entry is required")}).test("balancedEntries","Total debits must equal total credits",function(t){if(!t.debitEntries||!t.creditEntries)return!0;const e=t.debitEntries.reduce((n,a)=>n+(Number(a.amount)||0),0),r=t.creditEntries.reduce((n,a)=>n+(Number(a.amount)||0),0);return Math.abs(e-r)<.01});const pR=ce().shape({date:Ue().required(rt.required).max(new Date,rt.futureDate),period:D().required(rt.required),stallNumber:D().required(rt.required).matches(/^[A-Z]-\d{3}$/,"Invalid stall number format (e.g., A-101)"),stallType:D().required(rt.required),stallOwner:D().required(rt.required).max(100,"Name too long"),amount:X().required(rt.required).moreThan(0,rt.positiveNumber)});ce().shape({certificateNo:D().required("Certificate number is required").matches(/^[A-Z0-9-]+$/,"Certificate number can only contain uppercase letters, numbers, and hyphens"),date:Ue().required("Date is required").max(new Date,"Date cannot be in the future"),placeOfIssue:D().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters").max(100,"Place of issue must not exceed 100 characters"),name:D().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),address:D().required("Address is required").min(5,"Address must be at least 5 characters").max(200,"Address must not exceed 200 characters"),tin:D().matches(/^$|^\d{9}(\d{3})?$/,"Invalid TIN format (9 or 12 digits)").nullable(),civilStatus:D().required("Civil status is required").oneOf(["single","married","widowed","separated","divorced"],"Invalid civil status"),nationality:D().required("Nationality is required").min(2,"Nationality must be at least 2 characters").max(50,"Nationality must not exceed 50 characters"),occupation:D().required("Occupation/Business is required").min(2,"Occupation/Business must be at least 2 characters").max(100,"Occupation/Business must not exceed 100 characters"),placeOfBirth:D().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters").max(100,"Place of birth must not exceed 100 characters"),dateOfBirth:Ue().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future"),gender:D().required("Gender is required").oneOf(["male","female"],"Invalid gender"),height:X().min(0,"Height cannot be negative").max(300,"Height seems too large").nullable(),weight:X().min(0,"Weight cannot be negative").max(1e3,"Weight seems too large").nullable(),contactNumber:D().matches(/^$|^[0-9+\s-()]+$/,"Invalid contact number format").max(20,"Contact number must not exceed 20 characters").nullable(),businessGrossReceipts:X().min(0,"Amount cannot be negative").nullable(),occupationGrossReceipts:X().min(0,"Amount cannot be negative").nullable(),realPropertyIncome:X().min(0,"Amount cannot be negative").nullable(),purpose:D().required("Purpose is required").min(5,"Purpose must be at least 5 characters").max(500,"Purpose must not exceed 500 characters"),amount:X().required("Amount is required").min(0,"Amount must be greater than or equal to 0").max(1e6,"Amount must not exceed 1,000,000"),interest:X().min(0,"Interest cannot be negative").nullable()});ce().shape({date:Ue().required(rt.required).max(new Date,rt.futureDate),tdNumber:D().required(rt.required).matches(/^TD-\d{3}-\d{4}$/,"Invalid TD number format (e.g., TD-123-2024)"),taxpayerName:D().required(rt.required).max(100,"Name too long"),location:D().required(rt.required).max(200,"Location too long"),basicTax:X().required(rt.required).moreThan(0,rt.positiveNumber),sef:X().required(rt.required).moreThan(0,rt.positiveNumber),penalty:X().min(0,"Amount cannot be negative")});const Wme=ce().shape({Name:D().required(rt.required).max(100,"Name too long"),MunicipalityCode:D().required(rt.required),ProvinceCode:D().required(rt.required),RegionCode:D().required(rt.required)}),Hme=ce().shape({Name:D().required(rt.required).max(100,"Name too long"),ProvinceCode:D().required(rt.required),RegionCode:D().required(rt.required)}),Gme=ce().shape({Name:D().required(rt.required).max(100,"Name too long"),RegionCode:D().required(rt.required)}),gR=ce().shape({Name:D().required(rt.required).max(100,"Name too long")});ce().shape({id:D().required("ID is required"),status:D().required("Status is required").oneOf(["posted","rejected","approved"],"Invalid status"),invoiceDate:Ue().required("Invoice date is required").max(new Date,"Invoice date cannot be in the future"),payorName:D().required("Payor name is required").min(2,"Payor name must be at least 2 characters").max(100,"Payor name must not exceed 100 characters"),date:Ue().required("Date is required").max(new Date,"Date cannot be in the future"),agency:D().required("Agency is required").min(2,"Agency must be at least 2 characters").max(100,"Agency must not exceed 100 characters"),fund:D().required("Fund is required").oneOf(["General funds","Other fund option 1","Other fund option 2"],"Invalid fund option"),taxpayerType:D().required("Taxpayer type is required").oneOf(["Individual","Corporation"],"Invalid taxpayer type")});const dp={region:71,province:67,municipality:61,barangay:19};function Yme(){const[t,e]=w.useState("region"),[r,n]=w.useState(!1),[a,s]=w.useState(null),[i,l]=w.useState(!1),[c,u]=w.useState(null),d={region:"Regions",province:"Provinces",municipality:"Municipalities",barangay:"Barangays"},f=de(),{regions:m}=H(O=>O.regions),{provinces:h}=H(O=>O.provinces),{municipalities:y}=H(O=>O.municipalities),{barangays:p}=H(O=>O.barangays);w.useEffect(()=>{f(Do()),f(Oo()),f(_o()),f(Ro())},[f]);const b=()=>{switch(t){case"region":return gR;case"province":return Gme;case"municipality":return Hme;case"barangay":return Wme;default:return gR}},g=Ce(dp.region),v=Ce(dp.province),j=Ce(dp.municipality),C=Ce(dp.barangay),x=()=>{switch(t){case"region":return g;case"province":return v;case"municipality":return j;case"barangay":return C;default:return{Add:!1,Edit:!1,Delete:!1}}},N=()=>{switch(t){case"region":return[{key:"Name",header:"Region",sortable:!0}];case"province":return[{key:"RegionName",header:"Region",sortable:!0},{key:"Name",header:"Province",sortable:!0}];case"municipality":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"Name",header:"Municipality",sortable:!0}];case"barangay":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"MunicipalityName",header:"Municipality",sortable:!0},{key:"Name",header:"Barangay",sortable:!0}];default:return[]}},S=()=>{switch(t){case"region":return m;case"province":return h.map(O=>({...O,RegionName:q(O.RegionCode,m)}));case"municipality":return y.map(O=>({...O,RegionName:q(O.RegionCode,m),ProvinceName:q(O.ProvinceCode,h)}));case"barangay":return p.map(O=>({...O,RegionName:q(O.RegionCode,m),ProvinceName:q(O.ProvinceCode,h),MunicipalityName:q(O.MunicipalityCode,y)}));default:return[]}},A=()=>{switch(t){case"region":return Ug;case"province":return Wg;case"municipality":return Gg;case"barangay":return Kg;default:return null}},I=()=>{switch(t){case"region":return SA;case"province":return AA;case"municipality":return IA;case"barangay":return kA;default:return null}},T=()=>{switch(t){case"region":return zg;case"province":return Hg;case"municipality":return Yg;case"barangay":return Jg;default:return null}},E=[x().Edit&&{icon:Pe,title:"Edit",onClick:O=>M(O),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},x().Delete&&{icon:Be,title:"Delete",onClick:O=>L(O),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],R=()=>{s(null),n(!0)},M=O=>{s(O),n(!0)},L=O=>{u(O),l(!0)},P=async()=>{try{c&&(await f(T()(c.ID)).unwrap(),l(!1),u(null),z.success("Location deleted successfully"))}catch(O){console.error("Failed to delete location:",O),z.error("Failed to delete location. Please try again.")}};w.useEffect(()=>{r&&_.resetForm({values:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""}})},[r,a]);const _=tt({initialValues:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""},enableReinitialize:!0,validationSchema:b(),onSubmit:async(O,{setSubmitting:V})=>{const W=a?I():A(),$=a?{...a,...O}:O;try{await f(W($)).unwrap(),z.success("Location saved successfully")}catch(B){console.error("Failed to save location:",B),z.error("Failed to save location. Please try again.")}finally{n(!1),V(!1)}}}),q=(O,V)=>{const W=V.find($=>$.ID.toString()===O.toString());return W?W.Name:""},F=()=>{const O={formik:_,onChange:_.handleChange,onBlur:_.handleBlur,required:!0};switch(console.log("Active Tab:",t),t){case"region":return o.jsx(k,{label:"Region",name:"Name",type:"text",placeholder:"Enter region name",value:_.values.Name,error:_.errors.Name,touched:_.touched.Name,...O});case"province":return o.jsxs(o.Fragment,{children:[o.jsx(k,{label:"Province",name:"Name",type:"text",placeholder:"Enter province name",value:_.values.Name,error:_.errors.Name,touched:_.touched.Name,...O}),o.jsx(k,{label:"Region",name:"RegionCode",type:"select",options:m.map(V=>({value:V.ID,label:V.Name})),value:_.values.RegionCode,error:_.errors.RegionCode,touched:_.touched.RegionCode,...O})]});case"municipality":return o.jsxs(o.Fragment,{children:[o.jsx(k,{label:"Municipality",name:"Name",type:"text",value:_.values.Name,error:_.errors.Name,touched:_.touched.Name,placeholder:"Enter municipality name",...O}),o.jsx(k,{label:"Province",name:"ProvinceCode",type:"select",options:h.map(V=>({value:V.ID,label:V.Name})),value:_.values.ProvinceCode,error:_.errors.ProvinceCode,touched:_.touched.ProvinceCode,onChange:V=>{const W=V.target.value,$=h.find(B=>B.ID.toString()===W.toString());_.setFieldValue("ProvinceCode",W),$&&_.setFieldValue("RegionCode",$.RegionCode)},onBlur:_.handleBlur,required:!0}),o.jsx(k,{label:"Region",name:"RegionCode",type:"text",value:q(_.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});case"barangay":return o.jsxs(o.Fragment,{children:[o.jsx(k,{label:"Barangay",name:"Name",type:"text",value:_.values.Name,error:_.errors.Name,touched:_.touched.Name,placeholder:"Enter barangay name",...O}),o.jsx(k,{label:"Municipality",name:"MunicipalityCode",type:"select",options:y.map(V=>({value:V.ID,label:V.Name})),value:_.values.MunicipalityCode,error:_.errors.MunicipalityCode,touched:_.touched.MunicipalityCode,onChange:V=>{const W=V.target.value,$=y.find(B=>B.ID.toString()===W.toString());_.setFieldValue("MunicipalityCode",W),$&&(_.setFieldValue("ProvinceCode",$.ProvinceCode),_.setFieldValue("RegionCode",$.RegionCode))},onBlur:_.handleBlur,required:!0}),o.jsx(k,{label:"Province",name:"ProvinceCode",type:"text",value:q(_.values.ProvinceCode,h),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"}),o.jsx(k,{label:"Region",name:"RegionCode",type:"text",value:q(_.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});default:return null}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Locations"}),o.jsx("p",{children:"Manage regions, provinces, municipalities, and barangays"})]}),x().Add&&o.jsxs("button",{type:"button",onClick:R,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add ",t.charAt(0).toUpperCase()+t.slice(1)]})]})}),o.jsx("div",{className:"flex mb-6 border-b border-neutral-200",children:o.jsx("nav",{className:"-mb-px flex flex-wrap gap-x-10 gap-y-0",children:["region","province","municipality","barangay"].map(O=>o.jsx("button",{onClick:()=>e(O),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===O?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:d[O]},O))})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:N(),data:S(),actions:E,pagination:!0})}),o.jsx(le,{isOpen:r,onClose:()=>n(!1),title:a?`Edit ${t}`:`New ${t}`,children:o.jsxs("form",{onSubmit:_.handleSubmit,className:"sm:p-4 space-y-4",children:[F(),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:_.isSubmitting,children:_.isSubmitting?"Saving...":a?"Update":"Save"})]})]})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:"Confirm Delete",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete this ",t,"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:P,className:"btn btn-danger",children:"Delete"})]})]})})]})}const Aj="https://staging-engine.testthelink.online",Kme=[],Cc=U("ppeCategories/fetchPpeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Aj}/ppeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),yy=U("ppeCategories/addPpeCategory",async(t,e)=>{try{const r=await fetch(`${Aj}/ppeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),FA=U("ppeCategories/updatePpeCategory",async(t,e)=>{try{const r=await fetch(`${Aj}/ppeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),by=U("ppeCategories/deletePpeCategory",async(t,e)=>{try{const r=await fetch(`${Aj}/ppeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Jme=we({name:"ppeCategories",initialState:{ppeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Cc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Cc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE categories",console.warn("Failed to fetch PPE categories, using mock data.",e.error),e.ppeCategories=Kme}).addCase(yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories.push(r.payload)}).addCase(yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE category",console.error("Failed to add PPE category:",e.error)}).addCase(FA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(FA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories[n]=r.payload)}).addCase(by.pending,e=>{e.isLoading=!0,e.error=null}).addCase(by.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories=e.ppeCategories.filter(n=>n.ID!==r.payload)}).addCase(by.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE category",console.error("Failed to delete PPE category:",e.error)})}}),Xme=Jme.reducer,Ij="https://staging-engine.testthelink.online",Qme=[],Sc=U("ppeSuppliers/fetchPpeSuppliers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ij}/ppeSupplier`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),xy=U("ppeSuppliers/addPpeSupplier",async(t,e)=>{try{const r=await fetch(`${Ij}/ppeSupplier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),BA=U("ppeSuppliers/updatePpeSupplier",async(t,e)=>{try{const r=await fetch(`${Ij}/ppeSupplier/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),vy=U("ppeSuppliers/deletePpeSupplier",async(t,e)=>{try{const r=await fetch(`${Ij}/ppeSupplier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Zme=we({name:"ppeSuppliers",initialState:{ppeSuppliers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Sc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeSuppliers=Array.isArray(r.payload)?r.payload:[]}).addCase(Sc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE suppliers",console.warn("Failed to fetch PPE suppliers, using mock data.",e.error),e.ppeSuppliers=Qme}).addCase(xy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers.push(r.payload)}).addCase(xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE supplier",console.error("Failed to add PPE supplier:",e.error)}).addCase(BA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(BA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeSuppliers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers[n]=r.payload)}).addCase(vy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers=e.ppeSuppliers.filter(n=>n.ID!==r.payload)}).addCase(vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE supplier",console.error("Failed to delete PPE supplier:",e.error)})}}),ehe=Zme.reducer,kj="https://staging-engine.testthelink.online",the=[],rhe=[{value:"Building",label:"Building"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"}],nhe=[{value:"Supplier1",label:"Supplier 1"},{value:"Supplier2",label:"Supplier 2"}],ahe={ppes:the,ppe:null,isLoading:!1,error:null,categories:rhe,suppliers:nhe},Ac=U("ppes/fetchPPEs",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${kj}/ppe`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),jy=U("ppes/addPPE",async(t,e)=>{try{const r=await fetch(`${kj}/ppe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wy=U("ppes/updatePPE",async(t,e)=>{try{const r=await fetch(`${kj}/ppe/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ny=U("ppes/deletePPE",async(t,e)=>{try{const r=await fetch(`${kj}/ppe/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),cV=we({name:"ppes",initialState:ahe,reducers:{setPPE:(t,e)=>{t.ppe=e.payload},resetPPEResource:t=>{t.ppe=null,t.error=null},addCategory:(t,e)=>{t.categories.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.categories.push({value:e.payload,label:e.payload})},addSupplier:(t,e)=>{t.suppliers.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.suppliers.push({value:e.payload,label:e.payload})}},extraReducers:t=>{t.addCase(Ac.pending,e=>{e.isLoading=!0}).addCase(Ac.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=r.payload,e.error=null}).addCase(Ac.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jy.pending,e=>{e.isLoading=!0}).addCase(jy.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes.push(r.payload),e.error=null}).addCase(jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wy.pending,e=>{e.isLoading=!0}).addCase(wy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.ppes[n]=r.payload),e.error=null}).addCase(wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ny.pending,e=>{e.isLoading=!0}).addCase(Ny.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=e.ppes.filter(n=>n.id!==r.payload),e.error=null}).addCase(Ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setPPE:f9e,resetPPEResource:m9e,addCategory:h9e,addSupplier:p9e}=cV.actions,she=cV.reducer,ohe=ce().shape({CategoryID:D().required("Category is required"),Description:D().required("Description is required"),DepreciationRate:X().typeError("Must be a number").required("Depreciation Rate is required"),DepreciationValue:X().typeError("Must be a number").required("Depreciation Value is required"),NetBookValue:X().typeError("Must be a number").required("Net Book Value is required"),SupplierID:D().required("Supplier is required"),PPENumber:D().required("PPE Number is required"),Unit:D().required("Unit is required"),Barcode:D().required("Barcode is required"),Quantity:X().typeError("Must be a number").required("Quantity is required"),Cost:X().typeError("Must be a number").required("Cost is required"),DateAcquired:D().required("Date acquired is required"),EstimatedUsefulLife:X().typeError("Must be a number").required("Estimated useful life is required"),PONumber:D().required("PO Number is required"),PRNumber:D().required("PR Number is required"),InvoiceNumber:D().required("Invoice Number is required"),AIRNumber:D().required("AIR Number is required"),RISNumber:D().required("RIS Number is required"),Remarks:D()});function ihe({initialData:t,onClose:e}){const r=de(),[n,a]=w.useState(!1),{ppeSuppliers:s}=H(u=>u.ppeSuppliers),{ppeCategories:i}=H(u=>u.ppeCategories);w.useEffect(()=>{r(Cc()),r(Sc())},[r]);const l=t?{...t}:{CategoryID:"",Description:"",DepreciationRate:"",DepreciationValue:"",NetBookValue:"",SupplierID:"",PPENumber:"",Unit:"",Barcode:"",Quantity:"",Cost:"",DateAcquired:"",EstimatedUsefulLife:1,PONumber:"",PRNumber:"",InvoiceNumber:"",AIRNumber:"",RISNumber:"",Remarks:""},c=u=>{a(!0);const d=t&&t.ID?wy({...u,ID:t.ID}):jy(u);r(d).unwrap().then(()=>{t?z.success("PPE updated successfully"):z.success("PPE Added successfully"),r(Ac()),e()}).catch(f=>{console.error("Error submitting PPE:",f),z.error("Failed to submit PPE. Please try again.")}).finally(()=>{a(!1)})};return o.jsx(qe,{initialValues:l,validationSchema:ohe,onSubmit:c,enableReinitialize:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,setFieldValue:y})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(k,{className:"p-3 focus:outline-none",label:"PPE Category",name:"CategoryID",type:"select",required:!0,value:u.CategoryID,onBlur:h,onChange:m,error:d.CategoryID,touched:f.CategoryID,options:i.map(p=>({value:p.ID,label:p.Name}))})}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"text",required:!0,value:u.Description,onChange:m,onBlur:h,error:d.Description,touched:f.Description}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Depreciation Rate (%)",name:"DepreciationRate",type:"number",required:!0,value:u.DepreciationRate,onChange:m,onBlur:h,error:d.DepreciationRate,touched:f.DepreciationRate}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Depreciation Value",name:"DepreciationValue",type:"number",required:!0,value:u.DepreciationValue,onChange:m,onBlur:h,error:d.DepreciationValue,touched:f.DepreciationValue}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Net Book Value",name:"NetBookValue",type:"number",required:!0,value:u.NetBookValue,onChange:m,onBlur:h,error:d.NetBookValue,touched:f.NetBookValue}),o.jsx("div",{children:o.jsx(k,{className:"p-3 focus:outline-none",label:"Supplier",name:"SupplierID",type:"select",required:!0,value:u.SupplierID,onBlur:h,onChange:m,error:d.SupplierID,touched:f.SupplierID,options:s.map(p=>({value:p.ID,label:p.Name}))})}),o.jsx(k,{className:"p-3 focus:outline-none",label:"PPE Number",name:"PPENumber",type:"text",required:!0,value:u.PPENumber,onChange:m,onBlur:h,error:d.PPENumber,touched:f.PPENumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Unit",name:"Unit",type:"text",required:!0,value:u.Unit,onChange:m,onBlur:h,error:d.Unit,touched:f.Unit}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Barcode",name:"Barcode",type:"text",required:!0,value:u.Barcode,onChange:m,onBlur:h,error:d.Barcode,touched:f.Barcode}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Quantity",name:"Quantity",type:"number",required:!0,value:u.Quantity,onChange:m,onBlur:h,error:d.Quantity,touched:f.Quantity}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Cost",name:"Cost",type:"number",required:!0,value:u.Cost,onChange:m,onBlur:h,error:d.Cost,touched:f.Cost}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Date Acquired",name:"DateAcquired",type:"date",required:!0,value:u.DateAcquired,onChange:m,onBlur:h,error:d.DateAcquired,touched:f.DateAcquired}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Estimated Useful Life (years)",name:"EstimatedUsefulLife",type:"number",required:!0,value:u.EstimatedUsefulLife,onChange:m,onBlur:h,error:d.EstimatedUsefulLife,touched:f.EstimatedUsefulLife}),o.jsx(k,{className:"p-3 focus:outline-none",label:"PO Number",name:"PONumber",type:"text",required:!0,value:u.PONumber,onChange:m,onBlur:h,error:d.PONumber,touched:f.PONumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"PR Number",name:"PRNumber",type:"text",required:!0,value:u.PRNumber,onChange:m,onBlur:h,error:d.PRNumber,touched:f.PRNumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,value:u.InvoiceNumber,onChange:m,onBlur:h,error:d.InvoiceNumber,touched:f.InvoiceNumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"AIR Number",name:"AIRNumber",type:"text",required:!0,value:u.AIRNumber,onChange:m,onBlur:h,error:d.AIRNumber,touched:f.AIRNumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"RIS Number",name:"RISNumber",type:"text",required:!0,value:u.RISNumber,onChange:m,onBlur:h,error:d.RISNumber,touched:f.RISNumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Remarks",name:"Remarks",type:"textarea",value:u.Remarks,onChange:m,onBlur:h,error:d.Remarks,touched:f.Remarks,rows:2})]}),o.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:"Save"})]})]})})}const lhe=[{key:"CategoryID",header:"PPE Category"},{key:"Description",header:"Description"},{key:"DepreciationRate",header:"Depreciation Rate (%)"},{key:"DepreciationValue",header:"Depreciation Value"},{key:"NetBookValue",header:"Net Book Value"},{key:"SupplierID",header:"Supplier"},{key:"PPENumber",header:"PPE Number"},{key:"Unit",header:"Unit"},{key:"Barcode",header:"Barcode"},{key:"Quantity",header:"Quantity"},{key:"Cost",header:"Cost"},{key:"DateAcquired",header:"Date Acquired"},{key:"EstimatedUsefulLife",header:"Estimated Useful Life (years)"},{key:"PONumber",header:"PO Number"},{key:"PRNumber",header:"PR Number"},{key:"InvoiceNumber",header:"Invoice Number"},{key:"AIRNumber",header:"AIR Number"},{key:"RISNumber",header:"RIS Number"},{key:"Remarks",header:"Remarks"}];function che(){const t=de(),{ppes:e,isLoading:r}=H(A=>A.ppes),{Add:n,Edit:a,Delete:s,Print:i}=Ce(64),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null);w.useEffect(()=>{t(Ac())},[t]);const h=()=>{m(null),c(!0)},y=()=>{d(!0)},p=()=>{},b=()=>{d(!1)},g=A=>{m(A),c(!0)},v=async A=>{try{await t(Ny(A.ID)).unwrap(),z.success("PPE entry deleted successfully"),t(Ac())}catch(I){console.error("Failed to delete PPE entry:",I),z.error("Failed to delete PPE entry. Please try again.")}},j=()=>{c(!1),m(null)},C=lhe.map(A=>A.key==="CategoryID"?{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900",render:(I,T)=>{var E;return((E=T==null?void 0:T.Category)==null?void 0:E.Name)||"N/A"}}:A.key==="SupplierID"?{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900",render:(I,T)=>{var E;return((E=T==null?void 0:T.Supplier)==null?void 0:E.Name)||"N/A"}}:{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900"}),x=[a&&{icon:Pe,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:v,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-danger-50"}],N=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}],S=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between gap-4 flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE"}),o.jsx("p",{children:"Manage Property, Plant, and Equipment records"})]}),o.jsxs("div",{className:"flex gap-2 ml-auto max-sm:flex-col max-sm:w-full",children:[n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE"]}),i&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Jc,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print Acknowledgement"]}),i&&o.jsxs("button",{type:"button",className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Jc,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:C,data:e,actions:x,loading:r})}),o.jsx(le,{isOpen:l,onClose:j,title:f?"Edit PPE":"Add PPE",size:"lg",children:o.jsx(ihe,{initialData:f,onClose:j})}),o.jsx(le,{isOpen:u,onClose:b,title:"PPE Acknowledgement",size:"md",hideCloseButton:!0,children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(k,{label:"Acknowledging No. 1",type:"select",name:"acknowledgingNo1",options:S,value:"Juan S. Dela Cruz"})}),o.jsx("div",{className:"mb-6",children:o.jsx(k,{label:"Acknowledging No. 2",type:"select",name:"acknowledgingNo1",options:N,value:"Juan S. Dela Cruz"})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:b,className:"btn btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:p,className:"btn btn-primary",children:"Print"})]})]})})]})}function uhe({initialData:t,onSubmit:e,onClose:r}){const n=ce({Name:D().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function dhe(){const t=de(),{ppeCategories:e,isLoading:r}=H(x=>x.ppeCategories),{Add:n,Edit:a,Delete:s}=Ce(95),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Cc())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(by(m.ID)).unwrap(),f(!1),h(null),z.success("PPE category deleted successfully")}catch(x){console.error("Failed to delete PPE category:",x),z.error("Failed to delete PPE category. Please try again.")}},v=async x=>{try{c?(await t(FA({...x,ID:c.ID})).unwrap(),z.success("PPE category updated successfully")):(await t(yy(x)).unwrap(),z.success("PPE category saved successfully")),t(Cc())}catch(N){console.error("Failed to save PPE category:",N),z.error("Failed to save PPE category. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Categories"}),o.jsx("p",{children:"Manage PPE Categories"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No PPE categories found. Click 'Add PPE Category' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit PPE Category":"Add PPE Category",children:o.jsx(uhe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE category "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function fhe({initialData:t,onSubmit:e,onClose:r}){const n=ce({Name:D().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function mhe(){const t=de(),{ppeSuppliers:e,isLoading:r}=H(x=>x.ppeSuppliers),{Add:n,Edit:a,Delete:s}=Ce(96),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Sc())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(vy(m.ID)).unwrap(),f(!1),h(null),z.success("PPE supplier deleted successfully")}catch(x){console.error("Failed to delete PPE supplier:",x),z.error("Failed to delete PPE supplier. Please try again.")}},v=async x=>{try{c?(await t(BA({...x,ID:c.ID})).unwrap(),z.success("PPE supplier updated successfully")):(await t(xy(x)).unwrap(),z.success("PPE supplier saved successfully")),t(Sc())}catch(N){console.error("Failed to save PPE supplier:",N),z.error("Failed to save PPE supplier. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Suppliers"}),o.jsx("p",{children:"Manage PPE Suppliers"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Supplier"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No PPE suppliers found. Click 'Add PPE Supplier' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit PPE Supplier":"Add PPE Supplier",children:o.jsx(fhe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE supplier "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const Tj="https://staging-engine.testthelink.online",hhe=[],Ic=U("documentDetails/fetchDocumentDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Tj}/documentType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Cy=U("documentDetails/addDocumentDetail",async(t,e)=>{try{const r=await fetch(`${Tj}/documentType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),qA=U("documentDetails/updateDocumentDetail",async(t,e)=>{try{const r=await fetch(`${Tj}/documentType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Sy=U("documentDetails/deleteDocumentDetail",async(t,e)=>{try{const r=await fetch(`${Tj}/documentType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),phe=we({name:"documentDetails",initialState:{documentDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ic.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ic.fulfilled,(e,r)=>{e.isLoading=!1,e.documentDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Ic.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document details",console.warn("Failed to fetch document details, using mock data.",e.error),e.documentDetails=hhe}).addCase(Cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails.push(r.payload)}).addCase(Cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document detail",console.error("Failed to add document detail:",e.error)}).addCase(qA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails[n]=r.payload)}).addCase(Sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails=e.documentDetails.filter(n=>n.ID!==r.payload)}).addCase(Sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document detail",console.error("Failed to delete document detail:",e.error)})}}),ghe=phe.reducer,yhe=[{value:"1 - First",label:"1 - First"},{value:"2 - Second",label:"2 - Second"},{value:"3 - Third",label:"3 - Third"}],bhe=ce().shape({});function xhe({initialData:t,onClose:e,onSubmit:r}){const[n,a]=w.useState((t==null?void 0:t.AllorMajority)||"ALL"),s=de(),{documentDetails:i}=H(p=>p.documentDetails),{positions:l}=H(p=>p.positions),{employees:c}=H(p=>p.employees);w.useEffect(()=>{s(Ic()),s(el()),s(dn())},[s]);const u=t||{DocumentTypeID:"",SequenceLevel:"",AllorMajority:"ALL",NumberofApprover:""},[d,f]=w.useState((t==null?void 0:t.approvers)||[{type:"Position",value:"",amountFrom:"",amountTo:""}]),m=()=>{f([...d,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}])},h=p=>{const b=[...d];b.splice(p,1),f(b)},y=(p,b)=>{const g=[...d];g[p]=b,f(g)};return o.jsx(qe,{initialValues:u,validationSchema:bhe,onSubmit:(p,{setSubmitting:b})=>{if(!p.DocumentTypeID||p.SequenceLevel===""||n===""||d.length===0||d.some(j=>!j.value)||d.some(j=>!j.type)||d.some(j=>!j.amountFrom)||d.some(j=>!j.amountTo)){z.error("Please Select All Required Fields"),b(!1);return}const g=d.map(j=>({PositionorEmployee:j.type,PositionorEmployeeID:j.value,AmountFrom:j.amountFrom,AmountTo:j.amountTo})),v={...p,AllorMajority:n,approvers:g};r(v),b(!1)},enableReinitialize:!0,children:({values:p,errors:b,touched:g,handleChange:v,handleBlur:j,setFieldValue:C,isSubmitting:x})=>o.jsxs(We,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Document Type",name:"DocumentTypeID",type:"select",required:!0,value:p.DocumentTypeID,onChange:v,onBlur:j,error:b.DocumentTypeID,touched:g.DocumentTypeID,options:i.map(N=>({value:N.ID,label:N.Name}))}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Sequence Level",name:"SequenceLevel",type:"select",required:!0,value:p.SequenceLevel,onChange:v,onBlur:j,error:b.SequenceLevel,touched:g.SequenceLevel,options:yhe}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Approval Rule ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"ALL",checked:n==="ALL",onChange:()=>a("ALL"),className:"form-radio"}),o.jsx("span",{children:"ALL"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"Majority",checked:n==="Majority",onChange:()=>a("Majority"),className:"form-radio"}),o.jsx("span",{children:"Majority"}),o.jsxs("select",{name:"NumberofApprover",value:p.NumberofApprover||"",onChange:v,onBlur:j,disabled:n!=="Majority",className:"ml-2 w-24 p-2 border border-neutral-300 rounded focus:outline-none",children:[o.jsx("option",{value:"",children:"Select"}),Array.from({length:10},(N,S)=>o.jsx("option",{value:S+1,children:S+1},S+1))]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label mb-2",children:["Approvers ",o.jsx("span",{className:"text-error-500",children:"*"})]}),d.map((N,S)=>{var A,I,T;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-4 mb-4 border p-4 rounded-md relative",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Position",checked:N.type==="Position",onChange:()=>y(S,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Position"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Employee",checked:N.type==="Employee",onChange:()=>y(S,{type:"Employee",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Employee"})]})]}),o.jsxs("div",{className:"w-full md:w-1/3",children:[o.jsxs("select",{className:"w-full p-2 border rounded pr-8",value:N.value,onChange:E=>y(S,{...N,value:E.target.value}),children:[o.jsx("option",{value:"",children:"Select"}),(N.type==="Position"?l:c).map(E=>o.jsx("option",{value:E.ID,children:N.type==="Position"?E.Name:`${E.FirstName} ${E.MiddleName} ${E.LastName}`},E.ID))]}),((A=N.errors)==null?void 0:A.value)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.errors.value})]}),d.length>1&&o.jsx("button",{type:"button",onClick:()=>h(S),className:"btn btn-sm btn-error text-red-500",children:o.jsx(Be,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount From",className:"w-full p-2 border rounded",value:N.amountFrom,onChange:E=>y(S,{...N,amountFrom:E.target.value})}),((I=N.errors)==null?void 0:I.amountFrom)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.errors.amountFrom})]}),o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount To",className:"w-full p-2 border rounded",value:N.amountTo,onChange:E=>y(S,{...N,amountTo:E.target.value})}),((T=N.errors)==null?void 0:T.amountTo)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.errors.amountTo})]})]})]}),S<d.length-1&&o.jsx("hr",{className:"mb-4 border-gray-300"})]},S)}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:m,children:"+ Add More"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x,children:"Save"})]})]})})}const Pj="https://staging-engine.testthelink.online",vhe=[],jhe={approvalMatrix:vhe,matrix:null,isLoading:!1,error:null},cf=U("approvalMatrix/fetchApprovalMatrix",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Pj}/approvalMatrix`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ay=U("approvalMatrix/addApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Pj}/approvalMatrix`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Iy=U("approvalMatrix/updateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Pj}/approvalMatrix/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ky=U("approvalMatrix/deleteApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Pj}/approvalMatrix/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),uV=we({name:"approvalMatrix",initialState:jhe,reducers:{setMatrix:(t,e)=>{t.matrix=e.payload},resetMatrixState:t=>{t.matrix=null,t.error=null}},extraReducers:t=>{t.addCase(cf.pending,e=>{e.isLoading=!0}).addCase(cf.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=r.payload,e.error=null}).addCase(cf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ay.pending,e=>{e.isLoading=!0}).addCase(Ay.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix.push(r.payload),e.error=null}).addCase(Ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Iy.pending,e=>{e.isLoading=!0}).addCase(Iy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.approvalMatrix.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.approvalMatrix[n]=r.payload),e.error=null}).addCase(Iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ky.pending,e=>{e.isLoading=!0}).addCase(ky.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=e.approvalMatrix.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMatrix:g9e,resetMatrixState:y9e}=uV.actions,whe=uV.reducer;function Nhe(){const t=de(),{approvalMatrix:e,isLoading:r,error:n}=H(N=>N.approvalMatrix),{Add:a,Edit:s,Delete:i}=Ce(17),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(cf())},[t]);const p=()=>{d(null),c(!0)},b=N=>{var T;const S=((T=N.Approvers)==null?void 0:T.map(E=>({type:E.PositionorEmployee,value:E.PositionorEmployeeID,amountFrom:Number(E.AmountFrom),amountTo:Number(E.AmountTo)})))||[],{Approvers:A,...I}=N;d({...I,approvers:S}),c(!0)},g=N=>{y(N),m(!0)},v=async()=>{if(h)try{await t(ky(h.ID)).unwrap(),m(!1),y(null),z.success("Approval matrix deleted successfully")}catch(N){console.error("Failed to delete approval matrix:",N),z.error("Failed to delete approval matrix. Please try again.")}},j=async N=>{try{u?(await t(Iy({...N,ID:u.ID})).unwrap(),z.success("Approval matrix updated successfully")):(await t(Ay(N)).unwrap(),z.success("Approval matrix saved successfully")),t(cf()),c(!1)}catch(S){console.error("Failed to submit approval matrix:",S),z.error("Failed to submit approval matrix. Please try again.")}},C=[{key:"DocumentTypeName",header:"Document Type",sortable:!0},{key:"SequenceLevel",header:"Sequence Level",sortable:!0},{key:"AllorMajority",header:"All or Majority",sortable:!0},{key:"NumberofApprover",header:"No of Approvers",sortable:!0}],x=[s&&{icon:Pe,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Be,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Approval Matrix"}),o.jsx("p",{children:"Manage approval matrix for document types"})]}),a&&o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Approval Matrix"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:C,data:e,actions:x,loading:r})}),n&&o.jsx("div",{className:"text-error-600 mt-2",children:n}),o.jsx(le,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Approval Matrix":"Add Approval Matrix",children:o.jsx(xhe,{initialData:u,onClose:()=>c(!1),onSubmit:j})}),o.jsxs(le,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete this approval matrix entry?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const Ej="https://staging-engine.testthelink.online",Che=[],She={banks:Che,bank:null,isLoading:!1,error:null},rl=U("banks/fetchBanks",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ej}/bank`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ty=U("banks/addBank",async(t,e)=>{try{const r=await fetch(`${Ej}/bank`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Py=U("banks/updateBank",async(t,e)=>{try{const r=await fetch(`${Ej}/bank/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ey=U("bank/deleteBank",async(t,e)=>{try{const r=await fetch(`${Ej}/bank/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),dV=we({name:"banks",initialState:She,reducers:{setBank:(t,e)=>{t.bank=e.payload},resetBankState:t=>{t.bank=null,t.error=null}},extraReducers:t=>{t.addCase(rl.pending,e=>{e.isLoading=!0}).addCase(rl.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=r.payload,e.error=null}).addCase(rl.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ty.pending,e=>{e.isLoading=!0}).addCase(Ty.fulfilled,(e,r)=>{e.isLoading=!1,e.banks.push(r.payload),e.error=null}).addCase(Ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Py.pending,e=>{e.isLoading=!0}).addCase(Py.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.banks.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.banks[n]=r.payload),e.error=null}).addCase(Py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ey.pending,e=>{e.isLoading=!0}).addCase(Ey.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=e.banks.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setBank:b9e,resetBankState:x9e}=dV.actions,Ahe=dV.reducer,Ihe=ce().shape({BranchCode:D().required("Branch code is required").max(20,"Branch code must be at most 20 characters"),Branch:D().required("Branch is required").max(100,"Branch name must be at most 100 characters"),Name:D().required("Name is required").max(100,"Name must be at most 100 characters"),Address:D().required("Address is required").max(200,"Address must be at most 200 characters"),AccountNumber:D().required("Account number is required"),SwiftCode:D().required("Swift code is required").max(11,"SWIFT code must be at most 11 characters").matches(/^[A-Za-z0-9]+$/,"SWIFT code must contain only uppercase letters and numbers"),IBAN:D().required("IBAN is required").max(34,"IBAN must be at most 34 characters").matches(/^[A-Za-z0-9]+$/,"IBAN must contain only uppercase letters and numbers"),Balance:X().required("Balance is required").min(0,"Balance cannot be negative"),CurrencyID:D().required("Currency is required")});function khe({initialData:t,onClose:e}){const r=de(),[n,a]=w.useState(!1),{currencies:s}=H(c=>c.currencies),i=t?{...t}:{BranchCode:"",Branch:"",Name:"",Address:"",AccountNumber:"",SwiftCode:"",IBAN:"",Balance:"",CurrencyID:""},l=c=>{a(!0);const u={...c},d=t?Py({...u,ID:t.ID}):Ty(u);r(d).unwrap().then(()=>{e(),z.success("Bank submitted successfully")}).catch(f=>{console.error("Error submitting bank:",f)}).finally(()=>{a(!1),r(rl())})};return o.jsx(qe,{initialValues:i,validationSchema:Ihe,onSubmit:l,enableReinitialize:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,setFieldValue:h})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Branch Code",name:"BranchCode",type:"text",required:!0,placeholder:"Enter branch code",value:c.BranchCode,onChange:f,onBlur:m,error:d.BranchCode&&u.BranchCode,touched:d.BranchCode}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Branch",name:"Branch",type:"text",required:!0,placeholder:"Enter branch name",value:c.Branch,onChange:f,onBlur:m,error:d.Branch&&u.Branch,touched:d.Branch}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter bank name",value:c.Name,onChange:f,onBlur:m,error:d.Name&&u.Name,touched:d.Name})]}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Address",name:"Address",type:"textarea",required:!0,placeholder:"Enter complete address",value:c.Address,onChange:f,onBlur:m,error:d.Address&&u.Address,touched:d.Address,rows:2}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Account Number",name:"AccountNumber",type:"text",required:!0,placeholder:"Enter account number",value:c.AccountNumber,onChange:f,onBlur:m,error:d.AccountNumber&&u.AccountNumber,touched:d.AccountNumber}),o.jsx(k,{className:"p-3 focus:outline-none uppercase",label:"SWIFT Code",name:"SwiftCode",type:"text",required:!0,placeholder:"Enter SWIFT code",value:c.SwiftCode,onChange:f,onBlur:m,error:d.SwiftCode&&u.SwiftCode,touched:d.SwiftCode}),o.jsx(k,{className:"p-3 focus:outline-none uppercase",label:"IBAN",name:"IBAN",type:"text",required:!0,placeholder:"Enter IBAN",value:c.IBAN,onChange:f,onBlur:m,error:d.IBAN&&u.IBAN,touched:d.IBAN})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Balance",name:"Balance",type:"number",required:!0,placeholder:"Enter balance",value:c.Balance,onChange:f,onBlur:m,error:d.Balance&&u.Balance,touched:d.Balance}),o.jsx("div",{className:"space-y-2",children:o.jsx(k,{className:"p-3 focus:outline-none",label:"Currency",name:"CurrencyID",type:"select",required:!0,value:c.CurrencyID,onChange:f,onBlur:m,error:d.CurrencyID&&u.CurrencyID,touched:d.CurrencyID,options:s.map(y=>({value:y.ID,label:y.Code+" - "+y.Name}))})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary",children:n?"Saving...":t?"Update Bank":"Save Bank"})]})]})})}const The=()=>{const t=de(),{banks:e=[],isLoading:r}=H(x=>x.banks),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{Add:f,Edit:m,Delete:h}=Ce(18);w.useEffect(()=>{t(rl())},[]);const y=()=>{i(null),a(!0)},p=x=>{i(x),a(!0)},b=()=>{a(!1),i(null)},g=x=>{d(x),c(!0)},v=async()=>{if(u)try{await t(Ey(u.ID)).unwrap(),z.success("Bank deleted successfully")}catch(x){z.error(x.message||"Failed to delete bank")}finally{c(!1),d(null),t(rl())}},j=[{key:"BranchCode",header:"Branch Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Branch",header:"Branch",sortable:!0},{key:"Name",header:"Bank Name",sortable:!0},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"Balance",header:"Balance",sortable:!0},{key:"Currency",header:"Currency",sortable:!0,render:x=>(x==null?void 0:x.Code)||"N/A"}],C=[m&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},h&&{icon:Be,title:"Delete",onClick:g,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bank Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage bank accounts and their details"})]}),f&&o.jsxs("button",{onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Bank"]})]}),o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No banks found. Click 'Add Bank' to create one."}),o.jsx(le,{isOpen:n,onClose:b,title:s?"Edit Bank":"Add Bank",size:"lg",children:o.jsx(khe,{initialData:s,onClose:b})}),o.jsxs(le,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the bank"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})},Phe=(t=[],e=null)=>ce({Name:D().required("Name is required").test("unique-name","Name already exists",function(r){return r?!t.some(a=>a.Name.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Code:D().required("Code is required").test("unique-code","Code already exists",function(r){return r?!t.some(a=>a.Code.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Prefix:D(),Suffix:D().required("Suffix is required"),StartNumber:X().required("Start number is required").integer("Start number must be an integer").min(1,"Start number must be at least 1"),CurrentNumber:X().required("Current number is required").integer("Current number must be an integer").min(1,"Current number must be at least 1"),DocumentTypeCategoryID:D().required("Document type category is required")}),Ehe=({document:t,documentList:e=[],onClose:r,documentTypeCategoryOptions:n=[]})=>{const a=de(),s={Name:(t==null?void 0:t.Name)||"",Code:(t==null?void 0:t.Code)||"",Prefix:(t==null?void 0:t.Prefix)||"",Suffix:(t==null?void 0:t.Suffix)||"",StartNumber:(t==null?void 0:t.StartNumber)||1,CurrentNumber:(t==null?void 0:t.CurrentNumber)||1,DocumentTypeCategoryID:(t==null?void 0:t.DocumentTypeCategoryID)||""},i=async(l,{setSubmitting:c})=>{try{t?(await a(qA({...l,ID:t.ID})).unwrap(),z.success("Document detail updated successfully")):(await a(Cy(l)).unwrap(),z.success("Document detail added successfully")),a(Ic())}catch(u){console.error("Failed to save document details:",u),z.error("Failed to save document details. Please try again.")}finally{c(!1),r()}};return o.jsx(qe,{initialValues:s,validationSchema:Phe(e,t),onSubmit:i,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,setFieldValue:m,isSubmitting:h})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",required:!0,value:l.Name,onChange:d,onBlur:f,error:c.Name,touched:u.Name,placeholder:"Enter document name"}),o.jsx(k,{label:"Code",name:"Code",type:"text",required:!0,value:l.Code,onChange:d,onBlur:f,error:c.Code,touched:u.Code,placeholder:"Enter document code"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Prefix",name:"Prefix",type:"text",value:l.Prefix,onChange:d,onBlur:f,error:c.Prefix,touched:u.Prefix,placeholder:"Enter document prefix"}),o.jsx(k,{label:"Suffix",name:"Suffix",type:"text",required:!0,value:l.Suffix,onChange:d,onBlur:f,error:c.Suffix,touched:u.Suffix,placeholder:"Enter document suffix"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Start Number",name:"StartNumber",type:"number",required:!0,value:l.StartNumber,onChange:d,onBlur:f,error:c.StartNumber,touched:u.StartNumber,min:"1"}),o.jsx(k,{label:"Current Number",name:"CurrentNumber",type:"number",required:!0,value:l.CurrentNumber,onChange:d,onBlur:f,error:c.CurrentNumber,touched:u.CurrentNumber,min:"1"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(k,{label:"Document Type Category",name:"DocumentTypeCategoryID",type:"select",required:!0,value:l.DocumentTypeCategoryID,onChange:d,onBlur:f,error:c.DocumentTypeCategoryID,touched:u.DocumentTypeCategoryID,options:n})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Saving...":t?"Update":"Create"})]})]})})},Dj="https://staging-engine.testthelink.online",Dhe=[],kc=U("documentTypeCategories/fetchDocumentTypeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Dj}/documentTypeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Dy=U("documentTypeCategories/addDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${Dj}/documentTypeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),VA=U("documentTypeCategories/updateDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${Dj}/documentTypeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Oy=U("documentTypeCategories/deleteDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${Dj}/documentTypeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ohe=we({name:"documentTypeCategories",initialState:{documentTypeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(kc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kc.fulfilled,(e,r)=>{e.isLoading=!1,e.documentTypeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(kc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document type categories",console.warn("Failed to fetch document type categories, using mock data.",e.error),e.documentTypeCategories=Dhe}).addCase(Dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories.push(r.payload)}).addCase(Dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document type category",console.error("Failed to add document type category:",e.error)}).addCase(VA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(VA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentTypeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories[n]=r.payload)}).addCase(Oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories=e.documentTypeCategories.filter(n=>n.ID!==r.payload)}).addCase(Oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document type category",console.error("Failed to delete document type category:",e.error)})}}),_he=Ohe.reducer,Rhe=()=>{const t=de(),{documentDetails:e,isLoading:r}=H(N=>N.documentDetails),{Add:n,Edit:a,Delete:s}=Ce(41),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null),{documentTypeCategories:y}=H(N=>N.documentTypeCategories),p=y.map(N=>({value:N.ID,label:N.Name}));w.useEffect(()=>{t(Ic()),t(kc())},[t]);const b=()=>{u(null),l(!0)},g=N=>{u(N),l(!0)},v=N=>{h(N),f(!0)},j=async()=>{if(m)try{await t(Sy(m.ID)).unwrap(),f(!1),h(null),z.success("Document detail deleted successfully")}catch(N){console.error("Failed to delete document detail:",N),z.error("Failed to delete document detail. Please try again.")}},C=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Prefix",header:"Prefix"},{key:"Suffix",header:"Suffix"},{key:"StartNumber",header:"Start Number"},{key:"CurrentNumber",header:"Current Number"}],x=N=>{const S=[a&&{icon:Pe,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return N.ID>32&&s&&S.push({icon:Be,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),S};return o.jsxs("div",{className:"container mx-auto ",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Document Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage document details and their numbering"})]}),n&&o.jsxs("button",{onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Document Detail"]})]}),o.jsx(xe,{columns:C,data:e,actions:x,loading:r,emptyMessage:"No document details found. Click 'Add Document Detail' to create one."}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Document Detail":"Add Document Detail",size:"lg",children:o.jsx(Ehe,{document:c,documentList:e,onClose:()=>l(!1),documentTypeCategoryOptions:p})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the document detail for"," ",o.jsx("span",{className:"font-medium",children:m==null?void 0:m.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline cursor-pointer",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})};function $he({initialData:t,onSubmit:e,onClose:r}){const n=ce({Name:D().trim().required("Name is required").min(1,"Name cannot be empty or just spaces")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Mhe(){const t=de(),{documentTypeCategories:e,isLoading:r}=H(x=>x.documentTypeCategories),{Add:n,Edit:a,Delete:s}=Ce(42),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(kc())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(Oy(m.ID)).unwrap(),f(!1),h(null),z.success("Document type category deleted successfully")}catch(x){console.error("Failed to delete document type category:",x),z.error("Failed to delete document type category. Please try again.")}},v=async x=>{try{c?(await t(VA({...x,ID:c.ID})).unwrap(),z.success("Document type category updated successfully")):(await t(Dy(x)).unwrap(),z.success("Document type category added successfully")),t(kc())}catch(N){console.error("Failed to save document type category:",N),z.error("Failed to save document type category. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=x=>{const N=[];return a&&N.push({icon:Pe,title:"Edit",onClick:()=>p(x),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),s&&x.ID>1&&N.push({icon:Be,title:"Delete",onClick:()=>b(x),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),N};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Document Type Categories"}),o.jsx("p",{children:"Manage Document Type Categories"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Document Type Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No document type categories found. Click 'Add Document Type Category' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Document Type Category":"Add Document Type Category",children:o.jsx($he,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the document type category "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const Oj="https://staging-engine.testthelink.online",Lhe=[],Ua=U("items/fetchItems",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Oj}/item`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),_y=U("items/addItem",async(t,e)=>{try{const r=await fetch(`${Oj}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),UA=U("items/updateItem",async(t,e)=>{try{const r=await fetch(`${Oj}/item/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ry=U("items/deleteItem",async(t,e)=>{try{const r=await fetch(`${Oj}/item/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Fhe=we({name:"items",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ua.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ua.fulfilled,(e,r)=>{e.isLoading=!1,e.items=Array.isArray(r.payload)?r.payload:[]}).addCase(Ua.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch items",console.warn("Failed to fetch items, using mock data.",e.error),e.items=Lhe}).addCase(_y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items.push(r.payload)}).addCase(_y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item",console.error("Failed to add item:",e.error)}).addCase(UA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(UA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.items.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.items)||(e.items=[]),e.items[n]=r.payload)}).addCase(Ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items=e.items.filter(n=>n.ID!==r.payload)}).addCase(Ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item",console.error("Failed to delete item:",e.error)})}}),Bhe=Fhe.reducer,_j="https://staging-engine.testthelink.online",qhe=[],va=U("itemUnits/fetchItemUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_j}/itemUnit`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),$y=U("itemUnits/addItemUnit",async(t,e)=>{try{const r=await fetch(`${_j}/itemUnit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),zA=U("itemUnits/updateItemUnit",async(t,e)=>{try{const r=await fetch(`${_j}/itemUnit/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),My=U("itemUnits/deleteItemUnit",async(t,e)=>{try{const r=await fetch(`${_j}/itemUnit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Vhe=we({name:"itemUnits",initialState:{itemUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(va.pending,e=>{e.isLoading=!0,e.error=null}).addCase(va.fulfilled,(e,r)=>{e.isLoading=!1,e.itemUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(va.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch item units",console.warn("Failed to fetch item units, using mock data.",e.error),e.itemUnits=qhe}).addCase($y.pending,e=>{e.isLoading=!0,e.error=null}).addCase($y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits.push(r.payload)}).addCase($y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item unit",console.error("Failed to add item unit:",e.error)}).addCase(zA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.itemUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits[n]=r.payload)}).addCase(My.pending,e=>{e.isLoading=!0,e.error=null}).addCase(My.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits=e.itemUnits.filter(n=>n.ID!==r.payload)}).addCase(My.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item unit",console.error("Failed to delete item unit:",e.error)})}}),Uhe=Vhe.reducer,zhe=({item:t,onClose:e})=>{var d;const r=de(),{accounts:n}=H(f=>f.chartOfAccounts),{itemUnits:a}=H(f=>f.itemUnits),{taxCodes:s}=H(f=>f.taxCodes);w.useEffect(()=>{r(va()),r(Zn()),r(Pr())},[r]);const i=[{value:"Purchase",label:"Purchase"},{value:"Sales",label:"Sales"},{value:"Inventory",label:"Inventory"}],l=ce({Code:D().required("Code is required"),Name:D().required("Name is required"),ChargeAccountID:D().required("Charge Account is required"),UnitID:D().required("Unit is required"),TAXCodeID:D().required("Tax Code is required"),PurchaseOrSales:D().required("Type is required"),TaxRate:X().required("Tax Rate is required").min(0,"Tax Rate cannot be negative"),EWT:X().required("EWT is required").min(0,"EWT cannot be negative"),Vatable:Rs().required("Vatable is required")});console.log({item:t});const c={Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",ChargeAccountID:(t==null?void 0:t.ChargeAccountID)||"",UnitID:(t==null?void 0:t.UnitID)||"",TAXCodeID:(t==null?void 0:t.TAXCodeID)||"",PurchaseOrSales:(t==null?void 0:t.PurchaseOrSales)||"",TaxRate:((d=t==null?void 0:t.TaxCode)==null?void 0:d.Rate)||0,EWT:(t==null?void 0:t.EWT)||0,Vatable:(t==null?void 0:t.Vatable)||!1},u=async(f,{setSubmitting:m})=>{try{t?(await r(UA({...f,ID:t.ID})).unwrap(),z.success("Item updated successfully.")):(await r(_y(f)).unwrap(),z.success("Item added successfully.")),r(Ua())}catch(h){console.error("Failed to save item:",h),z.error("Failed to save item. Please try again.")}finally{m(!1),e()}};return o.jsx(qe,{initialValues:c,validationSchema:l,onSubmit:u,children:({values:f,errors:m,touched:h,handleChange:y,handleBlur:p,isSubmitting:b,setFieldValue:g})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",required:!0,value:f.Code,onChange:y,onBlur:p,error:m.Code,touched:h.Code,placeholder:"Enter item code"}),o.jsx(k,{label:"Name",name:"Name",type:"text",required:!0,value:f.Name,onChange:y,onBlur:p,error:m.Name,touched:h.Name,placeholder:"Enter item name"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Charge Account",name:"ChargeAccountID",type:"select",required:!0,value:f.ChargeAccountID,onChange:y,onBlur:p,error:m.ChargeAccountID,touched:h.ChargeAccountID,options:n.map(v=>({value:v.ID,label:v.Name}))}),o.jsx(k,{label:"Type",name:"PurchaseOrSales",type:"select",required:!0,value:f.PurchaseOrSales,onChange:y,onBlur:p,error:m.PurchaseOrSales,touched:h.PurchaseOrSales,options:i}),o.jsx(k,{label:"Unit",name:"UnitID",type:"select",required:!0,value:f.UnitID,onChange:y,onBlur:p,error:m.UnitID,touched:h.UnitID,options:a.map(v=>({value:v.ID,label:v.Code+" - "+v.Name}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Tax Code",name:"TAXCodeID",type:"select",required:!0,value:f.TAXCodeID,onChange:v=>{const j=v.target.value;y(v);const C=s.find(x=>x.ID===Number(j));C?g("TaxRate",C.Rate):g("TaxRate","")},onBlur:p,error:m.TAXCodeID,touched:h.TAXCodeID,options:s.map(v=>({value:v.ID,label:v.Code}))}),o.jsx(k,{label:"Tax Rate",name:"TaxRate",type:"number",required:!0,value:f.TaxRate,onChange:y,onBlur:p,error:m.TaxRate,touched:h.TaxRate,readOnly:!0,className:"bg-gray-200 cursor-not-allowed"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"EWT",name:"EWT",type:"number",required:!0,value:f.EWT,onChange:y,onBlur:p,error:m.EWT,touched:h.EWT}),o.jsx("div",{className:"flex items-center mt-5",children:o.jsx(k,{label:"Vatable",name:"Vatable",type:"checkbox",checked:f.Vatable,onChange:y,onBlur:p,error:m.Vatable,touched:h.Vatable})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":t?"Update":"Create"})]})]})})},Whe=()=>{const t=de(),{items:e,isLoading:r}=H(I=>I.items),{itemUnits:n,isLoading:a}=H(I=>I.itemUnits),{taxCodes:s,isLoading:i}=H(I=>I.taxCodes),{Add:l,Edit:c,Delete:u}=Ce(55),[d,f]=w.useState(!1),[m,h]=w.useState(null),[y,p]=w.useState(!1),[b,g]=w.useState(null);w.useEffect(()=>{t(Ua()),t(va()),t(Zn())},[t]);const v=()=>{h(null),f(!0)},j=I=>{h(I),f(!0)},C=I=>{g(I),p(!0)},x=async()=>{if(b)try{await t(Ry(b.ID)).unwrap(),p(!1),g(null),z.success("Item deleted successfully")}catch(I){console.error("Failed to delete item:",I),z.error("Failed to delete item. Please try again.")}},N=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"PurchaseOrSales",header:"Type",sortable:!0},{key:"TAXCodeValue",header:"Tax Code",sortable:!0},{key:"unitName",header:"Unit Name",sortable:!0},{key:"EWT",header:"EWT",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:I=>o.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${I===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:I?"Yes":"No"})}],S=e.map(I=>{var T,E;return{...I,unitName:((T=n==null?void 0:n.find(R=>R.ID===I.UnitID))==null?void 0:T.Name)||"N/A",TAXCodeValue:((E=s==null?void 0:s.find(R=>R.ID===I.TAXCodeID))==null?void 0:E.Code)||"N/A"}}),A=[c&&{icon:Pe,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},u&&{icon:Be,title:"Delete",onClick:C,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Item List"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, assets, and services"})]}),l&&o.jsxs("button",{onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}),o.jsx(xe,{columns:N,data:S,actions:A,loading:r||a||i,emptyMessage:"No items found. Click 'Add Item' to create one."}),o.jsx(le,{isOpen:d,onClose:()=>f(!1),title:m?"Edit Item":"Add Item",size:"lg",children:o.jsx(zhe,{item:m,onClose:()=>f(!1)})}),o.jsxs(le,{isOpen:y,onClose:()=>p(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the item"," ",o.jsx("span",{className:"font-medium",children:b==null?void 0:b.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})};ce().shape({MarriageServiceInvoice:D().required("Marriage Service Invoice account is required"),BurialServiceInvoice:D().required("Burial Service Invoice account is required"),DueFromLGU:D().required("Due From LGU account is required"),DueFromRate:X().required("Due From Rate is required"),DueToLGU:D().required("Due To LGU account is required"),DueToRate:X().required("Due To Rate is required"),RealPropertyTax:D().required("Real Property Tax account is required"),RealPropertyTaxRate:X().required("Real Property Tax Rate is required")});const fV="https://staging-engine.testthelink.online",u1=U("chartOfAccounts/fetchInvoiceChargeAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fV}/serviceInvoiceAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Hhe=U("invoiceChargeAccounts/addInvoiceChargeAccount",async t=>{try{return{...t,id:Date.now(),status:"Active"}}catch(e){throw console.warn("Failed to add invoice charge account:",e),e}}),Ghe=U("invoiceChargeAccounts/updateInvoiceChargeAccount",async(t,e)=>{try{const r=await fetch(`${fV}/serviceInvoiceAccounts/1`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Yhe=U("invoiceChargeAccounts/deleteInvoiceChargeAccount",async t=>{try{return t}catch(e){throw console.warn("Failed to delete invoice charge account:",e),e}}),Khe={invoiceChargeAccounts:[],isLoading:!1,error:null},Jhe=we({name:"invoiceChargeAccounts",initialState:Khe,reducers:{},extraReducers:t=>{t.addCase(u1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(u1.fulfilled,(e,r)=>{e.isLoading=!1,e.invoiceChargeAccounts=r.payload}).addCase(u1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(Hhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts.push(r.payload)}).addCase(Ghe.fulfilled,(e,r)=>{const n=e.invoiceChargeAccounts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.invoiceChargeAccounts[n]=r.payload)}).addCase(Yhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts=e.invoiceChargeAccounts.filter(n=>n.id!==r.payload)})}}),Xhe=Jhe.reducer;function Qhe({initialData:t,onSubmit:e,onClose:r}){const n=ce({Code:D().required("Code is required"),Name:D().required("Name is required")}),a=tt({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Zhe(){const t=de(),{itemUnits:e,isLoading:r}=H(x=>x.itemUnits),{Add:n,Edit:a,Delete:s}=Ce(56),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(va())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(My(m.ID)).unwrap(),f(!1),h(null),z.success("Item unit deleted successfully")}catch(x){console.error("Failed to delete item unit:",x),z.error("Failed to delete item unit. Please try again.")}},v=async x=>{try{c?(await t(zA({...x,ID:c.ID})).unwrap(),z.success("Item unit updated successfully")):(await t($y(x)).unwrap(),z.success("Item unit added successfully")),t(va())}catch(N){console.error("Failed to save item unit:",N),z.error("Failed to save item unit. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Item Units"}),o.jsx("p",{children:"Manage item units"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Item Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No item units found. Click 'Add Item Unit' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Item Unit":"Add Item Unit",children:o.jsx(Qhe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the item unit "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function epe({initialData:t,onSubmit:e,onClose:r}){const n=ce({Type:D().required("Type is required"),Description:D().required("Description is required")});return o.jsx(qe,{initialValues:t||{Type:"",Description:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(k,{label:"Type",name:"Type",type:"text",value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(k,{label:"Description",name:"Description",type:"textarea",value:a.Description,onChange:l,onBlur:c,error:s.Description,touched:i.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const Rj="https://staging-engine.testthelink.online",tpe=[],Tc=U("projectTypes/fetchProjectTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Rj}/projectType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ly=U("projectTypes/addProjectType",async(t,e)=>{try{const r=await fetch(`${Rj}/projectType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),WA=U("projectTypes/updateProjectType",async(t,e)=>{try{const r=await fetch(`${Rj}/projectType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Fy=U("projectTypes/deleteProjectType",async(t,e)=>{try{const r=await fetch(`${Rj}/projectType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rpe=we({name:"projectTypes",initialState:{projectTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Tc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tc.fulfilled,(e,r)=>{e.isLoading=!1,e.projectTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Tc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project types",console.warn("Failed to fetch project types, using mock data.",e.error),e.projectTypes=tpe}).addCase(Ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes.push(r.payload)}).addCase(Ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project type",console.error("Failed to add project type:",e.error)}).addCase(WA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(WA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes[n]=r.payload)}).addCase(Fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes=e.projectTypes.filter(n=>n.ID!==r.payload)}).addCase(Fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project type",console.error("Failed to delete project type:",e.error)})}}),npe=rpe.reducer;function ape(){const t=de(),{projectTypes:e,isLoading:r}=H(x=>x.projectTypes),{Add:n,Edit:a,Delete:s}=Ce(87),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Tc())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(Fy(m.ID)).unwrap(),f(!1),h(null),z.success("Project type deleted successfully.")}catch(x){console.error("Failed to delete project type:",x),z.error("Failed to delete project type. Please try again.")}},v=async x=>{try{c?(await t(WA({...x,ID:c.ID})).unwrap(),z.success("Project type updated successfully.")):(await t(Ly(x)).unwrap(),z.success("Project type added successfully.")),t(Tc()),l(!1)}catch(N){console.error("Failed to save project type:",N),z.error("Failed to save project type. Please try again.")}},j=[{key:"Type",header:"Type",sortable:!0},{key:"Description",header:"Description",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Types"}),o.jsx("p",{children:"Manage project types"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No project types found. Click 'Add Project Type' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Project Type":"Add Project Type",children:o.jsx(epe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project type "',m==null?void 0:m.Type,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function spe({initialData:t,onSubmit:e,onClose:r}){const n=de(),{projectTypes:a,loading:s}=H(c=>c.projectTypes);w.useEffect(()=>{n(Tc())},[n]);const i=ce({Title:D().required("Title is required"),ProjectTypeID:D().required("Project Type is required"),StartDate:Ue().required("Start Date is required"),EndDate:Ue().required("End Date is required"),Description:D().required("Description is required")}),l=tt({initialValues:t||{Title:"",ProjectTypeID:"",StartDate:"",EndDate:"",Description:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Project Title",name:"Title",type:"text",value:l.values.Title,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Title,touched:l.touched.Title,required:!0}),o.jsx(k,{label:"Project Type",name:"ProjectTypeID",type:"select",options:a.map(c=>({label:c.Type,value:c.ID})),value:l.values.ProjectTypeID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.ProjectTypeID,touched:l.touched.ProjectTypeID,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Start Date",name:"StartDate",type:"date",value:l.values.StartDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.StartDate,touched:l.touched.StartDate,required:!0}),o.jsx(k,{label:"End Date",name:"EndDate",type:"date",value:l.values.EndDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.EndDate,touched:l.touched.EndDate,required:!0})]}),o.jsx(k,{label:"Description",name:"Description",type:"textarea",rows:3,value:l.values.Description,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Description,touched:l.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}const $j="https://staging-engine.testthelink.online",ope=[],za=U("projectDetails/fetchProjectDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$j}/project`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),By=U("projectDetails/addProjectDetail",async(t,e)=>{try{const r=await fetch(`${$j}/project`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),HA=U("projectDetails/updateProjectDetail",async(t,e)=>{try{const r=await fetch(`${$j}/project/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),qy=U("projectDetails/deleteProjectDetail",async(t,e)=>{try{const r=await fetch(`${$j}/project/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ipe=we({name:"projectDetails",initialState:{projectDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(za.pending,e=>{e.isLoading=!0,e.error=null}).addCase(za.fulfilled,(e,r)=>{e.isLoading=!1,e.projectDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(za.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project details",console.warn("Failed to fetch project details, using mock data.",e.error),e.projectDetails=ope}).addCase(By.pending,e=>{e.isLoading=!0,e.error=null}).addCase(By.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails.push(r.payload)}).addCase(By.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project detail",console.error("Failed to add project detail:",e.error)}).addCase(HA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(HA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails[n]=r.payload)}).addCase(qy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails=e.projectDetails.filter(n=>n.ID!==r.payload)}).addCase(qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project detail",console.error("Failed to delete project detail:",e.error)})}}),lpe=ipe.reducer;function cpe(){const t=de(),{projectDetails:e,isLoading:r}=H(x=>x.projectDetails),{Add:n,Edit:a,Delete:s}=Ce(65),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(za())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(qy(m.ID)).unwrap(),f(!1),h(null),z.success("Project detail deleted successfully.")}catch(x){console.error("Failed to delete project detail:",x),z.error("Failed to delete project detail. Please try again.")}},v=async x=>{try{c?(await t(HA({...x,ID:c.ID})).unwrap(),z.success("Project detail updated successfully.")):(await t(By(x)).unwrap(),z.success("Project detail added successfully.")),t(za())}catch(N){console.error("Failed to save project detail:",N),z.error("Failed to save project detail. Please try again.")}finally{l(!1)}},j=[{key:"Title",header:"Project Title",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0},{key:"EndDate",header:"End Date",sortable:!0},{key:"ProjectTypeID",header:"Project Type",sortable:!0,render:(x,N)=>{var A;const S=(A=N==null?void 0:N.ProjectType)==null?void 0:A.Type;return o.jsx("span",{children:S||x||"N/A"})}},{key:"Description",header:"Description",sortable:!1}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Details"}),o.jsx("p",{children:"Manage project details"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Detail"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No project details found. Click 'Add Project Detail' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Project Detail":"Add Project Detail",size:"lg",children:o.jsx(spe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project "',m==null?void 0:m.Title,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function upe({initialData:t,onSubmit:e,onClose:r}){const n=ce({Code:D().required("Code is required"),Name:D().required("Name is required")});return o.jsx(qe,{initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const Mj="https://staging-engine.testthelink.online",dpe=[],fpe={financialStatements:dpe,financialStatement:null,isLoading:!1,error:null},uf=U("financialStatements/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Mj}/financialStatement`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Vy=U("financialStatements/addFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Mj}/financialStatement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Uy=U("financialStatements/updateFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Mj}/financialStatement/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zy=U("financialStatements/deleteFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Mj}/financialStatement/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),mV=we({name:"financialStatements",initialState:fpe,reducers:{setFinancialStatement:(t,e)=>{t.financialStatement=e.payload},resetFinancialStatementState:t=>{t.financialStatement=null,t.error=null}},extraReducers:t=>{t.addCase(uf.pending,e=>{e.isLoading=!0}).addCase(uf.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload,e.error=null}).addCase(uf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Vy.pending,e=>{e.isLoading=!0}).addCase(Vy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements.push(r.payload),e.error=null}).addCase(Vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Uy.pending,e=>{e.isLoading=!0}).addCase(Uy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.financialStatements.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.financialStatements[n]=r.payload),e.error=null}).addCase(Uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(zy.pending,e=>{e.isLoading=!0}).addCase(zy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=e.financialStatements.filter(n=>n.ID!==r.payload),e.error=null}).addCase(zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFinancialStatement:v9e,resetFinancialStatementState:j9e}=mV.actions,mpe=mV.reducer;function hpe(){const t=de(),{financialStatements:e,isLoading:r}=H(x=>x.financialStatements),{Add:n,Edit:a,Delete:s}=Ce(44),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(uf())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(zy(m.ID)).unwrap(),f(!1),h(null),z.success("Financial statement deleted successfully.")}catch(x){console.error("Failed to delete financial statement:",x),z.error("Failed to delete financial statement. Please try again.")}},v=async x=>{try{c?(await t(Uy({...x,ID:c.ID})).unwrap(),z.success("Financial statement updated successfully.")):(await t(Vy(x)).unwrap(),z.success("Financial statement added successfully.")),t(uf())}catch(N){console.error("Failed to save financial statement:",N),z.error("Failed to save financial statement. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Financial Statements"}),o.jsx("p",{children:"Manage financial statements"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Financial Statement"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No financial statements found. Click 'Add Financial Statement' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Financial Statement":"Add Financial Statement",children:o.jsx(upe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the financial statement "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function ppe({initialData:t,onSubmit:e,onClose:r}){const n=ce({Code:D().required("Code is required"),Name:D().required("Name is required"),Year:X().required("Year is required").min(2e3,"Year must be 2000 or later"),MonthStart:D().required("Month Start is required"),MonthEnd:D().required("Month End is required")}),a=[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}];return o.jsx(qe,{initialValues:t||{Code:"",Name:"",Year:new Date().getFullYear(),MonthStart:"",MonthEnd:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:i,touched:l,handleChange:c,handleBlur:u,handleSubmit:d,isSubmitting:f})=>o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",value:s.Code,onChange:c,onBlur:u,error:i.Code,touched:l.Code,required:!0}),o.jsx(k,{label:"Name",name:"Name",type:"text",value:s.Name,onChange:c,onBlur:u,error:i.Name,touched:l.Name,required:!0}),o.jsx(k,{label:"Year",name:"Year",type:"number",value:s.Year,onChange:c,onBlur:u,error:i.Year,touched:l.Year,required:!0}),o.jsx(k,{label:"Month Start",name:"MonthStart",type:"select",value:s.MonthStart,onChange:c,onBlur:u,error:i.MonthStart,touched:l.MonthStart,options:a,required:!0}),o.jsx(k,{label:"Month End",name:"MonthEnd",type:"select",value:s.MonthEnd,onChange:c,onBlur:u,error:i.MonthEnd,touched:l.MonthEnd,options:a,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":"Save"})]})]})})}const Lj="https://staging-engine.testthelink.online",gpe=[],fn=U("fiscalYears/fetchFiscalYears",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Lj}/fiscalYear`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Wy=U("fiscalYears/addFiscalYear",async(t,e)=>{try{const r=await fetch(`${Lj}/fiscalYear`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),GA=U("fiscalYears/updateFiscalYear",async(t,e)=>{try{const r=await fetch(`${Lj}/fiscalYear/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Hy=U("fiscalYears/deleteFiscalYear",async(t,e)=>{try{const r=await fetch(`${Lj}/fiscalYear/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ype=we({name:"fiscalYears",initialState:{fiscalYears:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(fn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fn.fulfilled,(e,r)=>{e.isLoading=!1,e.fiscalYears=Array.isArray(r.payload)?r.payload:[]}).addCase(fn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch fiscal years",console.warn("Failed to fetch fiscal years, using mock data.",e.error),e.fiscalYears=gpe}).addCase(Wy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears.push(r.payload)}).addCase(Wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fiscal year",console.error("Failed to add fiscal year:",e.error)}).addCase(GA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(GA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fiscalYears.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears[n]=r.payload)}).addCase(Hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears=e.fiscalYears.filter(n=>n.ID!==r.payload)}).addCase(Hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fiscal year",console.error("Failed to delete fiscal year:",e.error)})}}),bpe=ype.reducer;function xpe(){const t=de(),{fiscalYears:e,isLoading:r}=H(x=>x.fiscalYears),{Add:n,Edit:a,Delete:s}=Ce(45),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(fn())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(Hy(m.ID)).unwrap(),f(!1),h(null),z.success("Fiscal year deleted successfully.")}catch(x){console.error("Failed to delete fiscal year:",x),z.error("Failed to delete fiscal year. Please try again.")}},v=async x=>{try{c?(await t(GA({...x,id:c.ID})).unwrap(),z.success("Fiscal year updated successfully.")):(await t(Wy(x)).unwrap(),z.success("Fiscal year added successfully.")),t(fn())}catch(N){console.error("Failed to save fiscal year:",N),z.error("Failed to save fiscal year. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Year",header:"Year",sortable:!0},{key:"MonthStart",header:"Month Start",sortable:!0},{key:"MonthEnd",header:"Month End",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fiscal Years"}),o.jsx("p",{children:"Manage fiscal years"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fiscal Year"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No fiscal years found. Click 'Add Fiscal Year' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Fiscal Year":"Add Fiscal Year",children:o.jsx(ppe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the fiscal year "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const vpe=[{value:"Individual",label:"Individual"},{value:"Corporate",label:"Corporate"}];function jpe({initialData:t,onSubmit:e,onClose:r}){const n=ce({Type:D().required("Type is required"),Code:D().required("Code is required"),Name:D().required("Nature of Payment is required"),Rate:X().required("Rate is required").min(0,"Rate cannot be negative").max(100,"Rate cannot exceed 100%")});return o.jsx(qe,{initialValues:t||{Type:"",Code:"",Name:"",Rate:0},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(k,{label:"Type",name:"Type",type:"select",options:vpe,value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(k,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(k,{label:"Rate (%)",name:"Rate",type:"number",step:"0.01",value:a.Rate,onChange:l,onBlur:c,error:s.Rate,touched:i.Rate,required:!0}),o.jsx(k,{label:"Nature of Payment",name:"Name",type:"textarea",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}function wpe(){const t=de(),{taxCodes:e,isLoading:r}=H(x=>x.taxCodes),{Add:n,Edit:a,Delete:s}=Ce(78),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Zn())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(ry(m.ID)).unwrap(),f(!1),h(null),z.success("Tax code deleted successfully.")}catch(x){console.error("Failed to delete tax code:",x),z.error("Failed to delete tax code. Please try again.")}},v=async x=>{try{c?(await t(EA({...x,ID:c.ID})).unwrap(),z.success("Tax code updated successfully.")):(await t(ty(x)).unwrap(),z.success("Tax code added successfully.")),t(Zn())}catch(N){console.error("Failed to save tax code:",N),z.error("Failed to save tax code. Please try again.")}finally{l(!1)}},j=[{key:"Type",header:"Type",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Rate",header:"Rate (%)",sortable:!0,render:x=>`${x} %`}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Codes"}),o.jsx("p",{children:"Manage tax codes"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Code"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No tax codes found. Click 'Add Tax Code' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Tax Code":"Add Tax Code",children:o.jsx(jpe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax code "',m==null?void 0:m.Code,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Npe({initialData:t,onSubmit:e,onClose:r}){const n=ce({Code:D().required("Code is required"),Name:D().required("Name is required")}),a=tt({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Cpe(){const t=de(),{modeOfPayments:e,isLoading:r}=H(x=>x.modeOfPayments),{Add:n,Edit:a,Delete:s}=Ce(60),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Qi())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(oy(m.ID)).unwrap(),f(!1),h(null),z.success("Mode of payment deleted successfully.")}catch(x){z.error(x.message||"Failed to delete mode of payment."),console.error("Failed to delete mode of payment:",x)}},v=async x=>{try{c?(await t(OA({...x,ID:c.ID})).unwrap(),z.success("Mode of payment updated successfully.")):(await t(sy(x)).unwrap(),z.success("Mode of payment added successfully.")),t(Qi())}catch(N){console.error("Failed to save mode of payment:",N),z.error("Failed to save mode of payment. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Mode of Payments"}),o.jsx("p",{children:"Manage mode of payments"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Mode of Payment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No mode of payments found. Click 'Add Mode of Payment' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Mode of Payment":"Add Mode of Payment",children:o.jsx(Npe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the mode of payment "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Spe({initialData:t,onSubmit:e,onClose:r}){const n=ce({Code:D().required("Code is required"),Name:D().required("Name is required"),NumberOfDays:X().required("Number of Days is required").integer("Number of Days must be an integer").min(0,"Number of Days cannot be negative")}),a=tt({initialValues:t||{Code:"",Name:"",NumberOfDays:0},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsx(k,{label:"Number of Days",name:"NumberOfDays",type:"number",value:a.values.NumberOfDays,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NumberOfDays,touched:a.touched.NumberOfDays,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Ape(){const t=de(),{paymentTerms:e,isLoading:r}=H(x=>x.paymentTerms),{Add:n,Edit:a,Delete:s}=Ce(63),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Xi())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(ay(m.ID)).unwrap(),f(!1),h(null),z.success("Payment term deleted successfully.")}catch(x){console.error("Failed to delete payment term:",x),z.error("Failed to delete payment term. Please try again.")}},v=async x=>{try{c?(await t(DA({...x,ID:c.ID})).unwrap(),z.success("Payment term updated successfully.")):(await t(ny(x)).unwrap(),z.success("Payment term added successfully.")),t(Xi())}catch(N){console.error("Failed to save payment term:",N),z.error("Failed to save payment term. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NumberOfDays",header:"Number of Days",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Payment Terms"}),o.jsx("p",{children:"Manage payment terms"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Payment Term"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No payment terms found. Click 'Add Payment Term' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Payment Term":"Add Payment Term",children:o.jsx(Spe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the payment term "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ipe({initialData:t,onSubmit:e,onClose:r}){const n=ce({Name:D().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function kpe(){const t=de(),{industries:e,isLoading:r}=H(x=>x.industries),{Add:n,Edit:a,Delete:s}=Ce(53),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,h]=w.useState(null);w.useEffect(()=>{t(Ji())},[t]);const y=()=>{u(null),l(!0)},p=x=>{u(x),l(!0)},b=x=>{h(x),f(!0)},g=async()=>{if(m)try{await t(ey(m.ID)).unwrap(),f(!1),h(null),z.success("Industry deleted successfully.")}catch(x){console.error("Failed to delete industry:",x),z.error("Failed to delete industry. Please try again.")}},v=async x=>{try{c?(await t(PA({...x,ID:c.ID})).unwrap(),z.success("Industry updated successfully.")):(await t(Zg(x)).unwrap(),z.success("Industry added successfully.")),t(Ji())}catch(N){console.error("Failed to save industry:",N),z.error("Failed to save industry. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Industries"}),o.jsx("p",{children:"Manage industries"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Industry"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No industries found. Click 'Add Industry' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Industry":"Add Industry",children:o.jsx(Ipe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the industry "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const Tpe=["Afghan","Albanian","Algerian","Andorran","Angolan","Argentine","Armenian","Australian","Austrian","Azerbaijani","Bahamian","Bahraini","Bangladeshi","Barbadian","Belarusian","Belgian","Belizean","Beninese","Bhutanese","Bolivian","Bosnian","Botswanan","Brazilian","British","Bruneian","Bulgarian","Burkinabe","Burundian","Cambodian","Cameroonian","Canadian","Cape Verdean","Central African","Chadian","Chilean","Chinese","Colombian","Comorian","Congolese","Costa Rican","Croatian","Cuban","Cypriot","Czech","Danish","Djiboutian","Dominican","Dutch","Ecuadorian","Egyptian","Emirati","Eritrean","Estonian","Ethiopian","Fijian","Filipino","Finnish","French","Gabonese","Gambian","Georgian","German","Ghanaian","Greek","Grenadian","Guatemalan","Guinean","Guyanese","Haitian","Honduran","Hungarian","Icelandic","Indian","Indonesian","Iranian","Iraqi","Irish","Israeli","Italian","Ivorian","Jamaican","Japanese","Jordanian","Kazakhstani","Kenyan","Kuwaiti","Kyrgyzstani","Laotian","Latvian","Lebanese","Lesothoan","Liberian","Libyan","Lithuanian","Luxembourgish","Macedonian","Malagasy","Malawian","Malaysian","Maldivian","Malian","Maltese","Mauritanian","Mauritian","Mexican","Moldovan","Monacan","Mongolian","Montenegrin","Moroccan","Mozambican","Namibian","Nepalese","Nigerian","Nicaraguan","North Korean","Norwegian","Omani","Pakistani","Palestinian","Panamanian","Paraguayan","Peruvian","Polish","Portuguese","Qatari","Romanian","Russian","Rwandan","Salvadoran","Samoan","Saudi Arabian","Senegalese","Serbian","Seychellois","Sierra Leonean","Singaporean","Slovak","Slovenian","Somali","South African","South Korean","Spanish","Sri Lankan","Sudanese","Surinamese","Swazi","Swedish","Swiss","Syrian","Taiwanese","Tajikistani","Tanzanian","Thai","Togolese","Tongan","Trinidadian/Tobagonian","Tunisian","Turkish","Turkmen","Tuvaluan","Ugandan","Ukrainian","Uruguayan","Uzbekistani","Venezuelan","Vietnamese","Yemenite","Zambian","Zimbabwean"],Ppe=Tpe.map(t=>({value:t,label:t}));function Epe({initialData:t,onSubmit:e,onClose:r}){const n=de();w.useEffect(()=>{n(Do()),n(Oo()),n(_o()),n(Ro())},[n]);const{regions:a}=H(v=>v.regions),{provinces:s}=H(v=>v.provinces),{municipalities:i}=H(v=>v.municipalities),{barangays:l}=H(v=>v.barangays),c=ce({FirstName:D().required("First Name is required"),MiddleName:D(),LastName:D().required("Last Name is required"),Gender:D().required("Gender is required"),Citizenship:D().required("Citizenship is required"),DateOfBirth:Ue().required("Date of Birth is required"),PlaceOfBirth:D().required("Place of Birth is required"),Occupation:D().required("Occupation is required"),CivilStatus:D().required("Civil Status is required"),TIN:D().matches(/^\d{14}$/,"TIN must be exactly 14 digits"),EmailAddress:D().email(),RegionID:D().required("Region is required"),ProvinceID:D().required("Province is required"),MunicipalityID:D().required("Municipality is required"),BarangayID:D().required("Barangay is required"),ZIPCode:D().required("ZIP Code is required"),StreetAddress:D().required("Street Address is required")}),u=tt({initialValues:{FirstName:(t==null?void 0:t.FirstName)||"",MiddleName:(t==null?void 0:t.MiddleName)||"",LastName:(t==null?void 0:t.LastName)||"",Gender:(t==null?void 0:t.Gender)||"",Citizenship:(t==null?void 0:t.Citizenship)||"",DateOfBirth:(t==null?void 0:t.Birthdate)||"",PlaceOfBirth:(t==null?void 0:t.PlaceofBirth)||"",Occupation:(t==null?void 0:t.Occupation)||"",CivilStatus:(t==null?void 0:t.CivilStatus)||"",TIN:(t==null?void 0:t.TIN)||"",EmailAddress:(t==null?void 0:t.EmailAddress)||"",RegionID:(t==null?void 0:t.RegionID)||"",ProvinceID:(t==null?void 0:t.ProvinceID)||"",MunicipalityID:(t==null?void 0:t.MunicipalityID)||"",BarangayID:(t==null?void 0:t.BarangayID)||"",ZIPCode:(t==null?void 0:t.ZIPCode)||"",StreetAddress:(t==null?void 0:t.StreetAddress)||""},validationSchema:c,onSubmit:v=>e(v)}),{values:d,handleChange:f,handleBlur:m,errors:h,touched:y,setFieldValue:p,handleSubmit:b,submitCount:g}=u;return w.useEffect(()=>{const v=l.find(j=>j.ID.toString()===d.BarangayID);v&&(v.MunicipalityCode&&p("MunicipalityID",v.MunicipalityCode),v.ProvinceCode&&p("ProvinceID",v.ProvinceCode),v.RegionCode&&p("RegionID",v.RegionCode))},[d.BarangayID]),w.useEffect(()=>{const v=i.find(j=>j.ID.toString()===d.MunicipalityID);v&&(v.ProvinceCode&&p("ProvinceID",v.ProvinceCode),v.RegionCode&&p("RegionID",v.RegionCode))},[d.MunicipalityID]),w.useEffect(()=>{const v=s.find(j=>j.ID.toString()===d.ProvinceID);v&&v.RegionCode&&p("RegionID",v.RegionCode)},[d.ProvinceID]),console.log("values",h),o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"First Name",name:"FirstName",value:d.FirstName,onChange:f,onBlur:m,error:y.FirstName&&h.FirstName,touched:y.FirstName,required:!0}),o.jsx(k,{label:"Middle Name",name:"MiddleName",value:d.MiddleName,onChange:f,onBlur:m,error:h.MiddleName&&y.MiddleName,touched:y.MiddleName}),o.jsx(k,{label:"Last Name",name:"LastName",value:d.LastName,onChange:f,onBlur:m,error:y.LastName&&h.LastName,touched:y.LastName,required:!0}),o.jsx(k,{label:"Gender",name:"Gender",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],value:d.Gender,onChange:f,onBlur:m,error:y.Gender&&h.Gender,touched:y.Gender,required:!0}),o.jsx(ut,{label:"Citizenship",name:"Citizenship",type:"select",required:!0,selectedValue:d.Citizenship,onSelect:v=>{p("Citizenship",v)},options:Ppe,error:h.Citizenship&&h.Citizenship,touched:y.Citizenship}),o.jsx(k,{label:"Date of Birth",name:"DateOfBirth",type:"date",value:d.DateOfBirth,onChange:f,onBlur:m,error:y.DateOfBirth&&h.DateOfBirth,touched:y.DateOfBirth,required:!0}),o.jsx(k,{label:"Place of Birth",name:"PlaceOfBirth",value:d.PlaceOfBirth,onChange:f,onBlur:m,error:y.PlaceOfBirth&&h.PlaceOfBirth,touched:y.PlaceOfBirth,required:!0}),o.jsx(k,{label:"Occupation",name:"Occupation",value:d.Occupation,onChange:f,onBlur:m,error:y.Occupation&&h.Occupation,touched:y.Occupation,required:!0}),o.jsx(k,{label:"Civil Status",name:"CivilStatus",type:"select",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widowed",label:"Widowed"},{value:"Separated",label:"Separated"},{value:"Divorced",label:"Divorced"}],value:d.CivilStatus,onChange:f,onBlur:m,error:y.CivilStatus&&h.CivilStatus,touched:y.CivilStatus,required:!0}),o.jsx(k,{label:"TIN",name:"TIN",value:d.TIN,onChange:f,onBlur:m,error:y.TIN&&h.TIN,touched:y.TIN}),o.jsx(k,{label:"Email",name:"EmailAddress",type:"email",value:d.EmailAddress,onChange:f,onBlur:m,error:y.EmailAddress&&h.EmailAddress,touched:y.EmailAddress}),o.jsx(k,{label:"Region",name:"RegionID",type:"select",options:a.map(v=>({value:v.ID,label:v.Name})),value:d.RegionID,onChange:f,onBlur:m,error:y.RegionID&&h.RegionID,touched:y.RegionID,required:!0}),o.jsx(k,{label:"Province",name:"ProvinceID",type:"select",options:s.map(v=>({value:v.ID,label:v.Name})),value:d.ProvinceID,onChange:f,onBlur:m,error:y.ProvinceID&&h.ProvinceID,touched:y.ProvinceID,required:!0}),o.jsx(k,{label:"Municipality",name:"MunicipalityID",type:"select",options:i.map(v=>({value:v.ID,label:v.Name})),value:d.MunicipalityID,onChange:f,onBlur:m,error:y.MunicipalityID&&h.MunicipalityID,touched:y.MunicipalityID,required:!0}),o.jsx(k,{label:"Barangay",name:"BarangayID",type:"select",options:l.map(v=>({value:v.ID,label:v.Name})),value:d.BarangayID,onChange:f,onBlur:m,error:y.BarangayID&&h.BarangayID,touched:y.BarangayID,required:!0}),o.jsx(k,{label:"ZIP Code",name:"ZIPCode",value:d.ZIPCode,onChange:f,onBlur:m,error:y.ZIPCode&&h.ZIPCode,touched:y.ZIPCode,required:!0}),o.jsx(k,{label:"Street Address",name:"StreetAddress",type:"textarea",rows:2,value:d.StreetAddress,onChange:f,onBlur:m,error:y.StreetAddress&&h.StreetAddress,touched:y.StreetAddress,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:t?"Update":"Save"})]}),g>0&&Object.keys(h).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(h).map(([v,j])=>o.jsx("li",{children:j},v))})]})]})}const Fj="https://staging-engine.testthelink.online",Dpe=[],mn=U("customers/fetchCustomers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Fj}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Gy=U("customers/addCustomer",async(t,e)=>{try{const r=await fetch(`${Fj}/customer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),YA=U("customers/updateCustomer",async(t,e)=>{try{const r=await fetch(`${Fj}/customer/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Yy=U("customers/deleteCustomer",async(t,e)=>{try{const r=await fetch(`${Fj}/customer/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ope=we({name:"customers",initialState:{customers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(mn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mn.fulfilled,(e,r)=>{e.isLoading=!1,e.customers=Array.isArray(r.payload)?r.payload:[]}).addCase(mn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch customers",console.warn("Failed to fetch customer details, using mock data.",e.error),e.customers=Dpe}).addCase(Gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers.push(r.payload)}).addCase(Gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add customer",console.error("Failed to add customer:",e.error)}).addCase(YA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(YA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.customers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.customers)||(e.customers=[]),e.customers[n]=r.payload)}).addCase(Yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers=e.customers.filter(n=>n.ID!==r.payload)}).addCase(Yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete customer",console.error("Failed to delete customer:",e.error)})}}),_pe=Ope.reducer;function Rpe(){const t=de(),{customers:e,isLoading:r}=H(I=>I.customers),{industries:n}=H(I=>I.industries),{taxCodes:a}=H(I=>I.taxCodes),{paymentTerms:s}=H(I=>I.paymentTerms),{modeOfPayments:i}=H(I=>I.modeOfPayments),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,y]=w.useState(null),{Add:p,Edit:b,Delete:g}=Ce(38);w.useEffect(()=>{t(mn()),t(Ji()),t(Zn()),t(Xi()),t(Qi())},[t]);const v=()=>{d(null),c(!0)},j=I=>{d(I),c(!0)},C=I=>{console.log("Delete customer:",I),y(I),m(!0)},x=async()=>{if(h)try{await t(Yy(h.ID)).unwrap(),m(!1),y(null),z.success("Customer deleted successfully")}catch(I){console.error("Failed to delete Individual/Citizen:",I),z.error(I.message||"Failed to delete Individual/Citizen. Please try again.")}},N=async I=>{try{u?(await t(YA({...I,ID:u.ID})).unwrap(),z.success("Customer updated successfully")):(await t(Gy(I)).unwrap(),z.success("Customer added successfully")),t(mn())}catch(T){console.error("Failed to save Individual/Citizen:",T),z.error(T.message||"Failed to save Individual/Citizen")}finally{d(null),c(!1)}},S=[{key:"Name",header:"Name",sortable:!0,render:(I,T)=>I||T.FirstName+" "+T.MiddleName+" "+T.LastName||"N/A"},{key:"TIN",header:"TIN",sortable:!0,render:I=>I||"N/A"},{key:"ZIPCode",header:"ZIP Code",sortable:!0,render:I=>I||"N/A"},{key:"PlaceofIncorporation",header:"Place of Incorporation",sortable:!0,render:I=>I||"N/A"},{key:"KindofOrganization",header:"Kind of Organization",sortable:!0,render:I=>I||"N/A"},{key:"Gender",header:"Gender",sortable:!0,render:I=>I||"N/A"},{key:"StreetAddress",header:"Address",sortable:!0,render:I=>I||"N/A"},{key:"Citizenship",header:"Citizenship",sortable:!0,render:I=>I||"N/A"},{key:"Occupation",header:"Occupation",sortable:!0,render:I=>I||"N/A"}],A=[b&&{icon:Pe,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},g&&{icon:Be,title:"Delete",onClick:C,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Individuals/Citizens"}),o.jsx("p",{children:"Manage Individuals/Citizens here"})]}),p&&o.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Individual/Citizen"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:S,data:e,actions:A,loading:r,emptyMessage:"No individuals/citizens found. Click 'Add Individual/Citizen' to create one."})}),o.jsx(le,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Individual/Citizen":"Add Individual/Citizen",size:"lg",children:o.jsx(Epe,{initialData:u,onClose:()=>c(!1),onSubmit:N})}),o.jsxs(le,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete the individual/citizen?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const $pe={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",info:"bg-info-600 text-white hover:bg-info-700 focus:ring-info-500"},Mpe={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function At({children:t,variant:e="primary",size:r="md",className:n="",disabled:a=!1,type:s="button",onClick:i,...l}){return o.jsx("button",{type:s,className:Le("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",$pe[e],Mpe[r],a&&"opacity-50 cursor-not-allowed",n),disabled:a,onClick:i,...l,children:t})}function Lpe({initialData:t,onSubmit:e,onClose:r}){var v;const n=de(),{customers:a}=H(j=>j.customers);w.useEffect(()=>{n(mn())},[n]);const s=tt({initialValues:{T_D_No:"",PropertyID:"",OwnerID:"",OwnerTIN:"",OwnerTelephoneNumber:"",OwnerAddress:"",BeneficialorAdminUserID:"",BeneficialorAdminTIN:"",BeneficialorAdminAddress:"",BeneficialorAdminTelephoneNumber:"",OCT_TCT_CLOA_Number:"",SurveyNumber:"",LotNumber:"",CCT:"",BlockNumber:"",Dated:"",North:"",South:"",East:"",West:"",Taxable:!1,CancelTDNumber:"",PreviousAssessedValue:"",KindofProperty:"",Storeys:"",Description:"",ActualUse:"",Classification:"",AssessmentLevel:"",MarketValue:"",AmountInWords:"",Memoranda:"",...t||{}},validationSchema:ce({T_D_No:X().required("TD No. is required"),PropertyID:X().required("Property ID is required"),OwnerID:X().required("Owner ID is required"),OwnerTIN:D().required("Owner TIN is required"),OwnerTelephoneNumber:D().required("Owner Telephone Number is required"),OwnerAddress:D().required("Owner Address is required"),BeneficialorAdminUserID:X().required("Beneficialor Admin User ID is required"),BeneficialorAdminTIN:D().required("Beneficialor Admin TIN is required"),BeneficialorAdminAddress:D().required("Beneficialor Admin Address is required"),BeneficialorAdminTelephoneNumber:D().required("Beneficialor Admin Telephone Number is required"),OCT_TCT_CLOA_Number:D().required("OCT TCT CLOA Number is required"),SurveyNumber:D().required("Survey Number is required"),LotNumber:D().required("Lot Number is required"),CCT:D().required("CCT is required"),BlockNumber:D().required("Block Number is required"),Dated:D().required("Dated is required"),North:D().required("North is required"),South:D().required("South is required"),East:D().required("East is required"),West:D().required("West is required"),Taxable:Rs(),CancelTDNumber:D().required("Cancel TD Number is required"),Effectivity:D().required("Effectivity is required"),OwnerPrevious:D().required("Owner Previous is required"),PreviousAssessedValue:X().required("Previous Assessed Value is required"),KindofProperty:D().required("Kind of Property is required"),Storeys:D().required("Number of Storeys is required"),Description:D().required("Description is required"),kind:D().required("Kind is required"),ActualUse:D().required("Actual Use is required"),Classification:D().required("Classification is required"),AreaSize:D().required("Area Size is required"),AssessmentLevel:D().required("Assessment Level is required"),MarketValue:D().required("Market Value is required"),AmountInWords:D().required("Amount in Words is required"),Memoranda:D().required("Memoranda is required"),assessmentRows:zt().of(ce().shape({Kind:D().required("Kind is required"),Classification:D().required("Classification is required"),Area:D().required("Area is required"),MarketValue:D().required("Market Value is required"),ActualUse:D().required("Actual Use is required"),AssessmentLevel:D().required("Assessment Level is required"),AssessmentValue:D().required("Assessment Value is required")}))}),onSubmit:j=>{e({...j,assessmentRows:i})}}),[i,l]=w.useState(()=>{var j;return(j=t==null?void 0:t.AssessmentRows)!=null&&j.length?t.AssessmentRows.map(C=>({...C})):[{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}]}),{values:c,handleChange:u,handleBlur:d,errors:f,touched:m,handleSubmit:h,isSubmitting:y}=s,p=()=>{l([...i,{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}])},b=j=>{if(i.length===1)return;const C=[...i];C.splice(j,1),l(C)},g=(j,C,x)=>{const N=[...i];N[j][C]=x,l(N)};return console.log(f),o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{required:!0,label:"TD No.",name:"T_D_No",type:"number",value:c.T_D_No,onChange:u,onBlur:d,error:m.T_D_No&&f.T_D_No,touched:m.T_D_No}),o.jsx(k,{required:!0,label:"Property Identification No.",name:"PropertyID",type:"number",value:c.PropertyID,onChange:u,onBlur:d,error:m.PropertyID&&f.PropertyID,touched:m.PropertyID})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(k,{label:"Owner",name:"OwnerID",type:"select",required:!0,options:a.map(j=>({value:j.ID,label:j.Name||`${j.FirstName} (${j.MiddleName} ${j.LastName})`})),value:c.OwnerID,onChange:u,onBlur:d,error:m.OwnerID&&f.OwnerID,touched:m.OwnerID}),o.jsx(k,{label:"TIN",name:"OwnerTIN",type:"number",required:!0,value:c.OwnerTIN,onChange:u,onBlur:d,error:m.OwnerTIN&&f.OwnerTIN,touched:m.OwnerTIN}),o.jsx(k,{label:"Owner Telephone No.",name:"OwnerTelephoneNumber",type:"number",required:!0,value:c.OwnerTelephoneNumber,onChange:u,onBlur:d,error:m.OwnerTelephoneNumber&&f.OwnerTelephoneNumber,touched:m.OwnerTelephoneNumber}),o.jsx(k,{label:"Address",name:"OwnerAddress",type:"text",required:!0,value:c.OwnerAddress,onChange:u,onBlur:d,error:m.OwnerAddress&&f.OwnerAddress,touched:m.OwnerAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(k,{label:"Beneficial/Administrator User",options:a.map(j=>({value:j.ID,label:j.Name||`${j.FirstName} (${j.MiddleName} ${j.LastName})`})),name:"BeneficialorAdminUserID",type:"select",required:!0,value:c.BeneficialorAdminUserID,onChange:u,onBlur:d,error:m.BeneficialorAdminUserID&&f.BeneficialorAdminUserID,touched:m.BeneficialorAdminUserID}),o.jsx(k,{label:"Beneficial/Admin User TIN",name:"BeneficialorAdminTIN",type:"number",required:!0,value:c.BeneficialorAdminTIN,onChange:u,onBlur:d,error:m.BeneficialorAdminTIN&&f.BeneficialorAdminTIN,touched:m.BeneficialorAdminTIN}),o.jsx(k,{label:"Beneficial/Administrator Telephone No.",name:"BeneficialorAdminTelephoneNumber",type:"number",required:!0,value:c.BeneficialorAdminTelephoneNumber,onChange:u,onBlur:d,error:m.BeneficialorAdminTelephoneNumber&&f.BeneficialorAdminTelephoneNumber,touched:m.BeneficialorAdminTelephoneNumber}),o.jsx(k,{label:"Beneficial/Administrator Address",name:"BeneficialorAdminAddress",type:"text",required:!0,value:c.BeneficialorAdminAddress,onChange:u,onBlur:d,error:m.BeneficialorAdminAddress&&f.BeneficialorAdminAddress,touched:m.BeneficialorAdminAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-300",children:[o.jsx(k,{label:"OCT/TCTCLOA No.",name:"OCT_TCT_CLOA_Number",type:"number",required:!0,value:c.OCT_TCT_CLOA_Number,onChange:u,onBlur:d,error:m.OCT_TCT_CLOA_Number&&f.OCT_TCT_CLOA_Number,touched:m.OCT_TCT_CLOA_Number}),o.jsx(k,{label:"Survey No.",name:"SurveyNumber",type:"number",required:!0,value:c.SurveyNumber,onChange:u,onBlur:d,error:m.SurveyNumber&&f.SurveyNumber,touched:m.SurveyNumber}),o.jsx(k,{label:"Lot No.",name:"LotNumber",type:"text",required:!0,value:c.LotNumber,onChange:u,onBlur:d,error:m.LotNumber&&f.LotNumber,touched:m.LotNumber}),o.jsx(k,{label:"CCT",name:"CCT",type:"text",required:!0,value:c.CCT,onChange:u,onBlur:d,error:m.CCT&&f.CCT,touched:m.CCT}),o.jsx(k,{label:"Block No.",name:"BlockNumber",type:"text",required:!0,value:c.BlockNumber,onChange:u,onBlur:d,error:m.BlockNumber&&f.BlockNumber,touched:m.BlockNumber}),o.jsx(k,{label:"Dated",name:"Dated",type:"date",required:!0,value:c.Dated,onChange:u,onBlur:d,error:m.Dated&&f.Dated,touched:m.Dated})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Boundaries:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"North",name:"North",type:"text",required:!0,value:c.North,onChange:u,onBlur:d,error:m.North&&f.North,touched:m.North}),o.jsx(k,{label:"South",name:"South",type:"text",required:!0,value:c.South,onChange:u,onBlur:d,error:m.South&&f.South,touched:m.South}),o.jsx(k,{label:"East",name:"East",type:"text",required:!0,value:c.East,onChange:u,onBlur:d,error:m.East&&f.East,touched:m.East}),o.jsx(k,{label:"West",name:"West",type:"text",required:!0,value:c.West,onChange:u,onBlur:d,error:m.West&&f.West,touched:m.West})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Taxable",checked:c.Taxable,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"ml-2 text-sm",children:"Taxable"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx("div",{children:o.jsx(k,{type:"select",name:"CancelTDNumber",placeholder:"Cancel TD No.",label:"This Declaration cancels TD No.",options:["1","2","3"].map(j=>({label:j,value:j})),required:!0,value:c.CancelTDNumber,onChange:u,onBlur:d,error:m.CancelTDNumber&&f.CancelTDNumber,touched:m.CancelTDNumber,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(k,{type:"text",name:"Effectivity",placeholder:"Effectivity of Assessment/Reassessment",label:"Effectivity of Assessment/Reassessment",required:!0,value:c.Effectivity,onChange:u,error:m.Effectivity&&f.Effectivity,touched:m.Effectivity,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(k,{type:"text",name:"OwnerPrevious",placeholder:"Previous Owner",label:"Previous Owner",required:!0,value:c.OwnerPrevious,error:m.OwnerPrevious&&f.OwnerPrevious,touched:m.OwnerPrevious,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(k,{type:"number",name:"PreviousAssessedValue",placeholder:" Previous Assessed Value:",label:"Previous Assessed Value:",value:c.PreviousAssessedValue,error:m.PreviousAssessedValue&&f.PreviousAssessedValue,touched:m.PreviousAssessedValue,onChange:u,required:!0,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),o.jsxs("div",{className:"p-4 border border-gray-300 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Kind",name:"KindofProperty",type:"text",value:c.KindofProperty,onChange:u,onBlur:d,required:!0,error:m.KindofProperty&&f.KindofProperty,touched:m.KindofProperty}),o.jsx(k,{label:"Number of Storeys",name:"Storeys",type:"number",value:c.Storeys,onChange:u,onBlur:d,required:!0,error:m.Storeys&&f.Storeys,touched:m.Storeys})]}),o.jsx(k,{label:"Description",name:"Description",type:"textarea",value:c.Description,onChange:u,onBlur:d,error:m.Description&&f.Description,required:!0,touched:m.Description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx("div",{children:o.jsx(k,{label:"Kind: (LAND / BUILDING)",name:"kind",type:"select",required:!0,value:c.kind,onChange:u,onBlur:d,error:m.kind&&f.kind,touched:m.kind,options:["LAND","BUILDING"].map(j=>({label:j,value:j}))})}),o.jsx("div",{children:o.jsx(k,{label:"Actual Use",name:"ActualUse",type:"select",required:!0,value:c.ActualUse,onChange:u,onBlur:d,error:m.ActualUse&&f.ActualUse,touched:m.ActualUse,options:["RESIDENTIAL","COMMERCIAL","INDUSTRIAL"].map(j=>({label:j,value:j}))})}),o.jsx("div",{children:o.jsx(k,{label:"Classification",name:"Classification",type:"select",required:!0,value:c.Classification,onChange:u,onBlur:d,error:m.Classification&&f.Classification,touched:m.Classification,options:["A","B","C"].map(j=>({label:j,value:j}))})}),o.jsx("div",{children:o.jsx(k,{type:"text",name:"AreaSize",placeholder:"Enter Area Size",label:"Area Size",required:!0,value:c.AreaSize,onBlur:d,error:m.AreaSize&&f.AreaSize,touched:m.AreaSize,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(k,{type:"number",name:"AssessmentLevel",label:"Assessment Level",placeholder:"Enter Assessment Level",required:!0,value:c.AssessmentLevel,onBlur:d,error:m.AssessmentLevel&&f.AssessmentLevel,touched:m.AssessmentLevel,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(k,{placeholder:"Enter Market Value",type:"number",name:"MarketValue",label:"Market Value",value:c.MarketValue,onBlur:d,error:m.MarketValue&&f.MarketValue,touched:m.MarketValue,required:!0,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Details"}),o.jsxs(At,{type:"button",onClick:p,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(om,{className:"w-4 h-4 mr-1"}),"ADD"]})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsx("tr",{children:["Kind","Classification","Area ","Market Value","Actual Use","Assessment Level","Assessment Value","Actions"].map(j=>o.jsxs("th",{className:"border border-gray-300 p-2 text-sm",children:[j," ",o.jsx("span",{className:"text-red-500",children:"*"})]},j))})}),o.jsx("tbody",{children:i.map((j,C)=>o.jsxs("tr",{children:[["Kind","Classification","Area","MarketValue","ActualUse","AssessmentLevel","AssessmentValue"].map(x=>{var N,S,A,I,T,E;return o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx(k,{type:"text",value:j[x],onChange:R=>g(C,x,R.target.value),onBlur:d,error:((S=(N=m.assessmentRows)==null?void 0:N[C])==null?void 0:S[x])&&((I=(A=f.assessmentRows)==null?void 0:A[C])==null?void 0:I[x]),touched:(E=(T=m.assessmentRows)==null?void 0:T[C])==null?void 0:E[x],className:"w-full p-1 border-0 focus:ring-1 focus:ring-blue-500"})},x)}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx(At,{type:"button",onClick:()=>b(C),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:i.length===1,children:o.jsx(Qt,{className:"w-4 h-4"})})})]},C))})]}),((v=f==null?void 0:f.assessmentRows)==null?void 0:v.length)>0&&o.jsxs("p",{className:"text-red-500 text-sm mt-2",children:["At Least One Row Required"," "]})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amounts in Words:"}),o.jsx("textarea",{name:"AmountInWords",value:c.AmountInWords,onChange:u,onBlur:d,error:m.AmountInWords&&f.AmountInWords,touched:m.AmountInWords,rows:"2",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1 bg-red-100 p-2",children:"Memoranda:"}),o.jsx("textarea",{name:"Memoranda",value:c.Memoranda,onChange:u,onBlur:d,error:m.Memoranda&&f.Memoranda,touched:m.Memoranda,rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"save"})]})]})}const Bj="https://staging-engine.testthelink.online",Fpe=[],df=U("taxDeclarations/fetchTaxDeclarations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Bj}/propertyTaxDeclaration`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ky=U("taxDeclarations/addTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Bj}/propertyTaxDeclaration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),KA=U("taxDeclarations/updateTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Bj}/propertyTaxDeclaration/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Jy=U("taxDeclarations/deleteTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Bj}/propertyTaxDeclaration/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Bpe=we({name:"taxDeclarations",initialState:{taxDeclarations:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(df.pending,e=>{e.isLoading=!0,e.error=null}).addCase(df.fulfilled,(e,r)=>{e.isLoading=!1,e.taxDeclarations=Array.isArray(r.payload)?r.payload:[]}).addCase(df.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax declarations",console.warn("Failed to fetch tax declarations, using mock data.",e.error),e.taxDeclarations=Fpe}).addCase(Ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ky.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations.push(r.payload)}).addCase(Ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax declaration",console.error("Failed to add tax declaration:",e.error)}).addCase(KA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(KA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxDeclarations.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations[n]=r.payload)}).addCase(Jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations=e.taxDeclarations.filter(n=>n.ID!==r.payload)}).addCase(Jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax declaration",console.error("Failed to delete tax declaration:",e.error)})}}),qpe=Bpe.reducer,qj="https://staging-engine.testthelink.online",Vpe=[],$o=U("generalRevisions/fetchGeneralRevisions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qj}/generalRevision`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Xy=U("generalRevisions/addGeneralRevision",async(t,e)=>{try{const r=await fetch(`${qj}/generalRevision`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),JA=U("generalRevisions/updateGeneralRevision",async(t,e)=>{try{const r=await fetch(`${qj}/generalRevision/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Qy=U("generalRevisions/deleteGeneralRevision",async(t,e)=>{try{const r=await fetch(`${qj}/generalRevision/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Upe=we({name:"generalRevisions",initialState:{generalRevisions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase($o.pending,e=>{e.isLoading=!0,e.error=null}).addCase($o.fulfilled,(e,r)=>{e.isLoading=!1,e.generalRevisions=Array.isArray(r.payload)?r.payload:[]}).addCase($o.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch general revisions",console.warn("Failed to fetch general revisions, using mock data.",e.error),e.generalRevisions=Vpe}).addCase(Xy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions.push(r.payload)}).addCase(Xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add general revision",console.error("Failed to add general revision:",e.error)}).addCase(JA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(JA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalRevisions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions[n]=r.payload)}).addCase(Qy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions=e.generalRevisions.filter(n=>n.ID!==r.payload)}).addCase(Qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete general revision",console.error("Failed to delete general revision:",e.error)})}}),zpe=Upe.reducer;function Wpe(){const t=de(),{taxDeclarations:e,isLoading:r}=H(T=>T.taxDeclarations),{generalRevisions:n,isLoading:a}=H(T=>T.generalRevisions),{Add:s,Edit:i,Delete:l}=Ce(79),[c,u]=w.useState(!1),[d,f]=w.useState(null),[m,h]=w.useState(!1),[y,p]=w.useState(null),[b,g]=w.useState("");w.useEffect(()=>{t(df()),t($o())},[t]);const v=()=>{f(null),u(!0)},j=T=>{if(!b)return z.error("Please select a general revision year first.");f(T),u(!0)},C=T=>{p(T),h(!0)},x=async()=>{if(y)try{await t(Jy(y.ID)).unwrap(),h(!1),p(null)}catch(T){console.error("Failed to delete tax declaration:",T)}},N=async T=>{const E=n==null?void 0:n.find(R=>R.ID===Number(b));try{d?(await t(KA({...T,ID:d.ID,GeneralRevision:E==null?void 0:E.General_Revision_Date_Year})).unwrap(),z.success("Tax declaration updated successfully")):(await t(Ky({...T,GeneralRevision:E==null?void 0:E.General_Revision_Date_Year})).unwrap(),z.success("Tax declaration saved successfully")),t(df()),u(!1)}catch(R){console.error("Failed to save tax declaration:",R),z.error("Failed to save tax declaration. Please try again.")}},S=[{key:"T_D_No",header:"Tax Declaration No.",sortable:!0},{key:"PropertyID",header:"Property ID",sortable:!0},{key:"OwnerID",header:"Owner ID",sortable:!0},{key:"OwnerTIN",header:"Owner TIN",sortable:!0},{key:"OwnerAddress",header:"Owner Address",sortable:!0},{key:"OwnerTelephoneNumber",header:"Owner Telephone No.",sortable:!0},{key:"BeneficialorAdminUserID",header:"Beneficial/Administrator User",sortable:!0},{key:"BeneficialorAdminTIN",header:"Beneficial/Administrator TIN",sortable:!0},{key:"BeneficialorAdminAddress",header:"Beneficial/Administrator Address",sortable:!0},{key:"BeneficialorAdminTelephoneNumber",header:"Beneficial/Administrator Telephone No.",sortable:!0}],A=[i&&{icon:Pe,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},l&&{icon:Be,title:"Delete",onClick:C,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],I=n==null?void 0:n.map(T=>({value:T.ID,label:T.General_Revision_Date_Year}));return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Declarations"}),o.jsx("p",{children:"Manage Tax Declarations"})]}),o.jsxs("div",{className:"flex gap-4 items-center max-sm:flex-col max-sm:w-full",children:[s&&o.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary max-sm:w-full disabled:opacity-50 disabled:cursor-not-allowed",disabled:b==="",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Declaration"]}),o.jsx("div",{className:"max-sm:w-full",children:o.jsx(k,{type:"select",name:"year",label:"General Revision Year",value:b,onChange:T=>g(T.target.value),placeholder:"Select a year",options:I})})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:S,data:e,actions:A,loading:r||a,emptyMessage:"No tax declarations found. Click 'Add Tax Declaration' to create one."})}),o.jsx(le,{size:"xl",isOpen:c,onClose:()=>u(!1),title:d?"Edit Tax Declaration":"Add Tax Declaration",children:o.jsx(Lpe,{initialData:d,onClose:()=>u(!1),onSubmit:N})}),o.jsxs(le,{isOpen:m,onClose:()=>h(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax declaration "',y==null?void 0:y.T_D_No,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const Hpe=({initialData:t,onSubmit:e,onCancel:r,isEdit:n})=>{const a=de(),{employees:s}=H(u=>u.employees);w.useEffect(()=>{a(dn())},[a]);const i=ce().shape({General_Revision_Date_Year:D().required("Required"),GeneralRevisionCode:D().required("Required"),TaxDeclarationCode:D().required("Required")}),l=tt({initialValues:t||{General_Revision_Date_Year:"",GeneralRevisionCode:"",TaxDeclarationCode:"",CityorMunicipalityAssessor:"",CityorMunicipalityAssistantAssessor:"",ProvincialAssessor:"",ProvincialAssistantAssessor:""},validationSchema:i,onSubmit:u=>{e(u)}}),c=s.map(u=>({value:u.ID,label:`${u.LastName}, ${u.FirstName}`}));return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"General Revision Date (Year)",name:"General_Revision_Date_Year",type:"number",value:l.values.General_Revision_Date_Year,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.General_Revision_Date_Year,touched:l.touched.General_Revision_Date_Year,required:!0}),o.jsx(k,{label:"General Revision Code",name:"GeneralRevisionCode",type:"text",value:l.values.GeneralRevisionCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.GeneralRevisionCode,touched:l.touched.GeneralRevisionCode,required:!0})]}),o.jsx(k,{label:"General Revision Tax Declaration Code",name:"TaxDeclarationCode",type:"text",value:l.values.TaxDeclarationCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.TaxDeclarationCode,touched:l.touched.TaxDeclarationCode,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(ut,{label:"City Or Municipality Assessor",options:c,placeholder:"Select Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssessor,error:l.errors.CityorMunicipalityAssessor,touched:l.touched.CityorMunicipalityAssessor}),o.jsx(ut,{label:"Assistant City Or Municipality Assessor",options:c,placeholder:"Select Assistant Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssistantAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssistantAssessor,error:l.errors.CityorMunicipalityAssistantAssessor,touched:l.touched.CityorMunicipalityAssistantAssessor}),o.jsx(ut,{label:"Provincial Assessor",options:c,placeholder:"Select Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssessor",u||"")},selectedValue:l.values.ProvincialAssessor,error:l.errors.ProvincialAssessor,touched:l.touched.ProvincialAssessor}),o.jsx(ut,{label:"Assistant Provincial Assessor",options:c,placeholder:"Select Assistant Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssistantAssessor",u||"")},selectedValue:l.values.ProvincialAssistantAssessor,error:l.errors.ProvincialAssistantAssessor,touched:l.touched.ProvincialAssistantAssessor})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})},Gpe=()=>{const t=de(),{generalRevisions:e,isLoading:r}=H(x=>x.generalRevisions),{Add:n,Edit:a,Delete:s}=Ce(51),[i,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),[m,h]=w.useState(null);w.useEffect(()=>{t($o())},[t]);const y=()=>{f(null),l(!0)},p=x=>{f(x),l(!0)},b=async x=>{try{d?(await t(JA({...x,ID:d.ID})).unwrap(),z.success("Revision updated successfully")):(await t(Xy(x)).unwrap(),z.success("Revision added successfully")),t($o())}catch(N){console.error("Failed to save general revision:",N),z.error("Failed to save general revision. Please try again.")}finally{l(!1)}},g=x=>{h(x),u(!0)},v=async()=>{try{m&&(await t(Qy(m.ID)).unwrap(),z.success("Revision deleted successfully"),u(!1))}catch(x){console.error("Failed to delete revision:",x),z.error("Failed to delete revision. Please try again.")}},j=[{key:"General_Revision_Date_Year",header:"General Revision Date (Year)",sortable:!0},{key:"GeneralRevisionCode",header:"General Revision Code",sortable:!0}],C=[a&&{icon:Pe,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Be,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Revisions"}),o.jsx("p",{children:"Manage General Revision Records"})]}),n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Revision"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:j,actions:C,data:e,loading:r,emptyMessage:"No general revisions found. Click 'Add Revision' to create one."})}),o.jsx(le,{isOpen:i,onClose:()=>l(!1),title:d?"Edit General Revision":"Add General Revision",size:"lg",children:o.jsx(Hpe,{initialData:d,onClose:()=>l(!1),onSubmit:b})}),o.jsxs(le,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the revision"," ",o.jsx("strong",{children:m==null?void 0:m.revisionYear}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})};function hV(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ype}=Object.prototype,{getPrototypeOf:BP}=Object,{iterator:Vj,toStringTag:pV}=Symbol,Uj=(t=>e=>{const r=Ype.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Sa=t=>(t=t.toLowerCase(),e=>Uj(e)===t),zj=t=>e=>typeof e===t,{isArray:ku}=Array,im=zj("undefined");function uh(t){return t!==null&&!im(t)&&t.constructor!==null&&!im(t.constructor)&&hn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const gV=Sa("ArrayBuffer");function Kpe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&gV(t.buffer),e}const Jpe=zj("string"),hn=zj("function"),yV=zj("number"),dh=t=>t!==null&&typeof t=="object",Xpe=t=>t===!0||t===!1,Zy=t=>{if(Uj(t)!=="object")return!1;const e=BP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(pV in t)&&!(Vj in t)},Qpe=t=>{if(!dh(t)||uh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Zpe=Sa("Date"),ege=Sa("File"),tge=Sa("Blob"),rge=Sa("FileList"),nge=t=>dh(t)&&hn(t.pipe),age=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||hn(t.append)&&((e=Uj(t))==="formdata"||e==="object"&&hn(t.toString)&&t.toString()==="[object FormData]"))},sge=Sa("URLSearchParams"),[oge,ige,lge,cge]=["ReadableStream","Request","Response","Headers"].map(Sa),uge=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fh(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),ku(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{if(uh(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,t[l],l,t)}}function bV(t,e){if(uh(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const Ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xV=t=>!im(t)&&t!==Ri;function XA(){const{caseless:t}=xV(this)&&this||{},e={},r=(n,a)=>{const s=t&&bV(e,a)||a;Zy(e[s])&&Zy(n)?e[s]=XA(e[s],n):Zy(n)?e[s]=XA({},n):ku(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&fh(arguments[n],r);return e}const dge=(t,e,r,{allOwnKeys:n}={})=>(fh(e,(a,s)=>{r&&hn(a)?t[s]=hV(a,r):t[s]=a},{allOwnKeys:n}),t),fge=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mge=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},hge=(t,e,r,n)=>{let a,s,i;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)i=a[s],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&BP(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},pge=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},gge=t=>{if(!t)return null;if(ku(t))return t;let e=t.length;if(!yV(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},yge=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&BP(Uint8Array)),bge=(t,e)=>{const n=(t&&t[Vj]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},xge=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},vge=Sa("HTMLFormElement"),jge=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),yR=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),wge=Sa("RegExp"),vV=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};fh(r,(a,s)=>{let i;(i=e(a,s,t))!==!1&&(n[s]=i||a)}),Object.defineProperties(t,n)},Nge=t=>{vV(t,(e,r)=>{if(hn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(hn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Cge=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return ku(t)?n(t):n(String(t).split(e)),r},Sge=()=>{},Age=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Ige(t){return!!(t&&hn(t.append)&&t[pV]==="FormData"&&t[Vj])}const kge=t=>{const e=new Array(10),r=(n,a)=>{if(dh(n)){if(e.indexOf(n)>=0)return;if(uh(n))return n;if(!("toJSON"in n)){e[a]=n;const s=ku(n)?[]:{};return fh(n,(i,l)=>{const c=r(i,a+1);!im(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return r(t,0)},Tge=Sa("AsyncFunction"),Pge=t=>t&&(dh(t)||hn(t))&&hn(t.then)&&hn(t.catch),jV=((t,e)=>t?setImmediate:e?((r,n)=>(Ri.addEventListener("message",({source:a,data:s})=>{a===Ri&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ri.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",hn(Ri.postMessage)),Ege=typeof queueMicrotask<"u"?queueMicrotask.bind(Ri):typeof process<"u"&&process.nextTick||jV,Dge=t=>t!=null&&hn(t[Vj]),ne={isArray:ku,isArrayBuffer:gV,isBuffer:uh,isFormData:age,isArrayBufferView:Kpe,isString:Jpe,isNumber:yV,isBoolean:Xpe,isObject:dh,isPlainObject:Zy,isEmptyObject:Qpe,isReadableStream:oge,isRequest:ige,isResponse:lge,isHeaders:cge,isUndefined:im,isDate:Zpe,isFile:ege,isBlob:tge,isRegExp:wge,isFunction:hn,isStream:nge,isURLSearchParams:sge,isTypedArray:yge,isFileList:rge,forEach:fh,merge:XA,extend:dge,trim:uge,stripBOM:fge,inherits:mge,toFlatObject:hge,kindOf:Uj,kindOfTest:Sa,endsWith:pge,toArray:gge,forEachEntry:bge,matchAll:xge,isHTMLForm:vge,hasOwnProperty:yR,hasOwnProp:yR,reduceDescriptors:vV,freezeMethods:Nge,toObjectSet:Cge,toCamelCase:jge,noop:Sge,toFiniteNumber:Age,findKey:bV,global:Ri,isContextDefined:xV,isSpecCompliantForm:Ige,toJSONObject:kge,isAsyncFn:Tge,isThenable:Pge,setImmediate:jV,asap:Ege,isIterable:Dge};function ze(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ne.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const wV=ze.prototype,NV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NV[t]={value:t}});Object.defineProperties(ze,NV);Object.defineProperty(wV,"isAxiosError",{value:!0});ze.from=(t,e,r,n,a,s)=>{const i=Object.create(wV);return ne.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ze.call(i,t.message,e,r,n,a),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const Oge=null;function QA(t){return ne.isPlainObject(t)||ne.isArray(t)}function CV(t){return ne.endsWith(t,"[]")?t.slice(0,-2):t}function bR(t,e,r){return t?t.concat(e).map(function(a,s){return a=CV(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function _ge(t){return ne.isArray(t)&&!t.some(QA)}const Rge=ne.toFlatObject(ne,{},null,function(e){return/^is[A-Z]/.test(e)});function Wj(t,e,r){if(!ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,b){return!ne.isUndefined(b[p])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(e);if(!ne.isFunction(a))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(ne.isDate(y))return y.toISOString();if(ne.isBoolean(y))return y.toString();if(!c&&ne.isBlob(y))throw new ze("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(y)||ne.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,p,b){let g=y;if(y&&!b&&typeof y=="object"){if(ne.endsWith(p,"{}"))p=n?p:p.slice(0,-2),y=JSON.stringify(y);else if(ne.isArray(y)&&_ge(y)||(ne.isFileList(y)||ne.endsWith(p,"[]"))&&(g=ne.toArray(y)))return p=CV(p),g.forEach(function(j,C){!(ne.isUndefined(j)||j===null)&&e.append(i===!0?bR([p],C,s):i===null?p:p+"[]",u(j))}),!1}return QA(y)?!0:(e.append(bR(b,p,s),u(y)),!1)}const f=[],m=Object.assign(Rge,{defaultVisitor:d,convertValue:u,isVisitable:QA});function h(y,p){if(!ne.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(y),ne.forEach(y,function(g,v){(!(ne.isUndefined(g)||g===null)&&a.call(e,g,ne.isString(v)?v.trim():v,p,m))===!0&&h(g,p?p.concat(v):[v])}),f.pop()}}if(!ne.isObject(t))throw new TypeError("data must be an object");return h(t),e}function xR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function qP(t,e){this._pairs=[],t&&Wj(t,this,e)}const SV=qP.prototype;SV.append=function(e,r){this._pairs.push([e,r])};SV.toString=function(e){const r=e?function(n){return e.call(this,n,xR)}:xR;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function $ge(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function AV(t,e,r){if(!e)return t;const n=r&&r.encode||$ge;ne.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(e,r):s=ne.isURLSearchParams(e)?e.toString():new qP(e,r).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class vR{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ne.forEach(this.handlers,function(n){n!==null&&e(n)})}}const IV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mge=typeof URLSearchParams<"u"?URLSearchParams:qP,Lge=typeof FormData<"u"?FormData:null,Fge=typeof Blob<"u"?Blob:null,Bge={isBrowser:!0,classes:{URLSearchParams:Mge,FormData:Lge,Blob:Fge},protocols:["http","https","file","blob","url","data"]},VP=typeof window<"u"&&typeof document<"u",ZA=typeof navigator=="object"&&navigator||void 0,qge=VP&&(!ZA||["ReactNative","NativeScript","NS"].indexOf(ZA.product)<0),Vge=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uge=VP&&window.location.href||"http://localhost",zge=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:VP,hasStandardBrowserEnv:qge,hasStandardBrowserWebWorkerEnv:Vge,navigator:ZA,origin:Uge},Symbol.toStringTag,{value:"Module"})),Br={...zge,...Bge};function Wge(t,e){return Wj(t,new Br.classes.URLSearchParams,{visitor:function(r,n,a,s){return Br.isNode&&ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Hge(t){return ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Gge(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function kV(t){function e(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&ne.isArray(a)?a.length:i,c?(ne.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!ne.isObject(a[i]))&&(a[i]=[]),e(r,n,a[i],s)&&ne.isArray(a[i])&&(a[i]=Gge(a[i])),!l)}if(ne.isFormData(t)&&ne.isFunction(t.entries)){const r={};return ne.forEachEntry(t,(n,a)=>{e(Hge(n),a,r,0)}),r}return null}function Yge(t,e,r){if(ne.isString(t))try{return(e||JSON.parse)(t),ne.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const mh={transitional:IV,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=ne.isObject(e);if(s&&ne.isHTMLForm(e)&&(e=new FormData(e)),ne.isFormData(e))return a?JSON.stringify(kV(e)):e;if(ne.isArrayBuffer(e)||ne.isBuffer(e)||ne.isStream(e)||ne.isFile(e)||ne.isBlob(e)||ne.isReadableStream(e))return e;if(ne.isArrayBufferView(e))return e.buffer;if(ne.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Wge(e,this.formSerializer).toString();if((l=ne.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Wj(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),Yge(e)):e}],transformResponse:[function(e){const r=this.transitional||mh.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ne.isResponse(e)||ne.isReadableStream(e))return e;if(e&&ne.isString(e)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?ze.from(l,ze.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Br.classes.FormData,Blob:Br.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],t=>{mh.headers[t]={}});const Kge=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jge=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||e[r]&&Kge[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},jR=Symbol("internals");function cd(t){return t&&String(t).trim().toLowerCase()}function eb(t){return t===!1||t==null?t:ne.isArray(t)?t.map(eb):String(t)}function Xge(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Qge=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function d1(t,e,r,n,a){if(ne.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!ne.isString(e)){if(ne.isString(n))return e.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(e)}}function Zge(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function eye(t,e){const r=ne.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let pn=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(l,c,u){const d=cd(c);if(!d)throw new Error("header name must be a non-empty string");const f=ne.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=eb(l))}const i=(l,c)=>ne.forEach(l,(u,d)=>s(u,d,c));if(ne.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(ne.isString(e)&&(e=e.trim())&&!Qge(e))i(Jge(e),r);else if(ne.isObject(e)&&ne.isIterable(e)){let l={},c,u;for(const d of e){if(!ne.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ne.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=cd(e),e){const n=ne.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return Xge(a);if(ne.isFunction(r))return r.call(this,a,n);if(ne.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=cd(e),e){const n=ne.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||d1(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(i){if(i=cd(i),i){const l=ne.findKey(n,i);l&&(!r||d1(n,n[l],l,r))&&(delete n[l],a=!0)}}return ne.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||d1(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return ne.forEach(this,(a,s)=>{const i=ne.findKey(n,s);if(i){r[i]=eb(a),delete r[s];return}const l=e?Zge(s):String(s).trim();l!==s&&delete r[s],r[l]=eb(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ne.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[jR]=this[jR]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=cd(i);n[l]||(eye(a,i),n[l]=!0)}return ne.isArray(e)?e.forEach(s):s(e),this}};pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(pn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ne.freezeMethods(pn);function f1(t,e){const r=this||mh,n=e||r,a=pn.from(n.headers);let s=n.data;return ne.forEach(t,function(l){s=l.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function TV(t){return!!(t&&t.__CANCEL__)}function Tu(t,e,r){ze.call(this,t??"canceled",ze.ERR_CANCELED,e,r),this.name="CanceledError"}ne.inherits(Tu,ze,{__CANCEL__:!0});function PV(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ze("Request failed with status code "+r.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function tye(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function rye(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),u-i<e)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function nye(t,e){let r=0,n=1e3/e,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const Jx=(t,e,r=3)=>{let n=0;const a=rye(50,250);return nye(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},wR=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},NR=t=>(...e)=>ne.asap(()=>t(...e)),aye=Br.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Br.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Br.origin),Br.navigator&&/(msie|trident)/i.test(Br.navigator.userAgent)):()=>!0,sye=Br.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const i=[t+"="+encodeURIComponent(e)];ne.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),ne.isString(n)&&i.push("path="+n),ne.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oye(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function iye(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function EV(t,e,r){let n=!oye(e);return t&&(n||r==!1)?iye(t,e):e}const CR=t=>t instanceof pn?{...t}:t;function vl(t,e){e=e||{};const r={};function n(u,d,f,m){return ne.isPlainObject(u)&&ne.isPlainObject(d)?ne.merge.call({caseless:m},u,d):ne.isPlainObject(d)?ne.merge({},d):ne.isArray(d)?d.slice():d}function a(u,d,f,m){if(ne.isUndefined(d)){if(!ne.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!ne.isUndefined(d))return n(void 0,d)}function i(u,d){if(ne.isUndefined(d)){if(!ne.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(CR(u),CR(d),f,!0)};return ne.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||a,m=f(t[d],e[d],d);ne.isUndefined(m)&&f!==l||(r[d]=m)}),r}const DV=t=>{const e=vl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;e.headers=i=pn.from(i),e.url=AV(EV(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ne.isFormData(r)){if(Br.hasStandardBrowserEnv||Br.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Br.hasStandardBrowserEnv&&(n&&ne.isFunction(n)&&(n=n(e)),n||n!==!1&&aye(e.url))){const u=a&&s&&sye.read(s);u&&i.set(a,u)}return e},lye=typeof XMLHttpRequest<"u",cye=lye&&function(t){return new Promise(function(r,n){const a=DV(t);let s=a.data;const i=pn.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,h,y;function p(){h&&h(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function g(){if(!b)return;const j=pn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),x={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:j,config:t,request:b};PV(function(S){r(S),p()},function(S){n(S),p()},x),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new ze("Request aborted",ze.ECONNABORTED,t,b)),b=null)},b.onerror=function(){n(new ze("Network Error",ze.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const x=a.transitional||IV;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),n(new ze(C,x.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,t,b)),b=null},s===void 0&&i.setContentType(null),"setRequestHeader"in b&&ne.forEach(i.toJSON(),function(C,x){b.setRequestHeader(x,C)}),ne.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),u&&([m,y]=Jx(u,!0),b.addEventListener("progress",m)),c&&b.upload&&([f,h]=Jx(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=j=>{b&&(n(!j||j.type?new Tu(null,t,b):j),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const v=tye(a.url);if(v&&Br.protocols.indexOf(v)===-1){n(new ze("Unsupported protocol "+v+":",ze.ERR_BAD_REQUEST,t));return}b.send(s||null)})},uye=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ze?d:new Tu(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new ze(`timeout ${e} of ms exceeded`,ze.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>ne.asap(l),c}},dye=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},fye=async function*(t,e){for await(const r of mye(t))yield*dye(r,e)},mye=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},SR=(t,e,r,n)=>{const a=fye(t,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Hj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",OV=Hj&&typeof ReadableStream=="function",hye=Hj&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),_V=(t,...e)=>{try{return!!t(...e)}catch{return!1}},pye=OV&&_V(()=>{let t=!1;const e=new Request(Br.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),AR=64*1024,eI=OV&&_V(()=>ne.isReadableStream(new Response("").body)),Xx={stream:eI&&(t=>t.body)};Hj&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Xx[e]&&(Xx[e]=ne.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new ze(`Response type '${e}' is not supported`,ze.ERR_NOT_SUPPORT,n)})})})(new Response);const gye=async t=>{if(t==null)return 0;if(ne.isBlob(t))return t.size;if(ne.isSpecCompliantForm(t))return(await new Request(Br.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(t)||ne.isArrayBuffer(t))return t.byteLength;if(ne.isURLSearchParams(t)&&(t=t+""),ne.isString(t))return(await hye(t)).byteLength},yye=async(t,e)=>{const r=ne.toFiniteNumber(t.getContentLength());return r??gye(e)},bye=Hj&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=DV(t);u=u?(u+"").toLowerCase():"text";let h=uye([a,s&&s.toAbortSignal()],i),y;const p=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let b;try{if(c&&pye&&r!=="get"&&r!=="head"&&(b=await yye(d,n))!==0){let x=new Request(e,{method:"POST",body:n,duplex:"half"}),N;if(ne.isFormData(n)&&(N=x.headers.get("content-type"))&&d.setContentType(N),x.body){const[S,A]=wR(b,Jx(NR(c)));n=SR(x.body,AR,S,A)}}ne.isString(f)||(f=f?"include":"omit");const g="credentials"in Request.prototype;y=new Request(e,{...m,signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:g?f:void 0});let v=await fetch(y,m);const j=eI&&(u==="stream"||u==="response");if(eI&&(l||j&&p)){const x={};["status","statusText","headers"].forEach(I=>{x[I]=v[I]});const N=ne.toFiniteNumber(v.headers.get("content-length")),[S,A]=l&&wR(N,Jx(NR(l),!0))||[];v=new Response(SR(v.body,AR,S,()=>{A&&A(),p&&p()}),x)}u=u||"text";let C=await Xx[ne.findKey(Xx,u)||"text"](v,t);return!j&&p&&p(),await new Promise((x,N)=>{PV(x,N,{data:C,headers:pn.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:y})})}catch(g){throw p&&p(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,t,y),{cause:g.cause||g}):ze.from(g,g&&g.code,t,y)}}),tI={http:Oge,xhr:cye,fetch:bye};ne.forEach(tI,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const IR=t=>`- ${t}`,xye=t=>ne.isFunction(t)||t===null||t===!1,RV={getAdapter:t=>{t=ne.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let i;if(n=r,!xye(r)&&(n=tI[(i=String(r)).toLowerCase()],n===void 0))throw new ze(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+s]=n}if(!n){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(IR).join(`
`):" "+IR(s[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:tI};function m1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Tu(null,t)}function kR(t){return m1(t),t.headers=pn.from(t.headers),t.data=f1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),RV.getAdapter(t.adapter||mh.adapter)(t).then(function(n){return m1(t),n.data=f1.call(t,t.transformResponse,n),n.headers=pn.from(n.headers),n},function(n){return TV(n)||(m1(t),n&&n.response&&(n.response.data=f1.call(t,t.transformResponse,n.response),n.response.headers=pn.from(n.response.headers))),Promise.reject(n)})}const $V="1.11.0",Gj={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Gj[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const TR={};Gj.transitional=function(e,r,n){function a(s,i){return"[Axios v"+$V+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new ze(a(i," has been removed"+(r?" in "+r:"")),ze.ERR_DEPRECATED);return r&&!TR[i]&&(TR[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,i,l):!0}};Gj.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function vye(t,e,r){if(typeof t!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=t[s],c=l===void 0||i(l,s,t);if(c!==!0)throw new ze("option "+s+" must be "+c,ze.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ze("Unknown option "+s,ze.ERR_BAD_OPTION)}}const tb={assertOptions:vye,validators:Gj},ka=tb.validators;let nl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new vR,response:new vR}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=vl(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&tb.assertOptions(n,{silentJSONParsing:ka.transitional(ka.boolean),forcedJSONParsing:ka.transitional(ka.boolean),clarifyTimeoutError:ka.transitional(ka.boolean)},!1),a!=null&&(ne.isFunction(a)?r.paramsSerializer={serialize:a}:tb.assertOptions(a,{encode:ka.function,serialize:ka.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),tb.assertOptions(r,{baseUrl:ka.spelling("baseURL"),withXsrfToken:ka.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&ne.merge(s.common,s[r.method]);s&&ne.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),r.headers=pn.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,m;if(!c){const y=[kR.bind(this),void 0];for(y.unshift(...l),y.push(...u),m=y.length,d=Promise.resolve(r);f<m;)d=d.then(y[f++],y[f++]);return d}m=l.length;let h=r;for(f=0;f<m;){const y=l[f++],p=l[f++];try{h=y(h)}catch(b){p.call(this,b);break}}try{d=kR.call(this,h)}catch(y){return Promise.reject(y)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=vl(this.defaults,e);const r=EV(e.baseURL,e.url,e.allowAbsoluteUrls);return AV(r,e.params,e.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(e){nl.prototype[e]=function(r,n){return this.request(vl(n||{},{method:e,url:r,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(e){function r(n){return function(s,i,l){return this.request(vl(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}nl.prototype[e]=r(),nl.prototype[e+"Form"]=r(!0)});let jye=class MV{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new Tu(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new MV(function(a){e=a}),cancel:e}}};function wye(t){return function(r){return t.apply(null,r)}}function Nye(t){return ne.isObject(t)&&t.isAxiosError===!0}const rI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rI).forEach(([t,e])=>{rI[e]=t});function LV(t){const e=new nl(t),r=hV(nl.prototype.request,e);return ne.extend(r,nl.prototype,e,{allOwnKeys:!0}),ne.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return LV(vl(t,a))},r}const Ze=LV(mh);Ze.Axios=nl;Ze.CanceledError=Tu;Ze.CancelToken=jye;Ze.isCancel=TV;Ze.VERSION=$V;Ze.toFormData=Wj;Ze.AxiosError=ze;Ze.Cancel=Ze.CanceledError;Ze.all=function(e){return Promise.all(e)};Ze.spread=wye;Ze.isAxiosError=Nye;Ze.mergeConfig=vl;Ze.AxiosHeaders=pn;Ze.formToJSON=t=>kV(ne.isHTMLForm(t)?new FormData(t):t);Ze.getAdapter=RV.getAdapter;Ze.HttpStatusCode=rI;Ze.default=Ze;const{Axios:C9e,AxiosError:S9e,CanceledError:A9e,isCancel:I9e,CancelToken:k9e,VERSION:T9e,all:P9e,Cancel:E9e,isAxiosError:D9e,spread:O9e,toFormData:_9e,AxiosHeaders:R9e,HttpStatusCode:$9e,formToJSON:M9e,getAdapter:L9e,mergeConfig:F9e}=Ze,Fe=Ze.create({baseURL:"https://staging-engine.testthelink.online",timeout:1e4,headers:{"Content-Type":"application/json"}});Fe.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Fe.interceptors.response.use(t=>t,t=>(console.error("Axios INSTANCE error:",t.response||t.message),Promise.reject(t)));const al=U("realPropertyTax/fetchRealPropertyTaxes",async(t,{rejectWithValue:e})=>{var r;try{return(await Fe.get("/real-property-tax/list")).data}catch(n){return e(((r=n.response)==null?void 0:r.data)||n.message)}}),rb=U("realPropertyTax/saveRealPropertyTax",async(t,{rejectWithValue:e})=>{var r;try{return(await Fe.post("/real-property-tax/save",t)).data}catch(n){return e(((r=n.response)==null?void 0:r.data)||n.message)}}),FV=U("realPropertyTax/getTdNumber",async({ownerId:t,generalRevision:e},{rejectWithValue:r})=>{var n;try{return(await Fe.get(`/real-property-tax/getTdNumber?ownerId=${t}&generalRevision=${e}`)).data}catch(a){return r(((n=a.response)==null?void 0:n.data)||a.message)}}),BV=U("realPropertyTax/addButtonTDNumber",async(t,{rejectWithValue:e})=>{var r;try{return(await Fe.get(`/real-property-tax/addButton?tdNumber=${t}`)).data}catch(n){return e(((r=n.response)==null?void 0:r.data)||n.message)}}),Cye={realPropertyTaxes:[],isLoading:!1,error:null,tdNumber:null,addButtonResult:null},Sye=we({name:"realPropertyTax",initialState:Cye,reducers:{},extraReducers:t=>{t.addCase(al.pending,e=>{e.isLoading=!0,e.error=null}).addCase(al.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=r.payload}).addCase(al.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rb.fulfilled,(e,r)=>{e.isLoading=!1;const n=r.payload,a=e.realPropertyTaxes.findIndex(s=>s.id===n.id);a!==-1?e.realPropertyTaxes[a]=n:e.realPropertyTaxes.push(n)}).addCase(rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(FV.fulfilled,(e,r)=>{e.tdNumber=r.payload}).addCase(BV.fulfilled,(e,r)=>{e.addButtonResult=r.payload})}}),Aye=Sye.reducer,Iye=new Date().getFullYear(),kye=ce({GeneralRevisionYear:X().required("General Revision Year is required"),Classification:D().required("Classification is required"),Unit:D().required("Unit is required"),ActualUse:D().required("Actual Use is required"),SubClassification:D().required("Sub Class No is required"),Price:X().required("Unit Value is required"),Location:D().required("Location or Description is required")});function Tye({initialData:t,onSubmit:e,onClose:r}){const{generalRevisions:n,isLoading:a}=H(d=>d.generalRevisions),s=de();w.useEffect(()=>{s(al())},[]);const i=tt({initialValues:t||{GeneralRevisionYear:Iye,Classification:"",Unit:"",ActualUse:"",SubClassification:"",Price:"",Location:""},validationSchema:kye,onSubmit:d=>{e(d)}}),l=[{value:"AGRICULTURAL",label:"AGRICULTURAL"},{value:"BUILDING",label:"BUILDING"},{value:"COMMERCIAL",label:"COMMERCIAL"},{value:"INDUSTRIAL",label:"INDUSTRIAL"},{value:"RESIDENTIAL",label:"RESIDENTIAL"}],c=()=>{if(!i.values.Classification)return[];const f={AGRICULTURAL:"A",BUILDING:"B",COMMERCIAL:"C",INDUSTRIAL:"I",RESIDENTIAL:"R"}[i.values.Classification];return f?Array.from({length:6},(m,h)=>({value:`${f}${h+1}`,label:`${f}${h+1}`})):[]};w.useEffect(()=>{if(i.values.Classification&&i.values.SubClassification){const d=i.values.SubClassification.charAt(0),f=i.values.Classification.charAt(0);d!==f&&i.setFieldValue("SubClassification","")}},[i.values.Classification]);const u=n==null?void 0:n.map(d=>({value:d.ID,label:d.General_Revision_Date_Year}));return o.jsxs("form",{onSubmit:i.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"General Revision Year",name:"GeneralRevisionYear",type:"select",options:u,value:i.values.GeneralRevisionYear,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.GeneralRevisionYear,touched:i.touched.GeneralRevisionYear,required:!0}),o.jsx(k,{label:"Classification",name:"Classification",type:"select",options:l,value:i.values.Classification,onChange:d=>{i.handleChange(d),i.setFieldValue("SubClassification","")},onBlur:i.handleBlur,error:i.errors.Classification,touched:i.touched.Classification,required:!0}),o.jsx(k,{label:"Sub Class No.",name:"SubClassification",type:"select",options:c(),value:i.values.SubClassification,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.SubClassification,touched:i.touched.SubClassification,required:!0,disabled:!i.values.Classification}),o.jsx(k,{label:"Unit",name:"Unit",type:"select",options:[{value:"sqm",label:"Square Meter"},{value:"hec",label:"Hectare"}],value:i.values.Unit,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.Unit,touched:i.touched.Unit,required:!0}),o.jsx(k,{label:"Actual Use",name:"ActualUse",type:"text",value:i.values.ActualUse,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.ActualUse,touched:i.touched.ActualUse,required:!0}),o.jsx(k,{label:"Unit Value",name:"Price",type:"number",value:i.values.Price,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.Price,touched:i.touched.Price,required:!0}),o.jsx(k,{label:"Location or Description",name:"Location",type:"textarea",value:i.values.Location,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.Location,touched:i.touched.Location,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i.isSubmitting,children:i.isSubmitting?"Saving...":"Save"})]})]})}const Yj="https://staging-engine.testthelink.online",Pye=[],ff=U("baseUnits/fetchBaseUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Yj}/scheduleofBaseunitMarketValue`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),nb=U("baseUnits/addBaseUnit",async(t,e)=>{try{const r=await fetch(`${Yj}/scheduleofBaseunitMarketValue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),nI=U("baseUnits/updateBaseUnit",async(t,e)=>{try{const r=await fetch(`${Yj}/scheduleofBaseunitMarketValue/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ab=U("baseUnits/deleteBaseUnit",async(t,e)=>{try{const r=await fetch(`${Yj}/scheduleofBaseunitMarketValue/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Eye=we({name:"baseUnits",initialState:{baseUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ff.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ff.fulfilled,(e,r)=>{e.isLoading=!1,e.baseUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(ff.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch base units",console.warn("Failed to fetch base units, using mock data.",e.error),e.baseUnits=Pye}).addCase(nb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits.push(r.payload)}).addCase(nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add base unit",console.error("Failed to add base unit:",e.error)}).addCase(nI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.baseUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits[n]=r.payload)}).addCase(ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ab.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits=e.baseUnits.filter(n=>n.ID!==r.payload)}).addCase(ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete base unit",console.error("Failed to delete base unit:",e.error)})}}),Dye=Eye.reducer;function Oye(){const t=de(),{baseUnits:e,isLoading:r}=H(S=>S.baseUnits),{generalRevisions:n,isLoading:a}=H(S=>S.generalRevisions),{Add:s,Edit:i,Delete:l}=Ce(20),[c,u]=w.useState(!1),[d,f]=w.useState(null),[m,h]=w.useState(!1),[y,p]=w.useState(null);w.useEffect(()=>{t(ff()),t($o())},[t]);const b=()=>{f(null),u(!0)},g=S=>{f(S),u(!0)},v=S=>{p(S),h(!0)},j=async()=>{if(y)try{await t(ab(y.ID)).unwrap(),h(!1),p(null),z.success("Base unit deleted successfully")}catch(S){console.error("Failed to delete base unit:",S),z.error("Failed to delete base unit. Please try again.")}},C=async S=>{try{d?(await t(nI({...S,ID:d.ID})).unwrap(),z.success("Base unit updated successfully")):(await t(nb(S)).unwrap(),z.success("Base unit added successfully")),t(ff())}catch(A){console.error("Failed to save base unit:",A),z.error("Failed to save base unit. Please try again.")}finally{u(!1)}},x=[{key:"GeneralRevisionYear",header:"General Revision Year",sortable:!0,render:S=>{var A;return((A=n==null?void 0:n.find(I=>I.ID===S))==null?void 0:A.General_Revision_Date_Year)||""}},{key:"Classification",header:"Classification",sortable:!0},{key:"Location",header:"Location",sortable:!0},{key:"Unit",header:"Unit",sortable:!0},{key:"ActualUse",header:"Actual Use",sortable:!0},{key:"SubClassification",header:"Sub Classification",sortable:!0},{key:"Price",header:"Sub Classification",sortable:!0}],N=[i&&{icon:Pe,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},l&&{icon:Be,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Base Units"}),o.jsx("p",{children:"Manage Base Units"})]}),s&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Base Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:x,data:e,actions:N,loading:r||a,emptyMessage:"No base units found. Click 'Add Base Unit' to create one."})}),o.jsx(le,{isOpen:c,onClose:()=>u(!1),title:d?"Edit Base Unit":"Add Base Unit",children:o.jsx(Tye,{initialData:d,onClose:()=>u(!1),onSubmit:C})}),o.jsxs(le,{isOpen:m,onClose:()=>h(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the base unit "',y==null?void 0:y.Unit,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function _ye(t,e){if(jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qV(t){var e=_ye(t,"string");return jl(e)=="symbol"?e:e+""}function Ld(t,e,r){return(e=qV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){Ld(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rye(t){if(Array.isArray(t))return t}function $ye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function aI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function VV(t,e){if(t){if(typeof t=="string")return aI(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aI(t,e):void 0}}function Mye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ss(t,e){return Rye(t)||$ye(t,e)||VV(t,e)||Mye()}function Lye(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Hs(t,e){if(t==null)return{};var r,n,a=Lye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var Fye=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Bye(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,m=t.onMenuOpen,h=t.value,y=Hs(t,Fye),p=w.useState(l!==void 0?l:r),b=Ss(p,2),g=b[0],v=b[1],j=w.useState(c!==void 0?c:a),C=Ss(j,2),x=C[0],N=C[1],S=w.useState(h!==void 0?h:i),A=Ss(S,2),I=A[0],T=A[1],E=w.useCallback(function(F,O){typeof u=="function"&&u(F,O),T(F)},[u]),R=w.useCallback(function(F,O){var V;typeof d=="function"&&(V=d(F,O)),v(V!==void 0?V:F)},[d]),M=w.useCallback(function(){typeof m=="function"&&m(),N(!0)},[m]),L=w.useCallback(function(){typeof f=="function"&&f(),N(!1)},[f]),P=l!==void 0?l:g,_=c!==void 0?c:x,q=h!==void 0?h:I;return Oe(Oe({},y),{},{inputValue:P,menuIsOpen:_,onChange:E,onInputChange:R,onMenuClose:L,onMenuOpen:M,value:q})}function $e(){return $e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$e.apply(null,arguments)}function qye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ER(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qV(n.key),n)}}function Vye(t,e,r){return e&&ER(t.prototype,e),r&&ER(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sI(t,e){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},sI(t,e)}function Uye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sI(t,e)}function Qx(t){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qx(t)}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function zye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wye(t,e){if(e&&(jl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zye(t)}function Hye(t){var e=UV();return function(){var r,n=Qx(t);if(e){var a=Qx(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Wye(this,r)}}function Gye(t){if(Array.isArray(t))return aI(t)}function Yye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UP(t){return Gye(t)||Yye(t)||VV(t)||Kye()}function Jye(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Xye(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Qye=function(){function t(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Xye(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Jye(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Rr="-ms-",Zx="-moz-",st="-webkit-",zV="comm",zP="rule",WP="decl",Zye="@import",WV="@keyframes",ebe="@layer",tbe=Math.abs,Kj=String.fromCharCode,rbe=Object.assign;function nbe(t,e){return Ir(t,0)^45?(((e<<2^Ir(t,0))<<2^Ir(t,1))<<2^Ir(t,2))<<2^Ir(t,3):0}function HV(t){return t.trim()}function abe(t,e){return(t=e.exec(t))?t[0]:t}function ot(t,e,r){return t.replace(e,r)}function oI(t,e){return t.indexOf(e)}function Ir(t,e){return t.charCodeAt(e)|0}function lm(t,e,r){return t.slice(e,r)}function Oa(t){return t.length}function HP(t){return t.length}function fp(t,e){return e.push(t),t}function sbe(t,e){return t.map(e).join("")}var Jj=1,Xc=1,GV=0,gn=0,ir=0,Pu="";function Xj(t,e,r,n,a,s,i){return{value:t,root:e,parent:r,type:n,props:a,children:s,line:Jj,column:Xc,length:i,return:""}}function ud(t,e){return rbe(Xj("",null,null,"",null,null,0),t,{length:-t.length},e)}function obe(){return ir}function ibe(){return ir=gn>0?Ir(Pu,--gn):0,Xc--,ir===10&&(Xc=1,Jj--),ir}function Pn(){return ir=gn<GV?Ir(Pu,gn++):0,Xc++,ir===10&&(Xc=1,Jj++),ir}function Wa(){return Ir(Pu,gn)}function sb(){return gn}function hh(t,e){return lm(Pu,t,e)}function cm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YV(t){return Jj=Xc=1,GV=Oa(Pu=t),gn=0,[]}function KV(t){return Pu="",t}function ob(t){return HV(hh(gn-1,iI(t===91?t+2:t===40?t+1:t)))}function lbe(t){for(;(ir=Wa())&&ir<33;)Pn();return cm(t)>2||cm(ir)>3?"":" "}function cbe(t,e){for(;--e&&Pn()&&!(ir<48||ir>102||ir>57&&ir<65||ir>70&&ir<97););return hh(t,sb()+(e<6&&Wa()==32&&Pn()==32))}function iI(t){for(;Pn();)switch(ir){case t:return gn;case 34:case 39:t!==34&&t!==39&&iI(ir);break;case 40:t===41&&iI(t);break;case 92:Pn();break}return gn}function ube(t,e){for(;Pn()&&t+ir!==57;)if(t+ir===84&&Wa()===47)break;return"/*"+hh(e,gn-1)+"*"+Kj(t===47?t:Pn())}function dbe(t){for(;!cm(Wa());)Pn();return hh(t,gn)}function fbe(t){return KV(ib("",null,null,null,[""],t=YV(t),0,[0],t))}function ib(t,e,r,n,a,s,i,l,c){for(var u=0,d=0,f=i,m=0,h=0,y=0,p=1,b=1,g=1,v=0,j="",C=a,x=s,N=n,S=j;b;)switch(y=v,v=Pn()){case 40:if(y!=108&&Ir(S,f-1)==58){oI(S+=ot(ob(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:S+=ob(v);break;case 9:case 10:case 13:case 32:S+=lbe(y);break;case 92:S+=cbe(sb()-1,7);continue;case 47:switch(Wa()){case 42:case 47:fp(mbe(ube(Pn(),sb()),e,r),c);break;default:S+="/"}break;case 123*p:l[u++]=Oa(S)*g;case 125*p:case 59:case 0:switch(v){case 0:case 125:b=0;case 59+d:g==-1&&(S=ot(S,/\f/g,"")),h>0&&Oa(S)-f&&fp(h>32?OR(S+";",n,r,f-1):OR(ot(S," ","")+";",n,r,f-2),c);break;case 59:S+=";";default:if(fp(N=DR(S,e,r,u,d,a,l,j,C=[],x=[],f),s),v===123)if(d===0)ib(S,e,N,N,C,s,f,l,x);else switch(m===99&&Ir(S,3)===110?100:m){case 100:case 108:case 109:case 115:ib(t,N,N,n&&fp(DR(t,N,N,0,0,a,l,j,a,C=[],f),x),a,x,f,l,n?C:x);break;default:ib(S,N,N,N,[""],x,0,l,x)}}u=d=h=0,p=g=1,j=S="",f=i;break;case 58:f=1+Oa(S),h=y;default:if(p<1){if(v==123)--p;else if(v==125&&p++==0&&ibe()==125)continue}switch(S+=Kj(v),v*p){case 38:g=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(Oa(S)-1)*g,g=1;break;case 64:Wa()===45&&(S+=ob(Pn())),m=Wa(),d=f=Oa(j=S+=dbe(sb())),v++;break;case 45:y===45&&Oa(S)==2&&(p=0)}}return s}function DR(t,e,r,n,a,s,i,l,c,u,d){for(var f=a-1,m=a===0?s:[""],h=HP(m),y=0,p=0,b=0;y<n;++y)for(var g=0,v=lm(t,f+1,f=tbe(p=i[y])),j=t;g<h;++g)(j=HV(p>0?m[g]+" "+v:ot(v,/&\f/g,m[g])))&&(c[b++]=j);return Xj(t,e,r,a===0?zP:l,c,u,d)}function mbe(t,e,r){return Xj(t,e,r,zV,Kj(obe()),lm(t,2,-2),0)}function OR(t,e,r,n){return Xj(t,e,r,WP,lm(t,0,n),lm(t,n+1,-1),n)}function Pc(t,e){for(var r="",n=HP(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function hbe(t,e,r,n){switch(t.type){case ebe:if(t.children.length)break;case Zye:case WP:return t.return=t.return||t.value;case zV:return"";case WV:return t.return=t.value+"{"+Pc(t.children,n)+"}";case zP:t.value=t.props.join(",")}return Oa(r=Pc(t.children,n))?t.return=t.value+"{"+r+"}":""}function pbe(t){var e=HP(t);return function(r,n,a,s){for(var i="",l=0;l<e;l++)i+=t[l](r,n,a,s)||"";return i}}function gbe(t){return function(e){e.root||(e=e.return)&&t(e)}}function ybe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var bbe=function(e,r,n){for(var a=0,s=0;a=s,s=Wa(),a===38&&s===12&&(r[n]=1),!cm(s);)Pn();return hh(e,gn)},xbe=function(e,r){var n=-1,a=44;do switch(cm(a)){case 0:a===38&&Wa()===12&&(r[n]=1),e[n]+=bbe(gn-1,r,n);break;case 2:e[n]+=ob(a);break;case 4:if(a===44){e[++n]=Wa()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Kj(a)}while(a=Pn());return e},vbe=function(e,r){return KV(xbe(YV(e),r))},_R=new WeakMap,jbe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!_R.get(n))&&!a){_R.set(e,!0);for(var s=[],i=vbe(r,s),l=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=s[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},wbe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function JV(t,e){switch(nbe(t,e)){case 5103:return st+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return st+t+Zx+t+Rr+t+t;case 6828:case 4268:return st+t+Rr+t+t;case 6165:return st+t+Rr+"flex-"+t+t;case 5187:return st+t+ot(t,/(\w+).+(:[^]+)/,st+"box-$1$2"+Rr+"flex-$1$2")+t;case 5443:return st+t+Rr+"flex-item-"+ot(t,/flex-|-self/,"")+t;case 4675:return st+t+Rr+"flex-line-pack"+ot(t,/align-content|flex-|-self/,"")+t;case 5548:return st+t+Rr+ot(t,"shrink","negative")+t;case 5292:return st+t+Rr+ot(t,"basis","preferred-size")+t;case 6060:return st+"box-"+ot(t,"-grow","")+st+t+Rr+ot(t,"grow","positive")+t;case 4554:return st+ot(t,/([^-])(transform)/g,"$1"+st+"$2")+t;case 6187:return ot(ot(ot(t,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),t,"")+t;case 5495:case 3959:return ot(t,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return ot(ot(t,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+Rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+t+t;case 4095:case 3583:case 4068:case 2532:return ot(t,/(.+)-inline(.+)/,st+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Oa(t)-1-e>6)switch(Ir(t,e+1)){case 109:if(Ir(t,e+4)!==45)break;case 102:return ot(t,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+Zx+(Ir(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~oI(t,"stretch")?JV(ot(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ir(t,e+1)!==115)break;case 6444:switch(Ir(t,Oa(t)-3-(~oI(t,"!important")&&10))){case 107:return ot(t,":",":"+st)+t;case 101:return ot(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(Ir(t,14)===45?"inline-":"")+"box$3$1"+st+"$2$3$1"+Rr+"$2box$3")+t}break;case 5936:switch(Ir(t,e+11)){case 114:return st+t+Rr+ot(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return st+t+Rr+ot(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return st+t+Rr+ot(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return st+t+Rr+t+t}return t}var Nbe=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case WP:e.return=JV(e.value,e.length);break;case WV:return Pc([ud(e,{value:ot(e.value,"@","@"+st)})],a);case zP:if(e.length)return sbe(e.props,function(s){switch(abe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Pc([ud(e,{props:[ot(s,/:(read-\w+)/,":"+Zx+"$1")]})],a);case"::placeholder":return Pc([ud(e,{props:[ot(s,/:(plac\w+)/,":"+st+"input-$1")]}),ud(e,{props:[ot(s,/:(plac\w+)/,":"+Zx+"$1")]}),ud(e,{props:[ot(s,/:(plac\w+)/,Rr+"input-$1")]})],a)}return""})}},Cbe=[Nbe],Sbe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var b=p.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var a=e.stylisPlugins||Cbe,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(p){for(var b=p.getAttribute("data-emotion").split(" "),g=1;g<b.length;g++)s[b[g]]=!0;l.push(p)});var c,u=[jbe,wbe];{var d,f=[hbe,gbe(function(p){d.insert(p)})],m=pbe(u.concat(a,f)),h=function(b){return Pc(fbe(b),m)};c=function(b,g,v,j){d=v,h(b?b+"{"+g.styles+"}":g.styles),j&&(y.inserted[g.name]=!0)}}var y={key:r,sheet:new Qye({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return y.sheet.hydrate(l),y},Abe=!0;function Ibe(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var XV=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||Abe===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},kbe=function(e,r,n){XV(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+a:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Tbe(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Pbe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ebe=/[A-Z]|^ms/g,Dbe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,QV=function(e){return e.charCodeAt(1)===45},RR=function(e){return e!=null&&typeof e!="boolean"},h1=ybe(function(t){return QV(t)?t:t.replace(Ebe,"-$&").toLowerCase()}),$R=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Dbe,function(n,a,s){return _a={name:a,styles:s,next:_a},a})}return Pbe[e]!==1&&!QV(e)&&typeof r=="number"&&r!==0?r+"px":r};function um(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return _a={name:a.name,styles:a.styles,next:_a},a.name;var s=r;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)_a={name:i.name,styles:i.styles,next:_a},i=i.next;var l=s.styles+";";return l}return Obe(t,e,r)}case"function":{if(t!==void 0){var c=_a,u=r(t);return _a=c,um(t,e,u)}break}}var d=r;return d}function Obe(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=um(t,e,r[a])+";";else for(var s in r){var i=r[s];if(typeof i!="object"){var l=i;RR(l)&&(n+=h1(s)+":"+$R(s,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var c=0;c<i.length;c++)RR(i[c])&&(n+=h1(s)+":"+$R(s,i[c])+";");else{var u=um(t,e,i);switch(s){case"animation":case"animationName":{n+=h1(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var MR=/label:\s*([^\s;{]+)\s*(;|$)/g,_a;function ZV(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";_a=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,a+=um(r,e,s);else{var i=s;a+=i[0]}for(var l=1;l<t.length;l++)if(a+=um(r,e,t[l]),n){var c=s;a+=c[l]}MR.lastIndex=0;for(var u="",d;(d=MR.exec(a))!==null;)u+="-"+d[1];var f=Tbe(a)+u;return{name:f,styles:a,next:_a}}var _be=function(e){return e()},Rbe=Af.useInsertionEffect?Af.useInsertionEffect:!1,$be=Rbe||_be,eU=w.createContext(typeof HTMLElement<"u"?Sbe({key:"css"}):null);eU.Provider;var Mbe=function(e){return w.forwardRef(function(r,n){var a=w.useContext(eU);return e(r,a,n)})},Lbe=w.createContext({}),GP={}.hasOwnProperty,lI="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Fbe=function(e,r){var n={};for(var a in r)GP.call(r,a)&&(n[a]=r[a]);return n[lI]=e,n},Bbe=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return XV(r,n,a),$be(function(){return kbe(r,n,a)}),null},qbe=Mbe(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[lI],s=[n],i="";typeof t.className=="string"?i=Ibe(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=ZV(s,void 0,w.useContext(Lbe));i+=e.key+"-"+l.name;var c={};for(var u in t)GP.call(t,u)&&u!=="css"&&u!==lI&&(c[u]=t[u]);return c.className=i,r&&(c.ref=r),w.createElement(w.Fragment,null,w.createElement(Bbe,{cache:e,serialized:l,isStringTag:typeof a=="string"}),w.createElement(a,c))}),Vbe=qbe,Ee=function(e,r){var n=arguments;if(r==null||!GP.call(r,"css"))return w.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=Vbe,s[1]=Fbe(e,r);for(var i=2;i<a;i++)s[i]=n[i];return w.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ee||(Ee={}));function YP(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ZV(e)}function Ube(){var t=YP.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function zbe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Wbe=Math.min,Hbe=Math.max,e0=Math.round,mp=Math.floor,t0=t=>({x:t,y:t});function Gbe(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function Qj(){return typeof window<"u"}function tU(t){return nU(t)?(t.nodeName||"").toLowerCase():"#document"}function Ms(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rU(t){var e;return(e=(nU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nU(t){return Qj()?t instanceof Node||t instanceof Ms(t).Node:!1}function Ybe(t){return Qj()?t instanceof Element||t instanceof Ms(t).Element:!1}function KP(t){return Qj()?t instanceof HTMLElement||t instanceof Ms(t).HTMLElement:!1}function LR(t){return!Qj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ms(t).ShadowRoot}const Kbe=new Set(["inline","contents"]);function aU(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=JP(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Kbe.has(a)}function Jbe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Xbe=new Set(["html","body","#document"]);function Qbe(t){return Xbe.has(tU(t))}function JP(t){return Ms(t).getComputedStyle(t)}function Zbe(t){if(tU(t)==="html")return t;const e=t.assignedSlot||t.parentNode||LR(t)&&t.host||rU(t);return LR(e)?e.host:e}function sU(t){const e=Zbe(t);return Qbe(e)?t.ownerDocument?t.ownerDocument.body:t.body:KP(e)&&aU(e)?e:sU(e)}function r0(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=sU(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),i=Ms(a);if(s){const l=cI(i);return e.concat(i,i.visualViewport||[],aU(a)?a:[],l&&r?r0(l):[])}return e.concat(a,r0(a,[],r))}function cI(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function exe(t){const e=JP(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=KP(t),s=a?t.offsetWidth:r,i=a?t.offsetHeight:n,l=e0(r)!==s||e0(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function XP(t){return Ybe(t)?t:t.contextElement}function FR(t){const e=XP(t);if(!KP(e))return t0(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=exe(e);let i=(s?e0(r.width):r.width)/n,l=(s?e0(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const txe=t0(0);function rxe(t){const e=Ms(t);return!Jbe()||!e.visualViewport?txe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nxe(t,e,r){return!1}function BR(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),s=XP(t);let i=t0(1);e&&(i=FR(t));const l=nxe()?rxe(s):t0(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const m=Ms(s),h=n;let y=m,p=cI(y);for(;p&&n&&h!==y;){const b=FR(p),g=p.getBoundingClientRect(),v=JP(p),j=g.left+(p.clientLeft+parseFloat(v.paddingLeft))*b.x,C=g.top+(p.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=j,u+=C,y=Ms(p),p=cI(y)}}return Gbe({width:d,height:f,x:c,y:u})}function oU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function axe(t,e){let r=null,n;const a=rU(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||e(),!m||!h)return;const y=mp(f),p=mp(a.clientWidth-(d+m)),b=mp(a.clientHeight-(f+h)),g=mp(d),j={rootMargin:-y+"px "+-p+"px "+-b+"px "+-g+"px",threshold:Hbe(0,Wbe(1,c))||1};let C=!0;function x(N){const S=N[0].intersectionRatio;if(S!==c){if(!C)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!oU(u,t.getBoundingClientRect())&&i(),C=!1}try{r=new IntersectionObserver(x,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(x,j)}r.observe(t)}return i(!0),s}function sxe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=XP(t),d=a||s?[...u?r0(u):[],...r0(e)]:[];d.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),s&&g.addEventListener("resize",r)});const f=u&&l?axe(u,r):null;let m=-1,h=null;i&&(h=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=h)==null||j.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let y,p=c?BR(t):null;c&&b();function b(){const g=BR(t);p&&!oU(p,g)&&r(),p=g,y=requestAnimationFrame(b)}return r(),()=>{var g;d.forEach(v=>{a&&v.removeEventListener("scroll",r),s&&v.removeEventListener("resize",r)}),f==null||f(),(g=h)==null||g.disconnect(),h=null,c&&cancelAnimationFrame(y)}}var uI=w.useLayoutEffect,oxe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],n0=function(){};function ixe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function lxe(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(ixe(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var qR=function(e){return yxe(e)?e.filter(Boolean):jl(e)==="object"&&e!==null?[e]:[]},iU=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Hs(e,oxe);return Oe({},r)},Zt=function(e,r,n){var a=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(r,e),className:a(n??{},i(r,e),l)}};function Zj(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function cxe(t){return Zj(t)?window.innerHeight:t.clientHeight}function lU(t){return Zj(t)?window.pageYOffset:t.scrollTop}function a0(t,e){if(Zj(t)){window.scrollTo(0,e);return}t.scrollTop=e}function uxe(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function dxe(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function hp(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n0,a=lU(t),s=e-a,i=10,l=0;function c(){l+=i;var u=dxe(l,a,s,r);a0(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function VR(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?a0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&a0(t,Math.max(e.offsetTop-a,0))}function fxe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function UR(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function mxe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var cU=!1,hxe={get passive(){return cU=!0}},pp=typeof window<"u"?window:{};pp.addEventListener&&pp.removeEventListener&&(pp.addEventListener("p",n0,hxe),pp.removeEventListener("p",n0,!1));var pxe=cU;function gxe(t){return t!=null}function yxe(t){return Array.isArray(t)}function gp(t,e,r){return t?e:r}var bxe=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(i){var l=Ss(i,1),c=l[0];return!n.includes(c)});return s.reduce(function(i,l){var c=Ss(l,2),u=c[0],d=c[1];return i[u]=d,i},{})},xxe=["children","innerProps"],vxe=["children","innerProps"];function jxe(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,c=uxe(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,m=r.getBoundingClientRect(),h=m.bottom,y=m.height,p=m.top,b=r.offsetParent.getBoundingClientRect(),g=b.top,v=i?window.innerHeight:cxe(c),j=lU(c),C=parseInt(getComputedStyle(r).marginBottom,10),x=parseInt(getComputedStyle(r).marginTop,10),N=g-x,S=v-p,A=N+j,I=f-j-p,T=h-v+j+C,E=j+p-x,R=160;switch(a){case"auto":case"bottom":if(S>=y)return{placement:"bottom",maxHeight:e};if(I>=y&&!i)return s&&hp(c,T,R),{placement:"bottom",maxHeight:e};if(!i&&I>=n||i&&S>=n){s&&hp(c,T,R);var M=i?S-C:I-C;return{placement:"bottom",maxHeight:M}}if(a==="auto"||i){var L=e,P=i?N:A;return P>=n&&(L=Math.min(P-C-l,e)),{placement:"top",maxHeight:L}}if(a==="bottom")return s&&a0(c,T),{placement:"bottom",maxHeight:e};break;case"top":if(N>=y)return{placement:"top",maxHeight:e};if(A>=y&&!i)return s&&hp(c,E,R),{placement:"top",maxHeight:e};if(!i&&A>=n||i&&N>=n){var _=e;return(!i&&A>=n||i&&N>=n)&&(_=i?N-x:A-x),s&&hp(c,E,R),{placement:"top",maxHeight:_}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function wxe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var uU=function(e){return e==="auto"?"bottom":e},Nxe=function(e,r){var n,a=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,c=s.colors;return Oe((n={label:"menu"},Ld(n,wxe(a),"100%"),Ld(n,"position","absolute"),Ld(n,"width","100%"),Ld(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},dU=w.createContext(null),Cxe=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=w.useContext(dU)||{},d=u.setPortalPlacement,f=w.useRef(null),m=w.useState(a),h=Ss(m,2),y=h[0],p=h[1],b=w.useState(null),g=Ss(b,2),v=g[0],j=g[1],C=c.spacing.controlHeight;return uI(function(){var x=f.current;if(x){var N=i==="fixed",S=l&&!N,A=jxe({maxHeight:a,menuEl:x,minHeight:n,placement:s,shouldScroll:S,isFixedPosition:N,controlHeight:C});p(A.maxHeight),j(A.placement),d==null||d(A.placement)}},[a,s,i,l,n,d,C]),r({ref:f,placerProps:Oe(Oe({},e),{},{placement:v||uU(s),maxHeight:y})})},Sxe=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return Ee("div",$e({},Zt(e,"menu",{menu:!0}),{ref:n},a),r)},Axe=Sxe,Ixe=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Oe({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},kxe=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return Ee("div",$e({},Zt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},fU=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Oe({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},Txe=fU,Pxe=fU,Exe=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=Hs(e,xxe);return Ee("div",$e({},Zt(Oe(Oe({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},Dxe=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=Hs(e,vxe);return Ee("div",$e({},Zt(Oe(Oe({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},Oxe=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},_xe=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,c=w.useRef(null),u=w.useRef(null),d=w.useState(uU(i)),f=Ss(d,2),m=f[0],h=f[1],y=w.useMemo(function(){return{setPortalPlacement:h}},[]),p=w.useState(null),b=Ss(p,2),g=b[0],v=b[1],j=w.useCallback(function(){if(a){var S=fxe(a),A=l==="fixed"?0:window.pageYOffset,I=S[m]+A;(I!==(g==null?void 0:g.offset)||S.left!==(g==null?void 0:g.rect.left)||S.width!==(g==null?void 0:g.rect.width))&&v({offset:I,rect:S})}},[a,l,m,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);uI(function(){j()},[j]);var C=w.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=sxe(a,c.current,j,{elementResize:"ResizeObserver"in window}))},[a,j]);uI(function(){C()},[C]);var x=w.useCallback(function(S){c.current=S,C()},[C]);if(!r&&l!=="fixed"||!g)return null;var N=Ee("div",$e({ref:x},Zt(Oe(Oe({},e),{},{offset:g.offset,position:l,rect:g.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Ee(dU.Provider,{value:y},r?pv.createPortal(N,r):N)},Rxe=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},$xe=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return Ee("div",$e({},Zt(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},Mxe=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Oe({alignItems:"center",display:a&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Lxe=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return Ee("div",$e({},Zt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},Fxe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Bxe=function(e){var r=e.children,n=e.innerProps;return Ee("div",$e({},Zt(e,"indicatorsContainer",{indicators:!0}),n),r)},zR,qxe=["size"],Vxe=["innerProps","isRtl","size"],Uxe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},mU=function(e){var r=e.size,n=Hs(e,qxe);return Ee("svg",$e({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Uxe},n))},QP=function(e){return Ee(mU,$e({size:20},e),Ee("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},hU=function(e){return Ee(mU,$e({size:20},e),Ee("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},pU=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Oe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},zxe=pU,Wxe=function(e){var r=e.children,n=e.innerProps;return Ee("div",$e({},Zt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Ee(hU,null))},Hxe=pU,Gxe=function(e){var r=e.children,n=e.innerProps;return Ee("div",$e({},Zt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Ee(QP,null))},Yxe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Oe({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},Kxe=function(e){var r=e.innerProps;return Ee("span",$e({},r,Zt(e,"indicatorSeparator",{"indicator-separator":!0})))},Jxe=Ube(zR||(zR=zbe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Xxe=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Oe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},p1=function(e){var r=e.delay,n=e.offset;return Ee("span",{css:YP({animation:"".concat(Jxe," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Qxe=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,i=Hs(e,Vxe);return Ee("div",$e({},Zt(Oe(Oe({},i),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Ee(p1,{delay:0,offset:n}),Ee(p1,{delay:160,offset:!0}),Ee(p1,{delay:320,offset:!n}))},Zxe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,c=s.spacing;return Oe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},e0e=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Ee("div",$e({ref:s},Zt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},t0e=e0e,r0e=["data"],n0e=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},a0e=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Ee("div",$e({},Zt(e,"group",{group:!0}),c),Ee(i,$e({},l,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:n}),u),Ee("div",null,r))},s0e=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return Oe({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},o0e=function(e){var r=iU(e);r.data;var n=Hs(r,r0e);return Ee("div",$e({},Zt(e,"groupHeading",{"group-heading":!0}),n))},i0e=a0e,l0e=["innerRef","isDisabled","isHidden","inputClassName"],c0e=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,i=s.spacing,l=s.colors;return Oe(Oe({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},u0e),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},gU={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},u0e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Oe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},gU)},d0e=function(e){return Oe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},gU)},f0e=function(e){var r=e.cx,n=e.value,a=iU(e),s=a.innerRef,i=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=Hs(a,l0e);return Ee("div",$e({},Zt(e,"input",{"input-container":!0}),{"data-value":n||""}),Ee("input",$e({className:r({input:!0},c),ref:s,style:d0e(l),disabled:i},u)))},m0e=f0e,h0e=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors;return Oe({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},p0e=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Oe({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},g0e=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Oe({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},yU=function(e){var r=e.children,n=e.innerProps;return Ee("div",n,r)},y0e=yU,b0e=yU;function x0e(t){var e=t.children,r=t.innerProps;return Ee("div",$e({role:"button"},r),e||Ee(QP,{size:14}))}var v0e=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,d=n.Label,f=n.Remove;return Ee(u,{data:a,innerProps:Oe(Oe({},Zt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:c},Ee(d,{data:a,innerProps:Oe({},Zt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Ee(f,{data:a,innerProps:Oe(Oe({},Zt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},j0e=v0e,w0e=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,c=i.colors;return Oe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},N0e=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return Ee("div",$e({},Zt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),r)},C0e=N0e,S0e=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return Oe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},A0e=function(e){var r=e.children,n=e.innerProps;return Ee("div",$e({},Zt(e,"placeholder",{placeholder:!0}),n),r)},I0e=A0e,k0e=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,i=a.colors;return Oe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},T0e=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return Ee("div",$e({},Zt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},P0e=T0e,E0e={ClearIndicator:Gxe,Control:t0e,DropdownIndicator:Wxe,DownChevron:hU,CrossIcon:QP,Group:i0e,GroupHeading:o0e,IndicatorsContainer:Bxe,IndicatorSeparator:Kxe,Input:m0e,LoadingIndicator:Qxe,Menu:Axe,MenuList:kxe,MenuPortal:_xe,LoadingMessage:Dxe,NoOptionsMessage:Exe,MultiValue:j0e,MultiValueContainer:y0e,MultiValueLabel:b0e,MultiValueRemove:x0e,Option:C0e,Placeholder:I0e,SelectContainer:$xe,SingleValue:P0e,ValueContainer:Lxe},D0e=function(e){return Oe(Oe({},E0e),e.components)},WR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function O0e(t,e){return!!(t===e||WR(t)&&WR(e))}function _0e(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!O0e(t[r],e[r]))return!1;return!0}function R0e(t,e){e===void 0&&(e=_0e);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var $0e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},M0e=function(e){return Ee("span",$e({css:$0e},e))},HR=M0e,L0e={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(p,b){return p&&p.length?"".concat(p.indexOf(b)+1," of ").concat(p.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,n),".");if(r==="menu"&&d){var m=c?" disabled":"",h="".concat(u?" selected":"").concat(m);return"".concat(i).concat(h,", ").concat(f(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},F0e=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,m=c.getOptionLabel,h=c.inputValue,y=c.isMulti,p=c.isOptionDisabled,b=c.isSearchable,g=c.menuIsOpen,v=c.options,j=c.screenReaderStatus,C=c.tabSelectsValue,x=c.isLoading,N=c["aria-label"],S=c["aria-live"],A=w.useMemo(function(){return Oe(Oe({},L0e),f||{})},[f]),I=w.useMemo(function(){var P="";if(r&&A.onChange){var _=r.option,q=r.options,F=r.removedValue,O=r.removedValues,V=r.value,W=function(oe){return Array.isArray(oe)?null:oe},$=F||_||W(V),B=$?m($):"",Q=q||O||void 0,fe=Q?Q.map(m):[],ae=Oe({isDisabled:$&&p($,l),label:B,labels:fe},r);P=A.onChange(ae)}return P},[r,A,p,l,m]),T=w.useMemo(function(){var P="",_=n||a,q=!!(n&&l&&l.includes(n));if(_&&A.onFocus){var F={focused:_,label:m(_),isDisabled:p(_,l),isSelected:q,options:s,context:_===n?"menu":"value",selectValue:l,isAppleDevice:d};P=A.onFocus(F)}return P},[n,a,m,p,A,s,l,d]),E=w.useMemo(function(){var P="";if(g&&v.length&&!x&&A.onFilter){var _=j({count:s.length});P=A.onFilter({inputValue:h,resultsMessage:_})}return P},[s,h,g,A,v,j,x]),R=(r==null?void 0:r.action)==="initial-input-focus",M=w.useMemo(function(){var P="";if(A.guidance){var _=a?"value":g?"menu":"input";P=A.guidance({"aria-label":N,context:_,isDisabled:n&&p(n,l),isMulti:y,isSearchable:b,tabSelectsValue:C,isInitialFocus:R})}return P},[N,n,a,y,p,b,g,A,l,C,R]),L=Ee(w.Fragment,null,Ee("span",{id:"aria-selection"},I),Ee("span",{id:"aria-focused"},T),Ee("span",{id:"aria-results"},E),Ee("span",{id:"aria-guidance"},M));return Ee(w.Fragment,null,Ee(HR,{id:u},R&&L),Ee(HR,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!R&&L))},B0e=F0e,dI=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],q0e=new RegExp("["+dI.map(function(t){return t.letters}).join("")+"]","g"),bU={};for(var g1=0;g1<dI.length;g1++)for(var y1=dI[g1],b1=0;b1<y1.letters.length;b1++)bU[y1.letters[b1]]=y1.base;var xU=function(e){return e.replace(q0e,function(r){return bU[r]})},V0e=R0e(xU),GR=function(e){return e.replace(/^\s+|\s+$/g,"")},U0e=function(e){return"".concat(e.label," ").concat(e.value)},z0e=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Oe({ignoreCase:!0,ignoreAccents:!0,stringify:U0e,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,i=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,d=c?GR(n):n,f=c?GR(l(r)):l(r);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),i&&(d=V0e(d),f=xU(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},W0e=["innerRef"];function H0e(t){var e=t.innerRef,r=Hs(t,W0e),n=bxe(r,"onExited","in","enter","exit","appear");return Ee("input",$e({ref:e},n,{css:YP({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var G0e=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Y0e(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,i=w.useRef(!1),l=w.useRef(!1),c=w.useRef(0),u=w.useRef(null),d=w.useCallback(function(b,g){if(u.current!==null){var v=u.current,j=v.scrollTop,C=v.scrollHeight,x=v.clientHeight,N=u.current,S=g>0,A=C-x-j,I=!1;A>g&&i.current&&(n&&n(b),i.current=!1),S&&l.current&&(s&&s(b),l.current=!1),S&&g>A?(r&&!i.current&&r(b),N.scrollTop=C,I=!0,i.current=!0):!S&&-g>j&&(a&&!l.current&&a(b),N.scrollTop=0,I=!0,l.current=!0),I&&G0e(b)}},[r,n,a,s]),f=w.useCallback(function(b){d(b,b.deltaY)},[d]),m=w.useCallback(function(b){c.current=b.changedTouches[0].clientY},[]),h=w.useCallback(function(b){var g=c.current-b.changedTouches[0].clientY;d(b,g)},[d]),y=w.useCallback(function(b){if(b){var g=pxe?{passive:!1}:!1;b.addEventListener("wheel",f,g),b.addEventListener("touchstart",m,g),b.addEventListener("touchmove",h,g)}},[h,m,f]),p=w.useCallback(function(b){b&&(b.removeEventListener("wheel",f,!1),b.removeEventListener("touchstart",m,!1),b.removeEventListener("touchmove",h,!1))},[h,m,f]);return w.useEffect(function(){if(e){var b=u.current;return y(b),function(){p(b)}}},[e,y,p]),function(b){u.current=b}}var YR=["boxSizing","height","overflow","paddingRight","position"],KR={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function JR(t){t.cancelable&&t.preventDefault()}function XR(t){t.stopPropagation()}function QR(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function ZR(){return"ontouchstart"in window||navigator.maxTouchPoints}var e$=!!(typeof window<"u"&&window.document&&window.document.createElement),dd=0,Wl={capture:!1,passive:!1};function K0e(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=w.useRef({}),s=w.useRef(null),i=w.useCallback(function(c){if(e$){var u=document.body,d=u&&u.style;if(n&&YR.forEach(function(y){var p=d&&d[y];a.current[y]=p}),n&&dd<1){var f=parseInt(a.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,h=window.innerWidth-m+f||0;Object.keys(KR).forEach(function(y){var p=KR[y];d&&(d[y]=p)}),d&&(d.paddingRight="".concat(h,"px"))}u&&ZR()&&(u.addEventListener("touchmove",JR,Wl),c&&(c.addEventListener("touchstart",QR,Wl),c.addEventListener("touchmove",XR,Wl))),dd+=1}},[n]),l=w.useCallback(function(c){if(e$){var u=document.body,d=u&&u.style;dd=Math.max(dd-1,0),n&&dd<1&&YR.forEach(function(f){var m=a.current[f];d&&(d[f]=m)}),u&&ZR()&&(u.removeEventListener("touchmove",JR,Wl),c&&(c.removeEventListener("touchstart",QR,Wl),c.removeEventListener("touchmove",XR,Wl)))}},[n]);return w.useEffect(function(){if(e){var c=s.current;return i(c),function(){l(c)}}},[e,i,l]),function(c){s.current=c}}var J0e=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},X0e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Q0e(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=Y0e({isEnabled:a,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),d=K0e({isEnabled:r}),f=function(h){u(h),d(h)};return Ee(w.Fragment,null,r&&Ee("div",{onClick:J0e,css:X0e}),e(f))}var Z0e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},eve=function(e){var r=e.name,n=e.onFocus;return Ee("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Z0e,value:"",onChange:function(){}})},tve=eve;function ZP(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function rve(){return ZP(/^iPhone/i)}function vU(){return ZP(/^Mac/i)}function nve(){return ZP(/^iPad/i)||vU()&&navigator.maxTouchPoints>1}function ave(){return rve()||nve()}function sve(){return vU()||ave()}var ove=function(e){return e.label},ive=function(e){return e.label},lve=function(e){return e.value},cve=function(e){return!!e.isDisabled},uve={clearIndicator:Hxe,container:Rxe,control:Zxe,dropdownIndicator:zxe,group:n0e,groupHeading:s0e,indicatorsContainer:Fxe,indicatorSeparator:Yxe,input:c0e,loadingIndicator:Xxe,loadingMessage:Pxe,menu:Nxe,menuList:Ixe,menuPortal:Oxe,multiValue:h0e,multiValueLabel:p0e,multiValueRemove:g0e,noOptionsMessage:Txe,option:w0e,placeholder:S0e,singleValue:k0e,valueContainer:Mxe},dve={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},fve=4,jU=4,mve=38,hve=jU*2,pve={baseUnit:jU,controlHeight:mve,menuGutter:hve},x1={borderRadius:fve,colors:dve,spacing:pve},gve={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:UR(),captureMenuScroll:!UR(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:z0e(),formatGroupLabel:ove,getOptionLabel:ive,getOptionValue:lve,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:cve,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!mxe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function t$(t,e,r,n){var a=CU(t,e,r),s=SU(t,e,r),i=NU(t,e),l=s0(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:i,value:l,index:n}}function lb(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,l){return t$(t,i,e,l)}).filter(function(i){return n$(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=t$(t,r,e,n);return n$(t,s)?s:void 0}).filter(gxe)}function wU(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,UP(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function r$(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,UP(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function yve(t,e){return wU(lb(t,e))}function n$(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,i=e.label,l=e.value;return(!IU(t)||!s)&&AU(t,{label:i,value:l,data:a},n)}function bve(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function xve(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var v1=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},NU=function(e,r){return e.getOptionLabel(r)},s0=function(e,r){return e.getOptionValue(r)};function CU(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function SU(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=s0(t,e);return r.some(function(a){return s0(t,a)===n})}function AU(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var IU=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},vve=1,kU=function(t){Uye(r,t);var e=Hye(r);function r(n){var a;if(qye(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var d=a.props,f=d.onChange,m=d.name;u.name=m,a.ariaOnChange(c,u),f(c,u)},a.setValue=function(c,u,d){var f=a.props,m=f.closeMenuOnSelect,h=f.isMulti,y=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:y}),m&&(a.setState({inputIsHiddenAfterUpdate:!h}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:d})},a.selectOption=function(c){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,h=a.state.selectValue,y=f&&a.isOptionSelected(c,h),p=a.isOptionDisabled(c,h);if(y){var b=a.getOptionValue(c);a.setValue(h.filter(function(g){return a.getOptionValue(g)!==b}),"deselect-option",c)}else if(!p)f?a.setValue([].concat(UP(h),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(c),m=d.filter(function(y){return a.getOptionValue(y)!==f}),h=gp(u,m,m[0]||null);a.onChange(h,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(gp(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=gp(c,f,f[0]||null);d&&a.onChange(m,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(c){return v1(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return r$(lb(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return lxe.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return NU(a.props,c)},a.getOptionValue=function(c){return s0(a.props,c)},a.getStyles=function(c,u){var d=a.props.unstyled,f=uve[c](u,d);f.boxSizing="border-box";var m=a.props.styles[c];return m?m(f,u):f},a.getClassNames=function(c,u){var d,f;return(d=(f=a.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return D0e(a.props)},a.buildCategorizedOptions=function(){return lb(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return wU(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Oe({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Zj(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),m=Math.abs(d.clientY-a.initialTouchY),h=5;a.userIsDragging=f>h||m>h}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,d=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),d=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:d>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return IU(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,h=u.inputValue,y=u.isClearable,p=u.isDisabled,b=u.menuIsOpen,g=u.onKeyDown,v=u.tabSelectsValue,j=u.openMenuOnFocus,C=a.state,x=C.focusedOption,N=C.focusedValue,S=C.selectValue;if(!p&&!(typeof g=="function"&&(g(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||h)return;a.focusValue("previous");break;case"ArrowRight":if(!d||h)return;a.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(N)a.removeValue(N);else{if(!f)return;d?a.popValue():y&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!b||!v||!x||j&&a.isOptionSelected(x,S))return;a.selectOption(x);break;case"Enter":if(c.keyCode===229)break;if(b){if(!x||a.isComposing)return;a.selectOption(x);break}return;case"Escape":b?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:h}),a.onMenuClose()):y&&m&&a.clearValue();break;case" ":if(h)return;if(!b){a.openMenu("first");break}if(!x)return;a.selectOption(x);break;case"ArrowUp":b?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":b?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!b)return;a.focusOption("pageup");break;case"PageDown":if(!b)return;a.focusOption("pagedown");break;case"Home":if(!b)return;a.focusOption("first");break;case"End":if(!b)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++vve),a.state.selectValue=qR(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),l=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=i[l],a.state.focusedOptionId=v1(s,i[l])}return a}return Vye(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&VR(this.menuListRef,this.focusedOptionRef),sve()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!i&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(VR(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,i=this.state,l=i.selectValue,c=i.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var u=i.length-1,d=-1;if(i.length){switch(a){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(i);i||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(x1):Oe(Oe({},x1),this.props.theme):x1}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,h=f.isRtl,y=f.options,p=this.hasValue();return{clearValue:a,cx:s,getStyles:i,getClassNames:l,getValue:c,hasValue:p,isMulti:m,isRtl:h,options:y,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,i=a.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(a,s){return CU(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return SU(this.props,a,s)}},{key:"filterOption",value:function(a,s){return AU(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,i=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,m=a.required,h=this.getComponents(),y=h.Input,p=this.state,b=p.inputIsHidden,g=p.ariaSelection,v=this.commonProps,j=l||this.getElementId("input"),C=Oe(Oe(Oe({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(g==null?void 0:g.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?w.createElement(y,$e({},v,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:j,innerRef:this.getInputRef,isDisabled:s,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},C)):w.createElement(H0e,$e({id:j,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:n0,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,m=this.commonProps,h=this.props,y=h.controlShouldRenderValue,p=h.isDisabled,b=h.isMulti,g=h.inputValue,v=h.placeholder,j=this.state,C=j.selectValue,x=j.focusedValue,N=j.isFocused;if(!this.hasValue()||!y)return g?null:w.createElement(f,$e({},m,{key:"placeholder",isDisabled:p,isFocused:N,innerProps:{id:this.getElementId("placeholder")}}),v);if(b)return C.map(function(A,I){var T=A===x,E="".concat(a.getOptionLabel(A),"-").concat(a.getOptionValue(A));return w.createElement(i,$e({},m,{components:{Container:l,Label:c,Remove:u},isFocused:T,isDisabled:p,key:E,index:I,removeProps:{onClick:function(){return a.removeValue(A)},onTouchEnd:function(){return a.removeValue(A)},onMouseDown:function(M){M.preventDefault()}},data:A}),a.formatOptionLabel(A,"value"))});if(g)return null;var S=C[0];return w.createElement(d,$e({},m,{data:S,isDisabled:p}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,$e({},i,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return w.createElement(s,$e({},i,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,i=a.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return w.createElement(i,$e({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,$e({},i,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,m=s.NoOptionsMessage,h=s.Option,y=this.commonProps,p=this.state.focusedOption,b=this.props,g=b.captureMenuScroll,v=b.inputValue,j=b.isLoading,C=b.loadingMessage,x=b.minMenuHeight,N=b.maxMenuHeight,S=b.menuIsOpen,A=b.menuPlacement,I=b.menuPosition,T=b.menuPortalTarget,E=b.menuShouldBlockScroll,R=b.menuShouldScrollIntoView,M=b.noOptionsMessage,L=b.onMenuScrollToTop,P=b.onMenuScrollToBottom;if(!S)return null;var _=function(B,Q){var fe=B.type,ae=B.data,J=B.isDisabled,oe=B.isSelected,ee=B.label,re=B.value,K=p===ae,Y=J?void 0:function(){return a.onOptionHover(ae)},ue=J?void 0:function(){return a.selectOption(ae)},me="".concat(a.getElementId("option"),"-").concat(Q),ve={id:me,onClick:ue,onMouseMove:Y,onMouseOver:Y,tabIndex:-1,role:"option","aria-selected":a.state.isAppleDevice?void 0:oe};return w.createElement(h,$e({},y,{innerProps:ve,data:ae,isDisabled:J,isSelected:oe,key:me,label:ee,type:fe,value:re,isFocused:K,innerRef:K?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(B.data,"menu"))},q;if(this.hasOptions())q=this.getCategorizedOptions().map(function($){if($.type==="group"){var B=$.data,Q=$.options,fe=$.index,ae="".concat(a.getElementId("group"),"-").concat(fe),J="".concat(ae,"-heading");return w.createElement(i,$e({},y,{key:ae,data:B,options:Q,Heading:l,headingProps:{id:J,data:$.data},label:a.formatGroupLabel($.data)}),$.options.map(function(oe){return _(oe,"".concat(fe,"-").concat(oe.index))}))}else if($.type==="option")return _($,"".concat($.index))});else if(j){var F=C({inputValue:v});if(F===null)return null;q=w.createElement(f,y,F)}else{var O=M({inputValue:v});if(O===null)return null;q=w.createElement(m,y,O)}var V={minMenuHeight:x,maxMenuHeight:N,menuPlacement:A,menuPosition:I,menuShouldScrollIntoView:R},W=w.createElement(Cxe,$e({},y,V),function($){var B=$.ref,Q=$.placerProps,fe=Q.placement,ae=Q.maxHeight;return w.createElement(c,$e({},y,V,{innerRef:B,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:j,placement:fe}),w.createElement(Q0e,{captureEnabled:g,onTopArrive:L,onBottomArrive:P,lockEnabled:E},function(J){return w.createElement(u,$e({},y,{innerRef:function(ee){a.getMenuListRef(ee),J(ee)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:a.getElementId("listbox")},isLoading:j,maxHeight:ae,focusedOption:p}),q)}))});return T||I==="fixed"?w.createElement(d,$e({},y,{appendTo:T,controlElement:this.controlRef,menuPlacement:A,menuPosition:I}),W):W}},{key:"renderFormField",value:function(){var a=this,s=this.props,i=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return w.createElement(tve,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(i){var m=f.map(function(p){return a.getOptionValue(p)}).join(i);return w.createElement("input",{name:u,type:"hidden",value:m})}else{var h=f.length>0?f.map(function(p,b){return w.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:a.getOptionValue(p)})}):w.createElement("input",{name:u,type:"hidden",value:""});return w.createElement("div",null,h)}else{var y=f[0]?this.getOptionValue(f[0]):"";return w.createElement("input",{name:u,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return w.createElement(B0e,$e({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,i=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,h=u.menuIsOpen,y=this.state.isFocused,p=this.commonProps=this.getCommonProps();return w.createElement(l,$e({},p,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:y}),this.renderLiveRegion(),w.createElement(s,$e({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:y,menuIsOpen:h}),w.createElement(c,$e({},p,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),w.createElement(i,$e({},p,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,m=s.instancePrefix,h=a.options,y=a.value,p=a.menuIsOpen,b=a.inputValue,g=a.isMulti,v=qR(y),j={};if(i&&(y!==i.value||h!==i.options||p!==i.menuIsOpen||b!==i.inputValue)){var C=p?yve(a,v):[],x=p?r$(lb(a,v),"".concat(m,"-option")):[],N=l?bve(s,v):null,S=xve(s,C),A=v1(x,S);j={selectValue:v,focusedOption:S,focusedOptionId:A,focusableOptionsWithIds:x,focusedValue:N,clearFocusValueOnUpdate:!1}}var I=c!=null&&a!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},T=u,E=d&&f;return d&&!E&&(T={value:gp(g,v,v[0]||null),options:v,action:"initial-input-focus"},E=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(T=null),Oe(Oe(Oe({},j),I),{},{prevProps:a,ariaSelection:T,prevWasFocused:E})}}]),r}(w.Component);kU.defaultProps=gve;var jve=w.forwardRef(function(t,e){var r=Bye(t);return w.createElement(kU,$e({ref:e},r))}),Hr=jve;function o0({price:t="",quantity:e="",taxRate:r="",discountPercent:n="",vatable:a=!1,ewtRate:s=0,vatRate:i=12}){const l=parseFloat(t)||0,c=parseFloat(e)||0,u=parseFloat(r)||0,d=(parseFloat(n)||0)/100,f=parseFloat(s)||0;let m=0,h=0,y=0,p=0,b=0,g=0,v=0,j=0,C=0;return a?(m=l*c,h=+(m*d).toFixed(2),p=+(m-h).toFixed(2),y=+(p*i/(100+i)).toFixed(2),b=+(p-y).toFixed(2)):(m=l*c,h=+(m*d).toFixed(2),y=+(m*i/100).toFixed(2),b=+(m-h).toFixed(2),p=+(b+y).toFixed(2)),g=+(b*u/100*-1).toFixed(2),v=+(b*f/100*-1).toFixed(2),j=+(g+v).toFixed(2),C=a?+(p+j).toFixed(2):+(b+j).toFixed(2),{subtotalBeforeDiscount:m,discount:h,vat:y,subtotalTaxIncluded:p,subtotalTaxExcluded:b,withheld:g,ewt:v,ewtrate:f,totalDeduction:j,subtotal:C}}function TU({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=ce({ResponsibilityCenter:D().required("Required"),ChargeAccountID:D().required("Required"),ItemID:D().required("Required"),Remarks:D().required("Required"),FPP:D(),Price:X().required("Required"),Quantity:X().required("Required"),ItemUnitID:D().required("Required"),TAXCodeID:D().required("Required"),DiscountRate:X().required("Required")}),d=tt({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,DiscountRate:0,subtotal:0},validationSchema:u,onSubmit:y=>{const p=i.find(j=>String(j.ID)===String(y.TAXCodeID));console.log("selectedTax",y);const b=r.find(j=>String(j.value)===String(y.ResponsibilityCenter)),g=l.find(j=>String(j.value)===String(y.ChargeAccountID)),v=n.find(j=>String(j.value)===String(y.ItemID));t({...y,responsibilityCenterName:b?b.label:"",chargeAccountName:g?g.label:"",itemName:v?v.label:"",TaxName:p==null?void 0:p.Name,TaxRate:p==null?void 0:p.Rate}),e()}}),f=w.useRef({...d.values});w.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(g=>d.values[g]!==f.current[g]))return;f.current={...d.values};const p=i.find(g=>String(g.ID)===String(d.values.TAXCodeID)),b=o0({price:d.values.Price,quantity:d.values.Quantity,taxRate:(p==null?void 0:p.Rate)||0,discountPercent:d.values.DiscountRate,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});b.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",b.subtotal,!1),b.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",b.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.DiscountRate,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(y=>String(y.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return console.log("selectedTax",i),o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(k,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0}),d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ResponsibilityCenter})]}),o.jsxs("div",{children:[o.jsx(k,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0}),d.touched.ChargeAccountID&&d.errors.ChargeAccountID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ChargeAccountID})]}),o.jsxs("div",{children:[o.jsx(k,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0}),d.touched.ItemID&&d.errors.ItemID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(k,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0}),d.touched.Remarks&&d.errors.Remarks&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Remarks})]}),o.jsxs("div",{children:[o.jsx(k,{type:"text",label:"FPP",name:"FPP",...d.getFieldProps("FPP")}),d.touched.FPP&&d.errors.FPP&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.FPP})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(k,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0}),d.touched.Price&&d.errors.Price&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Price})]}),o.jsxs("div",{children:[o.jsx(k,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0}),d.touched.Quantity&&d.errors.Quantity&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Quantity})]}),o.jsxs("div",{children:[o.jsx(k,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0}),d.touched.ItemUnitID&&d.errors.ItemUnitID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemUnitID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(k,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0}),d.touched.TAXCodeID&&d.errors.TAXCodeID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.TAXCodeID})]}),o.jsx("div",{children:o.jsx(k,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,className:"bg-gray-200 cursor-not-allowed",disabled:!0})}),o.jsxs("div",{children:[o.jsx(k,{type:"number",label:"Discount %",name:"DiscountRate",...d.getFieldProps("DiscountRate"),required:!0}),d.touched.DiscountRate&&d.errors.DiscountRate&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.DiscountRate})]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:o.jsx(k,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const PU="https://staging-engine.testthelink.online",wve={obligationRequests:[],obligationRequest:null,isLoading:!1,error:null},mf=U("obligationRequests/fetchObligationRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${PU}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),j1=U("obligationRequests/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),cb=U("obligationRequests/create",async(t,e)=>{try{const r=await fetch(`${PU}/obligationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),ub=U("obligationRequests/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),EU=we({name:"obligationRequests",initialState:wve,reducers:{resetObligationRequestState:t=>{t.obligationRequest=null,t.error=null}},extraReducers:t=>{t.addCase(mf.pending,e=>{e.isLoading=!0}).addCase(mf.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests=r.payload}).addCase(mf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(j1.pending,e=>{e.isLoading=!0}).addCase(j1.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequest=r.payload}).addCase(j1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cb.pending,e=>{e.isLoading=!0}).addCase(cb.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests.push(r.payload)}).addCase(cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ub.pending,e=>{e.isLoading=!0}).addCase(ub.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.obligationRequests.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.obligationRequests[n]=r.payload)}).addCase(ub.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetObligationRequestState:B9e}=EU.actions,Nve=EU.reducer,a$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],Cve=ce().shape({obrNo:D(),obrDate:Ue().required("Date is required"),payeeType:D().required("Payee type is required"),payeeId:D().required("Payee selection is required"),responsibilityCenter:D().required("Responsibility Center is required"),fund:D().required("Fund is required"),fiscalYear:D().required("Fiscal Year is required"),project:D().required("Project is required"),accountingEntries:zt().min(1,"At least one item is required")});function Sve({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:y=[],budgetOptions:p=[],taxCodeFull:b=[]}){const g=de(),v=w.useRef(null),[j,C]=w.useState(!1),[x,N]=w.useState(null),[S,A]=w.useState(null),[I,T]=w.useState(!1),[E,R]=w.useState([]),M=(F,O)=>{const V=F.reduce((B,Q)=>B+Number(Q.amount||0),0),W=O.reduce((B,Q)=>B+Number(Q.amount||0),0),$=V-W;return{grossAmount:V,totalTaxes:W,netAmount:$}},L={description:"",amount:"",accountCode:""};console.log(t);const P={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",project:(t==null?void 0:t.ProjectID)||"",fund:(t==null?void 0:t.FundsID)||"",fiscalYear:(t==null?void 0:t.FiscalYearID)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.ResponsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[L],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.TransactionItemsAll)?t.TransactionItemsAll:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},_=F=>{C(!0),M(F.items,F.taxes);const O=new FormData;F.payeeType==="Employee"?(O.append("EmployeeID",F.payeeId),O.append("VendorID",""),O.append("CustomerID","")):F.payeeType==="Vendor"?(O.append("EmployeeID",""),O.append("VendorID",F.payeeId),O.append("CustomerID","")):F.payeeType==="Individual"&&(O.append("EmployeeID",""),O.append("VendorID",""),O.append("CustomerID",F.payeeId)),O.append("PayeeType",F.payeeType),O.append("Payee",(x==null?void 0:x.Name)||(x==null?void 0:x.FirstName)+" "+(x==null?void 0:x.MiddleName)+" "+(x==null?void 0:x.LastName)||""),O.append("Address",(x==null?void 0:x.StreetAddress)||""),O.append("InvoiceNumber",F.obrNo),O.append("InvoiceDate",F.obrDate),O.append("ResponsibilityCenter",F.responsibilityCenter);const V=F.accountingEntries.reduce((ae,J)=>ae+Number(J.subtotal||0),0),W=F.accountingEntries.reduce((ae,J)=>ae+Number(J.ewt||0),0),$=F.accountingEntries.reduce((ae,J)=>ae+Number(J.withheld||0),0),B=F.accountingEntries.reduce((ae,J)=>ae+Number(J.vat||0),0),Q=F.accountingEntries.reduce((ae,J)=>ae+Number(J.discount||0),0);O.append("Total",V.toFixed(2)),O.append("EWT",W.toFixed(2)),O.append("WithheldAmount",$.toFixed(2)),O.append("Vat_Total",B.toFixed(2)),O.append("Discounts",Q.toFixed(2)),O.append("FundsID",F.fund),O.append("FiscalYearID",F.fiscalYear),O.append("ProjectID",F.project),O.append("TravelID",""),O.append("Items",JSON.stringify(F.accountingEntries)),F.Attachments.forEach((ae,J)=>{ae.ID?O.append(`Attachments[${J}].ID`,ae.ID):O.append(`Attachments[${J}].File`,ae)});const fe=t?ub({formData:O,id:t.ID}):cb(O);t?(O.append("IsNew",!1),O.append("LinkID",t.LinkID)):O.append("IsNew",!0),g(fe).unwrap().then(()=>{ie.success("Success"),e()}).catch(ae=>{ie.error((ae==null?void 0:ae.message)||"Failed to submit")}).finally(()=>{C(!1)})},q=({type:F})=>{switch(F){case"Employee":return o.jsx(FP,{className:"w-5 h-5"});case"Vendor":return o.jsx(UT,{className:"w-5 h-5"});case"Individual":return o.jsx(uj,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(qe,{innerRef:v,initialValues:P,validationSchema:Cve,onSubmit:_,enableReinitialize:!0,children:({values:F,errors:O,touched:V,handleChange:W,handleBlur:$,setFieldValue:B,setFieldTouched:Q,isValid:fe})=>{M(F.items,F.taxes);const J=a$.map(K=>({value:K.value,label:K.label})).find(K=>K.value===F.payeeType),oe=K=>{N(null),B("payeeType",K),B("payeeName",""),B("payeeId",""),B("payeeAddress",""),B("officeUnitProject",""),B("orsNumber","")},ee=K=>{let Y=null;switch(F.payeeType){case"Employee":Y=s.find(ue=>ue.ID===K);break;case"Vendor":Y=i.find(ue=>ue.ID===K);break;case"Individual":Y=l.find(ue=>ue.ID===K);break}N(Y),B("payeeName",Y==null?void 0:Y.Name),B("payeeId",Y==null?void 0:Y.ID)},re=K=>{switch(K){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(We,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:a$.map(K=>o.jsxs("button",{type:"button",onClick:()=>oe(K.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${F.payeeType===K.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(q,{type:K.value}),o.jsx("span",{className:"ml-3 font-medium",children:K.label})]},K.value))}),O.payeeType&&V.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.payeeType})]}),F.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",J==null?void 0:J.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:re(F.payeeType),value:re(F.payeeType).find(K=>K.value===F.payeeId)||null,onChange:K=>ee(K.value),className:"react-select-container",classNamePrefix:"react-select"}),O.payeeType&&V.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.payeeType})]}),x&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(J==null?void 0:J.label)==="Employee"?`${x.FirstName||""} ${x.MiddleName||""} ${x.LastName||""}`.trim():((J==null?void 0:J.label)==="Vendor"||(J==null?void 0:J.label)==="Individual",x.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((J==null?void 0:J.label)==="Employee"||(J==null?void 0:J.label)==="Vendor"||(J==null?void 0:J.label)==="Individual",x.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(k,{type:"text",label:"OBR No.",name:"obrNo",value:F.obrNo,onChange:W,onBlur:$,error:O.obrNo,touched:V.obrNo,readOnly:!0,disabled:!0,className:"pointer-events-none bg-gray-100"}),o.jsx(k,{type:"date",label:"Date",name:"obrDate",value:F.obrDate,onChange:W,onBlur:$,error:O.obrDate,touched:V.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:c,value:c.find(K=>K.value===F.responsibilityCenter)||null,onChange:K=>B("responsibilityCenter",K.value),onBlur:()=>Q("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),O.responsibilityCenter&&V.responsibilityCenter&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.responsibilityCenter})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:u,value:u.find(K=>K.value===F.fund)||null,onChange:K=>B("fund",K.value),className:"react-select-container",classNamePrefix:"react-select"}),O.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:f,value:f.find(K=>K.value===F.fiscalYear)||null,onChange:K=>B("fiscalYear",K.value),className:"react-select-container",classNamePrefix:"react-select"}),O.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:d,value:d.find(K=>K.value===F.project)||null,onChange:K=>B("project",K.value),className:"react-select-container",classNamePrefix:"react-select"}),O.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.project})]})]}),o.jsx(Gr,{name:"accountingEntries",children:({push:K,remove:Y})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>T(!0),children:"+ Item"})]}),F.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2 mt-4",children:[o.jsxs("div",{className:"hidden md:grid md:grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"PARTICULARS"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"}),o.jsx("span",{})," "]}),F.accountingEntries.map((ue,me)=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsxs("span",{children:[o.jsxs("span",{className:"md:hidden font-semibold",children:["RC:"," "]}),ue.responsibilityCenterName]}),o.jsxs("span",{children:[o.jsxs("span",{className:"md:hidden font-semibold",children:["Remarks:"," "]}),ue.Remarks]}),o.jsxs("span",{children:[o.jsxs("span",{className:"md:hidden font-semibold",children:["Particulars:"," "]}),ue.itemName]}),o.jsxs("span",{children:[o.jsxs("span",{className:"md:hidden font-semibold",children:["Account Code:"," "]}),ue.chargeAccountName]}),o.jsxs("span",{className:"text-right",children:[o.jsxs("span",{className:"md:hidden font-semibold",children:["Sub-total:"," "]}),parseFloat(ue.subtotal).toFixed(2)]}),o.jsx("div",{className:"text-right",children:o.jsx("button",{type:"button",onClick:()=>Y(me),className:"text-red-600 text-xs hover:text-red-900",children:o.jsx(Qt,{className:"w-4 h-4"})})})]},me)),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"md:col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:F.accountingEntries.reduce((ue,me)=>ue+Number(me.subtotal),0).toFixed(2)})]})]}),o.jsx(le,{isOpen:I,onClose:()=>T(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(TU,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:y,budgetOptions:p,taxCodeFull:b,onClose:()=>T(!1),onSubmit:ue=>{console.log("Adding entry:",ue),K(ue),T(!1)}})})]})}),O.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.accountingEntries}),o.jsx("hr",{}),o.jsx(Gr,{name:"Attachments",render:({remove:K,push:Y})=>{var ue;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>Y({File:null}),children:"+ Attachment"})]}),(ue=F.Attachments)==null?void 0:ue.map((me,ve)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[me.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${me.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:me.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${ve}].ID`,value:me.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${ve+1}`}),o.jsx("input",{type:"file",name:`Attachments[${ve}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:De=>B(`Attachments[${ve}].File`,De.currentTarget.files[0]),onBlur:$,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(At,{type:"button",onClick:()=>K(ve),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Qt,{className:"w-4 h-4"})})]},ve))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function Ave({dv:t,onClose:e,onEdit:r}){const n=i=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(i),a=i=>new Date(i).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=i=>{let l="bg-neutral-100 text-neutral-800";switch(i){case"Pending Certification":l="bg-warning-100 text-warning-800";break;case"Pending Approval":l="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":l="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":l="bg-error-100 text-error-800";break}return l};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${s(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(Zm,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"DV Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"DV Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.dvNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dvDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"ORS Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.orsNumber||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.modeOfPayment})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Particulars"}),o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-line",children:t.particulars})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Gross Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-neutral-900",children:n(t.grossAmount)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Total Deductions"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-error-600",children:n(t.totalDeductions)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Net Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.netAmount)})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(kJ,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(bJ,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(sX,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for certification"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const e2="https://staging-engine.testthelink.online",er=U("budgetFunds/fetchBudgetFunds",async()=>(await Fe("/funds")).data),db=U("budgetFunds/createBudgetFund",async t=>{const r=await(await fetch(`${e2}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({IsNew:!0,...t})})).json();if(r)return ie.success("Fund added successfully"),r;throw new Error("Failed to create fund")}),fb=U("budgetFunds/updateBudgetFund",async t=>{const r=await(await fetch(`${e2}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({IsNew:!1,...t})})).json();if(r)return ie.success("Fund updated successfully"),r;throw new Error("Failed to update fund")}),mb=U("budgetFunds/deleteBudgetFund",async t=>{if(await(await fetch(`${e2}/funds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json())return ie.success("Fund deleted successfully"),t;throw new Error("Failed to delete fund")}),Ive=we({name:"budgetFunds",initialState:{funds:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(er.pending,e=>{e.loading=!0,e.error=null}).addCase(er.fulfilled,(e,r)=>{e.loading=!1,e.funds=r.payload||[]}).addCase(er.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch budget funds")}).addCase(db.pending,e=>{e.loading=!0,e.error=null}).addCase(db.fulfilled,(e,r)=>{e.loading=!1,e.funds=[...e.funds,r.payload]}).addCase(db.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to create fund")}).addCase(fb.pending,e=>{e.loading=!0,e.error=null}).addCase(fb.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.map(n=>n.ID===r.payload.ID?r.payload:n)}).addCase(fb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to update fund")}).addCase(mb.pending,e=>{e.loading=!0,e.error=null}).addCase(mb.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.filter(n=>n.ID!==r.payload)}).addCase(mb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to delete fund")})}}),kve=Ive.reducer,Mo=U("budget/fetchBudgets",async(t,e)=>{try{return(await Fe("/budget")).data.items}catch(r){return e.rejectWithValue(r.message)}}),w1=U("budget/createBudget",async t=>(await new Promise(r=>{setTimeout(()=>{r({data:{id:Date.now(),...t,status:"active"}})},1e3)})).data),N1=U("budget/updateBudget",async({id:t,budgetData:e})=>(await new Promise(n=>{setTimeout(()=>{n({data:{id:t,...e}})},1e3)})).data),C1=U("budget/deleteBudget",async t=>(await new Promise(e=>{setTimeout(()=>{e()},1e3)}),t)),Tve={budgets:[],isLoading:!1,error:null},Pve=we({name:"budget",initialState:Tve,reducers:{},extraReducers:t=>{t.addCase(Mo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mo.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=r.payload}).addCase(Mo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(w1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(w1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets.push(r.payload)}).addCase(w1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(N1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(N1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.budgets.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.budgets[n]=r.payload)}).addCase(N1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(C1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(C1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=e.budgets.filter(n=>n.id!==r.payload)}).addCase(C1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),Eve=Pve.reducer,Dve=(t="self")=>Fe("/profileDashboard/userDocumentsList",{params:{owner:t}}),Ove=()=>Fe("/profileDashboard/user"),_ve=t=>Fe("/profileDashboard/budgetList",{params:t?{selectedDepartmentID:t}:{}}),Rve=t=>Fe(`/profileDashboard/budgetAPARList/${t}`),s$=(t="Day",e="Disbursement Voucher",r="")=>{const n={dateRange:t,aparType:e,...r&&{selectedDepartmentID:r}};return Fe("/profileDashboard/disbursementAmounts",{params:n})},$ve=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return Fe("/profileDashboard/obligationChart",{params:r})},Mve=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return Fe("/profileDashboard/travelOrderChart",{params:r})},Lve=(t="Year",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return Fe("/profileDashboard/disbursementChart",{params:r})},Fve=(t="Day")=>Fe("/profileDashboard/collectionTotals",{params:{dateRange:t}}),Bve=()=>Fe("/profileDashboard/chartGeneral"),qve=()=>Fe("/profileDashboard/chartMarriage"),Vve=()=>Fe("/profileDashboard/chartBurial"),Uve=()=>Fe("/profileDashboard/chartCedula"),t2=t=>{const e={"Disbursement Posted":"bg-green-100 text-green-700",Requested:"bg-blue-100 text-blue-700",Pending:"bg-yellow-100 text-yellow-700","Cheque Requested":"bg-red-100 text-red-700"};return o.jsx("div",{className:"flex gap-2 flex-wrap",children:t.split(",").map((r,n)=>{const a=r.trim();return o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${e[a]||"bg-gray-100 text-gray-600"}`,children:a},n)})})},zve=()=>{var d,f;const[t,e]=w.useState("self"),[r,n]=w.useState([]),[a,s]=w.useState(null);w.useEffect(()=>{Dve(t).then(m=>{console.log("res",m),n(m.data)}).catch(()=>{ie.error("Failed to load documents")})},[t]),w.useEffect(()=>{a||Ove().then(m=>{s(m.data)}).catch(m=>{ie.error("Failed to load user profile")})},[]);const{statusCounts:i,documentsList:l}=r||{},c={total:i==null?void 0:i.Total,approved:i==null?void 0:i.Approved,requested:i==null?void 0:i.Requested,rejected:i==null?void 0:i.Rejected},u=[{key:"Status",header:"Status",render:m=>t2(m)},{key:"InvoiceNumber",header:"Invoice No",sortable:!0},{key:"APAR",header:"APAR Type",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0,render:m=>(m==null?void 0:m.Name)||""},{key:"Total",header:"Amount",sortable:!0}];return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Jue,{className:"w-20 h-20 text-gray-400"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Welcome,"," ",[a==null?void 0:a.FirstName,a==null?void 0:a.MiddleName,a==null?void 0:a.LastName].filter(Boolean).join(" ")]}),((d=a==null?void 0:a.Position)==null?void 0:d.Name)&&o.jsxs("p",{className:"text-sm text-gray-500",children:["Position: ",a.Position.Name]}),((f=a==null?void 0:a.Department)==null?void 0:f.Name)&&o.jsxs("p",{className:"text-sm text-gray-500",children:["Department: ",a.Department.Name]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(xc,{to:"/budget-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Budget"})}),o.jsx(xc,{to:"/disbursement-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Disbursement"})}),o.jsx(xc,{to:"/collection-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Collection"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(yp,{title:"Total Documents",value:c.total,icon:zue}),o.jsx(yp,{title:"Approved",value:c.approved,icon:$ue}),o.jsx(yp,{title:"Requested",value:c.requested,icon:Vue}),o.jsx(yp,{title:"Rejected",value:c.rejected,icon:Que})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner:"}),[{label:"Me",value:"self"},{label:"Department",value:"department"},{label:"All",value:"all"}].map(m=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"owner",value:m.value,checked:t===m.value,onChange:()=>e(m.value),className:"text-blue-600"}),o.jsx("span",{className:"text-sm",children:m.label})]},m.value))]}),o.jsx(xe,{columns:u,data:l||[],pagination:!0})]})},yp=({title:t,value:e,icon:r})=>o.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 flex items-center gap-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:o.jsx(r,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-500",children:t}),o.jsx("p",{className:"text-xl font-semibold text-gray-800",children:e})]})]});function Wve(){const t=de(),{obligationRequests:e,isLoading:r}=H(_=>_.obligationRequests),{employees:n}=H(_=>_.employees),{customers:a}=H(_=>_.customers),{vendorDetails:s}=H(_=>_.vendorDetails),{departments:i}=H(_=>_.departments),{projectDetails:l}=H(_=>_.projectDetails),{funds:c}=H(_=>_.funds),{fiscalYears:u}=H(_=>_.fiscalYears),{items:d}=H(_=>_.items),{taxCodes:f}=H(_=>_.taxCodes),{itemUnits:m}=H(_=>_.itemUnits),{budgets:h}=H(_=>_.budget),[y,p]=w.useState("list"),[b,g]=w.useState(null),[v,j]=w.useState(!1),{Add:C,Edit:x,Delete:N}=Ce(62);w.useEffect(()=>{t(mf()),t(dn()),t(mn()),t(Va()),t(cr()),t(za()),t(er()),t(fn()),t(Ua()),t(Zn()),t(va()),t(Mo())},[t]);const S=()=>{g(null),p("form")},A=_=>{g(_),p("form")},I=()=>{p("list"),g(null)},T=[{key:"Status",header:"Status",sortable:!0,render:_=>t2(_)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:_=>new Date(_).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}],E=_=>{console.log(_)},R=_=>{console.log(values)},M=_=>{console.log(values)},L=async(_,q)=>{var V,W;const O={approve:{endpoint:"postTransaction",payload:{ID:_.ID,LinkID:_.LinkID,ApprovalLinkID:_.LinkID,ApprovalProgress:_.ApprovalProgress||"1",ApprovalOrder:_.ApprovalOrder||"1",NumberOfApproverPerSequence:_.NumberOfApproverPerSequence||"1",FundsID:_.FundsID||"2",ApprovalVersion:_.ApprovalVersion||"1"},successMsg:"Obligation Request approved successfully",errorMsg:"Error approving Obligation Request"},reject:{endpoint:"rejectTransaction",payload:{ID:_.ID,ApprovalLinkID:_.LinkID,reasonForRejection:_.reasonForRejection||"ANY REASON"},successMsg:"Obligation Request rejected successfully",errorMsg:"Error rejecting Obligation Request"}}[q];if(!O){console.error("Invalid action:",q);return}j(!0);try{const{data:$}=await Fe.post(`/obligationRequest/${O.endpoint}`,O.payload);console.log(`${q} response:`,$),t(mf()),z.success(O.successMsg)}catch($){const B=((W=(V=$.response)==null?void 0:V.data)==null?void 0:W.message)||O.errorMsg;console.error(B,$),z.error(B)}finally{j(!1)}},P=_=>{var F,O;const q=[];return(F=_==null?void 0:_.Status)!=null&&F.toLowerCase().includes("rejected")&&x?(q.push({icon:Pe,title:"Edit",onClick:R,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),q.push({icon:Ca,title:"Delete",onClick:()=>M(),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(O=_==null?void 0:_.Status)!=null&&O.toLowerCase().includes("requested")&&q.push({icon:bn,title:"Approve",onClick:()=>L(_,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>L(_,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),q.push({icon:Zo,title:"View",onClick:E,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),q};return o.jsxs("div",{children:[y==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Requests"}),o.jsx("p",{children:"Manage obligation requests"})]}),C&&o.jsxs("button",{type:"button",onClick:S,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:T,data:e,actions:P,loading:r||v})})]}),y==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:I,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(Ja,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:b?"Edit Obligation Request":"Create Obligation Request"}),o.jsxs("p",{children:["Fill out the form to"," ",b?"update":"create"," an obligation request"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(Sve,{initialData:b,employeeOptions:n.map(_=>({value:_.ID,label:_.FirstName+" "+_.MiddleName+" "+_.LastName})),vendorOptions:s.map(_=>({value:_.ID,label:_.Name||`${_.FirstName} ${_.MiddleName} ${_.LastName}`})),individualOptions:a.map(_=>({value:_.ID,label:_.Name||`${_.FirstName} ${_.MiddleName} ${_.LastName}`})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(_=>({value:_.ID,label:_.Name})),fundOptions:c.map(_=>({value:_.ID,label:_.Name})),projectOptions:l.map(_=>({value:_.ID,label:_.Title})),fiscalYearOptions:u.map(_=>({value:_.ID,label:_.Name})),particularsOptions:d.map(_=>({value:_.ID,label:_.Name})),unitOptions:m.map(_=>({value:_.ID,label:_.Name})),taxCodeOptions:f.map(_=>({value:_.ID,label:_.Name})),budgetOptions:h.map(_=>({value:_.ID,label:_.Name})),taxCodeFull:f,onCancel:I,onSubmitSuccess:I,onClose:I})})]}),y==="details"&&b&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:I,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(Ja,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Request Details"}),o.jsx("p",{children:"View and manage obligation request details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>A(b),className:"btn btn-primary flex items-center",children:[o.jsx(Pe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(Ave,{or:b,onBack:I})})]})]})}function bs(t){const e=Number(t);if(Number.isNaN(e))return"";const r=Math.floor(e),n=Math.round((e-r)*100);let a=`${fI(r)} PESOS`;return n>0&&(a+=` AND ${n.toString().padStart(2,"0")}/100`),a.trim()}function fI(t){if(t===0)return"ZERO";if(t<0)return`MINUS ${fI(Math.abs(t))}`;const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],r=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];let n="";const a=(s,i)=>{s>0&&(n+=`${fI(s)} ${i} `)};return a(Math.floor(t/1e12),"TRILLION"),t%=1e12,a(Math.floor(t/1e9),"BILLION"),t%=1e9,a(Math.floor(t/1e6),"MILLION"),t%=1e6,a(Math.floor(t/1e3),"THOUSAND"),t%=1e3,a(Math.floor(t/100),"HUNDRED"),t%=100,t>0&&(n&&(n+="AND "),t<20?n+=e[t]:(n+=r[Math.floor(t/10)],t%10&&(n+=`-${e[t%10]}`))),n.trim()}const r2="https://staging-engine.testthelink.online",Hve={disbursementVouchers:[],disbursementVoucher:null,isLoading:!1,error:null,requestOptions:[],requestOptionsLoading:!1,requestOptionsError:null},hb=U("disbursementVouchers/fetchRequestOptions",async({requestType:t,payeeType:e,payeeId:r},n)=>{try{const a=localStorage.getItem("token"),s=`${r2}/disbursementVoucher/selectListForDV?type=${encodeURIComponent(e)}&requestType=${encodeURIComponent(t)}&id=${r}`,i=await fetch(s,{headers:{Authorization:`Bearer ${a}`}}),l=await i.json();if(!i.ok)throw new Error(l.error||l.message||"Failed to fetch request options");return l}catch(a){return n.rejectWithValue(a.message)}}),Ec=U("disbursementVouchers/fetchDisbursementVouchers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${r2}/disbursementVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),S1=U("disbursementVouchers/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().disbursementVouchers.disbursementVouchers.find(i=>i.id===t);s?r(s):n(new Error("Disbursement voucher not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),pb=U("disbursementVouchers/create",async(t,e)=>{try{const r=await fetch(`${r2}/disbursementVoucher/save`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),A1=U("disbursementVouchers/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),DU=we({name:"disbursementVouchers",initialState:Hve,reducers:{resetDisbursementVoucherState:t=>{t.disbursementVoucher=null,t.error=null}},extraReducers:t=>{t.addCase(Ec.pending,e=>{e.isLoading=!0}).addCase(Ec.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers=r.payload}).addCase(Ec.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(S1.pending,e=>{e.isLoading=!0}).addCase(S1.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVoucher=r.payload}).addCase(S1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pb.pending,e=>{e.isLoading=!0}).addCase(pb.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers.push(r.payload)}).addCase(pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(A1.pending,e=>{e.isLoading=!0}).addCase(A1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.disbursementVouchers.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.disbursementVouchers[n]=r.payload)}).addCase(A1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hb.pending,e=>{e.requestOptionsLoading=!0,e.requestOptionsError=null}).addCase(hb.fulfilled,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptions=r.payload}).addCase(hb.rejected,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptionsError=r.payload})}}),{resetDisbursementVoucherState:q9e}=DU.actions,Gve=DU.reducer,Yve="https://staging-engine.testthelink.online",o$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],Kve=[{value:"Obligation Request",label:"Obligation Request"},{value:"FURS",label:"FURS"},{value:"Standalone Request",label:"Standalone Request"}];function Jve({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:y=[],budgetOptions:p=[],taxCodeFull:b=[],chartOfAccountsOptions:g=[]}){const v=de(),j=w.useRef(null),[C,x]=w.useState(!1),[N,S]=w.useState(null),[A,I]=w.useState(null),[T,E]=w.useState(null),[R,M]=w.useState(!1),[L,P]=w.useState([]),[_,q]=w.useState((t==null?void 0:t.modeOfPayment)||""),F=()=>ce().shape({payeeType:D().required("Payee type is required"),payeeId:D().required("Payee selection is required"),accountingEntries:T==="Standalone Request"?zt():zt().min(1,"At least one item is required"),modeOfPayment:D().required("Mode of Payment is required"),bank:_==="Check"?D().required("Bank is required"):D(),checkNumber:_==="Check"?D().required("Check Number is required"):D(),receivedPaymentBy:D().required("Received Payment By is required"),contraAccounts:zt().min(1,"At least one contra account is required").of(ce().shape({account:D().required("Account is required"),normalBalance:D().oneOf(["Debit","Credit"],"Normal balance must be Debit or Credit").required("Normal balance is required"),amount:X().min(0,"Amount must be positive").required("Amount is required")}))}),{requestOptions:O,requestOptionsLoading:V,requestOptionsError:W}=H(J=>J.disbursementVouchers),$=(J,oe)=>{const ee=J.reduce((Y,ue)=>Y+Number(ue.amount||0),0),re=oe.reduce((Y,ue)=>Y+Number(ue.amount||0),0),K=ee-re;return{grossAmount:ee,totalTaxes:re,netAmount:K}},B={description:"",amount:"",accountCode:""},Q={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||(t!=null&&t.VendorID?"Vendor":t!=null&&t.CustomerID?"Individual":t!=null&&t.EmployeeID?"Employee":""),payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||(t==null?void 0:t.VendorID)||(t==null?void 0:t.CustomerID)||(t==null?void 0:t.EmployeeID)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[B],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[],OBR_LinkID:(t==null?void 0:t.OBR_LinkID)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",bank:(t==null?void 0:t.bank)||"",checkNumber:(t==null?void 0:t.checkNumber)||"",receivedPaymentBy:(t==null?void 0:t.ReceivedPaymentBy)||""},fe=J=>{x(!0),$(J.items,J.taxes);const oe=new FormData;J.payeeType==="Employee"?(oe.append("EmployeeID",J.payeeId),oe.append("VendorID",""),oe.append("CustomerID","")):J.payeeType==="Vendor"?(oe.append("EmployeeID",""),oe.append("VendorID",J.payeeId),oe.append("CustomerID","")):J.payeeType==="Individual"&&(oe.append("EmployeeID",""),oe.append("VendorID",""),oe.append("CustomerID",J.payeeId)),oe.append("PayeeType",J.payeeType),(J==null?void 0:J.requestType)==="Standalone Request"?oe.append("IsStandaloneRequest",!0):oe.append("OBR_LinkID",J.OBR_LinkID||""),oe.append("Payee",(N==null?void 0:N.Name)||(N==null?void 0:N.FirstName)+" "+(N==null?void 0:N.MiddleName)+" "+(N==null?void 0:N.LastName)||""),oe.append("Address",(N==null?void 0:N.StreetAddress)||""),oe.append("InvoiceNumber",J.obrNo),oe.append("InvoiceDate",J.obrDate),oe.append("ResponsibilityCenter",J.responsibilityCenter);const ee=J.accountingEntries.reduce((ve,De)=>ve+Number(De.subtotal||0),0),re=J.accountingEntries.reduce((ve,De)=>ve+Number(De.ewt||0),0),K=J.accountingEntries.reduce((ve,De)=>ve+Number(De.withheld||0),0),Y=J.accountingEntries.reduce((ve,De)=>ve+Number(De.vat||0),0),ue=J.accountingEntries.reduce((ve,De)=>ve+Number(De.discount||0),0);oe.append("Total",ee.toFixed(2)),oe.append("EWT",re.toFixed(2)),oe.append("WithheldAmount",K.toFixed(2)),oe.append("Vat_Total",Y.toFixed(2)),oe.append("Discounts",ue.toFixed(2)),oe.append("FundsID",J.fund),oe.append("FiscalYearID",J.fiscalYear),oe.append("ProjectID",J.project),oe.append("TravelID",""),oe.append("Items",JSON.stringify(J.accountingEntries)),J.Attachments.forEach((ve,De)=>{ve.ID?oe.append(`Attachments[${De}].ID`,ve.ID):oe.append(`Attachments[${De}].File`,ve.File)}),oe.append("ModeOfPayment",J.modeOfPayment),oe.append("BankID",J.bank),oe.append("CheckNumber",J.checkNumber),oe.append("ReceivedPaymentBy",J.receivedPaymentBy),oe.append("ContraAccounts",JSON.stringify(J.contraAccounts.map(ve=>({ContraAccountID:parseInt(ve.account),NormalBalance:ve.normalBalance,Amount:parseFloat(ve.amount)})))),t?(oe.append("LinkID",t.LinkID),oe.append("IsNew",!1)):oe.append("IsNew",!0);const me=pb(oe);v(me).unwrap().then(()=>{ie.success("Success"),e(),v(Ec())}).catch(ve=>{ie.error((ve==null?void 0:ve.message)||"Failed to submit")}).finally(()=>{x(!1)})},ae=({type:J})=>{switch(J){case"Employee":return o.jsx(FP,{className:"w-5 h-5"});case"Vendor":return o.jsx(UT,{className:"w-5 h-5"});case"Individual":return o.jsx(uj,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(qe,{innerRef:j,initialValues:Q,validationSchema:F(),onSubmit:fe,enableReinitialize:!0,children:({values:J,errors:oe,touched:ee,handleChange:re,handleBlur:K,setFieldValue:Y,setFieldError:ue,setFieldTouched:me,isValid:ve})=>{$(J.items,J.taxes);const _e=o$.map(te=>({value:te.value,label:te.label})).find(te=>te.value===J.payeeType),yt=te=>{S(null),Y("payeeType",te),Y("payeeName",""),Y("payeeId",""),Y("payeeAddress",""),Y("officeUnitProject",""),Y("orsNumber","")},Tt=async te=>{if(I(null),Y("requestType",te),console.log("Selected Request Type:",te),E(te),te==="Standalone Request"){Y("accountingEntries",[],!1),M(!0);return}J.payeeType&&J.payeeId&&te&&v(hb({requestType:te,payeeType:J.payeeType,payeeId:J.payeeId}))},vn=te=>{var ke,Me;I(te);const be=(((ke=te==null?void 0:te.raw)==null?void 0:ke.TransactionItemsAll)||[]).map(He=>{var ci,Xs,ui,Wu,lE,cE,uE;const Dr={Price:He.Price??0,Quantity:He.Quantity??1,DiscountRate:He.DiscountRate??0,Vatable:He.Vatable,withheldEWT:He.EWTRate??0},Js=o0({price:Dr.Price,quantity:Dr.Quantity,taxRate:He.TaxRate||0,discountPercent:Dr.DiscountRate,vatable:Dr.Vatable,ewtRate:Dr.withheldEWT});return{...He,...Js,itemName:((ci=He.Item)==null?void 0:ci.Name)||"",subtotal:He.AmountDue||0,Remarks:He.Remarks||"",FPP:He.FPP||"",accountCode:((ui=(Xs=He.ChargeAccount)==null?void 0:Xs.ChartofAccounts)==null?void 0:ui.AccountCode)||"",accountName:((lE=(Wu=He.ChargeAccount)==null?void 0:Wu.ChartofAccounts)==null?void 0:lE.Name)||"",fundCode:((uE=(cE=te==null?void 0:te.raw)==null?void 0:cE.sourceFunds)==null?void 0:uE.Code)||""}});j.current&&(j.current.setFieldValue("accountingEntries",be),j.current.setFieldValue("OBR_LinkID",((Me=te==null?void 0:te.raw)==null?void 0:Me.LinkID)||""))},Zr=te=>{let ge=null;switch(J.payeeType){case"Employee":ge=s.find(be=>be.ID===te);break;case"Vendor":ge=i.find(be=>be.ID===te);break;case"Individual":ge=l.find(be=>be.ID===te);break}S(ge),Y("payeeName",ge==null?void 0:ge.Name),Y("payeeId",ge==null?void 0:ge.ID)},Z=te=>{switch(te){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}},je=te=>{q(te.target.value),re(te),te.target.value==="Cash"&&(Y("bank",""),Y("checkNumber",""))};return console.log("values",oe),o.jsxs(We,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:o$.map(te=>o.jsxs("button",{type:"button",onClick:()=>yt(te.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${J.payeeType===te.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(ae,{type:te.value}),o.jsx("span",{className:"ml-3 font-medium",children:te.label})]},te.value))}),oe.payeeType&&ee.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:oe.payeeType})]}),J.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",_e==null?void 0:_e.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:Z(J.payeeType),onChange:te=>Zr(te.value),value:Z(J.payeeType).find(te=>te.value===J.payeeId)||null,className:"react-select-container",classNamePrefix:"react-select"}),oe.payeeType&&ee.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:oe.payeeType})]}),N&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(_e==null?void 0:_e.label)==="Employee"?`${N.FirstName||""} ${N.MiddleName||""} ${N.LastName||""}`.trim():((_e==null?void 0:_e.label)==="Vendor"||(_e==null?void 0:_e.label)==="Individual",N.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((_e==null?void 0:_e.label)==="Employee"||(_e==null?void 0:_e.label)==="Vendor"||(_e==null?void 0:_e.label)==="Individual",N.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request for Payment"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Request Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:Kve.map(te=>o.jsx("button",{type:"button",onClick:()=>Tt(te.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${J.requestType===te.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:o.jsx("span",{className:"ml-3 font-medium",children:te.label})},te.value))}),oe.requestType&&ee.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:oe.requestType})]}),J.requestType!=="Standalone Request"&&o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Request ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:O.map(te=>{var be,ke,Me,He,Dr,Js,ci,Xs,ui,Wu;let ge="";return J.payeeType==="Employee"?ge=`${((be=te.Employee)==null?void 0:be.FirstName)||""} ${((ke=te.Employee)==null?void 0:ke.MiddleName)||""} ${((Me=te.Employee)==null?void 0:Me.LastName)||""}`.trim():J.payeeType==="Individual"?!((He=te.Employee)!=null&&He.FirstName)&&!((Dr=te.Employee)!=null&&Dr.MiddleName)&&!((Js=te.Employee)!=null&&Js.LastName)?ge=te.Name||"N/A":ge=`${((ci=te.Employee)==null?void 0:ci.FirstName)||""} ${((Xs=te.Employee)==null?void 0:Xs.MiddleName)||""} ${((ui=te.Employee)==null?void 0:ui.LastName)||""}`.trim():J.payeeType==="Vendor"&&(ge=te.Name||"N/A"),{value:te.ID,label:`${te.InvoiceNumber||""}  ${ge}  ${te.TIN||""}  ${te.InvoiceDate}  ${((Wu=te.sourceFunds)==null?void 0:Wu.Code)||""}`,raw:te}}),isLoading:V,value:A,onChange:vn,placeholder:V?"Loading":W?`Error: ${W}`:"Select request",className:"react-select-container",classNamePrefix:"react-select"}),oe.requestType&&ee.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:oe.requestType+"request error"})]})]})]}),o.jsx(Gr,{name:"accountingEntries",children:({push:te,remove:ge})=>o.jsxs(o.Fragment,{children:[J.requestType==="Standalone Request"&&o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Stand Alone Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>M(!0),children:"+ Item"})]}),J.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("hr",{}),o.jsxs("div",{className:"hidden md:grid grid-cols-7 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"AMOUNT"}),o.jsx("span",{children:"AMOUNT DUE"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"ACCOUNT"}),o.jsx("span",{children:"ACCOUNT CODE"})]}),J.accountingEntries.map((be,ke)=>o.jsxs("div",{className:"border p-3 rounded text-sm flex flex-col gap-2 md:grid md:grid-cols-7 md:items-center md:gap-2",children:[o.jsxs("div",{className:"flex flex-col gap-1 md:hidden",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"ITEM:"}),o.jsx("span",{children:be.itemName})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"AMOUNT:"}),o.jsx("span",{children:parseFloat(be.subtotal).toFixed(2)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"AMOUNT DUE:"}),o.jsx("span",{children:parseFloat(be.subtotal).toFixed(2)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"REMARKS:"}),o.jsx("span",{children:be.Remarks})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"ACCOUNT:"}),o.jsx("span",{children:be.chargeAccountName})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"ACCOUNT CODE:"}),o.jsx("span",{children:be.ChargeAccountID})]})]}),o.jsx("span",{className:"hidden md:block",children:be.itemName}),o.jsx("span",{className:"hidden md:block",children:parseFloat(be.subtotal).toFixed(2)}),o.jsx("span",{className:"hidden md:block",children:parseFloat(be.subtotal).toFixed(2)}),o.jsx("span",{className:"hidden md:block",children:be.Remarks}),o.jsx("span",{className:"hidden md:block",children:be.FPP}),o.jsx("span",{className:"hidden md:block",children:be.chargeAccountName}),o.jsx("span",{className:"hidden md:block",children:be.ChargeAccountID}),o.jsx("div",{className:"flex justify-end md:col-span-8",children:o.jsx("button",{type:"button",onClick:()=>ge(ke),className:"text-red-600 hover:text-red-800 text-xs flex items-center gap-1",children:o.jsx(Qt,{size:16})})})]},ke)),o.jsxs("div",{className:"md:grid md:grid-cols-8 md:gap-2 font-semibold pt-2 border-t text-sm",children:[o.jsx("div",{className:"md:col-span-7 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:J.accountingEntries.reduce((be,ke)=>be+Number(ke.subtotal||0),0).toFixed(2)})]}),o.jsx("div",{className:"pt-2 border-t text-sm font-semibold text-right",children:bs(J.accountingEntries.reduce((be,ke)=>be+Number(ke.subtotal||0),0).toFixed(2))})]}),o.jsx(le,{isOpen:R,onClose:()=>M(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(TU,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:y,budgetOptions:p,taxCodeFull:b,onClose:()=>M(!1),onSubmit:be=>{te(be),M(!1)}})})]})}),oe.accountingEntries&&J.requestType!=="Standalone Request"&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:oe.accountingEntries}),(()=>{const te={};J.accountingEntries.forEach(be=>{console.log("entry",be);const ke=be.TaxName||"N/A",Me=be.TaxRate||0,He=Number(be.withheld||0),Dr=`${ke}-${Me}`;te[Dr]||(te[Dr]={taxName:ke,taxRate:Me,withheld:0}),te[Dr].withheld+=He});const ge=Object.values(te);return ge.length?o.jsxs("div",{className:"space-y-2",children:[o.jsx("hr",{}),o.jsx("h3",{className:"text-lg font-medium",children:"Taxes"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm font-semibold",children:[o.jsx("span",{children:"Tax Name"}),o.jsx("span",{className:"text-right",children:"TaxRate%"}),o.jsx("span",{className:"text-right",children:"TotalWithheld"})]}),ge.map(({taxName:be,taxRate:ke,withheld:Me},He)=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm border p-2 rounded",children:[o.jsx("span",{children:be}),o.jsx("span",{className:"text-right",children:parseFloat(ke).toFixed(2)}),o.jsx("span",{className:"text-right",children:Me.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]},He))]}):null})(),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Payment Details"}),o.jsx(Gr,{name:"contraAccounts",children:({push:te,remove:ge})=>{var be;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Contra Accounts"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>te({code:"",account:"",amount:"",normalBalance:""}),children:[o.jsx(Te,{className:"w-4 h-4 mr-1"}),"Add Contra Account"]})]}),((be=J.contraAccounts)==null?void 0:be.length)>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"hidden md:grid grid-cols-4 gap-2 font-semibold text-sm text-gray-700 bg-gray-50 p-2 rounded",children:[o.jsx("span",{children:"Account"}),o.jsx("span",{children:"Normal Balance"}),o.jsx("span",{children:"Amount"}),o.jsx("span",{children:"Actions"})]}),J.contraAccounts.map((ke,Me)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 space-y-3 md:space-y-0 md:grid md:grid-cols-4 md:gap-2 md:items-center",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 md:hidden",children:"Account"}),o.jsx(Hr,{name:`contraAccounts[${Me}].account`,options:g,onChange:He=>{Y(`contraAccounts[${Me}].account`,(He==null?void 0:He.value)||""),Y(`contraAccounts[${Me}].code`,(He==null?void 0:He.code)||"")},value:g.find(He=>He.value===ke.account)||null,className:"basic-single",classNamePrefix:"select",placeholder:"Select account..."}),o.jsx(GN,{name:`contraAccounts[${Me}].account`,component:"p",className:"text-xs text-red-600 mt-1"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 md:hidden",children:"Normal Balance"}),o.jsxs("select",{name:`contraAccounts[${Me}].normalBalance`,value:ke.normalBalance,onChange:re,onBlur:K,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select balance type"}),o.jsx("option",{value:"Debit",children:"Debit"}),o.jsx("option",{value:"Credit",children:"Credit"})]}),o.jsx(GN,{name:`contraAccounts[${Me}].normalBalance`,component:"p",className:"text-xs text-red-600 mt-1"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 md:hidden",children:"Amount"}),o.jsx("input",{type:"number",name:`contraAccounts[${Me}].amount`,value:ke.amount,onChange:re,onBlur:K,placeholder:"0.00",step:"0.01",min:"0",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx(GN,{name:`contraAccounts[${Me}].amount`,component:"p",className:"text-xs text-red-600 mt-1"})]}),o.jsx("div",{className:"flex justify-end md:justify-center",children:o.jsx("button",{type:"button",onClick:()=>ge(Me),className:"text-red-600 cursor-pointer hover:text-red-900 p-1 rounded",disabled:J.contraAccounts.length===1,children:o.jsx(Be,{className:"w-4 h-4"})})})]},Me)),o.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[o.jsx("span",{children:"Total Contra Accounts:"}),o.jsx("span",{children:J.contraAccounts.reduce((ke,Me)=>ke+Number(Me.amount||0),0).toFixed(2)})]})})]}),oe.contraAccounts&&ee.contraAccounts&&o.jsx("p",{className:"text-sm text-red-600",children:typeof oe.contraAccounts=="string"?oe.contraAccounts:"Please check contra account entries"})]})}}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsx("div",{children:o.jsx(k,{type:"select",label:"Mode of Payment",name:"modeOfPayment",options:[{value:"Cash",label:"Cash"},{value:"Check",label:"Check"},{value:"Others",label:"Others"}],value:J.modeOfPayment,onChange:je,onBlur:K,error:oe.modeOfPayment,touched:ee.modeOfPayment,required:!0})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_==="Check"&&o.jsxs(o.Fragment,{children:[o.jsx(k,{type:"text",label:"Bank",name:"bank",value:J.bank,onChange:re,onBlur:K,error:oe.bank,touched:ee.bank,required:_==="Check"}),o.jsx(k,{type:"text",label:"Check No.",name:"checkNumber",value:J.checkNumber,onChange:re,onBlur:K,error:oe.checkNumber,touched:ee.checkNumber,required:_==="Check"})]}),o.jsx(k,{type:"text",label:"Received Payment By",name:"receivedPaymentBy",value:J.receivedPaymentBy,onChange:re,onBlur:K,error:oe.receivedPaymentBy,touched:ee.receivedPaymentBy,required:!0})]})]}),o.jsx("hr",{}),o.jsx(Gr,{name:"Attachments",render:({remove:te,push:ge})=>{var be;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>ge({File:null}),children:"+ Attachment"})]}),(be=J.Attachments)==null?void 0:be.map((ke,Me)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[ke.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${Yve}/uploads/${ke.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:ke.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Me}].ID`,value:ke.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Me+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Me}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:He=>Y(`Attachments[${Me}].File`,He.currentTarget.files[0]),onBlur:K,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(At,{type:"button",onClick:()=>te(Me),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Qt,{className:"w-4 h-4"})})]},Me))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})}function Xve(){const t=de(),{disbursementVouchers:e,isLoading:r}=H(L=>L.disbursementVouchers),{Add:n,Edit:a,Delete:s}=Ce(40),{employees:i}=H(L=>L.employees),{customers:l}=H(L=>L.customers),{vendorDetails:c}=H(L=>L.vendorDetails),{departments:u}=H(L=>L.departments),{projectDetails:d}=H(L=>L.projectDetails),{funds:f}=H(L=>L.funds),{fiscalYears:m}=H(L=>L.fiscalYears),{items:h}=H(L=>L.items),{taxCodes:y}=H(L=>L.taxCodes),{itemUnits:p}=H(L=>L.itemUnits),{budgets:b}=H(L=>L.budget),g=H(L=>{var P;return((P=L.chartOfAccounts)==null?void 0:P.accounts)||[]}),[v,j]=w.useState("list"),[C,x]=w.useState(null),[N,S]=w.useState(!1);w.useEffect(()=>{t(Ec()),t(dn()),t(mn()),t(Va()),t(cr()),t(za()),t(er()),t(fn()),t(Ua()),t(Zn()),t(va()),t(Mo()),t(Pr())},[t]);const A=()=>{x(null),j("form")},I=L=>{x(L),j("form")},T=()=>{j("list"),x(null)},E=[{key:"Status",header:"Status",sortable:!0,render:L=>t2(L)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:L=>new Date(L).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"BillingDueDate",header:"Billing Due Date ",sortable:!0},{key:"ObligationRequestNumber",header:"CAFOA Number",sortable:!0}],R=L=>{console.log("Edit OR",L),x(L),j("form")},M=async(L,P)=>{S(!0);try{const _=await Fe.post(`/disbursementVoucher/${P}`,{ID:L.ID});console.log(`${P}d:`,_.data),t(Ec()),z.success(`Disbursement Voucher ${P}d successfully`)}catch(_){console.error(`Error ${P}ing disbursement voucher:`,_),z.error(`Error ${P}ing disbursement voucher`)}finally{S(!1)}};return o.jsxs("div",{children:[v==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Vouchers"}),o.jsx("p",{children:"Manage disbursement vouchers"})]}),n&&o.jsxs("button",{type:"button",onClick:A,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create DV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:E,data:e,actions:L=>{const P=[];return L.Status.toLowerCase().includes("rejected")&&a?P.push({icon:Pe,title:"Edit",onClick:()=>R(L),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}):L.Status==="Requested"&&P.push({icon:bn,title:"Approve",onClick:()=>M(L,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>M(L,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),P},loading:r||N})})]}),v==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:T,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(Ja,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:C?"Edit Disbursement Voucher":"Create Disbursement Voucher"}),o.jsxs("p",{children:["Fill out the form to"," ",C?"update":"create"," a disbursement voucher"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(Jve,{initialData:C,employeeOptions:i.map(L=>({value:L.ID,label:L.FirstName+" "+L.MiddleName+" "+L.LastName})),vendorOptions:c.map(L=>({value:L.ID,label:L.Name})),individualOptions:l.map(L=>({value:L.ID,label:L.Name||`${L.FirstName} ${L.MiddleName} ${L.LastName}`})),chartOfAccountsOptions:(g||[]).map(L=>({value:L.ID,label:L.AccountCode+" - "+L.Name})),employeeData:i,vendorData:c,individualData:l,departmentOptions:u.map(L=>({value:L.ID,label:L.Name})),fundOptions:f.map(L=>({value:L.ID,label:L.Name})),projectOptions:d.map(L=>({value:L.ID,label:L.Title})),fiscalYearOptions:m.map(L=>({value:L.ID,label:L.Name})),particularsOptions:h.map(L=>({value:L.ID,label:L.Name})),unitOptions:p.map(L=>({value:L.ID,label:L.Name})),taxCodeOptions:y.map(L=>({value:L.ID,label:L.Name})),budgetOptions:b.map(L=>({value:L.ID,label:L.Name})),taxCodeFull:y,onCancel:T,onSubmitSuccess:T,onClose:T})})]}),v==="details"&&C&&o.jsx("div",{children:o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:T,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(Ja,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Voucher Details"}),o.jsx("p",{children:"View and manage disbursement voucher details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>I(C),className:"btn btn-primary flex items-center",children:[o.jsx(Pe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit DV"]})]})})})]})}const Qve="https://staging-engine.testthelink.online";function Zve({initialData:t,onSubmit:e,onClose:r,officeOptions:n,employeeOptions:a}){const{departments:s}=H(g=>g.departments),{employees:i}=H(g=>g.employees),{budgets:l}=H(g=>g.budget);console.log("Budgets:",l);const c=de();w.useEffect(()=>{c(cr()),c(dn()),c(Mo())},[c]);const u=ce({BudgetID:D().required("Office is required"),DateStart:Ue().required("Start Date is required"),DateEnd:Ue().required("End Date is required").min(xl("DateStart"),"End Date must be after Start Date"),Place:D().required("Place/Office to be visited is required"),Venue:D().required("Venue/Destination is required"),Remarks:D(),Purpose:D().required("Purpose of Travel is required"),Travelers:zt().of(ce({TravelerID:D().required("Employee is required")})).min(1,"At least one traveler is required"),TravelPayments:zt().of(ce({Amount:X().required("Amount is required"),BudgetID:D().required("Budget of Fund is required"),Type:D().required("Type is required")})).min(1,"At least one expense is required"),TravelDocuments:zt().of(ce({Name:D().required("Document name is required")})).min(1,"At least one document is required")}),d=tt({initialValues:t||{BudgetID:"",DateStart:"",DateEnd:"",Place:"",Venue:"",Remarks:"",Purpose:"",Plane:!1,Vessels:!1,PUV:!1,ServiceVehicle:!1,RentedVehicle:!1,Travelers:[{TravelerID:""}],TravelPayments:[{Amount:"",BudgetID:"",Type:""}],TravelDocuments:[{Name:""}],Attachments:[]},validationSchema:u,onSubmit:async(g,v)=>{const j=new FormData;for(const C in g)C==="Attachments"?g.Attachments.forEach((x,N)=>{x.ID?j.append(`Attachments[${N}].ID`,x.ID):j.append(`Attachments[${N}].File`,x.File)}):j.append(C,JSON.stringify(g[C]));try{await e(j)}catch(C){console.error(C)}finally{v(!1)}}}),{values:f,handleChange:m,handleBlur:h,errors:y,touched:p,isSubmitting:b}=d;return o.jsx(gP,{value:d,children:o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-4",children:[o.jsx(k,{type:"select",label:"Office",name:"BudgetID",options:s.map(g=>({value:g.ID,label:g.Name})),value:f.BudgetID,onChange:m,onBlur:h,error:y.BudgetID,touched:p.BudgetID,required:!0}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(k,{label:"Start Date",name:"DateStart",type:"date",value:f.DateStart,onChange:m,onBlur:h,error:y.DateStart,touched:p.DateStart,required:!0}),o.jsx(k,{label:"End Date",name:"DateEnd",type:"date",value:f.DateEnd,onChange:m,onBlur:h,error:y.DateEnd,touched:p.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(k,{label:"Place/Office to be visited",name:"Place",type:"text",value:f.Place,onChange:m,onBlur:h,error:y.Place,touched:p.Place,required:!0}),o.jsx(k,{label:"Venue/Destination",name:"Venue",type:"text",value:f.Venue,onChange:m,onBlur:h,error:y.Venue,touched:p.Venue,required:!0})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(k,{type:"textarea",label:"Remarks",name:"Remarks",value:f.Remarks,onChange:m,onBlur:h,error:y.Remarks,touched:p.Remarks}),o.jsx(k,{type:"textarea",label:"Purpose of Travel",name:"Purpose",value:f.Purpose,onChange:m,onBlur:h,error:y.Purpose,touched:p.Purpose,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium block mb-2",children:"Means of Transportation"}),o.jsxs("div",{className:"grid grid-cols-1  sm:grid-cols-3 gap-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Plane",checked:f.Plane,onChange:m,onBlur:h}),o.jsx("span",{children:"Plane"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Vessels",checked:f.Vessels,onChange:m,onBlur:h}),o.jsx("span",{children:"Ship/Boat"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"PUV",checked:f.PUV,onChange:m,onBlur:h}),o.jsx("span",{children:"PUV"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"ServiceVehicle",checked:f.ServiceVehicle,onChange:m,onBlur:h}),o.jsx("span",{children:"LGU Service Vehicle"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"RentedVehicle",checked:f.RentedVehicle,onChange:m,onBlur:h}),o.jsx("span",{children:"Vehicle for Rent"})]})]})]}),o.jsx("hr",{}),o.jsx(Gr,{name:"Travelers",render:({remove:g,push:v})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2 ",children:[o.jsx("label",{className:"font-medium",children:"Travelers"}),o.jsx(At,{type:"button",onClick:()=>v({TravelerID:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),f.Travelers.map((j,C)=>{var x,N,S,A;return o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[o.jsx(k,{type:"select",label:`Employee ${C+1}`,name:`Travelers[${C}].TravelerID`,options:i.map(I=>({value:I.ID,label:I.FirstName+" "+I.MiddleName+" "+I.LastName})),value:j.TravelerID,onChange:m,onBlur:h,error:(N=(x=y.Travelers)==null?void 0:x[C])==null?void 0:N.TravelerID,touched:(A=(S=p.Travelers)==null?void 0:S[C])==null?void 0:A.TravelerID,className:"w-full sm:min-w-[300px]",required:!0}),o.jsx(At,{type:"button",onClick:()=>g(C),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:f.Travelers.length===1,children:o.jsx(Qt,{className:"w-4 h-4"})})]},C)})]})}),o.jsx("hr",{}),o.jsx(Gr,{name:"TravelPayments",render:({remove:g,push:v})=>{var j;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Expenses"}),o.jsx(At,{type:"button",onClick:()=>v({Amount:"",BudgetID:"",Type:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(j=f.TravelPayments)==null?void 0:j.map((C,x)=>{var N,S,A,I,T,E,R,M,L,P,_,q;return o.jsxs("div",{className:"flex sm:flex-wrap max-sm:flex-col  sm:gap-4 w-full  !mb-4",children:[o.jsx(k,{type:"number",label:"Amount",name:`TravelPayments[${x}].Amount`,value:C.Amount,onChange:m,onBlur:h,error:(S=(N=y.TravelPayments)==null?void 0:N[x])==null?void 0:S.Amount,touched:(I=(A=p.TravelPayments)==null?void 0:A[x])==null?void 0:I.Amount,className:"w-full sm:max-w-[180px] ",required:!0}),o.jsx(k,{type:"select",label:"Source of Fund",name:`TravelPayments[${x}].BudgetID`,options:l.map(F=>({value:F.ID,label:F.Name})),value:C.BudgetID,onChange:m,onBlur:h,error:(E=(T=y.TravelPayments)==null?void 0:T[x])==null?void 0:E.BudgetID,touched:(M=(R=p.TravelPayments)==null?void 0:R[x])==null?void 0:M.BudgetID,className:"w-full sm:min-w-[200px] ",required:!0}),o.jsx(k,{type:"select",label:"Type",name:`TravelPayments[${x}].Type`,options:[{label:"One Time Payment",value:"1"},{label:"Per Day",value:"2"}],value:C.Type,onChange:m,onBlur:h,error:(P=(L=y.TravelPayments)==null?void 0:L[x])==null?void 0:P.Type,touched:(q=(_=p.TravelPayments)==null?void 0:_[x])==null?void 0:q.Type,className:"w-full sm:min-w-[100px] ",required:!0}),o.jsx(At,{type:"button",onClick:()=>g(x),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3 my-auto ml-auto",disabled:f.TravelPayments.length===1,children:o.jsx(Qt,{className:"w-4 h-4"})})]},x)}),o.jsxs("div",{className:"flex justify-end text-right mt-4",children:[o.jsx("label",{className:"font-semibold mr-2",children:"Total:"}),o.jsx("span",{className:"",children:(()=>{var A;const C=new Date(f.DateStart),x=new Date(f.DateEnd),N=f.DateStart&&f.DateEnd?Math.ceil((x-C)/(1e3*60*60*24))+1:1;return((A=f.TravelPayments)==null?void 0:A.reduce((I,T)=>{const E=parseFloat(T.Amount);return isNaN(E)?I:T.Type==="2"?I+E*N:I+E},0)).toFixed(2)})()})]})]})}}),o.jsx("hr",{}),o.jsx(Gr,{name:"TravelDocuments",render:({remove:g,push:v})=>{var j;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Documents Required"}),o.jsx(At,{type:"button",onClick:()=>v({Name:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(j=f.TravelDocuments)==null?void 0:j.map((C,x)=>{var N,S,A,I;return o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[o.jsx(k,{type:"text",label:`Document ${x+1}`,name:`TravelDocuments[${x}].Name`,value:C.Name,onChange:m,onBlur:h,error:(S=(N=y.TravelDocuments)==null?void 0:N[x])==null?void 0:S.Name,touched:(I=(A=p.TravelDocuments)==null?void 0:A[x])==null?void 0:I.Name,className:"w-full sm:min-w-[300px]",required:!0}),o.jsx(At,{type:"button",onClick:()=>g(x),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:f.TravelDocuments.length===1,children:o.jsx(Qt,{className:"w-4 h-4"})})]},x)})]})}}),o.jsx("hr",{}),o.jsx(Gr,{name:"Attachments",render:({remove:g,push:v})=>{var j;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(At,{type:"button",onClick:()=>v({File:null}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(j=f.Attachments)==null?void 0:j.map((C,x)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[C.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${Qve}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:C.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${x}].ID`,value:C.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${x+1}`}),o.jsx("input",{type:"file",name:`Attachments[${x}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:N=>d.setFieldValue(`Attachments[${x}].File`,N.currentTarget.files[0]),onBlur:h,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(At,{type:"button",onClick:()=>g(x),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",children:o.jsx(Qt,{className:"w-4 h-4"})})]},x))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":"Save"})]})]})})}const ew="https://staging-engine.testthelink.online",eje=[],gb=U("travelOrders/fetchTravelOrders",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ew}/travelOrder`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),yb=U("travelOrders/addTravelOrder",async(t,e)=>{try{const r=await fetch(`${ew}/travelOrder`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),mI=U("travelOrders/updateTravelOrder",async(t,e)=>{try{let r,n={method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:null};t instanceof FormData?(r=t.get("ID"),t.delete("ID"),n.body=t):(r=t.ID,n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t));const a=await fetch(`${ew}/travelOrder/${r}`,n),s=await a.json();if(!a.ok)throw new Error(s.error||s.message||"Failed to update");return s}catch(r){return e.rejectWithValue(r.message)}}),bb=U("travelOrders/deleteTravelOrder",async(t,e)=>{try{const r=await fetch(`${ew}/travelOrder/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),tje=we({name:"travelOrders",initialState:{travelOrders:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(gb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gb.fulfilled,(e,r)=>{e.isLoading=!1,e.travelOrders=Array.isArray(r.payload)?r.payload:[]}).addCase(gb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch travel orders",console.warn("Failed to fetch travel orders, using mock data.",e.error),e.travelOrders=eje}).addCase(yb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders.push(r.payload)}).addCase(yb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add travel order",console.error("Failed to add travel order:",e.error)}).addCase(mI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.travelOrders.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders[n]=r.payload)}).addCase(bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders=e.travelOrders.filter(n=>n.ID!==r.payload)}).addCase(bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete travel order",console.error("Failed to delete travel order:",e.error)})}}),rje=tje.reducer;function nje(){const t=de(),{travelOrders:e,isLoading:r}=H(P=>P.travelOrders),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),{Add:h,Edit:y,Delete:p}=Ce(80);w.useEffect(()=>{t(gb())},[t]);const b=async P=>{try{u?await t(mI({...P,ID:u.ID})).unwrap():await t(yb(P)).unwrap(),i(!1),d(null),ie.success("Success")}catch(_){throw ie.error(_||"Failed"),_}},g=()=>{d(null),i(!0)},v=P=>{d(P),c(!0)},j=P=>{d(P),i(!0)},C=P=>{d(P),a(!0)},x=async()=>{if(u)try{await t(bb(u.ID)).unwrap(),ie.success("Deleted")}catch(P){console.error("Failed to delete travel order:",P),ie.error("Failed to delete travel order")}finally{a(!1),d(null)}},N=()=>{i(!1),d(null)},S=()=>{c(!1),d(null)},A=P=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(P),I=P=>new Date(P).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),T=[{key:"TransactionStatus",header:"Status",sortable:!0,render:P=>{let _="bg-neutral-100 text-neutral-800";switch(P){case"Requested":_="bg-warning-100 text-warning-800";break;case"Approval Progress":_="bg-primary-100 text-primary-800";break;case"Rejected":_="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_}`,children:P})}},{key:"BudgetDepartmentName",header:"Office",sortable:!0},{key:"DateCreated",header:"Date of Filing",sortable:!0},{key:"InvoiceNumber",header:"Travel Order No.",sortable:!0},{key:"No_of_Days",header:"No. of Days",sortable:!0}],E=P=>{v(P)},R=({travelOrder:P,onClose:_,onEdit:q})=>{const F=()=>{const W=[];return P.Plane&&W.push("Airplane"),P.PUV&&W.push("Public Utility Vehicle"),P.ServiceVehicle&&W.push("Service Vehicle"),P.RentedVehicle&&W.push("Rented Vehicle"),P.Vessels&&W.push("Vessel"),W.length>0?W.join(", "):"Not specified"},O=()=>{var W;return((W=P.TravelPayments)==null?void 0:W.reduce(($,B)=>$+parseFloat(B.Amount||0),0))||0},V=W=>{switch(W){case"Requested":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Approval Progress":return"bg-blue-100 text-blue-800 border-blue-200";case"Approved":return"bg-green-100 text-green-800 border-green-200";case"Rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return o.jsxs("div",{className:"max-h-[80vh] overflow-y-auto",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 p-6 rounded-lg mb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:P.InvoiceNumber}),o.jsx("p",{className:"text-primary-700 mt-1",children:"Travel Order Details"})]}),o.jsxs("div",{className:"flex flex-col sm:items-end gap-2",children:[o.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold border ${V(P.TransactionStatus)}`,children:P.TransactionStatus}),o.jsxs("p",{className:"text-sm text-primary-600",children:["Filed on ",I(P.DateCreated)]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[o.jsx(YJ,{className:"w-5 h-5 mr-2 text-primary-600"}),"Travel Information"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Destination"}),o.jsx("p",{className:"text-gray-900 mt-1",children:P.Place||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Venue"}),o.jsx("p",{className:"text-gray-900 mt-1",children:P.Venue||"Not specified"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),o.jsx("p",{className:"text-gray-900 mt-1",children:I(P.DateStart)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"End Date"}),o.jsx("p",{className:"text-gray-900 mt-1",children:I(P.DateEnd)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Duration"}),o.jsxs("p",{className:"text-gray-900 mt-1",children:[P.No_of_Days," days"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Inclusive Dates"}),o.jsx("p",{className:"text-gray-900 mt-1",children:P.InclusivesDate||"Not specified"})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[o.jsx(Ox,{className:"w-5 h-5 mr-2 text-primary-600"}),"Purpose & Details"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Purpose"}),o.jsx("p",{className:"text-gray-900 mt-1",children:P.Purpose||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Office/Department"}),o.jsx("p",{className:"text-gray-900 mt-1",children:P.BudgetDepartmentName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Transportation"}),o.jsx("p",{className:"text-gray-900 mt-1",children:F()})]}),P.Remarks&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Remarks"}),o.jsx("p",{className:"text-gray-900 mt-1",children:P.Remarks})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[o.jsx(b3,{className:"w-5 h-5 mr-2 text-primary-600"}),"Financial Information"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-primary-50 p-4 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-primary-700 font-medium",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-primary-900",children:A(O())})]})}),P.TravelPayments&&P.TravelPayments.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500 mb-2 block",children:"Payment Breakdown"}),o.jsx("div",{className:"space-y-2",children:P.TravelPayments.map((W,$)=>o.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded",children:[o.jsx("span",{className:"text-gray-700",children:W.Type?"Advance":"Reimbursement"}),o.jsx("span",{className:"font-semibold text-gray-900",children:A(W.Amount)})]},$))})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[o.jsx(VD,{className:"w-5 h-5 mr-2 text-primary-600"}),"Travelers"]}),o.jsx("div",{className:"space-y-3",children:P.Travelers&&P.Travelers.length>0?P.Travelers.map((W,$)=>o.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:o.jsx(VD,{className:"w-4 h-4 text-primary-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-gray-900",children:["Traveler ID: ",W.TravelerID]}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Link ID: ",W.LinkID]})]})]},$)):o.jsx("p",{className:"text-gray-500 italic",children:"No travelers specified"})})]})]}),(P.TravelDocuments&&P.TravelDocuments.length>0||P.Attachments&&P.Attachments.length>0)&&o.jsxs("div",{className:"mt-6 bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[o.jsx(qD,{className:"w-5 h-5 mr-2 text-primary-600"}),"Documents & Attachments"]}),P.TravelDocuments&&P.TravelDocuments.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"text-sm font-medium text-gray-500 mb-2 block",children:"Travel Documents"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:P.TravelDocuments.map((W,$)=>o.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[o.jsx(Ox,{className:"w-5 h-5 text-gray-400 mr-3"}),o.jsx("span",{className:"text-gray-900 truncate",children:W.Name})]},$))})]}),P.Attachments&&P.Attachments.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500 mb-2 block",children:"Attachments"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:P.Attachments.map((W,$)=>o.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[o.jsx(qD,{className:"w-5 h-5 text-gray-400 mr-3"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-gray-900 truncate",children:W.DataName}),o.jsx("p",{className:"text-xs text-gray-500",children:W.DataType})]})]},$))})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:_,className:"btn btn-outline",children:"Close"}),y&&P.TransactionStatus==="Rejected"&&o.jsxs("button",{type:"button",onClick:q,className:"btn btn-primary",children:[o.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Edit Travel Order"]})]})]})},M=async(P,_)=>{m(!0);try{console.log(`${_}d:`,response.data),ie.success(`Travel Order ${_}d successfully`)}catch(q){console.error(`Error ${_}ing Travel Order:`,q),ie.error(`Error ${_}ing Travel Order`)}finally{m(!1)}},L=P=>{var q,F;const _=[];return(q=P==null?void 0:P.TransactionStatus)!=null&&q.toLowerCase().includes("rejected")&&y?(_.push({icon:Pe,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),_.push({icon:Be,title:"Delete",onClick:()=>C(P),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(F=P==null?void 0:P.TransactionStatus)!=null&&F.toLowerCase().includes("requested")&&_.push({icon:bn,title:"Approve",onClick:()=>M(P,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>M(P,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),_.push({icon:Zo,title:"View",onClick:E,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),_};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Travel Orders"}),o.jsx("p",{children:"Manage travel orders and authorizations"})]}),h&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create Travel Order"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:T,data:e,actions:L,loading:r||f})}),o.jsx(le,{isOpen:s,onClose:N,title:u?"Edit Travel Order":"Create Travel Order",size:"xl",children:o.jsx(Zve,{initialData:u,onSubmit:b,onClose:N})}),o.jsx(le,{isOpen:l,onClose:S,title:"Travel Order Details",size:"2xl",children:u&&o.jsx(R,{travelOrder:u,onClose:S,onEdit:()=>{c(!1),i(!0)}})}),o.jsxs(le,{isOpen:n,onClose:()=>a(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the travel order "',u==null?void 0:u.InvoiceNumber,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const aje="https://staging-engine.testthelink.online";function sje({initialData:t,onSubmit:e,onClose:r,typeOptions:n,fundOptions:a,centerOptions:s,accountOptions:i}){const[l,c]=w.useState(""),[u,d]=w.useState((t==null?void 0:t.JEVType)||""),f=ce({JEVType:D().required("Type is required"),FundsID:D().required("Fund is required"),InvoiceDate:Ue().required("Date is required"),SAI_No:D(),Remarks:D().required("Particulars are required"),ObligationRequestNumber:D(),CheckNumber:D(),CheckDate:Ue(),AccountingEntries:zt().of(ce({ResponsibilityCenter:D().required("Required"),AccountExplanation:D().required("Required"),Debit:X().nullable().typeError("Must be a number").required("Debit is required"),Credit:X().nullable().typeError("Must be a number").required("Credit is required")})).min(1,"At least one entry is required")}),m=tt({initialValues:t||{JEVType:"",FundsID:"",InvoiceDate:"",SAI_No:"",Remarks:"",Payee:"",ObligationRequestNumber:"",CheckNumber:"",CheckDate:"",AccountingEntries:[{ResponsibilityCenter:"",AccountExplanation:"",Debit:0,Credit:0}],Attachments:[]},validationSchema:f,onSubmit:async(j,C)=>{const x=j.AccountingEntries.reduce((A,I)=>A+(parseFloat(I.Debit)||0),0),N=j.AccountingEntries.reduce((A,I)=>A+(parseFloat(I.Credit)||0),0);if(console.log(j),x!==N){c("Total Debit must be equal to Total Credit.");return}else c("");const S=new FormData;for(const A in j)A==="Attachments"?j.Attachments.forEach((I,T)=>{I.ID?S.append(`Attachments[${T}].ID`,I.ID):S.append(`Attachments[${T}].File`,I.File)}):A!=="CheckDate"&&S.append(A,JSON.stringify(j[A]));S.append("CheckDate",JSON.stringify(j.CheckDate||j.InvoiceDate)),t&&S.append("LinkID",t.LinkID);try{await e(S)}catch(A){console.error(A)}finally{C(!1)}}}),h=j=>{d(j.target.value),m.handleChange(j)},{values:y,handleChange:p,handleBlur:b,errors:g,touched:v}=m;return o.jsx(gP,{value:m,children:o.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(k,{type:"select",label:"Type",name:"JEVType",options:n,value:y.JEVType,onChange:h,onBlur:b,error:g.JEVType,touched:v.JEVType,required:!0}),o.jsx(k,{type:"select",label:"Fund",name:"FundsID",options:a,value:y.FundsID,onChange:p,onBlur:b,error:g.FundsID,touched:v.FundsID,required:!0}),o.jsx(k,{type:"date",label:"Invoice Date",name:"InvoiceDate",value:y.InvoiceDate,onChange:p,onBlur:b,error:g.InvoiceDate,touched:v.InvoiceDate,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(k,{type:"text",label:"OBR No",name:"ObligationRequestNumber",value:y.ObligationRequestNumber,onChange:p,onBlur:b,error:g.ObligationRequestNumber,touched:v.ObligationRequestNumber}),o.jsx(k,{type:"text",label:"Remarks",name:"Remarks",value:y.Remarks,onChange:p,onBlur:b,error:g.Remarks,touched:v.Remarks,required:!0}),o.jsx(k,{type:"text",label:"Payee",name:"Payee",value:y.Payee,onChange:p,onBlur:b,error:g.Payee,touched:v.Payee})]}),u==="Check Disbursement"&&o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(k,{type:"text",label:"DV No",name:"SAI_No",value:y.SAI_No,onChange:p,onBlur:b,error:g.SAI_No,touched:v.SAI_No}),o.jsx(k,{type:"text",label:"Check No",name:"CheckNumber",value:y.CheckNumber,onChange:p,onBlur:b,error:g.CheckNumber,touched:v.CheckNumber}),o.jsx(k,{type:"date",label:"Check Date",name:"CheckDate",value:y.CheckDate,onChange:p,onBlur:b,error:g.CheckDate,touched:v.CheckDate})]}),o.jsx("hr",{}),o.jsx(Gr,{name:"AccountingEntries",render:({remove:j,push:C})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Accounting Entries"}),o.jsx(At,{type:"button",onClick:()=>C({ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),y.AccountingEntries.map((x,N)=>{var I,T,E,R,M,L,P,_,q,F,O,V,W,$;const S=parseFloat(x.Debit)>0,A=parseFloat(x.Credit)>0;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex max-sm:flex-col sm:flex-wrap gap-2 w-full",children:[o.jsx(k,{className:"flex-1 w-full sm:min-w-[200px]",type:"select",label:"Responsibility Center",name:`AccountingEntries[${N}].ResponsibilityCenter`,options:s,value:x.ResponsibilityCenter,onChange:p,onBlur:b,error:(T=(I=g.AccountingEntries)==null?void 0:I[N])==null?void 0:T.ResponsibilityCenter,touched:(R=(E=v.AccountingEntries)==null?void 0:E[N])==null?void 0:R.ResponsibilityCenter,required:!0}),o.jsxs("div",{className:"flex-1 sm:min-w-[200px]",children:[o.jsxs("label",{className:"form-label",children:["Accounts and Explanation"," ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Hr,{label:"Accounts and Explanation",options:i,className:"focus:!ring-none focus:!border-none focus:bg-red-600",placeholder:"Select an account...",isSearchable:!0,onChange:B=>m.setFieldValue(`AccountingEntries[${N}].AccountExplanation`,(B==null?void 0:B.value)||""),name:`AccountingEntries[${N}].AccountExplanation`,value:i.find(B=>B.value===x.AccountExplanation)||null,onBlur:b,required:!0}),((L=(M=g.AccountingEntries)==null?void 0:M[N])==null?void 0:L.AccountExplanation)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:g.AccountingEntries[N].AccountExplanation})]}),o.jsx(k,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Debit",name:`AccountingEntries[${N}].Debit`,value:x.Debit,onChange:B=>{B.target.value&&parseFloat(B.target.value)>0&&m.setFieldValue(`AccountingEntries[${N}].Credit`,0),p(B)},onBlur:b,error:(_=(P=g.AccountingEntries)==null?void 0:P[N])==null?void 0:_.Debit,touched:(F=(q=v.AccountingEntries)==null?void 0:q[N])==null?void 0:F.Debit,required:!A}),o.jsx(k,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Credit",name:`AccountingEntries[${N}].Credit`,value:x.Credit,onChange:B=>{B.target.value&&parseFloat(B.target.value)>0&&m.setFieldValue(`AccountingEntries[${N}].Debit`,0),p(B)},onBlur:b,error:(V=(O=g.AccountingEntries)==null?void 0:O[N])==null?void 0:V.Credit,touched:($=(W=v.AccountingEntries)==null?void 0:W[N])==null?void 0:$.Credit,required:!S})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(At,{type:"button",onClick:()=>j(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:y.AccountingEntries.length===1,children:o.jsx(Qt,{className:"w-4 h-4"})})})]},N)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-green-600 font-bold",children:[y.AccountingEntries.reduce((x,N)=>x+(parseFloat(N.Debit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(debit)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-red-600 font-bold",children:[y.AccountingEntries.reduce((x,N)=>x+(parseFloat(N.Credit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(credit)"})]})})]})]})}),o.jsx("hr",{}),o.jsx(Gr,{name:"Attachments",render:({remove:j,push:C})=>{var x;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"mb-2 mt-10",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(At,{type:"button",onClick:()=>C({File:null}),className:"btn btn-sm btn-primary ml-5",children:"+ Add"})]}),(x=y.Attachments)==null?void 0:x.map((N,S)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[N.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${aje}/uploads/${N.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:N.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${S}].ID`,value:N.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${S+1}`}),o.jsx("input",{type:"file",name:`Attachments[${S}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:A=>m.setFieldValue(`Attachments[${S}].File`,A.currentTarget.files[0]),onBlur:b,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(At,{type:"button",onClick:()=>j(S),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Qt,{className:"w-4 h-4"})})]},S))]})}}),l&&o.jsx("div",{className:"text-red-600 text-sm font-medium text-right",children:l}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(At,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(At,{type:"submit",className:"btn btn-primary",disabled:m.isSubmitting,children:m.isSubmitting?"Saving...":"Save"})]})]})})}const tw="https://staging-engine.testthelink.online",oje=[],Dc=U("journalEntries/fetchJournalEntries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tw}/journalEntryVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),xb=U("journalEntries/addJournalEntry",async(t,e)=>{try{const r=await fetch(`${tw}/journalentryvoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),hI=U("journalEntries/updateJournalEntry",async({journalEntry:t,id:e},r)=>{try{const n=await fetch(`${tw}/journalEntryVoucher/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to update");return a}catch(n){return r.rejectWithValue(n.message)}}),vb=U("journalEntries/deleteJournalEntry",async(t,e)=>{try{const r=await fetch(`${tw}/journalEntryVoucher/?LinkID=${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ije=we({name:"journalEntries",initialState:{journalEntries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Dc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dc.fulfilled,(e,r)=>{e.isLoading=!1,e.journalEntries=Array.isArray(r.payload)?r.payload:[]}).addCase(Dc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch journal entries",console.warn("Failed to fetch journal entries, using mock data.",e.error),e.journalEntries=oje}).addCase(xb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries.push(r.payload)}).addCase(xb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add journal entry",console.error("Failed to add journal entry:",e.error)}).addCase(hI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries[n]=r.payload)}).addCase(vb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries=e.journalEntries.filter(n=>n.ID!==r.payload)}).addCase(vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete journal entry",console.error("Failed to delete journal entry:",e.error)})}}),lje=ije.reducer;function cje(){var R;const{departments:t}=H(M=>M.departments),{accounts:e}=H(M=>M.chartOfAccounts),{Add:r,Edit:n,Delete:a}=Ce(57),s=[{label:"Cash Disbursement",value:"Cash Disbursement"},{label:"Check Disbursement",value:"Check Disbursement"},{label:"Collection",value:"Collection"},{label:"Others",value:"Others"}],i=[{label:"General Fund",value:"1"},{label:"Trust Fund",value:"2"},{label:"Special Education Fund",value:"3"}],l=de(),{journalEntries:c,isLoading:u}=H(M=>M.journalEntries),[d,f]=w.useState(!1),[m,h]=w.useState(null),[y,p]=w.useState(!1),[b,g]=w.useState(!1),[v,j]=w.useState(null);w.useEffect(()=>{l(Dc()),l(cr()),l(Pr())},[l]);const C=()=>{h(null),f(!0)},x=M=>{j(M),p(!0)},N=async()=>{if(v)try{await l(vb(v.LinkID)).unwrap(),ie.success("Deleted"),l(Dc())}catch(M){console.error("Failed to delete journal entry:",M),ie.error("Failed to delete journal entry")}finally{p(!1),j(null)}},S=async M=>{console.log({values:M});try{m?await l(hI({journalEntry:M,id:m.ID})).unwrap():await l(xb(M)).unwrap(),ie.success("Success"),l(Dc())}catch(L){throw ie.error(L||"Failed"),L}finally{f(!1),h(null)}},A=[{key:"Status",header:"Status",sortable:!0,render:M=>{let L="bg-neutral-100 text-neutral-800";switch(M){case"Requested":L="bg-warning-100 text-warning-800";break;case"Posted":L="bg-primary-100 text-primary-800";break;case"Rejected":L="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${L}`,children:M})}},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"InvoiceNumber",header:"Invoice No.",sortable:!0},{key:"JEVType",header:"Jev Type",sortable:!0},{key:"FundsName",header:"Fund",sortable:!0},{key:"ObligationRequestNumber",header:"OBR No.",sortable:!0},{key:"SAI_No",header:"DV No.",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"CheckDate",header:"Check Date",sortable:!0},{key:"Total",header:"Total",sortable:!0}],I=M=>{console.log(M)},T=async(M,L)=>{g(!0);try{console.log(`${L}d:`,response.data),ie.success(`Purchase Request ${L}d successfully`)}catch(P){console.error(`Error ${L}ing Purchase Request:`,P),ie.error(`Error ${L}ing Purchase Request`)}finally{g(!1)}},E=M=>{var P,_;const L=[];return(P=M==null?void 0:M.Status)!=null&&P.toLowerCase().includes("rejected")&&n?(L.push({icon:Pe,title:"Edit",onClick:handleEditRequest,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),L.push({icon:Be,title:"Delete",onClick:()=>x(M),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(_=M==null?void 0:M.Status)!=null&&_.toLowerCase().includes("requested")&&L.push({icon:bn,title:"Approve",onClick:()=>T(M,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>T(M,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),L.push({icon:Iu,title:"View",onClick:I,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),L};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Journal Entries Voucher "}),o.jsx("p",{children:"Manage your Journal Entry Vouchers"})]}),r&&o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add JEV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:A,data:c,actions:E,loading:u||b,emptyMessage:"No journal entries found. Click 'Add JEV' to create one."})}),o.jsx(le,{size:"xxxl",isOpen:d,onClose:()=>f(!1),title:m?"Edit Journal Entry Voucher":"Add Journal Entry Voucher",children:o.jsx(sje,{typeOptions:s,fundOptions:i,centerOptions:t.filter(M=>M.Active).map(M=>({label:M.Name,value:M.ID})),accountOptions:e.filter(M=>M.Active).map(M=>({label:M.AccountCode+" "+M.Name,value:M.ID})),initialData:m?{...m,AccountingEntries:((R=m.JournalEntries)==null?void 0:R.map(M=>{const L=e.find(P=>P.AccountCode===M.AccountCode&&P.Name===M.AccountName);return{ResponsibilityCenter:M.ResponsibilityCenter||"",AccountExplanation:(L==null?void 0:L.ID)||"",PR:M.PR||"",Debit:M.Debit||0,Credit:M.Credit||0}}))||[]}:null,onClose:()=>f(!1),onSubmit:S})}),o.jsxs(le,{isOpen:y,onClose:()=>p(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the journal entry "',v==null?void 0:v.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:N,className:"btn btn-danger",children:"Delete"})]})]})]})}function uje({chartOfAccounts:t=[],funds:e=[],disbursementTypes:r=[],onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=ce({DateStart:D().required("Start Date is required"),DateEnd:D().required("End Date is required"),ChartOfAccountID:D().required("Chart of Accounts is required"),FundID:D().required("Fund is required"),DisbursementType:D().required("Disbursement Type is required")}),c={DateStart:"",DateEnd:"",ChartOfAccountID:"",FundID:"",DisbursementType:""},u=(m,{setSubmitting:h})=>{const y=i.current;y==="view"?n(m):y==="generate"?a(m):y==="export"&&s(m),h(!1),i.current=null},d=[{value:"%",label:"All Funds"},...(e==null?void 0:e.map(m=>({value:m.ID,label:m.Name})))||[]],f=[{value:"%",label:"All Chart of Accounts"},...(t==null?void 0:t.map(m=>({value:m.ID,label:m.Name})))||[]];return o.jsx(qe,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:m,errors:h,touched:y,handleChange:p,handleBlur:b,isSubmitting:g})=>o.jsxs(We,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 sm:gap-4",children:[o.jsx(k,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:p,onBlur:b,error:h.DateStart,touched:y.DateStart,required:!0}),o.jsx(k,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:p,onBlur:b,error:h.DateEnd,touched:y.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(k,{type:"select",label:"Chart of Accounts",name:"ChartOfAccountID",options:f,value:m.ChartOfAccountID,onChange:p,onBlur:b,error:h.ChartOfAccountID,touched:y.ChartOfAccountID,required:!0}),o.jsx(k,{type:"select",label:"Fund",name:"FundID",options:d,value:m.FundID,onChange:p,onBlur:b,error:h.FundID,touched:y.FundID,required:!0}),o.jsx(k,{type:"select",label:"Disbursement Type",name:"DisbursementType",options:r.map(v=>({value:v.value,label:v.label})),value:m.DisbursementType,onChange:p,onBlur:b,error:h.DisbursementType,touched:y.DisbursementType,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:g,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const dje="https://staging-engine.testthelink.online",fje={disbursementJournals:[],isLoading:!1,error:null},jb=U("disbursementJournal/fetchJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dje}/disbursementJournals/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),I1=U("disbursementJournal/exportJournals",async t=>(console.log("Exporting journals with filters:",t),!0)),OU=we({name:"disbursementJournal",initialState:fje,reducers:{resetDisbursementJournalState:t=>{t.disbursementJournals=[],t.error=null}},extraReducers:t=>{t.addCase(jb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jb.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementJournals=r.payload}).addCase(jb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(I1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(I1.fulfilled,e=>{e.isLoading=!1}).addCase(I1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetDisbursementJournalState:mje}=OU.actions,hje=OU.reducer;function pje(){const t="https://staging-engine.testthelink.online",e=de(),{disbursementJournals:r,isLoading:n,error:a}=H(m=>m.disbursementJournal),s=H(m=>{var h;return((h=m.chartOfAccounts)==null?void 0:h.accounts)||[]}),{funds:i}=H(m=>m.funds),l=[{value:"Check",label:"Check"},{value:"Collection",label:"Collection"},{value:"Cash",label:"Cash"},{value:"General",label:"General"}];w.useEffect(()=>{e(mje()),e(Pr()),e(er())},[e]);const c=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),u=[{key:"Municipality",header:"Municipality",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"CheckNo",header:"Check No.",sortable:!0},{key:"VoucherNo",header:"Voucher No.",sortable:!0},{key:"JEVNo",header:"JEV No.",sortable:!0},{key:"Claimant",header:"Claimant",sortable:!0},{key:"Particulars",header:"Particulars",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"EndDate",header:"End Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()}],d=async m=>{console.log({values:m});try{const h=await fetch(`${t}/disbursementJournals/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({DisbursementType:m.DisbursementType,DateStart:m.DateStart,DateEnd:m.DateEnd,FundID:m.FundID,ChartOfAccountID:m.ChartOfAccountID})});if(console.log(h),!h.ok)throw new Error("Server response was not ok");const y=await h.blob(),p=h.headers.get("Content-Disposition");let b=`Disbursement_Journals_${m.DisbursementType}.xlsx`;p&&p.includes("filename=")&&(b=p.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(y),v=document.createElement("a");v.href=g,v.download=b,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(g)}catch(h){console.error("Export failed:",h),z.error(h.message||"Failed to export disbursement journal")}},f=m=>{console.log(m),e(jb(m))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Disbursement Journal"}),o.jsx("p",{children:"Generate disbursement journal reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(uje,{chartOfAccounts:s,funds:i,disbursementTypes:l,onExportExcel:d,onView:f,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(xe,{columns:u,data:r,loading:n,pagination:!0})})]})}function gje({funds:t=[],onView:e,onGenerateJournal:r,onExportExcel:n}){const a=w.useRef(null),s=ce({DateStart:D().required("Start Date is required"),DateEnd:D().required("End Date is required"),FundID:D().required("Fund is required")}),i={DateStart:"",DateEnd:"",FundID:""},l=(c,{setSubmitting:u})=>{const d=a.current;d==="view"?e(c):d==="generate"?r(c):d==="export"&&n(c),u(!1),a.current=null};return o.jsx(qe,{initialValues:i,validationSchema:s,onSubmit:l,validateOnMount:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isSubmitting:h})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(k,{label:"Start Date",name:"DateStart",type:"date",value:c.DateStart,onChange:f,onBlur:m,error:u.DateStart,touched:d.DateStart,required:!0}),o.jsx(k,{label:"End Date",name:"DateEnd",type:"date",value:c.DateEnd,onChange:f,onBlur:m,error:u.DateEnd,touched:d.DateEnd,required:!0}),o.jsx(k,{type:"select",label:"Fund",name:"FundID",options:t.map(y=>({value:y.ID,label:y.Name})),value:c.FundID,onChange:f,onBlur:m,error:u.FundID,touched:d.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,onClick:()=>a.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:h,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:h,onClick:()=>a.current="export",children:"Export to Excel"})]})]})})}const yje="https://staging-engine.testthelink.online",bje={generalJournals:[],isLoading:!1,error:null},wb=U("generalJournal/fetchGeneralJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yje}/generalJournal/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general journals:",r),e.rejectWithValue(r.message)}}),k1=U("generalJournal/exportGeneralJournals",async t=>!0),_U=we({name:"generalJournal",initialState:bje,reducers:{resetGeneralJournalState:t=>{t.generalJournals=[],t.error=null}},extraReducers:t=>{t.addCase(wb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalJournals=r.payload}).addCase(wb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(k1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(k1.fulfilled,e=>{e.isLoading=!1}).addCase(k1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralJournalState:xje}=_U.actions,vje=_U.reducer;function jje(){const t="https://staging-engine.testthelink.online",e=de(),{generalJournals:r,isLoading:n,error:a}=H(d=>d.generalJournal),{funds:s}=H(d=>d.funds),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);w.useEffect(()=>{e(xje()),e(er())},[e]);const l=[{key:"Date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"VoucherNo",header:"Voucher No",sortable:!0},{key:"Remarks",header:"Remarks",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"S/L",header:"S/L",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0}],c=async d=>{try{const f=await fetch(`${t}/generalJournal/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({startDate:d.startDate,endDate:d.endDate,fundID:d.fundID})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let y="General_Journal.xlsx";h&&h.includes("filename=")&&(y=h.split("filename=")[1].replace(/['"]/g,""));const p=window.URL.createObjectURL(m),b=document.createElement("a");b.href=p,b.download=y,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(p)}catch(f){console.error("Export failed:",f),z.error(f.message||"Failed to export general journal")}},u=d=>{e(wb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Journal"}),o.jsx("p",{children:"Generate general journal reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(gje,{funds:s,onExportExcel:c,onView:u,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(xe,{columns:l,data:r,loading:n,pagination:!0})})]})}function wje({fiscalYears:t=[],onSubmit:e,onAddClick:r,onTransferClick:n,Add:a}){const s=ce({FiscalYearID:D().required("Fiscal Year is required")}),i={FiscalYearID:""};return o.jsx(qe,{initialValues:i,validationSchema:s,validateOnMount:!0,onSubmit:e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsx(We,{children:o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-between sm:gap-4 w-full",children:[o.jsx("div",{className:"flex flex-wrap items-center sm:gap-4 w-full sm:w-auto",children:o.jsx("div",{className:"w-full sm:w-auto",children:o.jsx(k,{type:"select",label:"Fiscal Year",name:"FiscalYearID",options:t,value:l.FiscalYearID,onChange:d,onBlur:f,error:c.FiscalYearID,touched:u.FiscalYearID,required:!0})})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"submit",className:"btn btn-primary w-full sm:w-auto",disabled:m,children:"Search"}),a&&o.jsx("button",{type:"button",className:"btn btn-secondary w-full sm:w-auto",onClick:r,children:"Add"}),o.jsx("button",{type:"button",className:"btn btn-outline w-full sm:w-auto",onClick:n,children:"Transfer"})]})]})})})}const ph="https://staging-engine.testthelink.online",Nje={beginningBalance:[],isLoading:!1,error:null},$i=U("beginningBalance/fetchBalance",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ph}/beginningBalance/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.log("Error fetching beginning balance:",r),e.rejectWithValue(r.message)}}),Nb=U("beginningBalance/addBeginningBalance",async(t,e)=>{try{const r=await fetch(`${ph}/beginningBalance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Cb=U("beginningBalance/updateBeginningBalance",async(t,e)=>{try{const r=await fetch(`${ph}/beginningBalance/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Sb=U("beginningBalance/transferBeginningBalance",async(t,e)=>{try{const r=await fetch(`${ph}/beginningBalance/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Ab=U("beginningBalance/deleteBeginningBalance",async(t,e)=>{try{const r=await fetch(`${ph}/beginningBalance/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),RU=we({name:"beginningBalance",initialState:Nje,reducers:{resetBeginningBalanceState:t=>{t.beginningBalance=[],t.error=null}},extraReducers:t=>{t.addCase($i.pending,e=>{e.isLoading=!0,e.error=null}).addCase($i.fulfilled,(e,r)=>{e.isLoading=!1,e.beginningBalance=r.payload}).addCase($i.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(Nb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(Nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(Cb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.beginningBalance.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance[n]=r.payload)}).addCase(Cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to update beginning balance"}).addCase(Sb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(Sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(Ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ab.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance=e.beginningBalance.filter(n=>n.ID!==r.payload)}).addCase(Ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete beginning balance",console.error("Failed to delete beginning balance:",e.error)})}}),{resetBeginningBalanceState:i$}=RU.actions,Cje=RU.reducer;function Sje({initialData:t,onSubmit:e,onClose:r,fiscalYears:n=[],fundsOptions:a=[],chartOfAccountsOptions:s=[]}){const i=ce({FiscalYearID:D().required("Fiscal Year is required"),FundsID:D().required("Funds are required"),BeginningBalance:X().typeError("Must be a number").required("Beginning Balance is required"),ChartofAccountsCode:D().required("Chart of Accounts is required")}),l=tt({initialValues:t||{FiscalYearID:"",FundsID:"",BeginningBalance:"",ChartofAccountsCode:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(k,{label:"Fiscal Year",name:"FiscalYearID",type:"select",options:n,value:l.values.FiscalYearID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FiscalYearID,touched:l.touched.FiscalYearID,required:!0,className:"w-full"}),o.jsx(k,{label:"Funds",name:"FundsID",type:"select",options:a,value:l.values.FundsID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FundsID,touched:l.touched.FundsID,required:!0,className:"w-full"}),o.jsx(k,{label:"Beginning Balance",name:"BeginningBalance",type:"number",value:l.values.BeginningBalance,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.BeginningBalance,touched:l.touched.BeginningBalance,required:!0,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Chart of Accounts ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(Hr,{options:s,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsCode",value:s.find(c=>String(c.value)===String(l.values.ChartofAccountsCode))||null,onChange:c=>l.setFieldValue("ChartofAccountsCode",(c==null?void 0:c.value)||""),onBlur:l.handleBlur}),l.touched.ChartofAccountsCode&&l.errors.ChartofAccountsCode&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:l.errors.ChartofAccountsCode})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}function Aje({onSubmit:t,onClose:e,fiscalYears:r=[]}){const n=ce({PreviousFiscalYearID:D().required("Previous Fiscal Year is required"),NextFiscalYearID:D().required("Next Fiscal Year is required").test("not-same","Previous and Next Fiscal Years cannot be the same",function(s){return s!==this.parent.PreviousFiscalYearID})}),a=tt({initialValues:{PreviousFiscalYearID:"",NextFiscalYearID:""},validationSchema:n,onSubmit:s=>{t(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Previous Fiscal Year",name:"PreviousFiscalYearID",type:"select",options:r,value:a.values.PreviousFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.PreviousFiscalYearID,touched:a.touched.PreviousFiscalYearID,required:!0}),o.jsx(k,{label:"Next Fiscal Year",name:"NextFiscalYearID",type:"select",options:r,value:a.values.NextFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NextFiscalYearID,touched:a.touched.NextFiscalYearID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Transferring...":"Transfer"})]})]})}function Ije(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}function kje(){const t=H(P=>{var _;return((_=P.chartOfAccounts)==null?void 0:_.accounts)||[]}),{funds:e}=H(P=>P.funds),r=de(),{fiscalYears:n}=H(P=>P.fiscalYears),{beginningBalance:a,isLoading:s,error:i}=H(P=>P.beginningBalance),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),[h,y]=w.useState(!1),[p,b]=w.useState(null),[g,v]=w.useState(null),{Add:j,Edit:C,Delete:x}=Ce(21);w.useEffect(()=>{r(i$()),r(fn()),r(er()),r(Pr())},[r]);const N=async P=>{try{f?await r(Cb(P)).unwrap():await r(Nb(P)).unwrap(),ie.success("Success"),g&&await r($i(g)).unwrap()}catch(_){ie.error(_||"Failed")}finally{c(!1)}},S=async P=>{try{await r(Sb(P)).unwrap(),r(i$()),await r($i({FiscalYearID:P.NextFiscalYearID})).unwrap(),g&&await r($i(g)).unwrap(),ie.success("Success")}catch(_){ie.error(_||"Transfer failed")}finally{d(!1)}},A=()=>{m(null),c(!0)},I=P=>{m(P),c(!0)},T=P=>{b(P),y(!0)},E=async()=>{if(p)try{await r(Ab(p.ID)).unwrap(),y(!1),b(null),ie.success("Deleted")}catch(P){ie.error(P||"Failed")}},R=[{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"FundName",header:"Funds",sortable:!0},{key:"AccountName",header:"Account",sortable:!0},{key:"BeginningBalance",header:"Beginning Balance",sortable:!0}],M=[C&&{icon:Pe,title:"Edit",onClick:I,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},x&&{icon:Be,title:"Delete",onClick:T,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],L=async(P,{setSubmitting:_})=>{try{v(P),await r($i(P)).unwrap()}catch(q){console.error("Fetch failed:",q)}finally{_(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Beginning Balance"}),o.jsx("p",{children:"Generate beginning balance reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(wje,{fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),onSubmit:L,onAddClick:A,onTransferClick:()=>d(!0),onClose:()=>{},Add:j})}),o.jsx(le,{isOpen:l,onClose:()=>c(!1),title:f?"Edit Beginning Balance":"Add Beginning Balance",size:"xl",children:o.jsx(Sje,{onSubmit:N,initialData:f,fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),fundsOptions:e.map(P=>({value:P.ID,label:P.Name})),onClose:()=>c(!1),chartOfAccountsOptions:t.map(P=>({value:P.ID,label:`${P.AccountCode} - ${P.Name} - [${Ije(P.Description,50)}]`}))})}),o.jsx(le,{isOpen:u,onClose:()=>d(!1),title:"Transfer Beginning Balance",size:"lg",children:o.jsx(Aje,{onSubmit:S,fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),onClose:()=>d(!1)})}),o.jsxs(le,{isOpen:h,onClose:()=>y(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the beginning balance "',p==null?void 0:p.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:E,className:"btn btn-danger",children:"Delete"})]})]}),i&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:i})}),o.jsx("div",{className:"mt-6",children:o.jsx(xe,{columns:R,actions:M,data:a,loading:s,pagination:!0})})]})}const Tje=ce().shape({ResponsibilityCenter:D().required("Department is required"),OfficeUnitProject:D().required("Section is required"),ContraAccountID:D().required("Charge Account is required"),InvoiceNumber:D().required("PR Number is required"),SAI_No:D(),ObligationRequestNumber:D(),InvoiceDate:Ue().required("PR Date is required"),SAIDate:Ue(),ALOBSDate:Ue(),Remarks:D().required("Purpose is required"),Items:zt().of(ce({ItemID:D().required("Required"),Quantity:D().required("Required"),Unit:D().required("Required"),Cost:X().nullable().typeError("Must be a number").required("Cost is required")})).min(1,"At least one entry is required")});function Pje({initialData:t,onSubmit:e,onClose:r,departmentsOptions:n=[],chartOfAccountsOptions:a=[],itemsOptions:s=[],itemsUnitsOptions:i=[]}){const[l,c]=w.useState(!1),u=t?{...t,Items:t.PurchaseItems||[]}:{ResponsibilityCenter:"",OfficeUnitProject:"",InvoiceNumber:"",ContraAccountID:"",SAI_No:"",ObligationRequestNumber:"",InvoiceDate:"",SAIDate:"",ALOBSDate:"",Remarks:"",Items:[{ItemID:"",Quantity:0,Unit:"",Cost:0}]};return o.jsx(qe,{initialValues:u,validationSchema:Tje,onSubmit:e,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:y,setFieldValue:p})=>o.jsxs(We,{className:"space-y-1",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Department",name:"ResponsibilityCenter",type:"select",required:!0,value:d.ResponsibilityCenter,onChange:h,onBlur:y,error:f.ResponsibilityCenter,touched:m.ResponsibilityCenter,options:n}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Section",name:"OfficeUnitProject",type:"text",required:!0,value:d.OfficeUnitProject,onChange:h,onBlur:y,error:f.OfficeUnitProject,touched:m.OfficeUnitProject}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Charge Account",name:"ContraAccountID",type:"select",required:!0,value:d.ContraAccountID,onChange:h,onBlur:y,error:f.ContraAccountID,touched:m.ContraAccountID,options:a})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"PR No.",name:"InvoiceNumber",type:"text",required:!0,value:d.InvoiceNumber,onChange:h,onBlur:y,error:f.InvoiceNumber,touched:m.InvoiceNumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"SAI No.",name:"SAI_No",type:"text",value:d.SAI_No,onChange:h,onBlur:y,error:f.SAI_No,touched:m.SAI_No}),o.jsx(k,{className:"p-3 focus:outline-none",label:"ALOBS No.",name:"ObligationRequestNumber",type:"text",value:d.ObligationRequestNumber,onChange:h,onBlur:y,error:f.ObligationRequestNumber,touched:m.ObligationRequestNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"PR Date",name:"InvoiceDate",type:"date",required:!0,value:d.InvoiceDate,onChange:h,onBlur:y,error:f.InvoiceDate,touched:m.InvoiceDate}),o.jsx(k,{className:"p-3 focus:outline-none",label:"SAI Date",name:"SAIDate",type:"date",value:d.SAIDate,onChange:h,onBlur:y,error:f.SAIDate,touched:m.SAIDate}),o.jsx(k,{className:"p-3 focus:outline-none",label:"ALOBS Date",name:"ALOBSDate",type:"date",value:d.ALOBSDate,onChange:h,onBlur:y,error:f.ALOBSDate,touched:m.ALOBSDate})]}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Purpose",name:"Remarks",type:"text",required:!0,value:d.Remarks,onChange:h,onBlur:y,error:f.Remarks,touched:m.Remarks}),o.jsx("hr",{className:"!mt-5 !mb-5"}),o.jsx(Gr,{name:"Items",render:({remove:b,push:g})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Items"}),o.jsx(At,{type:"button",onClick:()=>g({ItemID:"",Quantity:0,Unit:"",Cost:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),d.Items.map((v,j)=>{var C,x,N,S,A,I,T,E,R,M,L,P,_,q;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex max-sm:flex-col flex-wrap gap-2 w-full",children:[o.jsxs("div",{className:"flex-1 w-full sm:min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Item ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(Hr,{label:"Item",options:s,placeholder:"Select item...",isSearchable:!0,onChange:F=>p(`Items[${j}].ItemID`,(F==null?void 0:F.value)||""),name:`Items[${j}].ItemID`,value:s.find(F=>F.value===v.ItemID)||null,onBlur:y,required:!0}),((x=(C=f.Items)==null?void 0:C[j])==null?void 0:x.ItemID)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:f.Items[j].ItemID})]}),o.jsx(k,{className:"flex-1 w-full sm:max-w-[180px]",type:"number",label:"Quantity",name:`Items[${j}].Quantity`,value:v.Quantity,onChange:h,onBlur:y,error:(S=(N=f.Items)==null?void 0:N[j])==null?void 0:S.Quantity,touched:(I=(A=m.Items)==null?void 0:A[j])==null?void 0:I.Quantity,required:!0}),o.jsx(k,{className:"flex-1 w-full sm:max-w-[150px]",type:"select",label:"Unit",name:`Items[${j}].Unit`,value:v.Unit,onChange:h,onBlur:y,options:i,error:(E=(T=f.Items)==null?void 0:T[j])==null?void 0:E.Unit,touched:(M=(R=m.Items)==null?void 0:R[j])==null?void 0:M.Unit,required:!0}),o.jsx(k,{className:"flex-1 w-full sm:max-w-[200px]",type:"text",label:"Cost",name:`Items[${j}].Cost`,value:v.Cost!==""&&!isNaN(v.Cost)?Number(v.Cost).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",onChange:F=>{const O=F.target.value.replace(/\D/g,""),V=O?(parseInt(O,10)/100).toFixed(2):"";h({target:{name:`Items[${j}].Cost`,value:V}})},onBlur:y,error:(P=(L=f.Items)==null?void 0:L[j])==null?void 0:P.Cost,touched:(q=(_=m.Items)==null?void 0:_[j])==null?void 0:q.Cost,required:!0})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(At,{type:"button",onClick:()=>b(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:d.Items.length===1,children:o.jsx(Qt,{className:"w-4 h-4"})})})]},j)}),o.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-6 sm:gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:" col-span-1 sm:col-span-2 sm:text-right",children:"Total:"}),o.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((v,j)=>v+(parseFloat(j.Cost)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Estimated Cost)"})]})}),o.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((v,j)=>v+(parseFloat(j.Cost)||0)*(parseFloat(j.Quantity)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Cost)"})]})})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-2 !mt-5",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:"Save"})]})]})})}const rw="https://staging-engine.testthelink.online",Eje=[],Dje={purchaseRequests:Eje,isLoading:!1,error:null},Ib=U("purchaseRequests/fetchPurchaseRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rw}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),kb=U("purchaseRequests/addPurchaseRequest",async(t,e)=>{try{const r=await fetch(`${rw}/purchaseRequest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Tb=U("purchaseRequests/updatePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${rw}/purchaseRequest/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Pb=U("purchaseRequests/deletePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${rw}/purchaseRequest/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Oje=we({name:"purchaseRequests",initialState:Dje,reducers:{},extraReducers:t=>{t.addCase(Ib.pending,e=>{e.isLoading=!0}).addCase(Ib.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=r.payload,e.error=null}).addCase(Ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(kb.pending,e=>{e.isLoading=!0}).addCase(kb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests.push(r.payload),e.error=null}).addCase(kb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Tb.pending,e=>{e.isLoading=!0}).addCase(Tb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.purchaseRequests.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.purchaseRequests[n]=r.payload),e.error=null}).addCase(Tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Pb.pending,e=>{e.isLoading=!0}).addCase(Pb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=e.purchaseRequests.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),_je=Oje.reducer;function Rje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),{departments:a}=H(L=>L.departments),s=H(L=>{var P;return((P=L.chartOfAccounts)==null?void 0:P.accounts)||[]}),{items:i}=H(L=>L.items),{itemUnits:l}=H(L=>L.itemUnits),{purchaseRequests:c,isLoading:u}=H(L=>L.purchaseRequests),[d,f]=w.useState(!1),[m,h]=w.useState(!1),[y,p]=w.useState(null),{Add:b,Edit:g,Delete:v}=Ce(69),j=de();w.useEffect(()=>{j(cr()),j(Pr()),j(Ua()),j(va()),j(Ib())},[]);const C=()=>{n(null),e(!0)},x=L=>{},N=L=>{},S=()=>{e(!1),n(null)},A=async()=>{if(y)try{await j(Pb(y.ID)).unwrap(),f(!1),p(null),ie.success("Deleted")}catch(L){ie.error(L||"Failed")}},I=async L=>{try{const P=L.Items.reduce((F,O)=>F+(parseFloat(O.Cost)||0),0),_=L.Items.reduce((F,O)=>F+(parseFloat(O.Cost)||0)*(parseFloat(O.Quantity)||0),0),q={...L,Total:P.toFixed(2),AmountReceived:_.toFixed(2)};r?await j(Tb(q)).unwrap():await j(kb(q)).unwrap(),ie.success("Success")}catch(P){ie.error(P||"Failed")}finally{e(!1)}},T=[{key:"ChartOfAccountsName",header:"Charge Account",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"DepartmentName",header:"Department",sortable:!0},{key:"Remarks",header:"Purpose",sortable:!0},{key:"OfficeUnitProject",header:"Section",sortable:!0},{key:"InvoiceNumber",header:"PR No.",sortable:!0},{key:"InvoiceDate",header:"PR Date",sortable:!0},{key:"SAI_No",header:"SAI No.",sortable:!0},{key:"SAIDate",header:"SAI Date",sortable:!0},{key:"ObligationRequestNumber",header:"ALOBS No.",sortable:!0},{key:"ALOBSDate",header:"ALOBS Date",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:L=>L?Number(L).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""},{key:"AmountReceived",header:"Estimated Total",sortable:!0,render:L=>L?Number(L).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""}],E=L=>{console.log(L)},R=async(L,P)=>{h(!0);try{console.log(`${P}d:`,response.data),ie.success(`Purchase Request ${P}d successfully`)}catch(_){console.error(`Error ${P}ing Purchase Request:`,_),ie.error(`Error ${P}ing Purchase Request`)}finally{h(!1)}},M=L=>{var _,q;const P=[];return(_=L==null?void 0:L.Status)!=null&&_.toLowerCase().includes("rejected")&&g?(P.push({icon:Pe,title:"Edit",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),P.push({icon:Be,title:"Delete",onClick:()=>N(),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(q=L==null?void 0:L.Status)!=null&&q.toLowerCase().includes("requested")&&P.push({icon:bn,title:"Approve",onClick:()=>R(L,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>R(L,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),P.push({icon:Iu,title:"View",onClick:E,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),P};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Purchase Requests"}),o.jsx("p",{children:"Manage purchase requests and authorizations"})]}),b&&o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Purchase Request"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:T,actions:M,data:c,loading:u||m})}),o.jsx(le,{isOpen:t,onClose:S,title:r?"Edit Purchase Request":"Add Purchase Request",size:"xxxl",children:o.jsx(Pje,{initialData:r,departmentsOptions:a.map(L=>({value:L.ID,label:L.Name})),chartOfAccountsOptions:s.map(L=>({value:L.ID,label:L.Name})),itemsOptions:i.map(L=>({value:L.ID,label:L.Name})),itemsUnitsOptions:l.map(L=>({value:L.ID,label:L.Name})),onSubmit:I,onClose:S})}),o.jsxs(le,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the purchase request "',y==null?void 0:y.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:A,className:"btn btn-danger",children:"Delete"})]})]})]})}ce({number:D().required("Number is required"),date:Ue().required("Date is required"),payee:D().required("Payee is required"),address:D().required("Address is required"),fund:D().required("Fund is required"),fiscalYear:D().required("Fiscal Year is required"),project:D().required("Project is required")});function $je({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=ce({ResponsibilityCenter:D().required("Required"),ChargeAccountID:D().required("Required"),ItemID:D().required("Required"),Remarks:D().required("Required"),Price:X().required("Required"),Quantity:X().required("Required"),ItemUnitID:D().required("Required"),TAXCodeID:D().required("Required")}),d=tt({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,subtotal:0},validationSchema:u,onSubmit:y=>{const p=i.find(C=>String(C.ID)===String(y.TAXCodeID)),b=o0({price:y.Price,quantity:y.Quantity,taxRate:(p==null?void 0:p.Rate)||0,vatable:y.Vatable,ewtRate:y.withheldEWT}),g=r.find(C=>String(C.value)===String(y.ResponsibilityCenter)),v=l.find(C=>String(C.value)===String(y.ChargeAccountID)),j=n.find(C=>String(C.value)===String(y.ItemID));t({...y,...b,responsibilityCenterName:g?g.label:"",chargeAccountName:v?v.label:"",itemName:j?j.label:""}),e()}}),f=w.useRef({...d.values});w.useEffect(()=>{if(!["Price","Quantity","TAXCodeID","Vatable"].some(g=>d.values[g]!==f.current[g]))return;f.current={...d.values};const p=i.find(g=>String(g.ID)===String(d.values.TAXCodeID)),b=o0({price:d.values.Price,quantity:d.values.Quantity,taxRate:(p==null?void 0:p.Rate)||0,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});b.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",b.subtotal,!1),b.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",b.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(y=>String(y.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(k,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0,error:d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter,touched:d.touched.ResponsibilityCenter})}),o.jsx("div",{children:o.jsx(k,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0,error:d.touched.ChargeAccountID&&d.errors.ChargeAccountID,touched:d.touched.ChargeAccountID})}),o.jsx("div",{children:o.jsx(k,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0,error:d.touched.ItemID&&d.errors.ItemID,touched:d.touched.ItemID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(k,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0,error:d.touched.Price&&d.errors.Price,touched:d.touched.Price})}),o.jsx("div",{children:o.jsx(k,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0,error:d.touched.Quantity&&d.errors.Quantity,touched:d.touched.Quantity})}),o.jsx("div",{children:o.jsx(k,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0,error:d.touched.ItemUnitID&&d.errors.ItemUnitID,touched:d.touched.ItemUnitID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(k,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0,error:d.touched.TAXCodeID&&d.errors.TAXCodeID,touched:d.touched.TAXCodeID})}),o.jsx("div",{children:o.jsx(k,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsx(k,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx(k,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0,error:d.touched.Remarks&&d.errors.Remarks,touched:d.touched.Remarks}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:()=>d.setFieldValue("Vatable",d.values.Vatable?0:1),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const $U="https://staging-engine.testthelink.online",Mje={fundUtilizations:[],fundUtilization:null,isLoading:!1,error:null},hf=U("fundUtilizations/fetchFundUtilizations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$U}/fundUtilizationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),T1=U("fundUtilizations/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Eb=U("fundUtilizations/create",async(t,e)=>{try{const r=await fetch(`${$U}/fundUtilizationRequest/save`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Db=U("fundUtilizations/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),MU=we({name:"fundUtilizations",initialState:Mje,reducers:{resetFundUtilizationState:t=>{t.fundUtilization=null,t.error=null}},extraReducers:t=>{t.addCase(hf.pending,e=>{e.isLoading=!0}).addCase(hf.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations=r.payload}).addCase(hf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(T1.pending,e=>{e.isLoading=!0}).addCase(T1.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilization=r.payload}).addCase(T1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Eb.pending,e=>{e.isLoading=!0}).addCase(Eb.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations.push(r.payload)}).addCase(Eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Db.pending,e=>{e.isLoading=!0}).addCase(Db.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fundUtilizations.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.fundUtilizations[n]=r.payload)}).addCase(Db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetFundUtilizationState:V9e}=MU.actions,Lje=MU.reducer,Fje="https://staging-engine.testthelink.online",l$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],Bje=ce().shape({obrNo:D().required("No. is required"),obrDate:Ue().required("Date is required"),payeeType:D().required("Payee type is required"),payeeId:D().required("Payee selection is required"),fund:D().required("Fund is required"),fiscalYear:D().required("Fiscal Year is required"),project:D().required("Project is required"),accountingEntries:zt().min(1,"At least one item is required")});function qje({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:y=[],budgetOptions:p=[],taxCodeFull:b=[]}){const g=de(),v=w.useRef(null),[j,C]=w.useState(!1),[x,N]=w.useState(null),[S,A]=w.useState(null),[I,T]=w.useState(!1),[E,R]=w.useState([]),M=(F,O)=>{const V=F.reduce((B,Q)=>B+Number(Q.amount||0),0),W=O.reduce((B,Q)=>B+Number(Q.amount||0),0),$=V-W;return{grossAmount:V,totalTaxes:W,netAmount:$}},L={description:"",amount:"",accountCode:""},P={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[L],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},_=F=>{C(!0),M(F.items,F.taxes);const O=new FormData;F.payeeType==="Employee"?(O.append("EmployeeID",F.payeeId),O.append("VendorID",""),O.append("CustomerID","")):F.payeeType==="Vendor"?(O.append("EmployeeID",""),O.append("VendorID",F.payeeId),O.append("CustomerID","")):F.payeeType==="Individual"&&(O.append("EmployeeID",""),O.append("VendorID",""),O.append("CustomerID",F.payeeId)),O.append("PayeeType",F.payeeType),O.append("Payee",(x==null?void 0:x.Name)||(x==null?void 0:x.FirstName)+" "+(x==null?void 0:x.MiddleName)+" "+(x==null?void 0:x.LastName)||""),O.append("Address",(x==null?void 0:x.StreetAddress)||""),O.append("InvoiceNumber",F.obrNo),O.append("InvoiceDate",F.obrDate);const V=F.accountingEntries.reduce((ae,J)=>ae+Number(J.subtotal||0),0),W=F.accountingEntries.reduce((ae,J)=>ae+Number(J.ewt||0),0),$=F.accountingEntries.reduce((ae,J)=>ae+Number(J.withheld||0),0),B=F.accountingEntries.reduce((ae,J)=>ae+Number(J.vat||0),0),Q=F.accountingEntries.reduce((ae,J)=>ae+Number(J.discount||0),0);O.append("Total",V.toFixed(2)),O.append("EWT",W.toFixed(2)),O.append("WithheldAmount",$.toFixed(2)),O.append("Vat_Total",B.toFixed(2)),O.append("Discounts",Q.toFixed(2)),O.append("FundsID",F.fund),O.append("FiscalYearID",F.fiscalYear),O.append("ProjectID",F.project),O.append("TravelID",""),O.append("Items",JSON.stringify(F.accountingEntries)),F.Attachments.forEach((ae,J)=>{ae.ID?O.append(`Attachments[${J}].ID`,ae.ID):O.append(`Attachments[${J}].File`,ae.File)});const fe=t?Db({formData:O,id:t.ID}):Eb(O);t?(O.append("IsNew",!1),O.append("LinkID",t.LinkID)):O.append("IsNew",!0),g(fe).unwrap().then(()=>{ie.success("Success"),g(hf()),e()}).catch(ae=>{ie.error((ae==null?void 0:ae.message)||"Failed to submit"),console.error("Error submitting DV:",ae)}).finally(()=>{C(!1)})},q=({type:F})=>{switch(F){case"Employee":return o.jsx(FP,{className:"w-5 h-5"});case"Vendor":return o.jsx(UT,{className:"w-5 h-5"});case"Individual":return o.jsx(uj,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(qe,{innerRef:v,initialValues:P,validationSchema:Bje,onSubmit:_,enableReinitialize:!0,children:({values:F,errors:O,touched:V,handleChange:W,handleBlur:$,setFieldValue:B,isValid:Q})=>{M(F.items,F.taxes);const ae=l$.map(re=>({value:re.value,label:re.label})).find(re=>re.value===F.payeeType),J=re=>{N(null),B("payeeType",re),B("payeeName",""),B("payeeId",""),B("payeeAddress",""),B("officeUnitProject",""),B("orsNumber","")},oe=re=>{let K=null;switch(F.payeeType){case"Employee":K=s.find(Y=>Y.ID===re);break;case"Vendor":K=i.find(Y=>Y.ID===re);break;case"Individual":K=l.find(Y=>Y.ID===re);break}N(K),B("payeeName",K==null?void 0:K.Name),B("payeeId",K==null?void 0:K.ID)},ee=re=>{switch(re){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(We,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:l$.map(re=>o.jsxs("button",{type:"button",onClick:()=>J(re.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${F.payeeType===re.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(q,{type:re.value}),o.jsx("span",{className:"ml-3 font-medium",children:re.label})]},re.value))}),O.payeeType&&V.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.payeeType})]}),F.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",ae==null?void 0:ae.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:ee(F.payeeType),value:ee(F.payeeType).find(re=>re.value===F.payeeId)||null,onChange:re=>oe(re.value),className:"react-select-container",classNamePrefix:"react-select"}),O.payeeType&&V.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.payeeType})]}),x&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(ae==null?void 0:ae.label)==="Employee"?`${x.FirstName||""} ${x.MiddleName||""} ${x.LastName||""}`.trim():((ae==null?void 0:ae.label)==="Vendor"||(ae==null?void 0:ae.label)==="Individual",x.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((ae==null?void 0:ae.label)==="Employee"||(ae==null?void 0:ae.label)==="Vendor"||(ae==null?void 0:ae.label)==="Individual",x.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(k,{type:"text",label:"No.",name:"obrNo",value:F.obrNo,onChange:W,onBlur:$,error:O.obrNo,touched:V.obrNo,required:!0}),o.jsx(k,{type:"date",label:"Date",name:"obrDate",value:F.obrDate,onChange:W,onBlur:$,error:O.obrDate,touched:V.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:u,value:u.find(re=>re.value===F.fund)||null,onChange:re=>B("fund",re.value),className:"react-select-container",classNamePrefix:"react-select"}),O.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:f,value:f.find(re=>re.value===F.fiscalYear)||null,onChange:re=>B("fiscalYear",re.value),className:"react-select-container",classNamePrefix:"react-select"}),O.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:d,value:d.find(re=>re.value===F.project)||null,onChange:re=>B("project",re.value),className:"react-select-container",classNamePrefix:"react-select"}),O.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.project})]})]}),o.jsx(Gr,{name:"accountingEntries",children:({push:re,remove:K})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>T(!0),children:"+ Item"})]}),F.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),F.accountingEntries.map((Y,ue)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:Y.responsibilityCenterName}),o.jsx("span",{children:Y.Remarks}),o.jsx("span",{children:Y.itemName}),o.jsx("span",{children:Y.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(Y.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-1 text-right",children:o.jsx("button",{type:"button",onClick:()=>K(ue),className:"text-red-600 text-xs",children:o.jsx(ife,{className:"w-4 h-4"})})})]},ue)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:F.accountingEntries.reduce((Y,ue)=>Y+Number(ue.subtotal),0).toFixed(2)})]})]}),o.jsx(le,{isOpen:I,onClose:()=>T(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx($je,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:y,budgetOptions:p,taxCodeFull:b,onClose:()=>T(!1),onSubmit:Y=>{re(Y),T(!1)}})})]})}),O.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.accountingEntries}),o.jsx("hr",{}),o.jsx(Gr,{name:"Attachments",render:({remove:re,push:K})=>{var Y;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>K({File:null}),children:"+ Attachment"})]}),(Y=F.Attachments)==null?void 0:Y.map((ue,me)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[ue.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${Fje}/uploads/${ue.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:ue.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${me}].ID`,value:ue.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${me+1}`}),o.jsx("input",{type:"file",name:`Attachments[${me}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:ve=>B(`Attachments[${me}].File`,ve.currentTarget.files[0]),onBlur:$,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(At,{type:"button",onClick:()=>re(me),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Qt,{className:"w-4 h-4"})})]},me))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function Vje(){const t=de(),{fundUtilizations:e,isLoading:r}=H(A=>A.fundUtilizations),{Add:n,Edit:a}=Ce(47),{employees:s}=H(A=>A.employees),{customers:i}=H(A=>A.customers),{vendorDetails:l}=H(A=>A.vendorDetails),{departments:c}=H(A=>A.departments),{projectDetails:u}=H(A=>A.projectDetails),{funds:d}=H(A=>A.funds),{fiscalYears:f}=H(A=>A.fiscalYears),{items:m}=H(A=>A.items),{taxCodes:h}=H(A=>A.taxCodes),{itemUnits:y}=H(A=>A.itemUnits),{budgets:p}=H(A=>A.budget),[b,g]=w.useState("list"),[v,j]=w.useState(null);w.useEffect(()=>{t(hf()),t(dn()),t(mn()),t(Va()),t(cr()),t(za()),t(er()),t(fn()),t(Ua()),t(Zn()),t(va()),t(Mo())},[t]);const C=()=>{j(null),g("form")},x=A=>{j(A),g("form")},N=()=>{g("list"),j(null)},S=[{key:"Status",header:"Status",sortable:!0,render:A=>{let I="bg-neutral-100 text-neutral-800";switch(A){case"Requested":I="bg-warning-100 text-warning-800";break;case"Pending Approval":I="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":I="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":I="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I}`,children:A})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:A=>new Date(A).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[b==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Utilization Request & Status"}),o.jsx("p",{children:"Manage and track your fund utilization requests."})]}),n&&o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:S,data:e,actions:A=>{var T;const I=[];return((T=A.Transaction)==null?void 0:T.Status)==="Rejected"&&a&&I.push({icon:Pe,title:"Edit",onClick:()=>x(A),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),I},loading:r})})]}),b==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center max-sm:flex-col gap-4",children:[o.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(Ja,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:v?"Edit Fund Utilization Request":"Create Fund Utilization Request"}),o.jsxs("p",{children:["Fill out the form to"," ",v?"update":"create"," a fund utilization request."]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(qje,{initialData:v,employeeOptions:s.map(A=>({value:A.ID,label:A.FirstName+" "+A.MiddleName+" "+A.LastName})),vendorOptions:l.map(A=>({value:A.ID,label:A.Name})),individualOptions:i.map(A=>({value:A.ID,label:A.Name||`${A.FirstName} ${A.MiddleName} ${A.LastName}`})),employeeData:s,vendorData:l,individualData:i,departmentOptions:c.map(A=>({value:A.ID,label:A.Name})),fundOptions:d.map(A=>({value:A.ID,label:A.Name})),projectOptions:u.map(A=>({value:A.ID,label:A.Title})),fiscalYearOptions:f.map(A=>({value:A.ID,label:A.Name})),particularsOptions:m.map(A=>({value:A.ID,label:A.Name})),unitOptions:y.map(A=>({value:A.ID,label:A.Name})),taxCodeOptions:h.map(A=>({value:A.ID,label:A.Name})),budgetOptions:p.map(A=>({value:A.ID,label:A.Name})),taxCodeFull:h,onCancel:N,onSubmitSuccess:N,onClose:N})})]})]})}const pI=()=>{const e=new Date().getMonth();return[0,0,6,8,10,12,14,16,18,20,22,24][e]},Uje=ce({Year:X().typeError("Year must be a number").required("Year is required").min(1900,"Year must be after 1900").max(new Date().getFullYear(),"Year cannot be in the future"),PlaceIssued:D().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters"),DateIssued:Ue().required("Date issued is required").max(new Date,"Date issued cannot be in the future"),CCNumber:X().required("Certificate number is required").typeError("Year must be a number").min(3,"Certificate number must be at least 3 Numbers"),TIN:D().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),LastName:D().required("Last Name is required").min(2,"Last Name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"Last Name can only contain letters, spaces, hyphens, and apostrophes"),FirstName:D().required("First name is required").min(2,"First name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"First name can only contain letters, spaces, hyphens, and apostrophes"),MiddleName:D().matches(/^[a-zA-Z\s-']*$/,"Middle name can only contain letters, spaces, hyphens, and apostrophes").nullable(),Address:D().required("Address is required").min(10,"Address must be at least 10 characters"),Citizenship:D().required("Citizenship is required"),ICRNo:D().matches(/^[0-9-]*$/,"ICR number must contain only numbers and dashes").nullable(),PlaceOfBirth:D().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters"),BirthDate:Ue().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future").test("age","Must be at least 18 years old",function(t){if(!t)return!1;const e=new Date,r=new Date(t),n=e.getFullYear()-r.getFullYear(),a=e.getMonth()-r.getMonth();return a<0||a===0&&e.getDate()<r.getDate()?n-1>=18:n>=18}),CivilStatus:D(),Occupation:D().min(2,"Profession must be at least 2 characters"),Gender:D().required("Sex is required"),Height:X().typeError("Height must be a number").min(90,"Minimum height is 90 cm").max(243,"Maximum height is 243 cm"),Weight:X().typeError("Weight must be a number").min(30,"Weight must be at least 30 kg").max(300,"Weight must not exceed 300 kg"),BasicTax:X().typeError("Must be a number").required("Basic tax is required").oneOf([1,5],"Basic tax can only be 1 or 5"),BusinessEarnings:X().typeError("Must be a number").min(0,"Gross receipts cannot be negative").nullable(),BusinessTaxDue:X().typeError("Must be a number").min(0,"Gross receipts tax cannot be negative").nullable(),OccupationEarnings:X().min(0,"Salaries cannot be negative").nullable(),OccupationTaxDue:X().min(0,"Salaries tax cannot be negative").nullable(),IncomeProperty:X().min(0,"Real property income cannot be negative").nullable(),PropertyTaxDue:X().min(0,"Real property tax cannot be negative").nullable(),Total:X().required("Total tax is required").min(0,"Total tax cannot be negative").max(1e4,"Total tax cannot exceed 10,000"),Interest:X().min(0,"Interest cannot be negative").max(100,"Interest cannot exceed 100%").nullable(),InterestAmount:X(),AmountReceived:X().required("Total amount paid is required").min(0,"Total amount paid cannot be negative"),Remarks:D().max(500,"Remarks cannot exceed 500 characters").nullable(),AmountinWords:D().max(500,"Amount in words cannot exceed 500 characters")}),c$=({selectedCustomer:t=null,initialData:e=null,onCancel:r,onSubmitForm:n,isReadOnly:a=!1,currentCertificateNumber:s=null})=>{const i=[{value:"Afghan",label:"Afghan"},{value:"Filipino",label:"Filipino"},{value:"American",label:"American"},{value:"Other",label:"Other"}],l=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],c=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}];console.log("initialData",e);const d=tt({initialValues:(()=>{const p=(e==null?void 0:e.Customer)||t;return{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||(s==null?void 0:s.CurrentNumber)||"",TIN:(e==null?void 0:e.TIN)||(p==null?void 0:p.TIN)||"",LastName:(p==null?void 0:p.LastName)||"",FirstName:(p==null?void 0:p.FirstName)||"",MiddleName:(p==null?void 0:p.MiddleName)||"",Address:(p==null?void 0:p.StreetAddress)||"",Citizenship:(p==null?void 0:p.Citizenship)||"",ICRNo:(p==null?void 0:p.ICRNumber)||"",PlaceOfBirth:(p==null?void 0:p.PlaceofBirth)||"",CivilStatus:(p==null?void 0:p.CivilStatus)||"",Occupation:(p==null?void 0:p.Occupation)||"",Gender:(p==null?void 0:p.Gender)||"",Height:(p==null?void 0:p.Height)||"",Weight:(p==null?void 0:p.Weight)||"",BirthDate:(p==null?void 0:p.Birthdate)||"",BasicTax:(e==null?void 0:e.BasicTax)||"",BusinessEarnings:(e==null?void 0:e.BusinessEarnings)||"",BusinessTaxDue:(e==null?void 0:e.BusinessTaxDue)||"",OccupationEarnings:(e==null?void 0:e.OccupationEarnings)||"",OccupationTaxDue:(e==null?void 0:e.OccupationTaxDue)||"",IncomeProperty:(e==null?void 0:e.IncomeProperty)||"",PropertyTaxDue:(e==null?void 0:e.PropertyTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||pI(),InterestAmount:(e==null?void 0:e.InterestAmount)||"",AmountReceived:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""}})(),validationSchema:Uje,onSubmit:p=>{const g=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",ID:e.ID,CustomerID:e.CustomerID,...f(p)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...f(p)};n(g)}}),f=p=>{const b={...p,Year:String(p.Year),Height:String(p.Height),Weight:String(p.Weight),InputOne:Number(p.BusinessEarnings),InputTwo:Number(p.OccupationEarnings),InputThree:Number(p.IncomeProperty),OutputOne:Number(p.BusinessTaxDue),OutputTwo:Number(p.OccupationTaxDue),OutputThree:Number(p.PropertyTaxDue),Municipality:p.PlaceIssued,AmountPaid:Number(p.AmountReceived),Words:p.AmountinWords,Profession:p.Occupation};return delete b.BusinessEarnings,delete b.OccupationEarnings,delete b.IncomeProperty,delete b.BusinessTaxDue,delete b.OccupationTaxDue,delete b.PropertyTaxDue,delete b.PlaceIssued,delete b.AmountReceived,delete b.AmountinWords,delete b.Occupation,b},m=(p,b)=>{const g=Math.floor(Number(b||0)/1e3),v={BusinessEarnings:"BusinessTaxDue",OccupationEarnings:"OccupationTaxDue",IncomeProperty:"PropertyTaxDue"};d.setFieldValue(v[p],g),setTimeout(()=>y(),0)},h=p=>({name:p,value:d.values[p]||"",onChange:b=>{const{name:g,value:v}=b.target;d.setFieldValue(g,v),["BusinessEarnings","OccupationEarnings","IncomeProperty"].includes(g)&&m(g,v),g==="BasicTax"&&y()},onBlur:d.handleBlur,error:d.touched[p]&&d.errors[p],disabled:a}),y=()=>{const p=Number(d.values.BasicTax||0),b=Number(d.values.BusinessTaxDue||0),g=Number(d.values.OccupationTaxDue||0),v=Number(d.values.PropertyTaxDue||0),j=b+g+v,C=Math.min(j,5e3),x=pI()/100,N=p,S=C*(1+x)+N,A=C*x;d.setFieldValue("InterestAmount",A.toFixed(2)),d.setFieldValue("Total",S.toFixed(2)),d.setFieldValue("AmountReceived",S.toFixed(2))};return o.jsx("div",{className:"min-h-screen",children:o.jsxs("form",{onSubmit:d.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(LP,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(k,{label:"Year",...h("Year"),type:"number",disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.Year&&d.errors.Year,touched:d.touched.Year,required:!0})}),o.jsx("div",{children:o.jsx(k,{label:"Place of Issue",...h("PlaceIssued"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.PlaceIssued&&d.errors.PlaceIssued,touched:d.touched.PlaceIssued,required:!0})}),o.jsx("div",{children:o.jsx(k,{label:"Date Issued",...h("DateIssued"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.DateIssued&&d.errors.DateIssued,touched:d.touched.DateIssued,required:!0})}),o.jsx("div",{children:o.jsx(k,{label:"OR No.",...h("CCNumber"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.CCNumber&&d.errors.CCNumber,touched:d.touched.CCNumber,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(k,{label:"TIN (if Any)",...h("TIN"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"000-000-000-000",error:d.touched.TIN&&d.errors.TIN,touched:d.touched.TIN})}),o.jsx("div",{className:"hidden md:block"}),o.jsx("div",{className:"hidden lg:block"}),o.jsx("div",{className:"bg-gray-100 text-center px-3 py-1 text-sm font-medium flex items-center justify-center",children:"TAXPAYER'S COPY"})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(uj,{className:"h-5 w-5"}),"Personal Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(k,{label:"Last Name",...h("LastName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.LastName&&d.errors.LastName,touched:d.touched.LastName})}),o.jsx("div",{children:o.jsx(k,{label:"First Name",...h("FirstName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.FirstName&&d.errors.FirstName,touched:d.touched.FirstName})}),o.jsx("div",{children:o.jsx(k,{label:"Middle Name",...h("MiddleName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.MiddleName&&d.errors.MiddleName,touched:d.touched.MiddleName})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(k,{label:"Address",...h("Address"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.Address&&d.errors.Address,touched:d.touched.Address,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(k,{label:"Citizenship",...h("Citizenship"),type:"select",options:i,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.Citizenship&&d.errors.Citizenship,touched:d.touched.Citizenship,required:!0}),o.jsx(k,{label:"ICR No.",...h("ICRNo"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.ICRNo&&d.errors.ICRNo,touched:d.touched.ICRNo}),o.jsx(k,{label:"Place of Birth",...h("PlaceOfBirth"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.PlaceOfBirth&&d.errors.PlaceOfBirth,touched:d.touched.PlaceOfBirth,required:!0}),o.jsx(k,{label:"Date of Birth",...h("BirthDate"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",required:!0,error:d.touched.BirthDate&&d.errors.BirthDate,touched:d.touched.BirthDate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(k,{label:"Civil Status",...h("CivilStatus"),type:"radio",options:l,error:d.touched.CivilStatus&&d.errors.CivilStatus,touched:d.touched.CivilStatus})}),o.jsx("div",{children:o.jsx(k,{label:"Profession/Occupation",...h("Occupation"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.Occupation&&d.errors.Occupation,touched:d.touched.Occupation})}),o.jsx("div",{children:o.jsx(k,{label:"Sex",...h("Gender"),type:"radio",options:c,error:d.touched.Gender&&d.errors.Gender,touched:d.touched.Gender,required:!0})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(k,{label:"Height (cm)",...h("Height"),type:"number",min:"90",max:"243",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.Height&&d.errors.Height,touched:d.touched.Height}),o.jsx("div",{children:o.jsx(k,{label:"Weight (kg)",...h("Weight"),type:"text",min:"30",max:"300",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:d.touched.Weight&&d.errors.Weight,touched:d.touched.Weight})})]})]})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(iV,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"sm:p-6 p-3 pt-2",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. Basic Community Tax (5.00) or Exempted (1.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(k,{label:"Taxable Amount:",...h("BasicTax"),type:"text",className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:d.touched.BasicTax&&d.errors.BasicTax,touched:d.touched.BasicTax,required:!0})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. Additional Community Tax (tax not exceed 5,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-4 items-start py-3 border-b border-blue-200",children:[o.jsx("div",{children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. Gross receipts or earnings derived from business during the preceding year (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 ml-auto max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(k,{label:"Taxable Amount:",...h("BusinessEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:d.touched.BusinessEarnings&&d.errors.BusinessEarnings,touched:d.touched.BusinessEarnings})}),o.jsx("div",{children:o.jsx(k,{label:"Community Due Amount:",...h("BusinessTaxDue"),type:"text",className:"w-24 text-right font-mono border-blue-200 bg-gray-100 cursor-not-allowed",placeholder:"Tax",error:d.touched.BusinessTaxDue&&d.errors.BusinessTaxDue,touched:d.touched.BusinessTaxDue,readOnly:!0})})]})]}),o.jsxs("div",{className:"flex flex-col gap-4 items-start py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. Salaries or gross receipt or earnings derived from exercise of Occupation or pursuit of any occupation (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 ml-auto max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(k,{label:"Taxable Amount:",...h("OccupationEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:d.touched.OccupationEarnings&&d.errors.OccupationEarnings,touched:d.touched.OccupationEarnings})}),o.jsx("div",{children:o.jsx(k,{label:"Community Due Amount:",...h("OccupationTaxDue"),type:"text",className:"w-24 text-right font-mono border-blue-200 bg-gray-100 cursor-not-allowed",placeholder:"Tax",error:d.touched.OccupationTaxDue&&d.errors.OccupationTaxDue,touched:d.touched.OccupationTaxDue,readOnly:!0})})]})]}),o.jsxs("div",{className:"flex flex-col gap-4 items-start py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"3. Income from real property (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 ml-auto max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(k,{label:"Taxable Amount:",...h("IncomeProperty"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:d.touched.IncomeProperty&&d.errors.IncomeProperty,touched:d.touched.IncomeProperty})}),o.jsx("div",{children:o.jsx(k,{label:"Community Due Amount:",...h("PropertyTaxDue"),type:"text",className:"w-24 text-right font-mono border-blue-200 bg-gray-100 cursor-not-allowed",placeholder:"Tax",error:d.touched.PropertyTaxDue&&d.errors.PropertyTaxDue,touched:d.touched.PropertyTaxDue,readOnly:!0})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Total"}),o.jsx(k,{...h("Total"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:d.touched.Total&&d.errors.Total,touched:d.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest %"}),o.jsx(k,{...h("Interest"),type:"text",min:"0",max:"100",step:"0.01",className:"w-full text-right font-mono bg-white/20 cursor-not-allowed border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:d.touched.Interest&&d.errors.Interest,touched:d.touched.Interest,readOnly:!0})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"Total Amount Paid"}),o.jsx(k,{...h("AmountReceived"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 font-bold text-lg px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:d.touched.AmountReceived&&d.errors.AmountReceived,touched:d.touched.AmountReceived})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest Amount"}),o.jsx(k,{...h("InterestAmount"),type:"text",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:d.touched.InterestAmount&&d.errors.InterestAmount,touched:d.touched.InterestAmount,readOnly:!0})]})]}),o.jsx("div",{className:"flex items-end md:items-center justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:bs(d.values.AmountReceived)||"-"})]})})]})}),o.jsx(k,{label:"Remarks",...h("Remarks"),type:"textarea",className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(At,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:d.isSubmitting,children:d.isSubmitting?"Generating...":"Generate Certificate"})]}),d.submitCount>0&&Object.keys(d.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(d.errors).map(([p,b])=>o.jsx("li",{children:b},p))})]})]})})},Eu="https://staging-engine.testthelink.online",zje=[],Ob=U("communityTax/communityTaxGetCurrentNumber",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Eu}/community-tax/getCurrentNumber`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch current number");return a}catch(r){return e.rejectWithValue(r.message)}}),Oc=U("communityTax/fetchCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Eu}/community-tax/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),P1=U("communityTax/fetchCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Eu}/community-tax/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),_b=U("communityTax/addCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Eu}/community-tax/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),E1=U("communityTax/updateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Eu}/community-tax/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Rb=U("communityTax/deleteCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Eu}/community-tax/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),LU=we({name:"communityTax",initialState:{records:[],currentRecord:null,currentNumber:null,isLoading:!1,error:null},reducers:{clearCurrentCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ob.fulfilled,(e,r)=>{e.isLoading=!1,e.currentNumber=r.payload}).addCase(Ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax current number"}).addCase(Oc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Oc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community taxes",console.warn("Failed to fetch community taxes, using mock data.",e.error),e.records=zje}).addCase(P1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(P1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(P1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax record"}).addCase(_b.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_b.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(_b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add community tax record",console.error("Failed to add community tax record:",e.error)}).addCase(E1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(E1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(E1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update community tax record",console.error("Failed to update community tax record:",e.error)}).addCase(Rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(Rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete community tax record",console.error("Failed to delete community tax record:",e.error)})}}),{clearCurrentCommunityTax:U9e}=LU.actions,Wje=LU.reducer,Hje=G.forwardRef(({certificate:t},e)=>t?o.jsxs("div",{ref:e,className:"bg-white p-12 text-black text-base",style:{width:700,margin:"0 auto",fontFamily:"monospace"},children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("div",{children:o.jsx("div",{className:"font-semibold",children:"Angadanan"})}),o.jsx("div",{className:"text-right",children:o.jsx("span",{children:t.DateIssued||"22 08 2025"})})]}),o.jsx("div",{className:"mb-2",children:t.TaxpayerName||"Leivan Jake Baguio"}),o.jsx("div",{className:"mb-2",children:t.Address||"Washington street"}),o.jsxs("div",{className:"flex mb-2",children:[o.jsx("div",{style:{width:"30%"},children:t.Nationality||"Afghan"}),o.jsx("div",{style:{width:"20%"},children:t.Income?t.Income.toLocaleString():"24,132,654.00"}),o.jsx("div",{style:{width:"30%"},children:t.PlaceOfBirth||"Sultan Kudarat"}),o.jsx("div",{style:{width:"20%"},children:t.Height||"200 cm"})]}),o.jsxs("div",{className:"flex mb-2",children:[o.jsx("div",{style:{width:"30%"},children:t.Occupation||"Garbage Collector"}),o.jsx("div",{style:{width:"20%"},children:t.Status==="Approved"?"":""}),o.jsx("div",{style:{width:"30%"},children:t.BirthDate||"00 12:00:00AM"}),o.jsx("div",{style:{width:"10%"},children:t.Weight||"50 kg"}),o.jsx("div",{style:{width:"10%"},children:t.OtherMetric||"5.00"})]}),o.jsxs("div",{className:"flex mb-2",children:[o.jsx("div",{className:"flex-1",children:t.Amount1||"64,000.00"}),o.jsx("div",{className:"flex-1",children:t.Amount2||"64.00"})]}),o.jsxs("div",{className:"flex mb-2",children:[o.jsx("div",{className:"flex-1",children:t.Amount3||"25,000.00"}),o.jsx("div",{className:"flex-1",children:t.Amount4||"25.00"})]}),o.jsxs("div",{className:"flex mb-2",children:[o.jsx("div",{className:"flex-1",children:t.Amount5||"3,000.00"}),o.jsx("div",{className:"flex-1",children:t.Amount6||"3.00"})]}),o.jsx("div",{children:t.Total1||"111.72"}),o.jsx("div",{children:t.Percentage||"16 %"}),o.jsx("div",{children:t.Total2||"111.72"}),o.jsx("div",{className:"mt-6 font-bold",children:t.AmountInWords||"ONE HUNDRED AND ELEVEN PESOS AND 72/100"})]}):null);var FU={exports:{}};(function(t,e){(function(r,n){t.exports=n(w)})(typeof self<"u"?self:Cd,function(r){return function(){var n={155:function(g){g.exports=r}},a={};function s(g){var v=a[g];if(v!==void 0)return v.exports;var j=a[g]={exports:{}};return n[g](j,j.exports,s),j.exports}s.d=function(g,v){for(var j in v)s.o(v,j)&&!s.o(g,j)&&Object.defineProperty(g,j,{enumerable:!0,get:v[j]})},s.o=function(g,v){return Object.prototype.hasOwnProperty.call(g,v)},s.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var i={};s.r(i),s.d(i,{useReactToPrint:function(){return b}});var l=s(155);function c({level:g="error",messages:v,suppressErrors:j=!1}){j||(g==="error"?console.error(v):g==="warning"?console.warn(v):console.debug(v))}function u(g,v){if(v||!g){const j=document.getElementById("printWindow");j&&document.body.removeChild(j)}}function d(g){return g instanceof Error?g:new Error("Unknown Error")}function f(g,v){const{documentTitle:j,onAfterPrint:C,onPrintError:x,preserveAfterPrint:N,print:S,suppressErrors:A}=v;setTimeout(()=>{var I,T;if(g.contentWindow){let R=function(){C==null||C(),u(N)};var E=R;if(g.contentWindow.focus(),S)S(g).then(R).catch(M=>{x?x("print",d(M)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:A})});else{if(g.contentWindow.print){const M=(T=(I=g.contentDocument)===null||I===void 0?void 0:I.title)!==null&&T!==void 0?T:"",L=g.ownerDocument.title;j&&(g.ownerDocument.title=j,g.contentDocument&&(g.contentDocument.title=j)),g.contentWindow.print(),j&&(g.ownerDocument.title=L,g.contentDocument&&(g.contentDocument.title=M))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:A});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(M=>{var L,P;return((P=(L=navigator.userAgent)!==null&&L!==void 0?L:navigator.vendor)!==null&&P!==void 0?P:"opera"in window&&window.opera).match(M)})?setTimeout(R,500):R()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:A})},500)}function m(g){const v=[],j=document.createTreeWalker(g,NodeFilter.SHOW_ELEMENT,null);let C=j.nextNode();for(;C;)v.push(C),C=j.nextNode();return v}function h(g,v,j){const C=m(g),x=m(v);if(C.length===x.length)for(let N=0;N<C.length;N++){const S=C[N],A=x[N],I=S.shadowRoot;if(I!==null){const T=A.attachShadow({mode:I.mode});T.innerHTML=I.innerHTML,h(I,T,j)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",g,v],suppressErrors:j})}const y=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function p(g,v,j,C){var x,N,S,A,I;const{contentNode:T,clonedContentNode:E,clonedImgNodes:R,clonedVideoNodes:M,numResourcesToLoad:L,originalCanvasNodes:P}=j,{bodyClass:_,fonts:q,ignoreGlobalStyles:F,pageStyle:O,nonce:V,suppressErrors:W,copyShadowRoots:$}=C;g.onload=null;const B=(x=g.contentDocument)!==null&&x!==void 0?x:(N=g.contentWindow)===null||N===void 0?void 0:N.document;if(B){const Q=B.body.appendChild(E);$&&h(T,Q,!!W),q&&(!((S=g.contentDocument)===null||S===void 0)&&S.fonts&&(!((A=g.contentWindow)===null||A===void 0)&&A.FontFace)?q.forEach(K=>{const Y=new FontFace(K.family,K.source,{weight:K.weight,style:K.style});g.contentDocument.fonts.add(Y),Y.loaded.then(()=>{v(Y)}).catch(ue=>{v(Y,["Failed loading the font:",Y,"Load error:",d(ue)])})}):(q.forEach(K=>{v(K)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:W})));const fe=O??y,ae=B.createElement("style");V&&(ae.setAttribute("nonce",V),B.head.setAttribute("nonce",V)),ae.appendChild(B.createTextNode(fe)),B.head.appendChild(ae),_&&B.body.classList.add(..._.split(" "));const J=B.querySelectorAll("canvas");for(let K=0;K<P.length;++K){const Y=P[K],ue=J[K];if(ue===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Y],suppressErrors:W});continue}const me=ue.getContext("2d");me&&me.drawImage(Y,0,0)}for(let K=0;K<R.length;K++){const Y=R[K],ue=Y.getAttribute("src");if(ue){const me=new Image;me.onload=()=>{v(Y)},me.onerror=(ve,De,_e,yt,Tt)=>{v(Y,["Error loading <img>",Y,"Error",Tt])},me.src=ue}else v(Y,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Y])}for(let K=0;K<M.length;K++){const Y=M[K];Y.preload="auto";const ue=Y.getAttribute("poster");if(ue){const me=new Image;me.onload=()=>{v(Y)},me.onerror=(ve,De,_e,yt,Tt)=>{v(Y,["Error loading video poster",ue,"for video",Y,"Error:",Tt])},me.src=ue}else Y.readyState>=2?v(Y):Y.src?(Y.onloadeddata=()=>{v(Y)},Y.onerror=(me,ve,De,_e,yt)=>{v(Y,["Error loading video",Y,"Error",yt])},Y.onstalled=()=>{v(Y,["Loading video stalled, skipping",Y])}):v(Y,["Error loading video, `src` is empty",Y])}const oe="select",ee=T.querySelectorAll(oe),re=B.querySelectorAll(oe);for(let K=0;K<ee.length;K++)re[K].value=ee[K].value;if(!F){const K=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Y=0,ue=K.length;Y<ue;++Y){const me=K[Y];if(me.tagName.toLowerCase()==="style"){const ve=B.createElement(me.tagName),De=me.sheet;if(De){let _e="";try{const yt=De.cssRules.length;for(let Tt=0;Tt<yt;++Tt)typeof De.cssRules[Tt].cssText=="string"&&(_e+=`${De.cssRules[Tt].cssText}\r
`)}catch(yt){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",me,`Original error: ${d(yt).message}`],level:"warning"})}ve.setAttribute("id",`react-to-print-${Y}`),V&&ve.setAttribute("nonce",V),ve.appendChild(B.createTextNode(_e)),B.head.appendChild(ve)}}else if(me.getAttribute("href"))if(me.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",me],level:"warning"}),v(me);else{const ve=B.createElement(me.tagName);for(let De=0,_e=me.attributes.length;De<_e;++De){const yt=me.attributes[De];yt&&ve.setAttribute(yt.nodeName,(I=yt.nodeValue)!==null&&I!==void 0?I:"")}ve.onload=()=>{v(ve)},ve.onerror=(De,_e,yt,Tt,vn)=>{v(ve,["Failed to load",ve,"Error:",vn])},V&&ve.setAttribute("nonce",V),B.head.appendChild(ve)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",me],level:"warning"}),v(me)}}}L===0&&f(g,C)}function b({bodyClass:g,contentRef:v,copyShadowRoots:j,documentTitle:C,fonts:x,ignoreGlobalStyles:N,nonce:S,onAfterPrint:A,onBeforePrint:I,onPrintError:T,pageStyle:E,preserveAfterPrint:R,print:M,suppressErrors:L}){return(0,l.useCallback)(P=>{function _(){const q={bodyClass:g,contentRef:v,copyShadowRoots:j,documentTitle:C,fonts:x,ignoreGlobalStyles:N,nonce:S,onAfterPrint:A,onPrintError:T,pageStyle:E,preserveAfterPrint:R,print:M,suppressErrors:L},F=function(){const W=document.createElement("iframe");return W.width=`${document.documentElement.clientWidth}px`,W.height=`${document.documentElement.clientHeight}px`,W.style.position="absolute",W.style.top=`-${document.documentElement.clientHeight+100}px`,W.style.left=`-${document.documentElement.clientWidth+100}px`,W.id="printWindow",W.srcdoc="<!DOCTYPE html>",W}(),O=function(W,$){const{contentRef:B,fonts:Q,ignoreGlobalStyles:fe,suppressErrors:ae}=$,J=function({contentRef:ue,optionalContent:me,suppressErrors:ve}){return me&&typeof me=="function"?(ue&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),me()):ue?ue.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:ve})}({contentRef:B,optionalContent:W,suppressErrors:ae});if(!J)return;const oe=J.cloneNode(!0),ee=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),re=oe.querySelectorAll("img"),K=oe.querySelectorAll("video"),Y=Q?Q.length:0;return{contentNode:J,clonedContentNode:oe,clonedImgNodes:re,clonedVideoNodes:K,numResourcesToLoad:(fe?0:ee.length)+re.length+K.length+Y,originalCanvasNodes:J.querySelectorAll("canvas")}}(P,q);if(!O)return void c({messages:["There is nothing to print"],suppressErrors:L});const V=function(W,$,B){const{suppressErrors:Q}=W,fe=[],ae=[];return function(J,oe){fe.includes(J)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",J],suppressErrors:Q}):(oe?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...oe],suppressErrors:Q}),ae.push(J)):fe.push(J),fe.length+ae.length===$&&f(B,W))}}(q,O.numResourcesToLoad,F);(function(W,$,B,Q){W.onload=()=>{p(W,$,B,Q)},document.body.appendChild(W)})(F,V,O,q)}u(R,!0),I?I().then(()=>{_()}).catch(q=>{T==null||T("onBeforePrint",d(q))}):_()},[g,v,j,C,x,N,S,A,I,T,E,R,M,L])}return i}()})})(FU);var ra=FU.exports;function Gje(){const t=de(),{records:e,currentNumber:r,isLoading:n}=H($=>$.communityTax),{customers:a,isLoading:s}=H($=>$.customers),{Add:i,Edit:l,Delete:c,Print:u}=Ce(34),[d,f]=w.useState("list"),[m,h]=w.useState(null),[y,p]=w.useState(""),[b,g]=w.useState(!1),[v,j]=w.useState({}),C=w.useRef();w.useEffect(()=>{t(Oc()),t(mn())},[t]);const x=()=>{h(null),f("form"),t(Ob())},N=$=>{h($),f("details")},S=$=>{h($),f("form"),console.log("Edit certificate:",$),W($.CustomerID)},A=ra.useReactToPrint({contentRef:C,documentTitle:"Community Tax Certificate"}),I=$=>{console.log("Print certificate:",$),A()},T=()=>{f("list"),h(null),j(null)},E=async $=>{try{await t(Rb($.ID)).unwrap(),t(Oc())}catch(B){console.error("Error deleting certificate:",B)}},R=e==null?void 0:e.filter($=>{var Q,fe,ae,J;const B=y.toLowerCase();return((Q=$==null?void 0:$.LinkID)==null?void 0:Q.toLowerCase().includes(B))||((fe=$==null?void 0:$.CustomerName)==null?void 0:fe.toLowerCase().includes(B))||((J=(ae=$==null?void 0:$.Customer)==null?void 0:ae.StreetAddress)==null?void 0:J.toLowerCase().includes(B))}),M=[{key:"LinkID",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Taxpayer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total Amount",sortable:!0,render:$=>L($),className:"text-right"},{key:"AmountReceived",header:"Received Amount",sortable:!0,render:$=>L($),className:"text-right"},{key:"InvoiceDate",header:"Date",sortable:!0,render:$=>new Date($).toLocaleDateString()},{key:"Employee",header:"Employee",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:$=>P($)}],L=$=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format($||0),P=$=>{let B="bg-neutral-100 text-neutral-800";switch($){case"Requested":B="bg-success-100 text-success-800";break;case"Posted":B="bg-warning-100 text-warning-800";break;case"Cancelled":B="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${B}`,children:$})},_=async($,B)=>{try{console.log(`${B}d:`,response.data),z.success(`Community Tax Individual ${B}d successfully`)}catch(Q){console.error(`Error ${B}ing Community Tax Individual:`,Q),z.error(`Error ${B}ing Community Tax Individual`)}finally{}},q=$=>{const B=[];return $.Status.toLowerCase().includes("rejected")&&l?(B.push({icon:Pe,title:"Edit",onClick:S,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),B.push({icon:TrashIcon,title:"Delete",onClick:E,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):$.Status.toLowerCase().includes("requested")&&B.push({icon:bn,title:"Approve",onClick:()=>_($,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>_($,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),B.push({icon:Zo,title:"View",onClick:N,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),B},F=()=>{g(!0)},O=()=>{g(!1)},V=async $=>{try{await t(_b($)).unwrap(),t(Oc()),z.success("Certificate saved successfully.")}catch(B){console.error("Error saving certificate:",B),z.error("Failed to save certificate. Please try again.")}finally{T()}},W=$=>{const B=a.find(Q=>Q.ID===$);j(B)};return o.jsxs(o.Fragment,{children:[d==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates"})]}),i&&o.jsxs("button",{type:"button",onClick:x,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:M,data:R,actions:q,loading:n||s,onRowClick:N})})]}),d==="form"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:T,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(Ja,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:m?"Edit Community Tax Certificate (INDIVIDUAL)":"Community Tax Certificate (INDIVIDUAL)"}),o.jsx("p",{className:"text-gray-600",children:m?"Update the certificate details":""})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[o.jsx("div",{className:"w-full sm:w-auto",children:o.jsx(ut,{options:(a==null?void 0:a.map($=>({label:$.Name||`${$.FirstName} ${$.MiddleName} ${$.LastName}`,value:$.ID})))||[],placeholder:"Choose Citizen",selectedValue:v==null?void 0:v.ID,onSelect:W,label:"Choose Citizen",required:!0})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"button",onClick:F,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),o.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),(m==null?void 0:m.Status)==="Posted"&&u&&o.jsx("button",{className:"btn btn-outline w-full sm:w-auto",children:"Print"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:v?o.jsx(c$,{selectedCustomer:v,initialData:m,onCancel:T,onSubmitForm:V,currentCertificateNumber:r},v==null?void 0:v.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a Citizen first to start"," "]})})]}),d==="details"&&m&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6  gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:T,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(Ja,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[l&&o.jsxs("button",{type:"button",onClick:()=>S(m),className:"btn btn-primary flex items-center",children:[o.jsx(Pe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),(m==null?void 0:m.Status)==="Posted"&&u&&o.jsxs("button",{type:"button",onClick:()=>I(m),className:"btn btn-outline flex items-center",children:[o.jsx(Zm,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(c$,{initialData:m,onCancel:T,isReadOnly:!0})})]}),o.jsx(le,{isOpen:b,onClose:O,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})}),o.jsx("div",{style:{display:"none"},children:o.jsx(Hje,{ref:C,certificate:m})})]})}const Yje=ce().shape({Year:D().required("Year is required").matches(/^\d{4}$/,"Year must be 4 digits"),PlaceIssued:D().required("Place of issue is required").max(100,"Place of issue must be less than 100 characters"),DateIssued:Ue().required("Date issued is required").max(new Date,"Date cannot be in the future"),CCNumber:D().required("Certificate number is required").matches(/^[A-Za-z0-9-]+$/,"Only letters, numbers and hyphens allowed"),Name:D().required("Company name is required").max(200,"Company name must be less than 200 characters"),TIN:D().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),Address:D().required("Business address is required").max(300,"Address must be less than 300 characters"),dateOfRegistration:Ue().required("Registration date is required"),KindofOrganization:D().required("Organization type is required").oneOf(["Corporation","Partnership","Association"],"Invalid organization type"),PlaceofIncorporation:D().required("Place of incorporation is required"),NatureOfOrganization:D().required("Business nature is required"),BasicTax:X().typeError("Must be a number").min(0,"Cannot be negative").required("Basic tax is required"),assessedValueRealProperty:X().typeError("Must be a number").min(0,"Cannot be negative"),assessedValueTax:X().typeError("Must be a number").min(0,"Cannot be negative"),grossReceipts:X().typeError("Must be a number").min(0,"Cannot be negative"),grossReceiptsTax:X().typeError("Must be a number").min(0,"Cannot be negative"),Total:X().typeError("Must be a number").min(0,"Cannot be negative").required("Total is required"),Interest:X().typeError("Must be a number").min(0,"Cannot be negative"),AmountPaid:X().typeError("Must be a number").min(0,"Cannot be negative").required("Total amount paid is required"),Remarks:D().max(500,"Remarks must be less than 500 characters"),AmountinWords:D().max(500,"Amount in words cannot exceed 500 characters")}),u$=({selectedVendor:t=null,initialData:e=null,onBack:r,onSubmitSuccess:n,readOnly:a})=>{const s=[{value:"Corporation",label:"Corporation"},{value:"Partnership",label:"Partnership"},{value:"Association",label:"Association"}],i=(e==null?void 0:e.Customer)||t;console.log("Customer Source:",i);const l=tt({initialValues:{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||(e==null?void 0:e.CustomerName)||"",TIN:(t==null?void 0:t.TIN)||(e==null?void 0:e.TIN)||"",Address:(i==null?void 0:i.StreetAddress)||"",dateOfRegistration:(i==null?void 0:i.DateofRegistration)||"",KindofOrganization:(i==null?void 0:i.KindofOrganization)||"Corporation",PlaceofIncorporation:(i==null?void 0:i.PlaceofIncorporation)||"",NatureOfOrganization:(i==null?void 0:i.NatureOfOrganization)||"",BasicTax:(e==null?void 0:e.BasicTax)||0,assessedValueRealProperty:(e==null?void 0:e.BusinessEarnings)||"",assessedValueTax:(e==null?void 0:e.BusinessTaxDue)||"",grossReceipts:(e==null?void 0:e.OccupationEarnings)||"",grossReceiptsTax:(e==null?void 0:e.OccupationTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||pI(),AmountPaid:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""},validationSchema:Yje,onSubmit:u=>{const f=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",CustomerID:e==null?void 0:e.CustomerID,ID:e.ID,...c(u)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...c(u)};console.log("Submitted values:",f),n(f)}}),c=u=>{const d={...u,InputOne:Number(u.assessedValueRealProperty),InputTwo:Number(u.grossReceipts),OutputOne:Number(u.assessedValueTax),OutputTwo:Number(u.grossReceiptsTax),BasicTax:Number(u.BasicTax),Total:Number(u.Total),AmountPaid:Number(u.AmountPaid),Interest:Number(u.Interest),Words:u.AmountinWords};return delete d.assessedValueRealProperty,delete d.assessedValueTax,delete d.grossReceipts,delete d.grossReceiptsTax,delete d.AmountinWords,d};return console.log("Formik Values:",l.errors),o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("form",{onSubmit:l.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(LP,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-2 sm:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(k,{label:"Year",name:"Year",value:l.values.Year,onChange:l.handleChange,onBlur:l.handleBlur,disabled:a,required:!0,error:l.touched.Year&&l.errors.Year,touched:l.touched.Year,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(k,{label:"Place of Issue (City/Mun/Province)",name:"PlaceIssued",value:l.values.PlaceIssued,onChange:l.handleChange,disabled:a,error:l.touched.PlaceIssued&&l.errors.PlaceIssued,required:!0,touched:l.touched.PlaceIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(k,{label:"Date Issued",name:"DateIssued",type:"date",value:l.values.DateIssued,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.DateIssued&&l.errors.DateIssued,touched:l.touched.DateIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(k,{label:"Certificate No.",name:"CCNumber",value:l.values.CCNumber,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:l.touched.CCNumber&&l.errors.CCNumber,touched:l.touched.CCNumber})})]}),o.jsx("div",{className:"text-right mb-4",children:o.jsx("span",{className:"bg-gray-100 px-3 py-1 text-sm font-medium",children:"TAXPAYER'S COPY"})})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(oV,{className:"h-5 w-5"}),"Company Information"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(k,{label:"Company's Full Name",name:"Name",value:l.values.Name,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.Name&&l.errors.Name,touched:l.touched.Name,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(k,{label:"TIN (if Any)",name:"TIN",value:l.values.TIN,onChange:l.handleChange,disabled:a,onBlur:l.handleBlur,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.TIN&&l.errors.TIN,touched:l.touched.TIN})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(k,{label:" Address of Principal Place of Business",name:"Address",value:l.values.Address,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.Address&&l.errors.Address,touched:l.touched.Address})}),o.jsx("div",{children:o.jsx(k,{label:"Date of Registration/Incorporation",name:"dateOfRegistration",type:"date",value:l.values.dateOfRegistration,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.dateOfRegistration&&l.errors.dateOfRegistration,touched:l.touched.dateOfRegistration})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(k,{label:"Kind of Organization",name:"KindofOrganization",type:"radio",value:l.values.KindofOrganization,onChange:l.handleChange,options:s,disabled:a,error:l.touched.KindofOrganization&&l.errors.KindofOrganization,touched:l.touched.KindofOrganization})}),o.jsx("div",{children:o.jsx(k,{label:"Place of Incorporation",name:"PlaceofIncorporation",value:l.values.PlaceofIncorporation,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.PlaceofIncorporation&&l.errors.PlaceofIncorporation,touched:l.touched.PlaceofIncorporation})})]}),o.jsx("div",{children:o.jsx(k,{label:"Kind/Nature of Business",name:"NatureOfOrganization",value:l.values.NatureOfOrganization,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.NatureOfOrganization&&l.errors.NatureOfOrganization,touched:l.touched.NatureOfOrganization})})]})})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(iV,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. BASIC COMMUNITY TAX ( 500.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(k,{name:"BasicTax",label:"Community Due Amount:",value:l.values.BasicTax,onChange:l.handleChange,disabled:a,className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:l.touched.BasicTax&&l.errors.BasicTax,touched:l.touched.BasicTax})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. ADDITIONAL COMMUNITY TAX (tax not exceed 10,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. ASSESSED VALUE OF REAL PROPERTY OWNED IN THE PHILIPPINES (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(k,{name:"assessedValueRealProperty",value:l.values.assessedValueRealProperty,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.assessedValueRealProperty&&l.errors.assessedValueRealProperty,touched:l.touched.assessedValueRealProperty})}),o.jsx("div",{children:o.jsx(k,{name:"assessedValueTax",value:l.values.assessedValueTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.assessedValueTax&&l.errors.assessedValueTax,touched:l.touched.assessedValueTax})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. GROSS RECEIPTS, INCLUDING DIVIDENDS/EARNINGS DERIVED FROM BUSINESS IN THE PHIL. DURING THE PRECEDING YEAR (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(k,{name:"grossReceipts",value:l.values.grossReceipts,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.grossReceipts&&l.errors.grossReceipts,touched:l.touched.grossReceipts})}),o.jsx("div",{children:o.jsx(k,{name:"grossReceiptsTax",value:l.values.grossReceiptsTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.grossReceiptsTax&&l.errors.grossReceiptsTax,touched:l.touched.grossReceiptsTax})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[o.jsx("div",{className:"md:w-1/3 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"TOTAL"}),o.jsx(k,{name:"Total",value:l.values.Total,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"Total",error:l.touched.Total&&l.errors.Total,touched:l.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"INTEREST %"}),o.jsx(k,{name:"Interest",value:l.values.Interest,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"%",error:l.touched.Interest&&l.errors.Interest,touched:l.touched.Interest})]})]})}),o.jsx("div",{className:"md:w-1/3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"TOTAL AMOUNT PAID"}),o.jsx(k,{name:"AmountPaid",value:l.values.AmountPaid,onChange:l.handleChange,disabled:a,error:l.touched.AmountPaid&&l.errors.AmountPaid,touched:l.touched.AmountPaid,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono font-bold text-lg text-white focus:ring-2 focus:ring-white/50 focus:outline-none"})]})}),o.jsx("div",{className:"md:w-1/3 flex justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right w-full md:w-auto",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:bs(l.values.AmountPaid)||"-"})]})})]})}),o.jsx("div",{children:o.jsx(k,{label:"Remarks",name:"Remarks",type:"textarea",value:l.values.Remarks,onChange:l.handleChange,disabled:a,className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3,error:l.touched.Remarks&&l.errors.Remarks,touched:l.touched.Remarks})})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(At,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:l.isSubmitting,children:l.isSubmitting?"Generating...":"Generate Certificate"})]})]}),l.submitCount>0&&Object.keys(l.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(l.errors).map(([u,d])=>o.jsx("li",{children:d},u))})]})]})},gh="https://staging-engine.testthelink.online",Kje=[],_c=U("corporateCommunityTax/fetchCorporateCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gh}/corporate-ctc/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),D1=U("corporateCommunityTax/fetchCorporateCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gh}/corporate-ctc/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),$b=U("corporateCommunityTax/addCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gh}/corporate-ctc/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),O1=U("corporateCommunityTax/updateCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gh}/corporate-ctc/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Mb=U("corporateCommunityTax/deleteCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gh}/corporate-ctc/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete corporate community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),BU=we({name:"corporateCommunityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCorporateCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(_c.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_c.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(_c.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community taxes",console.warn("Failed to fetch corporate community taxes, using mock data.",e.error),e.records=Kje}).addCase(D1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(D1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(D1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community tax record"}).addCase($b.pending,e=>{e.isLoading=!0,e.error=null}).addCase($b.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase($b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add corporate community tax record",console.error("Failed to add corporate community tax record:",e.error)}).addCase(O1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(O1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(O1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update corporate community tax record",console.error("Failed to update corporate community tax record:",e.error)}).addCase(Mb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(Mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete corporate community tax record",console.error("Failed to delete corporate community tax record:",e.error)})}}),{clearCurrentCorporateCommunityTax:z9e}=BU.actions,Jje=BU.reducer,Xje=G.forwardRef(({certificate:t,vendor:e},r)=>t?o.jsxs("div",{ref:r,style:{width:700,margin:"0 auto",background:"#fff",color:"#222",fontFamily:"monospace",padding:"32px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12},children:[o.jsx("div",{children:"Angadanan"}),o.jsx("div",{children:t.DateIssued?new Date(t.DateIssued).toLocaleDateString("en-GB").split("/").join(" "):"22 08 2025"})]}),o.jsx("div",{children:(e==null?void 0:e.Name)||t.CustomerName||"Company Name"}),o.jsx("div",{children:(e==null?void 0:e.StreetAddress)||t.Address||"Washington street"}),o.jsxs("div",{style:{display:"flex",gap:"2em",marginBottom:10},children:[o.jsx("div",{children:t.Nationality||"Afghan"}),o.jsx("div",{children:t.GrossReceipts?Number(t.GrossReceipts).toLocaleString():"24,132,654.00"}),o.jsx("div",{children:t.PlaceOfBusiness||"Sultan Kudarat"}),o.jsx("div",{children:t.Height||"200 cm"})]}),o.jsxs("div",{style:{display:"flex",gap:"2em",marginBottom:10},children:[o.jsx("div",{children:t.BusinessNature||"Garbage Collector"}),o.jsx("div",{children:t.Checked?"":""}),o.jsx("div",{children:t.TimeIssued||"00 12:00:00AM"}),o.jsx("div",{children:t.Weight||"50 kg"}),o.jsx("div",{children:t.OtherAmount||"5.00"})]}),o.jsxs("div",{style:{display:"flex",gap:"3em",marginBottom:3},children:[o.jsx("div",{children:t.AmountA||"64,000.00"}),o.jsx("div",{children:t.AmountB||"64.00"})]}),o.jsxs("div",{style:{display:"flex",gap:"3em",marginBottom:3},children:[o.jsx("div",{children:t.AmountC||"25,000.00"}),o.jsx("div",{children:t.AmountD||"25.00"})]}),o.jsxs("div",{style:{display:"flex",gap:"3em",marginBottom:3},children:[o.jsx("div",{children:t.AmountE||"3,000.00"}),o.jsx("div",{children:t.AmountF||"3.00"})]}),o.jsx("div",{children:t.NetTaxDue||"111.72"}),o.jsx("div",{children:t.Rate||"16 %"}),o.jsx("div",{children:t.NetTaxDue2||"111.72"}),o.jsx("div",{style:{marginTop:22,fontWeight:"bold"},children:t.AmountInWords||"ONE HUNDRED AND ELEVEN PESOS AND 72/100"})]}):null);function Qje(){const[t,e]=w.useState("list"),[r,n]=w.useState(null),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),{Add:d,Edit:f,Delete:m,Print:h}=Ce(35),{records:y,isLoading:p}=H(V=>V.corporateCommunityTax),{vendorDetails:b,isLoading:g}=H(V=>V.vendorDetails),v=de(),j=w.useRef(),C=ra.useReactToPrint({contentRef:j,documentTitle:"Corporation Community Tax Certificate"});w.useEffect(()=>{v(Va()),v(_c())},[v]);const x=()=>{n(null),e("form")},N=V=>{n(V),e("details")},S=V=>{n(V),console.log("Edit certificate:",V),O(V.CustomerID),e("form")},A=V=>{console.log("Print certificate:",V),C()},I=()=>{e("list"),n(null),l(null)},T=[{key:"CustomerID",header:"Customer ID",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:V=>E(V),className:"text-right"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:V=>E(V),className:"text-right"},{key:"Earnings",header:"Earnings",sortable:!0,render:V=>E(V),className:"text-right"},{key:"TaxDue",header:"Tax Due",sortable:!0,render:V=>E(V),className:"text-right"},{key:"Year",header:"Year",sortable:!0},{key:"IssuedBy",header:"Issued By",sortable:!0},{key:"Status",header:"Status",render:V=>R(V)}],E=V=>V>=1e6?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(V):new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(V),R=V=>{let W="bg-neutral-100 text-neutral-800";switch(V){case"Posted":W="bg-green-100 text-green-800";break;case"Requested":W="bg-yellow-100 text-yellow-800";break;case"Cancelled":W="bg-red-100 text-red-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${W}`,children:V})},M=async V=>{try{await v(Mb(V.ID)).unwrap(),v(_c()),console.log("Certificate deleted and data reFetched"),z.success("Certificate deleted successfully.")}catch(W){console.error("Error deleting certificate:",W),z.error("Failed to delete certificate. Please try again.")}finally{I()}},L=async(V,W)=>{u(!0);try{console.log(`${W}d:`,response.data),z.success(`Community Tax Corporation ${W}d successfully`)}catch($){console.error(`Error ${W}ing Community Tax Corporation:`,$),z.error(`Error ${W}ing Community Tax Corporation`)}finally{u(!1)}},P=V=>{const W=[];return V.Status.toLowerCase().includes("rejected")&&f?(W.push({icon:Pe,title:"Edit",onClick:S,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),W.push({icon:TrashIcon,title:"Delete",onClick:M,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):V.Status.toLowerCase().includes("requested")&&W.push({icon:bn,title:"Approve",onClick:()=>L(V,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>L(V,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),W.push({icon:Zo,title:"View",onClick:N,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),W},_=()=>{s(!0)},q=()=>{s(!1)},F=async V=>{try{await v($b(V)).unwrap(),v(_c()),z.success("Certificate saved successfully.")}catch(W){console.error("Error saving certificate:",W),z.error("Failed to save certificate. Please try again.")}finally{I()}},O=V=>{const W=b.find($=>$.ID===V);l(W),console.log("Selected vendor:",W)};return o.jsxs(o.Fragment,{children:[t==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Corporation Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage corporation tax certificates"})]}),d&&o.jsxs("button",{type:"button",onClick:x,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(xe,{columns:T,data:y,actions:P,loading:g||p||c,onRowClick:N})})]}),t==="form"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:I,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(Ja,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Community Tax Certificate (CORPORATE)":"Community Tax Certificate (CORPORATE)"}),o.jsx("p",{className:"text-gray-600",children:r?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[o.jsx("div",{className:"sm:w-auto w-full",children:o.jsx(ut,{options:(b==null?void 0:b.map(V=>({label:V.Name,value:V.ID})))||[],selectedValue:i==null?void 0:i.ID,label:"Choose Vendor",placeholder:"Choose Vendor",onSelect:O,required:!0})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"button",onClick:_,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),o.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),(r==null?void 0:r.Status)==="Posted"&&h&&o.jsx("button",{className:"btn btn-outline w-full sm:w-auto",onClick:C,children:"Print"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:i?o.jsx(u$,{selectedVendor:i,initialData:r,onCancel:I,onSubmitSuccess:F,readOnly:!1},i==null?void 0:i.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a vendor first to start"," "]})})]}),t==="details"&&r&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:I,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(Ja,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[f&&o.jsxs("button",{type:"button",onClick:()=>S(r),className:"btn btn-primary flex items-center",children:[o.jsx(Pe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),(r==null?void 0:r.Status)==="Posted"&&h&&o.jsxs("button",{type:"button",onClick:()=>A(r),className:"btn btn-outline flex items-center",children:[o.jsx(Zm,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(u$,{initialData:r,readOnly:!0,onBack:I})})]}),o.jsx(le,{isOpen:a,onClose:q,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})}),o.jsx("div",{style:{display:"none"},children:o.jsx(Xje,{ref:j,certificate:r,vendor:i})})]})}function Zje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=[{id:1,receiptNumber:"MC-2024-01-0001",date:"2024-01-15",stallNumber:"A-101",stallType:"Dry Goods",stallOwner:"John Smith",period:"January 2024",amount:1500,status:"Paid"},{id:2,receiptNumber:"MC-2024-01-0002",date:"2024-01-15",stallNumber:"B-203",stallType:"Wet Market",stallOwner:"Jane Doe",period:"January 2024",amount:2e3,status:"Paid"}],s=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),i=[{key:"receiptNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"stallNumber",header:"Stall No.",sortable:!0},{key:"stallType",header:"Type",sortable:!0},{key:"stallOwner",header:"Owner",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"amount",header:"Amount",sortable:!0,render:m=>s(m),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:m=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m==="Paid"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:m})}],l=[{icon:Zo,title:"View",onClick:m=>u(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Pe,title:"Edit",onClick:m=>d(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{n(m),e(!0)},f=async(m,{setSubmitting:h})=>{try{await pR.validate(m,{abortEarly:!1}),console.log("Form data:",m),e(!1)}catch(y){console.error("Validation errors:",y.errors)}finally{h(!1)}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Market Collections"}),o.jsx("p",{children:"Manage market stall rental collections"})]}),o.jsxs("button",{type:"button",onClick:c,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"New Collection"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:i,data:a,actions:l,pagination:!0})}),o.jsx(le,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Collection":"New Collection",size:"lg",children:o.jsx(qe,{initialValues:{date:new Date().toISOString().split("T")[0],stallNumber:"",stallType:"",stallOwner:"",period:"",amount:"",...r},validationSchema:pR,onSubmit:f,children:({values:m,errors:h,touched:y,handleChange:p,handleBlur:b,isSubmitting:g})=>o.jsxs(We,{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Date",name:"date",type:"date",required:!0,value:m.date,onChange:p,onBlur:b,error:h.date,touched:y.date}),o.jsx(k,{label:"Period",name:"period",type:"select",required:!0,value:m.period,onChange:p,onBlur:b,error:h.period,touched:y.period,options:[{value:"January 2024",label:"January 2024"},{value:"February 2024",label:"February 2024"},{value:"March 2024",label:"March 2024"}]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Stall Number",name:"stallNumber",type:"text",required:!0,placeholder:"Enter stall number",value:m.stallNumber,onChange:p,onBlur:b,error:h.stallNumber,touched:y.stallNumber}),o.jsx(k,{label:"Stall Type",name:"stallType",type:"select",required:!0,value:m.stallType,onChange:p,onBlur:b,error:h.stallType,touched:y.stallType,options:[{value:"Dry Goods",label:"Dry Goods"},{value:"Wet Market",label:"Wet Market"},{value:"Food Stall",label:"Food Stall"}]})]}),o.jsx(k,{label:"Stall Owner",name:"stallOwner",type:"text",required:!0,placeholder:"Enter stall owner name",value:m.stallOwner,onChange:p,onBlur:b,error:h.stallOwner,touched:y.stallOwner}),o.jsx(k,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",value:m.amount,onChange:p,onBlur:b,error:h.amount,touched:y.amount,min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:g,className:"btn btn-primary",children:g?"Saving...":r?"Update":"Save"})]})]})})})]})}const ewe=ce().shape({CustomerName:D().required("Name is required"),CustomerID:X(),DeceasedCustomerName:D().required("Deceased name is required"),DeceasedCustomerID:X(),Nationality:D().required("Nationality is required"),NationalityID:X().required("Nationality is required"),Age:X().required("Age is required").min(0,"Age must be positive"),Sex:D().required("Sex is required"),DeathDate:Ue().required("Date of death is required"),CauseofDeath:D().required("Cause of death is required"),Cementery:D().required("Cemetery name is required"),BurialType:D().required("Service type is required"),Infectious:Rs(),Embalmed:Rs(),Disposition:D().when("BurialType",{is:t=>["disinter","remove"].includes(t),then:D().required("Disposition remarks are required")}),InvoiceDate:Ue().required("Invoice date is required"),paymentMethod:D().required("Payment method is required"),Total:X().required("Amount received is required").min(0,"Amount must be positive"),referenceNumber:D(),Remarks:D()}),twe="https://staging-engine.testthelink.online";function rwe({initialData:t,onClose:e,onSubmit:r,nationalities:n,customers:a}){const[s,i]=w.useState(!1),l={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||"",DeceasedCustomerName:(t==null?void 0:t.DeceasedCustomerName)||"",DeceasedCustomerID:(t==null?void 0:t.DeceasedCustomerID)||"",Nationality:(t==null?void 0:t.Nationality)||"",NationalityID:(t==null?void 0:t.NationalityID)||"",Age:(t==null?void 0:t.Age)||"",Sex:(t==null?void 0:t.Sex)||"",DeathDate:(t==null?void 0:t.DeathDate)||"",CauseofDeath:(t==null?void 0:t.CauseofDeath)||"",Cementery:(t==null?void 0:t.Cementery)||"",BurialType:(t==null?void 0:t.BurialType)||"inter",Infectious:(t==null?void 0:t.Infectious)||!1,Embalmed:(t==null?void 0:t.Embalmed)||!1,Disposition:(t==null?void 0:t.Disposition)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerID:(t==null?void 0:t.CustomerID)||"",paymentMethod:(t==null?void 0:t.paymentMethod)||"",Total:(t==null?void 0:t.Total)||"",ReferenceNumber:(t==null?void 0:t.ReferenceNumber)||"",Remarks:(t==null?void 0:t.Remarks)||"",Attachments:(t==null?void 0:t.Attachments)||[]},c=(y,p,b)=>{const v=Array.from(y.target.files).map(j=>j);p("Attachments",[...b.Attachments,...v])},u=(y,p,b)=>{const g=[...b.Attachments];g.splice(y,1),p("Attachments",g)},d=(y,p)=>{const b=y.target.value;p("BurialType",b),i(b!=="INTER")},f=async(y,{setSubmitting:p})=>{console.log("Form values:",y);try{await r(y),e()}catch(b){console.error("Submission failed:",b),z.error(b.message||"Submission failed. Please try again.")}finally{p(!1)}},m=a==null?void 0:a.map(y=>({value:y.ID,label:y.Name||`${y.FirstName} ${y.MiddleName} ${y.LastName}`})),h=n==null?void 0:n.map(y=>({value:y.ID,label:y.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx(qe,{initialValues:l,validationSchema:ewe,onSubmit:f,enableReinitialize:!0,children:({values:y,errors:p,touched:b,handleChange:g,setFieldValue:v,isSubmitting:j,handleBlur:C,submitCount:x})=>o.jsxs(We,{className:"space-y-4  bg-white rounded-lg",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:N=>c(N,v,y),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),y.Attachments.length>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:y.Attachments.map((N,S)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx($s,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:N.ID?o.jsx("a",{href:`${twe}/uploads/${N.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:N.name||N.DataName}):N.name||N.DataName})]}),o.jsx("button",{type:"button",onClick:()=>u(S,v,y),className:"text-red-500 hover:text-red-700",children:o.jsx(Qt,{className:"h-4 w-4"})})]},S))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx("div",{className:"text-center",children:o.jsx(k,{name:"InvoiceNumber",type:"text",value:y.InvoiceNumber||"BU-RE-36AL-CEIPT",readOnly:!0,className:"font-bold text-center"})}),o.jsx("div",{children:o.jsx(ut,{label:"MR. / MRS.",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:N=>{const S=m.find(A=>A.value===N);v("CustomerName",(S==null?void 0:S.label)||""),v("CustomerID",(S==null?void 0:S.value)||"")},selectedValue:y.CustomerID,error:p.CustomerName,touched:b.CustomerName})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ut,{label:"Name of Deceased",name:"DeceasedCustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:N=>{const S=m.find(A=>A.value===N);v("DeceasedCustomerName",(S==null?void 0:S.label)||""),v("DeceasedCustomerID",(S==null?void 0:S.value)||"")},selectedValue:y.DeceasedCustomerID,error:p.DeceasedCustomerName,touched:b.DeceasedCustomerName}),o.jsx(ut,{label:"Nationality",name:"NationalityID",type:"select",options:h,required:!0,placeholder:"Select Nationality",onSelect:N=>{const S=h.find(A=>A.value===N);v("NationalityID",N||""),v("Nationality",(S==null?void 0:S.label)||"")},className:"w-full",selectedValue:y.NationalityID,error:p.Nationality,touched:b.Nationality}),o.jsx(k,{label:"Age",name:"Age",type:"number",required:!0,value:y.Age,onChange:g,touched:b.Age,error:b.Age&&p.Age}),o.jsx(k,{label:"Sex",name:"Sex",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],value:y.Sex,onChange:g,touched:b.Sex,required:!0,error:b.sex&&p.sex}),o.jsx(k,{label:"Date of Death",name:"DeathDate",type:"date",required:!0,value:y.DeathDate,onChange:g,touched:b.DeathDate,error:b.DeathDate&&p.DeathDate}),o.jsx(k,{label:"Cause of Death",name:"CauseofDeath",type:"text",required:!0,value:y.CauseofDeath,onChange:g,touched:b.CauseofDeath,error:b.CauseofDeath&&p.CauseofDeath}),o.jsx(k,{label:"Name of Cemetery",name:"Cementery",type:"text",required:!0,value:y.Cementery,onChange:g,touched:b.Cementery,error:b.Cementery&&p.Cementery})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block font-medium",children:"Service Type"}),o.jsx("div",{className:"flex space-x-4",children:["INTER","DISINTER","REMOVE"].map(N=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",name:"BurialType",value:N,checked:y.BurialType===N,onChange:S=>d(S,v),className:"form-radio"}),o.jsx("span",{className:"ml-2",children:N.toUpperCase()})]},N))}),b.BurialType&&p.BurialType&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:p.BurialType})]}),s&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Infectious",value:y.Infectious,checked:y.Infectious,onChange:g,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Infectious"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Embalmed",value:y.Embalmed,checked:y.Embalmed,onChange:g,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Embalmed"})]})]}),o.jsx(k,{label:"Disposition of Remains",name:"Disposition",type:"textarea",rows:2,value:y.Disposition,onChange:g,onBlur:C,required:y.BurialType!=="INTER",error:b.Disposition&&p.Disposition})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Invoice Date",name:"InvoiceDate",type:"date",required:!0,value:y.InvoiceDate,onChange:g,onBlur:C,error:b.InvoiceDate&&p.InvoiceDate}),o.jsx(k,{label:"Payment Method",name:"paymentMethod",type:"select",options:[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"card",label:"Credit Card"}],required:!0,value:y.paymentMethod,onChange:g,onBlur:C,touched:b.paymentMethod,error:b.paymentMethod&&p.paymentMethod}),o.jsx(k,{label:"Amount Received",name:"Total",type:"number",required:!0,min:"0",value:y.Total,onChange:g,onBlur:C,touched:b.Total,error:b.Total&&p.Total}),o.jsx(k,{label:"Reference Number",name:"ReferenceNumber",type:"text",value:y.ReferenceNumber,onChange:g,onBlur:C,touched:b.ReferenceNumber,error:b.ReferenceNumber&&p.ReferenceNumber})]}),o.jsx(k,{label:"Remarks",name:"Remarks",type:"textarea",rows:2,value:y.Remarks,onChange:g,onBlur:C,touched:b.Remarks,error:b.Remarks&&p.Remarks}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:j?"Submitting...":"Submit"})]}),x>0&&Object.keys(p).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(p).map(([N,S])=>o.jsx("li",{children:S},N))})]})]})})]})}const yh="https://staging-engine.testthelink.online",nwe=[],pf=U("burialRecords/fetchBurialRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yh}/burialrecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial records");return a}catch(r){return e.rejectWithValue(r.message)}}),_1=U("burialRecords/fetchBurialRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yh}/burialrecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Lb=U("burialRecords/addBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yh}/burialrecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),R1=U("burialRecords/updateBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yh}/burialrecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Fb=U("burialRecords/deleteBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yh}/burialrecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete burial record")}return t}catch(r){return e.rejectWithValue(r.message)}}),qU=we({name:"burialRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(pf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pf.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(pf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial records",console.warn("Failed to fetch burial records, using mock data.",e.error),e.records=nwe}).addCase(_1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(_1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial record"}).addCase(Lb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add burial record",console.error("Failed to add burial record:",e.error)}).addCase(R1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(R1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(R1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update burial record",console.error("Failed to update burial record:",e.error)}).addCase(Fb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete burial record",console.error("Failed to delete burial record:",e.error)})}}),{clearCurrentRecord:W9e}=qU.actions,awe=qU.reducer;function swe(){const t=de(),{Add:e,Edit:r,Delete:n,Print:a}=Ce(28),{customers:s,isLoading:i}=H(I=>I.customers),{nationalities:l,isLoading:c}=H(I=>I.nationalities),{records:u,isLoading:d}=H(I=>I.burialRecords),[f,m]=w.useState(!1),[h,y]=w.useState(null);w.useEffect(()=>{t(tl()),t(pf()),t(mn())},[t]);const p=w.useRef(),b=ra.useReactToPrint({contentRef:p,documentTitle:"Burial Service Receipt"}),g=[{key:"InvoiceNumber",header:"Receipt No",sortable:!0,className:"font-medium text-neutral-900",render:I=>o.jsx("div",{className:"flex items-center gap-1",children:I||""})},{key:"CustomerName",header:"Name",sortable:!0,render:I=>(I==null?void 0:I.trim())||"N/A"},{key:"Municipality",header:"Municipality",sortable:!0,render:I=>I||""},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"DocumentType.Name",header:"Service Type",sortable:!0,render:(I,T)=>{var E;return((E=T.DocumentType)==null?void 0:E.Name)||""},className:"text-gray-500"},{key:"Total",header:"Amount",sortable:!0,render:I=>v(I||"0.00"),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:I=>I||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:I=>({1:"General Fund",2:"Special Education Fund"})[I]||""}],v=I=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(I),j=()=>{y(null),m(!0)},C=I=>{y(I),m(!0)},x=async I=>{console.log("Deleting ticket:",I);try{await t(Fb(I.ID)).unwrap(),z.success("Burial Receipt deleted successfully")}catch(T){z.error(T.message||"Failed to delete Burial Receipt")}},N=()=>{m(!1),y(null)},S=async I=>{const T=new FormData;for(const E in I)if(E!=="Attachments"){const R=typeof I[E]=="object"?JSON.stringify(I[E]):I[E];E==="TransactionItemsAll"?T.append("Items",R):T.append(E,R)}I==null||I.Attachments.forEach((E,R)=>{E.ID?T.append(`Attachments[${R}].ID`,E.ID):T.append(`Attachments[${R}].File`,E)}),h?(T.append("IsNew","false"),T.append("LinkID",h.LinkID),T.append("ID",h.ID)):T.append("IsNew","true");try{await t(Lb(T)).unwrap(),h?z.success("Burial Receipt Updated Successfully"):z.success("Burial Receipt Added Successfully"),t(pf())}catch(E){z.error(E.message||"Something went wrong")}finally{N()}},A=[r&&{icon:Na,title:"Edit",onClick:C,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},n&&{icon:Ca,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Burial Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Burial Service Receipts"})]}),o.jsxs("div",{className:"flex gap-2",children:[e&&o.jsxs("button",{onClick:j,className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add New Receipt"]}),a&&o.jsxs("button",{onClick:b,className:"btn btn-primary disabled:opacity-50",disabled:!(h!=null&&h.Status.includes("Posted")),children:[o.jsx(Jc,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(xe,{columns:g,data:u,className:"min-w-full divide-y divide-gray-200",actions:A,onRowClick:I=>y(I),selectedRow:h,isLoading:d||c||i})}),o.jsx(le,{isOpen:f,onClose:N,title:h?"Edit Burial Service Receipt":"New Burial Service Receipt ",children:o.jsx(rwe,{initialData:h,onClose:N,onSubmit:S,nationalities:l,customers:s})}),o.jsx("div",{style:{display:"none"},children:o.jsx(owe,{ref:p,receipt:h})})]})}const owe=w.forwardRef(({receipt:t},e)=>{var r,n;return t?o.jsxs("div",{ref:e,style:{width:400,margin:"0 auto",background:"#fff",color:"#111",fontFamily:"monospace",padding:"32px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[o.jsx("div",{children:t.InvoiceDate?new Date(t.InvoiceDate).toLocaleDateString("en-US"):"08/22/2025"}),o.jsx("div",{children:t.InvoiceNumber||"528"})]}),o.jsx("div",{style:{textAlign:"right",marginBottom:12},children:(t.FundsID,"Fund")}),o.jsx("div",{style:{marginBottom:24},children:t.CustomerName||"Leivan Jake Baguio"}),o.jsxs("div",{style:{marginBottom:12},children:[o.jsx("span",{children:t.Items?(r=t.Items[0])==null?void 0:r.Description:"Big Item"}),o.jsx("span",{style:{marginLeft:"5em"},children:t.Items?Number(((n=t.Items[0])==null?void 0:n.UnitPrice)||0).toFixed(2):"175.00"}),o.jsx("span",{style:{marginLeft:"3em"},children:t.Total?Number(t.Total).toFixed(2):"1,350.00"})]}),o.jsx("div",{style:{textAlign:"right",marginTop:"4em",fontWeight:"bold",fontSize:"1.1em"},children:t.Total?Number(t.Total).toFixed(2):"1,350.00"}),o.jsx("div",{style:{marginTop:"1.5em",fontWeight:"bold"},children:t.AmountInWords||"TWO THOUSAND SEVEN"})]}):null}),iwe="https://staging-engine.testthelink.online",lwe=ce().shape({InvoiceNumber:D().required("Invoice number is required"),CustomerName:D().required("Customer is required"),CustomerAge:X().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),Remarks:D().required("Remarks are required"),InvoiceDate:Ue().required("Invoice date is required"),Cenomar:D().required("CENOMAR is required"),MarrytoID:D().required('"Marry to" is required'),MarrytoName:D().required('"Marry to Name" is required'),MarrytoAge:X().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),RegisterNumber:D().required("Register number is required"),Total:X().required("Price is required").min(0,"Price cannot be negative"),RemainingBalance:X().required("Balance is required").min(0,"Balance cannot be negative"),AmountReceived:X().required("Amount received is required").min(0,"Amount cannot be negative"),Attachments:zt()});function cwe({initialData:t,customers:e,onClose:r,onSubmit:n}){const[a,s]=w.useState(!1),[i,l]=w.useState([]),c={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"MA-RE-30GE-CEIPT",CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerAge:(t==null?void 0:t.CustomerAge)||"",Remarks:(t==null?void 0:t.Remarks)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],Cenomar:(t==null?void 0:t.Cenomar)||"",MarrytoID:(t==null?void 0:t.MarrytoID)||"",MarrytoName:(t==null?void 0:t.MarrytoName)||"",MarrytoAge:(t==null?void 0:t.MarrytoAge)||"",RegisterNumber:(t==null?void 0:t.RegisterNumber)||"",Total:(t==null?void 0:t.Total)||0,RemainingBalance:(t==null?void 0:t.RemainingBalance)||0,AmountReceived:(t==null?void 0:t.AmountReceived)||0,Attachments:(t==null?void 0:t.Attachments)||[]},u=async h=>{s(!0);try{await n(h),r()}catch(y){console.error("Error submitting form:",y),z.error(y.message||"Submission failed. Please try again.")}finally{s(!1)}},d=(h,y,p)=>{const g=Array.from(h.target.files).map(v=>v);y("Attachments",[...p.Attachments,...g])},f=(h,y,p)=>{const b=[...p.Attachments];b.splice(h,1),y("Attachments",b)},m=e==null?void 0:e.map(h=>({value:h.ID,label:h.Name||`${h.FirstName} ${h.MiddleName} ${h.LastName}`}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx(qe,{initialValues:c,validationSchema:lwe,onSubmit:u,enableReinitialize:!0,children:({values:h,errors:y,touched:p,handleChange:b,handleBlur:g,setFieldValue:v})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:j=>d(j,v,h),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),(h==null?void 0:h.Attachments.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.Attachments.map((j,C)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx($s,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:j.ID?o.jsx("a",{href:`${iwe}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:j.name||j.DataName}):j.name||j.DataName})]}),o.jsx("button",{type:"button",onClick:()=>f(C,v,h),className:"text-red-500 hover:text-red-700",children:o.jsx(Qt,{className:"h-4 w-4"})})]},C))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(k,{label:"Invoice Number",name:"InvoiceNumber",type:"text",disabled:!0,readOnly:!0,value:h.InvoiceNumber,onChange:b,onBlur:g,error:y.InvoiceNumber,touched:p.InvoiceNumber,className:"bg-gray-200 cursor-not-allowed"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(ut,{label:"Customer",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const C=m.find(x=>x.value===j);v("CustomerName",(C==null?void 0:C.label)||""),v("CustomerID",(C==null?void 0:C.value)||"")},selectedValue:h.CustomerID,error:y.CustomerName,touched:p.CustomerName}),o.jsx(k,{label:"Age",name:"CustomerAge",type:"number",placeholder:"Enter customer age",required:!0,value:h.CustomerAge,onChange:b,onBlur:g,error:y.CustomerAge,touched:p.CustomerAge,min:"1"})]}),o.jsx(k,{label:"Remarks",name:"Remarks",type:"textarea",placeholder:"Enter remarks",rows:3,required:!0,value:h.Remarks,onChange:b,onBlur:g,error:y.Remarks,touched:p.Remarks}),o.jsx(k,{label:"Invoice Date",name:"InvoiceDate",type:"date",placeholder:"Enter invoice date",required:!0,value:h.InvoiceDate,onChange:b,onBlur:g,error:y.InvoiceDate,touched:p.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"CENOMAR",name:"Cenomar",type:"text",required:!0,placeholder:"Enter CENOMAR",value:h.Cenomar,onChange:b,onBlur:g,error:y.Cenomar,touched:p.Cenomar}),o.jsx(ut,{label:"Marry to",name:"MarrytoID",type:"select",options:m,required:!0,placeholder:"Select Marry to",onSelect:j=>{const C=m.find(x=>x.value===j);v("MarrytoName",(C==null?void 0:C.label)||""),v("MarrytoID",(C==null?void 0:C.value)||"")},selectedValue:h.MarrytoID,error:y.MarrytoName,touched:p.MarrytoName})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Age",name:"MarrytoAge",type:"number",required:!0,placeholder:"Enter Marry to age",value:h.MarrytoAge,onChange:b,onBlur:g,error:y.MarrytoAge,touched:p.MarrytoAge,min:"1"}),o.jsx(k,{label:"Register Number",name:"RegisterNumber",type:"text",required:!0,placeholder:"Enter register number",value:h.RegisterNumber,onChange:b,onBlur:g,error:y.RegisterNumber,touched:p.RegisterNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(k,{label:"Price",name:"Total",type:"number",required:!0,placeholder:"Enter price",value:h.Total,onChange:b,onBlur:g,error:y.Total,touched:p.Total,min:"0"}),o.jsx(k,{label:"Remaining Balance",name:"RemainingBalance",type:"number",required:!0,placeholder:"Enter remaining balance",value:h.RemainingBalance,onChange:b,onBlur:g,error:y.RemainingBalance,touched:p.RemainingBalance,min:"0"}),o.jsx(k,{label:"Amount Received",name:"AmountReceived",type:"number",required:!0,placeholder:"Enter amount received",value:h.AmountReceived,onChange:b,onBlur:g,error:y.AmountReceived,touched:p.AmountReceived,min:"0"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:a,children:t?"Update":"Create"})]})]})})]})}const bh="https://staging-engine.testthelink.online",uwe=[],gf=U("marriageRecords/fetchMarriageRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bh}/marriagerecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage records");return a}catch(r){return e.rejectWithValue(r.message)}}),$1=U("marriageRecords/fetchMarriageRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bh}/marriagerecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Bb=U("marriageRecords/addMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bh}/marriagerecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),M1=U("marriageRecords/updateMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bh}/marriagerecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),qb=U("marriageRecords/deleteMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bh}/marriagerecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete marriage record")}return t}catch(r){return e.rejectWithValue(r.message)}}),VU=we({name:"marriageRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(gf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gf.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(gf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage records",console.warn("Failed to fetch marriage records, using mock data.",e.error),e.records=uwe}).addCase($1.pending,e=>{e.isLoading=!0,e.error=null}).addCase($1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase($1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage record"}).addCase(Bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add marriage record",console.error("Failed to add marriage record:",e.error)}).addCase(M1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(M1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(M1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update marriage record",console.error("Failed to update marriage record:",e.error)}).addCase(qb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(qb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete marriage record",console.error("Failed to delete marriage record:",e.error)})}}),{clearCurrentRecord:H9e}=VU.actions,dwe=VU.reducer;function fwe(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=de(),{records:s,isLoading:i}=H(x=>x.marriageRecords),{customers:l,isLoading:c}=H(x=>x.customers),{Add:u,Edit:d,Delete:f,Print:m}=Ce(59);w.useEffect(()=>{a(gf()),a(mn())},[a]);const h=w.useRef();ra.useReactToPrint({contentRef:h,documentTitle:"Marriage Service Receipt"});const y=async x=>{console.log("Form data to save:",x);const N=new FormData;for(const S in x)if(S!=="Attachments"){const A=typeof x[S]=="object"?JSON.stringify(x[S]):x[S];S==="TransactionItemsAll"?N.append("Items",A):N.append(S,A)}x==null||x.Attachments.forEach((S,A)=>{S.ID?N.append(`Attachments[${A}].ID`,S.ID):N.append(`Attachments[${A}].File`,S)}),r?(N.append("IsNew",!1),N.append("LinkID",r.LinkID),N.append("ID",r.ID)):N.append("IsNew",!0);try{await a(Bb(N)).unwrap(),r?z.success("Marriage Receipt Updated Successfully"):z.success("Marriage Receipt Added Successfully"),a(gf())}catch(S){z.error(S.message||"Something went wrong")}finally{g()}},p=async x=>{console.log("Deleting ticket:",x);try{await a(qb(x.ID)).unwrap(),z.success("Marriage Receipt deleted successfully")}catch(N){z.error(N.message||"Failed to delete Marriage Receipt")}},b=x=>{n(x),e(!0)},g=()=>{n(null),e(!1)},v=[{key:"Status",header:"Status",sortable:!0,render:x=>o.jsx("span",{className:`px-2 py-1 rounded ${x==="Posted"?"bg-green-100 text-green-800":x==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:x})},{key:"APAR",header:"AP/AR",sortable:!0,render:x=>x||""},{key:"CustomerName",header:"Customer",sortable:!0,render:x=>(x==null?void 0:x.trim())||"N/A"},{key:"Total",header:"Total Amount",sortable:!0,render:x=>j(x),className:"text-right font-medium"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:x=>j(x||"0.00"),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:x=>j(x||"0.00"),className:"text-right"},{key:"Debit",header:"Debit",sortable:!0,render:x=>j(x||"0.00"),className:"text-right"},{key:"EWT",header:"EWT",sortable:!0,render:x=>j(x||"0.00"),className:"text-right"},{key:"WithheldAmount",header:"Withheld Amount",sortable:!0,render:x=>j(x||"0.00"),className:"text-right"},{key:"Vat_Total",header:"Total",sortable:!0,render:x=>j(x||"0.00"),className:"text-right font-medium"},{key:"Discounts",header:"Discount (%)",sortable:!0,render:x=>x?`${x}%`:"0%",className:"text-right"},{key:"AmountDue",header:"Amount Due",sortable:!0,render:x=>j(x||"0.00"),className:"text-right font-medium"}],j=x=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(x||0),C=[d&&{icon:Pe,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},f&&{icon:Be,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriage Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Marriage Service Receipts"})]}),o.jsx("div",{className:"flex gap-2",children:u&&o.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add New Receipt"]})})]}),o.jsx(xe,{columns:v,data:s,actions:C,className:"bg-white rounded-lg shadow",isLoading:i||c}),o.jsx(le,{isOpen:t,onClose:g,title:r?"Edit Receipt":"Add Receipt",children:o.jsx(cwe,{initialData:r,customers:l,onClose:g,onSubmit:y})}),o.jsx("div",{style:{display:"none"},children:o.jsx(mwe,{ref:h,receipt:r})})]})}const mwe=w.forwardRef(({receipt:t},e)=>{var r,n;return t?o.jsxs("div",{ref:e,style:{width:400,margin:"0 auto",background:"#fff",color:"#111",fontFamily:"monospace",padding:"32px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[o.jsx("div",{children:t.InvoiceDate?new Date(t.InvoiceDate).toLocaleDateString("en-US"):"08/22/2025"}),o.jsx("div",{children:t.InvoiceNumber||"528"})]}),o.jsx("div",{style:{textAlign:"right",marginBottom:12},children:(t.FundsID,"Fund")}),o.jsx("div",{style:{marginBottom:24},children:t.CustomerName||"Leivan Jake Baguio"}),o.jsxs("div",{style:{marginBottom:12},children:[o.jsx("span",{children:t.Items?(r=t.Items[0])==null?void 0:r.Description:"Big Item"}),o.jsx("span",{style:{marginLeft:"5em"},children:t.Items?Number(((n=t.Items[0])==null?void 0:n.UnitPrice)||0).toFixed(2):"175.00"}),o.jsx("span",{style:{marginLeft:"3em"},children:t.Total?Number(t.Total).toFixed(2):"1,350.00"})]}),o.jsx("div",{style:{textAlign:"right",marginTop:"4em",fontWeight:"bold",fontSize:"1.1em"},children:t.Total?Number(t.Total).toFixed(2):"1,350.00"}),o.jsx("div",{style:{marginTop:"1.5em",fontWeight:"bold"},children:t.AmountInWords||"TWO THOUSAND SEVEN"})]}):null}),UU=6048e5,hwe=864e5,zU=6e4,WU=36e5,d$=Symbol.for("constructDateFrom");function Ls(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&d$ in t?t[d$](e):t instanceof Date?new t.constructor(e):new Date(e)}function $n(t,e){return Ls(e||t,t)}let pwe={};function nw(){return pwe}function dm(t,e){var l,c,u,d;const r=nw(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=$n(t,e==null?void 0:e.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function i0(t,e){return dm(t,{...e,weekStartsOn:1})}function HU(t,e){const r=$n(t,e==null?void 0:e.in),n=r.getFullYear(),a=Ls(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=i0(a),i=Ls(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=i0(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function f$(t){const e=$n(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function gwe(t,...e){const r=Ls.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function m$(t,e){const r=$n(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function ywe(t,e,r){const[n,a]=gwe(r==null?void 0:r.in,t,e),s=m$(n),i=m$(a),l=+s-f$(s),c=+i-f$(i);return Math.round((l-c)/hwe)}function bwe(t,e){const r=HU(t,e),n=Ls(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),i0(n)}function xwe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function vwe(t){return!(!xwe(t)&&typeof t!="number"||isNaN(+$n(t)))}function jwe(t,e){const r=$n(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const wwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nwe=(t,e,r)=>{let n;const a=wwe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function L1(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Cwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Swe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Awe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Iwe={date:L1({formats:Cwe,defaultWidth:"full"}),time:L1({formats:Swe,defaultWidth:"full"}),dateTime:L1({formats:Awe,defaultWidth:"full"})},kwe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Twe=(t,e,r,n)=>kwe[t];function fd(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const Pwe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ewe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Owe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_we={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$we=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Mwe={ordinalNumber:$we,era:fd({values:Pwe,defaultWidth:"wide"}),quarter:fd({values:Ewe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:fd({values:Dwe,defaultWidth:"wide"}),day:fd({values:Owe,defaultWidth:"wide"}),dayPeriod:fd({values:_we,defaultWidth:"wide",formattingValues:Rwe,defaultFormattingWidth:"wide"})};function md(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Fwe(l,f=>f.test(i)):Lwe(l,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function Lwe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Fwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Bwe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const qwe=/^(\d+)(th|st|nd|rd)?/i,Vwe=/\d+/i,Uwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zwe={any:[/^b/i,/^(a|c)/i]},Wwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hwe={any:[/1/i,/2/i,/3/i,/4/i]},Gwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ywe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zwe={ordinalNumber:Bwe({matchPattern:qwe,parsePattern:Vwe,valueCallback:t=>parseInt(t,10)}),era:md({matchPatterns:Uwe,defaultMatchWidth:"wide",parsePatterns:zwe,defaultParseWidth:"any"}),quarter:md({matchPatterns:Wwe,defaultMatchWidth:"wide",parsePatterns:Hwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:md({matchPatterns:Gwe,defaultMatchWidth:"wide",parsePatterns:Ywe,defaultParseWidth:"any"}),day:md({matchPatterns:Kwe,defaultMatchWidth:"wide",parsePatterns:Jwe,defaultParseWidth:"any"}),dayPeriod:md({matchPatterns:Xwe,defaultMatchWidth:"any",parsePatterns:Qwe,defaultParseWidth:"any"})},eNe={code:"en-US",formatDistance:Nwe,formatLong:Iwe,formatRelative:Twe,localize:Mwe,match:Zwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tNe(t,e){const r=$n(t,e==null?void 0:e.in);return ywe(r,jwe(r))+1}function rNe(t,e){const r=$n(t,e==null?void 0:e.in),n=+i0(r)-+bwe(r);return Math.round(n/UU)+1}function GU(t,e){var d,f,m,h;const r=$n(t,e==null?void 0:e.in),n=r.getFullYear(),a=nw(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,i=Ls((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=dm(i,e),c=Ls((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=dm(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function nNe(t,e){var l,c,u,d;const r=nw(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=GU(t,e),s=Ls((e==null?void 0:e.in)||t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),dm(s,e)}function aNe(t,e){const r=$n(t,e==null?void 0:e.in),n=+dm(r,e)-+nNe(r,e);return Math.round(n/UU)+1}function dt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const eo={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return dt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):dt(r+1,2)},d(t,e){return dt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return dt(t.getHours()%12||12,e.length)},H(t,e){return dt(t.getHours(),e.length)},m(t,e){return dt(t.getMinutes(),e.length)},s(t,e){return dt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return dt(a,e.length)}},Hl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h$={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return eo.y(t,e)},Y:function(t,e,r,n){const a=GU(t,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return dt(i,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):dt(s,e.length)},R:function(t,e){const r=HU(t);return dt(r,e.length)},u:function(t,e){const r=t.getFullYear();return dt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return dt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return dt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return eo.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return dt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=aNe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):dt(a,e.length)},I:function(t,e,r){const n=rNe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):dt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):eo.d(t,e)},D:function(t,e,r){const n=tNe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):dt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return dt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return dt(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return dt(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Hl.noon:n===0?a=Hl.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Hl.evening:n>=12?a=Hl.afternoon:n>=4?a=Hl.morning:a=Hl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return eo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):eo.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):dt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):dt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):eo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):eo.s(t,e)},S:function(t,e){return eo.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return g$(n);case"XXXX":case"XX":return Ci(n);case"XXXXX":case"XXX":default:return Ci(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return g$(n);case"xxxx":case"xx":return Ci(n);case"xxxxx":case"xxx":default:return Ci(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+p$(n,":");case"OOOO":default:return"GMT"+Ci(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+p$(n,":");case"zzzz":default:return"GMT"+Ci(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return dt(n,e.length)},T:function(t,e,r){return dt(+t,e.length)}};function p$(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+dt(s,2)}function g$(t,e){return t%60===0?(t>0?"-":"+")+dt(Math.abs(t)/60,2):Ci(t,e)}function Ci(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=dt(Math.trunc(n/60),2),s=dt(n%60,2);return r+a+e+s}const y$=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},YU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},sNe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return y$(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",y$(n,e)).replace("{{time}}",YU(a,e))},oNe={p:YU,P:sNe},iNe=/^D+$/,lNe=/^Y+$/,cNe=["D","DD","YY","YYYY"];function uNe(t){return iNe.test(t)}function dNe(t){return lNe.test(t)}function fNe(t,e,r){const n=mNe(t,e,r);if(console.warn(n),cNe.includes(t))throw new RangeError(n)}function mNe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hNe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pNe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gNe=/^'([^]*?)'?$/,yNe=/''/g,bNe=/[a-zA-Z]/;function b$(t,e,r){var d,f,m,h;const n=nw(),a=n.locale??eNe,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,l=$n(t,r==null?void 0:r.in);if(!vwe(l))throw new RangeError("Invalid time value");let c=e.match(pNe).map(y=>{const p=y[0];if(p==="p"||p==="P"){const b=oNe[p];return b(y,a.formatLong)}return y}).join("").match(hNe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const p=y[0];if(p==="'")return{isToken:!1,value:xNe(y)};if(h$[p])return{isToken:!0,value:y};if(p.match(bNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const p=y.value;(dNe(p)||uNe(p))&&fNe(p,e,String(t));const b=h$[p[0]];return b(l,p,a.localize,u)}).join("")}function xNe(t){const e=t.match(gNe);return e?e[1].replace(yNe,"'"):t}function x$(t,e){const r=()=>Ls(e==null?void 0:e.in,NaN),a=NNe(t);let s;if(a.date){const u=CNe(a.date,2);s=SNe(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const i=+s;let l=0,c;if(a.time&&(l=ANe(a.time),isNaN(l)))return r();if(a.timezone){if(c=INe(a.timezone),isNaN(c))return r()}else{const u=new Date(i+l),d=$n(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return $n(i+l+c,e==null?void 0:e.in)}const bp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vNe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,jNe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wNe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function NNe(t){const e={},r=t.split(bp.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],bp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(bp.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=bp.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function CNe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function SNe(t,e){if(e===null)return new Date(NaN);const r=t.match(vNe);if(!r)return new Date(NaN);const n=!!r[4],a=hd(r[1]),s=hd(r[2])-1,i=hd(r[3]),l=hd(r[4]),c=hd(r[5])-1;if(n)return DNe(e,l,c)?kNe(e,l,c):new Date(NaN);{const u=new Date(0);return!PNe(e,s,i)||!ENe(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,i)),u)}}function hd(t){return t?parseInt(t):1}function ANe(t){const e=t.match(jNe);if(!e)return NaN;const r=F1(e[1]),n=F1(e[2]),a=F1(e[3]);return ONe(r,n,a)?r*WU+n*zU+a*1e3:NaN}function F1(t){return t&&parseFloat(t.replace(",","."))||0}function INe(t){if(t==="Z")return 0;const e=t.match(wNe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return _Ne(n,a)?r*(n*WU+a*zU):NaN}function kNe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const TNe=[31,null,31,30,31,30,31,31,30,31,30,31];function KU(t){return t%400===0||t%4===0&&t%100!==0}function PNe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(TNe[e]||(KU(t)?29:28))}function ENe(t,e){return e>=1&&e<=(KU(t)?366:365)}function DNe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function ONe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function _Ne(t,e){return e>=0&&e<=59}const xh="https://staging-engine.testthelink.online",RNe=[],Rc=U("publicMarketTicketing/fetchPublicMarketTickets",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xh}/public-market-ticketing`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market tickets");return a}catch(r){return e.rejectWithValue(r.message)}}),B1=U("publicMarketTicketing/fetchPublicMarketTicketById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xh}/public-market-ticketing/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),yf=U("publicMarketTicketing/addPublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xh}/public-market-ticketing/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),q1=U("publicMarketTicketing/public-market-ticketing",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xh}/publicMarketTicketing/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),Vb=U("publicMarketTicketing/deletePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xh}/public-market-ticketing/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete public market ticket")}return t}catch(r){return e.rejectWithValue(r.message)}}),JU=we({name:"publicMarketTicketing",initialState:{tickets:[],currentTicket:null,isLoading:!1,error:null},reducers:{clearCurrentTicket:t=>{t.currentTicket=null}},extraReducers:t=>{t.addCase(Rc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rc.fulfilled,(e,r)=>{e.isLoading=!1,e.tickets=Array.isArray(r.payload)?r.payload:[]}).addCase(Rc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market tickets",console.warn("Failed to fetch tickets, using mock data.",e.error),e.tickets=RNe}).addCase(B1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(B1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentTicket=r.payload}).addCase(B1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market ticket"}).addCase(yf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yf.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets.push(r.payload)}).addCase(yf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add public market ticket",console.error("Failed to add ticket:",e.error)}).addCase(q1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(q1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.tickets)||(e.tickets=[]),e.tickets[n]=r.payload),e.currentTicket&&e.currentTicket.ID===r.payload.ID&&(e.currentTicket=r.payload)}).addCase(q1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update public market ticket",console.error("Failed to update ticket:",e.error)}).addCase(Vb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets=e.tickets.filter(n=>n.ID!==r.payload),e.currentTicket&&e.currentTicket.ID===r.payload&&(e.currentTicket=null)}).addCase(Vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete public market ticket",console.error("Failed to delete ticket:",e.error)})}}),{clearCurrentTicket:G9e}=JU.actions,$Ne=JU.reducer,MNe=ce().shape({items:D().required("Items type is required"),startTime:Ue().required("Start time is required"),endTime:Ue().required("End time is required").min(xl("startTime"),"End time must be after start time"),issuedBy:D().required("Issued by is required"),dateIssued:Ue().required("Date issued is required"),postingPeriod:Ue().required("Posting period is required"),amountIssued:X().required("Amount issued is required").min(0,"Amount must be greater than or equal to 0"),remarks:D().required("Remarks are required")}),LNe={items:"",startTime:"",endTime:"",issuedBy:"",dateIssued:"",postingPeriod:"",amountIssued:"",remarks:""},FNe=({ticket:t,onClose:e})=>{const r=de(),n=s=>s?(console.log(s),{...s,items:s.Items||"",startTime:s.StartTime?b$(x$(s.StartTime),"yyyy-MM-dd'T'HH:mm"):"",endTime:s.EndTime?b$(x$(s.EndTime),"yyyy-MM-dd'T'HH:mm"):"",issuedBy:s.IssuedBy||"",dateIssued:s.DateIssued||"",postingPeriod:s.PostingPeriod||"",amountIssued:s.AmountIssued||"",remarks:s.Remarks||""}):LNe,a=async s=>{try{const i={Items:s.items,StartTime:new Date(s.startTime).toISOString(),EndTime:new Date(s.endTime).toISOString(),IssuedBy:s.issuedBy,DateIssued:s.dateIssued,PostingPeriod:s.postingPeriod,AmountIssued:s.amountIssued,Remarks:s.remarks};t?(await r(yf({IsNew:!1,ID:t.ID,LinkID:t.LinkID,...i})).unwrap(),ie.success("Ticket updated successfully"),r(Rc())):(await r(yf({IsNew:!0,...i})).unwrap(),ie.success("Ticket added successfully"),r(Rc()))}catch(i){ie.error(i.message||"Something went wrong")}finally{e()}};return o.jsx(qe,{initialValues:n(t),validationSchema:MNe,onSubmit:a,enableReinitialize:!0,children:({isSubmitting:s,isValid:i,dirty:l,values:c,errors:u,touched:d,handleChange:f,handleBlur:m})=>o.jsxs(We,{className:"space-y-6",children:[o.jsx(k,{label:"Items:",name:"items",type:"text",placeholder:"Enter items",required:!0,error:d.items&&u.items,touched:d.items,value:c.items,onChange:f,onBlur:m}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(k,{label:"Date Issued:",name:"dateIssued",type:"date",max:new Date().toISOString().split("T")[0],required:!0,error:d.dateIssued&&u.dateIssued,touched:d.dateIssued,value:c.dateIssued,onChange:f,onBlur:m}),o.jsx(k,{label:"Posting Period:",name:"postingPeriod",type:"date",required:!0,error:d.postingPeriod&&u.postingPeriod,touched:d.postingPeriod,value:c.postingPeriod,onChange:f,onBlur:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(k,{label:"Start Time:",name:"startTime",type:"datetime-local",max:c.postingPeriod,required:!0,error:d.startTime&&u.startTime,touched:d.startTime,value:c.startTime,onChange:f,onBlur:m}),o.jsx(k,{label:"End Time:",name:"endTime",type:"datetime-local",min:c.startTime,max:c.postingPeriod,required:!0,error:d.endTime&&u.endTime,touched:d.endTime,value:c.endTime,onChange:f,onBlur:m})]}),o.jsx(k,{label:"Issued By:",name:"issuedBy",type:"text",placeholder:"Enter issuer name",required:!0,error:d.issuedBy&&u.issuedBy,touched:d.issuedBy,value:c.issuedBy,onChange:f,onBlur:m}),o.jsx(k,{label:"Amount Issued:",name:"amountIssued",type:"text",placeholder:"0.00",required:!0,error:d.amountIssued&&u.amountIssued,touched:d.amountIssued,value:c.amountIssued!==""&&!isNaN(c.amountIssued)?Number(c.amountIssued).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",onChange:h=>{const y=h.target.value.replace(/\D/g,""),p=y?(parseInt(y,10)/100).toFixed(2):"";f({target:{name:"amountIssued",value:p}})},onBlur:m}),o.jsx(k,{label:"Remarks:",name:"remarks",type:"textarea",placeholder:"Enter remarks",required:!0,error:d.remarks&&u.remarks,touched:d.remarks,value:c.remarks,onChange:f,onBlur:m,rows:4}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[o.jsx("button",{type:"button",onClick:e,disabled:s,className:"px-6 py-2 rounded-md border border-gray-300 shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s||!i||!l,className:"px-6 py-2 rounded-md border border-transparent shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":t?"Update Ticket":"Add Ticket"})]})]})})},vt=t=>t!=null&&t!==""?Number(t).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",BNe=()=>{const t=de(),{Add:e,Edit:r,Delete:n}=Ce(68),[a,s]=w.useState(!1),[i,l]=w.useState(null),{tickets:c,isLoading:u,error:d}=H(b=>b.publicMarketTicketing);w.useEffect(()=>{t(Rc())},[t]),w.useEffect(()=>{d&&ie.error(d)},[d]);const f=()=>{l(null),s(!0)},m=async b=>{console.log("Deleting ticket:",b);try{await t(Vb(b.ID)).unwrap(),ie.success("Ticket deleted successfully")}catch(g){ie.error(g.message||"Failed to delete ticket")}},h=[{key:"Items",header:"Items",accessorKey:"items"},{key:"StartTime",header:"Start Time",accessorKey:"startTime",render:b=>new Date(b).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"EndTime",header:"End Time",accessorKey:"endTime",render:b=>new Date(b).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"IssuedBy",header:"Issued By",accessorKey:"issuedBy"},{key:"DateIssued",header:"Date Issued",accessorKey:"dateIssued",render:b=>new Date(b).toLocaleDateString()},{key:"PostingPeriod",header:"Posting Period",accessorKey:"postingPeriod",render:b=>new Date(b).toLocaleDateString()},{key:"AmountIssued",header:"Amount Issued",accessorKey:"amountIssued",render:vt},{key:"Remarks",header:"Remarks",accessorKey:"remarks"}],p=[r&&{icon:Na,title:"Edit",onClick:b=>{console.log("Edit ticket:",b),l(b),s(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},n&&{icon:Ca,title:"Delete",onClick:m,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 page-header max-sm:flex-wrap gap-4",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Public Market Tickets"}),e&&o.jsxs(At,{onClick:f,disabled:u,className:"max-sm:w-full",children:[o.jsx(jde,{className:"w-5 h-5 mr-2"}),"Add Ticket"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(xe,{columns:h,data:c,isLoading:u,actions:p})}),o.jsx(le,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Ticket":"Add Ticket",children:o.jsx(FNe,{ticket:i,onClose:()=>s(!1)})})]})};ce().shape({budgetName:D().required("Budget Name is required"),fiscalYear:D().required("Fiscal Year is required"),department:D().required("Department is required"),subDepartment:D().required("Sub-Department is required"),chartOfAccounts:D().required("Chart of Accounts is required"),fund:D().required("Fund is required"),project:D().required("Project is required"),january:D().required("January is required"),february:D().required("February is required"),march:D().required("March is required"),april:D().required("April is required"),may:D().required("May is required"),june:D().required("June is required"),july:D().required("July is required"),august:D().required("August is required"),september:D().required("September is required"),october:D().required("October is required"),november:D().required("November is required"),december:D().required("December is required")});const qNe=ce().shape({Name:D().required("Budget name is required"),FiscalYearID:X().required("Fiscal year is required"),DepartmentID:X().required("Department is required"),SubDepartmentID:X().required("Sub department is required"),ChartofAccountsID:X().required("Chart of accounts is required"),FundID:X().required("Fund is required"),ProjectID:X().required("Project is required"),Appropriation:X().required("Appropriation is required"),Charges:X().required("Charges is required"),January:X().nullable(),February:X().nullable(),March:X().nullable(),April:X().nullable(),May:X().nullable(),June:X().nullable(),July:X().nullable(),August:X().nullable(),September:X().nullable(),October:X().nullable(),November:X().nullable(),December:X().nullable()}),v$={ID:"",IsNew:!0,Name:"",FiscalYearID:"",DepartmentID:"",SubDepartmentID:"",ChartofAccountsID:"",FundID:"",ProjectID:"",Appropriation:0,Charges:0,January:0,February:0,March:0,April:0,May:0,June:0,July:0,August:0,September:0,October:0,November:0,December:0};function XU({initialData:t,onSubmit:e,onClose:r,departmentOptions:n,subDepartmentOptions:a,chartOfAccountsOptions:s,fundOptions:i,projectOptions:l,fiscalYearOptions:c}){const[u,d]=w.useState({...v$}),f=(m,{setSubmitting:h})=>{e(m),h(!1),console.log("Form submitted with values:",m)};return w.useEffect(()=>{t!=null&&t.ID?d({ID:t.ID,IsNew:!1,Name:t.Name||"",FiscalYearID:t.FiscalYearID||"",DepartmentID:t.DepartmentID||"",SubDepartmentID:t.SubDepartmentID||"",ChartofAccountsID:t.ChartofAccountsID||"",FundID:t.FundID||"",ProjectID:t.ProjectID||"",Appropriation:t.Appropriation||0,Charges:t.Charges||0,January:t.January||0,February:t.February||0,March:t.March||0,April:t.April||0,May:t.May||0,June:t.June||0,July:t.July||0,August:t.August||0,September:t.September||0,October:t.October||0,November:t.November||0,December:t.December||0}):d(v$)},[t]),o.jsx(qe,{enableReinitialize:!0,onSubmit:f,initialValues:u,validationSchema:qNe,children:({values:m,errors:h,touched:y,handleChange:p,handleBlur:b,isSubmitting:g,submitCount:v,setFieldValue:j})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"col-span-2",children:o.jsx(k,{label:"Budget Name",name:"Name",value:m.Name,type:"text",onChange:p,onBlur:b,error:h.Name,touched:y.Name,required:!0})}),o.jsx(k,{label:"Fiscal Year",name:"FiscalYearID",type:"select",onChange:p,onBlur:b,value:m.FiscalYearID,error:h.FiscalYearID,touched:y.FiscalYearID,options:c,required:!0}),o.jsx(k,{label:"Department",name:"DepartmentID",type:"select",onChange:p,onBlur:b,value:m.DepartmentID,error:h.DepartmentID,touched:y.DepartmentID,options:n,required:!0}),o.jsx(k,{label:"Sub-Department",name:"SubDepartmentID",type:"select",onChange:p,onBlur:b,value:m.SubDepartmentID,error:h.SubDepartmentID,touched:y.SubDepartmentID,options:a,required:!0}),o.jsx(k,{label:"Chart of Accounts",name:"ChartofAccountsID",type:"select",onChange:p,onBlur:b,value:m.ChartofAccountsID,error:h.ChartofAccountsID,touched:y.ChartofAccountsID,options:s,required:!0}),o.jsx(k,{label:"Fund",name:"FundID",type:"select",onChange:p,onBlur:b,value:m.FundID,error:h.FundID,touched:y.FundID,options:i,required:!0}),o.jsx(k,{label:"Project",name:"ProjectID",type:"select",onChange:p,onBlur:b,value:m.ProjectID,error:h.ProjectID,touched:y.ProjectID,options:l,required:!0}),o.jsx(k,{label:"Appropriation",name:"Appropriation",onChange:p,onBlur:b,value:m.Appropriation!==""&&!isNaN(m.Appropriation)?Number(m.Appropriation).toLocaleString():"",error:h.Appropriation,touched:y.Appropriation,type:"text",required:!0,readOnly:!0,className:"bg-gray-100"}),o.jsx(k,{label:"Charges",name:"Charges",type:"number",onChange:p,onBlur:b,value:m.Charges,error:h.Charges,touched:y.Charges,required:!0,readOnly:!0,className:"bg-gray-100"}),o.jsx(k,{label:"Total Amount",name:"TotalAmount",type:"number",onChange:p,onBlur:b,value:m.TotalAmount,error:h.TotalAmount,touched:y.TotalAmount,readOnly:!0,className:"bg-gray-100"}),o.jsx(k,{label:"Balance",name:"AppropriationBalance",type:"number",onChange:p,onBlur:b,value:m.AppropriationBalance,error:h.AppropriationBalance,touched:y.AppropriationBalance,readOnly:!0,className:"bg-gray-100"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(C=>o.jsx(k,{label:C,name:C,type:"text",onChange:x=>{const N=x.target.value.replace(/,/g,""),S=N===""?"":Number(N);p({target:{name:C,value:S}});const A={...m,[C]:S},T=["January","February","March","April","May","June","July","August","September","October","November","December"].reduce((E,R)=>E+(Number(A[R])||0),0);j("Appropriation",T)},onBlur:b,value:m[C]!==""&&!isNaN(m[C])?Number(m[C]).toLocaleString():"",error:h[C],touched:y[C]},C))}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]}),v>0&&Object.keys(h).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(h).map(([C,x])=>o.jsx("li",{children:x},C))})]})]})})}const VNe=[{value:"2024",label:"2024"},{value:"2025",label:"2025"}],UNe=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"}],zNe=[{value:"sub1",label:"Sub-Department 1"},{value:"sub2",label:"Sub-Department 2"}],WNe=[{value:"coa1",label:"Chart 1"},{value:"coa2",label:"Chart 2"}],HNe=[{value:"fund1",label:"Fund 1"},{value:"fund2",label:"Fund 2"}],j$=[{value:"proj1",label:"Project A",appropriation:"A1",charges:"C1",total:"10000",balance:"5000"},{value:"proj2",label:"Project B",appropriation:"A2",charges:"C2",total:"20000",balance:"15000"}],gI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],GNe=ce().shape({budgetName:D().required("Required"),fiscalYear:D().required("Required"),department:D().required("Required"),subDepartment:D().required("Required"),chartOfAccount:D().required("Required"),fund:D().required("Required"),project:D().required("Required"),monthlyAmounts:ce().shape(gI.reduce((t,e)=>(t[e]=X().min(0,"Must be >= 0").required("Required"),t),{}))});function YNe(){const[t,e]=w.useState({});return o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"New Budget"}),o.jsx(qe,{initialValues:{budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccount:"",fund:"",project:"",monthlyAmounts:gI.reduce((r,n)=>({...r,[n]:""}),{})},validationSchema:GNe,onSubmit:r=>{console.log("Submitted:",r)},children:({values:r,handleChange:n,setFieldValue:a})=>(w.useEffect(()=>{const s=j$.find(i=>i.value===r.project);s&&e(s)},[r.project]),o.jsxs(We,{className:"space-y-4",children:[o.jsx(k,{name:"budgetName",label:"Budget Name",type:"text",required:!0,value:r.budgetName,onChange:n}),o.jsx(k,{name:"fiscalYear",label:"Fiscal Year",type:"select",required:!0,options:VNe,value:r.fiscalYear,onChange:n}),o.jsx(k,{name:"department",label:"Department",type:"select",required:!0,options:UNe,value:r.department,onChange:n}),o.jsx(k,{name:"subDepartment",label:"Sub-Department",type:"select",required:!0,options:zNe,value:r.subDepartment,onChange:n}),o.jsx(k,{name:"chartOfAccount",label:"Chart of Accounts",type:"select",required:!0,options:WNe,value:r.chartOfAccount,onChange:n}),o.jsx(k,{name:"fund",label:"Fund",type:"select",required:!0,options:HNe,value:r.fund,onChange:n}),o.jsx(k,{name:"project",label:"Project",type:"select",required:!0,options:j$.map(s=>({value:s.value,label:s.label})),value:r.project,onChange:n}),r.project&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-neutral-50 p-4 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation:"})," ",t.appropriation]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",t.charges]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Amount:"})," ",t.total]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Balance:"})," ",t.balance]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:gI.map(s=>o.jsx(k,{name:`monthlyAmounts.${s}`,label:s,type:"number",value:r.monthlyAmounts[s],onChange:n,min:"0",step:"0.01"},s))}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Budget"})})]}))})]})}ce().shape({Status:D().oneOf(["Requested"]).required(),APAR:D().oneOf(["Budget Supplemental"]).required(),DocumentTypeID:X().oneOf([21]).required(),RequestedBy:X().required("Requested by (lngUser) is required"),InvoiceDate:Ue().required("Invoice date is required"),InvoiceNumber:D().required("Invoice number is required"),Total:X().typeError("Total must be a number").positive("Total must be positive").required("Total is required"),Active:Rs().required("Active is required"),Remarks:D().nullable(),CreatedBy:D().required("Created by is required"),CreatedDate:Ue().required("Created date is required"),ApprovalProgress:X().min(0).required("Approval progress is required"),BudgetID:X().required("Budget id is requeired"),ApprovalVersion:X().required("Approval version is required")});const aw="https://staging-engine.testthelink.online",KNe=[],bf=U("subFunds/fetchSubFunds",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${aw}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ub=U("subFunds/addSubFund",async(t,e)=>{try{const r=await fetch(`${aw}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),yI=U("subFunds/updateSubFund",async(t,e)=>{try{const r=await fetch(`${aw}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zb=U("subFunds/deleteSubFund",async(t,e)=>{try{const r=await fetch(`${aw}/subFunds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),JNe=we({name:"subFunds",initialState:{subFunds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(bf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bf.fulfilled,(e,r)=>{e.isLoading=!1,e.subFunds=Array.isArray(r.payload)?r.payload:[]}).addCase(bf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch sub funds",console.warn("Failed to fetch sub funds, using mock data.",e.error),e.subFunds=KNe}).addCase(Ub.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ub.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds.push(r.payload)}).addCase(Ub.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add sub fund",console.error("Failed to add sub fund:",e.error)}).addCase(yI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subFunds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds[n]=r.payload)}).addCase(zb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds=e.subFunds.filter(n=>n.ID!==r.payload)}).addCase(zb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete sub fund",console.error("Failed to delete sub fund:",e.error)})}}),XNe=JNe.reducer;function QNe(){de();const[t,e]=w.useState(!1),[r,n]=w.useState(null),{budgets:a,isLoading:s}=H(m=>m.budget),i=[{id:1,budgetName:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{id:2,budgetName:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}],l=[{header:"Budget Name",accessorKey:"budgetName",enableSorting:!0},{header:"Fiscal Year",accessorKey:"fiscalYear",enableSorting:!0},{header:"Department",accessorKey:"department",enableSorting:!0},{header:"Sub-Department",accessorKey:"subDepartment"},{header:"Project",accessorKey:"project"},{header:"Total Amount",accessorKey:"totalAmount",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.totalAmount)},{header:"Balance",accessorKey:"balance",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.balance)},{header:"Status",accessorKey:"status",cell:({row:m})=>o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.original.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.original.status})}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{console.log("Delete record:",m)},f=async m=>{try{console.log(r?"Update record:":"Create record:",m),e(!1)}catch(h){console.error("Error saving record:",h)}};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Budget Management"}),o.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Te,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Budget"]})]}),o.jsx("div",{className:"bg-white shadow rounded-lg",children:o.jsx(xe,{columns:l,data:i,isLoading:s,onEdit:u,onDelete:d})}),o.jsx(le,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(XU,{initialData:r,onSubmit:f,onClose:()=>e(!1)})})]})}function ZNe({fiscalYears:t=[],accLoading:e=!1,onView:r,onGenerateJournal:n,onExportExcel:a}){const s=w.useRef(null),i=ce({fiscalYearID:D().required("Fiscal Year is required")}),l={fiscalYearID:""},c=(u,{setSubmitting:d})=>{const f=s.current;f==="view"?r(u):f==="generate"?n(u):f==="export"&&a(u),d(!1),s.current=null};return o.jsx(qe,{initialValues:l,validationSchema:i,onSubmit:c,validateOnMount:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,isSubmitting:y,setFieldValue:p})=>o.jsxs(We,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:o.jsx(k,{type:"select",label:"Fiscal Year",name:"fiscalYearID",options:t.map(b=>({value:b.ID,label:b.Name})),value:u.fiscalYearID,onChange:m,onBlur:h,error:d.fiscalYearID,touched:f.fiscalYearID,required:!0})}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>s.current="view",children:"View"}),o.jsx("button",{type:"submit",className:"btn btn-secondary",disabled:y,onClick:()=>s.current="generate",children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>s.current="export",children:"Export to Excel"})]})]})})}const e1e="https://staging-engine.testthelink.online",t1e={statementComparisons:[],isLoading:!1,error:null},Wb=U("statementComparison/fetchStatementComparisons",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${e1e}/statementOfComparison/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),V1=U("statementComparison/exportStatementComparisons",async t=>!0),QU=we({name:"statementComparison",initialState:t1e,reducers:{resetStatementComparisonState:t=>{t.statementComparisons=[],t.error=null}},extraReducers:t=>{t.addCase(Wb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wb.fulfilled,(e,r)=>{e.isLoading=!1,e.statementComparisons=r.payload}).addCase(Wb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(V1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(V1.fulfilled,e=>{e.isLoading=!1}).addCase(V1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetStatementComparisonState:r1e}=QU.actions,n1e=QU.reducer,ZU=w.forwardRef(({data:t,fiscalYear:e},r)=>{const n={Original:0,Final:0,Difference:0,Actual:0,Difference2:0};return t.forEach(a=>{n.Original+=a.Original||0,n.Final+=a.Final||0,n.Difference+=a.Difference||0,n.Actual+=a.Actual||0,n.Difference2+=a["Difference 2"]||0}),o.jsxs("div",{ref:r,className:"p-6 text-black text-sm",children:[o.jsx("h2",{className:"text-center font-bold",children:"Municipality of __________"}),o.jsx("h3",{className:"text-center",children:"Statement of Comparison of Budget and Actual Amounts"}),o.jsxs("p",{className:"text-center mb-4",children:["For the Year Ended ",e==null?void 0:e.Name]}),o.jsxs("table",{className:"w-full border-collapse border text-xs",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"border p-2",children:"Particular"}),o.jsx("th",{className:"border p-2",children:"Notes"}),o.jsx("th",{className:"border p-2",children:"Budget Amounts - Original"}),o.jsx("th",{className:"border p-2",children:"Budget Amounts - Final"}),o.jsx("th",{className:"border p-2",children:"Difference (Original vs Final)"}),o.jsx("th",{className:"border p-2",children:"Actual Amounts"}),o.jsx("th",{className:"border p-2",children:"Difference (Final vs Actual)"})]})}),o.jsxs("tbody",{children:[t.map((a,s)=>{var i,l,c,u,d;return o.jsxs("tr",{children:[o.jsx("td",{className:"border p-2",children:a.Category}),o.jsx("td",{className:"border p-2",children:a.Subtype}),o.jsx("td",{className:"border p-2 text-right",children:(i=a.Original)==null?void 0:i.toLocaleString("en-PH")}),o.jsx("td",{className:"border p-2 text-right",children:(l=a.Final)==null?void 0:l.toLocaleString("en-PH")}),o.jsx("td",{className:"border p-2 text-right",children:(c=a.Difference)==null?void 0:c.toLocaleString("en-PH")}),o.jsx("td",{className:"border p-2 text-right",children:(u=a.Actual)==null?void 0:u.toLocaleString("en-PH")}),o.jsx("td",{className:"border p-2 text-right",children:(d=a["Difference 2"])==null?void 0:d.toLocaleString("en-PH")})]},s)}),o.jsxs("tr",{className:"font-bold",children:[o.jsx("td",{className:"border p-2 text-right",colSpan:2,children:"Total Appropriations"}),o.jsx("td",{className:"border p-2 text-right",children:n.Original.toLocaleString("en-PH")}),o.jsx("td",{className:"border p-2 text-right",children:n.Final.toLocaleString("en-PH")}),o.jsx("td",{className:"border p-2 text-right",children:n.Difference.toLocaleString("en-PH")}),o.jsx("td",{className:"border p-2 text-right",children:n.Actual.toLocaleString("en-PH")}),o.jsx("td",{className:"border p-2 text-right",children:n.Difference2.toLocaleString("en-PH")})]})]})]})]})});ZU.displayName="StatementComparisonPrintView";function a1e(){const t="https://staging-engine.testthelink.online",e=de(),{statementComparisons:r,isLoading:n,error:a}=H(m=>m.statementComparison),{fiscalYears:s}=H(m=>m.fiscalYears);w.useEffect(()=>{e(r1e()),e(fn())},[e]);const i=w.useRef(),l=ra.useReactToPrint({contentRef:i,documentTitle:"Statement Comparison Report"}),c=[{key:"Type",header:"Type",sortable:!0},{key:"SubID",header:"Sub ID",sortable:!0},{key:"Subtype",header:"Subtype",sortable:!0},{key:"Category",header:"Category",sortable:!0},{key:"Chart of Accounts",header:"Chart of Accounts",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Original",header:"Original",sortable:!0,render:vt,className:"text-right"},{key:"Final",header:"Final",sortable:!0,className:"text-right",render:vt},{key:"Difference",header:"Difference",sortable:!0,className:"text-right"},{key:"Actual",header:"Actual",sortable:!0,className:"text-right"},{key:"Difference 2",header:"Difference 2",sortable:!0,className:"text-right"},{key:"Period",header:"Period",sortable:!0},{key:"Original_Sum",header:"Original_Sum",sortable:!0,render:vt},{key:"Final_Sum",header:"Final_Sum",sortable:!0,render:vt},{key:"Difference_Sum",header:"Difference_Sum",sortable:!0,render:vt},{key:"Actual_Sum",header:"Actual_Sum",sortable:!0,render:vt},{key:"Difference2_Sum",header:"Difference2_Sum",sortable:!0,render:vt},{key:"Municipality",header:"Municipality",sortable:!0},{key:"Province",header:"Province",sortable:!0}],u=async m=>{try{const h=await fetch(`${t}/statementOfComparison/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({fiscalYearID:m.fiscalYearID})});if(!h.ok)throw new Error("Server response was not ok");const y=await h.blob(),p=h.headers.get("Content-Disposition");let b="Statement_of_Comparison.xlsx";p&&p.includes("filename=")&&(b=p.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(y),v=document.createElement("a");v.href=g,v.download=b,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(g)}catch(h){console.error("Export failed:",h),z.error(h.message||"Failed to export")}},d=m=>{e(Wb(m))},f=()=>{if(r.length===0){z.error("No data to generate journal");return}l()};return o.jsxs("div",{className:"page-container",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{children:[o.jsx("h1",{children:"Statement of Comparison"}),o.jsx("p",{children:"Compare original, final, and actual budget amounts by fiscal year"})]})}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(ZNe,{fiscalYears:s,onGenerateJournal:f,onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-300 rounded-md",children:o.jsx("p",{className:"text-red-800",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(xe,{columns:c,data:r,loading:n,pagination:!0})}),o.jsx("div",{className:"hidden",children:o.jsx(ZU,{ref:i,data:r})})]})}const s1e=()=>{const t=de(),[e,r]=w.useState(null),{Edit:n}=Ce(58);w.useEffect(()=>{t(Ro()),t(_o()),t(Oo()),t(Do()),s()},[t]);const a="https://staging-engine.testthelink.online",s=async()=>{try{const N=localStorage.getItem("token"),S=await fetch(`${a}/lgu`,{headers:{Authorization:`Bearer ${N}`}});if(!S.ok)throw new Error("Failed to fetch LGU data");const A=await S.json(),I=i(A);h(I),p(A.Logo||"https://placehold.co/150x150?text=LGU+Logo")}catch(N){console.error("Error loading LGU data:",N)}},i=N=>{var P,_,q,F;const{BarangayID:S,MunicipalityID:A,ProvinceID:I,RegionID:T}=N,E=(P=c.find(O=>O.ID===S))==null?void 0:P.Name,R=(_=u.find(O=>O.ID===A))==null?void 0:_.Name,M=(q=d.find(O=>O.ID===I))==null?void 0:q.Name,L=(F=f.find(O=>O.ID===T))==null?void 0:F.Name;return N.BarangayName=E,N.MunicipalityName=R,N.ProvinceName=M,N.RegionName=L,N},l=async(N,S)=>{try{const A=localStorage.getItem("token"),I=new FormData;Object.entries(N).forEach(([R,M])=>{I.append(R,M)}),S&&I.append("Logo",S);const T=await fetch(`${a}/lgu/${N.ID}`,{method:"PUT",headers:{Authorization:`Bearer ${A}`},body:I});if(!T.ok)throw new Error("Failed to update LGU");const E=await T.json();return h(E),p(E.Logo||"https://placehold.co/150x150?text=LGU+Logo"),!0}catch(A){return console.error("Update error:",A),!1}},{barangays:c}=H(N=>N.barangays),{municipalities:u}=H(N=>N.municipalities),{provinces:d}=H(N=>N.provinces),{regions:f}=H(N=>N.regions),[m,h]=w.useState({ID:"1",Code:"",Name:"",TIN:"",RDO:"",StreetAddress:"",BarangayName:"",MunicipalityName:"",ProvinceName:"",RegionName:"",ZIPCode:"",PhoneNumber:"",EmailAddress:"",Website:""}),[y,p]=w.useState("https://placehold.co/150x150?text=LGU+Logo"),[b,g]=w.useState(!1),v=ce({Code:D().required("Code is required"),Name:D().required("Name is required"),TIN:D().required("TIN is required").matches(/^\d{14}$/,"TIN must be exactly 14 digits"),RDO:D().required("RDO is required"),StreetAddress:D().required("Street Address is required"),BarangayID:D().required("Barangay is required"),MunicipalityID:D().required("Municipality is required"),ProvinceID:D().required("Province is required"),RegionID:D().required("Region is required"),ZIPCode:D().required("Zip Code is required"),PhoneNumber:X().required("Phone Number is required"),EmailAddress:D().email("Invalid email").required("Email is required"),Website:D().required("Website is required")}),j=tt({initialValues:m,validationSchema:v,enableReinitialize:!0,onSubmit:async(N,{setSubmitting:S})=>{await l(N,e)&&(g(!1),z.success("LGU updated successfully"),s()),S(!1)}}),C=N=>{var A;const S=(A=N.target.files)==null?void 0:A[0];if(S){r(S);const I=new FileReader;I.onloadend=()=>{p(I.result)},I.readAsDataURL(S)}},x=["001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","17A","17B","018","019","020","21A","21B","21C","022","23A","23B","024","25A","25B","026","027","028","029","030","031","032","033","034","035","036","037","038","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","53A","53B","54A","54B","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","93A","93B","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113A","113B","114","115"].map((N,S)=>({ID:S+1,Name:N}));return o.jsxs("div",{className:"sm:py-6 sm:px-4",children:[o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"LGU Maintenance"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Manage Local Government Unit information"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(oV,{className:"h-5 w-5 mr-2 text-blue-600"}),o.jsx("h2",{className:"text-lg font-semibold",children:"LGU Information"})]}),n&&!b&&o.jsx("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors w-full sm:w-auto text-center",children:"Edit Information"})]}),o.jsxs("div",{className:"p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("img",{src:y,className:"h-[150px] w-[150px] rounded-full object-cover",alt:"LGU Logo"}),b&&o.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"mt-2 w-full"})]}),b?o.jsxs("form",{onSubmit:j.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"LGU Code",name:"Code",value:j.values.Code,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.Code,touched:j.touched.Code,required:!0}),o.jsx(k,{label:"LGU Name",name:"Name",value:j.values.Name,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.Name,touched:j.touched.Name,required:!0}),o.jsx(k,{label:"TIN",name:"TIN",value:j.values.TIN,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.TIN,touched:j.touched.TIN,required:!0}),o.jsx(k,{label:"RDO",name:"RDO",type:"select",options:x.map(N=>({value:N.ID,label:N.Name})),value:j.values.RDO,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.RDO,touched:j.touched.RDO,required:!0}),o.jsx(k,{label:"Street Address",name:"StreetAddress",value:j.values.StreetAddress,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.StreetAddress,touched:j.touched.StreetAddress,required:!0}),o.jsx(k,{label:"Barangay",name:"BarangayID",type:"select",value:j.values.BarangayID,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.BarangayID,touched:j.touched.BarangayID,options:c.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(k,{label:"Municipality",name:"MunicipalityID",type:"select",value:j.values.MunicipalityID,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.MunicipalityID,touched:j.touched.MunicipalityID,options:u.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(k,{label:"Province",name:"ProvinceID",type:"select",value:j.values.ProvinceID,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.ProvinceID,touched:j.touched.ProvinceID,options:d.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(k,{label:"Region",name:"RegionID",type:"select",value:j.values.RegionID,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.RegionID,touched:j.touched.RegionID,options:f.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(k,{label:"Zip Code",name:"ZIPCode",value:j.values.ZIPCode,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.ZIPCode,touched:j.touched.ZIPCode,required:!0}),o.jsx(k,{label:"Mobile Number",name:"PhoneNumber",value:j.values.PhoneNumber,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.PhoneNumber,touched:j.touched.PhoneNumber,required:!0}),o.jsx(k,{label:"Email",name:"EmailAddress",type:"email",value:j.values.EmailAddress,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.EmailAddress,touched:j.touched.EmailAddress,required:!0}),o.jsx(k,{label:"Website",name:"Website",value:j.values.Website,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.Website,touched:j.touched.Website,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:()=>{j.resetForm(),g(!1)},className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:j.isSubmitting,children:j.isSubmitting?"Saving...":"Save"})]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({Code:"LGU Code",Name:"LGU Name",TIN:"TIN",RDO:"RDO",StreetAddress:"Street Address",BarangayName:"Barangay",MunicipalityName:"Municipality",ProvinceName:"Province",RegionName:"Region",ZIPCode:"ZIP Code",PhoneNumber:"Phone Number",EmailAddress:"Email Address",Website:"Website"}).map(([N,S])=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:S}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m[N]})]},N))})]})]})]})},o1e=({formData:t,handleInputChange:e,handleSave:r,onCancel:n,isEdit:a,handleFileUpload:s,handleRemoveAttachment:i})=>o.jsxs("div",{className:" sm:p-4 space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"I. Applicant Session"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(k,{label:"Applicant Type",name:"applicantType",type:"radio-group",options:[{value:"new",label:"New"},{value:"renewal",label:"Renewal"}],value:t.applicantType,onChange:l=>e("applicantType",l)}),o.jsx(k,{label:"Mode of Payment",name:"modeOfPayment",type:"radio-group",options:[{value:"annually",label:"Annually"},{value:"semi-annually",label:"Semi-Annually"},{value:"quarterly",label:"Quarterly"}],value:t.modeOfPayment,onChange:l=>e("modeOfPayment",l)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(k,{label:"Date of Application",name:"dateOfApplication",type:"date",value:t.dateOfApplication,onChange:l=>e("dateOfApplication",l)}),o.jsx(k,{label:"DTI/SEC/CDA Registration No.",name:"dtiSecCdaRegistrationNo",type:"text",value:t.dtiSecCdaRegistrationNo,onChange:l=>e("dtiSecCdaRegistrationNo",l),placeholder:"Enter registration number"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(k,{label:"TIN No.",name:"tinNo",type:"text",value:t.tinNo,onChange:l=>e("tinNo",l),placeholder:"Enter TIN number"}),o.jsx(k,{label:"DTI/SEC/CDA Registration Date",name:"dtiSecCdaRegistrationDate",type:"date",value:t.dtiSecCdaRegistrationDate,onChange:l=>e("dtiSecCdaRegistrationDate",l)})]}),o.jsx(k,{label:"Type of Business",name:"typeOfBusiness",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"cooperative",label:"Cooperative"}],value:t.typeOfBusiness,onChange:l=>e("typeOfBusiness",l)}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Amendment"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"From",name:"amendmentFrom",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentFrom,onChange:l=>e("amendmentFrom",l)}),o.jsx(k,{label:"To",name:"amendmentTo",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentTo,onChange:l=>e("amendmentTo",l)})]})]}),o.jsx(k,{label:"Are you enjoying tax incentive from any Government Entity?",name:"taxIncentiveFromGovEntity",type:"radio-group",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:t.taxIncentiveFromGovEntity,onChange:l=>e("taxIncentiveFromGovEntity",l),className:"mt-4"})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Name of Taxpayer/Registrant"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(k,{label:"Last Name",name:"lastName",type:"text",value:t.lastName,onChange:l=>e("lastName",l),placeholder:"Enter last name"}),o.jsx(k,{label:"First Name",name:"firstName",type:"text",value:t.firstName,onChange:l=>e("firstName",l),placeholder:"Enter first name"}),o.jsx(k,{label:"Middle Name",name:"middleName",type:"text",value:t.middleName,onChange:l=>e("middleName",l),placeholder:"Enter middle name"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(k,{label:"Business Name",name:"businessName",type:"text",value:t.businessName,onChange:l=>e("businessName",l),placeholder:"Enter business name"}),o.jsx(k,{label:"Trade Name/Franchise",name:"tradeNameFranchise",type:"text",value:t.tradeNameFranchise,onChange:l=>e("tradeNameFranchise",l),placeholder:"Enter trade name or franchise"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"II. Other Information"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(k,{label:"Region",name:"businessRegion",type:"select",value:t.businessRegion,onChange:l=>e("businessRegion",l),options:[{value:"",label:"Select Region"},{value:"REGION II (CAGAYAN VALLEY)",label:"REGION II (CAGAYAN VALLEY)"},{value:"REGION I (ILOCOS REGION)",label:"REGION I (ILOCOS REGION)"},{value:"REGION III (CENTRAL LUZON)",label:"REGION III (CENTRAL LUZON)"},{value:"NCR",label:"NCR"}]}),o.jsx(k,{label:"Province",name:"businessProvince",type:"select",value:t.businessProvince,onChange:l=>e("businessProvince",l),options:[{value:"",label:"Select Province"},{value:"BATANES",label:"BATANES"},{value:"CAGAYAN",label:"CAGAYAN"},{value:"ISABELA",label:"ISABELA"},{value:"NUEVA VIZCAYA",label:"NUEVA VIZCAYA"}]}),o.jsx(k,{label:"Municipality",name:"businessMunicipality",type:"select",value:t.businessMunicipality,onChange:l=>e("businessMunicipality",l),options:[{value:"",label:"Select Municipality"},{value:"BASCO (Capital)",label:"BASCO (Capital)"},{value:"ITBAYAT",label:"ITBAYAT"},{value:"IVANA",label:"IVANA"},{value:"MAHATAO",label:"MAHATAO"}]}),o.jsx(k,{label:"Barangay",name:"businessBarangay",type:"select",value:t.businessBarangay,onChange:l=>e("businessBarangay",l),options:[{value:"",label:"Select Barangay"},{value:"San Antonio",label:"San Antonio"},{value:"Kayhuvokan",label:"Kayhuvokan"},{value:"Nakanmuan",label:"Nakanmuan"},{value:"Chanarian",label:"Chanarian"}]})]}),o.jsx(k,{label:"Street Address",name:"businessStreetAddress",type:"text",value:t.businessStreetAddress,onChange:l=>e("businessStreetAddress",l),placeholder:"Enter street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(k,{label:"Postal Code",name:"postalCode",type:"text",value:t.postalCode,onChange:l=>e("postalCode",l),placeholder:"Enter postal code"}),o.jsx(k,{label:"Email Address",name:"emailAddress",type:"email",value:t.emailAddress,onChange:l=>e("emailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsx(k,{label:"Telephone No.",name:"telephoneNo",type:"text",value:t.telephoneNo,onChange:l=>e("telephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(k,{label:"Mobile No.",name:"mobileNo",type:"text",value:t.mobileNo,onChange:l=>e("mobileNo",l),placeholder:"Enter mobile number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Owner's Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(k,{label:"Street Address",name:"ownerStreetAddress",type:"text",value:t.ownerStreetAddress,onChange:l=>e("ownerStreetAddress",l),placeholder:"Street address"}),o.jsx(k,{label:"Barangay",name:"ownerBarangay",type:"text",value:t.ownerBarangay,onChange:l=>e("ownerBarangay",l),placeholder:"Barangay"}),o.jsx(k,{label:"Municipality",name:"ownerMunicipality",type:"text",value:t.ownerMunicipality,onChange:l=>e("ownerMunicipality",l),placeholder:"Municipality"}),o.jsx(k,{label:"Region",name:"ownerRegion",type:"text",value:t.ownerRegion,onChange:l=>e("ownerRegion",l),placeholder:"Region"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(k,{label:"Postal Code",name:"ownerPostalCode",type:"text",value:t.ownerPostalCode,onChange:l=>e("ownerPostalCode",l),placeholder:"Enter postal code"}),o.jsx(k,{label:"Email Address",name:"ownerEmailAddress",type:"email",value:t.ownerEmailAddress,onChange:l=>e("ownerEmailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(k,{label:"Telephone No.",name:"ownerTelephoneNo",type:"text",value:t.ownerTelephoneNo,onChange:l=>e("ownerTelephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(k,{label:"Mobile No.",name:"ownerMobileNo",type:"text",value:t.ownerMobileNo,onChange:l=>e("ownerMobileNo",l),placeholder:"Enter mobile number"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"In Case of emergency, provide name of contact person"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(k,{label:"Contact Person",name:"emergencyContactPerson",type:"text",value:t.emergencyContactPerson,onChange:l=>e("emergencyContactPerson",l),placeholder:"Enter contact person name"}),o.jsx(k,{label:"Telephone/Mobile No.",name:"emergencyContactNumber",type:"text",value:t.emergencyContactNumber,onChange:l=>e("emergencyContactNumber",l),placeholder:"Enter contact number"}),o.jsx(k,{label:"Email Address",name:"emergencyContactEmail",type:"email",value:t.emergencyContactEmail,onChange:l=>e("emergencyContactEmail",l),placeholder:"Enter email address"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(k,{label:"Business Area (in sqm)",name:"businessArea",type:"number",value:t.businessArea,onChange:l=>e("businessArea",l),placeholder:"Enter business area"}),o.jsx(k,{label:"Total Employees in Establishment",name:"totalEmployees",type:"number",value:t.totalEmployees,onChange:l=>e("totalEmployees",l),placeholder:"Enter total employees"}),o.jsx(k,{label:"No. of Employees Residing with LGLI",name:"employeesResidingWithLgli",type:"number",value:t.employeesResidingWithLgli,onChange:l=>e("employeesResidingWithLgli",l),placeholder:"Enter number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Note: Fill up Only if Business Place is Rented"}),o.jsx(k,{label:"Lessor's Full Name",name:"lessorFullName",type:"text",value:t.lessorFullName,onChange:l=>e("lessorFullName",l),placeholder:"Enter lessor's full name"}),o.jsx(k,{label:"Lessor's Full Address",name:"lessorAddress",type:"text",value:t.lessorAddress,onChange:l=>e("lessorAddress",l),placeholder:"Enter lessor's address",className:"mt-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(k,{label:"Lessor's Telephone/Mobile No.",name:"lessorContactNumber",type:"text",value:t.lessorContactNumber,onChange:l=>e("lessorContactNumber",l),placeholder:"Enter contact number"}),o.jsx(k,{label:"Lessor's Email Address",name:"lessorEmail",type:"email",value:t.lessorEmail,onChange:l=>e("lessorEmail",l),placeholder:"Enter email address"})]}),o.jsx(k,{label:"Monthly Rental",name:"monthlyRental",type:"number",value:t.monthlyRental,onChange:l=>e("monthlyRental",l),placeholder:"Enter monthly rental amount",className:"mt-4"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"III. Business Activity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(k,{label:"Line of Business",name:"lineOfBusiness",type:"text",value:t.lineOfBusiness,onChange:l=>e("lineOfBusiness",l),placeholder:"Enter line of business"}),o.jsx(k,{label:"No. Units",name:"numberOfUnits",type:"number",value:t.numberOfUnits,onChange:l=>e("numberOfUnits",l),placeholder:"Enter number of units"}),o.jsx(k,{label:"Capitalization",name:"capitalization",type:"number",value:t.capitalization,onChange:l=>e("capitalization",l),placeholder:"Enter capitalization"}),o.jsx(k,{label:"Gross Sales",name:"grossSales",type:"number",value:t.grossSales,onChange:l=>e("grossSales",l),placeholder:"Enter gross sales"})]})]}),o.jsxs("div",{className:"pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"IV. Attachments"}),o.jsxs("div",{className:"flex items-center mb-4 gap-4 justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Add Attachment"}),o.jsx("input",{type:"file",onChange:s,className:"hidden",id:"fileUpload",multiple:!0}),o.jsx("button",{type:"button",onClick:()=>document.getElementById("fileUpload").click(),className:"btn btn-outline",children:"Add"})]}),o.jsx("div",{className:"space-y-2",children:t.attachments&&t.attachments.length>0?t.attachments.map((l,c)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsx("span",{className:"text-sm truncate",children:l.name}),o.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-500 hover:text-red-700",children:"Delete"})]},c)):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:r,className:"btn btn-primary",children:a?"Update Application":"Create Application"})]})]});function i1e(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),[a,s]=w.useState(""),{Add:i,Edit:l,Delete:c}=Ce(29),u=[{id:1,applicantType:"Renewal",modeOfPayment:"Annually",applicationDate:"1/13/2025",dtiSecCdaRegistration:"21447756",dtiRegistrationDate:"1/13/2025",businessName:"ABC Store",ownerName:"John Smith",status:"Active"},{id:2,applicantType:"New",modeOfPayment:"Semi-Annually",applicationDate:"1/14/2025",dtiSecCdaRegistration:"21447757",dtiRegistrationDate:"1/14/2025",businessName:"XYZ Restaurant",ownerName:"Jane Doe",status:"Pending"}],[d,f]=w.useState({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),m=[{key:"applicantType",header:"Applicant Type",sortable:!0},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"applicationDate",header:"Application Date",sortable:!0},{key:"dtiSecCdaRegistration",header:"DTI/SEC/CDA Registration",sortable:!0},{key:"status",header:"Status",sortable:!0,render:x=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x==="Active"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:x})}],h=[{icon:Iu,title:"View",onClick:x=>b(x)},l&&{icon:Na,title:"Edit",onClick:x=>g(x)},c&&{icon:Ca,title:"Delete",onClick:x=>v(x)}],y=(x,N)=>{f(S=>({...S,[x]:N}))},p=()=>{n(null),f({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),e(!0)},b=x=>{n(x),e(!0)},g=x=>{n(x),e(!0)},v=x=>{console.log("Deleting permit:",x)},j=()=>{console.log("Saving form data:",d),e(!1)},C=u.filter(x=>x.businessName.toLowerCase().includes(a.toLowerCase())||x.ownerName.toLowerCase().includes(a.toLowerCase())||x.dtiSecCdaRegistration.includes(a));return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Business Permit Applications"}),o.jsx("p",{children:"Manage business permit applications and registrations"})]}),i&&o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary max-sm:w-full ",children:[o.jsx(om,{className:"h-5 w-5 mr-2"}),"New Application"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:a,onChange:x=>s(x.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Search applications..."})}),o.jsx(xe,{columns:m,data:C,actions:h,pagination:!0})]})}),o.jsx(le,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Business Application":"New Business Application",size:"xl",children:o.jsx(o1e,{formData:d,handleInputChange:y,handleSave:j,onCancel:()=>e(!1),isEdit:!!r})})]})}const l1e="https://staging-engine.testthelink.online",c1e=ce().shape({payee:D().required("Payee is required"),amount:X().required("Amount is required").positive("Amount must be positive"),date:Ue().required("Date is required"),bank:D().required("Bank is required"),accountNumber:D().required("Account number is required"),accountName:D().required("Account name is required"),chequeType:D().required("Cheque type is required"),checkNumber:D().required("Check number is required"),brstn:D().required("BRSTN is required"),dv:D().required("DV is required"),signatory1:D().required("Signatory 1 is required"),signatory2:D().required("Signatory 2 is required").notOneOf([xl("signatory1")],"Signatories must be different"),Attachments:zt()});function u1e(){var P,_,q,F,O,V,W;const[t,e]=w.useState([]),[r,n]=w.useState(null),[a,s]=w.useState([]),[i,l]=w.useState(!1),c=de(),{banks:u,isLoading:d}=H($=>$.banks),{employees:f,isLoading:m}=H($=>$.employees),{Add:h,Edit:y,Delete:p,Print:b}=Ce(33),g=tt({initialValues:{status:"Pending",payee:"",amount:"",date:new Date().toISOString().split("T")[0],bank:"",accountNumber:"",accountName:"",chequeType:"Single",particulars:"",checkNumber:"",brstn:"",dv:"",additionalInformation:"",signatory1:"",signatory2:"",Attachments:[]},validationSchema:c1e,onSubmit:async $=>{await S($)}}),v=w.useRef(),j=ra.useReactToPrint({contentRef:v,documentTitle:"Check Print"});w.useEffect(()=>{c(rl()),c(dn()),C()},[]);const C=async()=>{try{const $=await Fe("/chequeGenerator/checkList");s($.data)}catch($){throw console.error("Error fetching cheque list:",$),$}},x=($,B,Q)=>{const ae=Array.from($.target.files).map(J=>J);console.log(ae,Q),B("Attachments",[...Q.Attachments,...ae])},N=($,B,Q)=>{const fe=[...Q.Attachments];fe.splice($,1),B("Attachments",fe)},S=async $=>{try{const B=new FormData;B.append("IsNew",r?"false":"true"),B.append("ID",(r==null?void 0:r.ID)||""),B.append("AddCondition","true"),B.append("DisbursementID",$.dv),B.append("BankID",$.bank),B.append("SignatoryType",$.chequeType),B.append("AccountNumber",$.accountNumber),B.append("AccountName",$.accountName),B.append("CheckNumber",$.checkNumber),B.append("BRSTN",$.brstn),B.append("CheckDate",$.date),B.append("Payee",$.payee),B.append("Amount",$.amount),B.append("Words",bs($.amount)),B.append("SignatoryOneID",$.signatory1),B.append("SignatoryTwoID",$.signatory2),B.append("Remarks",$.additionalInformation),B.append("OBR",$.obr||""),t.length>0?t.forEach((ae,J)=>{ae.ID?B.append(`Attachments[${J}].ID`,ae.ID):B.append(`Attachments[${J}].File`,ae)}):B.append("Attachments","[]");const Q={headers:{"Content-Type":"multipart/form-data"}},fe=await Fe.post("/chequeGenerator/save",B,Q);if(fe.data.error&&fe.status!==200){z.error(fe.data.error);return}z.success("Cheque saved successfully"),C(),I()}catch(B){throw console.error("Error saving cheque:",B),z.error("Failed to save cheque"),B}},A=$=>{n($),g.setValues({status:$.Status,payee:$.Payee,amount:$.Amount,date:$.CheckDate,bank:$.BankID.toString(),accountNumber:$.AccountNumber,accountName:$.AccountName,chequeType:$.SignatoryType,particulars:$.Particulars||"",checkNumber:$.CheckNumber,brstn:$.BRSTN,dv:$.DisbursementID,additionalInformation:$.Remarks,obr:$.OBR||"",signatory1:$.SignatoryOneID.toString(),signatory2:$.SignatoryTwoID.toString(),Attachments:$.Attachments||[]})},I=()=>{n(null),g.resetForm(),e([])},T=[{key:"Status",header:"Status",sortable:!0,render:$=>o.jsx("span",{className:`px-2 py-1 text-xs rounded font-medium ${$==="Posted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:$})},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"Payee",header:"Payee",sortable:!0},{key:"Amount",header:"Amount",sortable:!0,render:$=>o.jsxs("span",{className:"font-medium",children:[" ",$?Number($).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""]})},{key:"ApprovalProgress",header:"Approval Progress",sortable:!0},{key:"ApprovalVersion",header:"Approval Version",sortable:!0}],E=$=>{console.log("Delete",$)},R=$=>{console.log("View",$)},M=async($,B)=>{l(!0);try{console.log(`${B}d:`,response.data),z.success(`Budget Allotment ${B}d successfully`)}catch(Q){console.error(`Error ${B}ing Budget Allotment:`,Q),z.error(`Error ${B}ing Budget Allotment`)}finally{l(!1)}},L=$=>{const B=[];return $.Status.toLowerCase().includes("rejected")&&y?(B.push({icon:Na,title:"Edit",onClick:A,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),B.push({icon:Ca,title:"Delete",onClick:()=>E($),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):$.Status.toLowerCase().includes("requested")&&B.push({icon:bn,title:"Approve",onClick:()=>M($,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>M($,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),B.push({icon:Iu,title:"View",onClick:R,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),B};return o.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Cheque Generator"}),o.jsx("p",{children:"Generate and print cheques"})]}),o.jsxs("div",{className:"flex gap-2 max-sm:w-full",children:[!r&&h&&o.jsxs("button",{type:"submit",onClick:g.handleSubmit,className:"btn btn-primary max-sm:w-full",disabled:g.isSubmitting,children:[o.jsx(xfe,{className:"h-5 w-5 mr-2"}),"Save"]}),r&&!((P=r==null?void 0:r.Status)!=null&&P.toLowerCase().includes("requested"))&&y&&o.jsxs("button",{type:"submit",onClick:g.handleSubmit,className:"btn btn-primary max-sm:w-full",disabled:g.isSubmitting,children:[o.jsx(jfe,{className:"h-5 w-5 mr-2"}),"Edit"]}),r&&!((_=r==null?void 0:r.Status)!=null&&_.toLowerCase().includes("requested"))&&b&&o.jsxs("button",{type:"button",onClick:j,className:"btn btn-primary max-sm:w-full",disabled:g.isSubmitting,children:[o.jsx(Jc,{className:"h-5 w-5 mr-2"}),"Print"]}),r&&!((q=r==null?void 0:r.Status)!=null&&q.toLowerCase().includes("requested"))&&o.jsx("button",{type:"button",onClick:()=>{console.log("Attachment")},className:"btn btn-primary max-sm:w-full",disabled:g.isSubmitting,children:"Attachment"}),r&&!((F=r==null?void 0:r.Status)!=null&&F.toLowerCase().includes("requested"))&&o.jsx("button",{type:"button",onClick:I,className:"btn btn-outline mr-2",children:"Cancel Edit"})]})]})}),o.jsx("form",{onSubmit:g.handleSubmit,children:o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Cheque Template"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(ut,{options:u.map($=>({value:$.ID.toString(),label:$.Name})),label:"Bank",placeholder:"Select Bank",name:"bank",selectedValue:g.values.bank,onSelect:$=>g.setFieldValue("bank",$),error:g.touched.bank&&g.errors.bank,touched:g.touched.bank,required:!0})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Single",checked:g.values.chequeType==="Single",onChange:g.handleChange,className:"mr-2"}),"Single"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Double",checked:g.values.chequeType==="Double",onChange:g.handleChange,className:"mr-2"}),"Double"]})]}),g.touched.chequeType&&g.errors.chequeType&&o.jsx("div",{className:"text-red-500 text-sm",children:g.errors.chequeType})]}),o.jsx(k,{type:"text",label:"DV",value:g.values.dv,onChange:g.handleChange,name:"dv",error:g.touched.dv&&g.errors.dv,touched:g.touched.dv})]}),o.jsxs("div",{className:"my-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:$=>x($,g.setFieldValue,g.values),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`},g.values.Attachments.length)]}),((V=(O=g==null?void 0:g.values)==null?void 0:O.Attachments)==null?void 0:V.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.values.Attachments.map(($,B)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx($s,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:$.ID?o.jsx("a",{href:`${l1e}/uploads/${$.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:$.name||$.DataName}):$.name||$.DataName})]}),o.jsx("button",{type:"button",onClick:()=>N(B,g.setFieldValue,g.values),className:"text-red-500 hover:text-red-700",children:o.jsx(Qt,{className:"h-4 w-4"})})]},B))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Cheque Details"}),o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:["Status: ",g.values.status]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(k,{type:"text",label:"Account Number",name:"accountNumber",value:g.values.accountNumber,onChange:g.handleChange,error:g.touched.accountNumber&&g.errors.accountNumber,touched:g.touched.accountNumber})}),o.jsx("div",{children:o.jsx(k,{type:"text",label:"Account Name",name:"accountName",value:g.values.accountName,onChange:g.handleChange,error:g.touched.accountName&&g.errors.accountName,touched:g.touched.accountName})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(k,{type:"text",label:"Check Number",name:"checkNumber",value:g.values.checkNumber,onChange:g.handleChange,error:g.touched.checkNumber&&g.errors.checkNumber,touched:g.touched.checkNumber})}),o.jsx("div",{children:o.jsx(k,{type:"text",label:"BRSTN",name:"brstn",value:g.values.brstn,onChange:g.handleChange,error:g.touched.brstn&&g.errors.brstn,touched:g.touched.brstn})})]}),o.jsx("div",{children:o.jsx(k,{type:"date",label:"Date",name:"date",value:g.values.date,onChange:g.handleChange,error:g.touched.date&&g.errors.date,touched:g.touched.date})}),o.jsx("div",{children:o.jsx(k,{type:"text",label:"Pay to the order of:",name:"payee",value:g.values.payee,onChange:g.handleChange,error:g.touched.payee&&g.errors.payee,touched:g.touched.payee})}),o.jsx("div",{children:o.jsx(k,{type:"text",label:"Amount",name:"amount",value:g.values.amount!==""&&!isNaN(g.values.amount)?Number(g.values.amount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",onChange:$=>{const B=$.target.value.replace(/\D/g,""),Q=B?(parseInt(B,10)/100).toFixed(2):"";g.setFieldValue("amount",Q)},step:"0.01",error:g.touched.amount&&g.errors.amount,touched:g.touched.amount})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount in Words:"}),o.jsx(k,{type:"text",value:bs(g.values.amount),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Signatories"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(ut,{options:f==null?void 0:f.map($=>({value:$.ID.toString(),label:`${$.FirstName} ${$.LastName}`})),label:"Signatory 1",placeholder:"Select signatory",name:"signatory1",selectedValue:g.values.signatory1,onSelect:$=>{if($===g.values.signatory2){z.error("Signatory 1 cannot be the same as Signatory 2");return}g.setFieldValue("signatory1",$)},error:g.touched.signatory1&&g.errors.signatory1,touched:g.touched.signatory1,required:!0})}),o.jsx("div",{children:o.jsx(ut,{options:f==null?void 0:f.map($=>({value:$.ID.toString(),label:`${$.FirstName} ${$.LastName}`})),label:"Signatory 2",placeholder:"Select signatory",name:"signatory2",selectedValue:g.values.signatory2,onSelect:$=>{if($===g.values.signatory1){z.error("Signatory 2 cannot be the same as Signatory 1");return}g.setFieldValue("signatory2",$)},error:g.touched.signatory2&&g.errors.signatory2,touched:g.touched.signatory2,required:!0})}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-700",children:"Additional Info"}),o.jsx("textarea",{value:g.values.additionalInformation,name:"additionalInformation",onChange:g.handleChange,placeholder:"Additional information...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"})]})]})]})]})}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border mt-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:o.jsx("h2",{className:"text-lg font-semibold",children:"Check List"})}),o.jsx(xe,{columns:T,data:a,actions:L,onRowClick:$=>n($),selectedRow:r,loading:d||m||i,pagination:!0})]}),o.jsxs("div",{className:"mt-6 bg-white p-3 sm:p-6 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cheque Preview"}),o.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),o.jsx("p",{className:"font-medium",children:((W=u.find($=>$.ID.toString()===g.values.bank))==null?void 0:W.Name)||"Select a bank"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),o.jsx("p",{className:"font-medium",children:g.values.date?new Date(g.values.date).toLocaleDateString():new Date().toLocaleDateString()})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),o.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:g.values.payee||"Enter payee name"})]}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),o.jsx("p",{className:"font-medium",children:g.values.amount?bs(g.values.amount):"Enter amount"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),o.jsx("p",{className:"font-medium text-lg",children:g.values.amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(g.values.amount):"0.00"})]})]}),o.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Authorized Signature"})})})]})})]}),o.jsx("div",{style:{display:"none"},children:o.jsx(d1e,{ref:v,cheque:{...g.values,words:bs(g.values.amount)},banks:u,employees:f})})]})}const d1e=w.forwardRef(({cheque:t,banks:e,employees:r},n)=>{const a=r.find(c=>c.ID.toString()===t.signatory1),s=a?`${a.FirstName} ${a.LastName}`:(t==null?void 0:t.signatory1)||"Treasury Head",i=r.find(c=>c.ID.toString()===t.signatory2),l=i?`${i.FirstName} ${i.LastName}`:(t==null?void 0:t.signatory2)||"Mayor";return o.jsxs("div",{ref:n,className:"bg-white p-12  text-black text-lg",style:{width:600,margin:"0 auto"},children:[o.jsx("div",{className:"flex justify-end",children:o.jsxs("div",{className:"text-right font-mono",children:[o.jsx("div",{style:{letterSpacing:5,fontWeight:600},children:t.date&&new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g," ")||""}),o.jsx("div",{className:"text-right font-semibold mt-2",children:Number(t.amount||0).toLocaleString(void 0,{minimumFractionDigits:2})})]})}),o.jsx("div",{className:"mt-10 mb-2 font-bold tracking-wide",children:t.payee||"Payee Name"}),o.jsx("div",{className:"font-bold tracking-wide mb-10",children:t.amount&&(t.words||t.amount_in_words)||"AMOUNT IN WORDS"}),o.jsxs("div",{className:"flex justify-between mt-20",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:s}),o.jsx("div",{className:"text-xs",children:"Treasury Head"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:l}),o.jsx("div",{className:"text-xs",children:"Mayor"})]})]}),o.jsx("div",{className:"mt-10 text-xs text-gray-400",children:"98765"})]})});function f1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=ce({ChartofAccountsID:D().required("Chart of Accounts is required"),CutOffDate:D().required("Cut Off Date is required"),FundID:D().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(qe,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:y,isSubmitting:p,setFieldValue:b})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4 gap-1",children:[o.jsx(ut,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:g=>b("ChartofAccountsID",g),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID,className:"w-full mb-3"}),o.jsx(k,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:y,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(k,{type:"select",label:"Fund",name:"FundID",options:t.map(g=>({value:g.ID,label:g.Name})),value:d.FundID,onChange:h,onBlur:y,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:p,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:p,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const m1e="https://staging-engine.testthelink.online",h1e={generalLedgers:[],isLoading:!1,error:null},Hb=U("generalLedger/fetchGeneralLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${m1e}/generalLedger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general ledgers:",r),e.rejectWithValue(r.message)}}),U1=U("generalLedger/exportGeneralLedgers",async t=>!0),ez=we({name:"generalLedger",initialState:h1e,reducers:{resetGeneralLedgerState:t=>{t.generalLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Hb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalLedgers=r.payload}).addCase(Hb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(U1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(U1.fulfilled,e=>{e.isLoading=!1}).addCase(U1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralLedgerState:p1e}=ez.actions,g1e=ez.reducer,y1e="https://staging-engine.testthelink.online";function b1e(){const t=de(),{generalLedgers:e,isLoading:r,error:n}=H(d=>d.generalLedger),{funds:a}=H(d=>d.funds),{accounts:s}=H(d=>d.chartOfAccounts),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);w.useEffect(()=>{t(p1e()),t(er()),t(Pr())},[t]);const l=[{key:"id",header:"ID",sortable:!0},{key:"ap_ar",header:"AP AR",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"invoice_number",header:"Invoice Number",sortable:!0},{key:"account_code_display",header:"Account Code Display",sortable:!0},{key:"account_name_display",header:"Account Name Display",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:d=>i(d),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],c=async d=>{try{const f=await fetch(`${y1e}/generalLedger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(d)});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let y="General_Ledger.xlsx";h&&h.includes("filename=")&&(y=h.split("filename=")[1].replace(/['"]/g,""));const p=window.URL.createObjectURL(m),b=document.createElement("a");b.href=p,b.download=y,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(p)}catch(f){console.error("Export failed:",f),z.error(f.message||"Failed to export general ledger")}},u=d=>{t(Hb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Ledger"}),o.jsx("p",{children:"Generate general ledger reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(f1e,{funds:a,accountOptions:s.map(d=>({value:d.ID,label:`${d.AccountCode} - ${d.Name}`})),onExportExcel:c,onView:u,onClose:()=>{}})}),n&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:n})}),o.jsx("div",{className:"mt-6",children:o.jsx(xe,{columns:l,data:e,loading:r,pagination:!0})})]})}function x1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=ce({ChartofAccountsID:D().required("Chart of Accounts is required"),CutOffDate:D().required("Cut Off Date is required"),FundID:D().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(qe,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:y,isSubmitting:p,setFieldValue:b})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1 sm:gap-4",children:[o.jsx(ut,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:g=>b("ChartofAccountsID",g),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID}),o.jsx(k,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:y,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(k,{type:"select",label:"Fund",name:"FundID",options:t.map(g=>({value:g.ID,label:g.Name})),value:d.FundID,onChange:h,onBlur:y,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:p,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:p,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const v1e="https://staging-engine.testthelink.online",j1e={subsidiaryLedgers:[],isLoading:!1,error:null},Gb=U("subsidiaryLedger/fetchSubsidiaryLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${v1e}/subsidiaryLeadger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching subsidiary ledger:",r),e.rejectWithValue(r.message)}}),z1=U("subsidiaryLedger/exportSubsidiaryLedgers",async t=>!0),tz=we({name:"subsidiaryLedger",initialState:j1e,reducers:{resetSubsidiaryLedgerState:t=>{t.subsidiaryLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Gb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gb.fulfilled,(e,r)=>{e.isLoading=!1,e.subsidiaryLedgers=r.payload}).addCase(Gb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(z1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(z1.fulfilled,e=>{e.isLoading=!1}).addCase(z1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetSubsidiaryLedgerState:w1e}=tz.actions,N1e=tz.reducer;function C1e(){const t="https://staging-engine.testthelink.online",e=de(),{subsidiaryLedgers:r,isLoading:n,error:a}=H(f=>f.subsidiaryLedger),{funds:s}=H(f=>f.funds),{accounts:i}=H(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);w.useEffect(()=>{e(w1e()),e(er()),e(Pr())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=localStorage.getItem("token"),h=await fetch(`${t}/subsidiaryLeadger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify(f)});if(!h.ok)throw new Error("Server response was not ok");const y=await h.blob(),p=h.headers.get("Content-Disposition");let b="Subsidiary_Ledger.xlsx";p&&p.includes("filename=")&&(b=p.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(y),v=document.createElement("a");v.href=g,v.download=b,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(g)}catch(m){console.error("Export failed:",m),z.error(m.message||"Failed to export subsidiary ledger")}},d=f=>{e(Gb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Subsidiary Ledger"}),o.jsx("p",{children:"Generate subsidiary ledger reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(x1e,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(xe,{columns:c,data:r,loading:n,pagination:!0})})]})}function S1e({onView:t,onGenerateJournal:e,onExportExcel:r}){const n=w.useRef(null),a=ce({year:D().required("Year is required")}),s={year:new Date().getFullYear()-1},i=(l,{setSubmitting:c})=>{const u=n.current;u==="view"?t(l):u==="generate"?e(l):u==="export"&&r(l),c(!1),n.current=null};return o.jsx(qe,{initialValues:s,validationSchema:a,onSubmit:i,validateOnMount:!0,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m,setFieldValue:h})=>o.jsxs(We,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:o.jsx(k,{label:"Year",name:"year",type:"number",value:l.year,onChange:d,onBlur:f,error:c.year,touched:u.year,required:!0})}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 max-sm:flex-col  gap-4",children:[o.jsx("button",{type:"submit",className:"btn btn-primary ",disabled:m,onClick:()=>n.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary text-center",disabled:m,children:"Generate FSP"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:m,onClick:()=>n.current="export",children:"Export to Excel"})]})]})})}const A1e="https://staging-engine.testthelink.online",I1e={financialStatements:[],isLoading:!1,error:null},Yb=U("financialStatement/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${A1e}/financialStatementsReports/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching financial statements:",r),e.rejectWithValue(r.message)}}),W1=U("financialStatement/exportFinancialStatements",async t=>!0),rz=we({name:"financialStatement",initialState:I1e,reducers:{resetFinancialStatementState:t=>{t.financialStatements=[],t.error=null}},extraReducers:t=>{t.addCase(Yb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yb.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload}).addCase(Yb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(W1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(W1.fulfilled,e=>{e.isLoading=!1}).addCase(W1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetFinancialStatementState:k1e}=rz.actions,T1e=rz.reducer;function P1e(){const t="https://staging-engine.testthelink.online",e=de(),{financialStatements:r,isLoading:n,error:a}=H(u=>u.financialStatementsReports);w.useEffect(()=>{e(k1e())},[e]);const s=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),i=[{key:"Type",header:"Type",sortable:!0},{key:"Term",header:"Term",sortable:!0},{key:"SubType",header:"Sub Type",sortable:!0},{key:"Notes",header:"Notes",sortable:!0},{key:"Values",header:"Values",sortable:!0,render:u=>s(u),className:"text-right"},{key:"Comparison",header:"Comparison",sortable:!0,render:u=>s(u),className:"text-right"}],l=async u=>{try{const d=localStorage.getItem("token"),f=await fetch(`${t}/financialStatementsReports/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({year:u.year})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let y="Consolidated_Statement_of_Financial_Position.xlsx";h&&h.includes("filename=")&&(y=h.split("filename=")[1].replace(/['"]/g,""));const p=window.URL.createObjectURL(m),b=document.createElement("a");b.href=p,b.download=y,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(p)}catch(d){console.error("Export failed:",d),z.error(d.message||"Failed to export")}},c=u=>{e(Yb(u))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Consolidated Comparison"}),o.jsx("p",{children:"Generate consolidated comparison reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(S1e,{onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(xe,{columns:i,data:r,loading:n,pagination:!0})})]})}const w$="https://staging-engine.testthelink.online";function N$(){const[t,e]=w.useState(""),[r,n]=w.useState(""),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState([]),[m,h]=w.useState(!1),y=de(),{funds:p}=H(A=>A.funds),{departments:b}=H(A=>A.departments),{fiscalYears:g}=H(A=>A.fiscalYears);w.useEffect(()=>{y(er()),y(cr()),y(fn())},[y]);const v=[{key:"Name",header:"Name",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Appropriated",header:"Appropriation",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Adjustments",header:"Adjustments",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Allotments",header:"Allotments",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Obligations",header:"Obligations",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Appropriation Balance",header:"Appropriation Balance",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Allotment Balance",header:"Allotment Balance",sortable:!0,render:A=>j(A),className:"text-right"}],j=A=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(A),C=()=>({startDate:t,endDate:r,fiscalYearID:a,fundsID:i,departmentID:c}),x=async()=>{if(!N()){z.error("Please select all filters");return}try{h(!0);const A=await Ze.post(`${w$}/budgetReport/view`,C(),{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});f(A.data||[])}catch{z.error("Failed to fetch data")}finally{h(!1)}},N=()=>t&&r&&a&&i&&c,S=async()=>{if(!N()){z.error("Please select all filters");return}try{const A=await Ze.post(`${w$}/budgetReport/exportExcel`,C(),{responseType:"blob",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),I=new Blob([A.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),T=window.URL.createObjectURL(I),E=document.createElement("a");E.href=T,E.download="Budget_Report.xlsx",document.body.appendChild(E),E.click(),document.body.removeChild(E)}catch{z.error("Export failed")}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Reports"}),o.jsx("p",{children:"View and generate budget utilization reports"})]}),o.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:o.jsxs("button",{onClick:S,className:"btn btn-outline  max-sm:w-full ",children:[o.jsx(g3,{className:"h-5 w-5 mr-2"})," Export"]})})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(k,{label:"Start Date",name:"startDate",type:"date",value:t,required:!0,onChange:A=>e(A.target.value)})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(k,{label:"End Date",name:"endDate",type:"date",value:r,required:!0,onChange:A=>n(A.target.value)})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(k,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:a,required:!0,onChange:A=>s(A.target.value),options:g.map(A=>({label:A.Name,value:A.ID}))})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(k,{label:"Fund",name:"fundsID",type:"select",value:i,required:!0,onChange:A=>l(A.target.value),options:[{label:"All Funds",value:"%"},...p.map(A=>({label:A.Name,value:A.ID}))]})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(k,{label:"Department",name:"departmentID",type:"select",value:c,required:!0,onChange:A=>u(A.target.value),options:[{label:"All Departments",value:"%"},...b.map(A=>({label:A.Name,value:A.ID}))]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:x,children:"View"})})]}),o.jsx("div",{className:"mt-8",children:o.jsx(xe,{columns:v,data:d,pagination:!0,loading:m})})]})}function E1e(){const[t,e]=w.useState({startDate:"2024-01-01",endDate:"2024-01-31",year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),formType:"2307",payeeType:"vendor",vendor:"1"}),{Print:r}=Ce(16),n=[{value:"1",label:"ABC Office Supplies"},{value:"2",label:"XYZ Construction"},{value:"3",label:"Tech Solutions Inc."},{value:"4",label:"Global Logistics"},{value:"5",label:"Premium Services Co."}],a=[{value:"101",label:"Juan Dela Cruz"},{value:"102",label:"Maria Santos"},{value:"103",label:"Pedro Reyes"},{value:"104",label:"Ana Lopez"},{value:"105",label:"Luis Garcia"}],s=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d),i=[{id:1,date:"2024-01-15",reference:"DV-2024-01-0015",description:"Payment for office supplies",grossAmount:5e4,taxRate:.02,taxWithheld:1e3,netAmount:49e3},{id:2,date:"2024-01-20",reference:"DV-2024-01-0023",description:"Payment for IT equipment",grossAmount:1e5,taxRate:.02,taxWithheld:2e3,netAmount:98e3},{id:3,date:"2024-01-25",reference:"DV-2024-01-0032",description:"Payment for maintenance services",grossAmount:75e3,taxRate:.02,taxWithheld:1500,netAmount:73500},{id:4,date:"2024-01-28",reference:"DV-2024-01-0041",description:"Payment for office furniture",grossAmount:12e4,taxRate:.02,taxWithheld:2400,netAmount:117600}],l=[{key:"date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"reference",header:"Reference",sortable:!0,className:"font-medium text-neutral-900"},{key:"description",header:"Description",sortable:!0},{key:"grossAmount",header:"Gross Amount",sortable:!0,render:d=>s(d),className:"text-right"},{key:"taxRate",header:"Tax Rate",sortable:!0,render:d=>`${(d*100).toFixed(2)}%`,className:"text-right"},{key:"taxWithheld",header:"Tax Withheld",sortable:!0,render:d=>s(d),className:"text-right"},{key:"netAmount",header:"Net Amount",sortable:!0,render:d=>s(d),className:"text-right"}],u=(()=>{if(t.payeeType==="employee")return{tin:"987-654-321-000",name:(a.find(f=>f.value===t.vendor)||a[0]).label,address:"Employee Address, City",zipCode:"1000"};{const d=n.find(f=>f.value===t.vendor)||n[0];return{tin:"123-456-789-000",name:d.label,address:`${d.label} Street, Business District`,zipCode:"2000"}}})();return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-[200px]",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"BIR Reports"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Generate BIR forms and reports"})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap w-full sm:w-auto gap-2 sm:justify-end",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(g3,{className:"h-5 w-5 mr-2"}),"Export"]}),r&&o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(Zm,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(k,{label:"From Date",name:"startDate",type:"date",value:t.startDate,onChange:d=>e({...t,startDate:d.target.value})}),o.jsx(k,{label:"To Date",name:"endDate",type:"date",value:t.endDate,onChange:d=>e({...t,endDate:d.target.value})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payee Type"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"employee",checked:t.payeeType==="employee",onChange:d=>e({...t,payeeType:d.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Employee"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"vendor",checked:t.payeeType==="vendor",onChange:d=>e({...t,payeeType:d.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Vendor"})]})]})]}),o.jsx(k,{label:t.payeeType==="employee"?"Employee":"Vendor",name:"vendor",type:"select",value:t.vendor,onChange:d=>e({...t,vendor:d.target.value}),options:t.payeeType==="employee"?a:n})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Generating report with filters:",t)},children:"Generate Report"})})]}),t.formType==="2307"&&o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"text-center space-y-2 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Certificate of Creditable Tax Withheld at Source"}),o.jsx("h3",{className:"text-lg font-semibold",children:"BIR Form No. 2307"}),o.jsxs("p",{className:"text-sm text-neutral-600",children:["For the period from"," ",new Date(t.startDate).toLocaleDateString()," to"," ",new Date(t.endDate).toLocaleDateString()]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payor Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," 000-123-456-789"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," Local Government Unit of Sample City"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," City Hall Building, Main Street"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," 4100"]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payee Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," ",u.tin]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," ",u.name]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," ",u.address]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," ",u.zipCode]})]})]})]}),o.jsx(xe,{columns:l,data:i,pagination:!0}),o.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Gross Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((d,f)=>d+f.grossAmount,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Tax Withheld"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((d,f)=>d+f.taxWithheld,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Net Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((d,f)=>d+f.netAmount,0))})]})]})}),o.jsxs("div",{className:"mt-6 card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Certification"}),o.jsx("p",{className:"text-sm mb-4",children:"I/We certify under penalty of perjury that this certificate has been made in good faith, verified by me/us, and to the best of my/our knowledge and belief, is true and correct."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Prepared by:"}),o.jsx("p",{className:"font-medium",children:"Juan Dela Cruz"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Accounting Staff"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Certified correct by:"}),o.jsx("p",{className:"font-medium",children:"Maria Santos"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Treasurer"})]})]})]})]})]})}const C$="https://staging-engine.testthelink.online",H1={view:!1,add:!1,edit:!1,delete:!1,print:!1,mayor:!1};function D1e(){const t=de(),{userroles:e,isLoading:r,error:n}=H(p=>p.userroles),{Add:a}=Ce(83),s=H(p=>p.modules.modules),[i,l]=w.useState(null),[c,u]=w.useState({});w.useEffect(()=>{t(Eo()),t(Zi())},[t]),w.useEffect(()=>{e.length>0&&!i&&l(e[0])},[e]);const d=async()=>{try{const p=await fetch(`${C$}/moduleAccess/${i.ID}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await p.json();if(!p.ok)throw new Error(b.message||"Failed to fetch access");const g={};b.forEach(j=>{g[j.ModuleID]={id:j.ID,view:!!j.View,add:!!j.Add,edit:!!j.Edit,delete:!!j.Delete,print:!!j.Print,mayor:!!j.Mayor}});const v={};s.forEach(j=>{v[j.ID]=g[j.ID]||{...H1}}),u(v)}catch(p){console.error("Error loading module access:",p.message)}};w.useEffect(()=>{!(i!=null&&i.ID)||s.length===0||d()},[i,s]);const f=(p,b)=>{u(g=>({...g,[p]:{...g[p],[b]:!g[p][b]}}))},m=p=>{const b={};s.forEach(g=>{b[g.ID]={...c[g.ID]||H1,view:p,add:p,edit:p,delete:p,print:p,mayor:p}}),u(b)},h=(p,b)=>{const g={...c};s.forEach(v=>{g[v.ID]={...g[v.ID]||H1,[p]:b}}),u(g)},y=async()=>{if(!(i!=null&&i.ID))return;const p=Object.entries(c).map(([b,g])=>({id:g.id||null,ModuleID:parseInt(b),View:g.view?1:0,Add:g.add?1:0,Edit:g.edit?1:0,Delete:g.delete?1:0,Print:g.print?1:0,Mayor:g.mayor?1:0}));try{const b=await fetch(`${C$}/moduleAccess`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({UserAccessID:i.ID,modules:p})});if(!b.ok){const g=await b.json();throw new Error(g.message||"Failed to save permissions")}z.success("Permissions saved successfully!")}catch(b){console.error("Save failed:",b.message),z.error("Error saving permissions.")}};return o.jsxs("div",{className:"sm:p-4 space-y-4",children:[o.jsxs("header",{className:"page-header space-y-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Access"}),o.jsx("p",{className:"text-gray-600",children:"Manage user roles and module access."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search role...",className:"border px-3 py-2 rounded-md w-full sm:w-60"}),a&&o.jsx("button",{className:"btn btn-primary flex items-center",onClick:y,children:"Save"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsxs("div",{className:"lg:col-span-3 bg-white border rounded shadow",children:[o.jsx("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:"Roles"}),r?o.jsx("div",{className:"p-4 text-center",children:"Loading roles..."}):n?o.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"No roles found."}):o.jsx("ul",{children:e.map(p=>o.jsx("li",{onClick:()=>l(p),className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${(i==null?void 0:i.ID)===p.ID?"bg-blue-200 font-semibold":""}`,children:p.Description},p.ID))})]}),o.jsxs("div",{className:"lg:col-span-9 bg-white border rounded shadow overflow-x-auto",children:[o.jsxs("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:["Permissions for: ",(i==null?void 0:i.Description)||""]}),o.jsxs("table",{className:"min-w-[700px] w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Module"}),["view","add","edit","delete","print","mayor"].map(p=>o.jsx("th",{className:"px-2 capitalize text-center",children:o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("span",{children:p})})},p))]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("td",{className:"px-4 py-1 font-medium",children:"Select All"}),["view","add","edit","delete","print","mayor"].map(p=>o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:s.every(b=>{var g;return(g=c[b.ID])==null?void 0:g[p]}),onChange:b=>h(p,b.target.checked),className:"accent-blue-600"})},`select-all-${p}`))]}),s.map(p=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-1",children:p.Description}),["view","add","edit","delete","print","mayor"].map(b=>{var g;return o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:((g=c[p.ID])==null?void 0:g[b])||!1,onChange:()=>f(p.ID,b),className:"accent-blue-600"})},b)})]},p.ID))]})]}),o.jsxs("div",{className:"p-2 border-t space-x-2",children:[o.jsx("button",{onClick:()=>m(!0),className:"btn btn-outline",children:"Select All"}),o.jsx("button",{onClick:()=>m(!1),className:"btn btn-outline",children:"Deselect All"})]})]})]})]})}const O1e=()=>{const t=Xm(),[e,r]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""});de();const[n,a]=w.useState({current:!1,new:!1,confirm:!1}),s=u=>{r(d=>({...d,[u.target.name]:u.target.value}))},i=u=>{a(d=>({...d,[u]:!d[u]}))},l=async u=>{if(u.preventDefault(),!e.currentPassword||!e.newPassword||!e.confirmPassword){z.error("Please fill out all fields");return}if(e.newPassword!==e.confirmPassword){z.error("New passwords do not match");return}try{await new Promise(d=>setTimeout(d,1e3)),z.success("Password updated successfully!"),t("/dashboard")}catch(d){z.error(d.message)}finally{r({currentPassword:"",newPassword:"",confirmPassword:""})}},c=(u,d,f)=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:n[f]?"text":"password",name:d,value:e[d],onChange:s,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(f),className:"absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-gray-700",children:n[f]?o.jsx(ufe,{size:18}):o.jsx(Iu,{size:18})})]})]});return o.jsxs("div",{className:"p-6 max-w-3xl mx-auto animate-fade-in bg-white rounded-lg shadow-sm border border-gray-100",children:[o.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition",children:[o.jsx(sfe,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),o.jsx("h1",{className:"text-3xl font-bold text-blue-800 mb-4",children:"Change Password"}),o.jsxs("form",{className:"space-y-4",onSubmit:l,children:[c("Current Password","currentPassword","current"),c("New Password","newPassword","new"),c("Confirm New Password","confirmPassword","confirm"),o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Update Password"})]})]})};var _1e=Array.isArray,xn=_1e,R1e=typeof Cd=="object"&&Cd&&Cd.Object===Object&&Cd,nz=R1e,$1e=nz,M1e=typeof self=="object"&&self&&self.Object===Object&&self,L1e=$1e||M1e||Function("return this")(),Za=L1e,F1e=Za,B1e=F1e.Symbol,vh=B1e,S$=vh,az=Object.prototype,q1e=az.hasOwnProperty,V1e=az.toString,pd=S$?S$.toStringTag:void 0;function U1e(t){var e=q1e.call(t,pd),r=t[pd];try{t[pd]=void 0;var n=!0}catch{}var a=V1e.call(t);return n&&(e?t[pd]=r:delete t[pd]),a}var z1e=U1e,W1e=Object.prototype,H1e=W1e.toString;function G1e(t){return H1e.call(t)}var Y1e=G1e,A$=vh,K1e=z1e,J1e=Y1e,X1e="[object Null]",Q1e="[object Undefined]",I$=A$?A$.toStringTag:void 0;function Z1e(t){return t==null?t===void 0?Q1e:X1e:I$&&I$ in Object(t)?K1e(t):J1e(t)}var Gs=Z1e;function eCe(t){return t!=null&&typeof t=="object"}var Ys=eCe,tCe=Gs,rCe=Ys,nCe="[object Symbol]";function aCe(t){return typeof t=="symbol"||rCe(t)&&tCe(t)==nCe}var Du=aCe,sCe=xn,oCe=Du,iCe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lCe=/^\w*$/;function cCe(t,e){if(sCe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||oCe(t)?!0:lCe.test(t)||!iCe.test(t)||e!=null&&t in Object(e)}var n2=cCe;function uCe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ai=uCe;const Ou=it(ai);var dCe=Gs,fCe=ai,mCe="[object AsyncFunction]",hCe="[object Function]",pCe="[object GeneratorFunction]",gCe="[object Proxy]";function yCe(t){if(!fCe(t))return!1;var e=dCe(t);return e==hCe||e==pCe||e==mCe||e==gCe}var a2=yCe;const Ye=it(a2);var bCe=Za,xCe=bCe["__core-js_shared__"],vCe=xCe,G1=vCe,k$=function(){var t=/[^.]+$/.exec(G1&&G1.keys&&G1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jCe(t){return!!k$&&k$ in t}var wCe=jCe,NCe=Function.prototype,CCe=NCe.toString;function SCe(t){if(t!=null){try{return CCe.call(t)}catch{}try{return t+""}catch{}}return""}var sz=SCe,ACe=a2,ICe=wCe,kCe=ai,TCe=sz,PCe=/[\\^$.*+?()[\]{}|]/g,ECe=/^\[object .+?Constructor\]$/,DCe=Function.prototype,OCe=Object.prototype,_Ce=DCe.toString,RCe=OCe.hasOwnProperty,$Ce=RegExp("^"+_Ce.call(RCe).replace(PCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MCe(t){if(!kCe(t)||ICe(t))return!1;var e=ACe(t)?$Ce:ECe;return e.test(TCe(t))}var LCe=MCe;function FCe(t,e){return t==null?void 0:t[e]}var BCe=FCe,qCe=LCe,VCe=BCe;function UCe(t,e){var r=VCe(t,e);return qCe(r)?r:void 0}var _l=UCe,zCe=_l,WCe=zCe(Object,"create"),sw=WCe,T$=sw;function HCe(){this.__data__=T$?T$(null):{},this.size=0}var GCe=HCe;function YCe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var KCe=YCe,JCe=sw,XCe="__lodash_hash_undefined__",QCe=Object.prototype,ZCe=QCe.hasOwnProperty;function eSe(t){var e=this.__data__;if(JCe){var r=e[t];return r===XCe?void 0:r}return ZCe.call(e,t)?e[t]:void 0}var tSe=eSe,rSe=sw,nSe=Object.prototype,aSe=nSe.hasOwnProperty;function sSe(t){var e=this.__data__;return rSe?e[t]!==void 0:aSe.call(e,t)}var oSe=sSe,iSe=sw,lSe="__lodash_hash_undefined__";function cSe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=iSe&&e===void 0?lSe:e,this}var uSe=cSe,dSe=GCe,fSe=KCe,mSe=tSe,hSe=oSe,pSe=uSe;function _u(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_u.prototype.clear=dSe;_u.prototype.delete=fSe;_u.prototype.get=mSe;_u.prototype.has=hSe;_u.prototype.set=pSe;var gSe=_u;function ySe(){this.__data__=[],this.size=0}var bSe=ySe;function xSe(t,e){return t===e||t!==t&&e!==e}var s2=xSe,vSe=s2;function jSe(t,e){for(var r=t.length;r--;)if(vSe(t[r][0],e))return r;return-1}var ow=jSe,wSe=ow,NSe=Array.prototype,CSe=NSe.splice;function SSe(t){var e=this.__data__,r=wSe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():CSe.call(e,r,1),--this.size,!0}var ASe=SSe,ISe=ow;function kSe(t){var e=this.__data__,r=ISe(e,t);return r<0?void 0:e[r][1]}var TSe=kSe,PSe=ow;function ESe(t){return PSe(this.__data__,t)>-1}var DSe=ESe,OSe=ow;function _Se(t,e){var r=this.__data__,n=OSe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var RSe=_Se,$Se=bSe,MSe=ASe,LSe=TSe,FSe=DSe,BSe=RSe;function Ru(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ru.prototype.clear=$Se;Ru.prototype.delete=MSe;Ru.prototype.get=LSe;Ru.prototype.has=FSe;Ru.prototype.set=BSe;var iw=Ru,qSe=_l,VSe=Za,USe=qSe(VSe,"Map"),o2=USe,P$=gSe,zSe=iw,WSe=o2;function HSe(){this.size=0,this.__data__={hash:new P$,map:new(WSe||zSe),string:new P$}}var GSe=HSe;function YSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var KSe=YSe,JSe=KSe;function XSe(t,e){var r=t.__data__;return JSe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var lw=XSe,QSe=lw;function ZSe(t){var e=QSe(this,t).delete(t);return this.size-=e?1:0,e}var eAe=ZSe,tAe=lw;function rAe(t){return tAe(this,t).get(t)}var nAe=rAe,aAe=lw;function sAe(t){return aAe(this,t).has(t)}var oAe=sAe,iAe=lw;function lAe(t,e){var r=iAe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var cAe=lAe,uAe=GSe,dAe=eAe,fAe=nAe,mAe=oAe,hAe=cAe;function $u(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$u.prototype.clear=uAe;$u.prototype.delete=dAe;$u.prototype.get=fAe;$u.prototype.has=mAe;$u.prototype.set=hAe;var i2=$u,oz=i2,pAe="Expected a function";function l2(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(pAe);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(l2.Cache||oz),r}l2.Cache=oz;var iz=l2;const gAe=it(iz);var yAe=iz,bAe=500;function xAe(t){var e=yAe(t,function(n){return r.size===bAe&&r.clear(),n}),r=e.cache;return e}var vAe=xAe,jAe=vAe,wAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,NAe=/\\(\\)?/g,CAe=jAe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(wAe,function(r,n,a,s){e.push(a?s.replace(NAe,"$1"):n||r)}),e}),SAe=CAe;function AAe(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var c2=AAe,E$=vh,IAe=c2,kAe=xn,TAe=Du,D$=E$?E$.prototype:void 0,O$=D$?D$.toString:void 0;function lz(t){if(typeof t=="string")return t;if(kAe(t))return IAe(t,lz)+"";if(TAe(t))return O$?O$.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var PAe=lz,EAe=PAe;function DAe(t){return t==null?"":EAe(t)}var cz=DAe,OAe=xn,_Ae=n2,RAe=SAe,$Ae=cz;function MAe(t,e){return OAe(t)?t:_Ae(t,e)?[t]:RAe($Ae(t))}var uz=MAe,LAe=Du;function FAe(t){if(typeof t=="string"||LAe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var cw=FAe,BAe=uz,qAe=cw;function VAe(t,e){e=BAe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[qAe(e[r++])];return r&&r==n?t:void 0}var u2=VAe,UAe=u2;function zAe(t,e,r){var n=t==null?void 0:UAe(t,e);return n===void 0?r:n}var dz=zAe;const ja=it(dz);function WAe(t){return t==null}var HAe=WAe;const Qe=it(HAe);var GAe=Gs,YAe=xn,KAe=Ys,JAe="[object String]";function XAe(t){return typeof t=="string"||!YAe(t)&&KAe(t)&&GAe(t)==JAe}var QAe=XAe;const jh=it(QAe);var fz={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2=Symbol.for("react.element"),f2=Symbol.for("react.portal"),uw=Symbol.for("react.fragment"),dw=Symbol.for("react.strict_mode"),fw=Symbol.for("react.profiler"),mw=Symbol.for("react.provider"),hw=Symbol.for("react.context"),ZAe=Symbol.for("react.server_context"),pw=Symbol.for("react.forward_ref"),gw=Symbol.for("react.suspense"),yw=Symbol.for("react.suspense_list"),bw=Symbol.for("react.memo"),xw=Symbol.for("react.lazy"),eIe=Symbol.for("react.offscreen"),mz;mz=Symbol.for("react.module.reference");function aa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case d2:switch(t=t.type,t){case uw:case fw:case dw:case gw:case yw:return t;default:switch(t=t&&t.$$typeof,t){case ZAe:case hw:case pw:case xw:case bw:case mw:return t;default:return e}}case f2:return e}}}gt.ContextConsumer=hw;gt.ContextProvider=mw;gt.Element=d2;gt.ForwardRef=pw;gt.Fragment=uw;gt.Lazy=xw;gt.Memo=bw;gt.Portal=f2;gt.Profiler=fw;gt.StrictMode=dw;gt.Suspense=gw;gt.SuspenseList=yw;gt.isAsyncMode=function(){return!1};gt.isConcurrentMode=function(){return!1};gt.isContextConsumer=function(t){return aa(t)===hw};gt.isContextProvider=function(t){return aa(t)===mw};gt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===d2};gt.isForwardRef=function(t){return aa(t)===pw};gt.isFragment=function(t){return aa(t)===uw};gt.isLazy=function(t){return aa(t)===xw};gt.isMemo=function(t){return aa(t)===bw};gt.isPortal=function(t){return aa(t)===f2};gt.isProfiler=function(t){return aa(t)===fw};gt.isStrictMode=function(t){return aa(t)===dw};gt.isSuspense=function(t){return aa(t)===gw};gt.isSuspenseList=function(t){return aa(t)===yw};gt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===uw||t===fw||t===dw||t===gw||t===yw||t===eIe||typeof t=="object"&&t!==null&&(t.$$typeof===xw||t.$$typeof===bw||t.$$typeof===mw||t.$$typeof===hw||t.$$typeof===pw||t.$$typeof===mz||t.getModuleId!==void 0)};gt.typeOf=aa;fz.exports=gt;var tIe=fz.exports,rIe=Gs,nIe=Ys,aIe="[object Number]";function sIe(t){return typeof t=="number"||nIe(t)&&rIe(t)==aIe}var hz=sIe;const oIe=it(hz);var iIe=hz;function lIe(t){return iIe(t)&&t!=+t}var cIe=lIe;const wh=it(cIe);var Jn=function(e){return e===0?0:e>0?1:-1},Mi=function(e){return jh(e)&&e.indexOf("%")===e.length-1},Ne=function(e){return oIe(e)&&!wh(e)},gr=function(e){return Ne(e)||jh(e)},uIe=0,vw=function(e){var r=++uIe;return"".concat(e||"").concat(r)},sn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&!jh(e))return n;var s;if(Mi(e)){var i=e.indexOf("%");s=r*parseFloat(e.slice(0,i))/100}else s=+e;return wh(s)&&(s=n),a&&s>r&&(s=r),s},Kl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},dIe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},_$=function(e,r){return Ne(e)&&Ne(r)?function(n){return e+n*(r-e)}:function(){return r}};function bI(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ja(n,e))===r})}function xI(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function vI(t){"@babel/helpers - typeof";return vI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vI(t)}var fIe=["viewBox","children"],mIe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],R$=["points","pathLength"],Y1={svg:fIe,polygon:R$,polyline:R$},m2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],l0=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),!Ou(n))return null;var a={};return Object.keys(n).forEach(function(s){m2.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},hIe=function(e,r,n){return function(a){return e(r,n,a),null}},jw=function(e,r,n){if(!Ou(e)||vI(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var i=e[s];m2.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=hIe(i,r,n))}),a},pIe=["children"],gIe=["children"];function $$(t,e){if(t==null)return{};var r=yIe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var M$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},As=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},L$=null,K1=null,h2=function t(e){if(e===L$&&Array.isArray(K1))return K1;var r=[];return w.Children.forEach(e,function(n){Qe(n)||(tIe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),K1=r,L$=e,r};function Ha(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return As(a)}):n=[As(e)],h2(t).forEach(function(a){var s=ja(a,"type.displayName")||ja(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Wn(t,e){var r=Ha(t,e);return r&&r[0]}var F$=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Ne(n)||n<=0||!Ne(a)||a<=0)},bIe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xIe=function(e){return e&&e.type&&jh(e.type)&&bIe.indexOf(e.type)>=0},vIe=function(e,r,n,a){var s,i=(s=Y1==null?void 0:Y1[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ye(e)&&(a&&i.includes(r)||mIe.includes(r))||n&&m2.includes(r)},Ge=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(w.isValidElement(e)&&(a=e.props),!Ou(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;vIe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},jI=function t(e,r){if(e===r)return!0;var n=w.Children.count(e);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return B$(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!t(s,i))return!1}else if(!B$(s,i))return!1}return!0},B$=function(e,r){if(Qe(e)&&Qe(r))return!0;if(!Qe(e)&&!Qe(r)){var n=e.props||{},a=n.children,s=$$(n,pIe),i=r.props||{},l=i.children,c=$$(i,gIe);return a&&l?xI(s,c)&&jI(a,l):!a&&!l?xI(s,c):!1}return!1},q$=function(e,r){var n=[],a={};return h2(e).forEach(function(s,i){if(xIe(s))n.push(s);else if(s){var l=As(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},jIe=function(e){var r=e&&e.type;return r&&M$[r]?M$[r]:null},wIe=function(e,r){return h2(r).indexOf(e)},NIe=["children","width","height","viewBox","className","style","title","desc"];function wI(){return wI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wI.apply(this,arguments)}function CIe(t,e){if(t==null)return{};var r=SIe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NI(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,i=t.style,l=t.title,c=t.desc,u=CIe(t,NIe),d=a||{width:r,height:n,x:0,y:0},f=Le("recharts-surface",s);return G.createElement("svg",wI({},Ge(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),G.createElement("title",null,l),G.createElement("desc",null,c),e)}var AIe=["children","className"];function CI(){return CI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CI.apply(this,arguments)}function IIe(t,e){if(t==null)return{};var r=kIe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Jt=G.forwardRef(function(t,e){var r=t.children,n=t.className,a=IIe(t,AIe),s=Le("recharts-layer",n);return G.createElement("g",CI({className:s},Ge(a,!0),{ref:e}),r)}),Is=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function TIe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(a);++n<a;)s[n]=t[n+e];return s}var PIe=TIe,EIe=PIe;function DIe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:EIe(t,e,r)}var OIe=DIe,_Ie="\\ud800-\\udfff",RIe="\\u0300-\\u036f",$Ie="\\ufe20-\\ufe2f",MIe="\\u20d0-\\u20ff",LIe=RIe+$Ie+MIe,FIe="\\ufe0e\\ufe0f",BIe="\\u200d",qIe=RegExp("["+BIe+_Ie+LIe+FIe+"]");function VIe(t){return qIe.test(t)}var pz=VIe;function UIe(t){return t.split("")}var zIe=UIe,gz="\\ud800-\\udfff",WIe="\\u0300-\\u036f",HIe="\\ufe20-\\ufe2f",GIe="\\u20d0-\\u20ff",YIe=WIe+HIe+GIe,KIe="\\ufe0e\\ufe0f",JIe="["+gz+"]",SI="["+YIe+"]",AI="\\ud83c[\\udffb-\\udfff]",XIe="(?:"+SI+"|"+AI+")",yz="[^"+gz+"]",bz="(?:\\ud83c[\\udde6-\\uddff]){2}",xz="[\\ud800-\\udbff][\\udc00-\\udfff]",QIe="\\u200d",vz=XIe+"?",jz="["+KIe+"]?",ZIe="(?:"+QIe+"(?:"+[yz,bz,xz].join("|")+")"+jz+vz+")*",eke=jz+vz+ZIe,tke="(?:"+[yz+SI+"?",SI,bz,xz,JIe].join("|")+")",rke=RegExp(AI+"(?="+AI+")|"+tke+eke,"g");function nke(t){return t.match(rke)||[]}var ake=nke,ske=zIe,oke=pz,ike=ake;function lke(t){return oke(t)?ike(t):ske(t)}var cke=lke,uke=OIe,dke=pz,fke=cke,mke=cz;function hke(t){return function(e){e=mke(e);var r=dke(e)?fke(e):void 0,n=r?r[0]:e.charAt(0),a=r?uke(r,1).join(""):e.slice(1);return n[t]()+a}}var pke=hke,gke=pke,yke=gke("toUpperCase"),bke=yke;const ww=it(bke);function St(t){return function(){return t}}const wz=Math.cos,c0=Math.sin,Aa=Math.sqrt,u0=Math.PI,Nw=2*u0,II=Math.PI,kI=2*II,Si=1e-6,xke=kI-Si;function Nz(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function vke(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Nz;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class jke{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Nz:vke(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,i){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-r,d=i-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>Si)if(!(Math.abs(f*c-u*d)>Si)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-i,y=a-l,p=c*c+u*u,b=h*h+y*y,g=Math.sqrt(p),v=Math.sqrt(m),j=s*Math.tan((II-Math.acos((p+m-b)/(2*g*v)))/2),C=j/v,x=j/g;Math.abs(C-1)>Si&&this._append`L${e+C*d},${r+C*f}`,this._append`A${s},${s},0,0,${+(f*h>d*y)},${this._x1=e+x*c},${this._y1=r+x*u}`}}arc(e,r,n,a,s,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Si||Math.abs(this._y1-d)>Si)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%kI+kI),m>xke?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Si&&this._append`A${n},${n},0,${+(m>=II)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function p2(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new jke(e)}function g2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Cz(t){this._context=t}Cz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Cw(t){return new Cz(t)}function Sz(t){return t[0]}function Az(t){return t[1]}function Iz(t,e){var r=St(!0),n=null,a=Cw,s=null,i=p2(l);t=typeof t=="function"?t:t===void 0?Sz:St(t),e=typeof e=="function"?e:e===void 0?Az:St(e);function l(c){var u,d=(c=g2(c)).length,f,m=!1,h;for(n==null&&(s=a(h=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:St(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:St(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:St(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function xp(t,e,r){var n=null,a=St(!0),s=null,i=Cw,l=null,c=p2(u);t=typeof t=="function"?t:t===void 0?Sz:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Az:St(+r);function u(f){var m,h,y,p=(f=g2(f)).length,b,g=!1,v,j=new Array(p),C=new Array(p);for(s==null&&(l=i(v=c())),m=0;m<=p;++m){if(!(m<p&&a(b=f[m],m,f))===g)if(g=!g)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=h;--y)l.point(j[y],C[y]);l.lineEnd(),l.areaEnd()}g&&(j[m]=+t(b,m,f),C[m]=+e(b,m,f),l.point(n?+n(b,m,f):j[m],r?+r(b,m,f):C[m]))}if(v)return l=null,v+""||null}function d(){return Iz().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:St(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:St(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:St(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class kz{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function wke(t){return new kz(t,!0)}function Nke(t){return new kz(t,!1)}const y2={draw(t,e){const r=Aa(e/u0);t.moveTo(r,0),t.arc(0,0,r,0,Nw)}},Cke={draw(t,e){const r=Aa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Tz=Aa(1/3),Ske=Tz*2,Ake={draw(t,e){const r=Aa(e/Ske),n=r*Tz;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Ike={draw(t,e){const r=Aa(e),n=-r/2;t.rect(n,n,r,r)}},kke=.8908130915292852,Pz=c0(u0/10)/c0(7*u0/10),Tke=c0(Nw/10)*Pz,Pke=-wz(Nw/10)*Pz,Eke={draw(t,e){const r=Aa(e*kke),n=Tke*r,a=Pke*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const i=Nw*s/5,l=wz(i),c=c0(i);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},J1=Aa(3),Dke={draw(t,e){const r=-Aa(e/(J1*3));t.moveTo(0,r*2),t.lineTo(-J1*r,-r),t.lineTo(J1*r,-r),t.closePath()}},Vn=-.5,Un=Aa(3)/2,TI=1/Aa(12),Oke=(TI/2+1)*3,_ke={draw(t,e){const r=Aa(e/Oke),n=r/2,a=r*TI,s=n,i=r*TI+r,l=-s,c=i;t.moveTo(n,a),t.lineTo(s,i),t.lineTo(l,c),t.lineTo(Vn*n-Un*a,Un*n+Vn*a),t.lineTo(Vn*s-Un*i,Un*s+Vn*i),t.lineTo(Vn*l-Un*c,Un*l+Vn*c),t.lineTo(Vn*n+Un*a,Vn*a-Un*n),t.lineTo(Vn*s+Un*i,Vn*i-Un*s),t.lineTo(Vn*l+Un*c,Vn*c-Un*l),t.closePath()}};function Rke(t,e){let r=null,n=p2(a);t=typeof t=="function"?t:St(t||y2),e=typeof e=="function"?e:St(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:St(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:St(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function d0(){}function f0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Ez(t){this._context=t}Ez.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:f0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:f0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $ke(t){return new Ez(t)}function Dz(t){this._context=t}Dz.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:f0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Mke(t){return new Dz(t)}function Oz(t){this._context=t}Oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:f0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lke(t){return new Oz(t)}function _z(t){this._context=t}_z.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Fke(t){return new _z(t)}function V$(t){return t<0?-1:1}function U$(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),i=(r-t._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(V$(s)+V$(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function z$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function X1(t,e,r){var n=t._x0,a=t._y0,s=t._x1,i=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*r,s,i)}function m0(t){this._context=t}m0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:X1(this,this._t0,z$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,X1(this,z$(this,r=U$(this,t,e)),r);break;default:X1(this,this._t0,r=U$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Rz(t){this._context=new $z(t)}(Rz.prototype=Object.create(m0.prototype)).point=function(t,e){m0.prototype.point.call(this,e,t)};function $z(t){this._context=t}$z.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function Bke(t){return new m0(t)}function qke(t){return new Rz(t)}function Mz(t){this._context=t}Mz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=W$(t),a=W$(e),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[i],e[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function W$(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,i[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[r-1]=i[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function Vke(t){return new Mz(t)}function Sw(t,e){this._context=t,this._t=e}Sw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Uke(t){return new Sw(t,.5)}function zke(t){return new Sw(t,0)}function Wke(t){return new Sw(t,1)}function Qc(t,e){if((i=t.length)>1)for(var r=1,n,a,s=t[e[0]],i,l=s.length;r<i;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function PI(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Hke(t,e){return t[e]}function Gke(t){const e=[];return e.key=t,e}function Yke(){var t=St([]),e=PI,r=Qc,n=Hke;function a(s){var i=Array.from(t.apply(this,arguments),Gke),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=g2(e(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:St(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:St(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?PI:typeof s=="function"?s:St(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Qc,a):r},a}function Kke(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=t[r][a][1]||0;if(i)for(r=0;r<n;++r)t[r][a][1]/=i}Qc(t,e)}}function Jke(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=t[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Qc(t,e)}}function Xke(t,e){if(!(!((i=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,y=0;y<l;++y){var p=t[e[y]],b=p[n][1]||0,g=p[n-1][1]||0;h+=b-g}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Qc(t,e)}}function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}var Qke=["type","size","sizeType"];function EI(){return EI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EI.apply(this,arguments)}function H$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function G$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H$(Object(r),!0).forEach(function(n){Zke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zke(t,e,r){return e=eTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eTe(t){var e=tTe(t,"string");return fm(e)=="symbol"?e:e+""}function tTe(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rTe(t,e){if(t==null)return{};var r=nTe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Lz={symbolCircle:y2,symbolCross:Cke,symbolDiamond:Ake,symbolSquare:Ike,symbolStar:Eke,symbolTriangle:Dke,symbolWye:_ke},aTe=Math.PI/180,sTe=function(e){var r="symbol".concat(ww(e));return Lz[r]||y2},oTe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*aTe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},iTe=function(e,r){Lz["symbol".concat(ww(e))]=r},b2=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,i=e.sizeType,l=i===void 0?"area":i,c=rTe(e,Qke),u=G$(G$({},c),{},{type:n,size:s,sizeType:l}),d=function(){var b=sTe(n),g=Rke().type(b).size(oTe(s,l,n));return g()},f=u.className,m=u.cx,h=u.cy,y=Ge(u,!0);return m===+m&&h===+h&&s===+s?G.createElement("path",EI({},y,{className:Le("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};b2.registerSymbol=iTe;function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function DI(){return DI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DI.apply(this,arguments)}function Y$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lTe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y$(Object(r),!0).forEach(function(n){mm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bz(n.key),n)}}function dTe(t,e,r){return e&&uTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fTe(t,e,r){return e=h0(e),mTe(t,Fz()?Reflect.construct(e,r||[],h0(t).constructor):e.apply(t,r))}function mTe(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hTe(t)}function hTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fz=function(){return!!t})()}function h0(t){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h0(t)}function pTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OI(t,e)}function OI(t,e){return OI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OI(t,e)}function mm(t,e,r){return e=Bz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bz(t){var e=gTe(t,"string");return Zc(e)=="symbol"?e:e+""}function gTe(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zn=32,x2=function(t){function e(){return cTe(this,e),fTe(this,e,arguments)}return pTe(e,t),dTe(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=zn/2,i=zn/6,l=zn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:zn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(zn,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return G.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(zn/8,"h").concat(zn,"v").concat(zn*3/4,"h").concat(-zn,"z"),className:"recharts-legend-icon"});if(G.isValidElement(n.legendIcon)){var u=lTe({},n);return delete u.legendIcon,G.cloneElement(n.legendIcon,u)}return G.createElement(b2,{fill:c,cx:s,cy:s,size:zn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:zn,height:zn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(h,y){var p=h.formatter||c,b=Le(mm(mm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",h.inactive));if(h.type==="none")return null;var g=Ye(h.value)?null:h.value;Is(!Ye(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=h.inactive?u:h.color;return G.createElement("li",DI({className:b,style:f,key:"legend-item-".concat(y)},jw(n.props,h,y)),G.createElement(NI,{width:i,height:i,viewBox:d,style:m},n.renderIcon(h)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},p?p(g,h,y):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);mm(x2,"displayName","Legend");mm(x2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yTe=iw;function bTe(){this.__data__=new yTe,this.size=0}var xTe=bTe;function vTe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var jTe=vTe;function wTe(t){return this.__data__.get(t)}var NTe=wTe;function CTe(t){return this.__data__.has(t)}var STe=CTe,ATe=iw,ITe=o2,kTe=i2,TTe=200;function PTe(t,e){var r=this.__data__;if(r instanceof ATe){var n=r.__data__;if(!ITe||n.length<TTe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new kTe(n)}return r.set(t,e),this.size=r.size,this}var ETe=PTe,DTe=iw,OTe=xTe,_Te=jTe,RTe=NTe,$Te=STe,MTe=ETe;function Mu(t){var e=this.__data__=new DTe(t);this.size=e.size}Mu.prototype.clear=OTe;Mu.prototype.delete=_Te;Mu.prototype.get=RTe;Mu.prototype.has=$Te;Mu.prototype.set=MTe;var qz=Mu,LTe="__lodash_hash_undefined__";function FTe(t){return this.__data__.set(t,LTe),this}var BTe=FTe;function qTe(t){return this.__data__.has(t)}var VTe=qTe,UTe=i2,zTe=BTe,WTe=VTe;function p0(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new UTe;++e<r;)this.add(t[e])}p0.prototype.add=p0.prototype.push=zTe;p0.prototype.has=WTe;var Vz=p0;function HTe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Uz=HTe;function GTe(t,e){return t.has(e)}var zz=GTe,YTe=Vz,KTe=Uz,JTe=zz,XTe=1,QTe=2;function ZTe(t,e,r,n,a,s){var i=r&XTe,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,h=r&QTe?new YTe:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var y=t[f],p=e[f];if(n)var b=i?n(p,y,f,e,t,s):n(y,p,f,t,e,s);if(b!==void 0){if(b)continue;m=!1;break}if(h){if(!KTe(e,function(g,v){if(!JTe(h,v)&&(y===g||a(y,g,r,n,s)))return h.push(v)})){m=!1;break}}else if(!(y===p||a(y,p,r,n,s))){m=!1;break}}return s.delete(t),s.delete(e),m}var Wz=ZTe,ePe=Za,tPe=ePe.Uint8Array,rPe=tPe;function nPe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var aPe=nPe;function sPe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var v2=sPe,K$=vh,J$=rPe,oPe=s2,iPe=Wz,lPe=aPe,cPe=v2,uPe=1,dPe=2,fPe="[object Boolean]",mPe="[object Date]",hPe="[object Error]",pPe="[object Map]",gPe="[object Number]",yPe="[object RegExp]",bPe="[object Set]",xPe="[object String]",vPe="[object Symbol]",jPe="[object ArrayBuffer]",wPe="[object DataView]",X$=K$?K$.prototype:void 0,Q1=X$?X$.valueOf:void 0;function NPe(t,e,r,n,a,s,i){switch(r){case wPe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case jPe:return!(t.byteLength!=e.byteLength||!s(new J$(t),new J$(e)));case fPe:case mPe:case gPe:return oPe(+t,+e);case hPe:return t.name==e.name&&t.message==e.message;case yPe:case xPe:return t==e+"";case pPe:var l=lPe;case bPe:var c=n&uPe;if(l||(l=cPe),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;n|=dPe,i.set(t,e);var d=iPe(l(t),l(e),n,a,s,i);return i.delete(t),d;case vPe:if(Q1)return Q1.call(t)==Q1.call(e)}return!1}var CPe=NPe;function SPe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var Hz=SPe,APe=Hz,IPe=xn;function kPe(t,e,r){var n=e(t);return IPe(t)?n:APe(n,r(t))}var TPe=kPe;function PPe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}var EPe=PPe;function DPe(){return[]}var OPe=DPe,_Pe=EPe,RPe=OPe,$Pe=Object.prototype,MPe=$Pe.propertyIsEnumerable,Q$=Object.getOwnPropertySymbols,LPe=Q$?function(t){return t==null?[]:(t=Object(t),_Pe(Q$(t),function(e){return MPe.call(t,e)}))}:RPe,FPe=LPe;function BPe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var qPe=BPe,VPe=Gs,UPe=Ys,zPe="[object Arguments]";function WPe(t){return UPe(t)&&VPe(t)==zPe}var HPe=WPe,Z$=HPe,GPe=Ys,Gz=Object.prototype,YPe=Gz.hasOwnProperty,KPe=Gz.propertyIsEnumerable,JPe=Z$(function(){return arguments}())?Z$:function(t){return GPe(t)&&YPe.call(t,"callee")&&!KPe.call(t,"callee")},j2=JPe,g0={exports:{}};function XPe(){return!1}var QPe=XPe;g0.exports;(function(t,e){var r=Za,n=QPe,a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(g0,g0.exports);var Yz=g0.exports,ZPe=9007199254740991,e2e=/^(?:0|[1-9]\d*)$/;function t2e(t,e){var r=typeof t;return e=e??ZPe,!!e&&(r=="number"||r!="symbol"&&e2e.test(t))&&t>-1&&t%1==0&&t<e}var w2=t2e,r2e=9007199254740991;function n2e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r2e}var N2=n2e,a2e=Gs,s2e=N2,o2e=Ys,i2e="[object Arguments]",l2e="[object Array]",c2e="[object Boolean]",u2e="[object Date]",d2e="[object Error]",f2e="[object Function]",m2e="[object Map]",h2e="[object Number]",p2e="[object Object]",g2e="[object RegExp]",y2e="[object Set]",b2e="[object String]",x2e="[object WeakMap]",v2e="[object ArrayBuffer]",j2e="[object DataView]",w2e="[object Float32Array]",N2e="[object Float64Array]",C2e="[object Int8Array]",S2e="[object Int16Array]",A2e="[object Int32Array]",I2e="[object Uint8Array]",k2e="[object Uint8ClampedArray]",T2e="[object Uint16Array]",P2e="[object Uint32Array]",Dt={};Dt[w2e]=Dt[N2e]=Dt[C2e]=Dt[S2e]=Dt[A2e]=Dt[I2e]=Dt[k2e]=Dt[T2e]=Dt[P2e]=!0;Dt[i2e]=Dt[l2e]=Dt[v2e]=Dt[c2e]=Dt[j2e]=Dt[u2e]=Dt[d2e]=Dt[f2e]=Dt[m2e]=Dt[h2e]=Dt[p2e]=Dt[g2e]=Dt[y2e]=Dt[b2e]=Dt[x2e]=!1;function E2e(t){return o2e(t)&&s2e(t.length)&&!!Dt[a2e(t)]}var D2e=E2e;function O2e(t){return function(e){return t(e)}}var Kz=O2e,y0={exports:{}};y0.exports;(function(t,e){var r=nz,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=l})(y0,y0.exports);var _2e=y0.exports,R2e=D2e,$2e=Kz,eM=_2e,tM=eM&&eM.isTypedArray,M2e=tM?$2e(tM):R2e,Jz=M2e,L2e=qPe,F2e=j2,B2e=xn,q2e=Yz,V2e=w2,U2e=Jz,z2e=Object.prototype,W2e=z2e.hasOwnProperty;function H2e(t,e){var r=B2e(t),n=!r&&F2e(t),a=!r&&!n&&q2e(t),s=!r&&!n&&!a&&U2e(t),i=r||n||a||s,l=i?L2e(t.length,String):[],c=l.length;for(var u in t)(e||W2e.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||V2e(u,c)))&&l.push(u);return l}var G2e=H2e,Y2e=Object.prototype;function K2e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Y2e;return t===r}var J2e=K2e;function X2e(t,e){return function(r){return t(e(r))}}var Xz=X2e,Q2e=Xz,Z2e=Q2e(Object.keys,Object),eEe=Z2e,tEe=J2e,rEe=eEe,nEe=Object.prototype,aEe=nEe.hasOwnProperty;function sEe(t){if(!tEe(t))return rEe(t);var e=[];for(var r in Object(t))aEe.call(t,r)&&r!="constructor"&&e.push(r);return e}var oEe=sEe,iEe=a2,lEe=N2;function cEe(t){return t!=null&&lEe(t.length)&&!iEe(t)}var Aw=cEe,uEe=G2e,dEe=oEe,fEe=Aw;function mEe(t){return fEe(t)?uEe(t):dEe(t)}var C2=mEe,hEe=TPe,pEe=FPe,gEe=C2;function yEe(t){return hEe(t,gEe,pEe)}var bEe=yEe,rM=bEe,xEe=1,vEe=Object.prototype,jEe=vEe.hasOwnProperty;function wEe(t,e,r,n,a,s){var i=r&xEe,l=rM(t),c=l.length,u=rM(e),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var m=l[f];if(!(i?m in e:jEe.call(e,m)))return!1}var h=s.get(t),y=s.get(e);if(h&&y)return h==e&&y==t;var p=!0;s.set(t,e),s.set(e,t);for(var b=i;++f<c;){m=l[f];var g=t[m],v=e[m];if(n)var j=i?n(v,g,m,e,t,s):n(g,v,m,t,e,s);if(!(j===void 0?g===v||a(g,v,r,n,s):j)){p=!1;break}b||(b=m=="constructor")}if(p&&!b){var C=t.constructor,x=e.constructor;C!=x&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof x=="function"&&x instanceof x)&&(p=!1)}return s.delete(t),s.delete(e),p}var NEe=wEe,CEe=_l,SEe=Za,AEe=CEe(SEe,"DataView"),IEe=AEe,kEe=_l,TEe=Za,PEe=kEe(TEe,"Promise"),EEe=PEe,DEe=_l,OEe=Za,_Ee=DEe(OEe,"Set"),Qz=_Ee,REe=_l,$Ee=Za,MEe=REe($Ee,"WeakMap"),LEe=MEe,_I=IEe,RI=o2,$I=EEe,MI=Qz,LI=LEe,Zz=Gs,Lu=sz,nM="[object Map]",FEe="[object Object]",aM="[object Promise]",sM="[object Set]",oM="[object WeakMap]",iM="[object DataView]",BEe=Lu(_I),qEe=Lu(RI),VEe=Lu($I),UEe=Lu(MI),zEe=Lu(LI),Ai=Zz;(_I&&Ai(new _I(new ArrayBuffer(1)))!=iM||RI&&Ai(new RI)!=nM||$I&&Ai($I.resolve())!=aM||MI&&Ai(new MI)!=sM||LI&&Ai(new LI)!=oM)&&(Ai=function(t){var e=Zz(t),r=e==FEe?t.constructor:void 0,n=r?Lu(r):"";if(n)switch(n){case BEe:return iM;case qEe:return nM;case VEe:return aM;case UEe:return sM;case zEe:return oM}return e});var WEe=Ai,Z1=qz,HEe=Wz,GEe=CPe,YEe=NEe,lM=WEe,cM=xn,uM=Yz,KEe=Jz,JEe=1,dM="[object Arguments]",fM="[object Array]",vp="[object Object]",XEe=Object.prototype,mM=XEe.hasOwnProperty;function QEe(t,e,r,n,a,s){var i=cM(t),l=cM(e),c=i?fM:lM(t),u=l?fM:lM(e);c=c==dM?vp:c,u=u==dM?vp:u;var d=c==vp,f=u==vp,m=c==u;if(m&&uM(t)){if(!uM(e))return!1;i=!0,d=!1}if(m&&!d)return s||(s=new Z1),i||KEe(t)?HEe(t,e,r,n,a,s):GEe(t,e,c,r,n,a,s);if(!(r&JEe)){var h=d&&mM.call(t,"__wrapped__"),y=f&&mM.call(e,"__wrapped__");if(h||y){var p=h?t.value():t,b=y?e.value():e;return s||(s=new Z1),a(p,b,r,n,s)}}return m?(s||(s=new Z1),YEe(t,e,r,n,a,s)):!1}var ZEe=QEe,eDe=ZEe,hM=Ys;function e7(t,e,r,n,a){return t===e?!0:t==null||e==null||!hM(t)&&!hM(e)?t!==t&&e!==e:eDe(t,e,r,n,e7,a)}var S2=e7,tDe=qz,rDe=S2,nDe=1,aDe=2;function sDe(t,e,r,n){var a=r.length,s=a,i=!n;if(t==null)return!s;for(t=Object(t);a--;){var l=r[a];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){l=r[a];var c=l[0],u=t[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new tDe;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?rDe(d,u,nDe|aDe,n,f):m))return!1}}return!0}var oDe=sDe,iDe=ai;function lDe(t){return t===t&&!iDe(t)}var t7=lDe,cDe=t7,uDe=C2;function dDe(t){for(var e=uDe(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,cDe(a)]}return e}var fDe=dDe;function mDe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var r7=mDe,hDe=oDe,pDe=fDe,gDe=r7;function yDe(t){var e=pDe(t);return e.length==1&&e[0][2]?gDe(e[0][0],e[0][1]):function(r){return r===t||hDe(r,t,e)}}var bDe=yDe;function xDe(t,e){return t!=null&&e in Object(t)}var vDe=xDe,jDe=uz,wDe=j2,NDe=xn,CDe=w2,SDe=N2,ADe=cw;function IDe(t,e,r){e=jDe(e,t);for(var n=-1,a=e.length,s=!1;++n<a;){var i=ADe(e[n]);if(!(s=t!=null&&r(t,i)))break;t=t[i]}return s||++n!=a?s:(a=t==null?0:t.length,!!a&&SDe(a)&&CDe(i,a)&&(NDe(t)||wDe(t)))}var kDe=IDe,TDe=vDe,PDe=kDe;function EDe(t,e){return t!=null&&PDe(t,e,TDe)}var DDe=EDe,ODe=S2,_De=dz,RDe=DDe,$De=n2,MDe=t7,LDe=r7,FDe=cw,BDe=1,qDe=2;function VDe(t,e){return $De(t)&&MDe(e)?LDe(FDe(t),e):function(r){var n=_De(r,t);return n===void 0&&n===e?RDe(r,t):ODe(e,n,BDe|qDe)}}var UDe=VDe;function zDe(t){return t}var Fu=zDe;function WDe(t){return function(e){return e==null?void 0:e[t]}}var HDe=WDe,GDe=u2;function YDe(t){return function(e){return GDe(e,t)}}var KDe=YDe,JDe=HDe,XDe=KDe,QDe=n2,ZDe=cw;function eOe(t){return QDe(t)?JDe(ZDe(t)):XDe(t)}var tOe=eOe,rOe=bDe,nOe=UDe,aOe=Fu,sOe=xn,oOe=tOe;function iOe(t){return typeof t=="function"?t:t==null?aOe:typeof t=="object"?sOe(t)?nOe(t[0],t[1]):rOe(t):oOe(t)}var si=iOe;function lOe(t,e,r,n){for(var a=t.length,s=r+(n?1:-1);n?s--:++s<a;)if(e(t[s],s,t))return s;return-1}var cOe=lOe;function uOe(t){return t!==t}var dOe=uOe;function fOe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var mOe=fOe,hOe=cOe,pOe=dOe,gOe=mOe;function yOe(t,e,r){return e===e?gOe(t,e,r):hOe(t,pOe,r)}var bOe=yOe,xOe=bOe;function vOe(t,e){var r=t==null?0:t.length;return!!r&&xOe(t,e,0)>-1}var jOe=vOe;function wOe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var NOe=wOe;function COe(){}var SOe=COe,eC=Qz,AOe=SOe,IOe=v2,kOe=1/0,TOe=eC&&1/IOe(new eC([,-0]))[1]==kOe?function(t){return new eC(t)}:AOe,POe=TOe,EOe=Vz,DOe=jOe,OOe=NOe,_Oe=zz,ROe=POe,$Oe=v2,MOe=200;function LOe(t,e,r){var n=-1,a=DOe,s=t.length,i=!0,l=[],c=l;if(r)i=!1,a=OOe;else if(s>=MOe){var u=e?null:ROe(t);if(u)return $Oe(u);i=!1,a=_Oe,c=new EOe}else c=e?[]:l;e:for(;++n<s;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var FOe=LOe,BOe=si,qOe=FOe;function VOe(t,e){return t&&t.length?qOe(t,BOe(e)):[]}var UOe=VOe;const pM=it(UOe);function n7(t,e,r){return e===!0?pM(t,r):Ye(e)?pM(t,e):t}function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}var zOe=["ref"];function gM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(r),!0).forEach(function(n){Iw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s7(n.key),n)}}function HOe(t,e,r){return e&&yM(t.prototype,e),r&&yM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GOe(t,e,r){return e=b0(e),YOe(t,a7()?Reflect.construct(e,r||[],b0(t).constructor):e.apply(t,r))}function YOe(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KOe(t)}function KOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a7=function(){return!!t})()}function b0(t){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b0(t)}function JOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FI(t,e)}function FI(t,e){return FI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FI(t,e)}function Iw(t,e,r){return e=s7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s7(t){var e=XOe(t,"string");return eu(e)=="symbol"?e:e+""}function XOe(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QOe(t,e){if(t==null)return{};var r=ZOe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function e_e(t){return t.value}function t_e(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var r=QOe(e,zOe);return G.createElement(x2,r)}var bM=1,Ga=function(t){function e(){var r;WOe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=GOe(this,e,[].concat(a)),Iw(r,"lastBoundingBox",{width:-1,height:-1}),r}return JOe(e,t),HOe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>bM||Math.abs(a.height-this.lastBoundingBox.height)>bM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ns({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ns(ns({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=ns(ns({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return G.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},t_e(s,ns(ns({},this.props),{},{payload:n7(d,u,e_e)})))}}],[{key:"getWithHeight",value:function(n,a){var s=ns(ns({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&Ne(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);Iw(Ga,"displayName","Legend");Iw(Ga,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xM=vh,r_e=j2,n_e=xn,vM=xM?xM.isConcatSpreadable:void 0;function a_e(t){return n_e(t)||r_e(t)||!!(vM&&t&&t[vM])}var s_e=a_e,o_e=Hz,i_e=s_e;function o7(t,e,r,n,a){var s=-1,i=t.length;for(r||(r=i_e),a||(a=[]);++s<i;){var l=t[s];e>0&&r(l)?e>1?o7(l,e-1,r,n,a):o_e(a,l):n||(a[a.length]=l)}return a}var i7=o7;function l_e(t){return function(e,r,n){for(var a=-1,s=Object(e),i=n(e),l=i.length;l--;){var c=i[t?l:++a];if(r(s[c],c,s)===!1)break}return e}}var c_e=l_e,u_e=c_e,d_e=u_e(),f_e=d_e,m_e=f_e,h_e=C2;function p_e(t,e){return t&&m_e(t,e,h_e)}var l7=p_e,g_e=Aw;function y_e(t,e){return function(r,n){if(r==null)return r;if(!g_e(r))return t(r,n);for(var a=r.length,s=e?a:-1,i=Object(r);(e?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var b_e=y_e,x_e=l7,v_e=b_e,j_e=v_e(x_e),A2=j_e,w_e=A2,N_e=Aw;function C_e(t,e){var r=-1,n=N_e(t)?Array(t.length):[];return w_e(t,function(a,s,i){n[++r]=e(a,s,i)}),n}var c7=C_e;function S_e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var A_e=S_e,jM=Du;function I_e(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,s=jM(t),i=e!==void 0,l=e===null,c=e===e,u=jM(e);if(!l&&!u&&!s&&t>e||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&t<e||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var k_e=I_e,T_e=k_e;function P_e(t,e,r){for(var n=-1,a=t.criteria,s=e.criteria,i=a.length,l=r.length;++n<i;){var c=T_e(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var E_e=P_e,tC=c2,D_e=u2,O_e=si,__e=c7,R_e=A_e,$_e=Kz,M_e=E_e,L_e=Fu,F_e=xn;function B_e(t,e,r){e.length?e=tC(e,function(s){return F_e(s)?function(i){return D_e(i,s.length===1?s[0]:s)}:s}):e=[L_e];var n=-1;e=tC(e,$_e(O_e));var a=__e(t,function(s,i,l){var c=tC(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return R_e(a,function(s,i){return M_e(s,i,r)})}var q_e=B_e;function V_e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var U_e=V_e,z_e=U_e,wM=Math.max;function W_e(t,e,r){return e=wM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,s=wM(n.length-e,0),i=Array(s);++a<s;)i[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(i),z_e(t,this,l)}}var H_e=W_e;function G_e(t){return function(){return t}}var Y_e=G_e,K_e=_l,J_e=function(){try{var t=K_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),u7=J_e,X_e=Y_e,NM=u7,Q_e=Fu,Z_e=NM?function(t,e){return NM(t,"toString",{configurable:!0,enumerable:!1,value:X_e(e),writable:!0})}:Q_e,eRe=Z_e,tRe=800,rRe=16,nRe=Date.now;function aRe(t){var e=0,r=0;return function(){var n=nRe(),a=rRe-(n-r);if(r=n,a>0){if(++e>=tRe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var sRe=aRe,oRe=eRe,iRe=sRe,lRe=iRe(oRe),cRe=lRe,uRe=Fu,dRe=H_e,fRe=cRe;function mRe(t,e){return fRe(dRe(t,e,uRe),t+"")}var hRe=mRe,pRe=s2,gRe=Aw,yRe=w2,bRe=ai;function xRe(t,e,r){if(!bRe(r))return!1;var n=typeof e;return(n=="number"?gRe(r)&&yRe(e,r.length):n=="string"&&e in r)?pRe(r[e],t):!1}var kw=xRe,vRe=i7,jRe=q_e,wRe=hRe,CM=kw,NRe=wRe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&CM(t,e[0],e[1])?e=[]:r>2&&CM(e[0],e[1],e[2])&&(e=[e[0]]),jRe(t,vRe(e,1),[])}),CRe=NRe;const I2=it(CRe);function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function BI(){return BI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BI.apply(this,arguments)}function SRe(t,e){return TRe(t)||kRe(t,e)||IRe(t,e)||ARe()}function ARe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IRe(t,e){if(t){if(typeof t=="string")return SM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SM(t,e)}}function SM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function TRe(t){if(Array.isArray(t))return t}function AM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(r),!0).forEach(function(n){PRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PRe(t,e,r){return e=ERe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ERe(t){var e=DRe(t,"string");return hm(e)=="symbol"?e:e+""}function DRe(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ORe(t){return Array.isArray(t)&&gr(t[0])&&gr(t[1])?t.join(" ~ "):t}var _Re=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,i=e.itemStyle,l=i===void 0?{}:i,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,h=e.wrapperClassName,y=e.labelClassName,p=e.label,b=e.labelFormatter,g=e.accessibilityLayer,v=g===void 0?!1:g,j=function(){if(d&&d.length){var R={padding:0,margin:0},M=(m?I2(d,m):d).map(function(L,P){if(L.type==="none")return null;var _=rC({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),q=L.formatter||f||ORe,F=L.value,O=L.name,V=F,W=O;if(q&&V!=null&&W!=null){var $=q(F,O,L,P,d);if(Array.isArray($)){var B=SRe($,2);V=B[0],W=B[1]}else V=$}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:_},gr(W)?G.createElement("span",{className:"recharts-tooltip-item-name"},W):null,gr(W)?G.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,G.createElement("span",{className:"recharts-tooltip-item-value"},V),G.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:R},M)}return null},C=rC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),x=rC({margin:0},u),N=!Qe(p),S=N?p:"",A=Le("recharts-default-tooltip",h),I=Le("recharts-tooltip-label",y);N&&b&&d!==void 0&&d!==null&&(S=b(p,d));var T=v?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",BI({className:A,style:C},T),G.createElement("p",{className:I,style:x},G.isValidElement(S)?S:"".concat(S)),j())};function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function jp(t,e,r){return e=RRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RRe(t){var e=$Re(t,"string");return pm(e)=="symbol"?e:e+""}function $Re(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gd="recharts-tooltip-wrapper",MRe={visibility:"hidden"};function LRe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Le(gd,jp(jp(jp(jp({},"".concat(gd,"-right"),Ne(r)&&e&&Ne(e.x)&&r>=e.x),"".concat(gd,"-left"),Ne(r)&&e&&Ne(e.x)&&r<e.x),"".concat(gd,"-bottom"),Ne(n)&&e&&Ne(e.y)&&n>=e.y),"".concat(gd,"-top"),Ne(n)&&e&&Ne(e.y)&&n<e.y))}function IM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,i=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Ne(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return i[n]?d:f;if(i[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,p=c[n]+u;return y>p?Math.max(d,c[n]):Math.max(f,c[n])}function FRe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function BRe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,i=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=IM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=IM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=FRe({translateX:d,translateY:f,useTranslate3d:l})):u=MRe,{cssProperties:u,cssClasses:LRe({translateX:d,translateY:f,coordinate:r})}}function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function kM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(r),!0).forEach(function(n){VI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f7(n.key),n)}}function URe(t,e,r){return e&&VRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zRe(t,e,r){return e=x0(e),WRe(t,d7()?Reflect.construct(e,r||[],x0(t).constructor):e.apply(t,r))}function WRe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HRe(t)}function HRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d7=function(){return!!t})()}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x0(t)}function GRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qI(t,e)}function qI(t,e){return qI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qI(t,e)}function VI(t,e,r){return e=f7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f7(t){var e=YRe(t,"string");return tu(e)=="symbol"?e:e+""}function YRe(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PM=1,KRe=function(t){function e(){var r;qRe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=zRe(this,e,[].concat(a)),VI(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),VI(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return GRe(e,t),URe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>PM||Math.abs(n.height-this.state.lastBoundingBox.height)>PM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,y=a.position,p=a.reverseDirection,b=a.useTranslate3d,g=a.viewBox,v=a.wrapperStyle,j=BRe({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:h,position:y,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:g}),C=j.cssClasses,x=j.cssProperties,N=TM(TM({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return G.createElement("div",{tabIndex:-1,className:C,style:N,ref:function(A){n.wrapperNode=A}},u)}}])}(w.PureComponent),JRe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Tw={isSsr:JRe()};function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function EM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(r),!0).forEach(function(n){k2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h7(n.key),n)}}function ZRe(t,e,r){return e&&QRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e$e(t,e,r){return e=v0(e),t$e(t,m7()?Reflect.construct(e,r||[],v0(t).constructor):e.apply(t,r))}function t$e(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r$e(t)}function r$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m7=function(){return!!t})()}function v0(t){return v0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v0(t)}function n$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UI(t,e)}function UI(t,e){return UI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UI(t,e)}function k2(t,e,r){return e=h7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h7(t){var e=a$e(t,"string");return ru(e)=="symbol"?e:e+""}function a$e(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function s$e(t){return t.dataKey}function o$e(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(_Re,e)}var is=function(t){function e(){return XRe(this,e),e$e(this,e,arguments)}return n$e(e,t),ZRe(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,y=a.payload,p=a.payloadUniqBy,b=a.position,g=a.reverseDirection,v=a.useTranslate3d,j=a.viewBox,C=a.wrapperStyle,x=y??[];f&&x.length&&(x=n7(y.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),p,s$e));var N=x.length>0;return G.createElement(KRe,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:N,offset:h,position:b,reverseDirection:g,useTranslate3d:v,viewBox:j,wrapperStyle:C},o$e(u,DM(DM({},this.props),{},{payload:x})))}}])}(w.PureComponent);k2(is,"displayName","Tooltip");k2(is,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Tw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var i$e=Za,l$e=function(){return i$e.Date.now()},c$e=l$e,u$e=/\s/;function d$e(t){for(var e=t.length;e--&&u$e.test(t.charAt(e)););return e}var f$e=d$e,m$e=f$e,h$e=/^\s+/;function p$e(t){return t&&t.slice(0,m$e(t)+1).replace(h$e,"")}var g$e=p$e,y$e=g$e,OM=ai,b$e=Du,_M=NaN,x$e=/^[-+]0x[0-9a-f]+$/i,v$e=/^0b[01]+$/i,j$e=/^0o[0-7]+$/i,w$e=parseInt;function N$e(t){if(typeof t=="number")return t;if(b$e(t))return _M;if(OM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=OM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=y$e(t);var r=v$e.test(t);return r||j$e.test(t)?w$e(t.slice(2),r?2:8):x$e.test(t)?_M:+t}var p7=N$e,C$e=ai,nC=c$e,RM=p7,S$e="Expected a function",A$e=Math.max,I$e=Math.min;function k$e(t,e,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(S$e);e=RM(e)||0,C$e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?A$e(RM(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function h(N){var S=n,A=a;return n=a=void 0,u=N,i=t.apply(A,S),i}function y(N){return u=N,l=setTimeout(g,e),d?h(N):i}function p(N){var S=N-c,A=N-u,I=e-S;return f?I$e(I,s-A):I}function b(N){var S=N-c,A=N-u;return c===void 0||S>=e||S<0||f&&A>=s}function g(){var N=nC();if(b(N))return v(N);l=setTimeout(g,p(N))}function v(N){return l=void 0,m&&n?h(N):(n=a=void 0,i)}function j(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function C(){return l===void 0?i:v(nC())}function x(){var N=nC(),S=b(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(g,e),h(c)}return l===void 0&&(l=setTimeout(g,e)),i}return x.cancel=j,x.flush=C,x}var T$e=k$e,P$e=T$e,E$e=ai,D$e="Expected a function";function O$e(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(D$e);return E$e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),P$e(t,e,{leading:n,maxWait:e,trailing:a})}var _$e=O$e;const g7=it(_$e);function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function $M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(r),!0).forEach(function(n){R$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R$e(t,e,r){return e=$$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $$e(t){var e=M$e(t,"string");return gm(e)=="symbol"?e:e+""}function M$e(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L$e(t,e){return V$e(t)||q$e(t,e)||B$e(t,e)||F$e()}function F$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B$e(t,e){if(t){if(typeof t=="string")return MM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MM(t,e)}}function MM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function V$e(t){if(Array.isArray(t))return t}var Pw=w.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,i=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,h=t.children,y=t.debounce,p=y===void 0?0:y,b=t.id,g=t.className,v=t.onResize,j=t.style,C=j===void 0?{}:j,x=w.useRef(null),N=w.useRef();N.current=v,w.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var S=w.useState({containerWidth:a.width,containerHeight:a.height}),A=L$e(S,2),I=A[0],T=A[1],E=w.useCallback(function(M,L){T(function(P){var _=Math.round(M),q=Math.round(L);return P.containerWidth===_&&P.containerHeight===q?P:{containerWidth:_,containerHeight:q}})},[]);w.useEffect(function(){var M=function(O){var V,W=O[0].contentRect,$=W.width,B=W.height;E($,B),(V=N.current)===null||V===void 0||V.call(N,$,B)};p>0&&(M=g7(M,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(M),P=x.current.getBoundingClientRect(),_=P.width,q=P.height;return E(_,q),L.observe(x.current),function(){L.disconnect()}},[E,p]);var R=w.useMemo(function(){var M=I.containerWidth,L=I.containerHeight;if(M<0||L<0)return null;Is(Mi(i)||Mi(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Is(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=Mi(i)?M:i,_=Mi(c)?L:c;r&&r>0&&(P?_=P/r:_&&(P=_*r),m&&_>m&&(_=m)),Is(P>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,_,i,c,d,f,r);var q=!Array.isArray(h)&&As(h.type).endsWith("Chart");return G.Children.map(h,function(F){return G.isValidElement(F)?w.cloneElement(F,wp({width:P,height:_},q?{style:wp({height:"100%",width:"100%",maxHeight:_,maxWidth:P},F.props.style)}:{})):F})},[r,h,c,m,f,d,I,i]);return G.createElement("div",{id:b?"".concat(b):void 0,className:Le("recharts-responsive-container",g),style:wp(wp({},C),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:x},R)}),Bu=function(e){return null};Bu.displayName="Cell";function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function LM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(r),!0).forEach(function(n){U$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U$e(t,e,r){return e=z$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z$e(t){var e=W$e(t,"string");return ym(e)=="symbol"?e:e+""}function W$e(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gl={widthCache:{},cacheCount:0},H$e=2e3,G$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FM="recharts_measurement_span";function Y$e(t){var e=zI({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var BM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Tw.isSsr)return{width:0,height:0};var n=Y$e(r),a=JSON.stringify({text:e,copyStyle:n});if(Gl.widthCache[a])return Gl.widthCache[a];try{var s=document.getElementById(FM);s||(s=document.createElement("span"),s.setAttribute("id",FM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=zI(zI({},G$e),n);Object.assign(s.style,i),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Gl.widthCache[a]=c,++Gl.cacheCount>H$e&&(Gl.cacheCount=0,Gl.widthCache={}),c}catch{return{width:0,height:0}}},K$e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function j0(t,e){return Z$e(t)||Q$e(t,e)||X$e(t,e)||J$e()}function J$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X$e(t,e){if(t){if(typeof t=="string")return qM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(t,e)}}function qM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Z$e(t){if(Array.isArray(t))return t}function eMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rMe(n.key),n)}}function tMe(t,e,r){return e&&VM(t.prototype,e),r&&VM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rMe(t){var e=nMe(t,"string");return bm(e)=="symbol"?e:e+""}function nMe(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,y7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oMe=Object.keys(y7),cc="NaN";function iMe(t,e){return t*y7[e]}var Np=function(){function t(e,r){eMe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!aMe.test(r)&&(this.num=NaN,this.unit=""),oMe.includes(r)&&(this.num=iMe(e,r),this.unit="px")}return tMe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=sMe.exec(r))!==null&&n!==void 0?n:[],s=j0(a,3),i=s[1],l=s[2];return new t(parseFloat(i),l??"")}}])}();function b7(t){if(t.includes(cc))return cc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=UM.exec(e))!==null&&r!==void 0?r:[],a=j0(n,4),s=a[1],i=a[2],l=a[3],c=Np.parse(s??""),u=Np.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return cc;e=e.replace(UM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=zM.exec(e))!==null&&f!==void 0?f:[],h=j0(m,4),y=h[1],p=h[2],b=h[3],g=Np.parse(y??""),v=Np.parse(b??""),j=p==="+"?g.add(v):g.subtract(v);if(j.isNaN())return cc;e=e.replace(zM,j.toString())}return e}var WM=/\(([^()]*)\)/;function lMe(t){for(var e=t;e.includes("(");){var r=WM.exec(e),n=j0(r,2),a=n[1];e=e.replace(WM,b7(a))}return e}function cMe(t){var e=t.replace(/\s+/g,"");return e=lMe(e),e=b7(e),e}function uMe(t){try{return cMe(t)}catch{return cc}}function aC(t){var e=uMe(t.slice(5,-1));return e===cc?"":e}var dMe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fMe=["dx","dy","angle","className","breakAll"];function WI(){return WI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WI.apply(this,arguments)}function HM(t,e){if(t==null)return{};var r=mMe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GM(t,e){return yMe(t)||gMe(t,e)||pMe(t,e)||hMe()}function hMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pMe(t,e){if(t){if(typeof t=="string")return YM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YM(t,e)}}function YM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function yMe(t){if(Array.isArray(t))return t}var x7=/[ \f\n\r\t\v\u2028\u2029]+/,v7=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Qe(r)||(n?s=r.toString().split(""):s=r.toString().split(x7));var i=s.map(function(c){return{word:c,width:BM(c,a).width}}),l=n?0:BM("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},bMe=function(e,r,n,a,s){var i=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Ne(i),f=l,m=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce(function(_,q){var F=q.word,O=q.width,V=_[_.length-1];if(V&&(a==null||s||V.width+O+n<Number(a)))V.words.push(F),V.width+=O+n;else{var W={words:[F],width:O};_.push(W)}return _},[])},h=m(r),y=function(P){return P.reduce(function(_,q){return _.width>q.width?_:q})};if(!d)return h;for(var p="",b=function(P){var _=f.slice(0,P),q=v7({breakAll:u,style:c,children:_+p}).wordsWithComputedWidth,F=m(q),O=F.length>i||y(F).width>Number(a);return[O,F]},g=0,v=f.length-1,j=0,C;g<=v&&j<=f.length-1;){var x=Math.floor((g+v)/2),N=x-1,S=b(N),A=GM(S,2),I=A[0],T=A[1],E=b(x),R=GM(E,1),M=R[0];if(!I&&!M&&(g=x+1),I&&M&&(v=x-1),!I&&M){C=T;break}j++}return C||h},KM=function(e){var r=Qe(e)?[]:e.toString().split(x7);return[{words:r}]},xMe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,i=e.breakAll,l=e.maxLines;if((r||n)&&!Tw.isSsr){var c,u,d=v7({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return KM(a);return bMe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return KM(a)},JM="#808080",nu=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.lineHeight,l=i===void 0?"1em":i,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,h=m===void 0?"start":m,y=e.verticalAnchor,p=y===void 0?"end":y,b=e.fill,g=b===void 0?JM:b,v=HM(e,dMe),j=w.useMemo(function(){return xMe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),C=v.dx,x=v.dy,N=v.angle,S=v.className,A=v.breakAll,I=HM(v,fMe);if(!gr(n)||!gr(s))return null;var T=n+(Ne(C)?C:0),E=s+(Ne(x)?x:0),R;switch(p){case"start":R=aC("calc(".concat(u,")"));break;case"middle":R=aC("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=aC("calc(".concat(j.length-1," * -").concat(l,")"));break}var M=[];if(f){var L=j[0].width,P=v.width;M.push("scale(".concat((Ne(P)?P/L:1)/L,")"))}return N&&M.push("rotate(".concat(N,", ").concat(T,", ").concat(E,")")),M.length&&(I.transform=M.join(" ")),G.createElement("text",WI({},Ge(I,!0),{x:T,y:E,className:Le("recharts-text",S),textAnchor:h,fill:g.includes("url")?JM:g}),j.map(function(_,q){var F=_.words.join(A?"":" ");return G.createElement("tspan",{x:T,dy:q===0?R:l,key:"".concat(F,"-").concat(q)},F)}))};function Lo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function T2(t){let e,r,n;t.length!==2?(e=Lo,r=(l,c)=>Lo(t(l),c),n=(l,c)=>t(l)-c):(e=t===Lo||t===vMe?t:jMe,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function jMe(){return 0}function j7(t){return t===null?NaN:+t}function*wMe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const NMe=T2(Lo),Nh=NMe.right;T2(j7).center;class XM extends Map{constructor(e,r=AMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(QM(this,e))}has(e){return super.has(QM(this,e))}set(e,r){return super.set(CMe(this,e),r)}delete(e){return super.delete(SMe(this,e))}}function QM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function CMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function SMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function AMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function IMe(t=Lo){if(t===Lo)return w7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function w7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const kMe=Math.sqrt(50),TMe=Math.sqrt(10),PMe=Math.sqrt(2);function w0(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=kMe?10:s>=TMe?5:s>=PMe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?w0(t,e,r*2):[l,c,u]}function HI(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,i]=n?w0(e,t,r):w0(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function GI(t,e,r){return e=+e,t=+t,r=+r,w0(t,e,r)[2]}function YI(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?GI(e,t,r):GI(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function ZM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function eL(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function N7(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?w7:IMe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+m)),y=Math.min(n,Math.floor(e+(c-u)*f/c+m));N7(t,e,h,y,a)}const s=t[e];let i=r,l=n;for(yd(t,r,e),a(t[n],s)>0&&yd(t,r,n);i<l;){for(yd(t,i,l),++i,--l;a(t[i],s)<0;)++i;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?yd(t,r,l):(++l,yd(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function yd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function EMe(t,e,r){if(t=Float64Array.from(wMe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return eL(t);if(e>=1)return ZM(t);var n,a=(n-1)*e,s=Math.floor(a),i=ZM(N7(t,s).subarray(0,s+1)),l=eL(t.subarray(s+1));return i+(l-i)*(a-s)}}function DMe(t,e,r=j7){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),i=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return i+(l-i)*(a-s)}}function OMe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function sa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ks(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const KI=Symbol("implicit");function P2(){var t=new XM,e=[],r=[],n=KI;function a(s){let i=t.get(s);if(i===void 0){if(n!==KI)return n;t.set(s,i=e.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new XM;for(const i of s)t.has(i)||t.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return P2(e,r).unknown(n)},sa.apply(a,arguments),a}function xm(){var t=P2().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,h=a<n,y=h?a:n,p=h?n:a;s=(p-y)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),y+=(p-y-s*(m-c))*d,i=s*(1-c),l&&(y=Math.round(y),i=Math.round(i));var b=OMe(m).map(function(g){return y+s*g});return r(h?b.reverse():b)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return i},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return xm(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},sa.apply(f(),arguments)}function C7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return C7(e())},t}function xf(){return C7(xm.apply(null,arguments).paddingInner(1))}function E2(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function S7(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ch(){}var vm=.7,N0=1/vm,$c="\\s*([+-]?\\d+)\\s*",jm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_Me=/^#([0-9a-f]{3,8})$/,RMe=new RegExp(`^rgb\\(${$c},${$c},${$c}\\)$`),$Me=new RegExp(`^rgb\\(${Ya},${Ya},${Ya}\\)$`),MMe=new RegExp(`^rgba\\(${$c},${$c},${$c},${jm}\\)$`),LMe=new RegExp(`^rgba\\(${Ya},${Ya},${Ya},${jm}\\)$`),FMe=new RegExp(`^hsl\\(${jm},${Ya},${Ya}\\)$`),BMe=new RegExp(`^hsla\\(${jm},${Ya},${Ya},${jm}\\)$`),tL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};E2(Ch,wm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:rL,formatHex:rL,formatHex8:qMe,formatHsl:VMe,formatRgb:nL,toString:nL});function rL(){return this.rgb().formatHex()}function qMe(){return this.rgb().formatHex8()}function VMe(){return A7(this).formatHsl()}function nL(){return this.rgb().formatRgb()}function wm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=_Me.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?aL(e):r===3?new on(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Cp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Cp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=RMe.exec(t))?new on(e[1],e[2],e[3],1):(e=$Me.exec(t))?new on(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MMe.exec(t))?Cp(e[1],e[2],e[3],e[4]):(e=LMe.exec(t))?Cp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=FMe.exec(t))?iL(e[1],e[2]/100,e[3]/100,1):(e=BMe.exec(t))?iL(e[1],e[2]/100,e[3]/100,e[4]):tL.hasOwnProperty(t)?aL(tL[t]):t==="transparent"?new on(NaN,NaN,NaN,0):null}function aL(t){return new on(t>>16&255,t>>8&255,t&255,1)}function Cp(t,e,r,n){return n<=0&&(t=e=r=NaN),new on(t,e,r,n)}function UMe(t){return t instanceof Ch||(t=wm(t)),t?(t=t.rgb(),new on(t.r,t.g,t.b,t.opacity)):new on}function JI(t,e,r,n){return arguments.length===1?UMe(t):new on(t,e,r,n??1)}function on(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}E2(on,JI,S7(Ch,{brighter(t){return t=t==null?N0:Math.pow(N0,t),new on(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vm:Math.pow(vm,t),new on(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new on(sl(this.r),sl(this.g),sl(this.b),C0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sL,formatHex:sL,formatHex8:zMe,formatRgb:oL,toString:oL}));function sL(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}`}function zMe(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}${Li((isNaN(this.opacity)?1:this.opacity)*255)}`}function oL(){const t=C0(this.opacity);return`${t===1?"rgb(":"rgba("}${sl(this.r)}, ${sl(this.g)}, ${sl(this.b)}${t===1?")":`, ${t})`}`}function C0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function sl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Li(t){return t=sl(t),(t<16?"0":"")+t.toString(16)}function iL(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ma(t,e,r,n)}function A7(t){if(t instanceof ma)return new ma(t.h,t.s,t.l,t.opacity);if(t instanceof Ch||(t=wm(t)),!t)return new ma;if(t instanceof ma)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-e)/l+2:i=(e-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new ma(i,l,c,t.opacity)}function WMe(t,e,r,n){return arguments.length===1?A7(t):new ma(t,e,r,n??1)}function ma(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}E2(ma,WMe,S7(Ch,{brighter(t){return t=t==null?N0:Math.pow(N0,t),new ma(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vm:Math.pow(vm,t),new ma(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new on(sC(t>=240?t-240:t+120,a,n),sC(t,a,n),sC(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ma(lL(this.h),Sp(this.s),Sp(this.l),C0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=C0(this.opacity);return`${t===1?"hsl(":"hsla("}${lL(this.h)}, ${Sp(this.s)*100}%, ${Sp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lL(t){return t=(t||0)%360,t<0?t+360:t}function Sp(t){return Math.max(0,Math.min(1,t||0))}function sC(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const D2=t=>()=>t;function HMe(t,e){return function(r){return t+r*e}}function GMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function YMe(t){return(t=+t)==1?I7:function(e,r){return r-e?GMe(e,r,t):D2(isNaN(e)?r:e)}}function I7(t,e){var r=e-t;return r?HMe(t,r):D2(isNaN(t)?e:t)}const cL=function t(e){var r=YMe(e);function n(a,s){var i=r((a=JI(a)).r,(s=JI(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=I7(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function KMe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function JMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function XMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=qu(t[i],e[i]);for(;i<r;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function QMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function S0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function ZMe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=qu(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var XI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oC=new RegExp(XI.source,"g");function eLe(t){return function(){return t}}function tLe(t){return function(e){return t(e)+""}}function rLe(t,e){var r=XI.lastIndex=oC.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(t=t+"",e=e+"";(n=XI.exec(t))&&(a=oC.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:S0(n,a)})),r=oC.lastIndex;return r<e.length&&(s=e.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?tLe(c[0].x):eLe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function qu(t,e){var r=typeof e,n;return e==null||r==="boolean"?D2(e):(r==="number"?S0:r==="string"?(n=wm(e))?(e=n,cL):rLe:e instanceof wm?cL:e instanceof Date?QMe:JMe(e)?KMe:Array.isArray(e)?XMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ZMe:S0)(t,e)}function O2(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function nLe(t,e){e===void 0&&(e=t,t=qu);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function aLe(t){return function(){return t}}function A0(t){return+t}var uL=[0,1];function Yr(t){return t}function QI(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:aLe(isNaN(e)?NaN:.5)}function sLe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function oLe(t,e,r){var n=t[0],a=t[1],s=e[0],i=e[1];return a<n?(n=QI(a,n),s=r(i,s)):(n=QI(n,a),s=r(s,i)),function(l){return s(n(l))}}function iLe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=QI(t[i],t[i+1]),s[i]=r(e[i],e[i+1]);return function(l){var c=Nh(t,l,1,n)-1;return s[c](a[c](l))}}function Sh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ew(){var t=uL,e=uL,r=qu,n,a,s,i=Yr,l,c,u;function d(){var m=Math.min(t.length,e.length);return i!==Yr&&(i=sLe(t[0],t[m-1])),l=m>2?iLe:oLe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(n),e,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=l(e,t.map(n),S0)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,A0),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=O2,d()},f.clamp=function(m){return arguments.length?(i=m?!0:Yr,d()):i!==Yr},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return n=m,a=h,d()}}function _2(){return Ew()(Yr,Yr)}function lLe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function I0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function au(t){return t=I0(Math.abs(t)),t?t[1]:NaN}function cLe(t,e){return function(r,n){for(var a=r.length,s=[],i=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[i=(i+1)%t.length];return s.reverse().join(e)}}function uLe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var dLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nm(t){if(!(e=dLe.exec(t)))throw new Error("invalid format: "+t);var e;return new R2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Nm.prototype=R2.prototype;function R2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}R2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fLe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var k7;function mLe(t,e){var r=I0(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(k7=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+I0(t,Math.max(0,e+s-1))[0]}function dL(t,e){var r=I0(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const fL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lLe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dL(t*100,e),r:dL,s:mLe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mL(t){return t}var hL=Array.prototype.map,pL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hLe(t){var e=t.grouping===void 0||t.thousands===void 0?mL:cLe(hL.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?mL:uLe(hL.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Nm(f);var m=f.fill,h=f.align,y=f.sign,p=f.symbol,b=f.zero,g=f.width,v=f.comma,j=f.precision,C=f.trim,x=f.type;x==="n"?(v=!0,x="g"):fL[x]||(j===void 0&&(j=12),C=!0,x="g"),(b||m==="0"&&h==="=")&&(b=!0,m="0",h="=");var N=p==="$"?r:p==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S=p==="$"?n:/[%p]/.test(x)?i:"",A=fL[x],I=/[defgprs%]/.test(x);j=j===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function T(E){var R=N,M=S,L,P,_;if(x==="c")M=A(E)+M,E="";else{E=+E;var q=E<0||1/E<0;if(E=isNaN(E)?c:A(Math.abs(E),j),C&&(E=fLe(E)),q&&+E==0&&y!=="+"&&(q=!1),R=(q?y==="("?y:l:y==="-"||y==="("?"":y)+R,M=(x==="s"?pL[8+k7/3]:"")+M+(q&&y==="("?")":""),I){for(L=-1,P=E.length;++L<P;)if(_=E.charCodeAt(L),48>_||_>57){M=(_===46?a+E.slice(L+1):E.slice(L))+M,E=E.slice(0,L);break}}}v&&!b&&(E=e(E,1/0));var F=R.length+E.length+M.length,O=F<g?new Array(g-F+1).join(m):"";switch(v&&b&&(E=e(O+E,O.length?g-M.length:1/0),O=""),h){case"<":E=R+E+M+O;break;case"=":E=R+O+E+M;break;case"^":E=O.slice(0,F=O.length>>1)+R+E+M+O.slice(F);break;default:E=O+R+E+M;break}return s(E)}return T.toString=function(){return f+""},T}function d(f,m){var h=u((f=Nm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(au(m)/3)))*3,p=Math.pow(10,-y),b=pL[8+y/3];return function(g){return h(p*g)+b}}return{format:u,formatPrefix:d}}var Ap,$2,T7;pLe({thousands:",",grouping:[3],currency:["$",""]});function pLe(t){return Ap=hLe(t),$2=Ap.format,T7=Ap.formatPrefix,Ap}function gLe(t){return Math.max(0,-au(Math.abs(t)))}function yLe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(au(e)/3)))*3-au(Math.abs(t)))}function bLe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,au(e)-au(t))+1}function P7(t,e,r,n){var a=YI(t,e,r),s;switch(n=Nm(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=yLe(a,i))&&(n.precision=s),T7(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=bLe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=gLe(a))&&(n.precision=s-(n.type==="%")*2);break}}return $2(n)}function oi(t){var e=t.domain;return t.ticks=function(r){var n=e();return HI(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return P7(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=GI(i,l,r),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function k0(){var t=_2();return t.copy=function(){return Sh(t,k0())},sa.apply(t,arguments),oi(t)}function E7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,A0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return E7(t).unknown(e)},t=arguments.length?Array.from(t,A0):[0,1],oi(r)}function D7(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),t[r]=e.floor(a),t[n]=e.ceil(s),t}function gL(t){return Math.log(t)}function yL(t){return Math.exp(t)}function xLe(t){return-Math.log(-t)}function vLe(t){return-Math.exp(-t)}function jLe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wLe(t){return t===10?jLe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function NLe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function bL(t){return(e,r)=>-t(-e,r)}function M2(t){const e=t(gL,yL),r=e.domain;let n=10,a,s;function i(){return a=NLe(n),s=wLe(n),r()[0]<0?(a=bL(a),s=bL(s),t(xLe,vLe)):t(gL,yL),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(r(l),i()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),y,p;const b=l==null?10:+l;let g=[];if(!(n%1)&&h-m<b){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(y=1;y<n;++y)if(p=m<0?y/s(-m):y*s(m),!(p<u)){if(p>d)break;g.push(p)}}else for(;m<=h;++m)for(y=n-1;y>=1;--y)if(p=m>0?y/s(-m):y*s(m),!(p<u)){if(p>d)break;g.push(p)}g.length*2<b&&(g=HI(u,d,b))}else g=HI(m,h,Math.min(h-m,b)).map(s);return f?g.reverse():g},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Nm(c)).precision==null&&(c.trim=!0),c=$2(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(D7(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function O7(){const t=M2(Ew()).domain([1,10]);return t.copy=()=>Sh(t,O7()).base(t.base()),sa.apply(t,arguments),t}function xL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function L2(t){var e=1,r=t(xL(e),vL(e));return r.constant=function(n){return arguments.length?t(xL(e=+n),vL(e)):e},oi(r)}function _7(){var t=L2(Ew());return t.copy=function(){return Sh(t,_7()).constant(t.constant())},sa.apply(t,arguments)}function jL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function CLe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SLe(t){return t<0?-t*t:t*t}function F2(t){var e=t(Yr,Yr),r=1;function n(){return r===1?t(Yr,Yr):r===.5?t(CLe,SLe):t(jL(r),jL(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},oi(e)}function B2(){var t=F2(Ew());return t.copy=function(){return Sh(t,B2()).exponent(t.exponent())},sa.apply(t,arguments),t}function ALe(){return B2.apply(null,arguments).exponent(.5)}function wL(t){return Math.sign(t)*t*t}function ILe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function R7(){var t=_2(),e=[0,1],r=!1,n;function a(s){var i=ILe(t(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return t.invert(wL(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,A0)).map(wL)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return R7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},sa.apply(a,arguments),oi(a)}function $7(){var t=[],e=[],r=[],n;function a(){var i=0,l=Math.max(1,e.length);for(r=new Array(l-1);++i<l;)r[i-1]=DMe(t,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[Nh(r,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Lo),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return $7().domain(t).range(e).unknown(n)},sa.apply(s,arguments)}function M7(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Nh(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return i}return i.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return M7().domain([t,e]).range(a).unknown(s)},sa.apply(oi(i),arguments)}function L7(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[Nh(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[t[i-1],t[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return L7().domain(t).range(e).unknown(r)},sa.apply(a,arguments)}const iC=new Date,lC=new Date;function yr(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<i);return c},a.filter=s=>yr(i=>{if(i>=i)for(;t(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),r&&(a.count=(s,i)=>(iC.setTime(+s),lC.setTime(+i),t(iC),t(lC),Math.floor(r(iC,lC))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const T0=yr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);T0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):T0);T0.range;const xs=1e3,Xn=xs*60,vs=Xn*60,Fs=vs*24,q2=Fs*7,NL=Fs*30,cC=Fs*365,Fi=yr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getUTCSeconds());Fi.range;const V2=yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xs)},(t,e)=>{t.setTime(+t+e*Xn)},(t,e)=>(e-t)/Xn,t=>t.getMinutes());V2.range;const U2=yr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Xn)},(t,e)=>(e-t)/Xn,t=>t.getUTCMinutes());U2.range;const z2=yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xs-t.getMinutes()*Xn)},(t,e)=>{t.setTime(+t+e*vs)},(t,e)=>(e-t)/vs,t=>t.getHours());z2.range;const W2=yr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vs)},(t,e)=>(e-t)/vs,t=>t.getUTCHours());W2.range;const Ah=yr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Xn)/Fs,t=>t.getDate()-1);Ah.range;const Dw=yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>t.getUTCDate()-1);Dw.range;const F7=yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>Math.floor(t/Fs));F7.range;function Rl(t){return yr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Xn)/q2)}const Ow=Rl(0),P0=Rl(1),kLe=Rl(2),TLe=Rl(3),su=Rl(4),PLe=Rl(5),ELe=Rl(6);Ow.range;P0.range;kLe.range;TLe.range;su.range;PLe.range;ELe.range;function $l(t){return yr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/q2)}const _w=$l(0),E0=$l(1),DLe=$l(2),OLe=$l(3),ou=$l(4),_Le=$l(5),RLe=$l(6);_w.range;E0.range;DLe.range;OLe.range;ou.range;_Le.range;RLe.range;const H2=yr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());H2.range;const G2=yr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());G2.range;const Bs=yr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Bs.range;const qs=yr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});qs.range;function B7(t,e,r,n,a,s){const i=[[Fi,1,xs],[Fi,5,5*xs],[Fi,15,15*xs],[Fi,30,30*xs],[s,1,Xn],[s,5,5*Xn],[s,15,15*Xn],[s,30,30*Xn],[a,1,vs],[a,3,3*vs],[a,6,6*vs],[a,12,12*vs],[n,1,Fs],[n,2,2*Fs],[r,1,q2],[e,1,NL],[e,3,3*NL],[t,1,cC]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),y=h?h.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,f){const m=Math.abs(d-u)/f,h=T2(([,,b])=>b).right(i,m);if(h===i.length)return t.every(YI(u/cC,d/cC,f));if(h===0)return T0.every(Math.max(YI(u,d,f),1));const[y,p]=i[m/i[h-1][2]<i[h][2]/m?h-1:h];return y.every(p)}return[l,c]}const[$Le,MLe]=B7(qs,G2,_w,F7,W2,U2),[LLe,FLe]=B7(Bs,H2,Ow,Ah,z2,V2);function uC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bd(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function BLe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,i=t.shortDays,l=t.months,c=t.shortMonths,u=xd(a),d=vd(a),f=xd(s),m=vd(s),h=xd(i),y=vd(i),p=xd(l),b=vd(l),g=xd(c),v=vd(c),j={a:q,A:F,b:O,B:V,c:null,d:TL,e:TL,f:cFe,g:xFe,G:jFe,H:oFe,I:iFe,j:lFe,L:q7,m:uFe,M:dFe,p:W,q:$,Q:DL,s:OL,S:fFe,u:mFe,U:hFe,V:pFe,w:gFe,W:yFe,x:null,X:null,y:bFe,Y:vFe,Z:wFe,"%":EL},C={a:B,A:Q,b:fe,B:ae,c:null,d:PL,e:PL,f:AFe,g:$Fe,G:LFe,H:NFe,I:CFe,j:SFe,L:U7,m:IFe,M:kFe,p:J,q:oe,Q:DL,s:OL,S:TFe,u:PFe,U:EFe,V:DFe,w:OFe,W:_Fe,x:null,X:null,y:RFe,Y:MFe,Z:FFe,"%":EL},x={a:T,A:E,b:R,B:M,c:L,d:IL,e:IL,f:rFe,g:AL,G:SL,H:kL,I:kL,j:QLe,L:tFe,m:XLe,M:ZLe,p:I,q:JLe,Q:aFe,s:sFe,S:eFe,u:WLe,U:HLe,V:GLe,w:zLe,W:YLe,x:P,X:_,y:AL,Y:SL,Z:KLe,"%":nFe};j.x=N(r,j),j.X=N(n,j),j.c=N(e,j),C.x=N(r,C),C.X=N(n,C),C.c=N(e,C);function N(ee,re){return function(K){var Y=[],ue=-1,me=0,ve=ee.length,De,_e,yt;for(K instanceof Date||(K=new Date(+K));++ue<ve;)ee.charCodeAt(ue)===37&&(Y.push(ee.slice(me,ue)),(_e=CL[De=ee.charAt(++ue)])!=null?De=ee.charAt(++ue):_e=De==="e"?" ":"0",(yt=re[De])&&(De=yt(K,_e)),Y.push(De),me=ue+1);return Y.push(ee.slice(me,ue)),Y.join("")}}function S(ee,re){return function(K){var Y=bd(1900,void 0,1),ue=A(Y,ee,K+="",0),me,ve;if(ue!=K.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(re&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(me=dC(bd(Y.y,0,1)),ve=me.getUTCDay(),me=ve>4||ve===0?E0.ceil(me):E0(me),me=Dw.offset(me,(Y.V-1)*7),Y.y=me.getUTCFullYear(),Y.m=me.getUTCMonth(),Y.d=me.getUTCDate()+(Y.w+6)%7):(me=uC(bd(Y.y,0,1)),ve=me.getDay(),me=ve>4||ve===0?P0.ceil(me):P0(me),me=Ah.offset(me,(Y.V-1)*7),Y.y=me.getFullYear(),Y.m=me.getMonth(),Y.d=me.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ve="Z"in Y?dC(bd(Y.y,0,1)).getUTCDay():uC(bd(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ve+5)%7:Y.w+Y.U*7-(ve+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,dC(Y)):uC(Y)}}function A(ee,re,K,Y){for(var ue=0,me=re.length,ve=K.length,De,_e;ue<me;){if(Y>=ve)return-1;if(De=re.charCodeAt(ue++),De===37){if(De=re.charAt(ue++),_e=x[De in CL?re.charAt(ue++):De],!_e||(Y=_e(ee,K,Y))<0)return-1}else if(De!=K.charCodeAt(Y++))return-1}return Y}function I(ee,re,K){var Y=u.exec(re.slice(K));return Y?(ee.p=d.get(Y[0].toLowerCase()),K+Y[0].length):-1}function T(ee,re,K){var Y=h.exec(re.slice(K));return Y?(ee.w=y.get(Y[0].toLowerCase()),K+Y[0].length):-1}function E(ee,re,K){var Y=f.exec(re.slice(K));return Y?(ee.w=m.get(Y[0].toLowerCase()),K+Y[0].length):-1}function R(ee,re,K){var Y=g.exec(re.slice(K));return Y?(ee.m=v.get(Y[0].toLowerCase()),K+Y[0].length):-1}function M(ee,re,K){var Y=p.exec(re.slice(K));return Y?(ee.m=b.get(Y[0].toLowerCase()),K+Y[0].length):-1}function L(ee,re,K){return A(ee,e,re,K)}function P(ee,re,K){return A(ee,r,re,K)}function _(ee,re,K){return A(ee,n,re,K)}function q(ee){return i[ee.getDay()]}function F(ee){return s[ee.getDay()]}function O(ee){return c[ee.getMonth()]}function V(ee){return l[ee.getMonth()]}function W(ee){return a[+(ee.getHours()>=12)]}function $(ee){return 1+~~(ee.getMonth()/3)}function B(ee){return i[ee.getUTCDay()]}function Q(ee){return s[ee.getUTCDay()]}function fe(ee){return c[ee.getUTCMonth()]}function ae(ee){return l[ee.getUTCMonth()]}function J(ee){return a[+(ee.getUTCHours()>=12)]}function oe(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var re=N(ee+="",j);return re.toString=function(){return ee},re},parse:function(ee){var re=S(ee+="",!1);return re.toString=function(){return ee},re},utcFormat:function(ee){var re=N(ee+="",C);return re.toString=function(){return ee},re},utcParse:function(ee){var re=S(ee+="",!0);return re.toString=function(){return ee},re}}}var CL={"-":"",_:" ",0:"0"},Nr=/^\s*\d+/,qLe=/^%/,VLe=/[\\^$*+?|[\]().{}]/g;function at(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function ULe(t){return t.replace(VLe,"\\$&")}function xd(t){return new RegExp("^(?:"+t.map(ULe).join("|")+")","i")}function vd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function zLe(t,e,r){var n=Nr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function WLe(t,e,r){var n=Nr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function HLe(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function GLe(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function YLe(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function SL(t,e,r){var n=Nr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function AL(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function KLe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function JLe(t,e,r){var n=Nr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function XLe(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function IL(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function QLe(t,e,r){var n=Nr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function kL(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ZLe(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function eFe(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function tFe(t,e,r){var n=Nr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function rFe(t,e,r){var n=Nr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nFe(t,e,r){var n=qLe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function aFe(t,e,r){var n=Nr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function sFe(t,e,r){var n=Nr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function TL(t,e){return at(t.getDate(),e,2)}function oFe(t,e){return at(t.getHours(),e,2)}function iFe(t,e){return at(t.getHours()%12||12,e,2)}function lFe(t,e){return at(1+Ah.count(Bs(t),t),e,3)}function q7(t,e){return at(t.getMilliseconds(),e,3)}function cFe(t,e){return q7(t,e)+"000"}function uFe(t,e){return at(t.getMonth()+1,e,2)}function dFe(t,e){return at(t.getMinutes(),e,2)}function fFe(t,e){return at(t.getSeconds(),e,2)}function mFe(t){var e=t.getDay();return e===0?7:e}function hFe(t,e){return at(Ow.count(Bs(t)-1,t),e,2)}function V7(t){var e=t.getDay();return e>=4||e===0?su(t):su.ceil(t)}function pFe(t,e){return t=V7(t),at(su.count(Bs(t),t)+(Bs(t).getDay()===4),e,2)}function gFe(t){return t.getDay()}function yFe(t,e){return at(P0.count(Bs(t)-1,t),e,2)}function bFe(t,e){return at(t.getFullYear()%100,e,2)}function xFe(t,e){return t=V7(t),at(t.getFullYear()%100,e,2)}function vFe(t,e){return at(t.getFullYear()%1e4,e,4)}function jFe(t,e){var r=t.getDay();return t=r>=4||r===0?su(t):su.ceil(t),at(t.getFullYear()%1e4,e,4)}function wFe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+at(e/60|0,"0",2)+at(e%60,"0",2)}function PL(t,e){return at(t.getUTCDate(),e,2)}function NFe(t,e){return at(t.getUTCHours(),e,2)}function CFe(t,e){return at(t.getUTCHours()%12||12,e,2)}function SFe(t,e){return at(1+Dw.count(qs(t),t),e,3)}function U7(t,e){return at(t.getUTCMilliseconds(),e,3)}function AFe(t,e){return U7(t,e)+"000"}function IFe(t,e){return at(t.getUTCMonth()+1,e,2)}function kFe(t,e){return at(t.getUTCMinutes(),e,2)}function TFe(t,e){return at(t.getUTCSeconds(),e,2)}function PFe(t){var e=t.getUTCDay();return e===0?7:e}function EFe(t,e){return at(_w.count(qs(t)-1,t),e,2)}function z7(t){var e=t.getUTCDay();return e>=4||e===0?ou(t):ou.ceil(t)}function DFe(t,e){return t=z7(t),at(ou.count(qs(t),t)+(qs(t).getUTCDay()===4),e,2)}function OFe(t){return t.getUTCDay()}function _Fe(t,e){return at(E0.count(qs(t)-1,t),e,2)}function RFe(t,e){return at(t.getUTCFullYear()%100,e,2)}function $Fe(t,e){return t=z7(t),at(t.getUTCFullYear()%100,e,2)}function MFe(t,e){return at(t.getUTCFullYear()%1e4,e,4)}function LFe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ou(t):ou.ceil(t),at(t.getUTCFullYear()%1e4,e,4)}function FFe(){return"+0000"}function EL(){return"%"}function DL(t){return+t}function OL(t){return Math.floor(+t/1e3)}var Yl,W7,H7;BFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BFe(t){return Yl=BLe(t),W7=Yl.format,Yl.parse,H7=Yl.utcFormat,Yl.utcParse,Yl}function qFe(t){return new Date(t)}function VFe(t){return t instanceof Date?+t:+new Date(+t)}function Y2(t,e,r,n,a,s,i,l,c,u){var d=_2(),f=d.invert,m=d.domain,h=u(".%L"),y=u(":%S"),p=u("%I:%M"),b=u("%I %p"),g=u("%a %d"),v=u("%b %d"),j=u("%B"),C=u("%Y");function x(N){return(c(N)<N?h:l(N)<N?y:i(N)<N?p:s(N)<N?b:n(N)<N?a(N)<N?g:v:r(N)<N?j:C)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?m(Array.from(N,VFe)):m().map(qFe)},d.ticks=function(N){var S=m();return t(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?x:u(S)},d.nice=function(N){var S=m();return(!N||typeof N.range!="function")&&(N=e(S[0],S[S.length-1],N??10)),N?m(D7(S,N)):d},d.copy=function(){return Sh(d,Y2(t,e,r,n,a,s,i,l,c,u))},d}function UFe(){return sa.apply(Y2(LLe,FLe,Bs,H2,Ow,Ah,z2,V2,Fi,W7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zFe(){return sa.apply(Y2($Le,MLe,qs,G2,_w,Dw,W2,U2,Fi,H7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rw(){var t=0,e=1,r,n,a,s,i=Yr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var h,y;return arguments.length?([h,y]=m,i=f(h,y),u):[i(0),i(1)]}}return u.range=d(qu),u.rangeRound=d(O2),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function ii(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function G7(){var t=oi(Rw()(Yr));return t.copy=function(){return ii(t,G7())},Ks.apply(t,arguments)}function Y7(){var t=M2(Rw()).domain([1,10]);return t.copy=function(){return ii(t,Y7()).base(t.base())},Ks.apply(t,arguments)}function K7(){var t=L2(Rw());return t.copy=function(){return ii(t,K7()).constant(t.constant())},Ks.apply(t,arguments)}function K2(){var t=F2(Rw());return t.copy=function(){return ii(t,K2()).exponent(t.exponent())},Ks.apply(t,arguments)}function WFe(){return K2.apply(null,arguments).exponent(.5)}function J7(){var t=[],e=Yr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Nh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Lo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>EMe(t,s/n))},r.copy=function(){return J7(e).domain(t)},Ks.apply(r,arguments)}function $w(){var t=0,e=.5,r=1,n=1,a,s,i,l,c,u=Yr,d,f=!1,m;function h(p){return isNaN(p=+p)?m:(p=.5+((p=+d(p))-s)*(n*p<n*s?l:c),u(f?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e,r]=p,a=d(t=+t),s=d(e=+e),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h):[t,e,r]},h.clamp=function(p){return arguments.length?(f=!!p,h):f},h.interpolator=function(p){return arguments.length?(u=p,h):u};function y(p){return function(b){var g,v,j;return arguments.length?([g,v,j]=b,u=nLe(p,[g,v,j]),h):[u(0),u(.5),u(1)]}}return h.range=y(qu),h.rangeRound=y(O2),h.unknown=function(p){return arguments.length?(m=p,h):m},function(p){return d=p,a=p(t),s=p(e),i=p(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h}}function X7(){var t=oi($w()(Yr));return t.copy=function(){return ii(t,X7())},Ks.apply(t,arguments)}function Q7(){var t=M2($w()).domain([.1,1,10]);return t.copy=function(){return ii(t,Q7()).base(t.base())},Ks.apply(t,arguments)}function Z7(){var t=L2($w());return t.copy=function(){return ii(t,Z7()).constant(t.constant())},Ks.apply(t,arguments)}function J2(){var t=F2($w());return t.copy=function(){return ii(t,J2()).exponent(t.exponent())},Ks.apply(t,arguments)}function HFe(){return J2.apply(null,arguments).exponent(.5)}const _L=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xm,scaleDiverging:X7,scaleDivergingLog:Q7,scaleDivergingPow:J2,scaleDivergingSqrt:HFe,scaleDivergingSymlog:Z7,scaleIdentity:E7,scaleImplicit:KI,scaleLinear:k0,scaleLog:O7,scaleOrdinal:P2,scalePoint:xf,scalePow:B2,scaleQuantile:$7,scaleQuantize:M7,scaleRadial:R7,scaleSequential:G7,scaleSequentialLog:Y7,scaleSequentialPow:K2,scaleSequentialQuantile:J7,scaleSequentialSqrt:WFe,scaleSequentialSymlog:K7,scaleSqrt:ALe,scaleSymlog:_7,scaleThreshold:L7,scaleTime:UFe,scaleUtc:zFe,tickFormat:P7},Symbol.toStringTag,{value:"Module"}));var GFe=Du;function YFe(t,e,r){for(var n=-1,a=t.length;++n<a;){var s=t[n],i=e(s);if(i!=null&&(l===void 0?i===i&&!GFe(i):r(i,l)))var l=i,c=s}return c}var Mw=YFe;function KFe(t,e){return t>e}var e8=KFe,JFe=Mw,XFe=e8,QFe=Fu;function ZFe(t){return t&&t.length?JFe(t,QFe,XFe):void 0}var e5e=ZFe;const Lw=it(e5e);function t5e(t,e){return t<e}var t8=t5e,r5e=Mw,n5e=t8,a5e=Fu;function s5e(t){return t&&t.length?r5e(t,a5e,n5e):void 0}var o5e=s5e;const Fw=it(o5e);var i5e=c2,l5e=si,c5e=c7,u5e=xn;function d5e(t,e){var r=u5e(t)?i5e:c5e;return r(t,l5e(e))}var f5e=d5e,m5e=i7,h5e=f5e;function p5e(t,e){return m5e(h5e(t,e),1)}var g5e=p5e;const y5e=it(g5e);var b5e=S2;function x5e(t,e){return b5e(t,e)}var v5e=x5e;const X2=it(v5e);var Vu=1e9,j5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Z2,qt=!0,na="[DecimalError] ",ol=na+"Invalid argument: ",Q2=na+"Exponent out of range: ",Uu=Math.floor,Ii=Math.pow,w5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cn,br=1e7,Ot=7,r8=9007199254740991,D0=Uu(r8/Ot),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ot;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ae.dividedBy=Ae.div=function(t){return ks(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,r=e.constructor;return jt(ks(e,new r(t),0,1),r.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return ur(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Cn))throw Error(na+"NaN");if(r.s<1)throw Error(na+(r.s?"NaN":"-Infinity"));return r.eq(Cn)?new n(0):(qt=!1,e=ks(Cm(r,s),Cm(t,s),s),qt=!0,jt(e,a))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?s8(e,t):n8(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(na+"NaN");return r.s?(qt=!1,e=ks(r,t,0,1).times(t),qt=!0,r.minus(e)):jt(new n(r),a)};Ae.naturalExponential=Ae.exp=function(){return a8(this)};Ae.naturalLogarithm=Ae.ln=function(){return Cm(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?n8(e,t):s8(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ol+t);if(e=ur(a)+1,n=a.d.length-1,r=n*Ot+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ae.squareRoot=Ae.sqrt=function(){var t,e,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(na+"NaN")}for(t=ur(l),qt=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Ma(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Uu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(ks(l,s,i+2)).times(.5),Ma(s.d).slice(0,i)===(e=Ma(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(jt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return qt=!0,jt(n,r)};Ae.times=Ae.mul=function(t){var e,r,n,a,s,i,l,c,u,d=this,f=d.constructor,m=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+h[n]*m[a-n-1]+e,s[a--]=l%br|0,e=l/br|0;s[a]=(s[a]+e)%br|0}for(;!s[--i];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,qt?jt(t,f.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Xa(t,0,Vu),e===void 0?e=n.rounding:Xa(e,0,8),jt(r,t+ur(r)+1,e))};Ae.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=wl(n,!0):(Xa(t,0,Vu),e===void 0?e=a.rounding:Xa(e,0,8),n=jt(new a(n),t+1,e),r=wl(n,!0,t+1)),r};Ae.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?wl(a):(Xa(t,0,Vu),e===void 0?e=s.rounding:Xa(e,0,8),n=jt(new s(a),t+ur(a)+1,e),r=wl(n.abs(),!1,t+ur(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return jt(new e(t),ur(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Cn);if(l=new c(l),!l.s){if(t.s<1)throw Error(na+"Infinity");return l}if(l.eq(Cn))return l;if(n=c.precision,t.eq(Cn))return jt(l,n);if(e=t.e,r=t.d.length-1,i=e>=r,s=l.s,i){if((r=d<0?-d:d)<=r8){for(a=new c(Cn),e=Math.ceil(n/Ot+4),qt=!1;r%2&&(a=a.times(l),$L(a.d,e)),r=Uu(r/2),r!==0;)l=l.times(l),$L(l.d,e);return qt=!0,t.s<0?new c(Cn).div(a):jt(a,n)}}else if(s<0)throw Error(na+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,qt=!1,a=t.times(Cm(l,n+u)),qt=!0,a=a8(a),a.s=s,a};Ae.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=ur(a),n=wl(a,r<=s.toExpNeg||r>=s.toExpPos)):(Xa(t,1,Vu),e===void 0?e=s.rounding:Xa(e,0,8),a=jt(new s(a),t,e),r=ur(a),n=wl(a,t<=r||r<=s.toExpNeg,t)),n};Ae.toSignificantDigits=Ae.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Xa(t,1,Vu),e===void 0?e=n.rounding:Xa(e,0,8)),jt(new n(r),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ur(t),r=t.constructor;return wl(t,e<=r.toExpNeg||e>=r.toExpPos)};function n8(t,e){var r,n,a,s,i,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),qt?jt(e,f):e;if(c=t.d,u=e.d,i=t.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Ot),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/br|0,c[s]%=br;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,qt?jt(e,f):e}function Xa(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ol+t)}function Ma(t){var e,r,n,a=t.length-1,s="",i=t[0];if(a>0){for(s+=i,e=1;e<a;e++)n=t[e]+"",r=Ot-n.length,r&&(s+=oo(r)),s+=n;i=t[e],n=i+"",r=Ot-n.length,r&&(s+=oo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var ks=function(){function t(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%br|0,i=s/br|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*br+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,m,h,y,p,b,g,v,j,C,x,N,S,A,I=n.constructor,T=n.s==a.s?1:-1,E=n.d,R=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(na+"Division by zero");for(c=n.e-a.e,S=R.length,x=E.length,h=new I(T),y=h.d=[],u=0;R[u]==(E[u]||0);)++u;if(R[u]>(E[u]||0)&&--c,s==null?v=s=I.precision:i?v=s+(ur(n)-ur(a))+1:v=s,v<0)return new I(0);if(v=v/Ot+2|0,u=0,S==1)for(d=0,R=R[0],v++;(u<x||d)&&v--;u++)j=d*br+(E[u]||0),y[u]=j/R|0,d=j%R|0;else{for(d=br/(R[0]+1)|0,d>1&&(R=t(R,d),E=t(E,d),S=R.length,x=E.length),C=S,p=E.slice(0,S),b=p.length;b<S;)p[b++]=0;A=R.slice(),A.unshift(0),N=R[0],R[1]>=br/2&&++N;do d=0,l=e(R,p,S,b),l<0?(g=p[0],S!=b&&(g=g*br+(p[1]||0)),d=g/N|0,d>1?(d>=br&&(d=br-1),f=t(R,d),m=f.length,b=p.length,l=e(f,p,m,b),l==1&&(d--,r(f,S<m?A:R,m))):(d==0&&(l=d=1),f=R.slice()),m=f.length,m<b&&f.unshift(0),r(p,f,b),l==-1&&(b=p.length,l=e(R,p,S,b),l<1&&(d++,r(p,S<b?A:R,b))),b=p.length):l===0&&(d++,p=[0]),y[u++]=d,l&&p[0]?p[b++]=E[C]||0:(p=[E[C]],b=1);while((C++<x||p[0]!==void 0)&&v--)}return y[0]||y.shift(),h.e=c,jt(h,i?s+ur(h)+1:s)}}();function a8(t,e){var r,n,a,s,i,l,c=0,u=0,d=t.constructor,f=d.precision;if(ur(t)>16)throw Error(Q2+ur(t));if(!t.s)return new d(Cn);for(qt=!1,l=f,i=new d(.03125);t.abs().gte(.1);)t=t.times(i),u+=5;for(n=Math.log(Ii(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Cn),d.precision=l;;){if(a=jt(a.times(t),l),r=r.times(++c),i=s.plus(ks(a,r,l)),Ma(i.d).slice(0,l)===Ma(s.d).slice(0,l)){for(;u--;)s=jt(s.times(s),l);return d.precision=f,e==null?(qt=!0,jt(s,f)):s}s=i}}function ur(t){for(var e=t.e*Ot,r=t.d[0];r>=10;r/=10)e++;return e}function fC(t,e,r){if(e>t.LN10.sd())throw qt=!0,r&&(t.precision=r),Error(na+"LN10 precision limit exceeded");return jt(new t(t.LN10),e)}function oo(t){for(var e="";t--;)e+="0";return e}function Cm(t,e){var r,n,a,s,i,l,c,u,d,f=1,m=10,h=t,y=h.d,p=h.constructor,b=p.precision;if(h.s<1)throw Error(na+(h.s?"NaN":"-Infinity"));if(h.eq(Cn))return new p(0);if(e==null?(qt=!1,u=b):u=e,h.eq(10))return e==null&&(qt=!0),fC(p,u);if(u+=m,p.precision=u,r=Ma(y),n=r.charAt(0),s=ur(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Ma(h.d),n=r.charAt(0),f++;s=ur(h),n>1?(h=new p("0."+r),s++):h=new p(n+"."+r.slice(1))}else return c=fC(p,u+2,b).times(s+""),h=Cm(new p(n+"."+r.slice(1)),u-m).plus(c),p.precision=b,e==null?(qt=!0,jt(h,b)):h;for(l=i=h=ks(h.minus(Cn),h.plus(Cn),u),d=jt(h.times(h),u),a=3;;){if(i=jt(i.times(d),u),c=l.plus(ks(i,new p(a),u)),Ma(c.d).slice(0,u)===Ma(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(fC(p,u+2,b).times(s+""))),l=ks(l,new p(f),u),p.precision=b,e==null?(qt=!0,jt(l,b)):l;l=c,a+=2}}function RL(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Uu(r/Ot),t.d=[],n=(r+1)%Ot,r<0&&(n+=Ot),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Ot;n<a;)t.d.push(+e.slice(n,n+=Ot));e=e.slice(n),n=Ot-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),qt&&(t.e>D0||t.e<-D0))throw Error(Q2+r)}else t.s=0,t.e=0,t.d=[0];return t}function jt(t,e,r){var n,a,s,i,l,c,u,d,f=t.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=Ot,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Ot),s=f.length,d>=s)return t;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Ot,a=n-Ot+i}if(r!==void 0&&(s=Ii(10,i-a-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ii(10,i-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=ur(t),f.length=1,e=e-s-1,f[0]=Ii(10,(Ot-e%Ot)%Ot),t.e=Uu(-e/Ot)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Ii(10,Ot-n),f[d]=a>0?(u/Ii(10,i-a)%Ii(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==br&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=br)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(qt&&(t.e>D0||t.e<-D0))throw Error(Q2+ur(t));return t}function s8(t,e){var r,n,a,s,i,l,c,u,d,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),qt?jt(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Ot),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=br-1;--c[s],c[a]+=br}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,qt?jt(e,h):e):new m(0)}function wl(t,e,r){var n,a=ur(t),s=Ma(t.d),i=s.length;return e?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+oo(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+oo(-a-1)+s,r&&(n=r-i)>0&&(s+=oo(n))):a>=i?(s+=oo(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+oo(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=oo(n))),t.s<0?"-"+s:s}function $L(t,e){if(t.length>e)return t.length=e,!0}function o8(t){var e,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ol+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return RL(i,s.toString())}else if(typeof s!="string")throw Error(ol+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,w5e.test(s))RL(i,s);else throw Error(ol+s)}if(a.prototype=Ae,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=o8,a.config=a.set=N5e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function N5e(t){if(!t||typeof t!="object")throw Error(na+"Object expected");var e,r,n,a=["precision",1,Vu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Uu(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(ol+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ol+r+": "+n);return this}var Z2=o8(j5e);Cn=new Z2(1);const bt=Z2;function C5e(t){return k5e(t)||I5e(t)||A5e(t)||S5e()}function S5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A5e(t,e){if(t){if(typeof t=="string")return ZI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZI(t,e)}}function I5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function k5e(t){if(Array.isArray(t))return ZI(t)}function ZI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var T5e=function(e){return e},i8={},l8=function(e){return e===i8},ML=function(e){return function r(){return arguments.length===0||arguments.length===1&&l8(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},P5e=function t(e,r){return e===1?r:ML(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==i8}).length;return i>=e?r.apply(void 0,a):t(e-i,ML(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return l8(f)?c.shift():f});return r.apply(void 0,C5e(d).concat(c))}))})},Bw=function(e){return P5e(e.length,e)},ek=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},E5e=Bw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),D5e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return T5e;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},tk=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},c8=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function O5e(t){var e;return t===0?e=1:e=Math.floor(new bt(t).abs().log(10).toNumber())+1,e}function _5e(t,e,r){for(var n=new bt(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var R5e=Bw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),$5e=Bw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),M5e=Bw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const qw={rangeStep:_5e,getDigitCount:O5e,interpolateNumber:R5e,uninterpolateNumber:$5e,uninterpolateTruncation:M5e};function rk(t){return B5e(t)||F5e(t)||u8(t)||L5e()}function L5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function B5e(t){if(Array.isArray(t))return nk(t)}function Sm(t,e){return U5e(t)||V5e(t,e)||u8(t,e)||q5e()}function q5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u8(t,e){if(t){if(typeof t=="string")return nk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(t,e)}}function nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=t[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function U5e(t){if(Array.isArray(t))return t}function d8(t){var e=Sm(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function f8(t,e,r){if(t.lte(0))return new bt(0);var n=qw.getDigitCount(t.toNumber()),a=new bt(10).pow(n),s=t.div(a),i=n!==1?.05:.1,l=new bt(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return e?c:new bt(Math.ceil(c))}function z5e(t,e,r){var n=1,a=new bt(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new bt(10).pow(qw.getDigitCount(t)-1),a=new bt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new bt(Math.floor(t)))}else t===0?a=new bt(Math.floor((e-1)/2)):r||(a=new bt(Math.floor(t)));var i=Math.floor((e-1)/2),l=D5e(E5e(function(c){return a.add(new bt(c-i).mul(n)).toNumber()}),ek);return l(0,e)}function m8(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var s=f8(new bt(e).sub(t).div(r-1),n,a),i;t<=0&&e>=0?i=new bt(0):(i=new bt(t).add(e).div(2),i=i.sub(new bt(i).mod(s)));var l=Math.ceil(i.sub(t).div(s).toNumber()),c=Math.ceil(new bt(e).sub(i).div(s).toNumber()),u=l+c+1;return u>r?m8(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:i.sub(new bt(l).mul(s)),tickMax:i.add(new bt(c).mul(s))})}function W5e(t){var e=Sm(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=d8([r,n]),c=Sm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(rk(ek(0,a-1).map(function(){return 1/0}))):[].concat(rk(ek(0,a-1).map(function(){return-1/0})),[d]);return r>n?tk(f):f}if(u===d)return z5e(u,a,s);var m=m8(u,d,i,s),h=m.step,y=m.tickMin,p=m.tickMax,b=qw.rangeStep(y,p.add(new bt(.1).mul(h)),h);return r>n?tk(b):b}function H5e(t,e){var r=Sm(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=d8([n,a]),l=Sm(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=f8(new bt(u).sub(c).div(d-1),s,0),m=[].concat(rk(qw.rangeStep(new bt(c),new bt(u).sub(new bt(.99).mul(f)),f)),[u]);return n>a?tk(m):m}var G5e=c8(W5e),Y5e=c8(H5e),K5e="Invariant failed";function iu(t,e){throw new Error(K5e)}var J5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O0.apply(this,arguments)}function X5e(t,e){return tBe(t)||eBe(t,e)||Z5e(t,e)||Q5e()}function Q5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z5e(t,e){if(t){if(typeof t=="string")return LL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LL(t,e)}}function LL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function tBe(t){if(Array.isArray(t))return t}function rBe(t,e){if(t==null)return{};var r=nBe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g8(n.key),n)}}function oBe(t,e,r){return e&&sBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iBe(t,e,r){return e=_0(e),lBe(t,h8()?Reflect.construct(e,r||[],_0(t).constructor):e.apply(t,r))}function lBe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cBe(t)}function cBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h8=function(){return!!t})()}function _0(t){return _0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_0(t)}function uBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ak(t,e)}function ak(t,e){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ak(t,e)}function p8(t,e,r){return e=g8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g8(t){var e=dBe(t,"string");return lu(e)=="symbol"?e:e+""}function dBe(t,e){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eE=function(t){function e(){return aBe(this,e),iBe(this,e,arguments)}return uBe(e,t),oBe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=rBe(n,J5e),h=Ge(m,!1);this.props.direction==="x"&&d.type!=="number"&&iu();var y=c.map(function(p){var b=u(p,l),g=b.x,v=b.y,j=b.value,C=b.errorVal;if(!C)return null;var x=[],N,S;if(Array.isArray(C)){var A=X5e(C,2);N=A[0],S=A[1]}else N=S=C;if(s==="vertical"){var I=d.scale,T=v+a,E=T+i,R=T-i,M=I(j-N),L=I(j+S);x.push({x1:L,y1:E,x2:L,y2:R}),x.push({x1:M,y1:T,x2:L,y2:T}),x.push({x1:M,y1:E,x2:M,y2:R})}else if(s==="horizontal"){var P=f.scale,_=g+a,q=_-i,F=_+i,O=P(j-N),V=P(j+S);x.push({x1:q,y1:V,x2:F,y2:V}),x.push({x1:_,y1:O,x2:_,y2:V}),x.push({x1:q,y1:O,x2:F,y2:O})}return G.createElement(Jt,O0({className:"recharts-errorBar",key:"bar-".concat(x.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},h),x.map(function(W){return G.createElement("line",O0({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return G.createElement(Jt,{className:"recharts-errorBars"},y)}}])}(G.Component);p8(eE,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});p8(eE,"displayName","ErrorBar");function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function FL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(r),!0).forEach(function(n){fBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fBe(t,e,r){return e=mBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mBe(t){var e=hBe(t,"string");return Am(e)=="symbol"?e:e+""}function hBe(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y8=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,i=Wn(r,Ga);if(!i)return null;var l=Ga.defaultProps,c=l!==void 0?gi(gi({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,y=h.sectors||h.data||[];return d.concat(y.map(function(p){return{type:i.props.iconType||m.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?gi(gi({},m),f.props):{},y=h.dataKey,p=h.name,b=h.legendType,g=h.hide;return{inactive:g,dataKey:y,type:c.iconType||b||"square",color:tE(f),value:p||y,payload:h}}),gi(gi(gi({},c),Ga.getWithHeight(i,a)),{},{payload:u,item:i})};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function BL(t){return bBe(t)||yBe(t)||gBe(t)||pBe()}function pBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gBe(t,e){if(t){if(typeof t=="string")return sk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(t,e)}}function yBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bBe(t){if(Array.isArray(t))return sk(t)}function sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(n){Mc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mc(t,e,r){return e=xBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xBe(t){var e=vBe(t,"string");return Im(e)=="symbol"?e:e+""}function vBe(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sn(t,e,r){return Qe(t)||Qe(e)?r:gr(e)?ja(t,e,r):Ye(e)?e(t):r}function vf(t,e,r,n){var a=y5e(t,function(l){return Sn(l,e)});if(r==="number"){var s=a.filter(function(l){return Ne(l)||parseFloat(l)});return s.length?[Fw(s),Lw(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Qe(l)}):a;return i.map(function(l){return gr(l)||l instanceof Date?l:""})}var jBe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(Jn(f-d)!==Jn(m-f)){var y=[];if(Jn(m-f)===Jn(c[1]-c[0])){h=m;var p=f+c[1]-c[0];y[0]=Math.min(p,(p+d)/2),y[1]=Math.max(p,(p+d)/2)}else{h=d;var b=m+c[1]-c[0];y[0]=Math.min(f,(b+f)/2),y[1]=Math.max(f,(b+f)/2)}var g=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>g[0]&&e<=g[1]||e>=y[0]&&e<=y[1]){i=a[u].index;break}}else{var v=Math.min(d,m),j=Math.max(d,m);if(e>(v+f)/2&&e<=(j+f)/2){i=a[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){i=n[C].index;break}return i},tE=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Kt(Kt({},e.type.defaultProps),e.props):e.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},wBe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var y=d[f[m]],p=y.items,b=y.cateAxisId,g=p.filter(function(S){return As(S.type).indexOf("Bar")>=0});if(g&&g.length){var v=g[0].type.defaultProps,j=v!==void 0?Kt(Kt({},v),g[0].props):g[0].props,C=j.barSize,x=j[b];i[x]||(i[x]=[]);var N=Qe(C)?r:C;i[x].push({item:g[0],stackList:g.slice(1),barSize:Qe(N)?void 0:sn(N,n,0)})}}return i},NBe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,i=s===void 0?[]:s,l=e.maxBarSize,c=i.length;if(c<1)return null;var u=sn(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var m=!1,h=a/c,y=i.reduce(function(C,x){return C+x.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&h>0&&(m=!0,h*=.9,y=c*h);var p=(a-y)/2>>0,b={offset:p-u,size:0};d=i.reduce(function(C,x){var N={item:x.item,position:{offset:b.offset+b.size+u,size:m?h:x.barSize}},S=[].concat(BL(C),[N]);return b=S[S.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(A){S.push({item:A,position:b})}),S},f)}else{var g=sn(n,a,0,!0);a-2*g-(c-1)*u<=0&&(u=0);var v=(a-2*g-(c-1)*u)/c;v>1&&(v>>=0);var j=l===+l?Math.min(v,l):v;d=i.reduce(function(C,x,N){var S=[].concat(BL(C),[{item:x.item,position:{offset:g+(v+u)*N+(v-j)/2,size:j}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},f)}return d},CBe=function(e,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=y8({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,h=u.align,y=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&y==="middle")&&h!=="center"&&Ne(e[h]))return Kt(Kt({},e),{},Mc({},h,e[h]+(f||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&y!=="middle"&&Ne(e[y]))return Kt(Kt({},e),{},Mc({},y,e[y]+(m||0)))}return e},SBe=function(e,r,n){return Qe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},b8=function(e,r,n,a,s){var i=r.props.children,l=Ha(i,eE).filter(function(u){return SBe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Sn(d,n);if(Qe(f))return u;var m=Array.isArray(f)?[Fw(f),Lw(f)]:[f,f],h=c.reduce(function(y,p){var b=Sn(d,p,0),g=m[0]-Math.abs(Array.isArray(b)?b[0]:b),v=m[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(g,y[0]),Math.max(v,y[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},ABe=function(e,r,n,a,s){var i=r.map(function(l){return b8(e,l,n,s,a)}).filter(function(l){return!Qe(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},x8=function(e,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&b8(e,c,u,a)||vf(e,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},v8=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Fd=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,i=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Jn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!wh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:s?s[f]:f,index:m,offset:u}})},mC=new WeakMap,Ip=function(e,r){if(typeof r!="function")return e;mC.has(e)||mC.set(e,new WeakMap);var n=mC.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},IBe=function(e,r,n){var a=e.scale,s=e.type,i=e.layout,l=e.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:xm(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:k0(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:xf(),realScaleType:"point"}:s==="category"?{scale:xm(),realScaleType:"band"}:{scale:k0(),realScaleType:"linear"};if(jh(a)){var c="scale".concat(ww(a));return{scale:(_L[c]||xf)(),realScaleType:_L[c]?c:"point"}}return Ye(a)?{scale:a}:{scale:xf(),realScaleType:"point"}},VL=1e-4,kBe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-VL,i=Math.max(a[0],a[1])+VL,l=e(r[0]),c=e(r[n-1]);(l<s||l>i||c<s||c>i)&&e.domain([r[0],r[n-1]])}},TBe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=wh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1])}},PBe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=wh(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=s,e[i][n][1]=s+l,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},EBe={sign:TBe,expand:Kke,none:Qc,silhouette:Jke,wiggle:Xke,positive:PBe},DBe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=EBe[n],i=Yke().keys(a).value(function(l,c){return+Sn(l,c,0)}).order(PI).offset(s);return i(e)},OBe=function(e,r,n,a,s,i){if(!e)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,m){var h,y=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Kt(Kt({},m.type.defaultProps),m.props):m.props,p=y.stackId,b=y.hide;if(b)return f;var g=y[n],v=f[g]||{hasStack:!1,stackGroups:{}};if(gr(p)){var j=v.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(m),v.hasStack=!0,v.stackGroups[p]=j}else v.stackGroups[vw("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Kt(Kt({},f),{},Mc({},g,v))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var y={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,b){var g=h.stackGroups[b];return Kt(Kt({},p),{},Mc({},b,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:DBe(e,g.items,s)}))},y)}return Kt(Kt({},f),{},Mc({},m,h))},d)},_Be=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=G5e(u,s,l);return e.domain([Fw(d),Lw(d)]),{niceTicks:d}}if(s&&a==="number"){var f=e.domain(),m=Y5e(f,s,l);return{niceTicks:m}}return null},RBe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Kt(Kt({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(gr(s)){var i=r[s];if(i){var l=i.items.indexOf(e);return l>=0?i.stackedData[l]:null}}return null},$Be=function(e){return e.reduce(function(r,n){return[Fw(n.concat([r[0]]).filter(Ne)),Lw(n.concat([r[1]]).filter(Ne))]},[1/0,-1/0])},j8=function(e,r,n){return Object.keys(e).reduce(function(a,s){var i=e[s],l=i.stackedData,c=l.reduce(function(u,d){var f=$Be(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},UL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ok=function(e,r,n){if(Ye(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Ne(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(UL.test(e[0])){var s=+UL.exec(e[0])[1];a[0]=r[0]-s}else Ye(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Ne(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(zL.test(e[1])){var i=+zL.exec(e[1])[1];a[1]=r[1]+i}else Ye(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},ik=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=I2(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},WL=function(e,r,n){return!e||!e.length||X2(e,ja(n,"type.defaultProps.domain"))?r:e},MBe=function(e,r){var n=e.type.defaultProps?Kt(Kt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Kt(Kt({},Ge(e,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:tE(e),value:Sn(r,a),type:c,payload:r,chartType:u,hide:d})};function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ls(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(r),!0).forEach(function(n){w8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w8(t,e,r){return e=LBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LBe(t){var e=FBe(t,"string");return km(e)=="symbol"?e:e+""}function FBe(t,e){if(km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BBe(t,e){return zBe(t)||UBe(t,e)||VBe(t,e)||qBe()}function qBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VBe(t,e){if(t){if(typeof t=="string")return GL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GL(t,e)}}function GL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function zBe(t){if(Array.isArray(t))return t}var R0=Math.PI/180,WBe=function(e){return e*180/Math.PI},kt=function(e,r,n,a){return{x:e+Math.cos(-R0*a)*n,y:r+Math.sin(-R0*a)*n}},N8=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},HBe=function(e,r,n,a,s){var i=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=sn(e.cx,i,i/2),f=sn(e.cy,l,l/2),m=N8(i,l,n),h=sn(e.innerRadius,m,0),y=sn(e.outerRadius,m,m*.8),p=Object.keys(r);return p.reduce(function(b,g){var v=r[g],j=v.domain,C=v.reversed,x;if(Qe(v.range))a==="angleAxis"?x=[c,u]:a==="radiusAxis"&&(x=[h,y]),C&&(x=[x[1],x[0]]);else{x=v.range;var N=x,S=BBe(N,2);c=S[0],u=S[1]}var A=IBe(v,s),I=A.realScaleType,T=A.scale;T.domain(j).range(x),kBe(T);var E=_Be(T,ls(ls({},v),{},{realScaleType:I})),R=ls(ls(ls({},v),E),{},{range:x,radius:y,realScaleType:I,scale:T,cx:d,cy:f,innerRadius:h,outerRadius:y,startAngle:c,endAngle:u});return ls(ls({},b),{},w8({},g,R))},{})},GBe=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},YBe=function(e,r){var n=e.x,a=e.y,s=r.cx,i=r.cy,l=GBe({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:WBe(u),angleInRadian:u}},KBe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},JBe=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return e+l*360},YL=function(e,r){var n=e.x,a=e.y,s=YBe({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=KBe(r),f=d.startAngle,m=d.endAngle,h=l,y;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;y=h>=m&&h<=f}return y?ls(ls({},r),{},{radius:i,angle:JBe(h,r)}):null},C8=function(e){return!w.isValidElement(e)&&!Ye(e)&&typeof e!="boolean"?e.className:""};function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}var XBe=["offset"];function QBe(t){return r4e(t)||t4e(t)||e4e(t)||ZBe()}function ZBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e4e(t,e){if(t){if(typeof t=="string")return lk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(t,e)}}function t4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r4e(t){if(Array.isArray(t))return lk(t)}function lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n4e(t,e){if(t==null)return{};var r=a4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function a4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){s4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s4e(t,e,r){return e=o4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o4e(t){var e=i4e(t,"string");return Tm(e)=="symbol"?e:e+""}function i4e(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pm.apply(this,arguments)}var l4e=function(e){var r=e.value,n=e.formatter,a=Qe(e.children)?r:e.children;return Ye(n)?n(a):a},c4e=function(e,r){var n=Jn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},u4e=function(e,r,n){var a=e.position,s=e.viewBox,i=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,y=c.endAngle,p=c.clockWise,b=(f+m)/2,g=c4e(h,y),v=g>=0?1:-1,j,C;a==="insideStart"?(j=h+v*i,C=p):a==="insideEnd"?(j=y-v*i,C=!p):a==="end"&&(j=y+v*i,C=p),C=g<=0?C:!C;var x=kt(u,d,b,j),N=kt(u,d,b,j+(C?1:-1)*359),S="M".concat(x.x,",").concat(x.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(N.x,",").concat(N.y),A=Qe(e.id)?vw("recharts-radial-line-"):e.id;return G.createElement("text",Pm({},n,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",l)}),G.createElement("defs",null,G.createElement("path",{id:A,d:S})),G.createElement("textPath",{xlinkHref:"#".concat(A)},r))},d4e=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(a==="outside"){var h=kt(i,l,u+n,m),y=h.x,p=h.y;return{x:y,y:p,textAnchor:y>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,g=kt(i,l,b,m),v=g.x,j=g.y;return{x:v,y:j,textAnchor:"middle",verticalAnchor:"middle"}},f4e=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,m=f*a,h=f>0?"end":"start",y=f>0?"start":"end",p=u>=0?1:-1,b=p*a,g=p>0?"end":"start",v=p>0?"start":"end";if(s==="top"){var j={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return fr(fr({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var C={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:y};return fr(fr({},C),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var x={x:l-b,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return fr(fr({},x),n?{width:Math.max(x.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+b,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return fr(fr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?fr({x:l+b,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},S):s==="insideRight"?fr({x:l+u-b,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):s==="insideTop"?fr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:y},S):s==="insideBottom"?fr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},S):s==="insideTopLeft"?fr({x:l+b,y:c+m,textAnchor:v,verticalAnchor:y},S):s==="insideTopRight"?fr({x:l+u-b,y:c+m,textAnchor:g,verticalAnchor:y},S):s==="insideBottomLeft"?fr({x:l+b,y:c+d-m,textAnchor:v,verticalAnchor:h},S):s==="insideBottomRight"?fr({x:l+u-b,y:c+d-m,textAnchor:g,verticalAnchor:h},S):Ou(s)&&(Ne(s.x)||Mi(s.x))&&(Ne(s.y)||Mi(s.y))?fr({x:l+sn(s.x,u),y:c+sn(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):fr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},m4e=function(e){return"cx"in e&&Ne(e.cx)};function kr(t){var e=t.offset,r=e===void 0?5:e,n=n4e(t,XBe),a=fr({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!s||Qe(l)&&Qe(c)&&!w.isValidElement(u)&&!Ye(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var h;if(Ye(u)){if(h=w.createElement(u,a),w.isValidElement(h))return h}else h=l4e(a);var y=m4e(s),p=Ge(a,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return u4e(a,h,p);var b=y?d4e(a):f4e(a);return G.createElement(nu,Pm({className:Le("recharts-label",f)},p,b,{breakAll:m}),h)}kr.displayName="Label";var S8=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,i=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,h=e.top,y=e.left,p=e.width,b=e.height,g=e.clockWise,v=e.labelViewBox;if(v)return v;if(Ne(p)&&Ne(b)){if(Ne(f)&&Ne(m))return{x:f,y:m,width:p,height:b};if(Ne(h)&&Ne(y))return{x:h,y,width:p,height:b}}return Ne(f)&&Ne(m)?{x:f,y:m,width:0,height:0}:Ne(r)&&Ne(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:e.viewBox?e.viewBox:{}},h4e=function(e,r){return e?e===!0?G.createElement(kr,{key:"label-implicit",viewBox:r}):gr(e)?G.createElement(kr,{key:"label-implicit",viewBox:r,value:e}):w.isValidElement(e)?e.type===kr?w.cloneElement(e,{key:"label-implicit",viewBox:r}):G.createElement(kr,{key:"label-implicit",content:e,viewBox:r}):Ye(e)?G.createElement(kr,{key:"label-implicit",content:e,viewBox:r}):Ou(e)?G.createElement(kr,Pm({viewBox:r},e,{key:"label-implicit"})):null:null},p4e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=S8(e),i=Ha(a,kr).map(function(c,u){return w.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=h4e(e.label,r||s);return[l].concat(QBe(i))};kr.parseViewBox=S8;kr.renderCallByParent=p4e;function g4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var y4e=g4e;const b4e=it(y4e);function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}var x4e=["valueAccessor"],v4e=["data","dataKey","clockWise","id","textBreakAll"];function j4e(t){return S4e(t)||C4e(t)||N4e(t)||w4e()}function w4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4e(t,e){if(t){if(typeof t=="string")return ck(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ck(t,e)}}function C4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S4e(t){if(Array.isArray(t))return ck(t)}function ck(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$0.apply(this,arguments)}function JL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(r),!0).forEach(function(n){A4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A4e(t,e,r){return e=I4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I4e(t){var e=k4e(t,"string");return Em(e)=="symbol"?e:e+""}function k4e(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QL(t,e){if(t==null)return{};var r=T4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var P4e=function(e){return Array.isArray(e.value)?b4e(e.value):e.value};function il(t){var e=t.valueAccessor,r=e===void 0?P4e:e,n=QL(t,x4e),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=QL(n,v4e);return!a||!a.length?null:G.createElement(Jt,{className:"recharts-label-list"},a.map(function(d,f){var m=Qe(s)?r(d,f):Sn(d&&d.payload,s),h=Qe(l)?{}:{id:"".concat(l,"-").concat(f)};return G.createElement(kr,$0({},Ge(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:kr.parseViewBox(Qe(i)?d:XL(XL({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}il.displayName="LabelList";function E4e(t,e){return t?t===!0?G.createElement(il,{key:"labelList-implicit",data:e}):G.isValidElement(t)||Ye(t)?G.createElement(il,{key:"labelList-implicit",data:e,content:t}):Ou(t)?G.createElement(il,$0({data:e},t,{key:"labelList-implicit"})):null:null}function D4e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Ha(n,il).map(function(i,l){return w.cloneElement(i,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=E4e(t.label,e);return[s].concat(j4e(a))}il.renderCallByParent=D4e;function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function uk(){return uk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uk.apply(this,arguments)}function ZL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(r),!0).forEach(function(n){O4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O4e(t,e,r){return e=_4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _4e(t){var e=R4e(t,"string");return Dm(e)=="symbol"?e:e+""}function R4e(t,e){if(Dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $4e=function(e,r){var n=Jn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},kp=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,i=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/R0,m=u?s:s+i*f,h=kt(r,n,d,m),y=kt(r,n,a,m),p=u?s-i*f:s,b=kt(r,n,d*Math.cos(f*R0),p);return{center:h,circleTangency:y,lineTangency:b,theta:f}},A8=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.startAngle,l=e.endAngle,c=$4e(i,l),u=i+c,d=kt(r,n,s,i),f=kt(r,n,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=kt(r,n,a,i),y=kt(r,n,a,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},M4e=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Jn(d-u),m=kp({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),h=m.circleTangency,y=m.lineTangency,p=m.theta,b=kp({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),g=b.circleTangency,v=b.lineTangency,j=b.theta,C=c?Math.abs(u-d):Math.abs(u-d)-p-j;if(C<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):A8({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var x="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var N=kp({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),S=N.circleTangency,A=N.lineTangency,I=N.theta,T=kp({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),E=T.circleTangency,R=T.lineTangency,M=T.theta,L=c?Math.abs(u-d):Math.abs(u-d)-I-M;if(L<0&&i===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},L4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},I8=function(e){var r=eF(eF({},L4e),e),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(i<s||d===f)return null;var h=Le("recharts-sector",m),y=i-s,p=sn(l,y,0,!0),b;return p>0&&Math.abs(d-f)<360?b=M4e({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):b=A8({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),G.createElement("path",uk({},Ge(r,!0),{className:h,d:b,role:"img"}))};function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function dk(){return dk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dk.apply(this,arguments)}function tF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tF(Object(r),!0).forEach(function(n){F4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F4e(t,e,r){return e=B4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B4e(t){var e=q4e(t,"string");return Om(e)=="symbol"?e:e+""}function q4e(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nF={curveBasisClosed:Mke,curveBasisOpen:Lke,curveBasis:$ke,curveBumpX:wke,curveBumpY:Nke,curveLinearClosed:Fke,curveLinear:Cw,curveMonotoneX:Bke,curveMonotoneY:qke,curveNatural:Vke,curveStep:Uke,curveStepAfter:Wke,curveStepBefore:zke},Tp=function(e){return e.x===+e.x&&e.y===+e.y},jd=function(e){return e.x},wd=function(e){return e.y},V4e=function(e,r){if(Ye(e))return e;var n="curve".concat(ww(e));return(n==="curveMonotone"||n==="curveBump")&&r?nF["".concat(n).concat(r==="vertical"?"Y":"X")]:nF[n]||Cw},U4e=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,i=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=V4e(n,l),f=u?s.filter(function(p){return Tp(p)}):s,m;if(Array.isArray(i)){var h=u?i.filter(function(p){return Tp(p)}):i,y=f.map(function(p,b){return rF(rF({},p),{},{base:h[b]})});return l==="vertical"?m=xp().y(wd).x1(jd).x0(function(p){return p.base.x}):m=xp().x(jd).y1(wd).y0(function(p){return p.base.y}),m.defined(Tp).curve(d),m(y)}return l==="vertical"&&Ne(i)?m=xp().y(wd).x1(jd).x0(i):Ne(i)?m=xp().x(jd).y1(wd).y0(i):m=Iz().x(jd).y(wd),m.defined(Tp).curve(d),m(f)},fk=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?U4e(e):a;return w.createElement("path",dk({},Ge(e,!1),l0(e),{className:Le("recharts-curve",r),d:i,ref:s}))},k8={exports:{}},z4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",W4e=z4e,H4e=W4e;function T8(){}function P8(){}P8.resetWarningCache=T8;var G4e=function(){function t(n,a,s,i,l,c){if(c!==H4e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:P8,resetWarningCache:T8};return r.PropTypes=r,r};k8.exports=G4e();var Y4e=k8.exports;const lt=it(Y4e);var K4e=Object.getOwnPropertyNames,J4e=Object.getOwnPropertySymbols,X4e=Object.prototype.hasOwnProperty;function aF(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function Pp(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function sF(t){return K4e(t).concat(J4e(t))}var Q4e=Object.hasOwn||function(t,e){return X4e.call(t,e)};function Ml(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Z4e="__v",e3e="__o",t3e="_owner",oF=Object.getOwnPropertyDescriptor,iF=Object.keys;function r3e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function n3e(t,e){return Ml(t.getTime(),e.getTime())}function a3e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function s3e(t,e){return t===e}function lF(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=i.value,h=l.value;if(r.equals(m[0],h[0],c,f,t,e,r)&&r.equals(m[1],h[1],m[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var o3e=Ml;function i3e(t,e,r){var n=iF(t),a=n.length;if(iF(e).length!==a)return!1;for(;a-- >0;)if(!E8(t,e,r,n[a]))return!1;return!0}function Nd(t,e,r){var n=sF(t),a=n.length;if(sF(e).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!E8(t,e,r,s)||(i=oF(t,s),l=oF(e,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function l3e(t,e){return Ml(t.valueOf(),e.valueOf())}function c3e(t,e){return t.source===e.source&&t.flags===e.flags}function cF(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),i,l;(i=s.next())&&!i.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function u3e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function d3e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function E8(t,e,r,n){return(n===t3e||n===e3e||n===Z4e)&&(t.$$typeof||e.$$typeof)?!0:Q4e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var f3e="[object Arguments]",m3e="[object Boolean]",h3e="[object Date]",p3e="[object Error]",g3e="[object Map]",y3e="[object Number]",b3e="[object Object]",x3e="[object RegExp]",v3e="[object Set]",j3e="[object String]",w3e="[object URL]",N3e=Array.isArray,uF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,dF=Object.assign,C3e=Object.prototype.toString.call.bind(Object.prototype.toString);function S3e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,i=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(y,p,b){if(y===p)return!0;if(y==null||p==null)return!1;var g=typeof y;if(g!==typeof p)return!1;if(g!=="object")return g==="number"?i(y,p,b):g==="function"?a(y,p,b):!1;var v=y.constructor;if(v!==p.constructor)return!1;if(v===Object)return l(y,p,b);if(N3e(y))return e(y,p,b);if(uF!=null&&uF(y))return f(y,p,b);if(v===Date)return r(y,p,b);if(v===RegExp)return u(y,p,b);if(v===Map)return s(y,p,b);if(v===Set)return d(y,p,b);var j=C3e(y);return j===h3e?r(y,p,b):j===x3e?u(y,p,b):j===g3e?s(y,p,b):j===v3e?d(y,p,b):j===b3e?typeof y.then!="function"&&typeof p.then!="function"&&l(y,p,b):j===w3e?m(y,p,b):j===p3e?n(y,p,b):j===f3e?l(y,p,b):j===m3e||j===y3e||j===j3e?c(y,p,b):!1}}function A3e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Nd:r3e,areDatesEqual:n3e,areErrorsEqual:a3e,areFunctionsEqual:s3e,areMapsEqual:n?aF(lF,Nd):lF,areNumbersEqual:o3e,areObjectsEqual:n?Nd:i3e,arePrimitiveWrappersEqual:l3e,areRegExpsEqual:c3e,areSetsEqual:n?aF(cF,Nd):cF,areTypedArraysEqual:n?Nd:u3e,areUrlsEqual:d3e};if(r&&(a=dF({},a,r(a))),e){var s=Pp(a.areArraysEqual),i=Pp(a.areMapsEqual),l=Pp(a.areObjectsEqual),c=Pp(a.areSetsEqual);a=dF({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function I3e(t){return function(e,r,n,a,s,i,l){return t(e,r,l)}}function k3e(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:a,meta:h,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var T3e=li();li({strict:!0});li({circular:!0});li({circular:!0,strict:!0});li({createInternalComparator:function(){return Ml}});li({strict:!0,createInternalComparator:function(){return Ml}});li({circular:!0,createInternalComparator:function(){return Ml}});li({circular:!0,createInternalComparator:function(){return Ml},strict:!0});function li(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,i=s===void 0?!1:s,l=A3e(t),c=S3e(l),u=n?n(c):I3e(c);return k3e({circular:r,comparator:c,createState:a,equals:u,strict:i})}function P3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function fF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):P3e(a)};requestAnimationFrame(n)}function mk(t){"@babel/helpers - typeof";return mk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mk(t)}function E3e(t){return R3e(t)||_3e(t)||O3e(t)||D3e()}function D3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O3e(t,e){if(t){if(typeof t=="string")return mF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mF(t,e)}}function mF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R3e(t){if(Array.isArray(t))return t}function $3e(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=E3e(i),c=l[0],u=l.slice(1);if(typeof c=="number"){fF(a.bind(null,u),c);return}a(c),fF(a.bind(null,u));return}mk(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function hF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(r),!0).forEach(function(n){D8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D8(t,e,r){return e=M3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M3e(t){var e=L3e(t,"string");return _m(e)==="symbol"?e:String(e)}function L3e(t,e){if(_m(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_m(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F3e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},B3e=function(e){return e},q3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jf=function(e,r){return Object.keys(r).reduce(function(n,a){return pF(pF({},n),{},D8({},a,e(a,r[a])))},{})},gF=function(e,r,n){return e.map(function(a){return"".concat(q3e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function V3e(t,e){return W3e(t)||z3e(t,e)||O8(t,e)||U3e()}function U3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function W3e(t){if(Array.isArray(t))return t}function H3e(t){return K3e(t)||Y3e(t)||O8(t)||G3e()}function G3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O8(t,e){if(t){if(typeof t=="string")return hk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hk(t,e)}}function Y3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K3e(t){if(Array.isArray(t))return hk(t)}function hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var M0=1e-4,_8=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},R8=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},yF=function(e,r){return function(n){var a=_8(e,r);return R8(a,n)}},J3e=function(e,r){return function(n){var a=_8(e,r),s=[].concat(H3e(a.map(function(i,l){return i*l}).slice(1)),[0]);return R8(s,n)}},bF=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=V3e(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=yF(a,i),m=yF(s,l),h=J3e(a,i),y=function(g){return g>1?1:g<0?0:g},p=function(g){for(var v=g>1?1:g,j=v,C=0;C<8;++C){var x=f(j)-v,N=h(j);if(Math.abs(x-v)<M0||N<M0)return m(j);j=y(j-x/N)}return m(j)};return p.isStepper=!1,p},X3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,i=e.dt,l=i===void 0?17:i,c=function(d,f,m){var h=-(d-f)*n,y=m*s,p=m+(h-y)*l/1e3,b=m*l/1e3+d;return Math.abs(b-f)<M0&&Math.abs(p)<M0?[f,0]:[b,p]};return c.isStepper=!0,c.dt=l,c},Q3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bF(a);case"spring":return X3e();default:if(a.split("(")[0]==="cubic-bezier")return bF(a)}return typeof a=="function"?a:null};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function xF(t){return tqe(t)||eqe(t)||$8(t)||Z3e()}function Z3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tqe(t){if(Array.isArray(t))return gk(t)}function vF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(r),!0).forEach(function(n){pk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pk(t,e,r){return e=rqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rqe(t){var e=nqe(t,"string");return Rm(e)==="symbol"?e:String(e)}function nqe(t,e){if(Rm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aqe(t,e){return iqe(t)||oqe(t,e)||$8(t,e)||sqe()}function sqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $8(t,e){if(t){if(typeof t=="string")return gk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gk(t,e)}}function gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function iqe(t){if(Array.isArray(t))return t}var L0=function(e,r,n){return e+(r-e)*n},yk=function(e){var r=e.from,n=e.to;return r!==n},lqe=function t(e,r,n){var a=jf(function(s,i){if(yk(i)){var l=e(i.from,i.to,i.velocity),c=aqe(l,2),u=c[0],d=c[1];return Sr(Sr({},i),{},{from:u,velocity:d})}return i},r);return n<1?jf(function(s,i){return yk(i)?Sr(Sr({},i),{},{velocity:L0(i.velocity,a[s].velocity,n),from:L0(i.from,a[s].from,n)}):i},r):t(e,a,n-1)};const cqe=function(t,e,r,n,a){var s=F3e(t,e),i=s.reduce(function(b,g){return Sr(Sr({},b),{},pk({},g,[t[g],e[g]]))},{}),l=s.reduce(function(b,g){return Sr(Sr({},b),{},pk({},g,{from:t[g],velocity:0,to:e[g]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return jf(function(g,v){return v.from},l)},h=function(){return!Object.values(l).filter(yk).length},y=function(g){u||(u=g);var v=g-u,j=v/r.dt;l=lqe(r,l,j),a(Sr(Sr(Sr({},t),e),m())),u=g,h()||(c=requestAnimationFrame(f))},p=function(g){d||(d=g);var v=(g-d)/n,j=jf(function(x,N){return L0.apply(void 0,xF(N).concat([r(v)]))},i);if(a(Sr(Sr(Sr({},t),e),j)),v<1)c=requestAnimationFrame(f);else{var C=jf(function(x,N){return L0.apply(void 0,xF(N).concat([r(1)]))},i);a(Sr(Sr(Sr({},t),e),C))}};return f=r.isStepper?y:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}var uqe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dqe(t,e){if(t==null)return{};var r=fqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fqe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function hC(t){return gqe(t)||pqe(t)||hqe(t)||mqe()}function mqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hqe(t,e){if(t){if(typeof t=="string")return bk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bk(t,e)}}function pqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gqe(t){if(Array.isArray(t))return bk(t)}function bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function la(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jF(Object(r),!0).forEach(function(n){Bd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bd(t,e,r){return e=M8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M8(n.key),n)}}function xqe(t,e,r){return e&&bqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M8(t){var e=vqe(t,"string");return cu(e)==="symbol"?e:String(e)}function vqe(t,e){if(cu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xk(t,e)}function xk(t,e){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xk(t,e)}function wqe(t){var e=Nqe();return function(){var n=F0(t),a;if(e){var s=F0(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return vk(this,a)}}function vk(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jk(t)}function jk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F0(t)}var Ho=function(t){jqe(r,t);var e=wqe(r);function r(n,a){var s;yqe(this,r),s=e.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,m=i.children,h=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(jk(s)),s.changeStyle=s.changeStyle.bind(jk(s)),!l||h<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),vk(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},vk(s);s.state={style:c?Bd({},c,u):u}}else s.state={style:{}};return s}return xqe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!i){var h={style:c?Bd({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(T3e(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=y||u?f:a.to;if(this.state&&m){var b={style:c?Bd({},c,p):p};(c&&m[c]!==p||!c&&m!==p)&&this.setState(b)}this.runAnimation(la(la({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=cqe(i,l,Q3e(u),c,this.changeStyle),y=function(){s.stopJSAnimation=h()};this.manager.start([m,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(p,b,g){if(g===0)return p;var v=b.duration,j=b.easing,C=j===void 0?"ease":j,x=b.style,N=b.properties,S=b.onAnimationEnd,A=g>0?i[g-1]:b,I=N||Object.keys(x);if(typeof C=="function"||C==="spring")return[].concat(hC(p),[s.runJSAnimation.bind(s,{from:A.style,to:x,duration:v,easing:C}),v]);var T=gF(I,v,C),E=la(la(la({},A.style),x),{},{transition:T});return[].concat(hC(p),[E,v,S]).filter(B3e)};return this.manager.start([c].concat(hC(i.reduce(h,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=$3e());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var p=l?Bd({},l,c):c,b=gF(Object.keys(p),i,u);y.start([d,s,la(la({},p),{},{transition:b}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=dqe(a,uqe),u=w.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(h){var y=h.props,p=y.style,b=p===void 0?{}:p,g=y.className,v=w.cloneElement(h,la(la({},c),{},{style:la(la({},b),d),className:g}));return v};return u===1?f(w.Children.only(s)):G.createElement("div",null,w.Children.map(s,function(m){return f(m)}))}}]),r}(w.PureComponent);Ho.displayName="Animate";Ho.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ho.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B0.apply(this,arguments)}function Cqe(t,e){return kqe(t)||Iqe(t,e)||Aqe(t,e)||Sqe()}function Sqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aqe(t,e){if(t){if(typeof t=="string")return wF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wF(t,e)}}function wF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Iqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function kqe(t){if(Array.isArray(t))return t}function NF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NF(Object(r),!0).forEach(function(n){Tqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tqe(t,e,r){return e=Pqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pqe(t){var e=Eqe(t,"string");return $m(e)=="symbol"?e:e+""}function Eqe(t,e){if($m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SF=function(e,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var y=Math.min(i,s);d="M ".concat(e,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(r,`
            L `).concat(e+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*y,`
            L `).concat(e+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-c*y,",").concat(r+a,`
            L `).concat(e+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*y," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Dqe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),m=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},Oqe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rE=function(e){var r=CF(CF({},Oqe),e),n=w.useRef(),a=w.useState(-1),s=Cqe(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,y=r.animationEasing,p=r.animationDuration,b=r.animationBegin,g=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=Le("recharts-rectangle",h);return v?G.createElement(Ho,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:y,isActive:v},function(C){var x=C.width,N=C.height,S=C.x,A=C.y;return G.createElement(Ho,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:p,isActive:g,easing:y},G.createElement("path",B0({},Ge(r,!0),{className:j,d:SF(S,A,x,N,m),ref:n})))}):G.createElement("path",B0({},Ge(r,!0),{className:j,d:SF(c,u,d,f,m)}))},_qe=["points","className","baseLinePoints","connectNulls"];function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uc.apply(this,arguments)}function Rqe(t,e){if(t==null)return{};var r=$qe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $qe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function AF(t){return Bqe(t)||Fqe(t)||Lqe(t)||Mqe()}function Mqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lqe(t,e){if(t){if(typeof t=="string")return wk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wk(t,e)}}function Fqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bqe(t){if(Array.isArray(t))return wk(t)}function wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var IF=function(e){return e&&e.x===+e.x&&e.y===+e.y},qqe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){IF(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),IF(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},wf=function(e,r){var n=qqe(e);r&&(n=[n.reduce(function(s,i){return[].concat(AF(s),AF(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Vqe=function(e,r,n){var a=wf(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(wf(r.reverse(),n).slice(1))},Uqe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,i=Rqe(e,_qe);if(!r||!r.length)return null;var l=Le("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=Vqe(r,a,s);return G.createElement("g",{className:l},G.createElement("path",uc({},Ge(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?G.createElement("path",uc({},Ge(i,!0),{fill:"none",d:wf(r,s)})):null,c?G.createElement("path",uc({},Ge(i,!0),{fill:"none",d:wf(a,s)})):null)}var d=wf(r,s);return G.createElement("path",uc({},Ge(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function Nk(){return Nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nk.apply(this,arguments)}var nE=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,i=Le("recharts-dot",s);return r===+r&&n===+n&&a===+a?w.createElement("circle",Nk({},Ge(e,!1),l0(e),{className:i,cx:r,cy:n,r:a})):null};function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}var zqe=["x","y","top","left","width","height","className"];function Ck(){return Ck=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ck.apply(this,arguments)}function kF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wqe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(r),!0).forEach(function(n){Hqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hqe(t,e,r){return e=Gqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gqe(t){var e=Yqe(t,"string");return Mm(e)=="symbol"?e:e+""}function Yqe(t,e){if(Mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kqe(t,e){if(t==null)return{};var r=Jqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Xqe=function(e,r,n,a,s,i){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},Qqe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.top,l=i===void 0?0:i,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,h=m===void 0?0:m,y=e.className,p=Kqe(e,zqe),b=Wqe({x:n,y:s,top:l,left:u,width:f,height:h},p);return!Ne(n)||!Ne(s)||!Ne(f)||!Ne(h)||!Ne(l)||!Ne(u)?null:G.createElement("path",Ck({},Ge(b,!0),{className:Le("recharts-cross",y),d:Xqe(n,s,f,h,l,u)}))},Zqe=Mw,e6e=e8,t6e=si;function r6e(t,e){return t&&t.length?Zqe(t,t6e(e),e6e):void 0}var n6e=r6e;const a6e=it(n6e);var s6e=Mw,o6e=si,i6e=t8;function l6e(t,e){return t&&t.length?s6e(t,o6e(e),i6e):void 0}var c6e=l6e;const u6e=it(c6e);var d6e=["cx","cy","angle","ticks","axisLine"],f6e=["ticks","tick","angle","tickFormatter","stroke"];function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nf.apply(this,arguments)}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){Vw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PF(t,e){if(t==null)return{};var r=m6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function h6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F8(n.key),n)}}function p6e(t,e,r){return e&&EF(t.prototype,e),r&&EF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g6e(t,e,r){return e=q0(e),y6e(t,L8()?Reflect.construct(e,r||[],q0(t).constructor):e.apply(t,r))}function y6e(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b6e(t)}function b6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L8=function(){return!!t})()}function q0(t){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q0(t)}function x6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sk(t,e)}function Sk(t,e){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(t,e)}function Vw(t,e,r){return e=F8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F8(t){var e=v6e(t,"string");return uu(e)=="symbol"?e:e+""}function v6e(t,e){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uw=function(t){function e(){return h6e(this,e),g6e(this,e,arguments)}return x6e(e,t),p6e(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return kt(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=a6e(l,function(d){return d.coordinate||0}),u=u6e(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=PF(n,d6e),d=l.reduce(function(y,p){return[Math.min(y[0],p.coordinate),Math.max(y[1],p.coordinate)]},[1/0,-1/0]),f=kt(a,s,d[0],i),m=kt(a,s,d[1],i),h=yi(yi(yi({},Ge(u,!1)),{},{fill:"none"},Ge(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return G.createElement("line",Nf({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=PF(a,f6e),f=this.getTickTextAnchor(),m=Ge(d,!1),h=Ge(i,!1),y=s.map(function(p,b){var g=n.getTickValueCoord(p),v=yi(yi(yi(yi({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:b},g),{},{payload:p});return G.createElement(Jt,Nf({className:Le("recharts-polar-radius-axis-tick",C8(i)),key:"tick-".concat(p.coordinate)},jw(n.props,p,b)),e.renderTickItem(i,v,c?c(p.value,b):p.value))});return G.createElement(Jt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:G.createElement(Jt,{className:Le("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),kr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return G.isValidElement(n)?i=G.cloneElement(n,a):Ye(n)?i=n(a):i=G.createElement(nu,Nf({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(w.PureComponent);Vw(Uw,"displayName","PolarRadiusAxis");Vw(Uw,"axisType","radiusAxis");Vw(Uw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function ki(){return ki=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ki.apply(this,arguments)}function DF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DF(Object(r),!0).forEach(function(n){zw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q8(n.key),n)}}function w6e(t,e,r){return e&&OF(t.prototype,e),r&&OF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function N6e(t,e,r){return e=V0(e),C6e(t,B8()?Reflect.construct(e,r||[],V0(t).constructor):e.apply(t,r))}function C6e(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S6e(t)}function S6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B8=function(){return!!t})()}function V0(t){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V0(t)}function A6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ak(t,e)}function Ak(t,e){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ak(t,e)}function zw(t,e,r){return e=q8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q8(t){var e=I6e(t,"string");return du(e)=="symbol"?e:e+""}function I6e(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k6e=Math.PI/180,_F=1e-5,Ww=function(t){function e(){return j6e(this,e),N6e(this,e,arguments)}return A6e(e,t),w6e(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=kt(s,i,l,n.coordinate),m=kt(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*k6e),i;return s>_F?i=a==="outer"?"start":"end":s<-_F?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=bi(bi({},Ge(this.props,!1)),{},{fill:"none"},Ge(l,!1));if(c==="circle")return G.createElement(nE,ki({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(m){return kt(a,s,i,m.coordinate)});return G.createElement(Uqe,ki({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Ge(this.props,!1),f=Ge(i,!1),m=bi(bi({},d),{},{fill:"none"},Ge(l,!1)),h=s.map(function(y,p){var b=n.getTickLineCoord(y),g=n.getTickTextAnchor(y),v=bi(bi(bi({textAnchor:g},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:y,x:b.x2,y:b.y2});return G.createElement(Jt,ki({className:Le("recharts-polar-angle-axis-tick",C8(i)),key:"tick-".concat(y.coordinate)},jw(n.props,y,p)),l&&G.createElement("line",ki({className:"recharts-polar-angle-axis-tick-line"},m,b)),i&&e.renderTickItem(i,v,c?c(y.value,p):y.value))});return G.createElement(Jt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:G.createElement(Jt,{className:Le("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return G.isValidElement(n)?i=G.cloneElement(n,a):Ye(n)?i=n(a):i=G.createElement(nu,ki({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(w.PureComponent);zw(Ww,"displayName","PolarAngleAxis");zw(Ww,"axisType","angleAxis");zw(Ww,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var T6e=Xz,P6e=T6e(Object.getPrototypeOf,Object),E6e=P6e,D6e=Gs,O6e=E6e,_6e=Ys,R6e="[object Object]",$6e=Function.prototype,M6e=Object.prototype,V8=$6e.toString,L6e=M6e.hasOwnProperty,F6e=V8.call(Object);function B6e(t){if(!_6e(t)||D6e(t)!=R6e)return!1;var e=O6e(t);if(e===null)return!0;var r=L6e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&V8.call(r)==F6e}var q6e=B6e;const V6e=it(q6e);var U6e=Gs,z6e=Ys,W6e="[object Boolean]";function H6e(t){return t===!0||t===!1||z6e(t)&&U6e(t)==W6e}var G6e=H6e;const Y6e=it(G6e);function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U0.apply(this,arguments)}function K6e(t,e){return Z6e(t)||Q6e(t,e)||X6e(t,e)||J6e()}function J6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6e(t,e){if(t){if(typeof t=="string")return RF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RF(t,e)}}function RF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Z6e(t){if(Array.isArray(t))return t}function $F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function MF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(r),!0).forEach(function(n){eVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eVe(t,e,r){return e=tVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tVe(t){var e=rVe(t,"string");return Lm(e)=="symbol"?e:e+""}function rVe(t,e){if(Lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LF=function(e,r,n,a,s){var i=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-i/2,",").concat(r+s),l+="L ".concat(e+n-i/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},nVe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aVe=function(e){var r=MF(MF({},nVe),e),n=w.useRef(),a=w.useState(-1),s=K6e(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,y=r.animationEasing,p=r.animationDuration,b=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var v=Le("recharts-trapezoid",h);return g?G.createElement(Ho,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:p,animationEasing:y,isActive:g},function(j){var C=j.upperWidth,x=j.lowerWidth,N=j.height,S=j.x,A=j.y;return G.createElement(Ho,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:p,easing:y},G.createElement("path",U0({},Ge(r,!0),{className:v,d:LF(S,A,C,x,N),ref:n})))}):G.createElement("g",null,G.createElement("path",U0({},Ge(r,!0),{className:v,d:LF(c,u,d,f,m)})))},sVe=["option","shapeType","propTransformer","activeClassName","isActive"];function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function oVe(t,e){if(t==null)return{};var r=iVe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function z0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(n){lVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lVe(t,e,r){return e=cVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cVe(t){var e=uVe(t,"string");return Fm(e)=="symbol"?e:e+""}function uVe(t,e){if(Fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dVe(t,e){return z0(z0({},e),t)}function fVe(t,e){return t==="symbols"}function BF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return G.createElement(rE,r);case"trapezoid":return G.createElement(aVe,r);case"sector":return G.createElement(I8,r);case"symbols":if(fVe(e))return G.createElement(b2,r);break;default:return null}}function mVe(t){return w.isValidElement(t)?t.props:t}function hVe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?dVe:n,s=t.activeClassName,i=s===void 0?"recharts-active-shape":s,l=t.isActive,c=oVe(t,sVe),u;if(w.isValidElement(e))u=w.cloneElement(e,z0(z0({},c),mVe(e)));else if(Ye(e))u=e(c);else if(V6e(e)&&!Y6e(e)){var d=a(e,c);u=G.createElement(BF,{shapeType:r,elementProps:d})}else{var f=c;u=G.createElement(BF,{shapeType:r,elementProps:f})}return l?G.createElement(Jt,{className:i},u):u}function Hw(t,e){return e!=null&&"trapezoids"in t.props}function Gw(t,e){return e!=null&&"sectors"in t.props}function Bm(t,e){return e!=null&&"points"in t.props}function pVe(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function gVe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function yVe(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function bVe(t,e){var r;return Hw(t,e)?r=pVe:Gw(t,e)?r=gVe:Bm(t,e)&&(r=yVe),r}function xVe(t,e){var r;return Hw(t,e)?r="trapezoids":Gw(t,e)?r="sectors":Bm(t,e)&&(r="points"),r}function vVe(t,e){if(Hw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Gw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Bm(t,e)?e.payload:{}}function jVe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=xVe(r,e),s=vVe(r,e),i=n.filter(function(c,u){var d=X2(s,c),f=r.props[a].filter(function(y){var p=bVe(r,e);return p(y,e)}),m=r.props[a].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(i[i.length-1]);return l}var Kb;function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dc.apply(this,arguments)}function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){Yn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z8(n.key),n)}}function NVe(t,e,r){return e&&VF(t.prototype,e),r&&VF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CVe(t,e,r){return e=W0(e),SVe(t,U8()?Reflect.construct(e,r||[],W0(t).constructor):e.apply(t,r))}function SVe(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AVe(t)}function AVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U8=function(){return!!t})()}function W0(t){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W0(t)}function IVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ik(t,e)}function Ik(t,e){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ik(t,e)}function Yn(t,e,r){return e=z8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z8(t){var e=kVe(t,"string");return fu(e)=="symbol"?e:e+""}function kVe(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oa=function(t){function e(r){var n;return wVe(this,e),n=CVe(this,e,[r]),Yn(n,"pieRef",null),Yn(n,"sectorRefs",[]),Yn(n,"id",vw("recharts-pie-")),Yn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ye(a)&&a()}),Yn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ye(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return IVe(e,t),NVe(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Ge(this.props,!1),f=Ge(i,!1),m=Ge(l,!1),h=i&&i.offsetRadius||20,y=n.map(function(p,b){var g=(p.startAngle+p.endAngle)/2,v=kt(p.cx,p.cy,p.outerRadius+h,g),j=Nt(Nt(Nt(Nt({},d),p),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(v.x,p.cx)},v),C=Nt(Nt(Nt(Nt({},d),p),{},{fill:"none",stroke:p.fill},m),{},{index:b,points:[kt(p.cx,p.cy,p.outerRadius,g),v]}),x=c;return Qe(c)&&Qe(u)?x="value":Qe(c)&&(x=u),G.createElement(Jt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(i,j,Sn(p,x)))});return G.createElement(Jt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,h=f?i:m,y=Nt(Nt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return G.createElement(Jt,dc({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},jw(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),G.createElement(hVe,dc({option:h,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return G.createElement(Ho,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var p=y.t,b=[],g=s&&s[0],v=g.startAngle;return s.forEach(function(j,C){var x=m&&m[C],N=C>0?ja(j,"paddingAngle",0):0;if(x){var S=_$(x.endAngle-x.startAngle,j.endAngle-j.startAngle),A=Nt(Nt({},j),{},{startAngle:v+N,endAngle:v+S(p)+N});b.push(A),v=A.endAngle}else{var I=j.endAngle,T=j.startAngle,E=_$(0,I-T),R=E(p),M=Nt(Nt({},j),{},{startAngle:v+N,endAngle:v+R+N});b.push(M),v=M.endAngle}}),G.createElement(Jt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!X2(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,y=this.state.isAnimationFinished;if(s||!i||!i.length||!Ne(u)||!Ne(d)||!Ne(f)||!Ne(m))return null;var p=Le("recharts-pie",l);return G.createElement(Jt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(g){n.pieRef=g}},this.renderSectors(),c&&this.renderLabels(i),kr.renderCallByParent(this.props,null,!1),(!h||y)&&il.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(G.isValidElement(n))return G.cloneElement(n,a);if(Ye(n))return n(a);var i=Le("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return G.createElement(fk,dc({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(G.isValidElement(n))return G.cloneElement(n,a);var i=s;if(Ye(n)&&(i=n(a),G.isValidElement(i)))return i;var l=Le("recharts-pie-label-text",typeof n!="boolean"&&!Ye(n)?n.className:"");return G.createElement(nu,dc({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(w.PureComponent);Kb=oa;Yn(oa,"displayName","Pie");Yn(oa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Tw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Yn(oa,"parseDeltaAngle",function(t,e){var r=Jn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Yn(oa,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ge(t,!1),a=Ha(r,Bu);return e&&e.length?e.map(function(s,i){return Nt(Nt(Nt({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return Nt(Nt({},n),s.props)}):[]});Yn(oa,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,i=N8(a,s),l=n+sn(t.cx,a,a/2),c=r+sn(t.cy,s,s/2),u=sn(t.innerRadius,i,0),d=sn(t.outerRadius,i,i*.8),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Yn(oa,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Nt(Nt({},e.type.defaultProps),e.props):e.props,a=Kb.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),y=Kb.parseCoordinateOfPie(n,r),p=Kb.parseDeltaAngle(i,l),b=Math.abs(p),g=u;Qe(u)&&Qe(f)?(Is(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):Qe(u)&&(Is(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=f);var v=a.filter(function(A){return Sn(A,g,0)!==0}).length,j=(b>=360?v:v-1)*c,C=b-v*h-j,x=a.reduce(function(A,I){var T=Sn(I,g,0);return A+(Ne(T)?T:0)},0),N;if(x>0){var S;N=a.map(function(A,I){var T=Sn(A,g,0),E=Sn(A,d,I),R=(Ne(T)?T:0)/x,M;I?M=S.endAngle+Jn(p)*c*(T!==0?1:0):M=i;var L=M+Jn(p)*((T!==0?h:0)+R*C),P=(M+L)/2,_=(y.innerRadius+y.outerRadius)/2,q=[{name:E,value:T,payload:A,dataKey:g,type:m}],F=kt(y.cx,y.cy,_,P);return S=Nt(Nt(Nt({percent:R,cornerRadius:s,name:E,tooltipPayload:q,midAngle:P,middleRadius:_,tooltipPosition:F},A),y),{},{value:Sn(A,g),startAngle:M,endAngle:L,payload:A,paddingAngle:Jn(p)*c}),S})}return Nt(Nt({},y),{},{sectors:N,data:a})});var TVe=Math.ceil,PVe=Math.max;function EVe(t,e,r,n){for(var a=-1,s=PVe(TVe((e-t)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=t,t+=r;return i}var DVe=EVe,OVe=p7,UF=1/0,_Ve=17976931348623157e292;function RVe(t){if(!t)return t===0?t:0;if(t=OVe(t),t===UF||t===-UF){var e=t<0?-1:1;return e*_Ve}return t===t?t:0}var $Ve=RVe,MVe=DVe,LVe=kw,pC=$Ve;function FVe(t){return function(e,r,n){return n&&typeof n!="number"&&LVe(e,r,n)&&(r=n=void 0),e=pC(e),r===void 0?(r=e,e=0):r=pC(r),n=n===void 0?e<r?1:-1:pC(n),MVe(e,r,n,t)}}var BVe=FVe,qVe=BVe,VVe=qVe(),UVe=VVe;const H0=it(UVe);function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function zF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function WF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(r),!0).forEach(function(n){W8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W8(t,e,r){return e=zVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zVe(t){var e=WVe(t,"string");return qm(e)=="symbol"?e:e+""}function WVe(t,e){if(qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HVe=["Webkit","Moz","O","ms"],GVe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=HVe.reduce(function(s,i){return WF(WF({},s),{},W8({},i+n,r))},{});return a[e]=r,a};function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G0.apply(this,arguments)}function HF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HF(Object(r),!0).forEach(function(n){wn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G8(n.key),n)}}function KVe(t,e,r){return e&&GF(t.prototype,e),r&&GF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JVe(t,e,r){return e=Y0(e),XVe(t,H8()?Reflect.construct(e,r||[],Y0(t).constructor):e.apply(t,r))}function XVe(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QVe(t)}function QVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H8=function(){return!!t})()}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y0(t)}function ZVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kk(t,e)}function kk(t,e){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kk(t,e)}function wn(t,e,r){return e=G8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G8(t){var e=eUe(t,"string");return mu(e)=="symbol"?e:e+""}function eUe(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tUe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,i=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=xf().domain(H0(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},YF=function(e){return e.changedTouches&&!!e.changedTouches.length},hu=function(t){function e(r){var n;return YVe(this,e),n=JVe(this,e,[r]),wn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),wn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),wn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),wn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),wn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),wn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),wn(n,"handleSlideDragStart",function(a){var s=YF(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ZVe(e,t),KVe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),m=Math.max(a,s),h=e.getIndexInRange(i,f),y=e.getIndexInRange(i,m);return{startIndex:h-h%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=Sn(s[n],l,n);return Ye(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,y=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+d-f-l,u+d-f-i):p<0&&(p=Math.max(p,u-i,u-l));var b=this.getIndex({startX:i+p,endX:l+p});(b.startIndex!==m||b.endIndex!==h)&&y&&y(b),this.setState({startX:i+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=YF(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,y=d.onChange,p=d.gap,b=d.data,g={startX:this.state.startX,endX:this.state.endX},v=n.pageX-s;v>0?v=Math.min(v,f+m-h-u):v<0&&(v=Math.max(v,f-u)),g[i]=u+v;var j=this.getIndex(g),C=j.startIndex,x=j.endIndex,N=function(){var A=b.length-1;return i==="startX"&&(l>c?C%p===0:x%p===0)||l<c&&x===A||i==="endX"&&(l>c?x%p===0:C%p===0)||l>c&&x===A};this.setState(wn(wn({},i,u+v),"brushMoveStartX",n.pageX),function(){y&&N()&&y(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(wn({},a,h),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return G.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?G.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,y=c.data,p=c.startIndex,b=c.endIndex,g=Math.max(n,this.props.x),v=gC(gC({},Ge(this.props,!1)),{},{x:g,y:u,width:d,height:f}),j=h||"Min value: ".concat((s=y[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=y[b])===null||i===void 0?void 0:i.name);return G.createElement(Jt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),l.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,v))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,y={pointerEvents:"none",fill:u};return G.createElement(Jt,{className:"recharts-brush-texts"},G.createElement(nu,G0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:i+l/2},y),this.getTextOfTick(a)),G.createElement(nu,G0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:i+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,y=m.endX,p=m.isTextActive,b=m.isSlideMoving,g=m.isTravellerMoving,v=m.isTravellerFocused;if(!a||!a.length||!Ne(l)||!Ne(c)||!Ne(u)||!Ne(d)||u<=0||d<=0)return null;var j=Le("recharts-brush",s),C=G.Children.count(i)===1,x=GVe("userSelect","none");return G.createElement(Jt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(h,y),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(y,"endX"),(p||b||g||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),G.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return G.isValidElement(n)?s=G.cloneElement(n,a):Ye(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return gC({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?tUe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(w.PureComponent);wn(hu,"displayName","Brush");wn(hu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rUe=A2;function nUe(t,e){var r;return rUe(t,function(n,a,s){return r=e(n,a,s),!r}),!!r}var aUe=nUe,sUe=Uz,oUe=si,iUe=aUe,lUe=xn,cUe=kw;function uUe(t,e,r){var n=lUe(t)?sUe:iUe;return r&&cUe(t,e,r)&&(e=void 0),n(t,oUe(e))}var dUe=uUe;const fUe=it(dUe);var Ka=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},KF=u7;function mUe(t,e,r){e=="__proto__"&&KF?KF(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var hUe=mUe,pUe=hUe,gUe=l7,yUe=si;function bUe(t,e){var r={};return e=yUe(e),gUe(t,function(n,a,s){pUe(r,a,e(n,a,s))}),r}var xUe=bUe;const vUe=it(xUe);function jUe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var wUe=jUe,NUe=A2;function CUe(t,e){var r=!0;return NUe(t,function(n,a,s){return r=!!e(n,a,s),r}),r}var SUe=CUe,AUe=wUe,IUe=SUe,kUe=si,TUe=xn,PUe=kw;function EUe(t,e,r){var n=TUe(t)?AUe:IUe;return r&&PUe(t,e,r)&&(e=void 0),n(t,kUe(e))}var DUe=EUe;const OUe=it(DUe);function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function _Ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y8(n.key),n)}}function RUe(t,e,r){return e&&JF(t.prototype,e),r&&JF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XF(Object(r),!0).forEach(function(n){aE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aE(t,e,r){return e=Y8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y8(t){var e=$Ue(t,"string");return Vm(e)=="symbol"?e:e+""}function $Ue(t,e){if(Vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K8=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},MUe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return K8({x:r,y:n},{x:a,y:s})},J8=function(){function t(e){_Ue(this,t),this.scale=e}return RUe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();aE(J8,"EPS",1e-4);var sE=function(e){var r=Object.keys(e).reduce(function(n,a){return Ep(Ep({},n),{},aE({},a,J8.create(e[a])))},{});return Ep(Ep({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return vUe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return OUe(a,function(s,i){return r[i].isInRange(s)})}})},LUe=gAe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),X8=w.createContext(void 0),Q8=w.createContext(void 0),Z8=w.createContext(void 0),FUe=w.createContext({}),e9=w.createContext(void 0),BUe=w.createContext(0),qUe=w.createContext(0),QF=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=e.clipPathId,l=e.children,c=e.width,u=e.height,d=LUe(s);return G.createElement(X8.Provider,{value:n},G.createElement(Q8.Provider,{value:a},G.createElement(FUe.Provider,{value:s},G.createElement(Z8.Provider,{value:d},G.createElement(e9.Provider,{value:i},G.createElement(BUe.Provider,{value:u},G.createElement(qUe.Provider,{value:c},l)))))))},VUe=function(){return w.useContext(e9)},UUe=function(e){var r=w.useContext(X8);r==null&&iu();var n=r[e];return n==null&&iu(),n},zUe=function(e){var r=w.useContext(Q8);r==null&&iu();var n=r[e];return n==null&&iu(),n},WUe=function(){var e=w.useContext(Z8);return e};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function HUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r9(n.key),n)}}function YUe(t,e,r){return e&&GUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KUe(t,e,r){return e=K0(e),JUe(t,t9()?Reflect.construct(e,r||[],K0(t).constructor):e.apply(t,r))}function JUe(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XUe(t)}function XUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K0(t)}function QUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tk(t,e)}function Tk(t,e){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tk(t,e)}function ZF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function e5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(r),!0).forEach(function(n){oE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oE(t,e,r){return e=r9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r9(t){var e=ZUe(t,"string");return pu(e)=="symbol"?e:e+""}function ZUe(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eze(t,e){return aze(t)||nze(t,e)||rze(t,e)||tze()}function tze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rze(t,e){if(t){if(typeof t=="string")return t5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t5(t,e)}}function t5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function aze(t){if(Array.isArray(t))return t}function Pk(){return Pk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pk.apply(this,arguments)}var sze=function(e,r){var n;return G.isValidElement(e)?n=G.cloneElement(e,r):Ye(e)?n=e(r):n=G.createElement("line",Pk({},r,{className:"recharts-reference-line-line"})),n},oze=function(e,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,m=s.width,h=s.height;if(n){var y=u.y,p=e.y.apply(y,{position:i});if(Ka(u,"discard")&&!e.y.isInRange(p))return null;var b=[{x:d+m,y:p},{x:d,y:p}];return c==="left"?b.reverse():b}if(r){var g=u.x,v=e.x.apply(g,{position:i});if(Ka(u,"discard")&&!e.x.isInRange(v))return null;var j=[{x:v,y:f+h},{x:v,y:f}];return l==="top"?j.reverse():j}if(a){var C=u.segment,x=C.map(function(N){return e.apply(N,{position:i})});return Ka(u,"discard")&&fUe(x,function(N){return!e.isInRange(N)})?null:x}return null};function ize(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,i=t.shape,l=t.className,c=t.alwaysShow,u=VUe(),d=UUe(a),f=zUe(s),m=WUe();if(!u||!m)return null;Is(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=sE({x:d.scale,y:f.scale}),y=gr(e),p=gr(r),b=n&&n.length===2,g=oze(h,y,p,b,m,t.position,d.orientation,f.orientation,t);if(!g)return null;var v=eze(g,2),j=v[0],C=j.x,x=j.y,N=v[1],S=N.x,A=N.y,I=Ka(t,"hidden")?"url(#".concat(u,")"):void 0,T=e5(e5({clipPath:I},Ge(t,!0)),{},{x1:C,y1:x,x2:S,y2:A});return G.createElement(Jt,{className:Le("recharts-reference-line",l)},sze(i,T),kr.renderCallByParent(t,MUe({x1:C,y1:x,x2:S,y2:A})))}var iE=function(t){function e(){return HUe(this,e),KUe(this,e,arguments)}return QUe(e,t),YUe(e,[{key:"render",value:function(){return G.createElement(ize,this.props)}}])}(G.Component);oE(iE,"displayName","ReferenceLine");oE(iE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ek(){return Ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ek.apply(this,arguments)}function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function r5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function n5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(r),!0).forEach(function(n){Yw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a9(n.key),n)}}function uze(t,e,r){return e&&cze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dze(t,e,r){return e=J0(e),fze(t,n9()?Reflect.construct(e,r||[],J0(t).constructor):e.apply(t,r))}function fze(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mze(t)}function mze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n9=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J0(t)}function hze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dk(t,e)}function Dk(t,e){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dk(t,e)}function Yw(t,e,r){return e=a9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a9(t){var e=pze(t,"string");return gu(e)=="symbol"?e:e+""}function pze(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gze=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,i=sE({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Ka(e,"discard")&&!i.isInRange(l)?null:l},Kw=function(t){function e(){return lze(this,e),dze(this,e,arguments)}return hze(e,t),uze(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=gr(a),d=gr(s);if(Is(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=gze(this.props);if(!f)return null;var m=f.x,h=f.y,y=this.props,p=y.shape,b=y.className,g=Ka(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=n5(n5({clipPath:g},Ge(this.props,!0)),{},{cx:m,cy:h});return G.createElement(Jt,{className:Le("recharts-reference-dot",b)},e.renderDot(p,v),kr.renderCallByParent(this.props,{x:m-i,y:h-i,width:2*i,height:2*i}))}}])}(G.Component);Yw(Kw,"displayName","ReferenceDot");Yw(Kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Yw(Kw,"renderDot",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Ye(t)?r=t(e):r=G.createElement(nE,Ek({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Ok(){return Ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ok.apply(this,arguments)}function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function a5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function s5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(r),!0).forEach(function(n){Jw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o9(n.key),n)}}function xze(t,e,r){return e&&bze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vze(t,e,r){return e=X0(e),jze(t,s9()?Reflect.construct(e,r||[],X0(t).constructor):e.apply(t,r))}function jze(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wze(t)}function wze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s9=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X0(t)}function Nze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_k(t,e)}function _k(t,e){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_k(t,e)}function Jw(t,e,r){return e=o9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o9(t){var e=Cze(t,"string");return yu(e)=="symbol"?e:e+""}function Cze(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sze=function(e,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=sE({x:d.scale,y:f.scale}),h={x:e?m.x.apply(i,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},y={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Ka(s,"discard")&&(!m.isInRange(h)||!m.isInRange(y))?null:K8(h,y)},Xw=function(t){function e(){return yze(this,e),vze(this,e,arguments)}return Nze(e,t),xze(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Is(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=gr(a),m=gr(s),h=gr(i),y=gr(l),p=this.props.shape;if(!f&&!m&&!h&&!y&&!p)return null;var b=Sze(f,m,h,y,this.props);if(!b&&!p)return null;var g=Ka(this.props,"hidden")?"url(#".concat(d,")"):void 0;return G.createElement(Jt,{className:Le("recharts-reference-area",c)},e.renderRect(p,s5(s5({clipPath:g},Ge(this.props,!0)),b)),kr.renderCallByParent(this.props,b))}}])}(G.Component);Jw(Xw,"displayName","ReferenceArea");Jw(Xw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jw(Xw,"renderRect",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Ye(t)?r=t(e):r=G.createElement(rE,Ok({},e,{className:"recharts-reference-area-rect"})),r});function o5(t){return Tze(t)||kze(t)||Ize(t)||Aze()}function Aze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ize(t,e){if(t){if(typeof t=="string")return Rk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rk(t,e)}}function kze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tze(t){if(Array.isArray(t))return Rk(t)}function Rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $k=function(e,r,n,a,s){var i=Ha(e,iE),l=Ha(e,Kw),c=[].concat(o5(i),o5(l)),u=Ha(e,Xw),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(p,b){if(b.props[d]===n&&Ka(b.props,"extendDomain")&&Ne(b.props[f])){var g=b.props[f];return[Math.min(p[0],g),Math.max(p[1],g)]}return p},m)),u.length){var h="".concat(f,"1"),y="".concat(f,"2");m=u.reduce(function(p,b){if(b.props[d]===n&&Ka(b.props,"extendDomain")&&Ne(b.props[h])&&Ne(b.props[y])){var g=b.props[h],v=b.props[y];return[Math.min(p[0],g,v),Math.max(p[1],g,v)]}return p},m)}return s&&s.length&&(m=s.reduce(function(p,b){return Ne(b)?[Math.min(p[0],b),Math.max(p[1],b)]:p},m)),m},i9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],h]:c._events[y].push(h):(c._events[y]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,y=new Array(h);m<h;m++)y[m]=f[m].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,y){var p=r?r+u:u;if(!this._events[p])return!1;var b=this._events[p],g=arguments.length,v,j;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),g){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,m),!0;case 5:return b.fn.call(b.context,d,f,m,h),!0;case 6:return b.fn.call(b.context,d,f,m,h,y),!0}for(j=1,v=new Array(g-1);j<g;j++)v[j-1]=arguments[j];b.fn.apply(b.context,v)}else{var C=b.length,x;for(j=0;j<C;j++)switch(b[j].once&&this.removeListener(u,b[j].fn,void 0,!0),g){case 1:b[j].fn.call(b[j].context);break;case 2:b[j].fn.call(b[j].context,d);break;case 3:b[j].fn.call(b[j].context,d,f);break;case 4:b[j].fn.call(b[j].context,d,f,m);break;default:if(!v)for(x=1,v=new Array(g-1);x<g;x++)v[x-1]=arguments[x];b[j].fn.apply(b[j].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var y=this._events[h];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&i(this,h);else{for(var p=0,b=[],g=y.length;p<g;p++)(y[p].fn!==d||m&&!y[p].once||f&&y[p].context!==f)&&b.push(y[p]);b.length?this._events[h]=b.length===1?b[0]:b:i(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(i9);var Pze=i9.exports;const Eze=it(Pze);var yC=new Eze,bC="recharts.syncMouseEvents";function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function Dze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l9(n.key),n)}}function _ze(t,e,r){return e&&Oze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xC(t,e,r){return e=l9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l9(t){var e=Rze(t,"string");return Um(e)=="symbol"?e:e+""}function Rze(t,e){if(Um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $ze=function(){function t(){Dze(this,t),xC(this,"activeIndex",0),xC(this,"coordinateList",[]),xC(this,"layout","horizontal")}return _ze(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,m=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function Mze(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Ne(n)&&Ne(a))return!0}return!1}function Lze(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function c9(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,i=kt(e,r,n,a),l=kt(e,r,n,s);return{points:[i,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function Fze(t,e,r){var n,a,s,i;if(t==="horizontal")n=e.x,s=n,a=r.top,i=r.top+r.height;else if(t==="vertical")a=e.y,i=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=kt(l,c,u,f),h=kt(l,c,d,f);n=m.x,a=m.y,s=h.x,i=h.y}else return c9(e);return[{x:n,y:a},{x:s,y:i}]}function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function i5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(r),!0).forEach(function(n){Bze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bze(t,e,r){return e=qze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qze(t){var e=Vze(t,"string");return zm(e)=="symbol"?e:e+""}function Vze(t,e){if(zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uze(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,i=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!s||!i||m!=="ScatterChart"&&a!=="axis")return null;var y,p=fk;if(m==="ScatterChart")y=i,p=Qqe;else if(m==="BarChart")y=Lze(f,i,c,d),p=rE;else if(f==="radial"){var b=c9(i),g=b.cx,v=b.cy,j=b.radius,C=b.startAngle,x=b.endAngle;y={cx:g,cy:v,startAngle:C,endAngle:x,innerRadius:j,outerRadius:j},p=I8}else y={points:Fze(f,i,c)},p=fk;var N=Dp(Dp(Dp(Dp({stroke:"#ccc",pointerEvents:"none"},c),y),Ge(h,!1)),{},{payload:l,payloadIndex:u,className:Le("recharts-tooltip-cursor",h.className)});return w.isValidElement(h)?w.cloneElement(h,N):w.createElement(p,N)}var zze=["item"],Wze=["children","className","width","height","style","compact","title","desc"];function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fc.apply(this,arguments)}function l5(t,e){return Yze(t)||Gze(t,e)||d9(t,e)||Hze()}function Hze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Yze(t){if(Array.isArray(t))return t}function c5(t,e){if(t==null)return{};var r=Kze(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f9(n.key),n)}}function Qze(t,e,r){return e&&Xze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zze(t,e,r){return e=Q0(e),e7e(t,u9()?Reflect.construct(e,r||[],Q0(t).constructor):e.apply(t,r))}function e7e(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t7e(t)}function t7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u9=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q0(t)}function r7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mk(t,e)}function Mk(t,e){return Mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mk(t,e)}function xu(t){return s7e(t)||a7e(t)||d9(t)||n7e()}function n7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d9(t,e){if(t){if(typeof t=="string")return Lk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lk(t,e)}}function a7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s7e(t){if(Array.isArray(t))return Lk(t)}function Lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(r),!0).forEach(function(n){Re(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Re(t,e,r){return e=f9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f9(t){var e=o7e(t,"string");return bu(e)=="symbol"?e:e+""}function o7e(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i7e={xAxis:["bottom","top"],yAxis:["left","right"]},l7e={width:"100%",height:"100%"},m9={x:0,y:0};function Op(t){return t}var c7e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},u7e=function(e,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,l=a.radius;return se(se(se({},a),kt(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return se(se(se({},a),kt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return m9},Qw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(xu(l),xu(u)):l},[]);return i.length>0?i:e&&e.length&&Ne(a)&&Ne(s)?e.slice(a,s+1):[]};function h9(t){return t==="number"?[0,"auto"]:void 0}var Fk=function(e,r,n,a){var s=e.graphicalItems,i=e.tooltipAxis,l=Qw(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(i.dataKey&&!i.allowDuplicatedCategory){var h=f===void 0?l:f;m=bI(h,i.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(xu(c),[MBe(u,m)]):c},[])},d5=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},i=c7e(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=jBe(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=Fk(e,r,d,f),h=u7e(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},d7e=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,h=v8(d,s);return n.reduce(function(y,p){var b,g=p.type.defaultProps!==void 0?se(se({},p.type.defaultProps),p.props):p.props,v=g.type,j=g.dataKey,C=g.allowDataOverflow,x=g.allowDuplicatedCategory,N=g.scale,S=g.ticks,A=g.includeHidden,I=g[i];if(y[I])return y;var T=Qw(e.data,{graphicalItems:a.filter(function($){var B,Q=i in $.props?$.props[i]:(B=$.type.defaultProps)===null||B===void 0?void 0:B[i];return Q===I}),dataStartIndex:c,dataEndIndex:u}),E=T.length,R,M,L;Mze(g.domain,C,v)&&(R=ok(g.domain,null,C),h&&(v==="number"||N!=="auto")&&(L=vf(T,j,"category")));var P=h9(v);if(!R||R.length===0){var _,q=(_=g.domain)!==null&&_!==void 0?_:P;if(j){if(R=vf(T,j,v),v==="category"&&h){var F=dIe(R);x&&F?(M=R,R=H0(0,E)):x||(R=WL(q,R,p).reduce(function($,B){return $.indexOf(B)>=0?$:[].concat(xu($),[B])},[]))}else if(v==="category")x?R=R.filter(function($){return $!==""&&!Qe($)}):R=WL(q,R,p).reduce(function($,B){return $.indexOf(B)>=0||B===""||Qe(B)?$:[].concat(xu($),[B])},[]);else if(v==="number"){var O=ABe(T,a.filter(function($){var B,Q,fe=i in $.props?$.props[i]:(B=$.type.defaultProps)===null||B===void 0?void 0:B[i],ae="hide"in $.props?$.props.hide:(Q=$.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return fe===I&&(A||!ae)}),j,s,d);O&&(R=O)}h&&(v==="number"||N!=="auto")&&(L=vf(T,j,"category"))}else h?R=H0(0,E):l&&l[I]&&l[I].hasStack&&v==="number"?R=m==="expand"?[0,1]:j8(l[I].stackGroups,c,u):R=x8(T,a.filter(function($){var B=i in $.props?$.props[i]:$.type.defaultProps[i],Q="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return B===I&&(A||!Q)}),v,d,!0);if(v==="number")R=$k(f,R,I,s,S),q&&(R=ok(q,R,C));else if(v==="category"&&q){var V=q,W=R.every(function($){return V.indexOf($)>=0});W&&(R=V)}}return se(se({},y),{},Re({},I,se(se({},g),{},{axisType:s,domain:R,categoricalDomain:L,duplicateDomain:M,originalDomain:(b=g.domain)!==null&&b!==void 0?b:P,isCategorical:h,layout:d})))},{})},f7e=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=Qw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,y=v8(d,s),p=-1;return n.reduce(function(b,g){var v=g.type.defaultProps!==void 0?se(se({},g.type.defaultProps),g.props):g.props,j=v[i],C=h9("number");if(!b[j]){p++;var x;return y?x=H0(0,h):l&&l[j]&&l[j].hasStack?(x=j8(l[j].stackGroups,c,u),x=$k(f,x,j,s)):(x=ok(C,x8(m,n.filter(function(N){var S,A,I=i in N.props?N.props[i]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[i],T="hide"in N.props?N.props.hide:(A=N.type.defaultProps)===null||A===void 0?void 0:A.hide;return I===j&&!T}),"number",d),a.defaultProps.allowDataOverflow),x=$k(f,x,j,s)),se(se({},b),{},Re({},j,se(se({axisType:s},a.defaultProps),{},{hide:!0,orientation:ja(i7e,"".concat(s,".").concat(p%2),null),domain:x,originalDomain:C,isCategorical:y,layout:d})))}return b},{})},m7e=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=Ha(d,s),h={};return m&&m.length?h=d7e(e,{axes:m,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(h=f7e(e,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},h7e=function(e){var r=Kl(e),n=Fd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:I2(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ik(r,n)}},f5=function(e){var r=e.children,n=e.defaultShowTooltip,a=Wn(r,hu),s=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},p7e=function(e){return!e||!e.length?!1:e.some(function(r){var n=As(r&&r.type);return n&&n.indexOf("Bar")>=0})},m5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},g7e=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,i=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=Wn(f,hu),y=Wn(f,Ga),p=Object.keys(c).reduce(function(x,N){var S=c[N],A=S.orientation;return!S.mirror&&!S.hide?se(se({},x),{},Re({},A,x[A]+S.width)):x},{left:m.left||0,right:m.right||0}),b=Object.keys(i).reduce(function(x,N){var S=i[N],A=S.orientation;return!S.mirror&&!S.hide?se(se({},x),{},Re({},A,ja(x,"".concat(A))+S.height)):x},{top:m.top||0,bottom:m.bottom||0}),g=se(se({},b),p),v=g.bottom;h&&(g.bottom+=h.props.height||hu.defaultProps.height),y&&r&&(g=CBe(g,a,n,r));var j=u-g.left-g.right,C=d-g.top-g.bottom;return se(se({brushBottom:v},g),{},{width:Math.max(j,0),height:Math.max(C,0)})},y7e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},b7e=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,i=e.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(g,v){var j=v.graphicalItems,C=v.stackGroups,x=v.offset,N=v.updateId,S=v.dataStartIndex,A=v.dataEndIndex,I=g.barSize,T=g.layout,E=g.barGap,R=g.barCategoryGap,M=g.maxBarSize,L=m5(T),P=L.numericAxisName,_=L.cateAxisName,q=p7e(j),F=[];return j.forEach(function(O,V){var W=Qw(g.data,{graphicalItems:[O],dataStartIndex:S,dataEndIndex:A}),$=O.type.defaultProps!==void 0?se(se({},O.type.defaultProps),O.props):O.props,B=$.dataKey,Q=$.maxBarSize,fe=$["".concat(P,"Id")],ae=$["".concat(_,"Id")],J={},oe=c.reduce(function(Zr,Z){var je=v["".concat(Z.axisType,"Map")],te=$["".concat(Z.axisType,"Id")];je&&je[te]||Z.axisType==="zAxis"||iu();var ge=je[te];return se(se({},Zr),{},Re(Re({},Z.axisType,ge),"".concat(Z.axisType,"Ticks"),Fd(ge)))},J),ee=oe[_],re=oe["".concat(_,"Ticks")],K=C&&C[fe]&&C[fe].hasStack&&RBe(O,C[fe].stackGroups),Y=As(O.type).indexOf("Bar")>=0,ue=ik(ee,re),me=[],ve=q&&wBe({barSize:I,stackGroups:C,totalSize:y7e(oe,_)});if(Y){var De,_e,yt=Qe(Q)?M:Q,Tt=(De=(_e=ik(ee,re,!0))!==null&&_e!==void 0?_e:yt)!==null&&De!==void 0?De:0;me=NBe({barGap:E,barCategoryGap:R,bandSize:Tt!==ue?Tt:ue,sizeList:ve[ae],maxBarSize:yt}),Tt!==ue&&(me=me.map(function(Zr){return se(se({},Zr),{},{position:se(se({},Zr.position),{},{offset:Zr.position.offset-Tt/2})})}))}var vn=O&&O.type&&O.type.getComposedData;vn&&F.push({props:se(se({},vn(se(se({},oe),{},{displayedData:W,props:g,dataKey:B,item:O,bandSize:ue,barPosition:me,offset:x,stackedData:K,layout:T,dataStartIndex:S,dataEndIndex:A}))),{},Re(Re(Re({key:O.key||"item-".concat(V)},P,oe[P]),_,oe[_]),"animationId",N)),childIndex:wIe(O,g.children),item:O})}),F},h=function(g,v){var j=g.props,C=g.dataStartIndex,x=g.dataEndIndex,N=g.updateId;if(!F$({props:j}))return null;var S=j.children,A=j.layout,I=j.stackOffset,T=j.data,E=j.reverseStackOrder,R=m5(A),M=R.numericAxisName,L=R.cateAxisName,P=Ha(S,n),_=OBe(T,P,"".concat(M,"Id"),"".concat(L,"Id"),I,E),q=c.reduce(function($,B){var Q="".concat(B.axisType,"Map");return se(se({},$),{},Re({},Q,m7e(j,se(se({},B),{},{graphicalItems:P,stackGroups:B.axisType===M&&_,dataStartIndex:C,dataEndIndex:x}))))},{}),F=g7e(se(se({},q),{},{props:j,graphicalItems:P}),v==null?void 0:v.legendBBox);Object.keys(q).forEach(function($){q[$]=d(j,q[$],F,$.replace("Map",""),r)});var O=q["".concat(L,"Map")],V=h7e(O),W=m(j,se(se({},q),{},{dataStartIndex:C,dataEndIndex:x,updateId:N,graphicalItems:P,stackGroups:_,offset:F}));return se(se({formattedGraphicalItems:W,graphicalItems:P,offset:F,stackGroups:_},V),q)},y=function(b){function g(v){var j,C,x;return Jze(this,g),x=Zze(this,g,[v]),Re(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Re(x,"accessibilityManager",new $ze),Re(x,"handleLegendBBoxUpdate",function(N){if(N){var S=x.state,A=S.dataStartIndex,I=S.dataEndIndex,T=S.updateId;x.setState(se({legendBBox:N},h({props:x.props,dataStartIndex:A,dataEndIndex:I,updateId:T},se(se({},x.state),{},{legendBBox:N}))))}}),Re(x,"handleReceiveSyncEvent",function(N,S,A){if(x.props.syncId===N){if(A===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(S)}}),Re(x,"handleBrushChange",function(N){var S=N.startIndex,A=N.endIndex;if(S!==x.state.dataStartIndex||A!==x.state.dataEndIndex){var I=x.state.updateId;x.setState(function(){return se({dataStartIndex:S,dataEndIndex:A},h({props:x.props,dataStartIndex:S,dataEndIndex:A,updateId:I},x.state))}),x.triggerSyncEvent({dataStartIndex:S,dataEndIndex:A})}}),Re(x,"handleMouseEnter",function(N){var S=x.getMouseInfo(N);if(S){var A=se(se({},S),{},{isTooltipActive:!0});x.setState(A),x.triggerSyncEvent(A);var I=x.props.onMouseEnter;Ye(I)&&I(A,N)}}),Re(x,"triggeredAfterMouseMove",function(N){var S=x.getMouseInfo(N),A=S?se(se({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(A),x.triggerSyncEvent(A);var I=x.props.onMouseMove;Ye(I)&&I(A,N)}),Re(x,"handleItemMouseEnter",function(N){x.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Re(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),Re(x,"handleMouseMove",function(N){N.persist(),x.throttleTriggeredAfterMouseMove(N)}),Re(x,"handleMouseLeave",function(N){x.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};x.setState(S),x.triggerSyncEvent(S);var A=x.props.onMouseLeave;Ye(A)&&A(S,N)}),Re(x,"handleOuterEvent",function(N){var S=jIe(N),A=ja(x.props,"".concat(S));if(S&&Ye(A)){var I,T;/.*touch.*/i.test(S)?T=x.getMouseInfo(N.changedTouches[0]):T=x.getMouseInfo(N),A((I=T)!==null&&I!==void 0?I:{},N)}}),Re(x,"handleClick",function(N){var S=x.getMouseInfo(N);if(S){var A=se(se({},S),{},{isTooltipActive:!0});x.setState(A),x.triggerSyncEvent(A);var I=x.props.onClick;Ye(I)&&I(A,N)}}),Re(x,"handleMouseDown",function(N){var S=x.props.onMouseDown;if(Ye(S)){var A=x.getMouseInfo(N);S(A,N)}}),Re(x,"handleMouseUp",function(N){var S=x.props.onMouseUp;if(Ye(S)){var A=x.getMouseInfo(N);S(A,N)}}),Re(x,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Re(x,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&x.handleMouseDown(N.changedTouches[0])}),Re(x,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&x.handleMouseUp(N.changedTouches[0])}),Re(x,"handleDoubleClick",function(N){var S=x.props.onDoubleClick;if(Ye(S)){var A=x.getMouseInfo(N);S(A,N)}}),Re(x,"handleContextMenu",function(N){var S=x.props.onContextMenu;if(Ye(S)){var A=x.getMouseInfo(N);S(A,N)}}),Re(x,"triggerSyncEvent",function(N){x.props.syncId!==void 0&&yC.emit(bC,x.props.syncId,N,x.eventEmitterSymbol)}),Re(x,"applySyncEvent",function(N){var S=x.props,A=S.layout,I=S.syncMethod,T=x.state.updateId,E=N.dataStartIndex,R=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)x.setState(se({dataStartIndex:E,dataEndIndex:R},h({props:x.props,dataStartIndex:E,dataEndIndex:R,updateId:T},x.state)));else if(N.activeTooltipIndex!==void 0){var M=N.chartX,L=N.chartY,P=N.activeTooltipIndex,_=x.state,q=_.offset,F=_.tooltipTicks;if(!q)return;if(typeof I=="function")P=I(F,N);else if(I==="value"){P=-1;for(var O=0;O<F.length;O++)if(F[O].value===N.activeLabel){P=O;break}}var V=se(se({},q),{},{x:q.left,y:q.top}),W=Math.min(M,V.x+V.width),$=Math.min(L,V.y+V.height),B=F[P]&&F[P].value,Q=Fk(x.state,x.props.data,P),fe=F[P]?{x:A==="horizontal"?F[P].coordinate:W,y:A==="horizontal"?$:F[P].coordinate}:m9;x.setState(se(se({},N),{},{activeLabel:B,activeCoordinate:fe,activePayload:Q,activeTooltipIndex:P}))}else x.setState(N)}),Re(x,"renderCursor",function(N){var S,A=x.state,I=A.isTooltipActive,T=A.activeCoordinate,E=A.activePayload,R=A.offset,M=A.activeTooltipIndex,L=A.tooltipAxisBandSize,P=x.getTooltipEventType(),_=(S=N.props.active)!==null&&S!==void 0?S:I,q=x.props.layout,F=N.key||"_recharts-cursor";return G.createElement(Uze,{key:F,activeCoordinate:T,activePayload:E,activeTooltipIndex:M,chartName:r,element:N,isActive:_,layout:q,offset:R,tooltipAxisBandSize:L,tooltipEventType:P})}),Re(x,"renderPolarAxis",function(N,S,A){var I=ja(N,"type.axisType"),T=ja(x.state,"".concat(I,"Map")),E=N.type.defaultProps,R=E!==void 0?se(se({},E),N.props):N.props,M=T&&T[R["".concat(I,"Id")]];return w.cloneElement(N,se(se({},M),{},{className:Le(I,M.className),key:N.key||"".concat(S,"-").concat(A),ticks:Fd(M,!0)}))}),Re(x,"renderPolarGrid",function(N){var S=N.props,A=S.radialLines,I=S.polarAngles,T=S.polarRadius,E=x.state,R=E.radiusAxisMap,M=E.angleAxisMap,L=Kl(R),P=Kl(M),_=P.cx,q=P.cy,F=P.innerRadius,O=P.outerRadius;return w.cloneElement(N,{polarAngles:Array.isArray(I)?I:Fd(P,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(T)?T:Fd(L,!0).map(function(V){return V.coordinate}),cx:_,cy:q,innerRadius:F,outerRadius:O,key:N.key||"polar-grid",radialLines:A})}),Re(x,"renderLegend",function(){var N=x.state.formattedGraphicalItems,S=x.props,A=S.children,I=S.width,T=S.height,E=x.props.margin||{},R=I-(E.left||0)-(E.right||0),M=y8({children:A,formattedGraphicalItems:N,legendWidth:R,legendContent:u});if(!M)return null;var L=M.item,P=c5(M,zze);return w.cloneElement(L,se(se({},P),{},{chartWidth:I,chartHeight:T,margin:E,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),Re(x,"renderTooltip",function(){var N,S=x.props,A=S.children,I=S.accessibilityLayer,T=Wn(A,is);if(!T)return null;var E=x.state,R=E.isTooltipActive,M=E.activeCoordinate,L=E.activePayload,P=E.activeLabel,_=E.offset,q=(N=T.props.active)!==null&&N!==void 0?N:R;return w.cloneElement(T,{viewBox:se(se({},_),{},{x:_.left,y:_.top}),active:q,label:P,payload:q?L:[],coordinate:M,accessibilityLayer:I})}),Re(x,"renderBrush",function(N){var S=x.props,A=S.margin,I=S.data,T=x.state,E=T.offset,R=T.dataStartIndex,M=T.dataEndIndex,L=T.updateId;return w.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Ip(x.handleBrushChange,N.props.onChange),data:I,x:Ne(N.props.x)?N.props.x:E.left,y:Ne(N.props.y)?N.props.y:E.top+E.height+E.brushBottom-(A.bottom||0),width:Ne(N.props.width)?N.props.width:E.width,startIndex:R,endIndex:M,updateId:"brush-".concat(L)})}),Re(x,"renderReferenceElement",function(N,S,A){if(!N)return null;var I=x,T=I.clipPathId,E=x.state,R=E.xAxisMap,M=E.yAxisMap,L=E.offset,P=N.type.defaultProps||{},_=N.props,q=_.xAxisId,F=q===void 0?P.xAxisId:q,O=_.yAxisId,V=O===void 0?P.yAxisId:O;return w.cloneElement(N,{key:N.key||"".concat(S,"-").concat(A),xAxis:R[F],yAxis:M[V],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:T})}),Re(x,"renderActivePoints",function(N){var S=N.item,A=N.activePoint,I=N.basePoint,T=N.childIndex,E=N.isRange,R=[],M=S.props.key,L=S.item.type.defaultProps!==void 0?se(se({},S.item.type.defaultProps),S.item.props):S.item.props,P=L.activeDot,_=L.dataKey,q=se(se({index:T,dataKey:_,cx:A.x,cy:A.y,r:4,fill:tE(S.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ge(P,!1)),l0(P));return R.push(g.renderActiveDot(P,q,"".concat(M,"-activePoint-").concat(T))),I?R.push(g.renderActiveDot(P,se(se({},q),{},{cx:I.x,cy:I.y}),"".concat(M,"-basePoint-").concat(T))):E&&R.push(null),R}),Re(x,"renderGraphicChild",function(N,S,A){var I=x.filterFormatItem(N,S,A);if(!I)return null;var T=x.getTooltipEventType(),E=x.state,R=E.isTooltipActive,M=E.tooltipAxis,L=E.activeTooltipIndex,P=E.activeLabel,_=x.props.children,q=Wn(_,is),F=I.props,O=F.points,V=F.isRange,W=F.baseLine,$=I.item.type.defaultProps!==void 0?se(se({},I.item.type.defaultProps),I.item.props):I.item.props,B=$.activeDot,Q=$.hide,fe=$.activeBar,ae=$.activeShape,J=!!(!Q&&R&&q&&(B||fe||ae)),oe={};T!=="axis"&&q&&q.props.trigger==="click"?oe={onClick:Ip(x.handleItemMouseEnter,N.props.onClick)}:T!=="axis"&&(oe={onMouseLeave:Ip(x.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Ip(x.handleItemMouseEnter,N.props.onMouseEnter)});var ee=w.cloneElement(N,se(se({},I.props),oe));function re(Z){return typeof M.dataKey=="function"?M.dataKey(Z.payload):null}if(J)if(L>=0){var K,Y;if(M.dataKey&&!M.allowDuplicatedCategory){var ue=typeof M.dataKey=="function"?re:"payload.".concat(M.dataKey.toString());K=bI(O,ue,P),Y=V&&W&&bI(W,ue,P)}else K=O==null?void 0:O[L],Y=V&&W&&W[L];if(ae||fe){var me=N.props.activeIndex!==void 0?N.props.activeIndex:L;return[w.cloneElement(N,se(se(se({},I.props),oe),{},{activeIndex:me})),null,null]}if(!Qe(K))return[ee].concat(xu(x.renderActivePoints({item:I,activePoint:K,basePoint:Y,childIndex:L,isRange:V})))}else{var ve,De=(ve=x.getItemByXY(x.state.activeCoordinate))!==null&&ve!==void 0?ve:{graphicalItem:ee},_e=De.graphicalItem,yt=_e.item,Tt=yt===void 0?N:yt,vn=_e.childIndex,Zr=se(se(se({},I.props),oe),{},{activeIndex:vn});return[w.cloneElement(Tt,Zr),null,null]}return V?[ee,null,null]:[ee,null]}),Re(x,"renderCustomized",function(N,S,A){return w.cloneElement(N,se(se({key:"recharts-customized-".concat(A)},x.props),x.state))}),Re(x,"renderMap",{CartesianGrid:{handler:Op,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Op},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Op},YAxis:{handler:Op},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((j=v.id)!==null&&j!==void 0?j:vw("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=g7(x.triggeredAfterMouseMove,(C=v.throttleDelay)!==null&&C!==void 0?C:1e3/60),x.state={},x}return r7e(g,b),Qze(g,[{key:"componentDidMount",value:function(){var j,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,C=j.children,x=j.data,N=j.height,S=j.layout,A=Wn(C,is);if(A){var I=A.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,E=Fk(this.state,x,I,T),R=this.state.tooltipTicks[I].coordinate,M=(this.state.offset.top+N)/2,L=S==="horizontal",P=L?{x:R,y:M}:{y:R,x:M},_=this.state.formattedGraphicalItems.find(function(F){var O=F.item;return O.type.name==="Scatter"});_&&(P=se(se({},P),_.props.points[I].tooltipPosition),E=_.props.points[I].tooltipPayload);var q={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:T,activePayload:E,activeCoordinate:P};this.setState(q),this.renderCursor(A),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var x,N;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(j){jI([Wn(j.children,is)],[Wn(this.props.children,is)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Wn(this.props.children,is);if(j&&typeof j.props.shared=="boolean"){var C=j.props.shared?"axis":"item";return l.indexOf(C)>=0?C:s}return s}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var C=this.container,x=C.getBoundingClientRect(),N=K$e(x),S={chartX:Math.round(j.pageX-N.left),chartY:Math.round(j.pageY-N.top)},A=x.width/C.offsetWidth||1,I=this.inRange(S.chartX,S.chartY,A);if(!I)return null;var T=this.state,E=T.xAxisMap,R=T.yAxisMap,M=this.getTooltipEventType(),L=d5(this.state,this.props.data,this.props.layout,I);if(M!=="axis"&&E&&R){var P=Kl(E).scale,_=Kl(R).scale,q=P&&P.invert?P.invert(S.chartX):null,F=_&&_.invert?_.invert(S.chartY):null;return se(se({},S),{},{xValue:q,yValue:F},L)}return L?se(se({},S),L):null}},{key:"inRange",value:function(j,C){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=j/x,A=C/x;if(N==="horizontal"||N==="vertical"){var I=this.state.offset,T=S>=I.left&&S<=I.left+I.width&&A>=I.top&&A<=I.top+I.height;return T?{x:S,y:A}:null}var E=this.state,R=E.angleAxisMap,M=E.radiusAxisMap;if(R&&M){var L=Kl(R);return YL({x:S,y:A},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,C=this.getTooltipEventType(),x=Wn(j,is),N={};x&&C==="axis"&&(x.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=l0(this.props,this.handleOuterEvent);return se(se({},S),N)}},{key:"addListener",value:function(){yC.on(bC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){yC.removeListener(bC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,C,x){for(var N=this.state.formattedGraphicalItems,S=0,A=N.length;S<A;S++){var I=N[S];if(I.item===j||I.props.key===j.key||C===As(I.item.type)&&x===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,C=this.state.offset,x=C.left,N=C.top,S=C.height,A=C.width;return G.createElement("defs",null,G.createElement("clipPath",{id:j},G.createElement("rect",{x,y:N,height:S,width:A})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(C,x){var N=l5(x,2),S=N[0],A=N[1];return se(se({},C),{},Re({},S,A.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(C,x){var N=l5(x,2),S=N[0],A=N[1];return se(se({},C),{},Re({},S,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[j])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(j){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[j])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(j){var C=this.state,x=C.formattedGraphicalItems,N=C.activeItem;if(x&&x.length)for(var S=0,A=x.length;S<A;S++){var I=x[S],T=I.props,E=I.item,R=E.type.defaultProps!==void 0?se(se({},E.type.defaultProps),E.props):E.props,M=As(E.type);if(M==="Bar"){var L=(T.data||[]).find(function(F){return Dqe(j,F)});if(L)return{graphicalItem:I,payload:L}}else if(M==="RadialBar"){var P=(T.data||[]).find(function(F){return YL(j,F)});if(P)return{graphicalItem:I,payload:P}}else if(Hw(I,N)||Gw(I,N)||Bm(I,N)){var _=jVe({graphicalItem:I,activeTooltipItem:N,itemData:R.data}),q=R.activeIndex===void 0?_:R.activeIndex;return{graphicalItem:se(se({},I),{},{childIndex:q}),payload:Bm(I,N)?R.data[_]:I.props.data[_]}}}return null}},{key:"render",value:function(){var j=this;if(!F$(this))return null;var C=this.props,x=C.children,N=C.className,S=C.width,A=C.height,I=C.style,T=C.compact,E=C.title,R=C.desc,M=c5(C,Wze),L=Ge(M,!1);if(T)return G.createElement(QF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(NI,fc({},L,{width:S,height:A,title:E,desc:R}),this.renderClipPath(),q$(x,this.renderMap)));if(this.props.accessibilityLayer){var P,_;L.tabIndex=(P=this.props.tabIndex)!==null&&P!==void 0?P:0,L.role=(_=this.props.role)!==null&&_!==void 0?_:"application",L.onKeyDown=function(F){j.accessibilityManager.keyboardEvent(F)},L.onFocus=function(){j.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return G.createElement(QF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",fc({className:Le("recharts-wrapper",N),style:se({position:"relative",cursor:"default",width:S,height:A},I)},q,{ref:function(O){j.container=O}}),G.createElement(NI,fc({},L,{width:S,height:A,title:E,desc:R,style:l7e}),this.renderClipPath(),q$(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);Re(y,"displayName",r),Re(y,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Re(y,"getDerivedStateFromProps",function(b,g){var v=b.dataKey,j=b.data,C=b.children,x=b.width,N=b.height,S=b.layout,A=b.stackOffset,I=b.margin,T=g.dataStartIndex,E=g.dataEndIndex;if(g.updateId===void 0){var R=f5(b);return se(se(se({},R),{},{updateId:0},h(se(se({props:b},R),{},{updateId:0}),g)),{},{prevDataKey:v,prevData:j,prevWidth:x,prevHeight:N,prevLayout:S,prevStackOffset:A,prevMargin:I,prevChildren:C})}if(v!==g.prevDataKey||j!==g.prevData||x!==g.prevWidth||N!==g.prevHeight||S!==g.prevLayout||A!==g.prevStackOffset||!xI(I,g.prevMargin)){var M=f5(b),L={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},P=se(se({},d5(g,j,S)),{},{updateId:g.updateId+1}),_=se(se(se({},M),L),P);return se(se(se({},_),h(se({props:b},_),g)),{},{prevDataKey:v,prevData:j,prevWidth:x,prevHeight:N,prevLayout:S,prevStackOffset:A,prevMargin:I,prevChildren:C})}if(!jI(C,g.prevChildren)){var q,F,O,V,W=Wn(C,hu),$=W&&(q=(F=W.props)===null||F===void 0?void 0:F.startIndex)!==null&&q!==void 0?q:T,B=W&&(O=(V=W.props)===null||V===void 0?void 0:V.endIndex)!==null&&O!==void 0?O:E,Q=$!==T||B!==E,fe=!Qe(j),ae=fe&&!Q?g.updateId:g.updateId+1;return se(se({updateId:ae},h(se(se({props:b},g),{},{updateId:ae,dataStartIndex:$,dataEndIndex:B}),g)),{},{prevChildren:C,dataStartIndex:$,dataEndIndex:B})}return null}),Re(y,"renderActiveDot",function(b,g,v){var j;return w.isValidElement(b)?j=w.cloneElement(b,g):Ye(b)?j=b(g):j=G.createElement(nE,g),G.createElement(Jt,{className:"recharts-active-dot",key:v},j)});var p=w.forwardRef(function(g,v){return G.createElement(y,fc({},g,{ref:v}))});return p.displayName=y.displayName,p},Zw=b7e({chartName:"PieChart",GraphicalChild:oa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ww},{axisType:"radiusAxis",AxisComp:Uw}],formatAxisMap:HBe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const h5=["#0088FE","#FF8042"];function x7e({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Budget vs Charges"}),o.jsxs("div",{className:"w-full h-72",children:[" ",o.jsx(Pw,{width:"100%",height:"100%",children:o.jsxs(Zw,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(oa,{data:t,dataKey:"value",nameKey:"name",outerRadius:"70%",label:!0,children:t.map((e,r)=>o.jsx(Bu,{fill:h5[r%h5.length]},`cell-${r}`))}),o.jsx(Ga,{})]})})]})]})}const p5=["#0088FE","#FF8042","#00C49F"];function v7e({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Encumbrance vs Charges"}),o.jsxs("div",{className:"w-full h-64",children:[" ",o.jsx(Pw,{width:"100%",height:"100%",children:o.jsxs(Zw,{children:[o.jsx(oa,{data:t,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:t.map((e,r)=>o.jsx(Bu,{fill:p5[r%p5.length]},`cell-${r}`))}),o.jsx(Ga,{})]})})]})]})}function j7e(){const t=de(),[e,r]=w.useState(""),[n,a]=w.useState([]),[s,i]=w.useState(""),[l,c]=w.useState({chart1:[],chart2:[],table:[]}),[u,d]=w.useState(!1),{departments:f,isLoading:m}=H(p=>p.departments);w.useEffect(()=>{t(cr())},[]),w.useEffect(()=>{e?(d(!0),_ve(e==="All"?"":e).then(p=>{const b=(p==null?void 0:p.data)||[];a(b.map(g=>({value:g.ID,label:g.Name,...g})))}).finally(()=>d(!1))):a([]),i(""),c({chart1:[],chart2:[],table:[]})},[e]);const h=p=>{const b=n.find(T=>T.value===Number(p));if(!b)return;const g=parseFloat(b.Appropriation||0),v=parseFloat(b.Supplemental||0),j=parseFloat(b.Transfer||0),C=parseFloat(b.Charges||0),x=parseFloat(b.PreEncumbrance||0),N=parseFloat(b.Encumbrance||0),A=[{name:"Budget Amount",value:g+v+j-C},{name:"Charges",value:C}],I=[{name:"PreEncumbrance",value:x},{name:"Encumbrance",value:N},{name:"Charges",value:C}];c(T=>({...T,chart1:A,chart2:I})),d(!0),Rve(p).then(T=>{const E=(T==null?void 0:T.data)||[];c(R=>({...R,table:E}))}).finally(()=>d(!1))},y=[{key:"APAR",header:"APAR",sortable:!1},{key:"Total",header:"Total",sortable:!1}];return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Dashboard"}),o.jsx("p",{children:"Analyze department-wise budget allocations and expenses."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(k,{label:"Department",name:"Department",type:"select",value:e,onChange:p=>{const b=p.target.value==="All Departments"?"All":p.target.value;r(b),i(""),c({chart1:[],chart2:[],table:[]})},options:[...f==null?void 0:f.map(p=>({value:p.ID,label:p.Name})),{value:"All Departments",label:"All Departments"}],required:!0}),o.jsx(k,{label:"Sub-Department",name:"SubDepartment",type:"select",value:s,onChange:p=>{console.log("e.target.value",p.target.value),i(p.target.value),h(p.target.value)},options:n,className:"disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsx(x7e,{data:l==null?void 0:l.chart1,loading:u}),o.jsx(v7e,{data:l==null?void 0:l.chart2,loading:u})]}),o.jsx("div",{className:"mt-6",children:o.jsx(xe,{columns:y,data:(l==null?void 0:l.table)||[],loading:u||m,emptyMessage:"No budget data found for selected sub-department."})})]})}const g5=["#0088FE","#00C49F","#FF8042"],y5=[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}];function w7e(){const[t,e]=w.useState("year"),[r,n]=w.useState(""),[a,s]=w.useState("year"),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,h]=w.useState({disbursement:[],obligation:[],travel:[]}),y=de(),{departments:p}=H(b=>b.departments);return w.useEffect(()=>{y(cr())},[]),w.useEffect(()=>{(async()=>{var g,v;try{const[j,C]=await Promise.all([s$(t,"Obligation Request",r==="All"?"":r),s$(t,"Disbursement Voucher",r==="All"?"":r)]);f(`PHP ${parseFloat(((g=j==null?void 0:j.data)==null?void 0:g.total)||0).toLocaleString()}`),u(`PHP ${parseFloat(((v=C==null?void 0:C.data)==null?void 0:v.total)||0).toLocaleString()}`)}catch(j){console.error("Error loading disbursement amounts:",j),z.error("Failed to load disbursement amounts")}})()},[t,r]),w.useEffect(()=>{(async()=>{try{const g=i==="All"?"":i,[v,j,C]=await Promise.all([$ve(a,g),Mve(a,g),Lve(a,g)]);h({obligation:(v==null?void 0:v.data)||[],travel:(j==null?void 0:j.data)||[],disbursement:(C==null?void 0:C.data)||[]})}catch(g){console.error("Error loading chart data:",g),z.error("Failed to load chart data")}})()},[a,i]),o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("h1",{children:"Disbursement Dashboard"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(k,{label:"Timeframe",type:"select",value:t,onChange:b=>e(b.target.value),options:y5}),o.jsx(k,{label:"Department",name:"Department",type:"select",value:r,onChange:b=>{const g=b.target.value==="All Departments"?"All":b.target.value;n(g)},options:[...p==null?void 0:p.map(b=>({value:b.ID,label:b.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-primary-700",children:["Disbursed Amount: ",c]}),o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-amber-700",children:["Obligated Amount: ",d]})]}),o.jsx("hr",{className:"my-8 border-t"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Timeframe",type:"select",value:a,onChange:b=>s(b.target.value),options:y5}),o.jsx(k,{label:"Department",name:"Department",type:"select",value:r,onChange:b=>{const g=b.target.value==="All Departments"?"All":b.target.value;l(g)},options:[...p==null?void 0:p.map(b=>({value:b.ID,label:b.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[vC("Disbursement",[m==null?void 0:m.disbursement]),vC("Obligation",[m==null?void 0:m.obligation]),vC("Travel",[m==null?void 0:m.travel])]})]})}const vC=(t,e)=>o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(Pw,{width:"100%",height:"100%",children:o.jsxs(Zw,{children:[o.jsx(oa,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e==null?void 0:e.map((r,n)=>o.jsx(Bu,{fill:g5[n%g5.length]},n))}),o.jsx(Ga,{})]})})})]}),b5=["#0088FE","#FF8042","#00C49F"];function _p({title:t,data:e}){return o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(Pw,{width:"100%",height:"100%",children:o.jsxs(Zw,{children:[o.jsx(oa,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e.map((r,n)=>o.jsx(Bu,{fill:b5[n%b5.length]},n))}),o.jsx(Ga,{})]})})})]})}function N7e(){const[t,e]=w.useState("day"),[r,n]=w.useState({general:0,marriage:0,burial:0,cedula:0}),[a,s]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]);w.useEffect(()=>{(async()=>{try{const[y,p,b,g,v]=await Promise.all([Fve(t),Bve(),qve(),Vve(),Uve()]),j=(y==null?void 0:y.data)||{};n({general:parseFloat(j.General||0),marriage:parseFloat(j.Marriage||0),burial:parseFloat(j.Burial||0),cedula:parseFloat(j.Cedula||0)}),s(m(p.data)),l(m(b.data)),u(m(g.data)),f(m(v.data))}catch(y){console.error(y),z.error("Failed to load collection data")}})()},[t]);const m=(h=[])=>h.map(y=>({name:y.date||"Unknown",value:parseFloat(y.total||0)}));return o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 items-start",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cedula"}),o.jsx(_p,{title:"Cedula",data:d})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"font-semibold text-xl",children:"Revenue"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.jsx(k,{label:"Select View",type:"select",value:t,onChange:h=>e(h.target.value),options:[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"General Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.general.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Marriage Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.marriage.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Burial Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.burial.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cedula"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.cedula.toFixed(2)]})]})]})]})]}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"grid grid-cols-1  lg:grid-cols-3 gap-4 mt-6",children:[o.jsx(_p,{title:"General Service Invoice",data:a}),o.jsx(_p,{title:"Marriage Service Invoice",data:i}),o.jsx(_p,{title:"Burial Service Invoice",data:c})]})]})}const zu="https://staging-engine.testthelink.online",C7e=[],Bi=U("generalServiceReceipts/fetchGeneralServiceReceipts",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Ze.get(`${zu}/generalservicerecipt`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),jC=U("generalServiceReceipts/fetchGeneralServiceReceiptById",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Ze.get(`${zu}/api/general-service-receipts/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Jb=U("generalServiceReceipts/createGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Ze.post(`${zu}/generalservicerecipt`,t,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),wC=U("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e},r)=>{var n,a;try{const s=localStorage.getItem("token");return(await Ze.put(`${zu}/generalservicerecipt/${t}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return r.rejectWithValue(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||s.message)}}),Xb=U("generalServiceReceipts/deleteGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return await Ze.delete(`${zu}/generalservicerecipt/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),t}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Qb=U("generalServiceReceipts/getGeneralServiceReceiptCurrentNumber",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Ze.get(`${zu}/generalservicerecipt/getCurrentNumber`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),p9=we({name:"generalServiceReceipts",initialState:{receipts:[],currentReceipt:null,isLoading:!1,currentNumber:null,error:null},reducers:{clearError:t=>{t.error=null},clearCurrentReceipt:t=>{t.currentReceipt=null}},extraReducers:t=>{t.addCase(Bi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bi.fulfilled,(e,r)=>{e.isLoading=!1,e.receipts=Array.isArray(r.payload)?r.payload:[]}).addCase(Bi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipts",console.warn("Failed to fetch general service receipts, using mock data.",e.error),e.receipts=C7e}).addCase(jC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentReceipt=r.payload}).addCase(jC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt"}).addCase(Jb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts.push(r.payload)}).addCase(Jb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to create general service receipt",console.error("Failed to create general service receipt:",e.error)}).addCase(wC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.receipts)||(e.receipts=[]),e.receipts[n]=r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload.id&&(e.currentReceipt=r.payload)}).addCase(wC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update general service receipt",console.error("Failed to update general service receipt:",e.error)}).addCase(Xb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts=e.receipts.filter(n=>n.id!==r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload&&(e.currentReceipt=null)}).addCase(Xb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete general service receipt",console.error("Failed to delete general service receipt:",e.error)}).addCase(Qb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qb.fulfilled,(e,r)=>{e.isLoading=!1,e.currentNumber=r.payload}).addCase(Qb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt current number"})}}),{clearError:Y9e,clearCurrentReceipt:K9e}=p9.actions,S7e=p9.reducer,A7e="https://staging-engine.testthelink.online",I7e=ce().shape({Status:D().required("Status is required"),InvoiceNumber:D().required("Invoice number is required"),InvoiceDate:Ue().required("Date is required"),FundsID:X().required("Fund is required"),Agency:D().required("Agency is required"),PaymentMethodID:X().required("Payment method is required"),Total:X().required("Total amount is required"),CustomerID:X().required("Customer is required"),CustomerName:D().required("Customer name is required"),Remarks:D(),TransactionItemsAll:zt().of(ce().shape({ItemID:X().required("Item ID is required"),ChargeAccountID:X().required("Charges account is required"),Quantity:X().required("Quantity is required").min(1,"Quantity must be at least 1"),Price:X().required("Price is required").min(0,"Price cannot be negative"),Vatable:Rs()})).min(1,"At least one item is required")});function k7e({isOpen:t,onClose:e,selectedReceipt:r,onSubmit:n,Print:a,currentNumber:s}){const[i,l]=w.useState("Individual"),[c,u]=w.useState(!1),{customers:d}=H(I=>I.customers),{vendorDetails:f}=H(I=>I.vendorDetails),{funds:m}=H(I=>I.funds),{items:h}=H(I=>I.items),{budgets:y}=H(I=>I.budget),p=de();w.useEffect(()=>{p(mn()),p(Va()),p(er()),p(Ua()),p(Mo())},[p]);const b=f==null?void 0:f.map(I=>({value:I.ID,label:I.Name})),g=d==null?void 0:d.map(I=>({value:I.ID,label:I.Name||`${I.FirstName} ${I.MiddleName} ${I.LastName}`})),v=m==null?void 0:m.map(I=>({value:I.ID,label:I.Name})),j=h==null?void 0:h.map(I=>({value:I.ID,label:I.Name})),C=y==null?void 0:y.map(I=>({value:I.ID,label:I.Name})),x={Status:(r==null?void 0:r.Status)||"Requested",InvoiceNumber:(r==null?void 0:r.InvoiceNumber)||(s==null?void 0:s.CurrentNumber)||"",InvoiceDate:(r==null?void 0:r.InvoiceDate)||new Date().toISOString().split("T")[0],FundsID:(r==null?void 0:r.FundsID)||"",Agency:(r==null?void 0:r.Agency)||"",CustomerName:(r==null?void 0:r.CustomerName)||"",CustomerID:(r==null?void 0:r.CustomerID)||"",Total:(r==null?void 0:r.Total)||0,Remarks:(r==null?void 0:r.Remarks)||"",CheckNumber:(r==null?void 0:r.CheckNumber)||"",MoneyOrder:(r==null?void 0:r.MoneyOrder)||"",PayeeBank:(r==null?void 0:r.PayeeBank)||"",CheckDate:(r==null?void 0:r.CheckDate)||"",MoneyOrderDate:(r==null?void 0:r.MoneyOrderDate)||"",Attachments:(r==null?void 0:r.Attachments)||[],PaymentMethodID:2,TransactionItemsAll:(r==null?void 0:r.TransactionItemsAll)||[{ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}]};console.log("initialValues",x);const N=(I,T,E)=>{const M=Array.from(I.target.files).map(L=>L);T("Attachments",[...E.Attachments,...M])},S=(I,T,E)=>{const R=[...E.Attachments];R.splice(I,1),T("Attachments",R)},A=async(I,{setSubmitting:T})=>{const E=new FormData;for(const R in I)if(R!=="Attachments"){const M=typeof I[R]=="object"?JSON.stringify(I[R]):I[R];R==="TransactionItemsAll"?E.append("Items",M):E.append(R,M)}I==null||I.Attachments.forEach((R,M)=>{R.ID?E.append(`Attachments[${M}].ID`,R.ID):E.append(`Attachments[${M}].File`,R)}),r?(E.append("IsNew","false"),E.append("LinkID",r.LinkID),E.append("ID",r.ID)):E.append("IsNew","true"),console.log("Form Data:",I);try{await n(E),console.log("Form submitted with values:",E)}catch(R){console.error("Error submitting form:",R)}finally{e(),T(!1)}};return o.jsxs(le,{isOpen:t,onClose:e,title:r?"Edit General Service Receipt":"New General Service Receipt",size:"xl",children:[o.jsxs("div",{className:"w-full py-4 flex justify-end gap-4 items-center max-sm:flex-col",children:[o.jsx("button",{type:"button",className:"btn btn-secondary max-sm:w-full",children:"Show List"}),o.jsx("button",{className:"btn btn-primary max-sm:w-full",onClick:()=>u(!0),children:"Add Attachments"}),a&&o.jsx("button",{className:"btn btn-outline max-sm:w-full",children:"Print"})]}),o.jsx(qe,{initialValues:x,validationSchema:I7e,onSubmit:A,enableReinitialize:!0,children:({values:I,setFieldValue:T,handleChange:E,handleBlur:R,isSubmitting:M,errors:L,touched:P,submitCount:_,isValid:q})=>o.jsxs(We,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Attachments"}),I.Attachments.length>0?o.jsx("div",{className:"space-y-2",children:I.Attachments.map((F,O)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx($s,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:F.ID?o.jsx("a",{href:`${A7e}/uploads/${F.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:F.name||F.DataName}):F.name||F.DataName})]}),o.jsx("button",{type:"button",onClick:()=>S(O,T,I),className:"text-red-500 hover:text-red-700",children:o.jsx(Qt,{className:"h-4 w-4"})})]},O))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 font-semibold text-blue-500 rounded-md",children:I==null?void 0:I.Status.toUpperCase()})]}),o.jsx(k,{label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,onChange:E,value:I.InvoiceNumber,error:L.InvoiceNumber&&P.InvoiceNumber,touched:P.InvoiceNumber})]}),o.jsx(k,{label:"Date",name:"InvoiceDate",type:"date",onChange:E,value:I.InvoiceDate,required:!0,error:L.InvoiceDate&&P.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Agency",name:"Agency",placeholder:"Enter Agency",type:"text",required:!0,onChange:E,value:I.Agency,error:L.Agency,touched:P.Agency}),o.jsx(k,{label:"Fund",name:"FundsID",type:"select",options:v,required:!0,onChange:E,value:I.FundsID,error:P.FundsID&&L.FundsID,touched:P.FundsID})]})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payor Information"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxpayer Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>{l("Individual"),T("PayorType","Individual"),T("PayorName","")},className:`px-4 py-2 rounded-md ${i==="Individual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Individual"}),o.jsx("button",{type:"button",onClick:()=>{l("Corporation"),T("PayorType","Corporation"),T("PayorName","")},className:`px-4 py-2 rounded-md ${i==="Corporation"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Corporation"})]})]}),o.jsx(ut,{label:"Payor",name:"CustomerName",type:"select",options:i==="Individual"?g:b,required:!0,placeholder:"Select Payor",onSelect:F=>{const O=i==="Individual"?g.find(V=>V.value===F):b.find(V=>V.value===F);T("CustomerName",(O==null?void 0:O.label)||""),T("CustomerID",(O==null?void 0:O.value)||"")},selectedValue:I.CustomerID,error:L.CustomerName,touched:P.CustomerName})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Items"}),o.jsx(Gr,{name:"TransactionItemsAll",children:({push:F,remove:O})=>o.jsxs("div",{className:"space-y-4",children:[I.TransactionItemsAll.map((V,W)=>{var $,B,Q,fe,ae,J,oe,ee,re,K,Y,ue,me,ve,De,_e,yt,Tt,vn,Zr,Z,je,te,ge;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[o.jsx(k,{label:"Item ID",name:`TransactionItemsAll.${W}.ItemID`,type:"select",options:j,required:!0,value:V.ItemID,onChange:E,onBlur:R,error:((B=($=P.TransactionItemsAll)==null?void 0:$[W])==null?void 0:B.ItemID)&&((fe=(Q=L.TransactionItemsAll)==null?void 0:Q[W])==null?void 0:fe.ItemID),touched:(J=(ae=P.TransactionItemsAll)==null?void 0:ae[W])==null?void 0:J.ItemID}),o.jsx(k,{label:"Account",name:`TransactionItemsAll.${W}.ChargeAccountID`,type:"select",options:C,required:!0,value:V.ChargeAccountID,onChange:E,onBlur:R,error:((ee=(oe=P.TransactionItemsAll)==null?void 0:oe[W])==null?void 0:ee.ChargeAccountID)&&((K=(re=L.TransactionItemsAll)==null?void 0:re[W])==null?void 0:K.ChargeAccountID),touched:(ue=(Y=P.TransactionItemsAll)==null?void 0:Y[W])==null?void 0:ue.ChargeAccountID}),o.jsx(k,{label:"Qty",name:`TransactionItemsAll.${W}.Quantity`,type:"number",required:!0,min:"1",value:V.Quantity,onChange:E,onBlur:R,error:((ve=(me=P.TransactionItemsAll)==null?void 0:me[W])==null?void 0:ve.Quantity)&&((_e=(De=L.TransactionItemsAll)==null?void 0:De[W])==null?void 0:_e.Quantity),touched:(Tt=(yt=P.TransactionItemsAll)==null?void 0:yt[W])==null?void 0:Tt.Quantity}),o.jsx(k,{label:"Price",name:`TransactionItemsAll.${W}.Price`,type:"number",required:!0,min:"0",value:V.Price,onChange:E,onBlur:R,error:((Zr=(vn=P.TransactionItemsAll)==null?void 0:vn[W])==null?void 0:Zr.Price)&&((je=(Z=L.TransactionItemsAll)==null?void 0:Z[W])==null?void 0:je.Price),touched:(ge=(te=P.TransactionItemsAll)==null?void 0:te[W])==null?void 0:ge.Price}),o.jsx(k,{label:"Vatable",type:"checkbox",id:`TransactionItemsAll.${W}.Vatable`,name:`TransactionItemsAll.${W}.Vatable`,checked:V.Vatable,onChange:E}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"text-sm font-medium",children:["Subtotal:"," ",(V.Quantity*V.Price).toFixed(2)]}),W>0&&o.jsx("button",{type:"button",onClick:()=>O(W),className:"text-red-500 hover:text-red-700",children:o.jsx(Qr,{})})]})]},W)}),o.jsx("button",{type:"button",onClick:()=>F({ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}),className:"btn btn-primary",children:"+ Add Item"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:I.TransactionItemsAll.reduce((F,O)=>F+O.Quantity*O.Price,0).toFixed(2)})]}),o.jsx(k,{label:"Amount in Words",name:"amountInWords",type:"text",value:bs(I.TransactionItemsAll.reduce((F,O)=>F+O.Quantity*O.Price,0)),readOnly:!0})," "]})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payment Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),o.jsx("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[{value:2,label:"Cash"},{value:3,label:"Check"},{value:8,label:"Money Order"},{value:9,label:"Treasury Warrant"}].map((F,O)=>o.jsx("button",{type:"button",onClick:()=>T("PaymentMethodID",F.value),className:`px-2 py-1 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium border ${I.PaymentMethodID===F.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${O===0?"rounded-l-md":O===3?"rounded-r-md":"border-l-0"}`,children:F.label},F.value))})]}),I.PaymentMethodID===3&&o.jsxs(o.Fragment,{children:[o.jsx(k,{label:"Check Number",name:"CheckNumber",type:"text",value:I.CheckNumber,onChange:E,error:L.CheckNumber&&P.CheckNumber}),o.jsx(k,{label:"Bank",name:"PayeeBank",type:"text",value:I.PayeeBank,onChange:E}),o.jsx(k,{label:"Check Date",name:"CheckDate",type:"date",value:I.CheckDate,onChange:E,error:L.CheckDate&&P.CheckDate})]}),I.PaymentMethodID===8&&o.jsxs(o.Fragment,{children:[o.jsx(k,{label:"Money Order Number",name:"MoneyOrder",type:"text",value:I.MoneyOrder,onChange:E,error:L.MoneyOrder&&P.MoneyOrder}),o.jsx(k,{label:"Money Order Date",name:"MoneyOrderDate",type:"date",value:I.MoneyOrderDate,onChange:E,error:L.MoneyOrderDate&&P.MoneyOrderDate})]}),o.jsx(k,{label:"Remarks",name:"Remarks",type:"textarea",value:I.Remarks,onChange:E,rows:2,error:L.Remarks&&P.Remarks})]}),c&&o.jsx(le,{isOpen:c,onClose:()=>u(!1),title:"Attachments",size:"md",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg sm:p-4 text-center",children:o.jsx("label",{className:"cursor-pointer",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx($s,{className:"h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to browse or drag and drop files"}),o.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:F=>{N(F,T,I),u(!1)}})]})})})})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:M||!q,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:M?"Saving...":"Save"})]})]})})]})}function T7e(){const t=de(),{receipts:e,isLoading:r,currentNumber:n}=H(M=>M.generalReceipts),{Add:a,Edit:s,Delete:i,Print:l}=Ce(52),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,h]=w.useState(!1),[y,p]=w.useState(null),[b,g]=w.useState(!1);w.useEffect(()=>{t(Bi())},[t]),console.log("generalReceipts",e);const v=()=>{p(null),h(!0),t(Qb())},j=M=>{p(M),f(!0)},C=M=>{p(M),h(!0)},x=()=>{f(!1),p(null)},N=()=>{h(!1),p(null)},S=M=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(M),A=async M=>{try{await t(Xb(M.ID)).unwrap(),t(Bi()),z.success("Receipt deleted successfully.")}catch(L){console.error("Error deleting receipt:",L),z.error("Failed to delete receipt.")}},I=[{key:"ID",header:"Invoice",sortable:!0,className:"font-medium text-neutral-900",render:M=>o.jsx("div",{className:"flex items-center gap-1",children:M})},{key:"Status",header:"Status",sortable:!0,render:M=>o.jsx("span",{className:`px-2 py-1 rounded ${M==="Posted"?"bg-green-100 text-green-800":M==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:M})},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"CustomerName",header:"Customer Name",sortable:!0,render:M=>(M==null?void 0:M.trim())||"N/A"},{key:"InvoiceNumber",header:"Order No.",sortable:!0},{key:"Total",header:"Amount",sortable:!0,render:M=>S(M),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:M=>M||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:M=>({1:"General Fund",2:"Special Education Fund"})[M]||""},{key:"CheckNumber",header:"Check",sortable:!0,render:M=>M||""},{key:"MoneyOrder",header:"Money Order",sortable:!0,render:M=>M||""},{key:"MoneyOrderDate",header:"Money Order Date",sortable:!0,render:M=>M||""}],T=async(M,L)=>{g(!0);try{const P=await Fe.post(`/disbursementVoucher/${L}`,{ID:M.ID});console.log(`${L}d:`,P.data),t(Bi()),z.success(`General Receipt ${L}d successfully`)}catch(P){console.error(`Error ${L}ing General Receipt:`,P),z.error(`Error ${L}ing General Receipt`)}finally{g(!1)}},E=M=>{const L=[];return M.Status.toLowerCase().includes("rejected")&&s?(L.push({icon:Pe,title:"Edit",onClick:()=>handleEditOR(M),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),L.push({icon:Ca,title:"Delete",onClick:()=>A(M),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):M.Status==="Requested"&&L.push({icon:bn,title:"Approve",onClick:()=>T(M,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>T(M,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),L.push({icon:Zo,title:"View",onClick:()=>j(M),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),L},R=async M=>{if(M)try{const L=await t(Jb(M)).unwrap();console.log("Operation successful:",L,M),t(Bi()),z.success("Receipt saved successfully.")}catch(L){console.error("Submission failed:",L),z.error(L.message||"Failed to save receipt")}finally{N()}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Service Receipt"}),o.jsx("p",{children:"Manage official receipts and collections"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:a&&o.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Service Receipt"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:I,data:e,actions:E,loading:r||b})}),o.jsx(k7e,{isOpen:m,onClose:N,selectedReceipt:y,onSubmit:R,Print:l,currentNumber:n}),o.jsx(o.Fragment,{children:o.jsx(le,{isOpen:d,onClose:x,title:"General Receipt Details",size:"lg",children:y&&o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Receipt Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OR Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.InvoiceNumber||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.InvoiceDate?new Date(y.InvoiceDate).toLocaleDateString():"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.FundsID===1?"General Fund":y.FundsID===2?"Special Education Fund":y.FundsID||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.ModeofPayment||(y.CheckNumber?"Check":y.MoneyOrder?"Money Order":"Cash")})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Status"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${y.Status==="Posted"?"bg-green-100 text-green-800":y.Status==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:y.Status})})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payor Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.CustomerName||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.BillingAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Due Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.BillingDueDate?new Date(y.BillingDueDate).toLocaleDateString():"N/A"})]}),y.CheckNumber&&o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Check Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.CheckNumber})]}),y.MoneyOrder&&o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Money Order"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:y.MoneyOrder})]})]})]})]}),y.TransactionItemsAll&&y.TransactionItemsAll.length>0&&o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-3",children:"Transaction Items"}),o.jsx("div",{className:"space-y-2",children:y.TransactionItemsAll.map((M,L)=>o.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-sm font-medium",children:["Item ID: ",M.ItemID]}),o.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["Qty: ",M.Quantity]})]}),o.jsx("span",{className:"text-sm font-medium",children:S(parseFloat(M.Price||0))})]},M.ID||L))})]}),o.jsxs("div",{className:"p-4 bg-success-50 rounded-lg border border-success-200",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-success-700",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-success-700",children:S(parseFloat(y.Total||0))})]}),y.RemainingBalance&&parseFloat(y.RemainingBalance)>0&&o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Remaining Balance"}),o.jsx("span",{className:"text-lg font-bold text-orange-700",children:S(parseFloat(y.RemainingBalance))})]})]}),y.Remarks&&o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),o.jsx("p",{className:"text-sm text-gray-600",children:y.Remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:x,className:"btn btn-outline",children:"Close"}),s&&o.jsx("button",{type:"button",onClick:()=>C(y),className:"btn btn-primary",children:"Edit"})]})]})})})]})}const P7e=ce().shape({ownerId:X().required("Owner ID is required"),basicGeneralYearID:X().required("Basic general year is required"),T_D_No:D().required("Tax declaration number is required"),IsNew:Rs().required(),LinkID:X().nullable(),CustomerName:D().required("Customer name is required"),Municipality:D().required("Municipality is required"),AmountinWords:D().required("Amount in words is required"),AmountReceived:X().min(0).required("Amount received is required"),RemainingBalance:X().min(0).required("Remaining balance is required"),CheckNumber:X().required("Check number is required"),AdvancedYear:X().min(1900).max(2100).required("Advanced year is required"),AdvanceFunds:X().min(0).required("Advance funds is required"),FundsID:X().required("Funds ID is required"),ReceivedFrom:D().required("Received from is required"),Location:D().required("Location is required"),Lot:D().required("Lot is required"),Block:D().required("Block is required"),PreviousPaymentList:zt().of(ce().shape({LandPrice:X().min(0).required("Land price is required"),ImprovementPrice:X().min(0).required("Improvement price is required"),TotalAssessedValue:X().min(0).required("Total assessed value is required"),TaxDue:X().min(0).required("Tax due is required"),InstallmentPayment:X().min(0).required("Installment payment is required"),FullPayment:X().min(0).required("Full payment is required"),Penalty:X().min(0).required("Penalty is required"),Total:X().min(0).required("Total is required")})).min(0,"At least one previous payment entry is required"),PresentPaymentList:zt().of(ce().shape({LandPrice:X().min(0).required("Land price is required"),ImprovementPrice:X().min(0).required("Improvement price is required"),TotalAssessedValue:X().min(0).required("Total assessed value is required"),TaxDue:X().min(0).required("Tax due is required"),InstallmentPayment:X().min(0).required("Installment payment is required"),FullPayment:X().min(0).required("Full payment is required"),Penalty:X().min(0).required("Penalty is required"),Discount:X().min(0).required("Discount is required"),Total:X().min(0).required("Total is required"),RemainingBalance:X().min(0).required("Remaining balance is required")})).min(0,"At least one present payment entry is required")}),E7e=t=>{if(!t||!Array.isArray(t))return{previous:[],present:[]};const e=t.filter(n=>!n.Present).map(n=>({LandPrice:parseFloat(n.LandPrice||0),ImprovementPrice:parseFloat(n.ImprovementPrice||0),TotalAssessedValue:parseFloat(n.TotalAssessedValue||0),TaxDue:parseFloat(n.TaxDue||0),InstallmentPayment:parseFloat(n.InstallmentPayment||0),FullPayment:parseFloat(n.FullPayment||0),Penalty:parseFloat(n.Penalty||0),Total:parseFloat(n.Total||0)})),r=t.filter(n=>n.Present).map(n=>({LandPrice:parseFloat(n.LandPrice||0),ImprovementPrice:parseFloat(n.ImprovementPrice||0),TotalAssessedValue:parseFloat(n.TotalAssessedValue||0),TaxDue:parseFloat(n.TaxDue||0),InstallmentPayment:parseFloat(n.InstallmentPayment||0),FullPayment:parseFloat(n.FullPayment||0),Penalty:parseFloat(n.Penalty||0),Discount:parseFloat(n.Discount||0),Total:parseFloat(n.Total||0),RemainingBalance:parseFloat(n.RemainingBalance||0)}));return{previous:e,present:r}},D7e=({onCreateOrEdit:t,onBack:e,individualOptions:r,generalRevisionsOptions:n,initialData:a=null})=>{const s=de(),{tdNumber:i,addButtonResult:l,isLoading:c}=H(O=>O.realPropertyTax),[u,d]=w.useState(!1),[f,m]=w.useState(!1),[h,y]=w.useState({LandPrice:"",ImprovementPrice:"",TotalAssessedValue:"",Total:"",TaxDue:"",InstallmentPayment:"",FullPayment:"",Penalty:"",dueDateYear:"",payment:""}),[p,b]=w.useState({LandPrice:"",ImprovementPrice:"",TotalAssessedValue:"",Total:"",Discount:"",Penalty:"",TaxDue:"",InstallmentPayment:!1,FullPayment:!1,dueDateYear:"",payment:""}),v=tt({initialValues:(()=>{var O,V,W,$,B,Q;if(a){const{previous:fe,present:ae}=E7e(a.properties),J=r==null?void 0:r.find(ee=>ee.label===a.CustomerName),oe=n==null?void 0:n.find(ee=>{var re;return ee.label===((re=a.GeneralRevision)==null?void 0:re.toString())});return{IsNew:!1,LinkID:a.LinkID,ownerId:(J==null?void 0:J.value)||"",CustomerName:a.CustomerName||"",basicGeneralYearID:(oe==null?void 0:oe.value)||"",T_D_No:a.T_D_No||"",Municipality:a.Municipality||"MAKATI",AmountinWords:a.AmountinWords||"",AmountReceived:parseFloat(a.AmountReceived||0),RemainingBalance:parseFloat(a.RemainingBalance||0),CheckNumber:a.CheckNumber||0,AdvancedYear:a.AdvancedYear||"",AdvanceFunds:parseFloat(a.AdvanceFunds||0),FundsID:a.FundsID||0,ReceivedFrom:a.ReceivedFrom||"CEDRIC",Location:((V=(O=a.properties)==null?void 0:O[0])==null?void 0:V.Location)||"",Lot:(($=(W=a.properties)==null?void 0:W[0])==null?void 0:$.Lot)||"",Block:((Q=(B=a.properties)==null?void 0:B[0])==null?void 0:Q.Block)||"",PreviousPaymentList:fe,PresentPaymentList:ae}}return{IsNew:!0,LinkID:null,ownerId:"",CustomerName:"",basicGeneralYearID:"",T_D_No:"",Municipality:"MAKATI",AmountinWords:"",AmountReceived:0,RemainingBalance:0,CheckNumber:0,AdvancedYear:"",AdvanceFunds:0,FundsID:0,ReceivedFrom:"CEDRIC",Location:"",Lot:"",Block:"",PreviousPaymentList:[],PresentPaymentList:[]}})(),validationSchema:P7e,onSubmit:O=>{t(O)}}),{values:j,errors:C,touched:x,handleChange:N,handleBlur:S,setFieldValue:A,handleSubmit:I}=v;w.useEffect(()=>{const O=j.ownerId&&j.basicGeneralYearID&&j.T_D_No&&l;d(O)},[j.ownerId,j.basicGeneralYearID,j.T_D_No,l]),w.useEffect(()=>{var O;if(j.ownerId&&j.basicGeneralYearID){const V=(O=n==null?void 0:n.find(W=>W.value===Number(j.basicGeneralYearID)))==null?void 0:O.label;s(FV({ownerId:j.ownerId,generalRevision:V})),A("AdvancedYear",V)}},[j.ownerId,j.basicGeneralYearID,s,A]);const T=i?i.map(O=>({value:O.T_D_No,label:O.T_D_No})):[],E=async()=>{try{await s(BV(j.T_D_No)).unwrap()}catch(O){console.error("Failed to add tax declaration:",O),z.error("Failed to add tax declaration. "+O.message)}},R=O=>{const{name:V,value:W}=O.target;y($=>({...$,[V]:W}))},M=O=>{const{name:V,value:W}=O.target;b($=>({...$,[V]:W}))},L=()=>{const O={LandPrice:Number(h.LandPrice)||0,ImprovementPrice:Number(h.ImprovementPrice)||0,TotalAssessedValue:Number(h.TotalAssessedValue)||0,TaxDue:Number(h.TaxDue)||0,InstallmentPayment:Number(h.InstallmentPayment)||0,FullPayment:Number(h.FullPayment)||0,Penalty:Number(h.Penalty)||0,Total:Number(h.Total)||0};A("PreviousPaymentList",[...j.PreviousPaymentList,O]),y({LandPrice:"",ImprovementPrice:"",TotalAssessedValue:"",Total:"",TaxDue:"",InstallmentPayment:"",FullPayment:"",Penalty:""})},P=O=>{const V=j.PreviousPaymentList.filter((W,$)=>$!==O);A("PreviousPaymentList",V)},_=()=>{const O={LandPrice:Number(p.LandPrice)||0,ImprovementPrice:Number(p.ImprovementPrice)||0,TotalAssessedValue:Number(p.TotalAssessedValue)||0,TaxDue:Number(p.TaxDue)||0,InstallmentPayment:p.InstallmentPayment?1:0,FullPayment:p.FullPayment?1:0,Penalty:Number(p.Penalty)||0,Discount:Number(p.Discount)||0,Total:Number(p.Total)||0,RemainingBalance:0};A("PresentPaymentList",[...j.PresentPaymentList,O]),b({LandPrice:"",ImprovementPrice:"",TotalAssessedValue:"",Total:"",Discount:"",Penalty:"",TaxDue:"",InstallmentPayment:!1,FullPayment:!1})},q=O=>{const V=j.PresentPaymentList.filter((W,$)=>$!==O);A("PresentPaymentList",V)},F=({entries:O,title:V,removeEntry:W})=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[o.jsx("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between sm:items-center gap-4 max-sm:flex-col",children:o.jsx("h3",{className:"text-lg font-semibold",children:V})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full table-fixed border-collapse border border-gray-300 text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("th",{className:"w-16 border border-gray-300 p-2 font-medium",children:"#"}),o.jsx("th",{className:"w-28 border border-gray-300 p-2 font-medium",children:"Land"}),o.jsx("th",{className:"w-32 border border-gray-300 p-2 font-medium",children:"Improvement"}),o.jsx("th",{className:"w-32 border border-gray-300 p-2 font-medium",children:"Total Assessed"}),o.jsx("th",{className:"w-28 border border-gray-300 p-2 font-medium",children:"Tax Due"}),o.jsx("th",{className:"w-28 border border-gray-300 p-2 font-medium",children:"Installment Payment"}),o.jsx("th",{className:"w-28 border border-gray-300 p-2 font-medium",children:"Full Payment"}),o.jsx("th",{className:"w-20 border border-gray-300 p-2 font-medium",children:"Penalty"}),o.jsx("th",{className:"w-20 border border-gray-300 p-2 font-medium",children:"Total"}),V.includes("Present")&&o.jsx("th",{className:"w-20 border border-gray-300 p-2 font-medium",children:"Discount"}),o.jsx("th",{className:"w-16 border border-gray-300 p-2 font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:O.map(($,B)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:B+1}),o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:$.LandPrice.toFixed(2)}),o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:$.ImprovementPrice.toFixed(2)}),o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:$.TotalAssessedValue.toFixed(2)}),o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:$.TaxDue.toFixed(2)}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:$.InstallmentPayment?"Yes":"No"}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:$.FullPayment?"Yes":"No"}),o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:$.Penalty.toFixed(2)}),o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:$.Total.toFixed(2)}),V.includes("Present")&&o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:$.Discount.toFixed(2)}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx("button",{type:"button",onClick:()=>W(B),className:"text-red-500 hover:text-red-700",children:o.jsx(Qt,{size:16})})})]},B))})]})})})]});return o.jsx("div",{className:"min-h-screen bg-white md:p-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(mfe,{className:"h-5 w-5"}),"Basic Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 items-center border-b ",children:[o.jsx(ut,{label:"Owner",name:"CustomerName",options:r,value:j.CustomerName,onSelect:O=>{const V=r.find(W=>W.value===O);A("CustomerName",(V==null?void 0:V.label)||""),A("ownerId",(V==null?void 0:V.value)||"")},className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",selectedValue:j.ownerId,error:C.CustomerName,required:!0,touched:x.CustomerName}),o.jsx(k,{label:"General Revision (Year)",name:"basicGeneralYearID",type:"select",options:n,value:j.basicGeneralYearID,onChange:N,required:!0,onBlur:S,error:C.basicGeneralYearID,touched:x.basicGeneralYearID,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Tax Declaration Number",name:"T_D_No",type:"select",options:T,value:j.T_D_No,disabled:!T.length||c,onChange:N,onBlur:S,error:C.T_D_No,required:!0,touched:x.T_D_No,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx("button",{className:"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",disabled:!T.length||c||!j.T_D_No,onClick:E,children:"Add"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsx(k,{label:"Check Number",name:"CheckNumber",value:j.CheckNumber,onChange:N,required:!0,onBlur:S,error:C.CheckNumber,touched:x.CheckNumber,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Received From",name:"ReceivedFrom",value:j.ReceivedFrom,onChange:N,required:!0,onBlur:S,error:C.ReceivedFrom,touched:x.ReceivedFrom,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Municipality",name:"Municipality",value:j.Municipality,onChange:N,onBlur:S,required:!0,error:C.Municipality,touched:x.Municipality,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Address",name:"Location",value:j.Location,onChange:N,required:!0,onBlur:S,error:C.Location,touched:x.Location,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Block",name:"Block",value:j.Block,onChange:N,onBlur:S,required:!0,error:C.Block,touched:x.Block,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Lot",name:"Lot",value:j.Lot,onChange:N,onBlur:S,required:!0,error:C.Lot,touched:x.Lot,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})]})]})]}),o.jsxs("div",{className:`bg-white rounded-lg shadow-lg ${u?"":"opacity-50 pointer-events-none"}`,children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Previous Balance Land Values"})}),o.jsx("div",{className:"sm:p-6 p-3",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(k,{label:"Land Values",name:"LandPrice",value:h.LandPrice,onChange:R,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Improvement",name:"ImprovementPrice",value:h.ImprovementPrice,onChange:R,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Total Assessed Value",name:"TotalAssessedValue",value:h.TotalAssessedValue,onChange:R,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Tax Due",name:"TaxDue",value:h.TaxDue,onChange:R,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Installment Payment",name:"InstallmentPayment",value:h.InstallmentPayment,onChange:R,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Full Payment",name:"FullPayment",value:h.FullPayment,onChange:R,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Penalty",name:"Penalty",value:h.Penalty,onChange:R,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Total",name:"Total",value:h.Total,onChange:R,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{type:"button",className:"btn btn-primary",disabled:!u,onClick:L,children:[o.jsx(om,{size:16})," Add"]})})]})})]}),x.PreviousPaymentList&&C.PreviousPaymentList&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:C.PreviousPaymentList}),o.jsx(F,{entries:j.PreviousPaymentList,title:"Previous Year Balance - Detailed Property List",removeEntry:P}),o.jsxs("div",{className:`bg-white rounded-lg shadow-lg ${u?"":"opacity-50 pointer-events-none"}`,children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Present Year Balance"})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(k,{label:"Land Values",name:"LandPrice",value:p.LandPrice,onChange:M,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Improvement",name:"ImprovementPrice",value:p.ImprovementPrice,onChange:M,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Total Assessed Value",name:"TotalAssessedValue",value:p.TotalAssessedValue,onChange:M,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Tax Due",name:"TaxDue",value:p.TaxDue,onChange:M,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Discount Rate",name:"Discount",value:p.Discount,onChange:M,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Penalty Rate",name:"Penalty",value:p.Penalty,onChange:M,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(k,{label:"Total",name:"Total",value:p.Total,onChange:M,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),o.jsxs("div",{className:"flex gap-4 flex-col",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:p.InstallmentPayment,onChange:()=>b({...p,InstallmentPayment:!0,FullPayment:!1}),disabled:!u,className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm",children:"Installment Payment"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:p.FullPayment,onChange:()=>b({...p,FullPayment:!0,InstallmentPayment:!1}),disabled:!u,className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm",children:"Full Payment"})]})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{type:"button",className:"btn btn-primary",disabled:!u,onClick:_,children:[o.jsx(om,{size:16})," Add"]})})]})]})]}),x.PresentPaymentList&&C.PresentPaymentList&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:C.PresentPaymentList}),o.jsx(F,{entries:j.PresentPaymentList,title:"Present Year Balance - Detailed Property List",removeEntry:q}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(LP,{className:"h-5 w-5"}),"Payment Summary"]})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(k,{label:"Amount Received",name:"AmountReceived",value:j.AmountReceived,onChange:O=>{A("AmountReceived",O.target.value);const V=bs(O.target.value);A("AmountinWords",V)},onBlur:S,required:!0,error:C.AmountReceived,touched:x.AmountReceived,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 text-right font-mono"}),o.jsx(k,{label:"Remaining Balance",name:"RemainingBalance",value:j.RemainingBalance,onChange:N,onBlur:S,required:!0,error:C.RemainingBalance,touched:x.RemainingBalance,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 text-right font-mono"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(k,{label:"Received From",name:"ReceivedFrom",value:j.ReceivedFrom,onChange:N,required:!0,onBlur:S,error:C.ReceivedFrom,touched:x.ReceivedFrom,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("label",{className:"flex items-start gap-2",children:[o.jsx(k,{type:"checkbox",name:"advancePayment",checked:f,onChange:O=>m(O.target.checked),className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm font-medium ",children:"Advance Payment"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(k,{label:"Funds",name:"AdvanceFunds",value:j.AdvanceFunds,onChange:N,onBlur:S,required:!0,error:C.AdvanceFunds,touched:x.AdvanceFunds,disabled:!f,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 w-20 disabled:bg-gray-100 disabled:cursor-not-allowed"}),o.jsx("span",{className:"text-sm text-gray-900",children:"Until"}),o.jsx(k,{label:"Year",name:"AdvancedYear",value:j.AdvancedYear,onChange:N,onBlur:S,required:!0,error:C.AdvancedYear,touched:x.AdvancedYear,disabled:!f,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 w-20 disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fund Type ",o.jsx("span",{className:"text-red-600",children:"*"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"FundsID",checked:j.FundsID===1,onChange:()=>A("FundsID",1),onBlur:S,className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm",children:"Basic Fund"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"FundsID",checked:j.FundsID===2,onChange:()=>A("FundsID",2),onBlur:S,className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm",children:"Special Education Fund"})]})]})]})]}),o.jsx(k,{label:"Amount In Words",name:"AmountinWords",type:"textarea",value:j.AmountinWords,onChange:N,onBlur:S,error:C.AmountinWords,touched:x.AmountinWords,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter amount in words..."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx(At,{variant:"outline",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx(At,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",onClick:I,children:"Save Draft"})]})]})})},O7e=({isOpen:t,onClose:e,property:r,onEdit:n,Edit:a})=>{if(!r)return null;const s=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d||0),i=d=>d?new Date(d).toLocaleDateString("en-PH"):"N/A",l=d=>{let f="bg-neutral-100 text-neutral-800";switch(d){case"Posted":case"Active":f="bg-success-100 text-success-800";break;case"Requested":f="bg-warning-100 text-warning-800";break;case"Rejected":f="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${f}`,children:d})},c=d=>{switch(d){case 1:return"General Fund";case 2:return"Special Education Fund";default:return`Fund ${d}`||"N/A"}},u=()=>r.ModeofPayment?r.ModeofPayment:r.CheckNumber&&r.CheckNumber!=="0"?"Check":r.MoneyOrder?"Money Order":"Cash";return o.jsx(le,{isOpen:t,onClose:e,title:"Real Property Tax Details",size:"xl",children:o.jsxs("div",{className:"p-4 space-y-6 max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Property Tax Details"}),o.jsxs("dl",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Link ID"}),o.jsx("dd",{className:"text-sm text-neutral-900 sm:col-span-2 font-mono",children:r.LinkID||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"TD Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 sm:col-span-2 font-mono",children:r.T_D_No||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Municipality"}),o.jsx("dd",{className:"text-sm text-neutral-900 sm:col-span-2",children:r.Municipality||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"General Revision"}),o.jsx("dd",{className:"text-sm text-neutral-900 sm:col-span-2",children:r.GeneralRevision||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Status"}),o.jsx("dd",{className:"text-sm text-neutral-900 sm:col-span-2",children:l(r.Status)})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 sm:col-span-2",children:i(r.CreatedDate)})]})]})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-200",children:[o.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-4",children:"Customer Information"}),o.jsxs("dl",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[o.jsx("dt",{className:"text-sm font-medium text-blue-700",children:"Name"}),o.jsx("dd",{className:"text-sm text-blue-900 sm:col-span-2 font-medium",children:r.CustomerName||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[o.jsx("dt",{className:"text-sm font-medium text-blue-700",children:"Received From"}),o.jsx("dd",{className:"text-sm text-blue-900 sm:col-span-2",children:r.ReceivedFrom||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[o.jsx("dt",{className:"text-sm font-medium text-blue-700",children:"Billing Address"}),o.jsx("dd",{className:"text-sm text-blue-900 sm:col-span-2",children:r.BillingAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[o.jsx("dt",{className:"text-sm font-medium text-blue-700",children:"TIN"}),o.jsx("dd",{className:"text-sm text-blue-900 sm:col-span-2",children:r.TIN||"N/A"})]})]})]})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-green-50 border border-green-200",children:[o.jsx("h3",{className:"text-lg font-medium text-green-900 mb-4",children:"Payment Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("dt",{className:"text-sm font-medium text-green-700",children:"Amount Received"}),o.jsx("dd",{className:"text-lg font-bold text-green-900",children:s(parseFloat(r.AmountReceived||0))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("dt",{className:"text-sm font-medium text-green-700",children:"Remaining Balance"}),o.jsx("dd",{className:"text-lg font-bold text-orange-700",children:s(parseFloat(r.RemainingBalance||0))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("dt",{className:"text-sm font-medium text-green-700",children:"Previous Payment"}),o.jsx("dd",{className:"text-lg font-bold text-green-900",children:s(parseFloat(r.PreviousPayment||0))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("dt",{className:"text-sm font-medium text-green-700",children:"Fund"}),o.jsx("dd",{className:"text-sm text-green-900",children:c(r.FundsID)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("dt",{className:"text-sm font-medium text-green-700",children:"Payment Mode"}),o.jsx("dd",{className:"text-sm text-green-900",children:u()})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("dt",{className:"text-sm font-medium text-green-700",children:"Check Number"}),o.jsx("dd",{className:"text-sm text-green-900 font-mono",children:r.CheckNumber&&r.CheckNumber!=="0"?r.CheckNumber:"N/A"})]})]}),r.AmountinWords&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-green-200",children:[o.jsx("dt",{className:"text-sm font-medium text-green-700 mb-1",children:"Amount in Words"}),o.jsx("dd",{className:"text-sm text-green-900 italic",children:r.AmountinWords})]})]}),r.AdvanceFunds&&parseFloat(r.AdvanceFunds)>0&&o.jsxs("div",{className:"p-4 rounded-lg bg-purple-50 border border-purple-200",children:[o.jsx("h3",{className:"text-lg font-medium text-purple-900 mb-4",children:"Advanced Payment"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("dt",{className:"text-sm font-medium text-purple-700",children:"Advanced Year"}),o.jsx("dd",{className:"text-sm text-purple-900",children:r.AdvancedYear||"N/A"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("dt",{className:"text-sm font-medium text-purple-700",children:"Advanced Funds"}),o.jsx("dd",{className:"text-lg font-bold text-purple-900",children:s(parseFloat(r.AdvanceFunds||0))})]})]})]}),r.properties&&r.properties.length>0&&o.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[o.jsxs("h3",{className:"text-lg font-medium text-orange-900 mb-4",children:["Property Details (",r.properties.length," properties)"]}),o.jsx("div",{className:"space-y-4",children:r.properties.map((d,f)=>o.jsxs("div",{className:`p-4 bg-white rounded-lg border-2 ${d.Present?"border-green-300":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("h4",{className:"font-medium text-gray-900",children:["Property ",f+1,d.Present&&o.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Current"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-lg font-bold text-orange-700",children:s(parseFloat(d.Total||0))}),o.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Owner:"}),o.jsx("div",{className:"text-gray-900",children:d.Owner||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Location:"}),o.jsx("div",{className:"text-gray-900",children:d.Location||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Lot & Block:"}),o.jsx("div",{className:"text-gray-900",children:d.Lot&&d.Block?`${d.Lot}, ${d.Block}`:"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Land Price:"}),o.jsx("div",{className:"text-gray-900",children:s(parseFloat(d.LandPrice||0))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Improvement:"}),o.jsx("div",{className:"text-gray-900",children:s(parseFloat(d.ImprovementPrice||0))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Assessed Value:"}),o.jsx("div",{className:"text-gray-900 font-medium",children:s(parseFloat(d.TotalAssessedValue||0))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Tax Due:"}),o.jsx("div",{className:"text-gray-900",children:s(parseFloat(d.TaxDue||0))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Penalty:"}),o.jsx("div",{className:"text-red-600",children:s(parseFloat(d.Penalty||0))})]}),d.Discount&&parseFloat(d.Discount)>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Discount:"}),o.jsxs("div",{className:"text-green-600",children:["-",s(parseFloat(d.Discount||0))]})]})]}),d.InstallmentPayment&&parseFloat(d.InstallmentPayment)>0&&o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Installment Payment:"}),o.jsx("div",{className:"text-blue-600 font-medium",children:s(parseFloat(d.InstallmentPayment||0))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Full Payment:"}),o.jsx("div",{className:"text-green-600 font-medium",children:s(parseFloat(d.FullPayment||0))})]})]})})]},d.ID||f))})]}),r.Remarks&&o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),o.jsx("p",{className:"text-sm text-gray-600",children:r.Remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"}),a&&o.jsx("button",{type:"button",onClick:()=>n(r),className:"btn btn-primary",children:"Edit"})]})]})})},g9=w.forwardRef(({property:t},e)=>{var r,n;return t?o.jsxs("div",{ref:e,className:"w-full text-black p-8",style:{fontFamily:"Arial, sans-serif"},children:[o.jsxs("div",{className:"flex justify-between text-sm mb-6",children:[o.jsx("div",{children:o.jsx("p",{className:"font-bold",children:t.Address})}),o.jsxs("div",{children:[o.jsx("p",{children:new Date().toLocaleDateString()}),o.jsx("p",{children:new Date().getFullYear()})]})]}),o.jsx("div",{className:"mb-4",children:o.jsx("p",{className:"font-medium",children:t.CustomerName})}),o.jsx("div",{className:"mb-4 text-center font-medium",children:o.jsx("p",{children:t.AmountInWords})}),o.jsxs("table",{className:"w-full text-sm border-collapse mb-6",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-1",children:"Owner"}),o.jsx("th",{className:"text-left py-1",children:"TD No."}),o.jsx("th",{className:"text-right py-1",children:"Assessed Value"}),o.jsx("th",{className:"text-right py-1",children:"Market Value"}),o.jsx("th",{className:"text-center py-1",children:"Year"}),o.jsx("th",{className:"text-right py-1",children:"Basic Tax"}),o.jsx("th",{className:"text-right py-1",children:"Penalty"}),o.jsx("th",{className:"text-right py-1",children:"Discount"}),o.jsx("th",{className:"text-right py-1",children:"Total"})]})}),o.jsx("tbody",{children:(r=t.properties)==null?void 0:r.map((a,s)=>{var i,l,c;return o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-1",children:a.Owner}),o.jsx("td",{className:"py-1",children:a.T_D_No}),o.jsx("td",{className:"py-1 text-right",children:(i=a.AssessedValue)==null?void 0:i.toLocaleString()}),o.jsx("td",{className:"py-1 text-right",children:(l=a.MarketValue)==null?void 0:l.toLocaleString()}),o.jsx("td",{className:"py-1 text-center",children:a.Year}),o.jsx("td",{className:"py-1 text-right",children:a.BasicTax}),o.jsx("td",{className:"py-1 text-right",children:a.Penalty}),o.jsx("td",{className:"py-1 text-right",children:a.Discount}),o.jsx("td",{className:"py-1 text-right",children:(c=a.Total)==null?void 0:c.toLocaleString()})]},s)})})]}),o.jsx("div",{className:"flex justify-end font-bold text-lg",children:(n=t.TotalAmount)==null?void 0:n.toLocaleString()})]}):null});g9.displayName="PrintPageRealPropertyTax";function _7e(){const t=de(),{realPropertyTaxes:e,isLoading:r}=H(P=>P.realPropertyTax),{generalRevisions:n,isLoading:a}=H(P=>P.generalRevisions),{customers:s,isLoading:i}=H(P=>P.customers),{Add:l,Edit:c,Print:u}=Ce(70),[d,f]=w.useState("list"),[m,h]=w.useState(null),[y,p]=w.useState(!1),[b,g]=w.useState(!1),v=w.useRef();w.useEffect(()=>{t(al()),t($o()),t(mn())},[]);const j=()=>{h(null),f("form")},C=P=>{h(P),g(!0)},x=P=>{h(P),f("form")},N=ra.useReactToPrint({contentRef:v,documentTitle:`RealPropertyTax-${(m==null?void 0:m.T_D_No)||"Record"}`}),S=()=>{f("list"),h(null)},A=[{key:"Status",header:"Status",sortable:!0,render:P=>I(P)},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"T_D_No",header:"TD No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"LinkID",header:"Link ID",sortable:!0}],I=P=>{let _="bg-neutral-100 text-neutral-800";switch(P){case"Posted":_="bg-success-100 text-success-800";break;case"Requested":_="bg-warning-100 text-warning-800";break;case"Rejected":_="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_}`,children:P})},T=async(P,_)=>{var O,V;const F={approve:{endpoint:"postTransaction",payload:{id:P.ID,linkID:P.LinkID,approvalLinkID:P.LinkID,approvalProgress:P.approvalProgress||1,amountReceived:P.PreviousPayment||0,ApprovalOrder:P.ApprovalOrder||1,transactionApprovalVersion:P.transactionApprovalVersion||1},successMsg:"Real Property approved successfully",errorMsg:"Error approving Real Property"},reject:{endpoint:"rejectTransaction",payload:{id:P.ID,approvalLinkID:P.LinkID,reasonForRejection:P.reasonForRejection||"ANY REASON"},successMsg:"Real Property rejected successfully",errorMsg:"Error rejecting Real Property"}}[_];if(!F){console.error("Invalid action:",_);return}p(!0);try{const{data:W}=await Fe.post(`/real-property-tax/${F.endpoint}`,F.payload);console.log(`${_} response:`,W),t(al()),z.success(F.successMsg)}catch(W){const $=((V=(O=W.response)==null?void 0:O.data)==null?void 0:V.message)||F.errorMsg;console.error($,W),z.error($)}finally{p(!1)}},E=P=>{const _=[];return P.Status.toLowerCase().includes("rejected")&&c?_.push({icon:Pe,title:"Edit",onClick:()=>x(P),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}):P.Status==="Requested"&&_.push({icon:bn,title:"Post",onClick:()=>T(P,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>T(P,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),_.push({icon:Zo,title:"View",onClick:()=>C(P),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),_},R=async P=>{try{await t(rb(P)).unwrap(),t(al()),S(),z.success("Property saved successfully")}catch(_){console.error("Error saving property:",_),z.error("Failed to save property. Please try again.")}},M=s==null?void 0:s.map(P=>({value:P.ID,label:P.Name||`${P.FirstName} ${P.MiddleName} ${P.LastName}`})),L=n==null?void 0:n.map(P=>({value:P.ID,label:P.General_Revision_Date_Year}));return console.log("currentProperty",m),o.jsxs(o.Fragment,{children:[d==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4 mb-6 page-header",children:[o.jsxs("div",{ref:v,children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Property Tax Records"}),o.jsx("p",{className:"text-gray-600",children:"Manage real property tax assessments"})]}),o.jsxs("div",{className:"flex gap-2",children:[" ",l&&o.jsxs("button",{type:"button",onClick:j,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Property"]}),u&&o.jsxs("button",{onClick:N,className:"btn btn-primary disabled:opacity-50  ",disabled:(m==null?void 0:m.Status)!=="Posted",children:[o.jsx(Zm,{className:"h-5 w-5 mr-2","aria-hidden":"true"})," ","Print"]})]})]}),o.jsx(xe,{columns:A,data:e,actions:E,loading:r||a||i||y,onRowClick:P=>h(P),selectedRow:m})]}),d==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-between max-sm:flex-col gap-4 sm:items-center mb-6",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(Ja,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:m?"Edit Real Property Tax Record":"Create New Real Property Tax Record"}),o.jsx("p",{className:"text-gray-600",children:m?"Update the property details":"Fill out the form to create a new property record"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(D7e,{initialData:m,onBack:S,onCreateOrEdit:R,individualOptions:M,generalRevisionsOptions:L})})]}),b&&o.jsx(O7e,{isOpen:b,onClose:()=>g(!1),property:m,onEdit:x,Edit:c}),o.jsx("div",{style:{display:"none"},children:o.jsx(g9,{ref:v,property:m})})]})}function R7e({funds:t=[],employees:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=ce({endDate:D().required("Date End is required"),fundID:D().required("Fund is required"),approverID:D().required("Approver is required"),ledger:D().required("Ledger is required")}),c={endDate:"",fundID:"",approverID:"",ledger:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(qe,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:y,isSubmitting:p,setFieldValue:b})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[o.jsx(k,{label:"Date End",name:"endDate",type:"date",value:d.endDate,onChange:h,onBlur:y,error:f.endDate,touched:m.endDate,required:!0}),o.jsx(k,{type:"select",label:"Fund",name:"fundID",options:t.map(g=>({value:g.ID,label:g.Name})),value:d.fundID,onChange:h,onBlur:y,error:f.fundID,touched:m.fundID,required:!0}),o.jsx(k,{label:"Ledger",name:"ledger",type:"select",value:d.ledger,onChange:h,onBlur:y,options:[{value:"General Ledger",label:"General Ledger"},{value:"Subsidiary Ledger",label:"Subsidiary Ledger"}],error:f.ledger,touched:m.ledger,required:!0}),o.jsx(k,{label:"Approver",name:"approverID",type:"select",options:e.map(g=>{var v;return{value:g.ID,label:g.FirstName+" "+g.MiddleName+" "+g.LastName+" - "+((v=g==null?void 0:g.Department)==null?void 0:v.Name)}}),value:d.approverID,onChange:h,onBlur:y,error:f.approverID,touched:m.approverID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-neutral-200 max-sm:flex-col",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:p,children:"Generate Cashbook"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:p,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const $7e="https://staging-engine.testthelink.online",M7e={trialBalances:[],isLoading:!1,error:null},Zb=U("trialBalance/fetchTrialBalances",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$7e}/trialBalanceReport/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),NC=U("trialBalance/exportTrialBalances",async t=>!0),y9=we({name:"trialBalance",initialState:M7e,reducers:{resetTrialBalanceState:t=>{t.trialBalances=[],t.error=null}},extraReducers:t=>{t.addCase(Zb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zb.fulfilled,(e,r)=>{e.isLoading=!1,e.trialBalances=r.payload}).addCase(Zb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(NC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NC.fulfilled,e=>{e.isLoading=!1}).addCase(NC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetTrialBalanceState:L7e}=y9.actions,F7e=y9.reducer;function B7e(){const t="https://staging-engine.testthelink.online",e=de(),{trialBalances:r,isLoading:n,error:a}=H(f=>f.trialBalance),{funds:s}=H(f=>f.funds),{employees:i}=H(f=>f.employees),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);w.useEffect(()=>{e(L7e()),e(er()),e(dn())},[e]);const c=[{key:"AccountCode",header:"Account Code",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"EndDate",header:"End Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=localStorage.getItem("token"),h=await fetch(`${t}/trialBalanceReport/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({endDate:f.endDate,fundID:f.fundID,approverID:f.approverID,ledger:f.ledger})});if(!h.ok)throw new Error("Server response was not ok");const y=await h.blob(),p=h.headers.get("Content-Disposition");let b="Trial_Balance.xlsx";p&&p.includes("filename=")&&(b=p.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(y),v=document.createElement("a");v.href=g,v.download=b,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(g)}catch(m){console.error("Export failed:",m),z.error(m.message||"Failed to export trial balance")}},d=f=>{e(Zb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Trial Balance"}),o.jsx("p",{children:"Generate trial balance reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(R7e,{funds:s,employees:i,onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(xe,{columns:c,data:r,loading:n,pagination:!0})})]})}const q7e="https://staging-engine.testthelink.online",V7e=ce().shape({BudgetID:D().required("Budget is required"),budgetName:D(),fiscalYearID:D(),departmentID:D(),subDepartmentID:D(),chartOfAccountsID:D(),fundID:D(),projectID:D(),allotment:X().integer().required("Allotment is required"),remarks:D(),appropriation:X().integer(),balance:X().integer(),releasedAllotments:X().integer(),releasedBalance:X().integer(),Attachments:zt()}),x5={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",allotment:0,charges:0,totalAmount:0,balance:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[],Status:"Requested"};function U7e({isView:t,initialData:e,onSubmit:r,onClose:n,allotmentList:a,departmentOptions:s,subDepartmentOptions:i,chartOfAccountsOptions:l,fundOptions:c,projectOptions:u,fiscalYearOptions:d}){const[f,m]=w.useState({...x5});w.useEffect(()=>{if(e!=null&&e.ID){const{Budget:g}=e;m({BudgetID:g==null?void 0:g.ID,budgetName:(g==null?void 0:g.Name)||"",fiscalYearID:(g==null?void 0:g.FiscalYearID)||"",departmentID:(g==null?void 0:g.DepartmentID)||"",subDepartmentID:(g==null?void 0:g.SubDepartmentID)||"",chartOfAccountsID:(g==null?void 0:g.ChartofAccountsID)||"",fundID:(g==null?void 0:g.FundID)||"",projectID:(g==null?void 0:g.ProjectID)||"",allotment:(g==null?void 0:g.Allotment)||0,charges:(g==null?void 0:g.Charges)||0,totalAmount:(g==null?void 0:g.TotalAmount)||0,balance:(g==null?void 0:g.AppropriationBalance)||0,remarks:(e==null?void 0:e.Remarks)||"",appropriation:(g==null?void 0:g.Appropriation)||0,releasedAllotments:(g==null?void 0:g.ReleasedAllotments)||0,releasedBalance:(g==null?void 0:g.ReleasedBalance)||0,Attachments:(e==null?void 0:e.Attachments)||[],Status:(e==null?void 0:e.Status)||"Requested"})}else m(x5)},[e]);const h=async(g,{setSubmitting:v})=>{try{const j=new FormData;g==null||g.Attachments.forEach((x,N)=>{x.ID?j.append(`Attachments[${N}].ID`,x.ID):j.append(`Attachments[${N}].File`,x)}),(g==null?void 0:g.Attachments.length)===0&&j.append("Attachments","[]");const C={BudgetID:g.BudgetID,Remarks:g.remarks,Allotment:g.allotment};Object.entries(C).forEach(([x,N])=>{j.append(x,JSON.stringify(N))}),e?(j.append("LinkID",JSON.stringify(e.LinkID)),j.append("IsNew",JSON.stringify(!1))):j.append("IsNew",JSON.stringify(!0)),await r(j)}catch(j){console.error("Submission error:",j)}finally{v(!1)}},y=g=>{const v=a==null?void 0:a.find(j=>j.ID===parseInt(g));v&&m({...f,BudgetID:v.ID,budgetName:v.Name||"",fiscalYearID:v.FiscalYearID||"",departmentID:v.DepartmentID||"",subDepartmentID:v.SubDepartmentID||"",chartOfAccountsID:v.ChartofAccountsID||"",fundID:v.FundID||"",projectID:v.ProjectID||"",appropriation:parseFloat(v.Appropriation)||0,balance:parseFloat(v.AppropriationBalance)||0,charges:parseFloat(v.Charges||0)})},p=(g,v,j)=>{const x=Array.from(g.target.files).map(N=>N);v("Attachments",[...j.Attachments,...x])},b=(g,v,j)=>{const C=[...j.Attachments];C.splice(g,1),v("Attachments",C)};return o.jsx(qe,{enableReinitialize:!0,initialValues:f,validationSchema:V7e,onSubmit:h,children:({values:g,errors:v,touched:j,handleChange:C,handleBlur:x,isSubmitting:N,setFieldValue:S})=>{var A,I;return o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2 pt-4",children:o.jsx(ut,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:f.BudgetID,onSelect:y,options:a.map(T=>({label:T.Name,value:T.ID})),error:v.BudgetID,touched:j.BudgetID})}),console.log("values",g),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:T=>p(T,S,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((A=g==null?void 0:g.Attachments)==null?void 0:A.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((T,E)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx($s,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:o.jsx("a",{href:T!=null&&T.ID?`${q7e}/uploads/${T==null?void 0:T.DataImage}`:URL.createObjectURL(T),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:(T==null?void 0:T.name)||(T==null?void 0:T.DataName)})}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:T==null?void 0:T.type})]}),o.jsx("button",{type:"button",onClick:()=>b(E,S,g),className:"text-red-500 hover:text-red-700",children:o.jsx(Qt,{className:"h-4 w-4"})})]},E))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 font-semibold text-blue-500 rounded-md",children:((I=g==null?void 0:g.Status)==null?void 0:I.toUpperCase())||"Requested"})]}),o.jsx(k,{label:"Budget Name",name:"budgetName",type:"text",value:g.budgetName,onChange:C,onBlur:x,error:v.budgetName,touched:j.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:g.fiscalYearID,onChange:C,onBlur:x,error:v.fiscalYearID,touched:j.fiscalYearID,options:d,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Department",name:"departmentID",type:"select",value:g.departmentID,onChange:C,onBlur:x,error:v.departmentID,touched:j.departmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:g.subDepartmentID,onChange:C,onBlur:x,error:v.subDepartmentID,touched:j.subDepartmentID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:g.chartOfAccountsID,onChange:C,onBlur:x,error:v.chartOfAccountsID,touched:j.chartOfAccountsID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Fund",name:"fundID",type:"select",value:g.fundID,onChange:C,onBlur:x,error:v.fundID,touched:j.fundID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Project",name:"projectID",type:"select",value:g.projectID,onChange:C,onBlur:x,error:v.projectID,touched:j.projectID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Appropriation",name:"appropriation",type:"number",value:g.appropriation,onChange:C,onBlur:x,error:v.appropriation,touched:j.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Balance",name:"balance",type:"number",value:g.balance,onChange:C,onBlur:x,error:v.balance,touched:j.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:g.releasedAllotments,onChange:C,onBlur:x,error:v.releasedAllotments,touched:j.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Released Balance",name:"releasedBalance",type:"number",value:g.releasedBalance,onChange:C,onBlur:x,error:v.releasedBalance,touched:j.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(k,{label:"Allotment",name:"allotment",type:"number",value:g.allotment,onChange:C,onBlur:x,error:v.allotment,touched:j.allotment,required:!0}),o.jsx(k,{label:"Remarks",name:"remarks",type:"textarea",value:g.remarks,onChange:C,onBlur:x,error:v.remarks,touched:j.remarks})]}),!t&&o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:N,className:"btn btn-primary",children:e?"Update":"Save"})]})]})}})}const z7e=()=>{const t=de(),{user:e}=H($=>$.auth),{Add:r,Edit:n,Print:a}=Ce(23),{departments:s}=H($=>$.departments),{subdepartments:i}=H($=>$.subdepartments),l=H($=>{var B;return((B=$.chartOfAccounts)==null?void 0:B.accounts)||[]}),{fiscalYears:c}=H($=>$.fiscalYears),{funds:u}=H($=>$.funds),{projectDetails:d}=H($=>$.projectDetails),[f,m]=w.useState([]),[h,y]=w.useState([]),[p,b]=w.useState(!1),[g,v]=w.useState(!1),[j,C]=w.useState(null),[x,N]=w.useState(!1),[S,A]=w.useState({department:"",subDepartment:"",chartOfAccounts:""});w.useEffect(()=>{t(cr()),t(Po()),t(Pr()),E(),R()},[]);const I=w.useRef(),T=ra.useReactToPrint({contentRef:I,documentTitle:"Allotment Release Order"}),E=async()=>{try{const $=await Fe("/budgetAllotment/list");m($.data)}catch($){ie.error("Failed to load data"),ie.error($.message)}},R=async()=>{try{const $=await Fe("/budgetSupplemental/budgetList");y($==null?void 0:$.data)}catch($){ie.error("Failed to load data"),ie.error($.message)}},M=$=>{const{name:B,value:Q}=$.target;A(fe=>({...fe,[B]:Q}))},L=async $=>{try{(await Fe.post("budgetAllotment",$,{headers:{"Content-Type":"multipart/form-data"}})).data?(ie.success(j?"Allotment updated successfully":"New Allotment added"),E()):ie.error("Failed to save supplemental")}catch(B){console.error("Error submitting supplemental:",B),ie.error(B.message||"Failed to save supplemental")}finally{b(!1)}},P=$=>{C($),b(!0)},_=$=>{C($),b(!0),v(!0)},q=[{key:"Status",header:"Status",render:$=>o.jsx("span",{children:$})},{key:"InvoiceNumber",header:"Invoice Number",render:($,B)=>o.jsx("span",{children:B.InvoiceNumber})},{key:"Budget",header:"Budget",render:($,B)=>{var Q;return o.jsx("span",{children:(Q=B.Budget)==null?void 0:Q.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:($,B)=>{const Q=new Date(B.InvoiceDate);return o.jsx("span",{children:Q.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:($,B)=>{var Q;return o.jsx("span",{children:parseFloat(((Q=B==null?void 0:B.Budget)==null?void 0:Q.TotalAmount)||$||0).toLocaleString("en-US",{minimumFractionDigits:2})})}}],F=async($,B)=>{N(!0);try{console.log(`${B}d:`,response.data),ie.success(`Budget Allotment ${B}d successfully`)}catch(Q){console.error(`Error ${B}ing Budget Allotment:`,Q),ie.error(`Error ${B}ing Budget Allotment`)}finally{N(!1)}},O=$=>{const B=[];return $.Status.toLowerCase().includes("rejected")&&n?(B.push({icon:Na,title:"Edit",onClick:P,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),B.push({icon:Ca,title:"Delete",onClick:()=>V($),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):$.Status.toLowerCase().includes("requested")&&B.push({icon:bn,title:"Approve",onClick:()=>F($,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>F($,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),B.push({icon:Iu,title:"View",onClick:_,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),B},V=async $=>{console.log("Delete row",$)},W=f==null?void 0:f.filter($=>{const{Budget:B}=$;return(!S.department||(B==null?void 0:B.DepartmentID)==S.department)&&(!S.subDepartment||(B==null?void 0:B.SubDepartmentID)==S.subDepartment)&&(!S.chartOfAccounts||(B==null?void 0:B.ChartofAccountsID)==S.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Allotment"}),o.jsx("p",{children:"Manage budget allotments here"})]}),o.jsxs("div",{className:"flex gap-4",children:[r&&o.jsxs("button",{onClick:()=>P(null),className:"btn btn-primary flex items-center",children:[o.jsx(Yue,{className:"h-5 w-5 mr-2"}),"Add Allotment"]}),a&&j&&o.jsxs("button",{onClick:T,className:"btn btn-outline flex items-center",children:[o.jsx(Jc,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:S.department,onChange:M,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),s==null?void 0:s.map($=>o.jsx("option",{value:$.ID,children:$.Name},$.ID))]}),o.jsxs("select",{name:"subDepartment",value:S.subDepartment,onChange:M,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),i==null?void 0:i.map($=>o.jsx("option",{value:$.ID,children:$.Name},$.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:S.chartOfAccounts,onChange:M,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),l==null?void 0:l.map($=>o.jsx("option",{value:$.ID,children:$.Name},$.ID))]})]}),o.jsx(xe,{columns:q,data:W,actions:O,loading:x,onRowClick:$=>{C($)},selectedRow:j,pagination:!0}),o.jsx(le,{size:"md",isOpen:p,onClose:()=>{b(!1),C(null),v(!1)},title:g?"View Allotment":j?"Edit Allotment":"Add Allotment",children:o.jsx(U7e,{isView:g,allotmentList:h,departmentOptions:s.map($=>({value:$.ID,label:$.Name})),subDepartmentOptions:i.map($=>({value:$.ID,label:$.Name})),chartOfAccountsOptions:l.map($=>({value:$.ID,label:$.Name})),fundOptions:u.map($=>({value:$.ID,label:$.Name})),projectOptions:d.map($=>({value:$.ID,label:$.Title})),fiscalYearOptions:c.map($=>({value:$.ID,label:$.Name})),onSubmit:L,initialData:j,onClose:()=>b(!1)})}),o.jsx("div",{style:{display:"none"},children:o.jsx(W7e,{ref:I,row:j})})]})},W7e=G.forwardRef(({row:t},e)=>{if(!t)return null;const r=t.Budget||{};return o.jsxs("div",{ref:e,className:"p-8 bg-white",children:[o.jsx("h2",{className:"text-xl font-bold text-center mb-2",children:"MUNICIPALITY OF DUEAS"}),o.jsx("h3",{className:"text-center mb-2",children:"ALLOTMENT RELEASE ORDER FOR MAINTENANCE AND OTHER OPERATING EXPENSES"}),o.jsx("table",{className:"w-full mb-4 text-sm border",children:o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{className:"font-semibold",children:"Department/Office:"}),o.jsx("td",{children:"Budget"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"font-semibold",children:"Purpose:"}),o.jsx("td",{children:r.Purpose||"Representation Expenses"})]})]})}),o.jsxs("table",{className:"w-full mb-4 text-xs border",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"border px-2",children:"PPA Code"}),o.jsx("th",{className:"border px-2",children:"PPA Description"}),o.jsx("th",{className:"border px-2",children:"Object Class Code"}),o.jsx("th",{className:"border px-2",children:"Authorized Appropriation"}),o.jsx("th",{className:"border px-2",children:"For Later Release"}),o.jsx("th",{className:"border px-2",children:"Previously Released"}),o.jsx("th",{className:"border px-2",children:"This Release"})]})}),o.jsx("tbody",{children:o.jsxs("tr",{children:[o.jsx("td",{className:"border px-2",children:r.PPACode||"12345-ABC"}),o.jsx("td",{className:"border px-2",children:r.Description||"Representation Expenses"}),o.jsx("td",{className:"border px-2",children:r.ObjectClassCode||"50299030"}),o.jsx("td",{className:"border px-2",children:r.AuthorizedAppropriation||"200,000.00"}),o.jsx("td",{className:"border px-2",children:r.ForLaterRelease||"168,000.00"}),o.jsx("td",{className:"border px-2",children:r.PreviouslyReleasedAmount||"0.00"}),o.jsx("td",{className:"border px-2",children:r.ThisRelease||"81,000.00"})]})})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("span",{className:"font-semibold",children:"TOTAL (in words): "}),r.TotalInWords||"eighty-one thousand pesos"]}),o.jsx("div",{className:"border-t mt-6 pt-2 text-xs",children:o.jsx("p",{children:"The allotments herein released shall be used solely for the purpose indicated and disbursements thereto shall be made in accordance with accounting and auditing rules and regulations. It is the primary responsibility of the head of the Department/Office or Unit concerned to keep expenditures within the limits of the amount allotted."})}),o.jsxs("div",{className:"flex justify-between items-center mt-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"mb-1 font-bold",children:"Budget S. Head"}),o.jsx("div",{className:"text-xs",children:"Budget Head"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"mb-1 font-bold",children:"Juan S. Dela Cruz"}),o.jsx("div",{className:"text-xs",children:"Mayor"})]})]})]})}),Rp="https://staging-engine.testthelink.online",v5=t=>({IsNew:!(t!=null&&t.ID),ID:(t==null?void 0:t.ID)||"",Name:t.Name,FiscalYearID:Number(t.FiscalYearID),DepartmentID:Number(t.DepartmentID),SubDepartmentID:Number(t.SubDepartmentID),ChartOfAccountsID:Number(t.ChartofAccountsID),FundID:Number(t.FundID),ProjectID:Number(t.ProjectID),Appropriation:Number(t.Appropriation),Charges:Number(t.Charges),January:Number(t.January),February:Number(t.February),March:Number(t.March),April:Number(t.April),May:Number(t.May),June:Number(t.June),July:Number(t.July),August:Number(t.August),September:Number(t.September),October:Number(t.October),November:Number(t.November),December:Number(t.December)}),H7e=()=>{const t=de(),{departments:e}=H(E=>E.departments),{subdepartments:r}=H(E=>E.subdepartments),n=H(E=>{var R;return((R=E.chartOfAccounts)==null?void 0:R.accounts)||[]}),{fiscalYears:a}=H(E=>E.fiscalYears),{funds:s}=H(E=>E.funds),{projectDetails:i}=H(E=>E.projectDetails),[l,c]=w.useState([]),[u,d]=w.useState(!1),[f,m]=w.useState(null),[h,y]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),{Add:p,Edit:b,Delete:g}=Ce(22);w.useEffect(()=>{t(cr()),t(Po()),t(Pr()),t(fn()),t(er()),t(za()),v()},[]);const v=async()=>{try{const R=await(await fetch(`${Rp}/budget`)).json();R!=null&&R.status?c((R==null?void 0:R.items)||[]):ie.error("Failed to fetch budget details")}catch(E){ie.error(E.message)}},j=E=>{const{name:R,value:M}=E.target;y(L=>({...L,[R]:M}))},C=E=>{f?N(E):x(E)},x=async E=>{try{await(await fetch(`${Rp}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(v5(E))})).json()&&(v(),d(!1),ie.success("Budget added successfully"))}catch(R){ie.error(R.message)}},N=async E=>{try{await(await fetch(`${Rp}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(v5(E))})).json()&&(v(),d(!1),ie.success("Budget updated successfully"))}catch(R){ie.error(R.message)}},S=async E=>{try{await(await fetch(`${Rp}/budget/${E}`,{method:"DELETE"})).json()&&(v(),ie.success("Budget deleted"))}catch(R){ie.error(R.message)}},A=[{key:"Name",header:"Name"},{key:"FiscalYearID",header:"Fiscal Year",render:(E,R)=>{var M;return o.jsx("span",{children:((M=R==null?void 0:R.FiscalYear)==null?void 0:M.Name)||"N/A"})}},{key:"DepartmentID",header:"Department",render:(E,R)=>{var M;return o.jsx("span",{children:((M=R==null?void 0:R.Department)==null?void 0:M.Name)||"N/A"})}},{key:"SubDepartmentID",header:"Sub Department",render:(E,R)=>{var M;return o.jsx("span",{children:((M=R==null?void 0:R.SubDepartment)==null?void 0:M.Name)||"N/A"})}},{key:"ChartofAccountsID",header:"Chart of Accounts",render:(E,R)=>{var M;return o.jsx("span",{children:((M=R==null?void 0:R.ChartofAccounts)==null?void 0:M.Name)||"N/A"})}},{key:"FundID",header:"Fund",render:(E,R)=>{var M;return o.jsx("span",{children:((M=R==null?void 0:R.Funds)==null?void 0:M.Name)||"N/A"})}},{key:"ProjectID",header:"Project",render:(E,R)=>{var M;return o.jsx("span",{children:((M=R==null?void 0:R.Project)==null?void 0:M.Title)||"N/A"})}},{key:"Appropriation",header:"Appropriation",render:vt},{key:"AppropriationBalance",header:"Appropriation Balance",render:vt},{key:"TotalAmount",header:"Total Amount",render:vt},{key:"AllotmentBalance",header:"Allotment Balance",render:vt},{key:"ChargedAllotment",header:"Charges",render:vt},{key:"PreEncumbrance",header:"Pre Encumbrance",render:vt},{key:"Encumbrance",header:"Encumbrance",render:vt},{key:"January",header:"January",render:vt},{key:"February",header:"February",render:vt},{key:"March",header:"March",render:vt},{key:"April",header:"April",render:vt},{key:"May",header:"May",render:vt},{key:"June",header:"June",render:vt},{key:"July",header:"July",render:vt},{key:"August",header:"August",render:vt},{key:"September",header:"September",render:vt},{key:"October",header:"October",render:vt},{key:"November",header:"November",render:vt},{key:"December",header:"December",render:vt}],I=[b&&{icon:Na,title:"Edit",onClick:E=>{m(E),d(!0)},className:"text-primary-600 hover:text-primary-900 p-1"},g&&{icon:Ca,title:"Delete",onClick:E=>S(E==null?void 0:E.ID),className:"text-red-600 hover:text-red-800 p-1"}],T=l.filter(E=>{var R,M,L;return(!h.department||((R=E.Department)==null?void 0:R.ID)==h.department)&&(!h.subDepartment||((M=E.SubDepartment)==null?void 0:M.ID)==h.subDepartment)&&(!h.chartOfAccounts||((L=E.ChartofAccounts)==null?void 0:L.ID)==h.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Details"}),o.jsx("p",{children:"View and manage detailed budget entries"})]}),p&&o.jsxs("button",{onClick:()=>{m(null),d(!0)},className:"btn btn-primary max-sm:w-full ",children:[o.jsx(om,{className:"h-5 w-5 mr-2"}),"Add Budget"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 my-4",children:[o.jsxs("select",{name:"department",value:h.department,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(E=>o.jsx("option",{value:E.ID,children:E.Name},E.ID))]}),o.jsxs("select",{name:"subDepartment",value:h.subDepartment,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(E=>o.jsx("option",{value:E.ID,children:E.Name},E.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:h.chartOfAccounts,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(E=>o.jsx("option",{value:E.ID,children:E.Name},E.ID))]})]}),o.jsx(xe,{columns:A,data:T,actions:I,pagination:!0}),o.jsx(le,{size:"lg",isOpen:u,onClose:()=>d(!1),title:f?"Edit Budget":"Add Budget",children:o.jsx(XU,{departmentOptions:e.map(E=>({value:E.ID,label:E.Name})),subDepartmentOptions:r.map(E=>({value:E.ID,label:E.Name})),chartOfAccountsOptions:n.map(E=>({value:E.ID,label:E.Name})),fundOptions:s.map(E=>({value:E.ID,label:E.Name})),projectOptions:i.map(E=>({value:E.ID,label:E.Title})),fiscalYearOptions:a.map(E=>({value:E.ID,label:E.Name})),onSubmit:C,initialData:f,onClose:()=>d(!1)})})]})},G7e=()=>{const t=de(),{departments:e,isLoading:r}=H(x=>x.departments),{subdepartments:n,isLoading:a}=H(x=>x.subdepartments),s=H(x=>{var N;return((N=x.chartOfAccounts)==null?void 0:N.accounts)||[]}),[i,l]=w.useState([]),[c,u]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),[d,f]=w.useState(!1),[m,h]=w.useState(null),[y,p]=w.useState(!0);w.useEffect(()=>{t(cr()),t(Po()),t(Pr()),b()},[]);const b=async()=>{try{p(!0);const x=await Fe("/budgetSummary");l(x.data||[])}catch(x){console.error("Error fetching budget summaries:",x)}finally{p(!1)}},g=x=>{const{name:N,value:S}=x.target;u(A=>({...A,[N]:S}))},v=i.filter(x=>{var N,S;return(!c.department||((N=x.Department)==null?void 0:N.Name)===c.department)&&(!c.subDepartment||((S=x.SubDepartment)==null?void 0:S.Name)===c.subDepartment)&&(!c.chartOfAccounts||x.ChartOfAccounts===c.chartOfAccounts)}),j=[{key:"Name",header:"Name",sortable:!0},{key:"FiscalYearID",header:"Fiscal Year",sortable:!0,render:(x,N)=>N==null?void 0:N.FiscalYear.Name},{key:"DepartmentID",header:"Department",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.Department)==null?void 0:S.Name}},{key:"SubDepartmentID",header:"Sub Department",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.SubDepartment)==null?void 0:S.Name}},{key:"ChartofAccountsID",header:"Chart of Accounts",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.ChartofAccounts)==null?void 0:S.Name}},{key:"FundsID",header:"Fund",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.Funds)==null?void 0:S.Name}},{key:"ProjectID",header:"Project",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.Project)==null?void 0:S.Title}},{key:"Appropriation",header:"Appropriation",sortable:!0},{key:"AppropriationBalance",header:"Appropriation Balance",sortable:!0},{key:"TotalAmount",header:"Total Amount",sortable:!0},{key:"ChargedAllotment",header:"Allotment",sortable:!0},{key:"AllotmentBalance",header:"Allotment Balance",sortable:!0},{key:"Change",header:"Change",sortable:!0},{key:"Supplemental",header:"Supplemental",sortable:!0},{key:"Released",header:"Released",sortable:!0},{key:"Charges",header:"Charges",sortable:!0},{key:"PreEncumbrance",header:"Pre Encumbr.",sortable:!0},{key:"Encumbrance",header:"Encumbrance",sortable:!0},{key:"January",header:"January",sortable:!0},{key:"February",header:"February",sortable:!0},{key:"March",header:"March",sortable:!0},{key:"April",header:"April",sortable:!0},{key:"May",header:"May",sortable:!0},{key:"June",header:"June",sortable:!0},{key:"July",header:"July",sortable:!0},{key:"August",header:"August",sortable:!0},{key:"September",header:"September",sortable:!0},{key:"October",header:"October",sortable:!0},{key:"November",header:"November",sortable:!0},{key:"December",header:"December",sortable:!0}],C=x=>{h(x),f(!0)};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Summary"}),o.jsx("p",{children:"Review the budget performance across months and categories."})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:c.department,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),e==null?void 0:e.map(x=>o.jsx("option",{value:x.Name,children:x.Name},x.ID))]}),o.jsxs("select",{name:"subDepartment",value:c.subDepartment,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),n==null?void 0:n.map(x=>o.jsx("option",{value:x.Name,children:x.Name},x.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:c.chartOfAccounts,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),s==null?void 0:s.map(x=>o.jsx("option",{value:x.Name,children:x.Name},x.ID))]})]}),o.jsx(xe,{columns:j,data:v,loading:y||r||a,pagination:!0,onRowClick:C}),o.jsx(le,{isOpen:d,onClose:()=>f(!1),title:"Budget Summary Details",size:"5xl",children:o.jsx(Y7e,{data:m})})]})},Y7e=({data:t})=>{var r,n,a,s,i,l;if(!t)return null;const e=c=>c||"";return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Budget Name:"})," ",e(t.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fiscal Year:"})," ",e((r=t.FiscalYear)==null?void 0:r.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Department:"})," ",e((n=t.Department)==null?void 0:n.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"SubDepartment:"})," ",e((a=t.SubDepartment)==null?void 0:a.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Chart of Accounts:"})," ",e((s=t.ChartofAccounts)==null?void 0:s.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fund:"})," ",e((i=t.Funds)==null?void 0:i.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Project:"})," ",e((l=t.Project)==null?void 0:l.Title)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Original):"})," ",e(t.Appropriation)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation Balance:"})," ",e(t.AppropriationBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Adjusted):"})," ",e(t.RevisedAmount)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Adjustments:"})," ",e(t.Change)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Allotment:"})," ",e(t.ChargedAllotment)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Allotment Balance:"})," ",e(t.AllotmentBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Pre Encumbrance:"})," ",e(t.PreEncumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Encumbrance:"})," ",e(t.Encumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",e(t.Charges)]})]}),o.jsxs("div",{className:"space-y-2",children:[["January","February","March","April","May","June","July","August","September","October","November","December"].map(c=>o.jsxs("div",{children:[o.jsxs("strong",{children:[c,":"]})," ",e(t[c])]},c)),o.jsxs("div",{className:"font-semibold pt-2 border-t",children:[o.jsx("strong",{children:"Total Amount:"})," ",e(t.TotalAmount)]})]})]})},K7e="https://staging-engine.testthelink.online",J7e=ce().shape({BudgetID:D().required("Budget is required"),budgetName:D(),fiscalYearID:D(),departmentID:D(),subDepartmentID:D(),chartOfAccountsID:D(),fundID:D(),projectID:D(),supplemental:X().integer().required("Supplemental is required"),remarks:D(),appropriation:X().integer(),balance:X().integer(),releasedAllotments:X().integer(),releasedBalance:X().integer(),Attachments:zt()}),j5={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",supplemental:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function X7e({initialData:t,onSubmit:e,onClose:r,budgetList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=w.useState({...j5});w.useEffect(()=>{if(t!=null&&t.ID){const{Budget:b}=t;f({BudgetID:b==null?void 0:b.ID,budgetName:(b==null?void 0:b.Name)||"",fiscalYearID:(b==null?void 0:b.FiscalYearID)||"",departmentID:(b==null?void 0:b.DepartmentID)||"",subDepartmentID:(b==null?void 0:b.SubDepartmentID)||"",chartOfAccountsID:(b==null?void 0:b.ChartofAccountsID)||"",fundID:(b==null?void 0:b.FundID)||"",projectID:(b==null?void 0:b.ProjectID)||"",supplemental:(b==null?void 0:b.Supplemental)||0,charges:(b==null?void 0:b.Charges)||0,totalAmount:(b==null?void 0:b.TotalAmount)||0,balance:(b==null?void 0:b.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(b==null?void 0:b.Appropriation)||0,releasedAllotments:(b==null?void 0:b.ReleasedAllotments)||0,releasedBalance:(b==null?void 0:b.ReleasedBalance)||0,Attachments:(t==null?void 0:t.Attachments)||[]})}else f(j5)},[t]);const m=async(b,{setSubmitting:g})=>{try{const v=new FormData;b==null||b.Attachments.forEach((C,x)=>{C.ID?v.append(`Attachments[${x}].ID`,C.ID):v.append(`Attachments[${x}].File`,C)}),(b==null?void 0:b.Attachments.length)===0&&v.append("Attachments","[]"),console.log({values:b});const j={BudgetID:b.BudgetID,Remarks:b.remarks,Supplemental:b.supplemental};Object.entries(j).forEach(([C,x])=>{v.append(C,JSON.stringify(x))}),t?(v.append("LinkID",JSON.stringify(t.LinkID)),v.append("IsNew",JSON.stringify(!1))):v.append("IsNew",JSON.stringify(!0)),await e(v)}catch(v){console.error("Submission error:",v)}finally{g(!1)}},h=b=>{const g=n==null?void 0:n.find(v=>v.ID===parseInt(b));g&&f({...d,BudgetID:g.ID,budgetName:g.Name||"",fiscalYearID:g.FiscalYearID||"",departmentID:g.DepartmentID||"",subDepartmentID:g.SubDepartmentID||"",chartOfAccountsID:g.ChartofAccountsID||"",fundID:g.FundID||"",projectID:g.ProjectID||"",appropriation:parseFloat(g.Appropriation)||0,balance:parseFloat(g.AppropriationBalance)||0,charges:parseFloat(g.Charges||0)})},y=(b,g,v)=>{const C=Array.from(b.target.files).map(x=>x);g("Attachments",[...v.Attachments,...C])},p=(b,g,v)=>{const j=[...v.Attachments];j.splice(b,1),g("Attachments",j)};return o.jsx(qe,{enableReinitialize:!0,initialValues:d,validationSchema:J7e,onSubmit:m,children:({values:b,errors:g,touched:v,handleChange:j,handleBlur:C,isSubmitting:x,setFieldValue:N})=>{var S;return o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2  pt-4",children:o.jsx(ut,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:h,options:n.map(A=>({label:A.Name,value:A.ID})),error:g.BudgetID,touched:v.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:A=>y(A,N,b),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((S=b==null?void 0:b.Attachments)==null?void 0:S.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:b.Attachments.map((A,I)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx($s,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:o.jsx("a",{href:A!=null&&A.ID?`${K7e}/uploads/${A==null?void 0:A.DataImage}`:URL.createObjectURL(A),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:(A==null?void 0:A.name)||(A==null?void 0:A.DataName)})}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:A==null?void 0:A.type})]}),o.jsx("button",{type:"button",onClick:()=>p(I,N,b),className:"text-red-500 hover:text-red-700",children:o.jsx(Qt,{className:"h-4 w-4"})})]},I))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(k,{label:"Budget Name",name:"budgetName",type:"text",value:b.budgetName,onChange:j,onBlur:C,error:g.budgetName,touched:v.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:b.fiscalYearID,onChange:j,onBlur:C,error:g.fiscalYearID,touched:v.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Department",name:"departmentID",type:"select",value:b.departmentID,onChange:j,onBlur:C,error:g.departmentID,touched:v.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:b.subDepartmentID,onChange:j,onBlur:C,error:g.subDepartmentID,touched:v.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:b.chartOfAccountsID,onChange:j,onBlur:C,error:g.chartOfAccountsID,touched:v.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Fund",name:"fundID",type:"select",value:b.fundID,onChange:j,onBlur:C,error:g.fundID,touched:v.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Project",name:"projectID",type:"select",value:b.projectID,onChange:j,onBlur:C,error:g.projectID,touched:v.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Appropriation",name:"appropriation",type:"number",value:b.appropriation,onChange:j,onBlur:C,error:g.appropriation,touched:v.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Balance",name:"balance",type:"number",value:b.balance,onChange:j,onBlur:C,error:g.balance,touched:v.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:b.releasedAllotments,onChange:j,onBlur:C,error:g.releasedAllotments,touched:v.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Released Balance",name:"releasedBalance",type:"number",value:b.releasedBalance,onChange:j,onBlur:C,error:g.releasedBalance,touched:v.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(k,{label:"Supplemental",name:"supplemental",type:"number",value:b.supplemental,onChange:j,onBlur:C,error:g.supplemental,touched:v.supplemental,required:!0}),o.jsx(k,{label:"Remarks",name:"remarks",type:"textarea",value:b.remarks,onChange:j,onBlur:C,error:g.remarks,touched:v.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const Q7e=()=>{const t=de(),{departments:e}=H(q=>q.departments),{subdepartments:r}=H(q=>q.subdepartments),n=H(q=>{var F;return((F=q.chartOfAccounts)==null?void 0:F.accounts)||[]}),{fiscalYears:a}=H(q=>q.fiscalYears),{funds:s}=H(q=>q.funds),{projectDetails:i}=H(q=>q.projectDetails),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,m]=w.useState(""),{Add:h,Edit:y,Delete:p,Print:b}=Ce(26);w.useEffect(()=>{t(fn()),t(er()),t(za()),t(cr()),t(Po()),t(Pr()),g(),v()},[]);const g=async()=>{try{const q=await Fe("/budgetSupplemental/list");c(q==null?void 0:q.data)}catch(q){ie.error("Failed to load data"),ie.error(q.message)}},v=async()=>{try{const q=await Fe("/budgetSupplemental/budgetList");d(q==null?void 0:q.data)}catch(q){ie.error("Failed to load data"),ie.error(q.message)}},[j,C]=w.useState(!1),[x,N]=w.useState(null),[S,A]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),I=q=>{N(q),C(!0)},T=async q=>{},E=async q=>{try{(await Fe.post("budgetSupplemental/save",q,{headers:{"Content-Type":"multipart/form-data"}})).data?(ie.success(x?"Supplemental updated successfully":"New supplemental added"),g()):ie.error("Failed to save supplemental")}catch(F){console.error("Error submitting supplemental:",F),ie.error(F.message||"Failed to save supplemental")}finally{C(!1)}},R=q=>{const{name:F,value:O}=q.target;A(V=>({...V,[F]:O}))},M=[{key:"Status",header:"Status",render:q=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${q==="Requested"?"bg-warning-100 text-warning-800":q==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:q})},{key:"InvoiceNumber",header:"Invoice Number",render:(q,F)=>o.jsx("span",{children:F.InvoiceNumber})},{key:"Budget",header:"Budget",render:(q,F)=>{var O;return o.jsx("span",{children:(O=F.Budget)==null?void 0:O.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(q,F)=>{const O=new Date(F.InvoiceDate);return o.jsx("span",{children:O.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(q,F)=>o.jsx("span",{children:parseFloat(F.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],L=async(q,F)=>{m(!0);try{const O=await Fe.post(`/budgetSupplemental/${F}`,{ID:q.ID,LinkID:q.LinkID,Reason:"This is the reason"});console.log(`${F}d:`,O.data),g(),ie.success(`Budget Supplemental ${F}d successfully`)}catch(O){console.error(`Error ${F}ing Budget Supplemental:`,O),ie.error(`Error ${F}ing Budget Supplemental`)}finally{m(!1)}},P=q=>{const F=[];return q.Status.toLowerCase().includes("rejected")&&y?(F.push({icon:Na,title:"Edit",onClick:I,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),F.push({icon:Ca,title:"Delete",onClick:T,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):q.Status==="Requested"&&F.push({icon:bn,title:"Approve",onClick:()=>L(q,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>L(q,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),F},_=l.filter(q=>{console.log(S,q);const{Budget:F}=q;return(!S.department||(F==null?void 0:F.DepartmentID)==S.department)&&(!S.subDepartment||(F==null?void 0:F.SubDepartmentID)==S.subDepartment)&&(!S.chartOfAccounts||(F==null?void 0:F.ChartofAccountsID)==S.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Supplemental"}),o.jsx("p",{children:"Manage your supplemental budgets here"})]}),o.jsxs("div",{className:"flex gap-4",children:[h&&o.jsxs("button",{onClick:()=>I(null),className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Supplemental"]}),b&&o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(Jc,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:S.department,onChange:R,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(q=>o.jsx("option",{value:q.ID,children:q.Name},q.ID))]}),o.jsxs("select",{name:"subDepartment",value:S.subDepartment,onChange:R,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(q=>o.jsx("option",{value:q.ID,children:q.Name},q.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:S.chartOfAccounts,onChange:R,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(q=>o.jsx("option",{value:q.ID,children:q.Name},q.ID))]})]}),o.jsx(xe,{columns:M,data:_,loading:f,actions:P,pagination:!0}),o.jsx(le,{size:"md",isOpen:j,onClose:()=>C(!1),title:x?"Edit Supplemental":"Add New Supplemental",children:o.jsx(X7e,{budgetList:u,departmentOptions:e.map(q=>({value:q.ID,label:q.Name})),subDepartmentOptions:r.map(q=>({value:q.ID,label:q.Name})),chartOfAccountsOptions:n.map(q=>({value:q.ID,label:q.Name})),fundOptions:s.map(q=>({value:q.ID,label:q.Name})),projectOptions:i.map(q=>({value:q.ID,label:q.Title})),fiscalYearOptions:a.map(q=>({value:q.ID,label:q.Name})),onSubmit:E,initialData:x,onClose:()=>C(!1)})})]})},Z7e="https://staging-engine.testthelink.online",e8e=ce({fromBudgetId:D().required("Source budget is required"),toBudgetId:D().required("Target budget is required"),transferAmount:X().required("Amount is required").min(.01,"Amount must be positive"),remarks:D().required("Remarks are required"),Attachments:zt()}),Bk={fromBudgetId:"",toBudgetId:"",transferAmount:0,remarks:"",fromBudget:null,toBudget:null,Attachments:[],currentStatus:"Requested"};console.log("Initial Values:",Bk);function t8e({initialData:t,onSubmit:e,onClose:r,budgetOptions:n}){const[a,s]=w.useState({...Bk}),i=async(u,{setSubmitting:d})=>{var p;if(u.fromBudgetId===u.toBudgetId){z.error("Source and target budgets cannot be the same"),d(!1);return}const f=n.find(b=>b.ID.toString()===u.fromBudgetId),m=parseFloat((f==null?void 0:f.AppropriationBalance)||0),h=parseFloat(u.transferAmount||0);if(h<=0){z.error("Transfer amount must be positive"),d(!1);return}if(h>m){z.error(`Transfer amount (${h}) exceeds available balance (${m})`),d(!1);return}const y=new FormData;y.append("BudgetID",u.fromBudgetId),y.append("TargetID",u.toBudgetId),y.append("Transfer",u.transferAmount),y.append("Remarks",u.remarks),((p=u.Attachments)==null?void 0:p.length)>0?u.Attachments.forEach((b,g)=>{b.ID?y.append(`Attachments[${g}].ID`,b.ID):y.append(`Attachments[${g}].File`,b)}):y.append("Attachments","[]"),t!=null&&t.LinkID?(y.append("LinkID",t==null?void 0:t.LinkID),y.append("IsNew",!1)):y.append("IsNew",!0);try{await e(y)}catch(b){console.error(b)}finally{d(!1)}},l=(u,d,f)=>{const m=Array.from(u.target.files);d("Attachments",[...f.Attachments,...m])},c=(u,d,f)=>{const m=[...f.Attachments];m.splice(u,1),d("Attachments",m)};return w.useEffect(()=>{var u,d;s(t?{fromBudgetId:((u=t==null?void 0:t.BudgetID)==null?void 0:u.toString())||"",toBudgetId:((d=t==null?void 0:t.TargetID)==null?void 0:d.toString())||"",transferAmount:parseFloat(t==null?void 0:t.Total)||0,remarks:(t==null?void 0:t.Remarks)||"",fromBudget:n.find(f=>f.ID===(t==null?void 0:t.BudgetID))||null,toBudget:n.find(f=>f.ID===(t==null?void 0:t.TargetID))||null,Attachments:t.Attachments||[],currentStatus:(t==null?void 0:t.Status)||""}:Bk)},[t,n]),o.jsx(qe,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:e8e,children:({values:u,errors:d,touched:f,setFieldValue:m,handleChange:h,handleBlur:y,isSubmitting:p})=>{var b,g,v,j,C,x,N,S,A,I,T,E,R,M,L;return o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 w-fit px-3 py-2 bg-gray-100 font-semibold text-blue-500 rounded-md",children:(b=u==null?void 0:u.currentStatus)==null?void 0:b.toUpperCase()})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"From Budget"}),o.jsx(ut,{label:"Select Budget",name:"fromBudgetId",required:!0,selectedValue:u.fromBudgetId,onSelect:P=>{const _=n.find(q=>q.ID.toString()===P);m("fromBudgetId",P),m("fromBudget",_)},options:n.map(P=>{var _;return{label:`${P.Name} (${(_=P.FiscalYear)==null?void 0:_.Name})`,value:P.ID.toString()}}),error:f.fromBudgetId&&d.fromBudgetId}),u.fromBudget&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(k,{label:"Budget Name",name:"fromBudgetName",type:"text",value:u.fromBudget.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Fiscal Year",name:"fromFiscalYear",type:"text",value:(g=u.fromBudget.FiscalYear)==null?void 0:g.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Department",name:"fromDepartment",type:"text",value:((v=u.fromBudget.Department)==null?void 0:v.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Appropriation Balance",name:"fromBalance",type:"text",value:u.fromBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Sub Department",name:"fromSubDepartment",type:"text",value:((j=u.fromBudget.SubDepartment)==null?void 0:j.Name)||"No Subdepartments",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Chart of Accounts",name:"fromChartOfAccounts",type:"text",value:((C=u.fromBudget.ChartofAccounts)==null?void 0:C.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Fund",name:"fromFund",type:"text",value:((x=u.fromBudget.Funds)==null?void 0:x.Name)||"General Fund",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Project",name:"fromProject",type:"text",value:((N=u.fromBudget.Project)==null?void 0:N.Name)||"No Project",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Appropriation",name:"fromAppropriation",type:"text",value:u.fromBudget.Appropriation||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Released Allotments",name:"fromReleasedAllotments",type:"text",value:u.fromBudget.Released||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Allotment Balance",name:"fromAllotmentBalance",type:"text",value:u.fromBudget.AllotmentBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})," ",o.jsx(k,{label:"Balance",name:"fromBalance",type:"text",value:u.fromBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]}),o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"To Budget"}),o.jsx(ut,{label:"Select Budget",name:"toBudgetId",required:!0,selectedValue:u.toBudgetId,onSelect:P=>{const _=n.find(q=>q.ID.toString()===P);m("toBudgetId",P),m("toBudget",_)},options:n.map(P=>{var _;return{label:`${P.Name} (${(_=P.FiscalYear)==null?void 0:_.Name})`,value:P.ID.toString()}}),error:f.toBudgetId&&d.toBudgetId}),u.toBudget&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(k,{label:"Budget Name",name:"toBudgetName",type:"text",value:u.toBudget.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Fiscal Year",name:"toFiscalYear",type:"text",value:(S=u.toBudget.FiscalYear)==null?void 0:S.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Department",name:"toDepartment",type:"text",value:((A=u.toBudget.Department)==null?void 0:A.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Appropriation Balance",name:"toBalance",type:"text",value:u.toBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Sub Department",name:"toSubDepartment",type:"text",value:((I=u.toBudget.SubDepartment)==null?void 0:I.Name)||"No Subdepartments",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Chart of Accounts",name:"toChartOfAccounts",type:"text",value:((T=u.toBudget.ChartofAccounts)==null?void 0:T.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Fund",name:"toFund",type:"text",value:((E=u.toBudget.Funds)==null?void 0:E.Name)||"General Fund",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Project",name:"toProject",type:"text",value:((R=u.toBudget.Project)==null?void 0:R.Name)||"No Project",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Appropriation",name:"toAppropriation",type:"text",value:u.toBudget.Appropriation||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Released Allotments",name:"toReleasedAllotments",type:"text",value:u.toBudget.Released||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Allotment Balance",name:"toAllotmentBalance",type:"text",value:u.toBudget.AllotmentBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Balance",name:"toBalance",type:"text",value:u.toBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(k,{name:"remarks",type:"textarea",label:"Remarks",onChange:h,onBlur:y,value:u.remarks,error:d.remarks,touched:f.remarks,required:!0}),o.jsx(k,{label:"Transfer Amount",name:"transferAmount",type:"number",onChange:h,onBlur:y,value:u.transferAmount,error:d.transferAmount,touched:f.transferAmount,required:!0,min:"0.01",step:"0.01"})]}),o.jsx("div",{className:"my-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold text-lg",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:P=>l(P,m,u),className:"hidden",id:"file-upload"},((M=u.Attachments)==null?void 0:M.length)||0),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer transition-colors duration-150",children:[o.jsx(lV,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),((L=u==null?void 0:u.Attachments)==null?void 0:L.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:u.Attachments.map((P,_)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[o.jsxs("div",{className:"flex items-center min-w-0",children:[o.jsx($s,{className:"h-4 w-4 text-gray-500 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:o.jsx("a",{href:P!=null&&P.ID?`${Z7e}/uploads/${P==null?void 0:P.DataImage}`:URL.createObjectURL(P),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:(P==null?void 0:P.name)||(P==null?void 0:P.DataName)})})]}),o.jsx("button",{type:"button",onClick:()=>c(_,m,u),className:"text-red-500 hover:text-red-700 ml-2 p-1 rounded-full hover:bg-red-50 transition-colors duration-150","aria-label":"Remove file",children:o.jsx(Qt,{className:"h-4 w-4"})})]},P.ID||_))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update Transfer":"Create Transfer"})]})]})}})}const ex=U("budgetTransfer/fetchBudgetOptions",async()=>(await Fe.get("/budgetTransfer/budgetList")).data),qi=U("budgetTransfer/fetchBudgetTransfers",async()=>(await Fe.get("/budgetTransfer/list")).data),Cf=U("budgetTransfer/createBudgetTransfer",async(t,{rejectWithValue:e})=>{var r,n;try{return(await Fe.post("/budgetTransfer/save",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){return console.error("Error creating budget transfer:",(r=a.response)==null?void 0:r.data),e(((n=a.response)==null?void 0:n.data)||"Something went wrong")}}),CC=U("budgetTransfer/deleteBudgetTransfer",async t=>(await Fe.delete(`/budgetTransfer/${t}`),ie.success("Budget transfer deleted successfully"),t)),r8e=we({name:"budgetTransfer",initialState:{budgetOptions:[],transfers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ex.pending,e=>{e.loading=!0,e.error=null}).addCase(ex.fulfilled,(e,r)=>{e.loading=!1,e.budgetOptions=r.payload||[]}).addCase(ex.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch budget options")}).addCase(qi.pending,e=>{e.loading=!0,e.error=null}).addCase(qi.fulfilled,(e,r)=>{e.loading=!1,e.transfers=r.payload||[]}).addCase(qi.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch budget transfers")}).addCase(Cf.pending,e=>{e.loading=!0,e.error=null}).addCase(Cf.fulfilled,(e,r)=>{e.loading=!1,e.transfers=[...e.transfers,r.payload]}).addCase(Cf.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to create budget transfer")}).addCase(CC.pending,e=>{e.loading=!0,e.error=null}).addCase(CC.fulfilled,(e,r)=>{e.loading=!1,e.transfers=e.transfers.filter(n=>n.id!==r.payload)}).addCase(CC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to delete budget transfer")})}}),n8e=r8e.reducer,a8e=()=>{const[t,e]=w.useState(!1),[r,n]=w.useState(null),[a,s]=w.useState(!1),i=de(),{Add:l,Edit:c}=Ce(27),{transfers:u,budgetOptions:d,loading:f,error:m}=H(v=>v.budgetTransfer);console.log(u,d,f,m),w.useEffect(()=>{i(ex()),i(qi())},[]);const h=v=>{n(v),e(!0)},y=async v=>{try{r?(await i(Cf(v)).unwrap(),await i(qi()).unwrap(),ie.success("Transfer updated successfully")):(await i(Cf(v)).unwrap(),await i(qi()).unwrap(),ie.success("Transfer created successfully")),e(!1)}catch(j){console.error("Error:",j),ie.error("Error: "+(j==null?void 0:j.error))}},p=[{key:"InvoiceNumber",header:"Invoice #",sortable:!0},{key:"BudgetID",header:"Budget",sortable:!0,render:(v,j)=>{var C;return((C=j==null?void 0:j.Budget)==null?void 0:C.Name)||v||""}},{key:"Status",header:"Status",sortable:!0,render:v=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v==="Requested"?"bg-warning-100 text-warning-800":v==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:v})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Total",header:"Total",sortable:!0,numeric:!0},{key:"Remarks",header:"Remarks",sortable:!1}],b=async(v,j)=>{s(!0);try{const C=await Fe.post(`/budgetTransfer/${j}`,{ID:v.ID,LinkID:v.LinkID,Reason:"This is the reason"});console.log(`${j}d:`,C.data),i(qi()),ie.success(`Budget Transfer ${j}d successfully`)}catch(C){console.error(`Error ${j}ing Budget Transfer:`,C),ie.error(`Error ${j}ing Budget Transfer`)}finally{s(!1)}},g=v=>{var C;const j=[];return(C=v==null?void 0:v.Status)!=null&&C.toLowerCase().includes("rejected")&&c?j.push({icon:Na,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}):v.Status==="Requested"&&j.push({icon:bn,title:"Approve",onClick:()=>b(v,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>b(v,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),j};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap ",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Transfer"}),o.jsx("p",{children:"Manage your budget transfers here"})]}),l&&o.jsxs("button",{onClick:()=>h(null),className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Transfer"]})]}),o.jsx(xe,{columns:p,data:u,actions:g,pagination:!0,loading:a}),o.jsx(le,{size:"xl",isOpen:t,onClose:()=>e(!1),title:r?"Edit Transfer":"Add New Transfer",children:o.jsx(t8e,{onSubmit:y,initialData:r,onClose:()=>e(!1),budgetOptions:d})})]})},s8e=ce({Code:D().required("Code is required"),Name:D().required("Name is required"),Description:D().required("Description is required"),Amount:X().required("Amount is required").min(0,"Amount must be positive")}),w5={Code:"",Name:"",Description:"",Amount:0};function o8e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=w.useState({...w5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return w.useEffect(()=>{t!=null&&t.ID?a({ID:(t==null?void 0:t.ID)||"",Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",Description:(t==null?void 0:t.Description)||"",Amount:(t==null?void 0:t.OriginalAmount)||""}):a(w5)},[t]),o.jsx(qe,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:s8e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",onChange:u,onBlur:d,value:i.Code,error:l.Code,touched:c.Code,placeholder:"e.g., 100,200,300",required:!0}),o.jsx(k,{label:"Name",name:"Name",type:"text",onChange:u,onBlur:d,value:i.Name,error:l.Name,touched:c.Name,placeholder:"Enter Name ",required:!0}),o.jsx(k,{label:"Amount",name:"Amount",type:"text",onChange:m=>{const h=m.target.value.replace(/\D/g,""),y=h?(parseInt(h,10)/100).toFixed(2):"";u({target:{name:"Amount",value:y}})},onBlur:d,value:i.Amount!==""&&!isNaN(i.Amount)?Number(i.Amount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",error:l.Amount,touched:c.Amount,placeholder:"Enter Amount",required:!0}),o.jsx(k,{name:"Description",type:"textarea",label:"Description",onChange:u,onBlur:d,value:i.Description,error:l.Description,touched:c.Description,placeholder:"Enter Description",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const i8e=()=>{const t=de(),{funds:e,loading:r}=H(g=>g.funds),[n,a]=w.useState(!1),[s,i]=w.useState(null),{Add:l,Edit:c,Delete:u}=Ce(48),d=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:g=>g||""},{key:"Name",header:"Name",sortable:!0,render:g=>o.jsx("span",{className:"font-medium",children:g||""})},{key:"Description",header:"Description",sortable:!0,render:g=>o.jsx("span",{className:"text-gray-600",children:g||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,render:g=>o.jsx("span",{className:"font-medium",children:g?f(g):""})}],f=g=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(g),y=[c&&{icon:Na,title:"Edit",onClick:g=>{i(g),a(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},u&&{icon:Ca,title:"Delete",onClick:async g=>{await t(mb(g.ID)).unwrap(),t(er())},className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],p=async g=>{s?await t(fb(g)).unwrap():await t(db(g)).unwrap(),t(er()),a(!1),i(null)},b=g=>{console.log("View row:",g)};return w.useEffect(()=>{t(er())},[t]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Funds"}),o.jsx("p",{children:"Manage budget funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:l&&o.jsxs("button",{type:"button",onClick:()=>{i(null),a(!0)},className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:d,data:e,actions:y,loading:r,onRowClick:b})}),o.jsx(le,{size:"sm",isOpen:n,onClose:()=>{a(!1),i(null)},title:s?"Edit Budget Fund":"Add New Budget Fund",children:o.jsx(o8e,{onSubmit:p,initialData:s,onClose:()=>{a(!1),i(null)}})})]})},l8e="https://staging-engine.testthelink.online",c8e=()=>{const t=de(),{fiscalYears:e}=H(P=>P.fiscalYears),{funds:r}=H(P=>P.funds),{departments:n}=H(P=>P.departments),[a,s]=w.useState("appropriations"),[i,l]=w.useState([]),[c,u]=w.useState(!1),[d,f]=w.useState(""),[m,h]=w.useState(""),[y,p]=w.useState(""),[b,g]=w.useState(""),[v,j]=w.useState(""),C=w.useRef(),x=w.useRef();w.useEffect(()=>{t(fn()),t(er()),t(cr())},[t]);const N=()=>({startDate:d,endDate:m,fiscalYearID:y,fundsID:b,departmentID:v}),S=()=>d&&m&&y&&b&&v,A=async P=>{if(!S()){ie.error("Please select all filters");return}u(!0);try{s(P);const _=P==="appropriations"?"/statementOfAppropriations/view":"/statementOfAppropriations/viewSAO",q=await Fe.post(_,N());l(q.data)}catch{ie.error("Failed to fetch data")}finally{u(!1)}},I=[{key:"Fund",header:"Fund"},{key:"Year",header:"Year"},{key:"Month End",header:"Month End"},{key:"Account Code",header:"Account Code"},{key:"ID",header:"ID"},{key:"Category",header:"Category"},{key:"Name",header:"Name"},{key:"Appropriation",header:"Appropriation",numeric:!0},{key:"Allotment",header:"Allotment",numeric:!0},{key:"Obligation",header:"Obligation",numeric:!0},{key:"Unobligated Appropriation",header:"Unobligated Appropriation",numeric:!0},{key:"Unobligated Allotment",header:"Unobligated Allotment",numeric:!0},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Requested By",header:"Requested By"},{key:"Position",header:"Position"}],T=[{key:"Date",header:"Date"},{key:"OBR No.",header:"OBR No."},{key:"Particulars",header:"Particulars"},{key:"Appropriation/ Allotment",header:"Appropriation/ Allotment",numeric:!0},{key:"Expenses",header:"Expenses",numeric:!0},{key:"Balance",header:"Balance",numeric:!0}],E=async()=>{if(!S()){ie.error("Please select all filters");return}try{const P=await fetch(`${l8e}/statementOfAppropriations/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(N())});if(!P.ok)throw new Error("Server response was not ok");const _=await P.blob(),q=P.headers.get("Content-Disposition");let F="StatementOfAppropriations.xlsx";q&&q.includes("filename=")&&(F=q.split("filename=")[1].replace(/['"]/g,""));const O=window.URL.createObjectURL(_),V=document.createElement("a");V.href=O,V.download=F,document.body.appendChild(V),V.click(),document.body.removeChild(V),window.URL.revokeObjectURL(O)}catch(P){console.error("Export failed:",P),ie.error(P.message||"Failed to export file")}},R=ra.useReactToPrint({contentRef:C,documentTitle:"Statement of Appropriations, Allotment, Obligations and Balances"}),M=ra.useReactToPrint({contentRef:x,documentTitle:"Statement of Appropriations and Obligations."}),L=P=>{if(!S()||i.length===0){ie.error("Please fetch data first before generating report");return}P==="saaob"&&R(),P==="sao"&&M()};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header mb-4",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"Statement of Appropriations, Allotment, Obligations and Balances"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage budget allocations and balances"})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Start Date"}),o.jsx("input",{type:"date",className:"form-input",value:d,onChange:P=>f(P.target.value)})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"End Date"}),o.jsx("input",{type:"date",className:"form-input",value:m,onChange:P=>h(P.target.value)})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Fiscal Year"}),o.jsxs("select",{className:"form-select",value:y,onChange:P=>p(P.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),e.map(P=>o.jsx("option",{value:P.ID,children:P.Name},P.ID))]})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Fund"}),o.jsxs("select",{className:"form-select",value:b,onChange:P=>g(P.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(P=>o.jsx("option",{value:P.ID,children:P.Name},P.ID))]})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Department"}),o.jsxs("select",{className:"form-select",value:v,onChange:P=>j(P.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),n.map(P=>o.jsx("option",{value:P.ID,children:P.Name},P.ID))]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 w-full  sm:grid-cols-3 gap-2 sm:w-max mb-4",children:[o.jsx("button",{onClick:()=>A("appropriations"),className:"btn btn-primary",children:"View"}),o.jsx("button",{onClick:()=>A("viewSAO"),className:"btn btn-primary",children:"View SAO"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>L("saaob"),children:"Generate SAAOB"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>L("sao"),children:"Generate SAO"}),o.jsx("button",{className:"btn btn-outline",onClick:E,children:"Export to Excel"})]}),o.jsx(xe,{columns:a==="appropriations"?I:T,data:i,loading:c}),o.jsxs("div",{className:"hidden",children:[o.jsx(u8e,{ref:C,data:i}),o.jsx(d8e,{ref:x,data:i})]})]})},u8e=G.forwardRef(({data:t},e)=>o.jsxs("div",{ref:e,className:"p-4",children:[o.jsx("h2",{className:"text-center font-bold",children:"MUNICIPALITY OF ______"}),o.jsx("h3",{className:"text-center",children:"(CURRENT APPROPRIATION)"}),o.jsx("h4",{className:"text-center",children:"STATUS OF APPROPRIATIONS, ALLOTMENTS, OBLIGATIONS AND BALANCES"}),o.jsxs("table",{className:"w-full border text-xs mt-4",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"CODE"}),o.jsx("th",{children:"FUNCTION / PPA / CLASS"}),o.jsx("th",{children:"APPROPRIATIONS"}),o.jsx("th",{children:"ALLOTMENTS"}),o.jsx("th",{children:"OBLIGATIONS"}),o.jsx("th",{children:"UNOBLIGATED APPROPRIATIONS"}),o.jsx("th",{children:"UNOBLIGATED ALLOTMENTS"})]})}),o.jsx("tbody",{children:t.map((r,n)=>o.jsxs("tr",{children:[o.jsx("td",{children:r.Code}),o.jsx("td",{children:r.Name}),o.jsx("td",{children:r.Appropriation}),o.jsx("td",{children:r.Allotment}),o.jsx("td",{children:r.Obligation}),o.jsx("td",{children:r.UnobligatedAppropriation}),o.jsx("td",{children:r.UnobligatedAllotment})]},n))})]})]})),d8e=G.forwardRef(({data:t},e)=>o.jsxs("div",{ref:e,className:"p-4",children:[o.jsx("h2",{className:"text-center font-bold",children:"STATUS OF APPROPRIATION & OBLIGATION"}),o.jsxs("table",{className:"w-full border text-xs mt-4",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"DATE"}),o.jsx("th",{children:"OBR NO."}),o.jsx("th",{children:"PARTICULARS"}),o.jsx("th",{children:"APPROPRIATION / ALLOTMENT"}),o.jsx("th",{children:"EXPENSES"}),o.jsx("th",{children:"BALANCE"})]})}),o.jsx("tbody",{children:t.map((r,n)=>o.jsxs("tr",{children:[o.jsx("td",{children:r.Date}),o.jsx("td",{children:r.OBRNo}),o.jsx("td",{children:r.Particulars}),o.jsx("td",{children:r.Appropriation}),o.jsx("td",{children:r.Expenses}),o.jsx("td",{children:r.Balance})]},n))})]})]})),f8e=ce({fund:D().required("Fund is required"),code:D().required("Code is required"),name:D().required("Name is required"),desc:D().required("Description is required"),amount:X().required("Amount is required").min(0,"Amount must be positive")}),N5={code:"",name:"",fund:"",desc:"",amount:0};function m8e({initialData:t,onSubmit:e,onClose:r,funds:n}){const[a,s]=w.useState({...N5}),i=(l,{setSubmitting:c})=>{e(l),c(!1),console.log("Form submitted with values:",l)};return w.useEffect(()=>{t!=null&&t.ID?s({id:t==null?void 0:t.ID,code:t==null?void 0:t.Code,name:t==null?void 0:t.Name,desc:t==null?void 0:t.Description,amount:t==null?void 0:t.Amount,fund:t==null?void 0:t.FundsID}):s(N5)},[t]),o.jsx(qe,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:f8e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(k,{label:"Code",name:"code",type:"text",placeholder:"Enter code",onChange:d,onBlur:f,value:l.code,error:c.code,touched:u.code,required:!0}),o.jsx(k,{label:"Name",name:"name",type:"text",placeholder:"Enter name",onChange:d,onBlur:f,value:l.name,error:c.name,touched:u.name,required:!0}),o.jsx(k,{label:"Amount",name:"amount",type:"text",placeholder:"Enter amount",onChange:d,onBlur:f,value:l.amount,error:c.amount,touched:u.amount,required:!0}),o.jsx(k,{label:"Fund",name:"fund",type:"select",placeholder:"Select fund",onChange:d,onBlur:f,value:l.fund,error:c.fund,touched:u.fund,options:n,required:!0}),o.jsx(k,{name:"desc",type:"textarea",label:"Description",placeholder:"Enter description",onChange:d,onBlur:f,value:l.desc,error:c.desc,touched:u.desc,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const h8e=()=>{const t=de(),{subFunds:e,isLoading:r}=H(C=>C.subFunds),{funds:n,loading:a}=H(C=>C.funds),[s,i]=w.useState(!1),[l,c]=w.useState(null),{Add:u,Edit:d,Delete:f}=Ce(97),m=[{key:"FundsID",header:"Funds ID",sortable:!0,className:"font-medium text-neutral-900",render:C=>C||""},{key:"Code",header:"Code",sortable:!0,render:C=>o.jsx("span",{className:"font-medium",children:C||""})},{key:"Name",header:"Name",sortable:!0,render:C=>o.jsx("span",{className:"font-medium",children:C||""})},{key:"Description",header:"Description",sortable:!0,render:C=>o.jsx("span",{className:"text-gray-600",children:C||"No description"})},{key:"Amount",header:"Amount",sortable:!0,className:"text-right",render:C=>o.jsx("span",{className:"font-medium",children:C?y(C):""})}],h=[d&&{icon:Na,title:"Edit",onClick:C=>g(C),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},f&&{icon:Ca,title:"Delete",onClick:C=>p(C),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],y=C=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C),p=async C=>{try{await t(zb(C.ID)).unwrap(),ie.success("Sub fund deleted successfully")}catch(x){ie.error(x.payload||"Failed to delete sub fund"),console.error(x)}},b=async C=>{try{if(l){const x={IsNew:!1,ID:l.ID,FundsID:C.fund,Code:C.code,Name:C.name,Description:C.desc,Amount:C.amount};await t(yI(x)).unwrap(),ie.success("Sub fund updated successfully")}else{const x={IsNew:!0,FundsID:C.fund,Code:C.code,Name:C.name,Description:C.desc,Amount:C.amount};await t(Ub(x)).unwrap(),ie.success("Sub fund added successfully")}t(bf()),i(!1),c(null)}catch(x){ie.error(x.payload||"Failed to save sub fund"),console.error(x)}},g=C=>{c(C),i(!0)},v=C=>{console.log("View row:",C)};w.useEffect(()=>{t(bf()),t(er())},[t]);const j=n==null?void 0:n.map(C=>({value:C.ID,label:C.Name}));return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Sub Funds"}),o.jsx("p",{children:"Manage budget sub funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:u&&o.jsxs("button",{type:"button",onClick:()=>g(null),className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Sub Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:m,data:e,actions:h,loading:r||a,onRowClick:v})}),o.jsx(le,{size:"sm",isOpen:s,onClose:()=>i(!1),title:l?"Edit Sub Fund":"Add New Sub Fund",children:o.jsx(m8e,{onSubmit:b,initialData:l,funds:j,onClose:()=>i(!1)})})]})},p8e="https://staging-engine.testthelink.online",g8e=ce({fromFundId:D().required("Source fund is required"),toFundId:D().required("Target fund is required"),transferAmount:X().required("Amount is required").min(.01,"Amount must be positive"),remarks:D().required("Remarks are required"),Attachments:zt()}),SC={fromFundId:"",toFundId:"",transferAmount:0,remarks:"",fromFund:null,toFund:null,Attachments:[]};function y8e({initialData:t,onSubmit:e,onClose:r,fundOptions:n}){const[a,s]=w.useState({...SC});w.useEffect(()=>{s(t?i(t):SC)},[t]);const i=f=>f?{fromFundId:f.FundsID||"",toFundId:f.TargetID||"",transferAmount:parseFloat(f.Total)||0,remarks:f.Remarks||"",fromFund:f.Funds||null,toFund:f.targetFunds||null,Attachments:f.Attachments||[]}:SC,l=async(f,{setSubmitting:m})=>{if(f.fromFundId===f.toFundId){z.error("Source and target funds cannot be the same"),m(!1);return}const h=n.find(g=>g.ID===f.fromFundId);if(!h){z.error("Source fund not found"),m(!1);return}const y=parseFloat(h.Balance||0),p=parseFloat(f.transferAmount||0);if(p<=0){z.error("Transfer amount must be positive"),m(!1);return}if(p>y){z.error(`Transfer amount (${p}) exceeds available balance (${y})`),m(!1);return}const b=new FormData;b.append("FundsID",f.fromFundId),b.append("TargetID",f.toFundId),b.append("Transfer",p),b.append("Remarks",f.remarks),f.Attachments&&f.Attachments.length>0?f.Attachments.forEach((g,v)=>{g.ID?b.append(`Attachments[${v}].ID`,g.ID):b.append(`Attachments[${v}].File`,g)}):b.append("Attachments","[]"),t!=null&&t.LinkID?(b.append("LinkID",t==null?void 0:t.LinkID),b.append("IsNew",!1)):b.append("IsNew",!0);try{await e(b)}catch(g){z.error("Submission failed: "+g.message)}finally{m(!1)}},c=(f,m)=>{const h=n.find(y=>y.ID===m);return{[`${f}Id`]:m,[f]:h}},u=(f,m,h)=>{const p=Array.from(f.target.files).map(b=>b);console.log(p,h),m("Attachments",[...h.Attachments,...p])},d=(f,m,h)=>{const y=[...h.Attachments];y.splice(f,1),m("Attachments",y)};return o.jsx(qe,{enableReinitialize:!0,onSubmit:l,initialValues:a,validationSchema:g8e,children:({values:f,errors:m,touched:h,setFieldValue:y,handleChange:p,handleBlur:b,isSubmitting:g})=>{var v,j;return o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"From"}),o.jsx(ut,{label:"Select Fund",name:"fromFundId",required:!0,selectedValue:f.fromFundId,onSelect:C=>{const x=c("fromFund",C);y("fromFundId",x.fromFundId),y("fromFund",x.fromFund)},options:n.map(C=>({label:`${C.Code} - ${C.Name}`,value:C.ID})),error:h.fromFundId&&m.fromFundId}),f.fromFund&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(k,{label:"Fund Code",name:"fromCode",type:"text",value:f.fromFund.Code,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Fund Name",name:"fromName",type:"text",value:f.fromFund.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Available Balance",name:"fromBalance",type:"text",value:f.fromFund.Balance||"0",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]}),o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"To"}),o.jsx(ut,{label:"Select Fund",name:"toFundId",required:!0,selectedValue:f.toFundId,onSelect:C=>{const x=c("toFund",C);y("toFundId",x.toFundId),y("toFund",x.toFund)},options:n.map(C=>({label:`${C.Code} - ${C.Name}`,value:C.ID})),error:h.toFundId&&m.toFundId}),f.toFund&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(k,{label:"Fund Code",name:"toCode",type:"text",value:f.toFund.Code,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Fund Name",name:"toName",type:"text",value:f.toFund.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(k,{label:"Available Balance",name:"toBalance",type:"text",value:f.toFund.Balance||"0",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(k,{name:"remarks",type:"textarea",label:"Remarks",onChange:p,onBlur:b,value:f.remarks,error:m.remarks,touched:h.remarks,required:!0}),o.jsx(k,{label:"Transfer Amount",name:"transferAmount",type:"text",onChange:C=>{const x=C.target.value.replace(/\D/g,""),N=x?(parseInt(x,10)/100).toFixed(2):"";p({target:{name:"transferAmount",value:N}})},onBlur:b,value:f.transferAmount!==""&&!isNaN(f.transferAmount)?Number(f.transferAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",error:m.transferAmount,touched:h.transferAmount,required:!0})]}),o.jsx("div",{className:"my-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold text-lg",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:C=>u(C,y,f),className:"hidden",id:"file-upload"},((v=f.Attachments)==null?void 0:v.length)||0),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer transition-colors duration-150",children:[o.jsx(lV,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),((j=f==null?void 0:f.Attachments)==null?void 0:j.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:f.Attachments.map((C,x)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[o.jsxs("div",{className:"flex items-center min-w-0",children:[o.jsx($s,{className:"h-4 w-4 text-gray-500 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-sm truncate",children:C.ID?o.jsx("a",{href:`${p8e}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",title:C.name||C.DataName,children:C.name||C.DataName}):o.jsx("span",{title:C.name||C.DataName,children:C.name||C.DataName})})]}),o.jsx("button",{type:"button",onClick:()=>d(x,y,f),className:"text-red-500 hover:text-red-700 ml-2 p-1 rounded-full hover:bg-red-50 transition-colors duration-150","aria-label":"Remove file",children:o.jsx(Qt,{className:"h-4 w-4"})})]},C.ID||x))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update Transfer":"Create Transfer"})]})]})}})}const tx=U("fundTransfer/fetchFundOptions",async()=>(await Fe.get("/fundTransfer/fundList")).data),Vi=U("fundTransfer/fetchFundTransfers",async()=>(await Fe.get("/fundTransfer/list")).data),Sf=U("fundTransfer/createFundTransfer",async t=>{const e=await Fe.post("/fundTransfer/save",t,{headers:{"Content-Type":"multipart/form-data"}});return ie.success("Fund transfer created successfully"),e.data}),AC=U("fundTransfer/deleteFundTransfer",async t=>(await Fe.delete(`/fundTransfer/${t}`),ie.success("Fund transfer deleted successfully"),t)),b8e=we({name:"fundTransfer",initialState:{fundOptions:[],transfers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(tx.pending,e=>{e.loading=!0,e.error=null}).addCase(tx.fulfilled,(e,r)=>{e.loading=!1,e.fundOptions=r.payload||[]}).addCase(tx.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch fund options")}).addCase(Vi.pending,e=>{e.loading=!0,e.error=null}).addCase(Vi.fulfilled,(e,r)=>{e.loading=!1,e.transfers=r.payload||[]}).addCase(Vi.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to fetch fund transfers")}).addCase(Sf.pending,e=>{e.loading=!0,e.error=null}).addCase(Sf.fulfilled,(e,r)=>{e.loading=!1,e.transfers=[...e.transfers,r.payload]}).addCase(Sf.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to create fund transfer")}).addCase(AC.pending,e=>{e.loading=!0,e.error=null}).addCase(AC.fulfilled,(e,r)=>{e.loading=!1,e.transfers=e.transfers.filter(n=>n.id!==r.payload)}).addCase(AC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,ie.error("Failed to delete fund transfer")})}}),x8e=b8e.reducer,v8e=()=>{const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=de(),[s,i]=w.useState(!1),{Add:l,Edit:c}=Ce(46),{transfers:u,fundOptions:d,loading:f,error:m}=H(j=>j.fundTransfer);w.useEffect(()=>{a(tx()),a(Vi())},[]);const h=[{key:"InvoiceNumber",header:"Invoice Number",sortable:!0,className:"font-medium text-neutral-900",render:j=>j||""},{key:"FundsID",header:"Fund Source",sortable:!0,render:(j,C)=>{var x;return o.jsx("span",{className:"text-gray-600",children:((x=C==null?void 0:C.Funds)==null?void 0:x.Name)||j||""})}},{key:"TargetID",header:"Fund Target",sortable:!0,render:(j,C)=>{var x;return o.jsx("span",{className:"text-gray-600",children:((x=C==null?void 0:C.targetFunds)==null?void 0:x.Name)||j||""})}},{key:"Status",header:"Status",sortable:!0,render:j=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${j==="Requested"?"bg-warning-100 text-warning-800":j==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:j})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:j=>o.jsx("span",{className:"font-medium",children:j||""})},{key:"Total",header:"Total",sortable:!0,render:j=>o.jsxs("span",{className:"font-medium",children:[" ",j?Number(j).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""]})},{key:"Remarks",header:"Remarks",sortable:!0,render:j=>o.jsx("span",{className:"font-medium",children:j||""})}],y=async(j,C)=>{i(!0);try{const x=await Fe.post(`/fundTransfer/${C}`,{ID:j.ID,LinkID:j.LinkID,Reason:"This is the reason"});console.log(`${C}d:`,x.data),a(Vi()),z.success(`Budget Fund Transfer ${C}d successfully`)}catch(x){console.error(`Error ${C}ing Budget Fund Transfer:`,x),z.error(`Error ${C}ing Budget Fund Transfer`)}finally{i(!1)}},p=j=>{var x;const C=[];return(x=j==null?void 0:j.Status)!=null&&x.toLowerCase().includes("rejected")&&c?C.push({icon:Na,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}):(j==null?void 0:j.Status)==="Requested"&&C.push({icon:bn,title:"Approve",onClick:()=>y(j,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Qr,title:"Reject",onClick:()=>y(j,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),C},b=async j=>{try{r?(await a(Sf(j)).unwrap(),await a(Vi()).unwrap(),z.success("Transfer updated successfully")):(await a(Sf(j)).unwrap(),await a(Vi()).unwrap(),z.success("Transfer created successfully")),e(!1)}catch(C){console.error("Error:",C),z.error("An error occurred")}},g=j=>{n(j),e(!0)},v=j=>{console.log("View transfer:",j)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Transfer"}),o.jsx("p",{children:"Manage fund transfers between accounts"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:l&&o.jsxs("button",{type:"button",onClick:()=>g(null),className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Transfer"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(xe,{columns:h,data:u,actions:p,loading:s,onRowClick:v})}),o.jsx(le,{size:"xl",isOpen:t,onClose:()=>e(!1),title:r?"Edit Fund Transfer":"Add Fund Transfer",children:o.jsx(y8e,{onSubmit:b,initialData:r,onClose:()=>e(!1),fundOptions:d})})]})},j8e=ce().shape({reportType:D().required("Report type is required"),date:Ue().when("reportType",{is:"daily",then:t=>t.required("Date is required")}),action:D().required("Action is required"),month:X().when("reportType",{is:"monthly",then:t=>t.required("Month is required").min(1).max(12)}),year:X().when("reportType",{is:t=>["monthly","quarterly"].includes(t),then:t=>t.required("Year is required").min(2e3).max(2100)}),quarter:X().when("reportType",{is:"quarterly",then:t=>t.required("Quarter is required").min(1).max(4)}),fromDate:Ue().when("reportType",{is:"flexible",then:t=>t.required("From date is required")}),toDate:Ue().when("reportType",{is:"flexible",then:t=>t.required("To date is required").min(xl("fromDate"),"To date must be after from date")}),notedBy:D().when("reportType",{is:"flexible",then:t=>t.required("Noted by is required")})});function w8e({onSubmitCollectionReport:t,activeReportType:e,setActiveReportType:r}){const n={reportType:"daily",action:"",date:"",month:"",year:new Date().getFullYear(),quarter:"",fromDate:"",toDate:"",notedBy:"",documentTypes:{communityTax:!0,marriageCert:!0,burialCert:!0,generalService:!0,propertyTax:!0,marketTicketing:!0}},a=[{value:"daily",label:"Daily Report"},{value:"monthly",label:"Monthly Report"},{value:"quarterly",label:"Quarterly Report"},{value:"flexible",label:"Flexible Report"}],s=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],i=[{value:1,label:"Q1 (Jan - Mar)"},{value:2,label:"Q2 (Apr - Jun)"},{value:3,label:"Q3 (Jul - Sep)"},{value:4,label:"Q4 (Oct - Dec)"}],l=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"auditor",label:"Auditor"},{value:"clerk",label:"Clerk"}],c=(d,f,m,h)=>{switch(e){case"daily":return o.jsx(k,{label:"Date",name:"date",type:"date",required:!0,className:"w-full",onChange:h,value:m.date,error:d.date,touched:f.date});case"monthly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Month",name:"month",type:"select",options:s,value:m.month,onChange:h,required:!0,error:d.month,touched:f.month}),o.jsx(k,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100,value:m.year,onChange:h,error:d.year,touched:f.year})]});case"quarterly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Quarter",name:"quarter",type:"select",options:i,value:m.quarter,onChange:h,required:!0,error:d.quarter,touched:f.quarter}),o.jsx(k,{label:"Year",name:"year",type:"number",required:!0,value:m.year,onChange:h,min:2e3,max:2100,error:d.year,touched:f.year})]});case"flexible":return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"From Date",name:"fromDate",type:"date",required:!0,value:m.fromDate,onChange:h,error:d.fromDate,touched:f.fromDate}),o.jsx(k,{label:"To Date",name:"toDate",type:"date",required:!0,value:m.toDate,onChange:h,error:d.toDate,touched:f.toDate})]}),o.jsx(k,{label:"Noted By",name:"notedBy",type:"select",options:l,required:!0,value:m.notedBy,onChange:h,error:d.notedBy,touched:f.notedBy})]});default:return null}},u=(d,{setSubmitting:f,setErrors:m})=>{try{const h={ctc:d.documentTypes.communityTax?1:0,btc:d.documentTypes.burialCert?1:0,mrc:d.documentTypes.marriageCert?1:0,gsi:d.documentTypes.generalService?1:0,rpt:d.documentTypes.propertyTax?1:0,pmt:d.documentTypes.marketTicketing?1:0};let y={};switch(d.reportType){case"daily":y={date:d.date};break;case"monthly":y={month:d.month,year:d.year};break;case"quarterly":y={quarter:d.quarter,year:d.year};break;case"flexible":y={startdate:d.fromDate,enddate:d.toDate,note:d.notedBy};break;default:throw new Error("Invalid report type")}const p={...h,...y};t({...d,action:d.action,params:p})}catch(h){console.error("Error submitting form:",h),m({submit:h.message})}finally{f(!1)}};return o.jsx(qe,{initialValues:n,validationSchema:j8e,onSubmit:u,children:({values:d,errors:f,touched:m,setFieldValue:h,handleSubmit:y,handleChange:p,setErrors:b,isSubmitting:g})=>o.jsxs(We,{className:"space-y-4",children:[function(){console.log(e,d,f)}(),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.map(v=>o.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors sm:w-auto w-full ${e===v.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{r(v.value),h("reportType",v.value)},children:v.label},v.value))}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:c(f,m,d,p)}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Types"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{name:"communityTax",label:"Community Tax Certificate"},{name:"marriageCert",label:"Marriage Certificate"},{name:"burialCert",label:"Burial Certificate"},{name:"generalService",label:"General Service Invoice"},{name:"propertyTax",label:"Real Property Tax invoice"},{name:"marketTicketing",label:"Public Market Ticketing"}].map(v=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`document-${v.name}`,name:`documentTypes.${v.name}`,checked:d.documentTypes[v.name],onChange:j=>{h(`documentTypes.${v.name}`,j.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:`document-${v.name}`,className:"ml-2 block text-sm text-gray-700",children:v.label})]},v.name))})]}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 gap-4 sm:flex-row flex-col",children:[o.jsx("button",{type:"button",onClick:()=>{h("action","view"),y(),b({})},className:"btn btn-primary sm:w-auto w-full",children:"View"}),o.jsx("button",{type:"button",onClick:()=>{h("action","generate"),y()},className:"btn btn-secondary sm:w-auto w-full",children:"Generate Journal"}),o.jsx("button",{type:"button",onClick:()=>{h("action","export"),y()},className:"btn btn-outline sm:w-auto w-full",children:"Export to Excel"})]})]})})}const b9="https://staging-engine.testthelink.online",N8e=async(t,e)=>{try{const r=localStorage.getItem("token");let n=`${b9}/collectionreport/${t}?`;const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":a.append("date",e.date);break;case"monthly":a.append("month",e.month),a.append("year",e.year);break;case"quarterly":a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":a.append("startdate",e.startDate),a.append("enddate",e.endDate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}n+=a.toString();const s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),i=await s.json();if(!s.ok)throw new Error(i.message||"Failed to fetch report");return i}catch(r){throw console.error(`Error fetching ${t} report:`,r),r}},C8e=async(t,e)=>{try{const r=localStorage.getItem("token");let n="";const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":n="/collectionreport/dailyExcel",a.append("date",e.date);break;case"monthly":n="/collectionreport/monthlyExcel",a.append("month",e.month),a.append("year",e.year);break;case"quarterly":n="/collectionreport/quarterlyExcel",a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":n="/collectionreport/flexibleExcel",a.append("startdate",e.startdate),a.append("enddate",e.enddate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}const s=`${b9}${n}?${a.toString()}`,i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!i.ok){const h=await i.json();throw new Error(h.message||"Failed to export report")}const l=await i.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c;const d=new Date,f=`${d.getFullYear()}${(d.getMonth()+1).toString().padStart(2,"0")}${d.getDate().toString().padStart(2,"0")}_${d.getHours()}${d.getMinutes()}`;let m="";switch(t){case"daily":m=`Daily_Report_${e.date.replace(/-/g,"")}_${f}.xlsx`;break;case"monthly":m=`Monthly_Report_${e.year}${e.month.toString().padStart(2,"0")}_${f}.xlsx`;break;case"quarterly":m=`Quarterly_Report_Q${e.quarter}_${e.year}_${f}.xlsx`;break;case"flexible":m=`Custom_Report_${e.startdate.replace(/-/g,"")}_to_${e.enddate.replace(/-/g,"")}_${f}.xlsx`;break}u.setAttribute("download",m),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(c)}catch(r){throw console.error(`Error exporting ${t} report:`,r),r}},x9=w.forwardRef(({type:t,data:e},r)=>o.jsxs("div",{ref:r,className:"p-6 text-black text-sm",children:[t==="daily"&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-center",children:"Republic of the Philippines"}),o.jsx("h3",{className:"text-lg text-center",children:"DAILY COLLECTION REPORT"}),o.jsxs("table",{className:"w-full border mt-6",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"border p-2",children:"OR Date"}),o.jsx("th",{className:"border p-2",children:"OR No"}),o.jsx("th",{className:"border p-2",children:"Payor"}),o.jsx("th",{className:"border p-2",children:"Amount"}),o.jsx("th",{className:"border p-2",children:"Posted By"})]})}),o.jsx("tbody",{children:e.map((n,a)=>{var s;return o.jsxs("tr",{children:[o.jsx("td",{className:"border p-2",children:n.ORDate}),o.jsx("td",{className:"border p-2",children:n.ORNo}),o.jsx("td",{className:"border p-2",children:n.Payor}),o.jsx("td",{className:"border p-2 text-right",children:(s=n.Amount)==null?void 0:s.toLocaleString("en-US",{style:"currency",currency:"PHP"})}),o.jsx("td",{className:"border p-2",children:n.PostedBy})]},a)})})]}),o.jsxs("div",{className:"mt-6 flex justify-between",children:[o.jsx("p",{children:"Prepared By: __________"}),o.jsx("p",{children:"Noted By: __________"})]})]}),t==="monthly"&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-center",children:"MONTHLY COLLECTION SUMMARY"}),o.jsxs("table",{className:"w-full border mt-6",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"border p-2",children:"Month"}),o.jsx("th",{className:"border p-2",children:"Year"}),o.jsx("th",{className:"border p-2",children:"Charge Account"}),o.jsx("th",{className:"border p-2",children:"Expense Name"}),o.jsx("th",{className:"border p-2",children:"Amount"}),o.jsx("th",{className:"border p-2",children:"Date Range"}),o.jsx("th",{className:"border p-2",children:"Processed By"}),o.jsx("th",{className:"border p-2",children:"Position"})]})}),o.jsx("tbody",{children:e.map((n,a)=>{var s;return o.jsxs("tr",{children:[o.jsx("td",{className:"border p-2",children:n.Month}),o.jsx("td",{className:"border p-2",children:n.Year}),o.jsx("td",{className:"border p-2",children:n.ChargeAccountID}),o.jsx("td",{className:"border p-2",children:n.Name}),o.jsx("td",{className:"border p-2 text-right",children:(s=n.SubTotal)==null?void 0:s.toLocaleString("en-US",{style:"currency",currency:"PHP"})}),o.jsxs("td",{className:"border p-2",children:[n.Date1," to ",n.Date2]}),o.jsx("td",{className:"border p-2",children:n.FullName}),o.jsx("td",{className:"border p-2",children:n.Position})]},a)})})]})]}),t==="quarterly"&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-center",children:"QUARTERLY COLLECTION SUMMARY"}),o.jsxs("table",{className:"w-full border mt-6",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"border p-2",children:"Quarter"}),o.jsx("th",{className:"border p-2",children:"Year"}),o.jsx("th",{className:"border p-2",children:"Charge Account"}),o.jsx("th",{className:"border p-2",children:"Expense Name"}),o.jsx("th",{className:"border p-2",children:"Fund Name"}),o.jsx("th",{className:"border p-2",children:"Breakdown"}),o.jsx("th",{className:"border p-2",children:"Total"}),o.jsx("th",{className:"border p-2",children:"Processed By"})]})}),o.jsx("tbody",{children:e.map((n,a)=>{var s;return o.jsxs("tr",{children:[o.jsx("td",{className:"border p-2",children:n.Quarter}),o.jsx("td",{className:"border p-2",children:n.Year}),o.jsx("td",{className:"border p-2",children:n.ChargeAccountID}),o.jsx("td",{className:"border p-2",children:n.Name}),o.jsx("td",{className:"border p-2",children:n.FundName}),o.jsxs("td",{className:"border p-2",children:["Q1: ",n.First," | Q2: ",n.Second," | Q3: ",n.Third]}),o.jsx("td",{className:"border p-2 text-right",children:(s=n.Total)==null?void 0:s.toLocaleString("en-US",{style:"currency",currency:"PHP"})}),o.jsx("td",{className:"border p-2",children:n.FullName})]},a)})})]})]}),t==="flexible"&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-center",children:"FLEXIBLE COLLECTION REPORT"}),o.jsxs("table",{className:"w-full border mt-6",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"border p-2",children:"Date Range"}),o.jsx("th",{className:"border p-2",children:"Invoice #"}),o.jsx("th",{className:"border p-2",children:"Customer"}),o.jsx("th",{className:"border p-2",children:"Municipality"}),o.jsx("th",{className:"border p-2",children:"Province"}),o.jsx("th",{className:"border p-2",children:"Amount"}),o.jsx("th",{className:"border p-2",children:"Processed By"}),o.jsx("th",{className:"border p-2",children:"Noted By"}),o.jsx("th",{className:"border p-2",children:"Remarks"})]})}),o.jsx("tbody",{children:e.map((n,a)=>{var s;return o.jsxs("tr",{children:[o.jsxs("td",{className:"border p-2",children:[n.StartDate," to ",n.EndDate]}),o.jsx("td",{className:"border p-2",children:n.InvoiceNumber}),o.jsx("td",{className:"border p-2",children:n.CustomerName}),o.jsx("td",{className:"border p-2",children:n.Municipality}),o.jsx("td",{className:"border p-2",children:n.Province}),o.jsx("td",{className:"border p-2 text-right",children:(s=n.Total)==null?void 0:s.toLocaleString("en-US",{style:"currency",currency:"PHP"})}),o.jsxs("td",{className:"border p-2",children:[n.Prepare," (",n.PreparePosition,")"]}),o.jsxs("td",{className:"border p-2",children:[n.Poster," (",n.NotedPosition,")"]}),o.jsx("td",{className:"border p-2",children:n.Note})]},a)})})]})]})]}));x9.displayName="CollectionReportPrintView";function S8e(){const[t,e]=w.useState({daily:[],monthly:[],quarterly:[],flexible:[]}),[r,n]=w.useState("daily"),[a,s]=w.useState(!1),i=w.useRef(),l=ra.useReactToPrint({contentRef:i,documentTitle:`CollectionReport-${r}`}),c=async d=>{s(!0);try{switch(d.action){case"view":const f=await N8e(d.reportType,d.params);e(m=>({...m,[d.reportType]:f})),n(d.reportType);break;case"generate":if(n(d.reportType),!t[d.reportType]||t[d.reportType].length===0){z.error("Please view the report before generating.");break}l();break;case"export":await C8e(d.reportType,d.params);break;default:break}}catch(f){console.error("Error handling collection report action:",f),z.error("Failed to handle collection report action.")}finally{s(!1)}},u={daily:[{key:"ChargeAccountID",header:"Charge Account ID",render:d=>d||"-"},{key:"FundsID",header:"Funds ID",render:d=>d||"-"},{key:"Name",header:"Name",render:d=>d||"-"},{key:"Account",header:"Account",render:d=>d||"-"},{key:"SubTotal",header:"Sub-Total",render:d=>d.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{key:"Date",header:"Date",render:d=>new Date(d).toLocaleDateString()},{key:"FullName",header:"Full Name",render:d=>d||"-"},{key:"Position",header:"Position",render:d=>d||"-"}],monthly:[{key:"Month",header:"Month"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"SubTotal",header:"Amount",render:d=>(d==null?void 0:d.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"DateRange",header:"Date Range",render:(d,f)=>`${f.Date1} to ${f.Date2}`},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"},{key:"ChartOfAccounts",header:"Chart of Accounts"}],quarterly:[{key:"Quarter",header:"Quarter"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"FundName",header:"Fund Name"},{key:"QuarterlyBreakdown",header:"Quarterly Breakdown",render:(d,f)=>`Q1: ${f.First} | Q2: ${f.Second} | Q3: ${f.Third}`},{key:"Total",header:"Total",render:d=>(d==null?void 0:d.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"}],flexible:[{key:"DateRange",header:"Date Range",render:(d,f)=>`${f.StartDate} to ${f.EndDate}`},{key:"InvoiceNumber",header:"Invoice #"},{key:"CustomerName",header:"Customer"},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Total",header:"Amount",render:d=>(d==null?void 0:d.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"ProcessedBy",header:"Processed By",render:(d,f)=>`${f.Prepare} (${f.PreparePosition})`},{key:"NotedBy",header:"Noted By",render:(d,f)=>`${f.Poster} (${f.NotedPosition})`},{key:"Note",header:"Remarks"}]};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Collection Report"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:o.jsx(w8e,{onSubmitCollectionReport:c,activeReportType:r,setActiveReportType:n})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(xe,{columns:u[r],data:t[r],loading:a,emptyMessage:"No collection entries found for the selected date."})}),o.jsx("div",{style:{display:"none"},children:o.jsx(x9,{ref:i,type:r,data:t[r]})})]})}const A8e=ce().shape({StartDate:Ue().required("From Date is required").max(xl("EndDate"),"From Date must be before or equal to To Date"),EndDate:Ue().required("To Date is required").min(xl("StartDate"),"To Date must be after or equal to From Date"),fund:D().required("Fund is required")});function I8e({onSubmit:t}){const e={StartDate:"",EndDate:"",fund:""},{funds:r}=H(i=>i.funds),n=de();w.useEffect(()=>{n(er())},[n]);const a=[{value:"all",label:"All Funds"},...(r==null?void 0:r.map(i=>({value:i.ID,label:i.Name})))||[]],s=(i,{setSubmitting:l})=>{const c={...i,FundID:i.fund==="all"?"%":i.fund};delete c.fund,t(c),l(!1)};return o.jsx(qe,{initialValues:e,validationSchema:A8e,onSubmit:s,children:({values:i,errors:l,touched:c,handleSubmit:u,setFieldValue:d,handleChange:f})=>o.jsxs(We,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(k,{label:"From Date",name:"StartDate",type:"date",required:!0,value:i.StartDate,onChange:f,error:l.StartDate,touched:c.StartDate}),o.jsx(k,{label:"To Date",name:"EndDate",type:"date",required:!0,value:i.EndDate,onChange:f,error:l.EndDate,touched:c.EndDate}),o.jsx(k,{label:"Fund",name:"fund",type:"select",required:!0,value:i.fund,onChange:f,error:l.fund,touched:c.fund,options:a})]}),o.jsxs("div",{className:"flex justify-end  max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",onClick:()=>d("action","view"),className:"btn btn-primary",children:"View"}),o.jsx("button",{type:"submit",onClick:()=>d("action","generate"),className:"btn btn-secondary",children:"Generate Cashbook"}),o.jsx("button",{type:"submit",onClick:()=>d("action","export"),className:"btn btn-outline",children:"Export to Excel"})]})]})})}const v9="https://staging-engine.testthelink.online",k8e=async t=>{try{const e=localStorage.getItem("token"),r=`${v9}/cashbook/view`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch cashbook data");return a}catch(e){throw console.error("Error fetching cashbook:",e),e}},T8e=async t=>{try{const e=localStorage.getItem("token"),r=`${v9}/cashbook/exportExcel`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})});if(!n.ok){const m=await n.json();throw new Error(m.message||"Failed to export cashbook")}const a=await n.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s;const l=t.StartDate.replace(/-/g,""),c=t.EndDate.replace(/-/g,""),u=new Date,d=`${u.getFullYear()}${(u.getMonth()+1).toString().padStart(2,"0")}${u.getDate().toString().padStart(2,"0")}_${u.getHours()}${u.getMinutes()}`,f=`Cashbook_${l}_to_${c}_${d}.xlsx`;i.setAttribute("download",f),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}catch(e){throw console.error("Error exporting cashbook:",e),e}},j9=w.forwardRef(({data:t},e)=>{var r,n;return o.jsxs("div",{ref:e,className:"p-8 w-full text-black",style:{fontFamily:"Arial, sans-serif"},children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Cashbook Report"}),o.jsxs("p",{children:[t==null?void 0:t.StartDate," - ",t==null?void 0:t.EndDate]}),o.jsxs("p",{children:["Fund: ",(t==null?void 0:t.FundName)||"All Funds"]})]}),o.jsxs("table",{className:"w-full text-sm border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-1",children:"Year"}),o.jsx("th",{className:"text-left py-1",children:"Officer"}),o.jsx("th",{className:"text-left py-1",children:"Fund"}),o.jsx("th",{className:"text-left py-1",children:"Invoice Date"}),o.jsx("th",{className:"text-left py-1",children:"AP AR"}),o.jsx("th",{className:"text-left py-1",children:"Invoice Number"}),o.jsx("th",{className:"text-right py-1",children:"Debit"}),o.jsx("th",{className:"text-right py-1",children:"Credit"}),o.jsx("th",{className:"text-right py-1",children:"Balance"})]})}),o.jsx("tbody",{children:t.map((a,s)=>{var i,l,c;return o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-1",children:a.Year||"-"}),o.jsx("td",{className:"py-1",children:a.Officer||"-"}),o.jsx("td",{className:"py-1",children:a.Fund||"-"}),o.jsx("td",{className:"py-1",children:a.InvoiceDate?new Date(a.InvoiceDate).toLocaleDateString():"-"}),o.jsx("td",{className:"py-1",children:a.APAR||"-"}),o.jsx("td",{className:"py-1",children:a.InvoiceNumber||"-"}),o.jsx("td",{className:"py-1 text-right",children:((i=a.Debit)==null?void 0:i.toLocaleString("en-PH",{style:"currency",currency:"PHP"}))||"0.00"}),o.jsx("td",{className:"py-1 text-right",children:((l=a.Credit)==null?void 0:l.toLocaleString("en-PH",{style:"currency",currency:"PHP"}))||"0.00"}),o.jsx("td",{className:"py-1 text-right",children:((c=a.Balance)==null?void 0:c.toLocaleString("en-PH",{style:"currency",currency:"PHP"}))||"0.00"})]},s)})})]}),o.jsxs("div",{className:"mt-6 text-right font-bold",children:["Total Balance:"," ",((n=(r=t[t.length-1])==null?void 0:r.Balance)==null?void 0:n.toLocaleString("en-PH",{style:"currency",currency:"PHP"}))||"0.00"]})]})});j9.displayName="CashbookPrintView";function P8e(){const[t,e]=w.useState([]),[r,n]=w.useState(!1),a=w.useRef(),s=ra.useReactToPrint({contentRef:a,documentTitle:"Cashbook Report"}),i=async c=>{n(!0);const{action:u,...d}=c;try{switch(u){case"view":const f=await k8e(d);e(f);break;case"generate":if(t.length===0){z.error("Please view the report before generating.");break}s();break;case"export":await T8e(d);break;default:break}}catch(f){console.error("Error handling cashbook action:",f)}finally{n(!1)}},l=[{key:"Year",header:"Year",render:c=>c||"-"},{key:"Officer",header:"Officer",render:c=>c||"-"},{key:"Fund",header:"Fund",render:c=>c||"-"},{key:"InvoiceDate",header:"Invoice Date",render:c=>c?new Date(c).toLocaleDateString():"-"},{key:"APAR",header:"AP AR",render:c=>c||"-"},{key:"InvoiceNumber",header:"Invoice Number",render:c=>c||"-"},{key:"Debit",header:"Debit",render:c=>c?c.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Credit",header:"Credit",render:c=>c?c.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Balance",header:"Balance",render:c=>c?c.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cashbook"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:o.jsx(I8e,{onSubmit:i})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(xe,{columns:l,data:t,loading:r,emptyMessage:"No cashbook entries found for the selected date range."})}),o.jsx("div",{style:{display:"none"},children:o.jsx(j9,{ref:a,data:t})})]})}function E8e(){const{isAuthenticated:t,isLoading:e}=H(a=>a.auth),r=de(),n=Xo();return w.useEffect(()=>{const a=localStorage.getItem("token");a&&r(Jp(a))},[r]),w.useEffect(()=>{},[n.pathname]),e?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx(hJ,{position:"top-right"}),o.jsxs(gY,{children:[o.jsxs(he,{element:o.jsx(QZ,{}),children:[o.jsx(he,{path:"/login",element:t?o.jsx(ed,{to:"/",replace:!0}):o.jsx(kae,{})}),o.jsx(he,{path:"/register",element:t?o.jsx(ed,{to:"/",replace:!0}):o.jsx(Tae,{})}),o.jsx(he,{path:"/forgot-password",element:t?o.jsx(ed,{to:"/",replace:!0}):o.jsx(Pae,{})}),o.jsx(he,{path:"/reset-password",element:t?o.jsx(ed,{to:"/",replace:!0}):o.jsx(Eae,{})})]}),o.jsxs(he,{element:o.jsx(XZ,{}),children:[o.jsx(he,{path:"/dashboard",element:o.jsx(qce,{})}),o.jsx(he,{path:"/profile",element:o.jsx(zve,{})}),o.jsx(he,{path:"/budget-dashboard",element:o.jsx(j7e,{})}),o.jsx(he,{path:"/disbursement-dashboard",element:o.jsx(w7e,{})}),o.jsx(he,{path:"/collection-dashboard",element:o.jsx(N7e,{})}),o.jsx(he,{path:"/settings/departments",element:o.jsx(ade,{})}),o.jsx(he,{path:"/settings/customer",element:o.jsx(Rpe,{})}),o.jsx(he,{path:"/settings/lgu-maintenance",element:o.jsx(s1e,{})}),o.jsx(he,{path:"/settings/subdepartments",element:o.jsx(Nde,{})}),o.jsx(he,{path:"/settings/modules",element:o.jsx(Cme,{})}),o.jsx(he,{path:"/settings/users",element:o.jsx(_de,{})}),o.jsx(he,{path:"/settings/user-roles",element:o.jsx(Vme,{})}),o.jsx(he,{path:"/settings/user-access",element:o.jsx(D1e,{})}),o.jsx(he,{path:"/settings/chart-of-accounts",element:o.jsx(kfe,{})}),o.jsx(he,{path:"/settings/account-group",element:o.jsx(Pfe,{})}),o.jsx(he,{path:"/settings/major-account-group",element:o.jsx(Dfe,{})}),o.jsx(he,{path:"/settings/sub-major-account-group",element:o.jsx(_fe,{})}),o.jsx(he,{path:"/settings/vendors",element:o.jsx(fme,{})}),o.jsx(he,{path:"/settings/vendor-customer-type",element:o.jsx(yme,{})}),o.jsx(he,{path:"/settings/vendor-type",element:o.jsx(xme,{})}),o.jsx(he,{path:"/settings/employees",element:o.jsx($me,{})}),o.jsx(he,{path:"/settings/employmentStatus",element:o.jsx(Lme,{})}),o.jsx(he,{path:"/settings/positions",element:o.jsx(Bme,{})}),o.jsx(he,{path:"/settings/nationalities",element:o.jsx(zme,{})}),o.jsx(he,{path:"/settings/locations",element:o.jsx(Yme,{})}),o.jsx(he,{path:"/settings/ppe",element:o.jsx(che,{})}),o.jsx(he,{path:"/settings/ppe-categories",element:o.jsx(dhe,{})}),o.jsx(he,{path:"/settings/ppe-suppliers",element:o.jsx(mhe,{})}),o.jsx(he,{path:"/settings/approval-matrix",element:o.jsx(Nhe,{})}),o.jsx(he,{path:"/settings/bank",element:o.jsx(The,{})}),o.jsx(he,{path:"/settings/currency",element:o.jsx(cde,{})}),o.jsx(he,{path:"/settings/document-details",element:o.jsx(Rhe,{})}),o.jsx(he,{path:"/settings/document-type-categories",element:o.jsx(Mhe,{})}),o.jsx(he,{path:"/settings/items",element:o.jsx(Whe,{})}),o.jsx(he,{path:"/settings/items/units",element:o.jsx(Zhe,{})}),o.jsx(he,{path:"/settings/project-type",element:o.jsx(ape,{})}),o.jsx(he,{path:"/settings/financial-statement",element:o.jsx(hpe,{})}),o.jsx(he,{path:"/settings/fiscal-year",element:o.jsx(xpe,{})}),o.jsx(he,{path:"/settings/tax-code",element:o.jsx(wpe,{})}),o.jsx(he,{path:"/settings/mode-of-payment",element:o.jsx(Cpe,{})}),o.jsx(he,{path:"/settings/payment-terms",element:o.jsx(Ape,{})}),o.jsx(he,{path:"/settings/industry",element:o.jsx(kpe,{})}),o.jsx(he,{path:"/settings/project-details",element:o.jsx(cpe,{})}),o.jsx(he,{path:"/settings/tax-declaration",element:o.jsx(Wpe,{})}),o.jsx(he,{path:"/settings/base-unit-value",element:o.jsx(Oye,{})}),o.jsx(he,{path:"/settings/general-revision",element:o.jsx(Gpe,{})}),o.jsx(he,{path:"/disbursement/obligation-requests",element:o.jsx(Wve,{})}),o.jsx(he,{path:"/disbursement/vouchers",element:o.jsx(Xve,{})}),o.jsx(he,{path:"/disbursement/travel-orders",element:o.jsx(nje,{})}),o.jsx(he,{path:"/disbursement/journal-entry-vouchers",element:o.jsx(cje,{})}),o.jsx(he,{path:"/disbursement/disbursement-journals",element:o.jsx(pje,{})}),o.jsx(he,{path:"/disbursement/general-journals",element:o.jsx(jje,{})}),o.jsx(he,{path:"/disbursement/beginning-balance",element:o.jsx(kje,{})}),o.jsx(he,{path:"/disbursement/purchase-requests",element:o.jsx(Rje,{})}),o.jsx(he,{path:"/disbursement/fund-utilization-requests",element:o.jsx(Vje,{})}),o.jsx(he,{path:"/collections/community-tax",element:o.jsx(Gje,{})}),o.jsx(he,{path:"/collections/community-tax-corporation",element:o.jsx(Qje,{})}),o.jsx(he,{path:"/collections/real-property-tax",element:o.jsx(_7e,{})}),o.jsx(he,{path:"/collections/market",element:o.jsx(Zje,{})}),o.jsx(he,{path:"/collections/general-service-receipts",element:o.jsx(T7e,{})}),o.jsx(he,{path:"/collections/burial-service-receipts",element:o.jsx(swe,{})}),o.jsx(he,{path:"/collections/marriage-service-receipts",element:o.jsx(fwe,{})}),o.jsx(he,{path:"/collections/cashbook",element:o.jsx(P8e,{})}),o.jsx(he,{path:"/collections/reports",element:o.jsx(S8e,{})}),o.jsx(he,{path:"/collections/public-market-tickets",element:o.jsx(BNe,{})}),o.jsx(he,{path:"/budget",element:o.jsx(QNe,{})}),o.jsx(he,{path:"/budget/allotment",element:o.jsx(z7e,{})}),o.jsx(he,{path:"/budget/details",element:o.jsx(H7e,{})}),o.jsx(he,{path:"/budget/new",element:o.jsx(YNe,{})}),o.jsx(he,{path:"/budget/summary",element:o.jsx(G7e,{})}),o.jsx(he,{path:"/budget/supplemental",element:o.jsx(Q7e,{})}),o.jsx(he,{path:"/budget/transfer",element:o.jsx(a8e,{})}),o.jsx(he,{path:"/budget/report",element:o.jsx(N$,{})}),o.jsx(he,{path:"/budget/funds",element:o.jsx(i8e,{})}),o.jsx(he,{path:"/budget/sub-funds",element:o.jsx(h8e,{})}),o.jsx(he,{path:"/budget/fund-transfer",element:o.jsx(v8e,{})}),o.jsx(he,{path:"/budget/statement-comparison",element:o.jsx(a1e,{})}),o.jsx(he,{path:"/budget/statement-appropriation",element:o.jsx(c8e,{})}),o.jsx(he,{path:"/applications/business-permits",element:o.jsx(i1e,{})}),o.jsx(he,{path:"/applications/cheque-generator",element:o.jsx(u1e,{})}),o.jsx(he,{path:"/reports/general-ledger",element:o.jsx(b1e,{})}),o.jsx(he,{path:"/reports/subsidiary-ledger",element:o.jsx(C1e,{})}),o.jsx(he,{path:"/reports/financial-statements",element:o.jsx(P1e,{})}),o.jsx(he,{path:"/reports/budget",element:o.jsx(N$,{})}),o.jsx(he,{path:"/reports/bir",element:o.jsx(E1e,{})}),o.jsx(he,{path:"/reports/trial-balance",element:o.jsx(B7e,{})}),o.jsx(he,{path:"/change-password",element:o.jsx(O1e,{})})]}),o.jsx(he,{path:"/",element:o.jsx(ed,{to:"/dashboard\\",replace:!0})}),o.jsx(he,{path:"*",element:o.jsx(Vce,{})})]})]})}const w9=[{id:1,vendorCode:"V001",vendorName:"ABC Office Supplies",address:"123 Main St., City",contactPerson:"John Smith",contactNumber:"09123456789",email:"abc@example.com",tin:"123-456-789-000",category:"Office Supplies",accreditationDate:"2024-01-01",accreditationExpiry:"2025-01-01",bankAccount:"1234-5678-9012",bankName:"Sample Bank",status:"Active"}],D8e={vendors:w9,vendor:null,isLoading:!1,error:null},IC=U("vendors/fetchVendors",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(w9)},500)})}catch(r){return e.rejectWithValue(r.message)}}),kC=U("vendors/addVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),vendorCode:`V${String(Math.floor(Math.random()*900)+100)}`};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),TC=U("vendors/updateVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),N9=we({name:"vendors",initialState:D8e,reducers:{setVendor:(t,e)=>{t.vendor=e.payload},resetVendorState:t=>{t.vendor=null,t.error=null}},extraReducers:t=>{t.addCase(IC.pending,e=>{e.isLoading=!0}).addCase(IC.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors=r.payload,e.error=null}).addCase(IC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(kC.pending,e=>{e.isLoading=!0}).addCase(kC.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors.push(r.payload),e.error=null}).addCase(kC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(TC.pending,e=>{e.isLoading=!0}).addCase(TC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendors.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.vendors[n]=r.payload),e.error=null}).addCase(TC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setVendor:J9e,resetVendorState:X9e}=N9.actions,O8e=N9.reducer,_8e="https://staging-engine.testthelink.online",R8e={chart1:{title:"Budget vs Charges",data:[{name:"Budget Amount",value:5e5},{name:"Charges",value:3e5}]},chart2:{title:"PreEncumbrance, Encumbrance & Charges",data:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:15e4},{name:"Charges",value:5e4}]},table:[{label:"Accounts Payable (AP)",total:25e4},{label:"Accounts Receivable (AR)",total:18e4}]},PC=U("budgetDashboard/fetchBudgetData",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_8e}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),$8e=we({name:"budgetDashboard",initialState:{budgetData:{chart1:null,chart2:null,table:[]},isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(PC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(PC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgetData={chart1:r.payload.chart1,chart2:r.payload.chart2,table:Array.isArray(r.payload.table)?r.payload.table:[]}}).addCase(PC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to fetch budget data",console.warn("Failed to fetch budget data, using mock data.",e.error),e.budgetData=R8e})}}),M8e=$8e.reducer,EC=U("generalServiceReceipts/fetchGeneralServiceReceipts",async()=>(await Ze.get("/api/general-service-receipts")).data),DC=U("generalServiceReceipts/createGeneralServiceReceipt",async t=>(await Ze.post("/api/general-service-receipts",t)).data),OC=U("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e})=>(await Ze.put(`/api/general-service-receipts/${t}`,e)).data),_C=U("generalServiceReceipts/deleteGeneralServiceReceipt",async t=>(await Ze.delete(`/api/general-service-receipts/${t}`),t)),RC=U("generalServiceReceipts/getGeneralServiceReceiptCurrentNumber",async()=>(await Ze.get("/api/general-service-receipts/getCurrentNumber")).data),L8e={receipts:[],currentNumber:null,loading:!1,error:null},C9=we({name:"generalServiceReceipts",initialState:L8e,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(EC.pending,e=>{e.loading=!0,e.error=null}).addCase(EC.fulfilled,(e,r)=>{e.loading=!1,e.receipts=r.payload}).addCase(EC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(DC.pending,e=>{e.loading=!0,e.error=null}).addCase(DC.fulfilled,(e,r)=>{e.loading=!1,e.receipts.push(r.payload)}).addCase(DC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(OC.pending,e=>{e.loading=!0,e.error=null}).addCase(OC.fulfilled,(e,r)=>{e.loading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.receipts[n]=r.payload)}).addCase(OC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(_C.pending,e=>{e.loading=!0,e.error=null}).addCase(_C.fulfilled,(e,r)=>{e.loading=!1,e.receipts=e.receipts.filter(n=>n.id!==r.payload)}).addCase(_C.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(RC.pending,e=>{e.loading=!0,e.error=null}).addCase(RC.fulfilled,(e,r)=>{e.loading=!1,e.currentNumber=r.payload}).addCase(RC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{clearError:Q9e}=C9.actions,F8e=C9.reducer,B8e=QY({reducer:{auth:CK,departments:nde,currencies:ide,subdepartments:fde,users:Ade,chartOfAccounts:Mde,accountGroups:Bde,majorAccountGroups:Ude,subMajorAccountGroups:Hde,vendors:O8e,employees:Tde,obligationRequests:Nve,fundUtilizations:Lje,disbursementVouchers:Gve,travelOrders:rje,ppes:she,ppeCategories:Xme,ppeSuppliers:ehe,approvalMatrix:whe,banks:Ahe,documentDetails:ghe,documentTypeCategories:_he,items:Bhe,invoiceChargeAccounts:Xhe,itemUnits:Uhe,projectDetails:lpe,projectTypes:npe,financialStatements:mpe,fiscalYears:bpe,taxCodes:sme,modeOfPayments:dme,paymentTerms:lme,industries:rme,employmentStatuses:Pme,positions:Ime,userroles:Dde,nationalities:Ome,vendorCustomerTypes:gme,vendorTypes:Zfe,journalEntries:lje,purchaseRequests:_je,taxDeclarations:qpe,baseUnits:Dye,regions:qfe,provinces:zfe,municipalities:Gfe,barangays:Jfe,generalRevisions:zpe,modules:Nme,generalServiceReceipts:F8e,disbursementJournal:hje,beginningBalance:Cje,generalJournal:vje,generalLedger:g1e,trialBalance:F7e,statementComparison:n1e,subsidiaryLedger:N1e,financialStatementsReports:T1e,fundTransfer:x8e,budgetTransfer:n8e,budget:Eve,subFunds:XNe,funds:kve,budgetDashboard:M8e,vendorDetails:Lfe,burialRecords:awe,marriageRecords:dwe,publicMarketTicketing:$Ne,communityTax:Wje,corporateCommunityTax:Jje,generalReceipts:S7e,realPropertyTax:Aye,customers:_pe},middleware:t=>t({serializableCheck:!1})});MC.createRoot(document.getElementById("root")).render(o.jsx(G.StrictMode,{children:o.jsx(xG,{store:B8e,children:o.jsx(NY,{children:o.jsx(E8e,{})})})}))});export default q8e();
